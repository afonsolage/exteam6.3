; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\OffExp.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?OffExp@@3VcOffExp@@A				; OffExp
_BSS	SEGMENT
?OffExp@@3VcOffExp@@A DB 034H DUP (?)			; OffExp
_BSS	ENDS
_DATA	SEGMENT
_g_iNpcUpDfLevel_CGATE DD 01H
	DD	02H
	DD	02dc6c0H
	DD	02H
	DD	03H
	DD	02dc6c0H
	DD	03H
	DD	04H
	DD	02dc6c0H
_g_iNpcUpDfLevel_CSTATUE DD 01H
	DD	03H
	DD	02dc6c0H
	DD	02H
	DD	05H
	DD	02dc6c0H
	DD	03H
	DD	07H
	DD	02dc6c0H
_g_iNpcUpMaxHP_CGATE DD 02625a0H
	DD	02H
	DD	0f4240H
	DD	03567e0H
	DD	03H
	DD	0f4240H
	DD	04f5880H
	DD	04H
	DD	0f4240H
_g_iNpcUpMaxHP_CSTATUE DD 02191c0H
	DD	03H
	DD	0f4240H
	DD	033e140H
	DD	05H
	DD	0f4240H
	DD	04c4b40H
	DD	07H
	DD	0f4240H
_g_iNpcUpRgLevel_CSTATUE DD 01H
	DD	03H
	DD	04c4b40H
	DD	02H
	DD	05H
	DD	04c4b40H
	DD	03H
	DD	07H
	DD	04c4b40H
_g_iCsUserReSpawnArea DD 023H
	DD	011H
	DD	090H
	DD	030H
	DD	04aH
	DD	090H
	DD	073H
	DD	09aH
	DD	023H
	DD	011H
	DD	090H
	DD	030H
_g_iNpcDefense_CGATE DD 064H
	DD	0b4H
	DD	012cH
	DD	0208H
_g_iNpcDefense_CSTATUE DD 050H
	DD	0b4H
	DD	0154H
	DD	0226H
_g_iCastleWallStepAxisY DD 071H
	DD	0a0H
	DD	0cbH
_DATA	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	83 e8 01	 sub	 eax, 1
  0000f	89 45 10	 mov	 DWORD PTR ___n$[ebp], eax
  00012	78 11		 js	 SHORT $LN3@vector
  00014	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00017	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  0001a	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  0001d	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  00020	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  00023	eb e4		 jmp	 SHORT $LN2@vector
$LN3@vector:
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	??_C@_09BADGNAEJ@TickPrice?$AA@			; `string'
PUBLIC	??_C@_0O@GIOBNCDJ@TickPriceType?$AA@		; `string'
PUBLIC	??_C@_0M@ILNEHGIB@TickTimeMin?$AA@		; `string'
PUBLIC	??_C@_0BA@CADDNINH@TickPriceEnable?$AA@		; `string'
PUBLIC	??_C@_0M@JIHMJIMC@PriceGoblin?$AA@		; `string'
PUBLIC	??_C@_0M@EAIPIDK@PriceWCoinP?$AA@		; `string'
PUBLIC	??_C@_0M@GFOHLJKI@PriceWCoinC?$AA@		; `string'
PUBLIC	??_C@_0M@BEMCKDLA@PriceCredit?$AA@		; `string'
PUBLIC	??_C@_08FFJPBABB@PriceZen?$AA@			; `string'
PUBLIC	??_C@_04OKOFBOPB@Time?$AA@			; `string'
PUBLIC	??_C@_0L@OCIIFDDH@EnableTime?$AA@		; `string'
PUBLIC	??_C@_0L@NIKPPPCH@KickFallen?$AA@		; `string'
PUBLIC	??_C@_06POMJKEPM@Common?$AA@			; `string'
PUBLIC	??_C@_06CKGENIKG@Enable?$AA@			; `string'
PUBLIC	??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@ ; `string'
PUBLIC	?LoadConfig@cOffExp@@QAEXXZ			; cOffExp::LoadConfig
EXTRN	__imp__GetPrivateProfileIntA@16:PROC
;	COMDAT ??_C@_09BADGNAEJ@TickPrice?$AA@
; File d:\projects\exteam6.3\source\gameserver\gameserver\offexp.cpp
CONST	SEGMENT
??_C@_09BADGNAEJ@TickPrice?$AA@ DB 'TickPrice', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@GIOBNCDJ@TickPriceType?$AA@
CONST	SEGMENT
??_C@_0O@GIOBNCDJ@TickPriceType?$AA@ DB 'TickPriceType', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@ILNEHGIB@TickTimeMin?$AA@
CONST	SEGMENT
??_C@_0M@ILNEHGIB@TickTimeMin?$AA@ DB 'TickTimeMin', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@CADDNINH@TickPriceEnable?$AA@
CONST	SEGMENT
??_C@_0BA@CADDNINH@TickPriceEnable?$AA@ DB 'TickPriceEnable', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@JIHMJIMC@PriceGoblin?$AA@
CONST	SEGMENT
??_C@_0M@JIHMJIMC@PriceGoblin?$AA@ DB 'PriceGoblin', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@EAIPIDK@PriceWCoinP?$AA@
CONST	SEGMENT
??_C@_0M@EAIPIDK@PriceWCoinP?$AA@ DB 'PriceWCoinP', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@GFOHLJKI@PriceWCoinC?$AA@
CONST	SEGMENT
??_C@_0M@GFOHLJKI@PriceWCoinC?$AA@ DB 'PriceWCoinC', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@BEMCKDLA@PriceCredit?$AA@
CONST	SEGMENT
??_C@_0M@BEMCKDLA@PriceCredit?$AA@ DB 'PriceCredit', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_08FFJPBABB@PriceZen?$AA@
CONST	SEGMENT
??_C@_08FFJPBABB@PriceZen?$AA@ DB 'PriceZen', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_04OKOFBOPB@Time?$AA@
CONST	SEGMENT
??_C@_04OKOFBOPB@Time?$AA@ DB 'Time', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@OCIIFDDH@EnableTime?$AA@
CONST	SEGMENT
??_C@_0L@OCIIFDDH@EnableTime?$AA@ DB 'EnableTime', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@NIKPPPCH@KickFallen?$AA@
CONST	SEGMENT
??_C@_0L@NIKPPPCH@KickFallen?$AA@ DB 'KickFallen', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_06POMJKEPM@Common?$AA@
CONST	SEGMENT
??_C@_06POMJKEPM@Common?$AA@ DB 'Common', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06CKGENIKG@Enable?$AA@
CONST	SEGMENT
??_C@_06CKGENIKG@Enable?$AA@ DB 'Enable', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@
CONST	SEGMENT
??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@ DB '..\Data\ExDat'
	DB	'a\OffExp.ini', 00H				; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
?LoadConfig@cOffExp@@QAEXXZ PROC			; cOffExp::LoadConfig
; _this$ = ecx

; 18   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 19   : 	//CheckFile(OFF_EXP_DIR);
; 20   : 
; 21   : 	this->Enable = GetPrivateProfileInt("Common","Enable",1,OFF_EXP_DIR);

  0000c	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@
  00011	6a 01		 push	 1
  00013	68 00 00 00 00	 push	 OFFSET ??_C@_06CKGENIKG@Enable?$AA@
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  0001d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00023	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00026	89 01		 mov	 DWORD PTR [ecx], eax

; 22   : 	this->KickFallen = GetPrivateProfileInt("Common","KickFallen",0,OFF_EXP_DIR);

  00028	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@
  0002d	6a 00		 push	 0
  0002f	68 00 00 00 00	 push	 OFFSET ??_C@_0L@NIKPPPCH@KickFallen?$AA@
  00034	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  00039	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0003f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00042	89 41 04	 mov	 DWORD PTR [ecx+4], eax

; 23   : 	this->EnableTime = GetPrivateProfileInt("Common","EnableTime",0,OFF_EXP_DIR);

  00045	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@
  0004a	6a 00		 push	 0
  0004c	68 00 00 00 00	 push	 OFFSET ??_C@_0L@OCIIFDDH@EnableTime?$AA@
  00051	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  00056	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0005c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0005f	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 24   : 	this->TimeEnd = GetPrivateProfileInt("Common","Time",0,OFF_EXP_DIR);

  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@
  00067	6a 00		 push	 0
  00069	68 00 00 00 00	 push	 OFFSET ??_C@_04OKOFBOPB@Time?$AA@
  0006e	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  00073	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00079	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0007c	89 41 0c	 mov	 DWORD PTR [ecx+12], eax

; 25   : 
; 26   : 	this->PriceZen = GetPrivateProfileInt("Common","PriceZen",0,OFF_EXP_DIR);

  0007f	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@
  00084	6a 00		 push	 0
  00086	68 00 00 00 00	 push	 OFFSET ??_C@_08FFJPBABB@PriceZen?$AA@
  0008b	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  00090	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00096	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00099	89 41 10	 mov	 DWORD PTR [ecx+16], eax

; 27   : 	this->PriceCredit = GetPrivateProfileInt("Common","PriceCredit",0,OFF_EXP_DIR);

  0009c	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@
  000a1	6a 00		 push	 0
  000a3	68 00 00 00 00	 push	 OFFSET ??_C@_0M@BEMCKDLA@PriceCredit?$AA@
  000a8	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  000ad	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  000b3	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000b6	89 41 14	 mov	 DWORD PTR [ecx+20], eax

; 28   : 	this->PriceWCoinC = GetPrivateProfileInt("Common","PriceWCoinC",0,OFF_EXP_DIR);

  000b9	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@
  000be	6a 00		 push	 0
  000c0	68 00 00 00 00	 push	 OFFSET ??_C@_0M@GFOHLJKI@PriceWCoinC?$AA@
  000c5	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  000ca	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  000d0	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000d3	89 41 18	 mov	 DWORD PTR [ecx+24], eax

; 29   : 	this->PriceWCoinP = GetPrivateProfileInt("Common","PriceWCoinP",0,OFF_EXP_DIR);

  000d6	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@
  000db	6a 00		 push	 0
  000dd	68 00 00 00 00	 push	 OFFSET ??_C@_0M@EAIPIDK@PriceWCoinP?$AA@
  000e2	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  000e7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  000ed	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000f0	89 41 1c	 mov	 DWORD PTR [ecx+28], eax

; 30   : 	this->PriceGoblin = GetPrivateProfileInt("Common","PriceGoblin",0,OFF_EXP_DIR);

  000f3	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@
  000f8	6a 00		 push	 0
  000fa	68 00 00 00 00	 push	 OFFSET ??_C@_0M@JIHMJIMC@PriceGoblin?$AA@
  000ff	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  00104	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0010a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0010d	89 41 20	 mov	 DWORD PTR [ecx+32], eax

; 31   : 
; 32   : 	this->TickPriceEnable = GetPrivateProfileInt("Common", "TickPriceEnable", 0, OFF_EXP_DIR);

  00110	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@
  00115	6a 00		 push	 0
  00117	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@CADDNINH@TickPriceEnable?$AA@
  0011c	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  00121	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00127	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0012a	89 41 24	 mov	 DWORD PTR [ecx+36], eax

; 33   : 	this->TickTimeMin = GetPrivateProfileInt("Common", "TickTimeMin", 0, OFF_EXP_DIR);

  0012d	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@
  00132	6a 00		 push	 0
  00134	68 00 00 00 00	 push	 OFFSET ??_C@_0M@ILNEHGIB@TickTimeMin?$AA@
  00139	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  0013e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00144	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00147	89 41 28	 mov	 DWORD PTR [ecx+40], eax

; 34   : 	this->TickPriceType = GetPrivateProfileInt("Common", "TickPriceType", 0, OFF_EXP_DIR);

  0014a	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@
  0014f	6a 00		 push	 0
  00151	68 00 00 00 00	 push	 OFFSET ??_C@_0O@GIOBNCDJ@TickPriceType?$AA@
  00156	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  0015b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00161	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00164	89 41 2c	 mov	 DWORD PTR [ecx+44], eax

; 35   : 	this->TickPrice = GetPrivateProfileInt("Common", "TickPrice", 0, OFF_EXP_DIR);

  00167	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@DHAHDFNK@?4?4?2Data?2ExData?2OffExp?4ini?$AA@
  0016c	6a 00		 push	 0
  0016e	68 00 00 00 00	 push	 OFFSET ??_C@_09BADGNAEJ@TickPrice?$AA@
  00173	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  00178	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0017e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00181	89 41 30	 mov	 DWORD PTR [ecx+48], eax

; 36   : }

  00184	5f		 pop	 edi
  00185	5e		 pop	 esi
  00186	5b		 pop	 ebx
  00187	8b e5		 mov	 esp, ebp
  00189	5d		 pop	 ebp
  0018a	c3		 ret	 0
?LoadConfig@cOffExp@@QAEXXZ ENDP			; cOffExp::LoadConfig
_TEXT	ENDS
PUBLIC	??_C@_0BI@CGJMHIKF@?$FLOffExp?$FN?5Need?5?$CFd?5Goblin?$AA@ ; `string'
PUBLIC	??_C@_0BI@LKOIBIFN@?$FLOffExp?$FN?5Need?5?$CFd?5WCoinP?$AA@ ; `string'
PUBLIC	??_C@_0BI@NLAHFJMP@?$FLOffExp?$FN?5Need?5?$CFd?5WCoinC?$AA@ ; `string'
PUBLIC	??_C@_0BI@KKCCEDNH@?$FLOffExp?$FN?5Need?5?$CFd?5Credit?$AA@ ; `string'
PUBLIC	??_C@_0BF@MAMJKDIJ@?$FLOffExp?$FN?5Need?5?$CFd?5Zen?$AA@ ; `string'
PUBLIC	?CheckTerrain@cOffExp@@QAE_NPAUOBJECTSTRUCT@@@Z	; cOffExp::CheckTerrain
PUBLIC	??_C@_0CJ@JCIOOKIM@?$FLOfflineExp?$FN?5Disable?5in?5Castle?5s@ ; `string'
PUBLIC	?OffExpStart@cOffExp@@QAEXHH@Z			; cOffExp::OffExpStart
EXTRN	?SendClose@ConnectEx@@QAEXHH@Z:PROC		; ConnectEx::SendClose
EXTRN	?g_ConnectEx@@3VConnectEx@@A:QWORD		; g_ConnectEx
EXTRN	?GetText@CExText@@QAEPADH@Z:PROC		; CExText::GetText
EXTRN	?g_ExText@@3VCExText@@A:BYTE			; g_ExText
EXTRN	?GDSaveUserInfo@GameShop@@QAEXH@Z:PROC		; GameShop::GDSaveUserInfo
EXTRN	?gGameShop@@3VGameShop@@A:BYTE			; gGameShop
EXTRN	?ExUserDataSend@@YAXH@Z:PROC			; ExUserDataSend
EXTRN	?GCMoneySend@@YAXHK@Z:PROC			; GCMoneySend
EXTRN	?CheckUser@CExLicense@@QAE_NH@Z:PROC		; CExLicense::CheckUser
EXTRN	?g_ExLicense@@3VCExLicense@@A:BYTE		; g_ExLicense
EXTRN	?MsgNormal@@YAXHPADZZ:PROC			; MsgNormal
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
EXTRN	__fltused:DWORD
;	COMDAT ??_C@_0BI@CGJMHIKF@?$FLOffExp?$FN?5Need?5?$CFd?5Goblin?$AA@
CONST	SEGMENT
??_C@_0BI@CGJMHIKF@?$FLOffExp?$FN?5Need?5?$CFd?5Goblin?$AA@ DB '[OffExp] '
	DB	'Need %d Goblin', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BI@LKOIBIFN@?$FLOffExp?$FN?5Need?5?$CFd?5WCoinP?$AA@
CONST	SEGMENT
??_C@_0BI@LKOIBIFN@?$FLOffExp?$FN?5Need?5?$CFd?5WCoinP?$AA@ DB '[OffExp] '
	DB	'Need %d WCoinP', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BI@NLAHFJMP@?$FLOffExp?$FN?5Need?5?$CFd?5WCoinC?$AA@
CONST	SEGMENT
??_C@_0BI@NLAHFJMP@?$FLOffExp?$FN?5Need?5?$CFd?5WCoinC?$AA@ DB '[OffExp] '
	DB	'Need %d WCoinC', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BI@KKCCEDNH@?$FLOffExp?$FN?5Need?5?$CFd?5Credit?$AA@
CONST	SEGMENT
??_C@_0BI@KKCCEDNH@?$FLOffExp?$FN?5Need?5?$CFd?5Credit?$AA@ DB '[OffExp] '
	DB	'Need %d Credit', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@MAMJKDIJ@?$FLOffExp?$FN?5Need?5?$CFd?5Zen?$AA@
CONST	SEGMENT
??_C@_0BF@MAMJKDIJ@?$FLOffExp?$FN?5Need?5?$CFd?5Zen?$AA@ DB '[OffExp] Nee'
	DB	'd %d Zen', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0CJ@JCIOOKIM@?$FLOfflineExp?$FN?5Disable?5in?5Castle?5s@
CONST	SEGMENT
??_C@_0CJ@JCIOOKIM@?$FLOfflineExp?$FN?5Disable?5in?5Castle?5s@ DB '[Offli'
	DB	'neExp] Disable in Castle siege map', 00H	; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_Time$ = 12						; size = 4
?OffExpStart@cOffExp@@QAEXHH@Z PROC			; cOffExp::OffExpStart
; _this$ = ecx

; 39   : {

  00190	55		 push	 ebp
  00191	8b ec		 mov	 ebp, esp
  00193	83 ec 48	 sub	 esp, 72			; 00000048H
  00196	53		 push	 ebx
  00197	56		 push	 esi
  00198	57		 push	 edi
  00199	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 40   : 	if(!this->Enable) return;

  0019c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0019f	83 38 00	 cmp	 DWORD PTR [eax], 0
  001a2	75 05		 jne	 SHORT $LN36@OffExpStar
  001a4	e9 53 05 00 00	 jmp	 $LN37@OffExpStar
$LN36@OffExpStar:

; 41   : 	
; 42   : 	LPOBJ lpObj = &gObj[aIndex];

  001a9	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  001ac	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  001b2	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001b8	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 43   : 
; 44   : 
; 45   : 	if(lpObj->MapNumber == MAP_INDEX_CASTLESIEGE)

  001bb	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  001be	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  001c5	83 f9 1e	 cmp	 ecx, 30			; 0000001eH
  001c8	75 16		 jne	 SHORT $LN35@OffExpStar

; 46   : 	{
; 47   : 		MsgNormal(aIndex,"[OfflineExp] Disable in Castle siege map");

  001ca	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@JCIOOKIM@?$FLOfflineExp?$FN?5Disable?5in?5Castle?5s@
  001cf	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  001d2	50		 push	 eax
  001d3	e8 00 00 00 00	 call	 ?MsgNormal@@YAXHPADZZ	; MsgNormal
  001d8	83 c4 08	 add	 esp, 8

; 48   : 		return;

  001db	e9 1c 05 00 00	 jmp	 $LN37@OffExpStar
$LN35@OffExpStar:

; 49   : 	}
; 50   : 
; 51   : 	if (CheckTerrain(lpObj))

  001e0	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  001e3	50		 push	 eax
  001e4	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  001e7	e8 00 00 00 00	 call	 ?CheckTerrain@cOffExp@@QAE_NPAUOBJECTSTRUCT@@@Z ; cOffExp::CheckTerrain
  001ec	0f b6 c8	 movzx	 ecx, al
  001ef	85 c9		 test	 ecx, ecx
  001f1	0f 84 e9 04 00
	00		 je	 $LN34@OffExpStar

; 52   : 	{
; 53   : 		if(g_ExLicense.CheckUser(eExUB::Local3) || g_ExLicense.CheckUser(eExUB::drynea) || g_ExLicense.CheckUser(eExUB::Local2) || g_ExLicense.CheckUser(eExUB::Local))

  001f7	6a 1c		 push	 28			; 0000001cH
  001f9	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  001fe	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  00203	0f b6 c0	 movzx	 eax, al
  00206	85 c0		 test	 eax, eax
  00208	75 3d		 jne	 SHORT $LN32@OffExpStar
  0020a	6a 01		 push	 1
  0020c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  00211	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  00216	0f b6 c0	 movzx	 eax, al
  00219	85 c0		 test	 eax, eax
  0021b	75 2a		 jne	 SHORT $LN32@OffExpStar
  0021d	6a 18		 push	 24			; 00000018H
  0021f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  00224	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  00229	0f b6 c0	 movzx	 eax, al
  0022c	85 c0		 test	 eax, eax
  0022e	75 17		 jne	 SHORT $LN32@OffExpStar
  00230	6a 00		 push	 0
  00232	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  00237	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0023c	0f b6 c0	 movzx	 eax, al
  0023f	85 c0		 test	 eax, eax
  00241	0f 84 3f 02 00
	00		 je	 $LN33@OffExpStar
$LN32@OffExpStar:

; 54   : 		{
; 55   : 			if(this->PriceZen && (!lpObj->PremiumTime))

  00247	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0024a	83 78 10 00	 cmp	 DWORD PTR [eax+16], 0
  0024e	74 6d		 je	 SHORT $LN31@OffExpStar
  00250	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00253	83 b8 b8 22 00
	00 00		 cmp	 DWORD PTR [eax+8888], 0
  0025a	75 61		 jne	 SHORT $LN31@OffExpStar

; 56   : 			{
; 57   : 				if(this->PriceZen > lpObj->Money)

  0025c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0025f	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00262	8b 50 10	 mov	 edx, DWORD PTR [eax+16]
  00265	3b 91 f0 00 00
	00		 cmp	 edx, DWORD PTR [ecx+240]
  0026b	7e 1d		 jle	 SHORT $LN30@OffExpStar

; 58   : 				{
; 59   : 					MsgNormal(aIndex,"[OffExp] Need %d Zen",this->PriceZen);

  0026d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00270	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00273	51		 push	 ecx
  00274	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@MAMJKDIJ@?$FLOffExp?$FN?5Need?5?$CFd?5Zen?$AA@
  00279	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0027c	52		 push	 edx
  0027d	e8 00 00 00 00	 call	 ?MsgNormal@@YAXHPADZZ	; MsgNormal
  00282	83 c4 0c	 add	 esp, 12			; 0000000cH

; 60   : 					return;

  00285	e9 72 04 00 00	 jmp	 $LN37@OffExpStar
$LN30@OffExpStar:

; 61   : 				}
; 62   : 				lpObj->Money -= this->PriceZen;

  0028a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0028d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00290	8b 90 f0 00 00
	00		 mov	 edx, DWORD PTR [eax+240]
  00296	2b 51 10	 sub	 edx, DWORD PTR [ecx+16]
  00299	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0029c	89 90 f0 00 00
	00		 mov	 DWORD PTR [eax+240], edx

; 63   : 				GCMoneySend(aIndex,lpObj->Money);

  002a2	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  002a5	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  002ab	51		 push	 ecx
  002ac	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  002af	52		 push	 edx
  002b0	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  002b5	83 c4 08	 add	 esp, 8
  002b8	e9 c4 01 00 00	 jmp	 $LN19@OffExpStar
$LN31@OffExpStar:

; 64   : 			}
; 65   : 			else if(this->PriceCredit && (!lpObj->PremiumTime))

  002bd	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  002c0	83 78 14 00	 cmp	 DWORD PTR [eax+20], 0
  002c4	74 6a		 je	 SHORT $LN28@OffExpStar
  002c6	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  002c9	83 b8 b8 22 00
	00 00		 cmp	 DWORD PTR [eax+8888], 0
  002d0	75 5e		 jne	 SHORT $LN28@OffExpStar

; 66   : 			{
; 67   : 				if(this->PriceCredit > lpObj->ExCred)

  002d2	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  002d5	db 40 14	 fild	 DWORD PTR [eax+20]
  002d8	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  002db	d9 81 a8 22 00
	00		 fld	 DWORD PTR [ecx+8872]
  002e1	de d9		 fcompp
  002e3	df e0		 fnstsw	 ax
  002e5	f6 c4 05	 test	 ah, 5
  002e8	7a 1d		 jp	 SHORT $LN27@OffExpStar

; 68   : 				{
; 69   : 					MsgNormal(aIndex,"[OffExp] Need %d Credit",this->PriceCredit);

  002ea	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  002ed	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]
  002f0	51		 push	 ecx
  002f1	68 00 00 00 00	 push	 OFFSET ??_C@_0BI@KKCCEDNH@?$FLOffExp?$FN?5Need?5?$CFd?5Credit?$AA@
  002f6	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  002f9	52		 push	 edx
  002fa	e8 00 00 00 00	 call	 ?MsgNormal@@YAXHPADZZ	; MsgNormal
  002ff	83 c4 0c	 add	 esp, 12			; 0000000cH

; 70   : 					return;

  00302	e9 f5 03 00 00	 jmp	 $LN37@OffExpStar
$LN27@OffExpStar:

; 71   : 				}
; 72   : 				lpObj->ExCred -= this->PriceCredit;//Conflict

  00307	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0030a	db 40 14	 fild	 DWORD PTR [eax+20]
  0030d	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00310	d8 a9 a8 22 00
	00		 fsubr	 DWORD PTR [ecx+8872]
  00316	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00319	d9 9a a8 22 00
	00		 fstp	 DWORD PTR [edx+8872]

; 73   : 				ExUserDataSend(aIndex);

  0031f	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00322	50		 push	 eax
  00323	e8 00 00 00 00	 call	 ?ExUserDataSend@@YAXH@Z	; ExUserDataSend
  00328	83 c4 04	 add	 esp, 4
  0032b	e9 51 01 00 00	 jmp	 $LN19@OffExpStar
$LN28@OffExpStar:

; 74   : 			}
; 75   : 			else if(this->PriceWCoinC && (!lpObj->PremiumTime))

  00330	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00333	83 78 18 00	 cmp	 DWORD PTR [eax+24], 0
  00337	74 6a		 je	 SHORT $LN25@OffExpStar
  00339	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0033c	83 b8 b8 22 00
	00 00		 cmp	 DWORD PTR [eax+8888], 0
  00343	75 5e		 jne	 SHORT $LN25@OffExpStar

; 76   : 			{
; 77   : 				if(this->PriceWCoinC > lpObj->GameShop.WCoinC)

  00345	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00348	db 40 18	 fild	 DWORD PTR [eax+24]
  0034b	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0034e	dc 99 00 23 00
	00		 fcomp	 QWORD PTR [ecx+8960]
  00354	df e0		 fnstsw	 ax
  00356	f6 c4 41	 test	 ah, 65			; 00000041H
  00359	75 1d		 jne	 SHORT $LN24@OffExpStar

; 78   : 				{
; 79   : 					MsgNormal(aIndex,"[OffExp] Need %d WCoinC",this->PriceWCoinC);

  0035b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0035e	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  00361	51		 push	 ecx
  00362	68 00 00 00 00	 push	 OFFSET ??_C@_0BI@NLAHFJMP@?$FLOffExp?$FN?5Need?5?$CFd?5WCoinC?$AA@
  00367	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0036a	52		 push	 edx
  0036b	e8 00 00 00 00	 call	 ?MsgNormal@@YAXHPADZZ	; MsgNormal
  00370	83 c4 0c	 add	 esp, 12			; 0000000cH

; 80   : 					return;

  00373	e9 84 03 00 00	 jmp	 $LN37@OffExpStar
$LN24@OffExpStar:

; 81   : 				}
; 82   : 				lpObj->GameShop.WCoinC -= this->PriceWCoinC;

  00378	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0037b	db 40 18	 fild	 DWORD PTR [eax+24]
  0037e	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00381	dc a9 00 23 00
	00		 fsubr	 QWORD PTR [ecx+8960]
  00387	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0038a	dd 9a 00 23 00
	00		 fstp	 QWORD PTR [edx+8960]

; 83   : 				gGameShop.GDSaveUserInfo(aIndex);

  00390	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00393	50		 push	 eax
  00394	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  00399	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo
  0039e	e9 de 00 00 00	 jmp	 $LN19@OffExpStar
$LN25@OffExpStar:

; 84   : 			}
; 85   : 			else if(this->PriceWCoinP && (!lpObj->PremiumTime))

  003a3	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  003a6	83 78 1c 00	 cmp	 DWORD PTR [eax+28], 0
  003aa	74 67		 je	 SHORT $LN22@OffExpStar
  003ac	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  003af	83 b8 b8 22 00
	00 00		 cmp	 DWORD PTR [eax+8888], 0
  003b6	75 5b		 jne	 SHORT $LN22@OffExpStar

; 86   : 			{
; 87   : 				if(this->PriceWCoinP > lpObj->GameShop.WCoinP)

  003b8	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  003bb	db 40 1c	 fild	 DWORD PTR [eax+28]
  003be	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  003c1	dc 99 f8 22 00
	00		 fcomp	 QWORD PTR [ecx+8952]
  003c7	df e0		 fnstsw	 ax
  003c9	f6 c4 41	 test	 ah, 65			; 00000041H
  003cc	75 1d		 jne	 SHORT $LN21@OffExpStar

; 88   : 				{
; 89   : 					MsgNormal(aIndex,"[OffExp] Need %d WCoinP",this->PriceWCoinP);

  003ce	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  003d1	8b 48 1c	 mov	 ecx, DWORD PTR [eax+28]
  003d4	51		 push	 ecx
  003d5	68 00 00 00 00	 push	 OFFSET ??_C@_0BI@LKOIBIFN@?$FLOffExp?$FN?5Need?5?$CFd?5WCoinP?$AA@
  003da	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  003dd	52		 push	 edx
  003de	e8 00 00 00 00	 call	 ?MsgNormal@@YAXHPADZZ	; MsgNormal
  003e3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 90   : 					return;

  003e6	e9 11 03 00 00	 jmp	 $LN37@OffExpStar
$LN21@OffExpStar:

; 91   : 				}
; 92   : 				lpObj->GameShop.WCoinP -= this->PriceWCoinP;

  003eb	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  003ee	db 40 1c	 fild	 DWORD PTR [eax+28]
  003f1	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  003f4	dc a9 f8 22 00
	00		 fsubr	 QWORD PTR [ecx+8952]
  003fa	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  003fd	dd 9a f8 22 00
	00		 fstp	 QWORD PTR [edx+8952]

; 93   : 				gGameShop.GDSaveUserInfo(aIndex);

  00403	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00406	50		 push	 eax
  00407	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  0040c	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo
  00411	eb 6e		 jmp	 SHORT $LN19@OffExpStar
$LN22@OffExpStar:

; 94   : 			}
; 95   : 			else if(this->PriceGoblin && (!lpObj->PremiumTime))

  00413	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00416	83 78 20 00	 cmp	 DWORD PTR [eax+32], 0
  0041a	74 65		 je	 SHORT $LN19@OffExpStar
  0041c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0041f	83 b8 b8 22 00
	00 00		 cmp	 DWORD PTR [eax+8888], 0
  00426	75 59		 jne	 SHORT $LN19@OffExpStar

; 96   : 			{
; 97   : 				if(this->PriceGoblin > lpObj->GameShop.GoblinPoint)

  00428	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0042b	db 40 20	 fild	 DWORD PTR [eax+32]
  0042e	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00431	dc 99 08 23 00
	00		 fcomp	 QWORD PTR [ecx+8968]
  00437	df e0		 fnstsw	 ax
  00439	f6 c4 41	 test	 ah, 65			; 00000041H
  0043c	75 1d		 jne	 SHORT $LN18@OffExpStar

; 98   : 				{
; 99   : 					MsgNormal(aIndex,"[OffExp] Need %d Goblin",this->PriceGoblin);

  0043e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00441	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  00444	51		 push	 ecx
  00445	68 00 00 00 00	 push	 OFFSET ??_C@_0BI@CGJMHIKF@?$FLOffExp?$FN?5Need?5?$CFd?5Goblin?$AA@
  0044a	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0044d	52		 push	 edx
  0044e	e8 00 00 00 00	 call	 ?MsgNormal@@YAXHPADZZ	; MsgNormal
  00453	83 c4 0c	 add	 esp, 12			; 0000000cH

; 100  : 					return;

  00456	e9 a1 02 00 00	 jmp	 $LN37@OffExpStar
$LN18@OffExpStar:

; 101  : 				}
; 102  : 				lpObj->GameShop.GoblinPoint -= this->PriceGoblin;

  0045b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0045e	db 40 20	 fild	 DWORD PTR [eax+32]
  00461	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00464	dc a9 08 23 00
	00		 fsubr	 QWORD PTR [ecx+8968]
  0046a	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0046d	dd 9a 08 23 00
	00		 fstp	 QWORD PTR [edx+8968]

; 103  : 				gGameShop.GDSaveUserInfo(aIndex);

  00473	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00476	50		 push	 eax
  00477	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  0047c	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo
$LN19@OffExpStar:

; 104  : 			}
; 105  : 		}
; 106  : 		else

  00481	e9 32 02 00 00	 jmp	 $LN4@OffExpStar
$LN33@OffExpStar:

; 107  : 		{
; 108  : 			if(this->PriceZen)

  00486	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00489	83 78 10 00	 cmp	 DWORD PTR [eax+16], 0
  0048d	74 6c		 je	 SHORT $LN16@OffExpStar

; 109  : 			{
; 110  : 				if(this->PriceZen > lpObj->Money)

  0048f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00492	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00495	8b 50 10	 mov	 edx, DWORD PTR [eax+16]
  00498	3b 91 f0 00 00
	00		 cmp	 edx, DWORD PTR [ecx+240]
  0049e	7e 28		 jle	 SHORT $LN15@OffExpStar

; 111  : 				{
; 112  : 					MsgNormal(aIndex, g_ExText.GetText(239),this->PriceZen);

  004a0	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  004a3	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  004a6	51		 push	 ecx
  004a7	68 ef 00 00 00	 push	 239			; 000000efH
  004ac	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExText@@3VCExText@@A ; g_ExText
  004b1	e8 00 00 00 00	 call	 ?GetText@CExText@@QAEPADH@Z ; CExText::GetText
  004b6	50		 push	 eax
  004b7	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  004ba	52		 push	 edx
  004bb	e8 00 00 00 00	 call	 ?MsgNormal@@YAXHPADZZ	; MsgNormal
  004c0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 113  : 					return;

  004c3	e9 34 02 00 00	 jmp	 $LN37@OffExpStar
$LN15@OffExpStar:

; 114  : 				}
; 115  : 				lpObj->Money -= this->PriceZen;

  004c8	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  004cb	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  004ce	8b 90 f0 00 00
	00		 mov	 edx, DWORD PTR [eax+240]
  004d4	2b 51 10	 sub	 edx, DWORD PTR [ecx+16]
  004d7	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  004da	89 90 f0 00 00
	00		 mov	 DWORD PTR [eax+240], edx

; 116  : 				GCMoneySend(aIndex,lpObj->Money);

  004e0	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  004e3	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  004e9	51		 push	 ecx
  004ea	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  004ed	52		 push	 edx
  004ee	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  004f3	83 c4 08	 add	 esp, 8
  004f6	e9 bd 01 00 00	 jmp	 $LN4@OffExpStar
$LN16@OffExpStar:

; 117  : 			}
; 118  : 			else if(this->PriceCredit)

  004fb	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  004fe	83 78 14 00	 cmp	 DWORD PTR [eax+20], 0
  00502	74 69		 je	 SHORT $LN13@OffExpStar

; 119  : 			{
; 120  : 				if(this->PriceCredit > lpObj->ExCred)

  00504	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00507	db 40 14	 fild	 DWORD PTR [eax+20]
  0050a	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0050d	d9 81 a8 22 00
	00		 fld	 DWORD PTR [ecx+8872]
  00513	de d9		 fcompp
  00515	df e0		 fnstsw	 ax
  00517	f6 c4 05	 test	 ah, 5
  0051a	7a 28		 jp	 SHORT $LN12@OffExpStar

; 121  : 				{
; 122  : 					MsgNormal(aIndex,g_ExText.GetText(240),this->PriceCredit);

  0051c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0051f	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]
  00522	51		 push	 ecx
  00523	68 f0 00 00 00	 push	 240			; 000000f0H
  00528	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExText@@3VCExText@@A ; g_ExText
  0052d	e8 00 00 00 00	 call	 ?GetText@CExText@@QAEPADH@Z ; CExText::GetText
  00532	50		 push	 eax
  00533	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00536	52		 push	 edx
  00537	e8 00 00 00 00	 call	 ?MsgNormal@@YAXHPADZZ	; MsgNormal
  0053c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 123  : 					return;

  0053f	e9 b8 01 00 00	 jmp	 $LN37@OffExpStar
$LN12@OffExpStar:

; 124  : 				}
; 125  : 				lpObj->ExCred -= this->PriceCredit;//Conflict

  00544	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00547	db 40 14	 fild	 DWORD PTR [eax+20]
  0054a	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0054d	d8 a9 a8 22 00
	00		 fsubr	 DWORD PTR [ecx+8872]
  00553	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00556	d9 9a a8 22 00
	00		 fstp	 DWORD PTR [edx+8872]

; 126  : 				ExUserDataSend(aIndex);

  0055c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0055f	50		 push	 eax
  00560	e8 00 00 00 00	 call	 ?ExUserDataSend@@YAXH@Z	; ExUserDataSend
  00565	83 c4 04	 add	 esp, 4
  00568	e9 4b 01 00 00	 jmp	 $LN4@OffExpStar
$LN13@OffExpStar:

; 127  : 			}
; 128  : 			else if(this->PriceWCoinC)

  0056d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00570	83 78 18 00	 cmp	 DWORD PTR [eax+24], 0
  00574	74 69		 je	 SHORT $LN10@OffExpStar

; 129  : 			{
; 130  : 				if(this->PriceWCoinC > lpObj->GameShop.WCoinC)

  00576	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00579	db 40 18	 fild	 DWORD PTR [eax+24]
  0057c	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0057f	dc 99 00 23 00
	00		 fcomp	 QWORD PTR [ecx+8960]
  00585	df e0		 fnstsw	 ax
  00587	f6 c4 41	 test	 ah, 65			; 00000041H
  0058a	75 28		 jne	 SHORT $LN9@OffExpStar

; 131  : 				{
; 132  : 					MsgNormal(aIndex,g_ExText.GetText(241),this->PriceWCoinC);

  0058c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0058f	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  00592	51		 push	 ecx
  00593	68 f1 00 00 00	 push	 241			; 000000f1H
  00598	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExText@@3VCExText@@A ; g_ExText
  0059d	e8 00 00 00 00	 call	 ?GetText@CExText@@QAEPADH@Z ; CExText::GetText
  005a2	50		 push	 eax
  005a3	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  005a6	52		 push	 edx
  005a7	e8 00 00 00 00	 call	 ?MsgNormal@@YAXHPADZZ	; MsgNormal
  005ac	83 c4 0c	 add	 esp, 12			; 0000000cH

; 133  : 					return;

  005af	e9 48 01 00 00	 jmp	 $LN37@OffExpStar
$LN9@OffExpStar:

; 134  : 				}
; 135  : 				lpObj->GameShop.WCoinC -= this->PriceWCoinC;

  005b4	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  005b7	db 40 18	 fild	 DWORD PTR [eax+24]
  005ba	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  005bd	dc a9 00 23 00
	00		 fsubr	 QWORD PTR [ecx+8960]
  005c3	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  005c6	dd 9a 00 23 00
	00		 fstp	 QWORD PTR [edx+8960]

; 136  : 				gGameShop.GDSaveUserInfo(aIndex);

  005cc	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  005cf	50		 push	 eax
  005d0	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  005d5	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo
  005da	e9 d9 00 00 00	 jmp	 $LN4@OffExpStar
$LN10@OffExpStar:

; 137  : 			}
; 138  : 			else if(this->PriceWCoinP)

  005df	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  005e2	83 78 1c 00	 cmp	 DWORD PTR [eax+28], 0
  005e6	74 66		 je	 SHORT $LN7@OffExpStar

; 139  : 			{
; 140  : 				if(this->PriceWCoinP > lpObj->GameShop.WCoinP)

  005e8	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  005eb	db 40 1c	 fild	 DWORD PTR [eax+28]
  005ee	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  005f1	dc 99 f8 22 00
	00		 fcomp	 QWORD PTR [ecx+8952]
  005f7	df e0		 fnstsw	 ax
  005f9	f6 c4 41	 test	 ah, 65			; 00000041H
  005fc	75 28		 jne	 SHORT $LN6@OffExpStar

; 141  : 				{
; 142  : 					MsgNormal(aIndex,g_ExText.GetText(242),this->PriceWCoinP);

  005fe	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00601	8b 48 1c	 mov	 ecx, DWORD PTR [eax+28]
  00604	51		 push	 ecx
  00605	68 f2 00 00 00	 push	 242			; 000000f2H
  0060a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExText@@3VCExText@@A ; g_ExText
  0060f	e8 00 00 00 00	 call	 ?GetText@CExText@@QAEPADH@Z ; CExText::GetText
  00614	50		 push	 eax
  00615	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00618	52		 push	 edx
  00619	e8 00 00 00 00	 call	 ?MsgNormal@@YAXHPADZZ	; MsgNormal
  0061e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 143  : 					return;

  00621	e9 d6 00 00 00	 jmp	 $LN37@OffExpStar
$LN6@OffExpStar:

; 144  : 				}
; 145  : 				lpObj->GameShop.WCoinP -= this->PriceWCoinP;

  00626	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00629	db 40 1c	 fild	 DWORD PTR [eax+28]
  0062c	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0062f	dc a9 f8 22 00
	00		 fsubr	 QWORD PTR [ecx+8952]
  00635	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00638	dd 9a f8 22 00
	00		 fstp	 QWORD PTR [edx+8952]

; 146  : 				gGameShop.GDSaveUserInfo(aIndex);

  0063e	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00641	50		 push	 eax
  00642	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  00647	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo
  0064c	eb 6a		 jmp	 SHORT $LN4@OffExpStar
$LN7@OffExpStar:

; 147  : 			}
; 148  : 			else if(this->PriceGoblin)

  0064e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00651	83 78 20 00	 cmp	 DWORD PTR [eax+32], 0
  00655	74 61		 je	 SHORT $LN4@OffExpStar

; 149  : 			{
; 150  : 				if(this->PriceGoblin > lpObj->GameShop.GoblinPoint)

  00657	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0065a	db 40 20	 fild	 DWORD PTR [eax+32]
  0065d	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00660	dc 99 08 23 00
	00		 fcomp	 QWORD PTR [ecx+8968]
  00666	df e0		 fnstsw	 ax
  00668	f6 c4 41	 test	 ah, 65			; 00000041H
  0066b	75 25		 jne	 SHORT $LN3@OffExpStar

; 151  : 				{
; 152  : 					MsgNormal(aIndex,g_ExText.GetText(243),this->PriceGoblin);

  0066d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00670	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  00673	51		 push	 ecx
  00674	68 f3 00 00 00	 push	 243			; 000000f3H
  00679	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExText@@3VCExText@@A ; g_ExText
  0067e	e8 00 00 00 00	 call	 ?GetText@CExText@@QAEPADH@Z ; CExText::GetText
  00683	50		 push	 eax
  00684	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00687	52		 push	 edx
  00688	e8 00 00 00 00	 call	 ?MsgNormal@@YAXHPADZZ	; MsgNormal
  0068d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 153  : 					return;

  00690	eb 6a		 jmp	 SHORT $LN37@OffExpStar
$LN3@OffExpStar:

; 154  : 				}
; 155  : 				lpObj->GameShop.GoblinPoint -= this->PriceGoblin;

  00692	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00695	db 40 20	 fild	 DWORD PTR [eax+32]
  00698	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0069b	dc a9 08 23 00
	00		 fsubr	 QWORD PTR [ecx+8968]
  006a1	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  006a4	dd 9a 08 23 00
	00		 fstp	 QWORD PTR [edx+8968]

; 156  : 				gGameShop.GDSaveUserInfo(aIndex);

  006aa	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  006ad	50		 push	 eax
  006ae	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  006b3	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo
$LN4@OffExpStar:

; 157  : 			}
; 158  : 		}
; 159  : 		//******
; 160  : #ifdef _RECONNECT_
; 161  : 		g_ConnectEx.SendClose(aIndex,OFFAFK_DC);

  006b8	6a 14		 push	 20			; 00000014H
  006ba	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  006bd	50		 push	 eax
  006be	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ConnectEx@@3VConnectEx@@A ; g_ConnectEx
  006c3	e8 00 00 00 00	 call	 ?SendClose@ConnectEx@@QAEXHH@Z ; ConnectEx::SendClose

; 162  : #else
; 163  : 		CloseClient(aIndex);
; 164  : 		lpObj->OffExp = 1;
; 165  : #endif
; 166  : 		if(this->EnableTime) lpObj->OffExpTick = 0;

  006c8	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  006cb	83 78 08 00	 cmp	 DWORD PTR [eax+8], 0
  006cf	74 0d		 je	 SHORT $LN2@OffExpStar
  006d1	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  006d4	c7 80 9c 22 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+8860], 0
$LN2@OffExpStar:

; 167  : 	}
; 168  : 	else

  006de	eb 1c		 jmp	 SHORT $LN1@OffExpStar
$LN34@OffExpStar:

; 169  : 	{
; 170  : 		MsgNormal(aIndex,g_ExText.GetText(244));

  006e0	68 f4 00 00 00	 push	 244			; 000000f4H
  006e5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExText@@3VCExText@@A ; g_ExText
  006ea	e8 00 00 00 00	 call	 ?GetText@CExText@@QAEPADH@Z ; CExText::GetText
  006ef	50		 push	 eax
  006f0	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  006f3	50		 push	 eax
  006f4	e8 00 00 00 00	 call	 ?MsgNormal@@YAXHPADZZ	; MsgNormal
  006f9	83 c4 08	 add	 esp, 8
$LN1@OffExpStar:
$LN37@OffExpStar:

; 171  : 	}
; 172  : }

  006fc	5f		 pop	 edi
  006fd	5e		 pop	 esi
  006fe	5b		 pop	 ebx
  006ff	8b e5		 mov	 esp, ebp
  00701	5d		 pop	 ebp
  00702	c2 08 00	 ret	 8
?OffExpStart@cOffExp@@QAEXHH@Z ENDP			; cOffExp::OffExpStart
_TEXT	ENDS
PUBLIC	?RageFighterOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ; cOffExp::RageFighterOff
PUBLIC	?SummonerOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z	; cOffExp::SummonerOff
PUBLIC	?DarkLordOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z	; cOffExp::DarkLordOff
PUBLIC	?MagicGladiatorOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ; cOffExp::MagicGladiatorOff
PUBLIC	?FairyElfOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z	; cOffExp::FairyElfOff
PUBLIC	?DarkKnightOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z	; cOffExp::DarkKnightOff
PUBLIC	?DarkWizardOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z	; cOffExp::DarkWizardOff
PUBLIC	?MainFunction@cOffExp@@QAEXH@Z			; cOffExp::MainFunction
EXTRN	?gObjDel@@YAFH@Z:PROC				; gObjDel
EXTRN	?GJPUserClose@@YAXPAD@Z:PROC			; GJPUserClose
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv244 = -76						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?MainFunction@cOffExp@@QAEXH@Z PROC			; cOffExp::MainFunction
; _this$ = ecx

; 175  : {

  00710	55		 push	 ebp
  00711	8b ec		 mov	 ebp, esp
  00713	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00716	53		 push	 ebx
  00717	56		 push	 esi
  00718	57		 push	 edi
  00719	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 176  : 	LPOBJ lpObj = &gObj[aIndex];

  0071c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0071f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00725	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0072b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 177  : 
; 178  : 	if(!lpObj->OffExp) return;

  0072e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00731	83 b8 98 22 00
	00 00		 cmp	 DWORD PTR [eax+8856], 0
  00738	75 05		 jne	 SHORT $LN35@MainFuncti
  0073a	e9 fb 03 00 00	 jmp	 $LN36@MainFuncti
$LN35@MainFuncti:

; 179  : 
; 180  : 	// ----
; 181  : 
; 182  : 	if(!this->CheckTerrain(lpObj))

  0073f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00742	50		 push	 eax
  00743	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00746	e8 00 00 00 00	 call	 ?CheckTerrain@cOffExp@@QAE_NPAUOBJECTSTRUCT@@@Z ; cOffExp::CheckTerrain
  0074b	0f b6 c8	 movzx	 ecx, al
  0074e	85 c9		 test	 ecx, ecx
  00750	75 38		 jne	 SHORT $LN34@MainFuncti

; 183  : 	{
; 184  : 		if(this->KickFallen)

  00752	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00755	83 78 04 00	 cmp	 DWORD PTR [eax+4], 0
  00759	74 2a		 je	 SHORT $LN33@MainFuncti

; 185  : 		{
; 186  : 			GJPUserClose(lpObj->AccountID);

  0075b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0075e	83 c0 6c	 add	 eax, 108		; 0000006cH
  00761	50		 push	 eax
  00762	e8 00 00 00 00	 call	 ?GJPUserClose@@YAXPAD@Z	; GJPUserClose
  00767	83 c4 04	 add	 esp, 4

; 187  : 			gObjDel(lpObj->m_Index);

  0076a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0076d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0076f	51		 push	 ecx
  00770	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  00775	83 c4 04	 add	 esp, 4

; 188  : 			lpObj->OffExp = 0;

  00778	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0077b	c7 80 98 22 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+8856], 0
$LN33@MainFuncti:

; 189  : 		}
; 190  : 		return;

  00785	e9 b0 03 00 00	 jmp	 $LN36@MainFuncti
$LN34@MainFuncti:

; 191  : 	}
; 192  : 
; 193  : 	// ----
; 194  : 
; 195  : 	if(this->EnableTime)

  0078a	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0078d	83 78 08 00	 cmp	 DWORD PTR [eax+8], 0
  00791	74 55		 je	 SHORT $LN31@MainFuncti

; 196  : 	{
; 197  : 		lpObj->OffExpTick++;

  00793	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00796	8b 88 9c 22 00
	00		 mov	 ecx, DWORD PTR [eax+8860]
  0079c	83 c1 01	 add	 ecx, 1
  0079f	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  007a2	89 8a 9c 22 00
	00		 mov	 DWORD PTR [edx+8860], ecx

; 198  : 		if(lpObj->OffExpTick >= this->TimeEnd)

  007a8	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  007ab	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  007ae	8b 90 9c 22 00
	00		 mov	 edx, DWORD PTR [eax+8860]
  007b4	3b 51 0c	 cmp	 edx, DWORD PTR [ecx+12]
  007b7	72 2f		 jb	 SHORT $LN31@MainFuncti

; 199  : 		{
; 200  : 			GJPUserClose(lpObj->AccountID);

  007b9	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  007bc	83 c0 6c	 add	 eax, 108		; 0000006cH
  007bf	50		 push	 eax
  007c0	e8 00 00 00 00	 call	 ?GJPUserClose@@YAXPAD@Z	; GJPUserClose
  007c5	83 c4 04	 add	 esp, 4

; 201  : 			gObjDel(lpObj->m_Index);

  007c8	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  007cb	8b 08		 mov	 ecx, DWORD PTR [eax]
  007cd	51		 push	 ecx
  007ce	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  007d3	83 c4 04	 add	 esp, 4

; 202  : 			lpObj->OffExp = 0;

  007d6	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  007d9	c7 80 98 22 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+8856], 0

; 203  : 			return;

  007e3	e9 52 03 00 00	 jmp	 $LN36@MainFuncti
$LN31@MainFuncti:

; 204  : 		}
; 205  : 	}
; 206  : 
; 207  : 	// ----
; 208  : 
; 209  : #ifdef PRIVATE_MODULE)
; 210  : #ifdef DRYNEA_13_11
; 211  : 	if(g_ExLicense.CheckUser(eExUB::Vadim) || g_ExLicense.CheckUser(eExUB::drynea))

  007e8	6a 09		 push	 9
  007ea	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  007ef	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  007f4	0f b6 c0	 movzx	 eax, al
  007f7	85 c0		 test	 eax, eax
  007f9	75 13		 jne	 SHORT $LN29@MainFuncti
  007fb	6a 01		 push	 1
  007fd	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  00802	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  00807	0f b6 c0	 movzx	 eax, al
  0080a	85 c0		 test	 eax, eax
  0080c	74 32		 je	 SHORT $LN30@MainFuncti
$LN29@MainFuncti:

; 212  : #else
; 213  : 	if(g_ExLicense.CheckUser(eExUB::Vadim))
; 214  : #endif
; 215  : 	{
; 216  : 		if(lpObj->PremiumTime > 0)

  0080e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00811	83 b8 b8 22 00
	00 00		 cmp	 DWORD PTR [eax+8888], 0
  00818	7e 0f		 jle	 SHORT $LN28@MainFuncti

; 217  : 		{
; 218  : 			lpObj->OffExpTickPRice = 0;

  0081a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0081d	c7 80 a0 22 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+8864], 0

; 219  : 		}
; 220  : 		else

  00827	eb 15		 jmp	 SHORT $LN27@MainFuncti
$LN28@MainFuncti:

; 221  : 		{
; 222  : 			lpObj->OffExpTickPRice++;

  00829	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0082c	8b 88 a0 22 00
	00		 mov	 ecx, DWORD PTR [eax+8864]
  00832	83 c1 01	 add	 ecx, 1
  00835	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00838	89 8a a0 22 00
	00		 mov	 DWORD PTR [edx+8864], ecx
$LN27@MainFuncti:

; 223  : 		}
; 224  : 	}
; 225  : 	else

  0083e	eb 15		 jmp	 SHORT $LN26@MainFuncti
$LN30@MainFuncti:

; 226  : 	{
; 227  : 		lpObj->OffExpTickPRice++;

  00840	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00843	8b 88 a0 22 00
	00		 mov	 ecx, DWORD PTR [eax+8864]
  00849	83 c1 01	 add	 ecx, 1
  0084c	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0084f	89 8a a0 22 00
	00		 mov	 DWORD PTR [edx+8864], ecx
$LN26@MainFuncti:

; 228  : 	}
; 229  : #else
; 230  : 	lpObj->OffExpTickPRice++;
; 231  : #endif
; 232  : 
; 233  : 	if (this->TickPriceEnable)

  00855	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00858	83 78 24 00	 cmp	 DWORD PTR [eax+36], 0
  0085c	0f 84 5b 02 00
	00		 je	 $LN11@MainFuncti

; 234  : 	{
; 235  : 		if (lpObj->OffExpTickPRice > (this->TickTimeMin * 60))

  00862	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00865	8b 48 28	 mov	 ecx, DWORD PTR [eax+40]
  00868	6b c9 3c	 imul	 ecx, 60			; 0000003cH
  0086b	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0086e	39 8a a0 22 00
	00		 cmp	 DWORD PTR [edx+8864], ecx
  00874	0f 86 43 02 00
	00		 jbe	 $LN11@MainFuncti

; 236  : 		{
; 237  : 			lpObj->OffExpTickPRice = 0;

  0087a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0087d	c7 80 a0 22 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+8864], 0

; 238  : 			if (this->TickPriceType == 0)

  00887	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0088a	83 78 2c 00	 cmp	 DWORD PTR [eax+44], 0
  0088e	75 5d		 jne	 SHORT $LN23@MainFuncti

; 239  : 			{
; 240  : 				if (this->TickPrice > lpObj->Money)

  00890	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00893	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00896	8b 50 30	 mov	 edx, DWORD PTR [eax+48]
  00899	3b 91 f0 00 00
	00		 cmp	 edx, DWORD PTR [ecx+240]
  0089f	7e 2f		 jle	 SHORT $LN22@MainFuncti

; 241  : 				{
; 242  : 					GJPUserClose(lpObj->AccountID);

  008a1	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008a4	83 c0 6c	 add	 eax, 108		; 0000006cH
  008a7	50		 push	 eax
  008a8	e8 00 00 00 00	 call	 ?GJPUserClose@@YAXPAD@Z	; GJPUserClose
  008ad	83 c4 04	 add	 esp, 4

; 243  : 					gObjDel(lpObj->m_Index);

  008b0	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008b3	8b 08		 mov	 ecx, DWORD PTR [eax]
  008b5	51		 push	 ecx
  008b6	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  008bb	83 c4 04	 add	 esp, 4

; 244  : 					lpObj->OffExp = 0;

  008be	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008c1	c7 80 98 22 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+8856], 0

; 245  : 					return;

  008cb	e9 6a 02 00 00	 jmp	 $LN36@MainFuncti
$LN22@MainFuncti:

; 246  : 				}
; 247  : 				lpObj->Money -= this->TickPrice;

  008d0	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008d3	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  008d6	8b 90 f0 00 00
	00		 mov	 edx, DWORD PTR [eax+240]
  008dc	2b 51 30	 sub	 edx, DWORD PTR [ecx+48]
  008df	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008e2	89 90 f0 00 00
	00		 mov	 DWORD PTR [eax+240], edx
  008e8	e9 d0 01 00 00	 jmp	 $LN11@MainFuncti
$LN23@MainFuncti:

; 248  : 			}
; 249  : 			else if (this->TickPriceType == 1)

  008ed	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  008f0	83 78 2c 01	 cmp	 DWORD PTR [eax+44], 1
  008f4	75 64		 jne	 SHORT $LN20@MainFuncti

; 250  : 			{
; 251  : 				if (this->TickPrice > lpObj->ExCred)

  008f6	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  008f9	db 40 30	 fild	 DWORD PTR [eax+48]
  008fc	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  008ff	d9 81 a8 22 00
	00		 fld	 DWORD PTR [ecx+8872]
  00905	de d9		 fcompp
  00907	df e0		 fnstsw	 ax
  00909	f6 c4 05	 test	 ah, 5
  0090c	7a 2f		 jp	 SHORT $LN19@MainFuncti

; 252  : 				{
; 253  : 					GJPUserClose(lpObj->AccountID);

  0090e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00911	83 c0 6c	 add	 eax, 108		; 0000006cH
  00914	50		 push	 eax
  00915	e8 00 00 00 00	 call	 ?GJPUserClose@@YAXPAD@Z	; GJPUserClose
  0091a	83 c4 04	 add	 esp, 4

; 254  : 					gObjDel(lpObj->m_Index);

  0091d	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00920	8b 08		 mov	 ecx, DWORD PTR [eax]
  00922	51		 push	 ecx
  00923	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  00928	83 c4 04	 add	 esp, 4

; 255  : 					lpObj->OffExp = 0;

  0092b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0092e	c7 80 98 22 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+8856], 0

; 256  : 					return;

  00938	e9 fd 01 00 00	 jmp	 $LN36@MainFuncti
$LN19@MainFuncti:

; 257  : 				}
; 258  : 				lpObj->ExCred -= this->TickPrice;

  0093d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00940	db 40 30	 fild	 DWORD PTR [eax+48]
  00943	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00946	d8 a9 a8 22 00
	00		 fsubr	 DWORD PTR [ecx+8872]
  0094c	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0094f	d9 9a a8 22 00
	00		 fstp	 DWORD PTR [edx+8872]
  00955	e9 63 01 00 00	 jmp	 $LN11@MainFuncti
$LN20@MainFuncti:

; 259  : 			}
; 260  : 			else if (this->TickPriceType == 2)

  0095a	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0095d	83 78 2c 02	 cmp	 DWORD PTR [eax+44], 2
  00961	75 70		 jne	 SHORT $LN17@MainFuncti

; 261  : 			{
; 262  : 				if (this->TickPrice > lpObj->GameShop.WCoinC)

  00963	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00966	db 40 30	 fild	 DWORD PTR [eax+48]
  00969	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0096c	dc 99 00 23 00
	00		 fcomp	 QWORD PTR [ecx+8960]
  00972	df e0		 fnstsw	 ax
  00974	f6 c4 41	 test	 ah, 65			; 00000041H
  00977	75 2f		 jne	 SHORT $LN16@MainFuncti

; 263  : 				{
; 264  : 					GJPUserClose(lpObj->AccountID);

  00979	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0097c	83 c0 6c	 add	 eax, 108		; 0000006cH
  0097f	50		 push	 eax
  00980	e8 00 00 00 00	 call	 ?GJPUserClose@@YAXPAD@Z	; GJPUserClose
  00985	83 c4 04	 add	 esp, 4

; 265  : 					gObjDel(lpObj->m_Index);

  00988	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0098b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0098d	51		 push	 ecx
  0098e	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  00993	83 c4 04	 add	 esp, 4

; 266  : 					lpObj->OffExp = 0;

  00996	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00999	c7 80 98 22 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+8856], 0

; 267  : 					return;

  009a3	e9 92 01 00 00	 jmp	 $LN36@MainFuncti
$LN16@MainFuncti:

; 268  : 				}
; 269  : 				lpObj->GameShop.WCoinC -= this->TickPrice;

  009a8	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  009ab	db 40 30	 fild	 DWORD PTR [eax+48]
  009ae	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  009b1	dc a9 00 23 00
	00		 fsubr	 QWORD PTR [ecx+8960]
  009b7	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  009ba	dd 9a 00 23 00
	00		 fstp	 QWORD PTR [edx+8960]

; 270  : 				gGameShop.GDSaveUserInfo(aIndex);

  009c0	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  009c3	50		 push	 eax
  009c4	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  009c9	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo
  009ce	e9 ea 00 00 00	 jmp	 $LN11@MainFuncti
$LN17@MainFuncti:

; 271  : 			}
; 272  : 			else if (this->TickPriceType == 3)

  009d3	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  009d6	83 78 2c 03	 cmp	 DWORD PTR [eax+44], 3
  009da	75 6d		 jne	 SHORT $LN14@MainFuncti

; 273  : 			{
; 274  : 				if (this->TickPrice > lpObj->GameShop.WCoinP)

  009dc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  009df	db 40 30	 fild	 DWORD PTR [eax+48]
  009e2	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  009e5	dc 99 f8 22 00
	00		 fcomp	 QWORD PTR [ecx+8952]
  009eb	df e0		 fnstsw	 ax
  009ed	f6 c4 41	 test	 ah, 65			; 00000041H
  009f0	75 2f		 jne	 SHORT $LN13@MainFuncti

; 275  : 				{
; 276  : 					GJPUserClose(lpObj->AccountID);

  009f2	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  009f5	83 c0 6c	 add	 eax, 108		; 0000006cH
  009f8	50		 push	 eax
  009f9	e8 00 00 00 00	 call	 ?GJPUserClose@@YAXPAD@Z	; GJPUserClose
  009fe	83 c4 04	 add	 esp, 4

; 277  : 					gObjDel(lpObj->m_Index);

  00a01	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00a04	8b 08		 mov	 ecx, DWORD PTR [eax]
  00a06	51		 push	 ecx
  00a07	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  00a0c	83 c4 04	 add	 esp, 4

; 278  : 					lpObj->OffExp = 0;

  00a0f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00a12	c7 80 98 22 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+8856], 0

; 279  : 					return;

  00a1c	e9 19 01 00 00	 jmp	 $LN36@MainFuncti
$LN13@MainFuncti:

; 280  : 				}
; 281  : 				lpObj->GameShop.WCoinP -= this->TickPrice;

  00a21	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00a24	db 40 30	 fild	 DWORD PTR [eax+48]
  00a27	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00a2a	dc a9 f8 22 00
	00		 fsubr	 QWORD PTR [ecx+8952]
  00a30	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00a33	dd 9a f8 22 00
	00		 fstp	 QWORD PTR [edx+8952]

; 282  : 				gGameShop.GDSaveUserInfo(aIndex);

  00a39	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00a3c	50		 push	 eax
  00a3d	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  00a42	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo
  00a47	eb 74		 jmp	 SHORT $LN11@MainFuncti
$LN14@MainFuncti:

; 283  : 			}
; 284  : 			else if (this->TickPriceType == 4)

  00a49	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00a4c	83 78 2c 04	 cmp	 DWORD PTR [eax+44], 4
  00a50	75 6b		 jne	 SHORT $LN11@MainFuncti

; 285  : 			{
; 286  : 				if (this->TickPrice > lpObj->GameShop.GoblinPoint)

  00a52	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00a55	db 40 30	 fild	 DWORD PTR [eax+48]
  00a58	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00a5b	dc 99 08 23 00
	00		 fcomp	 QWORD PTR [ecx+8968]
  00a61	df e0		 fnstsw	 ax
  00a63	f6 c4 41	 test	 ah, 65			; 00000041H
  00a66	75 2f		 jne	 SHORT $LN10@MainFuncti

; 287  : 				{
; 288  : 					GJPUserClose(lpObj->AccountID);

  00a68	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00a6b	83 c0 6c	 add	 eax, 108		; 0000006cH
  00a6e	50		 push	 eax
  00a6f	e8 00 00 00 00	 call	 ?GJPUserClose@@YAXPAD@Z	; GJPUserClose
  00a74	83 c4 04	 add	 esp, 4

; 289  : 					gObjDel(lpObj->m_Index);

  00a77	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00a7a	8b 08		 mov	 ecx, DWORD PTR [eax]
  00a7c	51		 push	 ecx
  00a7d	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  00a82	83 c4 04	 add	 esp, 4

; 290  : 					lpObj->OffExp = 0;

  00a85	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00a88	c7 80 98 22 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+8856], 0

; 291  : 					return;

  00a92	e9 a3 00 00 00	 jmp	 $LN36@MainFuncti
$LN10@MainFuncti:

; 292  : 				}
; 293  : 				lpObj->GameShop.GoblinPoint -= this->TickPrice;

  00a97	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00a9a	db 40 30	 fild	 DWORD PTR [eax+48]
  00a9d	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00aa0	dc a9 08 23 00
	00		 fsubr	 QWORD PTR [ecx+8968]
  00aa6	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00aa9	dd 9a 08 23 00
	00		 fstp	 QWORD PTR [edx+8968]

; 294  : 				gGameShop.GDSaveUserInfo(aIndex);

  00aaf	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00ab2	50		 push	 eax
  00ab3	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  00ab8	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo
$LN11@MainFuncti:

; 295  : 			}
; 296  : 		}
; 297  : 	}
; 298  : 
; 299  : 
; 300  : 	switch(lpObj->Class)

  00abd	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00ac0	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  00ac7	89 4d b4	 mov	 DWORD PTR tv244[ebp], ecx
  00aca	83 7d b4 06	 cmp	 DWORD PTR tv244[ebp], 6
  00ace	77 6a		 ja	 SHORT $LN8@MainFuncti
  00ad0	8b 55 b4	 mov	 edx, DWORD PTR tv244[ebp]
  00ad3	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN38@MainFuncti[edx*4]
$LN7@MainFuncti:

; 301  : 	{
; 302  : 		case 0:	this->DarkWizardOff(lpObj);		break;

  00ada	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00add	50		 push	 eax
  00ade	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00ae1	e8 00 00 00 00	 call	 ?DarkWizardOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ; cOffExp::DarkWizardOff
  00ae6	eb 52		 jmp	 SHORT $LN8@MainFuncti
$LN6@MainFuncti:

; 303  : 		case 1:	this->DarkKnightOff(lpObj);		break;

  00ae8	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00aeb	50		 push	 eax
  00aec	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00aef	e8 00 00 00 00	 call	 ?DarkKnightOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ; cOffExp::DarkKnightOff
  00af4	eb 44		 jmp	 SHORT $LN8@MainFuncti
$LN5@MainFuncti:

; 304  : 		case 2:	this->FairyElfOff(lpObj);		break;

  00af6	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00af9	50		 push	 eax
  00afa	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00afd	e8 00 00 00 00	 call	 ?FairyElfOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ; cOffExp::FairyElfOff
  00b02	eb 36		 jmp	 SHORT $LN8@MainFuncti
$LN4@MainFuncti:

; 305  : 		case 3:	this->MagicGladiatorOff(lpObj);	break;

  00b04	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00b07	50		 push	 eax
  00b08	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00b0b	e8 00 00 00 00	 call	 ?MagicGladiatorOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ; cOffExp::MagicGladiatorOff
  00b10	eb 28		 jmp	 SHORT $LN8@MainFuncti
$LN3@MainFuncti:

; 306  : 		case 4:	this->DarkLordOff(lpObj);		break;

  00b12	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00b15	50		 push	 eax
  00b16	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00b19	e8 00 00 00 00	 call	 ?DarkLordOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ; cOffExp::DarkLordOff
  00b1e	eb 1a		 jmp	 SHORT $LN8@MainFuncti
$LN2@MainFuncti:

; 307  : 		case 5:	this->SummonerOff(lpObj);		break;

  00b20	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00b23	50		 push	 eax
  00b24	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00b27	e8 00 00 00 00	 call	 ?SummonerOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ; cOffExp::SummonerOff
  00b2c	eb 0c		 jmp	 SHORT $LN8@MainFuncti
$LN1@MainFuncti:

; 308  : 		case 6: this->RageFighterOff(lpObj);	break;

  00b2e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00b31	50		 push	 eax
  00b32	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00b35	e8 00 00 00 00	 call	 ?RageFighterOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ; cOffExp::RageFighterOff
$LN8@MainFuncti:
$LN36@MainFuncti:

; 309  : 	}
; 310  : }

  00b3a	5f		 pop	 edi
  00b3b	5e		 pop	 esi
  00b3c	5b		 pop	 ebx
  00b3d	8b e5		 mov	 esp, ebp
  00b3f	5d		 pop	 ebp
  00b40	c2 04 00	 ret	 4
  00b43	90		 npad	 1
$LN38@MainFuncti:
  00b44	00 00 00 00	 DD	 $LN7@MainFuncti
  00b48	00 00 00 00	 DD	 $LN6@MainFuncti
  00b4c	00 00 00 00	 DD	 $LN5@MainFuncti
  00b50	00 00 00 00	 DD	 $LN4@MainFuncti
  00b54	00 00 00 00	 DD	 $LN3@MainFuncti
  00b58	00 00 00 00	 DD	 $LN2@MainFuncti
  00b5c	00 00 00 00	 DD	 $LN1@MainFuncti
?MainFunction@cOffExp@@QAEXH@Z ENDP			; cOffExp::MainFunction
_TEXT	ENDS
PUBLIC	?UseMana@cOffExp@@QAEXH@Z			; cOffExp::UseMana
EXTRN	?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z:PROC ; gObjAttack
EXTRN	?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z:PROC	; gObjCalDistance
EXTRN	?GetAttr@MapClass@@QAEEHH@Z:PROC		; MapClass::GetAttr
EXTRN	?MapC@@3PAVMapClass@@A:BYTE			; MapC
EXTRN	?UseSkill@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z:PROC ; CObjUseSkill::UseSkill
EXTRN	?gObjUseSkill@@3VCObjUseSkill@@A:DWORD		; gObjUseSkill
EXTRN	?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z:PROC ; gObjGetMagicSearch
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_n$229959 = -28						; size = 4
_attr$ = -21						; size = 1
_tObjNum$ = -20						; size = 4
_dis$ = -16						; size = 4
_lpMagic$ = -12						; size = 4
_SearchSkill$ = -8					; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
?DarkWizardOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z PROC	; cOffExp::DarkWizardOff
; _this$ = ecx

; 315  : {

  00b60	55		 push	 ebp
  00b61	8b ec		 mov	 ebp, esp
  00b63	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00b66	53		 push	 ebx
  00b67	56		 push	 esi
  00b68	57		 push	 edi
  00b69	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 316  : 	int SearchSkill = 0;

  00b6c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 0

; 317  : 	CMagicInf * lpMagic;
; 318  : 
; 319  : 	if(gObjGetMagicSearch( lpObj, 9) != NULL) SearchSkill = 9;

  00b73	6a 09		 push	 9
  00b75	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00b78	50		 push	 eax
  00b79	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00b7e	83 c4 08	 add	 esp, 8
  00b81	85 c0		 test	 eax, eax
  00b83	74 0c		 je	 SHORT $LN21@DarkWizard
  00b85	c7 45 f8 09 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 9
  00b8c	e9 9b 00 00 00	 jmp	 $LN20@DarkWizard
$LN21@DarkWizard:

; 320  : 	else if(gObjGetMagicSearch( lpObj, 445) != NULL) SearchSkill = 445;

  00b91	68 bd 01 00 00	 push	 445			; 000001bdH
  00b96	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00b99	50		 push	 eax
  00b9a	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00b9f	83 c4 08	 add	 esp, 8
  00ba2	85 c0		 test	 eax, eax
  00ba4	74 09		 je	 SHORT $LN19@DarkWizard
  00ba6	c7 45 f8 bd 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 445 ; 000001bdH
  00bad	eb 7d		 jmp	 SHORT $LN20@DarkWizard
$LN19@DarkWizard:

; 321  : 	else if(gObjGetMagicSearch( lpObj, 446) != NULL) SearchSkill = 446;

  00baf	68 be 01 00 00	 push	 446			; 000001beH
  00bb4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00bb7	50		 push	 eax
  00bb8	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00bbd	83 c4 08	 add	 esp, 8
  00bc0	85 c0		 test	 eax, eax
  00bc2	74 09		 je	 SHORT $LN17@DarkWizard
  00bc4	c7 45 f8 be 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 446 ; 000001beH
  00bcb	eb 5f		 jmp	 SHORT $LN20@DarkWizard
$LN17@DarkWizard:

; 322  : 	else if(gObjGetMagicSearch( lpObj, 447) != NULL) SearchSkill = 447;

  00bcd	68 bf 01 00 00	 push	 447			; 000001bfH
  00bd2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00bd5	50		 push	 eax
  00bd6	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00bdb	83 c4 08	 add	 esp, 8
  00bde	85 c0		 test	 eax, eax
  00be0	74 09		 je	 SHORT $LN15@DarkWizard
  00be2	c7 45 f8 bf 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 447 ; 000001bfH
  00be9	eb 41		 jmp	 SHORT $LN20@DarkWizard
$LN15@DarkWizard:

; 323  : 	else if(gObjGetMagicSearch( lpObj, 448) != NULL) SearchSkill = 448;

  00beb	68 c0 01 00 00	 push	 448			; 000001c0H
  00bf0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00bf3	50		 push	 eax
  00bf4	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00bf9	83 c4 08	 add	 esp, 8
  00bfc	85 c0		 test	 eax, eax
  00bfe	74 09		 je	 SHORT $LN13@DarkWizard
  00c00	c7 45 f8 c0 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 448 ; 000001c0H
  00c07	eb 23		 jmp	 SHORT $LN20@DarkWizard
$LN13@DarkWizard:

; 324  : 	else if(gObjGetMagicSearch( lpObj, 449) != NULL) SearchSkill = 449;

  00c09	68 c1 01 00 00	 push	 449			; 000001c1H
  00c0e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00c11	50		 push	 eax
  00c12	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00c17	83 c4 08	 add	 esp, 8
  00c1a	85 c0		 test	 eax, eax
  00c1c	74 09		 je	 SHORT $LN11@DarkWizard
  00c1e	c7 45 f8 c1 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 449 ; 000001c1H

; 325  : 	else return;

  00c25	eb 05		 jmp	 SHORT $LN20@DarkWizard
$LN11@DarkWizard:
  00c27	e9 84 01 00 00	 jmp	 $LN22@DarkWizard
$LN20@DarkWizard:

; 326  : 
; 327  : 	lpMagic = gObjGetMagicSearch( lpObj, SearchSkill);

  00c2c	8b 45 f8	 mov	 eax, DWORD PTR _SearchSkill$[ebp]
  00c2f	50		 push	 eax
  00c30	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00c33	51		 push	 ecx
  00c34	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00c39	83 c4 08	 add	 esp, 8
  00c3c	89 45 f4	 mov	 DWORD PTR _lpMagic$[ebp], eax

; 328  : 	if(lpMagic==NULL) return;

  00c3f	83 7d f4 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  00c43	75 05		 jne	 SHORT $LN9@DarkWizard
  00c45	e9 66 01 00 00	 jmp	 $LN22@DarkWizard
$LN9@DarkWizard:

; 329  : 
; 330  : 	gObjUseSkill.UseSkill(lpObj->m_Index, lpMagic,lpObj->X, lpObj->Y,0,0,-1);

  00c4a	6a ff		 push	 -1
  00c4c	6a 00		 push	 0
  00c4e	6a 00		 push	 0
  00c50	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00c53	0f b6 88 46 01
	00 00		 movzx	 ecx, BYTE PTR [eax+326]
  00c5a	51		 push	 ecx
  00c5b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00c5e	0f b6 82 44 01
	00 00		 movzx	 eax, BYTE PTR [edx+324]
  00c65	50		 push	 eax
  00c66	8b 4d f4	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  00c69	51		 push	 ecx
  00c6a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00c6d	8b 02		 mov	 eax, DWORD PTR [edx]
  00c6f	50		 push	 eax
  00c70	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  00c75	e8 00 00 00 00	 call	 ?UseSkill@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::UseSkill

; 331  : 
; 332  : 	int dis;
; 333  : 	int tObjNum;
; 334  : 	BYTE attr;
; 335  : 	for (int n=0;n<MAX_VIEWPORT_MONSTER;n++)

  00c7a	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _n$229959[ebp], 0
  00c81	eb 09		 jmp	 SHORT $LN8@DarkWizard
$LN7@DarkWizard:
  00c83	8b 45 e4	 mov	 eax, DWORD PTR _n$229959[ebp]
  00c86	83 c0 01	 add	 eax, 1
  00c89	89 45 e4	 mov	 DWORD PTR _n$229959[ebp], eax
$LN8@DarkWizard:
  00c8c	83 7d e4 4b	 cmp	 DWORD PTR _n$229959[ebp], 75 ; 0000004bH
  00c90	0f 8d 0c 01 00
	00		 jge	 $LN6@DarkWizard

; 336  : 	{
; 337  : 		tObjNum = lpObj->VpPlayer2[n].number;

  00c96	8b 45 e4	 mov	 eax, DWORD PTR _n$229959[ebp]
  00c99	6b c0 0c	 imul	 eax, 12			; 0000000cH
  00c9c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00c9f	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  00ca7	89 55 ec	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 338  : 		if(lpObj->VpPlayer2[n].state == 0) continue;

  00caa	8b 45 e4	 mov	 eax, DWORD PTR _n$229959[ebp]
  00cad	6b c0 0c	 imul	 eax, 12			; 0000000cH
  00cb0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00cb3	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  00cbb	85 d2		 test	 edx, edx
  00cbd	75 02		 jne	 SHORT $LN5@DarkWizard
  00cbf	eb c2		 jmp	 SHORT $LN7@DarkWizard
$LN5@DarkWizard:

; 339  : 		if ( tObjNum >= 0 )

  00cc1	83 7d ec 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  00cc5	0f 8c d2 00 00
	00		 jl	 $LN4@DarkWizard

; 340  : 		{
; 341  : 			if ( gObj[tObjNum].Type == OBJ_MONSTER )

  00ccb	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00cce	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00cd4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00cda	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  00cdf	83 fa 02	 cmp	 edx, 2
  00ce2	0f 85 b5 00 00
	00		 jne	 $LN4@DarkWizard

; 342  : 			{
; 343  : 				attr = MapC[gObj[tObjNum].MapNumber].GetAttr(gObj[tObjNum].X, gObj[tObjNum].Y);

  00ce8	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00ceb	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00cf1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00cf7	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  00cff	52		 push	 edx
  00d00	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00d03	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00d09	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00d0f	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  00d17	52		 push	 edx
  00d18	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00d1b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00d21	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00d27	0f b6 8c 01 49
	01 00 00	 movzx	 ecx, BYTE PTR [ecx+eax+329]
  00d2f	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  00d35	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00d3b	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  00d40	88 45 eb	 mov	 BYTE PTR _attr$[ebp], al

; 344  : 				if ( (attr&1) != 1 )

  00d43	0f b6 45 eb	 movzx	 eax, BYTE PTR _attr$[ebp]
  00d47	83 e0 01	 and	 eax, 1
  00d4a	75 51		 jne	 SHORT $LN4@DarkWizard

; 345  : 				{
; 346  : 					dis = gObjCalDistance(lpObj, &gObj[tObjNum]);

  00d4c	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00d4f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00d55	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00d5b	50		 push	 eax
  00d5c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00d5f	51		 push	 ecx
  00d60	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  00d65	83 c4 08	 add	 esp, 8
  00d68	89 45 f0	 mov	 DWORD PTR _dis$[ebp], eax

; 347  : 					if(6 >= dis)

  00d6b	83 7d f0 06	 cmp	 DWORD PTR _dis$[ebp], 6
  00d6f	7f 2c		 jg	 SHORT $LN4@DarkWizard

; 348  : 					{
; 349  : 						gObjAttack(lpObj, &gObj[tObjNum], lpMagic, FALSE, 1, 0, FALSE,0,0);

  00d71	6a 00		 push	 0
  00d73	6a 00		 push	 0
  00d75	6a 00		 push	 0
  00d77	6a 00		 push	 0
  00d79	6a 01		 push	 1
  00d7b	6a 00		 push	 0
  00d7d	8b 45 f4	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00d80	50		 push	 eax
  00d81	8b 4d ec	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  00d84	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00d8a	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00d90	51		 push	 ecx
  00d91	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00d94	52		 push	 edx
  00d95	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  00d9a	83 c4 24	 add	 esp, 36			; 00000024H
$LN4@DarkWizard:

; 350  : 					}
; 351  : 				}
; 352  : 			}
; 353  : 		}
; 354  : 	}

  00d9d	e9 e1 fe ff ff	 jmp	 $LN7@DarkWizard
$LN6@DarkWizard:

; 355  : 
; 356  : 	this->UseMana(lpObj->m_Index);

  00da2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00da5	8b 08		 mov	 ecx, DWORD PTR [eax]
  00da7	51		 push	 ecx
  00da8	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00dab	e8 00 00 00 00	 call	 ?UseMana@cOffExp@@QAEXH@Z ; cOffExp::UseMana
$LN22@DarkWizard:

; 357  : }

  00db0	5f		 pop	 edi
  00db1	5e		 pop	 esi
  00db2	5b		 pop	 ebx
  00db3	8b e5		 mov	 esp, ebp
  00db5	5d		 pop	 ebp
  00db6	c2 04 00	 ret	 4
?DarkWizardOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ENDP	; cOffExp::DarkWizardOff
; Function compile flags: /Odtp /ZI
_n$229990 = -28					; size = 4
_attr$ = -21						; size = 1
_tObjNum$ = -20						; size = 4
_dis$ = -16						; size = 4
_lpMagic$ = -12						; size = 4
_SearchSkill$ = -8					; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
?DarkKnightOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z PROC	; cOffExp::DarkKnightOff
; _this$ = ecx

; 362  : {

  00dc0	55		 push	 ebp
  00dc1	8b ec		 mov	 ebp, esp
  00dc3	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00dc6	53		 push	 ebx
  00dc7	56		 push	 esi
  00dc8	57		 push	 edi
  00dc9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 363  : 	int SearchSkill = 0;

  00dcc	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 0

; 364  : 	CMagicInf * lpMagic;
; 365  : 
; 366  : 	if(gObjGetMagicSearch( lpObj, 41) != NULL) SearchSkill = 41;

  00dd3	6a 29		 push	 41			; 00000029H
  00dd5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00dd8	50		 push	 eax
  00dd9	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00dde	83 c4 08	 add	 esp, 8
  00de1	85 c0		 test	 eax, eax
  00de3	74 0c		 je	 SHORT $LN21@DarkKnight
  00de5	c7 45 f8 29 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 41 ; 00000029H
  00dec	e9 9b 00 00 00	 jmp	 $LN20@DarkKnight
$LN21@DarkKnight:

; 367  : 	else if(gObjGetMagicSearch( lpObj, 455) != NULL) SearchSkill = 455;

  00df1	68 c7 01 00 00	 push	 455			; 000001c7H
  00df6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00df9	50		 push	 eax
  00dfa	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00dff	83 c4 08	 add	 esp, 8
  00e02	85 c0		 test	 eax, eax
  00e04	74 09		 je	 SHORT $LN19@DarkKnight
  00e06	c7 45 f8 c7 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 455 ; 000001c7H
  00e0d	eb 7d		 jmp	 SHORT $LN20@DarkKnight
$LN19@DarkKnight:

; 368  : 	else if(gObjGetMagicSearch( lpObj, 456) != NULL) SearchSkill = 456;

  00e0f	68 c8 01 00 00	 push	 456			; 000001c8H
  00e14	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e17	50		 push	 eax
  00e18	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00e1d	83 c4 08	 add	 esp, 8
  00e20	85 c0		 test	 eax, eax
  00e22	74 09		 je	 SHORT $LN17@DarkKnight
  00e24	c7 45 f8 c8 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 456 ; 000001c8H
  00e2b	eb 5f		 jmp	 SHORT $LN20@DarkKnight
$LN17@DarkKnight:

; 369  : 	else if(gObjGetMagicSearch( lpObj, 457) != NULL) SearchSkill = 457;

  00e2d	68 c9 01 00 00	 push	 457			; 000001c9H
  00e32	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e35	50		 push	 eax
  00e36	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00e3b	83 c4 08	 add	 esp, 8
  00e3e	85 c0		 test	 eax, eax
  00e40	74 09		 je	 SHORT $LN15@DarkKnight
  00e42	c7 45 f8 c9 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 457 ; 000001c9H
  00e49	eb 41		 jmp	 SHORT $LN20@DarkKnight
$LN15@DarkKnight:

; 370  : 	else if(gObjGetMagicSearch( lpObj, 458) != NULL) SearchSkill = 458;

  00e4b	68 ca 01 00 00	 push	 458			; 000001caH
  00e50	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e53	50		 push	 eax
  00e54	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00e59	83 c4 08	 add	 esp, 8
  00e5c	85 c0		 test	 eax, eax
  00e5e	74 09		 je	 SHORT $LN13@DarkKnight
  00e60	c7 45 f8 ca 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 458 ; 000001caH
  00e67	eb 23		 jmp	 SHORT $LN20@DarkKnight
$LN13@DarkKnight:

; 371  : 	else if(gObjGetMagicSearch( lpObj, 459) != NULL) SearchSkill = 459;

  00e69	68 cb 01 00 00	 push	 459			; 000001cbH
  00e6e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e71	50		 push	 eax
  00e72	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00e77	83 c4 08	 add	 esp, 8
  00e7a	85 c0		 test	 eax, eax
  00e7c	74 09		 je	 SHORT $LN11@DarkKnight
  00e7e	c7 45 f8 cb 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 459 ; 000001cbH

; 372  : 	else return;

  00e85	eb 05		 jmp	 SHORT $LN20@DarkKnight
$LN11@DarkKnight:
  00e87	e9 84 01 00 00	 jmp	 $LN22@DarkKnight
$LN20@DarkKnight:

; 373  : 
; 374  : 	lpMagic = gObjGetMagicSearch( lpObj, SearchSkill);

  00e8c	8b 45 f8	 mov	 eax, DWORD PTR _SearchSkill$[ebp]
  00e8f	50		 push	 eax
  00e90	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00e93	51		 push	 ecx
  00e94	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00e99	83 c4 08	 add	 esp, 8
  00e9c	89 45 f4	 mov	 DWORD PTR _lpMagic$[ebp], eax

; 375  : 	if(lpMagic==NULL) return;

  00e9f	83 7d f4 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  00ea3	75 05		 jne	 SHORT $LN9@DarkKnight
  00ea5	e9 66 01 00 00	 jmp	 $LN22@DarkKnight
$LN9@DarkKnight:

; 376  : 
; 377  : 	gObjUseSkill.UseSkill(lpObj->m_Index, lpMagic,lpObj->X, lpObj->Y,0,0,-1);

  00eaa	6a ff		 push	 -1
  00eac	6a 00		 push	 0
  00eae	6a 00		 push	 0
  00eb0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00eb3	0f b6 88 46 01
	00 00		 movzx	 ecx, BYTE PTR [eax+326]
  00eba	51		 push	 ecx
  00ebb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00ebe	0f b6 82 44 01
	00 00		 movzx	 eax, BYTE PTR [edx+324]
  00ec5	50		 push	 eax
  00ec6	8b 4d f4	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  00ec9	51		 push	 ecx
  00eca	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00ecd	8b 02		 mov	 eax, DWORD PTR [edx]
  00ecf	50		 push	 eax
  00ed0	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  00ed5	e8 00 00 00 00	 call	 ?UseSkill@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::UseSkill

; 378  : 
; 379  : 	int dis;
; 380  : 	int tObjNum;
; 381  : 	BYTE attr;
; 382  : 	for (int n=0;n<MAX_VIEWPORT_MONSTER;n++)

  00eda	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _n$229990[ebp], 0
  00ee1	eb 09		 jmp	 SHORT $LN8@DarkKnight
$LN7@DarkKnight:
  00ee3	8b 45 e4	 mov	 eax, DWORD PTR _n$229990[ebp]
  00ee6	83 c0 01	 add	 eax, 1
  00ee9	89 45 e4	 mov	 DWORD PTR _n$229990[ebp], eax
$LN8@DarkKnight:
  00eec	83 7d e4 4b	 cmp	 DWORD PTR _n$229990[ebp], 75 ; 0000004bH
  00ef0	0f 8d 0c 01 00
	00		 jge	 $LN6@DarkKnight

; 383  : 	{
; 384  : 		tObjNum = lpObj->VpPlayer2[n].number;

  00ef6	8b 45 e4	 mov	 eax, DWORD PTR _n$229990[ebp]
  00ef9	6b c0 0c	 imul	 eax, 12			; 0000000cH
  00efc	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00eff	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  00f07	89 55 ec	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 385  : 		if(lpObj->VpPlayer2[n].state == 0) continue;

  00f0a	8b 45 e4	 mov	 eax, DWORD PTR _n$229990[ebp]
  00f0d	6b c0 0c	 imul	 eax, 12			; 0000000cH
  00f10	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00f13	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  00f1b	85 d2		 test	 edx, edx
  00f1d	75 02		 jne	 SHORT $LN5@DarkKnight
  00f1f	eb c2		 jmp	 SHORT $LN7@DarkKnight
$LN5@DarkKnight:

; 386  : 		if ( tObjNum >= 0 )

  00f21	83 7d ec 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  00f25	0f 8c d2 00 00
	00		 jl	 $LN4@DarkKnight

; 387  : 		{
; 388  : 			if ( gObj[tObjNum].Type == OBJ_MONSTER )

  00f2b	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00f2e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00f34	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00f3a	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  00f3f	83 fa 02	 cmp	 edx, 2
  00f42	0f 85 b5 00 00
	00		 jne	 $LN4@DarkKnight

; 389  : 			{
; 390  : 				attr = MapC[gObj[tObjNum].MapNumber].GetAttr(gObj[tObjNum].X, gObj[tObjNum].Y);

  00f48	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00f4b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00f51	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00f57	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  00f5f	52		 push	 edx
  00f60	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00f63	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00f69	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00f6f	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  00f77	52		 push	 edx
  00f78	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00f7b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00f81	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00f87	0f b6 8c 01 49
	01 00 00	 movzx	 ecx, BYTE PTR [ecx+eax+329]
  00f8f	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  00f95	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00f9b	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  00fa0	88 45 eb	 mov	 BYTE PTR _attr$[ebp], al

; 391  : 				if ( (attr&1) != 1 )

  00fa3	0f b6 45 eb	 movzx	 eax, BYTE PTR _attr$[ebp]
  00fa7	83 e0 01	 and	 eax, 1
  00faa	75 51		 jne	 SHORT $LN4@DarkKnight

; 392  : 				{
; 393  : 					dis = gObjCalDistance(lpObj, &gObj[tObjNum]);

  00fac	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00faf	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00fb5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00fbb	50		 push	 eax
  00fbc	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00fbf	51		 push	 ecx
  00fc0	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  00fc5	83 c4 08	 add	 esp, 8
  00fc8	89 45 f0	 mov	 DWORD PTR _dis$[ebp], eax

; 394  : 					if(2 >= dis)

  00fcb	83 7d f0 02	 cmp	 DWORD PTR _dis$[ebp], 2
  00fcf	7f 2c		 jg	 SHORT $LN4@DarkKnight

; 395  : 					{
; 396  : 						gObjAttack(lpObj, &gObj[tObjNum], lpMagic, FALSE, 1, 0, FALSE,0,0);

  00fd1	6a 00		 push	 0
  00fd3	6a 00		 push	 0
  00fd5	6a 00		 push	 0
  00fd7	6a 00		 push	 0
  00fd9	6a 01		 push	 1
  00fdb	6a 00		 push	 0
  00fdd	8b 45 f4	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00fe0	50		 push	 eax
  00fe1	8b 4d ec	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  00fe4	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00fea	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00ff0	51		 push	 ecx
  00ff1	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00ff4	52		 push	 edx
  00ff5	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  00ffa	83 c4 24	 add	 esp, 36			; 00000024H
$LN4@DarkKnight:

; 397  : 					}
; 398  : 				}
; 399  : 			}
; 400  : 		}
; 401  : 	}

  00ffd	e9 e1 fe ff ff	 jmp	 $LN7@DarkKnight
$LN6@DarkKnight:

; 402  : 
; 403  : 	this->UseMana(lpObj->m_Index);

  01002	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01005	8b 08		 mov	 ecx, DWORD PTR [eax]
  01007	51		 push	 ecx
  01008	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0100b	e8 00 00 00 00	 call	 ?UseMana@cOffExp@@QAEXH@Z ; cOffExp::UseMana
$LN22@DarkKnight:

; 404  : }

  01010	5f		 pop	 edi
  01011	5e		 pop	 esi
  01012	5b		 pop	 ebx
  01013	8b e5		 mov	 esp, ebp
  01015	5d		 pop	 ebp
  01016	c2 04 00	 ret	 4
?DarkKnightOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ENDP	; cOffExp::DarkKnightOff
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	_rand:PROC
EXTRN	?UseSkill@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z:PROC ; CObjUseSkill::UseSkill
EXTRN	?gParty@@3VPartyClass@@A:BYTE			; gParty
EXTRN	__imp__GetLocalTime@4:PROC
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_n$230116 = -104					; size = 4
_StartDir$230115 = -100					; size = 4
_NumDir$230114 = -96					; size = 24
_Left$ = -72						; size = 4
_Right$ = -68						; size = 4
_j$230016 = -64						; size = 4
_lpPartyObj$230014 = -60				; size = 4
_number$230013 = -56					; size = 4
_partycount$230012 = -52				; size = 4
_partynum$230011 = -48					; size = 4
_time$ = -44						; size = 16
_lpMagic$ = -28						; size = 4
_attr$ = -21						; size = 1
_tObjNum$ = -20						; size = 4
_dis$ = -16						; size = 4
_SearchSkill$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?FairyElfOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z PROC	; cOffExp::FairyElfOff
; _this$ = ecx

; 409  : {

  01020	55		 push	 ebp
  01021	8b ec		 mov	 ebp, esp
  01023	81 ec a8 00 00
	00		 sub	 esp, 168		; 000000a8H
  01029	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0102e	33 c5		 xor	 eax, ebp
  01030	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01033	53		 push	 ebx
  01034	56		 push	 esi
  01035	57		 push	 edi
  01036	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 410  : 	int SearchSkill = 0;

  01039	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 0

; 411  : 	int dis;
; 412  : 	int tObjNum;
; 413  : 	BYTE attr;
; 414  : 
; 415  : 	CMagicInf * lpMagic;
; 416  : 
; 417  : 	//Buff
; 418  : 	SYSTEMTIME time;
; 419  : 	GetLocalTime(&time);

  01040	8d 45 d4	 lea	 eax, DWORD PTR _time$[ebp]
  01043	50		 push	 eax
  01044	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetLocalTime@4

; 420  : 	if( time.wSecond == 0  || 
; 421  : 	    time.wSecond == 10 ||
; 422  : 	    time.wSecond == 20 ||
; 423  : 	    time.wSecond == 30 ||
; 424  : 	    time.wSecond == 40 ||
; 425  : 	    time.wSecond == 50 )

  0104a	0f b7 45 e0	 movzx	 eax, WORD PTR _time$[ebp+12]
  0104e	85 c0		 test	 eax, eax
  01050	74 31		 je	 SHORT $LN105@FairyElfOf
  01052	0f b7 45 e0	 movzx	 eax, WORD PTR _time$[ebp+12]
  01056	83 f8 0a	 cmp	 eax, 10			; 0000000aH
  01059	74 28		 je	 SHORT $LN105@FairyElfOf
  0105b	0f b7 45 e0	 movzx	 eax, WORD PTR _time$[ebp+12]
  0105f	83 f8 14	 cmp	 eax, 20			; 00000014H
  01062	74 1f		 je	 SHORT $LN105@FairyElfOf
  01064	0f b7 45 e0	 movzx	 eax, WORD PTR _time$[ebp+12]
  01068	83 f8 1e	 cmp	 eax, 30			; 0000001eH
  0106b	74 16		 je	 SHORT $LN105@FairyElfOf
  0106d	0f b7 45 e0	 movzx	 eax, WORD PTR _time$[ebp+12]
  01071	83 f8 28	 cmp	 eax, 40			; 00000028H
  01074	74 0d		 je	 SHORT $LN105@FairyElfOf
  01076	0f b7 45 e0	 movzx	 eax, WORD PTR _time$[ebp+12]
  0107a	83 f8 32	 cmp	 eax, 50			; 00000032H
  0107d	0f 85 7e 06 00
	00		 jne	 $LN106@FairyElfOf
$LN105@FairyElfOf:

; 426  : 	{
; 427  : 		int partynum = -1;

  01083	c7 45 d0 ff ff
	ff ff		 mov	 DWORD PTR _partynum$230011[ebp], -1

; 428  : 		int partycount;
; 429  : 		int number;
; 430  : 
; 431  : 		LPOBJ lpPartyObj;
; 432  : 
; 433  : 		partynum = lpObj->PartyNumber;

  0108a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0108d	8b 88 2c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1068]
  01093	89 4d d0	 mov	 DWORD PTR _partynum$230011[ebp], ecx

; 434  : 
; 435  : 		if(partynum != -1)

  01096	83 7d d0 ff	 cmp	 DWORD PTR _partynum$230011[ebp], -1
  0109a	0f 84 85 03 00
	00		 je	 $LN104@FairyElfOf

; 436  : 		{
; 437  : 			partycount = gParty.m_PartyS[partynum].Count;

  010a0	8b 45 d0	 mov	 eax, DWORD PTR _partynum$230011[ebp]
  010a3	6b c0 6c	 imul	 eax, 108		; 0000006cH
  010a6	8b 88 08 00 00
	00		 mov	 ecx, DWORD PTR ?gParty@@3VPartyClass@@A[eax+8]
  010ac	89 4d cc	 mov	 DWORD PTR _partycount$230012[ebp], ecx

; 438  : 
; 439  : 			for(int j = 0; j < MAX_USER_IN_PARTY; j++)

  010af	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _j$230016[ebp], 0
  010b6	eb 09		 jmp	 SHORT $LN103@FairyElfOf
$LN102@FairyElfOf:
  010b8	8b 45 c0	 mov	 eax, DWORD PTR _j$230016[ebp]
  010bb	83 c0 01	 add	 eax, 1
  010be	89 45 c0	 mov	 DWORD PTR _j$230016[ebp], eax
$LN103@FairyElfOf:
  010c1	83 7d c0 0a	 cmp	 DWORD PTR _j$230016[ebp], 10 ; 0000000aH
  010c5	0f 8d 55 03 00
	00		 jge	 $LN101@FairyElfOf

; 440  : 			{
; 441  : 				number = gParty.m_PartyS[partynum].Number[j];

  010cb	8b 45 d0	 mov	 eax, DWORD PTR _partynum$230011[ebp]
  010ce	6b c0 6c	 imul	 eax, 108		; 0000006cH
  010d1	8b 4d c0	 mov	 ecx, DWORD PTR _j$230016[ebp]
  010d4	8b 94 88 0c 00
	00 00		 mov	 edx, DWORD PTR ?gParty@@3VPartyClass@@A[eax+ecx*4+12]
  010db	89 55 c8	 mov	 DWORD PTR _number$230013[ebp], edx

; 442  : 
; 443  : 				if(number >= 0)

  010de	83 7d c8 00	 cmp	 DWORD PTR _number$230013[ebp], 0
  010e2	0f 8c 33 03 00
	00		 jl	 $LN100@FairyElfOf

; 444  : 				{
; 445  : 					lpPartyObj = &gObj[number];

  010e8	8b 45 c8	 mov	 eax, DWORD PTR _number$230013[ebp]
  010eb	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  010f1	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  010f7	89 45 c4	 mov	 DWORD PTR _lpPartyObj$230014[ebp], eax

; 446  : 
; 447  : 					if(lpObj->MapNumber == lpPartyObj->MapNumber)

  010fa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  010fd	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  01104	8b 55 c4	 mov	 edx, DWORD PTR _lpPartyObj$230014[ebp]
  01107	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0110e	3b c8		 cmp	 ecx, eax
  01110	0f 85 05 03 00
	00		 jne	 $LN100@FairyElfOf

; 448  : 					{
; 449  : 						dis = gObjCalDistance(lpObj,&gObj[number]);

  01116	8b 45 c8	 mov	 eax, DWORD PTR _number$230013[ebp]
  01119	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0111f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01125	50		 push	 eax
  01126	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01129	51		 push	 ecx
  0112a	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  0112f	83 c4 08	 add	 esp, 8
  01132	89 45 f0	 mov	 DWORD PTR _dis$[ebp], eax

; 450  : 
; 451  : 						if(dis < 6)

  01135	83 7d f0 06	 cmp	 DWORD PTR _dis$[ebp], 6
  01139	0f 8d dc 02 00
	00		 jge	 $LN100@FairyElfOf

; 452  : 						{
; 453  : 							////Defence Baf
; 454  : 							//lpMagic = gObjGetMagicSearch( lpObj, 27);
; 455  : 							//if(lpMagic!=NULL) gObjUseSkill.UseSkill(lpObj->m_Index, lpPartyObj->m_Index, lpMagic);
; 456  : 							////Damage Baf
; 457  : 							//lpMagic = gObjGetMagicSearch( lpObj, 28);
; 458  : 							//if(lpMagic!=NULL) gObjUseSkill.UseSkill(lpObj->m_Index, lpPartyObj->m_Index, lpMagic);
; 459  : 							////Heal Baf
; 460  : 							//lpMagic = gObjGetMagicSearch( lpObj, 26);
; 461  : 							//if(lpMagic!=NULL) gObjUseSkill.UseSkill(lpObj->m_Index, lpPartyObj->m_Index, lpMagic);
; 462  : 							//Defence Baf
; 463  : 							if(gObjGetMagicSearch( lpObj, 27) != NULL) SearchSkill = 27;

  0113f	6a 1b		 push	 27			; 0000001bH
  01141	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01144	50		 push	 eax
  01145	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  0114a	83 c4 08	 add	 esp, 8
  0114d	85 c0		 test	 eax, eax
  0114f	74 0c		 je	 SHORT $LN97@FairyElfOf
  01151	c7 45 f4 1b 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 27 ; 0000001bH
  01158	e9 9d 00 00 00	 jmp	 $LN96@FairyElfOf
$LN97@FairyElfOf:

; 464  : 							else if(gObjGetMagicSearch( lpObj, 480) != NULL) SearchSkill = 480;

  0115d	68 e0 01 00 00	 push	 480			; 000001e0H
  01162	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01165	50		 push	 eax
  01166	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  0116b	83 c4 08	 add	 esp, 8
  0116e	85 c0		 test	 eax, eax
  01170	74 09		 je	 SHORT $LN95@FairyElfOf
  01172	c7 45 f4 e0 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 480 ; 000001e0H
  01179	eb 7f		 jmp	 SHORT $LN96@FairyElfOf
$LN95@FairyElfOf:

; 465  : 							else if(gObjGetMagicSearch( lpObj, 481) != NULL) SearchSkill = 481;

  0117b	68 e1 01 00 00	 push	 481			; 000001e1H
  01180	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01183	50		 push	 eax
  01184	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01189	83 c4 08	 add	 esp, 8
  0118c	85 c0		 test	 eax, eax
  0118e	74 09		 je	 SHORT $LN93@FairyElfOf
  01190	c7 45 f4 e1 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 481 ; 000001e1H
  01197	eb 61		 jmp	 SHORT $LN96@FairyElfOf
$LN93@FairyElfOf:

; 466  : 							else if(gObjGetMagicSearch( lpObj, 482) != NULL) SearchSkill = 482;

  01199	68 e2 01 00 00	 push	 482			; 000001e2H
  0119e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  011a1	50		 push	 eax
  011a2	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  011a7	83 c4 08	 add	 esp, 8
  011aa	85 c0		 test	 eax, eax
  011ac	74 09		 je	 SHORT $LN91@FairyElfOf
  011ae	c7 45 f4 e2 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 482 ; 000001e2H
  011b5	eb 43		 jmp	 SHORT $LN96@FairyElfOf
$LN91@FairyElfOf:

; 467  : 							else if(gObjGetMagicSearch( lpObj, 483) != NULL) SearchSkill = 483;

  011b7	68 e3 01 00 00	 push	 483			; 000001e3H
  011bc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  011bf	50		 push	 eax
  011c0	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  011c5	83 c4 08	 add	 esp, 8
  011c8	85 c0		 test	 eax, eax
  011ca	74 09		 je	 SHORT $LN89@FairyElfOf
  011cc	c7 45 f4 e3 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 483 ; 000001e3H
  011d3	eb 25		 jmp	 SHORT $LN96@FairyElfOf
$LN89@FairyElfOf:

; 468  : 							else if(gObjGetMagicSearch( lpObj, 484) != NULL) SearchSkill = 484;

  011d5	68 e4 01 00 00	 push	 484			; 000001e4H
  011da	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  011dd	50		 push	 eax
  011de	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  011e3	83 c4 08	 add	 esp, 8
  011e6	85 c0		 test	 eax, eax
  011e8	74 09		 je	 SHORT $LN87@FairyElfOf
  011ea	c7 45 f4 e4 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 484 ; 000001e4H
  011f1	eb 07		 jmp	 SHORT $LN96@FairyElfOf
$LN87@FairyElfOf:

; 469  : 							else SearchSkill = 0;

  011f3	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 0
$LN96@FairyElfOf:

; 470  : 							if(SearchSkill != 0)

  011fa	83 7d f4 00	 cmp	 DWORD PTR _SearchSkill$[ebp], 0
  011fe	74 33		 je	 SHORT $LN85@FairyElfOf

; 471  : 							{
; 472  : 								lpMagic = gObjGetMagicSearch( lpObj, SearchSkill);

  01200	8b 45 f4	 mov	 eax, DWORD PTR _SearchSkill$[ebp]
  01203	50		 push	 eax
  01204	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01207	51		 push	 ecx
  01208	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  0120d	83 c4 08	 add	 esp, 8
  01210	89 45 e4	 mov	 DWORD PTR _lpMagic$[ebp], eax

; 473  : 								if(lpMagic!=NULL) gObjUseSkill.UseSkill(lpObj->m_Index, lpPartyObj->m_Index, lpMagic);

  01213	83 7d e4 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  01217	74 1a		 je	 SHORT $LN85@FairyElfOf
  01219	8b 45 e4	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0121c	50		 push	 eax
  0121d	8b 4d c4	 mov	 ecx, DWORD PTR _lpPartyObj$230014[ebp]
  01220	8b 11		 mov	 edx, DWORD PTR [ecx]
  01222	52		 push	 edx
  01223	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01226	8b 08		 mov	 ecx, DWORD PTR [eax]
  01228	51		 push	 ecx
  01229	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  0122e	e8 00 00 00 00	 call	 ?UseSkill@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z ; CObjUseSkill::UseSkill
$LN85@FairyElfOf:

; 474  : 							}
; 475  : 							//Damage Baf
; 476  : 							if(gObjGetMagicSearch( lpObj, 28) != NULL) SearchSkill = 28;

  01233	6a 1c		 push	 28			; 0000001cH
  01235	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01238	50		 push	 eax
  01239	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  0123e	83 c4 08	 add	 esp, 8
  01241	85 c0		 test	 eax, eax
  01243	74 0c		 je	 SHORT $LN83@FairyElfOf
  01245	c7 45 f4 1c 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 28 ; 0000001cH
  0124c	e9 9d 00 00 00	 jmp	 $LN82@FairyElfOf
$LN83@FairyElfOf:

; 477  : 							else if(gObjGetMagicSearch( lpObj, 485) != NULL) SearchSkill = 485;

  01251	68 e5 01 00 00	 push	 485			; 000001e5H
  01256	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01259	50		 push	 eax
  0125a	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  0125f	83 c4 08	 add	 esp, 8
  01262	85 c0		 test	 eax, eax
  01264	74 09		 je	 SHORT $LN81@FairyElfOf
  01266	c7 45 f4 e5 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 485 ; 000001e5H
  0126d	eb 7f		 jmp	 SHORT $LN82@FairyElfOf
$LN81@FairyElfOf:

; 478  : 							else if(gObjGetMagicSearch( lpObj, 486) != NULL) SearchSkill = 486;

  0126f	68 e6 01 00 00	 push	 486			; 000001e6H
  01274	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01277	50		 push	 eax
  01278	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  0127d	83 c4 08	 add	 esp, 8
  01280	85 c0		 test	 eax, eax
  01282	74 09		 je	 SHORT $LN79@FairyElfOf
  01284	c7 45 f4 e6 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 486 ; 000001e6H
  0128b	eb 61		 jmp	 SHORT $LN82@FairyElfOf
$LN79@FairyElfOf:

; 479  : 							else if(gObjGetMagicSearch( lpObj, 487) != NULL) SearchSkill = 487;

  0128d	68 e7 01 00 00	 push	 487			; 000001e7H
  01292	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01295	50		 push	 eax
  01296	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  0129b	83 c4 08	 add	 esp, 8
  0129e	85 c0		 test	 eax, eax
  012a0	74 09		 je	 SHORT $LN77@FairyElfOf
  012a2	c7 45 f4 e7 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 487 ; 000001e7H
  012a9	eb 43		 jmp	 SHORT $LN82@FairyElfOf
$LN77@FairyElfOf:

; 480  : 							else if(gObjGetMagicSearch( lpObj, 488) != NULL) SearchSkill = 488;

  012ab	68 e8 01 00 00	 push	 488			; 000001e8H
  012b0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  012b3	50		 push	 eax
  012b4	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  012b9	83 c4 08	 add	 esp, 8
  012bc	85 c0		 test	 eax, eax
  012be	74 09		 je	 SHORT $LN75@FairyElfOf
  012c0	c7 45 f4 e8 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 488 ; 000001e8H
  012c7	eb 25		 jmp	 SHORT $LN82@FairyElfOf
$LN75@FairyElfOf:

; 481  : 							else if(gObjGetMagicSearch( lpObj, 489) != NULL) SearchSkill = 489;

  012c9	68 e9 01 00 00	 push	 489			; 000001e9H
  012ce	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  012d1	50		 push	 eax
  012d2	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  012d7	83 c4 08	 add	 esp, 8
  012da	85 c0		 test	 eax, eax
  012dc	74 09		 je	 SHORT $LN73@FairyElfOf
  012de	c7 45 f4 e9 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 489 ; 000001e9H
  012e5	eb 07		 jmp	 SHORT $LN82@FairyElfOf
$LN73@FairyElfOf:

; 482  : 							else SearchSkill = 0;

  012e7	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 0
$LN82@FairyElfOf:

; 483  : 							if(SearchSkill != 0)

  012ee	83 7d f4 00	 cmp	 DWORD PTR _SearchSkill$[ebp], 0
  012f2	74 33		 je	 SHORT $LN71@FairyElfOf

; 484  : 							{
; 485  : 								lpMagic = gObjGetMagicSearch( lpObj, SearchSkill);

  012f4	8b 45 f4	 mov	 eax, DWORD PTR _SearchSkill$[ebp]
  012f7	50		 push	 eax
  012f8	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  012fb	51		 push	 ecx
  012fc	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01301	83 c4 08	 add	 esp, 8
  01304	89 45 e4	 mov	 DWORD PTR _lpMagic$[ebp], eax

; 486  : 								if(lpMagic!=NULL) gObjUseSkill.UseSkill(lpObj->m_Index, lpPartyObj->m_Index, lpMagic);

  01307	83 7d e4 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  0130b	74 1a		 je	 SHORT $LN71@FairyElfOf
  0130d	8b 45 e4	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01310	50		 push	 eax
  01311	8b 4d c4	 mov	 ecx, DWORD PTR _lpPartyObj$230014[ebp]
  01314	8b 11		 mov	 edx, DWORD PTR [ecx]
  01316	52		 push	 edx
  01317	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0131a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0131c	51		 push	 ecx
  0131d	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  01322	e8 00 00 00 00	 call	 ?UseSkill@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z ; CObjUseSkill::UseSkill
$LN71@FairyElfOf:

; 487  : 							}
; 488  : 							//Heal Baf
; 489  : 							if(gObjGetMagicSearch( lpObj, 26) != NULL) SearchSkill = 26;

  01327	6a 1a		 push	 26			; 0000001aH
  01329	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0132c	50		 push	 eax
  0132d	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01332	83 c4 08	 add	 esp, 8
  01335	85 c0		 test	 eax, eax
  01337	74 0c		 je	 SHORT $LN69@FairyElfOf
  01339	c7 45 f4 1a 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 26 ; 0000001aH
  01340	e9 9d 00 00 00	 jmp	 $LN68@FairyElfOf
$LN69@FairyElfOf:

; 490  : 							else if(gObjGetMagicSearch( lpObj, 475) != NULL) SearchSkill = 475;

  01345	68 db 01 00 00	 push	 475			; 000001dbH
  0134a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0134d	50		 push	 eax
  0134e	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01353	83 c4 08	 add	 esp, 8
  01356	85 c0		 test	 eax, eax
  01358	74 09		 je	 SHORT $LN67@FairyElfOf
  0135a	c7 45 f4 db 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 475 ; 000001dbH
  01361	eb 7f		 jmp	 SHORT $LN68@FairyElfOf
$LN67@FairyElfOf:

; 491  : 							else if(gObjGetMagicSearch( lpObj, 476) != NULL) SearchSkill = 476;

  01363	68 dc 01 00 00	 push	 476			; 000001dcH
  01368	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0136b	50		 push	 eax
  0136c	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01371	83 c4 08	 add	 esp, 8
  01374	85 c0		 test	 eax, eax
  01376	74 09		 je	 SHORT $LN65@FairyElfOf
  01378	c7 45 f4 dc 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 476 ; 000001dcH
  0137f	eb 61		 jmp	 SHORT $LN68@FairyElfOf
$LN65@FairyElfOf:

; 492  : 							else if(gObjGetMagicSearch( lpObj, 477) != NULL) SearchSkill = 477;

  01381	68 dd 01 00 00	 push	 477			; 000001ddH
  01386	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01389	50		 push	 eax
  0138a	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  0138f	83 c4 08	 add	 esp, 8
  01392	85 c0		 test	 eax, eax
  01394	74 09		 je	 SHORT $LN63@FairyElfOf
  01396	c7 45 f4 dd 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 477 ; 000001ddH
  0139d	eb 43		 jmp	 SHORT $LN68@FairyElfOf
$LN63@FairyElfOf:

; 493  : 							else if(gObjGetMagicSearch( lpObj, 478) != NULL) SearchSkill = 478;

  0139f	68 de 01 00 00	 push	 478			; 000001deH
  013a4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  013a7	50		 push	 eax
  013a8	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  013ad	83 c4 08	 add	 esp, 8
  013b0	85 c0		 test	 eax, eax
  013b2	74 09		 je	 SHORT $LN61@FairyElfOf
  013b4	c7 45 f4 de 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 478 ; 000001deH
  013bb	eb 25		 jmp	 SHORT $LN68@FairyElfOf
$LN61@FairyElfOf:

; 494  : 							else if(gObjGetMagicSearch( lpObj, 479) != NULL) SearchSkill = 479;

  013bd	68 df 01 00 00	 push	 479			; 000001dfH
  013c2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  013c5	50		 push	 eax
  013c6	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  013cb	83 c4 08	 add	 esp, 8
  013ce	85 c0		 test	 eax, eax
  013d0	74 09		 je	 SHORT $LN59@FairyElfOf
  013d2	c7 45 f4 df 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 479 ; 000001dfH
  013d9	eb 07		 jmp	 SHORT $LN68@FairyElfOf
$LN59@FairyElfOf:

; 495  : 							else SearchSkill = 0;

  013db	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 0
$LN68@FairyElfOf:

; 496  : 							if(SearchSkill != 0)

  013e2	83 7d f4 00	 cmp	 DWORD PTR _SearchSkill$[ebp], 0
  013e6	74 33		 je	 SHORT $LN100@FairyElfOf

; 497  : 							{
; 498  : 								lpMagic = gObjGetMagicSearch( lpObj, SearchSkill);

  013e8	8b 45 f4	 mov	 eax, DWORD PTR _SearchSkill$[ebp]
  013eb	50		 push	 eax
  013ec	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  013ef	51		 push	 ecx
  013f0	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  013f5	83 c4 08	 add	 esp, 8
  013f8	89 45 e4	 mov	 DWORD PTR _lpMagic$[ebp], eax

; 499  : 								if(lpMagic!=NULL) gObjUseSkill.UseSkill(lpObj->m_Index, lpPartyObj->m_Index, lpMagic);

  013fb	83 7d e4 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  013ff	74 1a		 je	 SHORT $LN100@FairyElfOf
  01401	8b 45 e4	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01404	50		 push	 eax
  01405	8b 4d c4	 mov	 ecx, DWORD PTR _lpPartyObj$230014[ebp]
  01408	8b 11		 mov	 edx, DWORD PTR [ecx]
  0140a	52		 push	 edx
  0140b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0140e	8b 08		 mov	 ecx, DWORD PTR [eax]
  01410	51		 push	 ecx
  01411	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  01416	e8 00 00 00 00	 call	 ?UseSkill@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z ; CObjUseSkill::UseSkill
$LN100@FairyElfOf:

; 500  : 							}
; 501  : 						}
; 502  : 					}
; 503  : 				}
; 504  : 			}

  0141b	e9 98 fc ff ff	 jmp	 $LN102@FairyElfOf
$LN101@FairyElfOf:

; 505  : 		}
; 506  : 		else

  01420	e9 dc 02 00 00	 jmp	 $LN106@FairyElfOf
$LN104@FairyElfOf:

; 507  : 		{
; 508  : 			//Defence Baf
; 509  : 			if(gObjGetMagicSearch( lpObj, 27) != NULL) SearchSkill = 27;

  01425	6a 1b		 push	 27			; 0000001bH
  01427	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0142a	50		 push	 eax
  0142b	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01430	83 c4 08	 add	 esp, 8
  01433	85 c0		 test	 eax, eax
  01435	74 0c		 je	 SHORT $LN54@FairyElfOf
  01437	c7 45 f4 1b 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 27 ; 0000001bH
  0143e	e9 9d 00 00 00	 jmp	 $LN53@FairyElfOf
$LN54@FairyElfOf:

; 510  : 			else if(gObjGetMagicSearch( lpObj, 480) != NULL) SearchSkill = 480;

  01443	68 e0 01 00 00	 push	 480			; 000001e0H
  01448	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0144b	50		 push	 eax
  0144c	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01451	83 c4 08	 add	 esp, 8
  01454	85 c0		 test	 eax, eax
  01456	74 09		 je	 SHORT $LN52@FairyElfOf
  01458	c7 45 f4 e0 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 480 ; 000001e0H
  0145f	eb 7f		 jmp	 SHORT $LN53@FairyElfOf
$LN52@FairyElfOf:

; 511  : 			else if(gObjGetMagicSearch( lpObj, 481) != NULL) SearchSkill = 481;

  01461	68 e1 01 00 00	 push	 481			; 000001e1H
  01466	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01469	50		 push	 eax
  0146a	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  0146f	83 c4 08	 add	 esp, 8
  01472	85 c0		 test	 eax, eax
  01474	74 09		 je	 SHORT $LN50@FairyElfOf
  01476	c7 45 f4 e1 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 481 ; 000001e1H
  0147d	eb 61		 jmp	 SHORT $LN53@FairyElfOf
$LN50@FairyElfOf:

; 512  : 			else if(gObjGetMagicSearch( lpObj, 482) != NULL) SearchSkill = 482;

  0147f	68 e2 01 00 00	 push	 482			; 000001e2H
  01484	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01487	50		 push	 eax
  01488	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  0148d	83 c4 08	 add	 esp, 8
  01490	85 c0		 test	 eax, eax
  01492	74 09		 je	 SHORT $LN48@FairyElfOf
  01494	c7 45 f4 e2 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 482 ; 000001e2H
  0149b	eb 43		 jmp	 SHORT $LN53@FairyElfOf
$LN48@FairyElfOf:

; 513  : 			else if(gObjGetMagicSearch( lpObj, 483) != NULL) SearchSkill = 483;

  0149d	68 e3 01 00 00	 push	 483			; 000001e3H
  014a2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  014a5	50		 push	 eax
  014a6	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  014ab	83 c4 08	 add	 esp, 8
  014ae	85 c0		 test	 eax, eax
  014b0	74 09		 je	 SHORT $LN46@FairyElfOf
  014b2	c7 45 f4 e3 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 483 ; 000001e3H
  014b9	eb 25		 jmp	 SHORT $LN53@FairyElfOf
$LN46@FairyElfOf:

; 514  : 			else if(gObjGetMagicSearch( lpObj, 484) != NULL) SearchSkill = 484;

  014bb	68 e4 01 00 00	 push	 484			; 000001e4H
  014c0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  014c3	50		 push	 eax
  014c4	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  014c9	83 c4 08	 add	 esp, 8
  014cc	85 c0		 test	 eax, eax
  014ce	74 09		 je	 SHORT $LN44@FairyElfOf
  014d0	c7 45 f4 e4 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 484 ; 000001e4H
  014d7	eb 07		 jmp	 SHORT $LN53@FairyElfOf
$LN44@FairyElfOf:

; 515  : 			else SearchSkill = 0;

  014d9	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 0
$LN53@FairyElfOf:

; 516  : 			if(SearchSkill != 0)

  014e0	83 7d f4 00	 cmp	 DWORD PTR _SearchSkill$[ebp], 0
  014e4	74 33		 je	 SHORT $LN42@FairyElfOf

; 517  : 			{
; 518  : 				lpMagic = gObjGetMagicSearch( lpObj, SearchSkill);

  014e6	8b 45 f4	 mov	 eax, DWORD PTR _SearchSkill$[ebp]
  014e9	50		 push	 eax
  014ea	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  014ed	51		 push	 ecx
  014ee	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  014f3	83 c4 08	 add	 esp, 8
  014f6	89 45 e4	 mov	 DWORD PTR _lpMagic$[ebp], eax

; 519  : 				if(lpMagic!=NULL) gObjUseSkill.UseSkill(lpObj->m_Index, lpObj->m_Index, lpMagic);

  014f9	83 7d e4 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  014fd	74 1a		 je	 SHORT $LN42@FairyElfOf
  014ff	8b 45 e4	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01502	50		 push	 eax
  01503	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01506	8b 11		 mov	 edx, DWORD PTR [ecx]
  01508	52		 push	 edx
  01509	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0150c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0150e	51		 push	 ecx
  0150f	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  01514	e8 00 00 00 00	 call	 ?UseSkill@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z ; CObjUseSkill::UseSkill
$LN42@FairyElfOf:

; 520  : 			}
; 521  : 			//Damage Baf
; 522  : 			if(gObjGetMagicSearch( lpObj, 28) != NULL) SearchSkill = 28;

  01519	6a 1c		 push	 28			; 0000001cH
  0151b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0151e	50		 push	 eax
  0151f	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01524	83 c4 08	 add	 esp, 8
  01527	85 c0		 test	 eax, eax
  01529	74 0c		 je	 SHORT $LN40@FairyElfOf
  0152b	c7 45 f4 1c 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 28 ; 0000001cH
  01532	e9 9d 00 00 00	 jmp	 $LN39@FairyElfOf
$LN40@FairyElfOf:

; 523  : 			else if(gObjGetMagicSearch( lpObj, 485) != NULL) SearchSkill = 485;

  01537	68 e5 01 00 00	 push	 485			; 000001e5H
  0153c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0153f	50		 push	 eax
  01540	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01545	83 c4 08	 add	 esp, 8
  01548	85 c0		 test	 eax, eax
  0154a	74 09		 je	 SHORT $LN38@FairyElfOf
  0154c	c7 45 f4 e5 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 485 ; 000001e5H
  01553	eb 7f		 jmp	 SHORT $LN39@FairyElfOf
$LN38@FairyElfOf:

; 524  : 			else if(gObjGetMagicSearch( lpObj, 486) != NULL) SearchSkill = 486;

  01555	68 e6 01 00 00	 push	 486			; 000001e6H
  0155a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0155d	50		 push	 eax
  0155e	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01563	83 c4 08	 add	 esp, 8
  01566	85 c0		 test	 eax, eax
  01568	74 09		 je	 SHORT $LN36@FairyElfOf
  0156a	c7 45 f4 e6 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 486 ; 000001e6H
  01571	eb 61		 jmp	 SHORT $LN39@FairyElfOf
$LN36@FairyElfOf:

; 525  : 			else if(gObjGetMagicSearch( lpObj, 487) != NULL) SearchSkill = 487;

  01573	68 e7 01 00 00	 push	 487			; 000001e7H
  01578	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0157b	50		 push	 eax
  0157c	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01581	83 c4 08	 add	 esp, 8
  01584	85 c0		 test	 eax, eax
  01586	74 09		 je	 SHORT $LN34@FairyElfOf
  01588	c7 45 f4 e7 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 487 ; 000001e7H
  0158f	eb 43		 jmp	 SHORT $LN39@FairyElfOf
$LN34@FairyElfOf:

; 526  : 			else if(gObjGetMagicSearch( lpObj, 488) != NULL) SearchSkill = 488;

  01591	68 e8 01 00 00	 push	 488			; 000001e8H
  01596	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01599	50		 push	 eax
  0159a	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  0159f	83 c4 08	 add	 esp, 8
  015a2	85 c0		 test	 eax, eax
  015a4	74 09		 je	 SHORT $LN32@FairyElfOf
  015a6	c7 45 f4 e8 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 488 ; 000001e8H
  015ad	eb 25		 jmp	 SHORT $LN39@FairyElfOf
$LN32@FairyElfOf:

; 527  : 			else if(gObjGetMagicSearch( lpObj, 489) != NULL) SearchSkill = 489;

  015af	68 e9 01 00 00	 push	 489			; 000001e9H
  015b4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  015b7	50		 push	 eax
  015b8	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  015bd	83 c4 08	 add	 esp, 8
  015c0	85 c0		 test	 eax, eax
  015c2	74 09		 je	 SHORT $LN30@FairyElfOf
  015c4	c7 45 f4 e9 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 489 ; 000001e9H
  015cb	eb 07		 jmp	 SHORT $LN39@FairyElfOf
$LN30@FairyElfOf:

; 528  : 			else SearchSkill = 0;

  015cd	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 0
$LN39@FairyElfOf:

; 529  : 			if(SearchSkill != 0)

  015d4	83 7d f4 00	 cmp	 DWORD PTR _SearchSkill$[ebp], 0
  015d8	74 33		 je	 SHORT $LN28@FairyElfOf

; 530  : 			{
; 531  : 				lpMagic = gObjGetMagicSearch( lpObj, SearchSkill);

  015da	8b 45 f4	 mov	 eax, DWORD PTR _SearchSkill$[ebp]
  015dd	50		 push	 eax
  015de	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  015e1	51		 push	 ecx
  015e2	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  015e7	83 c4 08	 add	 esp, 8
  015ea	89 45 e4	 mov	 DWORD PTR _lpMagic$[ebp], eax

; 532  : 				if(lpMagic!=NULL) gObjUseSkill.UseSkill(lpObj->m_Index, lpObj->m_Index, lpMagic);

  015ed	83 7d e4 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  015f1	74 1a		 je	 SHORT $LN28@FairyElfOf
  015f3	8b 45 e4	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  015f6	50		 push	 eax
  015f7	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  015fa	8b 11		 mov	 edx, DWORD PTR [ecx]
  015fc	52		 push	 edx
  015fd	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01600	8b 08		 mov	 ecx, DWORD PTR [eax]
  01602	51		 push	 ecx
  01603	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  01608	e8 00 00 00 00	 call	 ?UseSkill@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z ; CObjUseSkill::UseSkill
$LN28@FairyElfOf:

; 533  : 			}
; 534  : 			//Heal Baf
; 535  : 			if(gObjGetMagicSearch( lpObj, 26) != NULL) SearchSkill = 26;

  0160d	6a 1a		 push	 26			; 0000001aH
  0160f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01612	50		 push	 eax
  01613	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01618	83 c4 08	 add	 esp, 8
  0161b	85 c0		 test	 eax, eax
  0161d	74 0c		 je	 SHORT $LN26@FairyElfOf
  0161f	c7 45 f4 1a 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 26 ; 0000001aH
  01626	e9 9d 00 00 00	 jmp	 $LN25@FairyElfOf
$LN26@FairyElfOf:

; 536  : 			else if(gObjGetMagicSearch( lpObj, 475) != NULL) SearchSkill = 475;

  0162b	68 db 01 00 00	 push	 475			; 000001dbH
  01630	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01633	50		 push	 eax
  01634	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01639	83 c4 08	 add	 esp, 8
  0163c	85 c0		 test	 eax, eax
  0163e	74 09		 je	 SHORT $LN24@FairyElfOf
  01640	c7 45 f4 db 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 475 ; 000001dbH
  01647	eb 7f		 jmp	 SHORT $LN25@FairyElfOf
$LN24@FairyElfOf:

; 537  : 			else if(gObjGetMagicSearch( lpObj, 476) != NULL) SearchSkill = 476;

  01649	68 dc 01 00 00	 push	 476			; 000001dcH
  0164e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01651	50		 push	 eax
  01652	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01657	83 c4 08	 add	 esp, 8
  0165a	85 c0		 test	 eax, eax
  0165c	74 09		 je	 SHORT $LN22@FairyElfOf
  0165e	c7 45 f4 dc 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 476 ; 000001dcH
  01665	eb 61		 jmp	 SHORT $LN25@FairyElfOf
$LN22@FairyElfOf:

; 538  : 			else if(gObjGetMagicSearch( lpObj, 477) != NULL) SearchSkill = 477;

  01667	68 dd 01 00 00	 push	 477			; 000001ddH
  0166c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0166f	50		 push	 eax
  01670	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01675	83 c4 08	 add	 esp, 8
  01678	85 c0		 test	 eax, eax
  0167a	74 09		 je	 SHORT $LN20@FairyElfOf
  0167c	c7 45 f4 dd 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 477 ; 000001ddH
  01683	eb 43		 jmp	 SHORT $LN25@FairyElfOf
$LN20@FairyElfOf:

; 539  : 			else if(gObjGetMagicSearch( lpObj, 478) != NULL) SearchSkill = 478;

  01685	68 de 01 00 00	 push	 478			; 000001deH
  0168a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0168d	50		 push	 eax
  0168e	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01693	83 c4 08	 add	 esp, 8
  01696	85 c0		 test	 eax, eax
  01698	74 09		 je	 SHORT $LN18@FairyElfOf
  0169a	c7 45 f4 de 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 478 ; 000001deH
  016a1	eb 25		 jmp	 SHORT $LN25@FairyElfOf
$LN18@FairyElfOf:

; 540  : 			else if(gObjGetMagicSearch( lpObj, 479) != NULL) SearchSkill = 479;

  016a3	68 df 01 00 00	 push	 479			; 000001dfH
  016a8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  016ab	50		 push	 eax
  016ac	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  016b1	83 c4 08	 add	 esp, 8
  016b4	85 c0		 test	 eax, eax
  016b6	74 09		 je	 SHORT $LN16@FairyElfOf
  016b8	c7 45 f4 df 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 479 ; 000001dfH
  016bf	eb 07		 jmp	 SHORT $LN25@FairyElfOf
$LN16@FairyElfOf:

; 541  : 			else SearchSkill = 0;

  016c1	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 0
$LN25@FairyElfOf:

; 542  : 			if(SearchSkill != 0)

  016c8	83 7d f4 00	 cmp	 DWORD PTR _SearchSkill$[ebp], 0
  016cc	74 33		 je	 SHORT $LN106@FairyElfOf

; 543  : 			{
; 544  : 				lpMagic = gObjGetMagicSearch( lpObj, SearchSkill);

  016ce	8b 45 f4	 mov	 eax, DWORD PTR _SearchSkill$[ebp]
  016d1	50		 push	 eax
  016d2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  016d5	51		 push	 ecx
  016d6	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  016db	83 c4 08	 add	 esp, 8
  016de	89 45 e4	 mov	 DWORD PTR _lpMagic$[ebp], eax

; 545  : 				if(lpMagic!=NULL) gObjUseSkill.UseSkill(lpObj->m_Index, lpObj->m_Index, lpMagic);

  016e1	83 7d e4 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  016e5	74 1a		 je	 SHORT $LN106@FairyElfOf
  016e7	8b 45 e4	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  016ea	50		 push	 eax
  016eb	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  016ee	8b 11		 mov	 edx, DWORD PTR [ecx]
  016f0	52		 push	 edx
  016f1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  016f4	8b 08		 mov	 ecx, DWORD PTR [eax]
  016f6	51		 push	 ecx
  016f7	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  016fc	e8 00 00 00 00	 call	 ?UseSkill@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z ; CObjUseSkill::UseSkill
$LN106@FairyElfOf:

; 546  : 			}
; 547  : 		}
; 548  : 	}
; 549  : 
; 550  : 	CItem * Right = &lpObj->pInventory[0];

  01701	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01704	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  0170a	89 4d bc	 mov	 DWORD PTR _Right$[ebp], ecx

; 551  : 	CItem * Left  = &lpObj->pInventory[1];

  0170d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01710	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  01716	81 c1 d4 00 00
	00		 add	 ecx, 212		; 000000d4H
  0171c	89 4d b8	 mov	 DWORD PTR _Left$[ebp], ecx

; 552  : 
; 553  : 	if(Right->m_Type >= ITEMGET(4,0) && Right->m_Type <= ITEMGET(4,255) || Left->m_Type >= ITEMGET(4,0) && Left->m_Type <= ITEMGET(4,255))

  0171f	8b 45 bc	 mov	 eax, DWORD PTR _Right$[ebp]
  01722	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  01726	81 f9 00 08 00
	00		 cmp	 ecx, 2048		; 00000800H
  0172c	7c 0f		 jl	 SHORT $LN10@FairyElfOf
  0172e	8b 45 bc	 mov	 eax, DWORD PTR _Right$[ebp]
  01731	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  01735	81 f9 ff 08 00
	00		 cmp	 ecx, 2303		; 000008ffH
  0173b	7e 26		 jle	 SHORT $LN11@FairyElfOf
$LN10@FairyElfOf:
  0173d	8b 45 b8	 mov	 eax, DWORD PTR _Left$[ebp]
  01740	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  01744	81 f9 00 08 00
	00		 cmp	 ecx, 2048		; 00000800H
  0174a	0f 8c cb 01 00
	00		 jl	 $LN12@FairyElfOf
  01750	8b 45 b8	 mov	 eax, DWORD PTR _Left$[ebp]
  01753	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  01757	81 f9 ff 08 00
	00		 cmp	 ecx, 2303		; 000008ffH
  0175d	0f 8f b8 01 00
	00		 jg	 $LN12@FairyElfOf
$LN11@FairyElfOf:

; 554  : 	{
; 555  : 		lpMagic = gObjGetMagicSearch( lpObj, 235);	//Multi-Shot 235

  01763	68 eb 00 00 00	 push	 235			; 000000ebH
  01768	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0176b	50		 push	 eax
  0176c	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01771	83 c4 08	 add	 esp, 8
  01774	89 45 e4	 mov	 DWORD PTR _lpMagic$[ebp], eax

; 556  : 		if(lpMagic==NULL) return;

  01777	83 7d e4 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  0177b	75 05		 jne	 SHORT $LN9@FairyElfOf
  0177d	e9 a7 01 00 00	 jmp	 $LN107@FairyElfOf
$LN9@FairyElfOf:

; 557  : 
; 558  : 		int NumDir[6] = {0, 50, 100, 150, 200, 250 };

  01782	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _NumDir$230114[ebp], 0
  01789	c7 45 a4 32 00
	00 00		 mov	 DWORD PTR _NumDir$230114[ebp+4], 50 ; 00000032H
  01790	c7 45 a8 64 00
	00 00		 mov	 DWORD PTR _NumDir$230114[ebp+8], 100 ; 00000064H
  01797	c7 45 ac 96 00
	00 00		 mov	 DWORD PTR _NumDir$230114[ebp+12], 150 ; 00000096H
  0179e	c7 45 b0 c8 00
	00 00		 mov	 DWORD PTR _NumDir$230114[ebp+16], 200 ; 000000c8H
  017a5	c7 45 b4 fa 00
	00 00		 mov	 DWORD PTR _NumDir$230114[ebp+20], 250 ; 000000faH

; 559  : 		int StartDir = NumDir[rand()%6];

  017ac	e8 00 00 00 00	 call	 _rand
  017b1	99		 cdq
  017b2	b9 06 00 00 00	 mov	 ecx, 6
  017b7	f7 f9		 idiv	 ecx
  017b9	8b 54 95 a0	 mov	 edx, DWORD PTR _NumDir$230114[ebp+edx*4]
  017bd	89 55 9c	 mov	 DWORD PTR _StartDir$230115[ebp], edx

; 560  : 		gObjUseSkill.UseSkill(lpObj->m_Index, lpMagic,lpObj->X, lpObj->Y,StartDir,0,-1);

  017c0	6a ff		 push	 -1
  017c2	6a 00		 push	 0
  017c4	0f b6 45 9c	 movzx	 eax, BYTE PTR _StartDir$230115[ebp]
  017c8	50		 push	 eax
  017c9	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  017cc	0f b6 91 46 01
	00 00		 movzx	 edx, BYTE PTR [ecx+326]
  017d3	52		 push	 edx
  017d4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  017d7	0f b6 88 44 01
	00 00		 movzx	 ecx, BYTE PTR [eax+324]
  017de	51		 push	 ecx
  017df	8b 55 e4	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  017e2	52		 push	 edx
  017e3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  017e6	8b 08		 mov	 ecx, DWORD PTR [eax]
  017e8	51		 push	 ecx
  017e9	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  017ee	e8 00 00 00 00	 call	 ?UseSkill@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::UseSkill

; 561  : 
; 562  : 		for (int n=0;n<MAX_VIEWPORT_MONSTER;n++)

  017f3	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _n$230116[ebp], 0
  017fa	eb 09		 jmp	 SHORT $LN8@FairyElfOf
$LN7@FairyElfOf:
  017fc	8b 45 98	 mov	 eax, DWORD PTR _n$230116[ebp]
  017ff	83 c0 01	 add	 eax, 1
  01802	89 45 98	 mov	 DWORD PTR _n$230116[ebp], eax
$LN8@FairyElfOf:
  01805	83 7d 98 4b	 cmp	 DWORD PTR _n$230116[ebp], 75 ; 0000004bH
  01809	0f 8d 0c 01 00
	00		 jge	 $LN12@FairyElfOf

; 563  : 		{
; 564  : 			tObjNum = lpObj->VpPlayer2[n].number;

  0180f	8b 45 98	 mov	 eax, DWORD PTR _n$230116[ebp]
  01812	6b c0 0c	 imul	 eax, 12			; 0000000cH
  01815	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01818	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  01820	89 55 ec	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 565  : 			if(lpObj->VpPlayer2[n].state == 0) continue;

  01823	8b 45 98	 mov	 eax, DWORD PTR _n$230116[ebp]
  01826	6b c0 0c	 imul	 eax, 12			; 0000000cH
  01829	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0182c	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  01834	85 d2		 test	 edx, edx
  01836	75 02		 jne	 SHORT $LN5@FairyElfOf
  01838	eb c2		 jmp	 SHORT $LN7@FairyElfOf
$LN5@FairyElfOf:

; 566  : 			if ( tObjNum >= 0 )

  0183a	83 7d ec 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0183e	0f 8c d2 00 00
	00		 jl	 $LN4@FairyElfOf

; 567  : 			{
; 568  : 				if ( gObj[tObjNum].Type == OBJ_MONSTER )

  01844	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  01847	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0184d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01853	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  01858	83 fa 02	 cmp	 edx, 2
  0185b	0f 85 b5 00 00
	00		 jne	 $LN4@FairyElfOf

; 569  : 				{
; 570  : 					attr = MapC[gObj[tObjNum].MapNumber].GetAttr(gObj[tObjNum].X, gObj[tObjNum].Y);

  01861	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  01864	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0186a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01870	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  01878	52		 push	 edx
  01879	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0187c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01882	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01888	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  01890	52		 push	 edx
  01891	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  01894	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0189a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  018a0	0f b6 8c 01 49
	01 00 00	 movzx	 ecx, BYTE PTR [ecx+eax+329]
  018a8	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  018ae	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  018b4	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  018b9	88 45 eb	 mov	 BYTE PTR _attr$[ebp], al

; 571  : 					if ( (attr&1) != 1 )

  018bc	0f b6 45 eb	 movzx	 eax, BYTE PTR _attr$[ebp]
  018c0	83 e0 01	 and	 eax, 1
  018c3	75 51		 jne	 SHORT $LN4@FairyElfOf

; 572  : 					{
; 573  : 						dis = gObjCalDistance(lpObj, &gObj[tObjNum]);

  018c5	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  018c8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  018ce	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  018d4	50		 push	 eax
  018d5	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  018d8	51		 push	 ecx
  018d9	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  018de	83 c4 08	 add	 esp, 8
  018e1	89 45 f0	 mov	 DWORD PTR _dis$[ebp], eax

; 574  : 						if(5 >= dis)

  018e4	83 7d f0 05	 cmp	 DWORD PTR _dis$[ebp], 5
  018e8	7f 2c		 jg	 SHORT $LN4@FairyElfOf

; 575  : 						{
; 576  : 							gObjAttack(lpObj, &gObj[tObjNum], lpMagic, FALSE, 1, 0, FALSE,0,0);

  018ea	6a 00		 push	 0
  018ec	6a 00		 push	 0
  018ee	6a 00		 push	 0
  018f0	6a 00		 push	 0
  018f2	6a 01		 push	 1
  018f4	6a 00		 push	 0
  018f6	8b 45 e4	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  018f9	50		 push	 eax
  018fa	8b 4d ec	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  018fd	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01903	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01909	51		 push	 ecx
  0190a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0190d	52		 push	 edx
  0190e	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  01913	83 c4 24	 add	 esp, 36			; 00000024H
$LN4@FairyElfOf:

; 577  : 						}
; 578  : 					}
; 579  : 				}
; 580  : 			}
; 581  : 		}

  01916	e9 e1 fe ff ff	 jmp	 $LN7@FairyElfOf
$LN12@FairyElfOf:

; 582  : 	}
; 583  : 
; 584  : 	this->UseMana(lpObj->m_Index);

  0191b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0191e	8b 08		 mov	 ecx, DWORD PTR [eax]
  01920	51		 push	 ecx
  01921	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01924	e8 00 00 00 00	 call	 ?UseMana@cOffExp@@QAEXH@Z ; cOffExp::UseMana
$LN107@FairyElfOf:

; 585  : }

  01929	5f		 pop	 edi
  0192a	5e		 pop	 esi
  0192b	5b		 pop	 ebx
  0192c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0192f	33 cd		 xor	 ecx, ebp
  01931	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01936	8b e5		 mov	 esp, ebp
  01938	5d		 pop	 ebp
  01939	c2 04 00	 ret	 4
?FairyElfOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ENDP	; cOffExp::FairyElfOff
; Function compile flags: /Odtp /ZI
_n$230163 = -36					; size = 4
_attr$ = -29						; size = 1
_tObjNum$ = -28						; size = 4
_dis$ = -24						; size = 4
_SearchSkill$ = -20					; size = 4
_lpMagic$ = -16						; size = 4
_NormDis$ = -12						; size = 4
_skill$ = -8						; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
?MagicGladiatorOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; cOffExp::MagicGladiatorOff
; _this$ = ecx

; 590  : {

  01940	55		 push	 ebp
  01941	8b ec		 mov	 ebp, esp
  01943	83 ec 64	 sub	 esp, 100		; 00000064H
  01946	53		 push	 ebx
  01947	56		 push	 esi
  01948	57		 push	 edi
  01949	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 591  : 	int skill;
; 592  : 	int NormDis;
; 593  : 	CMagicInf * lpMagic;
; 594  : 	int SearchSkill = 0;

  0194c	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 0

; 595  : 
; 596  : 	if(lpObj->pInventory[0].m_Type >= ITEMGET(5,0) && lpObj->pInventory[0].m_Type < ITEMGET(6,0))

  01953	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01956	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  0195c	0f bf 51 06	 movsx	 edx, WORD PTR [ecx+6]
  01960	81 fa 00 0a 00
	00		 cmp	 edx, 2560		; 00000a00H
  01966	0f 8c e4 00 00
	00		 jl	 $LN35@MagicGladi
  0196c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0196f	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  01975	0f bf 51 06	 movsx	 edx, WORD PTR [ecx+6]
  01979	81 fa 00 0c 00
	00		 cmp	 edx, 3072		; 00000c00H
  0197f	0f 8d cb 00 00
	00		 jge	 $LN35@MagicGladi

; 597  : 	{
; 598  : 		if(gObjGetMagicSearch( lpObj, 9) != NULL) SearchSkill = 9;

  01985	6a 09		 push	 9
  01987	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0198a	50		 push	 eax
  0198b	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01990	83 c4 08	 add	 esp, 8
  01993	85 c0		 test	 eax, eax
  01995	74 0c		 je	 SHORT $LN34@MagicGladi
  01997	c7 45 ec 09 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 9
  0199e	e9 9b 00 00 00	 jmp	 $LN33@MagicGladi
$LN34@MagicGladi:

; 599  : 		else if(gObjGetMagicSearch( lpObj, 530) != NULL) SearchSkill = 530;

  019a3	68 12 02 00 00	 push	 530			; 00000212H
  019a8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  019ab	50		 push	 eax
  019ac	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  019b1	83 c4 08	 add	 esp, 8
  019b4	85 c0		 test	 eax, eax
  019b6	74 09		 je	 SHORT $LN32@MagicGladi
  019b8	c7 45 ec 12 02
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 530 ; 00000212H
  019bf	eb 7d		 jmp	 SHORT $LN33@MagicGladi
$LN32@MagicGladi:

; 600  : 		else if(gObjGetMagicSearch( lpObj, 531) != NULL) SearchSkill = 531;

  019c1	68 13 02 00 00	 push	 531			; 00000213H
  019c6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  019c9	50		 push	 eax
  019ca	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  019cf	83 c4 08	 add	 esp, 8
  019d2	85 c0		 test	 eax, eax
  019d4	74 09		 je	 SHORT $LN30@MagicGladi
  019d6	c7 45 ec 13 02
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 531 ; 00000213H
  019dd	eb 5f		 jmp	 SHORT $LN33@MagicGladi
$LN30@MagicGladi:

; 601  : 		else if(gObjGetMagicSearch( lpObj, 532) != NULL) SearchSkill = 532;

  019df	68 14 02 00 00	 push	 532			; 00000214H
  019e4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  019e7	50		 push	 eax
  019e8	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  019ed	83 c4 08	 add	 esp, 8
  019f0	85 c0		 test	 eax, eax
  019f2	74 09		 je	 SHORT $LN28@MagicGladi
  019f4	c7 45 ec 14 02
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 532 ; 00000214H
  019fb	eb 41		 jmp	 SHORT $LN33@MagicGladi
$LN28@MagicGladi:

; 602  : 		else if(gObjGetMagicSearch( lpObj, 533) != NULL) SearchSkill = 533;

  019fd	68 15 02 00 00	 push	 533			; 00000215H
  01a02	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01a05	50		 push	 eax
  01a06	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01a0b	83 c4 08	 add	 esp, 8
  01a0e	85 c0		 test	 eax, eax
  01a10	74 09		 je	 SHORT $LN26@MagicGladi
  01a12	c7 45 ec 15 02
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 533 ; 00000215H
  01a19	eb 23		 jmp	 SHORT $LN33@MagicGladi
$LN26@MagicGladi:

; 603  : 		else if(gObjGetMagicSearch( lpObj, 534) != NULL) SearchSkill = 534;

  01a1b	68 16 02 00 00	 push	 534			; 00000216H
  01a20	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01a23	50		 push	 eax
  01a24	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01a29	83 c4 08	 add	 esp, 8
  01a2c	85 c0		 test	 eax, eax
  01a2e	74 09		 je	 SHORT $LN24@MagicGladi
  01a30	c7 45 ec 16 02
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 534 ; 00000216H

; 604  : 		else return;

  01a37	eb 05		 jmp	 SHORT $LN33@MagicGladi
$LN24@MagicGladi:
  01a39	e9 5e 02 00 00	 jmp	 $LN36@MagicGladi
$LN33@MagicGladi:

; 605  : 		skill = SearchSkill;

  01a3e	8b 45 ec	 mov	 eax, DWORD PTR _SearchSkill$[ebp]
  01a41	89 45 f8	 mov	 DWORD PTR _skill$[ebp], eax

; 606  : 		NormDis = 6;

  01a44	c7 45 f4 06 00
	00 00		 mov	 DWORD PTR _NormDis$[ebp], 6

; 607  : 	}
; 608  : 	else

  01a4b	e9 c6 00 00 00	 jmp	 $LN22@MagicGladi
$LN35@MagicGladi:

; 609  : 	{
; 610  : 		if(gObjGetMagicSearch( lpObj, 41) != NULL) SearchSkill = 41;

  01a50	6a 29		 push	 41			; 00000029H
  01a52	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01a55	50		 push	 eax
  01a56	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01a5b	83 c4 08	 add	 esp, 8
  01a5e	85 c0		 test	 eax, eax
  01a60	74 0c		 je	 SHORT $LN21@MagicGladi
  01a62	c7 45 ec 29 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 41 ; 00000029H
  01a69	e9 9b 00 00 00	 jmp	 $LN20@MagicGladi
$LN21@MagicGladi:

; 611  : 		else if(gObjGetMagicSearch( lpObj, 495) != NULL) SearchSkill = 495;

  01a6e	68 ef 01 00 00	 push	 495			; 000001efH
  01a73	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01a76	50		 push	 eax
  01a77	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01a7c	83 c4 08	 add	 esp, 8
  01a7f	85 c0		 test	 eax, eax
  01a81	74 09		 je	 SHORT $LN19@MagicGladi
  01a83	c7 45 ec ef 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 495 ; 000001efH
  01a8a	eb 7d		 jmp	 SHORT $LN20@MagicGladi
$LN19@MagicGladi:

; 612  : 		else if(gObjGetMagicSearch( lpObj, 496) != NULL) SearchSkill = 496;

  01a8c	68 f0 01 00 00	 push	 496			; 000001f0H
  01a91	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01a94	50		 push	 eax
  01a95	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01a9a	83 c4 08	 add	 esp, 8
  01a9d	85 c0		 test	 eax, eax
  01a9f	74 09		 je	 SHORT $LN17@MagicGladi
  01aa1	c7 45 ec f0 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 496 ; 000001f0H
  01aa8	eb 5f		 jmp	 SHORT $LN20@MagicGladi
$LN17@MagicGladi:

; 613  : 		else if(gObjGetMagicSearch( lpObj, 497) != NULL) SearchSkill = 497;

  01aaa	68 f1 01 00 00	 push	 497			; 000001f1H
  01aaf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01ab2	50		 push	 eax
  01ab3	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01ab8	83 c4 08	 add	 esp, 8
  01abb	85 c0		 test	 eax, eax
  01abd	74 09		 je	 SHORT $LN15@MagicGladi
  01abf	c7 45 ec f1 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 497 ; 000001f1H
  01ac6	eb 41		 jmp	 SHORT $LN20@MagicGladi
$LN15@MagicGladi:

; 614  : 		else if(gObjGetMagicSearch( lpObj, 498) != NULL) SearchSkill = 498;

  01ac8	68 f2 01 00 00	 push	 498			; 000001f2H
  01acd	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01ad0	50		 push	 eax
  01ad1	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01ad6	83 c4 08	 add	 esp, 8
  01ad9	85 c0		 test	 eax, eax
  01adb	74 09		 je	 SHORT $LN13@MagicGladi
  01add	c7 45 ec f2 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 498 ; 000001f2H
  01ae4	eb 23		 jmp	 SHORT $LN20@MagicGladi
$LN13@MagicGladi:

; 615  : 		else if(gObjGetMagicSearch( lpObj, 499) != NULL) SearchSkill = 499;

  01ae6	68 f3 01 00 00	 push	 499			; 000001f3H
  01aeb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01aee	50		 push	 eax
  01aef	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01af4	83 c4 08	 add	 esp, 8
  01af7	85 c0		 test	 eax, eax
  01af9	74 09		 je	 SHORT $LN11@MagicGladi
  01afb	c7 45 ec f3 01
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 499 ; 000001f3H

; 616  : 		else return;

  01b02	eb 05		 jmp	 SHORT $LN20@MagicGladi
$LN11@MagicGladi:
  01b04	e9 93 01 00 00	 jmp	 $LN36@MagicGladi
$LN20@MagicGladi:

; 617  : 		skill = SearchSkill;

  01b09	8b 45 ec	 mov	 eax, DWORD PTR _SearchSkill$[ebp]
  01b0c	89 45 f8	 mov	 DWORD PTR _skill$[ebp], eax

; 618  : 		NormDis = 2;

  01b0f	c7 45 f4 02 00
	00 00		 mov	 DWORD PTR _NormDis$[ebp], 2
$LN22@MagicGladi:

; 619  : 	}
; 620  : 
; 621  : 	lpMagic = gObjGetMagicSearch( lpObj, skill);	//Twisting Slash 41

  01b16	8b 45 f8	 mov	 eax, DWORD PTR _skill$[ebp]
  01b19	50		 push	 eax
  01b1a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01b1d	51		 push	 ecx
  01b1e	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01b23	83 c4 08	 add	 esp, 8
  01b26	89 45 f0	 mov	 DWORD PTR _lpMagic$[ebp], eax

; 622  : 	if(lpMagic==NULL) return;

  01b29	83 7d f0 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  01b2d	75 05		 jne	 SHORT $LN9@MagicGladi
  01b2f	e9 68 01 00 00	 jmp	 $LN36@MagicGladi
$LN9@MagicGladi:

; 623  : 
; 624  : 	gObjUseSkill.UseSkill(lpObj->m_Index, lpMagic,lpObj->X, lpObj->Y,0,0,-1);

  01b34	6a ff		 push	 -1
  01b36	6a 00		 push	 0
  01b38	6a 00		 push	 0
  01b3a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01b3d	0f b6 88 46 01
	00 00		 movzx	 ecx, BYTE PTR [eax+326]
  01b44	51		 push	 ecx
  01b45	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01b48	0f b6 82 44 01
	00 00		 movzx	 eax, BYTE PTR [edx+324]
  01b4f	50		 push	 eax
  01b50	8b 4d f0	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  01b53	51		 push	 ecx
  01b54	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01b57	8b 02		 mov	 eax, DWORD PTR [edx]
  01b59	50		 push	 eax
  01b5a	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  01b5f	e8 00 00 00 00	 call	 ?UseSkill@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::UseSkill

; 625  : 
; 626  : 	int dis;
; 627  : 	int tObjNum;
; 628  : 	BYTE attr;
; 629  : 	for (int n=0;n<MAX_VIEWPORT_MONSTER;n++)

  01b64	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _n$230163[ebp], 0
  01b6b	eb 09		 jmp	 SHORT $LN8@MagicGladi
$LN7@MagicGladi:
  01b6d	8b 45 dc	 mov	 eax, DWORD PTR _n$230163[ebp]
  01b70	83 c0 01	 add	 eax, 1
  01b73	89 45 dc	 mov	 DWORD PTR _n$230163[ebp], eax
$LN8@MagicGladi:
  01b76	83 7d dc 4b	 cmp	 DWORD PTR _n$230163[ebp], 75 ; 0000004bH
  01b7a	0f 8d 0e 01 00
	00		 jge	 $LN6@MagicGladi

; 630  : 	{
; 631  : 		tObjNum = lpObj->VpPlayer2[n].number;

  01b80	8b 45 dc	 mov	 eax, DWORD PTR _n$230163[ebp]
  01b83	6b c0 0c	 imul	 eax, 12			; 0000000cH
  01b86	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01b89	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  01b91	89 55 e4	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 632  : 		if(lpObj->VpPlayer2[n].state == 0) continue;

  01b94	8b 45 dc	 mov	 eax, DWORD PTR _n$230163[ebp]
  01b97	6b c0 0c	 imul	 eax, 12			; 0000000cH
  01b9a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01b9d	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  01ba5	85 d2		 test	 edx, edx
  01ba7	75 02		 jne	 SHORT $LN5@MagicGladi
  01ba9	eb c2		 jmp	 SHORT $LN7@MagicGladi
$LN5@MagicGladi:

; 633  : 		if ( tObjNum >= 0 )

  01bab	83 7d e4 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  01baf	0f 8c d4 00 00
	00		 jl	 $LN4@MagicGladi

; 634  : 		{
; 635  : 			if ( gObj[tObjNum].Type == OBJ_MONSTER )

  01bb5	8b 45 e4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  01bb8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01bbe	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01bc4	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  01bc9	83 fa 02	 cmp	 edx, 2
  01bcc	0f 85 b7 00 00
	00		 jne	 $LN4@MagicGladi

; 636  : 			{
; 637  : 				attr = MapC[gObj[tObjNum].MapNumber].GetAttr(gObj[tObjNum].X, gObj[tObjNum].Y);

  01bd2	8b 45 e4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  01bd5	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01bdb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01be1	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  01be9	52		 push	 edx
  01bea	8b 45 e4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  01bed	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01bf3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01bf9	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  01c01	52		 push	 edx
  01c02	8b 45 e4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  01c05	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01c0b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01c11	0f b6 8c 01 49
	01 00 00	 movzx	 ecx, BYTE PTR [ecx+eax+329]
  01c19	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  01c1f	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  01c25	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  01c2a	88 45 e3	 mov	 BYTE PTR _attr$[ebp], al

; 638  : 				if ( (attr&1) != 1 )

  01c2d	0f b6 45 e3	 movzx	 eax, BYTE PTR _attr$[ebp]
  01c31	83 e0 01	 and	 eax, 1
  01c34	75 53		 jne	 SHORT $LN4@MagicGladi

; 639  : 				{
; 640  : 					dis = gObjCalDistance(lpObj, &gObj[tObjNum]);

  01c36	8b 45 e4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  01c39	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01c3f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01c45	50		 push	 eax
  01c46	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01c49	51		 push	 ecx
  01c4a	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  01c4f	83 c4 08	 add	 esp, 8
  01c52	89 45 e8	 mov	 DWORD PTR _dis$[ebp], eax

; 641  : 					if(NormDis >= dis)

  01c55	8b 45 f4	 mov	 eax, DWORD PTR _NormDis$[ebp]
  01c58	3b 45 e8	 cmp	 eax, DWORD PTR _dis$[ebp]
  01c5b	7c 2c		 jl	 SHORT $LN4@MagicGladi

; 642  : 					{
; 643  : 						gObjAttack(lpObj, &gObj[tObjNum], lpMagic, FALSE, 1, 0, FALSE,0,0);

  01c5d	6a 00		 push	 0
  01c5f	6a 00		 push	 0
  01c61	6a 00		 push	 0
  01c63	6a 00		 push	 0
  01c65	6a 01		 push	 1
  01c67	6a 00		 push	 0
  01c69	8b 45 f0	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01c6c	50		 push	 eax
  01c6d	8b 4d e4	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  01c70	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01c76	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01c7c	51		 push	 ecx
  01c7d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01c80	52		 push	 edx
  01c81	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  01c86	83 c4 24	 add	 esp, 36			; 00000024H
$LN4@MagicGladi:

; 644  : 					}
; 645  : 				}
; 646  : 			}
; 647  : 		}
; 648  : 	}

  01c89	e9 df fe ff ff	 jmp	 $LN7@MagicGladi
$LN6@MagicGladi:

; 649  : 
; 650  : 	this->UseMana(lpObj->m_Index);

  01c8e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01c91	8b 08		 mov	 ecx, DWORD PTR [eax]
  01c93	51		 push	 ecx
  01c94	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01c97	e8 00 00 00 00	 call	 ?UseMana@cOffExp@@QAEXH@Z ; cOffExp::UseMana
$LN36@MagicGladi:

; 651  : }

  01c9c	5f		 pop	 edi
  01c9d	5e		 pop	 esi
  01c9e	5b		 pop	 ebx
  01c9f	8b e5		 mov	 esp, ebp
  01ca1	5d		 pop	 ebp
  01ca2	c2 04 00	 ret	 4
?MagicGladiatorOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; cOffExp::MagicGladiatorOff
_TEXT	ENDS
PUBLIC	?SearchTarget@cOffExp@@QAEHPAUOBJECTSTRUCT@@@Z	; cOffExp::SearchTarget
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpMagic$ = -16						; size = 4
_SearchSkill$ = -12					; size = 4
_Target$ = -8						; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
?DarkLordOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z PROC	; cOffExp::DarkLordOff
; _this$ = ecx

; 656  : {

  01cb0	55		 push	 ebp
  01cb1	8b ec		 mov	 ebp, esp
  01cb3	83 ec 50	 sub	 esp, 80			; 00000050H
  01cb6	53		 push	 ebx
  01cb7	56		 push	 esi
  01cb8	57		 push	 edi
  01cb9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 657  : 	int Target = this->SearchTarget(lpObj);

  01cbc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01cbf	50		 push	 eax
  01cc0	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01cc3	e8 00 00 00 00	 call	 ?SearchTarget@cOffExp@@QAEHPAUOBJECTSTRUCT@@@Z ; cOffExp::SearchTarget
  01cc8	89 45 f8	 mov	 DWORD PTR _Target$[ebp], eax

; 658  : 
; 659  : 	if(Target == -1) return;

  01ccb	83 7d f8 ff	 cmp	 DWORD PTR _Target$[ebp], -1
  01ccf	75 05		 jne	 SHORT $LN14@DarkLordOf
  01cd1	e9 fe 00 00 00	 jmp	 $LN15@DarkLordOf
$LN14@DarkLordOf:

; 660  : 
; 661  : 	int SearchSkill = 0;

  01cd6	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 0

; 662  : 	CMagicInf * lpMagic;
; 663  : 
; 664  : 	if(gObjGetMagicSearch( lpObj, 61) != NULL) SearchSkill = 61;

  01cdd	6a 3d		 push	 61			; 0000003dH
  01cdf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01ce2	50		 push	 eax
  01ce3	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01ce8	83 c4 08	 add	 esp, 8
  01ceb	85 c0		 test	 eax, eax
  01ced	74 0c		 je	 SHORT $LN13@DarkLordOf
  01cef	c7 45 f4 3d 00
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 61 ; 0000003dH
  01cf6	e9 98 00 00 00	 jmp	 $LN12@DarkLordOf
$LN13@DarkLordOf:

; 665  : 	else if(gObjGetMagicSearch( lpObj, 520) != NULL) SearchSkill = 520;

  01cfb	68 08 02 00 00	 push	 520			; 00000208H
  01d00	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01d03	50		 push	 eax
  01d04	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01d09	83 c4 08	 add	 esp, 8
  01d0c	85 c0		 test	 eax, eax
  01d0e	74 09		 je	 SHORT $LN11@DarkLordOf
  01d10	c7 45 f4 08 02
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 520 ; 00000208H
  01d17	eb 7a		 jmp	 SHORT $LN12@DarkLordOf
$LN11@DarkLordOf:

; 666  : 	else if(gObjGetMagicSearch( lpObj, 521) != NULL) SearchSkill = 521;

  01d19	68 09 02 00 00	 push	 521			; 00000209H
  01d1e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01d21	50		 push	 eax
  01d22	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01d27	83 c4 08	 add	 esp, 8
  01d2a	85 c0		 test	 eax, eax
  01d2c	74 09		 je	 SHORT $LN9@DarkLordOf
  01d2e	c7 45 f4 09 02
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 521 ; 00000209H
  01d35	eb 5c		 jmp	 SHORT $LN12@DarkLordOf
$LN9@DarkLordOf:

; 667  : 	else if(gObjGetMagicSearch( lpObj, 522) != NULL) SearchSkill = 522;

  01d37	68 0a 02 00 00	 push	 522			; 0000020aH
  01d3c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01d3f	50		 push	 eax
  01d40	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01d45	83 c4 08	 add	 esp, 8
  01d48	85 c0		 test	 eax, eax
  01d4a	74 09		 je	 SHORT $LN7@DarkLordOf
  01d4c	c7 45 f4 0a 02
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 522 ; 0000020aH
  01d53	eb 3e		 jmp	 SHORT $LN12@DarkLordOf
$LN7@DarkLordOf:

; 668  : 	else if(gObjGetMagicSearch( lpObj, 523) != NULL) SearchSkill = 523;

  01d55	68 0b 02 00 00	 push	 523			; 0000020bH
  01d5a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01d5d	50		 push	 eax
  01d5e	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01d63	83 c4 08	 add	 esp, 8
  01d66	85 c0		 test	 eax, eax
  01d68	74 09		 je	 SHORT $LN5@DarkLordOf
  01d6a	c7 45 f4 0b 02
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 523 ; 0000020bH
  01d71	eb 20		 jmp	 SHORT $LN12@DarkLordOf
$LN5@DarkLordOf:

; 669  : 	else if(gObjGetMagicSearch( lpObj, 524) != NULL) SearchSkill = 524;

  01d73	68 0c 02 00 00	 push	 524			; 0000020cH
  01d78	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01d7b	50		 push	 eax
  01d7c	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01d81	83 c4 08	 add	 esp, 8
  01d84	85 c0		 test	 eax, eax
  01d86	74 09		 je	 SHORT $LN3@DarkLordOf
  01d88	c7 45 f4 0c 02
	00 00		 mov	 DWORD PTR _SearchSkill$[ebp], 524 ; 0000020cH

; 670  : 	else return;

  01d8f	eb 02		 jmp	 SHORT $LN12@DarkLordOf
$LN3@DarkLordOf:
  01d91	eb 41		 jmp	 SHORT $LN15@DarkLordOf
$LN12@DarkLordOf:

; 671  : 
; 672  : 	lpMagic = gObjGetMagicSearch( lpObj, SearchSkill);

  01d93	8b 45 f4	 mov	 eax, DWORD PTR _SearchSkill$[ebp]
  01d96	50		 push	 eax
  01d97	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01d9a	51		 push	 ecx
  01d9b	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01da0	83 c4 08	 add	 esp, 8
  01da3	89 45 f0	 mov	 DWORD PTR _lpMagic$[ebp], eax

; 673  : 	if(lpMagic==NULL) return;

  01da6	83 7d f0 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  01daa	75 02		 jne	 SHORT $LN1@DarkLordOf
  01dac	eb 26		 jmp	 SHORT $LN15@DarkLordOf
$LN1@DarkLordOf:

; 674  : 
; 675  : 	gObjUseSkill.UseSkill(lpObj->m_Index,Target, lpMagic); //

  01dae	8b 45 f0	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01db1	50		 push	 eax
  01db2	8b 4d f8	 mov	 ecx, DWORD PTR _Target$[ebp]
  01db5	51		 push	 ecx
  01db6	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01db9	8b 02		 mov	 eax, DWORD PTR [edx]
  01dbb	50		 push	 eax
  01dbc	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  01dc1	e8 00 00 00 00	 call	 ?UseSkill@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z ; CObjUseSkill::UseSkill

; 676  : 
; 677  : 	this->UseMana(lpObj->m_Index);

  01dc6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01dc9	8b 08		 mov	 ecx, DWORD PTR [eax]
  01dcb	51		 push	 ecx
  01dcc	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01dcf	e8 00 00 00 00	 call	 ?UseMana@cOffExp@@QAEXH@Z ; cOffExp::UseMana
$LN15@DarkLordOf:

; 678  : }

  01dd4	5f		 pop	 edi
  01dd5	5e		 pop	 esi
  01dd6	5b		 pop	 ebx
  01dd7	8b e5		 mov	 esp, ebp
  01dd9	5d		 pop	 ebp
  01dda	c2 04 00	 ret	 4
?DarkLordOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ENDP	; cOffExp::DarkLordOff
; Function compile flags: /Odtp /ZI
_n$230202 = -24					; size = 4
_attr$ = -17						; size = 1
_tObjNum$ = -16						; size = 4
_dis$ = -12						; size = 4
_lpMagic$ = -8						; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
?SummonerOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z PROC	; cOffExp::SummonerOff
; _this$ = ecx

; 683  : {

  01de0	55		 push	 ebp
  01de1	8b ec		 mov	 ebp, esp
  01de3	83 ec 58	 sub	 esp, 88			; 00000058H
  01de6	53		 push	 ebx
  01de7	56		 push	 esi
  01de8	57		 push	 edi
  01de9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 684  : 	CMagicInf * lpMagic;
; 685  : 	lpMagic = gObjGetMagicSearch( lpObj, 230);	//Lightning Shock

  01dec	68 e6 00 00 00	 push	 230			; 000000e6H
  01df1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01df4	50		 push	 eax
  01df5	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01dfa	83 c4 08	 add	 esp, 8
  01dfd	89 45 f8	 mov	 DWORD PTR _lpMagic$[ebp], eax

; 686  : 	if(lpMagic==NULL) return;

  01e00	83 7d f8 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  01e04	75 05		 jne	 SHORT $LN9@SummonerOf
  01e06	e9 66 01 00 00	 jmp	 $LN10@SummonerOf
$LN9@SummonerOf:

; 687  : 
; 688  : 	gObjUseSkill.UseSkill(lpObj->m_Index, lpMagic,lpObj->X, lpObj->Y,0,0,-1);

  01e0b	6a ff		 push	 -1
  01e0d	6a 00		 push	 0
  01e0f	6a 00		 push	 0
  01e11	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01e14	0f b6 88 46 01
	00 00		 movzx	 ecx, BYTE PTR [eax+326]
  01e1b	51		 push	 ecx
  01e1c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01e1f	0f b6 82 44 01
	00 00		 movzx	 eax, BYTE PTR [edx+324]
  01e26	50		 push	 eax
  01e27	8b 4d f8	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  01e2a	51		 push	 ecx
  01e2b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01e2e	8b 02		 mov	 eax, DWORD PTR [edx]
  01e30	50		 push	 eax
  01e31	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  01e36	e8 00 00 00 00	 call	 ?UseSkill@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::UseSkill

; 689  : 
; 690  : 	int dis;
; 691  : 	int tObjNum;
; 692  : 	BYTE attr;
; 693  : 	for (int n=0;n<MAX_VIEWPORT_MONSTER;n++)

  01e3b	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _n$230202[ebp], 0
  01e42	eb 09		 jmp	 SHORT $LN8@SummonerOf
$LN7@SummonerOf:
  01e44	8b 45 e8	 mov	 eax, DWORD PTR _n$230202[ebp]
  01e47	83 c0 01	 add	 eax, 1
  01e4a	89 45 e8	 mov	 DWORD PTR _n$230202[ebp], eax
$LN8@SummonerOf:
  01e4d	83 7d e8 4b	 cmp	 DWORD PTR _n$230202[ebp], 75 ; 0000004bH
  01e51	0f 8d 0c 01 00
	00		 jge	 $LN6@SummonerOf

; 694  : 	{
; 695  : 		tObjNum = lpObj->VpPlayer2[n].number;

  01e57	8b 45 e8	 mov	 eax, DWORD PTR _n$230202[ebp]
  01e5a	6b c0 0c	 imul	 eax, 12			; 0000000cH
  01e5d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01e60	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  01e68	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 696  : 		if(lpObj->VpPlayer2[n].state == 0) continue;

  01e6b	8b 45 e8	 mov	 eax, DWORD PTR _n$230202[ebp]
  01e6e	6b c0 0c	 imul	 eax, 12			; 0000000cH
  01e71	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01e74	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  01e7c	85 d2		 test	 edx, edx
  01e7e	75 02		 jne	 SHORT $LN5@SummonerOf
  01e80	eb c2		 jmp	 SHORT $LN7@SummonerOf
$LN5@SummonerOf:

; 697  : 		if ( tObjNum >= 0 )

  01e82	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  01e86	0f 8c d2 00 00
	00		 jl	 $LN4@SummonerOf

; 698  : 		{
; 699  : 			if ( gObj[tObjNum].Type == OBJ_MONSTER )

  01e8c	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  01e8f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01e95	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01e9b	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  01ea0	83 fa 02	 cmp	 edx, 2
  01ea3	0f 85 b5 00 00
	00		 jne	 $LN4@SummonerOf

; 700  : 			{
; 701  : 				attr = MapC[gObj[tObjNum].MapNumber].GetAttr(gObj[tObjNum].X, gObj[tObjNum].Y);

  01ea9	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  01eac	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01eb2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01eb8	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  01ec0	52		 push	 edx
  01ec1	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  01ec4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01eca	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01ed0	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  01ed8	52		 push	 edx
  01ed9	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  01edc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01ee2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01ee8	0f b6 8c 01 49
	01 00 00	 movzx	 ecx, BYTE PTR [ecx+eax+329]
  01ef0	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  01ef6	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  01efc	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  01f01	88 45 ef	 mov	 BYTE PTR _attr$[ebp], al

; 702  : 				if ( (attr&1) != 1 )

  01f04	0f b6 45 ef	 movzx	 eax, BYTE PTR _attr$[ebp]
  01f08	83 e0 01	 and	 eax, 1
  01f0b	75 51		 jne	 SHORT $LN4@SummonerOf

; 703  : 				{
; 704  : 					dis = gObjCalDistance(lpObj, &gObj[tObjNum]);

  01f0d	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  01f10	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01f16	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01f1c	50		 push	 eax
  01f1d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01f20	51		 push	 ecx
  01f21	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  01f26	83 c4 08	 add	 esp, 8
  01f29	89 45 f4	 mov	 DWORD PTR _dis$[ebp], eax

; 705  : 					if(6 >= dis)

  01f2c	83 7d f4 06	 cmp	 DWORD PTR _dis$[ebp], 6
  01f30	7f 2c		 jg	 SHORT $LN4@SummonerOf

; 706  : 					{
; 707  : 						gObjAttack(lpObj, &gObj[tObjNum], lpMagic, FALSE, 1, 0, FALSE,0,0);

  01f32	6a 00		 push	 0
  01f34	6a 00		 push	 0
  01f36	6a 00		 push	 0
  01f38	6a 00		 push	 0
  01f3a	6a 01		 push	 1
  01f3c	6a 00		 push	 0
  01f3e	8b 45 f8	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01f41	50		 push	 eax
  01f42	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  01f45	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01f4b	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01f51	51		 push	 ecx
  01f52	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01f55	52		 push	 edx
  01f56	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  01f5b	83 c4 24	 add	 esp, 36			; 00000024H
$LN4@SummonerOf:

; 708  : 					}
; 709  : 				}
; 710  : 			}
; 711  : 		}
; 712  : 	}

  01f5e	e9 e1 fe ff ff	 jmp	 $LN7@SummonerOf
$LN6@SummonerOf:

; 713  : 
; 714  : 	this->UseMana(lpObj->m_Index);

  01f63	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01f66	8b 08		 mov	 ecx, DWORD PTR [eax]
  01f68	51		 push	 ecx
  01f69	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01f6c	e8 00 00 00 00	 call	 ?UseMana@cOffExp@@QAEXH@Z ; cOffExp::UseMana
$LN10@SummonerOf:

; 715  : }

  01f71	5f		 pop	 edi
  01f72	5e		 pop	 esi
  01f73	5b		 pop	 ebx
  01f74	8b e5		 mov	 esp, ebp
  01f76	5d		 pop	 ebp
  01f77	c2 04 00	 ret	 4
?SummonerOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ENDP	; cOffExp::SummonerOff
; Function compile flags: /Odtp /ZI
_n$230223 = -24					; size = 4
_attr$ = -17						; size = 1
_tObjNum$ = -16						; size = 4
_dis$ = -12						; size = 4
_lpMagic$ = -8						; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
?RageFighterOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z PROC	; cOffExp::RageFighterOff
; _this$ = ecx

; 721  : {

  01f80	55		 push	 ebp
  01f81	8b ec		 mov	 ebp, esp
  01f83	83 ec 58	 sub	 esp, 88			; 00000058H
  01f86	53		 push	 ebx
  01f87	56		 push	 esi
  01f88	57		 push	 edi
  01f89	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 722  : 	CMagicInf * lpMagic;
; 723  : #ifdef TEST_OFFAFF_DARK_SIDE
; 724  : 	if(g_ExLicense.CheckUser(eExUB::ulasevich) || g_ExLicense.CheckUser(eExUB::Local3) || g_ExLicense.CheckUser(eExUB::Local) || g_ExLicense.CheckUser(eExUB::ulasevich2))

  01f8c	6a 17		 push	 23			; 00000017H
  01f8e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  01f93	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  01f98	0f b6 c0	 movzx	 eax, al
  01f9b	85 c0		 test	 eax, eax
  01f9d	75 39		 jne	 SHORT $LN11@RageFighte
  01f9f	6a 1c		 push	 28			; 0000001cH
  01fa1	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  01fa6	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  01fab	0f b6 c0	 movzx	 eax, al
  01fae	85 c0		 test	 eax, eax
  01fb0	75 26		 jne	 SHORT $LN11@RageFighte
  01fb2	6a 00		 push	 0
  01fb4	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  01fb9	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  01fbe	0f b6 c0	 movzx	 eax, al
  01fc1	85 c0		 test	 eax, eax
  01fc3	75 13		 jne	 SHORT $LN11@RageFighte
  01fc5	6a 24		 push	 36			; 00000024H
  01fc7	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  01fcc	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  01fd1	0f b6 c0	 movzx	 eax, al
  01fd4	85 c0		 test	 eax, eax
  01fd6	74 16		 je	 SHORT $LN12@RageFighte
$LN11@RageFighte:

; 725  : 	{
; 726  : 		lpMagic = gObjGetMagicSearch( lpObj, 263);

  01fd8	68 07 01 00 00	 push	 263			; 00000107H
  01fdd	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01fe0	50		 push	 eax
  01fe1	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01fe6	83 c4 08	 add	 esp, 8
  01fe9	89 45 f8	 mov	 DWORD PTR _lpMagic$[ebp], eax

; 727  : 	}
; 728  : 	else

  01fec	eb 14		 jmp	 SHORT $LN10@RageFighte
$LN12@RageFighte:

; 729  : 	{
; 730  : 		lpMagic = gObjGetMagicSearch( lpObj, 264);

  01fee	68 08 01 00 00	 push	 264			; 00000108H
  01ff3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01ff6	50		 push	 eax
  01ff7	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01ffc	83 c4 08	 add	 esp, 8
  01fff	89 45 f8	 mov	 DWORD PTR _lpMagic$[ebp], eax
$LN10@RageFighte:

; 731  : 	}
; 732  : #else
; 733  : 	lpMagic = gObjGetMagicSearch( lpObj, 264);
; 734  : #endif
; 735  : 	if(lpMagic==NULL) return;

  02002	83 7d f8 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  02006	75 05		 jne	 SHORT $LN9@RageFighte
  02008	e9 66 01 00 00	 jmp	 $LN13@RageFighte
$LN9@RageFighte:

; 736  : 
; 737  : 	gObjUseSkill.UseSkill(lpObj->m_Index, lpMagic,lpObj->X, lpObj->Y,0,0,-1);

  0200d	6a ff		 push	 -1
  0200f	6a 00		 push	 0
  02011	6a 00		 push	 0
  02013	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02016	0f b6 88 46 01
	00 00		 movzx	 ecx, BYTE PTR [eax+326]
  0201d	51		 push	 ecx
  0201e	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02021	0f b6 82 44 01
	00 00		 movzx	 eax, BYTE PTR [edx+324]
  02028	50		 push	 eax
  02029	8b 4d f8	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0202c	51		 push	 ecx
  0202d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02030	8b 02		 mov	 eax, DWORD PTR [edx]
  02032	50		 push	 eax
  02033	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  02038	e8 00 00 00 00	 call	 ?UseSkill@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::UseSkill

; 738  : 
; 739  : 	int dis;
; 740  : 	int tObjNum;
; 741  : 	BYTE attr;
; 742  : 	for (int n=0;n<MAX_VIEWPORT_MONSTER;n++)

  0203d	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _n$230223[ebp], 0
  02044	eb 09		 jmp	 SHORT $LN8@RageFighte
$LN7@RageFighte:
  02046	8b 45 e8	 mov	 eax, DWORD PTR _n$230223[ebp]
  02049	83 c0 01	 add	 eax, 1
  0204c	89 45 e8	 mov	 DWORD PTR _n$230223[ebp], eax
$LN8@RageFighte:
  0204f	83 7d e8 4b	 cmp	 DWORD PTR _n$230223[ebp], 75 ; 0000004bH
  02053	0f 8d 0c 01 00
	00		 jge	 $LN6@RageFighte

; 743  : 	{
; 744  : 		tObjNum = lpObj->VpPlayer2[n].number;

  02059	8b 45 e8	 mov	 eax, DWORD PTR _n$230223[ebp]
  0205c	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0205f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02062	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0206a	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 745  : 		if(lpObj->VpPlayer2[n].state == 0) continue;

  0206d	8b 45 e8	 mov	 eax, DWORD PTR _n$230223[ebp]
  02070	6b c0 0c	 imul	 eax, 12			; 0000000cH
  02073	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02076	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0207e	85 d2		 test	 edx, edx
  02080	75 02		 jne	 SHORT $LN5@RageFighte
  02082	eb c2		 jmp	 SHORT $LN7@RageFighte
$LN5@RageFighte:

; 746  : 		if ( tObjNum >= 0 )

  02084	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  02088	0f 8c d2 00 00
	00		 jl	 $LN4@RageFighte

; 747  : 		{
; 748  : 			if ( gObj[tObjNum].Type == OBJ_MONSTER )

  0208e	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  02091	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02097	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0209d	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  020a2	83 fa 02	 cmp	 edx, 2
  020a5	0f 85 b5 00 00
	00		 jne	 $LN4@RageFighte

; 749  : 			{
; 750  : 				attr = MapC[gObj[tObjNum].MapNumber].GetAttr(gObj[tObjNum].X, gObj[tObjNum].Y);

  020ab	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  020ae	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  020b4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  020ba	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  020c2	52		 push	 edx
  020c3	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  020c6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  020cc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  020d2	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  020da	52		 push	 edx
  020db	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  020de	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  020e4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  020ea	0f b6 8c 01 49
	01 00 00	 movzx	 ecx, BYTE PTR [ecx+eax+329]
  020f2	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  020f8	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  020fe	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  02103	88 45 ef	 mov	 BYTE PTR _attr$[ebp], al

; 751  : 				if ( (attr&1) != 1 )

  02106	0f b6 45 ef	 movzx	 eax, BYTE PTR _attr$[ebp]
  0210a	83 e0 01	 and	 eax, 1
  0210d	75 51		 jne	 SHORT $LN4@RageFighte

; 752  : 				{
; 753  : 					dis = gObjCalDistance(lpObj, &gObj[tObjNum]);

  0210f	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  02112	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02118	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0211e	50		 push	 eax
  0211f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02122	51		 push	 ecx
  02123	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  02128	83 c4 08	 add	 esp, 8
  0212b	89 45 f4	 mov	 DWORD PTR _dis$[ebp], eax

; 754  : 					if(6 >= dis)

  0212e	83 7d f4 06	 cmp	 DWORD PTR _dis$[ebp], 6
  02132	7f 2c		 jg	 SHORT $LN4@RageFighte

; 755  : 					{
; 756  : 						gObjAttack(lpObj, &gObj[tObjNum], lpMagic, FALSE, 1, 0, FALSE, 0 , 0);

  02134	6a 00		 push	 0
  02136	6a 00		 push	 0
  02138	6a 00		 push	 0
  0213a	6a 00		 push	 0
  0213c	6a 01		 push	 1
  0213e	6a 00		 push	 0
  02140	8b 45 f8	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  02143	50		 push	 eax
  02144	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  02147	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0214d	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02153	51		 push	 ecx
  02154	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02157	52		 push	 edx
  02158	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0215d	83 c4 24	 add	 esp, 36			; 00000024H
$LN4@RageFighte:

; 757  : 					}
; 758  : 				}
; 759  : 			}
; 760  : 		}
; 761  : 	}

  02160	e9 e1 fe ff ff	 jmp	 $LN7@RageFighte
$LN6@RageFighte:

; 762  : 
; 763  : 	this->UseMana(lpObj->m_Index);

  02165	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02168	8b 08		 mov	 ecx, DWORD PTR [eax]
  0216a	51		 push	 ecx
  0216b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0216e	e8 00 00 00 00	 call	 ?UseMana@cOffExp@@QAEXH@Z ; cOffExp::UseMana
$LN13@RageFighte:

; 764  : }

  02173	5f		 pop	 edi
  02174	5e		 pop	 esi
  02175	5b		 pop	 ebx
  02176	8b e5		 mov	 esp, ebp
  02178	5d		 pop	 ebp
  02179	c2 04 00	 ret	 4
?RageFighterOff@cOffExp@@QAEXPAUOBJECTSTRUCT@@@Z ENDP	; cOffExp::RageFighterOff
_TEXT	ENDS
PUBLIC	__$ArrayPad$
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_n$230243 = -336					; size = 4
_IndexNumber$ = -332					; size = 4
_TargetCount$ = -328					; size = 4
_TargetIndex$ = -324					; size = 300
_attr$ = -21						; size = 1
_tObjNum$ = -20						; size = 4
_searchtarget$ = -16					; size = 4
_dis$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?SearchTarget@cOffExp@@QAEHPAUOBJECTSTRUCT@@@Z PROC	; cOffExp::SearchTarget
; _this$ = ecx

; 767  : {

  02180	55		 push	 ebp
  02181	8b ec		 mov	 ebp, esp
  02183	81 ec 90 01 00
	00		 sub	 esp, 400		; 00000190H
  02189	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0218e	33 c5		 xor	 eax, ebp
  02190	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02193	53		 push	 ebx
  02194	56		 push	 esi
  02195	57		 push	 edi
  02196	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 768  : 	int dis;
; 769  : 	int searchtarget = -1;

  02199	c7 45 f0 ff ff
	ff ff		 mov	 DWORD PTR _searchtarget$[ebp], -1

; 770  : 	int tObjNum;
; 771  : 	BYTE attr;
; 772  : 	int TargetIndex[MAX_VIEWPORT_MONSTER];
; 773  : 	int TargetCount = 0;

  021a0	c7 85 b8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _TargetCount$[ebp], 0

; 774  : 	int IndexNumber;
; 775  : 	for (int n=0;n<MAX_VIEWPORT_MONSTER;n++)

  021aa	c7 85 b0 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _n$230243[ebp], 0
  021b4	eb 0f		 jmp	 SHORT $LN9@SearchTarg
$LN8@SearchTarg:
  021b6	8b 85 b0 fe ff
	ff		 mov	 eax, DWORD PTR _n$230243[ebp]
  021bc	83 c0 01	 add	 eax, 1
  021bf	89 85 b0 fe ff
	ff		 mov	 DWORD PTR _n$230243[ebp], eax
$LN9@SearchTarg:
  021c5	83 bd b0 fe ff
	ff 4b		 cmp	 DWORD PTR _n$230243[ebp], 75 ; 0000004bH
  021cc	0f 8d 05 01 00
	00		 jge	 $LN7@SearchTarg

; 776  : 	{
; 777  : 		tObjNum = lpObj->VpPlayer2[n].number;

  021d2	8b 85 b0 fe ff
	ff		 mov	 eax, DWORD PTR _n$230243[ebp]
  021d8	6b c0 0c	 imul	 eax, 12			; 0000000cH
  021db	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  021de	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  021e6	89 55 ec	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 778  : 		if(lpObj->VpPlayer2[n].state == 0) continue;

  021e9	8b 85 b0 fe ff
	ff		 mov	 eax, DWORD PTR _n$230243[ebp]
  021ef	6b c0 0c	 imul	 eax, 12			; 0000000cH
  021f2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  021f5	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  021fd	85 d2		 test	 edx, edx
  021ff	75 02		 jne	 SHORT $LN6@SearchTarg
  02201	eb b3		 jmp	 SHORT $LN8@SearchTarg
$LN6@SearchTarg:

; 779  : 		if ( tObjNum >= 0 )

  02203	83 7d ec 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  02207	0f 8c c5 00 00
	00		 jl	 $LN5@SearchTarg

; 780  : 		{
; 781  : 			if ( gObj[tObjNum].Type == OBJ_MONSTER )

  0220d	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  02210	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02216	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0221c	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  02221	83 fa 02	 cmp	 edx, 2
  02224	0f 85 a8 00 00
	00		 jne	 $LN5@SearchTarg

; 782  : 			{
; 783  : 				attr = MapC[gObj[tObjNum].MapNumber].GetAttr(gObj[tObjNum].X, gObj[tObjNum].Y);

  0222a	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0222d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02233	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02239	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  02241	52		 push	 edx
  02242	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  02245	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0224b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02251	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  02259	52		 push	 edx
  0225a	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0225d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02263	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02269	0f b6 8c 01 49
	01 00 00	 movzx	 ecx, BYTE PTR [ecx+eax+329]
  02271	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  02277	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  0227d	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  02282	88 45 eb	 mov	 BYTE PTR _attr$[ebp], al

; 784  : 				if ( (attr&1) != 1 )

  02285	0f b6 45 eb	 movzx	 eax, BYTE PTR _attr$[ebp]
  02289	83 e0 01	 and	 eax, 1
  0228c	75 44		 jne	 SHORT $LN5@SearchTarg

; 785  : 				{
; 786  : 					dis = gObjCalDistance(lpObj, &gObj[tObjNum]);

  0228e	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  02291	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02297	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0229d	50		 push	 eax
  0229e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  022a1	51		 push	 ecx
  022a2	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  022a7	83 c4 08	 add	 esp, 8
  022aa	89 45 f4	 mov	 DWORD PTR _dis$[ebp], eax

; 787  : 					if(6 >= dis)

  022ad	83 7d f4 06	 cmp	 DWORD PTR _dis$[ebp], 6
  022b1	7f 1f		 jg	 SHORT $LN5@SearchTarg

; 788  : 					{
; 789  : 						TargetIndex[TargetCount] = tObjNum;

  022b3	8b 85 b8 fe ff
	ff		 mov	 eax, DWORD PTR _TargetCount$[ebp]
  022b9	8b 4d ec	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  022bc	89 8c 85 bc fe
	ff ff		 mov	 DWORD PTR _TargetIndex$[ebp+eax*4], ecx

; 790  : 						TargetCount++;

  022c3	8b 85 b8 fe ff
	ff		 mov	 eax, DWORD PTR _TargetCount$[ebp]
  022c9	83 c0 01	 add	 eax, 1
  022cc	89 85 b8 fe ff
	ff		 mov	 DWORD PTR _TargetCount$[ebp], eax
$LN5@SearchTarg:

; 791  : 					}
; 792  : 				}
; 793  : 			}
; 794  : 		}
; 795  : 	}

  022d2	e9 df fe ff ff	 jmp	 $LN8@SearchTarg
$LN7@SearchTarg:

; 796  : 
; 797  : 	if(TargetCount == 0)	return -1;

  022d7	83 bd b8 fe ff
	ff 00		 cmp	 DWORD PTR _TargetCount$[ebp], 0
  022de	75 05		 jne	 SHORT $LN1@SearchTarg
  022e0	83 c8 ff	 or	 eax, -1
  022e3	eb 25		 jmp	 SHORT $LN10@SearchTarg
$LN1@SearchTarg:

; 798  : 	
; 799  : 	IndexNumber = rand()%TargetCount;

  022e5	e8 00 00 00 00	 call	 _rand
  022ea	99		 cdq
  022eb	f7 bd b8 fe ff
	ff		 idiv	 DWORD PTR _TargetCount$[ebp]
  022f1	89 95 b4 fe ff
	ff		 mov	 DWORD PTR _IndexNumber$[ebp], edx

; 800  : 
; 801  : 	searchtarget = TargetIndex[IndexNumber];

  022f7	8b 85 b4 fe ff
	ff		 mov	 eax, DWORD PTR _IndexNumber$[ebp]
  022fd	8b 8c 85 bc fe
	ff ff		 mov	 ecx, DWORD PTR _TargetIndex$[ebp+eax*4]
  02304	89 4d f0	 mov	 DWORD PTR _searchtarget$[ebp], ecx

; 802  : 
; 803  : 	return searchtarget;

  02307	8b 45 f0	 mov	 eax, DWORD PTR _searchtarget$[ebp]
$LN10@SearchTarg:

; 804  : }

  0230a	5f		 pop	 edi
  0230b	5e		 pop	 esi
  0230c	5b		 pop	 ebx
  0230d	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02310	33 cd		 xor	 ecx, ebp
  02312	e8 00 00 00 00	 call	 @__security_check_cookie@4
  02317	8b e5		 mov	 esp, ebp
  02319	5d		 pop	 ebp
  0231a	c2 04 00	 ret	 4
?SearchTarget@cOffExp@@QAEHPAUOBJECTSTRUCT@@@Z ENDP	; cOffExp::SearchTarget
_TEXT	ENDS
PUBLIC	__real@3ff0000000000000
PUBLIC	__real@4059000000000000
EXTRN	?GCInventoryItemDeleteSend@@YAXHEE@Z:PROC	; GCInventoryItemDeleteSend
EXTRN	?Clear@CItem@@QAEXXZ:PROC			; CItem::Clear
EXTRN	?gObjInventoryItemSet@@YAXHHE@Z:PROC		; gObjInventoryItemSet
EXTRN	?gObjSearchItemMinus@@YAHPAUOBJECTSTRUCT@@HH@Z:PROC ; gObjSearchItemMinus
EXTRN	?GCManaSend@@YAXHHEEH@Z:PROC			; GCManaSend
EXTRN	?gObjGetManaItemPos@@YAHH@Z:PROC		; gObjGetManaItemPos
EXTRN	__ftol2_sse:PROC
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT __real@4059000000000000
CONST	SEGMENT
__real@4059000000000000 DQ 04059000000000000r	; 100
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv138 = -84						; size = 4
_tMana$230263 = -16					; size = 4
_pos$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?UseMana@cOffExp@@QAEXH@Z PROC				; cOffExp::UseMana
; _this$ = ecx

; 807  : {

  02320	55		 push	 ebp
  02321	8b ec		 mov	 ebp, esp
  02323	83 ec 54	 sub	 esp, 84			; 00000054H
  02326	53		 push	 ebx
  02327	56		 push	 esi
  02328	57		 push	 edi
  02329	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 808  : 	LPOBJ lpObj = &gObj[aIndex];

  0232c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0232f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02335	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0233b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 809  : 
; 810  : 	if(lpObj->Mana > 100) return;

  0233e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02341	d9 80 10 01 00
	00		 fld	 DWORD PTR [eax+272]
  02347	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@4059000000000000
  0234d	df e0		 fnstsw	 ax
  0234f	f6 c4 41	 test	 ah, 65			; 00000041H
  02352	75 05		 jne	 SHORT $LN12@UseMana
  02354	e9 35 03 00 00	 jmp	 $LN13@UseMana
$LN12@UseMana:

; 811  : 		
; 812  : 	int pos;
; 813  : 
; 814  : 	pos = gObjGetManaItemPos(aIndex);

  02359	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0235c	50		 push	 eax
  0235d	e8 00 00 00 00	 call	 ?gObjGetManaItemPos@@YAHH@Z ; gObjGetManaItemPos
  02362	83 c4 04	 add	 esp, 4
  02365	89 45 f4	 mov	 DWORD PTR _pos$[ebp], eax

; 815  : 
; 816  : 	if(pos == -1) return;

  02368	83 7d f4 ff	 cmp	 DWORD PTR _pos$[ebp], -1
  0236c	75 05		 jne	 SHORT $LN11@UseMana
  0236e	e9 1b 03 00 00	 jmp	 $LN13@UseMana
$LN11@UseMana:

; 817  : 
; 818  : 	if( lpObj->pInventory[pos].m_Type == ITEMGET(14,4) || 
; 819  : 		lpObj->pInventory[pos].m_Type == ITEMGET(14,5) || 
; 820  : 		lpObj->pInventory[pos].m_Type == ITEMGET(14,6)  )

  02373	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  02376	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0237c	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0237f	8b 91 24 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3620]
  02385	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0238a	3d 04 1c 00 00	 cmp	 eax, 7172		; 00001c04H
  0238f	74 40		 je	 SHORT $LN9@UseMana
  02391	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  02394	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0239a	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0239d	8b 91 24 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3620]
  023a3	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  023a8	3d 05 1c 00 00	 cmp	 eax, 7173		; 00001c05H
  023ad	74 22		 je	 SHORT $LN9@UseMana
  023af	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  023b2	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  023b8	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  023bb	8b 91 24 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3620]
  023c1	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  023c6	3d 06 1c 00 00	 cmp	 eax, 7174		; 00001c06H
  023cb	0f 85 bd 02 00
	00		 jne	 $LN1@UseMana
$LN9@UseMana:

; 821  : 	{
; 822  : 		int tMana = (lpObj->pInventory[pos].m_Value*10) - (gObj[aIndex].Level);

  023d1	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  023d4	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  023da	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  023dd	8b 91 24 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3620]
  023e3	8b 44 02 68	 mov	 eax, DWORD PTR [edx+eax+104]
  023e7	6b c0 0a	 imul	 eax, 10			; 0000000aH
  023ea	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  023ed	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  023f3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  023f9	0f bf 8c 0a be
	00 00 00	 movsx	 ecx, WORD PTR [edx+ecx+190]
  02401	2b c1		 sub	 eax, ecx
  02403	89 45 f0	 mov	 DWORD PTR _tMana$230263[ebp], eax

; 823  : 
; 824  : 		if ( tMana < 0 )

  02406	79 07		 jns	 SHORT $LN8@UseMana

; 825  : 		{
; 826  : 			tMana=0;

  02408	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _tMana$230263[ebp], 0
$LN8@UseMana:

; 827  : 		}
; 828  : 
; 829  : 		switch ( lpObj->pInventory[pos].m_Type )

  0240f	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  02412	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02418	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0241b	8b 91 24 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3620]
  02421	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02426	89 45 ac	 mov	 DWORD PTR tv138[ebp], eax
  02429	81 7d ac 04 1c
	00 00		 cmp	 DWORD PTR tv138[ebp], 7172 ; 00001c04H
  02430	74 1b		 je	 SHORT $LN5@UseMana
  02432	81 7d ac 05 1c
	00 00		 cmp	 DWORD PTR tv138[ebp], 7173 ; 00001c05H
  02439	74 59		 je	 SHORT $LN4@UseMana
  0243b	81 7d ac 06 1c
	00 00		 cmp	 DWORD PTR tv138[ebp], 7174 ; 00001c06H
  02442	0f 84 90 00 00
	00		 je	 $LN3@UseMana
  02448	e9 cd 00 00 00	 jmp	 $LN6@UseMana
$LN5@UseMana:

; 830  : 		{
; 831  : 		case ITEMGET(14,4):
; 832  : 			tMana += ((int)(gObj[aIndex].MaxMana + gObj[aIndex].AddMana))*20/100; 

  0244d	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02450	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02456	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  02459	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0245f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02465	db 84 0a 50 01
	00 00		 fild	 DWORD PTR [edx+ecx+336]
  0246c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02472	d8 84 01 14 01
	00 00		 fadd	 DWORD PTR [ecx+eax+276]
  02479	e8 00 00 00 00	 call	 __ftol2_sse
  0247e	6b c0 14	 imul	 eax, 20			; 00000014H
  02481	99		 cdq
  02482	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  02487	f7 f9		 idiv	 ecx
  02489	03 45 f0	 add	 eax, DWORD PTR _tMana$230263[ebp]
  0248c	89 45 f0	 mov	 DWORD PTR _tMana$230263[ebp], eax

; 833  : 			break;

  0248f	e9 86 00 00 00	 jmp	 $LN6@UseMana
$LN4@UseMana:

; 834  : 		case ITEMGET(14,5):
; 835  : 			tMana += ((int)(gObj[aIndex].MaxMana + gObj[aIndex].AddMana))*30/100; 

  02494	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02497	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0249d	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  024a0	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  024a6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  024ac	db 84 0a 50 01
	00 00		 fild	 DWORD PTR [edx+ecx+336]
  024b3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  024b9	d8 84 01 14 01
	00 00		 fadd	 DWORD PTR [ecx+eax+276]
  024c0	e8 00 00 00 00	 call	 __ftol2_sse
  024c5	6b c0 1e	 imul	 eax, 30			; 0000001eH
  024c8	99		 cdq
  024c9	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  024ce	f7 f9		 idiv	 ecx
  024d0	03 45 f0	 add	 eax, DWORD PTR _tMana$230263[ebp]
  024d3	89 45 f0	 mov	 DWORD PTR _tMana$230263[ebp], eax

; 836  : 			break;

  024d6	eb 42		 jmp	 SHORT $LN6@UseMana
$LN3@UseMana:

; 837  : 		case ITEMGET(14,6):
; 838  : 			tMana += ((int)(gObj[aIndex].MaxMana + gObj[aIndex].AddMana))*40/100; 

  024d8	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  024db	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  024e1	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  024e4	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  024ea	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  024f0	db 84 0a 50 01
	00 00		 fild	 DWORD PTR [edx+ecx+336]
  024f7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  024fd	d8 84 01 14 01
	00 00		 fadd	 DWORD PTR [ecx+eax+276]
  02504	e8 00 00 00 00	 call	 __ftol2_sse
  02509	6b c0 28	 imul	 eax, 40			; 00000028H
  0250c	99		 cdq
  0250d	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  02512	f7 f9		 idiv	 ecx
  02514	03 45 f0	 add	 eax, DWORD PTR _tMana$230263[ebp]
  02517	89 45 f0	 mov	 DWORD PTR _tMana$230263[ebp], eax
$LN6@UseMana:

; 839  : 			break;
; 840  : 		}
; 841  : 
; 842  : 		gObj[aIndex].Mana += tMana;

  0251a	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0251d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02523	db 45 f0	 fild	 DWORD PTR _tMana$230263[ebp]
  02526	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0252c	d8 84 01 10 01
	00 00		 fadd	 DWORD PTR [ecx+eax+272]
  02533	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  02536	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0253c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02541	d9 9c 10 10 01
	00 00		 fstp	 DWORD PTR [eax+edx+272]

; 843  : 
; 844  : 		if ( gObj[aIndex].Mana > (gObj[aIndex].MaxMana+gObj[aIndex].AddMana-1.0f) )

  02548	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0254b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02551	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  02554	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0255a	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0255d	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  02563	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02569	db 84 16 50 01
	00 00		 fild	 DWORD PTR [esi+edx+336]
  02570	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02576	d8 84 0a 14 01
	00 00		 fadd	 DWORD PTR [edx+ecx+276]
  0257d	dc 25 00 00 00
	00		 fsub	 QWORD PTR __real@3ff0000000000000
  02583	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02589	d9 84 01 10 01
	00 00		 fld	 DWORD PTR [ecx+eax+272]
  02590	de d9		 fcompp
  02592	df e0		 fnstsw	 ax
  02594	f6 c4 41	 test	 ah, 65			; 00000041H
  02597	75 41		 jne	 SHORT $LN2@UseMana

; 845  : 		{
; 846  : 			gObj[aIndex].Mana = gObj[aIndex].MaxMana+gObj[aIndex].AddMana;

  02599	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0259c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  025a2	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  025a5	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  025ab	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  025b1	db 84 0a 50 01
	00 00		 fild	 DWORD PTR [edx+ecx+336]
  025b8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  025be	d8 84 01 14 01
	00 00		 fadd	 DWORD PTR [ecx+eax+276]
  025c5	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  025c8	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  025ce	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  025d3	d9 9c 10 10 01
	00 00		 fstp	 DWORD PTR [eax+edx+272]
$LN2@UseMana:

; 847  : 		}
; 848  : 
; 849  : 		GCManaSend(aIndex, (int)gObj[aIndex].Mana, 0xFF, 0, (int)gObj[aIndex].BP);

  025da	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  025dd	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  025e3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  025e9	8b 94 01 28 01
	00 00		 mov	 edx, DWORD PTR [ecx+eax+296]
  025f0	52		 push	 edx
  025f1	6a 00		 push	 0
  025f3	68 ff 00 00 00	 push	 255			; 000000ffH
  025f8	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  025fb	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02601	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02607	d9 84 01 10 01
	00 00		 fld	 DWORD PTR [ecx+eax+272]
  0260e	e8 00 00 00 00	 call	 __ftol2_sse
  02613	50		 push	 eax
  02614	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  02617	52		 push	 edx
  02618	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend
  0261d	83 c4 14	 add	 esp, 20			; 00000014H

; 850  : 
; 851  : 		if ( !gObjSearchItemMinus(&gObj[aIndex], pos, 1) )

  02620	6a 01		 push	 1
  02622	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  02625	50		 push	 eax
  02626	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  02629	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0262f	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02635	51		 push	 ecx
  02636	e8 00 00 00 00	 call	 ?gObjSearchItemMinus@@YAHPAUOBJECTSTRUCT@@HH@Z ; gObjSearchItemMinus
  0263b	83 c4 0c	 add	 esp, 12			; 0000000cH
  0263e	85 c0		 test	 eax, eax
  02640	75 4c		 jne	 SHORT $LN1@UseMana

; 852  : 		{
; 853  : 			gObjInventoryItemSet(aIndex, pos, -1);

  02642	68 ff 00 00 00	 push	 255			; 000000ffH
  02647	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  0264a	50		 push	 eax
  0264b	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0264e	51		 push	 ecx
  0264f	e8 00 00 00 00	 call	 ?gObjInventoryItemSet@@YAXHHE@Z ; gObjInventoryItemSet
  02654	83 c4 0c	 add	 esp, 12			; 0000000cH

; 854  : 			gObj[aIndex].pInventory[pos].Clear();

  02657	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0265a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02660	8b 4d f4	 mov	 ecx, DWORD PTR _pos$[ebp]
  02663	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  02669	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0266f	03 8c 02 24 0e
	00 00		 add	 ecx, DWORD PTR [edx+eax+3620]
  02676	e8 00 00 00 00	 call	 ?Clear@CItem@@QAEXXZ	; CItem::Clear

; 855  : 			GCInventoryItemDeleteSend(aIndex, pos, 1);

  0267b	6a 01		 push	 1
  0267d	0f b6 45 f4	 movzx	 eax, BYTE PTR _pos$[ebp]
  02681	50		 push	 eax
  02682	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  02685	51		 push	 ecx
  02686	e8 00 00 00 00	 call	 ?GCInventoryItemDeleteSend@@YAXHEE@Z ; GCInventoryItemDeleteSend
  0268b	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@UseMana:
$LN13@UseMana:

; 856  : 		}
; 857  : 	}
; 858  : }

  0268e	5f		 pop	 edi
  0268f	5e		 pop	 esi
  02690	5b		 pop	 ebx
  02691	8b e5		 mov	 esp, ebp
  02693	5d		 pop	 ebp
  02694	c2 04 00	 ret	 4
?UseMana@cOffExp@@QAEXH@Z ENDP				; cOffExp::UseMana
_TEXT	ENDS
PUBLIC	?UseLife@cOffExp@@QAEXH@Z			; cOffExp::UseLife
EXTRN	?GCReFillSend@@YAXHHEEH@Z:PROC			; GCReFillSend
EXTRN	?gObjGetLifeItemPos@@YAHH@Z:PROC		; gObjGetLifeItemPos
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv144 = -84						; size = 4
_tLife$230289 = -16					; size = 4
_pos$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?UseLife@cOffExp@@QAEXH@Z PROC				; cOffExp::UseLife
; _this$ = ecx

; 862  : {

  026a0	55		 push	 ebp
  026a1	8b ec		 mov	 ebp, esp
  026a3	83 ec 54	 sub	 esp, 84			; 00000054H
  026a6	53		 push	 ebx
  026a7	56		 push	 esi
  026a8	57		 push	 edi
  026a9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 863  : 	LPOBJ lpObj = &gObj[aIndex];

  026ac	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  026af	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  026b5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  026bb	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 864  : 
; 865  : 	if(lpObj->Life > 100) return;

  026be	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  026c1	d9 80 fc 00 00
	00		 fld	 DWORD PTR [eax+252]
  026c7	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@4059000000000000
  026cd	df e0		 fnstsw	 ax
  026cf	f6 c4 41	 test	 ah, 65			; 00000041H
  026d2	75 05		 jne	 SHORT $LN13@UseLife
  026d4	e9 96 03 00 00	 jmp	 $LN14@UseLife
$LN13@UseLife:

; 866  : 		
; 867  : 	int pos;
; 868  : 
; 869  : 	pos = gObjGetLifeItemPos(aIndex);

  026d9	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  026dc	50		 push	 eax
  026dd	e8 00 00 00 00	 call	 ?gObjGetLifeItemPos@@YAHH@Z ; gObjGetLifeItemPos
  026e2	83 c4 04	 add	 esp, 4
  026e5	89 45 f4	 mov	 DWORD PTR _pos$[ebp], eax

; 870  : 
; 871  : 	if(pos == -1) return;

  026e8	83 7d f4 ff	 cmp	 DWORD PTR _pos$[ebp], -1
  026ec	75 05		 jne	 SHORT $LN12@UseLife
  026ee	e9 7c 03 00 00	 jmp	 $LN14@UseLife
$LN12@UseLife:

; 872  : 
; 873  : 	if( lpObj->pInventory[pos].m_Type == ITEMGET(14,0) || 
; 874  : 		lpObj->pInventory[pos].m_Type == ITEMGET(14,1) || 
; 875  : 		lpObj->pInventory[pos].m_Type == ITEMGET(14,2) || 
; 876  : 		lpObj->pInventory[pos].m_Type == ITEMGET(14,3)  )

  026f3	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  026f6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  026fc	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  026ff	8b 91 24 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3620]
  02705	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0270a	3d 00 1c 00 00	 cmp	 eax, 7168		; 00001c00H
  0270f	74 5e		 je	 SHORT $LN10@UseLife
  02711	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  02714	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0271a	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0271d	8b 91 24 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3620]
  02723	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02728	3d 01 1c 00 00	 cmp	 eax, 7169		; 00001c01H
  0272d	74 40		 je	 SHORT $LN10@UseLife
  0272f	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  02732	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02738	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0273b	8b 91 24 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3620]
  02741	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02746	3d 02 1c 00 00	 cmp	 eax, 7170		; 00001c02H
  0274b	74 22		 je	 SHORT $LN10@UseLife
  0274d	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  02750	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02756	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02759	8b 91 24 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3620]
  0275f	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02764	3d 03 1c 00 00	 cmp	 eax, 7171		; 00001c03H
  02769	0f 85 00 03 00
	00		 jne	 $LN1@UseLife
$LN10@UseLife:

; 877  : 	{
; 878  : 		int tLife = (lpObj->pInventory[pos].m_Value*10) - (gObj[aIndex].Level);

  0276f	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  02772	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02778	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0277b	8b 91 24 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3620]
  02781	8b 44 02 68	 mov	 eax, DWORD PTR [edx+eax+104]
  02785	6b c0 0a	 imul	 eax, 10			; 0000000aH
  02788	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0278b	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  02791	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02797	0f bf 8c 0a be
	00 00 00	 movsx	 ecx, WORD PTR [edx+ecx+190]
  0279f	2b c1		 sub	 eax, ecx
  027a1	89 45 f0	 mov	 DWORD PTR _tLife$230289[ebp], eax

; 879  : 
; 880  : 		if ( tLife < 0 )

  027a4	79 07		 jns	 SHORT $LN9@UseLife

; 881  : 		{
; 882  : 			tLife=0;

  027a6	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _tLife$230289[ebp], 0
$LN9@UseLife:

; 883  : 		}
; 884  : 
; 885  : 		switch ( lpObj->pInventory[pos].m_Type )

  027ad	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  027b0	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  027b6	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  027b9	8b 91 24 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3620]
  027bf	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  027c4	89 45 ac	 mov	 DWORD PTR tv144[ebp], eax
  027c7	8b 4d ac	 mov	 ecx, DWORD PTR tv144[ebp]
  027ca	81 e9 00 1c 00
	00		 sub	 ecx, 7168		; 00001c00H
  027d0	89 4d ac	 mov	 DWORD PTR tv144[ebp], ecx
  027d3	83 7d ac 03	 cmp	 DWORD PTR tv144[ebp], 3
  027d7	0f 87 1e 01 00
	00		 ja	 $LN7@UseLife
  027dd	8b 55 ac	 mov	 edx, DWORD PTR tv144[ebp]
  027e0	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN16@UseLife[edx*4]
$LN6@UseLife:

; 886  : 		{
; 887  : 			case ITEMGET(14,0):
; 888  : 			tLife += ((int)(gObj[aIndex].MaxLife + gObj[aIndex].AddLife))*20/100; 

  027e7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  027ea	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  027f0	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  027f3	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  027f9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  027ff	db 84 0a 4c 01
	00 00		 fild	 DWORD PTR [edx+ecx+332]
  02806	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0280c	d8 84 01 00 01
	00 00		 fadd	 DWORD PTR [ecx+eax+256]
  02813	e8 00 00 00 00	 call	 __ftol2_sse
  02818	6b c0 14	 imul	 eax, 20			; 00000014H
  0281b	99		 cdq
  0281c	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  02821	f7 f9		 idiv	 ecx
  02823	03 45 f0	 add	 eax, DWORD PTR _tLife$230289[ebp]
  02826	89 45 f0	 mov	 DWORD PTR _tLife$230289[ebp], eax

; 889  : 			break;		

  02829	e9 cd 00 00 00	 jmp	 $LN7@UseLife
$LN5@UseLife:

; 890  : 			case ITEMGET(14,1):
; 891  : 			tLife += ((int)(gObj[aIndex].MaxLife + gObj[aIndex].AddLife))*20/100; 

  0282e	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02831	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02837	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0283a	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  02840	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02846	db 84 0a 4c 01
	00 00		 fild	 DWORD PTR [edx+ecx+332]
  0284d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02853	d8 84 01 00 01
	00 00		 fadd	 DWORD PTR [ecx+eax+256]
  0285a	e8 00 00 00 00	 call	 __ftol2_sse
  0285f	6b c0 14	 imul	 eax, 20			; 00000014H
  02862	99		 cdq
  02863	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  02868	f7 f9		 idiv	 ecx
  0286a	03 45 f0	 add	 eax, DWORD PTR _tLife$230289[ebp]
  0286d	89 45 f0	 mov	 DWORD PTR _tLife$230289[ebp], eax

; 892  : 			break;

  02870	e9 86 00 00 00	 jmp	 $LN7@UseLife
$LN4@UseLife:

; 893  : 		case ITEMGET(14,2):
; 894  : 			tLife += ((int)(gObj[aIndex].MaxLife + gObj[aIndex].AddLife))*30/100; 

  02875	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02878	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0287e	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  02881	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  02887	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0288d	db 84 0a 4c 01
	00 00		 fild	 DWORD PTR [edx+ecx+332]
  02894	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0289a	d8 84 01 00 01
	00 00		 fadd	 DWORD PTR [ecx+eax+256]
  028a1	e8 00 00 00 00	 call	 __ftol2_sse
  028a6	6b c0 1e	 imul	 eax, 30			; 0000001eH
  028a9	99		 cdq
  028aa	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  028af	f7 f9		 idiv	 ecx
  028b1	03 45 f0	 add	 eax, DWORD PTR _tLife$230289[ebp]
  028b4	89 45 f0	 mov	 DWORD PTR _tLife$230289[ebp], eax

; 895  : 			break;

  028b7	eb 42		 jmp	 SHORT $LN7@UseLife
$LN3@UseLife:

; 896  : 		case ITEMGET(14,3):
; 897  : 			tLife += ((int)(gObj[aIndex].MaxLife + gObj[aIndex].AddLife))*40/100; 

  028b9	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  028bc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  028c2	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  028c5	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  028cb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  028d1	db 84 0a 4c 01
	00 00		 fild	 DWORD PTR [edx+ecx+332]
  028d8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  028de	d8 84 01 00 01
	00 00		 fadd	 DWORD PTR [ecx+eax+256]
  028e5	e8 00 00 00 00	 call	 __ftol2_sse
  028ea	6b c0 28	 imul	 eax, 40			; 00000028H
  028ed	99		 cdq
  028ee	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  028f3	f7 f9		 idiv	 ecx
  028f5	03 45 f0	 add	 eax, DWORD PTR _tLife$230289[ebp]
  028f8	89 45 f0	 mov	 DWORD PTR _tLife$230289[ebp], eax
$LN7@UseLife:

; 898  : 			break;
; 899  : 		}
; 900  : 
; 901  : 		gObj[aIndex].Life += tLife;

  028fb	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  028fe	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02904	db 45 f0	 fild	 DWORD PTR _tLife$230289[ebp]
  02907	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0290d	d8 84 01 fc 00
	00 00		 fadd	 DWORD PTR [ecx+eax+252]
  02914	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  02917	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0291d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02922	d9 9c 10 fc 00
	00 00		 fstp	 DWORD PTR [eax+edx+252]

; 902  : 
; 903  : 		if ( gObj[aIndex].Life > (gObj[aIndex].MaxLife+gObj[aIndex].AddLife-1.0f) )

  02929	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0292c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02932	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  02935	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0293b	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0293e	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  02944	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0294a	db 84 16 4c 01
	00 00		 fild	 DWORD PTR [esi+edx+332]
  02951	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02957	d8 84 0a 00 01
	00 00		 fadd	 DWORD PTR [edx+ecx+256]
  0295e	dc 25 00 00 00
	00		 fsub	 QWORD PTR __real@3ff0000000000000
  02964	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0296a	d9 84 01 fc 00
	00 00		 fld	 DWORD PTR [ecx+eax+252]
  02971	de d9		 fcompp
  02973	df e0		 fnstsw	 ax
  02975	f6 c4 41	 test	 ah, 65			; 00000041H
  02978	75 41		 jne	 SHORT $LN2@UseLife

; 904  : 		{
; 905  : 			gObj[aIndex].Life = gObj[aIndex].MaxLife+gObj[aIndex].AddLife;

  0297a	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0297d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02983	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  02986	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0298c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02992	db 84 0a 4c 01
	00 00		 fild	 DWORD PTR [edx+ecx+332]
  02999	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0299f	d8 84 01 00 01
	00 00		 fadd	 DWORD PTR [ecx+eax+256]
  029a6	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  029a9	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  029af	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  029b4	d9 9c 10 fc 00
	00 00		 fstp	 DWORD PTR [eax+edx+252]
$LN2@UseLife:

; 906  : 		}
; 907  : 
; 908  : 		GCReFillSend(aIndex, (int)gObj[aIndex].Life, 0xFF, 0, (int)gObj[aIndex].BP);

  029bb	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  029be	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  029c4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  029ca	8b 94 01 28 01
	00 00		 mov	 edx, DWORD PTR [ecx+eax+296]
  029d1	52		 push	 edx
  029d2	6a 00		 push	 0
  029d4	68 ff 00 00 00	 push	 255			; 000000ffH
  029d9	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  029dc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  029e2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  029e8	d9 84 01 fc 00
	00 00		 fld	 DWORD PTR [ecx+eax+252]
  029ef	e8 00 00 00 00	 call	 __ftol2_sse
  029f4	50		 push	 eax
  029f5	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  029f8	52		 push	 edx
  029f9	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend
  029fe	83 c4 14	 add	 esp, 20			; 00000014H

; 909  : 
; 910  : 		if ( !gObjSearchItemMinus(&gObj[aIndex], pos, 1) )

  02a01	6a 01		 push	 1
  02a03	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  02a06	50		 push	 eax
  02a07	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  02a0a	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  02a10	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02a16	51		 push	 ecx
  02a17	e8 00 00 00 00	 call	 ?gObjSearchItemMinus@@YAHPAUOBJECTSTRUCT@@HH@Z ; gObjSearchItemMinus
  02a1c	83 c4 0c	 add	 esp, 12			; 0000000cH
  02a1f	85 c0		 test	 eax, eax
  02a21	75 4c		 jne	 SHORT $LN1@UseLife

; 911  : 		{
; 912  : 			gObjInventoryItemSet(aIndex, pos, -1);

  02a23	68 ff 00 00 00	 push	 255			; 000000ffH
  02a28	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  02a2b	50		 push	 eax
  02a2c	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  02a2f	51		 push	 ecx
  02a30	e8 00 00 00 00	 call	 ?gObjInventoryItemSet@@YAXHHE@Z ; gObjInventoryItemSet
  02a35	83 c4 0c	 add	 esp, 12			; 0000000cH

; 913  : 			gObj[aIndex].pInventory[pos].Clear();

  02a38	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02a3b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02a41	8b 4d f4	 mov	 ecx, DWORD PTR _pos$[ebp]
  02a44	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  02a4a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02a50	03 8c 02 24 0e
	00 00		 add	 ecx, DWORD PTR [edx+eax+3620]
  02a57	e8 00 00 00 00	 call	 ?Clear@CItem@@QAEXXZ	; CItem::Clear

; 914  : 			GCInventoryItemDeleteSend(aIndex, pos, 1);

  02a5c	6a 01		 push	 1
  02a5e	0f b6 45 f4	 movzx	 eax, BYTE PTR _pos$[ebp]
  02a62	50		 push	 eax
  02a63	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  02a66	51		 push	 ecx
  02a67	e8 00 00 00 00	 call	 ?GCInventoryItemDeleteSend@@YAXHEE@Z ; GCInventoryItemDeleteSend
  02a6c	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@UseLife:
$LN14@UseLife:

; 915  : 		}
; 916  : 	}
; 917  : }

  02a6f	5f		 pop	 edi
  02a70	5e		 pop	 esi
  02a71	5b		 pop	 ebx
  02a72	8b e5		 mov	 esp, ebp
  02a74	5d		 pop	 ebp
  02a75	c2 04 00	 ret	 4
$LN16@UseLife:
  02a78	00 00 00 00	 DD	 $LN6@UseLife
  02a7c	00 00 00 00	 DD	 $LN5@UseLife
  02a80	00 00 00 00	 DD	 $LN4@UseLife
  02a84	00 00 00 00	 DD	 $LN3@UseLife
?UseLife@cOffExp@@QAEXH@Z ENDP				; cOffExp::UseLife
; Function compile flags: /Odtp /ZI
_attr$ = -5						; size = 1
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
?CheckTerrain@cOffExp@@QAE_NPAUOBJECTSTRUCT@@@Z PROC	; cOffExp::CheckTerrain
; _this$ = ecx

; 920  : {	

  02a90	55		 push	 ebp
  02a91	8b ec		 mov	 ebp, esp
  02a93	83 ec 48	 sub	 esp, 72			; 00000048H
  02a96	53		 push	 ebx
  02a97	56		 push	 esi
  02a98	57		 push	 edi
  02a99	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 921  : 	BYTE attr = MapC[lpObj->MapNumber].GetAttr(lpObj->X, lpObj->Y);

  02a9c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02a9f	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  02aa6	51		 push	 ecx
  02aa7	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02aaa	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  02ab1	50		 push	 eax
  02ab2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02ab5	0f b6 89 49 01
	00 00		 movzx	 ecx, BYTE PTR [ecx+329]
  02abc	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  02ac2	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  02ac8	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  02acd	88 45 fb	 mov	 BYTE PTR _attr$[ebp], al

; 922  : 	if ( (attr&1) != 1 )

  02ad0	0f b6 45 fb	 movzx	 eax, BYTE PTR _attr$[ebp]
  02ad4	83 e0 01	 and	 eax, 1
  02ad7	75 06		 jne	 SHORT $LN2@CheckTerra

; 923  : 	{
; 924  : 		return true;

  02ad9	b0 01		 mov	 al, 1
  02adb	eb 04		 jmp	 SHORT $LN3@CheckTerra

; 925  : 	}
; 926  : 	else

  02add	eb 02		 jmp	 SHORT $LN3@CheckTerra
$LN2@CheckTerra:

; 927  : 	{
; 928  : 		return false;

  02adf	32 c0		 xor	 al, al
$LN3@CheckTerra:

; 929  : 	}
; 930  : }

  02ae1	5f		 pop	 edi
  02ae2	5e		 pop	 esi
  02ae3	5b		 pop	 ebx
  02ae4	8b e5		 mov	 esp, ebp
  02ae6	5d		 pop	 ebp
  02ae7	c2 04 00	 ret	 4
?CheckTerrain@cOffExp@@QAE_NPAUOBJECTSTRUCT@@@Z ENDP	; cOffExp::CheckTerrain
_TEXT	ENDS
END
