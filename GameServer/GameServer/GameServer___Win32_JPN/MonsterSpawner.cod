; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\MonsterSpawner.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?gMonsterSpawner@@3VcMonsterSpawner@@A		; gMonsterSpawner
_BSS	SEGMENT
?gMonsterSpawner@@3VcMonsterSpawner@@A DB 0355cH DUP (?) ; gMonsterSpawner
_BSS	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	83 e8 01	 sub	 eax, 1
  0000f	89 45 10	 mov	 DWORD PTR ___n$[ebp], eax
  00012	78 11		 js	 SHORT $LN3@vector
  00014	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00017	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  0001a	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  0001d	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  00020	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  00023	eb e4		 jmp	 SHORT $LN2@vector
$LN3@vector:
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	??_C@_0BN@MGCNOKFF@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CC?$CF?$FL?$FO?$CC?$FN?$CC?$AA@ ; `string'
PUBLIC	??_C@_0BA@PIOFNAIM@LOAD?5FILE?5ERROR?$AA@	; `string'
PUBLIC	??_C@_01KDCPPGHE@r?$AA@				; `string'
PUBLIC	??_C@_06POMJKEPM@Common?$AA@			; `string'
PUBLIC	??_C@_06CKGENIKG@Enable?$AA@			; `string'
PUBLIC	??_C@_0CC@IOFPABIM@?4?4?2Data?2ExData?2MonsterSpawner?4in@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?Load@cMonsterSpawner@@QAEXXZ			; cMonsterSpawner::Load
EXTRN	_fclose:PROC
EXTRN	_strcpy:PROC
EXTRN	_sscanf:PROC
EXTRN	?Ex_IsBadFileLine@@YA_NPADAAH@Z:PROC		; Ex_IsBadFileLine
EXTRN	_fgets:PROC
EXTRN	_feof:PROC
EXTRN	__imp__MessageBoxA@16:PROC
EXTRN	_fopen:PROC
EXTRN	__imp__GetPrivateProfileIntA@16:PROC
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
;	COMDAT ??_C@_0BN@MGCNOKFF@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CC?$CF?$FL?$FO?$CC?$FN?$CC?$AA@
; File d:\projects\exteam6.3\source\gameserver\gameserver\monsterspawner.cpp
CONST	SEGMENT
??_C@_0BN@MGCNOKFF@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CC?$CF?$FL?$FO?$CC?$FN?$CC?$AA@ DB '%'
	DB	'd %d %d %d %d %d %d "%[^"]"', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@PIOFNAIM@LOAD?5FILE?5ERROR?$AA@
CONST	SEGMENT
??_C@_0BA@PIOFNAIM@LOAD?5FILE?5ERROR?$AA@ DB 'LOAD FILE ERROR', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_01KDCPPGHE@r?$AA@
CONST	SEGMENT
??_C@_01KDCPPGHE@r?$AA@ DB 'r', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_06POMJKEPM@Common?$AA@
CONST	SEGMENT
??_C@_06POMJKEPM@Common?$AA@ DB 'Common', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06CKGENIKG@Enable?$AA@
CONST	SEGMENT
??_C@_06CKGENIKG@Enable?$AA@ DB 'Enable', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CC@IOFPABIM@?4?4?2Data?2ExData?2MonsterSpawner?4in@
CONST	SEGMENT
??_C@_0CC@IOFPABIM@?4?4?2Data?2ExData?2MonsterSpawner?4in@ DB '..\Data\Ex'
	DB	'Data\MonsterSpawner.ini', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_str$219243 = -408					; size = 100
_n$219242 = -308					; size = 32
_i$219232 = -276					; size = 4
_Flag$ = -272						; size = 4
_Buff$ = -268						; size = 256
_file$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
?Load@cMonsterSpawner@@QAEXXZ PROC			; cMonsterSpawner::Load
; _this$ = ecx

; 12   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 01 00
	00		 sub	 esp, 472		; 000001d8H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 13   : 	this->Enable = GetPrivateProfileInt("Common","Enable",0,MONSTER_SPAWNER_DIR);

  00019	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@IOFPABIM@?4?4?2Data?2ExData?2MonsterSpawner?4in@
  0001e	6a 00		 push	 0
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_06CKGENIKG@Enable?$AA@
  00025	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  0002a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00030	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00033	89 81 20 35 00
	00		 mov	 DWORD PTR [ecx+13600], eax

; 14   : 	
; 15   : 
; 16   : 	FILE * file = fopen(MONSTER_SPAWNER_DIR,"r");

  00039	68 00 00 00 00	 push	 OFFSET ??_C@_01KDCPPGHE@r?$AA@
  0003e	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@IOFPABIM@?4?4?2Data?2ExData?2MonsterSpawner?4in@
  00043	e8 00 00 00 00	 call	 _fopen
  00048	83 c4 08	 add	 esp, 8
  0004b	89 45 f4	 mov	 DWORD PTR _file$[ebp], eax

; 17   : 	if(file == NULL)

  0004e	83 7d f4 00	 cmp	 DWORD PTR _file$[ebp], 0
  00052	75 21		 jne	 SHORT $LN9@Load

; 18   : 	{
; 19   : 		MessageBoxA(0,MONSTER_SPAWNER_DIR,"LOAD FILE ERROR",0);

  00054	6a 00		 push	 0
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@PIOFNAIM@LOAD?5FILE?5ERROR?$AA@
  0005b	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@IOFPABIM@?4?4?2Data?2ExData?2MonsterSpawner?4in@
  00060	6a 00		 push	 0
  00062	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__MessageBoxA@16

; 20   : 		this->Enable = false;

  00068	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0006b	c7 80 20 35 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+13600], 0
$LN9@Load:

; 21   : 	}
; 22   : 
; 23   : 	char Buff[256];
; 24   : 	int Flag = 0;

  00075	c7 85 f0 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _Flag$[ebp], 0

; 25   : 	this->CountMobs = 0;

  0007f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00082	c7 80 58 35 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+13656], 0

; 26   : 	for (int i = 0; i < MAX_MONSTER_SPAWNER; i++)

  0008c	c7 85 ec fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$219232[ebp], 0
  00096	eb 0f		 jmp	 SHORT $LN8@Load
$LN7@Load:
  00098	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _i$219232[ebp]
  0009e	83 c0 01	 add	 eax, 1
  000a1	89 85 ec fe ff
	ff		 mov	 DWORD PTR _i$219232[ebp], eax
$LN8@Load:
  000a7	83 bd ec fe ff
	ff 64		 cmp	 DWORD PTR _i$219232[ebp], 100 ; 00000064H
  000ae	0f 8d bc 00 00
	00		 jge	 $LN5@Load

; 27   : 	{
; 28   : 		this->MonsterSpawn[i].ID = 0;

  000b4	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _i$219232[ebp]
  000ba	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  000c0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000c3	c7 04 01 00 00
	00 00		 mov	 DWORD PTR [ecx+eax], 0

; 29   : 		this->MonsterSpawn[i].MapNumber = 0;

  000ca	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _i$219232[ebp]
  000d0	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  000d6	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000d9	c7 44 01 04 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+4], 0

; 30   : 		this->MonsterSpawn[i].X = 0;

  000e1	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _i$219232[ebp]
  000e7	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  000ed	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000f0	c7 44 01 08 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+8], 0

; 31   : 		this->MonsterSpawn[i].Y = 0;

  000f8	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _i$219232[ebp]
  000fe	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  00104	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00107	c7 44 01 0c 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+12], 0

; 32   : 		this->MonsterSpawn[i].WeekDay = 0;

  0010f	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _i$219232[ebp]
  00115	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  0011b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0011e	c7 44 01 10 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+16], 0

; 33   : 		this->MonsterSpawn[i].TimeHour = 0;

  00126	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _i$219232[ebp]
  0012c	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  00132	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00135	c7 44 01 14 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+20], 0

; 34   : 		this->MonsterSpawn[i].TimeMin = 0;

  0013d	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _i$219232[ebp]
  00143	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  00149	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0014c	c7 44 01 18 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+24], 0

; 35   : 		this->MonsterSpawn[i].Status = false;

  00154	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _i$219232[ebp]
  0015a	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  00160	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00163	c6 84 01 80 00
	00 00 00	 mov	 BYTE PTR [ecx+eax+128], 0

; 36   : 	}

  0016b	e9 28 ff ff ff	 jmp	 $LN7@Load
$LN5@Load:

; 37   : 	while(!feof(file))

  00170	8b 45 f4	 mov	 eax, DWORD PTR _file$[ebp]
  00173	50		 push	 eax
  00174	e8 00 00 00 00	 call	 _feof
  00179	83 c4 04	 add	 esp, 4
  0017c	85 c0		 test	 eax, eax
  0017e	0f 85 a4 01 00
	00		 jne	 $LN4@Load

; 38   : 	{
; 39   : 		fgets(Buff,256,file);

  00184	8b 45 f4	 mov	 eax, DWORD PTR _file$[ebp]
  00187	50		 push	 eax
  00188	68 00 01 00 00	 push	 256			; 00000100H
  0018d	8d 8d f4 fe ff
	ff		 lea	 ecx, DWORD PTR _Buff$[ebp]
  00193	51		 push	 ecx
  00194	e8 00 00 00 00	 call	 _fgets
  00199	83 c4 0c	 add	 esp, 12			; 0000000cH

; 40   : 		if(Ex_IsBadFileLine(Buff, Flag))

  0019c	8d 85 f0 fe ff
	ff		 lea	 eax, DWORD PTR _Flag$[ebp]
  001a2	50		 push	 eax
  001a3	8d 8d f4 fe ff
	ff		 lea	 ecx, DWORD PTR _Buff$[ebp]
  001a9	51		 push	 ecx
  001aa	e8 00 00 00 00	 call	 ?Ex_IsBadFileLine@@YA_NPADAAH@Z ; Ex_IsBadFileLine
  001af	83 c4 08	 add	 esp, 8
  001b2	0f b6 d0	 movzx	 edx, al
  001b5	85 d2		 test	 edx, edx
  001b7	74 02		 je	 SHORT $LN3@Load

; 41   : 			continue;

  001b9	eb b5		 jmp	 SHORT $LN5@Load
$LN3@Load:

; 42   : 		if(Flag == 1)

  001bb	83 bd f0 fe ff
	ff 01		 cmp	 DWORD PTR _Flag$[ebp], 1
  001c2	0f 85 5b 01 00
	00		 jne	 $LN2@Load

; 43   : 		{
; 44   : 			if(this->CountMobs == MAX_MONSTER_SPAWNER) break;

  001c8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001cb	83 b8 58 35 00
	00 64		 cmp	 DWORD PTR [eax+13656], 100 ; 00000064H
  001d2	75 05		 jne	 SHORT $LN1@Load
  001d4	e9 4f 01 00 00	 jmp	 $LN4@Load
$LN1@Load:

; 45   : 			int n[8];
; 46   : 			char str[100];
; 47   : 			sscanf(Buff, "%d %d %d %d %d %d %d \"%[^\"]\"", &n[0], &n[1], &n[2], &n[3], &n[4], &n[5], &n[6], &str);

  001d9	8d 85 68 fe ff
	ff		 lea	 eax, DWORD PTR _str$219243[ebp]
  001df	50		 push	 eax
  001e0	8d 8d e4 fe ff
	ff		 lea	 ecx, DWORD PTR _n$219242[ebp+24]
  001e6	51		 push	 ecx
  001e7	8d 95 e0 fe ff
	ff		 lea	 edx, DWORD PTR _n$219242[ebp+20]
  001ed	52		 push	 edx
  001ee	8d 85 dc fe ff
	ff		 lea	 eax, DWORD PTR _n$219242[ebp+16]
  001f4	50		 push	 eax
  001f5	8d 8d d8 fe ff
	ff		 lea	 ecx, DWORD PTR _n$219242[ebp+12]
  001fb	51		 push	 ecx
  001fc	8d 95 d4 fe ff
	ff		 lea	 edx, DWORD PTR _n$219242[ebp+8]
  00202	52		 push	 edx
  00203	8d 85 d0 fe ff
	ff		 lea	 eax, DWORD PTR _n$219242[ebp+4]
  00209	50		 push	 eax
  0020a	8d 8d cc fe ff
	ff		 lea	 ecx, DWORD PTR _n$219242[ebp]
  00210	51		 push	 ecx
  00211	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@MGCNOKFF@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CC?$CF?$FL?$FO?$CC?$FN?$CC?$AA@
  00216	8d 95 f4 fe ff
	ff		 lea	 edx, DWORD PTR _Buff$[ebp]
  0021c	52		 push	 edx
  0021d	e8 00 00 00 00	 call	 _sscanf
  00222	83 c4 28	 add	 esp, 40			; 00000028H

; 48   : 			this->MonsterSpawn[this->CountMobs].ID = n[0];

  00225	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00228	8b 88 58 35 00
	00		 mov	 ecx, DWORD PTR [eax+13656]
  0022e	69 c9 88 00 00
	00		 imul	 ecx, 136		; 00000088H
  00234	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00237	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _n$219242[ebp]
  0023d	89 04 0a	 mov	 DWORD PTR [edx+ecx], eax

; 49   : 			this->MonsterSpawn[this->CountMobs].MapNumber = n[1];

  00240	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00243	8b 88 58 35 00
	00		 mov	 ecx, DWORD PTR [eax+13656]
  00249	69 c9 88 00 00
	00		 imul	 ecx, 136		; 00000088H
  0024f	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00252	8b 85 d0 fe ff
	ff		 mov	 eax, DWORD PTR _n$219242[ebp+4]
  00258	89 44 0a 04	 mov	 DWORD PTR [edx+ecx+4], eax

; 50   : 			this->MonsterSpawn[this->CountMobs].X = n[2];

  0025c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0025f	8b 88 58 35 00
	00		 mov	 ecx, DWORD PTR [eax+13656]
  00265	69 c9 88 00 00
	00		 imul	 ecx, 136		; 00000088H
  0026b	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0026e	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _n$219242[ebp+8]
  00274	89 44 0a 08	 mov	 DWORD PTR [edx+ecx+8], eax

; 51   : 			this->MonsterSpawn[this->CountMobs].Y = n[3];

  00278	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0027b	8b 88 58 35 00
	00		 mov	 ecx, DWORD PTR [eax+13656]
  00281	69 c9 88 00 00
	00		 imul	 ecx, 136		; 00000088H
  00287	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0028a	8b 85 d8 fe ff
	ff		 mov	 eax, DWORD PTR _n$219242[ebp+12]
  00290	89 44 0a 0c	 mov	 DWORD PTR [edx+ecx+12], eax

; 52   : 			this->MonsterSpawn[this->CountMobs].WeekDay = n[4];

  00294	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00297	8b 88 58 35 00
	00		 mov	 ecx, DWORD PTR [eax+13656]
  0029d	69 c9 88 00 00
	00		 imul	 ecx, 136		; 00000088H
  002a3	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  002a6	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _n$219242[ebp+16]
  002ac	89 44 0a 10	 mov	 DWORD PTR [edx+ecx+16], eax

; 53   : 			this->MonsterSpawn[this->CountMobs].TimeHour = n[5];

  002b0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002b3	8b 88 58 35 00
	00		 mov	 ecx, DWORD PTR [eax+13656]
  002b9	69 c9 88 00 00
	00		 imul	 ecx, 136		; 00000088H
  002bf	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  002c2	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _n$219242[ebp+20]
  002c8	89 44 0a 14	 mov	 DWORD PTR [edx+ecx+20], eax

; 54   : 			this->MonsterSpawn[this->CountMobs].TimeMin = n[6];

  002cc	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002cf	8b 88 58 35 00
	00		 mov	 ecx, DWORD PTR [eax+13656]
  002d5	69 c9 88 00 00
	00		 imul	 ecx, 136		; 00000088H
  002db	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  002de	8b 85 e4 fe ff
	ff		 mov	 eax, DWORD PTR _n$219242[ebp+24]
  002e4	89 44 0a 18	 mov	 DWORD PTR [edx+ecx+24], eax

; 55   : 			strcpy(MonsterSpawn[this->CountMobs].Message,str);

  002e8	8d 85 68 fe ff
	ff		 lea	 eax, DWORD PTR _str$219243[ebp]
  002ee	50		 push	 eax
  002ef	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002f2	8b 91 58 35 00
	00		 mov	 edx, DWORD PTR [ecx+13656]
  002f8	69 d2 88 00 00
	00		 imul	 edx, 136		; 00000088H
  002fe	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00301	8d 4c 10 1c	 lea	 ecx, DWORD PTR [eax+edx+28]
  00305	51		 push	 ecx
  00306	e8 00 00 00 00	 call	 _strcpy
  0030b	83 c4 08	 add	 esp, 8

; 56   : 			this->CountMobs++;

  0030e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00311	8b 88 58 35 00
	00		 mov	 ecx, DWORD PTR [eax+13656]
  00317	83 c1 01	 add	 ecx, 1
  0031a	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0031d	89 8a 58 35 00
	00		 mov	 DWORD PTR [edx+13656], ecx
$LN2@Load:

; 57   : 		}
; 58   : 	}

  00323	e9 48 fe ff ff	 jmp	 $LN5@Load
$LN4@Load:

; 59   : 	fclose(file);

  00328	8b 45 f4	 mov	 eax, DWORD PTR _file$[ebp]
  0032b	50		 push	 eax
  0032c	e8 00 00 00 00	 call	 _fclose
  00331	83 c4 04	 add	 esp, 4

; 60   : }

  00334	5f		 pop	 edi
  00335	5e		 pop	 esi
  00336	5b		 pop	 ebx
  00337	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0033a	33 cd		 xor	 ecx, ebp
  0033c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00341	8b e5		 mov	 esp, ebp
  00343	5d		 pop	 ebp
  00344	c3		 ret	 0
?Load@cMonsterSpawner@@QAEXXZ ENDP			; cMonsterSpawner::Load
_TEXT	ENDS
PUBLIC	?StartMonster@cMonsterSpawner@@QAE_NH@Z		; cMonsterSpawner::StartMonster
EXTRN	?MessaageAllGlobal@@YAXPADZZ:PROC		; MessaageAllGlobal
EXTRN	?gObjSetMonster@@YAHHH@Z:PROC			; gObjSetMonster
EXTRN	__imp__GetTickCount@0:PROC
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
EXTRN	_rand:PROC
EXTRN	?CheckUser@CExLicense@@QAE_NH@Z:PROC		; CExLicense::CheckUser
EXTRN	?g_ExLicense@@3VCExLicense@@A:BYTE		; g_ExLicense
EXTRN	?gObjAddMonster@@YAFH@Z:PROC			; gObjAddMonster
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_iY$219253 = -16					; size = 4
_iX$219252 = -12					; size = 4
_result$ = -8						; size = 4
_this$ = -4						; size = 4
_Index$ = 8						; size = 4
?StartMonster@cMonsterSpawner@@QAE_NH@Z PROC		; cMonsterSpawner::StartMonster
; _this$ = ecx

; 63   : {

  00350	55		 push	 ebp
  00351	8b ec		 mov	 ebp, esp
  00353	83 ec 50	 sub	 esp, 80			; 00000050H
  00356	53		 push	 ebx
  00357	56		 push	 esi
  00358	57		 push	 edi
  00359	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 64   : 	if (!this->Enable) return false;

  0035c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0035f	83 b8 20 35 00
	00 00		 cmp	 DWORD PTR [eax+13600], 0
  00366	75 07		 jne	 SHORT $LN9@StartMonst
  00368	32 c0		 xor	 al, al
  0036a	e9 49 03 00 00	 jmp	 $LN10@StartMonst
$LN9@StartMonst:

; 65   : 
; 66   : 	int result = gObjAddMonster(this->MonsterSpawn[Index].MapNumber);

  0036f	8b 45 08	 mov	 eax, DWORD PTR _Index$[ebp]
  00372	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  00378	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0037b	8b 54 01 04	 mov	 edx, DWORD PTR [ecx+eax+4]
  0037f	52		 push	 edx
  00380	e8 00 00 00 00	 call	 ?gObjAddMonster@@YAFH@Z	; gObjAddMonster
  00385	83 c4 04	 add	 esp, 4
  00388	98		 cwde
  00389	89 45 f8	 mov	 DWORD PTR _result$[ebp], eax

; 67   : 
; 68   : 	if((result >= 0 && result < OBJ_MAXMONSTER) && MonsterSpawn[Index].Status == false)

  0038c	83 7d f8 00	 cmp	 DWORD PTR _result$[ebp], 0
  00390	0f 8c 20 03 00
	00		 jl	 $LN8@StartMonst
  00396	81 7d f8 c8 32
	00 00		 cmp	 DWORD PTR _result$[ebp], 13000 ; 000032c8H
  0039d	0f 8d 13 03 00
	00		 jge	 $LN8@StartMonst
  003a3	8b 45 08	 mov	 eax, DWORD PTR _Index$[ebp]
  003a6	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  003ac	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  003af	0f b6 94 01 80
	00 00 00	 movzx	 edx, BYTE PTR [ecx+eax+128]
  003b7	85 d2		 test	 edx, edx
  003b9	0f 85 f7 02 00
	00		 jne	 $LN8@StartMonst

; 69   : 	{
; 70   : 		int iX = this->MonsterSpawn[Index].X;

  003bf	8b 45 08	 mov	 eax, DWORD PTR _Index$[ebp]
  003c2	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  003c8	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  003cb	8b 54 01 08	 mov	 edx, DWORD PTR [ecx+eax+8]
  003cf	89 55 f4	 mov	 DWORD PTR _iX$219252[ebp], edx

; 71   : 		int iY = this->MonsterSpawn[Index].Y;

  003d2	8b 45 08	 mov	 eax, DWORD PTR _Index$[ebp]
  003d5	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  003db	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  003de	8b 54 01 0c	 mov	 edx, DWORD PTR [ecx+eax+12]
  003e2	89 55 f0	 mov	 DWORD PTR _iY$219253[ebp], edx

; 72   : 
; 73   : 		if(g_ExLicense.CheckUser(eExUB::ulasevich) || g_ExLicense.CheckUser(eExUB::ulasevich2))

  003e5	6a 17		 push	 23			; 00000017H
  003e7	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  003ec	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  003f1	0f b6 c0	 movzx	 eax, al
  003f4	85 c0		 test	 eax, eax
  003f6	75 13		 jne	 SHORT $LN6@StartMonst
  003f8	6a 24		 push	 36			; 00000024H
  003fa	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  003ff	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  00404	0f b6 c0	 movzx	 eax, al
  00407	85 c0		 test	 eax, eax
  00409	74 2e		 je	 SHORT $LN7@StartMonst
$LN6@StartMonst:

; 74   : 		{
; 75   : 			iX = iX + (rand() % 80 - 40);

  0040b	e8 00 00 00 00	 call	 _rand
  00410	99		 cdq
  00411	b9 50 00 00 00	 mov	 ecx, 80			; 00000050H
  00416	f7 f9		 idiv	 ecx
  00418	8b 45 f4	 mov	 eax, DWORD PTR _iX$219252[ebp]
  0041b	8d 4c 10 d8	 lea	 ecx, DWORD PTR [eax+edx-40]
  0041f	89 4d f4	 mov	 DWORD PTR _iX$219252[ebp], ecx

; 76   : 			iY = iY + (rand() % 80 - 40);

  00422	e8 00 00 00 00	 call	 _rand
  00427	99		 cdq
  00428	b9 50 00 00 00	 mov	 ecx, 80			; 00000050H
  0042d	f7 f9		 idiv	 ecx
  0042f	8b 45 f0	 mov	 eax, DWORD PTR _iY$219253[ebp]
  00432	8d 4c 10 d8	 lea	 ecx, DWORD PTR [eax+edx-40]
  00436	89 4d f0	 mov	 DWORD PTR _iY$219253[ebp], ecx
$LN7@StartMonst:

; 77   : 		}
; 78   : 
; 79   : 		if(iX > 254)

  00439	81 7d f4 fe 00
	00 00		 cmp	 DWORD PTR _iX$219252[ebp], 254 ; 000000feH
  00440	7e 07		 jle	 SHORT $LN5@StartMonst

; 80   : 		{
; 81   : 			iX = 254;

  00442	c7 45 f4 fe 00
	00 00		 mov	 DWORD PTR _iX$219252[ebp], 254 ; 000000feH
$LN5@StartMonst:

; 82   : 		}
; 83   : 		if(iY > 254)

  00449	81 7d f0 fe 00
	00 00		 cmp	 DWORD PTR _iY$219253[ebp], 254 ; 000000feH
  00450	7e 07		 jle	 SHORT $LN4@StartMonst

; 84   : 		{
; 85   : 			iY = 254;

  00452	c7 45 f0 fe 00
	00 00		 mov	 DWORD PTR _iY$219253[ebp], 254 ; 000000feH
$LN4@StartMonst:

; 86   : 		}
; 87   : 		if(iX < 1)

  00459	83 7d f4 01	 cmp	 DWORD PTR _iX$219252[ebp], 1
  0045d	7d 07		 jge	 SHORT $LN3@StartMonst

; 88   : 		{
; 89   : 			iX = 1;

  0045f	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _iX$219252[ebp], 1
$LN3@StartMonst:

; 90   : 		}
; 91   : 		if(iY < 1)

  00466	83 7d f0 01	 cmp	 DWORD PTR _iY$219253[ebp], 1
  0046a	7d 07		 jge	 SHORT $LN2@StartMonst

; 92   : 		{
; 93   : 			iY = 1;

  0046c	c7 45 f0 01 00
	00 00		 mov	 DWORD PTR _iY$219253[ebp], 1
$LN2@StartMonst:

; 94   : 		}
; 95   : 
; 96   : 		gObj[result].m_PosNum = (WORD)-1;

  00473	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  00476	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0047c	83 c9 ff	 or	 ecx, -1
  0047f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00485	66 89 8c 02 b0
	03 00 00	 mov	 WORD PTR [edx+eax+944], cx

; 97   : 		gObj[result].MapNumber = this->MonsterSpawn[Index].MapNumber;

  0048d	8b 45 08	 mov	 eax, DWORD PTR _Index$[ebp]
  00490	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  00496	8b 4d f8	 mov	 ecx, DWORD PTR _result$[ebp]
  00499	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0049f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004a5	8b 75 fc	 mov	 esi, DWORD PTR _this$[ebp]
  004a8	8a 44 06 04	 mov	 al, BYTE PTR [esi+eax+4]
  004ac	88 84 0a 49 01
	00 00		 mov	 BYTE PTR [edx+ecx+329], al

; 98   : 		gObj[result].X = iX;

  004b3	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  004b6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  004bc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004c2	66 8b 55 f4	 mov	 dx, WORD PTR _iX$219252[ebp]
  004c6	66 89 94 01 44
	01 00 00	 mov	 WORD PTR [ecx+eax+324], dx

; 99   : 		gObj[result].Y = iY;

  004ce	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  004d1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  004d7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004dd	66 8b 55 f0	 mov	 dx, WORD PTR _iY$219253[ebp]
  004e1	66 89 94 01 46
	01 00 00	 mov	 WORD PTR [ecx+eax+326], dx

; 100  : 		gObj[result].TX = iX;

  004e9	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  004ec	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  004f2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004f8	66 8b 55 f4	 mov	 dx, WORD PTR _iX$219252[ebp]
  004fc	66 89 94 01 7c
	01 00 00	 mov	 WORD PTR [ecx+eax+380], dx

; 101  : 		gObj[result].TY = iY;

  00504	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  00507	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0050d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00513	66 8b 55 f0	 mov	 dx, WORD PTR _iY$219253[ebp]
  00517	66 89 94 01 7e
	01 00 00	 mov	 WORD PTR [ecx+eax+382], dx

; 102  : 		gObj[result].m_OldX = iX;

  0051f	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  00522	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00528	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0052e	66 8b 55 f4	 mov	 dx, WORD PTR _iX$219252[ebp]
  00532	66 89 94 01 78
	01 00 00	 mov	 WORD PTR [ecx+eax+376], dx

; 103  : 		gObj[result].m_OldY = iY;

  0053a	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  0053d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00543	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00549	66 8b 55 f0	 mov	 dx, WORD PTR _iY$219253[ebp]
  0054d	66 89 94 01 7a
	01 00 00	 mov	 WORD PTR [ecx+eax+378], dx

; 104  : 		gObj[result].StartX = iX;

  00555	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  00558	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0055e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00564	8a 55 f4	 mov	 dl, BYTE PTR _iX$219252[ebp]
  00567	88 94 01 76 01
	00 00		 mov	 BYTE PTR [ecx+eax+374], dl

; 105  : 		gObj[result].StartY = iY;

  0056e	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  00571	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00577	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0057d	8a 55 f0	 mov	 dl, BYTE PTR _iY$219253[ebp]
  00580	88 94 01 77 01
	00 00		 mov	 BYTE PTR [ecx+eax+375], dl

; 106  : 		gObj[result].MaxRegenTime = 0;

  00587	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  0058a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00590	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00596	c7 84 01 ac 03
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+940], 0

; 107  : 		gObj[result].Dir = rand()%8;

  005a1	e8 00 00 00 00	 call	 _rand
  005a6	25 07 00 00 80	 and	 eax, -2147483641	; 80000007H
  005ab	79 05		 jns	 SHORT $LN12@StartMonst
  005ad	48		 dec	 eax
  005ae	83 c8 f8	 or	 eax, -8			; fffffff8H
  005b1	40		 inc	 eax
$LN12@StartMonst:
  005b2	8b 4d f8	 mov	 ecx, DWORD PTR _result$[ebp]
  005b5	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  005bb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  005c1	88 84 0a 48 01
	00 00		 mov	 BYTE PTR [edx+ecx+328], al

; 108  : 		gObj[result].RegenTime = GetTickCount();

  005c8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  005ce	8b 4d f8	 mov	 ecx, DWORD PTR _result$[ebp]
  005d1	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  005d7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  005dd	89 84 0a a8 03
	00 00		 mov	 DWORD PTR [edx+ecx+936], eax

; 109  : 
; 110  : 		gObj[result].m_ActState.Emotion       = 1;

  005e4	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  005e7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  005ed	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  005f3	8b 94 01 18 02
	00 00		 mov	 edx, DWORD PTR [ecx+eax+536]
  005fa	81 e2 0f ff ff
	ff		 and	 edx, -241		; ffffff0fH
  00600	83 ca 10	 or	 edx, 16			; 00000010H
  00603	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  00606	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0060c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00612	89 94 01 18 02
	00 00		 mov	 DWORD PTR [ecx+eax+536], edx

; 111  : 		gObj[result].m_ActState.EmotionCount  = 15;

  00619	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  0061c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00622	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00628	8b 94 01 18 02
	00 00		 mov	 edx, DWORD PTR [ecx+eax+536]
  0062f	81 e2 ff 00 ff
	ff		 and	 edx, -65281		; ffff00ffH
  00635	81 ca 00 0f 00
	00		 or	 edx, 3840		; 00000f00H
  0063b	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  0063e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00644	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0064a	89 94 01 18 02
	00 00		 mov	 DWORD PTR [ecx+eax+536], edx

; 112  : 
; 113  : 		gObjSetMonster(result,this->MonsterSpawn[Index].ID);

  00651	8b 45 08	 mov	 eax, DWORD PTR _Index$[ebp]
  00654	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  0065a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0065d	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00660	52		 push	 edx
  00661	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  00664	50		 push	 eax
  00665	e8 00 00 00 00	 call	 ?gObjSetMonster@@YAHHH@Z ; gObjSetMonster
  0066a	83 c4 08	 add	 esp, 8

; 114  : 		MessaageAllGlobal(this->MonsterSpawn[Index].Message);

  0066d	8b 45 08	 mov	 eax, DWORD PTR _Index$[ebp]
  00670	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  00676	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00679	8d 54 01 1c	 lea	 edx, DWORD PTR [ecx+eax+28]
  0067d	52		 push	 edx
  0067e	e8 00 00 00 00	 call	 ?MessaageAllGlobal@@YAXPADZZ ; MessaageAllGlobal
  00683	83 c4 04	 add	 esp, 4

; 115  : 		MonsterSpawn[Index].Status = true;

  00686	8b 45 08	 mov	 eax, DWORD PTR _Index$[ebp]
  00689	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  0068f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00692	c6 84 01 80 00
	00 00 01	 mov	 BYTE PTR [ecx+eax+128], 1

; 116  : 		MonsterSpawn[Index].Index = result;

  0069a	8b 45 08	 mov	 eax, DWORD PTR _Index$[ebp]
  0069d	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  006a3	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  006a6	8b 55 f8	 mov	 edx, DWORD PTR _result$[ebp]
  006a9	89 94 01 84 00
	00 00		 mov	 DWORD PTR [ecx+eax+132], edx

; 117  : 		return true;

  006b0	b0 01		 mov	 al, 1
  006b2	eb 04		 jmp	 SHORT $LN10@StartMonst

; 118  : 
; 119  : 	}
; 120  : 	else

  006b4	eb 02		 jmp	 SHORT $LN10@StartMonst
$LN8@StartMonst:

; 121  : 	{
; 122  : 		return false;

  006b6	32 c0		 xor	 al, al
$LN10@StartMonst:

; 123  : 	}
; 124  : }

  006b8	5f		 pop	 edi
  006b9	5e		 pop	 esi
  006ba	5b		 pop	 ebx
  006bb	8b e5		 mov	 esp, ebp
  006bd	5d		 pop	 ebp
  006be	c2 04 00	 ret	 4
?StartMonster@cMonsterSpawner@@QAE_NH@Z ENDP		; cMonsterSpawner::StartMonster
_TEXT	ENDS
PUBLIC	??_C@_0O@MBOGICEI@?$CFs?5Kill?5in?5?$CFs?$AA@	; `string'
PUBLIC	?KillMob@cMonsterSpawner@@QAEXPAUOBJECTSTRUCT@@@Z ; cMonsterSpawner::KillMob
EXTRN	?exMapName@@YAPADH@Z:PROC			; exMapName
;	COMDAT ??_C@_0O@MBOGICEI@?$CFs?5Kill?5in?5?$CFs?$AA@
CONST	SEGMENT
??_C@_0O@MBOGICEI@?$CFs?5Kill?5in?5?$CFs?$AA@ DB '%s Kill in %s', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_i$ = -8						; size = 4
_this$ = -4						; size = 4
_lpMobObj$ = 8						; size = 4
?KillMob@cMonsterSpawner@@QAEXPAUOBJECTSTRUCT@@@Z PROC	; cMonsterSpawner::KillMob
; _this$ = ecx

; 126  : {

  006d0	55		 push	 ebp
  006d1	8b ec		 mov	 ebp, esp
  006d3	83 ec 48	 sub	 esp, 72			; 00000048H
  006d6	53		 push	 ebx
  006d7	56		 push	 esi
  006d8	57		 push	 edi
  006d9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 127  : 	int i;
; 128  : 	for (i = 0; i < this->CountMobs; i++)

  006dc	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  006e3	eb 09		 jmp	 SHORT $LN5@KillMob
$LN4@KillMob:
  006e5	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  006e8	83 c0 01	 add	 eax, 1
  006eb	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN5@KillMob:
  006ee	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  006f1	8b 4d f8	 mov	 ecx, DWORD PTR _i$[ebp]
  006f4	3b 88 58 35 00
	00		 cmp	 ecx, DWORD PTR [eax+13656]
  006fa	7d 73		 jge	 SHORT $LN6@KillMob

; 129  : 	{
; 130  : 		if (MonsterSpawn[i].Status)

  006fc	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  006ff	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  00705	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00708	0f b6 94 01 80
	00 00 00	 movzx	 edx, BYTE PTR [ecx+eax+128]
  00710	85 d2		 test	 edx, edx
  00712	74 56		 je	 SHORT $LN2@KillMob

; 131  : 			if (MonsterSpawn[i].Index == lpMobObj->m_Index)

  00714	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00717	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  0071d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00720	8b 55 08	 mov	 edx, DWORD PTR _lpMobObj$[ebp]
  00723	8b 84 01 84 00
	00 00		 mov	 eax, DWORD PTR [ecx+eax+132]
  0072a	3b 02		 cmp	 eax, DWORD PTR [edx]
  0072c	75 3c		 jne	 SHORT $LN2@KillMob

; 132  : 			{	
; 133  : 				MessaageAllGlobal("%s Kill in %s",lpMobObj->Name, exMapName(lpMobObj->MapNumber));

  0072e	8b 45 08	 mov	 eax, DWORD PTR _lpMobObj$[ebp]
  00731	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  00738	51		 push	 ecx
  00739	e8 00 00 00 00	 call	 ?exMapName@@YAPADH@Z	; exMapName
  0073e	83 c4 04	 add	 esp, 4
  00741	50		 push	 eax
  00742	8b 55 08	 mov	 edx, DWORD PTR _lpMobObj$[ebp]
  00745	83 c2 77	 add	 edx, 119		; 00000077H
  00748	52		 push	 edx
  00749	68 00 00 00 00	 push	 OFFSET ??_C@_0O@MBOGICEI@?$CFs?5Kill?5in?5?$CFs?$AA@
  0074e	e8 00 00 00 00	 call	 ?MessaageAllGlobal@@YAXPADZZ ; MessaageAllGlobal
  00753	83 c4 0c	 add	 esp, 12			; 0000000cH

; 134  : 				MonsterSpawn[i].Status = false;

  00756	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00759	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  0075f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00762	c6 84 01 80 00
	00 00 00	 mov	 BYTE PTR [ecx+eax+128], 0
$LN2@KillMob:

; 135  : 			}
; 136  : 	}

  0076a	e9 76 ff ff ff	 jmp	 $LN4@KillMob
$LN6@KillMob:

; 137  : }

  0076f	5f		 pop	 edi
  00770	5e		 pop	 esi
  00771	5b		 pop	 ebx
  00772	8b e5		 mov	 esp, ebp
  00774	5d		 pop	 ebp
  00775	c2 04 00	 ret	 4
?KillMob@cMonsterSpawner@@QAEXPAUOBJECTSTRUCT@@@Z ENDP	; cMonsterSpawner::KillMob
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?TickTime@cMonsterSpawner@@QAEXXZ		; cMonsterSpawner::TickTime
EXTRN	__imp__GetLocalTime@4:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_i$ = -28						; size = 4
_t$ = -24						; size = 16
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
?TickTime@cMonsterSpawner@@QAEXXZ PROC			; cMonsterSpawner::TickTime
; _this$ = ecx

; 140  : {

  00780	55		 push	 ebp
  00781	8b ec		 mov	 ebp, esp
  00783	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00786	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0078b	33 c5		 xor	 eax, ebp
  0078d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00790	53		 push	 ebx
  00791	56		 push	 esi
  00792	57		 push	 edi
  00793	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 141  : 	if (!this->Enable) return;

  00796	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00799	83 b8 20 35 00
	00 00		 cmp	 DWORD PTR [eax+13600], 0
  007a0	75 05		 jne	 SHORT $LN8@TickTime
  007a2	e9 de 00 00 00	 jmp	 $LN9@TickTime
$LN8@TickTime:

; 142  : 	SYSTEMTIME t;
; 143  : 	GetLocalTime(&t);

  007a7	8d 45 e8	 lea	 eax, DWORD PTR _t$[ebp]
  007aa	50		 push	 eax
  007ab	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetLocalTime@4

; 144  : 	int i;
; 145  : 	for (i = 0; i < this->CountMobs; i++)

  007b1	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  007b8	eb 09		 jmp	 SHORT $LN7@TickTime
$LN6@TickTime:
  007ba	8b 45 e4	 mov	 eax, DWORD PTR _i$[ebp]
  007bd	83 c0 01	 add	 eax, 1
  007c0	89 45 e4	 mov	 DWORD PTR _i$[ebp], eax
$LN7@TickTime:
  007c3	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  007c6	8b 4d e4	 mov	 ecx, DWORD PTR _i$[ebp]
  007c9	3b 88 58 35 00
	00		 cmp	 ecx, DWORD PTR [eax+13656]
  007cf	0f 8d b0 00 00
	00		 jge	 $LN9@TickTime

; 146  : 	{
; 147  : 		if (this->MonsterSpawn[i].WeekDay == -1)

  007d5	8b 45 e4	 mov	 eax, DWORD PTR _i$[ebp]
  007d8	69 c0 88 00 00
	00		 imul	 eax, 136		; 00000088H
  007de	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  007e1	83 7c 01 10 ff	 cmp	 DWORD PTR [ecx+eax+16], -1
  007e6	75 42		 jne	 SHORT $LN4@TickTime

; 148  : 		{
; 149  : 			if(t.wHour == this->MonsterSpawn[i].TimeHour && t.wMinute == this->MonsterSpawn[i].TimeMin && t.wSecond == 00)

  007e8	0f b7 45 f0	 movzx	 eax, WORD PTR _t$[ebp+8]
  007ec	8b 4d e4	 mov	 ecx, DWORD PTR _i$[ebp]
  007ef	69 c9 88 00 00
	00		 imul	 ecx, 136		; 00000088H
  007f5	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  007f8	3b 44 0a 14	 cmp	 eax, DWORD PTR [edx+ecx+20]
  007fc	75 2a		 jne	 SHORT $LN3@TickTime
  007fe	0f b7 45 f2	 movzx	 eax, WORD PTR _t$[ebp+10]
  00802	8b 4d e4	 mov	 ecx, DWORD PTR _i$[ebp]
  00805	69 c9 88 00 00
	00		 imul	 ecx, 136		; 00000088H
  0080b	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0080e	3b 44 0a 18	 cmp	 eax, DWORD PTR [edx+ecx+24]
  00812	75 14		 jne	 SHORT $LN3@TickTime
  00814	0f b7 45 f4	 movzx	 eax, WORD PTR _t$[ebp+12]
  00818	85 c0		 test	 eax, eax
  0081a	75 0c		 jne	 SHORT $LN3@TickTime

; 150  : 			{
; 151  : 				this->StartMonster(i);

  0081c	8b 45 e4	 mov	 eax, DWORD PTR _i$[ebp]
  0081f	50		 push	 eax
  00820	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00823	e8 00 00 00 00	 call	 ?StartMonster@cMonsterSpawner@@QAE_NH@Z ; cMonsterSpawner::StartMonster
$LN3@TickTime:

; 152  : 			}
; 153  : 		}
; 154  : 		else

  00828	eb 56		 jmp	 SHORT $LN2@TickTime
$LN4@TickTime:

; 155  : 		{
; 156  : 			if(t.wDayOfWeek == this->MonsterSpawn[i].WeekDay && t.wHour == this->MonsterSpawn[i].TimeHour && t.wMinute == this->MonsterSpawn[i].TimeMin && t.wSecond == 00)

  0082a	0f b7 45 ec	 movzx	 eax, WORD PTR _t$[ebp+4]
  0082e	8b 4d e4	 mov	 ecx, DWORD PTR _i$[ebp]
  00831	69 c9 88 00 00
	00		 imul	 ecx, 136		; 00000088H
  00837	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0083a	3b 44 0a 10	 cmp	 eax, DWORD PTR [edx+ecx+16]
  0083e	75 40		 jne	 SHORT $LN2@TickTime
  00840	0f b7 45 f0	 movzx	 eax, WORD PTR _t$[ebp+8]
  00844	8b 4d e4	 mov	 ecx, DWORD PTR _i$[ebp]
  00847	69 c9 88 00 00
	00		 imul	 ecx, 136		; 00000088H
  0084d	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00850	3b 44 0a 14	 cmp	 eax, DWORD PTR [edx+ecx+20]
  00854	75 2a		 jne	 SHORT $LN2@TickTime
  00856	0f b7 45 f2	 movzx	 eax, WORD PTR _t$[ebp+10]
  0085a	8b 4d e4	 mov	 ecx, DWORD PTR _i$[ebp]
  0085d	69 c9 88 00 00
	00		 imul	 ecx, 136		; 00000088H
  00863	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00866	3b 44 0a 18	 cmp	 eax, DWORD PTR [edx+ecx+24]
  0086a	75 14		 jne	 SHORT $LN2@TickTime
  0086c	0f b7 45 f4	 movzx	 eax, WORD PTR _t$[ebp+12]
  00870	85 c0		 test	 eax, eax
  00872	75 0c		 jne	 SHORT $LN2@TickTime

; 157  : 			{
; 158  : 				this->StartMonster(i);

  00874	8b 45 e4	 mov	 eax, DWORD PTR _i$[ebp]
  00877	50		 push	 eax
  00878	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0087b	e8 00 00 00 00	 call	 ?StartMonster@cMonsterSpawner@@QAE_NH@Z ; cMonsterSpawner::StartMonster
$LN2@TickTime:

; 159  : 			}
; 160  : 		}
; 161  : 
; 162  : 	}

  00880	e9 35 ff ff ff	 jmp	 $LN6@TickTime
$LN9@TickTime:

; 163  : 			
; 164  : }

  00885	5f		 pop	 edi
  00886	5e		 pop	 esi
  00887	5b		 pop	 ebx
  00888	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0088b	33 cd		 xor	 ecx, ebp
  0088d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00892	8b e5		 mov	 esp, ebp
  00894	5d		 pop	 ebp
  00895	c3		 ret	 0
?TickTime@cMonsterSpawner@@QAEXXZ ENDP			; cMonsterSpawner::TickTime
_TEXT	ENDS
END
