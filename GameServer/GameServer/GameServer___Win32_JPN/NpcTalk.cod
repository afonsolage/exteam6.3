; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\NpcTalk.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

_DATA	SEGMENT
_g_iNpcUpDfLevel_CGATE DD 01H
	DD	02H
	DD	02dc6c0H
	DD	02H
	DD	03H
	DD	02dc6c0H
	DD	03H
	DD	04H
	DD	02dc6c0H
_g_iNpcUpDfLevel_CSTATUE DD 01H
	DD	03H
	DD	02dc6c0H
	DD	02H
	DD	05H
	DD	02dc6c0H
	DD	03H
	DD	07H
	DD	02dc6c0H
_g_iNpcUpMaxHP_CGATE DD 02625a0H
	DD	02H
	DD	0f4240H
	DD	03567e0H
	DD	03H
	DD	0f4240H
	DD	04f5880H
	DD	04H
	DD	0f4240H
_g_iNpcUpMaxHP_CSTATUE DD 02191c0H
	DD	03H
	DD	0f4240H
	DD	033e140H
	DD	05H
	DD	0f4240H
	DD	04c4b40H
	DD	07H
	DD	0f4240H
_g_iNpcUpRgLevel_CSTATUE DD 01H
	DD	03H
	DD	04c4b40H
	DD	02H
	DD	05H
	DD	04c4b40H
	DD	03H
	DD	07H
	DD	04c4b40H
_g_iCsUserReSpawnArea DD 023H
	DD	011H
	DD	090H
	DD	030H
	DD	04aH
	DD	090H
	DD	073H
	DD	09aH
	DD	023H
	DD	011H
	DD	090H
	DD	030H
_g_iNpcDefense_CGATE DD 064H
	DD	0b4H
	DD	012cH
	DD	0208H
_g_iNpcDefense_CSTATUE DD 050H
	DD	0b4H
	DD	0154H
	DD	0226H
_g_iCastleWallStepAxisY DD 071H
	DD	0a0H
	DD	0cbH
_g_sttBLOODCASTLE_LEVEL DD 0fH
	DD	050H
	DD	0aH
	DD	03cH
	DD	051H
	DD	082H
	DD	03dH
	DD	06eH
	DD	083H
	DD	0b4H
	DD	06fH
	DD	0a0H
	DD	0b5H
	DD	0e6H
	DD	0a1H
	DD	0d2H
	DD	0e7H
	DD	0118H
	DD	0d3H
	DD	0104H
	DD	0119H
	DD	014aH
	DD	0105H
	DD	0136H
	DD	014bH
	DD	0190H
	DD	0137H
	DD	0190H
	DD	0fH
	DD	0257H
	DD	0aH
	DD	0257H
_g_sttDEVILSQUARE_LEVEL DD 0fH
	DD	082H
	DD	0aH
	DD	06eH
	DD	03aH
	DD	083H
	DD	0b4H
	DD	06fH
	DD	0a0H
	DD	03bH
	DD	0b5H
	DD	0e6H
	DD	0a1H
	DD	0d2H
	DD	03cH
	DD	0e7H
	DD	0118H
	DD	0d3H
	DD	0104H
	DD	03dH
	DD	0119H
	DD	014aH
	DD	0105H
	DD	0136H
	DD	06fH
	DD	014bH
	DD	0190H
	DD	0137H
	DD	0190H
	DD	070H
	DD	0fH
	DD	0257H
	DD	0aH
	DD	0257H
	DD	010eH
_DATA	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	83 e8 01	 sub	 eax, 1
  0000f	89 45 10	 mov	 DWORD PTR ___n$[ebp], eax
  00012	78 11		 js	 SHORT $LN3@vector
  00014	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00017	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  0001a	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  0001d	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  00020	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  00023	eb e4		 jmp	 SHORT $LN2@vector
$LN3@vector:
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	?NpcDabide@@YA_NPAUOBJECTSTRUCT@@0@Z		; NpcDabide
PUBLIC	?Npc_Dialog@@YA_NPAUOBJECTSTRUCT@@0@Z		; Npc_Dialog
PUBLIC	?NpcJerint@@YA_NPAUOBJECTSTRUCT@@0@Z		; NpcJerint
PUBLIC	?NpcGoldBox@@YAHPAUOBJECTSTRUCT@@0@Z		; NpcGoldBox
PUBLIC	?NpcSilverBox@@YAHPAUOBJECTSTRUCT@@0@Z		; NpcSilverBox
PUBLIC	?SartigantheAngel@@YAHPAUOBJECTSTRUCT@@0@Z	; SartigantheAngel
PUBLIC	?NpcJuliaTalk@@YAHPAUOBJECTSTRUCT@@0@Z		; NpcJuliaTalk
PUBLIC	?NpcMoss@@YA_NPAUOBJECTSTRUCT@@0@Z		; NpcMoss
PUBLIC	?NpcTitusGatekeeper@@YA_NPAUOBJECTSTRUCT@@0@Z	; NpcTitusGatekeeper
PUBLIC	?NpcLittleSantaBuffer@@YAHPAUOBJECTSTRUCT@@0H@Z	; NpcLittleSantaBuffer
PUBLIC	?NpcSnowMan@@YAHPAUOBJECTSTRUCT@@0@Z		; NpcSnowMan
PUBLIC	?NpcXMasSantaClaus@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcXMasSantaClaus
PUBLIC	?NpcLuckyCoinExchanger@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcLuckyCoinExchanger
PUBLIC	?NpcSeedResearcher@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcSeedResearcher
PUBLIC	?NpcSeedMaster@@YAHPAUOBJECTSTRUCT@@0@Z		; NpcSeedMaster
PUBLIC	?NpcCherryBlossomSpirit@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcCherryBlossomSpirit
PUBLIC	?NpcMarceWizard@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcMarceWizard
PUBLIC	?NpcRheaMerchant@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcRheaMerchant
PUBLIC	?NpcSilviaSupplier@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcSilviaSupplier
PUBLIC	?NpcIllusionBluePedestal@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcIllusionBluePedestal
PUBLIC	?NpcIllusionYellowPedestal@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcIllusionYellowPedestal
PUBLIC	?NpcIllusionStatue@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcIllusionStatue
PUBLIC	?NpcIllusionMirage@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcIllusionMirage
PUBLIC	?NpcFirecrackerMerchant@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcFirecrackerMerchant
PUBLIC	?NpcAngelaSupplier@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcAngelaSupplier
PUBLIC	?NpcPamelaSupplier@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcPamelaSupplier
PUBLIC	?NpcMainatenceMachine@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcMainatenceMachine
PUBLIC	?NpcChaosCardMaster@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcChaosCardMaster
PUBLIC	?NpcReira@@YAHPAUOBJECTSTRUCT@@0@Z		; NpcReira
PUBLIC	?NpcCrywolfAltar@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcCrywolfAltar
PUBLIC	?NpcShadowPhantom@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcShadowPhantom
PUBLIC	?NpcCastleHuntZoneGuard@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcCastleHuntZoneGuard
PUBLIC	?NpcCastleSwitch@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcCastleSwitch
PUBLIC	?NpcCastleCrown@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcCastleCrown
PUBLIC	?NpcCastleGateLever@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcCastleGateLever
PUBLIC	?NpcCastleGuard@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcCastleGuard
PUBLIC	?NpcElderCircle@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcElderCircle
PUBLIC	?NpcSiegeMachine_Defense@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcSiegeMachine_Defense
PUBLIC	?NpcSiegeMachine_Attack@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcSiegeMachine_Attack
PUBLIC	?NpcJewelMixDealer@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcJewelMixDealer
PUBLIC	?NpcNoriJangIn@@YAHPAUOBJECTSTRUCT@@0@Z		; NpcNoriJangIn
PUBLIC	?NpcRorensiaSmith@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcRorensiaSmith
PUBLIC	?NpcDeviasWeapon@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcDeviasWeapon
PUBLIC	?NpcRoadMerchant@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcRoadMerchant
PUBLIC	?NpcRolensiaMadam@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcRolensiaMadam
PUBLIC	?NpcAngelMessanger@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcAngelMessanger
PUBLIC	?NpcAngelKing@@YAHPAUOBJECTSTRUCT@@0@Z		; NpcAngelKing
PUBLIC	?NpcServerDivision@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcServerDivision
PUBLIC	?NpcEventChipNPC@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcEventChipNPC
PUBLIC	?NpcDeviasMadam@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcDeviasMadam
PUBLIC	?NpcNoriaRara@@YAHPAUOBJECTSTRUCT@@0@Z		; NpcNoriaRara
PUBLIC	?NpcDarkSpiritTrainer@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcDarkSpiritTrainer
PUBLIC	?NpcWarehouse@@YAHPAUOBJECTSTRUCT@@0@Z		; NpcWarehouse
PUBLIC	?NpcDeviasGuard@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcDeviasGuard
PUBLIC	?NpcDeviasWizard@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcDeviasWizard
PUBLIC	?NpcPosionGirl@@YAHPAUOBJECTSTRUCT@@0@Z		; NpcPosionGirl
PUBLIC	?NpcRusipher@@YAHPAUOBJECTSTRUCT@@0@Z		; NpcRusipher
PUBLIC	?NpcChaosGoblelin@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcChaosGoblelin
PUBLIC	?NpcRolensiaGuard@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcRolensiaGuard
PUBLIC	?NpcBattleAnnouncer@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcBattleAnnouncer
PUBLIC	?NpcGuildMasterTalk@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcGuildMasterTalk
PUBLIC	?NpcFasi@@YAHPAUOBJECTSTRUCT@@0@Z		; NpcFasi
PUBLIC	?IsEnabled@CCustomQuestSystem@@QBEHXZ		; CCustomQuestSystem::IsEnabled
PUBLIC	?NpcQuestCheck@@YAHPAUOBJECTSTRUCT@@0@Z		; NpcQuestCheck
PUBLIC	?TalkRefAdd@CQeustNpcTeleport@@QAEXXZ		; CQeustNpcTeleport::TalkRefAdd
PUBLIC	?NpcTalk@@YAHPAUOBJECTSTRUCT@@0@Z		; NpcTalk
EXTRN	?NpcJewelOfHarmony@CJewelOfHarmonySystem@@QAEHPAUOBJECTSTRUCT@@0@Z:PROC ; CJewelOfHarmonySystem::NpcJewelOfHarmony
EXTRN	?g_kJewelOfHarmonySystem@@3VCJewelOfHarmonySystem@@A:BYTE ; g_kJewelOfHarmonySystem
EXTRN	?NpcDialog@CCarnageEvent@@QAE_NHH@Z:PROC	; CCarnageEvent::NpcDialog
EXTRN	?g_CarnageEvent@@3VCCarnageEvent@@A:BYTE	; g_CarnageEvent
EXTRN	?Dialog@ExWinQuestSystem@@QAE_NHH@Z:PROC	; ExWinQuestSystem::Dialog
EXTRN	?g_ExWinQuestSystem@@3VExWinQuestSystem@@A:BYTE	; g_ExWinQuestSystem
EXTRN	?Dialog@CCustomQuestSystem@@QAE_NHH@Z:PROC	; CCustomQuestSystem::Dialog
EXTRN	?g_CustomQuestSystem@@3VCCustomQuestSystem@@A:BYTE ; g_CustomQuestSystem
EXTRN	?NPCDialog@PKClear@@QAE_NHH@Z:PROC		; PKClear::NPCDialog
EXTRN	?g_PKClear@@3VPKClear@@A:BYTE			; g_PKClear
EXTRN	?NpcDialog@cGrandReset@@QAE_NHH@Z:PROC		; cGrandReset::NpcDialog
EXTRN	?gGrandReset@@3VcGrandReset@@A:BYTE		; gGrandReset
EXTRN	?NpcDialog@cSystemOfRage@@QAE_NHH@Z:PROC	; cSystemOfRage::NpcDialog
EXTRN	?gSystemOfRage@@3VcSystemOfRage@@A:BYTE		; gSystemOfRage
EXTRN	?Dialog@ExTeleportEvo@@QAE_NHH@Z:PROC		; ExTeleportEvo::Dialog
EXTRN	?g_ExTeleportEvo@@3VExTeleportEvo@@A:BYTE	; g_ExTeleportEvo
EXTRN	?Dialog@ExTeleport@@QAE_NHH@Z:PROC		; ExTeleport::Dialog
EXTRN	?g_ExTeleport@@3VExTeleport@@A:BYTE		; g_ExTeleport
EXTRN	?NpcDialog@CTeamVsTeam@@QAE_NHH@Z:PROC		; CTeamVsTeam::NpcDialog
EXTRN	?g_TeamVsTeam@@3VCTeamVsTeam@@A:BYTE		; g_TeamVsTeam
EXTRN	?NpcDialog@CDungeonSiege@@QAE_NHH@Z:PROC	; CDungeonSiege::NpcDialog
EXTRN	?g_DungeonSiege@@3VCDungeonSiege@@A:BYTE	; g_DungeonSiege
EXTRN	?NpcDialog@cResetSystem@@QAE_NHH@Z:PROC		; cResetSystem::NpcDialog
EXTRN	?gResetSystem@@3VcResetSystem@@A:BYTE		; gResetSystem
EXTRN	?NpcDialog@CMarriage@@QAE_NHH@Z:PROC		; CMarriage::NpcDialog
EXTRN	?g_Marriage@@3VCMarriage@@A:BYTE		; g_Marriage
EXTRN	?NPCClick@cBMQuest@@QAE_NHH@Z:PROC		; cBMQuest::NPCClick
EXTRN	?BMQuest@@3VcBMQuest@@A:BYTE			; BMQuest
EXTRN	?Dialog@BufferSystem@@QAE_NHH@Z:PROC		; BufferSystem::Dialog
EXTRN	?g_BufferSystem@@3VBufferSystem@@A:BYTE		; g_BufferSystem
EXTRN	?NPC_Dialog@PersonalShopEx@@QAE_NHH@Z:PROC	; PersonalShopEx::NPC_Dialog
EXTRN	?g_PersonalShopEx@@3VPersonalShopEx@@A:BYTE	; g_PersonalShopEx
EXTRN	?NPCClick@cBloodHound@@QAEXHH@Z:PROC		; cBloodHound::NPCClick
EXTRN	?BloodHound@@3VcBloodHound@@A:BYTE		; BloodHound
EXTRN	?NPCDialog@MonsterQuest@@QAE_NHH@Z:PROC		; MonsterQuest::NPCDialog
EXTRN	?gMonsterQuest@@3VMonsterQuest@@A:BYTE		; gMonsterQuest
EXTRN	?NPCTeleport@cGrandHero@@QAE_NPAUOBJECTSTRUCT@@0@Z:PROC ; cGrandHero::NPCTeleport
EXTRN	?GrandHero@@3VcGrandHero@@A:BYTE		; GrandHero
EXTRN	?NPCClick@cTeleportManager@@QAEXPAUOBJECTSTRUCT@@0@Z:PROC ; cTeleportManager::NPCClick
EXTRN	?gTeleportManager@@3VcTeleportManager@@A:BYTE	; gTeleportManager
EXTRN	?NPCClick@cSearchEvent@@QAEXHH@Z:PROC		; cSearchEvent::NPCClick
EXTRN	?SearchEvent@@3VcSearchEvent@@A:BYTE		; SearchEvent
EXTRN	?NPCClicker@cWinQuestSystem@@QAEXPAUOBJECTSTRUCT@@0@Z:PROC ; cWinQuestSystem::NPCClicker
EXTRN	?gWinQuestSystem@@3VcWinQuestSystem@@A:BYTE	; gWinQuestSystem
EXTRN	?NPCClick@cTvTEvent@@QAEXPAUOBJECTSTRUCT@@0@Z:PROC ; cTvTEvent::NPCClick
EXTRN	?TvT@@3VcTvTEvent@@A:BYTE			; TvT
EXTRN	?g_ExLicense@@3VCExLicense@@A:BYTE		; g_ExLicense
EXTRN	?NPCClick@cExQuest@@QAEXPAUOBJECTSTRUCT@@0@Z:PROC ; cExQuest::NPCClick
EXTRN	?ExQuestSystem@@3VcExQuest@@A:BYTE		; ExQuestSystem
EXTRN	?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A:BYTE	; gQeustNpcTeleport
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\npctalk.cpp
_TEXT	SEGMENT
tv242 = -72						; size = 4
_npcnum$ = -4						; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcTalk@@YAHPAUOBJECTSTRUCT@@0@Z PROC			; NpcTalk

; 61   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 62   : 	int npcnum = lpNpc->Class;

  00009	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0000c	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  00013	89 4d fc	 mov	 DWORD PTR _npcnum$[ebp], ecx

; 63   : 	lpObj->NPC = npcnum;

  00016	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00019	8b 4d fc	 mov	 ecx, DWORD PTR _npcnum$[ebp]
  0001c	89 88 a4 22 00
	00		 mov	 DWORD PTR [eax+8868], ecx

; 64   : 
; 65   : #ifdef DEBUG_CODE
; 66   : 	LogAddC(2,"npcnum: %d",npcnum);
; 67   : #endif
; 68   : 
; 69   : 	if ( npcnum < 0 )

  00022	83 7d fc 00	 cmp	 DWORD PTR _npcnum$[ebp], 0
  00026	7d 07		 jge	 SHORT $LN174@NpcTalk

; 70   : 	{
; 71   : 		return FALSE;

  00028	33 c0		 xor	 eax, eax
  0002a	e9 5a 0e 00 00	 jmp	 $LN175@NpcTalk
$LN174@NpcTalk:

; 72   : 	}
; 73   : 
; 74   : 	if ( (lpObj->m_IfState.use) > 0 )

  0002f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00032	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  00038	83 e1 03	 and	 ecx, 3
  0003b	76 0a		 jbe	 SHORT $LN173@NpcTalk

; 75   : 	{
; 76   : 		return TRUE;

  0003d	b8 01 00 00 00	 mov	 eax, 1
  00042	e9 42 0e 00 00	 jmp	 $LN175@NpcTalk
$LN173@NpcTalk:

; 77   : 	}
; 78   : 
; 79   : 	if ( npcnum == 229 )

  00047	81 7d fc e5 00
	00 00		 cmp	 DWORD PTR _npcnum$[ebp], 229 ; 000000e5H
  0004e	75 18		 jne	 SHORT $LN172@NpcTalk

; 80   : 	{
; 81   : 		gQeustNpcTeleport.TalkRefAdd();

  00050	b9 00 00 00 00	 mov	 ecx, OFFSET ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A ; gQeustNpcTeleport
  00055	e8 00 00 00 00	 call	 ?TalkRefAdd@CQeustNpcTeleport@@QAEXXZ ; CQeustNpcTeleport::TalkRefAdd

; 82   : 		lpObj->TargetShopNumber = npcnum;

  0005a	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0005d	66 8b 4d fc	 mov	 cx, WORD PTR _npcnum$[ebp]
  00061	66 89 88 5a 04
	00 00		 mov	 WORD PTR [eax+1114], cx
$LN172@NpcTalk:

; 83   : 	}
; 84   : 
; 85   : 	//if ( npcnum == 568 )
; 86   : 	//{
; 87   : 	//	gQeustNpcTeleport.TalkRefAdd();
; 88   : 	//	lpObj->TargetShopNumber = npcnum;
; 89   : 	//}
; 90   : 
; 91   : 	if ( NpcQuestCheck(lpNpc, lpObj) != FALSE )

  00068	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0006b	50		 push	 eax
  0006c	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0006f	51		 push	 ecx
  00070	e8 00 00 00 00	 call	 ?NpcQuestCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcQuestCheck
  00075	83 c4 08	 add	 esp, 8
  00078	85 c0		 test	 eax, eax
  0007a	74 0a		 je	 SHORT $LN171@NpcTalk

; 92   : 	{
; 93   : 		return TRUE;

  0007c	b8 01 00 00 00	 mov	 eax, 1
  00081	e9 03 0e 00 00	 jmp	 $LN175@NpcTalk
$LN171@NpcTalk:

; 94   : 	}
; 95   : 	ExQuestSystem.NPCClick(lpNpc,lpObj);

  00086	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00089	50		 push	 eax
  0008a	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0008d	51		 push	 ecx
  0008e	b9 00 00 00 00	 mov	 ecx, OFFSET ?ExQuestSystem@@3VcExQuest@@A ; ExQuestSystem
  00093	e8 00 00 00 00	 call	 ?NPCClick@cExQuest@@QAEXPAUOBJECTSTRUCT@@0@Z ; cExQuest::NPCClick

; 96   : 
; 97   : 	if(g_ExLicense.user.TvTEvent)

  00098	0f b6 05 cd 00
	00 00		 movzx	 eax, BYTE PTR ?g_ExLicense@@3VCExLicense@@A+205
  0009f	85 c0		 test	 eax, eax
  000a1	74 12		 je	 SHORT $LN170@NpcTalk

; 98   : 	{
; 99   : 		TvT.NPCClick(lpNpc,lpObj);

  000a3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  000a6	50		 push	 eax
  000a7	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  000aa	51		 push	 ecx
  000ab	b9 00 00 00 00	 mov	 ecx, OFFSET ?TvT@@3VcTvTEvent@@A ; TvT
  000b0	e8 00 00 00 00	 call	 ?NPCClick@cTvTEvent@@QAEXPAUOBJECTSTRUCT@@0@Z ; cTvTEvent::NPCClick
$LN170@NpcTalk:

; 100  : 	}
; 101  : 
; 102  : 	if(g_ExLicense.user.WinQuest) gWinQuestSystem.NPCClicker(lpNpc,lpObj);

  000b5	0f b6 05 ca 00
	00 00		 movzx	 eax, BYTE PTR ?g_ExLicense@@3VCExLicense@@A+202
  000bc	85 c0		 test	 eax, eax
  000be	74 12		 je	 SHORT $LN169@NpcTalk
  000c0	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  000c3	50		 push	 eax
  000c4	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  000c7	51		 push	 ecx
  000c8	b9 00 00 00 00	 mov	 ecx, OFFSET ?gWinQuestSystem@@3VcWinQuestSystem@@A ; gWinQuestSystem
  000cd	e8 00 00 00 00	 call	 ?NPCClicker@cWinQuestSystem@@QAEXPAUOBJECTSTRUCT@@0@Z ; cWinQuestSystem::NPCClicker
$LN169@NpcTalk:

; 103  : 
; 104  : 	SearchEvent.NPCClick(lpObj->m_Index,lpNpc->m_Index);

  000d2	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  000d5	8b 08		 mov	 ecx, DWORD PTR [eax]
  000d7	51		 push	 ecx
  000d8	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  000db	8b 02		 mov	 eax, DWORD PTR [edx]
  000dd	50		 push	 eax
  000de	b9 00 00 00 00	 mov	 ecx, OFFSET ?SearchEvent@@3VcSearchEvent@@A ; SearchEvent
  000e3	e8 00 00 00 00	 call	 ?NPCClick@cSearchEvent@@QAEXHH@Z ; cSearchEvent::NPCClick

; 105  : 
; 106  : 	gTeleportManager.NPCClick(lpNpc,lpObj);

  000e8	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  000eb	50		 push	 eax
  000ec	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  000ef	51		 push	 ecx
  000f0	b9 00 00 00 00	 mov	 ecx, OFFSET ?gTeleportManager@@3VcTeleportManager@@A ; gTeleportManager
  000f5	e8 00 00 00 00	 call	 ?NPCClick@cTeleportManager@@QAEXPAUOBJECTSTRUCT@@0@Z ; cTeleportManager::NPCClick

; 107  : 
; 108  : #if(GRAND_HERO_DEV)
; 109  : 	if(GrandHero.NPCTeleport(lpNpc,lpObj) == TRUE)

  000fa	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  000fd	50		 push	 eax
  000fe	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00101	51		 push	 ecx
  00102	b9 00 00 00 00	 mov	 ecx, OFFSET ?GrandHero@@3VcGrandHero@@A ; GrandHero
  00107	e8 00 00 00 00	 call	 ?NPCTeleport@cGrandHero@@QAE_NPAUOBJECTSTRUCT@@0@Z ; cGrandHero::NPCTeleport
  0010c	0f b6 d0	 movzx	 edx, al
  0010f	83 fa 01	 cmp	 edx, 1
  00112	75 0a		 jne	 SHORT $LN168@NpcTalk

; 110  : 	{
; 111  : 		return TRUE;

  00114	b8 01 00 00 00	 mov	 eax, 1
  00119	e9 6b 0d 00 00	 jmp	 $LN175@NpcTalk
$LN168@NpcTalk:

; 112  : 	}
; 113  : #endif
; 114  : 
; 115  : #ifdef PRIVATE_MODULE
; 116  : 	if(g_ExLicense.user.MonsterQuest)

  0011e	0f b6 05 cc 00
	00 00		 movzx	 eax, BYTE PTR ?g_ExLicense@@3VCExLicense@@A+204
  00125	85 c0		 test	 eax, eax
  00127	74 27		 je	 SHORT $LN167@NpcTalk

; 117  : 	{
; 118  : 		if(gMonsterQuest.NPCDialog(lpNpc->m_Index,lpObj->m_Index) != FALSE )

  00129	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0012c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0012e	51		 push	 ecx
  0012f	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  00132	8b 02		 mov	 eax, DWORD PTR [edx]
  00134	50		 push	 eax
  00135	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMonsterQuest@@3VMonsterQuest@@A ; gMonsterQuest
  0013a	e8 00 00 00 00	 call	 ?NPCDialog@MonsterQuest@@QAE_NHH@Z ; MonsterQuest::NPCDialog
  0013f	0f b6 c8	 movzx	 ecx, al
  00142	85 c9		 test	 ecx, ecx
  00144	74 0a		 je	 SHORT $LN167@NpcTalk

; 119  : 		{
; 120  : 			return true;

  00146	b8 01 00 00 00	 mov	 eax, 1
  0014b	e9 39 0d 00 00	 jmp	 $LN175@NpcTalk
$LN167@NpcTalk:

; 121  : 		}
; 122  : 	}
; 123  : #endif
; 124  : 	if(g_ExLicense.user.BloodHound)

  00150	0f b6 05 cb 00
	00 00		 movzx	 eax, BYTE PTR ?g_ExLicense@@3VCExLicense@@A+203
  00157	85 c0		 test	 eax, eax
  00159	74 16		 je	 SHORT $LN165@NpcTalk

; 125  : 	{
; 126  : 		BloodHound.NPCClick(lpObj->m_Index,lpNpc->m_Index);

  0015b	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0015e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00160	51		 push	 ecx
  00161	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00164	8b 02		 mov	 eax, DWORD PTR [edx]
  00166	50		 push	 eax
  00167	b9 00 00 00 00	 mov	 ecx, OFFSET ?BloodHound@@3VcBloodHound@@A ; BloodHound
  0016c	e8 00 00 00 00	 call	 ?NPCClick@cBloodHound@@QAEXHH@Z ; cBloodHound::NPCClick
$LN165@NpcTalk:

; 127  : 	}
; 128  : 
; 129  : #if(CUSTOM_PERSONAL_SHOP==TRUE)
; 130  : 	if( g_PersonalShopEx.NPC_Dialog(lpObj->m_Index,lpNpc->m_Index) )

  00171	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  00174	8b 08		 mov	 ecx, DWORD PTR [eax]
  00176	51		 push	 ecx
  00177	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0017a	8b 02		 mov	 eax, DWORD PTR [edx]
  0017c	50		 push	 eax
  0017d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_PersonalShopEx@@3VPersonalShopEx@@A ; g_PersonalShopEx
  00182	e8 00 00 00 00	 call	 ?NPC_Dialog@PersonalShopEx@@QAE_NHH@Z ; PersonalShopEx::NPC_Dialog
  00187	0f b6 c8	 movzx	 ecx, al
  0018a	85 c9		 test	 ecx, ecx
  0018c	74 0a		 je	 SHORT $LN164@NpcTalk

; 131  : 	{
; 132  : 		return true;

  0018e	b8 01 00 00 00	 mov	 eax, 1
  00193	e9 f1 0c 00 00	 jmp	 $LN175@NpcTalk
$LN164@NpcTalk:

; 133  : 	}
; 134  : #endif
; 135  : #if(CUSTOM_NPC_BUFFER==TRUE)
; 136  : 	if(g_BufferSystem.Dialog(lpObj->m_Index,lpNpc->m_Index))

  00198	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0019b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0019d	51		 push	 ecx
  0019e	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  001a1	8b 02		 mov	 eax, DWORD PTR [edx]
  001a3	50		 push	 eax
  001a4	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BufferSystem@@3VBufferSystem@@A ; g_BufferSystem
  001a9	e8 00 00 00 00	 call	 ?Dialog@BufferSystem@@QAE_NHH@Z ; BufferSystem::Dialog
  001ae	0f b6 c8	 movzx	 ecx, al
  001b1	85 c9		 test	 ecx, ecx
  001b3	74 0a		 je	 SHORT $LN163@NpcTalk

; 137  : 	{
; 138  : 		return true;

  001b5	b8 01 00 00 00	 mov	 eax, 1
  001ba	e9 ca 0c 00 00	 jmp	 $LN175@NpcTalk
$LN163@NpcTalk:

; 139  : 	}
; 140  : #endif
; 141  : 	if(BMQuest.NPCClick(lpObj->m_Index,lpNpc->m_Index))

  001bf	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  001c2	8b 08		 mov	 ecx, DWORD PTR [eax]
  001c4	51		 push	 ecx
  001c5	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  001c8	8b 02		 mov	 eax, DWORD PTR [edx]
  001ca	50		 push	 eax
  001cb	b9 00 00 00 00	 mov	 ecx, OFFSET ?BMQuest@@3VcBMQuest@@A ; BMQuest
  001d0	e8 00 00 00 00	 call	 ?NPCClick@cBMQuest@@QAE_NHH@Z ; cBMQuest::NPCClick
  001d5	0f b6 c8	 movzx	 ecx, al
  001d8	85 c9		 test	 ecx, ecx
  001da	74 0a		 je	 SHORT $LN162@NpcTalk

; 142  : 	{
; 143  : 		return true;

  001dc	b8 01 00 00 00	 mov	 eax, 1
  001e1	e9 a3 0c 00 00	 jmp	 $LN175@NpcTalk
$LN162@NpcTalk:

; 144  : 	}
; 145  : 
; 146  : #if(CUSTOM_MARRIAGE)
; 147  : 	if(g_Marriage.NpcDialog(lpObj->m_Index,lpNpc->m_Index))

  001e6	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  001e9	8b 08		 mov	 ecx, DWORD PTR [eax]
  001eb	51		 push	 ecx
  001ec	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  001ef	8b 02		 mov	 eax, DWORD PTR [edx]
  001f1	50		 push	 eax
  001f2	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Marriage@@3VCMarriage@@A ; g_Marriage
  001f7	e8 00 00 00 00	 call	 ?NpcDialog@CMarriage@@QAE_NHH@Z ; CMarriage::NpcDialog
  001fc	0f b6 c8	 movzx	 ecx, al
  001ff	85 c9		 test	 ecx, ecx
  00201	74 0a		 je	 SHORT $LN161@NpcTalk

; 148  : 	{
; 149  : 		return true;

  00203	b8 01 00 00 00	 mov	 eax, 1
  00208	e9 7c 0c 00 00	 jmp	 $LN175@NpcTalk
$LN161@NpcTalk:

; 150  : 	}
; 151  : #endif
; 152  : #if(ADD_RESET_WINDOW)
; 153  : 	if(gResetSystem.NpcDialog(lpObj->m_Index,lpNpc->m_Index))

  0020d	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  00210	8b 08		 mov	 ecx, DWORD PTR [eax]
  00212	51		 push	 ecx
  00213	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00216	8b 02		 mov	 eax, DWORD PTR [edx]
  00218	50		 push	 eax
  00219	b9 00 00 00 00	 mov	 ecx, OFFSET ?gResetSystem@@3VcResetSystem@@A ; gResetSystem
  0021e	e8 00 00 00 00	 call	 ?NpcDialog@cResetSystem@@QAE_NHH@Z ; cResetSystem::NpcDialog
  00223	0f b6 c8	 movzx	 ecx, al
  00226	85 c9		 test	 ecx, ecx
  00228	74 0a		 je	 SHORT $LN160@NpcTalk

; 154  : 	{
; 155  : 		return true;

  0022a	b8 01 00 00 00	 mov	 eax, 1
  0022f	e9 55 0c 00 00	 jmp	 $LN175@NpcTalk
$LN160@NpcTalk:

; 156  : 	}
; 157  : #endif
; 158  : #if(EVENT_DUNGEON_SIEGE)
; 159  : 	if(g_DungeonSiege.NpcDialog(lpObj->m_Index,lpNpc->m_Index))

  00234	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  00237	8b 08		 mov	 ecx, DWORD PTR [eax]
  00239	51		 push	 ecx
  0023a	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0023d	8b 02		 mov	 eax, DWORD PTR [edx]
  0023f	50		 push	 eax
  00240	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DungeonSiege@@3VCDungeonSiege@@A ; g_DungeonSiege
  00245	e8 00 00 00 00	 call	 ?NpcDialog@CDungeonSiege@@QAE_NHH@Z ; CDungeonSiege::NpcDialog
  0024a	0f b6 c8	 movzx	 ecx, al
  0024d	85 c9		 test	 ecx, ecx
  0024f	74 0a		 je	 SHORT $LN159@NpcTalk

; 160  : 	{
; 161  : 		return true;

  00251	b8 01 00 00 00	 mov	 eax, 1
  00256	e9 2e 0c 00 00	 jmp	 $LN175@NpcTalk
$LN159@NpcTalk:

; 162  : 	}
; 163  : #endif
; 164  : #if(EVENT_TEAM_VS_TEAM)
; 165  : 	if(g_TeamVsTeam.NpcDialog(lpObj->m_Index, lpNpc->m_Index))

  0025b	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0025e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00260	51		 push	 ecx
  00261	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00264	8b 02		 mov	 eax, DWORD PTR [edx]
  00266	50		 push	 eax
  00267	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_TeamVsTeam@@3VCTeamVsTeam@@A ; g_TeamVsTeam
  0026c	e8 00 00 00 00	 call	 ?NpcDialog@CTeamVsTeam@@QAE_NHH@Z ; CTeamVsTeam::NpcDialog
  00271	0f b6 c8	 movzx	 ecx, al
  00274	85 c9		 test	 ecx, ecx
  00276	74 0a		 je	 SHORT $LN158@NpcTalk

; 166  : 	{
; 167  : 		return true;

  00278	b8 01 00 00 00	 mov	 eax, 1
  0027d	e9 07 0c 00 00	 jmp	 $LN175@NpcTalk
$LN158@NpcTalk:

; 168  : 	}
; 169  : #endif
; 170  : #if(CUSTOM_EX_TELEPORT==TRUE)
; 171  : 	if(g_ExTeleport.Dialog(lpObj->m_Index,lpNpc->m_Index))

  00282	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  00285	8b 08		 mov	 ecx, DWORD PTR [eax]
  00287	51		 push	 ecx
  00288	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0028b	8b 02		 mov	 eax, DWORD PTR [edx]
  0028d	50		 push	 eax
  0028e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExTeleport@@3VExTeleport@@A ; g_ExTeleport
  00293	e8 00 00 00 00	 call	 ?Dialog@ExTeleport@@QAE_NHH@Z ; ExTeleport::Dialog
  00298	0f b6 c8	 movzx	 ecx, al
  0029b	85 c9		 test	 ecx, ecx
  0029d	74 0a		 je	 SHORT $LN157@NpcTalk

; 172  : 	{
; 173  : 		return true;

  0029f	b8 01 00 00 00	 mov	 eax, 1
  002a4	e9 e0 0b 00 00	 jmp	 $LN175@NpcTalk
$LN157@NpcTalk:

; 174  : 	}
; 175  : #endif
; 176  : #if(CUSTOM_EX_TELEPORT_EVO)
; 177  : 	if(g_ExTeleportEvo.Dialog(lpObj->m_Index,lpNpc->m_Index))

  002a9	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  002ac	8b 08		 mov	 ecx, DWORD PTR [eax]
  002ae	51		 push	 ecx
  002af	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  002b2	8b 02		 mov	 eax, DWORD PTR [edx]
  002b4	50		 push	 eax
  002b5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExTeleportEvo@@3VExTeleportEvo@@A ; g_ExTeleportEvo
  002ba	e8 00 00 00 00	 call	 ?Dialog@ExTeleportEvo@@QAE_NHH@Z ; ExTeleportEvo::Dialog
  002bf	0f b6 c8	 movzx	 ecx, al
  002c2	85 c9		 test	 ecx, ecx
  002c4	74 0a		 je	 SHORT $LN156@NpcTalk

; 178  : 	{
; 179  : 		return true;

  002c6	b8 01 00 00 00	 mov	 eax, 1
  002cb	e9 b9 0b 00 00	 jmp	 $LN175@NpcTalk
$LN156@NpcTalk:

; 180  : 	}
; 181  : #endif
; 182  : 
; 183  : 	if(gSystemOfRage.NpcDialog(lpObj->m_Index,lpNpc->m_Index))

  002d0	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  002d3	8b 08		 mov	 ecx, DWORD PTR [eax]
  002d5	51		 push	 ecx
  002d6	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  002d9	8b 02		 mov	 eax, DWORD PTR [edx]
  002db	50		 push	 eax
  002dc	b9 00 00 00 00	 mov	 ecx, OFFSET ?gSystemOfRage@@3VcSystemOfRage@@A ; gSystemOfRage
  002e1	e8 00 00 00 00	 call	 ?NpcDialog@cSystemOfRage@@QAE_NHH@Z ; cSystemOfRage::NpcDialog
  002e6	0f b6 c8	 movzx	 ecx, al
  002e9	85 c9		 test	 ecx, ecx
  002eb	74 0a		 je	 SHORT $LN155@NpcTalk

; 184  : 	{
; 185  : 		return true;

  002ed	b8 01 00 00 00	 mov	 eax, 1
  002f2	e9 92 0b 00 00	 jmp	 $LN175@NpcTalk
$LN155@NpcTalk:

; 186  : 	}
; 187  : 
; 188  : 	if(gGrandReset.NpcDialog(lpObj->m_Index,lpNpc->m_Index))

  002f7	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  002fa	8b 08		 mov	 ecx, DWORD PTR [eax]
  002fc	51		 push	 ecx
  002fd	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00300	8b 02		 mov	 eax, DWORD PTR [edx]
  00302	50		 push	 eax
  00303	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGrandReset@@3VcGrandReset@@A ; gGrandReset
  00308	e8 00 00 00 00	 call	 ?NpcDialog@cGrandReset@@QAE_NHH@Z ; cGrandReset::NpcDialog
  0030d	0f b6 c8	 movzx	 ecx, al
  00310	85 c9		 test	 ecx, ecx
  00312	74 0a		 je	 SHORT $LN154@NpcTalk

; 189  : 	{
; 190  : 		return true;

  00314	b8 01 00 00 00	 mov	 eax, 1
  00319	e9 6b 0b 00 00	 jmp	 $LN175@NpcTalk
$LN154@NpcTalk:

; 191  : 	}
; 192  : 
; 193  : #if(CUSTOM_PKCLEAR_NPC==TRUE)
; 194  : 	if( g_PKClear.NPCDialog(lpObj->m_Index,lpNpc->m_Index) )

  0031e	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  00321	8b 08		 mov	 ecx, DWORD PTR [eax]
  00323	51		 push	 ecx
  00324	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00327	8b 02		 mov	 eax, DWORD PTR [edx]
  00329	50		 push	 eax
  0032a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_PKClear@@3VPKClear@@A ; g_PKClear
  0032f	e8 00 00 00 00	 call	 ?NPCDialog@PKClear@@QAE_NHH@Z ; PKClear::NPCDialog
  00334	0f b6 c8	 movzx	 ecx, al
  00337	85 c9		 test	 ecx, ecx
  00339	74 0a		 je	 SHORT $LN153@NpcTalk

; 195  : 	{
; 196  : 		return true;

  0033b	b8 01 00 00 00	 mov	 eax, 1
  00340	e9 44 0b 00 00	 jmp	 $LN175@NpcTalk
$LN153@NpcTalk:

; 197  : 	}
; 198  : #endif
; 199  : 
; 200  : #if(CUSTOM_EX_QUEST_SYSTEM==TRUE)
; 201  : 	if (g_CustomQuestSystem.IsEnabled() && g_CustomQuestSystem.Dialog(lpObj->m_Index,lpNpc->m_Index))

  00345	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CustomQuestSystem@@3VCCustomQuestSystem@@A ; g_CustomQuestSystem
  0034a	e8 00 00 00 00	 call	 ?IsEnabled@CCustomQuestSystem@@QBEHXZ ; CCustomQuestSystem::IsEnabled
  0034f	85 c0		 test	 eax, eax
  00351	74 29		 je	 SHORT $LN152@NpcTalk
  00353	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  00356	8b 08		 mov	 ecx, DWORD PTR [eax]
  00358	51		 push	 ecx
  00359	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0035c	8b 02		 mov	 eax, DWORD PTR [edx]
  0035e	50		 push	 eax
  0035f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CustomQuestSystem@@3VCCustomQuestSystem@@A ; g_CustomQuestSystem
  00364	e8 00 00 00 00	 call	 ?Dialog@CCustomQuestSystem@@QAE_NHH@Z ; CCustomQuestSystem::Dialog
  00369	0f b6 c8	 movzx	 ecx, al
  0036c	85 c9		 test	 ecx, ecx
  0036e	74 0c		 je	 SHORT $LN152@NpcTalk

; 202  : 	{
; 203  : 		return true;

  00370	b8 01 00 00 00	 mov	 eax, 1
  00375	e9 0f 0b 00 00	 jmp	 $LN175@NpcTalk
  0037a	eb 27		 jmp	 SHORT $LN151@NpcTalk
$LN152@NpcTalk:

; 204  : 	}
; 205  : 	else if(g_ExWinQuestSystem.Dialog(lpObj->m_Index,lpNpc->m_Index))

  0037c	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0037f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00381	51		 push	 ecx
  00382	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00385	8b 02		 mov	 eax, DWORD PTR [edx]
  00387	50		 push	 eax
  00388	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExWinQuestSystem@@3VExWinQuestSystem@@A ; g_ExWinQuestSystem
  0038d	e8 00 00 00 00	 call	 ?Dialog@ExWinQuestSystem@@QAE_NHH@Z ; ExWinQuestSystem::Dialog
  00392	0f b6 c8	 movzx	 ecx, al
  00395	85 c9		 test	 ecx, ecx
  00397	74 0a		 je	 SHORT $LN151@NpcTalk

; 206  : 	{
; 207  : 		return true;

  00399	b8 01 00 00 00	 mov	 eax, 1
  0039e	e9 e6 0a 00 00	 jmp	 $LN175@NpcTalk
$LN151@NpcTalk:

; 208  : 	}
; 209  : #endif
; 210  : #if(CUSTOM_LOTTERY)
; 211  : 	if(g_Lottery.NpcDialog(lpObj->m_Index, lpNpc->m_Index))
; 212  : 	{
; 213  : 		return true;
; 214  : 	}
; 215  : #endif
; 216  : #if(EVENT_CARNAGE)
; 217  : 	if(g_CarnageEvent.NpcDialog(lpObj->m_Index, lpNpc->m_Index))

  003a3	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  003a6	8b 08		 mov	 ecx, DWORD PTR [eax]
  003a8	51		 push	 ecx
  003a9	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  003ac	8b 02		 mov	 eax, DWORD PTR [edx]
  003ae	50		 push	 eax
  003af	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CarnageEvent@@3VCCarnageEvent@@A ; g_CarnageEvent
  003b4	e8 00 00 00 00	 call	 ?NpcDialog@CCarnageEvent@@QAE_NHH@Z ; CCarnageEvent::NpcDialog
  003b9	0f b6 c8	 movzx	 ecx, al
  003bc	85 c9		 test	 ecx, ecx
  003be	74 0a		 je	 SHORT $LN149@NpcTalk

; 218  : 	{
; 219  : 		return true;

  003c0	b8 01 00 00 00	 mov	 eax, 1
  003c5	e9 bf 0a 00 00	 jmp	 $LN175@NpcTalk
$LN149@NpcTalk:

; 220  : 	}
; 221  : #endif
; 222  : 
; 223  : 	switch ( npcnum )

  003ca	8b 45 fc	 mov	 eax, DWORD PTR _npcnum$[ebp]
  003cd	89 45 b8	 mov	 DWORD PTR tv242[ebp], eax
  003d0	81 7d b8 d1 01
	00 00		 cmp	 DWORD PTR tv242[ebp], 465 ; 000001d1H
  003d7	7f 37		 jg	 SHORT $LN177@NpcTalk
  003d9	81 7d b8 d1 01
	00 00		 cmp	 DWORD PTR tv242[ebp], 465 ; 000001d1H
  003e0	0f 84 0f 08 00
	00		 je	 $LN36@NpcTalk
  003e6	8b 4d b8	 mov	 ecx, DWORD PTR tv242[ebp]
  003e9	81 e9 cd 00 00
	00		 sub	 ecx, 205		; 000000cdH
  003ef	89 4d b8	 mov	 DWORD PTR tv242[ebp], ecx
  003f2	81 7d b8 f8 00
	00 00		 cmp	 DWORD PTR tv242[ebp], 248 ; 000000f8H
  003f9	0f 87 88 0a 00
	00		 ja	 $LN147@NpcTalk
  003ff	8b 55 b8	 mov	 edx, DWORD PTR tv242[ebp]
  00402	0f b6 82 00 00
	00 00		 movzx	 eax, BYTE PTR $LN178@NpcTalk[edx]
  00409	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN180@NpcTalk[eax*4]
$LN177@NpcTalk:
  00410	8b 4d b8	 mov	 ecx, DWORD PTR tv242[ebp]
  00413	81 e9 d3 01 00
	00		 sub	 ecx, 467		; 000001d3H
  00419	89 4d b8	 mov	 DWORD PTR tv242[ebp], ecx
  0041c	83 7d b8 70	 cmp	 DWORD PTR tv242[ebp], 112 ; 00000070H
  00420	0f 87 61 0a 00
	00		 ja	 $LN147@NpcTalk
  00426	8b 55 b8	 mov	 edx, DWORD PTR tv242[ebp]
  00429	0f b6 82 00 00
	00 00		 movzx	 eax, BYTE PTR $LN179@NpcTalk[edx]
  00430	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN181@NpcTalk[eax*4]
$LN146@NpcTalk:

; 224  : 	{
; 225  : 		case 254:
; 226  : 			if ( NpcFasi ( lpNpc, lpObj ) == TRUE ) //ok

  00437	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0043a	50		 push	 eax
  0043b	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0043e	51		 push	 ecx
  0043f	e8 00 00 00 00	 call	 ?NpcFasi@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcFasi
  00444	83 c4 08	 add	 esp, 8
  00447	83 f8 01	 cmp	 eax, 1
  0044a	75 0a		 jne	 SHORT $LN145@NpcTalk

; 227  : 			{
; 228  : 				return TRUE;

  0044c	b8 01 00 00 00	 mov	 eax, 1
  00451	e9 33 0a 00 00	 jmp	 $LN175@NpcTalk
$LN145@NpcTalk:

; 229  : 			}
; 230  : 			break;

  00456	e9 2c 0a 00 00	 jmp	 $LN147@NpcTalk
$LN144@NpcTalk:

; 231  : 
; 232  : 		case 241:
; 233  : 			if ( NpcGuildMasterTalk( lpNpc, lpObj ) == TRUE ) //ok

  0045b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0045e	50		 push	 eax
  0045f	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00462	51		 push	 ecx
  00463	e8 00 00 00 00	 call	 ?NpcGuildMasterTalk@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcGuildMasterTalk
  00468	83 c4 08	 add	 esp, 8
  0046b	83 f8 01	 cmp	 eax, 1
  0046e	75 0a		 jne	 SHORT $LN143@NpcTalk

; 234  : 			{
; 235  : 				return TRUE;

  00470	b8 01 00 00 00	 mov	 eax, 1
  00475	e9 0f 0a 00 00	 jmp	 $LN175@NpcTalk
$LN143@NpcTalk:

; 236  : 			}
; 237  : 			break;

  0047a	e9 08 0a 00 00	 jmp	 $LN147@NpcTalk
$LN142@NpcTalk:

; 238  : 		
; 239  : 		case 239:
; 240  : 			if ( NpcBattleAnnouncer( lpNpc, lpObj ) == TRUE ) //ok

  0047f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00482	50		 push	 eax
  00483	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00486	51		 push	 ecx
  00487	e8 00 00 00 00	 call	 ?NpcBattleAnnouncer@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcBattleAnnouncer
  0048c	83 c4 08	 add	 esp, 8
  0048f	83 f8 01	 cmp	 eax, 1
  00492	75 0a		 jne	 SHORT $LN141@NpcTalk

; 241  : 			{
; 242  : 				return TRUE;

  00494	b8 01 00 00 00	 mov	 eax, 1
  00499	e9 eb 09 00 00	 jmp	 $LN175@NpcTalk
$LN141@NpcTalk:

; 243  : 			}
; 244  : 			break;

  0049e	e9 e4 09 00 00	 jmp	 $LN147@NpcTalk
$LN140@NpcTalk:

; 245  : 
; 246  : 		case 249:
; 247  : 			if ( NpcRolensiaGuard( lpNpc, lpObj ) == TRUE )

  004a3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  004a6	50		 push	 eax
  004a7	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  004aa	51		 push	 ecx
  004ab	e8 00 00 00 00	 call	 ?NpcRolensiaGuard@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcRolensiaGuard
  004b0	83 c4 08	 add	 esp, 8
  004b3	83 f8 01	 cmp	 eax, 1
  004b6	75 0a		 jne	 SHORT $LN139@NpcTalk

; 248  : 			{
; 249  : 				return TRUE;

  004b8	b8 01 00 00 00	 mov	 eax, 1
  004bd	e9 c7 09 00 00	 jmp	 $LN175@NpcTalk
$LN139@NpcTalk:

; 250  : 			}
; 251  : 			break;

  004c2	e9 c0 09 00 00	 jmp	 $LN147@NpcTalk
$LN138@NpcTalk:

; 252  : 
; 253  : 		case 238:
; 254  : 			if ( NpcChaosGoblelin( lpNpc, lpObj ) == TRUE )

  004c7	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  004ca	50		 push	 eax
  004cb	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  004ce	51		 push	 ecx
  004cf	e8 00 00 00 00	 call	 ?NpcChaosGoblelin@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcChaosGoblelin
  004d4	83 c4 08	 add	 esp, 8
  004d7	83 f8 01	 cmp	 eax, 1
  004da	75 0a		 jne	 SHORT $LN137@NpcTalk

; 255  : 			{
; 256  : 				return TRUE;

  004dc	b8 01 00 00 00	 mov	 eax, 1
  004e1	e9 a3 09 00 00	 jmp	 $LN175@NpcTalk
$LN137@NpcTalk:

; 257  : 			}
; 258  : 			break;

  004e6	e9 9c 09 00 00	 jmp	 $LN147@NpcTalk
$LN136@NpcTalk:

; 259  : 
; 260  : 		case 237:
; 261  : 			if ( NpcRusipher( lpNpc, lpObj ) == TRUE )

  004eb	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  004ee	50		 push	 eax
  004ef	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  004f2	51		 push	 ecx
  004f3	e8 00 00 00 00	 call	 ?NpcRusipher@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcRusipher
  004f8	83 c4 08	 add	 esp, 8
  004fb	83 f8 01	 cmp	 eax, 1
  004fe	75 0a		 jne	 SHORT $LN135@NpcTalk

; 262  : 			{
; 263  : 				return TRUE;

  00500	b8 01 00 00 00	 mov	 eax, 1
  00505	e9 7f 09 00 00	 jmp	 $LN175@NpcTalk
$LN135@NpcTalk:

; 264  : 			}
; 265  : 			break;

  0050a	e9 78 09 00 00	 jmp	 $LN147@NpcTalk
$LN134@NpcTalk:

; 266  : 
; 267  : 		case 253:
; 268  : 			if ( NpcPosionGirl( lpNpc, lpObj ) == TRUE ) //ok

  0050f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00512	50		 push	 eax
  00513	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00516	51		 push	 ecx
  00517	e8 00 00 00 00	 call	 ?NpcPosionGirl@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcPosionGirl
  0051c	83 c4 08	 add	 esp, 8
  0051f	83 f8 01	 cmp	 eax, 1
  00522	75 0a		 jne	 SHORT $LN133@NpcTalk

; 269  : 			{
; 270  : 				return TRUE;

  00524	b8 01 00 00 00	 mov	 eax, 1
  00529	e9 5b 09 00 00	 jmp	 $LN175@NpcTalk
$LN133@NpcTalk:

; 271  : 			}
; 272  : 			break;

  0052e	e9 54 09 00 00	 jmp	 $LN147@NpcTalk
$LN132@NpcTalk:

; 273  : 
; 274  : 		case 245:
; 275  : 			if ( NpcDeviasWizard( lpNpc, lpObj ) == TRUE )

  00533	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00536	50		 push	 eax
  00537	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0053a	51		 push	 ecx
  0053b	e8 00 00 00 00	 call	 ?NpcDeviasWizard@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcDeviasWizard
  00540	83 c4 08	 add	 esp, 8
  00543	83 f8 01	 cmp	 eax, 1
  00546	75 0a		 jne	 SHORT $LN131@NpcTalk

; 276  : 			{
; 277  : 				return TRUE;

  00548	b8 01 00 00 00	 mov	 eax, 1
  0054d	e9 37 09 00 00	 jmp	 $LN175@NpcTalk
$LN131@NpcTalk:

; 278  : 			}
; 279  : 			break;

  00552	e9 30 09 00 00	 jmp	 $LN147@NpcTalk
$LN130@NpcTalk:

; 280  : 
; 281  : 		case 247:
; 282  : 			if ( NpcDeviasGuard( lpNpc, lpObj ) == TRUE )

  00557	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0055a	50		 push	 eax
  0055b	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0055e	51		 push	 ecx
  0055f	e8 00 00 00 00	 call	 ?NpcDeviasGuard@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcDeviasGuard
  00564	83 c4 08	 add	 esp, 8
  00567	83 f8 01	 cmp	 eax, 1
  0056a	75 0a		 jne	 SHORT $LN129@NpcTalk

; 283  : 			{
; 284  : 				return TRUE;

  0056c	b8 01 00 00 00	 mov	 eax, 1
  00571	e9 13 09 00 00	 jmp	 $LN175@NpcTalk
$LN129@NpcTalk:

; 285  : 			}
; 286  : 			break;

  00576	e9 0c 09 00 00	 jmp	 $LN147@NpcTalk
$LN128@NpcTalk:

; 287  : 
; 288  : 		case 240:
; 289  : 			if ( NpcWarehouse( lpNpc, lpObj ) == TRUE )

  0057b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0057e	50		 push	 eax
  0057f	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00582	51		 push	 ecx
  00583	e8 00 00 00 00	 call	 ?NpcWarehouse@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcWarehouse
  00588	83 c4 08	 add	 esp, 8
  0058b	83 f8 01	 cmp	 eax, 1
  0058e	75 0a		 jne	 SHORT $LN127@NpcTalk

; 290  : 			{
; 291  : 				return TRUE;

  00590	b8 01 00 00 00	 mov	 eax, 1
  00595	e9 ef 08 00 00	 jmp	 $LN175@NpcTalk
$LN127@NpcTalk:

; 292  : 			}
; 293  : 			break;

  0059a	e9 e8 08 00 00	 jmp	 $LN147@NpcTalk
$LN126@NpcTalk:

; 294  : 
; 295  : 		case 226:
; 296  : 			if ( NpcDarkSpiritTrainer( lpNpc, lpObj ) == TRUE )

  0059f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  005a2	50		 push	 eax
  005a3	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  005a6	51		 push	 ecx
  005a7	e8 00 00 00 00	 call	 ?NpcDarkSpiritTrainer@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcDarkSpiritTrainer
  005ac	83 c4 08	 add	 esp, 8
  005af	83 f8 01	 cmp	 eax, 1
  005b2	75 0a		 jne	 SHORT $LN125@NpcTalk

; 297  : 			{
; 298  : 				return TRUE;

  005b4	b8 01 00 00 00	 mov	 eax, 1
  005b9	e9 cb 08 00 00	 jmp	 $LN175@NpcTalk
$LN125@NpcTalk:

; 299  : 			}
; 300  : 			break;

  005be	e9 c4 08 00 00	 jmp	 $LN147@NpcTalk
$LN124@NpcTalk:

; 301  : 
; 302  : 		case 242:
; 303  : 			if ( NpcNoriaRara( lpNpc, lpObj ) == TRUE )

  005c3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  005c6	50		 push	 eax
  005c7	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  005ca	51		 push	 ecx
  005cb	e8 00 00 00 00	 call	 ?NpcNoriaRara@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcNoriaRara
  005d0	83 c4 08	 add	 esp, 8
  005d3	83 f8 01	 cmp	 eax, 1
  005d6	75 0a		 jne	 SHORT $LN123@NpcTalk

; 304  : 			{
; 305  : 				return TRUE;

  005d8	b8 01 00 00 00	 mov	 eax, 1
  005dd	e9 a7 08 00 00	 jmp	 $LN175@NpcTalk
$LN123@NpcTalk:

; 306  : 			}
; 307  : 			break;

  005e2	e9 a0 08 00 00	 jmp	 $LN147@NpcTalk
$LN122@NpcTalk:

; 308  : 
; 309  : 		case 244:
; 310  : 			if ( NpcDeviasMadam( lpNpc, lpObj ) == TRUE ) //ok

  005e7	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  005ea	50		 push	 eax
  005eb	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  005ee	51		 push	 ecx
  005ef	e8 00 00 00 00	 call	 ?NpcDeviasMadam@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcDeviasMadam
  005f4	83 c4 08	 add	 esp, 8
  005f7	83 f8 01	 cmp	 eax, 1
  005fa	75 0a		 jne	 SHORT $LN121@NpcTalk

; 311  : 			{
; 312  : 				return TRUE;

  005fc	b8 01 00 00 00	 mov	 eax, 1
  00601	e9 83 08 00 00	 jmp	 $LN175@NpcTalk
$LN121@NpcTalk:

; 313  : 			}
; 314  : 			break;

  00606	e9 7c 08 00 00	 jmp	 $LN147@NpcTalk
$LN120@NpcTalk:

; 315  : 
; 316  : 		case 236:
; 317  : 			if ( NpcEventChipNPC( lpNpc, lpObj ) == TRUE )

  0060b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0060e	50		 push	 eax
  0060f	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00612	51		 push	 ecx
  00613	e8 00 00 00 00	 call	 ?NpcEventChipNPC@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcEventChipNPC
  00618	83 c4 08	 add	 esp, 8
  0061b	83 f8 01	 cmp	 eax, 1
  0061e	75 0a		 jne	 SHORT $LN119@NpcTalk

; 318  : 			{
; 319  : 				return TRUE;

  00620	b8 01 00 00 00	 mov	 eax, 1
  00625	e9 5f 08 00 00	 jmp	 $LN175@NpcTalk
$LN119@NpcTalk:

; 320  : 			}
; 321  : 			break;

  0062a	e9 58 08 00 00	 jmp	 $LN147@NpcTalk
$LN118@NpcTalk:

; 322  : 
; 323  : 		case 234:
; 324  : 			if ( NpcServerDivision( lpNpc, lpObj ) == TRUE )

  0062f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00632	50		 push	 eax
  00633	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00636	51		 push	 ecx
  00637	e8 00 00 00 00	 call	 ?NpcServerDivision@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcServerDivision
  0063c	83 c4 08	 add	 esp, 8
  0063f	83 f8 01	 cmp	 eax, 1
  00642	75 0a		 jne	 SHORT $LN117@NpcTalk

; 325  : 			{
; 326  : 				return TRUE;

  00644	b8 01 00 00 00	 mov	 eax, 1
  00649	e9 3b 08 00 00	 jmp	 $LN175@NpcTalk
$LN117@NpcTalk:

; 327  : 			}
; 328  : 			break;

  0064e	e9 34 08 00 00	 jmp	 $LN147@NpcTalk
$LN116@NpcTalk:

; 329  : 
; 330  : 		case 232:
; 331  : 			if ( NpcAngelKing( lpNpc, lpObj ) == TRUE )

  00653	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00656	50		 push	 eax
  00657	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0065a	51		 push	 ecx
  0065b	e8 00 00 00 00	 call	 ?NpcAngelKing@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcAngelKing
  00660	83 c4 08	 add	 esp, 8
  00663	83 f8 01	 cmp	 eax, 1
  00666	75 0a		 jne	 SHORT $LN115@NpcTalk

; 332  : 			{
; 333  : 				return TRUE;

  00668	b8 01 00 00 00	 mov	 eax, 1
  0066d	e9 17 08 00 00	 jmp	 $LN175@NpcTalk
$LN115@NpcTalk:

; 334  : 			}
; 335  : 			break;

  00672	e9 10 08 00 00	 jmp	 $LN147@NpcTalk
$LN114@NpcTalk:

; 336  : 
; 337  : 		case 233:
; 338  : 			if ( NpcAngelMessanger( lpNpc, lpObj ) == TRUE )

  00677	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0067a	50		 push	 eax
  0067b	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0067e	51		 push	 ecx
  0067f	e8 00 00 00 00	 call	 ?NpcAngelMessanger@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcAngelMessanger
  00684	83 c4 08	 add	 esp, 8
  00687	83 f8 01	 cmp	 eax, 1
  0068a	75 0a		 jne	 SHORT $LN113@NpcTalk

; 339  : 			{
; 340  : 				return TRUE;

  0068c	b8 01 00 00 00	 mov	 eax, 1
  00691	e9 f3 07 00 00	 jmp	 $LN175@NpcTalk
$LN113@NpcTalk:

; 341  : 			}
; 342  : 			break;

  00696	e9 ec 07 00 00	 jmp	 $LN147@NpcTalk
$LN112@NpcTalk:

; 343  : 
; 344  : 		case 255:
; 345  : 			if ( NpcRolensiaMadam( lpNpc, lpObj ) == TRUE )

  0069b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0069e	50		 push	 eax
  0069f	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  006a2	51		 push	 ecx
  006a3	e8 00 00 00 00	 call	 ?NpcRolensiaMadam@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcRolensiaMadam
  006a8	83 c4 08	 add	 esp, 8
  006ab	83 f8 01	 cmp	 eax, 1
  006ae	75 0a		 jne	 SHORT $LN111@NpcTalk

; 346  : 			{
; 347  : 				return TRUE;

  006b0	b8 01 00 00 00	 mov	 eax, 1
  006b5	e9 cf 07 00 00	 jmp	 $LN175@NpcTalk
$LN111@NpcTalk:

; 348  : 			}
; 349  : 			break;

  006ba	e9 c8 07 00 00	 jmp	 $LN147@NpcTalk
$LN110@NpcTalk:

; 350  : 
; 351  : 		case 250:
; 352  : 			if ( NpcRoadMerchant( lpNpc, lpObj ) == TRUE )

  006bf	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  006c2	50		 push	 eax
  006c3	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  006c6	51		 push	 ecx
  006c7	e8 00 00 00 00	 call	 ?NpcRoadMerchant@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcRoadMerchant
  006cc	83 c4 08	 add	 esp, 8
  006cf	83 f8 01	 cmp	 eax, 1
  006d2	75 0a		 jne	 SHORT $LN109@NpcTalk

; 353  : 			{
; 354  : 				return TRUE;

  006d4	b8 01 00 00 00	 mov	 eax, 1
  006d9	e9 ab 07 00 00	 jmp	 $LN175@NpcTalk
$LN109@NpcTalk:

; 355  : 			}
; 356  : 			break;

  006de	e9 a4 07 00 00	 jmp	 $LN147@NpcTalk
$LN108@NpcTalk:

; 357  : 
; 358  : 		case 246:
; 359  : 			if ( NpcDeviasWeapon( lpNpc, lpObj ) == TRUE )

  006e3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  006e6	50		 push	 eax
  006e7	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  006ea	51		 push	 ecx
  006eb	e8 00 00 00 00	 call	 ?NpcDeviasWeapon@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcDeviasWeapon
  006f0	83 c4 08	 add	 esp, 8
  006f3	83 f8 01	 cmp	 eax, 1
  006f6	75 0a		 jne	 SHORT $LN107@NpcTalk

; 360  : 			{
; 361  : 				return TRUE;

  006f8	b8 01 00 00 00	 mov	 eax, 1
  006fd	e9 87 07 00 00	 jmp	 $LN175@NpcTalk
$LN107@NpcTalk:

; 362  : 			}
; 363  : 			break;

  00702	e9 80 07 00 00	 jmp	 $LN147@NpcTalk
$LN106@NpcTalk:

; 364  : 
; 365  : 		case 251:
; 366  : 			if ( NpcRorensiaSmith( lpNpc, lpObj ) == TRUE )

  00707	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0070a	50		 push	 eax
  0070b	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0070e	51		 push	 ecx
  0070f	e8 00 00 00 00	 call	 ?NpcRorensiaSmith@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcRorensiaSmith
  00714	83 c4 08	 add	 esp, 8
  00717	83 f8 01	 cmp	 eax, 1
  0071a	75 0a		 jne	 SHORT $LN105@NpcTalk

; 367  : 			{
; 368  : 				return TRUE;

  0071c	b8 01 00 00 00	 mov	 eax, 1
  00721	e9 63 07 00 00	 jmp	 $LN175@NpcTalk
$LN105@NpcTalk:

; 369  : 			}
; 370  : 			break;

  00726	e9 5c 07 00 00	 jmp	 $LN147@NpcTalk
$LN104@NpcTalk:

; 371  : 
; 372  : 		case 243:
; 373  : 			if ( NpcNoriJangIn( lpNpc, lpObj ) == TRUE )

  0072b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0072e	50		 push	 eax
  0072f	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00732	51		 push	 ecx
  00733	e8 00 00 00 00	 call	 ?NpcNoriJangIn@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcNoriJangIn
  00738	83 c4 08	 add	 esp, 8
  0073b	83 f8 01	 cmp	 eax, 1
  0073e	75 0a		 jne	 SHORT $LN103@NpcTalk

; 374  : 			{
; 375  : 				return TRUE;

  00740	b8 01 00 00 00	 mov	 eax, 1
  00745	e9 3f 07 00 00	 jmp	 $LN175@NpcTalk
$LN103@NpcTalk:

; 376  : 			}
; 377  : 			break;

  0074a	e9 38 07 00 00	 jmp	 $LN147@NpcTalk
$LN102@NpcTalk:

; 378  : 
; 379  : 		case 256:
; 380  : 			if ( NpcJewelMixDealer( lpNpc, lpObj ) == TRUE )

  0074f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00752	50		 push	 eax
  00753	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00756	51		 push	 ecx
  00757	e8 00 00 00 00	 call	 ?NpcJewelMixDealer@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcJewelMixDealer
  0075c	83 c4 08	 add	 esp, 8
  0075f	83 f8 01	 cmp	 eax, 1
  00762	75 0a		 jne	 SHORT $LN101@NpcTalk

; 381  : 			{
; 382  : 				return TRUE;

  00764	b8 01 00 00 00	 mov	 eax, 1
  00769	e9 1b 07 00 00	 jmp	 $LN175@NpcTalk
$LN101@NpcTalk:

; 383  : 			}
; 384  : 			break;

  0076e	e9 14 07 00 00	 jmp	 $LN147@NpcTalk
$LN100@NpcTalk:

; 385  : 
; 386  : 		case 221:
; 387  : 			if ( NpcSiegeMachine_Attack( lpNpc, lpObj ) == TRUE )

  00773	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00776	50		 push	 eax
  00777	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0077a	51		 push	 ecx
  0077b	e8 00 00 00 00	 call	 ?NpcSiegeMachine_Attack@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcSiegeMachine_Attack
  00780	83 c4 08	 add	 esp, 8
  00783	83 f8 01	 cmp	 eax, 1
  00786	75 0a		 jne	 SHORT $LN99@NpcTalk

; 388  : 			{
; 389  : 				return TRUE;

  00788	b8 01 00 00 00	 mov	 eax, 1
  0078d	e9 f7 06 00 00	 jmp	 $LN175@NpcTalk
$LN99@NpcTalk:

; 390  : 			}
; 391  : 			break;

  00792	e9 f0 06 00 00	 jmp	 $LN147@NpcTalk
$LN98@NpcTalk:

; 392  : 
; 393  : 		case 222:
; 394  : 			if ( NpcSiegeMachine_Defense( lpNpc, lpObj ) == TRUE )

  00797	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0079a	50		 push	 eax
  0079b	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0079e	51		 push	 ecx
  0079f	e8 00 00 00 00	 call	 ?NpcSiegeMachine_Defense@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcSiegeMachine_Defense
  007a4	83 c4 08	 add	 esp, 8
  007a7	83 f8 01	 cmp	 eax, 1
  007aa	75 0a		 jne	 SHORT $LN97@NpcTalk

; 395  : 			{
; 396  : 				return TRUE;

  007ac	b8 01 00 00 00	 mov	 eax, 1
  007b1	e9 d3 06 00 00	 jmp	 $LN175@NpcTalk
$LN97@NpcTalk:

; 397  : 			}
; 398  : 			break;

  007b6	e9 cc 06 00 00	 jmp	 $LN147@NpcTalk
$LN96@NpcTalk:

; 399  : 
; 400  : 		case 223:
; 401  : 			if ( NpcElderCircle( lpNpc, lpObj ) == TRUE )

  007bb	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  007be	50		 push	 eax
  007bf	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  007c2	51		 push	 ecx
  007c3	e8 00 00 00 00	 call	 ?NpcElderCircle@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcElderCircle
  007c8	83 c4 08	 add	 esp, 8
  007cb	83 f8 01	 cmp	 eax, 1
  007ce	75 0a		 jne	 SHORT $LN95@NpcTalk

; 402  : 			{
; 403  : 				return TRUE;

  007d0	b8 01 00 00 00	 mov	 eax, 1
  007d5	e9 af 06 00 00	 jmp	 $LN175@NpcTalk
$LN95@NpcTalk:

; 404  : 			}
; 405  : 			break;

  007da	e9 a8 06 00 00	 jmp	 $LN147@NpcTalk
$LN94@NpcTalk:

; 406  : 
; 407  : 		case 224:
; 408  : 			if ( NpcCastleGuard( lpNpc, lpObj ) == TRUE )

  007df	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  007e2	50		 push	 eax
  007e3	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  007e6	51		 push	 ecx
  007e7	e8 00 00 00 00	 call	 ?NpcCastleGuard@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcCastleGuard
  007ec	83 c4 08	 add	 esp, 8
  007ef	83 f8 01	 cmp	 eax, 1
  007f2	75 0a		 jne	 SHORT $LN93@NpcTalk

; 409  : 			{
; 410  : 				return TRUE;

  007f4	b8 01 00 00 00	 mov	 eax, 1
  007f9	e9 8b 06 00 00	 jmp	 $LN175@NpcTalk
$LN93@NpcTalk:

; 411  : 			}
; 412  : 			break;

  007fe	e9 84 06 00 00	 jmp	 $LN147@NpcTalk
$LN92@NpcTalk:

; 413  : 
; 414  : 		case 219:
; 415  : 			if ( NpcCastleGateLever( lpNpc, lpObj ) == TRUE )

  00803	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00806	50		 push	 eax
  00807	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0080a	51		 push	 ecx
  0080b	e8 00 00 00 00	 call	 ?NpcCastleGateLever@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcCastleGateLever
  00810	83 c4 08	 add	 esp, 8
  00813	83 f8 01	 cmp	 eax, 1
  00816	75 0a		 jne	 SHORT $LN91@NpcTalk

; 416  : 			{
; 417  : 				return TRUE;

  00818	b8 01 00 00 00	 mov	 eax, 1
  0081d	e9 67 06 00 00	 jmp	 $LN175@NpcTalk
$LN91@NpcTalk:

; 418  : 			}
; 419  : 			break;

  00822	e9 60 06 00 00	 jmp	 $LN147@NpcTalk
$LN90@NpcTalk:

; 420  : 
; 421  : 		case 216:
; 422  : 			if ( NpcCastleCrown( lpNpc, lpObj ) == TRUE )

  00827	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0082a	50		 push	 eax
  0082b	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0082e	51		 push	 ecx
  0082f	e8 00 00 00 00	 call	 ?NpcCastleCrown@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcCastleCrown
  00834	83 c4 08	 add	 esp, 8
  00837	83 f8 01	 cmp	 eax, 1
  0083a	75 0a		 jne	 SHORT $LN89@NpcTalk

; 423  : 			{
; 424  : 				return TRUE;

  0083c	b8 01 00 00 00	 mov	 eax, 1
  00841	e9 43 06 00 00	 jmp	 $LN175@NpcTalk
$LN89@NpcTalk:

; 425  : 			}
; 426  : 			break;

  00846	e9 3c 06 00 00	 jmp	 $LN147@NpcTalk
$LN88@NpcTalk:

; 427  : 
; 428  : 		case 217:
; 429  : 		case 218:
; 430  : 			if ( NpcCastleSwitch( lpNpc, lpObj ) == TRUE )

  0084b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0084e	50		 push	 eax
  0084f	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00852	51		 push	 ecx
  00853	e8 00 00 00 00	 call	 ?NpcCastleSwitch@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcCastleSwitch
  00858	83 c4 08	 add	 esp, 8
  0085b	83 f8 01	 cmp	 eax, 1
  0085e	75 0a		 jne	 SHORT $LN87@NpcTalk

; 431  : 			{
; 432  : 				return TRUE;

  00860	b8 01 00 00 00	 mov	 eax, 1
  00865	e9 1f 06 00 00	 jmp	 $LN175@NpcTalk
$LN87@NpcTalk:

; 433  : 			}
; 434  : 			break;

  0086a	e9 18 06 00 00	 jmp	 $LN147@NpcTalk
$LN86@NpcTalk:

; 435  : //#if(GS_CASTLE==1)
; 436  : 		case 220:
; 437  : 			if( NpcCastleHuntZoneGuard(lpNpc,lpObj) == TRUE)

  0086f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00872	50		 push	 eax
  00873	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00876	51		 push	 ecx
  00877	e8 00 00 00 00	 call	 ?NpcCastleHuntZoneGuard@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcCastleHuntZoneGuard
  0087c	83 c4 08	 add	 esp, 8
  0087f	83 f8 01	 cmp	 eax, 1
  00882	75 0a		 jne	 SHORT $LN85@NpcTalk

; 438  : 			{
; 439  : 				return TRUE;

  00884	b8 01 00 00 00	 mov	 eax, 1
  00889	e9 fb 05 00 00	 jmp	 $LN175@NpcTalk
$LN85@NpcTalk:

; 440  : 			}
; 441  : 			break;

  0088e	e9 f4 05 00 00	 jmp	 $LN147@NpcTalk
$LN84@NpcTalk:

; 442  : //#endif
; 443  : 		case 257:
; 444  : 			if ( NpcShadowPhantom( lpNpc, lpObj ) == TRUE )

  00893	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00896	50		 push	 eax
  00897	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0089a	51		 push	 ecx
  0089b	e8 00 00 00 00	 call	 ?NpcShadowPhantom@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcShadowPhantom
  008a0	83 c4 08	 add	 esp, 8
  008a3	83 f8 01	 cmp	 eax, 1
  008a6	75 0a		 jne	 SHORT $LN83@NpcTalk

; 445  : 			{
; 446  : 				return TRUE;

  008a8	b8 01 00 00 00	 mov	 eax, 1
  008ad	e9 d7 05 00 00	 jmp	 $LN175@NpcTalk
$LN83@NpcTalk:

; 447  : 			}
; 448  : 			break;

  008b2	e9 d0 05 00 00	 jmp	 $LN147@NpcTalk
$LN82@NpcTalk:

; 449  : //#if(GS_CASTLE==1)
; 450  : 		case 205:
; 451  : 			if ( NpcCrywolfAltar( lpNpc, lpObj ) == TRUE ) //ok

  008b7	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008ba	50		 push	 eax
  008bb	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  008be	51		 push	 ecx
  008bf	e8 00 00 00 00	 call	 ?NpcCrywolfAltar@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcCrywolfAltar
  008c4	83 c4 08	 add	 esp, 8
  008c7	83 f8 01	 cmp	 eax, 1
  008ca	75 0a		 jne	 SHORT $LN81@NpcTalk

; 452  : 			{
; 453  : 				return TRUE;

  008cc	b8 01 00 00 00	 mov	 eax, 1
  008d1	e9 b3 05 00 00	 jmp	 $LN175@NpcTalk
$LN81@NpcTalk:

; 454  : 			}
; 455  : 			break;

  008d6	e9 ac 05 00 00	 jmp	 $LN147@NpcTalk
$LN80@NpcTalk:

; 456  : 		case 206:
; 457  : 			if ( NpcCrywolfAltar( lpNpc, lpObj ) == TRUE ) //ok

  008db	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008de	50		 push	 eax
  008df	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  008e2	51		 push	 ecx
  008e3	e8 00 00 00 00	 call	 ?NpcCrywolfAltar@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcCrywolfAltar
  008e8	83 c4 08	 add	 esp, 8
  008eb	83 f8 01	 cmp	 eax, 1
  008ee	75 0a		 jne	 SHORT $LN79@NpcTalk

; 458  : 			{
; 459  : 				return TRUE;

  008f0	b8 01 00 00 00	 mov	 eax, 1
  008f5	e9 8f 05 00 00	 jmp	 $LN175@NpcTalk
$LN79@NpcTalk:

; 460  : 			}
; 461  : 			break;

  008fa	e9 88 05 00 00	 jmp	 $LN147@NpcTalk
$LN78@NpcTalk:

; 462  : 		case 207:
; 463  : 			if ( NpcCrywolfAltar( lpNpc, lpObj ) == TRUE ) //ok

  008ff	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00902	50		 push	 eax
  00903	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00906	51		 push	 ecx
  00907	e8 00 00 00 00	 call	 ?NpcCrywolfAltar@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcCrywolfAltar
  0090c	83 c4 08	 add	 esp, 8
  0090f	83 f8 01	 cmp	 eax, 1
  00912	75 0a		 jne	 SHORT $LN77@NpcTalk

; 464  : 			{
; 465  : 				return TRUE;

  00914	b8 01 00 00 00	 mov	 eax, 1
  00919	e9 6b 05 00 00	 jmp	 $LN175@NpcTalk
$LN77@NpcTalk:

; 466  : 			}
; 467  : 			break;

  0091e	e9 64 05 00 00	 jmp	 $LN147@NpcTalk
$LN76@NpcTalk:

; 468  : 		case 208:
; 469  : 			if ( NpcCrywolfAltar( lpNpc, lpObj ) == TRUE ) //ok

  00923	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00926	50		 push	 eax
  00927	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0092a	51		 push	 ecx
  0092b	e8 00 00 00 00	 call	 ?NpcCrywolfAltar@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcCrywolfAltar
  00930	83 c4 08	 add	 esp, 8
  00933	83 f8 01	 cmp	 eax, 1
  00936	75 0a		 jne	 SHORT $LN75@NpcTalk

; 470  : 			{
; 471  : 				return TRUE;

  00938	b8 01 00 00 00	 mov	 eax, 1
  0093d	e9 47 05 00 00	 jmp	 $LN175@NpcTalk
$LN75@NpcTalk:

; 472  : 			}
; 473  : 			break;

  00942	e9 40 05 00 00	 jmp	 $LN147@NpcTalk
$LN74@NpcTalk:

; 474  : 		case 209:
; 475  : 			if ( NpcCrywolfAltar( lpNpc, lpObj ) == TRUE ) //ok

  00947	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0094a	50		 push	 eax
  0094b	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0094e	51		 push	 ecx
  0094f	e8 00 00 00 00	 call	 ?NpcCrywolfAltar@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcCrywolfAltar
  00954	83 c4 08	 add	 esp, 8
  00957	83 f8 01	 cmp	 eax, 1
  0095a	75 0a		 jne	 SHORT $LN73@NpcTalk

; 476  : 			{
; 477  : 				return TRUE;

  0095c	b8 01 00 00 00	 mov	 eax, 1
  00961	e9 23 05 00 00	 jmp	 $LN175@NpcTalk
$LN73@NpcTalk:

; 478  : 			}
; 479  : 			break;

  00966	e9 1c 05 00 00	 jmp	 $LN147@NpcTalk
$LN72@NpcTalk:

; 480  : //#endif
; 481  : 		case 259:
; 482  : 			if ( NpcReira ( lpNpc, lpObj ) == TRUE )

  0096b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0096e	50		 push	 eax
  0096f	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00972	51		 push	 ecx
  00973	e8 00 00 00 00	 call	 ?NpcReira@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcReira
  00978	83 c4 08	 add	 esp, 8
  0097b	83 f8 01	 cmp	 eax, 1
  0097e	75 0a		 jne	 SHORT $LN71@NpcTalk

; 483  : 			{
; 484  : 				return TRUE;

  00980	b8 01 00 00 00	 mov	 eax, 1
  00985	e9 ff 04 00 00	 jmp	 $LN175@NpcTalk
$LN71@NpcTalk:

; 485  : 			}
; 486  : 			break;

  0098a	e9 f8 04 00 00	 jmp	 $LN147@NpcTalk
$LN70@NpcTalk:

; 487  : 
; 488  : 		case 368:
; 489  : 		case 369:
; 490  : 		case 370:
; 491  : 			if ( g_kJewelOfHarmonySystem.NpcJewelOfHarmony( lpNpc, lpObj ) == TRUE )

  0098f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00992	50		 push	 eax
  00993	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00996	51		 push	 ecx
  00997	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_kJewelOfHarmonySystem@@3VCJewelOfHarmonySystem@@A ; g_kJewelOfHarmonySystem
  0099c	e8 00 00 00 00	 call	 ?NpcJewelOfHarmony@CJewelOfHarmonySystem@@QAEHPAUOBJECTSTRUCT@@0@Z ; CJewelOfHarmonySystem::NpcJewelOfHarmony
  009a1	83 f8 01	 cmp	 eax, 1
  009a4	75 0a		 jne	 SHORT $LN69@NpcTalk

; 492  : 
; 493  : 			{
; 494  : 				return TRUE;

  009a6	b8 01 00 00 00	 mov	 eax, 1
  009ab	e9 d9 04 00 00	 jmp	 $LN175@NpcTalk
$LN69@NpcTalk:

; 495  : 			}
; 496  : 			break;

  009b0	e9 d2 04 00 00	 jmp	 $LN147@NpcTalk
$LN68@NpcTalk:

; 497  : 		case 375:
; 498  : 			if ( NpcChaosCardMaster( lpNpc, lpObj ) == TRUE )

  009b5	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  009b8	50		 push	 eax
  009b9	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  009bc	51		 push	 ecx
  009bd	e8 00 00 00 00	 call	 ?NpcChaosCardMaster@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcChaosCardMaster
  009c2	83 c4 08	 add	 esp, 8
  009c5	83 f8 01	 cmp	 eax, 1
  009c8	75 0a		 jne	 SHORT $LN67@NpcTalk

; 499  : 			{
; 500  : 				return TRUE;

  009ca	b8 01 00 00 00	 mov	 eax, 1
  009cf	e9 b5 04 00 00	 jmp	 $LN175@NpcTalk
$LN67@NpcTalk:

; 501  : 			}
; 502  : 			break;

  009d4	e9 ae 04 00 00	 jmp	 $LN147@NpcTalk
$LN66@NpcTalk:

; 503  : //#if(GS_CASTLE==0)
; 504  : 		case 367:
; 505  : 			if ( NpcMainatenceMachine ( lpNpc, lpObj ) == TRUE )

  009d9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  009dc	50		 push	 eax
  009dd	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  009e0	51		 push	 ecx
  009e1	e8 00 00 00 00	 call	 ?NpcMainatenceMachine@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcMainatenceMachine
  009e6	83 c4 08	 add	 esp, 8
  009e9	83 f8 01	 cmp	 eax, 1
  009ec	75 0a		 jne	 SHORT $LN65@NpcTalk

; 506  : 			{
; 507  : 				return TRUE;

  009ee	b8 01 00 00 00	 mov	 eax, 1
  009f3	e9 91 04 00 00	 jmp	 $LN175@NpcTalk
$LN65@NpcTalk:

; 508  : 			}
; 509  : 			break;

  009f8	e9 8a 04 00 00	 jmp	 $LN147@NpcTalk
$LN64@NpcTalk:

; 510  : //#endif
; 511  : 		case 376:
; 512  : 			if ( NpcPamelaSupplier( lpNpc, lpObj ) == TRUE ) //376 1 "Pamela the Supplier"

  009fd	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00a00	50		 push	 eax
  00a01	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00a04	51		 push	 ecx
  00a05	e8 00 00 00 00	 call	 ?NpcPamelaSupplier@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcPamelaSupplier
  00a0a	83 c4 08	 add	 esp, 8
  00a0d	83 f8 01	 cmp	 eax, 1
  00a10	75 0a		 jne	 SHORT $LN63@NpcTalk

; 513  : 			{
; 514  : 				return TRUE;

  00a12	b8 01 00 00 00	 mov	 eax, 1
  00a17	e9 6d 04 00 00	 jmp	 $LN175@NpcTalk
$LN63@NpcTalk:

; 515  : 			}
; 516  : 			break;

  00a1c	e9 66 04 00 00	 jmp	 $LN147@NpcTalk
$LN62@NpcTalk:

; 517  : 		case 377:
; 518  : 			if ( NpcAngelaSupplier( lpNpc, lpObj ) == TRUE ) //377 1 "Angela the Supplier"

  00a21	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00a24	50		 push	 eax
  00a25	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00a28	51		 push	 ecx
  00a29	e8 00 00 00 00	 call	 ?NpcAngelaSupplier@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcAngelaSupplier
  00a2e	83 c4 08	 add	 esp, 8
  00a31	83 f8 01	 cmp	 eax, 1
  00a34	75 0a		 jne	 SHORT $LN61@NpcTalk

; 519  : 			{
; 520  : 				return TRUE;

  00a36	b8 01 00 00 00	 mov	 eax, 1
  00a3b	e9 49 04 00 00	 jmp	 $LN175@NpcTalk
$LN61@NpcTalk:

; 521  : 			}
; 522  : 			break;

  00a40	e9 42 04 00 00	 jmp	 $LN147@NpcTalk
$LN60@NpcTalk:

; 523  : 		case 379:
; 524  : 			if ( NpcFirecrackerMerchant( lpNpc, lpObj ) == TRUE ) //379 1 "Natasha the Firecracker Merchant"

  00a45	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00a48	50		 push	 eax
  00a49	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00a4c	51		 push	 ecx
  00a4d	e8 00 00 00 00	 call	 ?NpcFirecrackerMerchant@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcFirecrackerMerchant
  00a52	83 c4 08	 add	 esp, 8
  00a55	83 f8 01	 cmp	 eax, 1
  00a58	75 0a		 jne	 SHORT $LN59@NpcTalk

; 525  : 			{
; 526  : 				return TRUE;

  00a5a	b8 01 00 00 00	 mov	 eax, 1
  00a5f	e9 25 04 00 00	 jmp	 $LN175@NpcTalk
$LN59@NpcTalk:

; 527  : 			}
; 528  : 			break;

  00a64	e9 1e 04 00 00	 jmp	 $LN147@NpcTalk
$LN58@NpcTalk:

; 529  : 		case 385:
; 530  : 			if ( NpcIllusionMirage( lpNpc, lpObj ) == TRUE )

  00a69	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00a6c	50		 push	 eax
  00a6d	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00a70	51		 push	 ecx
  00a71	e8 00 00 00 00	 call	 ?NpcIllusionMirage@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcIllusionMirage
  00a76	83 c4 08	 add	 esp, 8
  00a79	83 f8 01	 cmp	 eax, 1
  00a7c	75 0a		 jne	 SHORT $LN57@NpcTalk

; 531  : 			{
; 532  : 				return TRUE;

  00a7e	b8 01 00 00 00	 mov	 eax, 1
  00a83	e9 01 04 00 00	 jmp	 $LN175@NpcTalk
$LN57@NpcTalk:

; 533  : 			}
; 534  : 			break;

  00a88	e9 fa 03 00 00	 jmp	 $LN147@NpcTalk
$LN56@NpcTalk:

; 535  : 		case 380:
; 536  : 			if ( NpcIllusionStatue( lpNpc, lpObj ) == TRUE )

  00a8d	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00a90	50		 push	 eax
  00a91	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00a94	51		 push	 ecx
  00a95	e8 00 00 00 00	 call	 ?NpcIllusionStatue@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcIllusionStatue
  00a9a	83 c4 08	 add	 esp, 8
  00a9d	83 f8 01	 cmp	 eax, 1
  00aa0	75 0a		 jne	 SHORT $LN55@NpcTalk

; 537  : 			{
; 538  : 				return TRUE;

  00aa2	b8 01 00 00 00	 mov	 eax, 1
  00aa7	e9 dd 03 00 00	 jmp	 $LN175@NpcTalk
$LN55@NpcTalk:

; 539  : 			}
; 540  : 			break;

  00aac	e9 d6 03 00 00	 jmp	 $LN147@NpcTalk
$LN54@NpcTalk:

; 541  : 		case 383:
; 542  : 			if ( NpcIllusionYellowPedestal( lpNpc, lpObj ) == TRUE )

  00ab1	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00ab4	50		 push	 eax
  00ab5	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00ab8	51		 push	 ecx
  00ab9	e8 00 00 00 00	 call	 ?NpcIllusionYellowPedestal@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcIllusionYellowPedestal
  00abe	83 c4 08	 add	 esp, 8
  00ac1	83 f8 01	 cmp	 eax, 1
  00ac4	75 0a		 jne	 SHORT $LN53@NpcTalk

; 543  : 			{
; 544  : 				return TRUE;

  00ac6	b8 01 00 00 00	 mov	 eax, 1
  00acb	e9 b9 03 00 00	 jmp	 $LN175@NpcTalk
$LN53@NpcTalk:

; 545  : 			}
; 546  : 			break;

  00ad0	e9 b2 03 00 00	 jmp	 $LN147@NpcTalk
$LN52@NpcTalk:

; 547  : 		case 384:
; 548  : 			if ( NpcIllusionBluePedestal( lpNpc, lpObj ) == TRUE )

  00ad5	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00ad8	50		 push	 eax
  00ad9	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00adc	51		 push	 ecx
  00add	e8 00 00 00 00	 call	 ?NpcIllusionBluePedestal@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcIllusionBluePedestal
  00ae2	83 c4 08	 add	 esp, 8
  00ae5	83 f8 01	 cmp	 eax, 1
  00ae8	75 0a		 jne	 SHORT $LN51@NpcTalk

; 549  : 			{
; 550  : 				return TRUE;

  00aea	b8 01 00 00 00	 mov	 eax, 1
  00aef	e9 95 03 00 00	 jmp	 $LN175@NpcTalk
$LN51@NpcTalk:

; 551  : 			}
; 552  : 			break;

  00af4	e9 8e 03 00 00	 jmp	 $LN147@NpcTalk
$LN50@NpcTalk:

; 553  : 		case 415:
; 554  : 			if ( NpcSilviaSupplier( lpNpc, lpObj ) == TRUE )

  00af9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00afc	50		 push	 eax
  00afd	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00b00	51		 push	 ecx
  00b01	e8 00 00 00 00	 call	 ?NpcSilviaSupplier@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcSilviaSupplier
  00b06	83 c4 08	 add	 esp, 8
  00b09	83 f8 01	 cmp	 eax, 1
  00b0c	75 0a		 jne	 SHORT $LN49@NpcTalk

; 555  : 			{
; 556  : 				return TRUE;

  00b0e	b8 01 00 00 00	 mov	 eax, 1
  00b13	e9 71 03 00 00	 jmp	 $LN175@NpcTalk
$LN49@NpcTalk:

; 557  : 			}
; 558  : 			break;

  00b18	e9 6a 03 00 00	 jmp	 $LN147@NpcTalk
$LN48@NpcTalk:

; 559  : 		case 416:
; 560  : 			if ( NpcRheaMerchant( lpNpc, lpObj ) == TRUE )

  00b1d	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00b20	50		 push	 eax
  00b21	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00b24	51		 push	 ecx
  00b25	e8 00 00 00 00	 call	 ?NpcRheaMerchant@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcRheaMerchant
  00b2a	83 c4 08	 add	 esp, 8
  00b2d	83 f8 01	 cmp	 eax, 1
  00b30	75 0a		 jne	 SHORT $LN47@NpcTalk

; 561  : 			{
; 562  : 				return TRUE;

  00b32	b8 01 00 00 00	 mov	 eax, 1
  00b37	e9 4d 03 00 00	 jmp	 $LN175@NpcTalk
$LN47@NpcTalk:

; 563  : 			}
; 564  : 			break;

  00b3c	e9 46 03 00 00	 jmp	 $LN147@NpcTalk
$LN46@NpcTalk:

; 565  : 		case 417:
; 566  : 			if ( NpcMarceWizard( lpNpc, lpObj ) == TRUE )

  00b41	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00b44	50		 push	 eax
  00b45	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00b48	51		 push	 ecx
  00b49	e8 00 00 00 00	 call	 ?NpcMarceWizard@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcMarceWizard
  00b4e	83 c4 08	 add	 esp, 8
  00b51	83 f8 01	 cmp	 eax, 1
  00b54	75 0a		 jne	 SHORT $LN45@NpcTalk

; 567  : 			{
; 568  : 				return TRUE;

  00b56	b8 01 00 00 00	 mov	 eax, 1
  00b5b	e9 29 03 00 00	 jmp	 $LN175@NpcTalk
$LN45@NpcTalk:

; 569  : 			}
; 570  : 			break;

  00b60	e9 22 03 00 00	 jmp	 $LN147@NpcTalk
$LN44@NpcTalk:

; 571  : 		case 450:
; 572  : 			if ( NpcCherryBlossomSpirit( lpNpc, lpObj ) == TRUE )

  00b65	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00b68	50		 push	 eax
  00b69	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00b6c	51		 push	 ecx
  00b6d	e8 00 00 00 00	 call	 ?NpcCherryBlossomSpirit@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcCherryBlossomSpirit
  00b72	83 c4 08	 add	 esp, 8
  00b75	83 f8 01	 cmp	 eax, 1
  00b78	75 0a		 jne	 SHORT $LN43@NpcTalk

; 573  : 			{
; 574  : 				return TRUE;

  00b7a	b8 01 00 00 00	 mov	 eax, 1
  00b7f	e9 05 03 00 00	 jmp	 $LN175@NpcTalk
$LN43@NpcTalk:

; 575  : 			}
; 576  : 			break;

  00b84	e9 fe 02 00 00	 jmp	 $LN147@NpcTalk
$LN42@NpcTalk:

; 577  : 		case 452:
; 578  : 			if ( NpcSeedMaster( lpNpc, lpObj ) == TRUE )

  00b89	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00b8c	50		 push	 eax
  00b8d	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00b90	51		 push	 ecx
  00b91	e8 00 00 00 00	 call	 ?NpcSeedMaster@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcSeedMaster
  00b96	83 c4 08	 add	 esp, 8
  00b99	83 f8 01	 cmp	 eax, 1
  00b9c	75 0a		 jne	 SHORT $LN41@NpcTalk

; 579  : 			{
; 580  : 				return TRUE;

  00b9e	b8 01 00 00 00	 mov	 eax, 1
  00ba3	e9 e1 02 00 00	 jmp	 $LN175@NpcTalk
$LN41@NpcTalk:

; 581  : 			}
; 582  : 			break;

  00ba8	e9 da 02 00 00	 jmp	 $LN147@NpcTalk
$LN40@NpcTalk:

; 583  : 		case 453:
; 584  : 			if ( NpcSeedResearcher( lpNpc, lpObj ) == TRUE )

  00bad	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00bb0	50		 push	 eax
  00bb1	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00bb4	51		 push	 ecx
  00bb5	e8 00 00 00 00	 call	 ?NpcSeedResearcher@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcSeedResearcher
  00bba	83 c4 08	 add	 esp, 8
  00bbd	83 f8 01	 cmp	 eax, 1
  00bc0	75 0a		 jne	 SHORT $LN39@NpcTalk

; 585  : 			{
; 586  : 				return TRUE;

  00bc2	b8 01 00 00 00	 mov	 eax, 1
  00bc7	e9 bd 02 00 00	 jmp	 $LN175@NpcTalk
$LN39@NpcTalk:

; 587  : 			}
; 588  : 			break;

  00bcc	e9 b6 02 00 00	 jmp	 $LN147@NpcTalk
$LN38@NpcTalk:

; 589  : 		case 478:
; 590  : 			if ( NpcLuckyCoinExchanger( lpNpc, lpObj ) == TRUE )

  00bd1	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00bd4	50		 push	 eax
  00bd5	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00bd8	51		 push	 ecx
  00bd9	e8 00 00 00 00	 call	 ?NpcLuckyCoinExchanger@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcLuckyCoinExchanger
  00bde	83 c4 08	 add	 esp, 8
  00be1	83 f8 01	 cmp	 eax, 1
  00be4	75 0a		 jne	 SHORT $LN37@NpcTalk

; 591  : 			{
; 592  : 				return TRUE;

  00be6	b8 01 00 00 00	 mov	 eax, 1
  00beb	e9 99 02 00 00	 jmp	 $LN175@NpcTalk
$LN37@NpcTalk:

; 593  : 			}
; 594  : 			break;

  00bf0	e9 92 02 00 00	 jmp	 $LN147@NpcTalk
$LN36@NpcTalk:

; 595  : 		case 465:
; 596  : 			if ( NpcXMasSantaClaus( lpNpc, lpObj ) == TRUE )

  00bf5	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00bf8	50		 push	 eax
  00bf9	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00bfc	51		 push	 ecx
  00bfd	e8 00 00 00 00	 call	 ?NpcXMasSantaClaus@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcXMasSantaClaus
  00c02	83 c4 08	 add	 esp, 8
  00c05	83 f8 01	 cmp	 eax, 1
  00c08	75 0a		 jne	 SHORT $LN35@NpcTalk

; 597  : 			{
; 598  : 				return TRUE;

  00c0a	b8 01 00 00 00	 mov	 eax, 1
  00c0f	e9 75 02 00 00	 jmp	 $LN175@NpcTalk
$LN35@NpcTalk:

; 599  : 			}
; 600  : 			break;

  00c14	e9 6e 02 00 00	 jmp	 $LN147@NpcTalk
$LN34@NpcTalk:

; 601  : 		case 467:
; 602  : 			if ( NpcSnowMan( lpNpc, lpObj ) == TRUE )

  00c19	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00c1c	50		 push	 eax
  00c1d	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00c20	51		 push	 ecx
  00c21	e8 00 00 00 00	 call	 ?NpcSnowMan@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcSnowMan
  00c26	83 c4 08	 add	 esp, 8
  00c29	83 f8 01	 cmp	 eax, 1
  00c2c	75 0a		 jne	 SHORT $LN33@NpcTalk

; 603  : 			{
; 604  : 				return TRUE;

  00c2e	b8 01 00 00 00	 mov	 eax, 1
  00c33	e9 51 02 00 00	 jmp	 $LN175@NpcTalk
$LN33@NpcTalk:

; 605  : 			}
; 606  : 			break;

  00c38	e9 4a 02 00 00	 jmp	 $LN147@NpcTalk
$LN32@NpcTalk:

; 607  : 		case 468:
; 608  : 			if ( NpcLittleSantaBuffer( lpNpc, lpObj, 94 ) == TRUE )

  00c3d	6a 5e		 push	 94			; 0000005eH
  00c3f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00c42	50		 push	 eax
  00c43	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00c46	51		 push	 ecx
  00c47	e8 00 00 00 00	 call	 ?NpcLittleSantaBuffer@@YAHPAUOBJECTSTRUCT@@0H@Z ; NpcLittleSantaBuffer
  00c4c	83 c4 0c	 add	 esp, 12			; 0000000cH
  00c4f	83 f8 01	 cmp	 eax, 1
  00c52	75 0a		 jne	 SHORT $LN31@NpcTalk

; 609  : 			{
; 610  : 				return TRUE;

  00c54	b8 01 00 00 00	 mov	 eax, 1
  00c59	e9 2b 02 00 00	 jmp	 $LN175@NpcTalk
$LN31@NpcTalk:

; 611  : 			}
; 612  : 			break;

  00c5e	e9 24 02 00 00	 jmp	 $LN147@NpcTalk
$LN30@NpcTalk:

; 613  : 		case 469:
; 614  : 			if ( NpcLittleSantaBuffer( lpNpc, lpObj , 95) == TRUE )

  00c63	6a 5f		 push	 95			; 0000005fH
  00c65	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00c68	50		 push	 eax
  00c69	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00c6c	51		 push	 ecx
  00c6d	e8 00 00 00 00	 call	 ?NpcLittleSantaBuffer@@YAHPAUOBJECTSTRUCT@@0H@Z ; NpcLittleSantaBuffer
  00c72	83 c4 0c	 add	 esp, 12			; 0000000cH
  00c75	83 f8 01	 cmp	 eax, 1
  00c78	75 0a		 jne	 SHORT $LN29@NpcTalk

; 615  : 			{
; 616  : 				return TRUE;

  00c7a	b8 01 00 00 00	 mov	 eax, 1
  00c7f	e9 05 02 00 00	 jmp	 $LN175@NpcTalk
$LN29@NpcTalk:

; 617  : 			}
; 618  : 			break;

  00c84	e9 fe 01 00 00	 jmp	 $LN147@NpcTalk
$LN28@NpcTalk:

; 619  : 		case 470:
; 620  : 			if ( NpcLittleSantaBuffer( lpNpc, lpObj, 0 ) == TRUE )

  00c89	6a 00		 push	 0
  00c8b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00c8e	50		 push	 eax
  00c8f	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00c92	51		 push	 ecx
  00c93	e8 00 00 00 00	 call	 ?NpcLittleSantaBuffer@@YAHPAUOBJECTSTRUCT@@0H@Z ; NpcLittleSantaBuffer
  00c98	83 c4 0c	 add	 esp, 12			; 0000000cH
  00c9b	83 f8 01	 cmp	 eax, 1
  00c9e	75 0a		 jne	 SHORT $LN27@NpcTalk

; 621  : 			{
; 622  : 				return TRUE;

  00ca0	b8 01 00 00 00	 mov	 eax, 1
  00ca5	e9 df 01 00 00	 jmp	 $LN175@NpcTalk
$LN27@NpcTalk:

; 623  : 			}
; 624  : 			break;

  00caa	e9 d8 01 00 00	 jmp	 $LN147@NpcTalk
$LN26@NpcTalk:

; 625  : 		case 471:
; 626  : 			if ( NpcLittleSantaBuffer( lpNpc, lpObj, 1 ) == TRUE )

  00caf	6a 01		 push	 1
  00cb1	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00cb4	50		 push	 eax
  00cb5	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00cb8	51		 push	 ecx
  00cb9	e8 00 00 00 00	 call	 ?NpcLittleSantaBuffer@@YAHPAUOBJECTSTRUCT@@0H@Z ; NpcLittleSantaBuffer
  00cbe	83 c4 0c	 add	 esp, 12			; 0000000cH
  00cc1	83 f8 01	 cmp	 eax, 1
  00cc4	75 0a		 jne	 SHORT $LN25@NpcTalk

; 627  : 			{
; 628  : 				return TRUE;

  00cc6	b8 01 00 00 00	 mov	 eax, 1
  00ccb	e9 b9 01 00 00	 jmp	 $LN175@NpcTalk
$LN25@NpcTalk:

; 629  : 			}
; 630  : 			break;

  00cd0	e9 b2 01 00 00	 jmp	 $LN147@NpcTalk
$LN24@NpcTalk:

; 631  : 		case 472:
; 632  : 			if ( NpcLittleSantaBuffer( lpNpc, lpObj, 92 ) == TRUE )

  00cd5	6a 5c		 push	 92			; 0000005cH
  00cd7	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00cda	50		 push	 eax
  00cdb	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00cde	51		 push	 ecx
  00cdf	e8 00 00 00 00	 call	 ?NpcLittleSantaBuffer@@YAHPAUOBJECTSTRUCT@@0H@Z ; NpcLittleSantaBuffer
  00ce4	83 c4 0c	 add	 esp, 12			; 0000000cH
  00ce7	83 f8 01	 cmp	 eax, 1
  00cea	75 0a		 jne	 SHORT $LN23@NpcTalk

; 633  : 			{
; 634  : 				return TRUE;

  00cec	b8 01 00 00 00	 mov	 eax, 1
  00cf1	e9 93 01 00 00	 jmp	 $LN175@NpcTalk
$LN23@NpcTalk:

; 635  : 			}
; 636  : 			break;

  00cf6	e9 8c 01 00 00	 jmp	 $LN147@NpcTalk
$LN22@NpcTalk:

; 637  : 		case 473:
; 638  : 			if ( NpcLittleSantaBuffer( lpNpc, lpObj, 93 ) == TRUE )

  00cfb	6a 5d		 push	 93			; 0000005dH
  00cfd	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d00	50		 push	 eax
  00d01	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00d04	51		 push	 ecx
  00d05	e8 00 00 00 00	 call	 ?NpcLittleSantaBuffer@@YAHPAUOBJECTSTRUCT@@0H@Z ; NpcLittleSantaBuffer
  00d0a	83 c4 0c	 add	 esp, 12			; 0000000cH
  00d0d	83 f8 01	 cmp	 eax, 1
  00d10	75 0a		 jne	 SHORT $LN21@NpcTalk

; 639  : 			{
; 640  : 				return TRUE;

  00d12	b8 01 00 00 00	 mov	 eax, 1
  00d17	e9 6d 01 00 00	 jmp	 $LN175@NpcTalk
$LN21@NpcTalk:

; 641  : 			}
; 642  : 			break;

  00d1c	e9 66 01 00 00	 jmp	 $LN147@NpcTalk
$LN20@NpcTalk:

; 643  : 		case 474:
; 644  : 			if ( NpcLittleSantaBuffer( lpNpc, lpObj, 96 ) == TRUE )

  00d21	6a 60		 push	 96			; 00000060H
  00d23	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d26	50		 push	 eax
  00d27	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00d2a	51		 push	 ecx
  00d2b	e8 00 00 00 00	 call	 ?NpcLittleSantaBuffer@@YAHPAUOBJECTSTRUCT@@0H@Z ; NpcLittleSantaBuffer
  00d30	83 c4 0c	 add	 esp, 12			; 0000000cH
  00d33	83 f8 01	 cmp	 eax, 1
  00d36	75 0a		 jne	 SHORT $LN19@NpcTalk

; 645  : 			{
; 646  : 				return TRUE;

  00d38	b8 01 00 00 00	 mov	 eax, 1
  00d3d	e9 47 01 00 00	 jmp	 $LN175@NpcTalk
$LN19@NpcTalk:

; 647  : 			}
; 648  : 			break;

  00d42	e9 40 01 00 00	 jmp	 $LN147@NpcTalk
$LN18@NpcTalk:

; 649  : 		case 475:
; 650  : 			if ( NpcLittleSantaBuffer( lpNpc, lpObj , 97) == TRUE )

  00d47	6a 61		 push	 97			; 00000061H
  00d49	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d4c	50		 push	 eax
  00d4d	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00d50	51		 push	 ecx
  00d51	e8 00 00 00 00	 call	 ?NpcLittleSantaBuffer@@YAHPAUOBJECTSTRUCT@@0H@Z ; NpcLittleSantaBuffer
  00d56	83 c4 0c	 add	 esp, 12			; 0000000cH
  00d59	83 f8 01	 cmp	 eax, 1
  00d5c	75 0a		 jne	 SHORT $LN17@NpcTalk

; 651  : 			{
; 652  : 				return TRUE;

  00d5e	b8 01 00 00 00	 mov	 eax, 1
  00d63	e9 21 01 00 00	 jmp	 $LN175@NpcTalk
$LN17@NpcTalk:

; 653  : 			}
; 654  : 			break;

  00d68	e9 1a 01 00 00	 jmp	 $LN147@NpcTalk
$LN16@NpcTalk:

; 655  : 		case 479:
; 656  : 			if ( NpcTitusGatekeeper( lpNpc, lpObj ) == true )

  00d6d	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d70	50		 push	 eax
  00d71	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00d74	51		 push	 ecx
  00d75	e8 00 00 00 00	 call	 ?NpcTitusGatekeeper@@YA_NPAUOBJECTSTRUCT@@0@Z ; NpcTitusGatekeeper
  00d7a	83 c4 08	 add	 esp, 8
  00d7d	0f b6 d0	 movzx	 edx, al
  00d80	83 fa 01	 cmp	 edx, 1
  00d83	75 0a		 jne	 SHORT $LN15@NpcTalk

; 657  : 			{
; 658  : 				return true;

  00d85	b8 01 00 00 00	 mov	 eax, 1
  00d8a	e9 fa 00 00 00	 jmp	 $LN175@NpcTalk
$LN15@NpcTalk:

; 659  : 			}
; 660  : 			break;

  00d8f	e9 f3 00 00 00	 jmp	 $LN147@NpcTalk
$LN14@NpcTalk:

; 661  : 		case 492:
; 662  : 			if( NpcMoss( lpNpc,lpObj )  == true )

  00d94	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d97	50		 push	 eax
  00d98	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00d9b	51		 push	 ecx
  00d9c	e8 00 00 00 00	 call	 ?NpcMoss@@YA_NPAUOBJECTSTRUCT@@0@Z ; NpcMoss
  00da1	83 c4 08	 add	 esp, 8
  00da4	0f b6 d0	 movzx	 edx, al
  00da7	83 fa 01	 cmp	 edx, 1
  00daa	75 0a		 jne	 SHORT $LN13@NpcTalk

; 663  : 			{
; 664  : 				return true;

  00dac	b8 01 00 00 00	 mov	 eax, 1
  00db1	e9 d3 00 00 00	 jmp	 $LN175@NpcTalk
$LN13@NpcTalk:

; 665  : 			}
; 666  : 			break;

  00db6	e9 cc 00 00 00	 jmp	 $LN147@NpcTalk
$LN12@NpcTalk:

; 667  : 		case 547:
; 668  : 			if (NpcJuliaTalk(lpNpc, lpObj) == TRUE)

  00dbb	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00dbe	50		 push	 eax
  00dbf	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00dc2	51		 push	 ecx
  00dc3	e8 00 00 00 00	 call	 ?NpcJuliaTalk@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcJuliaTalk
  00dc8	83 c4 08	 add	 esp, 8
  00dcb	83 f8 01	 cmp	 eax, 1
  00dce	75 0a		 jne	 SHORT $LN11@NpcTalk

; 669  : 			{
; 670  : 				return TRUE;

  00dd0	b8 01 00 00 00	 mov	 eax, 1
  00dd5	e9 af 00 00 00	 jmp	 $LN175@NpcTalk
$LN11@NpcTalk:

; 671  : 			}
; 672  : 			break;

  00dda	e9 a8 00 00 00	 jmp	 $LN147@NpcTalk
$LN10@NpcTalk:

; 673  : 		case 540: //double goer angel
; 674  : 			if(SartigantheAngel(lpNpc,lpObj) == TRUE)

  00ddf	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00de2	50		 push	 eax
  00de3	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00de6	51		 push	 ecx
  00de7	e8 00 00 00 00	 call	 ?SartigantheAngel@@YAHPAUOBJECTSTRUCT@@0@Z ; SartigantheAngel
  00dec	83 c4 08	 add	 esp, 8
  00def	83 f8 01	 cmp	 eax, 1
  00df2	75 0a		 jne	 SHORT $LN9@NpcTalk

; 675  : 			{
; 676  : 				return TRUE;

  00df4	b8 01 00 00 00	 mov	 eax, 1
  00df9	e9 8b 00 00 00	 jmp	 $LN175@NpcTalk
$LN9@NpcTalk:

; 677  : 			}
; 678  : 			break;

  00dfe	e9 84 00 00 00	 jmp	 $LN147@NpcTalk
$LN8@NpcTalk:

; 679  : 		case 541:
; 680  : 			NpcSilverBox(lpNpc,lpObj);

  00e03	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e06	50		 push	 eax
  00e07	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00e0a	51		 push	 ecx
  00e0b	e8 00 00 00 00	 call	 ?NpcSilverBox@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcSilverBox
  00e10	83 c4 08	 add	 esp, 8

; 681  : 			break;

  00e13	eb 72		 jmp	 SHORT $LN147@NpcTalk
$LN7@NpcTalk:

; 682  : 		case 542:
; 683  : 			NpcGoldBox(lpNpc,lpObj);

  00e15	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e18	50		 push	 eax
  00e19	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00e1c	51		 push	 ecx
  00e1d	e8 00 00 00 00	 call	 ?NpcGoldBox@@YAHPAUOBJECTSTRUCT@@0@Z ; NpcGoldBox
  00e22	83 c4 08	 add	 esp, 8

; 684  : 			break;

  00e25	eb 60		 jmp	 SHORT $LN147@NpcTalk
$LN6@NpcTalk:

; 685  : 		case 522:	//Season 5 ImperialFort
; 686  : 			if(NpcJerint(lpNpc,lpObj) == TRUE)

  00e27	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e2a	50		 push	 eax
  00e2b	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00e2e	51		 push	 ecx
  00e2f	e8 00 00 00 00	 call	 ?NpcJerint@@YA_NPAUOBJECTSTRUCT@@0@Z ; NpcJerint
  00e34	83 c4 08	 add	 esp, 8
  00e37	0f b6 d0	 movzx	 edx, al
  00e3a	83 fa 01	 cmp	 edx, 1
  00e3d	75 07		 jne	 SHORT $LN5@NpcTalk

; 687  : 			{
; 688  : 				return TRUE;

  00e3f	b8 01 00 00 00	 mov	 eax, 1
  00e44	eb 43		 jmp	 SHORT $LN175@NpcTalk
$LN5@NpcTalk:

; 689  : 			}
; 690  : 			break;

  00e46	eb 3f		 jmp	 SHORT $LN147@NpcTalk
$LN4@NpcTalk:

; 691  : 		case 543:	//Season 5 Gens
; 692  : 		case 544:
; 693  : 			{
; 694  : 				if(Npc_Dialog(lpNpc,lpObj) == TRUE)

  00e48	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e4b	50		 push	 eax
  00e4c	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00e4f	51		 push	 ecx
  00e50	e8 00 00 00 00	 call	 ?Npc_Dialog@@YA_NPAUOBJECTSTRUCT@@0@Z ; Npc_Dialog
  00e55	83 c4 08	 add	 esp, 8
  00e58	0f b6 d0	 movzx	 edx, al
  00e5b	83 fa 01	 cmp	 edx, 1
  00e5e	75 07		 jne	 SHORT $LN3@NpcTalk

; 695  : 				{
; 696  : 					return true;

  00e60	b8 01 00 00 00	 mov	 eax, 1
  00e65	eb 22		 jmp	 SHORT $LN175@NpcTalk
$LN3@NpcTalk:

; 697  : 				}
; 698  : 			}
; 699  : 			break;

  00e67	eb 1e		 jmp	 SHORT $LN147@NpcTalk
$LN2@NpcTalk:

; 700  : #ifdef LUCKYITEM
; 701  : 		case 579: //-> David
; 702  : 			{
; 703  : 				if( NpcDabide(lpNpc, lpObj) ) //-> 617FB0

  00e69	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e6c	50		 push	 eax
  00e6d	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  00e70	51		 push	 ecx
  00e71	e8 00 00 00 00	 call	 ?NpcDabide@@YA_NPAUOBJECTSTRUCT@@0@Z ; NpcDabide
  00e76	83 c4 08	 add	 esp, 8
  00e79	0f b6 d0	 movzx	 edx, al
  00e7c	85 d2		 test	 edx, edx
  00e7e	74 07		 je	 SHORT $LN147@NpcTalk

; 704  : 				{
; 705  : 					return true;

  00e80	b8 01 00 00 00	 mov	 eax, 1
  00e85	eb 02		 jmp	 SHORT $LN175@NpcTalk
$LN147@NpcTalk:

; 706  : 				}
; 707  : 			}
; 708  : 			break;
; 709  : #endif
; 710  : 	}
; 711  : 	return FALSE;

  00e87	33 c0		 xor	 eax, eax
$LN175@NpcTalk:

; 712  : }

  00e89	5f		 pop	 edi
  00e8a	5e		 pop	 esi
  00e8b	5b		 pop	 ebx
  00e8c	8b e5		 mov	 esp, ebp
  00e8e	5d		 pop	 ebp
  00e8f	c3		 ret	 0
$LN180@NpcTalk:
  00e90	00 00 00 00	 DD	 $LN82@NpcTalk
  00e94	00 00 00 00	 DD	 $LN80@NpcTalk
  00e98	00 00 00 00	 DD	 $LN78@NpcTalk
  00e9c	00 00 00 00	 DD	 $LN76@NpcTalk
  00ea0	00 00 00 00	 DD	 $LN74@NpcTalk
  00ea4	00 00 00 00	 DD	 $LN90@NpcTalk
  00ea8	00 00 00 00	 DD	 $LN88@NpcTalk
  00eac	00 00 00 00	 DD	 $LN92@NpcTalk
  00eb0	00 00 00 00	 DD	 $LN86@NpcTalk
  00eb4	00 00 00 00	 DD	 $LN100@NpcTalk
  00eb8	00 00 00 00	 DD	 $LN98@NpcTalk
  00ebc	00 00 00 00	 DD	 $LN96@NpcTalk
  00ec0	00 00 00 00	 DD	 $LN94@NpcTalk
  00ec4	00 00 00 00	 DD	 $LN126@NpcTalk
  00ec8	00 00 00 00	 DD	 $LN116@NpcTalk
  00ecc	00 00 00 00	 DD	 $LN114@NpcTalk
  00ed0	00 00 00 00	 DD	 $LN118@NpcTalk
  00ed4	00 00 00 00	 DD	 $LN120@NpcTalk
  00ed8	00 00 00 00	 DD	 $LN136@NpcTalk
  00edc	00 00 00 00	 DD	 $LN138@NpcTalk
  00ee0	00 00 00 00	 DD	 $LN142@NpcTalk
  00ee4	00 00 00 00	 DD	 $LN128@NpcTalk
  00ee8	00 00 00 00	 DD	 $LN144@NpcTalk
  00eec	00 00 00 00	 DD	 $LN124@NpcTalk
  00ef0	00 00 00 00	 DD	 $LN104@NpcTalk
  00ef4	00 00 00 00	 DD	 $LN122@NpcTalk
  00ef8	00 00 00 00	 DD	 $LN132@NpcTalk
  00efc	00 00 00 00	 DD	 $LN108@NpcTalk
  00f00	00 00 00 00	 DD	 $LN130@NpcTalk
  00f04	00 00 00 00	 DD	 $LN140@NpcTalk
  00f08	00 00 00 00	 DD	 $LN110@NpcTalk
  00f0c	00 00 00 00	 DD	 $LN106@NpcTalk
  00f10	00 00 00 00	 DD	 $LN134@NpcTalk
  00f14	00 00 00 00	 DD	 $LN146@NpcTalk
  00f18	00 00 00 00	 DD	 $LN112@NpcTalk
  00f1c	00 00 00 00	 DD	 $LN102@NpcTalk
  00f20	00 00 00 00	 DD	 $LN84@NpcTalk
  00f24	00 00 00 00	 DD	 $LN72@NpcTalk
  00f28	00 00 00 00	 DD	 $LN66@NpcTalk
  00f2c	00 00 00 00	 DD	 $LN70@NpcTalk
  00f30	00 00 00 00	 DD	 $LN68@NpcTalk
  00f34	00 00 00 00	 DD	 $LN64@NpcTalk
  00f38	00 00 00 00	 DD	 $LN62@NpcTalk
  00f3c	00 00 00 00	 DD	 $LN60@NpcTalk
  00f40	00 00 00 00	 DD	 $LN56@NpcTalk
  00f44	00 00 00 00	 DD	 $LN54@NpcTalk
  00f48	00 00 00 00	 DD	 $LN52@NpcTalk
  00f4c	00 00 00 00	 DD	 $LN58@NpcTalk
  00f50	00 00 00 00	 DD	 $LN50@NpcTalk
  00f54	00 00 00 00	 DD	 $LN48@NpcTalk
  00f58	00 00 00 00	 DD	 $LN46@NpcTalk
  00f5c	00 00 00 00	 DD	 $LN44@NpcTalk
  00f60	00 00 00 00	 DD	 $LN42@NpcTalk
  00f64	00 00 00 00	 DD	 $LN40@NpcTalk
  00f68	00 00 00 00	 DD	 $LN147@NpcTalk
$LN178@NpcTalk:
  00f6c	00		 DB	 0
  00f6d	01		 DB	 1
  00f6e	02		 DB	 2
  00f6f	03		 DB	 3
  00f70	04		 DB	 4
  00f71	36		 DB	 54			; 00000036H
  00f72	36		 DB	 54			; 00000036H
  00f73	36		 DB	 54			; 00000036H
  00f74	36		 DB	 54			; 00000036H
  00f75	36		 DB	 54			; 00000036H
  00f76	36		 DB	 54			; 00000036H
  00f77	05		 DB	 5
  00f78	06		 DB	 6
  00f79	06		 DB	 6
  00f7a	07		 DB	 7
  00f7b	08		 DB	 8
  00f7c	09		 DB	 9
  00f7d	0a		 DB	 10			; 0000000aH
  00f7e	0b		 DB	 11			; 0000000bH
  00f7f	0c		 DB	 12			; 0000000cH
  00f80	36		 DB	 54			; 00000036H
  00f81	0d		 DB	 13			; 0000000dH
  00f82	36		 DB	 54			; 00000036H
  00f83	36		 DB	 54			; 00000036H
  00f84	36		 DB	 54			; 00000036H
  00f85	36		 DB	 54			; 00000036H
  00f86	36		 DB	 54			; 00000036H
  00f87	0e		 DB	 14			; 0000000eH
  00f88	0f		 DB	 15			; 0000000fH
  00f89	10		 DB	 16			; 00000010H
  00f8a	36		 DB	 54			; 00000036H
  00f8b	11		 DB	 17			; 00000011H
  00f8c	12		 DB	 18			; 00000012H
  00f8d	13		 DB	 19			; 00000013H
  00f8e	14		 DB	 20			; 00000014H
  00f8f	15		 DB	 21			; 00000015H
  00f90	16		 DB	 22			; 00000016H
  00f91	17		 DB	 23			; 00000017H
  00f92	18		 DB	 24			; 00000018H
  00f93	19		 DB	 25			; 00000019H
  00f94	1a		 DB	 26			; 0000001aH
  00f95	1b		 DB	 27			; 0000001bH
  00f96	1c		 DB	 28			; 0000001cH
  00f97	36		 DB	 54			; 00000036H
  00f98	1d		 DB	 29			; 0000001dH
  00f99	1e		 DB	 30			; 0000001eH
  00f9a	1f		 DB	 31			; 0000001fH
  00f9b	36		 DB	 54			; 00000036H
  00f9c	20		 DB	 32			; 00000020H
  00f9d	21		 DB	 33			; 00000021H
  00f9e	22		 DB	 34			; 00000022H
  00f9f	23		 DB	 35			; 00000023H
  00fa0	24		 DB	 36			; 00000024H
  00fa1	36		 DB	 54			; 00000036H
  00fa2	25		 DB	 37			; 00000025H
  00fa3	36		 DB	 54			; 00000036H
  00fa4	36		 DB	 54			; 00000036H
  00fa5	36		 DB	 54			; 00000036H
  00fa6	36		 DB	 54			; 00000036H
  00fa7	36		 DB	 54			; 00000036H
  00fa8	36		 DB	 54			; 00000036H
  00fa9	36		 DB	 54			; 00000036H
  00faa	36		 DB	 54			; 00000036H
  00fab	36		 DB	 54			; 00000036H
  00fac	36		 DB	 54			; 00000036H
  00fad	36		 DB	 54			; 00000036H
  00fae	36		 DB	 54			; 00000036H
  00faf	36		 DB	 54			; 00000036H
  00fb0	36		 DB	 54			; 00000036H
  00fb1	36		 DB	 54			; 00000036H
  00fb2	36		 DB	 54			; 00000036H
  00fb3	36		 DB	 54			; 00000036H
  00fb4	36		 DB	 54			; 00000036H
  00fb5	36		 DB	 54			; 00000036H
  00fb6	36		 DB	 54			; 00000036H
  00fb7	36		 DB	 54			; 00000036H
  00fb8	36		 DB	 54			; 00000036H
  00fb9	36		 DB	 54			; 00000036H
  00fba	36		 DB	 54			; 00000036H
  00fbb	36		 DB	 54			; 00000036H
  00fbc	36		 DB	 54			; 00000036H
  00fbd	36		 DB	 54			; 00000036H
  00fbe	36		 DB	 54			; 00000036H
  00fbf	36		 DB	 54			; 00000036H
  00fc0	36		 DB	 54			; 00000036H
  00fc1	36		 DB	 54			; 00000036H
  00fc2	36		 DB	 54			; 00000036H
  00fc3	36		 DB	 54			; 00000036H
  00fc4	36		 DB	 54			; 00000036H
  00fc5	36		 DB	 54			; 00000036H
  00fc6	36		 DB	 54			; 00000036H
  00fc7	36		 DB	 54			; 00000036H
  00fc8	36		 DB	 54			; 00000036H
  00fc9	36		 DB	 54			; 00000036H
  00fca	36		 DB	 54			; 00000036H
  00fcb	36		 DB	 54			; 00000036H
  00fcc	36		 DB	 54			; 00000036H
  00fcd	36		 DB	 54			; 00000036H
  00fce	36		 DB	 54			; 00000036H
  00fcf	36		 DB	 54			; 00000036H
  00fd0	36		 DB	 54			; 00000036H
  00fd1	36		 DB	 54			; 00000036H
  00fd2	36		 DB	 54			; 00000036H
  00fd3	36		 DB	 54			; 00000036H
  00fd4	36		 DB	 54			; 00000036H
  00fd5	36		 DB	 54			; 00000036H
  00fd6	36		 DB	 54			; 00000036H
  00fd7	36		 DB	 54			; 00000036H
  00fd8	36		 DB	 54			; 00000036H
  00fd9	36		 DB	 54			; 00000036H
  00fda	36		 DB	 54			; 00000036H
  00fdb	36		 DB	 54			; 00000036H
  00fdc	36		 DB	 54			; 00000036H
  00fdd	36		 DB	 54			; 00000036H
  00fde	36		 DB	 54			; 00000036H
  00fdf	36		 DB	 54			; 00000036H
  00fe0	36		 DB	 54			; 00000036H
  00fe1	36		 DB	 54			; 00000036H
  00fe2	36		 DB	 54			; 00000036H
  00fe3	36		 DB	 54			; 00000036H
  00fe4	36		 DB	 54			; 00000036H
  00fe5	36		 DB	 54			; 00000036H
  00fe6	36		 DB	 54			; 00000036H
  00fe7	36		 DB	 54			; 00000036H
  00fe8	36		 DB	 54			; 00000036H
  00fe9	36		 DB	 54			; 00000036H
  00fea	36		 DB	 54			; 00000036H
  00feb	36		 DB	 54			; 00000036H
  00fec	36		 DB	 54			; 00000036H
  00fed	36		 DB	 54			; 00000036H
  00fee	36		 DB	 54			; 00000036H
  00fef	36		 DB	 54			; 00000036H
  00ff0	36		 DB	 54			; 00000036H
  00ff1	36		 DB	 54			; 00000036H
  00ff2	36		 DB	 54			; 00000036H
  00ff3	36		 DB	 54			; 00000036H
  00ff4	36		 DB	 54			; 00000036H
  00ff5	36		 DB	 54			; 00000036H
  00ff6	36		 DB	 54			; 00000036H
  00ff7	36		 DB	 54			; 00000036H
  00ff8	36		 DB	 54			; 00000036H
  00ff9	36		 DB	 54			; 00000036H
  00ffa	36		 DB	 54			; 00000036H
  00ffb	36		 DB	 54			; 00000036H
  00ffc	36		 DB	 54			; 00000036H
  00ffd	36		 DB	 54			; 00000036H
  00ffe	36		 DB	 54			; 00000036H
  00fff	36		 DB	 54			; 00000036H
  01000	36		 DB	 54			; 00000036H
  01001	36		 DB	 54			; 00000036H
  01002	36		 DB	 54			; 00000036H
  01003	36		 DB	 54			; 00000036H
  01004	36		 DB	 54			; 00000036H
  01005	36		 DB	 54			; 00000036H
  01006	36		 DB	 54			; 00000036H
  01007	36		 DB	 54			; 00000036H
  01008	36		 DB	 54			; 00000036H
  01009	36		 DB	 54			; 00000036H
  0100a	36		 DB	 54			; 00000036H
  0100b	36		 DB	 54			; 00000036H
  0100c	36		 DB	 54			; 00000036H
  0100d	36		 DB	 54			; 00000036H
  0100e	26		 DB	 38			; 00000026H
  0100f	27		 DB	 39			; 00000027H
  01010	27		 DB	 39			; 00000027H
  01011	27		 DB	 39			; 00000027H
  01012	36		 DB	 54			; 00000036H
  01013	36		 DB	 54			; 00000036H
  01014	36		 DB	 54			; 00000036H
  01015	36		 DB	 54			; 00000036H
  01016	28		 DB	 40			; 00000028H
  01017	29		 DB	 41			; 00000029H
  01018	2a		 DB	 42			; 0000002aH
  01019	36		 DB	 54			; 00000036H
  0101a	2b		 DB	 43			; 0000002bH
  0101b	2c		 DB	 44			; 0000002cH
  0101c	36		 DB	 54			; 00000036H
  0101d	36		 DB	 54			; 00000036H
  0101e	2d		 DB	 45			; 0000002dH
  0101f	2e		 DB	 46			; 0000002eH
  01020	2f		 DB	 47			; 0000002fH
  01021	36		 DB	 54			; 00000036H
  01022	36		 DB	 54			; 00000036H
  01023	36		 DB	 54			; 00000036H
  01024	36		 DB	 54			; 00000036H
  01025	36		 DB	 54			; 00000036H
  01026	36		 DB	 54			; 00000036H
  01027	36		 DB	 54			; 00000036H
  01028	36		 DB	 54			; 00000036H
  01029	36		 DB	 54			; 00000036H
  0102a	36		 DB	 54			; 00000036H
  0102b	36		 DB	 54			; 00000036H
  0102c	36		 DB	 54			; 00000036H
  0102d	36		 DB	 54			; 00000036H
  0102e	36		 DB	 54			; 00000036H
  0102f	36		 DB	 54			; 00000036H
  01030	36		 DB	 54			; 00000036H
  01031	36		 DB	 54			; 00000036H
  01032	36		 DB	 54			; 00000036H
  01033	36		 DB	 54			; 00000036H
  01034	36		 DB	 54			; 00000036H
  01035	36		 DB	 54			; 00000036H
  01036	36		 DB	 54			; 00000036H
  01037	36		 DB	 54			; 00000036H
  01038	36		 DB	 54			; 00000036H
  01039	36		 DB	 54			; 00000036H
  0103a	36		 DB	 54			; 00000036H
  0103b	36		 DB	 54			; 00000036H
  0103c	36		 DB	 54			; 00000036H
  0103d	36		 DB	 54			; 00000036H
  0103e	30		 DB	 48			; 00000030H
  0103f	31		 DB	 49			; 00000031H
  01040	32		 DB	 50			; 00000032H
  01041	36		 DB	 54			; 00000036H
  01042	36		 DB	 54			; 00000036H
  01043	36		 DB	 54			; 00000036H
  01044	36		 DB	 54			; 00000036H
  01045	36		 DB	 54			; 00000036H
  01046	36		 DB	 54			; 00000036H
  01047	36		 DB	 54			; 00000036H
  01048	36		 DB	 54			; 00000036H
  01049	36		 DB	 54			; 00000036H
  0104a	36		 DB	 54			; 00000036H
  0104b	36		 DB	 54			; 00000036H
  0104c	36		 DB	 54			; 00000036H
  0104d	36		 DB	 54			; 00000036H
  0104e	36		 DB	 54			; 00000036H
  0104f	36		 DB	 54			; 00000036H
  01050	36		 DB	 54			; 00000036H
  01051	36		 DB	 54			; 00000036H
  01052	36		 DB	 54			; 00000036H
  01053	36		 DB	 54			; 00000036H
  01054	36		 DB	 54			; 00000036H
  01055	36		 DB	 54			; 00000036H
  01056	36		 DB	 54			; 00000036H
  01057	36		 DB	 54			; 00000036H
  01058	36		 DB	 54			; 00000036H
  01059	36		 DB	 54			; 00000036H
  0105a	36		 DB	 54			; 00000036H
  0105b	36		 DB	 54			; 00000036H
  0105c	36		 DB	 54			; 00000036H
  0105d	36		 DB	 54			; 00000036H
  0105e	36		 DB	 54			; 00000036H
  0105f	36		 DB	 54			; 00000036H
  01060	36		 DB	 54			; 00000036H
  01061	33		 DB	 51			; 00000033H
  01062	36		 DB	 54			; 00000036H
  01063	34		 DB	 52			; 00000034H
  01064	35		 DB	 53			; 00000035H
  01065	8d 49 00	 npad	 3
$LN181@NpcTalk:
  01068	00 00 00 00	 DD	 $LN34@NpcTalk
  0106c	00 00 00 00	 DD	 $LN32@NpcTalk
  01070	00 00 00 00	 DD	 $LN30@NpcTalk
  01074	00 00 00 00	 DD	 $LN28@NpcTalk
  01078	00 00 00 00	 DD	 $LN26@NpcTalk
  0107c	00 00 00 00	 DD	 $LN24@NpcTalk
  01080	00 00 00 00	 DD	 $LN22@NpcTalk
  01084	00 00 00 00	 DD	 $LN20@NpcTalk
  01088	00 00 00 00	 DD	 $LN18@NpcTalk
  0108c	00 00 00 00	 DD	 $LN38@NpcTalk
  01090	00 00 00 00	 DD	 $LN16@NpcTalk
  01094	00 00 00 00	 DD	 $LN14@NpcTalk
  01098	00 00 00 00	 DD	 $LN6@NpcTalk
  0109c	00 00 00 00	 DD	 $LN10@NpcTalk
  010a0	00 00 00 00	 DD	 $LN8@NpcTalk
  010a4	00 00 00 00	 DD	 $LN7@NpcTalk
  010a8	00 00 00 00	 DD	 $LN4@NpcTalk
  010ac	00 00 00 00	 DD	 $LN12@NpcTalk
  010b0	00 00 00 00	 DD	 $LN2@NpcTalk
  010b4	00 00 00 00	 DD	 $LN147@NpcTalk
$LN179@NpcTalk:
  010b8	00		 DB	 0
  010b9	01		 DB	 1
  010ba	02		 DB	 2
  010bb	03		 DB	 3
  010bc	04		 DB	 4
  010bd	05		 DB	 5
  010be	06		 DB	 6
  010bf	07		 DB	 7
  010c0	08		 DB	 8
  010c1	13		 DB	 19			; 00000013H
  010c2	13		 DB	 19			; 00000013H
  010c3	09		 DB	 9
  010c4	0a		 DB	 10			; 0000000aH
  010c5	13		 DB	 19			; 00000013H
  010c6	13		 DB	 19			; 00000013H
  010c7	13		 DB	 19			; 00000013H
  010c8	13		 DB	 19			; 00000013H
  010c9	13		 DB	 19			; 00000013H
  010ca	13		 DB	 19			; 00000013H
  010cb	13		 DB	 19			; 00000013H
  010cc	13		 DB	 19			; 00000013H
  010cd	13		 DB	 19			; 00000013H
  010ce	13		 DB	 19			; 00000013H
  010cf	13		 DB	 19			; 00000013H
  010d0	13		 DB	 19			; 00000013H
  010d1	0b		 DB	 11			; 0000000bH
  010d2	13		 DB	 19			; 00000013H
  010d3	13		 DB	 19			; 00000013H
  010d4	13		 DB	 19			; 00000013H
  010d5	13		 DB	 19			; 00000013H
  010d6	13		 DB	 19			; 00000013H
  010d7	13		 DB	 19			; 00000013H
  010d8	13		 DB	 19			; 00000013H
  010d9	13		 DB	 19			; 00000013H
  010da	13		 DB	 19			; 00000013H
  010db	13		 DB	 19			; 00000013H
  010dc	13		 DB	 19			; 00000013H
  010dd	13		 DB	 19			; 00000013H
  010de	13		 DB	 19			; 00000013H
  010df	13		 DB	 19			; 00000013H
  010e0	13		 DB	 19			; 00000013H
  010e1	13		 DB	 19			; 00000013H
  010e2	13		 DB	 19			; 00000013H
  010e3	13		 DB	 19			; 00000013H
  010e4	13		 DB	 19			; 00000013H
  010e5	13		 DB	 19			; 00000013H
  010e6	13		 DB	 19			; 00000013H
  010e7	13		 DB	 19			; 00000013H
  010e8	13		 DB	 19			; 00000013H
  010e9	13		 DB	 19			; 00000013H
  010ea	13		 DB	 19			; 00000013H
  010eb	13		 DB	 19			; 00000013H
  010ec	13		 DB	 19			; 00000013H
  010ed	13		 DB	 19			; 00000013H
  010ee	13		 DB	 19			; 00000013H
  010ef	0c		 DB	 12			; 0000000cH
  010f0	13		 DB	 19			; 00000013H
  010f1	13		 DB	 19			; 00000013H
  010f2	13		 DB	 19			; 00000013H
  010f3	13		 DB	 19			; 00000013H
  010f4	13		 DB	 19			; 00000013H
  010f5	13		 DB	 19			; 00000013H
  010f6	13		 DB	 19			; 00000013H
  010f7	13		 DB	 19			; 00000013H
  010f8	13		 DB	 19			; 00000013H
  010f9	13		 DB	 19			; 00000013H
  010fa	13		 DB	 19			; 00000013H
  010fb	13		 DB	 19			; 00000013H
  010fc	13		 DB	 19			; 00000013H
  010fd	13		 DB	 19			; 00000013H
  010fe	13		 DB	 19			; 00000013H
  010ff	13		 DB	 19			; 00000013H
  01100	13		 DB	 19			; 00000013H
  01101	0d		 DB	 13			; 0000000dH
  01102	0e		 DB	 14			; 0000000eH
  01103	0f		 DB	 15			; 0000000fH
  01104	10		 DB	 16			; 00000010H
  01105	10		 DB	 16			; 00000010H
  01106	13		 DB	 19			; 00000013H
  01107	13		 DB	 19			; 00000013H
  01108	11		 DB	 17			; 00000011H
  01109	13		 DB	 19			; 00000013H
  0110a	13		 DB	 19			; 00000013H
  0110b	13		 DB	 19			; 00000013H
  0110c	13		 DB	 19			; 00000013H
  0110d	13		 DB	 19			; 00000013H
  0110e	13		 DB	 19			; 00000013H
  0110f	13		 DB	 19			; 00000013H
  01110	13		 DB	 19			; 00000013H
  01111	13		 DB	 19			; 00000013H
  01112	13		 DB	 19			; 00000013H
  01113	13		 DB	 19			; 00000013H
  01114	13		 DB	 19			; 00000013H
  01115	13		 DB	 19			; 00000013H
  01116	13		 DB	 19			; 00000013H
  01117	13		 DB	 19			; 00000013H
  01118	13		 DB	 19			; 00000013H
  01119	13		 DB	 19			; 00000013H
  0111a	13		 DB	 19			; 00000013H
  0111b	13		 DB	 19			; 00000013H
  0111c	13		 DB	 19			; 00000013H
  0111d	13		 DB	 19			; 00000013H
  0111e	13		 DB	 19			; 00000013H
  0111f	13		 DB	 19			; 00000013H
  01120	13		 DB	 19			; 00000013H
  01121	13		 DB	 19			; 00000013H
  01122	13		 DB	 19			; 00000013H
  01123	13		 DB	 19			; 00000013H
  01124	13		 DB	 19			; 00000013H
  01125	13		 DB	 19			; 00000013H
  01126	13		 DB	 19			; 00000013H
  01127	13		 DB	 19			; 00000013H
  01128	12		 DB	 18			; 00000012H
?NpcTalk@@YAHPAUOBJECTSTRUCT@@0@Z ENDP			; NpcTalk
_TEXT	ENDS
PUBLIC	??_C@_0BL@FMJKLKBP@QeustNpc?5RefCount?5Inc?5?$DN?5?$CFd?$AA@ ; `string'
EXTRN	__imp__LeaveCriticalSection@4:PROC
EXTRN	?LogAdd@@3P6AXPADZZA:DWORD			; LogAdd
EXTRN	__imp__EnterCriticalSection@4:PROC
;	COMDAT ??_C@_0BL@FMJKLKBP@QeustNpc?5RefCount?5Inc?5?$DN?5?$CFd?$AA@
; File d:\projects\exteam6.3\source\gameserver\gameserver\gobjmonster.h
CONST	SEGMENT
??_C@_0BL@FMJKLKBP@QeustNpc?5RefCount?5Inc?5?$DN?5?$CFd?$AA@ DB 'QeustNpc'
	DB	' RefCount Inc = %d', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
;	COMDAT ?TalkRefAdd@CQeustNpcTeleport@@QAEXXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?TalkRefAdd@CQeustNpcTeleport@@QAEXXZ PROC		; CQeustNpcTeleport::TalkRefAdd, COMDAT
; _this$ = ecx

; 60   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 61   : 		EnterCriticalSection(&this->CsRef);

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	83 c0 04	 add	 eax, 4
  00012	50		 push	 eax
  00013	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnterCriticalSection@4

; 62   : 		this->RefCount++;

  00019	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0001e	83 c1 01	 add	 ecx, 1
  00021	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00024	89 0a		 mov	 DWORD PTR [edx], ecx

; 63   : 		LogAdd("QeustNpc RefCount Inc = %d", this->RefCount);

  00026	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00029	8b 08		 mov	 ecx, DWORD PTR [eax]
  0002b	51		 push	 ecx
  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0BL@FMJKLKBP@QeustNpc?5RefCount?5Inc?5?$DN?5?$CFd?$AA@
  00031	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00037	83 c4 08	 add	 esp, 8

; 64   : 		LeaveCriticalSection(&this->CsRef);

  0003a	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0003d	83 c0 04	 add	 eax, 4
  00040	50		 push	 eax
  00041	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LeaveCriticalSection@4

; 65   : 		
; 66   : 	};

  00047	5f		 pop	 edi
  00048	5e		 pop	 esi
  00049	5b		 pop	 ebx
  0004a	8b e5		 mov	 esp, ebp
  0004c	5d		 pop	 ebp
  0004d	c3		 ret	 0
?TalkRefAdd@CQeustNpcTeleport@@QAEXXZ ENDP		; CQeustNpcTeleport::TalkRefAdd
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\customquestsystem.h
_TEXT	ENDS
;	COMDAT ?IsEnabled@CCustomQuestSystem@@QBEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?IsEnabled@CCustomQuestSystem@@QBEHXZ PROC		; CCustomQuestSystem::IsEnabled, COMDAT
; _this$ = ecx

; 112  : 	BOOL IsEnabled() const {return m_bEnabled;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 04	 mov	 eax, DWORD PTR [eax+4]
  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?IsEnabled@CCustomQuestSystem@@QBEHXZ ENDP		; CCustomQuestSystem::IsEnabled
_TEXT	ENDS
EXTRN	?NotifyEntranceInfo@CKanturuEntranceNPC@@QAEXH@Z:PROC ; CKanturuEntranceNPC::NotifyEntranceInfo
EXTRN	?g_KanturuEntranceNPC@@3VCKanturuEntranceNPC@@A:DWORD ; g_KanturuEntranceNPC
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\npctalk.cpp
_TEXT	SEGMENT
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcMainatenceMachine@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcMainatenceMachine

; 716  : {

  01130	55		 push	 ebp
  01131	8b ec		 mov	 ebp, esp
  01133	83 ec 40	 sub	 esp, 64			; 00000040H
  01136	53		 push	 ebx
  01137	56		 push	 esi
  01138	57		 push	 edi

; 717  : 	g_KanturuEntranceNPC.NotifyEntranceInfo(lpObj->m_Index);

  01139	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0113c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0113e	51		 push	 ecx
  0113f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KanturuEntranceNPC@@3VCKanturuEntranceNPC@@A ; g_KanturuEntranceNPC
  01144	e8 00 00 00 00	 call	 ?NotifyEntranceInfo@CKanturuEntranceNPC@@QAEXH@Z ; CKanturuEntranceNPC::NotifyEntranceInfo

; 718  : 	return TRUE;

  01149	b8 01 00 00 00	 mov	 eax, 1

; 719  : }

  0114e	5f		 pop	 edi
  0114f	5e		 pop	 esi
  01150	5b		 pop	 ebx
  01151	8b e5		 mov	 esp, ebp
  01153	5d		 pop	 ebp
  01154	c3		 ret	 0
?NpcMainatenceMachine@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcMainatenceMachine
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcReira@@YAHPAUOBJECTSTRUCT@@0@Z PROC			; NpcReira

; 723  : {

  01160	55		 push	 ebp
  01161	8b ec		 mov	 ebp, esp
  01163	83 ec 40	 sub	 esp, 64			; 00000040H
  01166	53		 push	 ebx
  01167	56		 push	 esi
  01168	57		 push	 edi

; 724  : 	return FALSE;

  01169	33 c0		 xor	 eax, eax

; 725  : }

  0116b	5f		 pop	 edi
  0116c	5e		 pop	 esi
  0116d	5b		 pop	 ebx
  0116e	8b e5		 mov	 esp, ebp
  01170	5d		 pop	 ebp
  01171	c3		 ret	 0
?NpcReira@@YAHPAUOBJECTSTRUCT@@0@Z ENDP			; NpcReira
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcBattleAnnouncer@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcBattleAnnouncer

; 728  : {

  01180	55		 push	 ebp
  01181	8b ec		 mov	 ebp, esp
  01183	83 ec 40	 sub	 esp, 64			; 00000040H
  01186	53		 push	 ebx
  01187	56		 push	 esi
  01188	57		 push	 edi

; 729  : 	return FALSE;

  01189	33 c0		 xor	 eax, eax

; 730  : }

  0118b	5f		 pop	 edi
  0118c	5e		 pop	 esi
  0118d	5b		 pop	 ebx
  0118e	8b e5		 mov	 esp, ebp
  01190	5d		 pop	 ebp
  01191	c3		 ret	 0
?NpcBattleAnnouncer@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcBattleAnnouncer
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	_rand:PROC
EXTRN	?gPkLimitFree@@3HA:DWORD			; gPkLimitFree
EXTRN	?ChatTargetSend@@YAXPAUOBJECTSTRUCT@@PADH@Z:PROC ; ChatTargetSend
EXTRN	__imp__wsprintfA:PROC
EXTRN	?Get@CMsg@@QAEPADH@Z:PROC			; CMsg::Get
EXTRN	?lMsg@@3VCMsg@@A:BYTE				; lMsg
EXTRN	?gObjGetPkTime@@YAHPAUOBJECTSTRUCT@@AAH1@Z:PROC	; gObjGetPkTime
EXTRN	?GetPkLevel@PartyClass@@QAEDH@Z:PROC		; PartyClass::GetPkLevel
EXTRN	?gParty@@3VPartyClass@@A:BYTE			; gParty
EXTRN	?ExConfig@@3VcExConfigs@@A:BYTE			; ExConfig
EXTRN	?GCServerCmd@@YAXHEEE@Z:PROC			; GCServerCmd
EXTRN	?gDevilSquareEvent@@3HA:DWORD			; gDevilSquareEvent
EXTRN	?gLanguage@@3HA:DWORD				; gLanguage
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv138 = -188						; size = 4
_numbertext$244289 = -120				; size = 4
_szTemp$244285 = -116					; size = 100
_min$244282 = -16					; size = 4
_hour$244281 = -12					; size = 4
_bPlayerKiller$ = -8					; size = 4
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcFasi@@YAHPAUOBJECTSTRUCT@@0@Z PROC			; NpcFasi

; 733  : {

  011a0	55		 push	 ebp
  011a1	8b ec		 mov	 ebp, esp
  011a3	81 ec bc 00 00
	00		 sub	 esp, 188		; 000000bcH
  011a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  011ae	33 c5		 xor	 eax, ebp
  011b0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  011b3	53		 push	 ebx
  011b4	56		 push	 esi
  011b5	57		 push	 edi

; 734  : 	if ( gLanguage != 0 )

  011b6	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gLanguage@@3HA, 0 ; gLanguage
  011bd	74 1d		 je	 SHORT $LN17@NpcFasi

; 735  : 	{
; 736  : 		if ( gDevilSquareEvent != FALSE )

  011bf	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gDevilSquareEvent@@3HA, 0 ; gDevilSquareEvent
  011c6	74 14		 je	 SHORT $LN17@NpcFasi

; 737  : 		{
; 738  : 			GCServerCmd(lpObj->m_Index, 1, 6, 0);

  011c8	6a 00		 push	 0
  011ca	6a 06		 push	 6
  011cc	6a 01		 push	 1
  011ce	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  011d1	8b 08		 mov	 ecx, DWORD PTR [eax]
  011d3	51		 push	 ecx
  011d4	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  011d9	83 c4 10	 add	 esp, 16			; 00000010H
$LN17@NpcFasi:

; 739  : 		}
; 740  : 	}
; 741  : 
; 742  : 	BOOL bPlayerKiller = FALSE; //Season 2.5 add-on

  011dc	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _bPlayerKiller$[ebp], 0

; 743  : 	
; 744  : 	if(ExConfig.PvP.ExPkPartySystem && lpObj->PartyNumber >= 0) //Season 2.5 add-on

  011e3	83 3d d4 08 00
	00 00		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A+2260, 0
  011ea	74 31		 je	 SHORT $LN15@NpcFasi
  011ec	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  011ef	83 b8 2c 04 00
	00 00		 cmp	 DWORD PTR [eax+1068], 0
  011f6	7c 25		 jl	 SHORT $LN15@NpcFasi

; 745  : 	{
; 746  : 		if(gParty.GetPkLevel(lpObj->PartyNumber) > 4)

  011f8	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  011fb	8b 88 2c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1068]
  01201	51		 push	 ecx
  01202	b9 00 00 00 00	 mov	 ecx, OFFSET ?gParty@@3VPartyClass@@A ; gParty
  01207	e8 00 00 00 00	 call	 ?GetPkLevel@PartyClass@@QAEDH@Z ; PartyClass::GetPkLevel
  0120c	0f be d0	 movsx	 edx, al
  0120f	83 fa 04	 cmp	 edx, 4
  01212	7e 07		 jle	 SHORT $LN14@NpcFasi

; 747  : 		{
; 748  : 			bPlayerKiller = TRUE;

  01214	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _bPlayerKiller$[ebp], 1
$LN14@NpcFasi:

; 749  : 		}
; 750  : 	}

  0121b	eb 16		 jmp	 SHORT $LN13@NpcFasi
$LN15@NpcFasi:

; 751  : 	else if(lpObj->m_PK_Level > 4)

  0121d	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01220	0f be 88 3d 01
	00 00		 movsx	 ecx, BYTE PTR [eax+317]
  01227	83 f9 04	 cmp	 ecx, 4
  0122a	7e 07		 jle	 SHORT $LN13@NpcFasi

; 752  : 	{
; 753  : 		bPlayerKiller = TRUE;

  0122c	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _bPlayerKiller$[ebp], 1
$LN13@NpcFasi:

; 754  : 	}
; 755  : 
; 756  : 	if ( bPlayerKiller == TRUE )

  01233	83 7d f8 01	 cmp	 DWORD PTR _bPlayerKiller$[ebp], 1
  01237	0f 85 5b 01 00
	00		 jne	 $LN11@NpcFasi

; 757  : 	{
; 758  : 		int hour = 0;

  0123d	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _hour$244281[ebp], 0

; 759  : 		int min = 0;

  01244	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _min$244282[ebp], 0

; 760  : 
; 761  : 		if ( lpNpc->TargetNumber != lpObj->m_Index )

  0124b	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0124e	0f bf 88 58 04
	00 00		 movsx	 ecx, WORD PTR [eax+1112]
  01255	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01258	3b 0a		 cmp	 ecx, DWORD PTR [edx]
  0125a	74 7c		 je	 SHORT $LN10@NpcFasi

; 762  : 		{
; 763  : 			if ( gObjGetPkTime(lpObj, hour, min) == TRUE )

  0125c	8d 45 f0	 lea	 eax, DWORD PTR _min$244282[ebp]
  0125f	50		 push	 eax
  01260	8d 4d f4	 lea	 ecx, DWORD PTR _hour$244281[ebp]
  01263	51		 push	 ecx
  01264	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01267	52		 push	 edx
  01268	e8 00 00 00 00	 call	 ?gObjGetPkTime@@YAHPAUOBJECTSTRUCT@@AAH1@Z ; gObjGetPkTime
  0126d	83 c4 0c	 add	 esp, 12			; 0000000cH
  01270	83 f8 01	 cmp	 eax, 1
  01273	75 5e		 jne	 SHORT $LN9@NpcFasi

; 764  : 			{
; 765  : 				char szTemp[100];
; 766  : 
; 767  : 				wsprintf(szTemp, lMsg.Get(MSGGET(4, 79)), hour, min);

  01275	8b 45 f0	 mov	 eax, DWORD PTR _min$244282[ebp]
  01278	50		 push	 eax
  01279	8b 4d f4	 mov	 ecx, DWORD PTR _hour$244281[ebp]
  0127c	51		 push	 ecx
  0127d	68 4f 04 00 00	 push	 1103			; 0000044fH
  01282	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  01287	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0128c	50		 push	 eax
  0128d	8d 55 8c	 lea	 edx, DWORD PTR _szTemp$244285[ebp]
  01290	52		 push	 edx
  01291	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA
  01297	83 c4 10	 add	 esp, 16			; 00000010H

; 768  : 
; 769  : 				ChatTargetSend(lpNpc, szTemp, lpObj->m_Index);

  0129a	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0129d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0129f	51		 push	 ecx
  012a0	8d 55 8c	 lea	 edx, DWORD PTR _szTemp$244285[ebp]
  012a3	52		 push	 edx
  012a4	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  012a7	50		 push	 eax
  012a8	e8 00 00 00 00	 call	 ?ChatTargetSend@@YAXPAUOBJECTSTRUCT@@PADH@Z ; ChatTargetSend
  012ad	83 c4 0c	 add	 esp, 12			; 0000000cH

; 770  : 
; 771  : 				lpNpc->TargetNumber = lpObj->m_Index;

  012b0	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  012b3	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  012b6	66 8b 11	 mov	 dx, WORD PTR [ecx]
  012b9	66 89 90 58 04
	00 00		 mov	 WORD PTR [eax+1112], dx

; 772  : 
; 773  : 				if(gPkLimitFree == 0)

  012c0	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gPkLimitFree@@3HA, 0 ; gPkLimitFree
  012c7	75 0a		 jne	 SHORT $LN9@NpcFasi

; 774  : 				{
; 775  : 					return TRUE;

  012c9	b8 01 00 00 00	 mov	 eax, 1
  012ce	e9 c7 00 00 00	 jmp	 $LN18@NpcFasi
$LN9@NpcFasi:

; 776  : 				}
; 777  : 			}
; 778  : 		}

  012d3	e9 c0 00 00 00	 jmp	 $LN11@NpcFasi
$LN10@NpcFasi:

; 779  : 		else if ( gPkLimitFree == FALSE )

  012d8	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gPkLimitFree@@3HA, 0 ; gPkLimitFree
  012df	0f 85 b3 00 00
	00		 jne	 $LN11@NpcFasi

; 780  : 		{
; 781  : 			int numbertext = rand() % 3;

  012e5	e8 00 00 00 00	 call	 _rand
  012ea	99		 cdq
  012eb	b9 03 00 00 00	 mov	 ecx, 3
  012f0	f7 f9		 idiv	 ecx
  012f2	89 55 88	 mov	 DWORD PTR _numbertext$244289[ebp], edx

; 782  : 
; 783  : 			switch ( numbertext )

  012f5	8b 45 88	 mov	 eax, DWORD PTR _numbertext$244289[ebp]
  012f8	89 85 44 ff ff
	ff		 mov	 DWORD PTR tv138[ebp], eax
  012fe	83 bd 44 ff ff
	ff 00		 cmp	 DWORD PTR tv138[ebp], 0
  01305	74 14		 je	 SHORT $LN3@NpcFasi
  01307	83 bd 44 ff ff
	ff 01		 cmp	 DWORD PTR tv138[ebp], 1
  0130e	74 2f		 je	 SHORT $LN2@NpcFasi
  01310	83 bd 44 ff ff
	ff 02		 cmp	 DWORD PTR tv138[ebp], 2
  01317	74 4a		 je	 SHORT $LN1@NpcFasi
  01319	eb 6a		 jmp	 SHORT $LN4@NpcFasi
$LN3@NpcFasi:

; 784  : 			{
; 785  : 				case 0:
; 786  : 					ChatTargetSend(lpNpc, lMsg.Get(MSGGET(4, 98)), lpObj->m_Index);

  0131b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0131e	8b 08		 mov	 ecx, DWORD PTR [eax]
  01320	51		 push	 ecx
  01321	68 62 04 00 00	 push	 1122			; 00000462H
  01326	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  0132b	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  01330	50		 push	 eax
  01331	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  01334	52		 push	 edx
  01335	e8 00 00 00 00	 call	 ?ChatTargetSend@@YAXPAUOBJECTSTRUCT@@PADH@Z ; ChatTargetSend
  0133a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 787  : 					break;

  0133d	eb 46		 jmp	 SHORT $LN4@NpcFasi
$LN2@NpcFasi:

; 788  : 
; 789  : 				case 1:
; 790  : 					ChatTargetSend(lpNpc, lMsg.Get(MSGGET(4, 99)), lpObj->m_Index);

  0133f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01342	8b 08		 mov	 ecx, DWORD PTR [eax]
  01344	51		 push	 ecx
  01345	68 63 04 00 00	 push	 1123			; 00000463H
  0134a	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  0134f	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  01354	50		 push	 eax
  01355	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  01358	52		 push	 edx
  01359	e8 00 00 00 00	 call	 ?ChatTargetSend@@YAXPAUOBJECTSTRUCT@@PADH@Z ; ChatTargetSend
  0135e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 791  : 					break;

  01361	eb 22		 jmp	 SHORT $LN4@NpcFasi
$LN1@NpcFasi:

; 792  : 
; 793  : 				case 2:
; 794  : 					ChatTargetSend(lpNpc, lMsg.Get(MSGGET(4, 100)), lpObj->m_Index);

  01363	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01366	8b 08		 mov	 ecx, DWORD PTR [eax]
  01368	51		 push	 ecx
  01369	68 64 04 00 00	 push	 1124			; 00000464H
  0136e	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  01373	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  01378	50		 push	 eax
  01379	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  0137c	52		 push	 edx
  0137d	e8 00 00 00 00	 call	 ?ChatTargetSend@@YAXPAUOBJECTSTRUCT@@PADH@Z ; ChatTargetSend
  01382	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@NpcFasi:

; 795  : 					break;
; 796  : 			}
; 797  : 
; 798  : 			lpNpc->TargetNumber = 0;

  01385	33 c0		 xor	 eax, eax
  01387	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0138a	66 89 81 58 04
	00 00		 mov	 WORD PTR [ecx+1112], ax

; 799  : 			return TRUE;

  01391	b8 01 00 00 00	 mov	 eax, 1
  01396	eb 02		 jmp	 SHORT $LN18@NpcFasi
$LN11@NpcFasi:

; 800  : 		}
; 801  : 	}
; 802  : 
; 803  : 	return FALSE;

  01398	33 c0		 xor	 eax, eax
$LN18@NpcFasi:

; 804  : }

  0139a	5f		 pop	 edi
  0139b	5e		 pop	 esi
  0139c	5b		 pop	 ebx
  0139d	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  013a0	33 cd		 xor	 ecx, ebp
  013a2	e8 00 00 00 00	 call	 @__security_check_cookie@4
  013a7	8b e5		 mov	 esp, ebp
  013a9	5d		 pop	 ebp
  013aa	c3		 ret	 0
?NpcFasi@@YAHPAUOBJECTSTRUCT@@0@Z ENDP			; NpcFasi
_TEXT	ENDS
PUBLIC	??_C@_0CF@FNBINGNC@You?5need?5Gens?5family?5to?5create?5g@ ; `string'
PUBLIC	??_C@_0CN@BIAKPPND@?$LM?$KN?$LJ?v?$LK?P?G?R?5?$LB?b?$LA?$KD?$LP?$KB?$LE?B?5?$LB?f?$LF?e?$LI?$KG?5?$LL?$PN?$LM?$LK?G?R?$LM@ ; `string'
EXTRN	?GCGuildMasterQuestionSend@@YAXH@Z:PROC		; GCGuildMasterQuestionSend
EXTRN	?gObjGuildMasterCapacityTest@@YAHPAUOBJECTSTRUCT@@@Z:PROC ; gObjGuildMasterCapacityTest
EXTRN	?GCServerMsgStringSend@@YAXPADHE@Z:PROC		; GCServerMsgStringSend
EXTRN	?GetGensInfluence@GensSystem@@QAEHPAUOBJECTSTRUCT@@@Z:PROC ; GensSystem::GetGensInfluence
EXTRN	?gGensSystem@@3VGensSystem@@A:BYTE		; gGensSystem
EXTRN	?gGENS@@3HA:DWORD				; gGENS
EXTRN	?gGuildCreate@@3HA:DWORD			; gGuildCreate
;	COMDAT ??_C@_0CF@FNBINGNC@You?5need?5Gens?5family?5to?5create?5g@
CONST	SEGMENT
??_C@_0CF@FNBINGNC@You?5need?5Gens?5family?5to?5create?5g@ DB 'You need G'
	DB	'ens family to create guild', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CN@BIAKPPND@?$LM?$KN?$LJ?v?$LK?P?G?R?5?$LB?b?$LA?$KD?$LP?$KB?$LE?B?5?$LB?f?$LF?e?$LI?$KG?5?$LL?$PN?$LM?$LK?G?R?$LM@
CONST	SEGMENT
??_C@_0CN@BIAKPPND@?$LM?$KN?$LJ?v?$LK?P?G?R?5?$LB?b?$LA?$KD?$LP?$KB?$LE?B?5?$LB?f?$LF?e?$LI?$KG?5?$LL?$PN?$LM?$LK?G?R?$LM@ DB 0bcH
	DB	0adH, 0b9H, 0f6H, 0baH, 0d0H, 0c7H, 0d2H, ' ', 0b1H, 0e2H, 0b0H
	DB	0a3H, 0bfH, 0a1H, 0b4H, 0c2H, ' ', 0b1H, 0e6H, 0b5H, 0e5H, 0b8H
	DB	0a6H, ' ', 0bbH, 0fdH, 0bcH, 0baH, 0c7H, 0d2H, 0bcH, 0f6H, 0b0H
	DB	0a1H, ' ', 0beH, 0f8H, 0bdH, 0c0H, 0b4H, 0cfH, 0b4H, 0d9H, 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_capacity$ = -4						; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcGuildMasterTalk@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcGuildMasterTalk

; 807  : {

  013b0	55		 push	 ebp
  013b1	8b ec		 mov	 ebp, esp
  013b3	83 ec 44	 sub	 esp, 68			; 00000044H
  013b6	53		 push	 ebx
  013b7	56		 push	 esi
  013b8	57		 push	 edi

; 808  : 	if ( gGuildCreate == FALSE )

  013b9	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gGuildCreate@@3HA, 0 ; gGuildCreate
  013c0	75 21		 jne	 SHORT $LN9@NpcGuildMa

; 809  : 	{
; 810  : 		ChatTargetSend(lpNpc, "    ", lpObj->m_Index);

  013c2	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  013c5	8b 08		 mov	 ecx, DWORD PTR [eax]
  013c7	51		 push	 ecx
  013c8	68 00 00 00 00	 push	 OFFSET ??_C@_0CN@BIAKPPND@?$LM?$KN?$LJ?v?$LK?P?G?R?5?$LB?b?$LA?$KD?$LP?$KB?$LE?B?5?$LB?f?$LF?e?$LI?$KG?5?$LL?$PN?$LM?$LK?G?R?$LM@
  013cd	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  013d0	52		 push	 edx
  013d1	e8 00 00 00 00	 call	 ?ChatTargetSend@@YAXPAUOBJECTSTRUCT@@PADH@Z ; ChatTargetSend
  013d6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 811  : 		return TRUE;

  013d9	b8 01 00 00 00	 mov	 eax, 1
  013de	e9 f0 00 00 00	 jmp	 $LN10@NpcGuildMa
$LN9@NpcGuildMa:

; 812  : 	}
; 813  : 
; 814  : 	if ( lpObj->GuildNumber > 0 )

  013e3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  013e6	83 b8 34 04 00
	00 00		 cmp	 DWORD PTR [eax+1076], 0
  013ed	7e 2c		 jle	 SHORT $LN8@NpcGuildMa

; 815  : 	{
; 816  : 		ChatTargetSend(lpNpc, lMsg.Get(MSGGET(4, 116)), lpObj->m_Index);

  013ef	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  013f2	8b 08		 mov	 ecx, DWORD PTR [eax]
  013f4	51		 push	 ecx
  013f5	68 74 04 00 00	 push	 1140			; 00000474H
  013fa	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  013ff	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  01404	50		 push	 eax
  01405	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  01408	52		 push	 edx
  01409	e8 00 00 00 00	 call	 ?ChatTargetSend@@YAXPAUOBJECTSTRUCT@@PADH@Z ; ChatTargetSend
  0140e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 817  : 		return TRUE;

  01411	b8 01 00 00 00	 mov	 eax, 1
  01416	e9 b8 00 00 00	 jmp	 $LN10@NpcGuildMa
$LN8@NpcGuildMa:

; 818  : 	}
; 819  : 
; 820  : 	if(gGENS)

  0141b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gGENS@@3HA, 0 ; gGENS
  01422	74 39		 je	 SHORT $LN7@NpcGuildMa

; 821  : 	{
; 822  : 		if( gGensSystem.GuildCreateReqGens )

  01424	0f b6 05 ac 00
	00 00		 movzx	 eax, BYTE PTR ?gGensSystem@@3VGensSystem@@A+172
  0142b	85 c0		 test	 eax, eax
  0142d	74 2e		 je	 SHORT $LN7@NpcGuildMa

; 823  : 		{
; 824  : 			if( !gGensSystem.GetGensInfluence(lpObj) )

  0142f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01432	50		 push	 eax
  01433	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  01438	e8 00 00 00 00	 call	 ?GetGensInfluence@GensSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; GensSystem::GetGensInfluence
  0143d	85 c0		 test	 eax, eax
  0143f	75 1c		 jne	 SHORT $LN7@NpcGuildMa

; 825  : 			{
; 826  : 				GCServerMsgStringSend("You need Gens family to create guild", lpObj->m_Index, 1);

  01441	6a 01		 push	 1
  01443	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01446	8b 08		 mov	 ecx, DWORD PTR [eax]
  01448	51		 push	 ecx
  01449	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@FNBINGNC@You?5need?5Gens?5family?5to?5create?5g@
  0144e	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  01453	83 c4 0c	 add	 esp, 12			; 0000000cH

; 827  : 				return true;

  01456	b8 01 00 00 00	 mov	 eax, 1
  0145b	eb 76		 jmp	 SHORT $LN10@NpcGuildMa
$LN7@NpcGuildMa:

; 828  : 			}
; 829  : 		}
; 830  : 	}
; 831  : 
; 832  : 	int capacity = gObjGuildMasterCapacityTest(lpObj);

  0145d	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01460	50		 push	 eax
  01461	e8 00 00 00 00	 call	 ?gObjGuildMasterCapacityTest@@YAHPAUOBJECTSTRUCT@@@Z ; gObjGuildMasterCapacityTest
  01466	83 c4 04	 add	 esp, 4
  01469	89 45 fc	 mov	 DWORD PTR _capacity$[ebp], eax

; 833  : 
; 834  : 	if ( capacity == 0 )

  0146c	83 7d fc 00	 cmp	 DWORD PTR _capacity$[ebp], 0
  01470	75 24		 jne	 SHORT $LN4@NpcGuildMa

; 835  : 	{
; 836  : 		ChatTargetSend(lpNpc, lMsg.Get(MSGGET(4, 117)), lpObj->m_Index);

  01472	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01475	8b 08		 mov	 ecx, DWORD PTR [eax]
  01477	51		 push	 ecx
  01478	68 75 04 00 00	 push	 1141			; 00000475H
  0147d	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  01482	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  01487	50		 push	 eax
  01488	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  0148b	52		 push	 edx
  0148c	e8 00 00 00 00	 call	 ?ChatTargetSend@@YAXPAUOBJECTSTRUCT@@PADH@Z ; ChatTargetSend
  01491	83 c4 0c	 add	 esp, 12			; 0000000cH
  01494	eb 38		 jmp	 SHORT $LN3@NpcGuildMa
$LN4@NpcGuildMa:

; 837  : 	}
; 838  : 	else if ( capacity == 2 )

  01496	83 7d fc 02	 cmp	 DWORD PTR _capacity$[ebp], 2
  0149a	75 24		 jne	 SHORT $LN2@NpcGuildMa

; 839  : 	{
; 840  : 		ChatTargetSend(lpNpc, lMsg.Get(MSGGET(4, 118)), lpObj->m_Index);

  0149c	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0149f	8b 08		 mov	 ecx, DWORD PTR [eax]
  014a1	51		 push	 ecx
  014a2	68 76 04 00 00	 push	 1142			; 00000476H
  014a7	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  014ac	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  014b1	50		 push	 eax
  014b2	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  014b5	52		 push	 edx
  014b6	e8 00 00 00 00	 call	 ?ChatTargetSend@@YAXPAUOBJECTSTRUCT@@PADH@Z ; ChatTargetSend
  014bb	83 c4 0c	 add	 esp, 12			; 0000000cH

; 841  : 	}
; 842  : 	else

  014be	eb 0e		 jmp	 SHORT $LN3@NpcGuildMa
$LN2@NpcGuildMa:

; 843  : 	{
; 844  : 		GCGuildMasterQuestionSend(lpObj->m_Index);

  014c0	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  014c3	8b 08		 mov	 ecx, DWORD PTR [eax]
  014c5	51		 push	 ecx
  014c6	e8 00 00 00 00	 call	 ?GCGuildMasterQuestionSend@@YAXH@Z ; GCGuildMasterQuestionSend
  014cb	83 c4 04	 add	 esp, 4
$LN3@NpcGuildMa:

; 845  : 	}
; 846  : 
; 847  : 	return TRUE;

  014ce	b8 01 00 00 00	 mov	 eax, 1
$LN10@NpcGuildMa:

; 848  : }

  014d3	5f		 pop	 edi
  014d4	5e		 pop	 esi
  014d5	5b		 pop	 ebx
  014d6	8b e5		 mov	 esp, ebp
  014d8	5d		 pop	 ebp
  014d9	c3		 ret	 0
?NpcGuildMasterTalk@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcGuildMasterTalk
_TEXT	ENDS
EXTRN	?gEnableEventNPCTalk@@3HA:DWORD			; gEnableEventNPCTalk
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcRolensiaGuard@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcRolensiaGuard

; 851  : {

  014e0	55		 push	 ebp
  014e1	8b ec		 mov	 ebp, esp
  014e3	83 ec 40	 sub	 esp, 64			; 00000040H
  014e6	53		 push	 ebx
  014e7	56		 push	 esi
  014e8	57		 push	 edi

; 852  : 	if ( gLanguage != 0 )

  014e9	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gLanguage@@3HA, 0 ; gLanguage
  014f0	74 02		 je	 SHORT $LN3@NpcRolensi
  014f2	eb 1d		 jmp	 SHORT $LN2@NpcRolensi
$LN3@NpcRolensi:

; 853  : 	{
; 854  : 	
; 855  : 	}
; 856  : 	else if ( gEnableEventNPCTalk != FALSE )

  014f4	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gEnableEventNPCTalk@@3HA, 0 ; gEnableEventNPCTalk
  014fb	74 14		 je	 SHORT $LN2@NpcRolensi

; 857  : 	{
; 858  : 		GCServerCmd(lpObj->m_Index, 4, 0, 0);

  014fd	6a 00		 push	 0
  014ff	6a 00		 push	 0
  01501	6a 04		 push	 4
  01503	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01506	8b 08		 mov	 ecx, DWORD PTR [eax]
  01508	51		 push	 ecx
  01509	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  0150e	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@NpcRolensi:

; 859  : 	}
; 860  : 
; 861  : 	return TRUE;

  01511	b8 01 00 00 00	 mov	 eax, 1

; 862  : }

  01516	5f		 pop	 edi
  01517	5e		 pop	 esi
  01518	5b		 pop	 ebx
  01519	8b e5		 mov	 esp, ebp
  0151b	5d		 pop	 ebp
  0151c	c3		 ret	 0
?NpcRolensiaGuard@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcRolensiaGuard
_TEXT	ENDS
EXTRN	?gUserFindDevilSquareKeyEyes@@YAHH@Z:PROC	; gUserFindDevilSquareKeyEyes
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcChaosGoblelin@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcChaosGoblelin

; 865  : {

  01520	55		 push	 ebp
  01521	8b ec		 mov	 ebp, esp
  01523	83 ec 40	 sub	 esp, 64			; 00000040H
  01526	53		 push	 ebx
  01527	56		 push	 esi
  01528	57		 push	 edi

; 866  : 	gUserFindDevilSquareKeyEyes(lpObj->m_Index);

  01529	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0152c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0152e	51		 push	 ecx
  0152f	e8 00 00 00 00	 call	 ?gUserFindDevilSquareKeyEyes@@YAHH@Z ; gUserFindDevilSquareKeyEyes
  01534	83 c4 04	 add	 esp, 4

; 867  : 
; 868  : 	return FALSE;

  01537	33 c0		 xor	 eax, eax

; 869  : }

  01539	5f		 pop	 edi
  0153a	5e		 pop	 esi
  0153b	5b		 pop	 ebx
  0153c	8b e5		 mov	 esp, ebp
  0153e	5d		 pop	 ebp
  0153f	c3		 ret	 0
?NpcChaosGoblelin@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcChaosGoblelin
_TEXT	ENDS
PUBLIC	??_C@_0CL@KMBDNKMH@?$FLJewelMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Jewel?5Mix?5De@ ; `string'
PUBLIC	??_C@_0DD@KJEEOOOJ@?$FL?$CFs?$FN?$FL?$CFs?$FN?5is?5Already?5Opening?5PSho@ ; `string'
PUBLIC	__$ArrayPad$
EXTRN	?gObjWarehouseTextSave@@YAXPAUOBJECTSTRUCT@@@Z:PROC ; gObjWarehouseTextSave
EXTRN	?gObjItemTextSave@@YAXPAUOBJECTSTRUCT@@@Z:PROC	; gObjItemTextSave
EXTRN	?LogAddTD@@3P6AXPADZZA:DWORD			; LogAddTD
EXTRN	?DataSend@@YAHHPAEK@Z:PROC			; DataSend
EXTRN	?bCanChaosBox@@3HA:DWORD			; bCanChaosBox
;	COMDAT ??_C@_0CL@KMBDNKMH@?$FLJewelMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Jewel?5Mix?5De@
CONST	SEGMENT
??_C@_0CL@KMBDNKMH@?$FLJewelMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Jewel?5Mix?5De@ DB '['
	DB	'JewelMix] [%s][%s] Jewel Mix Dealer Start', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DD@KJEEOOOJ@?$FL?$CFs?$FN?$FL?$CFs?$FN?5is?5Already?5Opening?5PSho@
CONST	SEGMENT
??_C@_0DD@KJEEOOOJ@?$FL?$CFs?$FN?$FL?$CFs?$FN?5is?5Already?5Opening?5PSho@ DB '['
	DB	'%s][%s] is Already Opening PShop, ChaosBox Failed', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_pMsg$244333 = -16					; size = 11
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcChaosCardMaster@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcChaosCardMaster

; 872  : {

  01540	55		 push	 ebp
  01541	8b ec		 mov	 ebp, esp
  01543	83 ec 50	 sub	 esp, 80			; 00000050H
  01546	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0154b	33 c5		 xor	 eax, ebp
  0154d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01550	53		 push	 ebx
  01551	56		 push	 esi
  01552	57		 push	 edi

; 873  : #ifdef OLDCASHSHOP
; 874  : 	if ( g_bUseLotteryEvent == FALSE )
; 875  : 	{
; 876  : 		return FALSE;
; 877  : 	}
; 878  : #endif
; 879  : 	
; 880  : 	if ( lpObj->m_bPShopOpen == 1 )//Season 4.5 addon

  01553	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01556	0f b6 88 c4 0e
	00 00		 movzx	 ecx, BYTE PTR [eax+3780]
  0155d	83 f9 01	 cmp	 ecx, 1
  01560	75 27		 jne	 SHORT $LN4@NpcChaosCa

; 881  : 	{
; 882  : 		GCServerMsgStringSend(lMsg.Get(MSGGET(4,194)), lpObj->m_Index, 1);

  01562	6a 01		 push	 1
  01564	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01567	8b 08		 mov	 ecx, DWORD PTR [eax]
  01569	51		 push	 ecx
  0156a	68 c2 04 00 00	 push	 1218			; 000004c2H
  0156f	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  01574	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  01579	50		 push	 eax
  0157a	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  0157f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 883  : 		
; 884  : 		return FALSE;

  01582	33 c0		 xor	 eax, eax
  01584	e9 0d 01 00 00	 jmp	 $LN5@NpcChaosCa
$LN4@NpcChaosCa:

; 885  : 	}
; 886  : 	if ( bCanChaosBox == TRUE )

  01589	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?bCanChaosBox@@3HA, 1 ; bCanChaosBox
  01590	0f 85 fb 00 00
	00		 jne	 $LN3@NpcChaosCa

; 887  : 	{
; 888  : 		if ( lpObj->m_IfState.use > 0 )

  01596	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01599	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  0159f	83 e1 03	 and	 ecx, 3
  015a2	76 07		 jbe	 SHORT $LN2@NpcChaosCa

; 889  : 		{
; 890  : 			return FALSE;

  015a4	33 c0		 xor	 eax, eax
  015a6	e9 eb 00 00 00	 jmp	 $LN5@NpcChaosCa
$LN2@NpcChaosCa:

; 891  : 		}
; 892  : 
; 893  : 		if ( lpObj->m_bPShopOpen == true )

  015ab	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  015ae	0f b6 88 c4 0e
	00 00		 movzx	 ecx, BYTE PTR [eax+3780]
  015b5	83 f9 01	 cmp	 ecx, 1
  015b8	75 46		 jne	 SHORT $LN1@NpcChaosCa

; 894  : 		{
; 895  : 			LogAdd("[%s][%s] is Already Opening PShop, ChaosBox Failed", lpObj->AccountID, lpObj->Name);

  015ba	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  015bd	83 c0 77	 add	 eax, 119		; 00000077H
  015c0	50		 push	 eax
  015c1	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  015c4	83 c1 6c	 add	 ecx, 108		; 0000006cH
  015c7	51		 push	 ecx
  015c8	68 00 00 00 00	 push	 OFFSET ??_C@_0DD@KJEEOOOJ@?$FL?$CFs?$FN?$FL?$CFs?$FN?5is?5Already?5Opening?5PSho@
  015cd	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  015d3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 896  : 			GCServerMsgStringSend(lMsg.Get(MSGGET(4,194)), lpObj->m_Index, 1);

  015d6	6a 01		 push	 1
  015d8	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  015db	8b 08		 mov	 ecx, DWORD PTR [eax]
  015dd	51		 push	 ecx
  015de	68 c2 04 00 00	 push	 1218			; 000004c2H
  015e3	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  015e8	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  015ed	50		 push	 eax
  015ee	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  015f3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 897  : 			return TRUE;

  015f6	b8 01 00 00 00	 mov	 eax, 1
  015fb	e9 96 00 00 00	 jmp	 $LN5@NpcChaosCa
$LN1@NpcChaosCa:

; 898  : 		}
; 899  : 
; 900  : 		PMSG_TALKRESULT pMsg;
; 901  : 
; 902  : 		pMsg.h.c = 0xC3;

  01600	c6 45 f0 c3	 mov	 BYTE PTR _pMsg$244333[ebp], 195 ; 000000c3H

; 903  : 		pMsg.h.headcode = 0x30;

  01604	c6 45 f2 30	 mov	 BYTE PTR _pMsg$244333[ebp+2], 48 ; 00000030H

; 904  : 		pMsg.h.size = sizeof(pMsg);

  01608	c6 45 f1 0b	 mov	 BYTE PTR _pMsg$244333[ebp+1], 11 ; 0000000bH

; 905  : 		pMsg.result = 0x15;

  0160c	c6 45 f3 15	 mov	 BYTE PTR _pMsg$244333[ebp+3], 21 ; 00000015H

; 906  : 
; 907  : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  01610	0f b6 45 f1	 movzx	 eax, BYTE PTR _pMsg$244333[ebp+1]
  01614	50		 push	 eax
  01615	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$244333[ebp]
  01618	51		 push	 ecx
  01619	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0161c	8b 02		 mov	 eax, DWORD PTR [edx]
  0161e	50		 push	 eax
  0161f	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  01624	83 c4 0c	 add	 esp, 12			; 0000000cH

; 908  : 
; 909  : 		lpObj->m_IfState.use = 1;

  01627	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0162a	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  01630	83 e1 fc	 and	 ecx, -4			; fffffffcH
  01633	83 c9 01	 or	 ecx, 1
  01636	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01639	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 910  : 		lpObj->m_IfState.type = 7;

  0163f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01642	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  01648	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  0164e	81 c9 c0 01 00
	00		 or	 ecx, 448		; 000001c0H
  01654	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01657	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 911  : 
; 912  : 		LogAddTD("[JewelMix] [%s][%s] Jewel Mix Dealer Start", lpObj->AccountID, lpObj->Name);

  0165d	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01660	83 c0 77	 add	 eax, 119		; 00000077H
  01663	50		 push	 eax
  01664	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01667	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0166a	51		 push	 ecx
  0166b	68 00 00 00 00	 push	 OFFSET ??_C@_0CL@KMBDNKMH@?$FLJewelMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Jewel?5Mix?5De@
  01670	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01676	83 c4 0c	 add	 esp, 12			; 0000000cH

; 913  : 
; 914  : 		gObjItemTextSave(lpObj);

  01679	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0167c	50		 push	 eax
  0167d	e8 00 00 00 00	 call	 ?gObjItemTextSave@@YAXPAUOBJECTSTRUCT@@@Z ; gObjItemTextSave
  01682	83 c4 04	 add	 esp, 4

; 915  : 		gObjWarehouseTextSave(lpObj);

  01685	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01688	50		 push	 eax
  01689	e8 00 00 00 00	 call	 ?gObjWarehouseTextSave@@YAXPAUOBJECTSTRUCT@@@Z ; gObjWarehouseTextSave
  0168e	83 c4 04	 add	 esp, 4
$LN3@NpcChaosCa:

; 916  : 	}
; 917  : 
; 918  : 	return TRUE;

  01691	b8 01 00 00 00	 mov	 eax, 1
$LN5@NpcChaosCa:

; 919  : }

  01696	5f		 pop	 edi
  01697	5e		 pop	 esi
  01698	5b		 pop	 ebx
  01699	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0169c	33 cd		 xor	 ecx, ebp
  0169e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  016a3	8b e5		 mov	 esp, ebp
  016a5	5d		 pop	 ebp
  016a6	c3		 ret	 0
?NpcChaosCardMaster@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcChaosCardMaster
_TEXT	ENDS
PUBLIC	?GetState@CDevilSquare@@QAE?AW4eDevilSquareState@@XZ ; CDevilSquare::GetState
PUBLIC	__$ArrayPad$
EXTRN	?g_DevilSquare@@3VCDevilSquare@@A:BYTE		; g_DevilSquare
EXTRN	?gUserFindDevilSquareInvitation@@YAHH@Z:PROC	; gUserFindDevilSquareInvitation
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$244362 = -20					; size = 11
_aIndex$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcRusipher@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcRusipher

; 922  : {

  016b0	55		 push	 ebp
  016b1	8b ec		 mov	 ebp, esp
  016b3	83 ec 54	 sub	 esp, 84			; 00000054H
  016b6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  016bb	33 c5		 xor	 eax, ebp
  016bd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  016c0	53		 push	 ebx
  016c1	56		 push	 esi
  016c2	57		 push	 edi

; 923  : 	if ( gDevilSquareEvent == FALSE )

  016c3	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gDevilSquareEvent@@3HA, 0 ; gDevilSquareEvent
  016ca	75 0a		 jne	 SHORT $LN6@NpcRusiphe

; 924  : 	{
; 925  : 		return TRUE;

  016cc	b8 01 00 00 00	 mov	 eax, 1
  016d1	e9 ce 00 00 00	 jmp	 $LN7@NpcRusiphe
$LN6@NpcRusiphe:

; 926  : 	}
; 927  : 
; 928  : 	int aIndex = lpObj->m_Index;

  016d6	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  016d9	8b 08		 mov	 ecx, DWORD PTR [eax]
  016db	89 4d f8	 mov	 DWORD PTR _aIndex$[ebp], ecx

; 929  : 
; 930  : 	if ( (lpObj->m_IfState.use ) > 0 )

  016de	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  016e1	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  016e7	83 e1 03	 and	 ecx, 3
  016ea	76 0a		 jbe	 SHORT $LN5@NpcRusiphe

; 931  : 	{
; 932  : 		return TRUE;

  016ec	b8 01 00 00 00	 mov	 eax, 1
  016f1	e9 ae 00 00 00	 jmp	 $LN7@NpcRusiphe
$LN5@NpcRusiphe:

; 933  : 	}
; 934  : 
; 935  : 	if ( gUserFindDevilSquareInvitation(aIndex) == FALSE )

  016f6	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  016f9	50		 push	 eax
  016fa	e8 00 00 00 00	 call	 ?gUserFindDevilSquareInvitation@@YAHH@Z ; gUserFindDevilSquareInvitation
  016ff	83 c4 04	 add	 esp, 4
  01702	85 c0		 test	 eax, eax
  01704	75 19		 jne	 SHORT $LN4@NpcRusiphe

; 936  : 	{
; 937  : 		GCServerCmd(lpObj->m_Index, 1, 2 ,0);

  01706	6a 00		 push	 0
  01708	6a 02		 push	 2
  0170a	6a 01		 push	 1
  0170c	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0170f	8b 08		 mov	 ecx, DWORD PTR [eax]
  01711	51		 push	 ecx
  01712	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  01717	83 c4 10	 add	 esp, 16			; 00000010H
  0171a	e9 80 00 00 00	 jmp	 $LN3@NpcRusiphe
$LN4@NpcRusiphe:

; 938  : 	}
; 939  : 	else if ( g_DevilSquare.GetState() == 1 )

  0171f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DevilSquare@@3VCDevilSquare@@A ; g_DevilSquare
  01724	e8 00 00 00 00	 call	 ?GetState@CDevilSquare@@QAE?AW4eDevilSquareState@@XZ ; CDevilSquare::GetState
  01729	83 f8 01	 cmp	 eax, 1
  0172c	75 5d		 jne	 SHORT $LN2@NpcRusiphe

; 940  : 	{
; 941  : 		PMSG_TALKRESULT pMsg;
; 942  : 
; 943  : 		pMsg.h.c = 0xC3;

  0172e	c6 45 ec c3	 mov	 BYTE PTR _pMsg$244362[ebp], 195 ; 000000c3H

; 944  : 		pMsg.h.headcode = 0x30;

  01732	c6 45 ee 30	 mov	 BYTE PTR _pMsg$244362[ebp+2], 48 ; 00000030H

; 945  : 		pMsg.h.size = sizeof(pMsg);

  01736	c6 45 ed 0b	 mov	 BYTE PTR _pMsg$244362[ebp+1], 11 ; 0000000bH

; 946  : 		pMsg.result = 0x04;

  0173a	c6 45 ef 04	 mov	 BYTE PTR _pMsg$244362[ebp+3], 4

; 947  : 
; 948  : 		DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  0173e	0f b6 45 ed	 movzx	 eax, BYTE PTR _pMsg$244362[ebp+1]
  01742	50		 push	 eax
  01743	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$244362[ebp]
  01746	51		 push	 ecx
  01747	8b 55 f8	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0174a	52		 push	 edx
  0174b	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  01750	83 c4 0c	 add	 esp, 12			; 0000000cH

; 949  : 
; 950  : 		lpObj->m_IfState.use = 1;

  01753	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01756	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  0175c	83 e1 fc	 and	 ecx, -4			; fffffffcH
  0175f	83 c9 01	 or	 ecx, 1
  01762	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01765	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 951  : 		lpObj->m_IfState.type = 12;

  0176b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0176e	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  01774	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  0177a	81 c9 00 03 00
	00		 or	 ecx, 768		; 00000300H
  01780	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01783	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 952  : 	}
; 953  : 	else

  01789	eb 14		 jmp	 SHORT $LN3@NpcRusiphe
$LN2@NpcRusiphe:

; 954  : 	{
; 955  : 		GCServerCmd(lpObj->m_Index, 1, 3, 0);

  0178b	6a 00		 push	 0
  0178d	6a 03		 push	 3
  0178f	6a 01		 push	 1
  01791	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01794	8b 08		 mov	 ecx, DWORD PTR [eax]
  01796	51		 push	 ecx
  01797	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  0179c	83 c4 10	 add	 esp, 16			; 00000010H
$LN3@NpcRusiphe:

; 956  : 	}
; 957  : 
; 958  : 	return TRUE;

  0179f	b8 01 00 00 00	 mov	 eax, 1
$LN7@NpcRusiphe:

; 959  : }

  017a4	5f		 pop	 edi
  017a5	5e		 pop	 esi
  017a6	5b		 pop	 ebx
  017a7	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  017aa	33 cd		 xor	 ecx, ebp
  017ac	e8 00 00 00 00	 call	 @__security_check_cookie@4
  017b1	8b e5		 mov	 esp, ebp
  017b3	5d		 pop	 ebp
  017b4	c3		 ret	 0
?NpcRusipher@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcRusipher
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\devilsquare.h
_TEXT	ENDS
;	COMDAT ?GetState@CDevilSquare@@QAE?AW4eDevilSquareState@@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetState@CDevilSquare@@QAE?AW4eDevilSquareState@@XZ PROC ; CDevilSquare::GetState, COMDAT
; _this$ = ecx

; 44   : 	enum eDevilSquareState GetState(){return this->m_eState;};

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 04	 mov	 eax, DWORD PTR [eax+4]
  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetState@CDevilSquare@@QAE?AW4eDevilSquareState@@XZ ENDP ; CDevilSquare::GetState
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\npctalk.cpp
_TEXT	ENDS
_TEXT	SEGMENT
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcPosionGirl@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcPosionGirl

; 962  : {

  017c0	55		 push	 ebp
  017c1	8b ec		 mov	 ebp, esp
  017c3	83 ec 40	 sub	 esp, 64			; 00000040H
  017c6	53		 push	 ebx
  017c7	56		 push	 esi
  017c8	57		 push	 edi

; 963  : 	return FALSE;

  017c9	33 c0		 xor	 eax, eax

; 964  : }

  017cb	5f		 pop	 edi
  017cc	5e		 pop	 esi
  017cd	5b		 pop	 ebx
  017ce	8b e5		 mov	 esp, ebp
  017d0	5d		 pop	 ebp
  017d1	c3		 ret	 0
?NpcPosionGirl@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcPosionGirl
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcDeviasWizard@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcDeviasWizard

; 967  : {

  017e0	55		 push	 ebp
  017e1	8b ec		 mov	 ebp, esp
  017e3	83 ec 40	 sub	 esp, 64			; 00000040H
  017e6	53		 push	 ebx
  017e7	56		 push	 esi
  017e8	57		 push	 edi

; 968  : 	return FALSE;

  017e9	33 c0		 xor	 eax, eax

; 969  : }

  017eb	5f		 pop	 edi
  017ec	5e		 pop	 esi
  017ed	5b		 pop	 ebx
  017ee	8b e5		 mov	 esp, ebp
  017f0	5d		 pop	 ebp
  017f1	c3		 ret	 0
?NpcDeviasWizard@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcDeviasWizard
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcDeviasGuard@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcDeviasGuard

; 972  : {

  01800	55		 push	 ebp
  01801	8b ec		 mov	 ebp, esp
  01803	83 ec 40	 sub	 esp, 64			; 00000040H
  01806	53		 push	 ebx
  01807	56		 push	 esi
  01808	57		 push	 edi

; 973  : 	return TRUE;

  01809	b8 01 00 00 00	 mov	 eax, 1

; 974  : }

  0180e	5f		 pop	 edi
  0180f	5e		 pop	 esi
  01810	5b		 pop	 ebx
  01811	8b e5		 mov	 esp, ebp
  01813	5d		 pop	 ebp
  01814	c3		 ret	 0
?NpcDeviasGuard@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcDeviasGuard
_TEXT	ENDS
PUBLIC	?NpcDeviasWareHousemen@@YAHPAUOBJECTSTRUCT@@0@Z	; NpcDeviasWareHousemen
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcDeviasWareHousemen@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcDeviasWareHousemen

; 977  : {

  01820	55		 push	 ebp
  01821	8b ec		 mov	 ebp, esp
  01823	83 ec 40	 sub	 esp, 64			; 00000040H
  01826	53		 push	 ebx
  01827	56		 push	 esi
  01828	57		 push	 edi

; 978  : 	return FALSE;

  01829	33 c0		 xor	 eax, eax

; 979  : }

  0182b	5f		 pop	 edi
  0182c	5e		 pop	 esi
  0182d	5b		 pop	 ebx
  0182e	8b e5		 mov	 esp, ebp
  01830	5d		 pop	 ebp
  01831	c3		 ret	 0
?NpcDeviasWareHousemen@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcDeviasWareHousemen
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcWarehouse@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcWarehouse

; 982  : {

  01840	55		 push	 ebp
  01841	8b ec		 mov	 ebp, esp
  01843	83 ec 40	 sub	 esp, 64			; 00000040H
  01846	53		 push	 ebx
  01847	56		 push	 esi
  01848	57		 push	 edi

; 983  : 	return FALSE;

  01849	33 c0		 xor	 eax, eax

; 984  : }

  0184b	5f		 pop	 edi
  0184c	5e		 pop	 esi
  0184d	5b		 pop	 ebx
  0184e	8b e5		 mov	 esp, ebp
  01850	5d		 pop	 ebp
  01851	c3		 ret	 0
?NpcWarehouse@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcWarehouse
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcNoriaRara@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcNoriaRara

; 987  : {

  01860	55		 push	 ebp
  01861	8b ec		 mov	 ebp, esp
  01863	83 ec 40	 sub	 esp, 64			; 00000040H
  01866	53		 push	 ebx
  01867	56		 push	 esi
  01868	57		 push	 edi

; 988  : 	if ( gLanguage != 0 )

  01869	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gLanguage@@3HA, 0 ; gLanguage
  01870	74 02		 je	 SHORT $LN3@NpcNoriaRa
  01872	eb 1d		 jmp	 SHORT $LN2@NpcNoriaRa
$LN3@NpcNoriaRa:

; 989  : 	{
; 990  : 	
; 991  : 	}
; 992  : 	else if ( gEnableEventNPCTalk != FALSE )

  01874	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gEnableEventNPCTalk@@3HA, 0 ; gEnableEventNPCTalk
  0187b	74 14		 je	 SHORT $LN2@NpcNoriaRa

; 993  : 	{
; 994  : 		GCServerCmd(lpObj->m_Index, 4, 2, 0);

  0187d	6a 00		 push	 0
  0187f	6a 02		 push	 2
  01881	6a 04		 push	 4
  01883	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01886	8b 08		 mov	 ecx, DWORD PTR [eax]
  01888	51		 push	 ecx
  01889	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  0188e	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@NpcNoriaRa:

; 995  : 	}
; 996  : 
; 997  : 	return FALSE;

  01891	33 c0		 xor	 eax, eax

; 998  : }

  01893	5f		 pop	 edi
  01894	5e		 pop	 esi
  01895	5b		 pop	 ebx
  01896	8b e5		 mov	 esp, ebp
  01898	5d		 pop	 ebp
  01899	c3		 ret	 0
?NpcNoriaRara@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcNoriaRara
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcDeviasMadam@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcDeviasMadam

; 1001 : {

  018a0	55		 push	 ebp
  018a1	8b ec		 mov	 ebp, esp
  018a3	83 ec 40	 sub	 esp, 64			; 00000040H
  018a6	53		 push	 ebx
  018a7	56		 push	 esi
  018a8	57		 push	 edi

; 1002 : 	if ( gLanguage != 0 )

  018a9	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gLanguage@@3HA, 0 ; gLanguage
  018b0	74 02		 je	 SHORT $LN3@NpcDeviasM
  018b2	eb 1d		 jmp	 SHORT $LN2@NpcDeviasM
$LN3@NpcDeviasM:

; 1003 : 	{
; 1004 : 	
; 1005 : 	}
; 1006 : 	else if ( gEnableEventNPCTalk != FALSE )

  018b4	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gEnableEventNPCTalk@@3HA, 0 ; gEnableEventNPCTalk
  018bb	74 14		 je	 SHORT $LN2@NpcDeviasM

; 1007 : 	{
; 1008 : 		GCServerCmd(lpObj->m_Index, 4, 1, 0);

  018bd	6a 00		 push	 0
  018bf	6a 01		 push	 1
  018c1	6a 04		 push	 4
  018c3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  018c6	8b 08		 mov	 ecx, DWORD PTR [eax]
  018c8	51		 push	 ecx
  018c9	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  018ce	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@NpcDeviasM:

; 1009 : 	}
; 1010 : 
; 1011 : 	return FALSE;

  018d1	33 c0		 xor	 eax, eax

; 1012 : }

  018d3	5f		 pop	 edi
  018d4	5e		 pop	 esi
  018d5	5b		 pop	 ebx
  018d6	8b e5		 mov	 esp, ebp
  018d8	5d		 pop	 ebp
  018d9	c3		 ret	 0
?NpcDeviasMadam@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcDeviasMadam
_TEXT	ENDS
EXTRN	?ClickArcher@cGoldenArcher@@QAEXH@Z:PROC	; cGoldenArcher::ClickArcher
EXTRN	?GoldenArcher@@3VcGoldenArcher@@A:BYTE		; GoldenArcher
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcEventChipNPC@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcEventChipNPC

; 1022 : {

  018e0	55		 push	 ebp
  018e1	8b ec		 mov	 ebp, esp
  018e3	83 ec 40	 sub	 esp, 64			; 00000040H
  018e6	53		 push	 ebx
  018e7	56		 push	 esi
  018e8	57		 push	 edi

; 1023 : 	GoldenArcher.ClickArcher(lpObj->m_Index);

  018e9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  018ec	8b 08		 mov	 ecx, DWORD PTR [eax]
  018ee	51		 push	 ecx
  018ef	b9 00 00 00 00	 mov	 ecx, OFFSET ?GoldenArcher@@3VcGoldenArcher@@A ; GoldenArcher
  018f4	e8 00 00 00 00	 call	 ?ClickArcher@cGoldenArcher@@QAEXH@Z ; cGoldenArcher::ClickArcher

; 1024 : 	return true;

  018f9	b8 01 00 00 00	 mov	 eax, 1

; 1025 : 	/*
; 1026 : 	if ( (lpObj->m_IfState.use) > 0 )
; 1027 : 	{
; 1028 : 		return TRUE;
; 1029 : 	}
; 1030 : 	
; 1031 : 	if ( lpNpc->MapNumber == 0 )
; 1032 : 	{
; 1033 : 		PMSG_REQ_VIEW_EC_MN pMsgTha;
; 1034 : 
; 1035 : 		PHeadSetB((LPBYTE)&pMsgTha, 0x01, sizeof(pMsgTha));
; 1036 : 		pMsgTha.iINDEX = lpObj->m_Index;
; 1037 : 		strcpy(pMsgTha.szUID, lpObj->AccountID);
; 1038 : 		pEventObj = lpNpc;
; 1039 : 
; 1040 : 		DataSendEventChip((char*)&pMsgTha, sizeof(pMsgTha));
; 1041 : 		
; 1042 : 		lpObj->m_IfState.type = 9;
; 1043 : 		lpObj->m_IfState.state = 0;
; 1044 : 		lpObj->m_IfState.use = 1;
; 1045 : 
; 1046 : 		return TRUE;
; 1047 : 	}
; 1048 : 
; 1049 : 	if ( lpNpc->MapNumber == 2 )
; 1050 : 	{
; 1051 : 		PMSG_EVENTCHIPINFO Result;
; 1052 : 
; 1053 : 		PHeadSetB((LPBYTE)&Result, 0x94, sizeof(Result));
; 1054 : 		Result.Type = 2;
; 1055 : 		
; 1056 : 		DataSend(lpObj->m_Index, (LPBYTE)&Result, Result.h.size);
; 1057 : 
; 1058 : 		lpObj->m_IfState.type = 9;
; 1059 : 		lpObj->m_IfState.state = 0;
; 1060 : 		lpObj->m_IfState.use = 1;
; 1061 : 
; 1062 : 		return TRUE;
; 1063 : 	}
; 1064 : 
; 1065 : 	return FALSE;
; 1066 : 	*/
; 1067 : }

  018fe	5f		 pop	 edi
  018ff	5e		 pop	 esi
  01900	5b		 pop	 ebx
  01901	8b e5		 mov	 esp, ebp
  01903	5d		 pop	 ebp
  01904	c3		 ret	 0
?NpcEventChipNPC@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcEventChipNPC
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcRorensiaSmith@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcRorensiaSmith

; 1070 : {

  01910	55		 push	 ebp
  01911	8b ec		 mov	 ebp, esp
  01913	83 ec 40	 sub	 esp, 64			; 00000040H
  01916	53		 push	 ebx
  01917	56		 push	 esi
  01918	57		 push	 edi

; 1071 : 	return FALSE;

  01919	33 c0		 xor	 eax, eax

; 1072 : }

  0191b	5f		 pop	 edi
  0191c	5e		 pop	 esi
  0191d	5b		 pop	 ebx
  0191e	8b e5		 mov	 esp, ebp
  01920	5d		 pop	 ebp
  01921	c3		 ret	 0
?NpcRorensiaSmith@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcRorensiaSmith
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcNoriJangIn@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcNoriJangIn

; 1075 : {

  01930	55		 push	 ebp
  01931	8b ec		 mov	 ebp, esp
  01933	83 ec 40	 sub	 esp, 64			; 00000040H
  01936	53		 push	 ebx
  01937	56		 push	 esi
  01938	57		 push	 edi

; 1076 : 	return FALSE;

  01939	33 c0		 xor	 eax, eax

; 1077 : }

  0193b	5f		 pop	 edi
  0193c	5e		 pop	 esi
  0193d	5b		 pop	 ebx
  0193e	8b e5		 mov	 esp, ebp
  01940	5d		 pop	 ebp
  01941	c3		 ret	 0
?NpcNoriJangIn@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcNoriJangIn
_TEXT	ENDS
EXTRN	?NpcTalk@CQuestInfo@@QAEHPAUOBJECTSTRUCT@@0@Z:PROC ; CQuestInfo::NpcTalk
EXTRN	?g_QuestInfo@@3VCQuestInfo@@A:BYTE		; g_QuestInfo
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcQuestCheck@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcQuestCheck

; 1080 : {

  01950	55		 push	 ebp
  01951	8b ec		 mov	 ebp, esp
  01953	83 ec 40	 sub	 esp, 64			; 00000040H
  01956	53		 push	 ebx
  01957	56		 push	 esi
  01958	57		 push	 edi

; 1081 : 	if ( g_QuestInfo.NpcTalk(lpNpc, lpObj) != FALSE )

  01959	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0195c	50		 push	 eax
  0195d	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  01960	51		 push	 ecx
  01961	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_QuestInfo@@3VCQuestInfo@@A ; g_QuestInfo
  01966	e8 00 00 00 00	 call	 ?NpcTalk@CQuestInfo@@QAEHPAUOBJECTSTRUCT@@0@Z ; CQuestInfo::NpcTalk
  0196b	85 c0		 test	 eax, eax
  0196d	74 07		 je	 SHORT $LN1@NpcQuestCh

; 1082 : 	{
; 1083 : 		return TRUE;

  0196f	b8 01 00 00 00	 mov	 eax, 1
  01974	eb 02		 jmp	 SHORT $LN2@NpcQuestCh
$LN1@NpcQuestCh:

; 1084 : 	}
; 1085 : 
; 1086 : 	return FALSE;

  01976	33 c0		 xor	 eax, eax
$LN2@NpcQuestCh:

; 1087 : }

  01978	5f		 pop	 edi
  01979	5e		 pop	 esi
  0197a	5b		 pop	 ebx
  0197b	8b e5		 mov	 esp, ebp
  0197d	5d		 pop	 ebp
  0197e	c3		 ret	 0
?NpcQuestCheck@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcQuestCheck
_TEXT	ENDS
EXTRN	?gEnableServerDivision@@3HA:DWORD		; gEnableServerDivision
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcServerDivision@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcServerDivision

; 1090 : {

  01980	55		 push	 ebp
  01981	8b ec		 mov	 ebp, esp
  01983	83 ec 40	 sub	 esp, 64			; 00000040H
  01986	53		 push	 ebx
  01987	56		 push	 esi
  01988	57		 push	 edi

; 1091 : 	if ( gEnableServerDivision == FALSE )

  01989	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gEnableServerDivision@@3HA, 0 ; gEnableServerDivision
  01990	75 07		 jne	 SHORT $LN2@NpcServerD

; 1092 : 	{
; 1093 : 		return TRUE;

  01992	b8 01 00 00 00	 mov	 eax, 1
  01997	eb 74		 jmp	 SHORT $LN3@NpcServerD
$LN2@NpcServerD:

; 1094 : 	}
; 1095 : 
; 1096 : 	if ( lpObj->lpGuild != NULL )

  01999	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0199c	83 b8 38 04 00
	00 00		 cmp	 DWORD PTR [eax+1080], 0
  019a3	74 1b		 je	 SHORT $LN1@NpcServerD

; 1097 : 	{
; 1098 : 		GCServerCmd(lpObj->m_Index, 6, 0, 0);

  019a5	6a 00		 push	 0
  019a7	6a 00		 push	 0
  019a9	6a 06		 push	 6
  019ab	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  019ae	8b 08		 mov	 ecx, DWORD PTR [eax]
  019b0	51		 push	 ecx
  019b1	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  019b6	83 c4 10	 add	 esp, 16			; 00000010H

; 1099 : 		return TRUE;

  019b9	b8 01 00 00 00	 mov	 eax, 1
  019be	eb 4d		 jmp	 SHORT $LN3@NpcServerD
$LN1@NpcServerD:

; 1100 : 	}
; 1101 : 
; 1102 : 	lpObj->m_IfState.type = 11;

  019c0	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  019c3	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  019c9	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  019cf	81 c9 c0 02 00
	00		 or	 ecx, 704		; 000002c0H
  019d5	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  019d8	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1103 : 	lpObj->m_IfState.state = 0;

  019de	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  019e1	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  019e7	83 e1 c3	 and	 ecx, -61		; ffffffc3H
  019ea	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  019ed	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1104 : 	lpObj->m_IfState.use = 1;

  019f3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  019f6	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  019fc	83 e1 fc	 and	 ecx, -4			; fffffffcH
  019ff	83 c9 01	 or	 ecx, 1
  01a02	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01a05	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1105 : 
; 1106 : 	return FALSE;

  01a0b	33 c0		 xor	 eax, eax
$LN3@NpcServerD:

; 1107 : }

  01a0d	5f		 pop	 edi
  01a0e	5e		 pop	 esi
  01a0f	5b		 pop	 ebx
  01a10	8b e5		 mov	 esp, ebp
  01a12	5d		 pop	 ebp
  01a13	c3		 ret	 0
?NpcServerDivision@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcServerDivision
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcRoadMerchant@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcRoadMerchant

; 1110 : {

  01a20	55		 push	 ebp
  01a21	8b ec		 mov	 ebp, esp
  01a23	83 ec 40	 sub	 esp, 64			; 00000040H
  01a26	53		 push	 ebx
  01a27	56		 push	 esi
  01a28	57		 push	 edi

; 1111 : 	return FALSE;

  01a29	33 c0		 xor	 eax, eax

; 1112 : }

  01a2b	5f		 pop	 edi
  01a2c	5e		 pop	 esi
  01a2d	5b		 pop	 ebx
  01a2e	8b e5		 mov	 esp, ebp
  01a30	5d		 pop	 ebp
  01a31	c3		 ret	 0
?NpcRoadMerchant@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcRoadMerchant
_TEXT	ENDS
PUBLIC	??_C@_0EC@IJDIINJB@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$CIAccount?3?$CFs?0@ ; `string'
PUBLIC	??_C@_0FO@BJDLMIAN@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$CIAccount?3?$CFs?0@ ; `string'
PUBLIC	??_C@_0EF@JFCICCDP@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$CIAccount?3?$CFs?0@ ; `string'
PUBLIC	??_C@_0EM@MPNDNNH@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5Blood?5Castle@ ; `string'
PUBLIC	??_C@_0FH@ONKNIFFP@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5Blood?5Castle@ ; `string'
PUBLIC	??_C@_0FG@CNLFICGI@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5Blood?5Castle@ ; `string'
PUBLIC	??_C@_0DA@BCJAGFAG@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tal@ ; `string'
EXTRN	?CheckUserWinnerParty@CBloodCastle@@QAE_NHH@Z:PROC ; CBloodCastle::CheckUserWinnerParty
EXTRN	?SearchUserDeleteQuestItem@CBloodCastle@@QAEXH@Z:PROC ; CBloodCastle::SearchUserDeleteQuestItem
EXTRN	?GetBridgeIndex@CBloodCastle@@QAEHH@Z:PROC	; CBloodCastle::GetBridgeIndex
EXTRN	?CheckPartyExist@CBloodCastle@@QAE_NH@Z:PROC	; CBloodCastle::CheckPartyExist
EXTRN	?SetBridgeWinner@CBloodCastle@@QAE_NHH@Z:PROC	; CBloodCastle::SetBridgeWinner
EXTRN	_memcpy:PROC
EXTRN	?SetUserState@CBloodCastle@@QAEXHH@Z:PROC	; CBloodCastle::SetUserState
EXTRN	?CheckUserBridgeMember@CBloodCastle@@QAE_NHH@Z:PROC ; CBloodCastle::CheckUserBridgeMember
EXTRN	?CheckQuestItem@CBloodCastle@@QAEHH@Z:PROC	; CBloodCastle::CheckQuestItem
EXTRN	?CheckPlayStart@CBloodCastle@@QAE_NH@Z:PROC	; CBloodCastle::CheckPlayStart
EXTRN	?GetCurrentState@CBloodCastle@@QAEHH@Z:PROC	; CBloodCastle::GetCurrentState
EXTRN	?g_BloodCastle@@3VCBloodCastle@@A:BYTE		; g_BloodCastle
;	COMDAT ??_C@_0EC@IJDIINJB@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$CIAccount?3?$CFs?0@
CONST	SEGMENT
??_C@_0EC@IJDIINJB@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$CIAccount?3?$CFs?0@ DB '['
	DB	'Blood Castle] (%d) (Account:%s, Name:%s) Winner Already Exist'
	DB	' !!', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0FO@BJDLMIAN@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$CIAccount?3?$CFs?0@
CONST	SEGMENT
??_C@_0FO@BJDLMIAN@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$CIAccount?3?$CFs?0@ DB '['
	DB	'Blood Castle] (%d) (Account:%s, Name:%s) Succeed Blood Castle'
	DB	' Quest - More Party to register', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0EF@JFCICCDP@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$CIAccount?3?$CFs?0@
CONST	SEGMENT
??_C@_0EF@JFCICCDP@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$CIAccount?3?$CFs?0@ DB '['
	DB	'Blood Castle] (%d) (Account:%s, Name:%s) Succeed Blood Castle'
	DB	' Quest', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0EM@MPNDNNH@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5Blood?5Castle@
CONST	SEGMENT
??_C@_0EM@MPNDNNH@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5Blood?5Castle@ DB '['
	DB	'Blood Castle] (%d) Blood Castle Quest Succeed Result -> Win Q'
	DB	'uest [%s][%s]', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0FH@ONKNIFFP@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5Blood?5Castle@
CONST	SEGMENT
??_C@_0FH@ONKNIFFP@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5Blood?5Castle@ DB '['
	DB	'Blood Castle] (%d) Blood Castle Quest Succeed Result -> Destr'
	DB	'oy Saint Status [%s][%s]', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0FG@CNLFICGI@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5Blood?5Castle@
CONST	SEGMENT
??_C@_0FG@CNLFICGI@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5Blood?5Castle@ DB '['
	DB	'Blood Castle] (%d) Blood Castle Quest Succeed Result -> Destr'
	DB	'oy Castle Door [%s][%s]', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0DA@BCJAGFAG@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tal@
CONST	SEGMENT
??_C@_0DA@BCJAGFAG@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tal@ DB '['
	DB	'Blood Castle] (%d) [%s][%s] Talk to Angel King', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv162 = -72						; size = 4
tv71 = -72						; size = 4
_iITEM_LEVEL$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcAngelKing@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcAngelKing

; 1115 : {

  01a40	55		 push	 ebp
  01a41	8b ec		 mov	 ebp, esp
  01a43	83 ec 48	 sub	 esp, 72			; 00000048H
  01a46	53		 push	 ebx
  01a47	56		 push	 esi
  01a48	57		 push	 edi

; 1116 : 	BOOL iITEM_LEVEL = 0; //loc1

  01a49	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _iITEM_LEVEL$[ebp], 0

; 1117 : 
; 1118 : 	if ( CHECK_LIMIT(lpObj->m_cBloodCastleIndex, MAX_BLOOD_CASTLE_LEVEL) == FALSE )

  01a50	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01a53	0f be 88 9e 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3742]
  01a5a	85 c9		 test	 ecx, ecx
  01a5c	7d 09		 jge	 SHORT $LN19@NpcAngelKi
  01a5e	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv71[ebp], 0
  01a65	eb 15		 jmp	 SHORT $LN20@NpcAngelKi
$LN19@NpcAngelKi:
  01a67	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01a6a	0f be 82 9e 0e
	00 00		 movsx	 eax, BYTE PTR [edx+3742]
  01a71	33 c9		 xor	 ecx, ecx
  01a73	83 f8 07	 cmp	 eax, 7
  01a76	0f 9e c1	 setle	 cl
  01a79	89 4d b8	 mov	 DWORD PTR tv71[ebp], ecx
$LN20@NpcAngelKi:
  01a7c	83 7d b8 00	 cmp	 DWORD PTR tv71[ebp], 0
  01a80	75 1b		 jne	 SHORT $LN16@NpcAngelKi

; 1119 : 	{
; 1120 : 		GCServerCmd(lpObj->m_Index, 1, 0x18, 0);

  01a82	6a 00		 push	 0
  01a84	6a 18		 push	 24			; 00000018H
  01a86	6a 01		 push	 1
  01a88	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01a8b	8b 08		 mov	 ecx, DWORD PTR [eax]
  01a8d	51		 push	 ecx
  01a8e	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  01a93	83 c4 10	 add	 esp, 16			; 00000010H

; 1121 : 		return FALSE;

  01a96	33 c0		 xor	 eax, eax
  01a98	e9 63 05 00 00	 jmp	 $LN17@NpcAngelKi
$LN16@NpcAngelKi:

; 1122 : 	}
; 1123 : 
; 1124 : 	LogAddTD("[Blood Castle] (%d) [%s][%s] Talk to Angel King",	lpObj->m_cBloodCastleIndex+1, lpObj->AccountID, lpObj->Name);

  01a9d	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01aa0	83 c0 77	 add	 eax, 119		; 00000077H
  01aa3	50		 push	 eax
  01aa4	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01aa7	83 c1 6c	 add	 ecx, 108		; 0000006cH
  01aaa	51		 push	 ecx
  01aab	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01aae	0f be 82 9e 0e
	00 00		 movsx	 eax, BYTE PTR [edx+3742]
  01ab5	83 c0 01	 add	 eax, 1
  01ab8	50		 push	 eax
  01ab9	68 00 00 00 00	 push	 OFFSET ??_C@_0DA@BCJAGFAG@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tal@
  01abe	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01ac4	83 c4 10	 add	 esp, 16			; 00000010H

; 1125 : 
; 1126 : 	if ( g_BloodCastle.m_BridgeData[lpObj->m_cBloodCastleIndex].m_bBC_REWARDED != false )

  01ac7	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01aca	0f be 88 9e 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3742]
  01ad1	69 c9 60 04 00
	00		 imul	 ecx, 1120		; 00000460H
  01ad7	0f b6 91 be 03
	00 00		 movzx	 edx, BYTE PTR ?g_BloodCastle@@3VCBloodCastle@@A[ecx+958]
  01ade	85 d2		 test	 edx, edx
  01ae0	74 1b		 je	 SHORT $LN15@NpcAngelKi

; 1127 : 	{
; 1128 : 		GCServerCmd(lpObj->m_Index, 1, 0x2E, 0);

  01ae2	6a 00		 push	 0
  01ae4	6a 2e		 push	 46			; 0000002eH
  01ae6	6a 01		 push	 1
  01ae8	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01aeb	8b 08		 mov	 ecx, DWORD PTR [eax]
  01aed	51		 push	 ecx
  01aee	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  01af3	83 c4 10	 add	 esp, 16			; 00000010H

; 1129 : 		return FALSE;

  01af6	33 c0		 xor	 eax, eax
  01af8	e9 03 05 00 00	 jmp	 $LN17@NpcAngelKi
$LN15@NpcAngelKi:

; 1130 : 	}
; 1131 : 
; 1132 : 	if ( g_BloodCastle.GetCurrentState(lpObj->m_cBloodCastleIndex) != 2 || g_BloodCastle.CheckPlayStart(lpObj->m_cBloodCastleIndex) == false)

  01afd	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01b00	0f be 88 9e 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3742]
  01b07	51		 push	 ecx
  01b08	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01b0d	e8 00 00 00 00	 call	 ?GetCurrentState@CBloodCastle@@QAEHH@Z ; CBloodCastle::GetCurrentState
  01b12	83 f8 02	 cmp	 eax, 2
  01b15	75 1c		 jne	 SHORT $LN13@NpcAngelKi
  01b17	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01b1a	0f be 88 9e 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3742]
  01b21	51		 push	 ecx
  01b22	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01b27	e8 00 00 00 00	 call	 ?CheckPlayStart@CBloodCastle@@QAE_NH@Z ; CBloodCastle::CheckPlayStart
  01b2c	0f b6 d0	 movzx	 edx, al
  01b2f	85 d2		 test	 edx, edx
  01b31	75 1b		 jne	 SHORT $LN14@NpcAngelKi
$LN13@NpcAngelKi:

; 1133 : 	{
; 1134 : 		GCServerCmd(lpObj->m_Index, 1, 0x18, 0);

  01b33	6a 00		 push	 0
  01b35	6a 18		 push	 24			; 00000018H
  01b37	6a 01		 push	 1
  01b39	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01b3c	8b 08		 mov	 ecx, DWORD PTR [eax]
  01b3e	51		 push	 ecx
  01b3f	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  01b44	83 c4 10	 add	 esp, 16			; 00000010H

; 1135 : 		return FALSE;

  01b47	33 c0		 xor	 eax, eax
  01b49	e9 b2 04 00 00	 jmp	 $LN17@NpcAngelKi
$LN14@NpcAngelKi:

; 1136 : 	}
; 1137 : 
; 1138 : 	if ( lpObj->m_bBloodCastleComplete == true)

  01b4e	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01b51	0f b6 88 a4 0e
	00 00		 movzx	 ecx, BYTE PTR [eax+3748]
  01b58	83 f9 01	 cmp	 ecx, 1
  01b5b	75 1b		 jne	 SHORT $LN12@NpcAngelKi

; 1139 : 	{
; 1140 : 		GCServerCmd(lpObj->m_Index, 1, 0x2E, 0);

  01b5d	6a 00		 push	 0
  01b5f	6a 2e		 push	 46			; 0000002eH
  01b61	6a 01		 push	 1
  01b63	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01b66	8b 08		 mov	 ecx, DWORD PTR [eax]
  01b68	51		 push	 ecx
  01b69	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  01b6e	83 c4 10	 add	 esp, 16			; 00000010H

; 1141 : 		return FALSE;

  01b71	33 c0		 xor	 eax, eax
  01b73	e9 88 04 00 00	 jmp	 $LN17@NpcAngelKi
$LN12@NpcAngelKi:

; 1142 : 	}
; 1143 : 
; 1144 : 	if( (iITEM_LEVEL = g_BloodCastle.CheckQuestItem(lpObj->m_Index)<0?0:iITEM_LEVEL = g_BloodCastle.CheckQuestItem(lpObj->m_Index)>2?0:1) ) //perfect

  01b78	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01b7b	8b 08		 mov	 ecx, DWORD PTR [eax]
  01b7d	51		 push	 ecx
  01b7e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01b83	e8 00 00 00 00	 call	 ?CheckQuestItem@CBloodCastle@@QAEHH@Z ; CBloodCastle::CheckQuestItem
  01b88	85 c0		 test	 eax, eax
  01b8a	7d 09		 jge	 SHORT $LN21@NpcAngelKi
  01b8c	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv162[ebp], 0
  01b93	eb 21		 jmp	 SHORT $LN22@NpcAngelKi
$LN21@NpcAngelKi:
  01b95	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01b98	8b 02		 mov	 eax, DWORD PTR [edx]
  01b9a	50		 push	 eax
  01b9b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01ba0	e8 00 00 00 00	 call	 ?CheckQuestItem@CBloodCastle@@QAEHH@Z ; CBloodCastle::CheckQuestItem
  01ba5	33 c9		 xor	 ecx, ecx
  01ba7	83 f8 02	 cmp	 eax, 2
  01baa	0f 9e c1	 setle	 cl
  01bad	89 4d fc	 mov	 DWORD PTR _iITEM_LEVEL$[ebp], ecx
  01bb0	8b 55 fc	 mov	 edx, DWORD PTR _iITEM_LEVEL$[ebp]
  01bb3	89 55 b8	 mov	 DWORD PTR tv162[ebp], edx
$LN22@NpcAngelKi:
  01bb6	8b 45 b8	 mov	 eax, DWORD PTR tv162[ebp]
  01bb9	89 45 fc	 mov	 DWORD PTR _iITEM_LEVEL$[ebp], eax
  01bbc	83 7d fc 00	 cmp	 DWORD PTR _iITEM_LEVEL$[ebp], 0
  01bc0	0f 84 44 03 00
	00		 je	 $LN11@NpcAngelKi

; 1145 : 	{
; 1146 : 		if ( lpNpc->m_cBloodCastleIndex != lpObj->m_cBloodCastleIndex )

  01bc6	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  01bc9	0f be 88 9e 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3742]
  01bd0	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01bd3	0f be 82 9e 0e
	00 00		 movsx	 eax, BYTE PTR [edx+3742]
  01bda	3b c8		 cmp	 ecx, eax
  01bdc	74 1b		 je	 SHORT $LN10@NpcAngelKi

; 1147 : 		{
; 1148 : 			GCServerCmd(lpObj->m_Index, 1, 0x18, 0);

  01bde	6a 00		 push	 0
  01be0	6a 18		 push	 24			; 00000018H
  01be2	6a 01		 push	 1
  01be4	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01be7	8b 08		 mov	 ecx, DWORD PTR [eax]
  01be9	51		 push	 ecx
  01bea	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  01bef	83 c4 10	 add	 esp, 16			; 00000010H

; 1149 : 			return FALSE;

  01bf2	33 c0		 xor	 eax, eax
  01bf4	e9 07 04 00 00	 jmp	 $LN17@NpcAngelKi
$LN10@NpcAngelKi:

; 1150 : 		}
; 1151 : 
; 1152 : 		if ( g_BloodCastle.CheckUserBridgeMember(lpObj->m_cBloodCastleIndex, lpObj->m_Index) == false )

  01bf9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01bfc	8b 08		 mov	 ecx, DWORD PTR [eax]
  01bfe	51		 push	 ecx
  01bff	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01c02	0f be 82 9e 0e
	00 00		 movsx	 eax, BYTE PTR [edx+3742]
  01c09	50		 push	 eax
  01c0a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01c0f	e8 00 00 00 00	 call	 ?CheckUserBridgeMember@CBloodCastle@@QAE_NHH@Z ; CBloodCastle::CheckUserBridgeMember
  01c14	0f b6 c8	 movzx	 ecx, al
  01c17	85 c9		 test	 ecx, ecx
  01c19	75 1b		 jne	 SHORT $LN9@NpcAngelKi

; 1153 : 		{
; 1154 : 			GCServerCmd(lpObj->m_Index, 1, 0x18, 0);

  01c1b	6a 00		 push	 0
  01c1d	6a 18		 push	 24			; 00000018H
  01c1f	6a 01		 push	 1
  01c21	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01c24	8b 08		 mov	 ecx, DWORD PTR [eax]
  01c26	51		 push	 ecx
  01c27	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  01c2c	83 c4 10	 add	 esp, 16			; 00000010H

; 1155 : 			return FALSE;

  01c2f	33 c0		 xor	 eax, eax
  01c31	e9 ca 03 00 00	 jmp	 $LN17@NpcAngelKi
$LN9@NpcAngelKi:

; 1156 : 		}
; 1157 : 
; 1158 : 		g_BloodCastle.SetUserState(lpObj->m_Index, 2);

  01c36	6a 02		 push	 2
  01c38	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01c3b	8b 08		 mov	 ecx, DWORD PTR [eax]
  01c3d	51		 push	 ecx
  01c3e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01c43	e8 00 00 00 00	 call	 ?SetUserState@CBloodCastle@@QAEXHH@Z ; CBloodCastle::SetUserState

; 1159 : 		
; 1160 : 		g_BloodCastle.m_BridgeData[lpObj->m_cBloodCastleIndex].m_iExtraEXP_Win_Quest_Party = lpObj->PartyNumber;

  01c48	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01c4b	0f be 88 9e 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3742]
  01c52	69 c9 60 04 00
	00		 imul	 ecx, 1120		; 00000460H
  01c58	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01c5b	8b 82 2c 04 00
	00		 mov	 eax, DWORD PTR [edx+1068]
  01c61	89 81 38 04 00
	00		 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[ecx+1080], eax

; 1161 : 		g_BloodCastle.m_BridgeData[lpObj->m_cBloodCastleIndex].m_iExtraEXP_Win_Quest_Index = lpObj->m_Index;

  01c67	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01c6a	0f be 88 9e 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3742]
  01c71	69 c9 60 04 00
	00		 imul	 ecx, 1120		; 00000460H
  01c77	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01c7a	8b 02		 mov	 eax, DWORD PTR [edx]
  01c7c	89 81 3c 04 00
	00		 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[ecx+1084], eax

; 1162 : 		
; 1163 : 		memcpy(g_BloodCastle.m_BridgeData[lpObj->m_cBloodCastleIndex].m_szWin_Quest_CharName, lpObj->Name, 10);

  01c82	6a 0a		 push	 10			; 0000000aH
  01c84	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01c87	83 c0 77	 add	 eax, 119		; 00000077H
  01c8a	50		 push	 eax
  01c8b	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01c8e	0f be 91 9e 0e
	00 00		 movsx	 edx, BYTE PTR [ecx+3742]
  01c95	69 d2 60 04 00
	00		 imul	 edx, 1120		; 00000460H
  01c9b	81 c2 40 04 00
	00		 add	 edx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A+1088
  01ca1	52		 push	 edx
  01ca2	e8 00 00 00 00	 call	 _memcpy
  01ca7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1164 : 		memcpy(g_BloodCastle.m_BridgeData[lpObj->m_cBloodCastleIndex].m_szWin_Quest_AccountID, lpObj->AccountID, 10);

  01caa	6a 0a		 push	 10			; 0000000aH
  01cac	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01caf	83 c0 6c	 add	 eax, 108		; 0000006cH
  01cb2	50		 push	 eax
  01cb3	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01cb6	0f be 91 9e 0e
	00 00		 movsx	 edx, BYTE PTR [ecx+3742]
  01cbd	69 d2 60 04 00
	00		 imul	 edx, 1120		; 00000460H
  01cc3	81 c2 4b 04 00
	00		 add	 edx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A+1099
  01cc9	52		 push	 edx
  01cca	e8 00 00 00 00	 call	 _memcpy
  01ccf	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1165 : 		
; 1166 : 		g_BloodCastle.m_BridgeData[lpObj->m_cBloodCastleIndex].m_szWin_Quest_CharName[10] = 0;

  01cd2	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01cd5	0f be 88 9e 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3742]
  01cdc	69 c9 60 04 00
	00		 imul	 ecx, 1120		; 00000460H
  01ce2	c6 81 4a 04 00
	00 00		 mov	 BYTE PTR ?g_BloodCastle@@3VCBloodCastle@@A[ecx+1098], 0

; 1167 : 		g_BloodCastle.m_BridgeData[lpObj->m_cBloodCastleIndex].m_szWin_Quest_AccountID[10] = 0;

  01ce9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01cec	0f be 88 9e 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3742]
  01cf3	69 c9 60 04 00
	00		 imul	 ecx, 1120		; 00000460H
  01cf9	c6 81 55 04 00
	00 00		 mov	 BYTE PTR ?g_BloodCastle@@3VCBloodCastle@@A[ecx+1109], 0

; 1168 : 		
; 1169 : 		LogAddTD("[Blood Castle] (%d) Blood Castle Quest Succeed Result -> Destroy Castle Door [%s][%s]", lpObj->m_cBloodCastleIndex+1, 
; 1170 : 			g_BloodCastle.m_BridgeData[lpObj->m_cBloodCastleIndex].m_szKill_Door_AccountID, 
; 1171 : 			g_BloodCastle.m_BridgeData[lpObj->m_cBloodCastleIndex].m_szKill_Door_CharName);

  01d00	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01d03	0f be 88 9e 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3742]
  01d0a	69 c9 60 04 00
	00		 imul	 ecx, 1120		; 00000460H
  01d10	81 c1 0b 04 00
	00		 add	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A+1035
  01d16	51		 push	 ecx
  01d17	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01d1a	0f be 82 9e 0e
	00 00		 movsx	 eax, BYTE PTR [edx+3742]
  01d21	69 c0 60 04 00
	00		 imul	 eax, 1120		; 00000460H
  01d27	05 00 04 00 00	 add	 eax, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A+1024
  01d2c	50		 push	 eax
  01d2d	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01d30	0f be 91 9e 0e
	00 00		 movsx	 edx, BYTE PTR [ecx+3742]
  01d37	83 c2 01	 add	 edx, 1
  01d3a	52		 push	 edx
  01d3b	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNLFICGI@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5Blood?5Castle@
  01d40	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01d46	83 c4 10	 add	 esp, 16			; 00000010H

; 1172 : 
; 1173 : 		LogAddTD("[Blood Castle] (%d) Blood Castle Quest Succeed Result -> Destroy Saint Status [%s][%s]", lpObj->m_cBloodCastleIndex+1, 
; 1174 : 			g_BloodCastle.m_BridgeData[lpObj->m_cBloodCastleIndex].m_szKill_Door_AccountID, 
; 1175 : 			g_BloodCastle.m_BridgeData[lpObj->m_cBloodCastleIndex].m_szKill_Status_CharName);

  01d49	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01d4c	0f be 88 9e 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3742]
  01d53	69 c9 60 04 00
	00		 imul	 ecx, 1120		; 00000460H
  01d59	81 c1 20 04 00
	00		 add	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A+1056
  01d5f	51		 push	 ecx
  01d60	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01d63	0f be 82 9e 0e
	00 00		 movsx	 eax, BYTE PTR [edx+3742]
  01d6a	69 c0 60 04 00
	00		 imul	 eax, 1120		; 00000460H
  01d70	05 00 04 00 00	 add	 eax, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A+1024
  01d75	50		 push	 eax
  01d76	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01d79	0f be 91 9e 0e
	00 00		 movsx	 edx, BYTE PTR [ecx+3742]
  01d80	83 c2 01	 add	 edx, 1
  01d83	52		 push	 edx
  01d84	68 00 00 00 00	 push	 OFFSET ??_C@_0FH@ONKNIFFP@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5Blood?5Castle@
  01d89	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01d8f	83 c4 10	 add	 esp, 16			; 00000010H

; 1176 : 
; 1177 : 		LogAddTD("[Blood Castle] (%d) Blood Castle Quest Succeed Result -> Win Quest [%s][%s]", lpObj->m_cBloodCastleIndex+1, 
; 1178 : 			g_BloodCastle.m_BridgeData[lpObj->m_cBloodCastleIndex].m_szWin_Quest_AccountID, 
; 1179 : 			g_BloodCastle.m_BridgeData[lpObj->m_cBloodCastleIndex].m_szWin_Quest_CharName);

  01d92	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01d95	0f be 88 9e 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3742]
  01d9c	69 c9 60 04 00
	00		 imul	 ecx, 1120		; 00000460H
  01da2	81 c1 40 04 00
	00		 add	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A+1088
  01da8	51		 push	 ecx
  01da9	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01dac	0f be 82 9e 0e
	00 00		 movsx	 eax, BYTE PTR [edx+3742]
  01db3	69 c0 60 04 00
	00		 imul	 eax, 1120		; 00000460H
  01db9	05 4b 04 00 00	 add	 eax, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A+1099
  01dbe	50		 push	 eax
  01dbf	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01dc2	0f be 91 9e 0e
	00 00		 movsx	 edx, BYTE PTR [ecx+3742]
  01dc9	83 c2 01	 add	 edx, 1
  01dcc	52		 push	 edx
  01dcd	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MPNDNNH@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5Blood?5Castle@
  01dd2	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01dd8	83 c4 10	 add	 esp, 16			; 00000010H

; 1180 : 
; 1181 : 		if ( g_BloodCastle.SetBridgeWinner(lpObj->m_cBloodCastleIndex, lpObj->m_Index) == TRUE )

  01ddb	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01dde	8b 08		 mov	 ecx, DWORD PTR [eax]
  01de0	51		 push	 ecx
  01de1	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01de4	0f be 82 9e 0e
	00 00		 movsx	 eax, BYTE PTR [edx+3742]
  01deb	50		 push	 eax
  01dec	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01df1	e8 00 00 00 00	 call	 ?SetBridgeWinner@CBloodCastle@@QAE_NHH@Z ; CBloodCastle::SetBridgeWinner
  01df6	0f b6 c8	 movzx	 ecx, al
  01df9	83 f9 01	 cmp	 ecx, 1
  01dfc	0f 85 b7 00 00
	00		 jne	 $LN8@NpcAngelKi

; 1182 : 		{
; 1183 : 			lpObj->m_bBloodCastleComplete = true;

  01e02	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01e05	c6 80 a4 0e 00
	00 01		 mov	 BYTE PTR [eax+3748], 1

; 1184 : 
; 1185 : 			if ( g_BloodCastle.CheckPartyExist(lpObj->m_Index) == FALSE )

  01e0c	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01e0f	8b 08		 mov	 ecx, DWORD PTR [eax]
  01e11	51		 push	 ecx
  01e12	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01e17	e8 00 00 00 00	 call	 ?CheckPartyExist@CBloodCastle@@QAE_NH@Z ; CBloodCastle::CheckPartyExist
  01e1c	0f b6 d0	 movzx	 edx, al
  01e1f	85 d2		 test	 edx, edx
  01e21	75 4b		 jne	 SHORT $LN7@NpcAngelKi

; 1186 : 			{
; 1187 : 				GCServerCmd(lpObj->m_Index, 1, 0x17, 0);

  01e23	6a 00		 push	 0
  01e25	6a 17		 push	 23			; 00000017H
  01e27	6a 01		 push	 1
  01e29	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01e2c	8b 08		 mov	 ecx, DWORD PTR [eax]
  01e2e	51		 push	 ecx
  01e2f	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  01e34	83 c4 10	 add	 esp, 16			; 00000010H

; 1188 : 				LogAddTD("[Blood Castle] (%d) (Account:%s, Name:%s) Succeed Blood Castle Quest", 
; 1189 : 					g_BloodCastle.GetBridgeIndex(lpNpc->MapNumber)+1, lpObj->AccountID, lpObj->Name);

  01e37	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01e3a	83 c0 77	 add	 eax, 119		; 00000077H
  01e3d	50		 push	 eax
  01e3e	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01e41	83 c1 6c	 add	 ecx, 108		; 0000006cH
  01e44	51		 push	 ecx
  01e45	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  01e48	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  01e4f	50		 push	 eax
  01e50	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01e55	e8 00 00 00 00	 call	 ?GetBridgeIndex@CBloodCastle@@QAEHH@Z ; CBloodCastle::GetBridgeIndex
  01e5a	83 c0 01	 add	 eax, 1
  01e5d	50		 push	 eax
  01e5e	68 00 00 00 00	 push	 OFFSET ??_C@_0EF@JFCICCDP@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$CIAccount?3?$CFs?0@
  01e63	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01e69	83 c4 10	 add	 esp, 16			; 00000010H

; 1190 : 			}
; 1191 : 			else

  01e6c	eb 49		 jmp	 SHORT $LN6@NpcAngelKi
$LN7@NpcAngelKi:

; 1192 : 			{
; 1193 : 				GCServerCmd(lpObj->m_Index, 1, 0x17, 0);

  01e6e	6a 00		 push	 0
  01e70	6a 17		 push	 23			; 00000017H
  01e72	6a 01		 push	 1
  01e74	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01e77	8b 08		 mov	 ecx, DWORD PTR [eax]
  01e79	51		 push	 ecx
  01e7a	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  01e7f	83 c4 10	 add	 esp, 16			; 00000010H

; 1194 : 				LogAddTD("[Blood Castle] (%d) (Account:%s, Name:%s) Succeed Blood Castle Quest - More Party to register", 
; 1195 : 					g_BloodCastle.GetBridgeIndex(lpNpc->MapNumber)+1, lpObj->AccountID, lpObj->Name);

  01e82	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01e85	83 c0 77	 add	 eax, 119		; 00000077H
  01e88	50		 push	 eax
  01e89	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01e8c	83 c1 6c	 add	 ecx, 108		; 0000006cH
  01e8f	51		 push	 ecx
  01e90	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  01e93	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  01e9a	50		 push	 eax
  01e9b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01ea0	e8 00 00 00 00	 call	 ?GetBridgeIndex@CBloodCastle@@QAEHH@Z ; CBloodCastle::GetBridgeIndex
  01ea5	83 c0 01	 add	 eax, 1
  01ea8	50		 push	 eax
  01ea9	68 00 00 00 00	 push	 OFFSET ??_C@_0FO@BJDLMIAN@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$CIAccount?3?$CFs?0@
  01eae	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01eb4	83 c4 10	 add	 esp, 16			; 00000010H
$LN6@NpcAngelKi:

; 1196 : 			}
; 1197 : 		}
; 1198 : 		else

  01eb7	eb 3c		 jmp	 SHORT $LN5@NpcAngelKi
$LN8@NpcAngelKi:

; 1199 : 		{
; 1200 : 			LogAddTD("[Blood Castle] (%d) (Account:%s, Name:%s) Winner Already Exist !!", 
; 1201 : 				g_BloodCastle.GetBridgeIndex(lpNpc->MapNumber)+1, lpObj->AccountID, lpObj->Name);

  01eb9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01ebc	83 c0 77	 add	 eax, 119		; 00000077H
  01ebf	50		 push	 eax
  01ec0	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01ec3	83 c1 6c	 add	 ecx, 108		; 0000006cH
  01ec6	51		 push	 ecx
  01ec7	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  01eca	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  01ed1	50		 push	 eax
  01ed2	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01ed7	e8 00 00 00 00	 call	 ?GetBridgeIndex@CBloodCastle@@QAEHH@Z ; CBloodCastle::GetBridgeIndex
  01edc	83 c0 01	 add	 eax, 1
  01edf	50		 push	 eax
  01ee0	68 00 00 00 00	 push	 OFFSET ??_C@_0EC@IJDIINJB@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$CIAccount?3?$CFs?0@
  01ee5	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01eeb	83 c4 10	 add	 esp, 16			; 00000010H

; 1202 : 			return FALSE;

  01eee	33 c0		 xor	 eax, eax
  01ef0	e9 0b 01 00 00	 jmp	 $LN17@NpcAngelKi
$LN5@NpcAngelKi:

; 1203 : 		}
; 1204 : 
; 1205 : 		g_BloodCastle.SearchUserDeleteQuestItem(lpObj->m_Index);

  01ef5	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01ef8	8b 08		 mov	 ecx, DWORD PTR [eax]
  01efa	51		 push	 ecx
  01efb	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01f00	e8 00 00 00 00	 call	 ?SearchUserDeleteQuestItem@CBloodCastle@@QAEXH@Z ; CBloodCastle::SearchUserDeleteQuestItem

; 1206 : 	}
; 1207 : 	else

  01f05	e9 f4 00 00 00	 jmp	 $LN4@NpcAngelKi
$LN11@NpcAngelKi:

; 1208 : 	{
; 1209 : 		if ( g_BloodCastle.CheckUserWinnerParty(lpObj->m_cBloodCastleIndex, lpObj->m_Index) == TRUE )

  01f0a	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01f0d	8b 08		 mov	 ecx, DWORD PTR [eax]
  01f0f	51		 push	 ecx
  01f10	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01f13	0f be 82 9e 0e
	00 00		 movsx	 eax, BYTE PTR [edx+3742]
  01f1a	50		 push	 eax
  01f1b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01f20	e8 00 00 00 00	 call	 ?CheckUserWinnerParty@CBloodCastle@@QAE_NHH@Z ; CBloodCastle::CheckUserWinnerParty
  01f25	0f b6 c8	 movzx	 ecx, al
  01f28	83 f9 01	 cmp	 ecx, 1
  01f2b	0f 85 b9 00 00
	00		 jne	 $LN3@NpcAngelKi

; 1210 : 		{
; 1211 : 			lpObj->m_bBloodCastleComplete = true;

  01f31	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01f34	c6 80 a4 0e 00
	00 01		 mov	 BYTE PTR [eax+3748], 1

; 1212 : 
; 1213 : 			if ( g_BloodCastle.CheckPartyExist(lpObj->m_Index) == FALSE )

  01f3b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01f3e	8b 08		 mov	 ecx, DWORD PTR [eax]
  01f40	51		 push	 ecx
  01f41	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01f46	e8 00 00 00 00	 call	 ?CheckPartyExist@CBloodCastle@@QAE_NH@Z ; CBloodCastle::CheckPartyExist
  01f4b	0f b6 d0	 movzx	 edx, al
  01f4e	85 d2		 test	 edx, edx
  01f50	75 4b		 jne	 SHORT $LN2@NpcAngelKi

; 1214 : 			{
; 1215 : 				GCServerCmd(lpObj->m_Index, 1, 0x17, 0);

  01f52	6a 00		 push	 0
  01f54	6a 17		 push	 23			; 00000017H
  01f56	6a 01		 push	 1
  01f58	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01f5b	8b 08		 mov	 ecx, DWORD PTR [eax]
  01f5d	51		 push	 ecx
  01f5e	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  01f63	83 c4 10	 add	 esp, 16			; 00000010H

; 1216 : 				LogAddTD("[Blood Castle] (%d) (Account:%s, Name:%s) Succeed Blood Castle Quest", 
; 1217 : 					g_BloodCastle.GetBridgeIndex(lpNpc->MapNumber)+1, lpObj->AccountID, lpObj->Name);

  01f66	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01f69	83 c0 77	 add	 eax, 119		; 00000077H
  01f6c	50		 push	 eax
  01f6d	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01f70	83 c1 6c	 add	 ecx, 108		; 0000006cH
  01f73	51		 push	 ecx
  01f74	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  01f77	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  01f7e	50		 push	 eax
  01f7f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01f84	e8 00 00 00 00	 call	 ?GetBridgeIndex@CBloodCastle@@QAEHH@Z ; CBloodCastle::GetBridgeIndex
  01f89	83 c0 01	 add	 eax, 1
  01f8c	50		 push	 eax
  01f8d	68 00 00 00 00	 push	 OFFSET ??_C@_0EF@JFCICCDP@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$CIAccount?3?$CFs?0@
  01f92	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01f98	83 c4 10	 add	 esp, 16			; 00000010H

; 1218 : 			}
; 1219 : 			else

  01f9b	eb 49		 jmp	 SHORT $LN1@NpcAngelKi
$LN2@NpcAngelKi:

; 1220 : 			{
; 1221 : 				GCServerCmd(lpObj->m_Index, 1, 0x17, 0);

  01f9d	6a 00		 push	 0
  01f9f	6a 17		 push	 23			; 00000017H
  01fa1	6a 01		 push	 1
  01fa3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01fa6	8b 08		 mov	 ecx, DWORD PTR [eax]
  01fa8	51		 push	 ecx
  01fa9	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  01fae	83 c4 10	 add	 esp, 16			; 00000010H

; 1222 : 				LogAddTD("[Blood Castle] (%d) (Account:%s, Name:%s) Succeed Blood Castle Quest - More Party to register", 
; 1223 : 					g_BloodCastle.GetBridgeIndex(lpNpc->MapNumber)+1, lpObj->AccountID, lpObj->Name);

  01fb1	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01fb4	83 c0 77	 add	 eax, 119		; 00000077H
  01fb7	50		 push	 eax
  01fb8	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01fbb	83 c1 6c	 add	 ecx, 108		; 0000006cH
  01fbe	51		 push	 ecx
  01fbf	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  01fc2	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  01fc9	50		 push	 eax
  01fca	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  01fcf	e8 00 00 00 00	 call	 ?GetBridgeIndex@CBloodCastle@@QAEHH@Z ; CBloodCastle::GetBridgeIndex
  01fd4	83 c0 01	 add	 eax, 1
  01fd7	50		 push	 eax
  01fd8	68 00 00 00 00	 push	 OFFSET ??_C@_0FO@BJDLMIAN@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5?$CIAccount?3?$CFs?0@
  01fdd	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01fe3	83 c4 10	 add	 esp, 16			; 00000010H
$LN1@NpcAngelKi:

; 1224 : 			}
; 1225 : 
; 1226 : 			return FALSE;

  01fe6	33 c0		 xor	 eax, eax
  01fe8	eb 16		 jmp	 SHORT $LN17@NpcAngelKi
$LN3@NpcAngelKi:

; 1227 : 		}
; 1228 : 
; 1229 : 		GCServerCmd(lpObj->m_Index, 1, 0x18, 0);

  01fea	6a 00		 push	 0
  01fec	6a 18		 push	 24			; 00000018H
  01fee	6a 01		 push	 1
  01ff0	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01ff3	8b 08		 mov	 ecx, DWORD PTR [eax]
  01ff5	51		 push	 ecx
  01ff6	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  01ffb	83 c4 10	 add	 esp, 16			; 00000010H
$LN4@NpcAngelKi:

; 1230 : 	}
; 1231 : 	
; 1232 : 	return FALSE;

  01ffe	33 c0		 xor	 eax, eax
$LN17@NpcAngelKi:

; 1233 : }

  02000	5f		 pop	 edi
  02001	5e		 pop	 esi
  02002	5b		 pop	 ebx
  02003	8b e5		 mov	 esp, ebp
  02005	5d		 pop	 ebp
  02006	c3		 ret	 0
?NpcAngelKing@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcAngelKing
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	?CheckCanEnter@CBloodCastle@@QAE_NH@Z:PROC	; CBloodCastle::CheckCanEnter
EXTRN	?CheckEnterFreeTicket@CBloodCastle@@QAE_NH@Z:PROC ; CBloodCastle::CheckEnterFreeTicket
EXTRN	?CheckEnterLevel@CBloodCastle@@QAEHHH@Z:PROC	; CBloodCastle::CheckEnterLevel
EXTRN	?CheckEnterItem@CBloodCastle@@QAEHH@Z:PROC	; CBloodCastle::CheckEnterItem
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$244483 = -28					; size = 11
_i$244477 = -16						; size = 4
_iITEM_LEVEL$ = -12					; size = 4
_iIndex$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcAngelMessanger@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcAngelMessanger

; 1236 : {

  02010	55		 push	 ebp
  02011	8b ec		 mov	 ebp, esp
  02013	83 ec 5c	 sub	 esp, 92			; 0000005cH
  02016	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0201b	33 c5		 xor	 eax, ebp
  0201d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02020	53		 push	 ebx
  02021	56		 push	 esi
  02022	57		 push	 edi

; 1237 : 	if ( (lpObj->m_IfState.use ) > 0 )

  02023	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02026	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  0202c	83 e1 03	 and	 ecx, 3
  0202f	76 0a		 jbe	 SHORT $LN14@NpcAngelMe

; 1238 : 	{
; 1239 : 		return TRUE;

  02031	b8 01 00 00 00	 mov	 eax, 1
  02036	e9 a4 01 00 00	 jmp	 $LN15@NpcAngelMe
$LN14@NpcAngelMe:

; 1240 : 	}
; 1241 : 
; 1242 : 	int iIndex = lpObj->m_Index;

  0203b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0203e	8b 08		 mov	 ecx, DWORD PTR [eax]
  02040	89 4d f8	 mov	 DWORD PTR _iIndex$[ebp], ecx

; 1243 : 
; 1244 : 	if(!ExConfig.Event.BCAllowPKPlayer)

  02043	83 3d e8 06 00
	00 00		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A+1768, 0
  0204a	75 38		 jne	 SHORT $LN13@NpcAngelMe

; 1245 : 	{
; 1246 : 		if ( gObj[iIndex].m_PK_Level >= 4 )

  0204c	8b 45 f8	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0204f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02055	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0205b	0f be 94 01 3d
	01 00 00	 movsx	 edx, BYTE PTR [ecx+eax+317]
  02063	83 fa 04	 cmp	 edx, 4
  02066	7c 1c		 jl	 SHORT $LN13@NpcAngelMe

; 1247 : 		{
; 1248 : 			GCServerCmd(iIndex, 0x38, 0, 0);

  02068	6a 00		 push	 0
  0206a	6a 00		 push	 0
  0206c	6a 38		 push	 56			; 00000038H
  0206e	8b 45 f8	 mov	 eax, DWORD PTR _iIndex$[ebp]
  02071	50		 push	 eax
  02072	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  02077	83 c4 10	 add	 esp, 16			; 00000010H

; 1249 : 			return TRUE;

  0207a	b8 01 00 00 00	 mov	 eax, 1
  0207f	e9 5b 01 00 00	 jmp	 $LN15@NpcAngelMe
$LN13@NpcAngelMe:

; 1250 : 		}
; 1251 : 	}
; 1252 : 
; 1253 : 	int iITEM_LEVEL = 0;

  02084	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iITEM_LEVEL$[ebp], 0

; 1254 : 
; 1255 : 	iITEM_LEVEL = g_BloodCastle.CheckEnterItem(lpObj->m_Index);

  0208b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0208e	8b 08		 mov	 ecx, DWORD PTR [eax]
  02090	51		 push	 ecx
  02091	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  02096	e8 00 00 00 00	 call	 ?CheckEnterItem@CBloodCastle@@QAEHH@Z ; CBloodCastle::CheckEnterItem
  0209b	89 45 f4	 mov	 DWORD PTR _iITEM_LEVEL$[ebp], eax

; 1256 : 
; 1257 : 	if ( iITEM_LEVEL != 0 )

  0209e	83 7d f4 00	 cmp	 DWORD PTR _iITEM_LEVEL$[ebp], 0
  020a2	0f 84 21 01 00
	00		 je	 $LN11@NpcAngelMe

; 1258 : 	{
; 1259 : 		if ( iITEM_LEVEL != 10 && g_BloodCastle.CheckEnterLevel(lpObj->m_Index, iITEM_LEVEL-1) )

  020a8	83 7d f4 0a	 cmp	 DWORD PTR _iITEM_LEVEL$[ebp], 10 ; 0000000aH
  020ac	74 3a		 je	 SHORT $LN10@NpcAngelMe
  020ae	8b 45 f4	 mov	 eax, DWORD PTR _iITEM_LEVEL$[ebp]
  020b1	83 e8 01	 sub	 eax, 1
  020b4	50		 push	 eax
  020b5	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  020b8	8b 11		 mov	 edx, DWORD PTR [ecx]
  020ba	52		 push	 edx
  020bb	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  020c0	e8 00 00 00 00	 call	 ?CheckEnterLevel@CBloodCastle@@QAEHHH@Z ; CBloodCastle::CheckEnterLevel
  020c5	85 c0		 test	 eax, eax
  020c7	74 1f		 je	 SHORT $LN10@NpcAngelMe

; 1260 : 		{
; 1261 : 			if ( g_BloodCastle.CheckEnterFreeTicket(lpObj->m_Index) == true )

  020c9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  020cc	8b 08		 mov	 ecx, DWORD PTR [eax]
  020ce	51		 push	 ecx
  020cf	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  020d4	e8 00 00 00 00	 call	 ?CheckEnterFreeTicket@CBloodCastle@@QAE_NH@Z ; CBloodCastle::CheckEnterFreeTicket
  020d9	0f b6 d0	 movzx	 edx, al
  020dc	83 fa 01	 cmp	 edx, 1
  020df	75 07		 jne	 SHORT $LN10@NpcAngelMe

; 1262 : 			{
; 1263 : 				iITEM_LEVEL = 10;

  020e1	c7 45 f4 0a 00
	00 00		 mov	 DWORD PTR _iITEM_LEVEL$[ebp], 10 ; 0000000aH
$LN10@NpcAngelMe:

; 1264 : 			}
; 1265 : 		}
; 1266 : 
; 1267 : 		if ( iITEM_LEVEL == 10 )

  020e8	83 7d f4 0a	 cmp	 DWORD PTR _iITEM_LEVEL$[ebp], 10 ; 0000000aH
  020ec	75 38		 jne	 SHORT $LN8@NpcAngelMe

; 1268 : 		{
; 1269 : 			for (int i=0;i<MAX_CLOACK_LEVEL;i++)

  020ee	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _i$244477[ebp], 0
  020f5	eb 09		 jmp	 SHORT $LN7@NpcAngelMe
$LN6@NpcAngelMe:
  020f7	8b 45 f0	 mov	 eax, DWORD PTR _i$244477[ebp]
  020fa	83 c0 01	 add	 eax, 1
  020fd	89 45 f0	 mov	 DWORD PTR _i$244477[ebp], eax
$LN7@NpcAngelMe:
  02100	83 7d f0 09	 cmp	 DWORD PTR _i$244477[ebp], 9
  02104	7d 20		 jge	 SHORT $LN8@NpcAngelMe

; 1270 : 			{
; 1271 : 				if ( g_BloodCastle.CheckEnterLevel(lpObj->m_Index, i) == FALSE )

  02106	8b 45 f0	 mov	 eax, DWORD PTR _i$244477[ebp]
  02109	50		 push	 eax
  0210a	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0210d	8b 11		 mov	 edx, DWORD PTR [ecx]
  0210f	52		 push	 edx
  02110	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  02115	e8 00 00 00 00	 call	 ?CheckEnterLevel@CBloodCastle@@QAEHHH@Z ; CBloodCastle::CheckEnterLevel
  0211a	85 c0		 test	 eax, eax
  0211c	75 06		 jne	 SHORT $LN4@NpcAngelMe

; 1272 : 				{
; 1273 : 					iITEM_LEVEL = i;

  0211e	8b 45 f0	 mov	 eax, DWORD PTR _i$244477[ebp]
  02121	89 45 f4	 mov	 DWORD PTR _iITEM_LEVEL$[ebp], eax
$LN4@NpcAngelMe:

; 1274 : 				}
; 1275 : 			}

  02124	eb d1		 jmp	 SHORT $LN6@NpcAngelMe
$LN8@NpcAngelMe:

; 1276 : 		}
; 1277 : 
; 1278 : 		if ( g_BloodCastle.GetCurrentState(iITEM_LEVEL-1) == BC_STATE_CLOSED && g_BloodCastle.CheckCanEnter(iITEM_LEVEL-1) != false )

  02126	8b 45 f4	 mov	 eax, DWORD PTR _iITEM_LEVEL$[ebp]
  02129	83 e8 01	 sub	 eax, 1
  0212c	50		 push	 eax
  0212d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  02132	e8 00 00 00 00	 call	 ?GetCurrentState@CBloodCastle@@QAEHH@Z ; CBloodCastle::GetCurrentState
  02137	83 f8 01	 cmp	 eax, 1
  0213a	75 77		 jne	 SHORT $LN3@NpcAngelMe
  0213c	8b 45 f4	 mov	 eax, DWORD PTR _iITEM_LEVEL$[ebp]
  0213f	83 e8 01	 sub	 eax, 1
  02142	50		 push	 eax
  02143	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  02148	e8 00 00 00 00	 call	 ?CheckCanEnter@CBloodCastle@@QAE_NH@Z ; CBloodCastle::CheckCanEnter
  0214d	0f b6 c8	 movzx	 ecx, al
  02150	85 c9		 test	 ecx, ecx
  02152	74 5f		 je	 SHORT $LN3@NpcAngelMe

; 1279 : 		{
; 1280 : 			PMSG_TALKRESULT pMsg;
; 1281 : 
; 1282 : 			pMsg.h.c = 0xC3;

  02154	c6 45 e4 c3	 mov	 BYTE PTR _pMsg$244483[ebp], 195 ; 000000c3H

; 1283 : 			pMsg.h.headcode = 0x30;

  02158	c6 45 e6 30	 mov	 BYTE PTR _pMsg$244483[ebp+2], 48 ; 00000030H

; 1284 : 			pMsg.h.size = sizeof(pMsg);

  0215c	c6 45 e5 0b	 mov	 BYTE PTR _pMsg$244483[ebp+1], 11 ; 0000000bH

; 1285 : 			pMsg.result = 0x06;

  02160	c6 45 e7 06	 mov	 BYTE PTR _pMsg$244483[ebp+3], 6

; 1286 : 
; 1287 : 			DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  02164	0f b6 45 e5	 movzx	 eax, BYTE PTR _pMsg$244483[ebp+1]
  02168	50		 push	 eax
  02169	8d 4d e4	 lea	 ecx, DWORD PTR _pMsg$244483[ebp]
  0216c	51		 push	 ecx
  0216d	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02170	8b 02		 mov	 eax, DWORD PTR [edx]
  02172	50		 push	 eax
  02173	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  02178	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1288 : 
; 1289 : 			lpObj->m_IfState.use = 1;

  0217b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0217e	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  02184	83 e1 fc	 and	 ecx, -4			; fffffffcH
  02187	83 c9 01	 or	 ecx, 1
  0218a	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0218d	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1290 : 			lpObj->m_IfState.type = 12;

  02193	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02196	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  0219c	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  021a2	81 c9 00 03 00
	00		 or	 ecx, 768		; 00000300H
  021a8	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  021ab	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1291 : 		}
; 1292 : 		else

  021b1	eb 14		 jmp	 SHORT $LN2@NpcAngelMe
$LN3@NpcAngelMe:

; 1293 : 		{
; 1294 : 			GCServerCmd(lpObj->m_Index, 1, 0x14, 0);

  021b3	6a 00		 push	 0
  021b5	6a 14		 push	 20			; 00000014H
  021b7	6a 01		 push	 1
  021b9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  021bc	8b 08		 mov	 ecx, DWORD PTR [eax]
  021be	51		 push	 ecx
  021bf	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  021c4	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@NpcAngelMe:

; 1295 : 		}
; 1296 : 	}
; 1297 : 	else

  021c7	eb 14		 jmp	 SHORT $LN1@NpcAngelMe
$LN11@NpcAngelMe:

; 1298 : 	{
; 1299 : 		GCServerCmd(lpObj->m_Index, 1, 0x15, 0);

  021c9	6a 00		 push	 0
  021cb	6a 15		 push	 21			; 00000015H
  021cd	6a 01		 push	 1
  021cf	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  021d2	8b 08		 mov	 ecx, DWORD PTR [eax]
  021d4	51		 push	 ecx
  021d5	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  021da	83 c4 10	 add	 esp, 16			; 00000010H
$LN1@NpcAngelMe:

; 1300 : 	}
; 1301 : 
; 1302 : 	return FALSE;

  021dd	33 c0		 xor	 eax, eax
$LN15@NpcAngelMe:

; 1303 : }

  021df	5f		 pop	 edi
  021e0	5e		 pop	 esi
  021e1	5b		 pop	 ebx
  021e2	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  021e5	33 cd		 xor	 ecx, ebp
  021e7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  021ec	8b e5		 mov	 esp, ebp
  021ee	5d		 pop	 ebp
  021ef	c3		 ret	 0
?NpcAngelMessanger@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcAngelMessanger
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcRolensiaMadam@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcRolensiaMadam

; 1306 : {

  021f0	55		 push	 ebp
  021f1	8b ec		 mov	 ebp, esp
  021f3	83 ec 40	 sub	 esp, 64			; 00000040H
  021f6	53		 push	 ebx
  021f7	56		 push	 esi
  021f8	57		 push	 edi

; 1307 : 	return FALSE;

  021f9	33 c0		 xor	 eax, eax

; 1308 : }

  021fb	5f		 pop	 edi
  021fc	5e		 pop	 esi
  021fd	5b		 pop	 ebx
  021fe	8b e5		 mov	 esp, ebp
  02200	5d		 pop	 ebp
  02201	c3		 ret	 0
?NpcRolensiaMadam@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcRolensiaMadam
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcDeviasWeapon@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcDeviasWeapon

; 1311 : {

  02210	55		 push	 ebp
  02211	8b ec		 mov	 ebp, esp
  02213	83 ec 40	 sub	 esp, 64			; 00000040H
  02216	53		 push	 ebx
  02217	56		 push	 esi
  02218	57		 push	 edi

; 1312 : 	return FALSE;

  02219	33 c0		 xor	 eax, eax

; 1313 : }

  0221b	5f		 pop	 edi
  0221c	5e		 pop	 esi
  0221d	5b		 pop	 ebx
  0221e	8b e5		 mov	 esp, ebp
  02220	5d		 pop	 ebp
  02221	c3		 ret	 0
?NpcDeviasWeapon@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcDeviasWeapon
_TEXT	ENDS
PUBLIC	??_C@_0BI@EKFBANFN@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Open?5Chaos?5Box?$AA@ ; `string'
PUBLIC	__$ArrayPad$
EXTRN	?gObjInventoryTrans@@YAHH@Z:PROC		; gObjInventoryTrans
EXTRN	?GCAnsCsMapSvrTaxInfo@@YAXHEE@Z:PROC		; GCAnsCsMapSvrTaxInfo
EXTRN	?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z:PROC	; CCastleSiegeSync::GetTaxRateChaos
EXTRN	?g_CastleSiegeSync@@3VCCastleSiegeSync@@A:BYTE	; g_CastleSiegeSync
EXTRN	?gDQChaosSuccessRateLevel7@@3HA:DWORD		; gDQChaosSuccessRateLevel7
EXTRN	?gDQChaosSuccessRateLevel6@@3HA:DWORD		; gDQChaosSuccessRateLevel6
EXTRN	?gDQChaosSuccessRateLevel5@@3HA:DWORD		; gDQChaosSuccessRateLevel5
EXTRN	?gDQChaosSuccessRateLevel4@@3HA:DWORD		; gDQChaosSuccessRateLevel4
EXTRN	?gDQChaosSuccessRateLevel3@@3HA:DWORD		; gDQChaosSuccessRateLevel3
EXTRN	?gDQChaosSuccessRateLevel2@@3HA:DWORD		; gDQChaosSuccessRateLevel2
EXTRN	?gDQChaosSuccessRateLevel1@@3HA:DWORD		; gDQChaosSuccessRateLevel1
;	COMDAT ??_C@_0BI@EKFBANFN@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Open?5Chaos?5Box?$AA@
CONST	SEGMENT
??_C@_0BI@EKFBANFN@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Open?5Chaos?5Box?$AA@ DB '['
	DB	'%s][%s] Open Chaos Box', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_pMsg$244500 = -16					; size = 11
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcDarkSpiritTrainer@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcDarkSpiritTrainer

; 1316 : {

  02230	55		 push	 ebp
  02231	8b ec		 mov	 ebp, esp
  02233	83 ec 50	 sub	 esp, 80			; 00000050H
  02236	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0223b	33 c5		 xor	 eax, ebp
  0223d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02240	53		 push	 ebx
  02241	56		 push	 esi
  02242	57		 push	 edi

; 1317 : 	if ( bCanChaosBox == TRUE )

  02243	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?bCanChaosBox@@3HA, 1 ; bCanChaosBox
  0224a	0f 85 6c 01 00
	00		 jne	 $LN2@NpcDarkSpi

; 1318 : 	{
; 1319 : 		PMSG_TALKRESULT pMsg;
; 1320 : 
; 1321 : 		pMsg.h.c = 0xC3;

  02250	c6 45 f0 c3	 mov	 BYTE PTR _pMsg$244500[ebp], 195 ; 000000c3H

; 1322 : 		pMsg.h.headcode = 0x30;

  02254	c6 45 f2 30	 mov	 BYTE PTR _pMsg$244500[ebp+2], 48 ; 00000030H

; 1323 : 		pMsg.h.size = sizeof(pMsg);

  02258	c6 45 f1 0b	 mov	 BYTE PTR _pMsg$244500[ebp+1], 11 ; 0000000bH

; 1324 : 		
; 1325 : 		if ( lpObj->m_bPShopOpen == true )

  0225c	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0225f	0f b6 88 c4 0e
	00 00		 movzx	 ecx, BYTE PTR [eax+3780]
  02266	83 f9 01	 cmp	 ecx, 1
  02269	75 46		 jne	 SHORT $LN1@NpcDarkSpi

; 1326 : 		{
; 1327 : 			LogAdd("[%s][%s] is Already Opening PShop, ChaosBox Failed", lpObj->AccountID, lpObj->Name);

  0226b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0226e	83 c0 77	 add	 eax, 119		; 00000077H
  02271	50		 push	 eax
  02272	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02275	83 c1 6c	 add	 ecx, 108		; 0000006cH
  02278	51		 push	 ecx
  02279	68 00 00 00 00	 push	 OFFSET ??_C@_0DD@KJEEOOOJ@?$FL?$CFs?$FN?$FL?$CFs?$FN?5is?5Already?5Opening?5PSho@
  0227e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  02284	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1328 : 			GCServerMsgStringSend(lMsg.Get(MSGGET(4, 194)), lpObj->m_Index, 1);

  02287	6a 01		 push	 1
  02289	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0228c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0228e	51		 push	 ecx
  0228f	68 c2 04 00 00	 push	 1218			; 000004c2H
  02294	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  02299	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0229e	50		 push	 eax
  0229f	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  022a4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1329 : 			return TRUE;

  022a7	b8 01 00 00 00	 mov	 eax, 1
  022ac	e9 10 01 00 00	 jmp	 $LN3@NpcDarkSpi
$LN1@NpcDarkSpi:

; 1330 : 		}
; 1331 : 
; 1332 : 		lpObj->m_IfState.type = 13;

  022b1	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  022b4	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  022ba	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  022c0	81 c9 40 03 00
	00		 or	 ecx, 832		; 00000340H
  022c6	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  022c9	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1333 : 		lpObj->m_IfState.state = 0;

  022cf	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  022d2	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  022d8	83 e1 c3	 and	 ecx, -61		; ffffffc3H
  022db	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  022de	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1334 : 		lpObj->m_IfState.use = 1;

  022e4	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  022e7	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  022ed	83 e1 fc	 and	 ecx, -4			; fffffffcH
  022f0	83 c9 01	 or	 ecx, 1
  022f3	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  022f6	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1335 : 		
; 1336 : 		pMsg.result = 0x07;

  022fc	c6 45 f3 07	 mov	 BYTE PTR _pMsg$244500[ebp+3], 7

; 1337 : 		lpObj->bIsChaosMixCompleted = false;

  02300	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02303	c6 80 79 12 00
	00 00		 mov	 BYTE PTR [eax+4729], 0

; 1338 : 		pMsg.level1 = gDQChaosSuccessRateLevel1;

  0230a	a0 00 00 00 00	 mov	 al, BYTE PTR ?gDQChaosSuccessRateLevel1@@3HA
  0230f	88 45 f4	 mov	 BYTE PTR _pMsg$244500[ebp+4], al

; 1339 : 		pMsg.level2 = gDQChaosSuccessRateLevel2;

  02312	a0 00 00 00 00	 mov	 al, BYTE PTR ?gDQChaosSuccessRateLevel2@@3HA
  02317	88 45 f5	 mov	 BYTE PTR _pMsg$244500[ebp+5], al

; 1340 : 		pMsg.level3 = gDQChaosSuccessRateLevel3;

  0231a	a0 00 00 00 00	 mov	 al, BYTE PTR ?gDQChaosSuccessRateLevel3@@3HA
  0231f	88 45 f6	 mov	 BYTE PTR _pMsg$244500[ebp+6], al

; 1341 : 		pMsg.level4 = gDQChaosSuccessRateLevel4;

  02322	a0 00 00 00 00	 mov	 al, BYTE PTR ?gDQChaosSuccessRateLevel4@@3HA
  02327	88 45 f7	 mov	 BYTE PTR _pMsg$244500[ebp+7], al

; 1342 : 		pMsg.level5 = gDQChaosSuccessRateLevel5;

  0232a	a0 00 00 00 00	 mov	 al, BYTE PTR ?gDQChaosSuccessRateLevel5@@3HA
  0232f	88 45 f8	 mov	 BYTE PTR _pMsg$244500[ebp+8], al

; 1343 : 		pMsg.level6 = gDQChaosSuccessRateLevel6;

  02332	a0 00 00 00 00	 mov	 al, BYTE PTR ?gDQChaosSuccessRateLevel6@@3HA
  02337	88 45 f9	 mov	 BYTE PTR _pMsg$244500[ebp+9], al

; 1344 : 		pMsg.level7 = gDQChaosSuccessRateLevel7;

  0233a	a0 00 00 00 00	 mov	 al, BYTE PTR ?gDQChaosSuccessRateLevel7@@3HA
  0233f	88 45 fa	 mov	 BYTE PTR _pMsg$244500[ebp+10], al

; 1345 : 
; 1346 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  02342	0f b6 45 f1	 movzx	 eax, BYTE PTR _pMsg$244500[ebp+1]
  02346	50		 push	 eax
  02347	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$244500[ebp]
  0234a	51		 push	 ecx
  0234b	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0234e	8b 02		 mov	 eax, DWORD PTR [edx]
  02350	50		 push	 eax
  02351	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  02356	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1347 : 
; 1348 : 		GCAnsCsMapSvrTaxInfo(lpObj->m_Index, 1, g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index));

  02359	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0235c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0235e	51		 push	 ecx
  0235f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  02364	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  02369	50		 push	 eax
  0236a	6a 01		 push	 1
  0236c	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0236f	8b 02		 mov	 eax, DWORD PTR [edx]
  02371	50		 push	 eax
  02372	e8 00 00 00 00	 call	 ?GCAnsCsMapSvrTaxInfo@@YAXHEE@Z ; GCAnsCsMapSvrTaxInfo
  02377	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1349 : 		gObjInventoryTrans(lpObj->m_Index);

  0237a	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0237d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0237f	51		 push	 ecx
  02380	e8 00 00 00 00	 call	 ?gObjInventoryTrans@@YAHH@Z ; gObjInventoryTrans
  02385	83 c4 04	 add	 esp, 4

; 1350 : 
; 1351 : 		LogAddTD("[%s][%s] Open Chaos Box", lpObj->AccountID, lpObj->Name);

  02388	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0238b	83 c0 77	 add	 eax, 119		; 00000077H
  0238e	50		 push	 eax
  0238f	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02392	83 c1 6c	 add	 ecx, 108		; 0000006cH
  02395	51		 push	 ecx
  02396	68 00 00 00 00	 push	 OFFSET ??_C@_0BI@EKFBANFN@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Open?5Chaos?5Box?$AA@
  0239b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  023a1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1352 : 		gObjItemTextSave(lpObj);

  023a4	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  023a7	50		 push	 eax
  023a8	e8 00 00 00 00	 call	 ?gObjItemTextSave@@YAXPAUOBJECTSTRUCT@@@Z ; gObjItemTextSave
  023ad	83 c4 04	 add	 esp, 4

; 1353 : 		gObjWarehouseTextSave(lpObj);

  023b0	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  023b3	50		 push	 eax
  023b4	e8 00 00 00 00	 call	 ?gObjWarehouseTextSave@@YAXPAUOBJECTSTRUCT@@@Z ; gObjWarehouseTextSave
  023b9	83 c4 04	 add	 esp, 4
$LN2@NpcDarkSpi:

; 1354 : 	}
; 1355 : 
; 1356 : 	return TRUE;

  023bc	b8 01 00 00 00	 mov	 eax, 1
$LN3@NpcDarkSpi:

; 1357 : }

  023c1	5f		 pop	 edi
  023c2	5e		 pop	 esi
  023c3	5b		 pop	 ebx
  023c4	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  023c7	33 cd		 xor	 ecx, ebp
  023c9	e8 00 00 00 00	 call	 @__security_check_cookie@4
  023ce	8b e5		 mov	 esp, ebp
  023d0	5d		 pop	 ebp
  023d1	c3		 ret	 0
?NpcDarkSpiritTrainer@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcDarkSpiritTrainer
_TEXT	ENDS
PUBLIC	__$ArrayPad$
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$244510 = -16					; size = 11
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcJewelMixDealer@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcJewelMixDealer

; 1360 : {

  023e0	55		 push	 ebp
  023e1	8b ec		 mov	 ebp, esp
  023e3	83 ec 50	 sub	 esp, 80			; 00000050H
  023e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  023eb	33 c5		 xor	 eax, ebp
  023ed	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  023f0	53		 push	 ebx
  023f1	56		 push	 esi
  023f2	57		 push	 edi

; 1361 : 	if ( bCanChaosBox == TRUE )

  023f3	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?bCanChaosBox@@3HA, 1 ; bCanChaosBox
  023fa	0f 85 a9 00 00
	00		 jne	 $LN2@NpcJewelMi

; 1362 : 	{
; 1363 : 		if ( (lpObj->m_IfState.use) > 0 )

  02400	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02403	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  02409	83 e1 03	 and	 ecx, 3
  0240c	76 0a		 jbe	 SHORT $LN1@NpcJewelMi

; 1364 : 		{
; 1365 : 			return TRUE;

  0240e	b8 01 00 00 00	 mov	 eax, 1
  02413	e9 96 00 00 00	 jmp	 $LN3@NpcJewelMi
$LN1@NpcJewelMi:

; 1366 : 		}
; 1367 : 
; 1368 : 		PMSG_TALKRESULT pMsg;
; 1369 : 
; 1370 : 		pMsg.h.c = 0xC3;

  02418	c6 45 f0 c3	 mov	 BYTE PTR _pMsg$244510[ebp], 195 ; 000000c3H

; 1371 : 		pMsg.h.headcode = 0x30;

  0241c	c6 45 f2 30	 mov	 BYTE PTR _pMsg$244510[ebp+2], 48 ; 00000030H

; 1372 : 		pMsg.h.size = sizeof(pMsg);

  02420	c6 45 f1 0b	 mov	 BYTE PTR _pMsg$244510[ebp+1], 11 ; 0000000bH

; 1373 : 		pMsg.result = 0x09;

  02424	c6 45 f3 09	 mov	 BYTE PTR _pMsg$244510[ebp+3], 9

; 1374 : 
; 1375 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  02428	0f b6 45 f1	 movzx	 eax, BYTE PTR _pMsg$244510[ebp+1]
  0242c	50		 push	 eax
  0242d	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$244510[ebp]
  02430	51		 push	 ecx
  02431	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02434	8b 02		 mov	 eax, DWORD PTR [edx]
  02436	50		 push	 eax
  02437	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0243c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1376 : 
; 1377 : 		lpObj->m_IfState.use = 1;

  0243f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02442	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  02448	83 e1 fc	 and	 ecx, -4			; fffffffcH
  0244b	83 c9 01	 or	 ecx, 1
  0244e	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02451	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1378 : 		lpObj->m_IfState.type = 20; //season4 changed

  02457	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0245a	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  02460	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  02466	81 c9 00 05 00
	00		 or	 ecx, 1280		; 00000500H
  0246c	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0246f	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1379 : 
; 1380 : 		LogAddTD("[JewelMix] [%s][%s] Jewel Mix Dealer Start", lpObj->AccountID, lpObj->Name);

  02475	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02478	83 c0 77	 add	 eax, 119		; 00000077H
  0247b	50		 push	 eax
  0247c	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0247f	83 c1 6c	 add	 ecx, 108		; 0000006cH
  02482	51		 push	 ecx
  02483	68 00 00 00 00	 push	 OFFSET ??_C@_0CL@KMBDNKMH@?$FLJewelMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Jewel?5Mix?5De@
  02488	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0248e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1381 : 
; 1382 : 		gObjItemTextSave(lpObj);

  02491	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02494	50		 push	 eax
  02495	e8 00 00 00 00	 call	 ?gObjItemTextSave@@YAXPAUOBJECTSTRUCT@@@Z ; gObjItemTextSave
  0249a	83 c4 04	 add	 esp, 4

; 1383 : 		gObjWarehouseTextSave(lpObj);

  0249d	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  024a0	50		 push	 eax
  024a1	e8 00 00 00 00	 call	 ?gObjWarehouseTextSave@@YAXPAUOBJECTSTRUCT@@@Z ; gObjWarehouseTextSave
  024a6	83 c4 04	 add	 esp, 4
$LN2@NpcJewelMi:

; 1384 : 
; 1385 : 	}
; 1386 : 
; 1387 : 	return TRUE;

  024a9	b8 01 00 00 00	 mov	 eax, 1
$LN3@NpcJewelMi:

; 1388 : }

  024ae	5f		 pop	 edi
  024af	5e		 pop	 esi
  024b0	5b		 pop	 ebx
  024b1	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  024b4	33 cd		 xor	 ecx, ebp
  024b6	e8 00 00 00 00	 call	 @__security_check_cookie@4
  024bb	8b e5		 mov	 esp, ebp
  024bd	5d		 pop	 ebp
  024be	c3		 ret	 0
?NpcJewelMixDealer@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcJewelMixDealer
_TEXT	ENDS
EXTRN	?gObjIsConnectedGP@@YAHH@Z:PROC			; gObjIsConnectedGP
EXTRN	?PHeadSubSetB@@YAXPAEEEH@Z:PROC			; PHeadSubSetB
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pResult$ = -8						; size = 8
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcSiegeMachine_Attack@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcSiegeMachine_Attack

; 1400 : {

  024c0	55		 push	 ebp
  024c1	8b ec		 mov	 ebp, esp
  024c3	83 ec 48	 sub	 esp, 72			; 00000048H
  024c6	53		 push	 ebx
  024c7	56		 push	 esi
  024c8	57		 push	 edi

; 1401 : 	if ( (lpObj->m_IfState.use) > 0 )

  024c9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  024cc	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  024d2	83 e1 03	 and	 ecx, 3
  024d5	76 0a		 jbe	 SHORT $LN4@NpcSiegeMa

; 1402 : 	{
; 1403 : 		return TRUE;

  024d7	b8 01 00 00 00	 mov	 eax, 1
  024dc	e9 13 01 00 00	 jmp	 $LN5@NpcSiegeMa
$LN4@NpcSiegeMa:

; 1404 : 	}
; 1405 : 
; 1406 : 	PMSG_ANS_USE_WEAPON_INTERFACE pResult = {0};

  024e1	c6 45 f8 00	 mov	 BYTE PTR _pResult$[ebp], 0
  024e5	33 c0		 xor	 eax, eax
  024e7	89 45 f9	 mov	 DWORD PTR _pResult$[ebp+1], eax
  024ea	66 89 45 fd	 mov	 WORD PTR _pResult$[ebp+5], ax
  024ee	88 45 ff	 mov	 BYTE PTR _pResult$[ebp+7], al

; 1407 : 
; 1408 : 	PHeadSubSetB((LPBYTE)&pResult, 0xB7, 0x00, sizeof(pResult));

  024f1	6a 08		 push	 8
  024f3	6a 00		 push	 0
  024f5	68 b7 00 00 00	 push	 183			; 000000b7H
  024fa	8d 45 f8	 lea	 eax, DWORD PTR _pResult$[ebp]
  024fd	50		 push	 eax
  024fe	e8 00 00 00 00	 call	 ?PHeadSubSetB@@YAXPAEEEH@Z ; PHeadSubSetB
  02503	83 c4 10	 add	 esp, 16			; 00000010H

; 1409 : 
; 1410 : 	pResult.btResult = 0;

  02506	c6 45 fc 00	 mov	 BYTE PTR _pResult$[ebp+4], 0

; 1411 : 	pResult.btWeaponType = 1;

  0250a	c6 45 fd 01	 mov	 BYTE PTR _pResult$[ebp+5], 1

; 1412 : 	pResult.btObjIndexH = SET_NUMBERH(lpNpc->m_Index);

  0250e	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  02511	8b 08		 mov	 ecx, DWORD PTR [eax]
  02513	c1 e9 08	 shr	 ecx, 8
  02516	88 4d fe	 mov	 BYTE PTR _pResult$[ebp+6], cl

; 1413 : 	pResult.btObjIndexL = SET_NUMBERL(lpNpc->m_Index);

  02519	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0251c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0251e	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  02524	88 4d ff	 mov	 BYTE PTR _pResult$[ebp+7], cl

; 1414 : 
; 1415 : 	if ( gObjIsConnectedGP(lpNpc->m_iWeaponUser) == FALSE )

  02527	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0252a	8b 88 08 1c 00
	00		 mov	 ecx, DWORD PTR [eax+7176]
  02530	51		 push	 ecx
  02531	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  02536	83 c4 04	 add	 esp, 4
  02539	85 c0		 test	 eax, eax
  0253b	75 17		 jne	 SHORT $LN3@NpcSiegeMa

; 1416 : 	{
; 1417 : 		lpNpc->m_iWeaponUser = 0;

  0253d	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  02540	c7 80 08 1c 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+7176], 0

; 1418 : 		lpNpc->m_btWeaponState = 1;

  0254a	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0254d	c6 80 05 1c 00
	00 01		 mov	 BYTE PTR [eax+7173], 1
$LN3@NpcSiegeMa:

; 1419 : 	}
; 1420 : 
; 1421 : 	lpNpc->m_btWeaponState = 1;

  02554	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  02557	c6 80 05 1c 00
	00 01		 mov	 BYTE PTR [eax+7173], 1

; 1422 : 
; 1423 : 
; 1424 : 	if ( lpNpc->m_btWeaponState == 1 )

  0255e	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  02561	0f b6 88 05 1c
	00 00		 movzx	 ecx, BYTE PTR [eax+7173]
  02568	83 f9 01	 cmp	 ecx, 1
  0256b	75 6b		 jne	 SHORT $LN2@NpcSiegeMa

; 1425 : 	{
; 1426 : 		pResult.btResult = 1;

  0256d	c6 45 fc 01	 mov	 BYTE PTR _pResult$[ebp+4], 1

; 1427 : 		lpNpc->m_btWeaponState = 2;

  02571	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  02574	c6 80 05 1c 00
	00 02		 mov	 BYTE PTR [eax+7173], 2

; 1428 : 		lpNpc->m_iWeaponUser = lpObj->m_Index;

  0257b	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0257e	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02581	8b 11		 mov	 edx, DWORD PTR [ecx]
  02583	89 90 08 1c 00
	00		 mov	 DWORD PTR [eax+7176], edx

; 1429 : 
; 1430 : 		DataSend(lpObj->m_Index, (LPBYTE)&pResult, pResult.h.size);

  02589	0f b6 45 f9	 movzx	 eax, BYTE PTR _pResult$[ebp+1]
  0258d	50		 push	 eax
  0258e	8d 4d f8	 lea	 ecx, DWORD PTR _pResult$[ebp]
  02591	51		 push	 ecx
  02592	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02595	8b 02		 mov	 eax, DWORD PTR [edx]
  02597	50		 push	 eax
  02598	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0259d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1431 : 
; 1432 : 		lpObj->m_IfState.use = 1;

  025a0	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  025a3	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  025a9	83 e1 fc	 and	 ecx, -4			; fffffffcH
  025ac	83 c9 01	 or	 ecx, 1
  025af	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  025b2	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1433 : 		lpObj->m_IfState.type = 15;

  025b8	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  025bb	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  025c1	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  025c7	81 c9 c0 03 00
	00		 or	 ecx, 960		; 000003c0H
  025cd	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  025d0	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1434 : 	}
; 1435 : 	else

  025d6	eb 17		 jmp	 SHORT $LN1@NpcSiegeMa
$LN2@NpcSiegeMa:

; 1436 : 	{
; 1437 : 		DataSend(lpObj->m_Index, (LPBYTE)&pResult, pResult.h.size);

  025d8	0f b6 45 f9	 movzx	 eax, BYTE PTR _pResult$[ebp+1]
  025dc	50		 push	 eax
  025dd	8d 4d f8	 lea	 ecx, DWORD PTR _pResult$[ebp]
  025e0	51		 push	 ecx
  025e1	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  025e4	8b 02		 mov	 eax, DWORD PTR [edx]
  025e6	50		 push	 eax
  025e7	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  025ec	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@NpcSiegeMa:

; 1438 : 	}
; 1439 : 
; 1440 : 	return TRUE;

  025ef	b8 01 00 00 00	 mov	 eax, 1
$LN5@NpcSiegeMa:

; 1441 : }

  025f4	5f		 pop	 edi
  025f5	5e		 pop	 esi
  025f6	5b		 pop	 ebx
  025f7	8b e5		 mov	 esp, ebp
  025f9	5d		 pop	 ebp
  025fa	c3		 ret	 0
?NpcSiegeMachine_Attack@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcSiegeMachine_Attack
; Function compile flags: /Odtp /ZI
_pResult$ = -8						; size = 8
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcSiegeMachine_Defense@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcSiegeMachine_Defense

; 1444 : {

  02600	55		 push	 ebp
  02601	8b ec		 mov	 ebp, esp
  02603	83 ec 48	 sub	 esp, 72			; 00000048H
  02606	53		 push	 ebx
  02607	56		 push	 esi
  02608	57		 push	 edi

; 1445 : 	if ( (lpObj->m_IfState.use ) > 0 )

  02609	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0260c	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  02612	83 e1 03	 and	 ecx, 3
  02615	76 0a		 jbe	 SHORT $LN4@NpcSiegeMa@2

; 1446 : 	{
; 1447 : 		return TRUE;

  02617	b8 01 00 00 00	 mov	 eax, 1
  0261c	e9 13 01 00 00	 jmp	 $LN5@NpcSiegeMa@2
$LN4@NpcSiegeMa@2:

; 1448 : 	}
; 1449 : 
; 1450 : 	PMSG_ANS_USE_WEAPON_INTERFACE pResult = {0};

  02621	c6 45 f8 00	 mov	 BYTE PTR _pResult$[ebp], 0
  02625	33 c0		 xor	 eax, eax
  02627	89 45 f9	 mov	 DWORD PTR _pResult$[ebp+1], eax
  0262a	66 89 45 fd	 mov	 WORD PTR _pResult$[ebp+5], ax
  0262e	88 45 ff	 mov	 BYTE PTR _pResult$[ebp+7], al

; 1451 : 
; 1452 : 	PHeadSubSetB((LPBYTE)&pResult, 0xB7, 0x00, sizeof(pResult));

  02631	6a 08		 push	 8
  02633	6a 00		 push	 0
  02635	68 b7 00 00 00	 push	 183			; 000000b7H
  0263a	8d 45 f8	 lea	 eax, DWORD PTR _pResult$[ebp]
  0263d	50		 push	 eax
  0263e	e8 00 00 00 00	 call	 ?PHeadSubSetB@@YAXPAEEEH@Z ; PHeadSubSetB
  02643	83 c4 10	 add	 esp, 16			; 00000010H

; 1453 : 
; 1454 : 	pResult.btResult = 0;

  02646	c6 45 fc 00	 mov	 BYTE PTR _pResult$[ebp+4], 0

; 1455 : 	pResult.btWeaponType = 2;

  0264a	c6 45 fd 02	 mov	 BYTE PTR _pResult$[ebp+5], 2

; 1456 : 	pResult.btObjIndexH = SET_NUMBERH(lpNpc->m_Index);

  0264e	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  02651	8b 08		 mov	 ecx, DWORD PTR [eax]
  02653	c1 e9 08	 shr	 ecx, 8
  02656	88 4d fe	 mov	 BYTE PTR _pResult$[ebp+6], cl

; 1457 : 	pResult.btObjIndexL = SET_NUMBERL(lpNpc->m_Index);

  02659	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0265c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0265e	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  02664	88 4d ff	 mov	 BYTE PTR _pResult$[ebp+7], cl

; 1458 : 
; 1459 : 	if ( gObjIsConnectedGP(lpNpc->m_iWeaponUser) == FALSE )

  02667	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0266a	8b 88 08 1c 00
	00		 mov	 ecx, DWORD PTR [eax+7176]
  02670	51		 push	 ecx
  02671	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  02676	83 c4 04	 add	 esp, 4
  02679	85 c0		 test	 eax, eax
  0267b	75 17		 jne	 SHORT $LN3@NpcSiegeMa@2

; 1460 : 	{
; 1461 : 		lpNpc->m_iWeaponUser = 0;

  0267d	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  02680	c7 80 08 1c 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+7176], 0

; 1462 : 		lpNpc->m_btWeaponState = 1;

  0268a	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0268d	c6 80 05 1c 00
	00 01		 mov	 BYTE PTR [eax+7173], 1
$LN3@NpcSiegeMa@2:

; 1463 : 	}
; 1464 : 
; 1465 : 	lpNpc->m_btWeaponState = 1;

  02694	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  02697	c6 80 05 1c 00
	00 01		 mov	 BYTE PTR [eax+7173], 1

; 1466 : 
; 1467 : 
; 1468 : 	if ( lpNpc->m_btWeaponState == 1 )

  0269e	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  026a1	0f b6 88 05 1c
	00 00		 movzx	 ecx, BYTE PTR [eax+7173]
  026a8	83 f9 01	 cmp	 ecx, 1
  026ab	75 6b		 jne	 SHORT $LN2@NpcSiegeMa@2

; 1469 : 	{
; 1470 : 		pResult.btResult = 1;

  026ad	c6 45 fc 01	 mov	 BYTE PTR _pResult$[ebp+4], 1

; 1471 : 		lpNpc->m_btWeaponState = 2;

  026b1	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  026b4	c6 80 05 1c 00
	00 02		 mov	 BYTE PTR [eax+7173], 2

; 1472 : 		lpNpc->m_iWeaponUser = lpObj->m_Index;

  026bb	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  026be	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  026c1	8b 11		 mov	 edx, DWORD PTR [ecx]
  026c3	89 90 08 1c 00
	00		 mov	 DWORD PTR [eax+7176], edx

; 1473 : 
; 1474 : 		DataSend(lpObj->m_Index, (LPBYTE)&pResult, pResult.h.size);

  026c9	0f b6 45 f9	 movzx	 eax, BYTE PTR _pResult$[ebp+1]
  026cd	50		 push	 eax
  026ce	8d 4d f8	 lea	 ecx, DWORD PTR _pResult$[ebp]
  026d1	51		 push	 ecx
  026d2	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  026d5	8b 02		 mov	 eax, DWORD PTR [edx]
  026d7	50		 push	 eax
  026d8	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  026dd	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1475 : 
; 1476 : 		lpObj->m_IfState.use = 1;

  026e0	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  026e3	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  026e9	83 e1 fc	 and	 ecx, -4			; fffffffcH
  026ec	83 c9 01	 or	 ecx, 1
  026ef	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  026f2	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1477 : 		lpObj->m_IfState.type = 16;

  026f8	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  026fb	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  02701	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  02707	81 c9 00 04 00
	00		 or	 ecx, 1024		; 00000400H
  0270d	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02710	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1478 : 	}
; 1479 : 	else

  02716	eb 17		 jmp	 SHORT $LN1@NpcSiegeMa@2
$LN2@NpcSiegeMa@2:

; 1480 : 	{
; 1481 : 		DataSend(lpObj->m_Index, (LPBYTE)&pResult, pResult.h.size);

  02718	0f b6 45 f9	 movzx	 eax, BYTE PTR _pResult$[ebp+1]
  0271c	50		 push	 eax
  0271d	8d 4d f8	 lea	 ecx, DWORD PTR _pResult$[ebp]
  02720	51		 push	 ecx
  02721	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02724	8b 02		 mov	 eax, DWORD PTR [edx]
  02726	50		 push	 eax
  02727	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0272c	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@NpcSiegeMa@2:

; 1482 : 	}
; 1483 : 
; 1484 : 	return TRUE;

  0272f	b8 01 00 00 00	 mov	 eax, 1
$LN5@NpcSiegeMa@2:

; 1485 : }

  02734	5f		 pop	 edi
  02735	5e		 pop	 esi
  02736	5b		 pop	 ebx
  02737	8b e5		 mov	 esp, ebp
  02739	5d		 pop	 ebp
  0273a	c3		 ret	 0
?NpcSiegeMachine_Defense@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcSiegeMachine_Defense
_TEXT	ENDS
PUBLIC	??_C@_00CNPNBAHC@?$AA@				; `string'
PUBLIC	?GetCastleState@CCastleSiege@@QAEHXZ		; CCastleSiege::GetCastleState
PUBLIC	__$ArrayPad$
EXTRN	?CheckGuildOwnCastle@CCastleSiege@@QAEHPAD@Z:PROC ; CCastleSiege::CheckGuildOwnCastle
EXTRN	_strcmp:PROC
EXTRN	?g_CastleSiege@@3VCCastleSiege@@A:BYTE		; g_CastleSiege
;	COMDAT ??_C@_00CNPNBAHC@?$AA@
CONST	SEGMENT
??_C@_00CNPNBAHC@?$AA@ DB 00H				; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_pMsg$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcElderCircle@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcElderCircle

; 1488 : {

  02740	55		 push	 ebp
  02741	8b ec		 mov	 ebp, esp
  02743	83 ec 50	 sub	 esp, 80			; 00000050H
  02746	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0274b	33 c5		 xor	 eax, ebp
  0274d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02750	53		 push	 ebx
  02751	56		 push	 esi
  02752	57		 push	 edi

; 1489 : 	if ( (lpObj->m_IfState.use ) > 0 )

  02753	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02756	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  0275c	83 e1 03	 and	 ecx, 3
  0275f	76 0a		 jbe	 SHORT $LN6@NpcElderCi

; 1490 : 	{
; 1491 : 		return TRUE;

  02761	b8 01 00 00 00	 mov	 eax, 1
  02766	e9 03 02 00 00	 jmp	 $LN7@NpcElderCi
$LN6@NpcElderCi:

; 1492 : 	}
; 1493 : 
; 1494 : //#if(GS_CASTLE==1)
; 1495 : 	if(g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  0276b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02770	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  02775	83 f8 07	 cmp	 eax, 7
  02778	75 2c		 jne	 SHORT $LN5@NpcElderCi

; 1496 : 	{
; 1497 : 		ChatTargetSend(lpNpc,(lMsg.Get(MSGGET(6, 85))), lpObj->m_Index);

  0277a	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0277d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0277f	51		 push	 ecx
  02780	68 55 06 00 00	 push	 1621			; 00000655H
  02785	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  0278a	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0278f	50		 push	 eax
  02790	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  02793	52		 push	 edx
  02794	e8 00 00 00 00	 call	 ?ChatTargetSend@@YAXPAUOBJECTSTRUCT@@PADH@Z ; ChatTargetSend
  02799	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1498 : 		return TRUE;

  0279c	b8 01 00 00 00	 mov	 eax, 1
  027a1	e9 c8 01 00 00	 jmp	 $LN7@NpcElderCi
$LN5@NpcElderCi:

; 1499 : 	}
; 1500 : 
; 1501 : 	if(strcmp(lpObj->GuildName, "") == 0 )

  027a6	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@?$AA@
  027ab	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  027ae	05 3c 04 00 00	 add	 eax, 1084		; 0000043cH
  027b3	50		 push	 eax
  027b4	e8 00 00 00 00	 call	 _strcmp
  027b9	83 c4 08	 add	 esp, 8
  027bc	85 c0		 test	 eax, eax
  027be	75 2c		 jne	 SHORT $LN4@NpcElderCi

; 1502 : 	{
; 1503 : 		ChatTargetSend(lpNpc,(lMsg.Get(MSGGET(6, 86))), lpObj->m_Index);

  027c0	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  027c3	8b 08		 mov	 ecx, DWORD PTR [eax]
  027c5	51		 push	 ecx
  027c6	68 56 06 00 00	 push	 1622			; 00000656H
  027cb	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  027d0	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  027d5	50		 push	 eax
  027d6	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  027d9	52		 push	 edx
  027da	e8 00 00 00 00	 call	 ?ChatTargetSend@@YAXPAUOBJECTSTRUCT@@PADH@Z ; ChatTargetSend
  027df	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1504 : 		return TRUE;

  027e2	b8 01 00 00 00	 mov	 eax, 1
  027e7	e9 82 01 00 00	 jmp	 $LN7@NpcElderCi
$LN4@NpcElderCi:

; 1505 : 	}
; 1506 : 
; 1507 : 	if(!g_CastleSiege.CheckGuildOwnCastle(lpObj->GuildName) || (lpObj->GuildStatus != G_MASTER && lpObj->GuildStatus != G_SUB_MASTER))

  027ec	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  027ef	05 3c 04 00 00	 add	 eax, 1084		; 0000043cH
  027f4	50		 push	 eax
  027f5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  027fa	e8 00 00 00 00	 call	 ?CheckGuildOwnCastle@CCastleSiege@@QAEHPAD@Z ; CCastleSiege::CheckGuildOwnCastle
  027ff	85 c0		 test	 eax, eax
  02801	74 1b		 je	 SHORT $LN2@NpcElderCi
  02803	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02806	81 b8 48 04 00
	00 80 00 00 00	 cmp	 DWORD PTR [eax+1096], 128 ; 00000080H
  02810	74 38		 je	 SHORT $LN3@NpcElderCi
  02812	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02815	83 b8 48 04 00
	00 40		 cmp	 DWORD PTR [eax+1096], 64 ; 00000040H
  0281c	74 2c		 je	 SHORT $LN3@NpcElderCi
$LN2@NpcElderCi:

; 1508 : 	{
; 1509 : 		ChatTargetSend(lpNpc,(lMsg.Get(MSGGET(6, 86))), lpObj->m_Index);

  0281e	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02821	8b 08		 mov	 ecx, DWORD PTR [eax]
  02823	51		 push	 ecx
  02824	68 56 06 00 00	 push	 1622			; 00000656H
  02829	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  0282e	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  02833	50		 push	 eax
  02834	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  02837	52		 push	 edx
  02838	e8 00 00 00 00	 call	 ?ChatTargetSend@@YAXPAUOBJECTSTRUCT@@PADH@Z ; ChatTargetSend
  0283d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1510 : 		return TRUE;

  02840	b8 01 00 00 00	 mov	 eax, 1
  02845	e9 24 01 00 00	 jmp	 $LN7@NpcElderCi
$LN3@NpcElderCi:

; 1511 : 	}
; 1512 : //#endif
; 1513 : 
; 1514 : 	PMSG_TALKRESULT pMsg;
; 1515 : 
; 1516 : 	pMsg.h.c = 0xC3;

  0284a	c6 45 f0 c3	 mov	 BYTE PTR _pMsg$[ebp], 195 ; 000000c3H

; 1517 : 	pMsg.h.headcode = 0x30;

  0284e	c6 45 f2 30	 mov	 BYTE PTR _pMsg$[ebp+2], 48 ; 00000030H

; 1518 : 	pMsg.h.size = sizeof(pMsg);

  02852	c6 45 f1 0b	 mov	 BYTE PTR _pMsg$[ebp+1], 11 ; 0000000bH

; 1519 : 	pMsg.result = 0x0C;

  02856	c6 45 f3 0c	 mov	 BYTE PTR _pMsg$[ebp+3], 12 ; 0000000cH

; 1520 : 
; 1521 : 	lpObj->m_IfState.use = 1;

  0285a	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0285d	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  02863	83 e1 fc	 and	 ecx, -4			; fffffffcH
  02866	83 c9 01	 or	 ecx, 1
  02869	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0286c	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1522 : 	lpObj->m_IfState.type = 12;

  02872	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02875	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  0287b	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  02881	81 c9 00 03 00
	00		 or	 ecx, 768		; 00000300H
  02887	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0288a	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1523 : 
; 1524 : //#if(GS_CASTLE==1)
; 1525 : 	pMsg.level1 = 0;

  02890	c6 45 f4 00	 mov	 BYTE PTR _pMsg$[ebp+4], 0

; 1526 : 	pMsg.level2 = 0;

  02894	c6 45 f5 00	 mov	 BYTE PTR _pMsg$[ebp+5], 0

; 1527 : 	pMsg.level3 = 0;

  02898	c6 45 f6 00	 mov	 BYTE PTR _pMsg$[ebp+6], 0

; 1528 : 	pMsg.level4 = 0;

  0289c	c6 45 f7 00	 mov	 BYTE PTR _pMsg$[ebp+7], 0

; 1529 : 	pMsg.level5 = 0;

  028a0	c6 45 f8 00	 mov	 BYTE PTR _pMsg$[ebp+8], 0

; 1530 : 	pMsg.level6 = 0;

  028a4	c6 45 f9 00	 mov	 BYTE PTR _pMsg$[ebp+9], 0

; 1531 : 	pMsg.level7 = 0;//Season 4.5 fix

  028a8	c6 45 fa 00	 mov	 BYTE PTR _pMsg$[ebp+10], 0

; 1532 : 
; 1533 : 	if( bCanChaosBox == TRUE)

  028ac	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?bCanChaosBox@@3HA, 1 ; bCanChaosBox
  028b3	0f 85 99 00 00
	00		 jne	 $LN1@NpcElderCi

; 1534 : 	{
; 1535 : 		lpObj->m_IfState.type = 7;

  028b9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  028bc	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  028c2	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  028c8	81 c9 c0 01 00
	00		 or	 ecx, 448		; 000001c0H
  028ce	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  028d1	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1536 : 
; 1537 : 		lpObj->bIsChaosMixCompleted = false;

  028d7	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  028da	c6 80 79 12 00
	00 00		 mov	 BYTE PTR [eax+4729], 0

; 1538 : 		lpObj->m_bIsCastleNPCUpgradeCompleted = false; 

  028e1	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  028e4	c6 80 04 1c 00
	00 00		 mov	 BYTE PTR [eax+7172], 0

; 1539 : 
; 1540 : 		pMsg.level1 = 1;

  028eb	c6 45 f4 01	 mov	 BYTE PTR _pMsg$[ebp+4], 1

; 1541 : 
; 1542 : 		GCAnsCsMapSvrTaxInfo(lpObj->m_Index, 1, g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index));

  028ef	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  028f2	8b 08		 mov	 ecx, DWORD PTR [eax]
  028f4	51		 push	 ecx
  028f5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  028fa	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  028ff	50		 push	 eax
  02900	6a 01		 push	 1
  02902	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02905	8b 02		 mov	 eax, DWORD PTR [edx]
  02907	50		 push	 eax
  02908	e8 00 00 00 00	 call	 ?GCAnsCsMapSvrTaxInfo@@YAXHEE@Z ; GCAnsCsMapSvrTaxInfo
  0290d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1543 : 		gObjInventoryTrans(lpObj->m_Index);

  02910	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02913	8b 08		 mov	 ecx, DWORD PTR [eax]
  02915	51		 push	 ecx
  02916	e8 00 00 00 00	 call	 ?gObjInventoryTrans@@YAHH@Z ; gObjInventoryTrans
  0291b	83 c4 04	 add	 esp, 4

; 1544 : 
; 1545 : 		LogAddTD("[%s][%s] Open Chaos Box", lpObj->AccountID, lpObj->Name);

  0291e	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02921	83 c0 77	 add	 eax, 119		; 00000077H
  02924	50		 push	 eax
  02925	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02928	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0292b	51		 push	 ecx
  0292c	68 00 00 00 00	 push	 OFFSET ??_C@_0BI@EKFBANFN@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Open?5Chaos?5Box?$AA@
  02931	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  02937	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1546 : 		gObjItemTextSave(lpObj);

  0293a	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0293d	50		 push	 eax
  0293e	e8 00 00 00 00	 call	 ?gObjItemTextSave@@YAXPAUOBJECTSTRUCT@@@Z ; gObjItemTextSave
  02943	83 c4 04	 add	 esp, 4

; 1547 : 		gObjWarehouseTextSave(lpObj);

  02946	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02949	50		 push	 eax
  0294a	e8 00 00 00 00	 call	 ?gObjWarehouseTextSave@@YAXPAUOBJECTSTRUCT@@@Z ; gObjWarehouseTextSave
  0294f	83 c4 04	 add	 esp, 4
$LN1@NpcElderCi:

; 1548 : 	}
; 1549 : //#endif
; 1550 : 
; 1551 : 	DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  02952	0f b6 45 f1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  02956	50		 push	 eax
  02957	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0295a	51		 push	 ecx
  0295b	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0295e	8b 02		 mov	 eax, DWORD PTR [edx]
  02960	50		 push	 eax
  02961	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  02966	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1552 : 
; 1553 : 	return TRUE;

  02969	b8 01 00 00 00	 mov	 eax, 1
$LN7@NpcElderCi:

; 1554 : }

  0296e	5f		 pop	 edi
  0296f	5e		 pop	 esi
  02970	5b		 pop	 ebx
  02971	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02974	33 cd		 xor	 ecx, ebp
  02976	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0297b	8b e5		 mov	 esp, ebp
  0297d	5d		 pop	 ebp
  0297e	c3		 ret	 0
?NpcElderCircle@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcElderCircle
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\castlesiege.h
_TEXT	ENDS
;	COMDAT ?GetCastleState@CCastleSiege@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetCastleState@CCastleSiege@@QAEHXZ PROC		; CCastleSiege::GetCastleState, COMDAT
; _this$ = ecx

; 314  : 	int GetCastleState(){return m_iCastleSiegeState;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 28	 mov	 eax, DWORD PTR [eax+40]
  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetCastleState@CCastleSiege@@QAEHXZ ENDP		; CCastleSiege::GetCastleState
_TEXT	ENDS
PUBLIC	__$ArrayPad$
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\npctalk.cpp
_TEXT	SEGMENT
_pMsg$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcCastleGuard@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcCastleGuard

; 1557 : {

  02980	55		 push	 ebp
  02981	8b ec		 mov	 ebp, esp
  02983	83 ec 50	 sub	 esp, 80			; 00000050H
  02986	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0298b	33 c5		 xor	 eax, ebp
  0298d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02990	53		 push	 ebx
  02991	56		 push	 esi
  02992	57		 push	 edi

; 1558 : 	if ( (lpObj->m_IfState.use ) > 0 )

  02993	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02996	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  0299c	83 e1 03	 and	 ecx, 3
  0299f	76 0a		 jbe	 SHORT $LN2@NpcCastleG

; 1559 : 	{
; 1560 : 		return TRUE;

  029a1	b8 01 00 00 00	 mov	 eax, 1
  029a6	e9 9a 00 00 00	 jmp	 $LN3@NpcCastleG
$LN2@NpcCastleG:

; 1561 : 	}
; 1562 : 
; 1563 : //#if(GS_CASTLE==1)
; 1564 : 	if(g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  029ab	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  029b0	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  029b5	83 f8 07	 cmp	 eax, 7
  029b8	75 29		 jne	 SHORT $LN1@NpcCastleG

; 1565 : 	{
; 1566 : 		ChatTargetSend(lpNpc,(lMsg.Get(MSGGET(6, 87))), lpObj->m_Index);

  029ba	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  029bd	8b 08		 mov	 ecx, DWORD PTR [eax]
  029bf	51		 push	 ecx
  029c0	68 57 06 00 00	 push	 1623			; 00000657H
  029c5	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  029ca	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  029cf	50		 push	 eax
  029d0	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  029d3	52		 push	 edx
  029d4	e8 00 00 00 00	 call	 ?ChatTargetSend@@YAXPAUOBJECTSTRUCT@@PADH@Z ; ChatTargetSend
  029d9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1567 : 		return TRUE;

  029dc	b8 01 00 00 00	 mov	 eax, 1
  029e1	eb 62		 jmp	 SHORT $LN3@NpcCastleG
$LN1@NpcCastleG:

; 1568 : 	}
; 1569 : //#endif
; 1570 : 
; 1571 : 	PMSG_TALKRESULT pMsg;
; 1572 : 
; 1573 : 	pMsg.h.c = 0xC3;

  029e3	c6 45 f0 c3	 mov	 BYTE PTR _pMsg$[ebp], 195 ; 000000c3H

; 1574 : 	pMsg.h.headcode = 0x30;

  029e7	c6 45 f2 30	 mov	 BYTE PTR _pMsg$[ebp+2], 48 ; 00000030H

; 1575 : 	pMsg.h.size = sizeof(pMsg);

  029eb	c6 45 f1 0b	 mov	 BYTE PTR _pMsg$[ebp+1], 11 ; 0000000bH

; 1576 : 	pMsg.result = 0x0D;

  029ef	c6 45 f3 0d	 mov	 BYTE PTR _pMsg$[ebp+3], 13 ; 0000000dH

; 1577 : 
; 1578 : 	DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  029f3	0f b6 45 f1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  029f7	50		 push	 eax
  029f8	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  029fb	51		 push	 ecx
  029fc	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  029ff	8b 02		 mov	 eax, DWORD PTR [edx]
  02a01	50		 push	 eax
  02a02	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  02a07	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1579 : 
; 1580 : 	lpObj->m_IfState.use = 1;

  02a0a	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02a0d	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  02a13	83 e1 fc	 and	 ecx, -4			; fffffffcH
  02a16	83 c9 01	 or	 ecx, 1
  02a19	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02a1c	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1581 : 	lpObj->m_IfState.type = 12;

  02a22	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02a25	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  02a2b	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  02a31	81 c9 00 03 00
	00		 or	 ecx, 768		; 00000300H
  02a37	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02a3a	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1582 : 
; 1583 : 
; 1584 : 	return TRUE;

  02a40	b8 01 00 00 00	 mov	 eax, 1
$LN3@NpcCastleG:

; 1585 : }

  02a45	5f		 pop	 edi
  02a46	5e		 pop	 esi
  02a47	5b		 pop	 ebx
  02a48	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02a4b	33 cd		 xor	 ecx, ebp
  02a4d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  02a52	8b e5		 mov	 esp, ebp
  02a54	5d		 pop	 ebp
  02a55	c3		 ret	 0
?NpcCastleGuard@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcCastleGuard
_TEXT	ENDS
EXTRN	?GCAnsCsGateState@@YAXHHH@Z:PROC		; GCAnsCsGateState
EXTRN	?CheckCsGateAlive@CCastleSiege@@QAEHH@Z:PROC	; CCastleSiege::CheckCsGateAlive
EXTRN	?CheckLeverAlive@CCastleSiege@@QAEHH@Z:PROC	; CCastleSiege::CheckLeverAlive
EXTRN	?CheckCastleOwnerUnionMember@CCastleSiege@@QAEHH@Z:PROC ; CCastleSiege::CheckCastleOwnerUnionMember
EXTRN	?CheckCastleOwnerMember@CCastleSiege@@QAEHH@Z:PROC ; CCastleSiege::CheckCastleOwnerMember
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_iGateIndex$ = -12					; size = 4
_btResult$ = -5						; size = 1
_bControlEnable$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcCastleGateLever@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcCastleGateLever

; 1588 : {

  02a60	55		 push	 ebp
  02a61	8b ec		 mov	 ebp, esp
  02a63	83 ec 4c	 sub	 esp, 76			; 0000004cH
  02a66	53		 push	 ebx
  02a67	56		 push	 esi
  02a68	57		 push	 edi

; 1589 : 	if ( (lpObj->m_IfState.use) > 0 )

  02a69	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02a6c	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  02a72	83 e1 03	 and	 ecx, 3
  02a75	76 0a		 jbe	 SHORT $LN13@NpcCastleG@2

; 1590 : 	{
; 1591 : 		return TRUE;

  02a77	b8 01 00 00 00	 mov	 eax, 1
  02a7c	e9 34 01 00 00	 jmp	 $LN14@NpcCastleG@2
$LN13@NpcCastleG@2:

; 1592 : 	}
; 1593 : 
; 1594 : //#if(GS_CASTLE==1)
; 1595 : 	BOOL bControlEnable = FALSE;

  02a81	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _bControlEnable$[ebp], 0

; 1596 : 	BYTE btResult = 0;

  02a88	c6 45 fb 00	 mov	 BYTE PTR _btResult$[ebp], 0

; 1597 : 	int iGateIndex = -1;

  02a8c	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _iGateIndex$[ebp], -1

; 1598 : 
; 1599 : 	if(g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  02a93	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02a98	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  02a9d	83 f8 07	 cmp	 eax, 7
  02aa0	75 25		 jne	 SHORT $LN12@NpcCastleG@2

; 1600 : 	{
; 1601 : 		if(lpObj->m_btCsJoinSide != TRUE)

  02aa2	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02aa5	0f b6 88 02 1c
	00 00		 movzx	 ecx, BYTE PTR [eax+7170]
  02aac	83 f9 01	 cmp	 ecx, 1
  02aaf	74 0d		 je	 SHORT $LN11@NpcCastleG@2

; 1602 : 		{
; 1603 : 			btResult = 4;

  02ab1	c6 45 fb 04	 mov	 BYTE PTR _btResult$[ebp], 4

; 1604 : 			bControlEnable = FALSE;

  02ab5	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _bControlEnable$[ebp], 0

; 1605 : 		}
; 1606 : 		else

  02abc	eb 07		 jmp	 SHORT $LN10@NpcCastleG@2
$LN11@NpcCastleG@2:

; 1607 : 		{
; 1608 : 			bControlEnable = TRUE;

  02abe	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _bControlEnable$[ebp], 1
$LN10@NpcCastleG@2:

; 1609 : 		}
; 1610 : 	}
; 1611 : 	else

  02ac5	eb 3c		 jmp	 SHORT $LN9@NpcCastleG@2
$LN12@NpcCastleG@2:

; 1612 : 	{
; 1613 : 		if(g_CastleSiege.CheckCastleOwnerMember(lpObj->m_Index) == FALSE && g_CastleSiege.CheckCastleOwnerUnionMember(lpObj->m_Index) == FALSE) //Fixed

  02ac7	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02aca	8b 08		 mov	 ecx, DWORD PTR [eax]
  02acc	51		 push	 ecx
  02acd	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02ad2	e8 00 00 00 00	 call	 ?CheckCastleOwnerMember@CCastleSiege@@QAEHH@Z ; CCastleSiege::CheckCastleOwnerMember
  02ad7	85 c0		 test	 eax, eax
  02ad9	75 21		 jne	 SHORT $LN8@NpcCastleG@2
  02adb	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02ade	8b 08		 mov	 ecx, DWORD PTR [eax]
  02ae0	51		 push	 ecx
  02ae1	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02ae6	e8 00 00 00 00	 call	 ?CheckCastleOwnerUnionMember@CCastleSiege@@QAEHH@Z ; CCastleSiege::CheckCastleOwnerUnionMember
  02aeb	85 c0		 test	 eax, eax
  02aed	75 0d		 jne	 SHORT $LN8@NpcCastleG@2

; 1614 : 		{
; 1615 : 			btResult = 4;

  02aef	c6 45 fb 04	 mov	 BYTE PTR _btResult$[ebp], 4

; 1616 : 			bControlEnable = FALSE;

  02af3	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _bControlEnable$[ebp], 0

; 1617 : 		}
; 1618 : 		else

  02afa	eb 07		 jmp	 SHORT $LN9@NpcCastleG@2
$LN8@NpcCastleG@2:

; 1619 : 		{
; 1620 : 			bControlEnable = TRUE;

  02afc	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _bControlEnable$[ebp], 1
$LN9@NpcCastleG@2:

; 1621 : 		}
; 1622 : 	}
; 1623 : 
; 1624 : 	if(bControlEnable != FALSE)

  02b03	83 7d fc 00	 cmp	 DWORD PTR _bControlEnable$[ebp], 0
  02b07	74 4a		 je	 SHORT $LN6@NpcCastleG@2

; 1625 : 	{
; 1626 : 		if(g_CastleSiege.CheckLeverAlive(lpNpc->m_Index) == TRUE)

  02b09	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  02b0c	8b 08		 mov	 ecx, DWORD PTR [eax]
  02b0e	51		 push	 ecx
  02b0f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02b14	e8 00 00 00 00	 call	 ?CheckLeverAlive@CCastleSiege@@QAEHH@Z ; CCastleSiege::CheckLeverAlive
  02b19	83 f8 01	 cmp	 eax, 1
  02b1c	75 31		 jne	 SHORT $LN5@NpcCastleG@2

; 1627 : 		{
; 1628 : 			if(g_CastleSiege.CheckCsGateAlive(lpNpc->m_iCsGateLeverLinkIndex) == TRUE)

  02b1e	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  02b21	8b 88 fc 1b 00
	00		 mov	 ecx, DWORD PTR [eax+7164]
  02b27	51		 push	 ecx
  02b28	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02b2d	e8 00 00 00 00	 call	 ?CheckCsGateAlive@CCastleSiege@@QAEHH@Z ; CCastleSiege::CheckCsGateAlive
  02b32	83 f8 01	 cmp	 eax, 1
  02b35	75 12		 jne	 SHORT $LN4@NpcCastleG@2

; 1629 : 			{
; 1630 : 				btResult = 1;

  02b37	c6 45 fb 01	 mov	 BYTE PTR _btResult$[ebp], 1

; 1631 : 				iGateIndex = lpNpc->m_iCsGateLeverLinkIndex;

  02b3b	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  02b3e	8b 88 fc 1b 00
	00		 mov	 ecx, DWORD PTR [eax+7164]
  02b44	89 4d f4	 mov	 DWORD PTR _iGateIndex$[ebp], ecx

; 1632 : 			}
; 1633 : 			else

  02b47	eb 04		 jmp	 SHORT $LN3@NpcCastleG@2
$LN4@NpcCastleG@2:

; 1634 : 			{
; 1635 : 				btResult = 2;

  02b49	c6 45 fb 02	 mov	 BYTE PTR _btResult$[ebp], 2
$LN3@NpcCastleG@2:

; 1636 : 			}
; 1637 : 		}
; 1638 : 		else

  02b4d	eb 04		 jmp	 SHORT $LN6@NpcCastleG@2
$LN5@NpcCastleG@2:

; 1639 : 		{
; 1640 : 			btResult = 3;

  02b4f	c6 45 fb 03	 mov	 BYTE PTR _btResult$[ebp], 3
$LN6@NpcCastleG@2:

; 1641 : 		}
; 1642 : 
; 1643 : 	}
; 1644 : 
; 1645 : 	GCAnsCsGateState(lpObj->m_Index,btResult,iGateIndex);

  02b53	8b 45 f4	 mov	 eax, DWORD PTR _iGateIndex$[ebp]
  02b56	50		 push	 eax
  02b57	0f b6 4d fb	 movzx	 ecx, BYTE PTR _btResult$[ebp]
  02b5b	51		 push	 ecx
  02b5c	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02b5f	8b 02		 mov	 eax, DWORD PTR [edx]
  02b61	50		 push	 eax
  02b62	e8 00 00 00 00	 call	 ?GCAnsCsGateState@@YAXHHH@Z ; GCAnsCsGateState
  02b67	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1646 : 
; 1647 : 	if(btResult != 1)

  02b6a	0f b6 45 fb	 movzx	 eax, BYTE PTR _btResult$[ebp]
  02b6e	83 f8 01	 cmp	 eax, 1
  02b71	74 07		 je	 SHORT $LN1@NpcCastleG@2

; 1648 : 	{
; 1649 : 		return TRUE;

  02b73	b8 01 00 00 00	 mov	 eax, 1
  02b78	eb 3b		 jmp	 SHORT $LN14@NpcCastleG@2
$LN1@NpcCastleG@2:

; 1650 : 	}
; 1651 : 
; 1652 : 	lpObj->m_IfState.use = 1;

  02b7a	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02b7d	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  02b83	83 e1 fc	 and	 ecx, -4			; fffffffcH
  02b86	83 c9 01	 or	 ecx, 1
  02b89	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02b8c	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1653 : 	lpObj->m_IfState.type = 12;

  02b92	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02b95	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  02b9b	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  02ba1	81 c9 00 03 00
	00		 or	 ecx, 768		; 00000300H
  02ba7	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02baa	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 1654 : //#endif
; 1655 : 
; 1656 : 	return TRUE;

  02bb0	b8 01 00 00 00	 mov	 eax, 1
$LN14@NpcCastleG@2:

; 1657 : }

  02bb5	5f		 pop	 edi
  02bb6	5e		 pop	 esi
  02bb7	5b		 pop	 ebx
  02bb8	8b e5		 mov	 esp, ebp
  02bba	5d		 pop	 ebp
  02bbb	c3		 ret	 0
?NpcCastleGateLever@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcCastleGateLever
_TEXT	ENDS
PUBLIC	??_C@_0EB@GAPHDLGF@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Start?5to?5@ ; `string'
PUBLIC	?SetCrownAccessUserY@CCastleSiege@@QAEXE@Z	; CCastleSiege::SetCrownAccessUserY
PUBLIC	?SetCrownAccessUserX@CCastleSiege@@QAEXE@Z	; CCastleSiege::SetCrownAccessUserX
PUBLIC	?SetCrownUserIndex@CCastleSiege@@QAEXH@Z	; CCastleSiege::SetCrownUserIndex
PUBLIC	??_C@_0FH@PCDLBKGJ@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to@ ; `string'
PUBLIC	??_C@_0EC@IEDCECMD@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to@ ; `string'
PUBLIC	?GetCrownUserIndex@CCastleSiege@@QAEHXZ		; CCastleSiege::GetCrownUserIndex
PUBLIC	?GetRegCrownAvailable@CCastleSiege@@QAEHXZ	; CCastleSiege::GetRegCrownAvailable
EXTRN	?NotifyAllUserCsProgState@CCastleSiege@@QAEXEPAD@Z:PROC ; CCastleSiege::NotifyAllUserCsProgState
EXTRN	?SetCrownAccessTickCount@CCastleSiege@@QAEXXZ:PROC ; CCastleSiege::SetCrownAccessTickCount
EXTRN	?GCAnsCsAccessCrownState@@YAXHE@Z:PROC		; GCAnsCsAccessCrownState
EXTRN	?GetCrownSwitchUserIndex@CCastleSiege@@QAEHH@Z:PROC ; CCastleSiege::GetCrownSwitchUserIndex
EXTRN	_abs:PROC
EXTRN	?CheckUnionGuildMaster@CCastleSiege@@QAEHH@Z:PROC ; CCastleSiege::CheckUnionGuildMaster
EXTRN	?CheckInCharacterItem@@YA_NHH@Z:PROC		; CheckInCharacterItem
EXTRN	?CheckUser@CExLicense@@QAE_NH@Z:PROC		; CExLicense::CheckUser
EXTRN	?gObjIsConnected@@YAHH@Z:PROC			; gObjIsConnected
;	COMDAT ??_C@_0EB@GAPHDLGF@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Start?5to?5@
CONST	SEGMENT
??_C@_0EB@GAPHDLGF@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Start?5to?5@ DB '['
	DB	'CastleSiege] [%s][%s] Start to Register Castle Crown (GUILD:%'
	DB	's)', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0FH@PCDLBKGJ@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to@
CONST	SEGMENT
??_C@_0FH@PCDLBKGJ@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to@ DB '['
	DB	'CastleSiege] [%s][%s] Failed to Register Castle Crown (GUILD:'
	DB	'%s) (S1:%s/%s)(S2:%s/%s)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EC@IEDCECMD@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to@
CONST	SEGMENT
??_C@_0EC@IEDCECMD@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to@ DB '['
	DB	'CastleSiege] [%s][%s] Failed to Register Castle Crown (GUILD:'
	DB	'%s)', 00H					; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_iSwitchIndex2$244620 = -12				; size = 4
_iSwitchIndex1$244619 = -8				; size = 4
_iUserIndex$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcCastleCrown@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcCastleCrown

; 1660 : {

  02bc0	55		 push	 ebp
  02bc1	8b ec		 mov	 ebp, esp
  02bc3	83 ec 4c	 sub	 esp, 76			; 0000004cH
  02bc6	53		 push	 ebx
  02bc7	56		 push	 esi
  02bc8	57		 push	 edi

; 1661 : 	//#if(GS_CASTLE==1)
; 1662 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  02bc9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02bcc	8b 08		 mov	 ecx, DWORD PTR [eax]
  02bce	51		 push	 ecx
  02bcf	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  02bd4	83 c4 04	 add	 esp, 4
  02bd7	85 c0		 test	 eax, eax
  02bd9	75 0a		 jne	 SHORT $LN27@NpcCastleC

; 1663 : 	{
; 1664 : 		return TRUE;

  02bdb	b8 01 00 00 00	 mov	 eax, 1
  02be0	e9 44 04 00 00	 jmp	 $LN28@NpcCastleC
$LN27@NpcCastleC:

; 1665 : 	}
; 1666 : 	if(g_ExLicense.CheckUser(eExUB::PrideMu) || g_ExLicense.CheckUser(eExUB::PrideMuLocal) || g_ExLicense.CheckUser(eExUB::Local3))

  02be5	6a 11		 push	 17			; 00000011H
  02be7	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  02bec	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  02bf1	0f b6 c0	 movzx	 eax, al
  02bf4	85 c0		 test	 eax, eax
  02bf6	75 26		 jne	 SHORT $LN25@NpcCastleC
  02bf8	6a 1a		 push	 26			; 0000001aH
  02bfa	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  02bff	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  02c04	0f b6 c0	 movzx	 eax, al
  02c07	85 c0		 test	 eax, eax
  02c09	75 13		 jne	 SHORT $LN25@NpcCastleC
  02c0b	6a 1c		 push	 28			; 0000001cH
  02c0d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  02c12	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  02c17	0f b6 c0	 movzx	 eax, al
  02c1a	85 c0		 test	 eax, eax
  02c1c	74 24		 je	 SHORT $LN26@NpcCastleC
$LN25@NpcCastleC:

; 1667 : 	{
; 1668 : 		if(CheckInCharacterItem(lpObj->m_Index,ITEMGET(13,4)))

  02c1e	68 04 1a 00 00	 push	 6660			; 00001a04H
  02c23	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02c26	8b 08		 mov	 ecx, DWORD PTR [eax]
  02c28	51		 push	 ecx
  02c29	e8 00 00 00 00	 call	 ?CheckInCharacterItem@@YA_NHH@Z ; CheckInCharacterItem
  02c2e	83 c4 08	 add	 esp, 8
  02c31	0f b6 d0	 movzx	 edx, al
  02c34	85 d2		 test	 edx, edx
  02c36	74 0a		 je	 SHORT $LN26@NpcCastleC

; 1669 : 		{
; 1670 : 			return TRUE;

  02c38	b8 01 00 00 00	 mov	 eax, 1
  02c3d	e9 e7 03 00 00	 jmp	 $LN28@NpcCastleC
$LN26@NpcCastleC:

; 1671 : 		}
; 1672 : 	}
; 1673 : 
; 1674 : #if(EVOMU_CASTLE_SEGE==TRUE)
; 1675 : 	//if(g_ExLicense.CheckUser(eExUB::Gredy) || g_ExLicense.CheckUser(eExUB::GredyLocal) || g_ExLicense.CheckUser(eExUB::Gredy2))
; 1676 : 	//{
; 1677 : 	//	if(CheckInCharacterItem(lpObj->m_Index,ITEMGET(13,4)))
; 1678 : 	//	{
; 1679 : 	//		return TRUE;
; 1680 : 	//	}
; 1681 : 	//}
; 1682 : #endif
; 1683 : 
; 1684 : 	if(g_CastleSiege.GetCastleState() != CASTLESIEGE_STATE_STARTSIEGE)

  02c42	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02c47	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  02c4c	83 f8 07	 cmp	 eax, 7
  02c4f	74 0a		 je	 SHORT $LN23@NpcCastleC

; 1685 : 	{
; 1686 : 		return TRUE;

  02c51	b8 01 00 00 00	 mov	 eax, 1
  02c56	e9 ce 03 00 00	 jmp	 $LN28@NpcCastleC
$LN23@NpcCastleC:

; 1687 : 	}
; 1688 : 	
; 1689 : 	if(lpObj->m_btCsJoinSide < 2 || lpObj->m_bCsGuildInvolved == FALSE )

  02c5b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02c5e	0f b6 88 02 1c
	00 00		 movzx	 ecx, BYTE PTR [eax+7170]
  02c65	83 f9 02	 cmp	 ecx, 2
  02c68	7c 0e		 jl	 SHORT $LN21@NpcCastleC
  02c6a	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02c6d	0f b6 88 03 1c
	00 00		 movzx	 ecx, BYTE PTR [eax+7171]
  02c74	85 c9		 test	 ecx, ecx
  02c76	75 0a		 jne	 SHORT $LN22@NpcCastleC
$LN21@NpcCastleC:

; 1690 : 	{
; 1691 : 		return TRUE;

  02c78	b8 01 00 00 00	 mov	 eax, 1
  02c7d	e9 a7 03 00 00	 jmp	 $LN28@NpcCastleC
$LN22@NpcCastleC:

; 1692 : 	}
; 1693 : 
; 1694 : 	if(g_CastleSiege.CheckUnionGuildMaster(lpObj->m_Index) == FALSE )

  02c82	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02c85	8b 08		 mov	 ecx, DWORD PTR [eax]
  02c87	51		 push	 ecx
  02c88	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02c8d	e8 00 00 00 00	 call	 ?CheckUnionGuildMaster@CCastleSiege@@QAEHH@Z ; CCastleSiege::CheckUnionGuildMaster
  02c92	85 c0		 test	 eax, eax
  02c94	75 0a		 jne	 SHORT $LN20@NpcCastleC

; 1695 : 	{
; 1696 : 		return TRUE;

  02c96	b8 01 00 00 00	 mov	 eax, 1
  02c9b	e9 89 03 00 00	 jmp	 $LN28@NpcCastleC
$LN20@NpcCastleC:

; 1697 : 	}
; 1698 : 
; 1699 : 	if( (abs(lpObj->Y - lpNpc->Y)) > 3 || (abs(lpObj->X - lpNpc->X)) > 3)

  02ca0	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02ca3	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  02caa	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  02cad	0f bf 82 46 01
	00 00		 movsx	 eax, WORD PTR [edx+326]
  02cb4	2b c8		 sub	 ecx, eax
  02cb6	51		 push	 ecx
  02cb7	e8 00 00 00 00	 call	 _abs
  02cbc	83 c4 04	 add	 esp, 4
  02cbf	83 f8 03	 cmp	 eax, 3
  02cc2	7f 24		 jg	 SHORT $LN18@NpcCastleC
  02cc4	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02cc7	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  02cce	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  02cd1	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  02cd8	2b c8		 sub	 ecx, eax
  02cda	51		 push	 ecx
  02cdb	e8 00 00 00 00	 call	 _abs
  02ce0	83 c4 04	 add	 esp, 4
  02ce3	83 f8 03	 cmp	 eax, 3
  02ce6	7e 0a		 jle	 SHORT $LN19@NpcCastleC
$LN18@NpcCastleC:

; 1700 : 	{
; 1701 : 		return TRUE;

  02ce8	b8 01 00 00 00	 mov	 eax, 1
  02ced	e9 37 03 00 00	 jmp	 $LN28@NpcCastleC
$LN19@NpcCastleC:

; 1702 : 	}
; 1703 : 
; 1704 : 	//if( (abs(lpObj->Y - lpNpc->Y)) > 2 || (abs(lpObj->X - lpNpc->X)) > 2)
; 1705 : 	//{
; 1706 : 	//	return TRUE;
; 1707 : 	//}
; 1708 : 
; 1709 : #if(EVOMU_CASTLE_SEGE==TRUE)
; 1710 : 	if(g_ExLicense.CheckUser(eExUB::Gredy) || g_ExLicense.CheckUser(eExUB::GredyLocal) || g_ExLicense.CheckUser(eExUB::Gredy2))

  02cf2	6a 20		 push	 32			; 00000020H
  02cf4	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  02cf9	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  02cfe	0f b6 c0	 movzx	 eax, al
  02d01	85 c0		 test	 eax, eax
  02d03	75 26		 jne	 SHORT $LN16@NpcCastleC
  02d05	6a 21		 push	 33			; 00000021H
  02d07	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  02d0c	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  02d11	0f b6 c0	 movzx	 eax, al
  02d14	85 c0		 test	 eax, eax
  02d16	75 13		 jne	 SHORT $LN16@NpcCastleC
  02d18	6a 22		 push	 34			; 00000022H
  02d1a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  02d1f	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  02d24	0f b6 c0	 movzx	 eax, al
  02d27	85 c0		 test	 eax, eax
  02d29	74 3a		 je	 SHORT $LN17@NpcCastleC
$LN16@NpcCastleC:

; 1711 : 	{
; 1712 : 		if(lpObj->X != lpObj->TX || lpObj->Y != lpObj->TY)

  02d2b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02d2e	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  02d35	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02d38	0f bf 82 7c 01
	00 00		 movsx	 eax, WORD PTR [edx+380]
  02d3f	3b c8		 cmp	 ecx, eax
  02d41	75 18		 jne	 SHORT $LN14@NpcCastleC
  02d43	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02d46	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  02d4d	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02d50	0f bf 82 7e 01
	00 00		 movsx	 eax, WORD PTR [edx+382]
  02d57	3b c8		 cmp	 ecx, eax
  02d59	74 0a		 je	 SHORT $LN17@NpcCastleC
$LN14@NpcCastleC:

; 1713 : 		{
; 1714 : 			return TRUE;

  02d5b	b8 01 00 00 00	 mov	 eax, 1
  02d60	e9 c4 02 00 00	 jmp	 $LN28@NpcCastleC
$LN17@NpcCastleC:

; 1715 : 		}
; 1716 : 	}
; 1717 : #endif
; 1718 : 
; 1719 : 	if(g_CastleSiege.GetRegCrownAvailable() == FALSE )

  02d65	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02d6a	e8 00 00 00 00	 call	 ?GetRegCrownAvailable@CCastleSiege@@QAEHXZ ; CCastleSiege::GetRegCrownAvailable
  02d6f	85 c0		 test	 eax, eax
  02d71	75 0a		 jne	 SHORT $LN13@NpcCastleC

; 1720 : 	{
; 1721 : 		return TRUE;

  02d73	b8 01 00 00 00	 mov	 eax, 1
  02d78	e9 ac 02 00 00	 jmp	 $LN28@NpcCastleC
$LN13@NpcCastleC:

; 1722 : 	}
; 1723 : 
; 1724 : 	int iUserIndex = g_CastleSiege.GetCrownUserIndex();

  02d7d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02d82	e8 00 00 00 00	 call	 ?GetCrownUserIndex@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCrownUserIndex
  02d87	89 45 fc	 mov	 DWORD PTR _iUserIndex$[ebp], eax

; 1725 : 
; 1726 : 	if(gObjIsConnected(iUserIndex) == FALSE )

  02d8a	8b 45 fc	 mov	 eax, DWORD PTR _iUserIndex$[ebp]
  02d8d	50		 push	 eax
  02d8e	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  02d93	83 c4 04	 add	 esp, 4
  02d96	85 c0		 test	 eax, eax
  02d98	0f 85 6c 02 00
	00		 jne	 $LN12@NpcCastleC

; 1727 : 	{
; 1728 : 		int iSwitchIndex1 = g_CastleSiege.GetCrownSwitchUserIndex(217);

  02d9e	68 d9 00 00 00	 push	 217			; 000000d9H
  02da3	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02da8	e8 00 00 00 00	 call	 ?GetCrownSwitchUserIndex@CCastleSiege@@QAEHH@Z ; CCastleSiege::GetCrownSwitchUserIndex
  02dad	89 45 f8	 mov	 DWORD PTR _iSwitchIndex1$244619[ebp], eax

; 1729 : 		int iSwitchIndex2 = g_CastleSiege.GetCrownSwitchUserIndex(218);

  02db0	68 da 00 00 00	 push	 218			; 000000daH
  02db5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02dba	e8 00 00 00 00	 call	 ?GetCrownSwitchUserIndex@CCastleSiege@@QAEHH@Z ; CCastleSiege::GetCrownSwitchUserIndex
  02dbf	89 45 f4	 mov	 DWORD PTR _iSwitchIndex2$244620[ebp], eax

; 1730 : 
; 1731 : 		if(gObjIsConnected(iSwitchIndex1) == FALSE || gObjIsConnected(iSwitchIndex2) == FALSE )

  02dc2	8b 45 f8	 mov	 eax, DWORD PTR _iSwitchIndex1$244619[ebp]
  02dc5	50		 push	 eax
  02dc6	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  02dcb	83 c4 04	 add	 esp, 4
  02dce	85 c0		 test	 eax, eax
  02dd0	74 10		 je	 SHORT $LN10@NpcCastleC
  02dd2	8b 45 f4	 mov	 eax, DWORD PTR _iSwitchIndex2$244620[ebp]
  02dd5	50		 push	 eax
  02dd6	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  02ddb	83 c4 04	 add	 esp, 4
  02dde	85 c0		 test	 eax, eax
  02de0	75 3f		 jne	 SHORT $LN11@NpcCastleC
$LN10@NpcCastleC:

; 1732 : 		{
; 1733 : 			GCAnsCsAccessCrownState(lpObj->m_Index,4);

  02de2	6a 04		 push	 4
  02de4	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02de7	8b 08		 mov	 ecx, DWORD PTR [eax]
  02de9	51		 push	 ecx
  02dea	e8 00 00 00 00	 call	 ?GCAnsCsAccessCrownState@@YAXHE@Z ; GCAnsCsAccessCrownState
  02def	83 c4 08	 add	 esp, 8

; 1734 : 			LogAddTD("[CastleSiege] [%s][%s] Failed to Register Castle Crown (GUILD:%s)",lpObj->AccountID,lpObj->Name,lpObj->GuildName);

  02df2	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02df5	05 3c 04 00 00	 add	 eax, 1084		; 0000043cH
  02dfa	50		 push	 eax
  02dfb	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02dfe	83 c1 77	 add	 ecx, 119		; 00000077H
  02e01	51		 push	 ecx
  02e02	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02e05	83 c2 6c	 add	 edx, 108		; 0000006cH
  02e08	52		 push	 edx
  02e09	68 00 00 00 00	 push	 OFFSET ??_C@_0EC@IEDCECMD@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to@
  02e0e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  02e14	83 c4 10	 add	 esp, 16			; 00000010H

; 1735 : 			return TRUE;

  02e17	b8 01 00 00 00	 mov	 eax, 1
  02e1c	e9 08 02 00 00	 jmp	 $LN28@NpcCastleC
$LN11@NpcCastleC:

; 1736 : 		}
; 1737 : 
; 1738 : 		if(lpObj->m_btCsJoinSide != gObj[iSwitchIndex1].m_btCsJoinSide || lpObj->m_btCsJoinSide != gObj[iSwitchIndex2].m_btCsJoinSide)

  02e21	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02e24	0f b6 88 02 1c
	00 00		 movzx	 ecx, BYTE PTR [eax+7170]
  02e2b	8b 55 f8	 mov	 edx, DWORD PTR _iSwitchIndex1$244619[ebp]
  02e2e	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  02e34	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02e39	0f b6 94 10 02
	1c 00 00	 movzx	 edx, BYTE PTR [eax+edx+7170]
  02e41	3b ca		 cmp	 ecx, edx
  02e43	75 28		 jne	 SHORT $LN8@NpcCastleC
  02e45	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02e48	0f b6 88 02 1c
	00 00		 movzx	 ecx, BYTE PTR [eax+7170]
  02e4f	8b 55 f4	 mov	 edx, DWORD PTR _iSwitchIndex2$244620[ebp]
  02e52	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  02e58	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02e5d	0f b6 94 10 02
	1c 00 00	 movzx	 edx, BYTE PTR [eax+edx+7170]
  02e65	3b ca		 cmp	 ecx, edx
  02e67	0f 84 9a 00 00
	00		 je	 $LN9@NpcCastleC
$LN8@NpcCastleC:

; 1739 : 		{
; 1740 : 			GCAnsCsAccessCrownState(lpObj->m_Index,4);

  02e6d	6a 04		 push	 4
  02e6f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02e72	8b 08		 mov	 ecx, DWORD PTR [eax]
  02e74	51		 push	 ecx
  02e75	e8 00 00 00 00	 call	 ?GCAnsCsAccessCrownState@@YAXHE@Z ; GCAnsCsAccessCrownState
  02e7a	83 c4 08	 add	 esp, 8

; 1741 : 			LogAddTD("[CastleSiege] [%s][%s] Failed to Register Castle Crown (GUILD:%s) (S1:%s/%s)(S2:%s/%s)",lpObj->AccountID,lpObj->Name,lpObj->GuildName,gObj[iSwitchIndex1].Name,gObj[iSwitchIndex1].GuildName,gObj[iSwitchIndex2].Name,gObj[iSwitchIndex2].GuildName);

  02e7d	8b 45 f4	 mov	 eax, DWORD PTR _iSwitchIndex2$244620[ebp]
  02e80	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02e86	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02e8c	8d 94 01 3c 04
	00 00		 lea	 edx, DWORD PTR [ecx+eax+1084]
  02e93	52		 push	 edx
  02e94	8b 45 f4	 mov	 eax, DWORD PTR _iSwitchIndex2$244620[ebp]
  02e97	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02e9d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02ea3	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  02ea7	52		 push	 edx
  02ea8	8b 45 f8	 mov	 eax, DWORD PTR _iSwitchIndex1$244619[ebp]
  02eab	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02eb1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02eb7	8d 94 01 3c 04
	00 00		 lea	 edx, DWORD PTR [ecx+eax+1084]
  02ebe	52		 push	 edx
  02ebf	8b 45 f8	 mov	 eax, DWORD PTR _iSwitchIndex1$244619[ebp]
  02ec2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02ec8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02ece	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  02ed2	52		 push	 edx
  02ed3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02ed6	05 3c 04 00 00	 add	 eax, 1084		; 0000043cH
  02edb	50		 push	 eax
  02edc	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02edf	83 c1 77	 add	 ecx, 119		; 00000077H
  02ee2	51		 push	 ecx
  02ee3	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02ee6	83 c2 6c	 add	 edx, 108		; 0000006cH
  02ee9	52		 push	 edx
  02eea	68 00 00 00 00	 push	 OFFSET ??_C@_0FH@PCDLBKGJ@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to@
  02eef	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  02ef5	83 c4 20	 add	 esp, 32			; 00000020H

; 1742 : 			return TRUE;

  02ef8	b8 01 00 00 00	 mov	 eax, 1
  02efd	e9 27 01 00 00	 jmp	 $LN28@NpcCastleC

; 1743 : 		}
; 1744 : 		else

  02f02	e9 01 01 00 00	 jmp	 $LN7@NpcCastleC
$LN9@NpcCastleC:

; 1745 : 		{
; 1746 : 			GCAnsCsAccessCrownState(lpObj->m_Index,0);

  02f07	6a 00		 push	 0
  02f09	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02f0c	8b 08		 mov	 ecx, DWORD PTR [eax]
  02f0e	51		 push	 ecx
  02f0f	e8 00 00 00 00	 call	 ?GCAnsCsAccessCrownState@@YAXHE@Z ; GCAnsCsAccessCrownState
  02f14	83 c4 08	 add	 esp, 8

; 1747 : 			g_CastleSiege.SetCrownUserIndex(lpObj->m_Index);

  02f17	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02f1a	8b 08		 mov	 ecx, DWORD PTR [eax]
  02f1c	51		 push	 ecx
  02f1d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02f22	e8 00 00 00 00	 call	 ?SetCrownUserIndex@CCastleSiege@@QAEXH@Z ; CCastleSiege::SetCrownUserIndex

; 1748 : 			g_CastleSiege.SetCrownAccessUserX(lpObj->X);

  02f27	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02f2a	0f b6 88 44 01
	00 00		 movzx	 ecx, BYTE PTR [eax+324]
  02f31	51		 push	 ecx
  02f32	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02f37	e8 00 00 00 00	 call	 ?SetCrownAccessUserX@CCastleSiege@@QAEXE@Z ; CCastleSiege::SetCrownAccessUserX

; 1749 : 			g_CastleSiege.SetCrownAccessUserY(lpObj->Y);

  02f3c	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02f3f	0f b6 88 46 01
	00 00		 movzx	 ecx, BYTE PTR [eax+326]
  02f46	51		 push	 ecx
  02f47	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02f4c	e8 00 00 00 00	 call	 ?SetCrownAccessUserY@CCastleSiege@@QAEXE@Z ; CCastleSiege::SetCrownAccessUserY

; 1750 : 			g_CastleSiege.SetCrownAccessTickCount();

  02f51	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02f56	e8 00 00 00 00	 call	 ?SetCrownAccessTickCount@CCastleSiege@@QAEXXZ ; CCastleSiege::SetCrownAccessTickCount

; 1751 : 			g_CastleSiege.NotifyAllUserCsProgState(0,lpObj->GuildName);

  02f5b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02f5e	05 3c 04 00 00	 add	 eax, 1084		; 0000043cH
  02f63	50		 push	 eax
  02f64	6a 00		 push	 0
  02f66	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  02f6b	e8 00 00 00 00	 call	 ?NotifyAllUserCsProgState@CCastleSiege@@QAEXEPAD@Z ; CCastleSiege::NotifyAllUserCsProgState

; 1752 : 
; 1753 : #if(EVOMU_CASTLE_SEGE==TRUE)
; 1754 : 			if(g_ExLicense.CheckUser(eExUB::Gredy) || g_ExLicense.CheckUser(eExUB::GredyLocal) || g_ExLicense.CheckUser(eExUB::Gredy2))

  02f70	6a 20		 push	 32			; 00000020H
  02f72	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  02f77	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  02f7c	0f b6 c0	 movzx	 eax, al
  02f7f	85 c0		 test	 eax, eax
  02f81	75 26		 jne	 SHORT $LN5@NpcCastleC
  02f83	6a 21		 push	 33			; 00000021H
  02f85	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  02f8a	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  02f8f	0f b6 c0	 movzx	 eax, al
  02f92	85 c0		 test	 eax, eax
  02f94	75 13		 jne	 SHORT $LN5@NpcCastleC
  02f96	6a 22		 push	 34			; 00000022H
  02f98	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  02f9d	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  02fa2	0f b6 c0	 movzx	 eax, al
  02fa5	85 c0		 test	 eax, eax
  02fa7	74 0a		 je	 SHORT $LN6@NpcCastleC
$LN5@NpcCastleC:

; 1755 : 			{
; 1756 : 				lpObj->CrownNpc = true;

  02fa9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02fac	c6 80 81 28 00
	00 01		 mov	 BYTE PTR [eax+10369], 1
$LN6@NpcCastleC:

; 1757 : 			}
; 1758 : #endif
; 1759 : 
; 1760 : 			if(g_ExLicense.CheckUser(eExUB::Artem) || g_ExLicense.CheckUser(eExUB::Artem2))

  02fb3	6a 30		 push	 48			; 00000030H
  02fb5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  02fba	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  02fbf	0f b6 c0	 movzx	 eax, al
  02fc2	85 c0		 test	 eax, eax
  02fc4	75 13		 jne	 SHORT $LN3@NpcCastleC
  02fc6	6a 31		 push	 49			; 00000031H
  02fc8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  02fcd	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  02fd2	0f b6 c0	 movzx	 eax, al
  02fd5	85 c0		 test	 eax, eax
  02fd7	74 0a		 je	 SHORT $LN4@NpcCastleC
$LN3@NpcCastleC:

; 1761 : 			{
; 1762 : 				lpObj->CrownNpc = true;

  02fd9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02fdc	c6 80 81 28 00
	00 01		 mov	 BYTE PTR [eax+10369], 1
$LN4@NpcCastleC:

; 1763 : 			}
; 1764 : 
; 1765 : 			LogAddTD("[CastleSiege] [%s][%s] Start to Register Castle Crown (GUILD:%s)",lpObj->AccountID,lpObj->Name,lpObj->GuildName);

  02fe3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02fe6	05 3c 04 00 00	 add	 eax, 1084		; 0000043cH
  02feb	50		 push	 eax
  02fec	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02fef	83 c1 77	 add	 ecx, 119		; 00000077H
  02ff2	51		 push	 ecx
  02ff3	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02ff6	83 c2 6c	 add	 edx, 108		; 0000006cH
  02ff9	52		 push	 edx
  02ffa	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GAPHDLGF@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Start?5to?5@
  02fff	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  03005	83 c4 10	 add	 esp, 16			; 00000010H
$LN7@NpcCastleC:

; 1766 : 		}

  03008	eb 1a		 jmp	 SHORT $LN2@NpcCastleC
$LN12@NpcCastleC:

; 1767 : 	}
; 1768 : 	else if(lpObj->m_Index != iUserIndex)

  0300a	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0300d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0300f	3b 4d fc	 cmp	 ecx, DWORD PTR _iUserIndex$[ebp]
  03012	74 10		 je	 SHORT $LN2@NpcCastleC

; 1769 : 	{
; 1770 : 		GCAnsCsAccessCrownState(lpObj->m_Index,3);

  03014	6a 03		 push	 3
  03016	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03019	8b 08		 mov	 ecx, DWORD PTR [eax]
  0301b	51		 push	 ecx
  0301c	e8 00 00 00 00	 call	 ?GCAnsCsAccessCrownState@@YAXHE@Z ; GCAnsCsAccessCrownState
  03021	83 c4 08	 add	 esp, 8
$LN2@NpcCastleC:

; 1771 : 	}
; 1772 : 
; 1773 : 	return TRUE;

  03024	b8 01 00 00 00	 mov	 eax, 1
$LN28@NpcCastleC:

; 1774 : //#else
; 1775 : //	return TRUE;
; 1776 : //#endif
; 1777 : }

  03029	5f		 pop	 edi
  0302a	5e		 pop	 esi
  0302b	5b		 pop	 ebx
  0302c	8b e5		 mov	 esp, ebp
  0302e	5d		 pop	 ebp
  0302f	c3		 ret	 0
?NpcCastleCrown@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcCastleCrown
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\castlesiege.h
_TEXT	ENDS
;	COMDAT ?GetRegCrownAvailable@CCastleSiege@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetRegCrownAvailable@CCastleSiege@@QAEHXZ PROC		; CCastleSiege::GetRegCrownAvailable, COMDAT
; _this$ = ecx

; 347  : 	BOOL GetRegCrownAvailable(){return m_bRegCrownAvailable;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 80 e8 01 00
	00		 mov	 eax, DWORD PTR [eax+488]
  00015	5f		 pop	 edi
  00016	5e		 pop	 esi
  00017	5b		 pop	 ebx
  00018	8b e5		 mov	 esp, ebp
  0001a	5d		 pop	 ebp
  0001b	c3		 ret	 0
?GetRegCrownAvailable@CCastleSiege@@QAEHXZ ENDP		; CCastleSiege::GetRegCrownAvailable
; Function compile flags: /Odtp /ZI
_TEXT	ENDS
;	COMDAT ?SetCrownUserIndex@CCastleSiege@@QAEXH@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_iIndex$ = 8						; size = 4
?SetCrownUserIndex@CCastleSiege@@QAEXH@Z PROC		; CCastleSiege::SetCrownUserIndex, COMDAT
; _this$ = ecx

; 389  : 	void SetCrownUserIndex(int iIndex){this->m_iCastleCrownAccessUser = iIndex;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  00012	89 88 f0 01 00
	00		 mov	 DWORD PTR [eax+496], ecx
  00018	5f		 pop	 edi
  00019	5e		 pop	 esi
  0001a	5b		 pop	 ebx
  0001b	8b e5		 mov	 esp, ebp
  0001d	5d		 pop	 ebp
  0001e	c2 04 00	 ret	 4
?SetCrownUserIndex@CCastleSiege@@QAEXH@Z ENDP		; CCastleSiege::SetCrownUserIndex
; Function compile flags: /Odtp /ZI
_TEXT	ENDS
;	COMDAT ?GetCrownUserIndex@CCastleSiege@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetCrownUserIndex@CCastleSiege@@QAEHXZ PROC		; CCastleSiege::GetCrownUserIndex, COMDAT
; _this$ = ecx

; 390  : 	int GetCrownUserIndex(){return m_iCastleCrownAccessUser;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 80 f0 01 00
	00		 mov	 eax, DWORD PTR [eax+496]
  00015	5f		 pop	 edi
  00016	5e		 pop	 esi
  00017	5b		 pop	 ebx
  00018	8b e5		 mov	 esp, ebp
  0001a	5d		 pop	 ebp
  0001b	c3		 ret	 0
?GetCrownUserIndex@CCastleSiege@@QAEHXZ ENDP		; CCastleSiege::GetCrownUserIndex
; Function compile flags: /Odtp /ZI
_TEXT	ENDS
;	COMDAT ?SetCrownAccessUserX@CCastleSiege@@QAEXE@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_iX$ = 8						; size = 1
?SetCrownAccessUserX@CCastleSiege@@QAEXE@Z PROC		; CCastleSiege::SetCrownAccessUserX, COMDAT
; _this$ = ecx

; 394  : 	void SetCrownAccessUserX(BYTE iX){m_btCastleCrownAccessUserX = iX;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8a 4d 08	 mov	 cl, BYTE PTR _iX$[ebp]
  00012	88 88 f4 01 00
	00		 mov	 BYTE PTR [eax+500], cl
  00018	5f		 pop	 edi
  00019	5e		 pop	 esi
  0001a	5b		 pop	 ebx
  0001b	8b e5		 mov	 esp, ebp
  0001d	5d		 pop	 ebp
  0001e	c2 04 00	 ret	 4
?SetCrownAccessUserX@CCastleSiege@@QAEXE@Z ENDP		; CCastleSiege::SetCrownAccessUserX
; Function compile flags: /Odtp /ZI
_TEXT	ENDS
;	COMDAT ?SetCrownAccessUserY@CCastleSiege@@QAEXE@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_iY$ = 8						; size = 1
?SetCrownAccessUserY@CCastleSiege@@QAEXE@Z PROC		; CCastleSiege::SetCrownAccessUserY, COMDAT
; _this$ = ecx

; 395  : 	void SetCrownAccessUserY(BYTE iY){m_btCastleCrownAccessUserY = iY;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8a 4d 08	 mov	 cl, BYTE PTR _iY$[ebp]
  00012	88 88 f5 01 00
	00		 mov	 BYTE PTR [eax+501], cl
  00018	5f		 pop	 edi
  00019	5e		 pop	 esi
  0001a	5b		 pop	 ebx
  0001b	8b e5		 mov	 esp, ebp
  0001d	5d		 pop	 ebp
  0001e	c2 04 00	 ret	 4
?SetCrownAccessUserY@CCastleSiege@@QAEXE@Z ENDP		; CCastleSiege::SetCrownAccessUserY
_TEXT	ENDS
PUBLIC	??_C@_0FD@GEIJDAJG@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Start?5to?5@ ; `string'
EXTRN	?SetCrownSwitchUserIndex@CCastleSiege@@QAEXHH@Z:PROC ; CCastleSiege::SetCrownSwitchUserIndex
EXTRN	?GCAnsCsAccessSwitchState@@YAXHHHE@Z:PROC	; GCAnsCsAccessSwitchState
EXTRN	?MsgOutput@@YAXHPADZZ:PROC			; MsgOutput
EXTRN	?CheckGuardianStatueExist@CCastleSiege@@QAEHXZ:PROC ; CCastleSiege::CheckGuardianStatueExist
;	COMDAT ??_C@_0FD@GEIJDAJG@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Start?5to?5@
; File d:\projects\exteam6.3\source\gameserver\gameserver\npctalk.cpp
CONST	SEGMENT
??_C@_0FD@GEIJDAJG@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Start?5to?5@ DB '['
	DB	'CastleSiege] [%s][%s] Start to Push Castle Crown Switch (GUIL'
	DB	'D:%s) - CS X:%d/Y:%d', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_iUserIndex$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcCastleSwitch@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcCastleSwitch

; 1780 : {

  03030	55		 push	 ebp
  03031	8b ec		 mov	 ebp, esp
  03033	83 ec 44	 sub	 esp, 68			; 00000044H
  03036	53		 push	 ebx
  03037	56		 push	 esi
  03038	57		 push	 edi

; 1781 : 	
; 1782 : 	if(g_ExLicense.CheckUser(eExUB::PrideMu) || g_ExLicense.CheckUser(eExUB::PrideMuLocal) || g_ExLicense.CheckUser(eExUB::Local3))

  03039	6a 11		 push	 17			; 00000011H
  0303b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  03040	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  03045	0f b6 c0	 movzx	 eax, al
  03048	85 c0		 test	 eax, eax
  0304a	75 26		 jne	 SHORT $LN11@NpcCastleS
  0304c	6a 1a		 push	 26			; 0000001aH
  0304e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  03053	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  03058	0f b6 c0	 movzx	 eax, al
  0305b	85 c0		 test	 eax, eax
  0305d	75 13		 jne	 SHORT $LN11@NpcCastleS
  0305f	6a 1c		 push	 28			; 0000001cH
  03061	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  03066	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0306b	0f b6 c0	 movzx	 eax, al
  0306e	85 c0		 test	 eax, eax
  03070	74 24		 je	 SHORT $LN12@NpcCastleS
$LN11@NpcCastleS:

; 1783 : 	{
; 1784 : 		if(CheckInCharacterItem(lpObj->m_Index,ITEMGET(13,4)))

  03072	68 04 1a 00 00	 push	 6660			; 00001a04H
  03077	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0307a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0307c	51		 push	 ecx
  0307d	e8 00 00 00 00	 call	 ?CheckInCharacterItem@@YA_NHH@Z ; CheckInCharacterItem
  03082	83 c4 08	 add	 esp, 8
  03085	0f b6 d0	 movzx	 edx, al
  03088	85 d2		 test	 edx, edx
  0308a	74 0a		 je	 SHORT $LN12@NpcCastleS

; 1785 : 		{
; 1786 : 			return TRUE;

  0308c	b8 01 00 00 00	 mov	 eax, 1
  03091	e9 99 01 00 00	 jmp	 $LN13@NpcCastleS
$LN12@NpcCastleS:

; 1787 : 		}
; 1788 : 	}
; 1789 : 	//#if(GS_CASTLE==1)
; 1790 : 	if(gObjIsConnected(lpObj->m_Index) == FALSE )

  03096	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03099	8b 08		 mov	 ecx, DWORD PTR [eax]
  0309b	51		 push	 ecx
  0309c	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  030a1	83 c4 04	 add	 esp, 4
  030a4	85 c0		 test	 eax, eax
  030a6	75 0a		 jne	 SHORT $LN9@NpcCastleS

; 1791 : 	{
; 1792 : 		return TRUE;

  030a8	b8 01 00 00 00	 mov	 eax, 1
  030ad	e9 7d 01 00 00	 jmp	 $LN13@NpcCastleS
$LN9@NpcCastleS:

; 1793 : 	}
; 1794 : 
; 1795 : 	if(g_CastleSiege.GetCastleState() != CASTLESIEGE_STATE_STARTSIEGE)

  030b2	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  030b7	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  030bc	83 f8 07	 cmp	 eax, 7
  030bf	74 0a		 je	 SHORT $LN8@NpcCastleS

; 1796 : 	{
; 1797 : 		return TRUE;

  030c1	b8 01 00 00 00	 mov	 eax, 1
  030c6	e9 64 01 00 00	 jmp	 $LN13@NpcCastleS
$LN8@NpcCastleS:

; 1798 : 	}
; 1799 : 	
; 1800 : 	if(lpObj->m_btCsJoinSide < 2)

  030cb	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  030ce	0f b6 88 02 1c
	00 00		 movzx	 ecx, BYTE PTR [eax+7170]
  030d5	83 f9 02	 cmp	 ecx, 2
  030d8	7d 0a		 jge	 SHORT $LN7@NpcCastleS

; 1801 : 	{
; 1802 : 		return TRUE;

  030da	b8 01 00 00 00	 mov	 eax, 1
  030df	e9 4b 01 00 00	 jmp	 $LN13@NpcCastleS
$LN7@NpcCastleS:

; 1803 : 	}
; 1804 : 
; 1805 : 	if( (abs(lpObj->Y - lpNpc->Y)) > 3 || (abs(lpObj->X - lpNpc->X)) > 3)

  030e4	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  030e7	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  030ee	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  030f1	0f bf 82 46 01
	00 00		 movsx	 eax, WORD PTR [edx+326]
  030f8	2b c8		 sub	 ecx, eax
  030fa	51		 push	 ecx
  030fb	e8 00 00 00 00	 call	 _abs
  03100	83 c4 04	 add	 esp, 4
  03103	83 f8 03	 cmp	 eax, 3
  03106	7f 24		 jg	 SHORT $LN5@NpcCastleS
  03108	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0310b	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  03112	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  03115	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  0311c	2b c8		 sub	 ecx, eax
  0311e	51		 push	 ecx
  0311f	e8 00 00 00 00	 call	 _abs
  03124	83 c4 04	 add	 esp, 4
  03127	83 f8 03	 cmp	 eax, 3
  0312a	7e 0a		 jle	 SHORT $LN6@NpcCastleS
$LN5@NpcCastleS:

; 1806 : 	{
; 1807 : 		return TRUE;

  0312c	b8 01 00 00 00	 mov	 eax, 1
  03131	e9 f9 00 00 00	 jmp	 $LN13@NpcCastleS
$LN6@NpcCastleS:

; 1808 : 	}
; 1809 : 
; 1810 : 	if(g_CastleSiege.CheckGuardianStatueExist() == TRUE)

  03136	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0313b	e8 00 00 00 00	 call	 ?CheckGuardianStatueExist@CCastleSiege@@QAEHXZ ; CCastleSiege::CheckGuardianStatueExist
  03140	83 f8 01	 cmp	 eax, 1
  03143	75 28		 jne	 SHORT $LN4@NpcCastleS

; 1811 : 	{
; 1812 : 		MsgOutput(lpObj->m_Index,lMsg.Get(MSGGET(6, 200)));

  03145	68 c8 06 00 00	 push	 1736			; 000006c8H
  0314a	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  0314f	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  03154	50		 push	 eax
  03155	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03158	8b 08		 mov	 ecx, DWORD PTR [eax]
  0315a	51		 push	 ecx
  0315b	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  03160	83 c4 08	 add	 esp, 8

; 1813 : 		return TRUE;

  03163	b8 01 00 00 00	 mov	 eax, 1
  03168	e9 c2 00 00 00	 jmp	 $LN13@NpcCastleS
$LN4@NpcCastleS:

; 1814 : 	}
; 1815 : 
; 1816 : 	int iUserIndex = g_CastleSiege.GetCrownSwitchUserIndex(lpNpc->Class);

  0316d	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  03170	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  03177	51		 push	 ecx
  03178	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0317d	e8 00 00 00 00	 call	 ?GetCrownSwitchUserIndex@CCastleSiege@@QAEHH@Z ; CCastleSiege::GetCrownSwitchUserIndex
  03182	89 45 fc	 mov	 DWORD PTR _iUserIndex$[ebp], eax

; 1817 : 
; 1818 : 	if(!gObjIsConnected(iUserIndex))

  03185	8b 45 fc	 mov	 eax, DWORD PTR _iUserIndex$[ebp]
  03188	50		 push	 eax
  03189	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  0318e	83 c4 04	 add	 esp, 4
  03191	85 c0		 test	 eax, eax
  03193	75 71		 jne	 SHORT $LN3@NpcCastleS

; 1819 : 	{
; 1820 : 		GCAnsCsAccessSwitchState(lpObj->m_Index,lpNpc->m_Index,-1,1);

  03195	6a 01		 push	 1
  03197	6a ff		 push	 -1
  03199	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0319c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0319e	51		 push	 ecx
  0319f	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  031a2	8b 02		 mov	 eax, DWORD PTR [edx]
  031a4	50		 push	 eax
  031a5	e8 00 00 00 00	 call	 ?GCAnsCsAccessSwitchState@@YAXHHHE@Z ; GCAnsCsAccessSwitchState
  031aa	83 c4 10	 add	 esp, 16			; 00000010H

; 1821 : 		g_CastleSiege.SetCrownSwitchUserIndex(lpNpc->Class,lpObj->m_Index);

  031ad	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  031b0	8b 08		 mov	 ecx, DWORD PTR [eax]
  031b2	51		 push	 ecx
  031b3	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  031b6	0f b7 82 b8 00
	00 00		 movzx	 eax, WORD PTR [edx+184]
  031bd	50		 push	 eax
  031be	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  031c3	e8 00 00 00 00	 call	 ?SetCrownSwitchUserIndex@CCastleSiege@@QAEXHH@Z ; CCastleSiege::SetCrownSwitchUserIndex

; 1822 : 		LogAddTD("[CastleSiege] [%s][%s] Start to Push Castle Crown Switch (GUILD:%s) - CS X:%d/Y:%d",lpObj->AccountID,lpObj->Name,lpObj->GuildName,lpNpc->X,lpNpc->Y);

  031c8	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  031cb	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  031d2	51		 push	 ecx
  031d3	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  031d6	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  031dd	50		 push	 eax
  031de	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  031e1	81 c1 3c 04 00
	00		 add	 ecx, 1084		; 0000043cH
  031e7	51		 push	 ecx
  031e8	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  031eb	83 c2 77	 add	 edx, 119		; 00000077H
  031ee	52		 push	 edx
  031ef	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  031f2	83 c0 6c	 add	 eax, 108		; 0000006cH
  031f5	50		 push	 eax
  031f6	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GEIJDAJG@?$FLCastleSiege?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Start?5to?5@
  031fb	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  03201	83 c4 18	 add	 esp, 24			; 00000018H
  03204	eb 24		 jmp	 SHORT $LN2@NpcCastleS
$LN3@NpcCastleS:

; 1823 : 	}
; 1824 : 	else if(lpObj->m_Index != iUserIndex)

  03206	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03209	8b 08		 mov	 ecx, DWORD PTR [eax]
  0320b	3b 4d fc	 cmp	 ecx, DWORD PTR _iUserIndex$[ebp]
  0320e	74 1a		 je	 SHORT $LN2@NpcCastleS

; 1825 : 	{
; 1826 : 		GCAnsCsAccessSwitchState(lpObj->m_Index,lpNpc->m_Index,iUserIndex,2);

  03210	6a 02		 push	 2
  03212	8b 45 fc	 mov	 eax, DWORD PTR _iUserIndex$[ebp]
  03215	50		 push	 eax
  03216	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  03219	8b 11		 mov	 edx, DWORD PTR [ecx]
  0321b	52		 push	 edx
  0321c	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0321f	8b 08		 mov	 ecx, DWORD PTR [eax]
  03221	51		 push	 ecx
  03222	e8 00 00 00 00	 call	 ?GCAnsCsAccessSwitchState@@YAXHHHE@Z ; GCAnsCsAccessSwitchState
  03227	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@NpcCastleS:

; 1827 : 	}
; 1828 : 
; 1829 : 	return TRUE;

  0322a	b8 01 00 00 00	 mov	 eax, 1
$LN13@NpcCastleS:

; 1830 : //#else
; 1831 : //	return TRUE;
; 1832 : //#endif
; 1833 : }

  0322f	5f		 pop	 edi
  03230	5e		 pop	 esi
  03231	5b		 pop	 ebx
  03232	8b e5		 mov	 esp, ebp
  03234	5d		 pop	 ebp
  03235	c3		 ret	 0
?NpcCastleSwitch@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcCastleSwitch
_TEXT	ENDS
PUBLIC	?GetHuntZoneEnter@CCastleSiege@@QAEHXZ		; CCastleSiege::GetHuntZoneEnter
PUBLIC	__$ArrayPad$
EXTRN	?GetTaxHuntZone@CCastleSiegeSync@@QAEHHH@Z:PROC	; CCastleSiegeSync::GetTaxHuntZone
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pResult$ = -24						; size = 20
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcCastleHuntZoneGuard@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcCastleHuntZoneGuard

; 1847 : {

  03240	55		 push	 ebp
  03241	8b ec		 mov	 ebp, esp
  03243	83 ec 58	 sub	 esp, 88			; 00000058H
  03246	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0324b	33 c5		 xor	 eax, ebp
  0324d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03250	53		 push	 ebx
  03251	56		 push	 esi
  03252	57		 push	 edi

; 1848 : 	if(gObjIsConnected(lpObj->m_Index) == FALSE )

  03253	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03256	8b 08		 mov	 ecx, DWORD PTR [eax]
  03258	51		 push	 ecx
  03259	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  0325e	83 c4 04	 add	 esp, 4
  03261	85 c0		 test	 eax, eax
  03263	75 0a		 jne	 SHORT $LN9@NpcCastleH

; 1849 : 	{
; 1850 : 		return TRUE;

  03265	b8 01 00 00 00	 mov	 eax, 1
  0326a	e9 05 01 00 00	 jmp	 $LN10@NpcCastleH
$LN9@NpcCastleH:

; 1851 : 	}
; 1852 : 
; 1853 : 	if ( (lpObj->m_IfState.use ) > 0 )

  0326f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03272	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  03278	83 e1 03	 and	 ecx, 3
  0327b	76 0a		 jbe	 SHORT $LN8@NpcCastleH

; 1854 : 	{
; 1855 : 		return TRUE;

  0327d	b8 01 00 00 00	 mov	 eax, 1
  03282	e9 ed 00 00 00	 jmp	 $LN10@NpcCastleH
$LN8@NpcCastleH:

; 1856 : 	}
; 1857 : 
; 1858 : 	PMSG_ANS_GUARD_IN_CASTLE_HUNTZONE pResult = {0};

  03287	c6 45 e8 00	 mov	 BYTE PTR _pResult$[ebp], 0
  0328b	33 c0		 xor	 eax, eax
  0328d	89 45 e9	 mov	 DWORD PTR _pResult$[ebp+1], eax
  03290	89 45 ed	 mov	 DWORD PTR _pResult$[ebp+5], eax
  03293	89 45 f1	 mov	 DWORD PTR _pResult$[ebp+9], eax
  03296	89 45 f5	 mov	 DWORD PTR _pResult$[ebp+13], eax
  03299	66 89 45 f9	 mov	 WORD PTR _pResult$[ebp+17], ax
  0329d	88 45 fb	 mov	 BYTE PTR _pResult$[ebp+19], al

; 1859 : 
; 1860 : 	PHeadSubSetB((LPBYTE)&pResult,0xB9,0x03,sizeof(PMSG_ANS_GUARD_IN_CASTLE_HUNTZONE));

  032a0	6a 14		 push	 20			; 00000014H
  032a2	6a 03		 push	 3
  032a4	68 b9 00 00 00	 push	 185			; 000000b9H
  032a9	8d 45 e8	 lea	 eax, DWORD PTR _pResult$[ebp]
  032ac	50		 push	 eax
  032ad	e8 00 00 00 00	 call	 ?PHeadSubSetB@@YAXPAEEEH@Z ; PHeadSubSetB
  032b2	83 c4 10	 add	 esp, 16			; 00000010H

; 1861 : 	pResult.btResult = TRUE;

  032b5	c6 45 ec 01	 mov	 BYTE PTR _pResult$[ebp+4], 1

; 1862 : 	pResult.iMaxPrice = 300000;

  032b9	c7 45 f4 e0 93
	04 00		 mov	 DWORD PTR _pResult$[ebp+12], 300000 ; 000493e0H

; 1863 : 	pResult.iUnitOfPrice = 10000;

  032c0	c7 45 f8 10 27
	00 00		 mov	 DWORD PTR _pResult$[ebp+16], 10000 ; 00002710H

; 1864 : 	pResult.btUsable = 0;

  032c7	c6 45 ed 00	 mov	 BYTE PTR _pResult$[ebp+5], 0

; 1865 : 	pResult.iCurrentPrice = 0;

  032cb	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _pResult$[ebp+8], 0

; 1866 : 
; 1867 : 	pResult.iCurrentPrice = g_CastleSiegeSync.GetTaxHuntZone(lpObj->m_Index,FALSE);

  032d2	6a 00		 push	 0
  032d4	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  032d7	8b 08		 mov	 ecx, DWORD PTR [eax]
  032d9	51		 push	 ecx
  032da	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  032df	e8 00 00 00 00	 call	 ?GetTaxHuntZone@CCastleSiegeSync@@QAEHHH@Z ; CCastleSiegeSync::GetTaxHuntZone
  032e4	89 45 f0	 mov	 DWORD PTR _pResult$[ebp+8], eax

; 1868 : 
; 1869 : 	if(g_CastleSiege.GetHuntZoneEnter())

  032e7	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  032ec	e8 00 00 00 00	 call	 ?GetHuntZoneEnter@CCastleSiege@@QAEHXZ ; CCastleSiege::GetHuntZoneEnter
  032f1	85 c0		 test	 eax, eax
  032f3	74 04		 je	 SHORT $LN7@NpcCastleH

; 1870 : 	{
; 1871 : 		pResult.btUsable = TRUE;

  032f5	c6 45 ed 01	 mov	 BYTE PTR _pResult$[ebp+5], 1
$LN7@NpcCastleH:

; 1872 : 	}
; 1873 : 
; 1874 : 	if(lpObj->lpGuild != NULL)

  032f9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  032fc	83 b8 38 04 00
	00 00		 cmp	 DWORD PTR [eax+1080], 0
  03303	74 41		 je	 SHORT $LN6@NpcCastleH

; 1875 : 	{
; 1876 : 		if(g_CastleSiege.CheckCastleOwnerUnionMember(lpObj->m_Index))

  03305	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03308	8b 08		 mov	 ecx, DWORD PTR [eax]
  0330a	51		 push	 ecx
  0330b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  03310	e8 00 00 00 00	 call	 ?CheckCastleOwnerUnionMember@CCastleSiege@@QAEHH@Z ; CCastleSiege::CheckCastleOwnerUnionMember
  03315	85 c0		 test	 eax, eax
  03317	74 04		 je	 SHORT $LN5@NpcCastleH

; 1877 : 		{
; 1878 : 			pResult.btResult = 2;

  03319	c6 45 ec 02	 mov	 BYTE PTR _pResult$[ebp+4], 2
$LN5@NpcCastleH:

; 1879 : 		}
; 1880 : 
; 1881 : 		if(g_CastleSiege.CheckCastleOwnerMember(lpObj->m_Index))

  0331d	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03320	8b 08		 mov	 ecx, DWORD PTR [eax]
  03322	51		 push	 ecx
  03323	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  03328	e8 00 00 00 00	 call	 ?CheckCastleOwnerMember@CCastleSiege@@QAEHH@Z ; CCastleSiege::CheckCastleOwnerMember
  0332d	85 c0		 test	 eax, eax
  0332f	74 13		 je	 SHORT $LN4@NpcCastleH

; 1882 : 		{
; 1883 : 			if(lpObj->GuildStatus == G_MASTER)

  03331	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03334	81 b8 48 04 00
	00 80 00 00 00	 cmp	 DWORD PTR [eax+1096], 128 ; 00000080H
  0333e	75 04		 jne	 SHORT $LN4@NpcCastleH

; 1884 : 			{
; 1885 : 				pResult.btResult = 3;

  03340	c6 45 ec 03	 mov	 BYTE PTR _pResult$[ebp+4], 3
$LN4@NpcCastleH:

; 1886 : 			}
; 1887 : 		}
; 1888 : 	}
; 1889 : 	else

  03344	eb 12		 jmp	 SHORT $LN2@NpcCastleH
$LN6@NpcCastleH:

; 1890 : 	{
; 1891 : 		if(g_CastleSiege.GetHuntZoneEnter())

  03346	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0334b	e8 00 00 00 00	 call	 ?GetHuntZoneEnter@CCastleSiege@@QAEHXZ ; CCastleSiege::GetHuntZoneEnter
  03350	85 c0		 test	 eax, eax
  03352	74 04		 je	 SHORT $LN2@NpcCastleH

; 1892 : 		{
; 1893 : 			pResult.btResult = TRUE;

  03354	c6 45 ec 01	 mov	 BYTE PTR _pResult$[ebp+4], 1
$LN2@NpcCastleH:

; 1894 : 		}
; 1895 : 	}
; 1896 : 
; 1897 : 	DataSend(lpObj->m_Index,(LPBYTE)&pResult,pResult.h.size);

  03358	0f b6 45 e9	 movzx	 eax, BYTE PTR _pResult$[ebp+1]
  0335c	50		 push	 eax
  0335d	8d 4d e8	 lea	 ecx, DWORD PTR _pResult$[ebp]
  03360	51		 push	 ecx
  03361	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03364	8b 02		 mov	 eax, DWORD PTR [edx]
  03366	50		 push	 eax
  03367	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0336c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1898 : 
; 1899 : 	return TRUE;

  0336f	b8 01 00 00 00	 mov	 eax, 1
$LN10@NpcCastleH:

; 1900 : }

  03374	5f		 pop	 edi
  03375	5e		 pop	 esi
  03376	5b		 pop	 ebx
  03377	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0337a	33 cd		 xor	 ecx, ebp
  0337c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  03381	8b e5		 mov	 esp, ebp
  03383	5d		 pop	 ebp
  03384	c3		 ret	 0
?NpcCastleHuntZoneGuard@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcCastleHuntZoneGuard
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\castlesiege.h
_TEXT	ENDS
;	COMDAT ?GetHuntZoneEnter@CCastleSiege@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetHuntZoneEnter@CCastleSiege@@QAEHXZ PROC		; CCastleSiege::GetHuntZoneEnter, COMDAT
; _this$ = ecx

; 365  : 	BOOL GetHuntZoneEnter(){return m_bEnterHuntZone;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 80 fc 00 00
	00		 mov	 eax, DWORD PTR [eax+252]
  00015	5f		 pop	 edi
  00016	5e		 pop	 esi
  00017	5b		 pop	 ebx
  00018	8b e5		 mov	 esp, ebp
  0001a	5d		 pop	 ebp
  0001b	c3		 ret	 0
?GetHuntZoneEnter@CCastleSiege@@QAEHXZ ENDP		; CCastleSiege::GetHuntZoneEnter
_TEXT	ENDS
EXTRN	?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z:PROC ; gObjApplyBuffEffectDuration
EXTRN	?g_iShadowPhantomMaxLevel@@3HA:DWORD		; g_iShadowPhantomMaxLevel
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\npctalk.cpp
_TEXT	SEGMENT
_iDuration$ = -12					; size = 4
_iDefense$ = -8						; size = 4
_iAttack$ = -4						; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcShadowPhantom@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcShadowPhantom

; 1904 : {

  03390	55		 push	 ebp
  03391	8b ec		 mov	 ebp, esp
  03393	83 ec 4c	 sub	 esp, 76			; 0000004cH
  03396	53		 push	 ebx
  03397	56		 push	 esi
  03398	57		 push	 edi

; 1905 : 
; 1906 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  03399	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0339c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0339e	51		 push	 ecx
  0339f	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  033a4	83 c4 04	 add	 esp, 4
  033a7	85 c0		 test	 eax, eax
  033a9	75 0a		 jne	 SHORT $LN5@NpcShadowP

; 1907 : 	{
; 1908 : 		return TRUE;

  033ab	b8 01 00 00 00	 mov	 eax, 1
  033b0	e9 e3 00 00 00	 jmp	 $LN6@NpcShadowP
$LN5@NpcShadowP:

; 1909 : 	}
; 1910 : 
; 1911 : 	if ( lpObj->Level > g_iShadowPhantomMaxLevel || lpObj->ChangeUP3rd != false)

  033b5	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  033b8	0f bf 88 be 00
	00 00		 movsx	 ecx, WORD PTR [eax+190]
  033bf	3b 0d 00 00 00
	00		 cmp	 ecx, DWORD PTR ?g_iShadowPhantomMaxLevel@@3HA ; g_iShadowPhantomMaxLevel
  033c5	7f 0e		 jg	 SHORT $LN3@NpcShadowP
  033c7	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  033ca	0f b6 88 bc 00
	00 00		 movzx	 ecx, BYTE PTR [eax+188]
  033d1	85 c9		 test	 ecx, ecx
  033d3	74 1e		 je	 SHORT $LN4@NpcShadowP
$LN3@NpcShadowP:

; 1912 : 	{
; 1913 : 		GCServerCmd(lpObj->m_Index, 0x0D, 0, 0);

  033d5	6a 00		 push	 0
  033d7	6a 00		 push	 0
  033d9	6a 0d		 push	 13			; 0000000dH
  033db	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  033de	8b 08		 mov	 ecx, DWORD PTR [eax]
  033e0	51		 push	 ecx
  033e1	e8 00 00 00 00	 call	 ?GCServerCmd@@YAXHEEE@Z	; GCServerCmd
  033e6	83 c4 10	 add	 esp, 16			; 00000010H

; 1914 : 		
; 1915 : 		return TRUE;

  033e9	b8 01 00 00 00	 mov	 eax, 1
  033ee	e9 a5 00 00 00	 jmp	 $LN6@NpcShadowP
$LN4@NpcShadowP:

; 1916 : 	}
; 1917 : 
; 1918 : 	int iAttack = 0;

  033f3	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _iAttack$[ebp], 0

; 1919 : 	int iDefense = 0;

  033fa	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _iDefense$[ebp], 0

; 1920 : 	int iDuration = 0;

  03401	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iDuration$[ebp], 0

; 1921 : 
; 1922 : 	if ( lpObj->Level <= 180 )

  03408	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0340b	0f bf 88 be 00
	00 00		 movsx	 ecx, WORD PTR [eax+190]
  03412	81 f9 b4 00 00
	00		 cmp	 ecx, 180		; 000000b4H
  03418	7f 32		 jg	 SHORT $LN2@NpcShadowP

; 1923 : 	{
; 1924 : 		iAttack = lpObj->Level / 3 + 45;

  0341a	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0341d	0f bf 80 be 00
	00 00		 movsx	 eax, WORD PTR [eax+190]
  03424	99		 cdq
  03425	b9 03 00 00 00	 mov	 ecx, 3
  0342a	f7 f9		 idiv	 ecx
  0342c	83 c0 2d	 add	 eax, 45			; 0000002dH
  0342f	89 45 fc	 mov	 DWORD PTR _iAttack$[ebp], eax

; 1925 : 		iDefense = lpObj->Level / 5 + 50;

  03432	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03435	0f bf 80 be 00
	00 00		 movsx	 eax, WORD PTR [eax+190]
  0343c	99		 cdq
  0343d	b9 05 00 00 00	 mov	 ecx, 5
  03442	f7 f9		 idiv	 ecx
  03444	83 c0 32	 add	 eax, 50			; 00000032H
  03447	89 45 f8	 mov	 DWORD PTR _iDefense$[ebp], eax

; 1926 : 	}
; 1927 : 	else

  0344a	eb 0e		 jmp	 SHORT $LN1@NpcShadowP
$LN2@NpcShadowP:

; 1928 : 	{
; 1929 : 		iAttack = 105;

  0344c	c7 45 fc 69 00
	00 00		 mov	 DWORD PTR _iAttack$[ebp], 105 ; 00000069H

; 1930 : 		iDefense = 86;

  03453	c7 45 f8 56 00
	00 00		 mov	 DWORD PTR _iDefense$[ebp], 86 ; 00000056H
$LN1@NpcShadowP:

; 1931 : 	}
; 1932 : 
; 1933 : 	iDuration = (lpObj->Level / 6 + 30) * 60;

  0345a	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0345d	0f bf 80 be 00
	00 00		 movsx	 eax, WORD PTR [eax+190]
  03464	99		 cdq
  03465	b9 06 00 00 00	 mov	 ecx, 6
  0346a	f7 f9		 idiv	 ecx
  0346c	83 c0 1e	 add	 eax, 30			; 0000001eH
  0346f	6b c0 3c	 imul	 eax, 60			; 0000003cH
  03472	89 45 f4	 mov	 DWORD PTR _iDuration$[ebp], eax

; 1934 : 
; 1935 : 	gObjApplyBuffEffectDuration(lpObj, AT_NPC_HELP, 2, iAttack, 3, iDefense, iDuration);

  03475	8b 45 f4	 mov	 eax, DWORD PTR _iDuration$[ebp]
  03478	50		 push	 eax
  03479	8b 4d f8	 mov	 ecx, DWORD PTR _iDefense$[ebp]
  0347c	51		 push	 ecx
  0347d	6a 03		 push	 3
  0347f	8b 55 fc	 mov	 edx, DWORD PTR _iAttack$[ebp]
  03482	52		 push	 edx
  03483	6a 02		 push	 2
  03485	6a 03		 push	 3
  03487	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0348a	50		 push	 eax
  0348b	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  03490	83 c4 1c	 add	 esp, 28			; 0000001cH

; 1936 : 	return TRUE;

  03493	b8 01 00 00 00	 mov	 eax, 1
$LN6@NpcShadowP:

; 1937 : 
; 1938 : 	//if ( gObjIsConnected(lpObj->m_Index) == FALSE )
; 1939 : 	//{
; 1940 : 	//	return TRUE;
; 1941 : 	//}
; 1942 : 	////Season 5 Quest
; 1943 : 	//BYTE Packet[12] = { 0xC3,0x0C,0xF9,0x01,0x01,0x01,1,1,1,1,1,1};
; 1944 : 	//lpObj->TargetNumber = lpNpc->m_Index;
; 1945 : 	//lpObj->NPC = lpNpc->Class;
; 1946 : 	//DataSend(lpObj->m_Index, &Packet[0], Packet[1]);
; 1947 : 	//return TRUE;
; 1948 : }

  03498	5f		 pop	 edi
  03499	5e		 pop	 esi
  0349a	5b		 pop	 ebx
  0349b	8b e5		 mov	 esp, ebp
  0349d	5d		 pop	 ebp
  0349e	c3		 ret	 0
?NpcShadowPhantom@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcShadowPhantom
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcCrywolfAltar@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcCrywolfAltar

; 1952 : {

  034a0	55		 push	 ebp
  034a1	8b ec		 mov	 ebp, esp
  034a3	83 ec 40	 sub	 esp, 64			; 00000040H
  034a6	53		 push	 ebx
  034a7	56		 push	 esi
  034a8	57		 push	 edi

; 1953 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  034a9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  034ac	8b 08		 mov	 ecx, DWORD PTR [eax]
  034ae	51		 push	 ecx
  034af	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  034b4	83 c4 04	 add	 esp, 4
  034b7	85 c0		 test	 eax, eax
  034b9	75 07		 jne	 SHORT $LN1@NpcCrywolf

; 1954 : 	{
; 1955 : 		return TRUE;

  034bb	b8 01 00 00 00	 mov	 eax, 1
  034c0	eb 05		 jmp	 SHORT $LN2@NpcCrywolf
$LN1@NpcCrywolf:

; 1956 : 	}
; 1957 : 	return TRUE;//Season 4.5 fix

  034c2	b8 01 00 00 00	 mov	 eax, 1
$LN2@NpcCrywolf:

; 1958 : }

  034c7	5f		 pop	 edi
  034c8	5e		 pop	 esi
  034c9	5b		 pop	 ebx
  034ca	8b e5		 mov	 esp, ebp
  034cc	5d		 pop	 ebp
  034cd	c3		 ret	 0
?NpcCrywolfAltar@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcCrywolfAltar
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcPamelaSupplier@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcPamelaSupplier

; 1962 : {

  034d0	55		 push	 ebp
  034d1	8b ec		 mov	 ebp, esp
  034d3	83 ec 40	 sub	 esp, 64			; 00000040H
  034d6	53		 push	 ebx
  034d7	56		 push	 esi
  034d8	57		 push	 edi

; 1963 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  034d9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  034dc	8b 08		 mov	 ecx, DWORD PTR [eax]
  034de	51		 push	 ecx
  034df	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  034e4	83 c4 04	 add	 esp, 4
  034e7	85 c0		 test	 eax, eax
  034e9	75 07		 jne	 SHORT $LN1@NpcPamelaS

; 1964 : 	{
; 1965 : 		return TRUE;

  034eb	b8 01 00 00 00	 mov	 eax, 1
  034f0	eb 02		 jmp	 SHORT $LN2@NpcPamelaS
$LN1@NpcPamelaS:

; 1966 : 	}
; 1967 : 	return FALSE;

  034f2	33 c0		 xor	 eax, eax
$LN2@NpcPamelaS:

; 1968 : }

  034f4	5f		 pop	 edi
  034f5	5e		 pop	 esi
  034f6	5b		 pop	 ebx
  034f7	8b e5		 mov	 esp, ebp
  034f9	5d		 pop	 ebp
  034fa	c3		 ret	 0
?NpcPamelaSupplier@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcPamelaSupplier
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcAngelaSupplier@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcAngelaSupplier

; 1971 : {

  03500	55		 push	 ebp
  03501	8b ec		 mov	 ebp, esp
  03503	83 ec 40	 sub	 esp, 64			; 00000040H
  03506	53		 push	 ebx
  03507	56		 push	 esi
  03508	57		 push	 edi

; 1972 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  03509	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0350c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0350e	51		 push	 ecx
  0350f	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  03514	83 c4 04	 add	 esp, 4
  03517	85 c0		 test	 eax, eax
  03519	75 07		 jne	 SHORT $LN1@NpcAngelaS

; 1973 : 	{
; 1974 : 		return TRUE;

  0351b	b8 01 00 00 00	 mov	 eax, 1
  03520	eb 02		 jmp	 SHORT $LN2@NpcAngelaS
$LN1@NpcAngelaS:

; 1975 : 	}
; 1976 : 	return FALSE;

  03522	33 c0		 xor	 eax, eax
$LN2@NpcAngelaS:

; 1977 : }

  03524	5f		 pop	 edi
  03525	5e		 pop	 esi
  03526	5b		 pop	 ebx
  03527	8b e5		 mov	 esp, ebp
  03529	5d		 pop	 ebp
  0352a	c3		 ret	 0
?NpcAngelaSupplier@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcAngelaSupplier
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcFirecrackerMerchant@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcFirecrackerMerchant

; 1980 : {

  03530	55		 push	 ebp
  03531	8b ec		 mov	 ebp, esp
  03533	83 ec 40	 sub	 esp, 64			; 00000040H
  03536	53		 push	 ebx
  03537	56		 push	 esi
  03538	57		 push	 edi

; 1981 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  03539	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0353c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0353e	51		 push	 ecx
  0353f	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  03544	83 c4 04	 add	 esp, 4
  03547	85 c0		 test	 eax, eax
  03549	75 07		 jne	 SHORT $LN1@NpcFirecra

; 1982 : 	{
; 1983 : 		return TRUE;

  0354b	b8 01 00 00 00	 mov	 eax, 1
  03550	eb 02		 jmp	 SHORT $LN2@NpcFirecra
$LN1@NpcFirecra:

; 1984 : 	}
; 1985 : 	return FALSE;

  03552	33 c0		 xor	 eax, eax
$LN2@NpcFirecra:

; 1986 : }

  03554	5f		 pop	 edi
  03555	5e		 pop	 esi
  03556	5b		 pop	 ebx
  03557	8b e5		 mov	 esp, ebp
  03559	5d		 pop	 ebp
  0355a	c3		 ret	 0
?NpcFirecrackerMerchant@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcFirecrackerMerchant
_TEXT	ENDS
EXTRN	?SetNpcStatueUser@CIllusionTempleEvent@@QAEXEPAUOBJECTSTRUCT@@0@Z:PROC ; CIllusionTempleEvent::SetNpcStatueUser
EXTRN	?g_IllusionTempleEvent@@3VCIllusionTempleEvent@@A:BYTE ; g_IllusionTempleEvent
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcIllusionStatue@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcIllusionStatue

; 1991 : {

  03560	55		 push	 ebp
  03561	8b ec		 mov	 ebp, esp
  03563	83 ec 40	 sub	 esp, 64			; 00000040H
  03566	53		 push	 ebx
  03567	56		 push	 esi
  03568	57		 push	 edi

; 1992 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  03569	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0356c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0356e	51		 push	 ecx
  0356f	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  03574	83 c4 04	 add	 esp, 4
  03577	85 c0		 test	 eax, eax
  03579	75 07		 jne	 SHORT $LN1@NpcIllusio

; 1993 : 	{
; 1994 : 		return TRUE;

  0357b	b8 01 00 00 00	 mov	 eax, 1
  03580	eb 22		 jmp	 SHORT $LN2@NpcIllusio
$LN1@NpcIllusio:

; 1995 : 	}
; 1996 : 
; 1997 : 	g_IllusionTempleEvent.SetNpcStatueUser(lpObj->MapNumber, lpNpc, lpObj);

  03582	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03585	50		 push	 eax
  03586	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  03589	51		 push	 ecx
  0358a	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0358d	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  03594	50		 push	 eax
  03595	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_IllusionTempleEvent@@3VCIllusionTempleEvent@@A ; g_IllusionTempleEvent
  0359a	e8 00 00 00 00	 call	 ?SetNpcStatueUser@CIllusionTempleEvent@@QAEXEPAUOBJECTSTRUCT@@0@Z ; CIllusionTempleEvent::SetNpcStatueUser

; 1998 : 
; 1999 : 	return TRUE;

  0359f	b8 01 00 00 00	 mov	 eax, 1
$LN2@NpcIllusio:

; 2000 : }

  035a4	5f		 pop	 edi
  035a5	5e		 pop	 esi
  035a6	5b		 pop	 ebx
  035a7	8b e5		 mov	 esp, ebp
  035a9	5d		 pop	 ebp
  035aa	c3		 ret	 0
?NpcIllusionStatue@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcIllusionStatue
_TEXT	ENDS
EXTRN	?SetNpcAlliedUser@CIllusionTempleEvent@@QAEXEPAUOBJECTSTRUCT@@0@Z:PROC ; CIllusionTempleEvent::SetNpcAlliedUser
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcIllusionYellowPedestal@@YAHPAUOBJECTSTRUCT@@0@Z PROC ; NpcIllusionYellowPedestal

; 2003 : {

  035b0	55		 push	 ebp
  035b1	8b ec		 mov	 ebp, esp
  035b3	83 ec 40	 sub	 esp, 64			; 00000040H
  035b6	53		 push	 ebx
  035b7	56		 push	 esi
  035b8	57		 push	 edi

; 2004 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  035b9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  035bc	8b 08		 mov	 ecx, DWORD PTR [eax]
  035be	51		 push	 ecx
  035bf	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  035c4	83 c4 04	 add	 esp, 4
  035c7	85 c0		 test	 eax, eax
  035c9	75 07		 jne	 SHORT $LN1@NpcIllusio@2

; 2005 : 	{
; 2006 : 		return TRUE;

  035cb	b8 01 00 00 00	 mov	 eax, 1
  035d0	eb 22		 jmp	 SHORT $LN2@NpcIllusio@2
$LN1@NpcIllusio@2:

; 2007 : 	}
; 2008 : 
; 2009 : 	g_IllusionTempleEvent.SetNpcAlliedUser(lpObj->MapNumber, lpNpc, lpObj);

  035d2	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  035d5	50		 push	 eax
  035d6	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  035d9	51		 push	 ecx
  035da	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  035dd	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  035e4	50		 push	 eax
  035e5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_IllusionTempleEvent@@3VCIllusionTempleEvent@@A ; g_IllusionTempleEvent
  035ea	e8 00 00 00 00	 call	 ?SetNpcAlliedUser@CIllusionTempleEvent@@QAEXEPAUOBJECTSTRUCT@@0@Z ; CIllusionTempleEvent::SetNpcAlliedUser

; 2010 : 
; 2011 : 	return TRUE;

  035ef	b8 01 00 00 00	 mov	 eax, 1
$LN2@NpcIllusio@2:

; 2012 : }

  035f4	5f		 pop	 edi
  035f5	5e		 pop	 esi
  035f6	5b		 pop	 ebx
  035f7	8b e5		 mov	 esp, ebp
  035f9	5d		 pop	 ebp
  035fa	c3		 ret	 0
?NpcIllusionYellowPedestal@@YAHPAUOBJECTSTRUCT@@0@Z ENDP ; NpcIllusionYellowPedestal
_TEXT	ENDS
EXTRN	?SetNpcRelicsUser@CIllusionTempleEvent@@QAEXEPAUOBJECTSTRUCT@@0@Z:PROC ; CIllusionTempleEvent::SetNpcRelicsUser
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcIllusionBluePedestal@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcIllusionBluePedestal

; 2015 : {

  03600	55		 push	 ebp
  03601	8b ec		 mov	 ebp, esp
  03603	83 ec 40	 sub	 esp, 64			; 00000040H
  03606	53		 push	 ebx
  03607	56		 push	 esi
  03608	57		 push	 edi

; 2016 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  03609	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0360c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0360e	51		 push	 ecx
  0360f	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  03614	83 c4 04	 add	 esp, 4
  03617	85 c0		 test	 eax, eax
  03619	75 07		 jne	 SHORT $LN1@NpcIllusio@3

; 2017 : 	{
; 2018 : 		return TRUE;

  0361b	b8 01 00 00 00	 mov	 eax, 1
  03620	eb 22		 jmp	 SHORT $LN2@NpcIllusio@3
$LN1@NpcIllusio@3:

; 2019 : 	}
; 2020 : 
; 2021 : 	g_IllusionTempleEvent.SetNpcRelicsUser(lpObj->MapNumber, lpNpc, lpObj);

  03622	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03625	50		 push	 eax
  03626	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  03629	51		 push	 ecx
  0362a	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0362d	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  03634	50		 push	 eax
  03635	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_IllusionTempleEvent@@3VCIllusionTempleEvent@@A ; g_IllusionTempleEvent
  0363a	e8 00 00 00 00	 call	 ?SetNpcRelicsUser@CIllusionTempleEvent@@QAEXEPAUOBJECTSTRUCT@@0@Z ; CIllusionTempleEvent::SetNpcRelicsUser

; 2022 : 
; 2023 : 	return TRUE;

  0363f	b8 01 00 00 00	 mov	 eax, 1
$LN2@NpcIllusio@3:

; 2024 : }

  03644	5f		 pop	 edi
  03645	5e		 pop	 esi
  03646	5b		 pop	 ebx
  03647	8b e5		 mov	 esp, ebp
  03649	5d		 pop	 ebp
  0364a	c3		 ret	 0
?NpcIllusionBluePedestal@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcIllusionBluePedestal
_TEXT	ENDS
EXTRN	?SetNpcMirageUser@CIllusionTempleEvent@@QAEXPAUOBJECTSTRUCT@@0@Z:PROC ; CIllusionTempleEvent::SetNpcMirageUser
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcIllusionMirage@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcIllusionMirage

; 2027 : {

  03650	55		 push	 ebp
  03651	8b ec		 mov	 ebp, esp
  03653	83 ec 40	 sub	 esp, 64			; 00000040H
  03656	53		 push	 ebx
  03657	56		 push	 esi
  03658	57		 push	 edi

; 2028 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  03659	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0365c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0365e	51		 push	 ecx
  0365f	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  03664	83 c4 04	 add	 esp, 4
  03667	85 c0		 test	 eax, eax
  03669	75 07		 jne	 SHORT $LN1@NpcIllusio@4

; 2029 : 	{
; 2030 : 		return TRUE;

  0366b	b8 01 00 00 00	 mov	 eax, 1
  03670	eb 17		 jmp	 SHORT $LN2@NpcIllusio@4
$LN1@NpcIllusio@4:

; 2031 : 	}
; 2032 : 
; 2033 : 	g_IllusionTempleEvent.SetNpcMirageUser(lpNpc, lpObj);

  03672	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03675	50		 push	 eax
  03676	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  03679	51		 push	 ecx
  0367a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_IllusionTempleEvent@@3VCIllusionTempleEvent@@A ; g_IllusionTempleEvent
  0367f	e8 00 00 00 00	 call	 ?SetNpcMirageUser@CIllusionTempleEvent@@QAEXPAUOBJECTSTRUCT@@0@Z ; CIllusionTempleEvent::SetNpcMirageUser

; 2034 : 
; 2035 : 	return TRUE;

  03684	b8 01 00 00 00	 mov	 eax, 1
$LN2@NpcIllusio@4:

; 2036 : }

  03689	5f		 pop	 edi
  0368a	5e		 pop	 esi
  0368b	5b		 pop	 ebx
  0368c	8b e5		 mov	 esp, ebp
  0368e	5d		 pop	 ebp
  0368f	c3		 ret	 0
?NpcIllusionMirage@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcIllusionMirage
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcSilviaSupplier@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcSilviaSupplier

; 2040 : {

  03690	55		 push	 ebp
  03691	8b ec		 mov	 ebp, esp
  03693	83 ec 40	 sub	 esp, 64			; 00000040H
  03696	53		 push	 ebx
  03697	56		 push	 esi
  03698	57		 push	 edi

; 2041 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  03699	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0369c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0369e	51		 push	 ecx
  0369f	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  036a4	83 c4 04	 add	 esp, 4
  036a7	85 c0		 test	 eax, eax
  036a9	75 07		 jne	 SHORT $LN1@NpcSilviaS

; 2042 : 	{
; 2043 : 		return TRUE;

  036ab	b8 01 00 00 00	 mov	 eax, 1
  036b0	eb 02		 jmp	 SHORT $LN2@NpcSilviaS
$LN1@NpcSilviaS:

; 2044 : 	}
; 2045 : 	return FALSE;

  036b2	33 c0		 xor	 eax, eax
$LN2@NpcSilviaS:

; 2046 : }

  036b4	5f		 pop	 edi
  036b5	5e		 pop	 esi
  036b6	5b		 pop	 ebx
  036b7	8b e5		 mov	 esp, ebp
  036b9	5d		 pop	 ebp
  036ba	c3		 ret	 0
?NpcSilviaSupplier@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcSilviaSupplier
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcRheaMerchant@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcRheaMerchant

; 2049 : {

  036c0	55		 push	 ebp
  036c1	8b ec		 mov	 ebp, esp
  036c3	83 ec 40	 sub	 esp, 64			; 00000040H
  036c6	53		 push	 ebx
  036c7	56		 push	 esi
  036c8	57		 push	 edi

; 2050 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  036c9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  036cc	8b 08		 mov	 ecx, DWORD PTR [eax]
  036ce	51		 push	 ecx
  036cf	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  036d4	83 c4 04	 add	 esp, 4
  036d7	85 c0		 test	 eax, eax
  036d9	75 07		 jne	 SHORT $LN1@NpcRheaMer

; 2051 : 	{
; 2052 : 		return TRUE;

  036db	b8 01 00 00 00	 mov	 eax, 1
  036e0	eb 02		 jmp	 SHORT $LN2@NpcRheaMer
$LN1@NpcRheaMer:

; 2053 : 	}
; 2054 : 	return FALSE;

  036e2	33 c0		 xor	 eax, eax
$LN2@NpcRheaMer:

; 2055 : }

  036e4	5f		 pop	 edi
  036e5	5e		 pop	 esi
  036e6	5b		 pop	 ebx
  036e7	8b e5		 mov	 esp, ebp
  036e9	5d		 pop	 ebp
  036ea	c3		 ret	 0
?NpcRheaMerchant@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcRheaMerchant
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcMarceWizard@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcMarceWizard

; 2058 : {

  036f0	55		 push	 ebp
  036f1	8b ec		 mov	 ebp, esp
  036f3	83 ec 40	 sub	 esp, 64			; 00000040H
  036f6	53		 push	 ebx
  036f7	56		 push	 esi
  036f8	57		 push	 edi

; 2059 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  036f9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  036fc	8b 08		 mov	 ecx, DWORD PTR [eax]
  036fe	51		 push	 ecx
  036ff	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  03704	83 c4 04	 add	 esp, 4
  03707	85 c0		 test	 eax, eax
  03709	75 07		 jne	 SHORT $LN1@NpcMarceWi

; 2060 : 	{
; 2061 : 		return TRUE;

  0370b	b8 01 00 00 00	 mov	 eax, 1
  03710	eb 02		 jmp	 SHORT $LN2@NpcMarceWi
$LN1@NpcMarceWi:

; 2062 : 	}
; 2063 : 	return FALSE;

  03712	33 c0		 xor	 eax, eax
$LN2@NpcMarceWi:

; 2064 : }

  03714	5f		 pop	 edi
  03715	5e		 pop	 esi
  03716	5b		 pop	 ebx
  03717	8b e5		 mov	 esp, ebp
  03719	5d		 pop	 ebp
  0371a	c3		 ret	 0
?NpcMarceWizard@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcMarceWizard
_TEXT	ENDS
PUBLIC	??_C@_0CK@EIBNFKNI@?$FLJewelMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Socket?5Item?5@ ; `string'
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0CK@EIBNFKNI@?$FLJewelMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Socket?5Item?5@
CONST	SEGMENT
??_C@_0CK@EIBNFKNI@?$FLJewelMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Socket?5Item?5@ DB '['
	DB	'JewelMix] [%s][%s] Socket Item Mix Start', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_pMsg$244757 = -16					; size = 11
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcSeedMaster@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcSeedMaster

; 2068 : {

  03720	55		 push	 ebp
  03721	8b ec		 mov	 ebp, esp
  03723	83 ec 50	 sub	 esp, 80			; 00000050H
  03726	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0372b	33 c5		 xor	 eax, ebp
  0372d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03730	53		 push	 ebx
  03731	56		 push	 esi
  03732	57		 push	 edi

; 2069 : 	if ( bCanChaosBox == TRUE )

  03733	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?bCanChaosBox@@3HA, 1 ; bCanChaosBox
  0373a	0f 85 fe 00 00
	00		 jne	 $LN3@NpcSeedMas

; 2070 : 	{
; 2071 : 		if ( lpObj->m_IfState.use > 0 )

  03740	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03743	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  03749	83 e1 03	 and	 ecx, 3
  0374c	76 0a		 jbe	 SHORT $LN2@NpcSeedMas

; 2072 : 		{
; 2073 : 			return TRUE;

  0374e	b8 01 00 00 00	 mov	 eax, 1
  03753	e9 eb 00 00 00	 jmp	 $LN4@NpcSeedMas
$LN2@NpcSeedMas:

; 2074 : 		}
; 2075 : 
; 2076 : 		if ( lpObj->m_bPShopOpen == true )

  03758	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0375b	0f b6 88 c4 0e
	00 00		 movzx	 ecx, BYTE PTR [eax+3780]
  03762	83 f9 01	 cmp	 ecx, 1
  03765	75 46		 jne	 SHORT $LN1@NpcSeedMas

; 2077 : 		{
; 2078 : 			LogAdd("[%s][%s] is Already Opening PShop, ChaosBox Failed", lpObj->AccountID, lpObj->Name);

  03767	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0376a	83 c0 77	 add	 eax, 119		; 00000077H
  0376d	50		 push	 eax
  0376e	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03771	83 c1 6c	 add	 ecx, 108		; 0000006cH
  03774	51		 push	 ecx
  03775	68 00 00 00 00	 push	 OFFSET ??_C@_0DD@KJEEOOOJ@?$FL?$CFs?$FN?$FL?$CFs?$FN?5is?5Already?5Opening?5PSho@
  0377a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  03780	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2079 : 			GCServerMsgStringSend(lMsg.Get(MSGGET(4,194)), lpObj->m_Index, 1);

  03783	6a 01		 push	 1
  03785	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03788	8b 08		 mov	 ecx, DWORD PTR [eax]
  0378a	51		 push	 ecx
  0378b	68 c2 04 00 00	 push	 1218			; 000004c2H
  03790	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  03795	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0379a	50		 push	 eax
  0379b	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  037a0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2080 : 			return TRUE;

  037a3	b8 01 00 00 00	 mov	 eax, 1
  037a8	e9 96 00 00 00	 jmp	 $LN4@NpcSeedMas
$LN1@NpcSeedMas:

; 2081 : 		}
; 2082 : 
; 2083 : 		PMSG_TALKRESULT pMsg;
; 2084 : 
; 2085 : 		pMsg.h.c = 0xC3;

  037ad	c6 45 f0 c3	 mov	 BYTE PTR _pMsg$244757[ebp], 195 ; 000000c3H

; 2086 : 		pMsg.h.headcode = 0x30;

  037b1	c6 45 f2 30	 mov	 BYTE PTR _pMsg$244757[ebp+2], 48 ; 00000030H

; 2087 : 		pMsg.h.size = sizeof(pMsg);

  037b5	c6 45 f1 0b	 mov	 BYTE PTR _pMsg$244757[ebp+1], 11 ; 0000000bH

; 2088 : 		pMsg.result = 0x17;

  037b9	c6 45 f3 17	 mov	 BYTE PTR _pMsg$244757[ebp+3], 23 ; 00000017H

; 2089 : 
; 2090 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  037bd	0f b6 45 f1	 movzx	 eax, BYTE PTR _pMsg$244757[ebp+1]
  037c1	50		 push	 eax
  037c2	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$244757[ebp]
  037c5	51		 push	 ecx
  037c6	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  037c9	8b 02		 mov	 eax, DWORD PTR [edx]
  037cb	50		 push	 eax
  037cc	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  037d1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2091 : 
; 2092 : 		lpObj->m_IfState.use = 1;

  037d4	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  037d7	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  037dd	83 e1 fc	 and	 ecx, -4			; fffffffcH
  037e0	83 c9 01	 or	 ecx, 1
  037e3	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  037e6	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 2093 : 		lpObj->m_IfState.type = 7;

  037ec	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  037ef	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  037f5	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  037fb	81 c9 c0 01 00
	00		 or	 ecx, 448		; 000001c0H
  03801	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03804	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 2094 : 
; 2095 : 		LogAddTD("[JewelMix] [%s][%s] Socket Item Mix Start", lpObj->AccountID, lpObj->Name);

  0380a	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0380d	83 c0 77	 add	 eax, 119		; 00000077H
  03810	50		 push	 eax
  03811	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03814	83 c1 6c	 add	 ecx, 108		; 0000006cH
  03817	51		 push	 ecx
  03818	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@EIBNFKNI@?$FLJewelMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Socket?5Item?5@
  0381d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  03823	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2096 : 
; 2097 : 		gObjItemTextSave(lpObj);

  03826	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03829	50		 push	 eax
  0382a	e8 00 00 00 00	 call	 ?gObjItemTextSave@@YAXPAUOBJECTSTRUCT@@@Z ; gObjItemTextSave
  0382f	83 c4 04	 add	 esp, 4

; 2098 : 		gObjWarehouseTextSave(lpObj);

  03832	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03835	50		 push	 eax
  03836	e8 00 00 00 00	 call	 ?gObjWarehouseTextSave@@YAXPAUOBJECTSTRUCT@@@Z ; gObjWarehouseTextSave
  0383b	83 c4 04	 add	 esp, 4
$LN3@NpcSeedMas:

; 2099 : 	}
; 2100 : 
; 2101 : 	return TRUE;

  0383e	b8 01 00 00 00	 mov	 eax, 1
$LN4@NpcSeedMas:

; 2102 : }

  03843	5f		 pop	 edi
  03844	5e		 pop	 esi
  03845	5b		 pop	 ebx
  03846	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  03849	33 cd		 xor	 ecx, ebp
  0384b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  03850	8b e5		 mov	 esp, ebp
  03852	5d		 pop	 ebp
  03853	c3		 ret	 0
?NpcSeedMaster@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcSeedMaster
_TEXT	ENDS
PUBLIC	__$ArrayPad$
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$244767 = -16					; size = 11
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcSeedResearcher@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcSeedResearcher

; 2106 : {

  03860	55		 push	 ebp
  03861	8b ec		 mov	 ebp, esp
  03863	83 ec 50	 sub	 esp, 80			; 00000050H
  03866	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0386b	33 c5		 xor	 eax, ebp
  0386d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03870	53		 push	 ebx
  03871	56		 push	 esi
  03872	57		 push	 edi

; 2107 : 		if ( bCanChaosBox == TRUE )

  03873	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?bCanChaosBox@@3HA, 1 ; bCanChaosBox
  0387a	0f 85 fe 00 00
	00		 jne	 $LN3@NpcSeedRes

; 2108 : 	{
; 2109 : 		if ( lpObj->m_IfState.use > 0 )

  03880	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03883	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  03889	83 e1 03	 and	 ecx, 3
  0388c	76 0a		 jbe	 SHORT $LN2@NpcSeedRes

; 2110 : 		{
; 2111 : 			return TRUE;

  0388e	b8 01 00 00 00	 mov	 eax, 1
  03893	e9 eb 00 00 00	 jmp	 $LN4@NpcSeedRes
$LN2@NpcSeedRes:

; 2112 : 		}
; 2113 : 
; 2114 : 		if ( lpObj->m_bPShopOpen == true )

  03898	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0389b	0f b6 88 c4 0e
	00 00		 movzx	 ecx, BYTE PTR [eax+3780]
  038a2	83 f9 01	 cmp	 ecx, 1
  038a5	75 46		 jne	 SHORT $LN1@NpcSeedRes

; 2115 : 		{
; 2116 : 			LogAdd("[%s][%s] is Already Opening PShop, ChaosBox Failed", lpObj->AccountID, lpObj->Name);

  038a7	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  038aa	83 c0 77	 add	 eax, 119		; 00000077H
  038ad	50		 push	 eax
  038ae	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  038b1	83 c1 6c	 add	 ecx, 108		; 0000006cH
  038b4	51		 push	 ecx
  038b5	68 00 00 00 00	 push	 OFFSET ??_C@_0DD@KJEEOOOJ@?$FL?$CFs?$FN?$FL?$CFs?$FN?5is?5Already?5Opening?5PSho@
  038ba	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  038c0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2117 : 			GCServerMsgStringSend(lMsg.Get(MSGGET(4,194)), lpObj->m_Index, 1);

  038c3	6a 01		 push	 1
  038c5	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  038c8	8b 08		 mov	 ecx, DWORD PTR [eax]
  038ca	51		 push	 ecx
  038cb	68 c2 04 00 00	 push	 1218			; 000004c2H
  038d0	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  038d5	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  038da	50		 push	 eax
  038db	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  038e0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2118 : 			return TRUE;

  038e3	b8 01 00 00 00	 mov	 eax, 1
  038e8	e9 96 00 00 00	 jmp	 $LN4@NpcSeedRes
$LN1@NpcSeedRes:

; 2119 : 		}
; 2120 : 
; 2121 : 		PMSG_TALKRESULT pMsg;
; 2122 : 
; 2123 : 		pMsg.h.c = 0xC3;

  038ed	c6 45 f0 c3	 mov	 BYTE PTR _pMsg$244767[ebp], 195 ; 000000c3H

; 2124 : 		pMsg.h.headcode = 0x30;

  038f1	c6 45 f2 30	 mov	 BYTE PTR _pMsg$244767[ebp+2], 48 ; 00000030H

; 2125 : 		pMsg.h.size = sizeof(pMsg);

  038f5	c6 45 f1 0b	 mov	 BYTE PTR _pMsg$244767[ebp+1], 11 ; 0000000bH

; 2126 : 		pMsg.result = 0x18;

  038f9	c6 45 f3 18	 mov	 BYTE PTR _pMsg$244767[ebp+3], 24 ; 00000018H

; 2127 : 
; 2128 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  038fd	0f b6 45 f1	 movzx	 eax, BYTE PTR _pMsg$244767[ebp+1]
  03901	50		 push	 eax
  03902	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$244767[ebp]
  03905	51		 push	 ecx
  03906	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03909	8b 02		 mov	 eax, DWORD PTR [edx]
  0390b	50		 push	 eax
  0390c	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03911	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2129 : 
; 2130 : 		lpObj->m_IfState.use = 1;

  03914	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03917	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  0391d	83 e1 fc	 and	 ecx, -4			; fffffffcH
  03920	83 c9 01	 or	 ecx, 1
  03923	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03926	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 2131 : 		lpObj->m_IfState.type = 7;

  0392c	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0392f	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  03935	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  0393b	81 c9 c0 01 00
	00		 or	 ecx, 448		; 000001c0H
  03941	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03944	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 2132 : 
; 2133 : 		LogAddTD("[JewelMix] [%s][%s] Socket Item Mix Start", lpObj->AccountID, lpObj->Name);

  0394a	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0394d	83 c0 77	 add	 eax, 119		; 00000077H
  03950	50		 push	 eax
  03951	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03954	83 c1 6c	 add	 ecx, 108		; 0000006cH
  03957	51		 push	 ecx
  03958	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@EIBNFKNI@?$FLJewelMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Socket?5Item?5@
  0395d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  03963	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2134 : 
; 2135 : 		gObjItemTextSave(lpObj);

  03966	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03969	50		 push	 eax
  0396a	e8 00 00 00 00	 call	 ?gObjItemTextSave@@YAXPAUOBJECTSTRUCT@@@Z ; gObjItemTextSave
  0396f	83 c4 04	 add	 esp, 4

; 2136 : 		gObjWarehouseTextSave(lpObj);

  03972	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03975	50		 push	 eax
  03976	e8 00 00 00 00	 call	 ?gObjWarehouseTextSave@@YAXPAUOBJECTSTRUCT@@@Z ; gObjWarehouseTextSave
  0397b	83 c4 04	 add	 esp, 4
$LN3@NpcSeedRes:

; 2137 : 	}
; 2138 : 
; 2139 : 	return TRUE;

  0397e	b8 01 00 00 00	 mov	 eax, 1
$LN4@NpcSeedRes:

; 2140 : }

  03983	5f		 pop	 edi
  03984	5e		 pop	 esi
  03985	5b		 pop	 ebx
  03986	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  03989	33 cd		 xor	 ecx, ebp
  0398b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  03990	8b e5		 mov	 esp, ebp
  03992	5d		 pop	 ebp
  03993	c3		 ret	 0
?NpcSeedResearcher@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcSeedResearcher
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcCherryBlossomSpirit@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcCherryBlossomSpirit

; 2144 : {

  039a0	55		 push	 ebp
  039a1	8b ec		 mov	 ebp, esp
  039a3	83 ec 40	 sub	 esp, 64			; 00000040H
  039a6	53		 push	 ebx
  039a7	56		 push	 esi
  039a8	57		 push	 edi

; 2145 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  039a9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  039ac	8b 08		 mov	 ecx, DWORD PTR [eax]
  039ae	51		 push	 ecx
  039af	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  039b4	83 c4 04	 add	 esp, 4
  039b7	85 c0		 test	 eax, eax
  039b9	75 07		 jne	 SHORT $LN1@NpcCherryB

; 2146 : 	{
; 2147 : 		return TRUE;

  039bb	b8 01 00 00 00	 mov	 eax, 1
  039c0	eb 02		 jmp	 SHORT $LN2@NpcCherryB
$LN1@NpcCherryB:

; 2148 : 	}
; 2149 : 	return FALSE;

  039c2	33 c0		 xor	 eax, eax
$LN2@NpcCherryB:

; 2150 : }

  039c4	5f		 pop	 edi
  039c5	5e		 pop	 esi
  039c6	5b		 pop	 ebx
  039c7	8b e5		 mov	 esp, ebp
  039c9	5d		 pop	 ebp
  039ca	c3		 ret	 0
?NpcCherryBlossomSpirit@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcCherryBlossomSpirit
; Function compile flags: /Odtp /ZI
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcLuckyCoinExchanger@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcLuckyCoinExchanger

; 2154 : {

  039d0	55		 push	 ebp
  039d1	8b ec		 mov	 ebp, esp
  039d3	83 ec 40	 sub	 esp, 64			; 00000040H
  039d6	53		 push	 ebx
  039d7	56		 push	 esi
  039d8	57		 push	 edi

; 2155 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  039d9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  039dc	8b 08		 mov	 ecx, DWORD PTR [eax]
  039de	51		 push	 ecx
  039df	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  039e4	83 c4 04	 add	 esp, 4
  039e7	85 c0		 test	 eax, eax
  039e9	75 07		 jne	 SHORT $LN1@NpcLuckyCo

; 2156 : 	{
; 2157 : 		return TRUE;

  039eb	b8 01 00 00 00	 mov	 eax, 1
  039f0	eb 02		 jmp	 SHORT $LN2@NpcLuckyCo
$LN1@NpcLuckyCo:

; 2158 : 	}
; 2159 : 	return FALSE;

  039f2	33 c0		 xor	 eax, eax
$LN2@NpcLuckyCo:

; 2160 : }

  039f4	5f		 pop	 edi
  039f5	5e		 pop	 esi
  039f6	5b		 pop	 ebx
  039f7	8b e5		 mov	 esp, ebp
  039f9	5d		 pop	 ebp
  039fa	c3		 ret	 0
?NpcLuckyCoinExchanger@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcLuckyCoinExchanger
_TEXT	ENDS
EXTRN	?EGAnsRegXMasGetPayItem@@YAXHH@Z:PROC		; EGAnsRegXMasGetPayItem
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcXMasSantaClaus@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; NpcXMasSantaClaus

; 2164 : {

  03a00	55		 push	 ebp
  03a01	8b ec		 mov	 ebp, esp
  03a03	83 ec 40	 sub	 esp, 64			; 00000040H
  03a06	53		 push	 ebx
  03a07	56		 push	 esi
  03a08	57		 push	 edi

; 2165 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  03a09	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a0c	8b 08		 mov	 ecx, DWORD PTR [eax]
  03a0e	51		 push	 ecx
  03a0f	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  03a14	83 c4 04	 add	 esp, 4
  03a17	85 c0		 test	 eax, eax
  03a19	75 07		 jne	 SHORT $LN1@NpcXMasSan

; 2166 : 	{
; 2167 : 		return TRUE;

  03a1b	b8 01 00 00 00	 mov	 eax, 1
  03a20	eb 15		 jmp	 SHORT $LN2@NpcXMasSan
$LN1@NpcXMasSan:

; 2168 : 	}
; 2169 : 
; 2170 : 	EGAnsRegXMasGetPayItem(lpObj->m_Index,1);

  03a22	6a 01		 push	 1
  03a24	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a27	8b 08		 mov	 ecx, DWORD PTR [eax]
  03a29	51		 push	 ecx
  03a2a	e8 00 00 00 00	 call	 ?EGAnsRegXMasGetPayItem@@YAXHH@Z ; EGAnsRegXMasGetPayItem
  03a2f	83 c4 08	 add	 esp, 8

; 2171 : 
; 2172 : 	return TRUE;

  03a32	b8 01 00 00 00	 mov	 eax, 1
$LN2@NpcXMasSan:

; 2173 : }

  03a37	5f		 pop	 edi
  03a38	5e		 pop	 esi
  03a39	5b		 pop	 ebx
  03a3a	8b e5		 mov	 esp, ebp
  03a3c	5d		 pop	 ebp
  03a3d	c3		 ret	 0
?NpcXMasSantaClaus@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; NpcXMasSantaClaus
_TEXT	ENDS
EXTRN	?ReqNPCXMasMapMoveOpen@@YAXH@Z:PROC		; ReqNPCXMasMapMoveOpen
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcSnowMan@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcSnowMan

; 2177 : {

  03a40	55		 push	 ebp
  03a41	8b ec		 mov	 ebp, esp
  03a43	83 ec 40	 sub	 esp, 64			; 00000040H
  03a46	53		 push	 ebx
  03a47	56		 push	 esi
  03a48	57		 push	 edi

; 2178 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  03a49	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a4c	8b 08		 mov	 ecx, DWORD PTR [eax]
  03a4e	51		 push	 ecx
  03a4f	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  03a54	83 c4 04	 add	 esp, 4
  03a57	85 c0		 test	 eax, eax
  03a59	75 07		 jne	 SHORT $LN1@NpcSnowMan

; 2179 : 	{
; 2180 : 		return TRUE;

  03a5b	b8 01 00 00 00	 mov	 eax, 1
  03a60	eb 13		 jmp	 SHORT $LN2@NpcSnowMan
$LN1@NpcSnowMan:

; 2181 : 	}
; 2182 : 
; 2183 : 	ReqNPCXMasMapMoveOpen(lpObj->m_Index) ;

  03a62	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a65	8b 08		 mov	 ecx, DWORD PTR [eax]
  03a67	51		 push	 ecx
  03a68	e8 00 00 00 00	 call	 ?ReqNPCXMasMapMoveOpen@@YAXH@Z ; ReqNPCXMasMapMoveOpen
  03a6d	83 c4 04	 add	 esp, 4

; 2184 : 
; 2185 : 	return TRUE;

  03a70	b8 01 00 00 00	 mov	 eax, 1
$LN2@NpcSnowMan:

; 2186 : }

  03a75	5f		 pop	 edi
  03a76	5e		 pop	 esi
  03a77	5b		 pop	 ebx
  03a78	8b e5		 mov	 esp, ebp
  03a7a	5d		 pop	 ebp
  03a7b	c3		 ret	 0
?NpcSnowMan@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcSnowMan
_TEXT	ENDS
EXTRN	?GCManaSend@@YAXHHEEH@Z:PROC			; GCManaSend
EXTRN	?GCReFillSend@@YAXHHEEH@Z:PROC			; GCReFillSend
EXTRN	__fltused:DWORD
EXTRN	__ftol2_sse:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv67 = -68						; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
_BuffEffect$ = 16					; size = 4
?NpcLittleSantaBuffer@@YAHPAUOBJECTSTRUCT@@0H@Z PROC	; NpcLittleSantaBuffer

; 2190 : {

  03a80	55		 push	 ebp
  03a81	8b ec		 mov	 ebp, esp
  03a83	83 ec 44	 sub	 esp, 68			; 00000044H
  03a86	53		 push	 ebx
  03a87	56		 push	 esi
  03a88	57		 push	 edi

; 2191 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  03a89	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a8c	8b 08		 mov	 ecx, DWORD PTR [eax]
  03a8e	51		 push	 ecx
  03a8f	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  03a94	83 c4 04	 add	 esp, 4
  03a97	85 c0		 test	 eax, eax
  03a99	75 0a		 jne	 SHORT $LN11@NpcLittleS

; 2192 : 	{
; 2193 : 		return TRUE;

  03a9b	b8 01 00 00 00	 mov	 eax, 1
  03aa0	e9 77 01 00 00	 jmp	 $LN12@NpcLittleS
$LN11@NpcLittleS:

; 2194 : 	}
; 2195 : 
; 2196 : 	switch(BuffEffect)

  03aa5	8b 45 10	 mov	 eax, DWORD PTR _BuffEffect$[ebp]
  03aa8	89 45 bc	 mov	 DWORD PTR tv67[ebp], eax
  03aab	83 7d bc 61	 cmp	 DWORD PTR tv67[ebp], 97	; 00000061H
  03aaf	0f 87 62 01 00
	00		 ja	 $LN9@NpcLittleS
  03ab5	8b 4d bc	 mov	 ecx, DWORD PTR tv67[ebp]
  03ab8	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR $LN14@NpcLittleS[ecx]
  03abf	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN15@NpcLittleS[edx*4]
$LN8@NpcLittleS:

; 2197 : 	{
; 2198 : 	case AT_NULL_BUFF_EFFECT:
; 2199 : 		lpObj->Life = lpObj->AddLife + lpObj->MaxLife;

  03ac6	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03ac9	db 80 4c 01 00
	00		 fild	 DWORD PTR [eax+332]
  03acf	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03ad2	d8 81 00 01 00
	00		 fadd	 DWORD PTR [ecx+256]
  03ad8	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03adb	d9 9a fc 00 00
	00		 fstp	 DWORD PTR [edx+252]

; 2200 : 		GCReFillSend(lpObj->m_Index, lpObj->Life, 0xFF, 0, lpObj->iShield);

  03ae1	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03ae4	8b 88 54 01 00
	00		 mov	 ecx, DWORD PTR [eax+340]
  03aea	51		 push	 ecx
  03aeb	6a 00		 push	 0
  03aed	68 ff 00 00 00	 push	 255			; 000000ffH
  03af2	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03af5	d9 82 fc 00 00
	00		 fld	 DWORD PTR [edx+252]
  03afb	e8 00 00 00 00	 call	 __ftol2_sse
  03b00	50		 push	 eax
  03b01	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03b04	8b 08		 mov	 ecx, DWORD PTR [eax]
  03b06	51		 push	 ecx
  03b07	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend
  03b0c	83 c4 14	 add	 esp, 20			; 00000014H

; 2201 : 		break;

  03b0f	e9 03 01 00 00	 jmp	 $LN9@NpcLittleS
$LN7@NpcLittleS:

; 2202 : 	case AT_INCREASE_ATTACK:
; 2203 : 		lpObj->Mana = lpObj->AddMana + lpObj->MaxMana;

  03b14	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03b17	db 80 50 01 00
	00		 fild	 DWORD PTR [eax+336]
  03b1d	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03b20	d8 81 14 01 00
	00		 fadd	 DWORD PTR [ecx+276]
  03b26	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03b29	d9 9a 10 01 00
	00		 fstp	 DWORD PTR [edx+272]

; 2204 : 		GCManaSend(lpObj->m_Index,lpObj->Mana,0xFF,0,lpObj->BP);

  03b2f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03b32	8b 88 28 01 00
	00		 mov	 ecx, DWORD PTR [eax+296]
  03b38	51		 push	 ecx
  03b39	6a 00		 push	 0
  03b3b	68 ff 00 00 00	 push	 255			; 000000ffH
  03b40	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03b43	d9 82 10 01 00
	00		 fld	 DWORD PTR [edx+272]
  03b49	e8 00 00 00 00	 call	 __ftol2_sse
  03b4e	50		 push	 eax
  03b4f	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03b52	8b 08		 mov	 ecx, DWORD PTR [eax]
  03b54	51		 push	 ecx
  03b55	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend
  03b5a	83 c4 14	 add	 esp, 20			; 00000014H

; 2205 : 		break;

  03b5d	e9 b5 00 00 00	 jmp	 $LN9@NpcLittleS
$LN6@NpcLittleS:

; 2206 : 	case AT_XMASS_ATTACK:
; 2207 : 		gObjApplyBuffEffectDuration(lpObj,AT_XMASS_ATTACK,57,30,0,0,1800);

  03b62	68 08 07 00 00	 push	 1800			; 00000708H
  03b67	6a 00		 push	 0
  03b69	6a 00		 push	 0
  03b6b	6a 1e		 push	 30			; 0000001eH
  03b6d	6a 39		 push	 57			; 00000039H
  03b6f	6a 5e		 push	 94			; 0000005eH
  03b71	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03b74	50		 push	 eax
  03b75	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  03b7a	83 c4 1c	 add	 esp, 28			; 0000001cH

; 2208 : 		break;

  03b7d	e9 95 00 00 00	 jmp	 $LN9@NpcLittleS
$LN5@NpcLittleS:

; 2209 : 	case AT_XMASS_DEFENSE:
; 2210 : 		gObjApplyBuffEffectDuration(lpObj,AT_XMASS_DEFENSE,58,100,0,0,1800);

  03b82	68 08 07 00 00	 push	 1800			; 00000708H
  03b87	6a 00		 push	 0
  03b89	6a 00		 push	 0
  03b8b	6a 64		 push	 100			; 00000064H
  03b8d	6a 3a		 push	 58			; 0000003aH
  03b8f	6a 5f		 push	 95			; 0000005fH
  03b91	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03b94	50		 push	 eax
  03b95	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  03b9a	83 c4 1c	 add	 esp, 28			; 0000001cH

; 2211 : 		break;

  03b9d	eb 78		 jmp	 SHORT $LN9@NpcLittleS
$LN4@NpcLittleS:

; 2212 : 	case AT_XMASS_HEALTH:
; 2213 : 		gObjApplyBuffEffectDuration(lpObj,AT_XMASS_HEALTH,4,500,0,0,1800);

  03b9f	68 08 07 00 00	 push	 1800			; 00000708H
  03ba4	6a 00		 push	 0
  03ba6	6a 00		 push	 0
  03ba8	68 f4 01 00 00	 push	 500			; 000001f4H
  03bad	6a 04		 push	 4
  03baf	6a 5c		 push	 92			; 0000005cH
  03bb1	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03bb4	50		 push	 eax
  03bb5	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  03bba	83 c4 1c	 add	 esp, 28			; 0000001cH

; 2214 : 		break;

  03bbd	eb 58		 jmp	 SHORT $LN9@NpcLittleS
$LN3@NpcLittleS:

; 2215 : 	case AT_XMASS_MANA:
; 2216 : 		gObjApplyBuffEffectDuration(lpObj,AT_XMASS_MANA,5,500,0,0,1800);

  03bbf	68 08 07 00 00	 push	 1800			; 00000708H
  03bc4	6a 00		 push	 0
  03bc6	6a 00		 push	 0
  03bc8	68 f4 01 00 00	 push	 500			; 000001f4H
  03bcd	6a 05		 push	 5
  03bcf	6a 5d		 push	 93			; 0000005dH
  03bd1	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03bd4	50		 push	 eax
  03bd5	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  03bda	83 c4 1c	 add	 esp, 28			; 0000001cH

; 2217 : 		break;

  03bdd	eb 38		 jmp	 SHORT $LN9@NpcLittleS
$LN2@NpcLittleS:

; 2218 : 	case AT_XMASS_DEXTERITY:
; 2219 : 		gObjApplyBuffEffectDuration(lpObj,AT_XMASS_DEXTERITY,1,15,0,0,1800);

  03bdf	68 08 07 00 00	 push	 1800			; 00000708H
  03be4	6a 00		 push	 0
  03be6	6a 00		 push	 0
  03be8	6a 0f		 push	 15			; 0000000fH
  03bea	6a 01		 push	 1
  03bec	6a 60		 push	 96			; 00000060H
  03bee	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03bf1	50		 push	 eax
  03bf2	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  03bf7	83 c4 1c	 add	 esp, 28			; 0000001cH

; 2220 : 		break;

  03bfa	eb 1b		 jmp	 SHORT $LN9@NpcLittleS
$LN1@NpcLittleS:

; 2221 : 	case AT_XMASS_AG_RECOVERY:
; 2222 : 		gObjApplyBuffEffectDuration(lpObj,AT_XMASS_AG_RECOVERY,59,10,0,0,1800);

  03bfc	68 08 07 00 00	 push	 1800			; 00000708H
  03c01	6a 00		 push	 0
  03c03	6a 00		 push	 0
  03c05	6a 0a		 push	 10			; 0000000aH
  03c07	6a 3b		 push	 59			; 0000003bH
  03c09	6a 61		 push	 97			; 00000061H
  03c0b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03c0e	50		 push	 eax
  03c0f	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  03c14	83 c4 1c	 add	 esp, 28			; 0000001cH
$LN9@NpcLittleS:

; 2223 : 		break;
; 2224 : 	}
; 2225 : 
; 2226 : 	return TRUE;

  03c17	b8 01 00 00 00	 mov	 eax, 1
$LN12@NpcLittleS:

; 2227 : }

  03c1c	5f		 pop	 edi
  03c1d	5e		 pop	 esi
  03c1e	5b		 pop	 ebx
  03c1f	8b e5		 mov	 esp, ebp
  03c21	5d		 pop	 ebp
  03c22	c3		 ret	 0
  03c23	90		 npad	 1
$LN15@NpcLittleS:
  03c24	00 00 00 00	 DD	 $LN8@NpcLittleS
  03c28	00 00 00 00	 DD	 $LN7@NpcLittleS
  03c2c	00 00 00 00	 DD	 $LN4@NpcLittleS
  03c30	00 00 00 00	 DD	 $LN3@NpcLittleS
  03c34	00 00 00 00	 DD	 $LN6@NpcLittleS
  03c38	00 00 00 00	 DD	 $LN5@NpcLittleS
  03c3c	00 00 00 00	 DD	 $LN2@NpcLittleS
  03c40	00 00 00 00	 DD	 $LN1@NpcLittleS
  03c44	00 00 00 00	 DD	 $LN9@NpcLittleS
$LN14@NpcLittleS:
  03c48	00		 DB	 0
  03c49	01		 DB	 1
  03c4a	08		 DB	 8
  03c4b	08		 DB	 8
  03c4c	08		 DB	 8
  03c4d	08		 DB	 8
  03c4e	08		 DB	 8
  03c4f	08		 DB	 8
  03c50	08		 DB	 8
  03c51	08		 DB	 8
  03c52	08		 DB	 8
  03c53	08		 DB	 8
  03c54	08		 DB	 8
  03c55	08		 DB	 8
  03c56	08		 DB	 8
  03c57	08		 DB	 8
  03c58	08		 DB	 8
  03c59	08		 DB	 8
  03c5a	08		 DB	 8
  03c5b	08		 DB	 8
  03c5c	08		 DB	 8
  03c5d	08		 DB	 8
  03c5e	08		 DB	 8
  03c5f	08		 DB	 8
  03c60	08		 DB	 8
  03c61	08		 DB	 8
  03c62	08		 DB	 8
  03c63	08		 DB	 8
  03c64	08		 DB	 8
  03c65	08		 DB	 8
  03c66	08		 DB	 8
  03c67	08		 DB	 8
  03c68	08		 DB	 8
  03c69	08		 DB	 8
  03c6a	08		 DB	 8
  03c6b	08		 DB	 8
  03c6c	08		 DB	 8
  03c6d	08		 DB	 8
  03c6e	08		 DB	 8
  03c6f	08		 DB	 8
  03c70	08		 DB	 8
  03c71	08		 DB	 8
  03c72	08		 DB	 8
  03c73	08		 DB	 8
  03c74	08		 DB	 8
  03c75	08		 DB	 8
  03c76	08		 DB	 8
  03c77	08		 DB	 8
  03c78	08		 DB	 8
  03c79	08		 DB	 8
  03c7a	08		 DB	 8
  03c7b	08		 DB	 8
  03c7c	08		 DB	 8
  03c7d	08		 DB	 8
  03c7e	08		 DB	 8
  03c7f	08		 DB	 8
  03c80	08		 DB	 8
  03c81	08		 DB	 8
  03c82	08		 DB	 8
  03c83	08		 DB	 8
  03c84	08		 DB	 8
  03c85	08		 DB	 8
  03c86	08		 DB	 8
  03c87	08		 DB	 8
  03c88	08		 DB	 8
  03c89	08		 DB	 8
  03c8a	08		 DB	 8
  03c8b	08		 DB	 8
  03c8c	08		 DB	 8
  03c8d	08		 DB	 8
  03c8e	08		 DB	 8
  03c8f	08		 DB	 8
  03c90	08		 DB	 8
  03c91	08		 DB	 8
  03c92	08		 DB	 8
  03c93	08		 DB	 8
  03c94	08		 DB	 8
  03c95	08		 DB	 8
  03c96	08		 DB	 8
  03c97	08		 DB	 8
  03c98	08		 DB	 8
  03c99	08		 DB	 8
  03c9a	08		 DB	 8
  03c9b	08		 DB	 8
  03c9c	08		 DB	 8
  03c9d	08		 DB	 8
  03c9e	08		 DB	 8
  03c9f	08		 DB	 8
  03ca0	08		 DB	 8
  03ca1	08		 DB	 8
  03ca2	08		 DB	 8
  03ca3	08		 DB	 8
  03ca4	02		 DB	 2
  03ca5	03		 DB	 3
  03ca6	04		 DB	 4
  03ca7	05		 DB	 5
  03ca8	06		 DB	 6
  03ca9	07		 DB	 7
?NpcLittleSantaBuffer@@YAHPAUOBJECTSTRUCT@@0H@Z ENDP	; NpcLittleSantaBuffer
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	?SendDuelStatus@CDuelManager@@QAEXPAUOBJECTSTRUCT@@@Z:PROC ; CDuelManager::SendDuelStatus
EXTRN	?g_DuelManager@@3VCDuelManager@@A:BYTE		; g_DuelManager
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcTitusGatekeeper@@YA_NPAUOBJECTSTRUCT@@0@Z PROC	; NpcTitusGatekeeper

; 2229 : {

  03cb0	55		 push	 ebp
  03cb1	8b ec		 mov	 ebp, esp
  03cb3	83 ec 50	 sub	 esp, 80			; 00000050H
  03cb6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  03cbb	33 c5		 xor	 eax, ebp
  03cbd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03cc0	53		 push	 ebx
  03cc1	56		 push	 esi
  03cc2	57		 push	 edi

; 2230 : 	if ( (lpObj->m_IfState.use ) > 0 )

  03cc3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03cc6	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  03ccc	83 e1 03	 and	 ecx, 3
  03ccf	76 04		 jbe	 SHORT $LN1@NpcTitusGa

; 2231 : 	{
; 2232 : 		return TRUE;

  03cd1	b0 01		 mov	 al, 1
  03cd3	eb 6d		 jmp	 SHORT $LN2@NpcTitusGa
$LN1@NpcTitusGa:

; 2233 : 	}
; 2234 : 
; 2235 : 	lpObj->m_IfState.use = 1;

  03cd5	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03cd8	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  03cde	83 e1 fc	 and	 ecx, -4			; fffffffcH
  03ce1	83 c9 01	 or	 ecx, 1
  03ce4	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03ce7	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 2236 : 	lpObj->m_IfState.type = 20;

  03ced	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03cf0	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  03cf6	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  03cfc	81 c9 00 05 00
	00		 or	 ecx, 1280		; 00000500H
  03d02	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03d05	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 2237 : 
; 2238 : 	PMSG_TALKRESULT pMsg;
; 2239 : 
; 2240 : 	pMsg.h.c = 0xC3;

  03d0b	c6 45 f0 c3	 mov	 BYTE PTR _pMsg$[ebp], 195 ; 000000c3H

; 2241 : 	pMsg.h.headcode = 0x30;

  03d0f	c6 45 f2 30	 mov	 BYTE PTR _pMsg$[ebp+2], 48 ; 00000030H

; 2242 : 	pMsg.h.size = 9;

  03d13	c6 45 f1 09	 mov	 BYTE PTR _pMsg$[ebp+1], 9

; 2243 : 	pMsg.result = 0x21;

  03d17	c6 45 f3 21	 mov	 BYTE PTR _pMsg$[ebp+3], 33 ; 00000021H

; 2244 : 
; 2245 : 	DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  03d1b	0f b6 45 f1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  03d1f	50		 push	 eax
  03d20	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  03d23	51		 push	 ecx
  03d24	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03d27	8b 02		 mov	 eax, DWORD PTR [edx]
  03d29	50		 push	 eax
  03d2a	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03d2f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2246 : 
; 2247 : 	g_DuelManager.SendDuelStatus(lpObj);

  03d32	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03d35	50		 push	 eax
  03d36	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DuelManager@@3VCDuelManager@@A ; g_DuelManager
  03d3b	e8 00 00 00 00	 call	 ?SendDuelStatus@CDuelManager@@QAEXPAUOBJECTSTRUCT@@@Z ; CDuelManager::SendDuelStatus

; 2248 : 	
; 2249 : 	return TRUE;

  03d40	b0 01		 mov	 al, 1
$LN2@NpcTitusGa:

; 2250 : }

  03d42	5f		 pop	 edi
  03d43	5e		 pop	 esi
  03d44	5b		 pop	 ebx
  03d45	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  03d48	33 cd		 xor	 ecx, ebp
  03d4a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  03d4f	8b e5		 mov	 esp, ebp
  03d51	5d		 pop	 ebp
  03d52	c3		 ret	 0
?NpcTitusGatekeeper@@YA_NPAUOBJECTSTRUCT@@0@Z ENDP	; NpcTitusGatekeeper
_TEXT	ENDS
PUBLIC	__$ArrayPad$
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_Send$ = -84						; size = 71
_Send2$ = -12						; size = 6
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcMoss@@YA_NPAUOBJECTSTRUCT@@0@Z PROC			; NpcMoss

; 2253 : {

  03d60	55		 push	 ebp
  03d61	8b ec		 mov	 ebp, esp
  03d63	81 ec 94 00 00
	00		 sub	 esp, 148		; 00000094H
  03d69	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  03d6e	33 c5		 xor	 eax, ebp
  03d70	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03d73	53		 push	 ebx
  03d74	56		 push	 esi
  03d75	57		 push	 edi

; 2254 : 	/*
; 2255 : 	if ( gMossMerchant.Enabled == false )
; 2256 : 	{
; 2257 : 		return true;
; 2258 : 	}
; 2259 : 
; 2260 : 	if ( gMossMerchant.Running == false )
; 2261 : 	{
; 2262 : 		return true;
; 2263 : 	}
; 2264 : 	*/
; 2265 : 	BYTE Send2[6] = {0xC3,0x06,0x30,0x00,0x27,0x00};								 // SHOP WINDOW

  03d76	c6 45 f4 c3	 mov	 BYTE PTR _Send2$[ebp], 195 ; 000000c3H
  03d7a	c6 45 f5 06	 mov	 BYTE PTR _Send2$[ebp+1], 6
  03d7e	c6 45 f6 30	 mov	 BYTE PTR _Send2$[ebp+2], 48 ; 00000030H
  03d82	c6 45 f7 00	 mov	 BYTE PTR _Send2$[ebp+3], 0
  03d86	c6 45 f8 27	 mov	 BYTE PTR _Send2$[ebp+4], 39 ; 00000027H
  03d8a	c6 45 f9 00	 mov	 BYTE PTR _Send2$[ebp+5], 0

; 2266 : 			BYTE Send[71] = {0xC2,0x00,71,0x31,0x00,5,                                       // Head

  03d8e	c6 45 ac c2	 mov	 BYTE PTR _Send$[ebp], 194 ; 000000c2H
  03d92	c6 45 ad 00	 mov	 BYTE PTR _Send$[ebp+1], 0
  03d96	c6 45 ae 47	 mov	 BYTE PTR _Send$[ebp+2], 71 ; 00000047H
  03d9a	c6 45 af 31	 mov	 BYTE PTR _Send$[ebp+3], 49 ; 00000031H
  03d9e	c6 45 b0 00	 mov	 BYTE PTR _Send$[ebp+4], 0
  03da2	c6 45 b1 05	 mov	 BYTE PTR _Send$[ebp+5], 5

; 2267 : 							0x00,71,0x00,0x01,0x00,0x00,13*16,0x00,0xFF,0xFF,0xFF,0xFF,0xFF, // ITEM1

  03da6	c6 45 b2 00	 mov	 BYTE PTR _Send$[ebp+6], 0
  03daa	c6 45 b3 47	 mov	 BYTE PTR _Send$[ebp+7], 71 ; 00000047H
  03dae	c6 45 b4 00	 mov	 BYTE PTR _Send$[ebp+8], 0
  03db2	c6 45 b5 01	 mov	 BYTE PTR _Send$[ebp+9], 1
  03db6	c6 45 b6 00	 mov	 BYTE PTR _Send$[ebp+10], 0
  03dba	c6 45 b7 00	 mov	 BYTE PTR _Send$[ebp+11], 0
  03dbe	c6 45 b8 d0	 mov	 BYTE PTR _Send$[ebp+12], 208 ; 000000d0H
  03dc2	c6 45 b9 00	 mov	 BYTE PTR _Send$[ebp+13], 0
  03dc6	c6 45 ba ff	 mov	 BYTE PTR _Send$[ebp+14], 255 ; 000000ffH
  03dca	c6 45 bb ff	 mov	 BYTE PTR _Send$[ebp+15], 255 ; 000000ffH
  03dce	c6 45 bc ff	 mov	 BYTE PTR _Send$[ebp+16], 255 ; 000000ffH
  03dd2	c6 45 bd ff	 mov	 BYTE PTR _Send$[ebp+17], 255 ; 000000ffH
  03dd6	c6 45 be ff	 mov	 BYTE PTR _Send$[ebp+18], 255 ; 000000ffH

; 2268 : 							0x02,72,0x00,0x01,0x00,0x00,13*16,0x00,0xFF,0xFF,0xFF,0xFF,0xFF, // ITEM2

  03dda	c6 45 bf 02	 mov	 BYTE PTR _Send$[ebp+19], 2
  03dde	c6 45 c0 48	 mov	 BYTE PTR _Send$[ebp+20], 72 ; 00000048H
  03de2	c6 45 c1 00	 mov	 BYTE PTR _Send$[ebp+21], 0
  03de6	c6 45 c2 01	 mov	 BYTE PTR _Send$[ebp+22], 1
  03dea	c6 45 c3 00	 mov	 BYTE PTR _Send$[ebp+23], 0
  03dee	c6 45 c4 00	 mov	 BYTE PTR _Send$[ebp+24], 0
  03df2	c6 45 c5 d0	 mov	 BYTE PTR _Send$[ebp+25], 208 ; 000000d0H
  03df6	c6 45 c6 00	 mov	 BYTE PTR _Send$[ebp+26], 0
  03dfa	c6 45 c7 ff	 mov	 BYTE PTR _Send$[ebp+27], 255 ; 000000ffH
  03dfe	c6 45 c8 ff	 mov	 BYTE PTR _Send$[ebp+28], 255 ; 000000ffH
  03e02	c6 45 c9 ff	 mov	 BYTE PTR _Send$[ebp+29], 255 ; 000000ffH
  03e06	c6 45 ca ff	 mov	 BYTE PTR _Send$[ebp+30], 255 ; 000000ffH
  03e0a	c6 45 cb ff	 mov	 BYTE PTR _Send$[ebp+31], 255 ; 000000ffH

; 2269 : 							0x04,73,0x00,0x01,0x00,0x00,13*16,0x00,0xFF,0xFF,0xFF,0xFF,0xFF, // ITEM3

  03e0e	c6 45 cc 04	 mov	 BYTE PTR _Send$[ebp+32], 4
  03e12	c6 45 cd 49	 mov	 BYTE PTR _Send$[ebp+33], 73 ; 00000049H
  03e16	c6 45 ce 00	 mov	 BYTE PTR _Send$[ebp+34], 0
  03e1a	c6 45 cf 01	 mov	 BYTE PTR _Send$[ebp+35], 1
  03e1e	c6 45 d0 00	 mov	 BYTE PTR _Send$[ebp+36], 0
  03e22	c6 45 d1 00	 mov	 BYTE PTR _Send$[ebp+37], 0
  03e26	c6 45 d2 d0	 mov	 BYTE PTR _Send$[ebp+38], 208 ; 000000d0H
  03e2a	c6 45 d3 00	 mov	 BYTE PTR _Send$[ebp+39], 0
  03e2e	c6 45 d4 ff	 mov	 BYTE PTR _Send$[ebp+40], 255 ; 000000ffH
  03e32	c6 45 d5 ff	 mov	 BYTE PTR _Send$[ebp+41], 255 ; 000000ffH
  03e36	c6 45 d6 ff	 mov	 BYTE PTR _Send$[ebp+42], 255 ; 000000ffH
  03e3a	c6 45 d7 ff	 mov	 BYTE PTR _Send$[ebp+43], 255 ; 000000ffH
  03e3e	c6 45 d8 ff	 mov	 BYTE PTR _Send$[ebp+44], 255 ; 000000ffH

; 2270 : 							0x06,74,0x00,0x01,0x00,0x00,13*16,0x00,0xFF,0xFF,0xFF,0xFF,0xFF, // ITEM4

  03e42	c6 45 d9 06	 mov	 BYTE PTR _Send$[ebp+45], 6
  03e46	c6 45 da 4a	 mov	 BYTE PTR _Send$[ebp+46], 74 ; 0000004aH
  03e4a	c6 45 db 00	 mov	 BYTE PTR _Send$[ebp+47], 0
  03e4e	c6 45 dc 01	 mov	 BYTE PTR _Send$[ebp+48], 1
  03e52	c6 45 dd 00	 mov	 BYTE PTR _Send$[ebp+49], 0
  03e56	c6 45 de 00	 mov	 BYTE PTR _Send$[ebp+50], 0
  03e5a	c6 45 df d0	 mov	 BYTE PTR _Send$[ebp+51], 208 ; 000000d0H
  03e5e	c6 45 e0 00	 mov	 BYTE PTR _Send$[ebp+52], 0
  03e62	c6 45 e1 ff	 mov	 BYTE PTR _Send$[ebp+53], 255 ; 000000ffH
  03e66	c6 45 e2 ff	 mov	 BYTE PTR _Send$[ebp+54], 255 ; 000000ffH
  03e6a	c6 45 e3 ff	 mov	 BYTE PTR _Send$[ebp+55], 255 ; 000000ffH
  03e6e	c6 45 e4 ff	 mov	 BYTE PTR _Send$[ebp+56], 255 ; 000000ffH
  03e72	c6 45 e5 ff	 mov	 BYTE PTR _Send$[ebp+57], 255 ; 000000ffH

; 2271 : 							0x18,75,0x00,0x01,0x00,0x00,13*16,0x00,0xFF,0xFF,0xFF,0xFF,0xFF  // ITEM5

  03e76	c6 45 e6 18	 mov	 BYTE PTR _Send$[ebp+58], 24 ; 00000018H
  03e7a	c6 45 e7 4b	 mov	 BYTE PTR _Send$[ebp+59], 75 ; 0000004bH
  03e7e	c6 45 e8 00	 mov	 BYTE PTR _Send$[ebp+60], 0
  03e82	c6 45 e9 01	 mov	 BYTE PTR _Send$[ebp+61], 1
  03e86	c6 45 ea 00	 mov	 BYTE PTR _Send$[ebp+62], 0
  03e8a	c6 45 eb 00	 mov	 BYTE PTR _Send$[ebp+63], 0
  03e8e	c6 45 ec d0	 mov	 BYTE PTR _Send$[ebp+64], 208 ; 000000d0H
  03e92	c6 45 ed 00	 mov	 BYTE PTR _Send$[ebp+65], 0
  03e96	c6 45 ee ff	 mov	 BYTE PTR _Send$[ebp+66], 255 ; 000000ffH
  03e9a	c6 45 ef ff	 mov	 BYTE PTR _Send$[ebp+67], 255 ; 000000ffH
  03e9e	c6 45 f0 ff	 mov	 BYTE PTR _Send$[ebp+68], 255 ; 000000ffH
  03ea2	c6 45 f1 ff	 mov	 BYTE PTR _Send$[ebp+69], 255 ; 000000ffH

; 2272 : 							};

  03ea6	c6 45 f2 ff	 mov	 BYTE PTR _Send$[ebp+70], 255 ; 000000ffH

; 2273 : 
; 2274 : 							DataSend(lpObj->m_Index,Send2,6);

  03eaa	6a 06		 push	 6
  03eac	8d 45 f4	 lea	 eax, DWORD PTR _Send2$[ebp]
  03eaf	50		 push	 eax
  03eb0	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03eb3	8b 11		 mov	 edx, DWORD PTR [ecx]
  03eb5	52		 push	 edx
  03eb6	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03ebb	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2275 : 							DataSend(lpObj->m_Index,Send,71);

  03ebe	6a 47		 push	 71			; 00000047H
  03ec0	8d 45 ac	 lea	 eax, DWORD PTR _Send$[ebp]
  03ec3	50		 push	 eax
  03ec4	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03ec7	8b 11		 mov	 edx, DWORD PTR [ecx]
  03ec9	52		 push	 edx
  03eca	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03ecf	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2276 : 
; 2277 : 							lpObj->TargetShopNumber = 492;

  03ed2	b8 ec 01 00 00	 mov	 eax, 492		; 000001ecH
  03ed7	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03eda	66 89 81 5a 04
	00 00		 mov	 WORD PTR [ecx+1114], ax

; 2278 : 							lpObj->m_IfState.use    = 1;

  03ee1	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03ee4	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  03eea	83 e1 fc	 and	 ecx, -4			; fffffffcH
  03eed	83 c9 01	 or	 ecx, 1
  03ef0	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03ef3	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 2279 : 							lpObj->m_IfState.type   = 3;

  03ef9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03efc	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  03f02	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  03f08	81 c9 c0 00 00
	00		 or	 ecx, 192		; 000000c0H
  03f0e	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03f11	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 2280 : 
; 2281 : 	return true;

  03f17	b0 01		 mov	 al, 1

; 2282 : }

  03f19	5f		 pop	 edi
  03f1a	5e		 pop	 esi
  03f1b	5b		 pop	 ebx
  03f1c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  03f1f	33 cd		 xor	 ecx, ebp
  03f21	e8 00 00 00 00	 call	 @__security_check_cookie@4
  03f26	8b e5		 mov	 esp, ebp
  03f28	5d		 pop	 ebp
  03f29	c3		 ret	 0
?NpcMoss@@YA_NPAUOBJECTSTRUCT@@0@Z ENDP			; NpcMoss
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	?PHeadSetBE@@YAXPAEEH@Z:PROC			; PHeadSetBE
EXTRN	?gObjIsConnected@@YAHPAUOBJECTSTRUCT@@@Z:PROC	; gObjIsConnected
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pResult$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcJuliaTalk@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcJuliaTalk

; 2284 : {

  03f30	55		 push	 ebp
  03f31	8b ec		 mov	 ebp, esp
  03f33	83 ec 50	 sub	 esp, 80			; 00000050H
  03f36	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  03f3b	33 c5		 xor	 eax, ebp
  03f3d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03f40	53		 push	 ebx
  03f41	56		 push	 esi
  03f42	57		 push	 edi

; 2285 : 	if (!gObjIsConnected(lpObj)) return TRUE;

  03f43	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03f46	50		 push	 eax
  03f47	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHPAUOBJECTSTRUCT@@@Z ; gObjIsConnected
  03f4c	83 c4 04	 add	 esp, 4
  03f4f	85 c0		 test	 eax, eax
  03f51	75 07		 jne	 SHORT $LN1@NpcJuliaTa
  03f53	b8 01 00 00 00	 mov	 eax, 1
  03f58	eb 31		 jmp	 SHORT $LN2@NpcJuliaTa
$LN1@NpcJuliaTa:

; 2286 : 
; 2287 : 	PMSG_TALKRESULT pResult;
; 2288 : 	PHeadSetBE((LPBYTE)&pResult, 0x30, 0x0B);

  03f5a	6a 0b		 push	 11			; 0000000bH
  03f5c	6a 30		 push	 48			; 00000030H
  03f5e	8d 45 f0	 lea	 eax, DWORD PTR _pResult$[ebp]
  03f61	50		 push	 eax
  03f62	e8 00 00 00 00	 call	 ?PHeadSetBE@@YAXPAEEH@Z	; PHeadSetBE
  03f67	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2289 : 	pResult.result = 0x25;

  03f6a	c6 45 f3 25	 mov	 BYTE PTR _pResult$[ebp+3], 37 ; 00000025H

; 2290 : 	pResult.level1 = 0;

  03f6e	c6 45 f4 00	 mov	 BYTE PTR _pResult$[ebp+4], 0

; 2291 : 	DataSend(lpObj->m_Index, (LPBYTE)&pResult, 0x0B);

  03f72	6a 0b		 push	 11			; 0000000bH
  03f74	8d 45 f0	 lea	 eax, DWORD PTR _pResult$[ebp]
  03f77	50		 push	 eax
  03f78	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03f7b	8b 11		 mov	 edx, DWORD PTR [ecx]
  03f7d	52		 push	 edx
  03f7e	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03f83	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2292 : 
; 2293 : 	return TRUE;

  03f86	b8 01 00 00 00	 mov	 eax, 1
$LN2@NpcJuliaTa:

; 2294 : }

  03f8b	5f		 pop	 edi
  03f8c	5e		 pop	 esi
  03f8d	5b		 pop	 ebx
  03f8e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  03f91	33 cd		 xor	 ecx, ebp
  03f93	e8 00 00 00 00	 call	 @__security_check_cookie@4
  03f98	8b e5		 mov	 esp, ebp
  03f9a	5d		 pop	 ebp
  03f9b	c3		 ret	 0
?NpcJuliaTalk@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcJuliaTalk
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	?GetEventTime@CDoppelGanger@@QAEDPAUOBJECTSTRUCT@@@Z:PROC ; CDoppelGanger::GetEventTime
EXTRN	?g_DoppelGanger@@3VCDoppelGanger@@A:BYTE	; g_DoppelGanger
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?SartigantheAngel@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; SartigantheAngel

; 2296 : {

  03fa0	55		 push	 ebp
  03fa1	8b ec		 mov	 ebp, esp
  03fa3	83 ec 50	 sub	 esp, 80			; 00000050H
  03fa6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  03fab	33 c5		 xor	 eax, ebp
  03fad	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03fb0	53		 push	 ebx
  03fb1	56		 push	 esi
  03fb2	57		 push	 edi

; 2297 : 
; 2298 : 	PMSG_TALKRESULT pMsg;
; 2299 : 	PHeadSetBE((LPBYTE)&pMsg, 0x30, sizeof(pMsg));

  03fb3	6a 0b		 push	 11			; 0000000bH
  03fb5	6a 30		 push	 48			; 00000030H
  03fb7	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  03fba	50		 push	 eax
  03fbb	e8 00 00 00 00	 call	 ?PHeadSetBE@@YAXPAEEH@Z	; PHeadSetBE
  03fc0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2300 : 	pMsg.result = 0x23;

  03fc3	c6 45 f3 23	 mov	 BYTE PTR _pMsg$[ebp+3], 35 ; 00000023H

; 2301 : 	pMsg.level1 = ((g_DoppelGanger.GetEventTime(lpObj)/1000)/10/60);

  03fc7	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03fca	50		 push	 eax
  03fcb	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DoppelGanger@@3VCDoppelGanger@@A ; g_DoppelGanger
  03fd0	e8 00 00 00 00	 call	 ?GetEventTime@CDoppelGanger@@QAEDPAUOBJECTSTRUCT@@@Z ; CDoppelGanger::GetEventTime
  03fd5	0f be c0	 movsx	 eax, al
  03fd8	99		 cdq
  03fd9	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  03fde	f7 f9		 idiv	 ecx
  03fe0	99		 cdq
  03fe1	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  03fe6	f7 f9		 idiv	 ecx
  03fe8	99		 cdq
  03fe9	b9 3c 00 00 00	 mov	 ecx, 60			; 0000003cH
  03fee	f7 f9		 idiv	 ecx
  03ff0	88 45 f4	 mov	 BYTE PTR _pMsg$[ebp+4], al

; 2302 : 	pMsg.level2 = ((g_DoppelGanger.GetEventTime(lpObj)/1000)/10%60);

  03ff3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03ff6	50		 push	 eax
  03ff7	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DoppelGanger@@3VCDoppelGanger@@A ; g_DoppelGanger
  03ffc	e8 00 00 00 00	 call	 ?GetEventTime@CDoppelGanger@@QAEDPAUOBJECTSTRUCT@@@Z ; CDoppelGanger::GetEventTime
  04001	0f be c0	 movsx	 eax, al
  04004	99		 cdq
  04005	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0400a	f7 f9		 idiv	 ecx
  0400c	99		 cdq
  0400d	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  04012	f7 f9		 idiv	 ecx
  04014	99		 cdq
  04015	b9 3c 00 00 00	 mov	 ecx, 60			; 0000003cH
  0401a	f7 f9		 idiv	 ecx
  0401c	88 55 f5	 mov	 BYTE PTR _pMsg$[ebp+5], dl

; 2303 : 	lpObj->TargetShopNumber = 540;

  0401f	b8 1c 02 00 00	 mov	 eax, 540		; 0000021cH
  04024	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04027	66 89 81 5a 04
	00 00		 mov	 WORD PTR [ecx+1114], ax

; 2304 : 	DataSend(lpObj->m_Index, (LPBYTE)&pMsg, sizeof(pMsg));////5

  0402e	6a 0b		 push	 11			; 0000000bH
  04030	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04033	50		 push	 eax
  04034	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04037	8b 11		 mov	 edx, DWORD PTR [ecx]
  04039	52		 push	 edx
  0403a	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0403f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2305 : 	return true;

  04042	b8 01 00 00 00	 mov	 eax, 1

; 2306 : }

  04047	5f		 pop	 edi
  04048	5e		 pop	 esi
  04049	5b		 pop	 ebx
  0404a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0404d	33 cd		 xor	 ecx, ebp
  0404f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  04054	8b e5		 mov	 esp, ebp
  04056	5d		 pop	 ebp
  04057	c3		 ret	 0
?SartigantheAngel@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; SartigantheAngel
_TEXT	ENDS
EXTRN	?SilverChestOpen@CDoppelGanger@@QAEXPAUOBJECTSTRUCT@@@Z:PROC ; CDoppelGanger::SilverChestOpen
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcSilverBox@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcSilverBox

; 2308 : {

  04060	55		 push	 ebp
  04061	8b ec		 mov	 ebp, esp
  04063	83 ec 40	 sub	 esp, 64			; 00000040H
  04066	53		 push	 ebx
  04067	56		 push	 esi
  04068	57		 push	 edi

; 2309 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  04069	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0406c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0406e	51		 push	 ecx
  0406f	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  04074	83 c4 04	 add	 esp, 4
  04077	85 c0		 test	 eax, eax
  04079	75 07		 jne	 SHORT $LN1@NpcSilverB

; 2310 : 	{
; 2311 : 		return TRUE;

  0407b	b8 01 00 00 00	 mov	 eax, 1
  04080	eb 13		 jmp	 SHORT $LN2@NpcSilverB
$LN1@NpcSilverB:

; 2312 : 	}
; 2313 : 
; 2314 : 	g_DoppelGanger.SilverChestOpen(lpNpc);

  04082	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  04085	50		 push	 eax
  04086	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DoppelGanger@@3VCDoppelGanger@@A ; g_DoppelGanger
  0408b	e8 00 00 00 00	 call	 ?SilverChestOpen@CDoppelGanger@@QAEXPAUOBJECTSTRUCT@@@Z ; CDoppelGanger::SilverChestOpen

; 2315 : 	return true;

  04090	b8 01 00 00 00	 mov	 eax, 1
$LN2@NpcSilverB:

; 2316 : }

  04095	5f		 pop	 edi
  04096	5e		 pop	 esi
  04097	5b		 pop	 ebx
  04098	8b e5		 mov	 esp, ebp
  0409a	5d		 pop	 ebp
  0409b	c3		 ret	 0
?NpcSilverBox@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcSilverBox
_TEXT	ENDS
EXTRN	?BoxClick@cPandoraBoxEvent@@QAE_NPAUOBJECTSTRUCT@@0@Z:PROC ; cPandoraBoxEvent::BoxClick
EXTRN	?gPandoraBoxEvent@@3VcPandoraBoxEvent@@A:BYTE	; gPandoraBoxEvent
EXTRN	?gObjDel@@YAFH@Z:PROC				; gObjDel
EXTRN	?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z:PROC	; ItemSerialCreateSend
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv74 = -68						; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcGoldBox@@YAHPAUOBJECTSTRUCT@@0@Z PROC		; NpcGoldBox

; 2318 : {

  040a0	55		 push	 ebp
  040a1	8b ec		 mov	 ebp, esp
  040a3	83 ec 44	 sub	 esp, 68			; 00000044H
  040a6	53		 push	 ebx
  040a7	56		 push	 esi
  040a8	57		 push	 edi

; 2319 : 	if ( gObjIsConnected(lpObj->m_Index) == FALSE )

  040a9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  040ac	8b 08		 mov	 ecx, DWORD PTR [eax]
  040ae	51		 push	 ecx
  040af	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  040b4	83 c4 04	 add	 esp, 4
  040b7	85 c0		 test	 eax, eax
  040b9	75 0a		 jne	 SHORT $LN4@NpcGoldBox

; 2320 : 	{
; 2321 : 		return TRUE;

  040bb	b8 01 00 00 00	 mov	 eax, 1
  040c0	e9 03 01 00 00	 jmp	 $LN5@NpcGoldBox
$LN4@NpcGoldBox:

; 2322 : 	}
; 2323 : 
; 2324 : 	if(DG_MAP_RANGE(lpNpc->MapNumber))

  040c5	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  040c8	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  040cf	83 f9 41	 cmp	 ecx, 65			; 00000041H
  040d2	7d 09		 jge	 SHORT $LN7@NpcGoldBox
  040d4	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv74[ebp], 0
  040db	eb 15		 jmp	 SHORT $LN8@NpcGoldBox
$LN7@NpcGoldBox:
  040dd	8b 55 08	 mov	 edx, DWORD PTR _lpNpc$[ebp]
  040e0	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  040e7	33 c9		 xor	 ecx, ecx
  040e9	83 f8 44	 cmp	 eax, 68			; 00000044H
  040ec	0f 9e c1	 setle	 cl
  040ef	89 4d bc	 mov	 DWORD PTR tv74[ebp], ecx
$LN8@NpcGoldBox:
  040f2	83 7d bc 00	 cmp	 DWORD PTR tv74[ebp], 0
  040f6	0f 84 a7 00 00
	00		 je	 $LN3@NpcGoldBox

; 2325 : 	{
; 2326 : 		ItemSerialCreateSend(lpObj->m_Index,lpObj->MapNumber,lpObj->X,lpObj->Y,ITEMGET(14,16),0,1,0,0,0,lpObj->m_Index,0,0);

  040fc	6a 00		 push	 0
  040fe	6a 00		 push	 0
  04100	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04103	8b 08		 mov	 ecx, DWORD PTR [eax]
  04105	51		 push	 ecx
  04106	6a 00		 push	 0
  04108	6a 00		 push	 0
  0410a	6a 00		 push	 0
  0410c	6a 01		 push	 1
  0410e	6a 00		 push	 0
  04110	68 10 1c 00 00	 push	 7184			; 00001c10H
  04115	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04118	0f b6 82 46 01
	00 00		 movzx	 eax, BYTE PTR [edx+326]
  0411f	50		 push	 eax
  04120	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04123	0f b6 91 44 01
	00 00		 movzx	 edx, BYTE PTR [ecx+324]
  0412a	52		 push	 edx
  0412b	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0412e	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  04135	51		 push	 ecx
  04136	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04139	8b 02		 mov	 eax, DWORD PTR [edx]
  0413b	50		 push	 eax
  0413c	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  04141	83 c4 34	 add	 esp, 52			; 00000034H

; 2327 : 		ItemSerialCreateSend(lpObj->m_Index,lpObj->MapNumber,lpObj->X,lpObj->Y,ITEMGET(14,13),0,1,0,0,0,lpObj->m_Index,0,0);

  04144	6a 00		 push	 0
  04146	6a 00		 push	 0
  04148	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0414b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0414d	51		 push	 ecx
  0414e	6a 00		 push	 0
  04150	6a 00		 push	 0
  04152	6a 00		 push	 0
  04154	6a 01		 push	 1
  04156	6a 00		 push	 0
  04158	68 0d 1c 00 00	 push	 7181			; 00001c0dH
  0415d	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04160	0f b6 82 46 01
	00 00		 movzx	 eax, BYTE PTR [edx+326]
  04167	50		 push	 eax
  04168	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0416b	0f b6 91 44 01
	00 00		 movzx	 edx, BYTE PTR [ecx+324]
  04172	52		 push	 edx
  04173	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04176	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0417d	51		 push	 ecx
  0417e	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04181	8b 02		 mov	 eax, DWORD PTR [edx]
  04183	50		 push	 eax
  04184	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  04189	83 c4 34	 add	 esp, 52			; 00000034H

; 2328 : 		gObjDel(lpNpc->m_Index);

  0418c	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0418f	8b 08		 mov	 ecx, DWORD PTR [eax]
  04191	51		 push	 ecx
  04192	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  04197	83 c4 04	 add	 esp, 4

; 2329 : 		return true;

  0419a	b8 01 00 00 00	 mov	 eax, 1
  0419f	eb 27		 jmp	 SHORT $LN5@NpcGoldBox

; 2330 : 	}
; 2331 : 	else

  041a1	eb 20		 jmp	 SHORT $LN2@NpcGoldBox
$LN3@NpcGoldBox:

; 2332 : 	{
; 2333 : 		#ifdef PANDORA_EVENT
; 2334 : 		if(gPandoraBoxEvent.BoxClick(lpNpc, lpObj))

  041a3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  041a6	50		 push	 eax
  041a7	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  041aa	51		 push	 ecx
  041ab	b9 00 00 00 00	 mov	 ecx, OFFSET ?gPandoraBoxEvent@@3VcPandoraBoxEvent@@A ; gPandoraBoxEvent
  041b0	e8 00 00 00 00	 call	 ?BoxClick@cPandoraBoxEvent@@QAE_NPAUOBJECTSTRUCT@@0@Z ; cPandoraBoxEvent::BoxClick
  041b5	0f b6 d0	 movzx	 edx, al
  041b8	85 d2		 test	 edx, edx
  041ba	74 07		 je	 SHORT $LN2@NpcGoldBox

; 2335 : 		{
; 2336 : 			return true;

  041bc	b8 01 00 00 00	 mov	 eax, 1
  041c1	eb 05		 jmp	 SHORT $LN5@NpcGoldBox
$LN2@NpcGoldBox:

; 2337 : 		}
; 2338 : 		#endif
; 2339 : 	}
; 2340 : 	
; 2341 : 	return true;

  041c3	b8 01 00 00 00	 mov	 eax, 1
$LN5@NpcGoldBox:

; 2342 : }

  041c8	5f		 pop	 edi
  041c9	5e		 pop	 esi
  041ca	5b		 pop	 ebx
  041cb	8b e5		 mov	 esp, ebp
  041cd	5d		 pop	 ebp
  041ce	c3		 ret	 0
?NpcGoldBox@@YAHPAUOBJECTSTRUCT@@0@Z ENDP		; NpcGoldBox
_TEXT	ENDS
PUBLIC	__$ArrayPad$
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcJerint@@YA_NPAUOBJECTSTRUCT@@0@Z PROC		; NpcJerint

; 2345 : {

  041d0	55		 push	 ebp
  041d1	8b ec		 mov	 ebp, esp
  041d3	83 ec 50	 sub	 esp, 80			; 00000050H
  041d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  041db	33 c5		 xor	 eax, ebp
  041dd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  041e0	53		 push	 ebx
  041e1	56		 push	 esi
  041e2	57		 push	 edi

; 2346 : 	if (!gObjIsConnected(lpObj)) return TRUE;

  041e3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  041e6	50		 push	 eax
  041e7	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHPAUOBJECTSTRUCT@@@Z ; gObjIsConnected
  041ec	83 c4 04	 add	 esp, 4
  041ef	85 c0		 test	 eax, eax
  041f1	75 04		 jne	 SHORT $LN1@NpcJerint
  041f3	b0 01		 mov	 al, 1
  041f5	eb 3d		 jmp	 SHORT $LN2@NpcJerint
$LN1@NpcJerint:

; 2347 : 	PMSG_TALKRESULT pMsg;
; 2348 : 	PHeadSetBE((LPBYTE)&pMsg, 0x30, 5);

  041f7	6a 05		 push	 5
  041f9	6a 30		 push	 48			; 00000030H
  041fb	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  041fe	50		 push	 eax
  041ff	e8 00 00 00 00	 call	 ?PHeadSetBE@@YAXPAEEH@Z	; PHeadSetBE
  04204	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2349 : 	pMsg.result = 0x24;

  04207	c6 45 f3 24	 mov	 BYTE PTR _pMsg$[ebp+3], 36 ; 00000024H

; 2350 : 	pMsg.level1 = 0;

  0420b	c6 45 f4 00	 mov	 BYTE PTR _pMsg$[ebp+4], 0

; 2351 : 	lpObj->TargetShopNumber = 522;

  0420f	b8 0a 02 00 00	 mov	 eax, 522		; 0000020aH
  04214	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04217	66 89 81 5a 04
	00 00		 mov	 WORD PTR [ecx+1114], ax

; 2352 : 	DataSend(lpObj->m_Index, (LPBYTE)&pMsg, 5);

  0421e	6a 05		 push	 5
  04220	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04223	50		 push	 eax
  04224	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04227	8b 11		 mov	 edx, DWORD PTR [ecx]
  04229	52		 push	 edx
  0422a	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0422f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2353 : 	return true;

  04232	b0 01		 mov	 al, 1
$LN2@NpcJerint:

; 2354 : }

  04234	5f		 pop	 edi
  04235	5e		 pop	 esi
  04236	5b		 pop	 ebx
  04237	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0423a	33 cd		 xor	 ecx, ebp
  0423c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  04241	8b e5		 mov	 esp, ebp
  04243	5d		 pop	 ebp
  04244	c3		 ret	 0
?NpcJerint@@YA_NPAUOBJECTSTRUCT@@0@Z ENDP		; NpcJerint
_TEXT	ENDS
PUBLIC	??_C@_0EP@ENIJEGCI@?$FLGensSystem?$FN?5Gens_Vanert_NPC?5?$FL?$CFs@ ; `string'
PUBLIC	??_C@_0FA@MJFPFMDM@?$FLGensSystem?$FN?5Gens_Duprian_NPC?5?$FL?$CF@ ; `string'
PUBLIC	__$ArrayPad$
EXTRN	?GetGensInfluenceName@GensSystem@@QAEPADPAUOBJECTSTRUCT@@@Z:PROC ; GensSystem::GetGensInfluenceName
EXTRN	?GetContributePoint@GensSystem@@QAEHPAUOBJECTSTRUCT@@@Z:PROC ; GensSystem::GetContributePoint
;	COMDAT ??_C@_0EP@ENIJEGCI@?$FLGensSystem?$FN?5Gens_Vanert_NPC?5?$FL?$CFs@
CONST	SEGMENT
??_C@_0EP@ENIJEGCI@?$FLGensSystem?$FN?5Gens_Vanert_NPC?5?$FL?$CFs@ DB '[G'
	DB	'ensSystem] Gens_Vanert_NPC [%s][%s] GensName [%s] Total Contr'
	DB	'ibutePoint [%d]', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0FA@MJFPFMDM@?$FLGensSystem?$FN?5Gens_Duprian_NPC?5?$FL?$CF@
CONST	SEGMENT
??_C@_0FA@MJFPFMDM@?$FLGensSystem?$FN?5Gens_Duprian_NPC?5?$FL?$CF@ DB '[G'
	DB	'ensSystem] Gens_Duprian_NPC [%s][%s] GensName [%s] Total Cont'
	DB	'ributePoint [%d]', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv71 = -88						; size = 4
_GensName$ = -20					; size = 4
_pResult$ = -16						; size = 12
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?Npc_Dialog@@YA_NPAUOBJECTSTRUCT@@0@Z PROC		; Npc_Dialog

; 2357 : {

  04250	55		 push	 ebp
  04251	8b ec		 mov	 ebp, esp
  04253	83 ec 58	 sub	 esp, 88			; 00000058H
  04256	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0425b	33 c5		 xor	 eax, ebp
  0425d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  04260	53		 push	 ebx
  04261	56		 push	 esi
  04262	57		 push	 edi

; 2358 : 	PMSG_ANS_DIG_NPC_CLICK pResult;
; 2359 : 	// ----
; 2360 : 	char * GensName;
; 2361 : 	// ----
; 2362 : 	if( gObjIsConnected(lpObj->m_Index) )

  04263	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04266	8b 08		 mov	 ecx, DWORD PTR [eax]
  04268	51		 push	 ecx
  04269	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  0426e	83 c4 04	 add	 esp, 4
  04271	85 c0		 test	 eax, eax
  04273	0f 84 53 01 00
	00		 je	 $LN9@Npc_Dialog

; 2363 : 	{
; 2364 : 		lpObj->TargetShopNumber = lpNpc->Class;

  04279	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0427c	8b 4d 08	 mov	 ecx, DWORD PTR _lpNpc$[ebp]
  0427f	66 8b 91 b8 00
	00 00		 mov	 dx, WORD PTR [ecx+184]
  04286	66 89 90 5a 04
	00 00		 mov	 WORD PTR [eax+1114], dx

; 2365 : 		// ----
; 2366 : 		switch(lpObj->TargetShopNumber) // Not original, but easier

  0428d	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04290	0f bf 88 5a 04
	00 00		 movsx	 ecx, WORD PTR [eax+1114]
  04297	89 4d a8	 mov	 DWORD PTR tv71[ebp], ecx
  0429a	81 7d a8 20 02
	00 00		 cmp	 DWORD PTR tv71[ebp], 544 ; 00000220H
  042a1	7f 28		 jg	 SHORT $LN12@Npc_Dialog
  042a3	81 7d a8 20 02
	00 00		 cmp	 DWORD PTR tv71[ebp], 544 ; 00000220H
  042aa	0f 84 8b 00 00
	00		 je	 $LN4@Npc_Dialog
  042b0	81 7d a8 01 01
	00 00		 cmp	 DWORD PTR tv71[ebp], 257 ; 00000101H
  042b7	0f 84 cf 00 00
	00		 je	 $LN2@Npc_Dialog
  042bd	81 7d a8 1f 02
	00 00		 cmp	 DWORD PTR tv71[ebp], 543 ; 0000021fH
  042c4	74 24		 je	 SHORT $LN6@Npc_Dialog
  042c6	e9 c8 00 00 00	 jmp	 $LN1@Npc_Dialog
$LN12@Npc_Dialog:
  042cb	81 7d a8 36 02
	00 00		 cmp	 DWORD PTR tv71[ebp], 566 ; 00000236H
  042d2	0f 8c bb 00 00
	00		 jl	 $LN1@Npc_Dialog
  042d8	81 7d a8 38 02
	00 00		 cmp	 DWORD PTR tv71[ebp], 568 ; 00000238H
  042df	0f 8e a7 00 00
	00		 jle	 $LN2@Npc_Dialog
  042e5	e9 a9 00 00 00	 jmp	 $LN1@Npc_Dialog
$LN6@Npc_Dialog:

; 2367 : 		{
; 2368 : //#ifdef GENS
; 2369 : 		case 543:
; 2370 : 			{
; 2371 : 				if(gGENS)

  042ea	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gGENS@@3HA, 0 ; gGENS
  042f1	74 46		 je	 SHORT $LN5@Npc_Dialog

; 2372 : 				{
; 2373 : 					pResult.dwContributePoint	= gGensSystem.GetContributePoint(lpObj);

  042f3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  042f6	50		 push	 eax
  042f7	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  042fc	e8 00 00 00 00	 call	 ?GetContributePoint@GensSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; GensSystem::GetContributePoint
  04301	89 45 f8	 mov	 DWORD PTR _pResult$[ebp+8], eax

; 2374 : 					GensName					= gGensSystem.GetGensInfluenceName(lpObj);

  04304	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04307	50		 push	 eax
  04308	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  0430d	e8 00 00 00 00	 call	 ?GetGensInfluenceName@GensSystem@@QAEPADPAUOBJECTSTRUCT@@@Z ; GensSystem::GetGensInfluenceName
  04312	89 45 ec	 mov	 DWORD PTR _GensName$[ebp], eax

; 2375 : 					// ----
; 2376 : 					LogAddTD("[GensSystem] Gens_Duprian_NPC [%s][%s] GensName [%s] Total ContributePoint [%d]",
; 2377 : 						lpObj->AccountID, lpObj->Name, GensName, pResult.dwContributePoint);

  04315	8b 45 f8	 mov	 eax, DWORD PTR _pResult$[ebp+8]
  04318	50		 push	 eax
  04319	8b 4d ec	 mov	 ecx, DWORD PTR _GensName$[ebp]
  0431c	51		 push	 ecx
  0431d	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04320	83 c2 77	 add	 edx, 119		; 00000077H
  04323	52		 push	 edx
  04324	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04327	83 c0 6c	 add	 eax, 108		; 0000006cH
  0432a	50		 push	 eax
  0432b	68 00 00 00 00	 push	 OFFSET ??_C@_0FA@MJFPFMDM@?$FLGensSystem?$FN?5Gens_Duprian_NPC?5?$FL?$CF@
  04330	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04336	83 c4 14	 add	 esp, 20			; 00000014H
$LN5@Npc_Dialog:

; 2378 : 				}
; 2379 : 			}
; 2380 : 			break;

  04339	eb 58		 jmp	 SHORT $LN1@Npc_Dialog
$LN4@Npc_Dialog:

; 2381 : 			// --
; 2382 : 		case 544:
; 2383 : 			{
; 2384 : 				if(gGENS)

  0433b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gGENS@@3HA, 0 ; gGENS
  04342	74 46		 je	 SHORT $LN3@Npc_Dialog

; 2385 : 				{
; 2386 : 					pResult.dwContributePoint	= gGensSystem.GetContributePoint(lpObj);

  04344	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04347	50		 push	 eax
  04348	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  0434d	e8 00 00 00 00	 call	 ?GetContributePoint@GensSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; GensSystem::GetContributePoint
  04352	89 45 f8	 mov	 DWORD PTR _pResult$[ebp+8], eax

; 2387 : 					GensName					= gGensSystem.GetGensInfluenceName(lpObj);

  04355	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04358	50		 push	 eax
  04359	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  0435e	e8 00 00 00 00	 call	 ?GetGensInfluenceName@GensSystem@@QAEPADPAUOBJECTSTRUCT@@@Z ; GensSystem::GetGensInfluenceName
  04363	89 45 ec	 mov	 DWORD PTR _GensName$[ebp], eax

; 2388 : 					// ----
; 2389 : 					LogAddTD("[GensSystem] Gens_Vanert_NPC [%s][%s] GensName [%s] Total ContributePoint [%d]",
; 2390 : 						lpObj->AccountID, lpObj->Name, GensName, pResult.dwContributePoint);

  04366	8b 45 f8	 mov	 eax, DWORD PTR _pResult$[ebp+8]
  04369	50		 push	 eax
  0436a	8b 4d ec	 mov	 ecx, DWORD PTR _GensName$[ebp]
  0436d	51		 push	 ecx
  0436e	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04371	83 c2 77	 add	 edx, 119		; 00000077H
  04374	52		 push	 edx
  04375	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04378	83 c0 6c	 add	 eax, 108		; 0000006cH
  0437b	50		 push	 eax
  0437c	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@ENIJEGCI@?$FLGensSystem?$FN?5Gens_Vanert_NPC?5?$FL?$CFs@
  04381	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04387	83 c4 14	 add	 esp, 20			; 00000014H
$LN3@Npc_Dialog:

; 2391 : 				}
; 2392 : 			}
; 2393 : 			break;

  0438a	eb 07		 jmp	 SHORT $LN1@Npc_Dialog
$LN2@Npc_Dialog:

; 2394 : //#endif
; 2395 : 			// --
; 2396 : 		case 257: case 566:
; 2397 : 		case 567: case 568:
; 2398 : 			{
; 2399 : 				pResult.dwContributePoint = 0;

  0438c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _pResult$[ebp+8], 0
$LN1@Npc_Dialog:

; 2400 : 			}
; 2401 : 			break;
; 2402 : 		}
; 2403 : 		// ----
; 2404 : 		if( lpObj->TargetShopNumber == 568 )
; 2405 : 		{
; 2406 : 			//lpObj->m_IfState._bf0 = lpObj->m_IfState._bf0 & 0xFFFF003F | 0x280;
; 2407 : 			//lpObj->m_IfState._bf0 &= 0xFFFFFFC3u;
; 2408 : 			//lpObj->m_IfState._bf0 = lpObj->m_IfState._bf0 & 0xFFFFFFFC | 1;
; 2409 : 		}
; 2410 : 		// ----
; 2411 : 		pResult.h.c					= 0xC3;

  04393	c6 45 f0 c3	 mov	 BYTE PTR _pResult$[ebp], 195 ; 000000c3H

; 2412 : 		pResult.h.headcode			= 0xF9;

  04397	c6 45 f2 f9	 mov	 BYTE PTR _pResult$[ebp+2], 249 ; 000000f9H

; 2413 : 		pResult.h.subcode			= 1;

  0439b	c6 45 f3 01	 mov	 BYTE PTR _pResult$[ebp+3], 1

; 2414 : 		pResult.h.size				= sizeof(pResult);

  0439f	c6 45 f1 0c	 mov	 BYTE PTR _pResult$[ebp+1], 12 ; 0000000cH

; 2415 : 		pResult.wNPCIndex			= lpObj->TargetShopNumber;

  043a3	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  043a6	66 8b 88 5a 04
	00 00		 mov	 cx, WORD PTR [eax+1114]
  043ad	66 89 4d f4	 mov	 WORD PTR _pResult$[ebp+4], cx

; 2416 : 		// ----
; 2417 : 		DataSend(lpObj->m_Index, (LPBYTE)&pResult, pResult.h.size);

  043b1	0f b6 45 f1	 movzx	 eax, BYTE PTR _pResult$[ebp+1]
  043b5	50		 push	 eax
  043b6	8d 4d f0	 lea	 ecx, DWORD PTR _pResult$[ebp]
  043b9	51		 push	 ecx
  043ba	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  043bd	8b 02		 mov	 eax, DWORD PTR [edx]
  043bf	50		 push	 eax
  043c0	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  043c5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2418 : 		// ----
; 2419 : 		return true;

  043c8	b0 01		 mov	 al, 1
  043ca	eb 02		 jmp	 SHORT $LN10@Npc_Dialog
$LN9@Npc_Dialog:

; 2420 : 	}
; 2421 : 	// ----
; 2422 : 	return true;

  043cc	b0 01		 mov	 al, 1
$LN10@Npc_Dialog:

; 2423 : }

  043ce	5f		 pop	 edi
  043cf	5e		 pop	 esi
  043d0	5b		 pop	 ebx
  043d1	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  043d4	33 cd		 xor	 ecx, ebp
  043d6	e8 00 00 00 00	 call	 @__security_check_cookie@4
  043db	8b e5		 mov	 esp, ebp
  043dd	5d		 pop	 ebp
  043de	c3		 ret	 0
?Npc_Dialog@@YA_NPAUOBJECTSTRUCT@@0@Z ENDP		; Npc_Dialog
_TEXT	ENDS
PUBLIC	??_C@_0CL@GBCGCHBL@?$FLLucky?5Item?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Lucky?5Item@ ; `string'
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0CL@GBCGCHBL@?$FLLucky?5Item?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Lucky?5Item@
CONST	SEGMENT
??_C@_0CL@GBCGCHBL@?$FLLucky?5Item?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Lucky?5Item@ DB '['
	DB	'Lucky Item] [%s][%s] Lucky Item Mix Start', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_pResult$244883 = -16					; size = 11
__$ArrayPad$ = -4					; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NpcDabide@@YA_NPAUOBJECTSTRUCT@@0@Z PROC		; NpcDabide

; 2426 : {

  043e0	55		 push	 ebp
  043e1	8b ec		 mov	 ebp, esp
  043e3	83 ec 50	 sub	 esp, 80			; 00000050H
  043e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  043eb	33 c5		 xor	 eax, ebp
  043ed	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  043f0	53		 push	 ebx
  043f1	56		 push	 esi
  043f2	57		 push	 edi

; 2427 : 	if( bCanChaosBox )

  043f3	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bCanChaosBox@@3HA, 0 ; bCanChaosBox
  043fa	0f 84 0f 01 00
	00		 je	 $LN3@NpcDabide

; 2428 : 	{
; 2429 : 		if( lpObj->m_IfState.use > 0 )

  04400	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04403	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  04409	83 e1 03	 and	 ecx, 3
  0440c	76 07		 jbe	 SHORT $LN2@NpcDabide

; 2430 : 		{
; 2431 : 			return true;

  0440e	b0 01		 mov	 al, 1
  04410	e9 fc 00 00 00	 jmp	 $LN4@NpcDabide
$LN2@NpcDabide:

; 2432 : 		}
; 2433 : 		// ----
; 2434 : 		if( lpObj->m_bPShopOpen )

  04415	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04418	0f b6 88 c4 0e
	00 00		 movzx	 ecx, BYTE PTR [eax+3780]
  0441f	85 c9		 test	 ecx, ecx
  04421	74 43		 je	 SHORT $LN1@NpcDabide

; 2435 : 		{
; 2436 : 			LogAdd("[%s][%s] is Already Opening PShop, ChaosBox Failed", lpObj->AccountID, lpObj->Name);

  04423	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04426	83 c0 77	 add	 eax, 119		; 00000077H
  04429	50		 push	 eax
  0442a	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0442d	83 c1 6c	 add	 ecx, 108		; 0000006cH
  04430	51		 push	 ecx
  04431	68 00 00 00 00	 push	 OFFSET ??_C@_0DD@KJEEOOOJ@?$FL?$CFs?$FN?$FL?$CFs?$FN?5is?5Already?5Opening?5PSho@
  04436	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0443c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2437 : 			GCServerMsgStringSend(lMsg.Get(MSGGET(4,194)), lpObj->m_Index, 1);

  0443f	6a 01		 push	 1
  04441	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04444	8b 08		 mov	 ecx, DWORD PTR [eax]
  04446	51		 push	 ecx
  04447	68 c2 04 00 00	 push	 1218			; 000004c2H
  0444c	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  04451	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  04456	50		 push	 eax
  04457	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  0445c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2438 : 			// ----
; 2439 : 			return true;

  0445f	b0 01		 mov	 al, 1
  04461	e9 ab 00 00 00	 jmp	 $LN4@NpcDabide
$LN1@NpcDabide:

; 2440 : 		}
; 2441 : 		// ----
; 2442 : 		lpObj->bIsChaosMixCompleted = false;

  04466	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04469	c6 80 79 12 00
	00 00		 mov	 BYTE PTR [eax+4729], 0

; 2443 : 		// ----
; 2444 : 		PMSG_TALKRESULT pResult;
; 2445 : 		// ----
; 2446 : 		pResult.h.c				= 0xC3;

  04470	c6 45 f0 c3	 mov	 BYTE PTR _pResult$244883[ebp], 195 ; 000000c3H

; 2447 : 		pResult.h.headcode		= 0x30;

  04474	c6 45 f2 30	 mov	 BYTE PTR _pResult$244883[ebp+2], 48 ; 00000030H

; 2448 : 		pResult.h.size			= sizeof(pResult);

  04478	c6 45 f1 0b	 mov	 BYTE PTR _pResult$244883[ebp+1], 11 ; 0000000bH

; 2449 : 		pResult.result			= 0x26;

  0447c	c6 45 f3 26	 mov	 BYTE PTR _pResult$244883[ebp+3], 38 ; 00000026H

; 2450 : 		// ----
; 2451 : 		DataSend(lpObj->m_Index, (LPBYTE)&pResult, pResult.h.size);

  04480	0f b6 45 f1	 movzx	 eax, BYTE PTR _pResult$244883[ebp+1]
  04484	50		 push	 eax
  04485	8d 4d f0	 lea	 ecx, DWORD PTR _pResult$244883[ebp]
  04488	51		 push	 ecx
  04489	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0448c	8b 02		 mov	 eax, DWORD PTR [edx]
  0448e	50		 push	 eax
  0448f	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  04494	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2452 : 		// ----
; 2453 : 		lpObj->m_IfState.use	= 1;

  04497	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0449a	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  044a0	83 e1 fc	 and	 ecx, -4			; fffffffcH
  044a3	83 c9 01	 or	 ecx, 1
  044a6	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  044a9	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 2454 : 		lpObj->m_IfState.type	= 7;

  044af	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  044b2	8b 88 1c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3612]
  044b8	81 e1 3f 00 ff
	ff		 and	 ecx, -65473		; ffff003fH
  044be	81 c9 c0 01 00
	00		 or	 ecx, 448		; 000001c0H
  044c4	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  044c7	89 8a 1c 0e 00
	00		 mov	 DWORD PTR [edx+3612], ecx

; 2455 : 		// ----
; 2456 : 		gObjInventoryTrans(lpObj->m_Index);

  044cd	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  044d0	8b 08		 mov	 ecx, DWORD PTR [eax]
  044d2	51		 push	 ecx
  044d3	e8 00 00 00 00	 call	 ?gObjInventoryTrans@@YAHH@Z ; gObjInventoryTrans
  044d8	83 c4 04	 add	 esp, 4

; 2457 : 		// ----
; 2458 : 		LogAddTD("[Lucky Item] [%s][%s] Lucky Item Mix Start", lpObj->AccountID, lpObj->Name);

  044db	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  044de	83 c0 77	 add	 eax, 119		; 00000077H
  044e1	50		 push	 eax
  044e2	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  044e5	83 c1 6c	 add	 ecx, 108		; 0000006cH
  044e8	51		 push	 ecx
  044e9	68 00 00 00 00	 push	 OFFSET ??_C@_0CL@GBCGCHBL@?$FLLucky?5Item?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Lucky?5Item@
  044ee	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  044f4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2459 : 		// ----
; 2460 : 		gObjItemTextSave(lpObj);

  044f7	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  044fa	50		 push	 eax
  044fb	e8 00 00 00 00	 call	 ?gObjItemTextSave@@YAXPAUOBJECTSTRUCT@@@Z ; gObjItemTextSave
  04500	83 c4 04	 add	 esp, 4

; 2461 : 		gObjWarehouseTextSave(lpObj);

  04503	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04506	50		 push	 eax
  04507	e8 00 00 00 00	 call	 ?gObjWarehouseTextSave@@YAXPAUOBJECTSTRUCT@@@Z ; gObjWarehouseTextSave
  0450c	83 c4 04	 add	 esp, 4
$LN3@NpcDabide:

; 2462 : 	}
; 2463 : 	// ----
; 2464 : 	return true;

  0450f	b0 01		 mov	 al, 1
$LN4@NpcDabide:

; 2465 : }

  04511	5f		 pop	 edi
  04512	5e		 pop	 esi
  04513	5b		 pop	 ebx
  04514	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  04517	33 cd		 xor	 ecx, ebp
  04519	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0451e	8b e5		 mov	 esp, ebp
  04520	5d		 pop	 ebp
  04521	c3		 ret	 0
?NpcDabide@@YA_NPAUOBJECTSTRUCT@@0@Z ENDP		; NpcDabide
_TEXT	ENDS
END
