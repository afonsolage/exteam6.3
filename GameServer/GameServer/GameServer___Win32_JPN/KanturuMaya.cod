; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\KanturuMaya.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	83 e8 01	 sub	 eax, 1
  0000f	89 45 10	 mov	 DWORD PTR ___n$[ebp], eax
  00012	78 11		 js	 SHORT $LN3@vector
  00014	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00017	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  0001a	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  0001d	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  00020	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  00023	eb e4		 jmp	 SHORT $LN2@vector
$LN3@vector:
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	?Init@CKanturuMaya@@QAEXXZ			; CKanturuMaya::Init
PUBLIC	??_7CKanturuMaya@@6B@				; CKanturuMaya::`vftable'
PUBLIC	??0CKanturuMaya@@QAE@XZ				; CKanturuMaya::CKanturuMaya
PUBLIC	??_R4CKanturuMaya@@6B@				; CKanturuMaya::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCKanturuMaya@@@8			; CKanturuMaya `RTTI Type Descriptor'
PUBLIC	??_R3CKanturuMaya@@8				; CKanturuMaya::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CKanturuMaya@@8				; CKanturuMaya::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CKanturuMaya@@8			; CKanturuMaya::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	??_ECKanturuMaya@@UAEPAXI@Z:PROC		; CKanturuMaya::`vector deleting destructor'
;	COMDAT ??_R1A@?0A@EA@CKanturuMaya@@8
; File d:\projects\exteam6.3\source\gameserver\gameserver\kanturumaya.cpp
rdata$r	SEGMENT
??_R1A@?0A@EA@CKanturuMaya@@8 DD FLAT:??_R0?AVCKanturuMaya@@@8 ; CKanturuMaya::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CKanturuMaya@@8
rdata$r	ENDS
;	COMDAT ??_R2CKanturuMaya@@8
rdata$r	SEGMENT
??_R2CKanturuMaya@@8 DD FLAT:??_R1A@?0A@EA@CKanturuMaya@@8 ; CKanturuMaya::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CKanturuMaya@@8
rdata$r	SEGMENT
??_R3CKanturuMaya@@8 DD 00H				; CKanturuMaya::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CKanturuMaya@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCKanturuMaya@@@8
_DATA	SEGMENT
??_R0?AVCKanturuMaya@@@8 DD FLAT:??_7type_info@@6B@	; CKanturuMaya `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCKanturuMaya@@', 00H
_DATA	ENDS
;	COMDAT ??_R4CKanturuMaya@@6B@
rdata$r	SEGMENT
??_R4CKanturuMaya@@6B@ DD 00H				; CKanturuMaya::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCKanturuMaya@@@8
	DD	FLAT:??_R3CKanturuMaya@@8
rdata$r	ENDS
;	COMDAT ??_7CKanturuMaya@@6B@
CONST	SEGMENT
??_7CKanturuMaya@@6B@ DD FLAT:??_R4CKanturuMaya@@6B@	; CKanturuMaya::`vftable'
	DD	FLAT:??_ECKanturuMaya@@UAEPAXI@Z
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0CKanturuMaya@@QAE@XZ PROC				; CKanturuMaya::CKanturuMaya
; _this$ = ecx

; 22   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CKanturuMaya@@6B@

; 23   : 	this->Init();

  00015	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00018	e8 00 00 00 00	 call	 ?Init@CKanturuMaya@@QAEXXZ ; CKanturuMaya::Init

; 24   : }

  0001d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00020	5f		 pop	 edi
  00021	5e		 pop	 esi
  00022	5b		 pop	 ebx
  00023	8b e5		 mov	 esp, ebp
  00025	5d		 pop	 ebp
  00026	c3		 ret	 0
??0CKanturuMaya@@QAE@XZ ENDP				; CKanturuMaya::CKanturuMaya
_TEXT	ENDS
PUBLIC	??1CKanturuMaya@@UAE@XZ				; CKanturuMaya::~CKanturuMaya
EXTRN	??3@YAXPAX@Z:PROC				; operator delete
; Function compile flags: /Odtp /ZI
;	COMDAT ??_GCKanturuMaya@@UAEPAXI@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___flags$ = 8						; size = 4
??_GCKanturuMaya@@UAEPAXI@Z PROC			; CKanturuMaya::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ??1CKanturuMaya@@UAE@XZ	; CKanturuMaya::~CKanturuMaya
  00014	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00017	83 e0 01	 and	 eax, 1
  0001a	74 0c		 je	 SHORT $LN1@scalar
  0001c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001f	50		 push	 eax
  00020	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00025	83 c4 04	 add	 esp, 4
$LN1@scalar:
  00028	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002b	5f		 pop	 edi
  0002c	5e		 pop	 esi
  0002d	5b		 pop	 ebx
  0002e	8b e5		 mov	 esp, ebp
  00030	5d		 pop	 ebp
  00031	c2 04 00	 ret	 4
??_GCKanturuMaya@@UAEPAXI@Z ENDP			; CKanturuMaya::`scalar deleting destructor'
; Function compile flags: /Odtp /ZI
_TEXT	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
??1CKanturuMaya@@UAE@XZ PROC				; CKanturuMaya::~CKanturuMaya
; _this$ = ecx

; 27   : {

  00030	55		 push	 ebp
  00031	8b ec		 mov	 ebp, esp
  00033	83 ec 44	 sub	 esp, 68			; 00000044H
  00036	53		 push	 ebx
  00037	56		 push	 esi
  00038	57		 push	 edi
  00039	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0003c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0003f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CKanturuMaya@@6B@

; 28   : 	return;
; 29   : }

  00045	5f		 pop	 edi
  00046	5e		 pop	 esi
  00047	5b		 pop	 ebx
  00048	8b e5		 mov	 esp, ebp
  0004a	5d		 pop	 ebp
  0004b	c3		 ret	 0
??1CKanturuMaya@@UAE@XZ ENDP				; CKanturuMaya::~CKanturuMaya
; Function compile flags: /Odtp /ZI
_this$ = -4						; size = 4
?Init@CKanturuMaya@@QAEXXZ PROC				; CKanturuMaya::Init
; _this$ = ecx

; 33   : {

  00050	55		 push	 ebp
  00051	8b ec		 mov	 ebp, esp
  00053	83 ec 44	 sub	 esp, 68			; 00000044H
  00056	53		 push	 ebx
  00057	56		 push	 esi
  00058	57		 push	 edi
  00059	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 34   : 	this->m_iMayaObjIndex = -1;

  0005c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0005f	c7 40 04 ff ff
	ff ff		 mov	 DWORD PTR [eax+4], -1

; 35   : 	this->m_iMayaSkillTime = 0;

  00066	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00069	c7 40 0c 00 00
	00 00		 mov	 DWORD PTR [eax+12], 0

; 36   : 	this->m_iIceStormCount = 0;

  00070	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00073	c7 40 10 00 00
	00 00		 mov	 DWORD PTR [eax+16], 0

; 37   : }

  0007a	5f		 pop	 edi
  0007b	5e		 pop	 esi
  0007c	5b		 pop	 ebx
  0007d	8b e5		 mov	 esp, ebp
  0007f	5d		 pop	 ebp
  00080	c3		 ret	 0
?Init@CKanturuMaya@@QAEXXZ ENDP				; CKanturuMaya::Init
_TEXT	ENDS
PUBLIC	??_C@_0DH@CAACFEFI@?$FL?5KANTURU?5?$FN?$FL?5IceStorm?5?$FN?5Skill?5Us@ ; `string'
PUBLIC	?KanturuMayaAct_IceStorm@CKanturuMaya@@QAEXH@Z	; CKanturuMaya::KanturuMayaAct_IceStorm
EXTRN	?LogAddTD@@3P6AXPADZZA:DWORD			; LogAddTD
EXTRN	?UseMonsterSkill@TMonsterSkillManager@@SAXHHHHPAVCMagicInf@@@Z:PROC ; TMonsterSkillManager::UseMonsterSkill
EXTRN	?NotifyKanturuWideAreaAttack@CKanturuUtil@@QAEXHHH@Z:PROC ; CKanturuUtil::NotifyKanturuWideAreaAttack
EXTRN	?gObjIsConnected@@YAHH@Z:PROC			; gObjIsConnected
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
EXTRN	_rand:PROC
;	COMDAT ??_C@_0DH@CAACFEFI@?$FL?5KANTURU?5?$FN?$FL?5IceStorm?5?$FN?5Skill?5Us@
CONST	SEGMENT
??_C@_0DH@CAACFEFI@?$FL?5KANTURU?5?$FN?$FL?5IceStorm?5?$FN?5Skill?5Us@ DB '['
	DB	' KANTURU ][ IceStorm ] Skill Using(%d) : Index(%d) %s', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_iCount$219413 = -8					; size = 4
_this$ = -4						; size = 4
_iSkillUsingRate$ = 8					; size = 4
?KanturuMayaAct_IceStorm@CKanturuMaya@@QAEXH@Z PROC	; CKanturuMaya::KanturuMayaAct_IceStorm
; _this$ = ecx

; 41   : {

  00090	55		 push	 ebp
  00091	8b ec		 mov	 ebp, esp
  00093	83 ec 48	 sub	 esp, 72			; 00000048H
  00096	53		 push	 ebx
  00097	56		 push	 esi
  00098	57		 push	 edi
  00099	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 42   : 	if ( (rand()%10000) > iSkillUsingRate )

  0009c	e8 00 00 00 00	 call	 _rand
  000a1	99		 cdq
  000a2	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  000a7	f7 f9		 idiv	 ecx
  000a9	3b 55 08	 cmp	 edx, DWORD PTR _iSkillUsingRate$[ebp]
  000ac	7e 05		 jle	 SHORT $LN7@KanturuMay

; 43   : 		return;

  000ae	e9 f5 00 00 00	 jmp	 $LN8@KanturuMay
$LN7@KanturuMay:

; 44   : 
; 45   : 	if ( this->m_iMayaObjIndex < 0 || this->m_iMayaObjIndex > OBJMAX )

  000b3	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000b6	83 78 04 00	 cmp	 DWORD PTR [eax+4], 0
  000ba	7c 0c		 jl	 SHORT $LN5@KanturuMay
  000bc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000bf	81 78 04 98 3a
	00 00		 cmp	 DWORD PTR [eax+4], 15000 ; 00003a98H
  000c6	7e 05		 jle	 SHORT $LN6@KanturuMay
$LN5@KanturuMay:

; 46   : 		return;

  000c8	e9 db 00 00 00	 jmp	 $LN8@KanturuMay
$LN6@KanturuMay:

; 47   : 
; 48   : 	for ( int iCount=OBJ_STARTUSERINDEX;iCount < OBJMAX;iCount++)

  000cd	c7 45 f8 b0 36
	00 00		 mov	 DWORD PTR _iCount$219413[ebp], 14000 ; 000036b0H
  000d4	eb 09		 jmp	 SHORT $LN4@KanturuMay
$LN3@KanturuMay:
  000d6	8b 45 f8	 mov	 eax, DWORD PTR _iCount$219413[ebp]
  000d9	83 c0 01	 add	 eax, 1
  000dc	89 45 f8	 mov	 DWORD PTR _iCount$219413[ebp], eax
$LN4@KanturuMay:
  000df	81 7d f8 98 3a
	00 00		 cmp	 DWORD PTR _iCount$219413[ebp], 15000 ; 00003a98H
  000e6	0f 8d 89 00 00
	00		 jge	 $LN2@KanturuMay

; 49   : 	{
; 50   : 		if ( gObj[iCount].Type == OBJ_USER &&
; 51   : 			 gObjIsConnected(iCount) &&
; 52   : 			 gObj[iCount].MapNumber == MAP_INDEX_KANTURU_BOSS )

  000ec	8b 45 f8	 mov	 eax, DWORD PTR _iCount$219413[ebp]
  000ef	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  000f5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000fb	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  00100	83 fa 01	 cmp	 edx, 1
  00103	75 6b		 jne	 SHORT $LN1@KanturuMay
  00105	8b 45 f8	 mov	 eax, DWORD PTR _iCount$219413[ebp]
  00108	50		 push	 eax
  00109	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  0010e	83 c4 04	 add	 esp, 4
  00111	85 c0		 test	 eax, eax
  00113	74 5b		 je	 SHORT $LN1@KanturuMay
  00115	8b 45 f8	 mov	 eax, DWORD PTR _iCount$219413[ebp]
  00118	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0011e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00124	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0012c	83 fa 27	 cmp	 edx, 39			; 00000027H
  0012f	75 3f		 jne	 SHORT $LN1@KanturuMay

; 53   : 		{
; 54   : 			KANTURU_UTIL.NotifyKanturuWideAreaAttack(this->m_iMayaObjIndex, iCount, 0);

  00131	6a 00		 push	 0
  00133	8b 45 f8	 mov	 eax, DWORD PTR _iCount$219413[ebp]
  00136	50		 push	 eax
  00137	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0013a	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  0013d	52		 push	 edx
  0013e	b9 00 00 00 00	 mov	 ecx, OFFSET _KANTURU_UTIL
  00143	e8 00 00 00 00	 call	 ?NotifyKanturuWideAreaAttack@CKanturuUtil@@QAEXHHH@Z ; CKanturuUtil::NotifyKanturuWideAreaAttack

; 55   : 			TMonsterSkillManager::UseMonsterSkill(this->m_iMayaObjIndex, iCount, 31, -1, NULL);

  00148	6a 00		 push	 0
  0014a	6a ff		 push	 -1
  0014c	6a 1f		 push	 31			; 0000001fH
  0014e	8b 45 f8	 mov	 eax, DWORD PTR _iCount$219413[ebp]
  00151	50		 push	 eax
  00152	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00155	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00158	52		 push	 edx
  00159	e8 00 00 00 00	 call	 ?UseMonsterSkill@TMonsterSkillManager@@SAXHHHHPAVCMagicInf@@@Z ; TMonsterSkillManager::UseMonsterSkill
  0015e	83 c4 14	 add	 esp, 20			; 00000014H

; 56   : 			this->m_iIceStormCount++;

  00161	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00164	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00167	83 c1 01	 add	 ecx, 1
  0016a	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0016d	89 4a 10	 mov	 DWORD PTR [edx+16], ecx
$LN1@KanturuMay:

; 57   : 		}
; 58   : 	}

  00170	e9 61 ff ff ff	 jmp	 $LN3@KanturuMay
$LN2@KanturuMay:

; 59   : 
; 60   : 	LogAddTD("[ KANTURU ][ IceStorm ] Skill Using(%d) : Index(%d) %s",
; 61   : 		this->m_iIceStormCount, this->m_iMayaObjIndex, gObj[this->m_iMayaObjIndex].Name);

  00175	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00178	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0017b	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00181	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00187	8d 44 0a 77	 lea	 eax, DWORD PTR [edx+ecx+119]
  0018b	50		 push	 eax
  0018c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0018f	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00192	52		 push	 edx
  00193	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00196	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00199	51		 push	 ecx
  0019a	68 00 00 00 00	 push	 OFFSET ??_C@_0DH@CAACFEFI@?$FL?5KANTURU?5?$FN?$FL?5IceStorm?5?$FN?5Skill?5Us@
  0019f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  001a5	83 c4 10	 add	 esp, 16			; 00000010H
$LN8@KanturuMay:

; 62   : }

  001a8	5f		 pop	 edi
  001a9	5e		 pop	 esi
  001aa	5b		 pop	 ebx
  001ab	8b e5		 mov	 esp, ebp
  001ad	5d		 pop	 ebp
  001ae	c2 04 00	 ret	 4
?KanturuMayaAct_IceStorm@CKanturuMaya@@QAEXH@Z ENDP	; CKanturuMaya::KanturuMayaAct_IceStorm
_TEXT	ENDS
PUBLIC	??_C@_0DH@LAJGNPGO@?$FL?5KANTURU?5?$FN?$FL?5BrokenShower?5?$FN?5Skil@ ; `string'
PUBLIC	??_C@_0FE@OGKIKCJP@?$FL?5KANTURU?5?$FN?$FL?5BrokenShower?5?$FN?5?$FL?$CFs?$FN@ ; `string'
PUBLIC	__real@00000000
PUBLIC	__real@0000000000000000
PUBLIC	?KanturuMayaAct_Hands@CKanturuMaya@@QAEXXZ	; CKanturuMaya::KanturuMayaAct_Hands
EXTRN	?gObjLifeCheck@@YAXPAUOBJECTSTRUCT@@0HHHHGH@Z:PROC ; gObjLifeCheck
EXTRN	__imp__GetTickCount@0:PROC
EXTRN	__fltused:DWORD
EXTRN	__ftol2_sse:PROC
;	COMDAT ??_C@_0DH@LAJGNPGO@?$FL?5KANTURU?5?$FN?$FL?5BrokenShower?5?$FN?5Skil@
CONST	SEGMENT
??_C@_0DH@LAJGNPGO@?$FL?5KANTURU?5?$FN?$FL?5BrokenShower?5?$FN?5Skil@ DB '['
	DB	' KANTURU ][ BrokenShower ] Skill Using : Index(%d) %s', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0FE@OGKIKCJP@?$FL?5KANTURU?5?$FN?$FL?5BrokenShower?5?$FN?5?$FL?$CFs?$FN@
CONST	SEGMENT
??_C@_0FE@OGKIKCJP@?$FL?5KANTURU?5?$FN?$FL?5BrokenShower?5?$FN?5?$FL?$CFs?$FN@ DB '['
	DB	' KANTURU ][ BrokenShower ] [%s][%s] User Dying cause NOT wear'
	DB	'ing MoonStone Pandent', 00H			; `string'
CONST	ENDS
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_lpMayaHandObj$219434 = -16				; size = 4
_iCount$219426 = -12					; size = 4
_TickCount$ = -8					; size = 4
_this$ = -4						; size = 4
?KanturuMayaAct_Hands@CKanturuMaya@@QAEXXZ PROC		; CKanturuMaya::KanturuMayaAct_Hands
; _this$ = ecx

; 68   : {

  001c0	55		 push	 ebp
  001c1	8b ec		 mov	 ebp, esp
  001c3	83 ec 50	 sub	 esp, 80			; 00000050H
  001c6	53		 push	 ebx
  001c7	56		 push	 esi
  001c8	57		 push	 edi
  001c9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 69   : 	int TickCount = GetTickCount() - this->m_iMayaSkillTime;

  001cc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  001d2	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  001d5	2b 41 0c	 sub	 eax, DWORD PTR [ecx+12]
  001d8	89 45 f8	 mov	 DWORD PTR _TickCount$[ebp], eax

; 70   : 
; 71   : 	if ( TickCount < 20000 )

  001db	81 7d f8 20 4e
	00 00		 cmp	 DWORD PTR _TickCount$[ebp], 20000 ; 00004e20H
  001e2	7d 05		 jge	 SHORT $LN10@KanturuMay@2

; 72   : 		return;

  001e4	e9 5c 02 00 00	 jmp	 $LN11@KanturuMay@2
$LN10@KanturuMay@2:

; 73   : 
; 74   : 	this->m_iMayaSkillTime = GetTickCount();

  001e9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  001ef	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  001f2	89 41 0c	 mov	 DWORD PTR [ecx+12], eax

; 75   : 
; 76   : 	if ( this->m_iMayaObjIndex < 0 || this->m_iMayaObjIndex > OBJMAX )

  001f5	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  001f8	83 78 04 00	 cmp	 DWORD PTR [eax+4], 0
  001fc	7c 0c		 jl	 SHORT $LN8@KanturuMay@2
  001fe	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00201	81 78 04 98 3a
	00 00		 cmp	 DWORD PTR [eax+4], 15000 ; 00003a98H
  00208	7e 05		 jle	 SHORT $LN9@KanturuMay@2
$LN8@KanturuMay@2:

; 77   : 		return;

  0020a	e9 36 02 00 00	 jmp	 $LN11@KanturuMay@2
$LN9@KanturuMay@2:

; 78   : 
; 79   : 	for ( int iCount=OBJ_STARTUSERINDEX;iCount < OBJMAX;iCount++)

  0020f	c7 45 f4 b0 36
	00 00		 mov	 DWORD PTR _iCount$219426[ebp], 14000 ; 000036b0H
  00216	eb 09		 jmp	 SHORT $LN7@KanturuMay@2
$LN6@KanturuMay@2:
  00218	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  0021b	83 c0 01	 add	 eax, 1
  0021e	89 45 f4	 mov	 DWORD PTR _iCount$219426[ebp], eax
$LN7@KanturuMay@2:
  00221	81 7d f4 98 3a
	00 00		 cmp	 DWORD PTR _iCount$219426[ebp], 15000 ; 00003a98H
  00228	0f 8d eb 01 00
	00		 jge	 $LN5@KanturuMay@2

; 80   : 	{
; 81   : 		if ( gObj[iCount].Type == OBJ_USER &&
; 82   : 			 gObjIsConnected(iCount) &&
; 83   : 			 gObj[iCount].MapNumber == MAP_INDEX_KANTURU_BOSS )

  0022e	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  00231	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00237	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0023d	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  00242	83 fa 01	 cmp	 edx, 1
  00245	0f 85 c9 01 00
	00		 jne	 $LN1@KanturuMay@2
  0024b	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  0024e	50		 push	 eax
  0024f	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00254	83 c4 04	 add	 esp, 4
  00257	85 c0		 test	 eax, eax
  00259	0f 84 b5 01 00
	00		 je	 $LN1@KanturuMay@2
  0025f	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  00262	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00268	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0026e	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  00276	83 fa 27	 cmp	 edx, 39			; 00000027H
  00279	0f 85 95 01 00
	00		 jne	 $LN1@KanturuMay@2

; 84   : 		{
; 85   : 			KANTURU_UTIL.NotifyKanturuWideAreaAttack(this->m_iMayaObjIndex, iCount, 1);

  0027f	6a 01		 push	 1
  00281	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  00284	50		 push	 eax
  00285	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00288	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  0028b	52		 push	 edx
  0028c	b9 00 00 00 00	 mov	 ecx, OFFSET _KANTURU_UTIL
  00291	e8 00 00 00 00	 call	 ?NotifyKanturuWideAreaAttack@CKanturuUtil@@QAEXHHH@Z ; CKanturuUtil::NotifyKanturuWideAreaAttack

; 86   : 			TMonsterSkillManager::UseMonsterSkill(this->m_iMayaObjIndex, iCount, 1, -1, NULL);

  00296	6a 00		 push	 0
  00298	6a ff		 push	 -1
  0029a	6a 01		 push	 1
  0029c	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  0029f	50		 push	 eax
  002a0	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  002a3	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  002a6	52		 push	 edx
  002a7	e8 00 00 00 00	 call	 ?UseMonsterSkill@TMonsterSkillManager@@SAXHHHHPAVCMagicInf@@@Z ; TMonsterSkillManager::UseMonsterSkill
  002ac	83 c4 14	 add	 esp, 20			; 00000014H

; 87   : //#if(GS_CASTLE==0)
; 88   : 			if ( gObj[iCount].pInventory[10].m_Type == ITEMGET(13,38) &&
; 89   : 				 gObj[iCount].pInventory[10].m_Durability != 0.0f )

  002af	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  002b2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  002b8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002be	8b 94 01 24 0e
	00 00		 mov	 edx, DWORD PTR [ecx+eax+3620]
  002c5	0f bf 82 4e 08
	00 00		 movsx	 eax, WORD PTR [edx+2126]
  002cc	3d 26 1a 00 00	 cmp	 eax, 6694		; 00001a26H
  002d1	75 2c		 jne	 SHORT $LN3@KanturuMay@2
  002d3	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  002d6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  002dc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002e2	8b 94 01 24 0e
	00 00		 mov	 edx, DWORD PTR [ecx+eax+3620]
  002e9	d9 82 6c 08 00
	00		 fld	 DWORD PTR [edx+2156]
  002ef	d9 ee		 fldz
  002f1	da e9		 fucompp
  002f3	df e0		 fnstsw	 ax
  002f5	f6 c4 44	 test	 ah, 68			; 00000044H
  002f8	7b 05		 jnp	 SHORT $LN3@KanturuMay@2

; 90   : 			{
; 91   : 				continue;

  002fa	e9 19 ff ff ff	 jmp	 $LN6@KanturuMay@2
$LN3@KanturuMay@2:

; 92   : 			}
; 93   : 
; 94   : 
; 95   : 			if ( gObj[iCount].pInventory[11].m_Type == ITEMGET(13,38) &&
; 96   : 				 gObj[iCount].pInventory[11].m_Durability != 0.0f )

  002ff	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  00302	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00308	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0030e	8b 94 01 24 0e
	00 00		 mov	 edx, DWORD PTR [ecx+eax+3620]
  00315	0f bf 82 22 09
	00 00		 movsx	 eax, WORD PTR [edx+2338]
  0031c	3d 26 1a 00 00	 cmp	 eax, 6694		; 00001a26H
  00321	75 2c		 jne	 SHORT $LN2@KanturuMay@2
  00323	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  00326	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0032c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00332	8b 94 01 24 0e
	00 00		 mov	 edx, DWORD PTR [ecx+eax+3620]
  00339	d9 82 40 09 00
	00		 fld	 DWORD PTR [edx+2368]
  0033f	d9 ee		 fldz
  00341	da e9		 fucompp
  00343	df e0		 fnstsw	 ax
  00345	f6 c4 44	 test	 ah, 68			; 00000044H
  00348	7b 05		 jnp	 SHORT $LN2@KanturuMay@2

; 97   : 			{
; 98   : 				continue;

  0034a	e9 c9 fe ff ff	 jmp	 $LN6@KanturuMay@2
$LN2@KanturuMay@2:

; 99   : 			}
; 100  : 
; 101  : 			if ( gObj[iCount].MapNumber == MAP_INDEX_KANTURU_BOSS )

  0034f	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  00352	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00358	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0035e	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  00366	83 fa 27	 cmp	 edx, 39			; 00000027H
  00369	0f 85 a5 00 00
	00		 jne	 $LN1@KanturuMay@2

; 102  : 			{
; 103  : 				LPOBJ lpMayaHandObj = &gObj[this->m_iMayaObjIndex];

  0036f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00372	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00375	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0037b	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00381	89 4d f0	 mov	 DWORD PTR _lpMayaHandObj$219434[ebp], ecx

; 104  : 				gObj[iCount].Life = 0;

  00384	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  00387	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0038d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00393	d9 ee		 fldz
  00395	d9 9c 01 fc 00
	00 00		 fstp	 DWORD PTR [ecx+eax+252]

; 105  : 
; 106  : 				gObjLifeCheck(&gObj[iCount], lpMayaHandObj, (int)gObj[iCount].Life,
; 107  : 					0, 0, 0, 0, 0);

  0039c	6a 00		 push	 0
  0039e	6a 00		 push	 0
  003a0	6a 00		 push	 0
  003a2	6a 00		 push	 0
  003a4	6a 00		 push	 0
  003a6	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  003a9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  003af	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003b5	d9 84 01 fc 00
	00 00		 fld	 DWORD PTR [ecx+eax+252]
  003bc	e8 00 00 00 00	 call	 __ftol2_sse
  003c1	50		 push	 eax
  003c2	8b 55 f0	 mov	 edx, DWORD PTR _lpMayaHandObj$219434[ebp]
  003c5	52		 push	 edx
  003c6	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  003c9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  003cf	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003d5	50		 push	 eax
  003d6	e8 00 00 00 00	 call	 ?gObjLifeCheck@@YAXPAUOBJECTSTRUCT@@0HHHHGH@Z ; gObjLifeCheck
  003db	83 c4 20	 add	 esp, 32			; 00000020H

; 108  : 
; 109  : 				LogAddTD("[ KANTURU ][ BrokenShower ] [%s][%s] User Dying cause NOT wearing MoonStone Pandent",
; 110  : 					gObj[iCount].AccountID, gObj[iCount].Name);

  003de	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  003e1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  003e7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003ed	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  003f1	52		 push	 edx
  003f2	8b 45 f4	 mov	 eax, DWORD PTR _iCount$219426[ebp]
  003f5	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  003fb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00401	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  00405	52		 push	 edx
  00406	68 00 00 00 00	 push	 OFFSET ??_C@_0FE@OGKIKCJP@?$FL?5KANTURU?5?$FN?$FL?5BrokenShower?5?$FN?5?$FL?$CFs?$FN@
  0040b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00411	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@KanturuMay@2:

; 111  : 			}
; 112  : //#endif
; 113  : 		}
; 114  : 	}

  00414	e9 ff fd ff ff	 jmp	 $LN6@KanturuMay@2
$LN5@KanturuMay@2:

; 115  : 
; 116  : 	LogAddTD("[ KANTURU ][ BrokenShower ] Skill Using : Index(%d) %s",
; 117  : 		this->m_iMayaObjIndex, gObj[this->m_iMayaObjIndex].Name);

  00419	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0041c	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0041f	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00425	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0042b	8d 44 0a 77	 lea	 eax, DWORD PTR [edx+ecx+119]
  0042f	50		 push	 eax
  00430	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00433	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00436	52		 push	 edx
  00437	68 00 00 00 00	 push	 OFFSET ??_C@_0DH@LAJGNPGO@?$FL?5KANTURU?5?$FN?$FL?5BrokenShower?5?$FN?5Skil@
  0043c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00442	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN11@KanturuMay@2:

; 118  : }

  00445	5f		 pop	 edi
  00446	5e		 pop	 esi
  00447	5b		 pop	 ebx
  00448	8b e5		 mov	 esp, ebp
  0044a	5d		 pop	 ebp
  0044b	c3		 ret	 0
?KanturuMayaAct_Hands@CKanturuMaya@@QAEXXZ ENDP		; CKanturuMaya::KanturuMayaAct_Hands
_TEXT	ENDS
EXTRN	_atexit:PROC
EXTRN	??0CKanturuUtil@@QAE@XZ:PROC			; CKanturuUtil::CKanturuUtil
; Function compile flags: /Odtp /ZI
;	COMDAT ??__EKANTURU_UTIL@@YAXXZ
text$yc	SEGMENT
??__EKANTURU_UTIL@@YAXXZ PROC				; `dynamic initializer for 'KANTURU_UTIL'', COMDAT

; 14   : static CKanturuUtil KANTURU_UTIL;

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET _KANTURU_UTIL
  0000e	e8 00 00 00 00	 call	 ??0CKanturuUtil@@QAE@XZ	; CKanturuUtil::CKanturuUtil
  00013	68 00 00 00 00	 push	 OFFSET ??__FKANTURU_UTIL@@YAXXZ ; `dynamic atexit destructor for 'KANTURU_UTIL''
  00018	e8 00 00 00 00	 call	 _atexit
  0001d	83 c4 04	 add	 esp, 4
  00020	5f		 pop	 edi
  00021	5e		 pop	 esi
  00022	5b		 pop	 ebx
  00023	8b e5		 mov	 esp, ebp
  00025	5d		 pop	 ebp
  00026	c3		 ret	 0
??__EKANTURU_UTIL@@YAXXZ ENDP				; `dynamic initializer for 'KANTURU_UTIL''
text$yc	ENDS
EXTRN	??1CKanturuUtil@@UAE@XZ:PROC			; CKanturuUtil::~CKanturuUtil
; Function compile flags: /Odtp /ZI
;	COMDAT ??__FKANTURU_UTIL@@YAXXZ
text$yd	SEGMENT
??__FKANTURU_UTIL@@YAXXZ PROC				; `dynamic atexit destructor for 'KANTURU_UTIL'', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET _KANTURU_UTIL
  0000e	e8 00 00 00 00	 call	 ??1CKanturuUtil@@UAE@XZ	; CKanturuUtil::~CKanturuUtil
  00013	5f		 pop	 edi
  00014	5e		 pop	 esi
  00015	5b		 pop	 ebx
  00016	8b e5		 mov	 esp, ebp
  00018	5d		 pop	 ebp
  00019	c3		 ret	 0
??__FKANTURU_UTIL@@YAXXZ ENDP				; `dynamic atexit destructor for 'KANTURU_UTIL''
text$yd	ENDS
_BSS	SEGMENT
_KANTURU_UTIL DD 01H DUP (?)
_BSS	ENDS
CRT$XCU	SEGMENT
_KANTURU_UTIL$initializer$ DD FLAT:??__EKANTURU_UTIL@@YAXXZ
CRT$XCU	ENDS
END
