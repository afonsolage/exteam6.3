; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\ExQuestSystem.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?ExQuestSystem@@3VcExQuest@@A			; ExQuestSystem
_BSS	SEGMENT
?ExQuestSystem@@3VcExQuest@@A DB 036b40H DUP (?)	; ExQuestSystem
_BSS	ENDS
_DATA	SEGMENT
_g_iNpcUpDfLevel_CGATE DD 01H
	DD	02H
	DD	02dc6c0H
	DD	02H
	DD	03H
	DD	02dc6c0H
	DD	03H
	DD	04H
	DD	02dc6c0H
_g_iNpcUpDfLevel_CSTATUE DD 01H
	DD	03H
	DD	02dc6c0H
	DD	02H
	DD	05H
	DD	02dc6c0H
	DD	03H
	DD	07H
	DD	02dc6c0H
_g_iNpcUpMaxHP_CGATE DD 02625a0H
	DD	02H
	DD	0f4240H
	DD	03567e0H
	DD	03H
	DD	0f4240H
	DD	04f5880H
	DD	04H
	DD	0f4240H
_g_iNpcUpMaxHP_CSTATUE DD 02191c0H
	DD	03H
	DD	0f4240H
	DD	033e140H
	DD	05H
	DD	0f4240H
	DD	04c4b40H
	DD	07H
	DD	0f4240H
_g_iNpcUpRgLevel_CSTATUE DD 01H
	DD	03H
	DD	04c4b40H
	DD	02H
	DD	05H
	DD	04c4b40H
	DD	03H
	DD	07H
	DD	04c4b40H
_g_iCsUserReSpawnArea DD 023H
	DD	011H
	DD	090H
	DD	030H
	DD	04aH
	DD	090H
	DD	073H
	DD	09aH
	DD	023H
	DD	011H
	DD	090H
	DD	030H
_g_iNpcDefense_CGATE DD 064H
	DD	0b4H
	DD	012cH
	DD	0208H
_g_iNpcDefense_CSTATUE DD 050H
	DD	0b4H
	DD	0154H
	DD	0226H
_g_iCastleWallStepAxisY DD 071H
	DD	0a0H
	DD	0cbH
_DATA	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	83 e8 01	 sub	 eax, 1
  0000f	89 45 10	 mov	 DWORD PTR ___n$[ebp], eax
  00012	78 11		 js	 SHORT $LN3@vector
  00014	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00017	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  0001a	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  0001d	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  00020	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  00023	eb e4		 jmp	 SHORT $LN2@vector
$LN3@vector:
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	??_C@_02DKCKIIND@?$CFs?$AA@			; `string'
PUBLIC	??_C@_0CC@CJBKJHKN@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CC?$CF?$FL?$FO?$CC?$FN?$CC?5?$CC?$CF?$FL?$FO?$CC?$FN@ ; `string'
PUBLIC	??_C@_01KDCPPGHE@r?$AA@				; `string'
PUBLIC	??_C@_09KCICDKHC@NameQuest?$AA@			; `string'
PUBLIC	??_C@_05KJMBIHHL@Quest?$AA@			; `string'
PUBLIC	??_C@_03BCJIDNJL@NPC?$AA@			; `string'
PUBLIC	??_C@_06POMJKEPM@Common?$AA@			; `string'
PUBLIC	??_C@_06CKGENIKG@Enable?$AA@			; `string'
PUBLIC	??_C@_0CB@HKOECMI@?4?4?2Data?2ExData?2ExQuestSystem?4ini@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?Loader@cExQuest@@QAEXXZ			; cExQuest::Loader
EXTRN	_fclose:PROC
EXTRN	_sprintf:PROC
EXTRN	_sscanf:PROC
EXTRN	?Ex_IsBadFileLine@@YA_NPADAAH@Z:PROC		; Ex_IsBadFileLine
EXTRN	_fgets:PROC
EXTRN	_feof:PROC
EXTRN	_fopen:PROC
EXTRN	__imp__GetPrivateProfileStringA@24:PROC
EXTRN	__imp__GetPrivateProfileIntA@16:PROC
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
;	COMDAT ??_C@_02DKCKIIND@?$CFs?$AA@
; File d:\projects\exteam6.3\source\gameserver\gameserver\exquestsystem.cpp
CONST	SEGMENT
??_C@_02DKCKIIND@?$CFs?$AA@ DB '%s', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CC@CJBKJHKN@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CC?$CF?$FL?$FO?$CC?$FN?$CC?5?$CC?$CF?$FL?$FO?$CC?$FN@
CONST	SEGMENT
??_C@_0CC@CJBKJHKN@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CC?$CF?$FL?$FO?$CC?$FN?$CC?5?$CC?$CF?$FL?$FO?$CC?$FN@ DB '%'
	DB	'd %d %d %d %d %d "%[^"]" "%[^"]"', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_01KDCPPGHE@r?$AA@
CONST	SEGMENT
??_C@_01KDCPPGHE@r?$AA@ DB 'r', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_09KCICDKHC@NameQuest?$AA@
CONST	SEGMENT
??_C@_09KCICDKHC@NameQuest?$AA@ DB 'NameQuest', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_05KJMBIHHL@Quest?$AA@
CONST	SEGMENT
??_C@_05KJMBIHHL@Quest?$AA@ DB 'Quest', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_03BCJIDNJL@NPC?$AA@
CONST	SEGMENT
??_C@_03BCJIDNJL@NPC?$AA@ DB 'NPC', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_06POMJKEPM@Common?$AA@
CONST	SEGMENT
??_C@_06POMJKEPM@Common?$AA@ DB 'Common', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06CKGENIKG@Enable?$AA@
CONST	SEGMENT
??_C@_06CKGENIKG@Enable?$AA@ DB 'Enable', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CB@HKOECMI@?4?4?2Data?2ExData?2ExQuestSystem?4ini@
CONST	SEGMENT
??_C@_0CB@HKOECMI@?4?4?2Data?2ExData?2ExQuestSystem?4ini@ DB '..\Data\ExD'
	DB	'ata\ExQuestSystem.ini', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_mes2$227983 = -516					; size = 100
_mes$227982 = -416					; size = 100
_n$227981 = -316					; size = 40
_Flag$ = -276						; size = 4
_Buff$ = -272						; size = 256
_file$ = -16						; size = 4
_i$227967 = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
?Loader@cExQuest@@QAEXXZ PROC				; cExQuest::Loader
; _this$ = ecx

; 16   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 44 02 00
	00		 sub	 esp, 580		; 00000244H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 17   : 	//CheckFile(DIR_EX_QUEST_SYSTEM);
; 18   : 
; 19   : 	this->Enable = GetPrivateProfileInt("Common","Enable",0,DIR_EX_QUEST_SYSTEM);

  00019	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@HKOECMI@?4?4?2Data?2ExData?2ExQuestSystem?4ini@
  0001e	6a 00		 push	 0
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_06CKGENIKG@Enable?$AA@
  00025	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  0002a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00030	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00033	89 01		 mov	 DWORD PTR [ecx], eax

; 20   : 	this->NPC = GetPrivateProfileInt("Common","NPC",0,DIR_EX_QUEST_SYSTEM);

  00035	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@HKOECMI@?4?4?2Data?2ExData?2ExQuestSystem?4ini@
  0003a	6a 00		 push	 0
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_03BCJIDNJL@NPC?$AA@
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  00046	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0004c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0004f	89 41 04	 mov	 DWORD PTR [ecx+4], eax

; 21   : 
; 22   : 	GetPrivateProfileString("Common", "NameQuest","Quest",this->NameQuest,sizeof(this->NameQuest),DIR_EX_QUEST_SYSTEM);

  00052	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@HKOECMI@?4?4?2Data?2ExData?2ExQuestSystem?4ini@
  00057	6a 32		 push	 50			; 00000032H
  00059	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0005c	83 c0 08	 add	 eax, 8
  0005f	50		 push	 eax
  00060	68 00 00 00 00	 push	 OFFSET ??_C@_05KJMBIHHL@Quest?$AA@
  00065	68 00 00 00 00	 push	 OFFSET ??_C@_09KCICDKHC@NameQuest?$AA@
  0006a	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  0006f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileStringA@24

; 23   : 
; 24   : 	for(int i=0;i<MAX_EX_QUEST;i++)

  00075	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _i$227967[ebp], 0
  0007c	eb 09		 jmp	 SHORT $LN8@Loader
$LN7@Loader:
  0007e	8b 45 f4	 mov	 eax, DWORD PTR _i$227967[ebp]
  00081	83 c0 01	 add	 eax, 1
  00084	89 45 f4	 mov	 DWORD PTR _i$227967[ebp], eax
$LN8@Loader:
  00087	81 7d f4 e8 03
	00 00		 cmp	 DWORD PTR _i$227967[ebp], 1000 ; 000003e8H
  0008e	0f 8d a2 00 00
	00		 jge	 $LN6@Loader

; 25   : 	{
; 26   : 		this->Quest[i].Monster	= 0;

  00094	8b 45 f4	 mov	 eax, DWORD PTR _i$227967[ebp]
  00097	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  0009d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000a0	c7 44 01 3c 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+60], 0

; 27   : 		this->Quest[i].Count	= 0;

  000a8	8b 45 f4	 mov	 eax, DWORD PTR _i$227967[ebp]
  000ab	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  000b1	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000b4	c7 44 01 40 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+64], 0

; 28   : 		this->Quest[i].Procent	= 0;

  000bc	8b 45 f4	 mov	 eax, DWORD PTR _i$227967[ebp]
  000bf	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  000c5	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000c8	c7 44 01 44 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+68], 0

; 29   : 		this->Quest[i].Reward	= 0;

  000d0	8b 45 f4	 mov	 eax, DWORD PTR _i$227967[ebp]
  000d3	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  000d9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000dc	c7 44 01 48 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+72], 0

; 30   : 		this->Quest[i].Gift		= 0;

  000e4	8b 45 f4	 mov	 eax, DWORD PTR _i$227967[ebp]
  000e7	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  000ed	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000f0	c7 44 01 4c 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+76], 0

; 31   : 		this->Quest[i].iLevel	= 0;

  000f8	8b 45 f4	 mov	 eax, DWORD PTR _i$227967[ebp]
  000fb	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  00101	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00104	c7 44 01 50 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+80], 0

; 32   : 		this->Quest[i].Msg1[0]	= NULL;

  0010c	8b 45 f4	 mov	 eax, DWORD PTR _i$227967[ebp]
  0010f	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  00115	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00118	c6 44 01 54 00	 mov	 BYTE PTR [ecx+eax+84], 0

; 33   : 		this->Quest[i].Msg2[0]	= NULL;

  0011d	8b 45 f4	 mov	 eax, DWORD PTR _i$227967[ebp]
  00120	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  00126	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00129	c6 84 01 b8 00
	00 00 00	 mov	 BYTE PTR [ecx+eax+184], 0

; 34   : 	}

  00131	e9 48 ff ff ff	 jmp	 $LN7@Loader
$LN6@Loader:

; 35   : 
; 36   : 	FILE *file = fopen(DIR_EX_QUEST_SYSTEM,"r");

  00136	68 00 00 00 00	 push	 OFFSET ??_C@_01KDCPPGHE@r?$AA@
  0013b	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@HKOECMI@?4?4?2Data?2ExData?2ExQuestSystem?4ini@
  00140	e8 00 00 00 00	 call	 _fopen
  00145	83 c4 08	 add	 esp, 8
  00148	89 45 f0	 mov	 DWORD PTR _file$[ebp], eax

; 37   : 	if(file == NULL)

  0014b	83 7d f0 00	 cmp	 DWORD PTR _file$[ebp], 0
  0014f	75 0e		 jne	 SHORT $LN5@Loader

; 38   : 	{
; 39   : 		this->Enable = 0;

  00151	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00154	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 40   : 		return;

  0015a	e9 e2 01 00 00	 jmp	 $LN9@Loader
$LN5@Loader:

; 41   : 	}
; 42   : 
; 43   : 	char Buff[256];
; 44   : 	int Flag = 0;

  0015f	c7 85 ec fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _Flag$[ebp], 0

; 45   : 	this->qNum = 1;	//Fix

  00169	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0016c	c7 80 3c 6b 03
	00 01 00 00 00	 mov	 DWORD PTR [eax+224060], 1
$LN4@Loader:

; 46   : 
; 47   : 	while(!feof(file))

  00176	8b 45 f0	 mov	 eax, DWORD PTR _file$[ebp]
  00179	50		 push	 eax
  0017a	e8 00 00 00 00	 call	 _feof
  0017f	83 c4 04	 add	 esp, 4
  00182	85 c0		 test	 eax, eax
  00184	0f 85 ab 01 00
	00		 jne	 $LN3@Loader

; 48   : 	{
; 49   : 		fgets(Buff,256,file);	

  0018a	8b 45 f0	 mov	 eax, DWORD PTR _file$[ebp]
  0018d	50		 push	 eax
  0018e	68 00 01 00 00	 push	 256			; 00000100H
  00193	8d 8d f0 fe ff
	ff		 lea	 ecx, DWORD PTR _Buff$[ebp]
  00199	51		 push	 ecx
  0019a	e8 00 00 00 00	 call	 _fgets
  0019f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 50   : 		if(Ex_IsBadFileLine(Buff, Flag))	

  001a2	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _Flag$[ebp]
  001a8	50		 push	 eax
  001a9	8d 8d f0 fe ff
	ff		 lea	 ecx, DWORD PTR _Buff$[ebp]
  001af	51		 push	 ecx
  001b0	e8 00 00 00 00	 call	 ?Ex_IsBadFileLine@@YA_NPADAAH@Z ; Ex_IsBadFileLine
  001b5	83 c4 08	 add	 esp, 8
  001b8	0f b6 d0	 movzx	 edx, al
  001bb	85 d2		 test	 edx, edx
  001bd	74 02		 je	 SHORT $LN2@Loader

; 51   : 			continue;

  001bf	eb b5		 jmp	 SHORT $LN4@Loader
$LN2@Loader:

; 52   : 
; 53   : 		if(Flag == 1)

  001c1	83 bd ec fe ff
	ff 01		 cmp	 DWORD PTR _Flag$[ebp], 1
  001c8	0f 85 62 01 00
	00		 jne	 $LN1@Loader

; 54   : 		{
; 55   : 			int n[10];
; 56   : 			char mes[100];
; 57   : 			char mes2[100];
; 58   : 
; 59   : 			sscanf(Buff,"%d %d %d %d %d %d \"%[^\"]\" \"%[^\"]\"",&n[0],&n[1],&n[2],&n[3],&n[4],&n[5],&mes,&mes2);

  001ce	8d 85 fc fd ff
	ff		 lea	 eax, DWORD PTR _mes2$227983[ebp]
  001d4	50		 push	 eax
  001d5	8d 8d 60 fe ff
	ff		 lea	 ecx, DWORD PTR _mes$227982[ebp]
  001db	51		 push	 ecx
  001dc	8d 95 d8 fe ff
	ff		 lea	 edx, DWORD PTR _n$227981[ebp+20]
  001e2	52		 push	 edx
  001e3	8d 85 d4 fe ff
	ff		 lea	 eax, DWORD PTR _n$227981[ebp+16]
  001e9	50		 push	 eax
  001ea	8d 8d d0 fe ff
	ff		 lea	 ecx, DWORD PTR _n$227981[ebp+12]
  001f0	51		 push	 ecx
  001f1	8d 95 cc fe ff
	ff		 lea	 edx, DWORD PTR _n$227981[ebp+8]
  001f7	52		 push	 edx
  001f8	8d 85 c8 fe ff
	ff		 lea	 eax, DWORD PTR _n$227981[ebp+4]
  001fe	50		 push	 eax
  001ff	8d 8d c4 fe ff
	ff		 lea	 ecx, DWORD PTR _n$227981[ebp]
  00205	51		 push	 ecx
  00206	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@CJBKJHKN@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CC?$CF?$FL?$FO?$CC?$FN?$CC?5?$CC?$CF?$FL?$FO?$CC?$FN@
  0020b	8d 95 f0 fe ff
	ff		 lea	 edx, DWORD PTR _Buff$[ebp]
  00211	52		 push	 edx
  00212	e8 00 00 00 00	 call	 _sscanf
  00217	83 c4 28	 add	 esp, 40			; 00000028H

; 60   : 
; 61   : 			this->Quest[this->qNum].Monster	= n[0];

  0021a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0021d	8b 88 3c 6b 03
	00		 mov	 ecx, DWORD PTR [eax+224060]
  00223	69 c9 e0 00 00
	00		 imul	 ecx, 224		; 000000e0H
  00229	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0022c	8b 85 c4 fe ff
	ff		 mov	 eax, DWORD PTR _n$227981[ebp]
  00232	89 44 0a 3c	 mov	 DWORD PTR [edx+ecx+60], eax

; 62   : 			this->Quest[this->qNum].Count		= n[1];

  00236	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00239	8b 88 3c 6b 03
	00		 mov	 ecx, DWORD PTR [eax+224060]
  0023f	69 c9 e0 00 00
	00		 imul	 ecx, 224		; 000000e0H
  00245	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00248	8b 85 c8 fe ff
	ff		 mov	 eax, DWORD PTR _n$227981[ebp+4]
  0024e	89 44 0a 40	 mov	 DWORD PTR [edx+ecx+64], eax

; 63   : 			this->Quest[this->qNum].Procent	= n[2];

  00252	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00255	8b 88 3c 6b 03
	00		 mov	 ecx, DWORD PTR [eax+224060]
  0025b	69 c9 e0 00 00
	00		 imul	 ecx, 224		; 000000e0H
  00261	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00264	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _n$227981[ebp+8]
  0026a	89 44 0a 44	 mov	 DWORD PTR [edx+ecx+68], eax

; 64   : 			this->Quest[this->qNum].Reward	= n[3];

  0026e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00271	8b 88 3c 6b 03
	00		 mov	 ecx, DWORD PTR [eax+224060]
  00277	69 c9 e0 00 00
	00		 imul	 ecx, 224		; 000000e0H
  0027d	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00280	8b 85 d0 fe ff
	ff		 mov	 eax, DWORD PTR _n$227981[ebp+12]
  00286	89 44 0a 48	 mov	 DWORD PTR [edx+ecx+72], eax

; 65   : 			this->Quest[this->qNum].Gift		= n[4];

  0028a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0028d	8b 88 3c 6b 03
	00		 mov	 ecx, DWORD PTR [eax+224060]
  00293	69 c9 e0 00 00
	00		 imul	 ecx, 224		; 000000e0H
  00299	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0029c	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _n$227981[ebp+16]
  002a2	89 44 0a 4c	 mov	 DWORD PTR [edx+ecx+76], eax

; 66   : 			this->Quest[this->qNum].iLevel	= n[5];

  002a6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002a9	8b 88 3c 6b 03
	00		 mov	 ecx, DWORD PTR [eax+224060]
  002af	69 c9 e0 00 00
	00		 imul	 ecx, 224		; 000000e0H
  002b5	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  002b8	8b 85 d8 fe ff
	ff		 mov	 eax, DWORD PTR _n$227981[ebp+20]
  002be	89 44 0a 50	 mov	 DWORD PTR [edx+ecx+80], eax

; 67   : 			sprintf(this->Quest[this->qNum].Msg1,"%s",mes);

  002c2	8d 85 60 fe ff
	ff		 lea	 eax, DWORD PTR _mes$227982[ebp]
  002c8	50		 push	 eax
  002c9	68 00 00 00 00	 push	 OFFSET ??_C@_02DKCKIIND@?$CFs?$AA@
  002ce	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002d1	8b 91 3c 6b 03
	00		 mov	 edx, DWORD PTR [ecx+224060]
  002d7	69 d2 e0 00 00
	00		 imul	 edx, 224		; 000000e0H
  002dd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002e0	8d 4c 10 54	 lea	 ecx, DWORD PTR [eax+edx+84]
  002e4	51		 push	 ecx
  002e5	e8 00 00 00 00	 call	 _sprintf
  002ea	83 c4 0c	 add	 esp, 12			; 0000000cH

; 68   : 			sprintf(this->Quest[this->qNum].Msg2,"%s",mes2);

  002ed	8d 85 fc fd ff
	ff		 lea	 eax, DWORD PTR _mes2$227983[ebp]
  002f3	50		 push	 eax
  002f4	68 00 00 00 00	 push	 OFFSET ??_C@_02DKCKIIND@?$CFs?$AA@
  002f9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002fc	8b 91 3c 6b 03
	00		 mov	 edx, DWORD PTR [ecx+224060]
  00302	69 d2 e0 00 00
	00		 imul	 edx, 224		; 000000e0H
  00308	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0030b	8d 8c 10 b8 00
	00 00		 lea	 ecx, DWORD PTR [eax+edx+184]
  00312	51		 push	 ecx
  00313	e8 00 00 00 00	 call	 _sprintf
  00318	83 c4 0c	 add	 esp, 12			; 0000000cH

; 69   : 
; 70   : 			this->qNum++;

  0031b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0031e	8b 88 3c 6b 03
	00		 mov	 ecx, DWORD PTR [eax+224060]
  00324	83 c1 01	 add	 ecx, 1
  00327	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0032a	89 8a 3c 6b 03
	00		 mov	 DWORD PTR [edx+224060], ecx
$LN1@Loader:

; 71   : 		}
; 72   : 	}

  00330	e9 41 fe ff ff	 jmp	 $LN4@Loader
$LN3@Loader:

; 73   : 	fclose(file);

  00335	8b 45 f0	 mov	 eax, DWORD PTR _file$[ebp]
  00338	50		 push	 eax
  00339	e8 00 00 00 00	 call	 _fclose
  0033e	83 c4 04	 add	 esp, 4
$LN9@Loader:

; 74   : }

  00341	5f		 pop	 edi
  00342	5e		 pop	 esi
  00343	5b		 pop	 ebx
  00344	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00347	33 cd		 xor	 ecx, ebp
  00349	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0034e	8b e5		 mov	 esp, ebp
  00350	5d		 pop	 ebp
  00351	c3		 ret	 0
?Loader@cExQuest@@QAEXXZ ENDP				; cExQuest::Loader
_TEXT	ENDS
PUBLIC	??_C@_0BC@OIALNJLO@?$EA?$FL?$CFs?$FN?3?5?$CFs?5?$FL?$CFd?1?$CFd?$FN?$AA@ ; `string'
PUBLIC	??_C@_09NPPJFDAI@?$EA?$FL?$CFs?$FN?3?5?$CFs?$AA@ ; `string'
PUBLIC	?Pressent@cExQuest@@QAEXPAUOBJECTSTRUCT@@HHH@Z	; cExQuest::Pressent
PUBLIC	??_C@_0P@NNLKOFMF@?$EA?$FL?$CFs?$FN?3?5Finish?$CB?$AA@ ; `string'
PUBLIC	?NPCClick@cExQuest@@QAEXPAUOBJECTSTRUCT@@0@Z	; cExQuest::NPCClick
EXTRN	?GetText@CExText@@QAEPADH@Z:PROC		; CExText::GetText
EXTRN	?g_ExText@@3VCExText@@A:BYTE			; g_ExText
EXTRN	?MessageChat@@YAXHPADZZ:PROC			; MessageChat
;	COMDAT ??_C@_0BC@OIALNJLO@?$EA?$FL?$CFs?$FN?3?5?$CFs?5?$FL?$CFd?1?$CFd?$FN?$AA@
CONST	SEGMENT
??_C@_0BC@OIALNJLO@?$EA?$FL?$CFs?$FN?3?5?$CFs?5?$FL?$CFd?1?$CFd?$FN?$AA@ DB '@'
	DB	'[%s]: %s [%d/%d]', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_09NPPJFDAI@?$EA?$FL?$CFs?$FN?3?5?$CFs?$AA@
CONST	SEGMENT
??_C@_09NPPJFDAI@?$EA?$FL?$CFs?$FN?3?5?$CFs?$AA@ DB '@[%s]: %s', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@NNLKOFMF@?$EA?$FL?$CFs?$FN?3?5Finish?$CB?$AA@
CONST	SEGMENT
??_C@_0P@NNLKOFMF@?$EA?$FL?$CFs?$FN?3?5Finish?$CB?$AA@ DB '@[%s]: Finish!'
	DB	00H						; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_Number$ = -8						; size = 4
_this$ = -4						; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?NPCClick@cExQuest@@QAEXPAUOBJECTSTRUCT@@0@Z PROC	; cExQuest::NPCClick
; _this$ = ecx

; 77   : {

  00360	55		 push	 ebp
  00361	8b ec		 mov	 ebp, esp
  00363	83 ec 48	 sub	 esp, 72			; 00000048H
  00366	53		 push	 ebx
  00367	56		 push	 esi
  00368	57		 push	 edi
  00369	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 78   : 	if(!this->Enable)

  0036c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0036f	83 38 00	 cmp	 DWORD PTR [eax], 0
  00372	75 05		 jne	 SHORT $LN6@NPCClick

; 79   : 		return;

  00374	e9 8c 01 00 00	 jmp	 $LN7@NPCClick
$LN6@NPCClick:

; 80   : 
; 81   : 	if(lpNpc->Class != this->NPC)

  00379	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0037c	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  00383	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00386	3b 4a 04	 cmp	 ecx, DWORD PTR [edx+4]
  00389	74 05		 je	 SHORT $LN5@NPCClick

; 82   : 		return;

  0038b	e9 75 01 00 00	 jmp	 $LN7@NPCClick
$LN5@NPCClick:

; 83   : 
; 84   : 	if(lpObj->ExQuestNum == 0) lpObj->ExQuestNum++;	//Fix

  00390	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00393	83 b8 b0 22 00
	00 00		 cmp	 DWORD PTR [eax+8880], 0
  0039a	75 15		 jne	 SHORT $LN4@NPCClick
  0039c	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0039f	8b 88 b0 22 00
	00		 mov	 ecx, DWORD PTR [eax+8880]
  003a5	83 c1 01	 add	 ecx, 1
  003a8	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  003ab	89 8a b0 22 00
	00		 mov	 DWORD PTR [edx+8880], ecx
$LN4@NPCClick:

; 85   : 
; 86   : 	int Number = lpObj->ExQuestNum;

  003b1	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  003b4	8b 88 b0 22 00
	00		 mov	 ecx, DWORD PTR [eax+8880]
  003ba	89 4d f8	 mov	 DWORD PTR _Number$[ebp], ecx

; 87   : 
; 88   : 	if(Number >= this->qNum)

  003bd	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  003c0	8b 4d f8	 mov	 ecx, DWORD PTR _Number$[ebp]
  003c3	3b 88 3c 6b 03
	00		 cmp	 ecx, DWORD PTR [eax+224060]
  003c9	7c 1f		 jl	 SHORT $LN3@NPCClick

; 89   : 	{
; 90   : 		MessageChat(lpObj->m_Index,"@[%s]: Finish!",this->NameQuest);

  003cb	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  003ce	83 c0 08	 add	 eax, 8
  003d1	50		 push	 eax
  003d2	68 00 00 00 00	 push	 OFFSET ??_C@_0P@NNLKOFMF@?$EA?$FL?$CFs?$FN?3?5Finish?$CB?$AA@
  003d7	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  003da	8b 11		 mov	 edx, DWORD PTR [ecx]
  003dc	52		 push	 edx
  003dd	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  003e2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 91   : 		return;

  003e5	e9 1b 01 00 00	 jmp	 $LN7@NPCClick
$LN3@NPCClick:

; 92   : 	}
; 93   : 
; 94   : 	if(lpObj->ExQuestKill == this->Quest[Number].Count)

  003ea	8b 45 f8	 mov	 eax, DWORD PTR _Number$[ebp]
  003ed	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  003f3	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  003f6	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  003f9	8b 89 b4 22 00
	00		 mov	 ecx, DWORD PTR [ecx+8884]
  003ff	3b 4c 02 40	 cmp	 ecx, DWORD PTR [edx+eax+64]
  00403	75 66		 jne	 SHORT $LN2@NPCClick

; 95   : 	{
; 96   : 		this->Pressent(lpObj,this->Quest[Number].Reward,this->Quest[Number].Gift,this->Quest[Number].iLevel);

  00405	8b 45 f8	 mov	 eax, DWORD PTR _Number$[ebp]
  00408	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  0040e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00411	8b 54 01 50	 mov	 edx, DWORD PTR [ecx+eax+80]
  00415	52		 push	 edx
  00416	8b 45 f8	 mov	 eax, DWORD PTR _Number$[ebp]
  00419	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  0041f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00422	8b 54 01 4c	 mov	 edx, DWORD PTR [ecx+eax+76]
  00426	52		 push	 edx
  00427	8b 45 f8	 mov	 eax, DWORD PTR _Number$[ebp]
  0042a	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  00430	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00433	8b 54 01 48	 mov	 edx, DWORD PTR [ecx+eax+72]
  00437	52		 push	 edx
  00438	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0043b	50		 push	 eax
  0043c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0043f	e8 00 00 00 00	 call	 ?Pressent@cExQuest@@QAEXPAUOBJECTSTRUCT@@HHH@Z ; cExQuest::Pressent

; 97   : 
; 98   : 		lpObj->ExQuestNum++;

  00444	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00447	8b 88 b0 22 00
	00		 mov	 ecx, DWORD PTR [eax+8880]
  0044d	83 c1 01	 add	 ecx, 1
  00450	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00453	89 8a b0 22 00
	00		 mov	 DWORD PTR [edx+8880], ecx

; 99   : 		lpObj->ExQuestKill = 0;

  00459	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0045c	c7 80 b4 22 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+8884], 0

; 100  : 	}
; 101  : 	else

  00466	e9 9a 00 00 00	 jmp	 $LN7@NPCClick
$LN2@NPCClick:

; 102  : 	{
; 103  : 		//LPMONSTER_ATTRIBUTE lpMA = gMAttr.GetAttr(this->Quest[Number].Monster);
; 104  : 		MessageChat(lpObj->m_Index,g_ExText.GetText(102),this->NameQuest,Number);	//Fix

  0046b	8b 45 f8	 mov	 eax, DWORD PTR _Number$[ebp]
  0046e	50		 push	 eax
  0046f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00472	83 c1 08	 add	 ecx, 8
  00475	51		 push	 ecx
  00476	6a 66		 push	 102			; 00000066H
  00478	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExText@@3VCExText@@A ; g_ExText
  0047d	e8 00 00 00 00	 call	 ?GetText@CExText@@QAEPADH@Z ; CExText::GetText
  00482	50		 push	 eax
  00483	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00486	8b 02		 mov	 eax, DWORD PTR [edx]
  00488	50		 push	 eax
  00489	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  0048e	83 c4 10	 add	 esp, 16			; 00000010H

; 105  : 		MessageChat(lpObj->m_Index,"@[%s]: %s",this->NameQuest,this->Quest[Number].Msg1);

  00491	8b 45 f8	 mov	 eax, DWORD PTR _Number$[ebp]
  00494	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  0049a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0049d	8d 54 01 54	 lea	 edx, DWORD PTR [ecx+eax+84]
  004a1	52		 push	 edx
  004a2	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  004a5	83 c0 08	 add	 eax, 8
  004a8	50		 push	 eax
  004a9	68 00 00 00 00	 push	 OFFSET ??_C@_09NPPJFDAI@?$EA?$FL?$CFs?$FN?3?5?$CFs?$AA@
  004ae	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  004b1	8b 11		 mov	 edx, DWORD PTR [ecx]
  004b3	52		 push	 edx
  004b4	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  004b9	83 c4 10	 add	 esp, 16			; 00000010H

; 106  : 		MessageChat(lpObj->m_Index,"@[%s]: %s [%d/%d]",
; 107  : 			this->NameQuest,
; 108  : 			this->Quest[Number].Msg2,
; 109  : 			lpObj->ExQuestKill,
; 110  : 			this->Quest[Number].Count);

  004bc	8b 45 f8	 mov	 eax, DWORD PTR _Number$[ebp]
  004bf	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  004c5	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  004c8	8b 54 01 40	 mov	 edx, DWORD PTR [ecx+eax+64]
  004cc	52		 push	 edx
  004cd	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  004d0	8b 88 b4 22 00
	00		 mov	 ecx, DWORD PTR [eax+8884]
  004d6	51		 push	 ecx
  004d7	8b 55 f8	 mov	 edx, DWORD PTR _Number$[ebp]
  004da	69 d2 e0 00 00
	00		 imul	 edx, 224		; 000000e0H
  004e0	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  004e3	8d 8c 10 b8 00
	00 00		 lea	 ecx, DWORD PTR [eax+edx+184]
  004ea	51		 push	 ecx
  004eb	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  004ee	83 c2 08	 add	 edx, 8
  004f1	52		 push	 edx
  004f2	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@OIALNJLO@?$EA?$FL?$CFs?$FN?3?5?$CFs?5?$FL?$CFd?1?$CFd?$FN?$AA@
  004f7	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  004fa	8b 08		 mov	 ecx, DWORD PTR [eax]
  004fc	51		 push	 ecx
  004fd	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  00502	83 c4 18	 add	 esp, 24			; 00000018H
$LN7@NPCClick:

; 111  : 	}
; 112  : }

  00505	5f		 pop	 edi
  00506	5e		 pop	 esi
  00507	5b		 pop	 ebx
  00508	8b e5		 mov	 esp, ebp
  0050a	5d		 pop	 ebp
  0050b	c2 08 00	 ret	 8
?NPCClick@cExQuest@@QAEXPAUOBJECTSTRUCT@@0@Z ENDP	; cExQuest::NPCClick
_TEXT	ENDS
PUBLIC	?MonsterKill@cExQuest@@QAEXPAUOBJECTSTRUCT@@0@Z	; cExQuest::MonsterKill
EXTRN	_rand:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_iRate$228012 = -12					; size = 4
_Number$ = -8						; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
?MonsterKill@cExQuest@@QAEXPAUOBJECTSTRUCT@@0@Z PROC	; cExQuest::MonsterKill
; _this$ = ecx

; 115  : {

  00510	55		 push	 ebp
  00511	8b ec		 mov	 ebp, esp
  00513	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00516	53		 push	 ebx
  00517	56		 push	 esi
  00518	57		 push	 edi
  00519	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 116  : 	if(!this->Enable)

  0051c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0051f	83 38 00	 cmp	 DWORD PTR [eax], 0
  00522	75 05		 jne	 SHORT $LN7@MonsterKil

; 117  : 		return;

  00524	e9 29 01 00 00	 jmp	 $LN8@MonsterKil
$LN7@MonsterKil:

; 118  : 
; 119  : 	int Number = lpTargetObj->ExQuestNum;

  00529	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0052c	8b 88 b0 22 00
	00		 mov	 ecx, DWORD PTR [eax+8880]
  00532	89 4d f8	 mov	 DWORD PTR _Number$[ebp], ecx

; 120  : 
; 121  : #ifdef DEBUG_CODE
; 122  : 	LogAddC(2,"[ExQuest]: %d",Number);
; 123  : #endif
; 124  : 
; 125  : 	if(Number == 0 || Number >= this->qNum) return;

  00535	83 7d f8 00	 cmp	 DWORD PTR _Number$[ebp], 0
  00539	74 0e		 je	 SHORT $LN5@MonsterKil
  0053b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0053e	8b 4d f8	 mov	 ecx, DWORD PTR _Number$[ebp]
  00541	3b 88 3c 6b 03
	00		 cmp	 ecx, DWORD PTR [eax+224060]
  00547	7c 05		 jl	 SHORT $LN6@MonsterKil
$LN5@MonsterKil:
  00549	e9 04 01 00 00	 jmp	 $LN8@MonsterKil
$LN6@MonsterKil:

; 126  : 
; 127  : 	if(lpObj->Class == this->Quest[Number].Monster)

  0054e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00551	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  00558	8b 55 f8	 mov	 edx, DWORD PTR _Number$[ebp]
  0055b	69 d2 e0 00 00
	00		 imul	 edx, 224		; 000000e0H
  00561	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00564	3b 4c 10 3c	 cmp	 ecx, DWORD PTR [eax+edx+60]
  00568	0f 85 e4 00 00
	00		 jne	 $LN8@MonsterKil

; 128  : 	{
; 129  : 		if(this->Quest[Number].Count == lpTargetObj->ExQuestKill)

  0056e	8b 45 f8	 mov	 eax, DWORD PTR _Number$[ebp]
  00571	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  00577	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0057a	8b 55 0c	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  0057d	8b 44 01 40	 mov	 eax, DWORD PTR [ecx+eax+64]
  00581	3b 82 b4 22 00
	00		 cmp	 eax, DWORD PTR [edx+8884]
  00587	75 05		 jne	 SHORT $LN3@MonsterKil

; 130  : 		{
; 131  : 			return;

  00589	e9 c4 00 00 00	 jmp	 $LN8@MonsterKil
$LN3@MonsterKil:

; 132  : 		}
; 133  : 
; 134  : 		//srand(time(NULL));
; 135  : 		int iRate = rand()%100;

  0058e	e8 00 00 00 00	 call	 _rand
  00593	99		 cdq
  00594	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  00599	f7 f9		 idiv	 ecx
  0059b	89 55 f4	 mov	 DWORD PTR _iRate$228012[ebp], edx

; 136  : 
; 137  : 		if(this->Quest[Number].Procent > iRate)

  0059e	8b 45 f8	 mov	 eax, DWORD PTR _Number$[ebp]
  005a1	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  005a7	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  005aa	8b 54 01 44	 mov	 edx, DWORD PTR [ecx+eax+68]
  005ae	3b 55 f4	 cmp	 edx, DWORD PTR _iRate$228012[ebp]
  005b1	0f 8e 9b 00 00
	00		 jle	 $LN8@MonsterKil

; 138  : 		{
; 139  : 			lpTargetObj->ExQuestKill++;

  005b7	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  005ba	8b 88 b4 22 00
	00		 mov	 ecx, DWORD PTR [eax+8884]
  005c0	83 c1 01	 add	 ecx, 1
  005c3	8b 55 0c	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  005c6	89 8a b4 22 00
	00		 mov	 DWORD PTR [edx+8884], ecx

; 140  : 			MessageChat(lpTargetObj->m_Index,"@[%s]: %s [%d/%d]",
; 141  : 				this->NameQuest,
; 142  : 				this->Quest[Number].Msg2,
; 143  : 				lpTargetObj->ExQuestKill,
; 144  : 				this->Quest[Number].Count);

  005cc	8b 45 f8	 mov	 eax, DWORD PTR _Number$[ebp]
  005cf	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  005d5	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  005d8	8b 54 01 40	 mov	 edx, DWORD PTR [ecx+eax+64]
  005dc	52		 push	 edx
  005dd	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  005e0	8b 88 b4 22 00
	00		 mov	 ecx, DWORD PTR [eax+8884]
  005e6	51		 push	 ecx
  005e7	8b 55 f8	 mov	 edx, DWORD PTR _Number$[ebp]
  005ea	69 d2 e0 00 00
	00		 imul	 edx, 224		; 000000e0H
  005f0	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  005f3	8d 8c 10 b8 00
	00 00		 lea	 ecx, DWORD PTR [eax+edx+184]
  005fa	51		 push	 ecx
  005fb	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  005fe	83 c2 08	 add	 edx, 8
  00601	52		 push	 edx
  00602	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@OIALNJLO@?$EA?$FL?$CFs?$FN?3?5?$CFs?5?$FL?$CFd?1?$CFd?$FN?$AA@
  00607	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0060a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0060c	51		 push	 ecx
  0060d	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  00612	83 c4 18	 add	 esp, 24			; 00000018H

; 145  : 
; 146  : 			if(this->Quest[Number].Count == lpTargetObj->ExQuestKill)

  00615	8b 45 f8	 mov	 eax, DWORD PTR _Number$[ebp]
  00618	69 c0 e0 00 00
	00		 imul	 eax, 224		; 000000e0H
  0061e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00621	8b 55 0c	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  00624	8b 44 01 40	 mov	 eax, DWORD PTR [ecx+eax+64]
  00628	3b 82 b4 22 00
	00		 cmp	 eax, DWORD PTR [edx+8884]
  0062e	75 22		 jne	 SHORT $LN8@MonsterKil

; 147  : 			{
; 148  : 				MessageChat(lpTargetObj->m_Index,g_ExText.GetText(103),this->NameQuest);

  00630	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00633	83 c0 08	 add	 eax, 8
  00636	50		 push	 eax
  00637	6a 67		 push	 103			; 00000067H
  00639	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExText@@3VCExText@@A ; g_ExText
  0063e	e8 00 00 00 00	 call	 ?GetText@CExText@@QAEPADH@Z ; CExText::GetText
  00643	50		 push	 eax
  00644	8b 4d 0c	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  00647	8b 11		 mov	 edx, DWORD PTR [ecx]
  00649	52		 push	 edx
  0064a	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  0064f	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN8@MonsterKil:

; 149  : 			}
; 150  : 		}
; 151  : 	}
; 152  : }

  00652	5f		 pop	 edi
  00653	5e		 pop	 esi
  00654	5b		 pop	 ebx
  00655	8b e5		 mov	 esp, ebp
  00657	5d		 pop	 ebp
  00658	c2 08 00	 ret	 8
?MonsterKill@cExQuest@@QAEXPAUOBJECTSTRUCT@@0@Z ENDP	; cExQuest::MonsterKill
_TEXT	ENDS
PUBLIC	??_C@_0BD@IGJPMNMJ@?$EA?$FL?$CFs?$FN?3?5NSPoint?5?$CFd?$CB?$AA@ ; `string'
EXTRN	?ExFireCracker@@YAXHEE@Z:PROC			; ExFireCracker
EXTRN	?GDSaveUserInfo@GameShop@@QAEXH@Z:PROC		; GameShop::GDSaveUserInfo
EXTRN	?gGameShop@@3VGameShop@@A:BYTE			; gGameShop
EXTRN	?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z:PROC	; ItemSerialCreateSend
EXTRN	?GCLevelUpMsgSend@@YAXHH@Z:PROC			; GCLevelUpMsgSend
EXTRN	?MoneyItemDrop@MapClass@@QAEHHHH@Z:PROC		; MapClass::MoneyItemDrop
EXTRN	?MapC@@3PAVMapClass@@A:BYTE			; MapC
EXTRN	__fltused:DWORD
;	COMDAT ??_C@_0BD@IGJPMNMJ@?$EA?$FL?$CFs?$FN?3?5NSPoint?5?$CFd?$CB?$AA@
CONST	SEGMENT
??_C@_0BD@IGJPMNMJ@?$EA?$FL?$CFs?$FN?3?5NSPoint?5?$CFd?$CB?$AA@ DB '@[%s]'
	DB	': NSPoint %d!', 00H				; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
_Present$ = 12						; size = 4
_Gifts$ = 16						; size = 4
_Level$ = 20						; size = 4
?Pressent@cExQuest@@QAEXPAUOBJECTSTRUCT@@HHH@Z PROC	; cExQuest::Pressent
; _this$ = ecx

; 155  : {

  00660	55		 push	 ebp
  00661	8b ec		 mov	 ebp, esp
  00663	83 ec 44	 sub	 esp, 68			; 00000044H
  00666	53		 push	 ebx
  00667	56		 push	 esi
  00668	57		 push	 edi
  00669	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 156  : 	//1- Zen, 2 - FreePoints, 3 - Items, 4 - ExCred, 5 - Wcoin
; 157  : 	if(Present == 1)	//Zen

  0066c	83 7d 0c 01	 cmp	 DWORD PTR _Present$[ebp], 1
  00670	75 3a		 jne	 SHORT $LN15@Pressent

; 158  : 	{
; 159  : 		MapC[lpObj->MapNumber].MoneyItemDrop((int)Gifts, lpObj->X, lpObj->Y);

  00672	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00675	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  0067c	51		 push	 ecx
  0067d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00680	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  00687	50		 push	 eax
  00688	8b 4d 10	 mov	 ecx, DWORD PTR _Gifts$[ebp]
  0068b	51		 push	 ecx
  0068c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0068f	0f b6 8a 49 01
	00 00		 movzx	 ecx, BYTE PTR [edx+329]
  00696	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  0069c	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  006a2	e8 00 00 00 00	 call	 ?MoneyItemDrop@MapClass@@QAEHHHH@Z ; MapClass::MoneyItemDrop
  006a7	e9 3e 02 00 00	 jmp	 $LN1@Pressent
$LN15@Pressent:

; 160  : 	}
; 161  : 	else if(Present == 2)

  006ac	83 7d 0c 02	 cmp	 DWORD PTR _Present$[ebp], 2
  006b0	75 65		 jne	 SHORT $LN13@Pressent

; 162  : 	{
; 163  : 		MessageChat(lpObj->m_Index,g_ExText.GetText(104),this->NameQuest,Gifts);

  006b2	8b 45 10	 mov	 eax, DWORD PTR _Gifts$[ebp]
  006b5	50		 push	 eax
  006b6	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  006b9	83 c1 08	 add	 ecx, 8
  006bc	51		 push	 ecx
  006bd	6a 68		 push	 104			; 00000068H
  006bf	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExText@@3VCExText@@A ; g_ExText
  006c4	e8 00 00 00 00	 call	 ?GetText@CExText@@QAEPADH@Z ; CExText::GetText
  006c9	50		 push	 eax
  006ca	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  006cd	8b 02		 mov	 eax, DWORD PTR [edx]
  006cf	50		 push	 eax
  006d0	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  006d5	83 c4 10	 add	 esp, 16			; 00000010H

; 164  : 		lpObj->ExFreePoints += Gifts;

  006d8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  006db	8b 88 8c 22 00
	00		 mov	 ecx, DWORD PTR [eax+8844]
  006e1	03 4d 10	 add	 ecx, DWORD PTR _Gifts$[ebp]
  006e4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  006e7	89 8a 8c 22 00
	00		 mov	 DWORD PTR [edx+8844], ecx

; 165  : 		lpObj->LevelUpPoint += Gifts;

  006ed	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  006f0	8b 88 c0 00 00
	00		 mov	 ecx, DWORD PTR [eax+192]
  006f6	03 4d 10	 add	 ecx, DWORD PTR _Gifts$[ebp]
  006f9	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  006fc	89 8a c0 00 00
	00		 mov	 DWORD PTR [edx+192], ecx

; 166  : 		GCLevelUpMsgSend(lpObj->m_Index, 0);

  00702	6a 00		 push	 0
  00704	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00707	8b 08		 mov	 ecx, DWORD PTR [eax]
  00709	51		 push	 ecx
  0070a	e8 00 00 00 00	 call	 ?GCLevelUpMsgSend@@YAXHH@Z ; GCLevelUpMsgSend
  0070f	83 c4 08	 add	 esp, 8
  00712	e9 d3 01 00 00	 jmp	 $LN1@Pressent
$LN13@Pressent:

; 167  : 	}
; 168  : 	else if(Present == 3)

  00717	83 7d 0c 03	 cmp	 DWORD PTR _Present$[ebp], 3
  0071b	75 4f		 jne	 SHORT $LN11@Pressent

; 169  : 	{
; 170  : 		ItemSerialCreateSend(lpObj->m_Index,(BYTE)lpObj->MapNumber,(BYTE)lpObj->X,(BYTE)lpObj->Y,Gifts,(BYTE)Level,0,0,0,0,lpObj->m_Index,0,0);

  0071d	6a 00		 push	 0
  0071f	6a 00		 push	 0
  00721	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00724	8b 08		 mov	 ecx, DWORD PTR [eax]
  00726	51		 push	 ecx
  00727	6a 00		 push	 0
  00729	6a 00		 push	 0
  0072b	6a 00		 push	 0
  0072d	6a 00		 push	 0
  0072f	0f b6 55 14	 movzx	 edx, BYTE PTR _Level$[ebp]
  00733	52		 push	 edx
  00734	8b 45 10	 mov	 eax, DWORD PTR _Gifts$[ebp]
  00737	50		 push	 eax
  00738	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0073b	0f b6 91 46 01
	00 00		 movzx	 edx, BYTE PTR [ecx+326]
  00742	52		 push	 edx
  00743	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00746	0f b6 88 44 01
	00 00		 movzx	 ecx, BYTE PTR [eax+324]
  0074d	51		 push	 ecx
  0074e	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00751	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  00758	50		 push	 eax
  00759	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0075c	8b 11		 mov	 edx, DWORD PTR [ecx]
  0075e	52		 push	 edx
  0075f	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  00764	83 c4 34	 add	 esp, 52			; 00000034H
  00767	e9 7e 01 00 00	 jmp	 $LN1@Pressent
$LN11@Pressent:

; 171  : 	}
; 172  : 	else if(Present == 4)

  0076c	83 7d 0c 04	 cmp	 DWORD PTR _Present$[ebp], 4
  00770	75 40		 jne	 SHORT $LN9@Pressent

; 173  : 	{
; 174  : 		MessageChat(lpObj->m_Index,g_ExText.GetText(105),this->NameQuest,Gifts);

  00772	8b 45 10	 mov	 eax, DWORD PTR _Gifts$[ebp]
  00775	50		 push	 eax
  00776	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00779	83 c1 08	 add	 ecx, 8
  0077c	51		 push	 ecx
  0077d	6a 69		 push	 105			; 00000069H
  0077f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExText@@3VCExText@@A ; g_ExText
  00784	e8 00 00 00 00	 call	 ?GetText@CExText@@QAEPADH@Z ; CExText::GetText
  00789	50		 push	 eax
  0078a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0078d	8b 02		 mov	 eax, DWORD PTR [edx]
  0078f	50		 push	 eax
  00790	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  00795	83 c4 10	 add	 esp, 16			; 00000010H

; 175  : 		lpObj->ExCred += Gifts;

  00798	db 45 10	 fild	 DWORD PTR _Gifts$[ebp]
  0079b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0079e	d8 80 a8 22 00
	00		 fadd	 DWORD PTR [eax+8872]
  007a4	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  007a7	d9 99 a8 22 00
	00		 fstp	 DWORD PTR [ecx+8872]
  007ad	e9 38 01 00 00	 jmp	 $LN1@Pressent
$LN9@Pressent:

; 176  : 		//ExPCPointSystem.InitPCPointForPlayer(lpObj,lpObj->PCPoint,lpObj->ExCred);
; 177  : 	}
; 178  : 	else if(Present == 5)

  007b2	83 7d 0c 05	 cmp	 DWORD PTR _Present$[ebp], 5
  007b6	75 50		 jne	 SHORT $LN7@Pressent

; 179  : 	{
; 180  : 		MessageChat(lpObj->m_Index,g_ExText.GetText(106),this->NameQuest,Gifts);

  007b8	8b 45 10	 mov	 eax, DWORD PTR _Gifts$[ebp]
  007bb	50		 push	 eax
  007bc	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  007bf	83 c1 08	 add	 ecx, 8
  007c2	51		 push	 ecx
  007c3	6a 6a		 push	 106			; 0000006aH
  007c5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExText@@3VCExText@@A ; g_ExText
  007ca	e8 00 00 00 00	 call	 ?GetText@CExText@@QAEPADH@Z ; CExText::GetText
  007cf	50		 push	 eax
  007d0	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  007d3	8b 02		 mov	 eax, DWORD PTR [edx]
  007d5	50		 push	 eax
  007d6	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  007db	83 c4 10	 add	 esp, 16			; 00000010H

; 181  : 		lpObj->GameShop.WCoinC += Gifts;

  007de	db 45 10	 fild	 DWORD PTR _Gifts$[ebp]
  007e1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  007e4	dc 80 00 23 00
	00		 fadd	 QWORD PTR [eax+8960]
  007ea	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  007ed	dd 99 00 23 00
	00		 fstp	 QWORD PTR [ecx+8960]

; 182  : 		gGameShop.GDSaveUserInfo(lpObj->m_Index);

  007f3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  007f6	8b 08		 mov	 ecx, DWORD PTR [eax]
  007f8	51		 push	 ecx
  007f9	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  007fe	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo
  00803	e9 e2 00 00 00	 jmp	 $LN1@Pressent
$LN7@Pressent:

; 183  : 	}
; 184  : 	else if(Present == 6)

  00808	83 7d 0c 06	 cmp	 DWORD PTR _Present$[ebp], 6
  0080c	75 50		 jne	 SHORT $LN5@Pressent

; 185  : 	{
; 186  : 		MessageChat(lpObj->m_Index,g_ExText.GetText(107),this->NameQuest,Gifts);

  0080e	8b 45 10	 mov	 eax, DWORD PTR _Gifts$[ebp]
  00811	50		 push	 eax
  00812	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00815	83 c1 08	 add	 ecx, 8
  00818	51		 push	 ecx
  00819	6a 6b		 push	 107			; 0000006bH
  0081b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExText@@3VCExText@@A ; g_ExText
  00820	e8 00 00 00 00	 call	 ?GetText@CExText@@QAEPADH@Z ; CExText::GetText
  00825	50		 push	 eax
  00826	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00829	8b 02		 mov	 eax, DWORD PTR [edx]
  0082b	50		 push	 eax
  0082c	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  00831	83 c4 10	 add	 esp, 16			; 00000010H

; 187  : 		lpObj->GameShop.WCoinP += Gifts;

  00834	db 45 10	 fild	 DWORD PTR _Gifts$[ebp]
  00837	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0083a	dc 80 f8 22 00
	00		 fadd	 QWORD PTR [eax+8952]
  00840	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00843	dd 99 f8 22 00
	00		 fstp	 QWORD PTR [ecx+8952]

; 188  : 		gGameShop.GDSaveUserInfo(lpObj->m_Index);

  00849	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0084c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0084e	51		 push	 ecx
  0084f	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  00854	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo
  00859	e9 8c 00 00 00	 jmp	 $LN1@Pressent
$LN5@Pressent:

; 189  : 	}
; 190  : 	else if(Present == 7)

  0085e	83 7d 0c 07	 cmp	 DWORD PTR _Present$[ebp], 7
  00862	75 4d		 jne	 SHORT $LN3@Pressent

; 191  : 	{
; 192  : 		MessageChat(lpObj->m_Index,g_ExText.GetText(108),this->NameQuest,Gifts);

  00864	8b 45 10	 mov	 eax, DWORD PTR _Gifts$[ebp]
  00867	50		 push	 eax
  00868	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0086b	83 c1 08	 add	 ecx, 8
  0086e	51		 push	 ecx
  0086f	6a 6c		 push	 108			; 0000006cH
  00871	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExText@@3VCExText@@A ; g_ExText
  00876	e8 00 00 00 00	 call	 ?GetText@CExText@@QAEPADH@Z ; CExText::GetText
  0087b	50		 push	 eax
  0087c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0087f	8b 02		 mov	 eax, DWORD PTR [edx]
  00881	50		 push	 eax
  00882	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  00887	83 c4 10	 add	 esp, 16			; 00000010H

; 193  : 		lpObj->GameShop.GoblinPoint += Gifts;

  0088a	db 45 10	 fild	 DWORD PTR _Gifts$[ebp]
  0088d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00890	dc 80 08 23 00
	00		 fadd	 QWORD PTR [eax+8968]
  00896	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00899	dd 99 08 23 00
	00		 fstp	 QWORD PTR [ecx+8968]

; 194  : 		gGameShop.GDSaveUserInfo(lpObj->m_Index);

  0089f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008a2	8b 08		 mov	 ecx, DWORD PTR [eax]
  008a4	51		 push	 ecx
  008a5	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  008aa	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo
  008af	eb 39		 jmp	 SHORT $LN1@Pressent
$LN3@Pressent:

; 195  : 	}
; 196  : 	else if(Present == 8)

  008b1	83 7d 0c 08	 cmp	 DWORD PTR _Present$[ebp], 8
  008b5	75 33		 jne	 SHORT $LN1@Pressent

; 197  : 	{
; 198  : 		MessageChat(lpObj->m_Index,"@[%s]: NSPoint %d!",this->NameQuest,Gifts);

  008b7	8b 45 10	 mov	 eax, DWORD PTR _Gifts$[ebp]
  008ba	50		 push	 eax
  008bb	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  008be	83 c1 08	 add	 ecx, 8
  008c1	51		 push	 ecx
  008c2	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@IGJPMNMJ@?$EA?$FL?$CFs?$FN?3?5NSPoint?5?$CFd?$CB?$AA@
  008c7	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  008ca	8b 02		 mov	 eax, DWORD PTR [edx]
  008cc	50		 push	 eax
  008cd	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  008d2	83 c4 10	 add	 esp, 16			; 00000010H

; 199  : 		lpObj->PCPoint += Gifts;

  008d5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008d8	8b 88 88 22 00
	00		 mov	 ecx, DWORD PTR [eax+8840]
  008de	03 4d 10	 add	 ecx, DWORD PTR _Gifts$[ebp]
  008e1	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  008e4	89 8a 88 22 00
	00		 mov	 DWORD PTR [edx+8840], ecx
$LN1@Pressent:

; 200  : 		//ExPCPointSystem.InitPCPointForPlayer(lpObj,lpObj->PCPoint,lpObj->ExCred);
; 201  : 	}
; 202  : 	ExFireCracker(lpObj->m_Index, lpObj->X, lpObj->Y);

  008ea	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008ed	0f b6 88 46 01
	00 00		 movzx	 ecx, BYTE PTR [eax+326]
  008f4	51		 push	 ecx
  008f5	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  008f8	0f b6 82 44 01
	00 00		 movzx	 eax, BYTE PTR [edx+324]
  008ff	50		 push	 eax
  00900	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00903	8b 11		 mov	 edx, DWORD PTR [ecx]
  00905	52		 push	 edx
  00906	e8 00 00 00 00	 call	 ?ExFireCracker@@YAXHEE@Z ; ExFireCracker
  0090b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 203  : }

  0090e	5f		 pop	 edi
  0090f	5e		 pop	 esi
  00910	5b		 pop	 ebx
  00911	8b e5		 mov	 esp, ebp
  00913	5d		 pop	 ebp
  00914	c2 10 00	 ret	 16			; 00000010H
?Pressent@cExQuest@@QAEXPAUOBJECTSTRUCT@@HHH@Z ENDP	; cExQuest::Pressent
_TEXT	ENDS
END
