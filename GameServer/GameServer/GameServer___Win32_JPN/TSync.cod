; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\common\TSync.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??0TSync@@QAE@XZ				; TSync::TSync
EXTRN	__imp__InitializeCriticalSection@4:PROC
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\common\tsync.cpp
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0TSync@@QAE@XZ PROC					; TSync::TSync
; _this$ = ecx

; 6    : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 7    : 	this->m_nLock=0;

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	c7 40 18 00 00
	00 00		 mov	 DWORD PTR [eax+24], 0

; 8    : 	InitializeCriticalSection(&this->m_cs);

  00016	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00019	50		 push	 eax
  0001a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InitializeCriticalSection@4

; 9    : }

  00020	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00023	5f		 pop	 edi
  00024	5e		 pop	 esi
  00025	5b		 pop	 ebx
  00026	8b e5		 mov	 esp, ebp
  00028	5d		 pop	 ebp
  00029	c3		 ret	 0
??0TSync@@QAE@XZ ENDP					; TSync::TSync
_TEXT	ENDS
PUBLIC	??1TSync@@QAE@XZ				; TSync::~TSync
EXTRN	__imp__DeleteCriticalSection@4:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
??1TSync@@QAE@XZ PROC					; TSync::~TSync
; _this$ = ecx

; 12   : {

  00030	55		 push	 ebp
  00031	8b ec		 mov	 ebp, esp
  00033	83 ec 44	 sub	 esp, 68			; 00000044H
  00036	53		 push	 ebx
  00037	56		 push	 esi
  00038	57		 push	 edi
  00039	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 13   : 	DeleteCriticalSection(&this->m_cs);

  0003c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0003f	50		 push	 eax
  00040	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteCriticalSection@4

; 14   : }

  00046	5f		 pop	 edi
  00047	5e		 pop	 esi
  00048	5b		 pop	 ebx
  00049	8b e5		 mov	 esp, ebp
  0004b	5d		 pop	 ebp
  0004c	c3		 ret	 0
??1TSync@@QAE@XZ ENDP					; TSync::~TSync
_TEXT	ENDS
PUBLIC	?Lock@TSync@@QAEXXZ				; TSync::Lock
EXTRN	__imp__InterlockedIncrement@4:PROC
EXTRN	__imp__EnterCriticalSection@4:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
?Lock@TSync@@QAEXXZ PROC				; TSync::Lock
; _this$ = ecx

; 17   : {

  00050	55		 push	 ebp
  00051	8b ec		 mov	 ebp, esp
  00053	83 ec 44	 sub	 esp, 68			; 00000044H
  00056	53		 push	 ebx
  00057	56		 push	 esi
  00058	57		 push	 edi
  00059	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 18   : 	EnterCriticalSection(&this->m_cs);

  0005c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0005f	50		 push	 eax
  00060	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnterCriticalSection@4

; 19   : 	InterlockedIncrement(&this->m_nLock);

  00066	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00069	83 c0 18	 add	 eax, 24			; 00000018H
  0006c	50		 push	 eax
  0006d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InterlockedIncrement@4

; 20   : }

  00073	5f		 pop	 edi
  00074	5e		 pop	 esi
  00075	5b		 pop	 ebx
  00076	8b e5		 mov	 esp, ebp
  00078	5d		 pop	 ebp
  00079	c3		 ret	 0
?Lock@TSync@@QAEXXZ ENDP				; TSync::Lock
_TEXT	ENDS
PUBLIC	?Unlock@TSync@@QAEXXZ				; TSync::Unlock
EXTRN	__imp__LeaveCriticalSection@4:PROC
EXTRN	__imp__InterlockedDecrement@4:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_nResult$ = -8						; size = 4
_this$ = -4						; size = 4
?Unlock@TSync@@QAEXXZ PROC				; TSync::Unlock
; _this$ = ecx

; 23   : {

  00080	55		 push	 ebp
  00081	8b ec		 mov	 ebp, esp
  00083	83 ec 48	 sub	 esp, 72			; 00000048H
  00086	53		 push	 ebx
  00087	56		 push	 esi
  00088	57		 push	 edi
  00089	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 24   : 	long nResult=InterlockedDecrement(&this->m_nLock );

  0008c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0008f	83 c0 18	 add	 eax, 24			; 00000018H
  00092	50		 push	 eax
  00093	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InterlockedDecrement@4
  00099	89 45 f8	 mov	 DWORD PTR _nResult$[ebp], eax

; 25   : 	LeaveCriticalSection(&this->m_cs );

  0009c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0009f	50		 push	 eax
  000a0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LeaveCriticalSection@4

; 26   : }

  000a6	5f		 pop	 edi
  000a7	5e		 pop	 esi
  000a8	5b		 pop	 ebx
  000a9	8b e5		 mov	 esp, ebp
  000ab	5d		 pop	 ebp
  000ac	c3		 ret	 0
?Unlock@TSync@@QAEXXZ ENDP				; TSync::Unlock
_TEXT	ENDS
END
