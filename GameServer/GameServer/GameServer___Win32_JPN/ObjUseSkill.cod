; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\ObjUseSkill.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

_DATA	SEGMENT
_g_iNpcUpDfLevel_CGATE DD 01H
	DD	02H
	DD	02dc6c0H
	DD	02H
	DD	03H
	DD	02dc6c0H
	DD	03H
	DD	04H
	DD	02dc6c0H
_g_iNpcUpDfLevel_CSTATUE DD 01H
	DD	03H
	DD	02dc6c0H
	DD	02H
	DD	05H
	DD	02dc6c0H
	DD	03H
	DD	07H
	DD	02dc6c0H
_g_iNpcUpMaxHP_CGATE DD 02625a0H
	DD	02H
	DD	0f4240H
	DD	03567e0H
	DD	03H
	DD	0f4240H
	DD	04f5880H
	DD	04H
	DD	0f4240H
_g_iNpcUpMaxHP_CSTATUE DD 02191c0H
	DD	03H
	DD	0f4240H
	DD	033e140H
	DD	05H
	DD	0f4240H
	DD	04c4b40H
	DD	07H
	DD	0f4240H
_g_iNpcUpRgLevel_CSTATUE DD 01H
	DD	03H
	DD	04c4b40H
	DD	02H
	DD	05H
	DD	04c4b40H
	DD	03H
	DD	07H
	DD	04c4b40H
_g_iCsUserReSpawnArea DD 023H
	DD	011H
	DD	090H
	DD	030H
	DD	04aH
	DD	090H
	DD	073H
	DD	09aH
	DD	023H
	DD	011H
	DD	090H
	DD	030H
_g_iNpcDefense_CGATE DD 064H
	DD	0b4H
	DD	012cH
	DD	0208H
_g_iNpcDefense_CSTATUE DD 050H
	DD	0b4H
	DD	0154H
	DD	0226H
_g_iCastleWallStepAxisY DD 071H
	DD	0a0H
	DD	0cbH
_g_sttBLOODCASTLE_LEVEL DD 0fH
	DD	050H
	DD	0aH
	DD	03cH
	DD	051H
	DD	082H
	DD	03dH
	DD	06eH
	DD	083H
	DD	0b4H
	DD	06fH
	DD	0a0H
	DD	0b5H
	DD	0e6H
	DD	0a1H
	DD	0d2H
	DD	0e7H
	DD	0118H
	DD	0d3H
	DD	0104H
	DD	0119H
	DD	014aH
	DD	0105H
	DD	0136H
	DD	014bH
	DD	0190H
	DD	0137H
	DD	0190H
	DD	0fH
	DD	0257H
	DD	0aH
	DD	0257H
_g_sttCHAOSCASTLE_LEVEL DD 0fH
	DD	031H
	DD	0fH
	DD	01dH
	DD	032H
	DD	077H
	DD	01eH
	DD	063H
	DD	078H
	DD	0b3H
	DD	064H
	DD	09fH
	DD	0b4H
	DD	0efH
	DD	0a0H
	DD	0dbH
	DD	0f0H
	DD	012bH
	DD	0dcH
	DD	0117H
	DD	012cH
	DD	0190H
	DD	0118H
	DD	0190H
	DD	0190H
	DD	0257H
	DD	0190H
	DD	0257H
_g_iChaosCastle_BlowOutDistance DD 03H
	DD	04H
	DD	03H
	DD	04H
	DD	02H
	DD	03H
	DD	00H
	DD	01H
_g_iChaosCastle_BlowOutDamage DD 0fH
	DD	0fH
	DD	0aH
	DD	05H
_g_iChaosCastle_EnterCost DD 061a8H
	DD	013880H
	DD	0249f0H
	DD	03d090H
	DD	061a80H
	DD	09eb10H
	DD	0f4240H
_g_iChaosCastle_GuardSetValue DD 09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
_g_iChaosCastle_MonsterItems DD 01c0dH
	DD	01H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	04H
_g_iChaosCastle_MonsterItemsNewServer DD 00H
	DD	00H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	01H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	01H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	03H
_g_iChaosCastle_GroundAxis DD 017H
	DD	04bH
	DD	02cH
	DD	06cH
_g_iChaosCastle_DamageAxis DD 017H
	DD	04bH
	DD	02cH
	DD	06cH
	DD	019H
	DD	04dH
	DD	02aH
	DD	06aH
	DD	01bH
	DD	04fH
	DD	028H
	DD	068H
	DD	01dH
	DD	051H
	DD	026H
	DD	066H
_g_iChaosCastle_MapHollowZone DD 017H
	DD	04bH
	DD	02cH
	DD	04cH
	DD	02bH
	DD	04dH
	DD	02cH
	DD	06cH
	DD	017H
	DD	06bH
	DD	02aH
	DD	06cH
	DD	017H
	DD	04dH
	DD	018H
	DD	06aH
	DD	017H
	DD	04bH
	DD	02cH
	DD	04cH
	DD	02bH
	DD	04dH
	DD	02cH
	DD	06cH
	DD	017H
	DD	06bH
	DD	02aH
	DD	06cH
	DD	017H
	DD	04dH
	DD	018H
	DD	06aH
	DD	019H
	DD	04dH
	DD	02aH
	DD	04eH
	DD	029H
	DD	04fH
	DD	02aH
	DD	06aH
	DD	019H
	DD	069H
	DD	028H
	DD	06aH
	DD	019H
	DD	04fH
	DD	01aH
	DD	068H
	DD	01bH
	DD	04fH
	DD	028H
	DD	050H
	DD	027H
	DD	051H
	DD	028H
	DD	068H
	DD	01bH
	DD	067H
	DD	026H
	DD	068H
	DD	01bH
	DD	051H
	DD	01cH
	DD	066H
_DATA	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	83 e8 01	 sub	 eax, 1
  0000f	89 45 10	 mov	 DWORD PTR ___n$[ebp], eax
  00012	78 11		 js	 SHORT $LN3@vector
  00014	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00017	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  0001a	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  0001d	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  00020	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  00023	eb e4		 jmp	 SHORT $LN2@vector
$LN3@vector:
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	??_7CObjUseSkill@@6B@				; CObjUseSkill::`vftable'
PUBLIC	??0CObjUseSkill@@QAE@XZ				; CObjUseSkill::CObjUseSkill
PUBLIC	??_R4CObjUseSkill@@6B@				; CObjUseSkill::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCObjUseSkill@@@8			; CObjUseSkill `RTTI Type Descriptor'
PUBLIC	??_R3CObjUseSkill@@8				; CObjUseSkill::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CObjUseSkill@@8				; CObjUseSkill::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CObjUseSkill@@8			; CObjUseSkill::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	??_ECObjUseSkill@@UAEPAXI@Z:PROC		; CObjUseSkill::`vector deleting destructor'
;	COMDAT ??_R1A@?0A@EA@CObjUseSkill@@8
; File d:\projects\exteam6.3\source\gameserver\gameserver\objuseskill.cpp
rdata$r	SEGMENT
??_R1A@?0A@EA@CObjUseSkill@@8 DD FLAT:??_R0?AVCObjUseSkill@@@8 ; CObjUseSkill::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CObjUseSkill@@8
rdata$r	ENDS
;	COMDAT ??_R2CObjUseSkill@@8
rdata$r	SEGMENT
??_R2CObjUseSkill@@8 DD FLAT:??_R1A@?0A@EA@CObjUseSkill@@8 ; CObjUseSkill::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CObjUseSkill@@8
rdata$r	SEGMENT
??_R3CObjUseSkill@@8 DD 00H				; CObjUseSkill::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CObjUseSkill@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCObjUseSkill@@@8
_DATA	SEGMENT
??_R0?AVCObjUseSkill@@@8 DD FLAT:??_7type_info@@6B@	; CObjUseSkill `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCObjUseSkill@@', 00H
_DATA	ENDS
;	COMDAT ??_R4CObjUseSkill@@6B@
rdata$r	SEGMENT
??_R4CObjUseSkill@@6B@ DD 00H				; CObjUseSkill::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCObjUseSkill@@@8
	DD	FLAT:??_R3CObjUseSkill@@8
rdata$r	ENDS
;	COMDAT ??_7CObjUseSkill@@6B@
CONST	SEGMENT
??_7CObjUseSkill@@6B@ DD FLAT:??_R4CObjUseSkill@@6B@	; CObjUseSkill::`vftable'
	DD	FLAT:??_ECObjUseSkill@@UAEPAXI@Z
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0CObjUseSkill@@QAE@XZ PROC				; CObjUseSkill::CObjUseSkill
; _this$ = ecx

; 36   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CObjUseSkill@@6B@

; 37   : 
; 38   : }

  00015	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00018	5f		 pop	 edi
  00019	5e		 pop	 esi
  0001a	5b		 pop	 ebx
  0001b	8b e5		 mov	 esp, ebp
  0001d	5d		 pop	 ebp
  0001e	c3		 ret	 0
??0CObjUseSkill@@QAE@XZ ENDP				; CObjUseSkill::CObjUseSkill
_TEXT	ENDS
PUBLIC	??1CObjUseSkill@@UAE@XZ				; CObjUseSkill::~CObjUseSkill
EXTRN	??3@YAXPAX@Z:PROC				; operator delete
; Function compile flags: /Odtp /ZI
;	COMDAT ??_GCObjUseSkill@@UAEPAXI@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___flags$ = 8						; size = 4
??_GCObjUseSkill@@UAEPAXI@Z PROC			; CObjUseSkill::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ??1CObjUseSkill@@UAE@XZ	; CObjUseSkill::~CObjUseSkill
  00014	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00017	83 e0 01	 and	 eax, 1
  0001a	74 0c		 je	 SHORT $LN1@scalar
  0001c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001f	50		 push	 eax
  00020	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00025	83 c4 04	 add	 esp, 4
$LN1@scalar:
  00028	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002b	5f		 pop	 edi
  0002c	5e		 pop	 esi
  0002d	5b		 pop	 ebx
  0002e	8b e5		 mov	 esp, ebp
  00030	5d		 pop	 ebp
  00031	c2 04 00	 ret	 4
??_GCObjUseSkill@@UAEPAXI@Z ENDP			; CObjUseSkill::`scalar deleting destructor'
; Function compile flags: /Odtp /ZI
_TEXT	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
??1CObjUseSkill@@UAE@XZ PROC				; CObjUseSkill::~CObjUseSkill
; _this$ = ecx

; 41   : {

  00020	55		 push	 ebp
  00021	8b ec		 mov	 ebp, esp
  00023	83 ec 44	 sub	 esp, 68			; 00000044H
  00026	53		 push	 ebx
  00027	56		 push	 esi
  00028	57		 push	 edi
  00029	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0002c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CObjUseSkill@@6B@

; 42   : 
; 43   : }

  00035	5f		 pop	 edi
  00036	5e		 pop	 esi
  00037	5b		 pop	 ebx
  00038	8b e5		 mov	 esp, ebp
  0003a	5d		 pop	 ebp
  0003b	c3		 ret	 0
??1CObjUseSkill@@UAE@XZ ENDP				; CObjUseSkill::~CObjUseSkill
_TEXT	ENDS
PUBLIC	?sqrt@@YAMM@Z					; sqrt
PUBLIC	?GetTargetLinePath@CObjUseSkill@@QAEHHHHHPAH0H@Z ; CObjUseSkill::GetTargetLinePath
EXTRN	__fltused:DWORD
EXTRN	__ftol2_sse:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv181 = -112						; size = 4
_count$ = -44						; size = 4
_dis$ = -40						; size = 4
_incy$ = -36						; size = 4
_incx$ = -32						; size = 4
_error$ = -28						; size = 4
_half$ = -24						; size = 4
_delta_y$ = -20						; size = 4
_delta_x$ = -16						; size = 4
_y$ = -12						; size = 4
_x$ = -8						; size = 4
_this$ = -4						; size = 4
_sx$ = 8						; size = 4
_sy$ = 12						; size = 4
_tx$ = 16						; size = 4
_ty$ = 20						; size = 4
_PathX$ = 24						; size = 4
_PathY$ = 28						; size = 4
_distance$ = 32						; size = 4
?GetTargetLinePath@CObjUseSkill@@QAEHHHHHPAH0H@Z PROC	; CObjUseSkill::GetTargetLinePath
; _this$ = ecx

; 46   : {

  00040	55		 push	 ebp
  00041	8b ec		 mov	 ebp, esp
  00043	83 ec 70	 sub	 esp, 112		; 00000070H
  00046	53		 push	 ebx
  00047	56		 push	 esi
  00048	57		 push	 edi
  00049	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 47   : 	int x,y;
; 48   : 	int delta_x,delta_y;
; 49   : 	int half;
; 50   : 
; 51   : 	int error = 0;

  0004c	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _error$[ebp], 0

; 52   : 
; 53   : 	int incx = 1,incy = 1;

  00053	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _incx$[ebp], 1
  0005a	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _incy$[ebp], 1

; 54   : 	int dis;
; 55   : 	int count;
; 56   : 
; 57   : 	if(sx > tx)

  00061	8b 45 08	 mov	 eax, DWORD PTR _sx$[ebp]
  00064	3b 45 10	 cmp	 eax, DWORD PTR _tx$[ebp]
  00067	7e 12		 jle	 SHORT $LN26@GetTargetL

; 58   : 	{
; 59   : 		incx = -1;

  00069	c7 45 e0 ff ff
	ff ff		 mov	 DWORD PTR _incx$[ebp], -1

; 60   : 		delta_x = sx - tx;

  00070	8b 45 08	 mov	 eax, DWORD PTR _sx$[ebp]
  00073	2b 45 10	 sub	 eax, DWORD PTR _tx$[ebp]
  00076	89 45 f0	 mov	 DWORD PTR _delta_x$[ebp], eax

; 61   : 	}
; 62   : 	else

  00079	eb 09		 jmp	 SHORT $LN25@GetTargetL
$LN26@GetTargetL:

; 63   : 	{
; 64   : 		delta_x = tx - sx;

  0007b	8b 45 10	 mov	 eax, DWORD PTR _tx$[ebp]
  0007e	2b 45 08	 sub	 eax, DWORD PTR _sx$[ebp]
  00081	89 45 f0	 mov	 DWORD PTR _delta_x$[ebp], eax
$LN25@GetTargetL:

; 65   : 	}
; 66   : 
; 67   : 	if(sy > ty)

  00084	8b 45 0c	 mov	 eax, DWORD PTR _sy$[ebp]
  00087	3b 45 14	 cmp	 eax, DWORD PTR _ty$[ebp]
  0008a	7e 12		 jle	 SHORT $LN24@GetTargetL

; 68   : 	{
; 69   : 		incy = -1;

  0008c	c7 45 dc ff ff
	ff ff		 mov	 DWORD PTR _incy$[ebp], -1

; 70   : 		delta_y = sy - ty;

  00093	8b 45 0c	 mov	 eax, DWORD PTR _sy$[ebp]
  00096	2b 45 14	 sub	 eax, DWORD PTR _ty$[ebp]
  00099	89 45 ec	 mov	 DWORD PTR _delta_y$[ebp], eax

; 71   : 	}
; 72   : 	else

  0009c	eb 09		 jmp	 SHORT $LN23@GetTargetL
$LN24@GetTargetL:

; 73   : 	{
; 74   : 		delta_y = ty - sy;

  0009e	8b 45 14	 mov	 eax, DWORD PTR _ty$[ebp]
  000a1	2b 45 0c	 sub	 eax, DWORD PTR _sy$[ebp]
  000a4	89 45 ec	 mov	 DWORD PTR _delta_y$[ebp], eax
$LN23@GetTargetL:

; 75   : 	}
; 76   : 
; 77   : 	dis = (int)(sqrt((float)(delta_x * delta_x + delta_y * delta_y)));

  000a7	8b 45 f0	 mov	 eax, DWORD PTR _delta_x$[ebp]
  000aa	0f af 45 f0	 imul	 eax, DWORD PTR _delta_x$[ebp]
  000ae	8b 4d ec	 mov	 ecx, DWORD PTR _delta_y$[ebp]
  000b1	0f af 4d ec	 imul	 ecx, DWORD PTR _delta_y$[ebp]
  000b5	03 c1		 add	 eax, ecx
  000b7	89 45 90	 mov	 DWORD PTR tv181[ebp], eax
  000ba	db 45 90	 fild	 DWORD PTR tv181[ebp]
  000bd	51		 push	 ecx
  000be	d9 1c 24	 fstp	 DWORD PTR [esp]
  000c1	e8 00 00 00 00	 call	 ?sqrt@@YAMM@Z		; sqrt
  000c6	83 c4 04	 add	 esp, 4
  000c9	e8 00 00 00 00	 call	 __ftol2_sse
  000ce	89 45 d8	 mov	 DWORD PTR _dis$[ebp], eax

; 78   : 	dis = distance - dis;

  000d1	8b 45 20	 mov	 eax, DWORD PTR _distance$[ebp]
  000d4	2b 45 d8	 sub	 eax, DWORD PTR _dis$[ebp]
  000d7	89 45 d8	 mov	 DWORD PTR _dis$[ebp], eax

; 79   : 
; 80   : 	count = 0;

  000da	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 81   : 	PathX[count] = sx;

  000e1	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]
  000e4	8b 4d 18	 mov	 ecx, DWORD PTR _PathX$[ebp]
  000e7	8b 55 08	 mov	 edx, DWORD PTR _sx$[ebp]
  000ea	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 82   : 	PathY[count] = sy;

  000ed	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]
  000f0	8b 4d 1c	 mov	 ecx, DWORD PTR _PathY$[ebp]
  000f3	8b 55 0c	 mov	 edx, DWORD PTR _sy$[ebp]
  000f6	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 83   : 	count++;

  000f9	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]
  000fc	83 c0 01	 add	 eax, 1
  000ff	89 45 d4	 mov	 DWORD PTR _count$[ebp], eax

; 84   : 
; 85   : 	if(delta_x > delta_y)

  00102	8b 45 f0	 mov	 eax, DWORD PTR _delta_x$[ebp]
  00105	3b 45 ec	 cmp	 eax, DWORD PTR _delta_y$[ebp]
  00108	0f 8e e8 00 00
	00		 jle	 $LN22@GetTargetL

; 86   : 	{
; 87   : 		y = sy;

  0010e	8b 45 0c	 mov	 eax, DWORD PTR _sy$[ebp]
  00111	89 45 f4	 mov	 DWORD PTR _y$[ebp], eax

; 88   : 		half = delta_x / 2;

  00114	8b 45 f0	 mov	 eax, DWORD PTR _delta_x$[ebp]
  00117	99		 cdq
  00118	2b c2		 sub	 eax, edx
  0011a	d1 f8		 sar	 eax, 1
  0011c	89 45 e8	 mov	 DWORD PTR _half$[ebp], eax

; 89   : 
; 90   : 		if(incx > 0)

  0011f	83 7d e0 00	 cmp	 DWORD PTR _incx$[ebp], 0
  00123	7e 67		 jle	 SHORT $LN21@GetTargetL

; 91   : 		{
; 92   : 			for(x = (sx+1); x <= (tx + dis); x++)

  00125	8b 45 08	 mov	 eax, DWORD PTR _sx$[ebp]
  00128	83 c0 01	 add	 eax, 1
  0012b	89 45 f8	 mov	 DWORD PTR _x$[ebp], eax
  0012e	eb 09		 jmp	 SHORT $LN20@GetTargetL
$LN19@GetTargetL:
  00130	8b 45 f8	 mov	 eax, DWORD PTR _x$[ebp]
  00133	83 c0 01	 add	 eax, 1
  00136	89 45 f8	 mov	 DWORD PTR _x$[ebp], eax
$LN20@GetTargetL:
  00139	8b 45 10	 mov	 eax, DWORD PTR _tx$[ebp]
  0013c	03 45 d8	 add	 eax, DWORD PTR _dis$[ebp]
  0013f	39 45 f8	 cmp	 DWORD PTR _x$[ebp], eax
  00142	7f 46		 jg	 SHORT $LN18@GetTargetL

; 93   : 			{
; 94   : 				error += delta_y;

  00144	8b 45 e4	 mov	 eax, DWORD PTR _error$[ebp]
  00147	03 45 ec	 add	 eax, DWORD PTR _delta_y$[ebp]
  0014a	89 45 e4	 mov	 DWORD PTR _error$[ebp], eax

; 95   : 
; 96   : 				if(error > half)

  0014d	8b 45 e4	 mov	 eax, DWORD PTR _error$[ebp]
  00150	3b 45 e8	 cmp	 eax, DWORD PTR _half$[ebp]
  00153	7e 12		 jle	 SHORT $LN17@GetTargetL

; 97   : 				{
; 98   : 					y += incy;

  00155	8b 45 f4	 mov	 eax, DWORD PTR _y$[ebp]
  00158	03 45 dc	 add	 eax, DWORD PTR _incy$[ebp]
  0015b	89 45 f4	 mov	 DWORD PTR _y$[ebp], eax

; 99   : 					error -= delta_x;

  0015e	8b 45 e4	 mov	 eax, DWORD PTR _error$[ebp]
  00161	2b 45 f0	 sub	 eax, DWORD PTR _delta_x$[ebp]
  00164	89 45 e4	 mov	 DWORD PTR _error$[ebp], eax
$LN17@GetTargetL:

; 100  : 				}
; 101  : 
; 102  : 				PathX[count] = x;

  00167	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]
  0016a	8b 4d 18	 mov	 ecx, DWORD PTR _PathX$[ebp]
  0016d	8b 55 f8	 mov	 edx, DWORD PTR _x$[ebp]
  00170	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 103  : 				PathY[count] = y;

  00173	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]
  00176	8b 4d 1c	 mov	 ecx, DWORD PTR _PathY$[ebp]
  00179	8b 55 f4	 mov	 edx, DWORD PTR _y$[ebp]
  0017c	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 104  : 
; 105  : 				count++;

  0017f	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]
  00182	83 c0 01	 add	 eax, 1
  00185	89 45 d4	 mov	 DWORD PTR _count$[ebp], eax

; 106  : 			}

  00188	eb a6		 jmp	 SHORT $LN19@GetTargetL
$LN18@GetTargetL:

; 107  : 		}
; 108  : 		else

  0018a	eb 65		 jmp	 SHORT $LN13@GetTargetL
$LN21@GetTargetL:

; 109  : 		{
; 110  : 			for(x = (sx-1); x >= (tx - dis);x--)

  0018c	8b 45 08	 mov	 eax, DWORD PTR _sx$[ebp]
  0018f	83 e8 01	 sub	 eax, 1
  00192	89 45 f8	 mov	 DWORD PTR _x$[ebp], eax
  00195	eb 09		 jmp	 SHORT $LN15@GetTargetL
$LN14@GetTargetL:
  00197	8b 45 f8	 mov	 eax, DWORD PTR _x$[ebp]
  0019a	83 e8 01	 sub	 eax, 1
  0019d	89 45 f8	 mov	 DWORD PTR _x$[ebp], eax
$LN15@GetTargetL:
  001a0	8b 45 10	 mov	 eax, DWORD PTR _tx$[ebp]
  001a3	2b 45 d8	 sub	 eax, DWORD PTR _dis$[ebp]
  001a6	39 45 f8	 cmp	 DWORD PTR _x$[ebp], eax
  001a9	7c 46		 jl	 SHORT $LN13@GetTargetL

; 111  : 			{
; 112  : 				error += delta_y;

  001ab	8b 45 e4	 mov	 eax, DWORD PTR _error$[ebp]
  001ae	03 45 ec	 add	 eax, DWORD PTR _delta_y$[ebp]
  001b1	89 45 e4	 mov	 DWORD PTR _error$[ebp], eax

; 113  : 
; 114  : 				if(error > half)

  001b4	8b 45 e4	 mov	 eax, DWORD PTR _error$[ebp]
  001b7	3b 45 e8	 cmp	 eax, DWORD PTR _half$[ebp]
  001ba	7e 12		 jle	 SHORT $LN12@GetTargetL

; 115  : 				{
; 116  : 					y += incy;

  001bc	8b 45 f4	 mov	 eax, DWORD PTR _y$[ebp]
  001bf	03 45 dc	 add	 eax, DWORD PTR _incy$[ebp]
  001c2	89 45 f4	 mov	 DWORD PTR _y$[ebp], eax

; 117  : 					error -= delta_x;

  001c5	8b 45 e4	 mov	 eax, DWORD PTR _error$[ebp]
  001c8	2b 45 f0	 sub	 eax, DWORD PTR _delta_x$[ebp]
  001cb	89 45 e4	 mov	 DWORD PTR _error$[ebp], eax
$LN12@GetTargetL:

; 118  : 				}
; 119  : 
; 120  : 				PathX[count] = x;

  001ce	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]
  001d1	8b 4d 18	 mov	 ecx, DWORD PTR _PathX$[ebp]
  001d4	8b 55 f8	 mov	 edx, DWORD PTR _x$[ebp]
  001d7	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 121  : 				PathY[count] = y;

  001da	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]
  001dd	8b 4d 1c	 mov	 ecx, DWORD PTR _PathY$[ebp]
  001e0	8b 55 f4	 mov	 edx, DWORD PTR _y$[ebp]
  001e3	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 122  : 
; 123  : 				count++;

  001e6	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]
  001e9	83 c0 01	 add	 eax, 1
  001ec	89 45 d4	 mov	 DWORD PTR _count$[ebp], eax

; 124  : 			}

  001ef	eb a6		 jmp	 SHORT $LN14@GetTargetL
$LN13@GetTargetL:

; 125  : 		}
; 126  : 	}
; 127  : 	else

  001f1	e9 e3 00 00 00	 jmp	 $LN2@GetTargetL
$LN22@GetTargetL:

; 128  : 	{
; 129  : 		x = sx;

  001f6	8b 45 08	 mov	 eax, DWORD PTR _sx$[ebp]
  001f9	89 45 f8	 mov	 DWORD PTR _x$[ebp], eax

; 130  : 		half = delta_y / 2;

  001fc	8b 45 ec	 mov	 eax, DWORD PTR _delta_y$[ebp]
  001ff	99		 cdq
  00200	2b c2		 sub	 eax, edx
  00202	d1 f8		 sar	 eax, 1
  00204	89 45 e8	 mov	 DWORD PTR _half$[ebp], eax

; 131  : 
; 132  : 		if(incy > 0)

  00207	83 7d dc 00	 cmp	 DWORD PTR _incy$[ebp], 0
  0020b	7e 67		 jle	 SHORT $LN10@GetTargetL

; 133  : 		{
; 134  : 			for(y = (sy+1); y <= (ty + dis);y++)

  0020d	8b 45 0c	 mov	 eax, DWORD PTR _sy$[ebp]
  00210	83 c0 01	 add	 eax, 1
  00213	89 45 f4	 mov	 DWORD PTR _y$[ebp], eax
  00216	eb 09		 jmp	 SHORT $LN9@GetTargetL
$LN8@GetTargetL:
  00218	8b 45 f4	 mov	 eax, DWORD PTR _y$[ebp]
  0021b	83 c0 01	 add	 eax, 1
  0021e	89 45 f4	 mov	 DWORD PTR _y$[ebp], eax
$LN9@GetTargetL:
  00221	8b 45 14	 mov	 eax, DWORD PTR _ty$[ebp]
  00224	03 45 d8	 add	 eax, DWORD PTR _dis$[ebp]
  00227	39 45 f4	 cmp	 DWORD PTR _y$[ebp], eax
  0022a	7f 46		 jg	 SHORT $LN7@GetTargetL

; 135  : 			{
; 136  : 				error += delta_x;

  0022c	8b 45 e4	 mov	 eax, DWORD PTR _error$[ebp]
  0022f	03 45 f0	 add	 eax, DWORD PTR _delta_x$[ebp]
  00232	89 45 e4	 mov	 DWORD PTR _error$[ebp], eax

; 137  : 
; 138  : 				if(error > half)

  00235	8b 45 e4	 mov	 eax, DWORD PTR _error$[ebp]
  00238	3b 45 e8	 cmp	 eax, DWORD PTR _half$[ebp]
  0023b	7e 12		 jle	 SHORT $LN6@GetTargetL

; 139  : 				{
; 140  : 					x += incx;

  0023d	8b 45 f8	 mov	 eax, DWORD PTR _x$[ebp]
  00240	03 45 e0	 add	 eax, DWORD PTR _incx$[ebp]
  00243	89 45 f8	 mov	 DWORD PTR _x$[ebp], eax

; 141  : 					error -= delta_y;

  00246	8b 45 e4	 mov	 eax, DWORD PTR _error$[ebp]
  00249	2b 45 ec	 sub	 eax, DWORD PTR _delta_y$[ebp]
  0024c	89 45 e4	 mov	 DWORD PTR _error$[ebp], eax
$LN6@GetTargetL:

; 142  : 				}
; 143  : 
; 144  : 				PathX[count] = x;

  0024f	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]
  00252	8b 4d 18	 mov	 ecx, DWORD PTR _PathX$[ebp]
  00255	8b 55 f8	 mov	 edx, DWORD PTR _x$[ebp]
  00258	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 145  : 				PathY[count] = y;

  0025b	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]
  0025e	8b 4d 1c	 mov	 ecx, DWORD PTR _PathY$[ebp]
  00261	8b 55 f4	 mov	 edx, DWORD PTR _y$[ebp]
  00264	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 146  : 				count++;

  00267	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]
  0026a	83 c0 01	 add	 eax, 1
  0026d	89 45 d4	 mov	 DWORD PTR _count$[ebp], eax

; 147  : 			}

  00270	eb a6		 jmp	 SHORT $LN8@GetTargetL
$LN7@GetTargetL:

; 148  : 		}
; 149  : 		else

  00272	eb 65		 jmp	 SHORT $LN2@GetTargetL
$LN10@GetTargetL:

; 150  : 		{
; 151  : 			for(y = (sy-1);y >= (ty - dis);y--)

  00274	8b 45 0c	 mov	 eax, DWORD PTR _sy$[ebp]
  00277	83 e8 01	 sub	 eax, 1
  0027a	89 45 f4	 mov	 DWORD PTR _y$[ebp], eax
  0027d	eb 09		 jmp	 SHORT $LN4@GetTargetL
$LN3@GetTargetL:
  0027f	8b 45 f4	 mov	 eax, DWORD PTR _y$[ebp]
  00282	83 e8 01	 sub	 eax, 1
  00285	89 45 f4	 mov	 DWORD PTR _y$[ebp], eax
$LN4@GetTargetL:
  00288	8b 45 14	 mov	 eax, DWORD PTR _ty$[ebp]
  0028b	2b 45 d8	 sub	 eax, DWORD PTR _dis$[ebp]
  0028e	39 45 f4	 cmp	 DWORD PTR _y$[ebp], eax
  00291	7c 46		 jl	 SHORT $LN2@GetTargetL

; 152  : 			{
; 153  : 				error += delta_x;

  00293	8b 45 e4	 mov	 eax, DWORD PTR _error$[ebp]
  00296	03 45 f0	 add	 eax, DWORD PTR _delta_x$[ebp]
  00299	89 45 e4	 mov	 DWORD PTR _error$[ebp], eax

; 154  : 
; 155  : 				if(error > half)

  0029c	8b 45 e4	 mov	 eax, DWORD PTR _error$[ebp]
  0029f	3b 45 e8	 cmp	 eax, DWORD PTR _half$[ebp]
  002a2	7e 12		 jle	 SHORT $LN1@GetTargetL

; 156  : 				{
; 157  : 					x += incx;

  002a4	8b 45 f8	 mov	 eax, DWORD PTR _x$[ebp]
  002a7	03 45 e0	 add	 eax, DWORD PTR _incx$[ebp]
  002aa	89 45 f8	 mov	 DWORD PTR _x$[ebp], eax

; 158  : 					error -= delta_y;

  002ad	8b 45 e4	 mov	 eax, DWORD PTR _error$[ebp]
  002b0	2b 45 ec	 sub	 eax, DWORD PTR _delta_y$[ebp]
  002b3	89 45 e4	 mov	 DWORD PTR _error$[ebp], eax
$LN1@GetTargetL:

; 159  : 				}
; 160  : 
; 161  : 				PathX[count] = x;

  002b6	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]
  002b9	8b 4d 18	 mov	 ecx, DWORD PTR _PathX$[ebp]
  002bc	8b 55 f8	 mov	 edx, DWORD PTR _x$[ebp]
  002bf	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 162  : 				PathY[count] = y;

  002c2	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]
  002c5	8b 4d 1c	 mov	 ecx, DWORD PTR _PathY$[ebp]
  002c8	8b 55 f4	 mov	 edx, DWORD PTR _y$[ebp]
  002cb	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 163  : 				count++;

  002ce	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]
  002d1	83 c0 01	 add	 eax, 1
  002d4	89 45 d4	 mov	 DWORD PTR _count$[ebp], eax

; 164  : 			}

  002d7	eb a6		 jmp	 SHORT $LN3@GetTargetL
$LN2@GetTargetL:

; 165  : 		}
; 166  : 	}
; 167  : 	return count;

  002d9	8b 45 d4	 mov	 eax, DWORD PTR _count$[ebp]

; 168  : }

  002dc	5f		 pop	 edi
  002dd	5e		 pop	 esi
  002de	5b		 pop	 ebx
  002df	8b e5		 mov	 esp, ebp
  002e1	5d		 pop	 ebp
  002e2	c2 1c 00	 ret	 28			; 0000001cH
?GetTargetLinePath@CObjUseSkill@@QAEHHHHHPAH0H@Z ENDP	; CObjUseSkill::GetTargetLinePath
_TEXT	ENDS
PUBLIC	??_C@_0DB@JJPLIMIC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Apply?5Attack?5Speed?5P@ ; `string'
PUBLIC	??_C@_0EB@KGCLNBNA@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Attack?5Speed?5Is?5Wron@ ; `string'
PUBLIC	??_C@_0DE@ENPGLNLL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Kick?5DetecHackCountL@ ; `string'
PUBLIC	?SpeedHackCheck@CObjUseSkill@@QAEHH@Z		; CObjUseSkill::SpeedHackCheck
EXTRN	?bIsIgnorePacketSpeedHackDetect@@3HA:DWORD	; bIsIgnorePacketSpeedHackDetect
EXTRN	?gSpeedHackPenalty@@3HA:DWORD			; gSpeedHackPenalty
EXTRN	?CloseClient@@YAXH@Z:PROC			; CloseClient
EXTRN	?LogAddTD@@3P6AXPADZZA:DWORD			; LogAddTD
EXTRN	?Get@CMsg@@QAEPADH@Z:PROC			; CMsg::Get
EXTRN	?lMsg@@3VCMsg@@A:BYTE				; lMsg
EXTRN	?gDetectedHackKickCount@@3HA:DWORD		; gDetectedHackKickCount
EXTRN	?gIsKickDetecHackCountLimit@@3HA:DWORD		; gIsKickDetecHackCountLimit
EXTRN	?gHackCheckCount@@3KA:DWORD			; gHackCheckCount
EXTRN	__imp__GetTickCount@0:PROC
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
;	COMDAT ??_C@_0DB@JJPLIMIC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Apply?5Attack?5Speed?5P@
CONST	SEGMENT
??_C@_0DB@JJPLIMIC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Apply?5Attack?5Speed?5P@ DB '['
	DB	'%s][%s] %s Apply Attack Speed Penalty (%d left)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EB@KGCLNBNA@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Attack?5Speed?5Is?5Wron@
CONST	SEGMENT
??_C@_0EB@KGCLNBNA@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Attack?5Speed?5Is?5Wron@ DB '['
	DB	'%s][%s] %s Attack Speed Is Wrong MagicSkill (%d)(%d) Penalty '
	DB	'%d', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0DE@ENPGLNLL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Kick?5DetecHackCountL@
CONST	SEGMENT
??_C@_0DE@ENPGLNLL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Kick?5DetecHackCountL@ DB '['
	DB	'%s][%s] %s Kick DetecHackCountLimit Over User (%d)', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_iTimeCalc$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?SpeedHackCheck@CObjUseSkill@@QAEHH@Z PROC		; CObjUseSkill::SpeedHackCheck
; _this$ = ecx

; 171  : {

  002f0	55		 push	 ebp
  002f1	8b ec		 mov	 ebp, esp
  002f3	83 ec 4c	 sub	 esp, 76			; 0000004cH
  002f6	53		 push	 ebx
  002f7	56		 push	 esi
  002f8	57		 push	 edi
  002f9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 172  : 	LPOBJ lpObj = &gObj[aIndex];

  002fc	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  002ff	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00305	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0030b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 173  : 
; 174  : 	int iTimeCalc = GetTickCount() - lpObj->m_LastAttackTime;

  0030e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  00314	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00317	2b 81 6c 03 00
	00		 sub	 eax, DWORD PTR [ecx+876]
  0031d	89 45 f4	 mov	 DWORD PTR _iTimeCalc$[ebp], eax

; 175  : 
; 176  : 	if(lpObj->Type != OBJ_USER)

  00320	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00323	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  00327	83 f9 01	 cmp	 ecx, 1
  0032a	74 0a		 je	 SHORT $LN6@SpeedHackC

; 177  : 	{
; 178  : 		return TRUE;

  0032c	b8 01 00 00 00	 mov	 eax, 1
  00331	e9 e3 01 00 00	 jmp	 $LN7@SpeedHackC
$LN6@SpeedHackC:

; 179  : 	}
; 180  : 
; 181  : 	if(iTimeCalc < lpObj->m_DetectSpeedHackTime)

  00336	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00339	8b 4d f4	 mov	 ecx, DWORD PTR _iTimeCalc$[ebp]
  0033c	3b 88 74 03 00
	00		 cmp	 ecx, DWORD PTR [eax+884]
  00342	0f 8d 34 01 00
	00		 jge	 $LN5@SpeedHackC

; 182  : 	{
; 183  : 		lpObj->m_DetectCount++;

  00348	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0034b	8b 88 7c 03 00
	00		 mov	 ecx, DWORD PTR [eax+892]
  00351	83 c1 01	 add	 ecx, 1
  00354	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00357	89 8a 7c 03 00
	00		 mov	 DWORD PTR [edx+892], ecx

; 184  : 		lpObj->m_SumLastAttackTime += iTimeCalc;

  0035d	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00360	8b 88 78 03 00
	00		 mov	 ecx, DWORD PTR [eax+888]
  00366	03 4d f4	 add	 ecx, DWORD PTR _iTimeCalc$[ebp]
  00369	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0036c	89 8a 78 03 00
	00		 mov	 DWORD PTR [edx+888], ecx

; 185  : 
; 186  : 		if(lpObj->m_DetectCount > gHackCheckCount)

  00372	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00375	8b 88 7c 03 00
	00		 mov	 ecx, DWORD PTR [eax+892]
  0037b	3b 0d 00 00 00
	00		 cmp	 ecx, DWORD PTR ?gHackCheckCount@@3KA ; gHackCheckCount
  00381	0f 86 f3 00 00
	00		 jbe	 $LN4@SpeedHackC

; 187  : 		{
; 188  : 			lpObj->m_DetectedHackKickCount++;

  00387	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0038a	8b 88 80 03 00
	00		 mov	 ecx, DWORD PTR [eax+896]
  00390	83 c1 01	 add	 ecx, 1
  00393	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00396	89 8a 80 03 00
	00		 mov	 DWORD PTR [edx+896], ecx

; 189  : 
; 190  : 			if(gIsKickDetecHackCountLimit != 0 && lpObj->m_DetectedHackKickCount > gDetectedHackKickCount)

  0039c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gIsKickDetecHackCountLimit@@3HA, 0 ; gIsKickDetecHackCountLimit
  003a3	74 65		 je	 SHORT $LN3@SpeedHackC
  003a5	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  003a8	8b 88 80 03 00
	00		 mov	 ecx, DWORD PTR [eax+896]
  003ae	3b 0d 00 00 00
	00		 cmp	 ecx, DWORD PTR ?gDetectedHackKickCount@@3HA ; gDetectedHackKickCount
  003b4	7e 54		 jle	 SHORT $LN3@SpeedHackC

; 191  : 			{
; 192  : 				LogAddTD("[%s][%s] %s Kick DetecHackCountLimit Over User (%d)", lpObj->AccountID,lpObj->Name,lMsg.Get(lpObj->Class+1900),lpObj->m_DetectedHackKickCount);

  003b6	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  003b9	8b 88 80 03 00
	00		 mov	 ecx, DWORD PTR [eax+896]
  003bf	51		 push	 ecx
  003c0	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  003c3	0f b7 82 b8 00
	00 00		 movzx	 eax, WORD PTR [edx+184]
  003ca	05 6c 07 00 00	 add	 eax, 1900		; 0000076cH
  003cf	50		 push	 eax
  003d0	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  003d5	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  003da	50		 push	 eax
  003db	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  003de	83 c1 77	 add	 ecx, 119		; 00000077H
  003e1	51		 push	 ecx
  003e2	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  003e5	83 c2 6c	 add	 edx, 108		; 0000006cH
  003e8	52		 push	 edx
  003e9	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@ENPGLNLL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Kick?5DetecHackCountL@
  003ee	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  003f4	83 c4 14	 add	 esp, 20			; 00000014H

; 193  : #ifndef SPEEDHACK_DEBUG
; 194  : 				CloseClient(aIndex);

  003f7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  003fa	50		 push	 eax
  003fb	e8 00 00 00 00	 call	 ?CloseClient@@YAXH@Z	; CloseClient
  00400	83 c4 04	 add	 esp, 4

; 195  : #endif
; 196  : 				return false;

  00403	33 c0		 xor	 eax, eax
  00405	e9 0f 01 00 00	 jmp	 $LN7@SpeedHackC
$LN3@SpeedHackC:

; 197  : 			}
; 198  : 
; 199  : 			lpObj->m_SpeedHackPenalty = gSpeedHackPenalty;

  0040a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0040d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gSpeedHackPenalty@@3HA ; gSpeedHackPenalty
  00413	89 88 84 03 00
	00		 mov	 DWORD PTR [eax+900], ecx

; 200  : 			LogAddTD("[%s][%s] %s Attack Speed Is Wrong MagicSkill (%d)(%d) Penalty %d", lpObj->AccountID,lpObj->Name,lMsg.Get(lpObj->Class+1900),lpObj->m_DetectSpeedHackTime,lpObj->m_SumLastAttackTime / lpObj->m_DetectCount,lpObj->m_SpeedHackPenalty);

  00419	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0041c	8b 88 84 03 00
	00		 mov	 ecx, DWORD PTR [eax+900]
  00422	51		 push	 ecx
  00423	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00426	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00429	8b 82 78 03 00
	00		 mov	 eax, DWORD PTR [edx+888]
  0042f	33 d2		 xor	 edx, edx
  00431	f7 b1 7c 03 00
	00		 div	 DWORD PTR [ecx+892]
  00437	50		 push	 eax
  00438	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0043b	8b 82 74 03 00
	00		 mov	 eax, DWORD PTR [edx+884]
  00441	50		 push	 eax
  00442	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00445	0f b7 91 b8 00
	00 00		 movzx	 edx, WORD PTR [ecx+184]
  0044c	81 c2 6c 07 00
	00		 add	 edx, 1900		; 0000076cH
  00452	52		 push	 edx
  00453	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  00458	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0045d	50		 push	 eax
  0045e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00461	83 c0 77	 add	 eax, 119		; 00000077H
  00464	50		 push	 eax
  00465	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00468	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0046b	51		 push	 ecx
  0046c	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@KGCLNBNA@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Attack?5Speed?5Is?5Wron@
  00471	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00477	83 c4 1c	 add	 esp, 28			; 0000001cH
$LN4@SpeedHackC:

; 201  : 		}
; 202  : 	}
; 203  : 	else

  0047a	eb 1a		 jmp	 SHORT $LN2@SpeedHackC
$LN5@SpeedHackC:

; 204  : 	{
; 205  : 		lpObj->m_SumLastAttackTime = 0;

  0047c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0047f	c7 80 78 03 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+888], 0

; 206  : 		lpObj->m_DetectCount = 0;

  00489	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0048c	c7 80 7c 03 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+892], 0
$LN2@SpeedHackC:

; 207  : 	}
; 208  : 
; 209  : 	lpObj->m_LastAttackTime = GetTickCount();

  00496	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  0049c	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0049f	89 81 6c 03 00
	00		 mov	 DWORD PTR [ecx+876], eax

; 210  : 
; 211  : 	if(bIsIgnorePacketSpeedHackDetect != 0 && lpObj->m_SpeedHackPenalty > 0)

  004a5	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bIsIgnorePacketSpeedHackDetect@@3HA, 0 ; bIsIgnorePacketSpeedHackDetect
  004ac	74 66		 je	 SHORT $LN1@SpeedHackC
  004ae	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  004b1	83 b8 84 03 00
	00 00		 cmp	 DWORD PTR [eax+900], 0
  004b8	7e 5a		 jle	 SHORT $LN1@SpeedHackC

; 212  : 	{
; 213  : 		lpObj->m_SpeedHackPenalty--;

  004ba	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  004bd	8b 88 84 03 00
	00		 mov	 ecx, DWORD PTR [eax+900]
  004c3	83 e9 01	 sub	 ecx, 1
  004c6	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  004c9	89 8a 84 03 00
	00		 mov	 DWORD PTR [edx+900], ecx

; 214  : 		LogAddTD("[%s][%s] %s Apply Attack Speed Penalty (%d left)", lpObj->AccountID,lpObj->Name,lMsg.Get(lpObj->Class + 1900),lpObj->m_SpeedHackPenalty);

  004cf	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  004d2	8b 88 84 03 00
	00		 mov	 ecx, DWORD PTR [eax+900]
  004d8	51		 push	 ecx
  004d9	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  004dc	0f b7 82 b8 00
	00 00		 movzx	 eax, WORD PTR [edx+184]
  004e3	05 6c 07 00 00	 add	 eax, 1900		; 0000076cH
  004e8	50		 push	 eax
  004e9	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  004ee	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  004f3	50		 push	 eax
  004f4	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  004f7	83 c1 77	 add	 ecx, 119		; 00000077H
  004fa	51		 push	 ecx
  004fb	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  004fe	83 c2 6c	 add	 edx, 108		; 0000006cH
  00501	52		 push	 edx
  00502	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@JJPLIMIC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Apply?5Attack?5Speed?5P@
  00507	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0050d	83 c4 14	 add	 esp, 20			; 00000014H

; 215  : 		return false;

  00510	33 c0		 xor	 eax, eax
  00512	eb 05		 jmp	 SHORT $LN7@SpeedHackC
$LN1@SpeedHackC:

; 216  : 	}
; 217  : 	return true;

  00514	b8 01 00 00 00	 mov	 eax, 1
$LN7@SpeedHackC:

; 218  : }

  00519	5f		 pop	 edi
  0051a	5e		 pop	 esi
  0051b	5b		 pop	 ebx
  0051c	8b e5		 mov	 esp, ebp
  0051e	5d		 pop	 ebp
  0051f	c2 04 00	 ret	 4
?SpeedHackCheck@CObjUseSkill@@QAEHH@Z ENDP		; CObjUseSkill::SpeedHackCheck
_TEXT	ENDS
PUBLIC	?EnableSkill@CObjUseSkill@@QAEHKH@Z		; CObjUseSkill::EnableSkill
EXTRN	?GetBaseMasterLevelSkill@CMasterLevelSkillTreeSystem@@QAEHH@Z:PROC ; CMasterLevelSkillTreeSystem::GetBaseMasterLevelSkill
EXTRN	?CheckRequireStatus@CMasterLevelSkillTreeSystem@@QAEHH@Z:PROC ; CMasterLevelSkillTreeSystem::CheckRequireStatus
EXTRN	?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A:BYTE ; g_MasterSkillSystem
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_GetBaseMasterLevelSkill$239935 = -8			; size = 4
_this$ = -4						; size = 4
_Skill$ = 8						; size = 4
_Level$ = 12						; size = 4
?EnableSkill@CObjUseSkill@@QAEHKH@Z PROC		; CObjUseSkill::EnableSkill
; _this$ = ecx

; 222  : {

  00530	55		 push	 ebp
  00531	8b ec		 mov	 ebp, esp
  00533	83 ec 48	 sub	 esp, 72			; 00000048H
  00536	53		 push	 ebx
  00537	56		 push	 esi
  00538	57		 push	 edi
  00539	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 223  : 	if(g_MasterSkillSystem.CheckRequireStatus(Skill) != FALSE) //Season3 add-on

  0053c	8b 45 08	 mov	 eax, DWORD PTR _Skill$[ebp]
  0053f	50		 push	 eax
  00540	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  00545	e8 00 00 00 00	 call	 ?CheckRequireStatus@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::CheckRequireStatus
  0054a	85 c0		 test	 eax, eax
  0054c	0f 84 fc 05 00
	00		 je	 $LN5@EnableSkil

; 224  : 	{
; 225  : 		int GetBaseMasterLevelSkill = g_MasterSkillSystem.GetBaseMasterLevelSkill(Skill);

  00552	8b 45 08	 mov	 eax, DWORD PTR _Skill$[ebp]
  00555	50		 push	 eax
  00556	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  0055b	e8 00 00 00 00	 call	 ?GetBaseMasterLevelSkill@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::GetBaseMasterLevelSkill
  00560	89 45 f8	 mov	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], eax

; 226  : 
; 227  : #ifdef DEBUG_CODE
; 228  : 		LogAddC(5,"GetBaseMasterLevelSkill: %d",GetBaseMasterLevelSkill);
; 229  : #endif
; 230  : 
; 231  : 		if(	 GetBaseMasterLevelSkill != 403
; 232  :           && GetBaseMasterLevelSkill != 388
; 233  :           && GetBaseMasterLevelSkill != 330
; 234  :           && GetBaseMasterLevelSkill != 413
; 235  :           && GetBaseMasterLevelSkill != 414
; 236  :           && GetBaseMasterLevelSkill != 481
; 237  :           && GetBaseMasterLevelSkill != 356
; 238  :           && GetBaseMasterLevelSkill != 382
; 239  :           && GetBaseMasterLevelSkill != 512
; 240  :           && GetBaseMasterLevelSkill != 508
; 241  :           && GetBaseMasterLevelSkill != 385
; 242  :           && GetBaseMasterLevelSkill != 391
; 243  :           && GetBaseMasterLevelSkill != 336
; 244  :           && GetBaseMasterLevelSkill != 331
; 245  :           && GetBaseMasterLevelSkill != 417
; 246  :           && GetBaseMasterLevelSkill != 420
; 247  :           && GetBaseMasterLevelSkill != 490
; 248  :           && GetBaseMasterLevelSkill != 482
; 249  :           && GetBaseMasterLevelSkill != 518
; 250  :           && GetBaseMasterLevelSkill != 487
; 251  :           && GetBaseMasterLevelSkill != 454
; 252  :           && GetBaseMasterLevelSkill != 455
; 253  :           && GetBaseMasterLevelSkill != 456
; 254  :           && GetBaseMasterLevelSkill != 458
; 255  :           && GetBaseMasterLevelSkill != 326
; 256  :           && GetBaseMasterLevelSkill != 327
; 257  :           && GetBaseMasterLevelSkill != 328
; 258  :           && GetBaseMasterLevelSkill != 329
; 259  :           && GetBaseMasterLevelSkill != 332
; 260  :           && GetBaseMasterLevelSkill != 333
; 261  :           && GetBaseMasterLevelSkill != 337
; 262  :           && GetBaseMasterLevelSkill != 339
; 263  :           && GetBaseMasterLevelSkill != 340
; 264  :           && GetBaseMasterLevelSkill != 342
; 265  :           && GetBaseMasterLevelSkill != 343
; 266  :           && GetBaseMasterLevelSkill != 344
; 267  :           && GetBaseMasterLevelSkill != 346
; 268  :           && GetBaseMasterLevelSkill != 360
; 269  :           && GetBaseMasterLevelSkill != 363
; 270  :           && GetBaseMasterLevelSkill != 376
; 271  :           && GetBaseMasterLevelSkill != 378
; 272  :           && GetBaseMasterLevelSkill != 379
; 273  :           && GetBaseMasterLevelSkill != 380
; 274  :           && GetBaseMasterLevelSkill != 381
; 275  :           && GetBaseMasterLevelSkill != 383
; 276  :           && GetBaseMasterLevelSkill != 384
; 277  :           && GetBaseMasterLevelSkill != 386
; 278  :           && GetBaseMasterLevelSkill != 387
; 279  :           && GetBaseMasterLevelSkill != 389
; 280  :           && GetBaseMasterLevelSkill != 390
; 281  :           && GetBaseMasterLevelSkill != 392
; 282  :           && GetBaseMasterLevelSkill != 393
; 283  :           && GetBaseMasterLevelSkill != 394
; 284  :           && GetBaseMasterLevelSkill != 395
; 285  :           && GetBaseMasterLevelSkill != 396
; 286  :           && GetBaseMasterLevelSkill != 404
; 287  :           && GetBaseMasterLevelSkill != 406
; 288  :           && GetBaseMasterLevelSkill != 411
; 289  :           && GetBaseMasterLevelSkill != 415
; 290  :           && GetBaseMasterLevelSkill != 416
; 291  :           && GetBaseMasterLevelSkill != 418
; 292  :           && GetBaseMasterLevelSkill != 419
; 293  :           && GetBaseMasterLevelSkill != 425
; 294  :           && GetBaseMasterLevelSkill != 426
; 295  :           && GetBaseMasterLevelSkill != 427
; 296  :           && GetBaseMasterLevelSkill != 428
; 297  :           && GetBaseMasterLevelSkill != 429
; 298  :           && GetBaseMasterLevelSkill != 430
; 299  :           && GetBaseMasterLevelSkill != 431
; 300  :           && GetBaseMasterLevelSkill != 432
; 301  :           && GetBaseMasterLevelSkill != 433
; 302  :           && GetBaseMasterLevelSkill != 434
; 303  :           && GetBaseMasterLevelSkill != 441
; 304  :           && GetBaseMasterLevelSkill != 459
; 305  :           && GetBaseMasterLevelSkill != 460
; 306  :           && GetBaseMasterLevelSkill != 461
; 307  :           && GetBaseMasterLevelSkill != 462
; 308  :           && GetBaseMasterLevelSkill != 466
; 309  :           && GetBaseMasterLevelSkill != 468
; 310  :           && GetBaseMasterLevelSkill != 469
; 311  :           && GetBaseMasterLevelSkill != 470
; 312  :           && GetBaseMasterLevelSkill != 472
; 313  :           && GetBaseMasterLevelSkill != 477
; 314  :           && GetBaseMasterLevelSkill != 479
; 315  :           && GetBaseMasterLevelSkill != 480
; 316  :           && GetBaseMasterLevelSkill != 483
; 317  :           && GetBaseMasterLevelSkill != 484
; 318  :           && GetBaseMasterLevelSkill != 486
; 319  :           && GetBaseMasterLevelSkill != 488
; 320  :           && GetBaseMasterLevelSkill != 489
; 321  :           && GetBaseMasterLevelSkill != 491
; 322  :           && GetBaseMasterLevelSkill != 492
; 323  :           && GetBaseMasterLevelSkill != 493
; 324  :           && GetBaseMasterLevelSkill != 494
; 325  :           && GetBaseMasterLevelSkill != 495
; 326  :           && GetBaseMasterLevelSkill != 497
; 327  :           && GetBaseMasterLevelSkill != 498
; 328  :           && GetBaseMasterLevelSkill != 499
; 329  :           && GetBaseMasterLevelSkill != 500
; 330  :           && GetBaseMasterLevelSkill != 501
; 331  :           && GetBaseMasterLevelSkill != 502
; 332  :           && GetBaseMasterLevelSkill != 509
; 333  :           && GetBaseMasterLevelSkill != 510
; 334  :           && GetBaseMasterLevelSkill != 514
; 335  :           && GetBaseMasterLevelSkill != 515
; 336  :           && GetBaseMasterLevelSkill != 516
; 337  :           && GetBaseMasterLevelSkill != 519
; 338  :           && GetBaseMasterLevelSkill != 520
; 339  :           && GetBaseMasterLevelSkill != 521
; 340  :           && GetBaseMasterLevelSkill != 523
; 341  :           && GetBaseMasterLevelSkill != 539
; 342  : 		  && GetBaseMasterLevelSkill != 551
; 343  :           && GetBaseMasterLevelSkill != 552
; 344  :           && GetBaseMasterLevelSkill != 554
; 345  :           && GetBaseMasterLevelSkill != 555
; 346  :           && GetBaseMasterLevelSkill != 558
; 347  : 		  && GetBaseMasterLevelSkill != 559
; 348  : 		  && GetBaseMasterLevelSkill != 560
; 349  : 		  && GetBaseMasterLevelSkill != 558
; 350  : 			)

  00563	81 7d f8 93 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 403 ; 00000193H
  0056a	0f 84 cf 05 00
	00		 je	 $LN4@EnableSkil
  00570	81 7d f8 84 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 388 ; 00000184H
  00577	0f 84 c2 05 00
	00		 je	 $LN4@EnableSkil
  0057d	81 7d f8 4a 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 330 ; 0000014aH
  00584	0f 84 b5 05 00
	00		 je	 $LN4@EnableSkil
  0058a	81 7d f8 9d 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 413 ; 0000019dH
  00591	0f 84 a8 05 00
	00		 je	 $LN4@EnableSkil
  00597	81 7d f8 9e 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 414 ; 0000019eH
  0059e	0f 84 9b 05 00
	00		 je	 $LN4@EnableSkil
  005a4	81 7d f8 e1 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 481 ; 000001e1H
  005ab	0f 84 8e 05 00
	00		 je	 $LN4@EnableSkil
  005b1	81 7d f8 64 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 356 ; 00000164H
  005b8	0f 84 81 05 00
	00		 je	 $LN4@EnableSkil
  005be	81 7d f8 7e 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 382 ; 0000017eH
  005c5	0f 84 74 05 00
	00		 je	 $LN4@EnableSkil
  005cb	81 7d f8 00 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 512 ; 00000200H
  005d2	0f 84 67 05 00
	00		 je	 $LN4@EnableSkil
  005d8	81 7d f8 fc 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 508 ; 000001fcH
  005df	0f 84 5a 05 00
	00		 je	 $LN4@EnableSkil
  005e5	81 7d f8 81 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 385 ; 00000181H
  005ec	0f 84 4d 05 00
	00		 je	 $LN4@EnableSkil
  005f2	81 7d f8 87 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 391 ; 00000187H
  005f9	0f 84 40 05 00
	00		 je	 $LN4@EnableSkil
  005ff	81 7d f8 50 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 336 ; 00000150H
  00606	0f 84 33 05 00
	00		 je	 $LN4@EnableSkil
  0060c	81 7d f8 4b 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 331 ; 0000014bH
  00613	0f 84 26 05 00
	00		 je	 $LN4@EnableSkil
  00619	81 7d f8 a1 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 417 ; 000001a1H
  00620	0f 84 19 05 00
	00		 je	 $LN4@EnableSkil
  00626	81 7d f8 a4 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 420 ; 000001a4H
  0062d	0f 84 0c 05 00
	00		 je	 $LN4@EnableSkil
  00633	81 7d f8 ea 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 490 ; 000001eaH
  0063a	0f 84 ff 04 00
	00		 je	 $LN4@EnableSkil
  00640	81 7d f8 e2 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 482 ; 000001e2H
  00647	0f 84 f2 04 00
	00		 je	 $LN4@EnableSkil
  0064d	81 7d f8 06 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 518 ; 00000206H
  00654	0f 84 e5 04 00
	00		 je	 $LN4@EnableSkil
  0065a	81 7d f8 e7 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 487 ; 000001e7H
  00661	0f 84 d8 04 00
	00		 je	 $LN4@EnableSkil
  00667	81 7d f8 c6 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 454 ; 000001c6H
  0066e	0f 84 cb 04 00
	00		 je	 $LN4@EnableSkil
  00674	81 7d f8 c7 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 455 ; 000001c7H
  0067b	0f 84 be 04 00
	00		 je	 $LN4@EnableSkil
  00681	81 7d f8 c8 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 456 ; 000001c8H
  00688	0f 84 b1 04 00
	00		 je	 $LN4@EnableSkil
  0068e	81 7d f8 ca 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 458 ; 000001caH
  00695	0f 84 a4 04 00
	00		 je	 $LN4@EnableSkil
  0069b	81 7d f8 46 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 326 ; 00000146H
  006a2	0f 84 97 04 00
	00		 je	 $LN4@EnableSkil
  006a8	81 7d f8 47 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 327 ; 00000147H
  006af	0f 84 8a 04 00
	00		 je	 $LN4@EnableSkil
  006b5	81 7d f8 48 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 328 ; 00000148H
  006bc	0f 84 7d 04 00
	00		 je	 $LN4@EnableSkil
  006c2	81 7d f8 49 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 329 ; 00000149H
  006c9	0f 84 70 04 00
	00		 je	 $LN4@EnableSkil
  006cf	81 7d f8 4c 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 332 ; 0000014cH
  006d6	0f 84 63 04 00
	00		 je	 $LN4@EnableSkil
  006dc	81 7d f8 4d 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 333 ; 0000014dH
  006e3	0f 84 56 04 00
	00		 je	 $LN4@EnableSkil
  006e9	81 7d f8 51 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 337 ; 00000151H
  006f0	0f 84 49 04 00
	00		 je	 $LN4@EnableSkil
  006f6	81 7d f8 53 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 339 ; 00000153H
  006fd	0f 84 3c 04 00
	00		 je	 $LN4@EnableSkil
  00703	81 7d f8 54 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 340 ; 00000154H
  0070a	0f 84 2f 04 00
	00		 je	 $LN4@EnableSkil
  00710	81 7d f8 56 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 342 ; 00000156H
  00717	0f 84 22 04 00
	00		 je	 $LN4@EnableSkil
  0071d	81 7d f8 57 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 343 ; 00000157H
  00724	0f 84 15 04 00
	00		 je	 $LN4@EnableSkil
  0072a	81 7d f8 58 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 344 ; 00000158H
  00731	0f 84 08 04 00
	00		 je	 $LN4@EnableSkil
  00737	81 7d f8 5a 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 346 ; 0000015aH
  0073e	0f 84 fb 03 00
	00		 je	 $LN4@EnableSkil
  00744	81 7d f8 68 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 360 ; 00000168H
  0074b	0f 84 ee 03 00
	00		 je	 $LN4@EnableSkil
  00751	81 7d f8 6b 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 363 ; 0000016bH
  00758	0f 84 e1 03 00
	00		 je	 $LN4@EnableSkil
  0075e	81 7d f8 78 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 376 ; 00000178H
  00765	0f 84 d4 03 00
	00		 je	 $LN4@EnableSkil
  0076b	81 7d f8 7a 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 378 ; 0000017aH
  00772	0f 84 c7 03 00
	00		 je	 $LN4@EnableSkil
  00778	81 7d f8 7b 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 379 ; 0000017bH
  0077f	0f 84 ba 03 00
	00		 je	 $LN4@EnableSkil
  00785	81 7d f8 7c 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 380 ; 0000017cH
  0078c	0f 84 ad 03 00
	00		 je	 $LN4@EnableSkil
  00792	81 7d f8 7d 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 381 ; 0000017dH
  00799	0f 84 a0 03 00
	00		 je	 $LN4@EnableSkil
  0079f	81 7d f8 7f 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 383 ; 0000017fH
  007a6	0f 84 93 03 00
	00		 je	 $LN4@EnableSkil
  007ac	81 7d f8 80 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 384 ; 00000180H
  007b3	0f 84 86 03 00
	00		 je	 $LN4@EnableSkil
  007b9	81 7d f8 82 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 386 ; 00000182H
  007c0	0f 84 79 03 00
	00		 je	 $LN4@EnableSkil
  007c6	81 7d f8 83 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 387 ; 00000183H
  007cd	0f 84 6c 03 00
	00		 je	 $LN4@EnableSkil
  007d3	81 7d f8 85 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 389 ; 00000185H
  007da	0f 84 5f 03 00
	00		 je	 $LN4@EnableSkil
  007e0	81 7d f8 86 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 390 ; 00000186H
  007e7	0f 84 52 03 00
	00		 je	 $LN4@EnableSkil
  007ed	81 7d f8 88 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 392 ; 00000188H
  007f4	0f 84 45 03 00
	00		 je	 $LN4@EnableSkil
  007fa	81 7d f8 89 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 393 ; 00000189H
  00801	0f 84 38 03 00
	00		 je	 $LN4@EnableSkil
  00807	81 7d f8 8a 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 394 ; 0000018aH
  0080e	0f 84 2b 03 00
	00		 je	 $LN4@EnableSkil
  00814	81 7d f8 8b 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 395 ; 0000018bH
  0081b	0f 84 1e 03 00
	00		 je	 $LN4@EnableSkil
  00821	81 7d f8 8c 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 396 ; 0000018cH
  00828	0f 84 11 03 00
	00		 je	 $LN4@EnableSkil
  0082e	81 7d f8 94 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 404 ; 00000194H
  00835	0f 84 04 03 00
	00		 je	 $LN4@EnableSkil
  0083b	81 7d f8 96 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 406 ; 00000196H
  00842	0f 84 f7 02 00
	00		 je	 $LN4@EnableSkil
  00848	81 7d f8 9b 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 411 ; 0000019bH
  0084f	0f 84 ea 02 00
	00		 je	 $LN4@EnableSkil
  00855	81 7d f8 9f 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 415 ; 0000019fH
  0085c	0f 84 dd 02 00
	00		 je	 $LN4@EnableSkil
  00862	81 7d f8 a0 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 416 ; 000001a0H
  00869	0f 84 d0 02 00
	00		 je	 $LN4@EnableSkil
  0086f	81 7d f8 a2 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 418 ; 000001a2H
  00876	0f 84 c3 02 00
	00		 je	 $LN4@EnableSkil
  0087c	81 7d f8 a3 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 419 ; 000001a3H
  00883	0f 84 b6 02 00
	00		 je	 $LN4@EnableSkil
  00889	81 7d f8 a9 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 425 ; 000001a9H
  00890	0f 84 a9 02 00
	00		 je	 $LN4@EnableSkil
  00896	81 7d f8 aa 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 426 ; 000001aaH
  0089d	0f 84 9c 02 00
	00		 je	 $LN4@EnableSkil
  008a3	81 7d f8 ab 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 427 ; 000001abH
  008aa	0f 84 8f 02 00
	00		 je	 $LN4@EnableSkil
  008b0	81 7d f8 ac 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 428 ; 000001acH
  008b7	0f 84 82 02 00
	00		 je	 $LN4@EnableSkil
  008bd	81 7d f8 ad 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 429 ; 000001adH
  008c4	0f 84 75 02 00
	00		 je	 $LN4@EnableSkil
  008ca	81 7d f8 ae 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 430 ; 000001aeH
  008d1	0f 84 68 02 00
	00		 je	 $LN4@EnableSkil
  008d7	81 7d f8 af 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 431 ; 000001afH
  008de	0f 84 5b 02 00
	00		 je	 $LN4@EnableSkil
  008e4	81 7d f8 b0 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 432 ; 000001b0H
  008eb	0f 84 4e 02 00
	00		 je	 $LN4@EnableSkil
  008f1	81 7d f8 b1 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 433 ; 000001b1H
  008f8	0f 84 41 02 00
	00		 je	 $LN4@EnableSkil
  008fe	81 7d f8 b2 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 434 ; 000001b2H
  00905	0f 84 34 02 00
	00		 je	 $LN4@EnableSkil
  0090b	81 7d f8 b9 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 441 ; 000001b9H
  00912	0f 84 27 02 00
	00		 je	 $LN4@EnableSkil
  00918	81 7d f8 cb 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 459 ; 000001cbH
  0091f	0f 84 1a 02 00
	00		 je	 $LN4@EnableSkil
  00925	81 7d f8 cc 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 460 ; 000001ccH
  0092c	0f 84 0d 02 00
	00		 je	 $LN4@EnableSkil
  00932	81 7d f8 cd 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 461 ; 000001cdH
  00939	0f 84 00 02 00
	00		 je	 $LN4@EnableSkil
  0093f	81 7d f8 ce 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 462 ; 000001ceH
  00946	0f 84 f3 01 00
	00		 je	 $LN4@EnableSkil
  0094c	81 7d f8 d2 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 466 ; 000001d2H
  00953	0f 84 e6 01 00
	00		 je	 $LN4@EnableSkil
  00959	81 7d f8 d4 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 468 ; 000001d4H
  00960	0f 84 d9 01 00
	00		 je	 $LN4@EnableSkil
  00966	81 7d f8 d5 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 469 ; 000001d5H
  0096d	0f 84 cc 01 00
	00		 je	 $LN4@EnableSkil
  00973	81 7d f8 d6 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 470 ; 000001d6H
  0097a	0f 84 bf 01 00
	00		 je	 $LN4@EnableSkil
  00980	81 7d f8 d8 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 472 ; 000001d8H
  00987	0f 84 b2 01 00
	00		 je	 $LN4@EnableSkil
  0098d	81 7d f8 dd 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 477 ; 000001ddH
  00994	0f 84 a5 01 00
	00		 je	 $LN4@EnableSkil
  0099a	81 7d f8 df 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 479 ; 000001dfH
  009a1	0f 84 98 01 00
	00		 je	 $LN4@EnableSkil
  009a7	81 7d f8 e0 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 480 ; 000001e0H
  009ae	0f 84 8b 01 00
	00		 je	 $LN4@EnableSkil
  009b4	81 7d f8 e3 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 483 ; 000001e3H
  009bb	0f 84 7e 01 00
	00		 je	 $LN4@EnableSkil
  009c1	81 7d f8 e4 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 484 ; 000001e4H
  009c8	0f 84 71 01 00
	00		 je	 $LN4@EnableSkil
  009ce	81 7d f8 e6 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 486 ; 000001e6H
  009d5	0f 84 64 01 00
	00		 je	 $LN4@EnableSkil
  009db	81 7d f8 e8 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 488 ; 000001e8H
  009e2	0f 84 57 01 00
	00		 je	 $LN4@EnableSkil
  009e8	81 7d f8 e9 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 489 ; 000001e9H
  009ef	0f 84 4a 01 00
	00		 je	 $LN4@EnableSkil
  009f5	81 7d f8 eb 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 491 ; 000001ebH
  009fc	0f 84 3d 01 00
	00		 je	 $LN4@EnableSkil
  00a02	81 7d f8 ec 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 492 ; 000001ecH
  00a09	0f 84 30 01 00
	00		 je	 $LN4@EnableSkil
  00a0f	81 7d f8 ed 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 493 ; 000001edH
  00a16	0f 84 23 01 00
	00		 je	 $LN4@EnableSkil
  00a1c	81 7d f8 ee 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 494 ; 000001eeH
  00a23	0f 84 16 01 00
	00		 je	 $LN4@EnableSkil
  00a29	81 7d f8 ef 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 495 ; 000001efH
  00a30	0f 84 09 01 00
	00		 je	 $LN4@EnableSkil
  00a36	81 7d f8 f1 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 497 ; 000001f1H
  00a3d	0f 84 fc 00 00
	00		 je	 $LN4@EnableSkil
  00a43	81 7d f8 f2 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 498 ; 000001f2H
  00a4a	0f 84 ef 00 00
	00		 je	 $LN4@EnableSkil
  00a50	81 7d f8 f3 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 499 ; 000001f3H
  00a57	0f 84 e2 00 00
	00		 je	 $LN4@EnableSkil
  00a5d	81 7d f8 f4 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 500 ; 000001f4H
  00a64	0f 84 d5 00 00
	00		 je	 $LN4@EnableSkil
  00a6a	81 7d f8 f5 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 501 ; 000001f5H
  00a71	0f 84 c8 00 00
	00		 je	 $LN4@EnableSkil
  00a77	81 7d f8 f6 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 502 ; 000001f6H
  00a7e	0f 84 bb 00 00
	00		 je	 $LN4@EnableSkil
  00a84	81 7d f8 fd 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 509 ; 000001fdH
  00a8b	0f 84 ae 00 00
	00		 je	 $LN4@EnableSkil
  00a91	81 7d f8 fe 01
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 510 ; 000001feH
  00a98	0f 84 a1 00 00
	00		 je	 $LN4@EnableSkil
  00a9e	81 7d f8 02 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 514 ; 00000202H
  00aa5	0f 84 94 00 00
	00		 je	 $LN4@EnableSkil
  00aab	81 7d f8 03 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 515 ; 00000203H
  00ab2	0f 84 87 00 00
	00		 je	 $LN4@EnableSkil
  00ab8	81 7d f8 04 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 516 ; 00000204H
  00abf	74 7e		 je	 SHORT $LN4@EnableSkil
  00ac1	81 7d f8 07 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 519 ; 00000207H
  00ac8	74 75		 je	 SHORT $LN4@EnableSkil
  00aca	81 7d f8 08 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 520 ; 00000208H
  00ad1	74 6c		 je	 SHORT $LN4@EnableSkil
  00ad3	81 7d f8 09 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 521 ; 00000209H
  00ada	74 63		 je	 SHORT $LN4@EnableSkil
  00adc	81 7d f8 0b 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 523 ; 0000020bH
  00ae3	74 5a		 je	 SHORT $LN4@EnableSkil
  00ae5	81 7d f8 1b 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 539 ; 0000021bH
  00aec	74 51		 je	 SHORT $LN4@EnableSkil
  00aee	81 7d f8 27 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 551 ; 00000227H
  00af5	74 48		 je	 SHORT $LN4@EnableSkil
  00af7	81 7d f8 28 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 552 ; 00000228H
  00afe	74 3f		 je	 SHORT $LN4@EnableSkil
  00b00	81 7d f8 2a 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 554 ; 0000022aH
  00b07	74 36		 je	 SHORT $LN4@EnableSkil
  00b09	81 7d f8 2b 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 555 ; 0000022bH
  00b10	74 2d		 je	 SHORT $LN4@EnableSkil
  00b12	81 7d f8 2e 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 558 ; 0000022eH
  00b19	74 24		 je	 SHORT $LN4@EnableSkil
  00b1b	81 7d f8 2f 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 559 ; 0000022fH
  00b22	74 1b		 je	 SHORT $LN4@EnableSkil
  00b24	81 7d f8 30 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 560 ; 00000230H
  00b2b	74 12		 je	 SHORT $LN4@EnableSkil
  00b2d	81 7d f8 2e 02
	00 00		 cmp	 DWORD PTR _GetBaseMasterLevelSkill$239935[ebp], 558 ; 0000022eH
  00b34	74 09		 je	 SHORT $LN4@EnableSkil

; 351  : 		{
; 352  : 			return false;

  00b36	33 c0		 xor	 eax, eax
  00b38	e9 d3 02 00 00	 jmp	 $LN6@EnableSkil

; 353  : 		}
; 354  : 		else

  00b3d	eb 0a		 jmp	 SHORT $LN3@EnableSkil
$LN4@EnableSkil:

; 355  : 		{
; 356  : 			return true;

  00b3f	b8 01 00 00 00	 mov	 eax, 1
  00b44	e9 c7 02 00 00	 jmp	 $LN6@EnableSkil
$LN3@EnableSkil:

; 357  : 		}
; 358  : 		
; 359  : 	}
; 360  : 	else if(Skill != AT_SKILL_STORM

  00b49	e9 bd 02 00 00	 jmp	 $LN2@EnableSkil
$LN5@EnableSkil:

; 361  : 		&& Skill != AT_SKILL_EVIL
; 362  : 		&& Skill != AT_SKILL_FLAME
; 363  : 		&& Skill != AT_SKILL_HELL
; 364  : 		&& Skill != AT_SKILL_BLAST
; 365  : 		&& Skill != AT_SKILL_INFERNO
; 366  : 		&& Skill != AT_SKILL_CROSSBOW
; 367  : 		&& Skill != AT_SKILL_DEVILFIRE
; 368  : 		&& Skill != AT_SKILL_FLASH
; 369  : 		&& Skill != AT_SKILL_WHEEL
; 370  : 		&& Skill != AT_SKILL_SWORD6
; 371  : 		&& Skill != AT_SKILL_KNIGHTSPEAR
; 372  : 		&& Skill != AT_SKILL_KNIGHTADDLIFE
; 373  : 		&& Skill != AT_SKILL_STRIKE
; 374  : 		&& Skill != AT_SKILL_KNIGHTDINORANT
; 375  : 		&& Skill != AT_SKILL_ELFHARDEN
; 376  : 		&& Skill != AT_SKILL_PENETRATION
; 377  : 		&& Skill != AT_SKILL_DEFENSEDOWN
; 378  : 		&& Skill != AT_SKILL_MAGICDEFENSE
; 379  : 		&& Skill != AT_SKILL_BLOWOFFURY
; 380  : 		&& Skill != AT_SKILL_EXPPOISON
; 381  : 		&& Skill != AT_SKILL_EXPICE
; 382  : 		&& Skill != AT_SKILL_EXPHELL
; 383  : 		&& Skill != AT_SKILL_ELECTRICSPARK
; 384  : 		&& Skill != AT_SKILL_DARKHORSE_ATTACK
; 385  : 		&& Skill != AT_SKILL_BRAND_OF_SKILL
; 386  : 		&& Skill != AT_SKILL_STUN
; 387  : 		&& Skill != AT_SKILL_REMOVAL_STUN
; 388  : 		&& Skill != AT_SKILL_ADD_MANA
; 389  : 		&& Skill != AT_SKILL_INVISIBLE 
; 390  : 		&& Skill != AT_SKILL_REMOVAL_INVISIBLE
; 391  : 		&& Skill != AT_SKILL_REMOVAL_MAGIC
; 392  : 		&& Skill != AT_SKILL_FENRIR_ATTACK
; 393  : 		&& Skill != AT_SKILL_INFINITY_ARROW
; 394  : 		&& Skill != AT_SKILL_FIRESCREAM
; 395  : 		&& Skill != 214
; 396  : 		&& Skill != 215
; 397  : 		&& Skill != 216
; 398  : 		&& Skill != 217
; 399  : 		&& Skill != 219
; 400  : 		&& Skill != 220
; 401  : 		&& Skill != 223
; 402  : 		&& Skill != 224
; 403  : 		&& Skill != 221
; 404  : 		&& Skill != 222
; 405  : 		//Season4 add-on
; 406  : 		&& Skill != 225
; 407  : 		&& Skill != 230
; 408  : 		&& Skill != 218
; 409  : 		&& Skill != 232
; 410  : 		&& Skill != 233
; 411  : 		&& Skill != 234
; 412  : 		&& Skill != 235
; 413  : 		&& Skill != 236
; 414  : 		&& Skill != 237
; 415  : 		&& Skill != 238
; 416  : 		&& Skill != 239
; 417  : 		&& Skill != 260
; 418  : 		&& Skill != 261
; 419  : 		&& Skill != 262
; 420  : 		&& Skill != 263
; 421  : 		&& Skill != 264
; 422  : 		&& Skill != 265
; 423  : 		&& Skill != 266
; 424  : 		&& Skill != 267
; 425  : 		&& Skill != 268
; 426  : 		&& Skill != 270
; 427  : 		)

  00b4e	83 7d 08 08	 cmp	 DWORD PTR _Skill$[ebp], 8
  00b52	0f 84 b3 02 00
	00		 je	 $LN2@EnableSkil
  00b58	83 7d 08 09	 cmp	 DWORD PTR _Skill$[ebp], 9
  00b5c	0f 84 a9 02 00
	00		 je	 $LN2@EnableSkil
  00b62	83 7d 08 05	 cmp	 DWORD PTR _Skill$[ebp], 5
  00b66	0f 84 9f 02 00
	00		 je	 $LN2@EnableSkil
  00b6c	83 7d 08 0a	 cmp	 DWORD PTR _Skill$[ebp], 10 ; 0000000aH
  00b70	0f 84 95 02 00
	00		 je	 $LN2@EnableSkil
  00b76	83 7d 08 0d	 cmp	 DWORD PTR _Skill$[ebp], 13 ; 0000000dH
  00b7a	0f 84 8b 02 00
	00		 je	 $LN2@EnableSkil
  00b80	83 7d 08 0e	 cmp	 DWORD PTR _Skill$[ebp], 14 ; 0000000eH
  00b84	0f 84 81 02 00
	00		 je	 $LN2@EnableSkil
  00b8a	83 7d 08 18	 cmp	 DWORD PTR _Skill$[ebp], 24 ; 00000018H
  00b8e	0f 84 77 02 00
	00		 je	 $LN2@EnableSkil
  00b94	83 7d 08 32	 cmp	 DWORD PTR _Skill$[ebp], 50 ; 00000032H
  00b98	0f 84 6d 02 00
	00		 je	 $LN2@EnableSkil
  00b9e	83 7d 08 0c	 cmp	 DWORD PTR _Skill$[ebp], 12 ; 0000000cH
  00ba2	0f 84 63 02 00
	00		 je	 $LN2@EnableSkil
  00ba8	83 7d 08 29	 cmp	 DWORD PTR _Skill$[ebp], 41 ; 00000029H
  00bac	0f 84 59 02 00
	00		 je	 $LN2@EnableSkil
  00bb2	83 7d 08 38	 cmp	 DWORD PTR _Skill$[ebp], 56 ; 00000038H
  00bb6	0f 84 4f 02 00
	00		 je	 $LN2@EnableSkil
  00bbc	83 7d 08 2f	 cmp	 DWORD PTR _Skill$[ebp], 47 ; 0000002fH
  00bc0	0f 84 45 02 00
	00		 je	 $LN2@EnableSkil
  00bc6	83 7d 08 30	 cmp	 DWORD PTR _Skill$[ebp], 48 ; 00000030H
  00bca	0f 84 3b 02 00
	00		 je	 $LN2@EnableSkil
  00bd0	83 7d 08 2b	 cmp	 DWORD PTR _Skill$[ebp], 43 ; 0000002bH
  00bd4	0f 84 31 02 00
	00		 je	 $LN2@EnableSkil
  00bda	83 7d 08 31	 cmp	 DWORD PTR _Skill$[ebp], 49 ; 00000031H
  00bde	0f 84 27 02 00
	00		 je	 $LN2@EnableSkil
  00be4	83 7d 08 33	 cmp	 DWORD PTR _Skill$[ebp], 51 ; 00000033H
  00be8	0f 84 1d 02 00
	00		 je	 $LN2@EnableSkil
  00bee	83 7d 08 34	 cmp	 DWORD PTR _Skill$[ebp], 52 ; 00000034H
  00bf2	0f 84 13 02 00
	00		 je	 $LN2@EnableSkil
  00bf8	83 7d 08 37	 cmp	 DWORD PTR _Skill$[ebp], 55 ; 00000037H
  00bfc	0f 84 09 02 00
	00		 je	 $LN2@EnableSkil
  00c02	83 7d 08 10	 cmp	 DWORD PTR _Skill$[ebp], 16 ; 00000010H
  00c06	0f 84 ff 01 00
	00		 je	 $LN2@EnableSkil
  00c0c	83 7d 08 2a	 cmp	 DWORD PTR _Skill$[ebp], 42 ; 0000002aH
  00c10	0f 84 f5 01 00
	00		 je	 $LN2@EnableSkil
  00c16	83 7d 08 26	 cmp	 DWORD PTR _Skill$[ebp], 38 ; 00000026H
  00c1a	0f 84 eb 01 00
	00		 je	 $LN2@EnableSkil
  00c20	83 7d 08 27	 cmp	 DWORD PTR _Skill$[ebp], 39 ; 00000027H
  00c24	0f 84 e1 01 00
	00		 je	 $LN2@EnableSkil
  00c2a	83 7d 08 28	 cmp	 DWORD PTR _Skill$[ebp], 40 ; 00000028H
  00c2e	0f 84 d7 01 00
	00		 je	 $LN2@EnableSkil
  00c34	83 7d 08 41	 cmp	 DWORD PTR _Skill$[ebp], 65 ; 00000041H
  00c38	0f 84 cd 01 00
	00		 je	 $LN2@EnableSkil
  00c3e	83 7d 08 3e	 cmp	 DWORD PTR _Skill$[ebp], 62 ; 0000003eH
  00c42	0f 84 c3 01 00
	00		 je	 $LN2@EnableSkil
  00c48	83 7d 08 4b	 cmp	 DWORD PTR _Skill$[ebp], 75 ; 0000004bH
  00c4c	0f 84 b9 01 00
	00		 je	 $LN2@EnableSkil
  00c52	83 7d 08 43	 cmp	 DWORD PTR _Skill$[ebp], 67 ; 00000043H
  00c56	0f 84 af 01 00
	00		 je	 $LN2@EnableSkil
  00c5c	83 7d 08 44	 cmp	 DWORD PTR _Skill$[ebp], 68 ; 00000044H
  00c60	0f 84 a5 01 00
	00		 je	 $LN2@EnableSkil
  00c66	83 7d 08 45	 cmp	 DWORD PTR _Skill$[ebp], 69 ; 00000045H
  00c6a	0f 84 9b 01 00
	00		 je	 $LN2@EnableSkil
  00c70	83 7d 08 46	 cmp	 DWORD PTR _Skill$[ebp], 70 ; 00000046H
  00c74	0f 84 91 01 00
	00		 je	 $LN2@EnableSkil
  00c7a	83 7d 08 47	 cmp	 DWORD PTR _Skill$[ebp], 71 ; 00000047H
  00c7e	0f 84 87 01 00
	00		 je	 $LN2@EnableSkil
  00c84	83 7d 08 48	 cmp	 DWORD PTR _Skill$[ebp], 72 ; 00000048H
  00c88	0f 84 7d 01 00
	00		 je	 $LN2@EnableSkil
  00c8e	83 7d 08 4c	 cmp	 DWORD PTR _Skill$[ebp], 76 ; 0000004cH
  00c92	0f 84 73 01 00
	00		 je	 $LN2@EnableSkil
  00c98	83 7d 08 4d	 cmp	 DWORD PTR _Skill$[ebp], 77 ; 0000004dH
  00c9c	0f 84 69 01 00
	00		 je	 $LN2@EnableSkil
  00ca2	83 7d 08 4e	 cmp	 DWORD PTR _Skill$[ebp], 78 ; 0000004eH
  00ca6	0f 84 5f 01 00
	00		 je	 $LN2@EnableSkil
  00cac	81 7d 08 d6 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 214 ; 000000d6H
  00cb3	0f 84 52 01 00
	00		 je	 $LN2@EnableSkil
  00cb9	81 7d 08 d7 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 215 ; 000000d7H
  00cc0	0f 84 45 01 00
	00		 je	 $LN2@EnableSkil
  00cc6	81 7d 08 d8 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 216 ; 000000d8H
  00ccd	0f 84 38 01 00
	00		 je	 $LN2@EnableSkil
  00cd3	81 7d 08 d9 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 217 ; 000000d9H
  00cda	0f 84 2b 01 00
	00		 je	 $LN2@EnableSkil
  00ce0	81 7d 08 db 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 219 ; 000000dbH
  00ce7	0f 84 1e 01 00
	00		 je	 $LN2@EnableSkil
  00ced	81 7d 08 dc 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 220 ; 000000dcH
  00cf4	0f 84 11 01 00
	00		 je	 $LN2@EnableSkil
  00cfa	81 7d 08 df 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 223 ; 000000dfH
  00d01	0f 84 04 01 00
	00		 je	 $LN2@EnableSkil
  00d07	81 7d 08 e0 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 224 ; 000000e0H
  00d0e	0f 84 f7 00 00
	00		 je	 $LN2@EnableSkil
  00d14	81 7d 08 dd 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 221 ; 000000ddH
  00d1b	0f 84 ea 00 00
	00		 je	 $LN2@EnableSkil
  00d21	81 7d 08 de 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 222 ; 000000deH
  00d28	0f 84 dd 00 00
	00		 je	 $LN2@EnableSkil
  00d2e	81 7d 08 e1 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 225 ; 000000e1H
  00d35	0f 84 d0 00 00
	00		 je	 $LN2@EnableSkil
  00d3b	81 7d 08 e6 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 230 ; 000000e6H
  00d42	0f 84 c3 00 00
	00		 je	 $LN2@EnableSkil
  00d48	81 7d 08 da 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 218 ; 000000daH
  00d4f	0f 84 b6 00 00
	00		 je	 $LN2@EnableSkil
  00d55	81 7d 08 e8 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 232 ; 000000e8H
  00d5c	0f 84 a9 00 00
	00		 je	 $LN2@EnableSkil
  00d62	81 7d 08 e9 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 233 ; 000000e9H
  00d69	0f 84 9c 00 00
	00		 je	 $LN2@EnableSkil
  00d6f	81 7d 08 ea 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 234 ; 000000eaH
  00d76	0f 84 8f 00 00
	00		 je	 $LN2@EnableSkil
  00d7c	81 7d 08 eb 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 235 ; 000000ebH
  00d83	0f 84 82 00 00
	00		 je	 $LN2@EnableSkil
  00d89	81 7d 08 ec 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 236 ; 000000ecH
  00d90	74 79		 je	 SHORT $LN2@EnableSkil
  00d92	81 7d 08 ed 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 237 ; 000000edH
  00d99	74 70		 je	 SHORT $LN2@EnableSkil
  00d9b	81 7d 08 ee 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 238 ; 000000eeH
  00da2	74 67		 je	 SHORT $LN2@EnableSkil
  00da4	81 7d 08 ef 00
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 239 ; 000000efH
  00dab	74 5e		 je	 SHORT $LN2@EnableSkil
  00dad	81 7d 08 04 01
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 260 ; 00000104H
  00db4	74 55		 je	 SHORT $LN2@EnableSkil
  00db6	81 7d 08 05 01
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 261 ; 00000105H
  00dbd	74 4c		 je	 SHORT $LN2@EnableSkil
  00dbf	81 7d 08 06 01
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 262 ; 00000106H
  00dc6	74 43		 je	 SHORT $LN2@EnableSkil
  00dc8	81 7d 08 07 01
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 263 ; 00000107H
  00dcf	74 3a		 je	 SHORT $LN2@EnableSkil
  00dd1	81 7d 08 08 01
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 264 ; 00000108H
  00dd8	74 31		 je	 SHORT $LN2@EnableSkil
  00dda	81 7d 08 09 01
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 265 ; 00000109H
  00de1	74 28		 je	 SHORT $LN2@EnableSkil
  00de3	81 7d 08 0a 01
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 266 ; 0000010aH
  00dea	74 1f		 je	 SHORT $LN2@EnableSkil
  00dec	81 7d 08 0b 01
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 267 ; 0000010bH
  00df3	74 16		 je	 SHORT $LN2@EnableSkil
  00df5	81 7d 08 0c 01
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 268 ; 0000010cH
  00dfc	74 0d		 je	 SHORT $LN2@EnableSkil
  00dfe	81 7d 08 0e 01
	00 00		 cmp	 DWORD PTR _Skill$[ebp], 270 ; 0000010eH
  00e05	74 04		 je	 SHORT $LN2@EnableSkil

; 428  : 	{
; 429  : 		return false;

  00e07	33 c0		 xor	 eax, eax
  00e09	eb 05		 jmp	 SHORT $LN6@EnableSkil
$LN2@EnableSkil:

; 430  : 	}
; 431  : 	return true;

  00e0b	b8 01 00 00 00	 mov	 eax, 1
$LN6@EnableSkil:

; 432  : }

  00e10	5f		 pop	 edi
  00e11	5e		 pop	 esi
  00e12	5b		 pop	 ebx
  00e13	8b e5		 mov	 esp, ebp
  00e15	5d		 pop	 ebp
  00e16	c2 08 00	 ret	 8
?EnableSkill@CObjUseSkill@@QAEHKH@Z ENDP		; CObjUseSkill::EnableSkill
_TEXT	ENDS
PUBLIC	__real@0000000000000000
PUBLIC	__real@3f800000
PUBLIC	__real@3ff0000000000000
PUBLIC	__real@4059000000000000
PUBLIC	?GetAddUseMana@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@PAVCMagicInf@@@Z ; CObjUseSkill::GetAddUseMana
PUBLIC	__real@00000000
PUBLIC	?GetUseMana@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z	; CObjUseSkill::GetUseMana
EXTRN	?SkillGetMana@CMagicDamage@@QAEHH@Z:PROC	; CMagicDamage::SkillGetMana
EXTRN	?MagicDamageC@@3VCMagicDamage@@A:BYTE		; MagicDamageC
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT __real@4059000000000000
CONST	SEGMENT
__real@4059000000000000 DQ 04059000000000000r	; 100
CONST	ENDS
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv144 = -84						; size = 4
_loc4$ = -16						; size = 4
_mana$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?GetUseMana@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::GetUseMana
; _this$ = ecx

; 435  : {

  00e20	55		 push	 ebp
  00e21	8b ec		 mov	 ebp, esp
  00e23	83 ec 54	 sub	 esp, 84			; 00000054H
  00e26	53		 push	 ebx
  00e27	56		 push	 esi
  00e28	57		 push	 edi
  00e29	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 436  : 	LPOBJ lpObj =&gObj[aIndex];

  00e2c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00e2f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00e35	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00e3b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 437  : 	float mana = lpObj->Mana;

  00e3e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e41	d9 80 10 01 00
	00		 fld	 DWORD PTR [eax+272]
  00e47	d9 5d f4	 fstp	 DWORD PTR _mana$[ebp]

; 438  : 
; 439  : 	if ( lpObj->Type != OBJ_USER )

  00e4a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e4d	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  00e51	83 f9 01	 cmp	 ecx, 1
  00e54	74 07		 je	 SHORT $LN4@GetUseMana

; 440  : 	{
; 441  : 		return 0;

  00e56	33 c0		 xor	 eax, eax
  00e58	e9 95 00 00 00	 jmp	 $LN5@GetUseMana
$LN4@GetUseMana:

; 442  : 	}
; 443  : 
; 444  : 	if ( lpMagic == NULL )

  00e5d	83 7d 0c 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  00e61	75 07		 jne	 SHORT $LN3@GetUseMana

; 445  : 	{
; 446  : 		return 0;

  00e63	33 c0		 xor	 eax, eax
  00e65	e9 88 00 00 00	 jmp	 $LN5@GetUseMana
$LN3@GetUseMana:

; 447  : 	}
; 448  : 
; 449  : 	float loc4 = 0;

  00e6a	d9 ee		 fldz
  00e6c	d9 5d f0	 fstp	 DWORD PTR _loc4$[ebp]

; 450  : 
; 451  : 	loc4 = (float)(MagicDamageC.SkillGetMana(lpMagic->m_Skill) + this->GetAddUseMana(lpObj,lpMagic));

  00e6f	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00e72	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00e75	51		 push	 ecx
  00e76	b9 00 00 00 00	 mov	 ecx, OFFSET ?MagicDamageC@@3VCMagicDamage@@A ; MagicDamageC
  00e7b	e8 00 00 00 00	 call	 ?SkillGetMana@CMagicDamage@@QAEHH@Z ; CMagicDamage::SkillGetMana
  00e80	8b f0		 mov	 esi, eax
  00e82	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  00e85	52		 push	 edx
  00e86	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e89	50		 push	 eax
  00e8a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00e8d	e8 00 00 00 00	 call	 ?GetAddUseMana@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@PAVCMagicInf@@@Z ; CObjUseSkill::GetAddUseMana
  00e92	03 f0		 add	 esi, eax
  00e94	89 75 ac	 mov	 DWORD PTR tv144[ebp], esi
  00e97	db 45 ac	 fild	 DWORD PTR tv144[ebp]
  00e9a	d9 5d f0	 fstp	 DWORD PTR _loc4$[ebp]

; 452  : 
; 453  : 	loc4 -= lpObj->m_MPSkillOpt.MpsDecreaseMana * loc4 / 100.0f;

  00e9d	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00ea0	d9 80 60 27 00
	00		 fld	 DWORD PTR [eax+10080]
  00ea6	d8 4d f0	 fmul	 DWORD PTR _loc4$[ebp]
  00ea9	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  00eaf	d8 6d f0	 fsubr	 DWORD PTR _loc4$[ebp]
  00eb2	d9 5d f0	 fstp	 DWORD PTR _loc4$[ebp]

; 454  : 
; 455  : 	if(loc4 < 1.0f)

  00eb5	d9 45 f0	 fld	 DWORD PTR _loc4$[ebp]
  00eb8	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@3ff0000000000000
  00ebe	df e0		 fnstsw	 ax
  00ec0	f6 c4 05	 test	 ah, 5
  00ec3	7a 05		 jp	 SHORT $LN2@GetUseMana

; 456  : 	{
; 457  : 		loc4 = 1.0f;

  00ec5	d9 e8		 fld1
  00ec7	d9 5d f0	 fstp	 DWORD PTR _loc4$[ebp]
$LN2@GetUseMana:

; 458  : 	}
; 459  : 
; 460  : 	mana -= loc4;

  00eca	d9 45 f4	 fld	 DWORD PTR _mana$[ebp]
  00ecd	d8 65 f0	 fsub	 DWORD PTR _loc4$[ebp]
  00ed0	d9 5d f4	 fstp	 DWORD PTR _mana$[ebp]

; 461  : 
; 462  : 	if(mana < 0.0f)

  00ed3	d9 45 f4	 fld	 DWORD PTR _mana$[ebp]
  00ed6	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@0000000000000000
  00edc	df e0		 fnstsw	 ax
  00ede	f6 c4 05	 test	 ah, 5
  00ee1	7a 07		 jp	 SHORT $LN1@GetUseMana

; 463  : 	{
; 464  : 		return -1;

  00ee3	b8 ff ff ff ff	 mov	 eax, -1
  00ee8	eb 08		 jmp	 SHORT $LN5@GetUseMana
$LN1@GetUseMana:

; 465  : 	}
; 466  : 	return (int)mana;

  00eea	d9 45 f4	 fld	 DWORD PTR _mana$[ebp]
  00eed	e8 00 00 00 00	 call	 __ftol2_sse
$LN5@GetUseMana:

; 467  : }

  00ef2	5f		 pop	 edi
  00ef3	5e		 pop	 esi
  00ef4	5b		 pop	 ebx
  00ef5	8b e5		 mov	 esp, ebp
  00ef7	5d		 pop	 ebp
  00ef8	c2 08 00	 ret	 8
?GetUseMana@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::GetUseMana
_TEXT	ENDS
PUBLIC	?GetInfinityArrowMPConsumptionPlus3@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus3
PUBLIC	?GetInfinityArrowMPConsumptionPlus2@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus2
PUBLIC	?GetInfinityArrowMPConsumptionPlus1@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus1
PUBLIC	?GetInfinityArrowMPConsumptionPlus0@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus0
EXTRN	?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A:BYTE ; g_SkillAdditionInfo
EXTRN	?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z:PROC ; gObjSearchActiveEffect
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_Left$239999 = -20					; size = 4
_Right$239998 = -16					; size = 4
_iArrowLevel$239997 = -12				; size = 4
_iRetValue$ = -8					; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?GetAddUseMana@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@PAVCMagicInf@@@Z PROC ; CObjUseSkill::GetAddUseMana
; _this$ = ecx

; 470  : {

  00f00	55		 push	 ebp
  00f01	8b ec		 mov	 ebp, esp
  00f03	83 ec 54	 sub	 esp, 84			; 00000054H
  00f06	53		 push	 ebx
  00f07	56		 push	 esi
  00f08	57		 push	 edi
  00f09	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 471  : 	int iRetValue = 0;

  00f0c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _iRetValue$[ebp], 0

; 472  : 
; 473  : 	if(lpObj->Class == CLASS_ELF && lpObj->Type == OBJ_USER && lpObj->ChangeUP == 1)

  00f13	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00f16	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  00f1d	83 f9 02	 cmp	 ecx, 2
  00f20	0f 85 01 02 00
	00		 jne	 $LN21@GetAddUseM
  00f26	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00f29	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  00f2d	83 f9 01	 cmp	 ecx, 1
  00f30	0f 85 f1 01 00
	00		 jne	 $LN21@GetAddUseM
  00f36	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00f39	0f b6 88 bb 00
	00 00		 movzx	 ecx, BYTE PTR [eax+187]
  00f40	83 f9 01	 cmp	 ecx, 1
  00f43	0f 85 de 01 00
	00		 jne	 $LN21@GetAddUseM

; 474  : 	{
; 475  : 		if(gObjSearchActiveEffect(lpObj, AT_INFINITY_ARROW) == 1 || gObjSearchActiveEffect(lpObj,BUFF_INFINITY_ARROW2)==TRUE)

  00f49	6a 06		 push	 6
  00f4b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00f4e	50		 push	 eax
  00f4f	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00f54	83 c4 08	 add	 esp, 8
  00f57	0f b6 c8	 movzx	 ecx, al
  00f5a	83 f9 01	 cmp	 ecx, 1
  00f5d	74 1d		 je	 SHORT $LN19@GetAddUseM
  00f5f	68 8f 00 00 00	 push	 143			; 0000008fH
  00f64	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00f67	50		 push	 eax
  00f68	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00f6d	83 c4 08	 add	 esp, 8
  00f70	0f b6 c8	 movzx	 ecx, al
  00f73	83 f9 01	 cmp	 ecx, 1
  00f76	0f 85 ab 01 00
	00		 jne	 $LN21@GetAddUseM
$LN19@GetAddUseM:

; 476  : 		{
; 477  : 			if(lpMagic->m_Skill == AT_SKILL_CROSSBOW
; 478  : 				|| lpMagic->m_Skill == AT_SKILL_BOW
; 479  : 				|| lpMagic->m_Skill == AT_SKILL_ELFHARDEN
; 480  : 				|| lpMagic->m_Skill == AT_SKILL_PENETRATION
; 481  : 				|| lpMagic->m_Skill == AT_SKILL_5CROSSBOW
; 482  : 				|| g_MasterSkillSystem.GetBaseMasterLevelSkill(lpMagic->m_Skill) == 490)

  00f7c	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00f7f	83 78 08 18	 cmp	 DWORD PTR [eax+8], 24	; 00000018H
  00f83	74 40		 je	 SHORT $LN17@GetAddUseM
  00f85	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00f88	83 78 08 19	 cmp	 DWORD PTR [eax+8], 25	; 00000019H
  00f8c	74 37		 je	 SHORT $LN17@GetAddUseM
  00f8e	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00f91	83 78 08 33	 cmp	 DWORD PTR [eax+8], 51	; 00000033H
  00f95	74 2e		 je	 SHORT $LN17@GetAddUseM
  00f97	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00f9a	83 78 08 34	 cmp	 DWORD PTR [eax+8], 52	; 00000034H
  00f9e	74 25		 je	 SHORT $LN17@GetAddUseM
  00fa0	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00fa3	83 78 08 36	 cmp	 DWORD PTR [eax+8], 54	; 00000036H
  00fa7	74 1c		 je	 SHORT $LN17@GetAddUseM
  00fa9	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00fac	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00faf	51		 push	 ecx
  00fb0	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  00fb5	e8 00 00 00 00	 call	 ?GetBaseMasterLevelSkill@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::GetBaseMasterLevelSkill
  00fba	3d ea 01 00 00	 cmp	 eax, 490		; 000001eaH
  00fbf	0f 85 62 01 00
	00		 jne	 $LN21@GetAddUseM
$LN17@GetAddUseM:

; 483  : 			{
; 484  : 				int iArrowLevel = 0;

  00fc5	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iArrowLevel$239997[ebp], 0

; 485  : 
; 486  : 				CItem * Right = &lpObj->pInventory[0];

  00fcc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00fcf	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  00fd5	89 4d f0	 mov	 DWORD PTR _Right$239998[ebp], ecx

; 487  : 				CItem * Left = &lpObj->pInventory[1];

  00fd8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00fdb	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  00fe1	81 c1 d4 00 00
	00		 add	 ecx, 212		; 000000d4H
  00fe7	89 4d ec	 mov	 DWORD PTR _Left$239999[ebp], ecx

; 488  : 
; 489  : 				if(Right->m_Type >= ITEMGET(4,8) && Right->m_Type <= ITEMGET(4,14)
; 490  : 					|| Right->m_Type == ITEMGET(4,16)
; 491  : 					|| Right->m_Type == ITEMGET(4,18)
; 492  : 					|| Right->m_Type == ITEMGET(4,19))

  00fea	8b 45 f0	 mov	 eax, DWORD PTR _Right$239998[ebp]
  00fed	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  00ff1	81 f9 08 08 00
	00		 cmp	 ecx, 2056		; 00000808H
  00ff7	7c 0f		 jl	 SHORT $LN14@GetAddUseM
  00ff9	8b 45 f0	 mov	 eax, DWORD PTR _Right$239998[ebp]
  00ffc	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  01000	81 f9 0e 08 00
	00		 cmp	 ecx, 2062		; 0000080eH
  01006	7e 2d		 jle	 SHORT $LN15@GetAddUseM
$LN14@GetAddUseM:
  01008	8b 45 f0	 mov	 eax, DWORD PTR _Right$239998[ebp]
  0100b	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  0100f	81 f9 10 08 00
	00		 cmp	 ecx, 2064		; 00000810H
  01015	74 1e		 je	 SHORT $LN15@GetAddUseM
  01017	8b 45 f0	 mov	 eax, DWORD PTR _Right$239998[ebp]
  0101a	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  0101e	81 f9 12 08 00
	00		 cmp	 ecx, 2066		; 00000812H
  01024	74 0f		 je	 SHORT $LN15@GetAddUseM
  01026	8b 45 f0	 mov	 eax, DWORD PTR _Right$239998[ebp]
  01029	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  0102d	81 f9 13 08 00
	00		 cmp	 ecx, 2067		; 00000813H
  01033	75 1e		 jne	 SHORT $LN16@GetAddUseM
$LN15@GetAddUseM:

; 493  : 				{
; 494  : 					if(Left->m_Type == ITEMGET(4,7))

  01035	8b 45 ec	 mov	 eax, DWORD PTR _Left$239999[ebp]
  01038	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  0103c	81 f9 07 08 00
	00		 cmp	 ecx, 2055		; 00000807H
  01042	75 0a		 jne	 SHORT $LN13@GetAddUseM

; 495  : 					{
; 496  : 						iArrowLevel = Left->m_Level;

  01044	8b 45 ec	 mov	 eax, DWORD PTR _Left$239999[ebp]
  01047	0f bf 48 08	 movsx	 ecx, WORD PTR [eax+8]
  0104b	89 4d f4	 mov	 DWORD PTR _iArrowLevel$239997[ebp], ecx
$LN13@GetAddUseM:

; 497  : 					}
; 498  : 				}
; 499  : 				else if(Left->m_Type >= ITEMGET(4,0) && Left->m_Type <= ITEMGET(4,6)

  0104e	e9 82 00 00 00	 jmp	 $LN12@GetAddUseM
$LN16@GetAddUseM:

; 500  : 					|| Left->m_Type == ITEMGET(4,17)
; 501  : 					|| Left->m_Type == ITEMGET(4,20)
; 502  : 					|| Left->m_Type == ITEMGET(4,21)
; 503  : 					|| Left->m_Type == ITEMGET(4,22)
; 504  : 					|| Left->m_Type == ITEMGET(4,23)) //Season4 add-on

  01053	8b 45 ec	 mov	 eax, DWORD PTR _Left$239999[ebp]
  01056	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  0105a	81 f9 00 08 00
	00		 cmp	 ecx, 2048		; 00000800H
  01060	7c 0f		 jl	 SHORT $LN9@GetAddUseM
  01062	8b 45 ec	 mov	 eax, DWORD PTR _Left$239999[ebp]
  01065	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  01069	81 f9 06 08 00
	00		 cmp	 ecx, 2054		; 00000806H
  0106f	7e 4b		 jle	 SHORT $LN10@GetAddUseM
$LN9@GetAddUseM:
  01071	8b 45 ec	 mov	 eax, DWORD PTR _Left$239999[ebp]
  01074	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  01078	81 f9 11 08 00
	00		 cmp	 ecx, 2065		; 00000811H
  0107e	74 3c		 je	 SHORT $LN10@GetAddUseM
  01080	8b 45 ec	 mov	 eax, DWORD PTR _Left$239999[ebp]
  01083	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  01087	81 f9 14 08 00
	00		 cmp	 ecx, 2068		; 00000814H
  0108d	74 2d		 je	 SHORT $LN10@GetAddUseM
  0108f	8b 45 ec	 mov	 eax, DWORD PTR _Left$239999[ebp]
  01092	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  01096	81 f9 15 08 00
	00		 cmp	 ecx, 2069		; 00000815H
  0109c	74 1e		 je	 SHORT $LN10@GetAddUseM
  0109e	8b 45 ec	 mov	 eax, DWORD PTR _Left$239999[ebp]
  010a1	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  010a5	81 f9 16 08 00
	00		 cmp	 ecx, 2070		; 00000816H
  010ab	74 0f		 je	 SHORT $LN10@GetAddUseM
  010ad	8b 45 ec	 mov	 eax, DWORD PTR _Left$239999[ebp]
  010b0	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  010b4	81 f9 17 08 00
	00		 cmp	 ecx, 2071		; 00000817H
  010ba	75 19		 jne	 SHORT $LN12@GetAddUseM
$LN10@GetAddUseM:

; 505  : 				{
; 506  : 					if(Right->m_Type == ITEMGET(4,15))

  010bc	8b 45 f0	 mov	 eax, DWORD PTR _Right$239998[ebp]
  010bf	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  010c3	81 f9 0f 08 00
	00		 cmp	 ecx, 2063		; 0000080fH
  010c9	75 0a		 jne	 SHORT $LN12@GetAddUseM

; 507  : 					{
; 508  : 						iArrowLevel = Right->m_Level;

  010cb	8b 45 f0	 mov	 eax, DWORD PTR _Right$239998[ebp]
  010ce	0f bf 48 08	 movsx	 ecx, WORD PTR [eax+8]
  010d2	89 4d f4	 mov	 DWORD PTR _iArrowLevel$239997[ebp], ecx
$LN12@GetAddUseM:

; 509  : 					}
; 510  : 				}
; 511  : 
; 512  : 				if(iArrowLevel == 0)

  010d5	83 7d f4 00	 cmp	 DWORD PTR _iArrowLevel$239997[ebp], 0
  010d9	75 0f		 jne	 SHORT $LN7@GetAddUseM

; 513  : 				{
; 514  : 					iRetValue = g_SkillAdditionInfo.GetInfinityArrowMPConsumptionPlus0();

  010db	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A ; g_SkillAdditionInfo
  010e0	e8 00 00 00 00	 call	 ?GetInfinityArrowMPConsumptionPlus0@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus0
  010e5	89 45 f8	 mov	 DWORD PTR _iRetValue$[ebp], eax
  010e8	eb 3d		 jmp	 SHORT $LN21@GetAddUseM
$LN7@GetAddUseM:

; 515  : 				}
; 516  : 				else if(iArrowLevel == 1)

  010ea	83 7d f4 01	 cmp	 DWORD PTR _iArrowLevel$239997[ebp], 1
  010ee	75 0f		 jne	 SHORT $LN5@GetAddUseM

; 517  : 				{
; 518  : 					iRetValue = g_SkillAdditionInfo.GetInfinityArrowMPConsumptionPlus1();

  010f0	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A ; g_SkillAdditionInfo
  010f5	e8 00 00 00 00	 call	 ?GetInfinityArrowMPConsumptionPlus1@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus1
  010fa	89 45 f8	 mov	 DWORD PTR _iRetValue$[ebp], eax
  010fd	eb 28		 jmp	 SHORT $LN21@GetAddUseM
$LN5@GetAddUseM:

; 519  : 				}
; 520  : 				else if(iArrowLevel == 2)

  010ff	83 7d f4 02	 cmp	 DWORD PTR _iArrowLevel$239997[ebp], 2
  01103	75 0f		 jne	 SHORT $LN3@GetAddUseM

; 521  : 				{
; 522  : 					iRetValue = g_SkillAdditionInfo.GetInfinityArrowMPConsumptionPlus2();

  01105	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A ; g_SkillAdditionInfo
  0110a	e8 00 00 00 00	 call	 ?GetInfinityArrowMPConsumptionPlus2@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus2
  0110f	89 45 f8	 mov	 DWORD PTR _iRetValue$[ebp], eax
  01112	eb 13		 jmp	 SHORT $LN21@GetAddUseM
$LN3@GetAddUseM:

; 523  : 				}
; 524  : 				else if(iArrowLevel == 3) //season 4.5 add-on

  01114	83 7d f4 03	 cmp	 DWORD PTR _iArrowLevel$239997[ebp], 3
  01118	75 0d		 jne	 SHORT $LN21@GetAddUseM

; 525  : 				{
; 526  : 					iRetValue = g_SkillAdditionInfo.GetInfinityArrowMPConsumptionPlus3();

  0111a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A ; g_SkillAdditionInfo
  0111f	e8 00 00 00 00	 call	 ?GetInfinityArrowMPConsumptionPlus3@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus3
  01124	89 45 f8	 mov	 DWORD PTR _iRetValue$[ebp], eax
$LN21@GetAddUseM:

; 527  : 				}
; 528  : 			}
; 529  : 		}
; 530  : 	}
; 531  : 	return iRetValue;

  01127	8b 45 f8	 mov	 eax, DWORD PTR _iRetValue$[ebp]

; 532  : }

  0112a	5f		 pop	 edi
  0112b	5e		 pop	 esi
  0112c	5b		 pop	 ebx
  0112d	8b e5		 mov	 esp, ebp
  0112f	5d		 pop	 ebp
  01130	c2 08 00	 ret	 8
?GetAddUseMana@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@PAVCMagicInf@@@Z ENDP ; CObjUseSkill::GetAddUseMana
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\skilladditioninfo.h
_TEXT	ENDS
;	COMDAT ?GetInfinityArrowMPConsumptionPlus0@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetInfinityArrowMPConsumptionPlus0@CSkillAdditionInfo@@QAEHXZ PROC ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus0, COMDAT
; _this$ = ecx

; 39   : 	int GetInfinityArrowMPConsumptionPlus0(){return this->m_iInfinityArrowMPConsumptionPlus0;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 0c	 mov	 eax, DWORD PTR [eax+12]
  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetInfinityArrowMPConsumptionPlus0@CSkillAdditionInfo@@QAEHXZ ENDP ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus0
; Function compile flags: /Odtp /ZI
_TEXT	ENDS
;	COMDAT ?GetInfinityArrowMPConsumptionPlus1@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetInfinityArrowMPConsumptionPlus1@CSkillAdditionInfo@@QAEHXZ PROC ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus1, COMDAT
; _this$ = ecx

; 41   : 	int GetInfinityArrowMPConsumptionPlus1(){return this->m_iInfinityArrowMPConsumptionPlus1;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 10	 mov	 eax, DWORD PTR [eax+16]
  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetInfinityArrowMPConsumptionPlus1@CSkillAdditionInfo@@QAEHXZ ENDP ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus1
; Function compile flags: /Odtp /ZI
_TEXT	ENDS
;	COMDAT ?GetInfinityArrowMPConsumptionPlus2@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetInfinityArrowMPConsumptionPlus2@CSkillAdditionInfo@@QAEHXZ PROC ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus2, COMDAT
; _this$ = ecx

; 43   : 	int GetInfinityArrowMPConsumptionPlus2(){return this->m_iInfinityArrowMPConsumptionPlus2;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 14	 mov	 eax, DWORD PTR [eax+20]
  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetInfinityArrowMPConsumptionPlus2@CSkillAdditionInfo@@QAEHXZ ENDP ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus2
; Function compile flags: /Odtp /ZI
_TEXT	ENDS
;	COMDAT ?GetInfinityArrowMPConsumptionPlus3@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetInfinityArrowMPConsumptionPlus3@CSkillAdditionInfo@@QAEHXZ PROC ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus3, COMDAT
; _this$ = ecx

; 45   : 	int GetInfinityArrowMPConsumptionPlus3(){return this->m_iInfinityArrowMPConsumptionPlus3;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 18	 mov	 eax, DWORD PTR [eax+24]
  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetInfinityArrowMPConsumptionPlus3@CSkillAdditionInfo@@QAEHXZ ENDP ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus3
_TEXT	ENDS
PUBLIC	?GetUseBP@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z	; CObjUseSkill::GetUseBP
EXTRN	?SkillGetBP@CMagicDamage@@QAEHH@Z:PROC		; CMagicDamage::SkillGetBP
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\objuseskill.cpp
_TEXT	SEGMENT
_usingbp$ = -16						; size = 4
_bp$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?GetUseBP@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::GetUseBP
; _this$ = ecx

; 535  : {

  01140	55		 push	 ebp
  01141	8b ec		 mov	 ebp, esp
  01143	83 ec 50	 sub	 esp, 80			; 00000050H
  01146	53		 push	 ebx
  01147	56		 push	 esi
  01148	57		 push	 edi
  01149	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 536  : 	LPOBJ lpObj = &gObj[aIndex]; //2

  0114c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0114f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01155	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0115b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 537  : 
; 538  : 	int bp = lpObj->BP; //3

  0115e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01161	8b 88 28 01 00
	00		 mov	 ecx, DWORD PTR [eax+296]
  01167	89 4d f4	 mov	 DWORD PTR _bp$[ebp], ecx

; 539  : 
; 540  : 	if(lpObj->Type != OBJ_USER)

  0116a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0116d	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  01171	83 f9 01	 cmp	 ecx, 1
  01174	74 04		 je	 SHORT $LN4@GetUseBP

; 541  : 	{
; 542  : 		return 0;

  01176	33 c0		 xor	 eax, eax
  01178	eb 7f		 jmp	 SHORT $LN5@GetUseBP
$LN4@GetUseBP:

; 543  : 	}
; 544  : 
; 545  : 	if(lpMagic == 0)

  0117a	83 7d 0c 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  0117e	75 04		 jne	 SHORT $LN3@GetUseBP

; 546  : 	{
; 547  : 		return 0;

  01180	33 c0		 xor	 eax, eax
  01182	eb 75		 jmp	 SHORT $LN5@GetUseBP
$LN3@GetUseBP:

; 548  : 	}
; 549  : 
; 550  : 	int usingbp = MagicDamageC.SkillGetBP(lpMagic->m_Skill); //4

  01184	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01187	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0118a	51		 push	 ecx
  0118b	b9 00 00 00 00	 mov	 ecx, OFFSET ?MagicDamageC@@3VCMagicDamage@@A ; MagicDamageC
  01190	e8 00 00 00 00	 call	 ?SkillGetBP@CMagicDamage@@QAEHH@Z ; CMagicDamage::SkillGetBP
  01195	89 45 f0	 mov	 DWORD PTR _usingbp$[ebp], eax

; 551  : 
; 552  : 	usingbp -= usingbp * lpObj->SetOpDecreaseAG / 100;

  01198	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0119b	0f b6 88 44 11
	00 00		 movzx	 ecx, BYTE PTR [eax+4420]
  011a2	8b c1		 mov	 eax, ecx
  011a4	0f af 45 f0	 imul	 eax, DWORD PTR _usingbp$[ebp]
  011a8	99		 cdq
  011a9	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  011ae	f7 f9		 idiv	 ecx
  011b0	8b 55 f0	 mov	 edx, DWORD PTR _usingbp$[ebp]
  011b3	2b d0		 sub	 edx, eax
  011b5	89 55 f0	 mov	 DWORD PTR _usingbp$[ebp], edx

; 553  : 
; 554  : 	if(lpObj->m_btSocketOpDecreaseAG > 0)

  011b8	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  011bb	0f b6 88 96 21
	00 00		 movzx	 ecx, BYTE PTR [eax+8598]
  011c2	85 c9		 test	 ecx, ecx
  011c4	7e 20		 jle	 SHORT $LN2@GetUseBP

; 555  : 	{
; 556  : 		usingbp -= usingbp * lpObj->m_btSocketOpDecreaseAG / 100;

  011c6	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  011c9	0f b6 88 96 21
	00 00		 movzx	 ecx, BYTE PTR [eax+8598]
  011d0	8b c1		 mov	 eax, ecx
  011d2	0f af 45 f0	 imul	 eax, DWORD PTR _usingbp$[ebp]
  011d6	99		 cdq
  011d7	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  011dc	f7 f9		 idiv	 ecx
  011de	8b 55 f0	 mov	 edx, DWORD PTR _usingbp$[ebp]
  011e1	2b d0		 sub	 edx, eax
  011e3	89 55 f0	 mov	 DWORD PTR _usingbp$[ebp], edx
$LN2@GetUseBP:

; 557  : 	}
; 558  : 
; 559  : 	bp -= usingbp;

  011e6	8b 45 f4	 mov	 eax, DWORD PTR _bp$[ebp]
  011e9	2b 45 f0	 sub	 eax, DWORD PTR _usingbp$[ebp]
  011ec	89 45 f4	 mov	 DWORD PTR _bp$[ebp], eax

; 560  : 
; 561  : 	if(bp < 0)

  011ef	79 05		 jns	 SHORT $LN1@GetUseBP

; 562  : 	{
; 563  : 		return -1;

  011f1	83 c8 ff	 or	 eax, -1
  011f4	eb 03		 jmp	 SHORT $LN5@GetUseBP
$LN1@GetUseBP:

; 564  : 	}
; 565  : 
; 566  : 	return bp;

  011f6	8b 45 f4	 mov	 eax, DWORD PTR _bp$[ebp]
$LN5@GetUseBP:

; 567  : }

  011f9	5f		 pop	 edi
  011fa	5e		 pop	 esi
  011fb	5b		 pop	 ebx
  011fc	8b e5		 mov	 esp, ebp
  011fe	5d		 pop	 ebp
  011ff	c2 08 00	 ret	 8
?GetUseBP@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::GetUseBP
_TEXT	ENDS
PUBLIC	??_C@_0FO@JAMLMINI@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@ ; `string'
PUBLIC	?SkillAreaMonsterAttack@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ; CObjUseSkill::SkillAreaMonsterAttack
PUBLIC	??_C@_0FO@IFELCABO@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@ ; `string'
PUBLIC	?SkillEvilMonster@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillEvilMonster
PUBLIC	?SkillChaoticDiseier@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ; CObjUseSkill::SkillChaoticDiseier
PUBLIC	?SkillMultiShot@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ; CObjUseSkill::SkillMultiShot
PUBLIC	?SkillGiganticStormStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillGiganticStormStart
PUBLIC	?SkillFlameStrike@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ; CObjUseSkill::SkillFlameStrike
PUBLIC	?SkillStrikeOfDestructionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillStrikeOfDestructionStart
PUBLIC	?SkillLightningShock@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillLightningShock
PUBLIC	?SkillPollutionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHH@Z ; CObjUseSkill::SkillPollutionStart
PUBLIC	?SkillInnovation@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillInnovation
PUBLIC	?SkillWeakness@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillWeakness
PUBLIC	?SkillSummonerBook@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillSummonerBook
PUBLIC	?SkillChainLightning@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillChainLightning
PUBLIC	?SkillDrainLife@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDrainLife
PUBLIC	?SkillEletrictSurge@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillEletrictSurge
PUBLIC	?SkillFenrirAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillFenrirAttack
PUBLIC	?SkillStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@EEEE@Z ; CObjUseSkill::SkillStun
PUBLIC	?SkillDarkHorseAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDarkHorseAttack
PUBLIC	?SkillElectricSpark@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillElectricSpark
PUBLIC	?SkillWheel@CObjUseSkill@@QAEXHPAVCMagicInf@@HH@Z ; CObjUseSkill::SkillWheel
PUBLIC	?SkillBlowOfFury@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEHH@Z ; CObjUseSkill::SkillBlowOfFury
PUBLIC	?SkillSuddenIce@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillSuddenIce
PUBLIC	?SkillDeathPoison@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillDeathPoison
PUBLIC	?SkillDeathPoisonForMeDusa@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillDeathPoisonForMeDusa
PUBLIC	?SkillPowerSlash@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillPowerSlash
PUBLIC	??_C@_0BJ@CPAKELEB@?$FL?$CF?$FN?5?$LN?$LK?E?$LD?5?$LF?t?$LH?$LJ?$MA?L?$LN?C?$LA?$KD?5?$LP?$MA?$LJ?v?$AA@ ; `string'
PUBLIC	?RunningSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ; CObjUseSkill::RunningSkill
PUBLIC	__$ArrayPad$
PUBLIC	?UseSkill@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::UseSkill
EXTRN	?RunningSkill@CMasterLevelSkillTreeSystem@@QAEHPAUOBJECTSTRUCT@@HPAVCMagicInf@@HEEEE@Z:PROC ; CMasterLevelSkillTreeSystem::RunningSkill
EXTRN	?MsgSendV2@@YAXPAUOBJECTSTRUCT@@PAEH@Z:PROC	; MsgSendV2
EXTRN	?DataSend@@YAHHPAEK@Z:PROC			; DataSend
EXTRN	?PHeadSetBE@@YAXPAEEH@Z:PROC			; PHeadSetBE
EXTRN	?GCManaSend@@YAXHHEEH@Z:PROC			; GCManaSend
EXTRN	?gObjMagicBPUse@@YAHPAUOBJECTSTRUCT@@PAVCMagicInf@@@Z:PROC ; gObjMagicBPUse
EXTRN	?Check@CSkillDelay@@QAEHE@Z:PROC		; CSkillDelay::Check
EXTRN	?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z:PROC ; gObjGetMagicSearch
EXTRN	?g_ExLicense@@3VCExLicense@@A:BYTE		; g_ExLicense
EXTRN	?CheckCombo@CComboAttack@@QAEHHH@Z:PROC		; CComboAttack::CheckCombo
EXTRN	?gComboAttack@@3VCComboAttack@@A:DWORD		; gComboAttack
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
;	COMDAT ??_C@_0FO@JAMLMINI@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@
CONST	SEGMENT
??_C@_0FO@JAMLMINI@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@ DB '[Invali'
	DB	'dTargetIndex][CObjUseSkill.UseSkill][AT_SKILL_PHOENIXSHOT] In'
	DB	'dex :%d , AccountID : %s ', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0FO@IFELCABO@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@
CONST	SEGMENT
??_C@_0FO@IFELCABO@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@ DB '[Invali'
	DB	'dTargetIndex][CObjUseSkill.UseSkill][AT_SKILL_DRAGON_ROAR] In'
	DB	'dex :%d , AccountID : %s ', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BJ@CPAKELEB@?$FL?$CF?$FN?5?$LN?$LK?E?$LD?5?$LF?t?$LH?$LJ?$MA?L?$LN?C?$LA?$KD?5?$LP?$MA?$LJ?v?$AA@
CONST	SEGMENT
??_C@_0BJ@CPAKELEB@?$FL?$CF?$FN?5?$LN?$LK?E?$LD?5?$LF?t?$LH?$LJ?$MA?L?$LN?C?$LA?$KD?5?$LP?$MA?$LJ?v?$AA@ DB '['
	DB	'%] ', 0bdH, 0baH, 0c5H, 0b3H, ' ', 0b5H, 0f4H, 0b7H, 0b9H, 0c0H
	DB	0ccH, 0bdH, 0c3H, 0b0H, 0a3H, ' ', 0bfH, 0c0H, 0b9H, 0f6H, 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv199 = -116						; size = 4
tv505 = -112						; size = 4
tv477 = -112						; size = 4
tv219 = -112						; size = 4
tv211 = -112						; size = 4
tv200 = -112						; size = 4
_GetBaseMasterLevelSkill$240086 = -44			; size = 4
_usebp$240052 = -40					; size = 4
_pMsg$ = -36						; size = 10
_usemana$ = -24						; size = 4
_lpMagic$240043 = -20					; size = 4
_bCombo$ = -16						; size = 4
_lpObj$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_dir$ = 24						; size = 1
_TargetPos$ = 28					; size = 1
_aTargetIndex$ = 32					; size = 4
?UseSkill@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z PROC	; CObjUseSkill::UseSkill
; _this$ = ecx

; 570  : {

  01210	55		 push	 ebp
  01211	8b ec		 mov	 ebp, esp
  01213	83 ec 74	 sub	 esp, 116		; 00000074H
  01216	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0121b	33 c5		 xor	 eax, ebp
  0121d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01220	53		 push	 ebx
  01221	56		 push	 esi
  01222	57		 push	 edi
  01223	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 571  : 	LPOBJ lpObj = &gObj[aIndex];

  01226	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01229	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0122f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01235	89 45 f4	 mov	 DWORD PTR _lpObj$[ebp], eax

; 572  : 
; 573  : 	int bCombo = 0;

  01238	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _bCombo$[ebp], 0

; 574  : 
; 575  : 	if(gComboAttack.CheckCombo(aIndex,lpMagic->m_Skill))

  0123f	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01242	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  01245	51		 push	 ecx
  01246	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  01249	52		 push	 edx
  0124a	b9 00 00 00 00	 mov	 ecx, OFFSET ?gComboAttack@@3VCComboAttack@@A ; gComboAttack
  0124f	e8 00 00 00 00	 call	 ?CheckCombo@CComboAttack@@QAEHHH@Z ; CComboAttack::CheckCombo
  01254	85 c0		 test	 eax, eax
  01256	74 07		 je	 SHORT $LN76@UseSkill

; 576  : 	{
; 577  : 		bCombo = 1;

  01258	c7 45 f0 01 00
	00 00		 mov	 DWORD PTR _bCombo$[ebp], 1
$LN76@UseSkill:

; 578  : 	}
; 579  : 
; 580  : #if(DEV_COMBO_CUSTOM==TRUE)
; 581  : 	if(g_ExLicense.user.ComboCustom)

  0125f	0f b6 05 d8 00
	00 00		 movzx	 eax, BYTE PTR ?g_ExLicense@@3VCExLicense@@A+216
  01266	85 c0		 test	 eax, eax
  01268	74 10		 je	 SHORT $LN75@UseSkill

; 582  : 	{
; 583  : 		lpObj->NewCombo = bCombo;

  0126a	83 7d f0 00	 cmp	 DWORD PTR _bCombo$[ebp], 0
  0126e	0f 95 c0	 setne	 al
  01271	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01274	88 81 80 28 00
	00		 mov	 BYTE PTR [ecx+10368], al
$LN75@UseSkill:

; 584  : 	}
; 585  : #endif
; 586  : 
; 587  : 	if(lpObj->SkillHellFire2State && lpMagic->m_Skill != AT_SKILL_EXPHELL)

  0127a	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0127d	0f b6 88 14 11
	00 00		 movzx	 ecx, BYTE PTR [eax+4372]
  01284	85 c9		 test	 ecx, ecx
  01286	74 3d		 je	 SHORT $LN74@UseSkill
  01288	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0128b	83 78 08 28	 cmp	 DWORD PTR [eax+8], 40	; 00000028H
  0128f	74 34		 je	 SHORT $LN74@UseSkill

; 588  : 	{
; 589  : 		CMagicInf * lpMagic = gObjGetMagicSearch(lpObj,AT_SKILL_EXPHELL);

  01291	6a 28		 push	 40			; 00000028H
  01293	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01296	50		 push	 eax
  01297	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  0129c	83 c4 08	 add	 esp, 8
  0129f	89 45 ec	 mov	 DWORD PTR _lpMagic$240043[ebp], eax

; 590  : 
; 591  : 		if(lpMagic != 0)

  012a2	83 7d ec 00	 cmp	 DWORD PTR _lpMagic$240043[ebp], 0
  012a6	74 18		 je	 SHORT $LN73@UseSkill

; 592  : 		{
; 593  : 			gObjUseSkill.RunningSkill(lpObj->m_Index,0,lpMagic,0);

  012a8	6a 00		 push	 0
  012aa	8b 45 ec	 mov	 eax, DWORD PTR _lpMagic$240043[ebp]
  012ad	50		 push	 eax
  012ae	6a 00		 push	 0
  012b0	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  012b3	8b 11		 mov	 edx, DWORD PTR [ecx]
  012b5	52		 push	 edx
  012b6	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  012bb	e8 00 00 00 00	 call	 ?RunningSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ; CObjUseSkill::RunningSkill
$LN73@UseSkill:

; 594  : 		}
; 595  : 
; 596  : 		return;

  012c0	e9 ab 08 00 00	 jmp	 $LN77@UseSkill
$LN74@UseSkill:

; 597  : 	}
; 598  : 
; 599  : 	int usemana = this->GetUseMana(aIndex,lpMagic);

  012c5	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  012c8	50		 push	 eax
  012c9	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  012cc	51		 push	 ecx
  012cd	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  012d0	e8 00 00 00 00	 call	 ?GetUseMana@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::GetUseMana
  012d5	89 45 e8	 mov	 DWORD PTR _usemana$[ebp], eax

; 600  : 
; 601  : 	if(lpMagic->m_Skill == AT_SKILL_DARKHORSE_ATTACK) //season4 add-on

  012d8	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  012db	83 78 08 3e	 cmp	 DWORD PTR [eax+8], 62	; 0000003eH
  012df	75 1e		 jne	 SHORT $LN72@UseSkill

; 602  : 	{
; 603  : 		usemana = (int)gObj[aIndex].Mana;

  012e1	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  012e4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  012ea	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  012f0	d9 84 01 10 01
	00 00		 fld	 DWORD PTR [ecx+eax+272]
  012f7	e8 00 00 00 00	 call	 __ftol2_sse
  012fc	89 45 e8	 mov	 DWORD PTR _usemana$[ebp], eax
$LN72@UseSkill:

; 604  : 	}
; 605  : 
; 606  : 	PMSG_DURATION_MAGIC_SEND pMsg;
; 607  : 
; 608  : 	if(usemana >= 0)

  012ff	83 7d e8 00	 cmp	 DWORD PTR _usemana$[ebp], 0
  01303	0f 8c 67 08 00
	00		 jl	 $LN2@UseSkill

; 609  : 	{
; 610  : 		if(!gObj[aIndex].SkillDelay.Check(lpMagic->m_Skill))

  01309	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0130c	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  01310	51		 push	 ecx
  01311	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  01314	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0131a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0131f	8d 8c 10 7c 12
	00 00		 lea	 ecx, DWORD PTR [eax+edx+4732]
  01326	e8 00 00 00 00	 call	 ?Check@CSkillDelay@@QAEHE@Z ; CSkillDelay::Check
  0132b	85 c0		 test	 eax, eax
  0132d	75 27		 jne	 SHORT $LN70@UseSkill

; 611  : 		{
; 612  : 			LogAddTD("[%]   ",gObj[aIndex].AccountID);

  0132f	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01332	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01338	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0133e	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  01342	52		 push	 edx
  01343	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@CPAKELEB@?$FL?$CF?$FN?5?$LN?$LK?E?$LD?5?$LF?t?$LH?$LJ?$MA?L?$LN?C?$LA?$KD?5?$LP?$MA?$LJ?v?$AA@
  01348	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0134e	83 c4 08	 add	 esp, 8

; 613  : 			return;

  01351	e9 1a 08 00 00	 jmp	 $LN77@UseSkill
$LN70@UseSkill:

; 614  : 		}
; 615  : 
; 616  : 		int usebp = gObjMagicBPUse(&gObj[aIndex],lpMagic);

  01356	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01359	50		 push	 eax
  0135a	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0135d	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01363	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01369	51		 push	 ecx
  0136a	e8 00 00 00 00	 call	 ?gObjMagicBPUse@@YAHPAUOBJECTSTRUCT@@PAVCMagicInf@@@Z ; gObjMagicBPUse
  0136f	83 c4 08	 add	 esp, 8
  01372	89 45 d8	 mov	 DWORD PTR _usebp$240052[ebp], eax

; 617  : 
; 618  : 		if(usebp >= 0)

  01375	83 7d d8 00	 cmp	 DWORD PTR _usebp$240052[ebp], 0
  01379	0f 8c f9 01 00
	00		 jl	 $LN56@UseSkill

; 619  : 		{
; 620  : 			lpObj->UseMagicNumber = lpMagic->m_Skill;

  0137f	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01382	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  01385	8a 51 08	 mov	 dl, BYTE PTR [ecx+8]
  01388	88 90 cd 04 00
	00		 mov	 BYTE PTR [eax+1229], dl

; 621  : 			lpObj->UseMagicTime = GetTickCount();

  0138e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  01394	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01397	89 81 d0 04 00
	00		 mov	 DWORD PTR [ecx+1232], eax

; 622  : 			lpObj->UseMagicCount = 0;

  0139d	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  013a0	c6 80 d4 04 00
	00 00		 mov	 BYTE PTR [eax+1236], 0

; 623  : 
; 624  : 			lpObj->Mana = (float)usemana;

  013a7	db 45 e8	 fild	 DWORD PTR _usemana$[ebp]
  013aa	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  013ad	d9 98 10 01 00
	00		 fstp	 DWORD PTR [eax+272]

; 625  : 			lpObj->BP = usebp;

  013b3	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  013b6	8b 4d d8	 mov	 ecx, DWORD PTR _usebp$240052[ebp]
  013b9	89 88 28 01 00
	00		 mov	 DWORD PTR [eax+296], ecx

; 626  : 
; 627  : 			GCManaSend(lpObj->m_Index,lpObj->Mana,0xFF,0,lpObj->BP);

  013bf	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  013c2	8b 88 28 01 00
	00		 mov	 ecx, DWORD PTR [eax+296]
  013c8	51		 push	 ecx
  013c9	6a 00		 push	 0
  013cb	68 ff 00 00 00	 push	 255			; 000000ffH
  013d0	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  013d3	d9 82 10 01 00
	00		 fld	 DWORD PTR [edx+272]
  013d9	e8 00 00 00 00	 call	 __ftol2_sse
  013de	50		 push	 eax
  013df	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  013e2	8b 08		 mov	 ecx, DWORD PTR [eax]
  013e4	51		 push	 ecx
  013e5	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend
  013ea	83 c4 14	 add	 esp, 20			; 00000014H

; 628  : 
; 629  : 			PHeadSetBE((LPBYTE)&pMsg,0x1E,sizeof(pMsg));

  013ed	6a 0a		 push	 10			; 0000000aH
  013ef	6a 1e		 push	 30			; 0000001eH
  013f1	8d 45 dc	 lea	 eax, DWORD PTR _pMsg$[ebp]
  013f4	50		 push	 eax
  013f5	e8 00 00 00 00	 call	 ?PHeadSetBE@@YAXPAEEH@Z	; PHeadSetBE
  013fa	83 c4 0c	 add	 esp, 12			; 0000000cH

; 630  : 
; 631  : 			pMsg.MagicNumberH = SET_NUMBERH(lpMagic->m_Skill);

  013fd	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01400	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  01403	c1 e9 08	 shr	 ecx, 8
  01406	88 4d df	 mov	 BYTE PTR _pMsg$[ebp+3], cl

; 632  : 			pMsg.MagicNumberL = SET_NUMBERL(lpMagic->m_Skill);

  01409	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0140c	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0140f	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  01415	88 4d e0	 mov	 BYTE PTR _pMsg$[ebp+4], cl

; 633  : 
; 634  : 			pMsg.X = x;

  01418	8a 45 10	 mov	 al, BYTE PTR _x$[ebp]
  0141b	88 45 e3	 mov	 BYTE PTR _pMsg$[ebp+7], al

; 635  : 			pMsg.Y = y;

  0141e	8a 45 14	 mov	 al, BYTE PTR _y$[ebp]
  01421	88 45 e4	 mov	 BYTE PTR _pMsg$[ebp+8], al

; 636  : 			pMsg.Dir = dir;

  01424	8a 45 18	 mov	 al, BYTE PTR _dir$[ebp]
  01427	88 45 e5	 mov	 BYTE PTR _pMsg$[ebp+9], al

; 637  : 			pMsg.NumberH = SET_NUMBERH(aIndex);

  0142a	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0142d	c1 e8 08	 shr	 eax, 8
  01430	88 45 e1	 mov	 BYTE PTR _pMsg$[ebp+5], al

; 638  : 			pMsg.NumberL = SET_NUMBERL(aIndex);

  01433	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01436	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0143b	88 45 e2	 mov	 BYTE PTR _pMsg$[ebp+6], al

; 639  : 
; 640  : 			if(lpObj->Type == OBJ_USER)

  0143e	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01441	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  01445	83 f9 01	 cmp	 ecx, 1
  01448	75 17		 jne	 SHORT $LN68@UseSkill

; 641  : 			{
; 642  : 				DataSend(lpObj->m_Index,(LPBYTE)&pMsg,pMsg.h.size);

  0144a	0f b6 45 dd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0144e	50		 push	 eax
  0144f	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  01452	51		 push	 ecx
  01453	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01456	8b 02		 mov	 eax, DWORD PTR [edx]
  01458	50		 push	 eax
  01459	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0145e	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN68@UseSkill:

; 643  : 			}
; 644  : 
; 645  : 			if(CC_MAP_RANGE(lpObj->MapNumber))

  01461	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01464	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0146b	83 f9 35	 cmp	 ecx, 53			; 00000035H
  0146e	75 09		 jne	 SHORT $LN81@UseSkill
  01470	c7 45 90 01 00
	00 00		 mov	 DWORD PTR tv200[ebp], 1
  01477	eb 33		 jmp	 SHORT $LN82@UseSkill
$LN81@UseSkill:
  01479	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0147c	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  01483	83 f8 12	 cmp	 eax, 18			; 00000012H
  01486	7d 09		 jge	 SHORT $LN79@UseSkill
  01488	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv199[ebp], 0
  0148f	eb 15		 jmp	 SHORT $LN80@UseSkill
$LN79@UseSkill:
  01491	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01494	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  0149b	33 c0		 xor	 eax, eax
  0149d	83 fa 17	 cmp	 edx, 23			; 00000017H
  014a0	0f 9e c0	 setle	 al
  014a3	89 45 8c	 mov	 DWORD PTR tv199[ebp], eax
$LN80@UseSkill:
  014a6	8b 4d 8c	 mov	 ecx, DWORD PTR tv199[ebp]
  014a9	89 4d 90	 mov	 DWORD PTR tv200[ebp], ecx
$LN82@UseSkill:
  014ac	83 7d 90 00	 cmp	 DWORD PTR tv200[ebp], 0
  014b0	0f 84 ad 00 00
	00		 je	 $LN67@UseSkill

; 646  : 			{
; 647  : 				if(g_MasterSkillSystem.CheckRequireStatus(lpMagic->m_Skill) != FALSE) //Season3 add-on

  014b6	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  014b9	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  014bc	51		 push	 ecx
  014bd	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  014c2	e8 00 00 00 00	 call	 ?CheckRequireStatus@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::CheckRequireStatus
  014c7	85 c0		 test	 eax, eax
  014c9	74 56		 je	 SHORT $LN66@UseSkill

; 648  : 				{
; 649  : 					int GetBaseMasterLevelSkill = g_MasterSkillSystem.GetBaseMasterLevelSkill(lpMagic->m_Skill);

  014cb	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  014ce	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  014d1	51		 push	 ecx
  014d2	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  014d7	e8 00 00 00 00	 call	 ?GetBaseMasterLevelSkill@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::GetBaseMasterLevelSkill
  014dc	89 45 d4	 mov	 DWORD PTR _GetBaseMasterLevelSkill$240086[ebp], eax

; 650  : 					switch ( GetBaseMasterLevelSkill )

  014df	8b 45 d4	 mov	 eax, DWORD PTR _GetBaseMasterLevelSkill$240086[ebp]
  014e2	89 45 90	 mov	 DWORD PTR tv211[ebp], eax
  014e5	8b 4d 90	 mov	 ecx, DWORD PTR tv211[ebp]
  014e8	81 e9 64 01 00
	00		 sub	 ecx, 356		; 00000164H
  014ee	89 4d 90	 mov	 DWORD PTR tv211[ebp], ecx
  014f1	83 7d 90 40	 cmp	 DWORD PTR tv211[ebp], 64 ; 00000040H
  014f5	77 13		 ja	 SHORT $LN62@UseSkill
  014f7	8b 55 90	 mov	 edx, DWORD PTR tv211[ebp]
  014fa	0f b6 82 00 00
	00 00		 movzx	 eax, BYTE PTR $LN87@UseSkill[edx]
  01501	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN89@UseSkill[eax*4]
$LN63@UseSkill:

; 651  : 					{
; 652  : 						case 356:	//1.01.00
; 653  : 						case 360:
; 654  : 						case 363:
; 655  : 						case 403:
; 656  : 						case 404:
; 657  : 						case 406:
; 658  : 						case 413:
; 659  : 						case 417:
; 660  : 						case 420:
; 661  : 							break;

  01508	eb 15		 jmp	 SHORT $LN64@UseSkill
$LN62@UseSkill:

; 662  : 						default:
; 663  : 							MsgSendV2(lpObj,(LPBYTE)&pMsg,pMsg.h.size);

  0150a	0f b6 45 dd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0150e	50		 push	 eax
  0150f	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  01512	51		 push	 ecx
  01513	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01516	52		 push	 edx
  01517	e8 00 00 00 00	 call	 ?MsgSendV2@@YAXPAUOBJECTSTRUCT@@PAEH@Z ; MsgSendV2
  0151c	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN64@UseSkill:

; 664  : 					}
; 665  : 				}
; 666  : 				else

  0151f	eb 40		 jmp	 SHORT $LN59@UseSkill
$LN66@UseSkill:

; 667  : 				{
; 668  : 					switch ( lpMagic->m_Skill )

  01521	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01524	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  01527	89 4d 90	 mov	 DWORD PTR tv219[ebp], ecx
  0152a	8b 55 90	 mov	 edx, DWORD PTR tv219[ebp]
  0152d	83 ea 10	 sub	 edx, 16			; 00000010H
  01530	89 55 90	 mov	 DWORD PTR tv219[ebp], edx
  01533	83 7d 90 20	 cmp	 DWORD PTR tv219[ebp], 32 ; 00000020H
  01537	77 13		 ja	 SHORT $LN57@UseSkill
  01539	8b 45 90	 mov	 eax, DWORD PTR tv219[ebp]
  0153c	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR $LN88@UseSkill[eax]
  01543	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN90@UseSkill[ecx*4]
$LN58@UseSkill:

; 669  : 					{
; 670  : 						case 16:
; 671  : 						case 26:
; 672  : 						case 27:
; 673  : 						case 28:
; 674  : 						case 48:
; 675  : 							break;

  0154a	eb 15		 jmp	 SHORT $LN59@UseSkill
$LN57@UseSkill:

; 676  : 						default:
; 677  : 							MsgSendV2(lpObj,(LPBYTE)&pMsg,pMsg.h.size);

  0154c	0f b6 45 dd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  01550	50		 push	 eax
  01551	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  01554	51		 push	 ecx
  01555	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01558	52		 push	 edx
  01559	e8 00 00 00 00	 call	 ?MsgSendV2@@YAXPAUOBJECTSTRUCT@@PAEH@Z ; MsgSendV2
  0155e	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN59@UseSkill:

; 678  : 					}
; 679  : 				}
; 680  : 			}
; 681  : 			else

  01561	eb 15		 jmp	 SHORT $LN56@UseSkill
$LN67@UseSkill:

; 682  : 			{
; 683  : 				MsgSendV2(lpObj,(LPBYTE)&pMsg,pMsg.h.size);

  01563	0f b6 45 dd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  01567	50		 push	 eax
  01568	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0156b	51		 push	 ecx
  0156c	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0156f	52		 push	 edx
  01570	e8 00 00 00 00	 call	 ?MsgSendV2@@YAXPAUOBJECTSTRUCT@@PAEH@Z ; MsgSendV2
  01575	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN56@UseSkill:

; 684  : 			}
; 685  : 		}
; 686  : 		
; 687  : 		if(g_MasterSkillSystem.CheckRequireStatus(lpMagic->m_Skill) != FALSE) //Season3 add-on

  01578	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0157b	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0157e	51		 push	 ecx
  0157f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  01584	e8 00 00 00 00	 call	 ?CheckRequireStatus@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::CheckRequireStatus
  01589	85 c0		 test	 eax, eax
  0158b	74 33		 je	 SHORT $LN55@UseSkill

; 688  : 		{
; 689  : 			g_MasterSkillSystem.RunningSkill(lpObj, aTargetIndex, lpMagic, bCombo, x, y, dir, TargetPos);

  0158d	0f b6 45 1c	 movzx	 eax, BYTE PTR _TargetPos$[ebp]
  01591	50		 push	 eax
  01592	0f b6 4d 18	 movzx	 ecx, BYTE PTR _dir$[ebp]
  01596	51		 push	 ecx
  01597	0f b6 55 14	 movzx	 edx, BYTE PTR _y$[ebp]
  0159b	52		 push	 edx
  0159c	0f b6 45 10	 movzx	 eax, BYTE PTR _x$[ebp]
  015a0	50		 push	 eax
  015a1	8b 4d f0	 mov	 ecx, DWORD PTR _bCombo$[ebp]
  015a4	51		 push	 ecx
  015a5	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  015a8	52		 push	 edx
  015a9	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  015ac	50		 push	 eax
  015ad	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  015b0	51		 push	 ecx
  015b1	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  015b6	e8 00 00 00 00	 call	 ?RunningSkill@CMasterLevelSkillTreeSystem@@QAEHPAUOBJECTSTRUCT@@HPAVCMagicInf@@HEEEE@Z ; CMasterLevelSkillTreeSystem::RunningSkill

; 690  : 			return;

  015bb	e9 b0 05 00 00	 jmp	 $LN77@UseSkill
$LN55@UseSkill:

; 691  : 		}
; 692  : 
; 693  : 		if(lpMagic->m_Skill == AT_SKILL_SWORD6)

  015c0	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  015c3	83 78 08 38	 cmp	 DWORD PTR [eax+8], 56	; 00000038H
  015c7	75 28		 jne	 SHORT $LN54@UseSkill

; 694  : 		{
; 695  : 			this->SkillPowerSlash(aIndex,lpMagic,x,y,dir,TargetPos,aTargetIndex);

  015c9	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  015cc	50		 push	 eax
  015cd	0f b6 4d 1c	 movzx	 ecx, BYTE PTR _TargetPos$[ebp]
  015d1	51		 push	 ecx
  015d2	0f b6 55 18	 movzx	 edx, BYTE PTR _dir$[ebp]
  015d6	52		 push	 edx
  015d7	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  015db	50		 push	 eax
  015dc	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  015e0	51		 push	 ecx
  015e1	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  015e4	52		 push	 edx
  015e5	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  015e8	50		 push	 eax
  015e9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  015ec	e8 00 00 00 00	 call	 ?SkillPowerSlash@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillPowerSlash
$LN54@UseSkill:

; 696  : 		}
; 697  : 
; 698  : 		if(lpMagic->m_Skill == AT_SKILL_EXPPOISON)

  015f1	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  015f4	83 78 08 26	 cmp	 DWORD PTR [eax+8], 38	; 00000026H
  015f8	75 5f		 jne	 SHORT $LN53@UseSkill

; 699  : 		{
; 700  : //			this->SkillDeathPoison(aIndex,lpMagic,x,y,dir,TargetPos,aTargetIndex);
; 701  : 			if( lpObj->Class == 561 )	//Medusa, 1.01.00 update

  015fa	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  015fd	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  01604	81 f9 31 02 00
	00		 cmp	 ecx, 561		; 00000231H
  0160a	75 20		 jne	 SHORT $LN52@UseSkill

; 702  : 			{
; 703  : 				this->SkillDeathPoisonForMeDusa(aIndex, lpMagic, x, y, aTargetIndex);

  0160c	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0160f	50		 push	 eax
  01610	0f b6 4d 14	 movzx	 ecx, BYTE PTR _y$[ebp]
  01614	51		 push	 ecx
  01615	0f b6 55 10	 movzx	 edx, BYTE PTR _x$[ebp]
  01619	52		 push	 edx
  0161a	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0161d	50		 push	 eax
  0161e	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  01621	51		 push	 ecx
  01622	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01625	e8 00 00 00 00	 call	 ?SkillDeathPoisonForMeDusa@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillDeathPoisonForMeDusa

; 704  : 			}
; 705  : 			else

  0162a	eb 28		 jmp	 SHORT $LN51@UseSkill
$LN52@UseSkill:

; 706  : 			{
; 707  : 				this->SkillDeathPoison(aIndex,lpMagic,x,y,dir,TargetPos,aTargetIndex);

  0162c	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0162f	50		 push	 eax
  01630	0f b6 4d 1c	 movzx	 ecx, BYTE PTR _TargetPos$[ebp]
  01634	51		 push	 ecx
  01635	0f b6 55 18	 movzx	 edx, BYTE PTR _dir$[ebp]
  01639	52		 push	 edx
  0163a	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  0163e	50		 push	 eax
  0163f	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  01643	51		 push	 ecx
  01644	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  01647	52		 push	 edx
  01648	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0164b	50		 push	 eax
  0164c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0164f	e8 00 00 00 00	 call	 ?SkillDeathPoison@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillDeathPoison
$LN51@UseSkill:

; 708  : 			}

  01654	e9 17 05 00 00	 jmp	 $LN2@UseSkill
$LN53@UseSkill:

; 709  : 		}
; 710  : 		else if(lpMagic->m_Skill == AT_SKILL_EXPICE)

  01659	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0165c	83 78 08 27	 cmp	 DWORD PTR [eax+8], 39	; 00000027H
  01660	75 2d		 jne	 SHORT $LN49@UseSkill

; 711  : 		{
; 712  : 			this->SkillSuddenIce(aIndex,lpMagic,x,y,dir,TargetPos,aTargetIndex);

  01662	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  01665	50		 push	 eax
  01666	0f b6 4d 1c	 movzx	 ecx, BYTE PTR _TargetPos$[ebp]
  0166a	51		 push	 ecx
  0166b	0f b6 55 18	 movzx	 edx, BYTE PTR _dir$[ebp]
  0166f	52		 push	 edx
  01670	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  01674	50		 push	 eax
  01675	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  01679	51		 push	 ecx
  0167a	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  0167d	52		 push	 edx
  0167e	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01681	50		 push	 eax
  01682	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01685	e8 00 00 00 00	 call	 ?SkillSuddenIce@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillSuddenIce
  0168a	e9 e1 04 00 00	 jmp	 $LN2@UseSkill
$LN49@UseSkill:

; 713  : 		}
; 714  : 		else if(lpMagic->m_Skill == AT_SKILL_BLOWOFFURY)

  0168f	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01692	83 78 08 2a	 cmp	 DWORD PTR [eax+8], 42	; 0000002aH
  01696	75 31		 jne	 SHORT $LN47@UseSkill

; 715  : 		{
; 716  : 			this->SkillBlowOfFury(aIndex,lpMagic,x,y,dir,TargetPos,aTargetIndex,bCombo);

  01698	8b 45 f0	 mov	 eax, DWORD PTR _bCombo$[ebp]
  0169b	50		 push	 eax
  0169c	8b 4d 20	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0169f	51		 push	 ecx
  016a0	0f b6 55 1c	 movzx	 edx, BYTE PTR _TargetPos$[ebp]
  016a4	52		 push	 edx
  016a5	0f b6 45 18	 movzx	 eax, BYTE PTR _dir$[ebp]
  016a9	50		 push	 eax
  016aa	0f b6 4d 14	 movzx	 ecx, BYTE PTR _y$[ebp]
  016ae	51		 push	 ecx
  016af	0f b6 55 10	 movzx	 edx, BYTE PTR _x$[ebp]
  016b3	52		 push	 edx
  016b4	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  016b7	50		 push	 eax
  016b8	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  016bb	51		 push	 ecx
  016bc	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  016bf	e8 00 00 00 00	 call	 ?SkillBlowOfFury@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEHH@Z ; CObjUseSkill::SkillBlowOfFury
  016c4	e9 a7 04 00 00	 jmp	 $LN2@UseSkill
$LN47@UseSkill:

; 717  : 		}
; 718  : 		else if(lpMagic->m_Skill == AT_SKILL_WHEEL)

  016c9	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  016cc	83 78 08 29	 cmp	 DWORD PTR [eax+8], 41	; 00000029H
  016d0	75 1d		 jne	 SHORT $LN45@UseSkill

; 719  : 		{
; 720  : 			this->SkillWheel(aIndex,lpMagic,aTargetIndex,bCombo);

  016d2	8b 45 f0	 mov	 eax, DWORD PTR _bCombo$[ebp]
  016d5	50		 push	 eax
  016d6	8b 4d 20	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  016d9	51		 push	 ecx
  016da	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  016dd	52		 push	 edx
  016de	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  016e1	50		 push	 eax
  016e2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  016e5	e8 00 00 00 00	 call	 ?SkillWheel@CObjUseSkill@@QAEXHPAVCMagicInf@@HH@Z ; CObjUseSkill::SkillWheel
  016ea	e9 81 04 00 00	 jmp	 $LN2@UseSkill
$LN45@UseSkill:

; 721  : 		}
; 722  : 		else if(lpMagic->m_Skill == AT_SKILL_ELECTRICSPARK)

  016ef	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  016f2	83 78 08 41	 cmp	 DWORD PTR [eax+8], 65	; 00000041H
  016f6	75 2d		 jne	 SHORT $LN43@UseSkill

; 723  : 		{
; 724  : 			this->SkillElectricSpark(aIndex,lpMagic,x,y,dir,TargetPos,aTargetIndex);

  016f8	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  016fb	50		 push	 eax
  016fc	0f b6 4d 1c	 movzx	 ecx, BYTE PTR _TargetPos$[ebp]
  01700	51		 push	 ecx
  01701	0f b6 55 18	 movzx	 edx, BYTE PTR _dir$[ebp]
  01705	52		 push	 edx
  01706	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  0170a	50		 push	 eax
  0170b	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  0170f	51		 push	 ecx
  01710	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  01713	52		 push	 edx
  01714	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01717	50		 push	 eax
  01718	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0171b	e8 00 00 00 00	 call	 ?SkillElectricSpark@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillElectricSpark
  01720	e9 4b 04 00 00	 jmp	 $LN2@UseSkill
$LN43@UseSkill:

; 725  : 		}
; 726  : 		else if(lpMagic->m_Skill == AT_SKILL_DARKHORSE_ATTACK)

  01725	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01728	83 78 08 3e	 cmp	 DWORD PTR [eax+8], 62	; 0000003eH
  0172c	75 1b		 jne	 SHORT $LN41@UseSkill

; 727  : 		{
; 728  : 			this->SkillDarkHorseAttack(lpObj->m_Index,aTargetIndex,lpMagic);

  0172e	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01731	50		 push	 eax
  01732	8b 4d 20	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  01735	51		 push	 ecx
  01736	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01739	8b 02		 mov	 eax, DWORD PTR [edx]
  0173b	50		 push	 eax
  0173c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0173f	e8 00 00 00 00	 call	 ?SkillDarkHorseAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDarkHorseAttack
  01744	e9 27 04 00 00	 jmp	 $LN2@UseSkill
$LN41@UseSkill:

; 729  : 		}
; 730  : 		else if(lpMagic->m_Skill == AT_SKILL_STUN)

  01749	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0174c	83 78 08 43	 cmp	 DWORD PTR [eax+8], 67	; 00000043H
  01750	75 2d		 jne	 SHORT $LN39@UseSkill

; 731  : 		{
; 732  : 			this->SkillStun(aIndex,aTargetIndex,lpMagic,x,y,dir,TargetPos);

  01752	0f b6 45 1c	 movzx	 eax, BYTE PTR _TargetPos$[ebp]
  01756	50		 push	 eax
  01757	0f b6 4d 18	 movzx	 ecx, BYTE PTR _dir$[ebp]
  0175b	51		 push	 ecx
  0175c	0f b6 55 14	 movzx	 edx, BYTE PTR _y$[ebp]
  01760	52		 push	 edx
  01761	0f b6 45 10	 movzx	 eax, BYTE PTR _x$[ebp]
  01765	50		 push	 eax
  01766	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  01769	51		 push	 ecx
  0176a	8b 55 20	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0176d	52		 push	 edx
  0176e	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01771	50		 push	 eax
  01772	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01775	e8 00 00 00 00	 call	 ?SkillStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@EEEE@Z ; CObjUseSkill::SkillStun
  0177a	e9 f1 03 00 00	 jmp	 $LN2@UseSkill
$LN39@UseSkill:

; 733  : 		}
; 734  : 		else if(lpMagic->m_Skill == AT_SKILL_FENRIR_ATTACK)

  0177f	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01782	83 78 08 4c	 cmp	 DWORD PTR [eax+8], 76	; 0000004cH
  01786	75 19		 jne	 SHORT $LN37@UseSkill

; 735  : 		{
; 736  : 			this->SkillFenrirAttack(aIndex,aTargetIndex,lpMagic);

  01788	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0178b	50		 push	 eax
  0178c	8b 4d 20	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0178f	51		 push	 ecx
  01790	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  01793	52		 push	 edx
  01794	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01797	e8 00 00 00 00	 call	 ?SkillFenrirAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillFenrirAttack
  0179c	e9 cf 03 00 00	 jmp	 $LN2@UseSkill
$LN37@UseSkill:

; 737  : 		}
; 738  : 		//Summoner Next
; 739  : 		else if(lpMagic->m_Skill == 216)

  017a1	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  017a4	81 78 08 d8 00
	00 00		 cmp	 DWORD PTR [eax+8], 216	; 000000d8H
  017ab	75 19		 jne	 SHORT $LN35@UseSkill

; 740  : 		{
; 741  : 			this->SkillEletrictSurge(aIndex,aTargetIndex,lpMagic);

  017ad	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  017b0	50		 push	 eax
  017b1	8b 4d 20	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  017b4	51		 push	 ecx
  017b5	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  017b8	52		 push	 edx
  017b9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  017bc	e8 00 00 00 00	 call	 ?SkillEletrictSurge@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillEletrictSurge
  017c1	e9 aa 03 00 00	 jmp	 $LN2@UseSkill
$LN35@UseSkill:

; 742  : 		}
; 743  : 		else if(lpMagic->m_Skill == 214)

  017c6	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  017c9	81 78 08 d6 00
	00 00		 cmp	 DWORD PTR [eax+8], 214	; 000000d6H
  017d0	75 19		 jne	 SHORT $LN33@UseSkill

; 744  : 		{
; 745  : 			this->SkillDrainLife(aIndex,aTargetIndex,lpMagic);

  017d2	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  017d5	50		 push	 eax
  017d6	8b 4d 20	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  017d9	51		 push	 ecx
  017da	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  017dd	52		 push	 edx
  017de	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  017e1	e8 00 00 00 00	 call	 ?SkillDrainLife@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDrainLife
  017e6	e9 85 03 00 00	 jmp	 $LN2@UseSkill
$LN33@UseSkill:

; 746  : 		}
; 747  : 		else if(lpMagic->m_Skill == 215)

  017eb	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  017ee	81 78 08 d7 00
	00 00		 cmp	 DWORD PTR [eax+8], 215	; 000000d7H
  017f5	75 19		 jne	 SHORT $LN31@UseSkill

; 748  : 		{
; 749  : 			this->SkillChainLightning(aIndex,aTargetIndex,lpMagic);

  017f7	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  017fa	50		 push	 eax
  017fb	8b 4d 20	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  017fe	51		 push	 ecx
  017ff	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  01802	52		 push	 edx
  01803	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01806	e8 00 00 00 00	 call	 ?SkillChainLightning@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillChainLightning
  0180b	e9 60 03 00 00	 jmp	 $LN2@UseSkill
$LN31@UseSkill:

; 750  : 		}
; 751  : 		else if(lpMagic->m_Skill == 223 || lpMagic->m_Skill == 224)

  01810	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01813	81 78 08 df 00
	00 00		 cmp	 DWORD PTR [eax+8], 223	; 000000dfH
  0181a	74 0c		 je	 SHORT $LN28@UseSkill
  0181c	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0181f	81 78 08 e0 00
	00 00		 cmp	 DWORD PTR [eax+8], 224	; 000000e0H
  01826	75 23		 jne	 SHORT $LN29@UseSkill
$LN28@UseSkill:

; 752  : 		{
; 753  : 			this->SkillSummonerBook(aIndex,lpMagic,x,y,aTargetIndex);

  01828	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0182b	50		 push	 eax
  0182c	0f b6 4d 14	 movzx	 ecx, BYTE PTR _y$[ebp]
  01830	51		 push	 ecx
  01831	0f b6 55 10	 movzx	 edx, BYTE PTR _x$[ebp]
  01835	52		 push	 edx
  01836	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01839	50		 push	 eax
  0183a	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0183d	51		 push	 ecx
  0183e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01841	e8 00 00 00 00	 call	 ?SkillSummonerBook@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillSummonerBook
  01846	e9 25 03 00 00	 jmp	 $LN2@UseSkill
$LN29@UseSkill:

; 754  : 		}
; 755  : 		else if(lpMagic->m_Skill == 221)

  0184b	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0184e	81 78 08 dd 00
	00 00		 cmp	 DWORD PTR [eax+8], 221	; 000000ddH
  01855	75 23		 jne	 SHORT $LN26@UseSkill

; 756  : 		{
; 757  : 			this->SkillWeakness(aIndex,lpMagic,x,y,aTargetIndex);

  01857	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0185a	50		 push	 eax
  0185b	0f b6 4d 14	 movzx	 ecx, BYTE PTR _y$[ebp]
  0185f	51		 push	 ecx
  01860	0f b6 55 10	 movzx	 edx, BYTE PTR _x$[ebp]
  01864	52		 push	 edx
  01865	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01868	50		 push	 eax
  01869	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0186c	51		 push	 ecx
  0186d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01870	e8 00 00 00 00	 call	 ?SkillWeakness@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillWeakness
  01875	e9 f6 02 00 00	 jmp	 $LN2@UseSkill
$LN26@UseSkill:

; 758  : 		}
; 759  : 		else if(lpMagic->m_Skill == 222)

  0187a	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0187d	81 78 08 de 00
	00 00		 cmp	 DWORD PTR [eax+8], 222	; 000000deH
  01884	75 23		 jne	 SHORT $LN24@UseSkill

; 760  : 		{
; 761  : 			this->SkillInnovation(aIndex,lpMagic,x,y,aTargetIndex);

  01886	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  01889	50		 push	 eax
  0188a	0f b6 4d 14	 movzx	 ecx, BYTE PTR _y$[ebp]
  0188e	51		 push	 ecx
  0188f	0f b6 55 10	 movzx	 edx, BYTE PTR _x$[ebp]
  01893	52		 push	 edx
  01894	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01897	50		 push	 eax
  01898	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0189b	51		 push	 ecx
  0189c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0189f	e8 00 00 00 00	 call	 ?SkillInnovation@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillInnovation
  018a4	e9 c7 02 00 00	 jmp	 $LN2@UseSkill
$LN24@UseSkill:

; 762  : 		}
; 763  : 		else if(lpMagic->m_Skill == 225) //season 4 add-on

  018a9	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  018ac	81 78 08 e1 00
	00 00		 cmp	 DWORD PTR [eax+8], 225	; 000000e1H
  018b3	75 25		 jne	 SHORT $LN22@UseSkill

; 764  : 		{
; 765  : 			this->SkillPollutionStart(aIndex,lpMagic,x,y,aTargetIndex,59);

  018b5	6a 3b		 push	 59			; 0000003bH
  018b7	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  018ba	50		 push	 eax
  018bb	0f b6 4d 14	 movzx	 ecx, BYTE PTR _y$[ebp]
  018bf	51		 push	 ecx
  018c0	0f b6 55 10	 movzx	 edx, BYTE PTR _x$[ebp]
  018c4	52		 push	 edx
  018c5	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  018c8	50		 push	 eax
  018c9	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  018cc	51		 push	 ecx
  018cd	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  018d0	e8 00 00 00 00	 call	 ?SkillPollutionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHH@Z ; CObjUseSkill::SkillPollutionStart
  018d5	e9 96 02 00 00	 jmp	 $LN2@UseSkill
$LN22@UseSkill:

; 766  : 		}
; 767  : 		else if(lpMagic->m_Skill == 230) //season 4 add-on

  018da	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  018dd	81 78 08 e6 00
	00 00		 cmp	 DWORD PTR [eax+8], 230	; 000000e6H
  018e4	75 19		 jne	 SHORT $LN20@UseSkill

; 768  : 		{
; 769  : 			this->SkillLightningShock(aIndex,aTargetIndex,lpMagic);

  018e6	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  018e9	50		 push	 eax
  018ea	8b 4d 20	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  018ed	51		 push	 ecx
  018ee	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  018f1	52		 push	 edx
  018f2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  018f5	e8 00 00 00 00	 call	 ?SkillLightningShock@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillLightningShock
  018fa	e9 71 02 00 00	 jmp	 $LN2@UseSkill
$LN20@UseSkill:

; 770  : 		}
; 771  : 		else if(lpMagic->m_Skill == 232) //season 4 add-on

  018ff	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01902	81 78 08 e8 00
	00 00		 cmp	 DWORD PTR [eax+8], 232	; 000000e8H
  01909	75 23		 jne	 SHORT $LN18@UseSkill

; 772  : 		{
; 773  : 			this->SkillStrikeOfDestructionStart(aIndex,lpMagic,x,y,aTargetIndex);

  0190b	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0190e	50		 push	 eax
  0190f	0f b6 4d 14	 movzx	 ecx, BYTE PTR _y$[ebp]
  01913	51		 push	 ecx
  01914	0f b6 55 10	 movzx	 edx, BYTE PTR _x$[ebp]
  01918	52		 push	 edx
  01919	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0191c	50		 push	 eax
  0191d	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  01920	51		 push	 ecx
  01921	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01924	e8 00 00 00 00	 call	 ?SkillStrikeOfDestructionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillStrikeOfDestructionStart
  01929	e9 42 02 00 00	 jmp	 $LN2@UseSkill
$LN18@UseSkill:

; 774  : 		}
; 775  : 		else if(lpMagic->m_Skill == 236) //season 4 add-on

  0192e	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01931	81 78 08 ec 00
	00 00		 cmp	 DWORD PTR [eax+8], 236	; 000000ecH
  01938	75 1e		 jne	 SHORT $LN16@UseSkill

; 776  : 		{
; 777  : 			this->SkillFlameStrike(aIndex,lpMagic,TargetPos,aTargetIndex);

  0193a	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0193d	50		 push	 eax
  0193e	0f b6 4d 1c	 movzx	 ecx, BYTE PTR _TargetPos$[ebp]
  01942	51		 push	 ecx
  01943	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  01946	52		 push	 edx
  01947	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0194a	50		 push	 eax
  0194b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0194e	e8 00 00 00 00	 call	 ?SkillFlameStrike@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ; CObjUseSkill::SkillFlameStrike
  01953	e9 18 02 00 00	 jmp	 $LN2@UseSkill
$LN16@UseSkill:

; 778  : 		}
; 779  : 		else if(lpMagic->m_Skill == 237) //season 4 add-on

  01958	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0195b	81 78 08 ed 00
	00 00		 cmp	 DWORD PTR [eax+8], 237	; 000000edH
  01962	75 23		 jne	 SHORT $LN14@UseSkill

; 780  : 		{
; 781  : 			this->SkillGiganticStormStart(aIndex,lpMagic,x,y,aTargetIndex);

  01964	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  01967	50		 push	 eax
  01968	0f b6 4d 14	 movzx	 ecx, BYTE PTR _y$[ebp]
  0196c	51		 push	 ecx
  0196d	0f b6 55 10	 movzx	 edx, BYTE PTR _x$[ebp]
  01971	52		 push	 edx
  01972	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01975	50		 push	 eax
  01976	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  01979	51		 push	 ecx
  0197a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0197d	e8 00 00 00 00	 call	 ?SkillGiganticStormStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillGiganticStormStart
  01982	e9 e9 01 00 00	 jmp	 $LN2@UseSkill
$LN14@UseSkill:

; 782  : 		}
; 783  : 		else if(lpMagic->m_Skill == 235) //season 4 add-on

  01987	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0198a	81 78 08 eb 00
	00 00		 cmp	 DWORD PTR [eax+8], 235	; 000000ebH
  01991	75 1e		 jne	 SHORT $LN12@UseSkill

; 784  : 		{
; 785  : 			this->SkillMultiShot(aIndex,lpMagic,TargetPos,aTargetIndex);

  01993	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  01996	50		 push	 eax
  01997	0f b6 4d 1c	 movzx	 ecx, BYTE PTR _TargetPos$[ebp]
  0199b	51		 push	 ecx
  0199c	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  0199f	52		 push	 edx
  019a0	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  019a3	50		 push	 eax
  019a4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  019a7	e8 00 00 00 00	 call	 ?SkillMultiShot@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ; CObjUseSkill::SkillMultiShot
  019ac	e9 bf 01 00 00	 jmp	 $LN2@UseSkill
$LN12@UseSkill:

; 786  : 		}
; 787  : 		else if(lpMagic->m_Skill == 238) //season 4 add-on

  019b1	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  019b4	81 78 08 ee 00
	00 00		 cmp	 DWORD PTR [eax+8], 238	; 000000eeH
  019bb	75 1e		 jne	 SHORT $LN10@UseSkill

; 788  : 		{
; 789  : 			this->SkillChaoticDiseier(aIndex,lpMagic,TargetPos,aTargetIndex);

  019bd	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  019c0	50		 push	 eax
  019c1	0f b6 4d 1c	 movzx	 ecx, BYTE PTR _TargetPos$[ebp]
  019c5	51		 push	 ecx
  019c6	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  019c9	52		 push	 edx
  019ca	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  019cd	50		 push	 eax
  019ce	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  019d1	e8 00 00 00 00	 call	 ?SkillChaoticDiseier@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ; CObjUseSkill::SkillChaoticDiseier
  019d6	e9 95 01 00 00	 jmp	 $LN2@UseSkill
$LN10@UseSkill:

; 790  : 		}
; 791  : 		else if(lpMagic->m_Skill == 9)

  019db	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  019de	83 78 08 09	 cmp	 DWORD PTR [eax+8], 9
  019e2	75 38		 jne	 SHORT $LN8@UseSkill

; 792  : 		{
; 793  : 			if( gObj[aIndex].Class == 561 )	//Medusa, 1.01.00

  019e4	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  019e7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  019ed	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  019f3	0f b7 94 01 b8
	00 00 00	 movzx	 edx, WORD PTR [ecx+eax+184]
  019fb	81 fa 31 02 00
	00		 cmp	 edx, 561		; 00000231H
  01a01	75 14		 jne	 SHORT $LN7@UseSkill

; 794  : 			{
; 795  : 				this->SkillEvilMonster(aIndex, aTargetIndex, lpMagic);

  01a03	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01a06	50		 push	 eax
  01a07	8b 4d 20	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  01a0a	51		 push	 ecx
  01a0b	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  01a0e	52		 push	 edx
  01a0f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01a12	e8 00 00 00 00	 call	 ?SkillEvilMonster@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillEvilMonster
$LN7@UseSkill:

; 796  : 			}
; 797  : 		}

  01a17	e9 54 01 00 00	 jmp	 $LN2@UseSkill
$LN8@UseSkill:

; 798  : 		else if(lpMagic->m_Skill == 264)

  01a1c	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01a1f	81 78 08 08 01
	00 00		 cmp	 DWORD PTR [eax+8], 264	; 00000108H
  01a26	0f 85 9e 00 00
	00		 jne	 $LN5@UseSkill

; 799  : 		{
; 800  : 			if( !OBJMAX_RANGE(aTargetIndex) )

  01a2c	83 7d 20 00	 cmp	 DWORD PTR _aTargetIndex$[ebp], 0
  01a30	7d 09		 jge	 SHORT $LN83@UseSkill
  01a32	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv477[ebp], 0
  01a39	eb 0f		 jmp	 SHORT $LN84@UseSkill
$LN83@UseSkill:
  01a3b	33 c0		 xor	 eax, eax
  01a3d	81 7d 20 97 3a
	00 00		 cmp	 DWORD PTR _aTargetIndex$[ebp], 14999 ; 00003a97H
  01a44	0f 9e c0	 setle	 al
  01a47	89 45 90	 mov	 DWORD PTR tv477[ebp], eax
$LN84@UseSkill:
  01a4a	83 7d 90 00	 cmp	 DWORD PTR tv477[ebp], 0
  01a4e	75 2b		 jne	 SHORT $LN4@UseSkill

; 801  : 			{
; 802  : 				LogAddTD("[InvalidTargetIndex][CObjUseSkill.UseSkill][AT_SKILL_DRAGON_ROAR] Index :%d , AccountID : %s ",
; 803  : 					aIndex, gObj[aIndex].AccountID);

  01a50	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01a53	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01a59	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01a5f	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  01a63	52		 push	 edx
  01a64	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01a67	50		 push	 eax
  01a68	68 00 00 00 00	 push	 OFFSET ??_C@_0FO@IFELCABO@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@
  01a6d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01a73	83 c4 0c	 add	 esp, 12			; 0000000cH

; 804  : 				return;

  01a76	e9 f5 00 00 00	 jmp	 $LN77@UseSkill
$LN4@UseSkill:

; 805  : 			}
; 806  : 			// ----
; 807  : 			this->SkillAreaMonsterAttack(aIndex, lpMagic, gObj[aTargetIndex].X, gObj[aTargetIndex].Y, aTargetIndex, 3, 1, 0);

  01a7b	6a 00		 push	 0
  01a7d	6a 01		 push	 1
  01a7f	6a 03		 push	 3
  01a81	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  01a84	50		 push	 eax
  01a85	8b 4d 20	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  01a88	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01a8e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01a94	0f b6 84 0a 46
	01 00 00	 movzx	 eax, BYTE PTR [edx+ecx+326]
  01a9c	50		 push	 eax
  01a9d	8b 4d 20	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  01aa0	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01aa6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01aac	0f b6 84 0a 44
	01 00 00	 movzx	 eax, BYTE PTR [edx+ecx+324]
  01ab4	50		 push	 eax
  01ab5	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  01ab8	51		 push	 ecx
  01ab9	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  01abc	52		 push	 edx
  01abd	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01ac0	e8 00 00 00 00	 call	 ?SkillAreaMonsterAttack@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ; CObjUseSkill::SkillAreaMonsterAttack
  01ac5	e9 a6 00 00 00	 jmp	 $LN2@UseSkill
$LN5@UseSkill:

; 808  : 		}
; 809  : 			// --
; 810  : 		else if(lpMagic->m_Skill == 270)	//-> AT_SKILL_PHOENIXSHOT

  01aca	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01acd	81 78 08 0e 01
	00 00		 cmp	 DWORD PTR [eax+8], 270	; 0000010eH
  01ad4	0f 85 96 00 00
	00		 jne	 $LN2@UseSkill

; 811  : 		{
; 812  : 			if( !OBJMAX_RANGE(aTargetIndex) )

  01ada	83 7d 20 00	 cmp	 DWORD PTR _aTargetIndex$[ebp], 0
  01ade	7d 09		 jge	 SHORT $LN85@UseSkill
  01ae0	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv505[ebp], 0
  01ae7	eb 0f		 jmp	 SHORT $LN86@UseSkill
$LN85@UseSkill:
  01ae9	33 c0		 xor	 eax, eax
  01aeb	81 7d 20 97 3a
	00 00		 cmp	 DWORD PTR _aTargetIndex$[ebp], 14999 ; 00003a97H
  01af2	0f 9e c0	 setle	 al
  01af5	89 45 90	 mov	 DWORD PTR tv505[ebp], eax
$LN86@UseSkill:
  01af8	83 7d 90 00	 cmp	 DWORD PTR tv505[ebp], 0
  01afc	75 28		 jne	 SHORT $LN1@UseSkill

; 813  : 			{
; 814  : 				LogAddTD("[InvalidTargetIndex][CObjUseSkill.UseSkill][AT_SKILL_PHOENIXSHOT] Index :%d , AccountID : %s ",
; 815  : 					aIndex, gObj[aIndex].AccountID);

  01afe	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01b01	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01b07	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01b0d	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  01b11	52		 push	 edx
  01b12	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01b15	50		 push	 eax
  01b16	68 00 00 00 00	 push	 OFFSET ??_C@_0FO@JAMLMINI@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@
  01b1b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01b21	83 c4 0c	 add	 esp, 12			; 0000000cH

; 816  : 				return;

  01b24	eb 4a		 jmp	 SHORT $LN77@UseSkill
$LN1@UseSkill:

; 817  : 			}
; 818  : 			// ----
; 819  : 			this->SkillAreaMonsterAttack(aIndex, lpMagic, gObj[aTargetIndex].X, gObj[aTargetIndex].Y, aTargetIndex, 2, 1, 0);

  01b26	6a 00		 push	 0
  01b28	6a 01		 push	 1
  01b2a	6a 02		 push	 2
  01b2c	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  01b2f	50		 push	 eax
  01b30	8b 4d 20	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  01b33	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01b39	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01b3f	0f b6 84 0a 46
	01 00 00	 movzx	 eax, BYTE PTR [edx+ecx+326]
  01b47	50		 push	 eax
  01b48	8b 4d 20	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  01b4b	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01b51	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01b57	0f b6 84 0a 44
	01 00 00	 movzx	 eax, BYTE PTR [edx+ecx+324]
  01b5f	50		 push	 eax
  01b60	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  01b63	51		 push	 ecx
  01b64	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  01b67	52		 push	 edx
  01b68	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01b6b	e8 00 00 00 00	 call	 ?SkillAreaMonsterAttack@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ; CObjUseSkill::SkillAreaMonsterAttack
$LN2@UseSkill:
$LN77@UseSkill:

; 820  : 		}
; 821  : 	}
; 822  : }

  01b70	5f		 pop	 edi
  01b71	5e		 pop	 esi
  01b72	5b		 pop	 ebx
  01b73	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01b76	33 cd		 xor	 ecx, ebp
  01b78	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01b7d	8b e5		 mov	 esp, ebp
  01b7f	5d		 pop	 ebp
  01b80	c2 1c 00	 ret	 28			; 0000001cH
  01b83	90		 npad	 1
$LN89@UseSkill:
  01b84	00 00 00 00	 DD	 $LN63@UseSkill
  01b88	00 00 00 00	 DD	 $LN62@UseSkill
$LN87@UseSkill:
  01b8c	00		 DB	 0
  01b8d	01		 DB	 1
  01b8e	01		 DB	 1
  01b8f	01		 DB	 1
  01b90	00		 DB	 0
  01b91	01		 DB	 1
  01b92	01		 DB	 1
  01b93	00		 DB	 0
  01b94	01		 DB	 1
  01b95	01		 DB	 1
  01b96	01		 DB	 1
  01b97	01		 DB	 1
  01b98	01		 DB	 1
  01b99	01		 DB	 1
  01b9a	01		 DB	 1
  01b9b	01		 DB	 1
  01b9c	01		 DB	 1
  01b9d	01		 DB	 1
  01b9e	01		 DB	 1
  01b9f	01		 DB	 1
  01ba0	01		 DB	 1
  01ba1	01		 DB	 1
  01ba2	01		 DB	 1
  01ba3	01		 DB	 1
  01ba4	01		 DB	 1
  01ba5	01		 DB	 1
  01ba6	01		 DB	 1
  01ba7	01		 DB	 1
  01ba8	01		 DB	 1
  01ba9	01		 DB	 1
  01baa	01		 DB	 1
  01bab	01		 DB	 1
  01bac	01		 DB	 1
  01bad	01		 DB	 1
  01bae	01		 DB	 1
  01baf	01		 DB	 1
  01bb0	01		 DB	 1
  01bb1	01		 DB	 1
  01bb2	01		 DB	 1
  01bb3	01		 DB	 1
  01bb4	01		 DB	 1
  01bb5	01		 DB	 1
  01bb6	01		 DB	 1
  01bb7	01		 DB	 1
  01bb8	01		 DB	 1
  01bb9	01		 DB	 1
  01bba	01		 DB	 1
  01bbb	00		 DB	 0
  01bbc	00		 DB	 0
  01bbd	01		 DB	 1
  01bbe	00		 DB	 0
  01bbf	01		 DB	 1
  01bc0	01		 DB	 1
  01bc1	01		 DB	 1
  01bc2	01		 DB	 1
  01bc3	01		 DB	 1
  01bc4	01		 DB	 1
  01bc5	00		 DB	 0
  01bc6	01		 DB	 1
  01bc7	01		 DB	 1
  01bc8	01		 DB	 1
  01bc9	00		 DB	 0
  01bca	01		 DB	 1
  01bcb	01		 DB	 1
  01bcc	00		 DB	 0
  01bcd	8d 49 00	 npad	 3
$LN90@UseSkill:
  01bd0	00 00 00 00	 DD	 $LN58@UseSkill
  01bd4	00 00 00 00	 DD	 $LN57@UseSkill
$LN88@UseSkill:
  01bd8	00		 DB	 0
  01bd9	01		 DB	 1
  01bda	01		 DB	 1
  01bdb	01		 DB	 1
  01bdc	01		 DB	 1
  01bdd	01		 DB	 1
  01bde	01		 DB	 1
  01bdf	01		 DB	 1
  01be0	01		 DB	 1
  01be1	01		 DB	 1
  01be2	00		 DB	 0
  01be3	00		 DB	 0
  01be4	00		 DB	 0
  01be5	01		 DB	 1
  01be6	01		 DB	 1
  01be7	01		 DB	 1
  01be8	01		 DB	 1
  01be9	01		 DB	 1
  01bea	01		 DB	 1
  01beb	01		 DB	 1
  01bec	01		 DB	 1
  01bed	01		 DB	 1
  01bee	01		 DB	 1
  01bef	01		 DB	 1
  01bf0	01		 DB	 1
  01bf1	01		 DB	 1
  01bf2	01		 DB	 1
  01bf3	01		 DB	 1
  01bf4	01		 DB	 1
  01bf5	01		 DB	 1
  01bf6	01		 DB	 1
  01bf7	01		 DB	 1
  01bf8	00		 DB	 0
?UseSkill@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ENDP	; CObjUseSkill::UseSkill
_TEXT	ENDS
PUBLIC	?UseSkill@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z	; CObjUseSkill::UseSkill
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_usebp$240179 = -28					; size = 4
_usemana$ = -24						; size = 4
_lpMagic$240173 = -20					; size = 4
_bCombo$ = -16						; size = 4
_lpTargetObj$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?UseSkill@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::UseSkill
; _this$ = ecx

; 826  : {

  01c00	55		 push	 ebp
  01c01	8b ec		 mov	 ebp, esp
  01c03	83 ec 5c	 sub	 esp, 92			; 0000005cH
  01c06	53		 push	 ebx
  01c07	56		 push	 esi
  01c08	57		 push	 edi
  01c09	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 827  : 	LPOBJ lpObj = &gObj[aIndex];

  01c0c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01c0f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01c15	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01c1b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 828  : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  01c1e	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  01c21	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01c27	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01c2d	89 45 f4	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 829  : 
; 830  : 	int bCombo = 0;

  01c30	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _bCombo$[ebp], 0

; 831  : 
; 832  : 	if(gComboAttack.CheckCombo(aIndex,lpMagic->m_Skill))

  01c37	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01c3a	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  01c3d	51		 push	 ecx
  01c3e	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  01c41	52		 push	 edx
  01c42	b9 00 00 00 00	 mov	 ecx, OFFSET ?gComboAttack@@3VCComboAttack@@A ; gComboAttack
  01c47	e8 00 00 00 00	 call	 ?CheckCombo@CComboAttack@@QAEHHH@Z ; CComboAttack::CheckCombo
  01c4c	85 c0		 test	 eax, eax
  01c4e	74 07		 je	 SHORT $LN9@UseSkill@2

; 833  : 	{
; 834  : 		bCombo = 1;

  01c50	c7 45 f0 01 00
	00 00		 mov	 DWORD PTR _bCombo$[ebp], 1
$LN9@UseSkill@2:

; 835  : 	}
; 836  : 
; 837  : #if(DEV_COMBO_CUSTOM==TRUE)
; 838  : 	if(g_ExLicense.user.ComboCustom)

  01c57	0f b6 05 d8 00
	00 00		 movzx	 eax, BYTE PTR ?g_ExLicense@@3VCExLicense@@A+216
  01c5e	85 c0		 test	 eax, eax
  01c60	74 10		 je	 SHORT $LN8@UseSkill@2

; 839  : 	{
; 840  : 		lpObj->NewCombo = bCombo;

  01c62	83 7d f0 00	 cmp	 DWORD PTR _bCombo$[ebp], 0
  01c66	0f 95 c0	 setne	 al
  01c69	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01c6c	88 81 80 28 00
	00		 mov	 BYTE PTR [ecx+10368], al
$LN8@UseSkill@2:

; 841  : 	}
; 842  : #endif
; 843  : 
; 844  : 	if(lpObj->SkillHellFire2State && lpMagic->m_Skill != AT_SKILL_EXPHELL)

  01c72	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01c75	0f b6 88 14 11
	00 00		 movzx	 ecx, BYTE PTR [eax+4372]
  01c7c	85 c9		 test	 ecx, ecx
  01c7e	74 3d		 je	 SHORT $LN7@UseSkill@2
  01c80	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01c83	83 78 08 28	 cmp	 DWORD PTR [eax+8], 40	; 00000028H
  01c87	74 34		 je	 SHORT $LN7@UseSkill@2

; 845  : 	{
; 846  : 		CMagicInf * lpMagic = gObjGetMagicSearch(lpObj,AT_SKILL_EXPHELL);

  01c89	6a 28		 push	 40			; 00000028H
  01c8b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01c8e	50		 push	 eax
  01c8f	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  01c94	83 c4 08	 add	 esp, 8
  01c97	89 45 ec	 mov	 DWORD PTR _lpMagic$240173[ebp], eax

; 847  : 
; 848  : 		if(lpMagic != 0)

  01c9a	83 7d ec 00	 cmp	 DWORD PTR _lpMagic$240173[ebp], 0
  01c9e	74 18		 je	 SHORT $LN6@UseSkill@2

; 849  : 		{
; 850  : 			gObjUseSkill.RunningSkill(lpObj->m_Index,0,lpMagic,0);

  01ca0	6a 00		 push	 0
  01ca2	8b 45 ec	 mov	 eax, DWORD PTR _lpMagic$240173[ebp]
  01ca5	50		 push	 eax
  01ca6	6a 00		 push	 0
  01ca8	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01cab	8b 11		 mov	 edx, DWORD PTR [ecx]
  01cad	52		 push	 edx
  01cae	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  01cb3	e8 00 00 00 00	 call	 ?RunningSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ; CObjUseSkill::RunningSkill
$LN6@UseSkill@2:

; 851  : 		}
; 852  : 
; 853  : 		return;

  01cb8	e9 64 01 00 00	 jmp	 $LN10@UseSkill@2
$LN7@UseSkill@2:

; 854  : 	}
; 855  : 
; 856  : 	if(lpMagic->m_Skill == AT_SKILL_EXPHELL && aTargetIndex != 58)

  01cbd	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01cc0	83 78 08 28	 cmp	 DWORD PTR [eax+8], 40	; 00000028H
  01cc4	75 4b		 jne	 SHORT $LN5@UseSkill@2
  01cc6	83 7d 0c 3a	 cmp	 DWORD PTR _aTargetIndex$[ebp], 58 ; 0000003aH
  01cca	74 45		 je	 SHORT $LN5@UseSkill@2

; 857  : 	{
; 858  : 		this->RunningSkill(aIndex,aTargetIndex,lpMagic,bCombo);

  01ccc	8b 45 f0	 mov	 eax, DWORD PTR _bCombo$[ebp]
  01ccf	50		 push	 eax
  01cd0	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  01cd3	51		 push	 ecx
  01cd4	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  01cd7	52		 push	 edx
  01cd8	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01cdb	50		 push	 eax
  01cdc	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01cdf	e8 00 00 00 00	 call	 ?RunningSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ; CObjUseSkill::RunningSkill

; 859  : 		lpObj->UseMagicNumber = lpMagic->m_Skill;

  01ce4	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01ce7	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  01cea	8a 51 08	 mov	 dl, BYTE PTR [ecx+8]
  01ced	88 90 cd 04 00
	00		 mov	 BYTE PTR [eax+1229], dl

; 860  : 		lpObj->UseMagicTime = GetTickCount();

  01cf3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  01cf9	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01cfc	89 81 d0 04 00
	00		 mov	 DWORD PTR [ecx+1232], eax

; 861  : 		lpObj->UseMagicCount = 0;

  01d02	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01d05	c6 80 d4 04 00
	00 00		 mov	 BYTE PTR [eax+1236], 0

; 862  : 		return;

  01d0c	e9 10 01 00 00	 jmp	 $LN10@UseSkill@2
$LN5@UseSkill@2:

; 863  : 	}
; 864  : 
; 865  : 	int usemana = this->GetUseMana(aIndex,lpMagic);

  01d11	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01d14	50		 push	 eax
  01d15	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  01d18	51		 push	 ecx
  01d19	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01d1c	e8 00 00 00 00	 call	 ?GetUseMana@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::GetUseMana
  01d21	89 45 e8	 mov	 DWORD PTR _usemana$[ebp], eax

; 866  : 
; 867  : #ifdef DEBUG_CODE
; 868  : 	LogAddC(4,"usemana: %d ",usemana);
; 869  : #endif
; 870  : 
; 871  : 	if(usemana >= 0)

  01d24	83 7d e8 00	 cmp	 DWORD PTR _usemana$[ebp], 0
  01d28	0f 8c f3 00 00
	00		 jl	 $LN1@UseSkill@2

; 872  : 	{
; 873  : 		if(!gObj[aIndex].SkillDelay.Check(lpMagic->m_Skill))

  01d2e	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01d31	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  01d35	51		 push	 ecx
  01d36	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  01d39	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  01d3f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01d44	8d 8c 10 7c 12
	00 00		 lea	 ecx, DWORD PTR [eax+edx+4732]
  01d4b	e8 00 00 00 00	 call	 ?Check@CSkillDelay@@QAEHE@Z ; CSkillDelay::Check
  01d50	85 c0		 test	 eax, eax
  01d52	75 27		 jne	 SHORT $LN3@UseSkill@2

; 874  : 		{
; 875  : 			LogAddTD("[%]   ",gObj[aIndex].AccountID); //HermeX Fix

  01d54	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01d57	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01d5d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01d63	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  01d67	52		 push	 edx
  01d68	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@CPAKELEB@?$FL?$CF?$FN?5?$LN?$LK?E?$LD?5?$LF?t?$LH?$LJ?$MA?L?$LN?C?$LA?$KD?5?$LP?$MA?$LJ?v?$AA@
  01d6d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01d73	83 c4 08	 add	 esp, 8

; 876  : 			return;

  01d76	e9 a6 00 00 00	 jmp	 $LN10@UseSkill@2
$LN3@UseSkill@2:

; 877  : 		}
; 878  : 
; 879  : 		int usebp = this->GetUseBP(aIndex,lpMagic);

  01d7b	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01d7e	50		 push	 eax
  01d7f	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  01d82	51		 push	 ecx
  01d83	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01d86	e8 00 00 00 00	 call	 ?GetUseBP@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::GetUseBP
  01d8b	89 45 e4	 mov	 DWORD PTR _usebp$240179[ebp], eax

; 880  : 
; 881  : 		if(usebp >= 0)

  01d8e	83 7d e4 00	 cmp	 DWORD PTR _usebp$240179[ebp], 0
  01d92	0f 8c 89 00 00
	00		 jl	 $LN1@UseSkill@2

; 882  : 		{
; 883  : 			if(this->RunningSkill(aIndex,aTargetIndex,lpMagic,bCombo)==1)

  01d98	8b 45 f0	 mov	 eax, DWORD PTR _bCombo$[ebp]
  01d9b	50		 push	 eax
  01d9c	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  01d9f	51		 push	 ecx
  01da0	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  01da3	52		 push	 edx
  01da4	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01da7	50		 push	 eax
  01da8	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01dab	e8 00 00 00 00	 call	 ?RunningSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ; CObjUseSkill::RunningSkill
  01db0	83 f8 01	 cmp	 eax, 1
  01db3	75 6c		 jne	 SHORT $LN1@UseSkill@2

; 884  : 			{
; 885  : 				lpObj->UseMagicNumber = lpMagic->m_Skill;

  01db5	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01db8	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  01dbb	8a 51 08	 mov	 dl, BYTE PTR [ecx+8]
  01dbe	88 90 cd 04 00
	00		 mov	 BYTE PTR [eax+1229], dl

; 886  : 				lpObj->UseMagicTime = GetTickCount();

  01dc4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  01dca	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01dcd	89 81 d0 04 00
	00		 mov	 DWORD PTR [ecx+1232], eax

; 887  : 				lpObj->UseMagicCount = 0;

  01dd3	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01dd6	c6 80 d4 04 00
	00 00		 mov	 BYTE PTR [eax+1236], 0

; 888  : 
; 889  : 				lpObj->Mana = (float)usemana;

  01ddd	db 45 e8	 fild	 DWORD PTR _usemana$[ebp]
  01de0	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01de3	d9 98 10 01 00
	00		 fstp	 DWORD PTR [eax+272]

; 890  : 				lpObj->BP = usebp;

  01de9	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01dec	8b 4d e4	 mov	 ecx, DWORD PTR _usebp$240179[ebp]
  01def	89 88 28 01 00
	00		 mov	 DWORD PTR [eax+296], ecx

; 891  : 
; 892  : #ifdef DEBUG_CODE
; 893  : 				LogAddC(2,"lpObj->Mana: %d",lpObj->Mana);
; 894  : #endif
; 895  : 
; 896  : 				GCManaSend(aIndex,lpObj->Mana,0xFF,0,lpObj->BP);

  01df5	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01df8	8b 88 28 01 00
	00		 mov	 ecx, DWORD PTR [eax+296]
  01dfe	51		 push	 ecx
  01dff	6a 00		 push	 0
  01e01	68 ff 00 00 00	 push	 255			; 000000ffH
  01e06	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01e09	d9 82 10 01 00
	00		 fld	 DWORD PTR [edx+272]
  01e0f	e8 00 00 00 00	 call	 __ftol2_sse
  01e14	50		 push	 eax
  01e15	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01e18	50		 push	 eax
  01e19	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend
  01e1e	83 c4 14	 add	 esp, 20			; 00000014H
$LN1@UseSkill@2:
$LN10@UseSkill@2:

; 897  : 			}
; 898  : 		}
; 899  : 	}
; 900  : }

  01e21	5f		 pop	 edi
  01e22	5e		 pop	 esi
  01e23	5b		 pop	 ebx
  01e24	8b e5		 mov	 esp, ebp
  01e26	5d		 pop	 ebp
  01e27	c2 0c 00	 ret	 12			; 0000000cH
?UseSkill@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::UseSkill
_TEXT	ENDS
PUBLIC	?SkillCharge@CObjUseSkill@@QAEHHPAVCMagicInf@@H@Z ; CObjUseSkill::SkillCharge
PUBLIC	?SkillMonkBarrageJustOneTarget@CObjUseSkill@@QAEXHPAVCMagicInf@@H@Z ; CObjUseSkill::SkillMonkBarrageJustOneTarget
PUBLIC	?SkillMonkBuffApplyParty@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMonkBuffApplyParty
PUBLIC	?SkillMonkBuff@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMonkBuff
PUBLIC	?SkillExpansionWizardry@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillExpansionWizardry
PUBLIC	?SkillSDRecovery@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSDRecovery
PUBLIC	?SkillBerserker@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillBerserker
PUBLIC	?SkillBlind@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillBlind
PUBLIC	?SkillSleep@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSleep
PUBLIC	?SkillDamageReflection@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDamageReflection
PUBLIC	?SkillInfinityArrow@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillInfinityArrow
PUBLIC	?SkillRemoveMagic@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillRemoveMagic
PUBLIC	?SkillRemoveCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillRemoveCloaking
PUBLIC	?SkillCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillCloaking
PUBLIC	?SkillAddMana@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillAddMana
PUBLIC	?SkillRemoveStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillRemoveStun
PUBLIC	?SkillBrandOfSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillBrandOfSkill
PUBLIC	?SkillDarklordSpaceSplit@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDarklordSpaceSplit
PUBLIC	?SkillMagumDeathCannon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMagumDeathCannon
PUBLIC	?SkillMagumOneFlash@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMagumOneFlash
PUBLIC	?SkillElfRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillElfRush
PUBLIC	?SkillWizardJavalin@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillWizardJavalin
PUBLIC	?SkillKnightRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillKnightRush
PUBLIC	?SkillImmuneToHarm@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillImmuneToHarm
PUBLIC	?SkillImmuneToMagic@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillImmuneToMagic
PUBLIC	?SkillSummon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSummon
PUBLIC	?MaGumSkillDefenseDown@CObjUseSkill@@QAEXHHH@Z	; CObjUseSkill::MaGumSkillDefenseDown
PUBLIC	?SkillAddCriticalDamage@CObjUseSkill@@QAEXHH@Z	; CObjUseSkill::SkillAddCriticalDamage
PUBLIC	?SkillRecallParty@CObjUseSkill@@QAEXHH@Z	; CObjUseSkill::SkillRecallParty
PUBLIC	?SkillFireBurst@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillFireBurst
PUBLIC	?SkillSpear@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSpear
PUBLIC	?SkillKnightBlow@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ; CObjUseSkill::SkillKnightBlow
PUBLIC	?SkillHellFire2@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillHellFire2
PUBLIC	?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z	; CObjUseSkill::SkillMonsterCall
PUBLIC	?SkillAttack@CObjUseSkill@@QAEXHHH@Z		; CObjUseSkill::SkillAttack
PUBLIC	?SkillDefense@CObjUseSkill@@QAEXHHH@Z		; CObjUseSkill::SkillDefense
PUBLIC	?KnightSkillAddLife@CObjUseSkill@@QAEXHH@Z	; CObjUseSkill::KnightSkillAddLife
PUBLIC	?WizardMagicDefense@CObjUseSkill@@QAEXHHH@Z	; CObjUseSkill::WizardMagicDefense
PUBLIC	?SkillHealing@CObjUseSkill@@QAEXHHH@Z		; CObjUseSkill::SkillHealing
PUBLIC	?RemoveCloakingEffect@CObjUseSkill@@QAEHH@Z	; CObjUseSkill::RemoveCloakingEffect
EXTRN	?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z:PROC ; gObjAttack
EXTRN	?GCActionSend@@YAXPAUOBJECTSTRUCT@@EHH@Z:PROC	; GCActionSend
EXTRN	?IsItem@CItem@@QAEHXZ:PROC			; CItem::IsItem
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv95 = -84						; size = 4
_MagicNumber$ = -16					; size = 4
_lpTargetObj$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
_bCombo$ = 20						; size = 4
?RunningSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z PROC ; CObjUseSkill::RunningSkill
; _this$ = ecx

; 903  : {

  01e30	55		 push	 ebp
  01e31	8b ec		 mov	 ebp, esp
  01e33	83 ec 54	 sub	 esp, 84			; 00000054H
  01e36	53		 push	 ebx
  01e37	56		 push	 esi
  01e38	57		 push	 edi
  01e39	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 904  : 	LPOBJ lpObj = &gObj[aIndex];

  01e3c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01e3f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01e45	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01e4b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 905  : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  01e4e	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  01e51	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01e57	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01e5d	89 45 f4	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 906  : 	DWORD MagicNumber = lpMagic->m_Skill;

  01e60	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01e63	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  01e66	89 4d f0	 mov	 DWORD PTR _MagicNumber$[ebp], ecx

; 907  : 
; 908  : 	lpObj->m_SkillNumber = MagicNumber;

  01e69	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01e6c	66 8b 4d f0	 mov	 cx, WORD PTR _MagicNumber$[ebp]
  01e70	66 89 88 d8 03
	00 00		 mov	 WORD PTR [eax+984], cx

; 909  : 
; 910  : 	if( (gObjSearchActiveEffect(lpObj, AT_INVISIBILITY) == TRUE) && ((lpObj->Authority&32) != 32) ) //season3 add-on

  01e77	6a 12		 push	 18			; 00000012H
  01e79	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01e7c	50		 push	 eax
  01e7d	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  01e82	83 c4 08	 add	 esp, 8
  01e85	0f b6 c8	 movzx	 ecx, al
  01e88	83 f9 01	 cmp	 ecx, 1
  01e8b	75 1c		 jne	 SHORT $LN57@RunningSki
  01e8d	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01e90	8b 88 0c 02 00
	00		 mov	 ecx, DWORD PTR [eax+524]
  01e96	83 e1 20	 and	 ecx, 32			; 00000020H
  01e99	75 0e		 jne	 SHORT $LN57@RunningSki

; 911  : 	{
; 912  : 		this->RemoveCloakingEffect(lpObj->m_Index);

  01e9b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01e9e	8b 08		 mov	 ecx, DWORD PTR [eax]
  01ea0	51		 push	 ecx
  01ea1	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01ea4	e8 00 00 00 00	 call	 ?RemoveCloakingEffect@CObjUseSkill@@QAEHH@Z ; CObjUseSkill::RemoveCloakingEffect
$LN57@RunningSki:

; 913  : 	}
; 914  : 
; 915  : 	if(g_MasterSkillSystem.CheckRequireStatus(lpMagic->m_Skill) != FALSE) //Season3 add-on

  01ea9	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01eac	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  01eaf	51		 push	 ecx
  01eb0	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  01eb5	e8 00 00 00 00	 call	 ?CheckRequireStatus@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::CheckRequireStatus
  01eba	85 c0		 test	 eax, eax
  01ebc	74 27		 je	 SHORT $LN56@RunningSki

; 916  : 	{
; 917  : 		return g_MasterSkillSystem.RunningSkill(lpObj, aTargetIndex, lpMagic, bCombo, 0, 0, 0, 0);

  01ebe	6a 00		 push	 0
  01ec0	6a 00		 push	 0
  01ec2	6a 00		 push	 0
  01ec4	6a 00		 push	 0
  01ec6	8b 45 14	 mov	 eax, DWORD PTR _bCombo$[ebp]
  01ec9	50		 push	 eax
  01eca	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  01ecd	51		 push	 ecx
  01ece	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  01ed1	52		 push	 edx
  01ed2	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01ed5	50		 push	 eax
  01ed6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  01edb	e8 00 00 00 00	 call	 ?RunningSkill@CMasterLevelSkillTreeSystem@@QAEHPAUOBJECTSTRUCT@@HPAVCMagicInf@@HEEEE@Z ; CMasterLevelSkillTreeSystem::RunningSkill
  01ee0	e9 9e 06 00 00	 jmp	 $LN58@RunningSki
$LN56@RunningSki:

; 918  : 	}
; 919  : 
; 920  : 	switch(MagicNumber)

  01ee5	8b 45 f0	 mov	 eax, DWORD PTR _MagicNumber$[ebp]
  01ee8	89 45 ac	 mov	 DWORD PTR tv95[ebp], eax
  01eeb	81 7d ac 07 01
	00 00		 cmp	 DWORD PTR tv95[ebp], 263 ; 00000107H
  01ef2	77 34		 ja	 SHORT $LN60@RunningSki
  01ef4	81 7d ac 04 01
	00 00		 cmp	 DWORD PTR tv95[ebp], 260 ; 00000104H
  01efb	0f 83 0f 06 00
	00		 jae	 $LN4@RunningSki
  01f01	8b 4d ac	 mov	 ecx, DWORD PTR tv95[ebp]
  01f04	83 e9 01	 sub	 ecx, 1
  01f07	89 4d ac	 mov	 DWORD PTR tv95[ebp], ecx
  01f0a	81 7d ac e9 00
	00 00		 cmp	 DWORD PTR tv95[ebp], 233 ; 000000e9H
  01f11	0f 87 47 06 00
	00		 ja	 $LN1@RunningSki
  01f17	8b 55 ac	 mov	 edx, DWORD PTR tv95[ebp]
  01f1a	0f b6 82 00 00
	00 00		 movzx	 eax, BYTE PTR $LN61@RunningSki[edx]
  01f21	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN62@RunningSki[eax*4]
$LN60@RunningSki:
  01f28	8b 4d ac	 mov	 ecx, DWORD PTR tv95[ebp]
  01f2b	81 e9 09 01 00
	00		 sub	 ecx, 265		; 00000109H
  01f31	89 4d ac	 mov	 DWORD PTR tv95[ebp], ecx
  01f34	83 7d ac 04	 cmp	 DWORD PTR tv95[ebp], 4
  01f38	0f 87 20 06 00
	00		 ja	 $LN1@RunningSki
  01f3e	8b 55 ac	 mov	 edx, DWORD PTR tv95[ebp]
  01f41	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN63@RunningSki[edx*4]
$LN53@RunningSki:

; 921  : 	{
; 922  : 	case AT_SKILL_BLOCKING:
; 923  : 		if(lpObj->pInventory[1].IsItem() == 1)

  01f48	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01f4b	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  01f51	81 c1 d4 00 00
	00		 add	 ecx, 212		; 000000d4H
  01f57	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  01f5c	83 f8 01	 cmp	 eax, 1
  01f5f	75 70		 jne	 SHORT $LN52@RunningSki

; 924  : 		{
; 925  : 			if(lpObj->pInventory[1].m_Type >= ITEMGET(6,4) && lpObj->pInventory[1].m_Type < ITEMGET(7,0))

  01f61	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01f64	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  01f6a	0f bf 91 da 00
	00 00		 movsx	 edx, WORD PTR [ecx+218]
  01f71	81 fa 04 0c 00
	00		 cmp	 edx, 3076		; 00000c04H
  01f77	7c 58		 jl	 SHORT $LN52@RunningSki
  01f79	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01f7c	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  01f82	0f bf 91 da 00
	00 00		 movsx	 edx, WORD PTR [ecx+218]
  01f89	81 fa 00 0e 00
	00		 cmp	 edx, 3584		; 00000e00H
  01f8f	7d 40		 jge	 SHORT $LN52@RunningSki

; 926  : 			{
; 927  : 				if(lpObj->pInventory[1].m_Option1 != 0)

  01f91	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01f94	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  01f9a	0f b6 91 68 01
	00 00		 movzx	 edx, BYTE PTR [ecx+360]
  01fa1	85 d2		 test	 edx, edx
  01fa3	74 2c		 je	 SHORT $LN52@RunningSki

; 928  : 				{
; 929  : 					lpObj->m_SkillTime = GetTickCount() + 4000;

  01fa5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  01fab	05 a0 0f 00 00	 add	 eax, 4000		; 00000fa0H
  01fb0	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01fb3	89 81 dc 03 00
	00		 mov	 DWORD PTR [ecx+988], eax

; 930  : 					GCActionSend(lpObj,18,lpObj->m_Index,aTargetIndex);

  01fb9	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  01fbc	50		 push	 eax
  01fbd	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01fc0	8b 11		 mov	 edx, DWORD PTR [ecx]
  01fc2	52		 push	 edx
  01fc3	6a 12		 push	 18			; 00000012H
  01fc5	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01fc8	50		 push	 eax
  01fc9	e8 00 00 00 00	 call	 ?GCActionSend@@YAXPAUOBJECTSTRUCT@@EHH@Z ; GCActionSend
  01fce	83 c4 10	 add	 esp, 16			; 00000010H
$LN52@RunningSki:

; 931  : 				}
; 932  : 			}
; 933  : 		}
; 934  : 		break;

  01fd1	e9 a8 05 00 00	 jmp	 $LN54@RunningSki
$LN49@RunningSki:

; 935  : 	case AT_SKILL_POISON:
; 936  : 	case AT_SKILL_METEO:
; 937  : 	case AT_SKILL_THUNDER:
; 938  : 	case AT_SKILL_FIREBALL:
; 939  : 	case AT_SKILL_FLAME:
; 940  : 	case AT_SKILL_SLOW:
; 941  : 	case AT_SKILL_ENERGYBALL:
; 942  : 	case AT_SKILL_SWORD1:
; 943  : 	case AT_SKILL_SWORD2:
; 944  : 	case AT_SKILL_SWORD3:
; 945  : 	case AT_SKILL_SWORD4:
; 946  : 	case AT_SKILL_SWORD5:
; 947  : 	case AT_SKILL_CROSSBOW:
; 948  : 	case AT_SKILL_BOW:
; 949  : 	case AT_SKILL_WHEEL:
; 950  : 	case AT_SKILL_BLOWOFFURY:
; 951  : 	case AT_SKILL_KNIGHTSPEAR:
; 952  : 	case AT_SKILL_PENETRATION:
; 953  : 	case AT_SKILL_SWORD6:
; 954  : 		{
; 955  : 			gObjAttack(lpObj,lpTargetObj,lpMagic,1,0,0,0,0,0);

  01fd6	6a 00		 push	 0
  01fd8	6a 00		 push	 0
  01fda	6a 00		 push	 0
  01fdc	6a 00		 push	 0
  01fde	6a 00		 push	 0
  01fe0	6a 01		 push	 1
  01fe2	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01fe5	50		 push	 eax
  01fe6	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  01fe9	51		 push	 ecx
  01fea	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01fed	52		 push	 edx
  01fee	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  01ff3	83 c4 24	 add	 esp, 36			; 00000024H

; 956  : 			break;

  01ff6	e9 83 05 00 00	 jmp	 $LN54@RunningSki
$LN48@RunningSki:

; 957  : 		}
; 958  : 	case AT_SKILL_HEALING:	this->SkillHealing(aIndex,aTargetIndex,lpMagic->m_Level);break;

  01ffb	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  01ffe	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  02002	51		 push	 ecx
  02003	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  02006	52		 push	 edx
  02007	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0200a	50		 push	 eax
  0200b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0200e	e8 00 00 00 00	 call	 ?SkillHealing@CObjUseSkill@@QAEXHHH@Z ; CObjUseSkill::SkillHealing
  02013	e9 66 05 00 00	 jmp	 $LN54@RunningSki
$LN47@RunningSki:

; 959  : 	case AT_SKILL_MAGICDEFENSE:	this->WizardMagicDefense(aIndex,aTargetIndex,lpMagic->m_Level);break;

  02018	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0201b	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  0201f	51		 push	 ecx
  02020	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  02023	52		 push	 edx
  02024	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02027	50		 push	 eax
  02028	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0202b	e8 00 00 00 00	 call	 ?WizardMagicDefense@CObjUseSkill@@QAEXHHH@Z ; CObjUseSkill::WizardMagicDefense
  02030	e9 49 05 00 00	 jmp	 $LN54@RunningSki
$LN46@RunningSki:

; 960  : 	case AT_SKILL_KNIGHTADDLIFE:	this->KnightSkillAddLife(aIndex,lpMagic->m_Level);break;

  02035	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  02038	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  0203c	51		 push	 ecx
  0203d	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  02040	52		 push	 edx
  02041	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02044	e8 00 00 00 00	 call	 ?KnightSkillAddLife@CObjUseSkill@@QAEXHH@Z ; CObjUseSkill::KnightSkillAddLife
  02049	e9 30 05 00 00	 jmp	 $LN54@RunningSki
$LN45@RunningSki:

; 961  : 	case AT_SKILL_DEFENSE:	this->SkillDefense(aIndex,aTargetIndex,lpMagic->m_Level);break;

  0204e	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  02051	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  02055	51		 push	 ecx
  02056	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  02059	52		 push	 edx
  0205a	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0205d	50		 push	 eax
  0205e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02061	e8 00 00 00 00	 call	 ?SkillDefense@CObjUseSkill@@QAEXHHH@Z ; CObjUseSkill::SkillDefense
  02066	e9 13 05 00 00	 jmp	 $LN54@RunningSki
$LN44@RunningSki:

; 962  : 	case AT_SKILL_ATTACK:	this->SkillAttack(aIndex,aTargetIndex,lpMagic->m_Level);break;

  0206b	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0206e	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  02072	51		 push	 ecx
  02073	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  02076	52		 push	 edx
  02077	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0207a	50		 push	 eax
  0207b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0207e	e8 00 00 00 00	 call	 ?SkillAttack@CObjUseSkill@@QAEXHHH@Z ; CObjUseSkill::SkillAttack
  02083	e9 f6 04 00 00	 jmp	 $LN54@RunningSki
$LN43@RunningSki:

; 963  : 
; 964  : 	case AT_SKILL_CALLMON1:	return this->SkillMonsterCall(lpObj->m_Index,26,lpObj->X-1,lpObj->Y+1);

  02088	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0208b	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  02092	83 c1 01	 add	 ecx, 1
  02095	51		 push	 ecx
  02096	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02099	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  020a0	83 e8 01	 sub	 eax, 1
  020a3	50		 push	 eax
  020a4	6a 1a		 push	 26			; 0000001aH
  020a6	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  020a9	8b 11		 mov	 edx, DWORD PTR [ecx]
  020ab	52		 push	 edx
  020ac	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  020af	e8 00 00 00 00	 call	 ?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::SkillMonsterCall
  020b4	e9 ca 04 00 00	 jmp	 $LN58@RunningSki
$LN42@RunningSki:

; 965  : 	case AT_SKILL_CALLMON2:	return this->SkillMonsterCall(lpObj->m_Index,32,lpObj->X-1,lpObj->Y+1);

  020b9	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  020bc	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  020c3	83 c1 01	 add	 ecx, 1
  020c6	51		 push	 ecx
  020c7	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  020ca	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  020d1	83 e8 01	 sub	 eax, 1
  020d4	50		 push	 eax
  020d5	6a 20		 push	 32			; 00000020H
  020d7	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  020da	8b 11		 mov	 edx, DWORD PTR [ecx]
  020dc	52		 push	 edx
  020dd	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  020e0	e8 00 00 00 00	 call	 ?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::SkillMonsterCall
  020e5	e9 99 04 00 00	 jmp	 $LN58@RunningSki
$LN41@RunningSki:

; 966  : 	case AT_SKILL_CALLMON3:	return this->SkillMonsterCall(lpObj->m_Index,21,lpObj->X-1,lpObj->Y+1);

  020ea	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  020ed	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  020f4	83 c1 01	 add	 ecx, 1
  020f7	51		 push	 ecx
  020f8	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  020fb	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  02102	83 e8 01	 sub	 eax, 1
  02105	50		 push	 eax
  02106	6a 15		 push	 21			; 00000015H
  02108	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0210b	8b 11		 mov	 edx, DWORD PTR [ecx]
  0210d	52		 push	 edx
  0210e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02111	e8 00 00 00 00	 call	 ?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::SkillMonsterCall
  02116	e9 68 04 00 00	 jmp	 $LN58@RunningSki
$LN40@RunningSki:

; 967  : 	case AT_SKILL_CALLMON4:	return this->SkillMonsterCall(lpObj->m_Index,20,lpObj->X-1,lpObj->Y+1);

  0211b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0211e	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  02125	83 c1 01	 add	 ecx, 1
  02128	51		 push	 ecx
  02129	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0212c	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  02133	83 e8 01	 sub	 eax, 1
  02136	50		 push	 eax
  02137	6a 14		 push	 20			; 00000014H
  02139	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0213c	8b 11		 mov	 edx, DWORD PTR [ecx]
  0213e	52		 push	 edx
  0213f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02142	e8 00 00 00 00	 call	 ?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::SkillMonsterCall
  02147	e9 37 04 00 00	 jmp	 $LN58@RunningSki
$LN39@RunningSki:

; 968  : 	case AT_SKILL_CALLMON5:	return this->SkillMonsterCall(lpObj->m_Index,10,lpObj->X-1,lpObj->Y+1);

  0214c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0214f	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  02156	83 c1 01	 add	 ecx, 1
  02159	51		 push	 ecx
  0215a	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0215d	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  02164	83 e8 01	 sub	 eax, 1
  02167	50		 push	 eax
  02168	6a 0a		 push	 10			; 0000000aH
  0216a	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0216d	8b 11		 mov	 edx, DWORD PTR [ecx]
  0216f	52		 push	 edx
  02170	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02173	e8 00 00 00 00	 call	 ?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::SkillMonsterCall
  02178	e9 06 04 00 00	 jmp	 $LN58@RunningSki
$LN38@RunningSki:

; 969  : 	case AT_SKILL_CALLMON6:	return this->SkillMonsterCall(lpObj->m_Index,150,lpObj->X-1,lpObj->Y+1);

  0217d	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02180	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  02187	83 c1 01	 add	 ecx, 1
  0218a	51		 push	 ecx
  0218b	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0218e	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  02195	83 e8 01	 sub	 eax, 1
  02198	50		 push	 eax
  02199	68 96 00 00 00	 push	 150			; 00000096H
  0219e	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  021a1	8b 11		 mov	 edx, DWORD PTR [ecx]
  021a3	52		 push	 edx
  021a4	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  021a7	e8 00 00 00 00	 call	 ?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::SkillMonsterCall
  021ac	e9 d2 03 00 00	 jmp	 $LN58@RunningSki
$LN37@RunningSki:

; 970  : 	case AT_SKILL_CALLMON7:	return this->SkillMonsterCall(lpObj->m_Index,151,lpObj->X-1,lpObj->Y+1);

  021b1	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  021b4	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  021bb	83 c1 01	 add	 ecx, 1
  021be	51		 push	 ecx
  021bf	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  021c2	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  021c9	83 e8 01	 sub	 eax, 1
  021cc	50		 push	 eax
  021cd	68 97 00 00 00	 push	 151			; 00000097H
  021d2	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  021d5	8b 11		 mov	 edx, DWORD PTR [ecx]
  021d7	52		 push	 edx
  021d8	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  021db	e8 00 00 00 00	 call	 ?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::SkillMonsterCall
  021e0	e9 9e 03 00 00	 jmp	 $LN58@RunningSki
$LN36@RunningSki:

; 971  : 
; 972  : 	case AT_SKILL_EXPHELL:	return this->SkillHellFire2(lpObj->m_Index,aTargetIndex,lpMagic);

  021e5	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  021e8	50		 push	 eax
  021e9	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  021ec	51		 push	 ecx
  021ed	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  021f0	8b 02		 mov	 eax, DWORD PTR [edx]
  021f2	50		 push	 eax
  021f3	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  021f6	e8 00 00 00 00	 call	 ?SkillHellFire2@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillHellFire2
  021fb	e9 83 03 00 00	 jmp	 $LN58@RunningSki
$LN35@RunningSki:

; 973  : 	case AT_SKILL_STRIKE:	return this->SkillKnightBlow(lpObj->m_Index,aTargetIndex,lpMagic,bCombo);

  02200	8b 45 14	 mov	 eax, DWORD PTR _bCombo$[ebp]
  02203	50		 push	 eax
  02204	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  02207	51		 push	 ecx
  02208	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0220b	52		 push	 edx
  0220c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0220f	8b 08		 mov	 ecx, DWORD PTR [eax]
  02211	51		 push	 ecx
  02212	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02215	e8 00 00 00 00	 call	 ?SkillKnightBlow@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ; CObjUseSkill::SkillKnightBlow
  0221a	e9 64 03 00 00	 jmp	 $LN58@RunningSki
$LN34@RunningSki:

; 974  : 
; 975  : 	case AT_SKILL_SPEAR:	return this->SkillSpear(lpObj->m_Index,aTargetIndex,lpMagic);

  0221f	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  02222	50		 push	 eax
  02223	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  02226	51		 push	 ecx
  02227	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0222a	8b 02		 mov	 eax, DWORD PTR [edx]
  0222c	50		 push	 eax
  0222d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02230	e8 00 00 00 00	 call	 ?SkillSpear@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSpear
  02235	e9 49 03 00 00	 jmp	 $LN58@RunningSki
$LN33@RunningSki:

; 976  : 	case AT_SKILL_FIREBURST:	return this->SkillFireBurst(lpObj->m_Index,aTargetIndex,lpMagic);

  0223a	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0223d	50		 push	 eax
  0223e	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  02241	51		 push	 ecx
  02242	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02245	8b 02		 mov	 eax, DWORD PTR [edx]
  02247	50		 push	 eax
  02248	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0224b	e8 00 00 00 00	 call	 ?SkillFireBurst@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillFireBurst
  02250	e9 2e 03 00 00	 jmp	 $LN58@RunningSki
$LN32@RunningSki:

; 977  : 	case AT_SKILL_DARKHORSE_ATTACK:	return this->SkillDarkHorseAttack(lpObj->m_Index,aTargetIndex,lpMagic);

  02255	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  02258	50		 push	 eax
  02259	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0225c	51		 push	 ecx
  0225d	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02260	8b 02		 mov	 eax, DWORD PTR [edx]
  02262	50		 push	 eax
  02263	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02266	e8 00 00 00 00	 call	 ?SkillDarkHorseAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDarkHorseAttack
  0226b	e9 13 03 00 00	 jmp	 $LN58@RunningSki
$LN31@RunningSki:

; 978  : 	case AT_SKILL_RECALL_PARTY:	this->SkillRecallParty(aIndex,lpMagic->m_Level);break;

  02270	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  02273	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  02277	51		 push	 ecx
  02278	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0227b	52		 push	 edx
  0227c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0227f	e8 00 00 00 00	 call	 ?SkillRecallParty@CObjUseSkill@@QAEXHH@Z ; CObjUseSkill::SkillRecallParty
  02284	e9 f5 02 00 00	 jmp	 $LN54@RunningSki
$LN30@RunningSki:

; 979  : 	case AT_SKILL_ADD_CRITICALDAMAGE:	this->SkillAddCriticalDamage(aIndex,lpMagic->m_Level);break;

  02289	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0228c	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  02290	51		 push	 ecx
  02291	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  02294	52		 push	 edx
  02295	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02298	e8 00 00 00 00	 call	 ?SkillAddCriticalDamage@CObjUseSkill@@QAEXHH@Z ; CObjUseSkill::SkillAddCriticalDamage
  0229d	e9 dc 02 00 00	 jmp	 $LN54@RunningSki
$LN29@RunningSki:

; 980  : 
; 981  : 	case AT_SKILL_DEFENSEDOWN:	this->MaGumSkillDefenseDown(lpObj->m_Index,aTargetIndex,1);break;

  022a2	6a 01		 push	 1
  022a4	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  022a7	50		 push	 eax
  022a8	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  022ab	8b 11		 mov	 edx, DWORD PTR [ecx]
  022ad	52		 push	 edx
  022ae	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  022b1	e8 00 00 00 00	 call	 ?MaGumSkillDefenseDown@CObjUseSkill@@QAEXHHH@Z ; CObjUseSkill::MaGumSkillDefenseDown
  022b6	e9 c3 02 00 00	 jmp	 $LN54@RunningSki
$LN28@RunningSki:

; 982  : 
; 983  : 	case AT_SKILL_SUMMON:	this->SkillSummon(lpObj->m_Index,aTargetIndex,lpMagic);break;

  022bb	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  022be	50		 push	 eax
  022bf	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  022c2	51		 push	 ecx
  022c3	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  022c6	8b 02		 mov	 eax, DWORD PTR [edx]
  022c8	50		 push	 eax
  022c9	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  022cc	e8 00 00 00 00	 call	 ?SkillSummon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSummon
  022d1	e9 a8 02 00 00	 jmp	 $LN54@RunningSki
$LN27@RunningSki:

; 984  : 	case AT_SKILL_IMMUNE_TO_MAGIC:	this->SkillImmuneToMagic(lpObj->m_Index,lpMagic);break;

  022d6	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  022d9	50		 push	 eax
  022da	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  022dd	8b 11		 mov	 edx, DWORD PTR [ecx]
  022df	52		 push	 edx
  022e0	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  022e3	e8 00 00 00 00	 call	 ?SkillImmuneToMagic@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillImmuneToMagic
  022e8	e9 91 02 00 00	 jmp	 $LN54@RunningSki
$LN26@RunningSki:

; 985  : 	case AT_SKILL_IMMUNE_TO_HARM:	this->SkillImmuneToHarm(lpObj->m_Index,lpMagic);break;

  022ed	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  022f0	50		 push	 eax
  022f1	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  022f4	8b 11		 mov	 edx, DWORD PTR [ecx]
  022f6	52		 push	 edx
  022f7	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  022fa	e8 00 00 00 00	 call	 ?SkillImmuneToHarm@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillImmuneToHarm
  022ff	e9 7a 02 00 00	 jmp	 $LN54@RunningSki
$LN25@RunningSki:

; 986  : 
; 987  : 	case AT_SKILL_RUSH:	this->SkillKnightRush(lpObj->m_Index,aTargetIndex,lpMagic);break;

  02304	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  02307	50		 push	 eax
  02308	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0230b	51		 push	 ecx
  0230c	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0230f	8b 02		 mov	 eax, DWORD PTR [edx]
  02311	50		 push	 eax
  02312	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02315	e8 00 00 00 00	 call	 ?SkillKnightRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillKnightRush
  0231a	e9 5f 02 00 00	 jmp	 $LN54@RunningSki
$LN24@RunningSki:

; 988  : 	case AT_SKILL_JAVALIN:	this->SkillWizardJavalin(lpObj->m_Index,aTargetIndex,lpMagic);break;

  0231f	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  02322	50		 push	 eax
  02323	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  02326	51		 push	 ecx
  02327	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0232a	8b 02		 mov	 eax, DWORD PTR [edx]
  0232c	50		 push	 eax
  0232d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02330	e8 00 00 00 00	 call	 ?SkillWizardJavalin@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillWizardJavalin
  02335	e9 44 02 00 00	 jmp	 $LN54@RunningSki
$LN23@RunningSki:

; 989  : 	case AT_SKILL_DEEPIMPACT:	this->SkillElfRush(lpObj->m_Index,aTargetIndex,lpMagic);break;

  0233a	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0233d	50		 push	 eax
  0233e	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  02341	51		 push	 ecx
  02342	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02345	8b 02		 mov	 eax, DWORD PTR [edx]
  02347	50		 push	 eax
  02348	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0234b	e8 00 00 00 00	 call	 ?SkillElfRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillElfRush
  02350	e9 29 02 00 00	 jmp	 $LN54@RunningSki
$LN22@RunningSki:

; 990  : 	case AT_SKILL_ONE_FLASH:	this->SkillMagumOneFlash(lpObj->m_Index,aTargetIndex,lpMagic);break;

  02355	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  02358	50		 push	 eax
  02359	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0235c	51		 push	 ecx
  0235d	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02360	8b 02		 mov	 eax, DWORD PTR [edx]
  02362	50		 push	 eax
  02363	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02366	e8 00 00 00 00	 call	 ?SkillMagumOneFlash@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMagumOneFlash
  0236b	e9 0e 02 00 00	 jmp	 $LN54@RunningSki
$LN21@RunningSki:

; 991  : 	case AT_SKILL_DEATH_CANNON:	this->SkillMagumDeathCannon(lpObj->m_Index,aTargetIndex,lpMagic);break;

  02370	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  02373	50		 push	 eax
  02374	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  02377	51		 push	 ecx
  02378	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0237b	8b 02		 mov	 eax, DWORD PTR [edx]
  0237d	50		 push	 eax
  0237e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02381	e8 00 00 00 00	 call	 ?SkillMagumDeathCannon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMagumDeathCannon
  02386	e9 f3 01 00 00	 jmp	 $LN54@RunningSki
$LN20@RunningSki:

; 992  : 	case AT_SKILL_SPACE_SPLIT:	this->SkillDarklordSpaceSplit(lpObj->m_Index,aTargetIndex,lpMagic);break;

  0238b	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0238e	50		 push	 eax
  0238f	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  02392	51		 push	 ecx
  02393	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02396	8b 02		 mov	 eax, DWORD PTR [edx]
  02398	50		 push	 eax
  02399	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0239c	e8 00 00 00 00	 call	 ?SkillDarklordSpaceSplit@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDarklordSpaceSplit
  023a1	e9 d8 01 00 00	 jmp	 $LN54@RunningSki
$LN19@RunningSki:

; 993  : 
; 994  : 	case AT_SKILL_BRAND_OF_SKILL:	this->SkillBrandOfSkill(aIndex,aTargetIndex,lpMagic);break;

  023a6	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  023a9	50		 push	 eax
  023aa	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  023ad	51		 push	 ecx
  023ae	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  023b1	52		 push	 edx
  023b2	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  023b5	e8 00 00 00 00	 call	 ?SkillBrandOfSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillBrandOfSkill
  023ba	e9 bf 01 00 00	 jmp	 $LN54@RunningSki
$LN18@RunningSki:

; 995  : 
; 996  : 	case AT_SKILL_REMOVAL_STUN:	this->SkillRemoveStun(aIndex,aTargetIndex,lpMagic);break;

  023bf	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  023c2	50		 push	 eax
  023c3	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  023c6	51		 push	 ecx
  023c7	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  023ca	52		 push	 edx
  023cb	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  023ce	e8 00 00 00 00	 call	 ?SkillRemoveStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillRemoveStun
  023d3	e9 a6 01 00 00	 jmp	 $LN54@RunningSki
$LN17@RunningSki:

; 997  : 	case AT_SKILL_ADD_MANA:	this->SkillAddMana(aIndex,aTargetIndex,lpMagic);break;

  023d8	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  023db	50		 push	 eax
  023dc	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  023df	51		 push	 ecx
  023e0	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  023e3	52		 push	 edx
  023e4	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  023e7	e8 00 00 00 00	 call	 ?SkillAddMana@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillAddMana
  023ec	e9 8d 01 00 00	 jmp	 $LN54@RunningSki
$LN16@RunningSki:

; 998  : 	case AT_SKILL_INVISIBLE:	this->SkillCloaking(aIndex,aTargetIndex,lpMagic);break;

  023f1	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  023f4	50		 push	 eax
  023f5	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  023f8	51		 push	 ecx
  023f9	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  023fc	52		 push	 edx
  023fd	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02400	e8 00 00 00 00	 call	 ?SkillCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillCloaking
  02405	e9 74 01 00 00	 jmp	 $LN54@RunningSki
$LN15@RunningSki:

; 999  : 	case AT_SKILL_REMOVAL_INVISIBLE:	this->SkillRemoveCloaking(aIndex,aTargetIndex,lpMagic);break;

  0240a	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0240d	50		 push	 eax
  0240e	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  02411	51		 push	 ecx
  02412	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  02415	52		 push	 edx
  02416	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02419	e8 00 00 00 00	 call	 ?SkillRemoveCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillRemoveCloaking
  0241e	e9 5b 01 00 00	 jmp	 $LN54@RunningSki
$LN14@RunningSki:

; 1000 : 	case AT_SKILL_REMOVAL_MAGIC:	this->SkillRemoveMagic(aIndex,aTargetIndex,lpMagic);break;

  02423	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  02426	50		 push	 eax
  02427	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0242a	51		 push	 ecx
  0242b	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0242e	52		 push	 edx
  0242f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02432	e8 00 00 00 00	 call	 ?SkillRemoveMagic@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillRemoveMagic
  02437	e9 42 01 00 00	 jmp	 $LN54@RunningSki
$LN13@RunningSki:

; 1001 : 
; 1002 : 	case AT_SKILL_INFINITY_ARROW:	this->SkillInfinityArrow(aIndex,aTargetIndex,lpMagic);break;

  0243c	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0243f	50		 push	 eax
  02440	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  02443	51		 push	 ecx
  02444	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  02447	52		 push	 edx
  02448	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0244b	e8 00 00 00 00	 call	 ?SkillInfinityArrow@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillInfinityArrow
  02450	e9 29 01 00 00	 jmp	 $LN54@RunningSki
$LN12@RunningSki:

; 1003 : 
; 1004 : 	case 217: this->SkillDamageReflection(aIndex,aTargetIndex,lpMagic);break; //Summoner Damage Reflection

  02455	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  02458	50		 push	 eax
  02459	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0245c	51		 push	 ecx
  0245d	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  02460	52		 push	 edx
  02461	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02464	e8 00 00 00 00	 call	 ?SkillDamageReflection@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDamageReflection
  02469	e9 10 01 00 00	 jmp	 $LN54@RunningSki
$LN11@RunningSki:

; 1005 : 	case 219: this->SkillSleep(aIndex,aTargetIndex,lpMagic);break;

  0246e	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  02471	50		 push	 eax
  02472	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  02475	51		 push	 ecx
  02476	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  02479	52		 push	 edx
  0247a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0247d	e8 00 00 00 00	 call	 ?SkillSleep@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSleep
  02482	e9 f7 00 00 00	 jmp	 $LN54@RunningSki
$LN10@RunningSki:

; 1006 : 	case 220: this->SkillBlind(aIndex,aTargetIndex,lpMagic);break;

  02487	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0248a	50		 push	 eax
  0248b	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0248e	51		 push	 ecx
  0248f	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  02492	52		 push	 edx
  02493	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02496	e8 00 00 00 00	 call	 ?SkillBlind@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillBlind
  0249b	e9 de 00 00 00	 jmp	 $LN54@RunningSki
$LN9@RunningSki:

; 1007 : 
; 1008 : 		//Season4 add-on
; 1009 : 	case 218: this->SkillBerserker(lpObj->m_Index,lpMagic);break;

  024a0	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  024a3	50		 push	 eax
  024a4	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  024a7	8b 11		 mov	 edx, DWORD PTR [ecx]
  024a9	52		 push	 edx
  024aa	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  024ad	e8 00 00 00 00	 call	 ?SkillBerserker@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillBerserker
  024b2	e9 c7 00 00 00	 jmp	 $LN54@RunningSki
$LN8@RunningSki:

; 1010 : 	case 234: this->SkillSDRecovery(aIndex,aTargetIndex,lpMagic);break;

  024b7	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  024ba	50		 push	 eax
  024bb	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  024be	51		 push	 ecx
  024bf	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  024c2	52		 push	 edx
  024c3	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  024c6	e8 00 00 00 00	 call	 ?SkillSDRecovery@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSDRecovery
  024cb	e9 ae 00 00 00	 jmp	 $LN54@RunningSki
$LN7@RunningSki:

; 1011 : 	case 233: this->SkillExpansionWizardry(aIndex,aTargetIndex,lpMagic);break;

  024d0	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  024d3	50		 push	 eax
  024d4	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  024d7	51		 push	 ecx
  024d8	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  024db	52		 push	 edx
  024dc	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  024df	e8 00 00 00 00	 call	 ?SkillExpansionWizardry@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillExpansionWizardry
  024e4	e9 95 00 00 00	 jmp	 $LN54@RunningSki
$LN6@RunningSki:

; 1012 : 
; 1013 : 	case 266:
; 1014 : 		{
; 1015 : 			this->SkillMonkBuff(aIndex, lpMagic);

  024e9	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  024ec	50		 push	 eax
  024ed	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  024f0	51		 push	 ecx
  024f1	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  024f4	e8 00 00 00 00	 call	 ?SkillMonkBuff@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMonkBuff

; 1016 : 		}
; 1017 : 		break;

  024f9	e9 80 00 00 00	 jmp	 $LN54@RunningSki
$LN5@RunningSki:

; 1018 : 		// --
; 1019 : 	case 267:
; 1020 : 	case 268:
; 1021 : 		{
; 1022 : 			this->SkillMonkBuffApplyParty(aIndex, lpMagic);

  024fe	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  02501	50		 push	 eax
  02502	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  02505	51		 push	 ecx
  02506	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02509	e8 00 00 00 00	 call	 ?SkillMonkBuffApplyParty@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMonkBuffApplyParty

; 1023 : 		}
; 1024 : 		break;

  0250e	eb 6e		 jmp	 SHORT $LN54@RunningSki
$LN4@RunningSki:

; 1025 : 		// --
; 1026 : 	case 260:
; 1027 : 	case 261:
; 1028 : 	case 262:
; 1029 : 	case 263:
; 1030 : 		{
; 1031 : 			this->SkillMonkBarrageJustOneTarget(aIndex, lpMagic, aTargetIndex);

  02510	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  02513	50		 push	 eax
  02514	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  02517	51		 push	 ecx
  02518	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0251b	52		 push	 edx
  0251c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0251f	e8 00 00 00 00	 call	 ?SkillMonkBarrageJustOneTarget@CObjUseSkill@@QAEXHPAVCMagicInf@@H@Z ; CObjUseSkill::SkillMonkBarrageJustOneTarget

; 1032 : 		}
; 1033 : 		break;

  02524	eb 58		 jmp	 SHORT $LN54@RunningSki
$LN3@RunningSki:

; 1034 : 		// --
; 1035 : 	case 265:
; 1036 : 		{
; 1037 : 			gObjAttack(lpObj, lpTargetObj, lpMagic, 1, 0, 0, 0, 0, 0);

  02526	6a 00		 push	 0
  02528	6a 00		 push	 0
  0252a	6a 00		 push	 0
  0252c	6a 00		 push	 0
  0252e	6a 00		 push	 0
  02530	6a 01		 push	 1
  02532	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  02535	50		 push	 eax
  02536	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  02539	51		 push	 ecx
  0253a	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0253d	52		 push	 edx
  0253e	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  02543	83 c4 24	 add	 esp, 36			; 00000024H

; 1038 : 		}
; 1039 : 		break;

  02546	eb 36		 jmp	 SHORT $LN54@RunningSki
$LN2@RunningSki:

; 1040 : 		// --
; 1041 : 	case 269:
; 1042 : 		{
; 1043 : 			this->SkillCharge(aIndex, lpMagic, aTargetIndex);

  02548	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0254b	50		 push	 eax
  0254c	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0254f	51		 push	 ecx
  02550	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  02553	52		 push	 edx
  02554	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02557	e8 00 00 00 00	 call	 ?SkillCharge@CObjUseSkill@@QAEHHPAVCMagicInf@@H@Z ; CObjUseSkill::SkillCharge

; 1044 : 		}
; 1045 : 		break;

  0255c	eb 20		 jmp	 SHORT $LN54@RunningSki
$LN1@RunningSki:

; 1046 : 		// ----
; 1047 : 	default:	gObjAttack(lpObj,lpTargetObj,lpMagic,1,0,0,0,0,0);break;

  0255e	6a 00		 push	 0
  02560	6a 00		 push	 0
  02562	6a 00		 push	 0
  02564	6a 00		 push	 0
  02566	6a 00		 push	 0
  02568	6a 01		 push	 1
  0256a	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0256d	50		 push	 eax
  0256e	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  02571	51		 push	 ecx
  02572	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02575	52		 push	 edx
  02576	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0257b	83 c4 24	 add	 esp, 36			; 00000024H
$LN54@RunningSki:

; 1048 : 	}
; 1049 : 
; 1050 : 	return true;

  0257e	b8 01 00 00 00	 mov	 eax, 1
$LN58@RunningSki:

; 1051 : }

  02583	5f		 pop	 edi
  02584	5e		 pop	 esi
  02585	5b		 pop	 ebx
  02586	8b e5		 mov	 esp, ebp
  02588	5d		 pop	 ebp
  02589	c2 10 00	 ret	 16			; 00000010H
$LN62@RunningSki:
  0258c	00 00 00 00	 DD	 $LN49@RunningSki
  02590	00 00 00 00	 DD	 $LN47@RunningSki
  02594	00 00 00 00	 DD	 $LN53@RunningSki
  02598	00 00 00 00	 DD	 $LN48@RunningSki
  0259c	00 00 00 00	 DD	 $LN45@RunningSki
  025a0	00 00 00 00	 DD	 $LN44@RunningSki
  025a4	00 00 00 00	 DD	 $LN43@RunningSki
  025a8	00 00 00 00	 DD	 $LN42@RunningSki
  025ac	00 00 00 00	 DD	 $LN41@RunningSki
  025b0	00 00 00 00	 DD	 $LN40@RunningSki
  025b4	00 00 00 00	 DD	 $LN39@RunningSki
  025b8	00 00 00 00	 DD	 $LN38@RunningSki
  025bc	00 00 00 00	 DD	 $LN37@RunningSki
  025c0	00 00 00 00	 DD	 $LN36@RunningSki
  025c4	00 00 00 00	 DD	 $LN35@RunningSki
  025c8	00 00 00 00	 DD	 $LN25@RunningSki
  025cc	00 00 00 00	 DD	 $LN24@RunningSki
  025d0	00 00 00 00	 DD	 $LN23@RunningSki
  025d4	00 00 00 00	 DD	 $LN46@RunningSki
  025d8	00 00 00 00	 DD	 $LN29@RunningSki
  025dc	00 00 00 00	 DD	 $LN22@RunningSki
  025e0	00 00 00 00	 DD	 $LN34@RunningSki
  025e4	00 00 00 00	 DD	 $LN33@RunningSki
  025e8	00 00 00 00	 DD	 $LN32@RunningSki
  025ec	00 00 00 00	 DD	 $LN31@RunningSki
  025f0	00 00 00 00	 DD	 $LN30@RunningSki
  025f4	00 00 00 00	 DD	 $LN18@RunningSki
  025f8	00 00 00 00	 DD	 $LN17@RunningSki
  025fc	00 00 00 00	 DD	 $LN16@RunningSki
  02600	00 00 00 00	 DD	 $LN15@RunningSki
  02604	00 00 00 00	 DD	 $LN14@RunningSki
  02608	00 00 00 00	 DD	 $LN21@RunningSki
  0260c	00 00 00 00	 DD	 $LN20@RunningSki
  02610	00 00 00 00	 DD	 $LN19@RunningSki
  02614	00 00 00 00	 DD	 $LN13@RunningSki
  02618	00 00 00 00	 DD	 $LN28@RunningSki
  0261c	00 00 00 00	 DD	 $LN27@RunningSki
  02620	00 00 00 00	 DD	 $LN26@RunningSki
  02624	00 00 00 00	 DD	 $LN12@RunningSki
  02628	00 00 00 00	 DD	 $LN9@RunningSki
  0262c	00 00 00 00	 DD	 $LN11@RunningSki
  02630	00 00 00 00	 DD	 $LN10@RunningSki
  02634	00 00 00 00	 DD	 $LN7@RunningSki
  02638	00 00 00 00	 DD	 $LN8@RunningSki
  0263c	00 00 00 00	 DD	 $LN1@RunningSki
$LN61@RunningSki:
  02640	00		 DB	 0
  02641	00		 DB	 0
  02642	00		 DB	 0
  02643	00		 DB	 0
  02644	00		 DB	 0
  02645	2c		 DB	 44			; 0000002cH
  02646	00		 DB	 0
  02647	2c		 DB	 44			; 0000002cH
  02648	2c		 DB	 44			; 0000002cH
  02649	2c		 DB	 44			; 0000002cH
  0264a	2c		 DB	 44			; 0000002cH
  0264b	2c		 DB	 44			; 0000002cH
  0264c	2c		 DB	 44			; 0000002cH
  0264d	2c		 DB	 44			; 0000002cH
  0264e	2c		 DB	 44			; 0000002cH
  0264f	01		 DB	 1
  02650	00		 DB	 0
  02651	02		 DB	 2
  02652	00		 DB	 0
  02653	00		 DB	 0
  02654	00		 DB	 0
  02655	00		 DB	 0
  02656	00		 DB	 0
  02657	00		 DB	 0
  02658	00		 DB	 0
  02659	03		 DB	 3
  0265a	04		 DB	 4
  0265b	05		 DB	 5
  0265c	2c		 DB	 44			; 0000002cH
  0265d	06		 DB	 6
  0265e	07		 DB	 7
  0265f	08		 DB	 8
  02660	09		 DB	 9
  02661	0a		 DB	 10			; 0000000aH
  02662	0b		 DB	 11			; 0000000bH
  02663	0c		 DB	 12			; 0000000cH
  02664	2c		 DB	 44			; 0000002cH
  02665	2c		 DB	 44			; 0000002cH
  02666	2c		 DB	 44			; 0000002cH
  02667	0d		 DB	 13			; 0000000dH
  02668	00		 DB	 0
  02669	00		 DB	 0
  0266a	0e		 DB	 14			; 0000000eH
  0266b	0f		 DB	 15			; 0000000fH
  0266c	10		 DB	 16			; 00000010H
  0266d	11		 DB	 17			; 00000011H
  0266e	00		 DB	 0
  0266f	12		 DB	 18			; 00000012H
  02670	2c		 DB	 44			; 0000002cH
  02671	2c		 DB	 44			; 0000002cH
  02672	2c		 DB	 44			; 0000002cH
  02673	00		 DB	 0
  02674	2c		 DB	 44			; 0000002cH
  02675	2c		 DB	 44			; 0000002cH
  02676	13		 DB	 19			; 00000013H
  02677	00		 DB	 0
  02678	14		 DB	 20			; 00000014H
  02679	2c		 DB	 44			; 0000002cH
  0267a	2c		 DB	 44			; 0000002cH
  0267b	15		 DB	 21			; 00000015H
  0267c	16		 DB	 22			; 00000016H
  0267d	17		 DB	 23			; 00000017H
  0267e	18		 DB	 24			; 00000018H
  0267f	19		 DB	 25			; 00000019H
  02680	2c		 DB	 44			; 0000002cH
  02681	2c		 DB	 44			; 0000002cH
  02682	2c		 DB	 44			; 0000002cH
  02683	1a		 DB	 26			; 0000001aH
  02684	1b		 DB	 27			; 0000001bH
  02685	1c		 DB	 28			; 0000001cH
  02686	1d		 DB	 29			; 0000001dH
  02687	1e		 DB	 30			; 0000001eH
  02688	1f		 DB	 31			; 0000001fH
  02689	20		 DB	 32			; 00000020H
  0268a	21		 DB	 33			; 00000021H
  0268b	2c		 DB	 44			; 0000002cH
  0268c	22		 DB	 34			; 00000022H
  0268d	2c		 DB	 44			; 0000002cH
  0268e	2c		 DB	 44			; 0000002cH
  0268f	2c		 DB	 44			; 0000002cH
  02690	2c		 DB	 44			; 0000002cH
  02691	2c		 DB	 44			; 0000002cH
  02692	2c		 DB	 44			; 0000002cH
  02693	2c		 DB	 44			; 0000002cH
  02694	2c		 DB	 44			; 0000002cH
  02695	2c		 DB	 44			; 0000002cH
  02696	2c		 DB	 44			; 0000002cH
  02697	2c		 DB	 44			; 0000002cH
  02698	2c		 DB	 44			; 0000002cH
  02699	2c		 DB	 44			; 0000002cH
  0269a	2c		 DB	 44			; 0000002cH
  0269b	2c		 DB	 44			; 0000002cH
  0269c	2c		 DB	 44			; 0000002cH
  0269d	2c		 DB	 44			; 0000002cH
  0269e	2c		 DB	 44			; 0000002cH
  0269f	2c		 DB	 44			; 0000002cH
  026a0	2c		 DB	 44			; 0000002cH
  026a1	2c		 DB	 44			; 0000002cH
  026a2	2c		 DB	 44			; 0000002cH
  026a3	2c		 DB	 44			; 0000002cH
  026a4	2c		 DB	 44			; 0000002cH
  026a5	2c		 DB	 44			; 0000002cH
  026a6	2c		 DB	 44			; 0000002cH
  026a7	2c		 DB	 44			; 0000002cH
  026a8	2c		 DB	 44			; 0000002cH
  026a9	2c		 DB	 44			; 0000002cH
  026aa	2c		 DB	 44			; 0000002cH
  026ab	2c		 DB	 44			; 0000002cH
  026ac	2c		 DB	 44			; 0000002cH
  026ad	2c		 DB	 44			; 0000002cH
  026ae	2c		 DB	 44			; 0000002cH
  026af	2c		 DB	 44			; 0000002cH
  026b0	2c		 DB	 44			; 0000002cH
  026b1	2c		 DB	 44			; 0000002cH
  026b2	2c		 DB	 44			; 0000002cH
  026b3	2c		 DB	 44			; 0000002cH
  026b4	2c		 DB	 44			; 0000002cH
  026b5	2c		 DB	 44			; 0000002cH
  026b6	2c		 DB	 44			; 0000002cH
  026b7	2c		 DB	 44			; 0000002cH
  026b8	2c		 DB	 44			; 0000002cH
  026b9	2c		 DB	 44			; 0000002cH
  026ba	2c		 DB	 44			; 0000002cH
  026bb	2c		 DB	 44			; 0000002cH
  026bc	2c		 DB	 44			; 0000002cH
  026bd	2c		 DB	 44			; 0000002cH
  026be	2c		 DB	 44			; 0000002cH
  026bf	2c		 DB	 44			; 0000002cH
  026c0	2c		 DB	 44			; 0000002cH
  026c1	2c		 DB	 44			; 0000002cH
  026c2	2c		 DB	 44			; 0000002cH
  026c3	2c		 DB	 44			; 0000002cH
  026c4	2c		 DB	 44			; 0000002cH
  026c5	2c		 DB	 44			; 0000002cH
  026c6	2c		 DB	 44			; 0000002cH
  026c7	2c		 DB	 44			; 0000002cH
  026c8	2c		 DB	 44			; 0000002cH
  026c9	2c		 DB	 44			; 0000002cH
  026ca	2c		 DB	 44			; 0000002cH
  026cb	2c		 DB	 44			; 0000002cH
  026cc	2c		 DB	 44			; 0000002cH
  026cd	2c		 DB	 44			; 0000002cH
  026ce	2c		 DB	 44			; 0000002cH
  026cf	2c		 DB	 44			; 0000002cH
  026d0	2c		 DB	 44			; 0000002cH
  026d1	2c		 DB	 44			; 0000002cH
  026d2	2c		 DB	 44			; 0000002cH
  026d3	2c		 DB	 44			; 0000002cH
  026d4	2c		 DB	 44			; 0000002cH
  026d5	2c		 DB	 44			; 0000002cH
  026d6	2c		 DB	 44			; 0000002cH
  026d7	2c		 DB	 44			; 0000002cH
  026d8	2c		 DB	 44			; 0000002cH
  026d9	2c		 DB	 44			; 0000002cH
  026da	2c		 DB	 44			; 0000002cH
  026db	2c		 DB	 44			; 0000002cH
  026dc	2c		 DB	 44			; 0000002cH
  026dd	2c		 DB	 44			; 0000002cH
  026de	2c		 DB	 44			; 0000002cH
  026df	2c		 DB	 44			; 0000002cH
  026e0	2c		 DB	 44			; 0000002cH
  026e1	2c		 DB	 44			; 0000002cH
  026e2	2c		 DB	 44			; 0000002cH
  026e3	2c		 DB	 44			; 0000002cH
  026e4	2c		 DB	 44			; 0000002cH
  026e5	2c		 DB	 44			; 0000002cH
  026e6	2c		 DB	 44			; 0000002cH
  026e7	2c		 DB	 44			; 0000002cH
  026e8	2c		 DB	 44			; 0000002cH
  026e9	2c		 DB	 44			; 0000002cH
  026ea	2c		 DB	 44			; 0000002cH
  026eb	2c		 DB	 44			; 0000002cH
  026ec	2c		 DB	 44			; 0000002cH
  026ed	2c		 DB	 44			; 0000002cH
  026ee	2c		 DB	 44			; 0000002cH
  026ef	2c		 DB	 44			; 0000002cH
  026f0	2c		 DB	 44			; 0000002cH
  026f1	2c		 DB	 44			; 0000002cH
  026f2	2c		 DB	 44			; 0000002cH
  026f3	2c		 DB	 44			; 0000002cH
  026f4	2c		 DB	 44			; 0000002cH
  026f5	2c		 DB	 44			; 0000002cH
  026f6	2c		 DB	 44			; 0000002cH
  026f7	2c		 DB	 44			; 0000002cH
  026f8	2c		 DB	 44			; 0000002cH
  026f9	2c		 DB	 44			; 0000002cH
  026fa	2c		 DB	 44			; 0000002cH
  026fb	2c		 DB	 44			; 0000002cH
  026fc	2c		 DB	 44			; 0000002cH
  026fd	2c		 DB	 44			; 0000002cH
  026fe	2c		 DB	 44			; 0000002cH
  026ff	2c		 DB	 44			; 0000002cH
  02700	2c		 DB	 44			; 0000002cH
  02701	2c		 DB	 44			; 0000002cH
  02702	2c		 DB	 44			; 0000002cH
  02703	2c		 DB	 44			; 0000002cH
  02704	2c		 DB	 44			; 0000002cH
  02705	2c		 DB	 44			; 0000002cH
  02706	2c		 DB	 44			; 0000002cH
  02707	23		 DB	 35			; 00000023H
  02708	24		 DB	 36			; 00000024H
  02709	25		 DB	 37			; 00000025H
  0270a	2c		 DB	 44			; 0000002cH
  0270b	2c		 DB	 44			; 0000002cH
  0270c	2c		 DB	 44			; 0000002cH
  0270d	2c		 DB	 44			; 0000002cH
  0270e	2c		 DB	 44			; 0000002cH
  0270f	2c		 DB	 44			; 0000002cH
  02710	2c		 DB	 44			; 0000002cH
  02711	2c		 DB	 44			; 0000002cH
  02712	2c		 DB	 44			; 0000002cH
  02713	2c		 DB	 44			; 0000002cH
  02714	2c		 DB	 44			; 0000002cH
  02715	2c		 DB	 44			; 0000002cH
  02716	2c		 DB	 44			; 0000002cH
  02717	2c		 DB	 44			; 0000002cH
  02718	26		 DB	 38			; 00000026H
  02719	27		 DB	 39			; 00000027H
  0271a	28		 DB	 40			; 00000028H
  0271b	29		 DB	 41			; 00000029H
  0271c	2c		 DB	 44			; 0000002cH
  0271d	2c		 DB	 44			; 0000002cH
  0271e	2c		 DB	 44			; 0000002cH
  0271f	2c		 DB	 44			; 0000002cH
  02720	2c		 DB	 44			; 0000002cH
  02721	2c		 DB	 44			; 0000002cH
  02722	2c		 DB	 44			; 0000002cH
  02723	2c		 DB	 44			; 0000002cH
  02724	2c		 DB	 44			; 0000002cH
  02725	2c		 DB	 44			; 0000002cH
  02726	2c		 DB	 44			; 0000002cH
  02727	2c		 DB	 44			; 0000002cH
  02728	2a		 DB	 42			; 0000002aH
  02729	2b		 DB	 43			; 0000002bH
  0272a	8b ff		 npad	 2
$LN63@RunningSki:
  0272c	00 00 00 00	 DD	 $LN3@RunningSki
  02730	00 00 00 00	 DD	 $LN6@RunningSki
  02734	00 00 00 00	 DD	 $LN5@RunningSki
  02738	00 00 00 00	 DD	 $LN5@RunningSki
  0273c	00 00 00 00	 DD	 $LN2@RunningSki
?RunningSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ENDP ; CObjUseSkill::RunningSkill
_TEXT	ENDS
PUBLIC	??_C@_0BN@OLMADCHD@?$LI?$LG?$LA?K?$LL?g?5?$LI?s?$LN?$LK?E?M?$LJ?f?$LO?n?$LH?B?$LA?$KI?$LM?R?5?3?5?$CFd?$AA@ ; `string'
EXTRN	?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z:PROC ; GCMagicAttackNumberSend
EXTRN	?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z:PROC ; gObjApplyBuffEffectDuration
EXTRN	?retCalcSkillResistance@@YAHPAUOBJECTSTRUCT@@H@Z:PROC ; retCalcSkillResistance
EXTRN	?LogAdd@@3P6AXPADZZA:DWORD			; LogAdd
;	COMDAT ??_C@_0BN@OLMADCHD@?$LI?$LG?$LA?K?$LL?g?5?$LI?s?$LN?$LK?E?M?$LJ?f?$LO?n?$LH?B?$LA?$KI?$LM?R?5?3?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BN@OLMADCHD@?$LI?$LG?$LA?K?$LL?g?5?$LI?s?$LN?$LK?E?M?$LJ?f?$LO?n?$LH?B?$LA?$KI?$LM?R?5?3?5?$CFd?$AA@ DB 0b8H
	DB	0b6H, 0b0H, 0cbH, 0bbH, 0e7H, ' ', 0b8H, 0f3H, 0bdH, 0baH, 0c5H
	DB	0cdH, 0b9H, 0e6H, 0beH, 0eeH, 0b7H, 0c2H, 0b0H, 0a8H, 0bcH, 0d2H
	DB	' : %d', 00H					; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_lpTargetObj$ = -16					; size = 4
_lpObj$ = -12						; size = 4
_skillSuccess$ = -8					; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_skill_level$ = 16					; size = 4
?MaGumSkillDefenseDown@CObjUseSkill@@QAEXHHH@Z PROC	; CObjUseSkill::MaGumSkillDefenseDown
; _this$ = ecx

; 1054 : {

  02740	55		 push	 ebp
  02741	8b ec		 mov	 ebp, esp
  02743	83 ec 50	 sub	 esp, 80			; 00000050H
  02746	53		 push	 ebx
  02747	56		 push	 esi
  02748	57		 push	 edi
  02749	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1055 : 	int skillSuccess = 1;

  0274c	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _skillSuccess$[ebp], 1

; 1056 : 	LPOBJ lpObj = &gObj[aIndex];

  02753	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02756	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0275c	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02762	89 45 f4	 mov	 DWORD PTR _lpObj$[ebp], eax

; 1057 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  02765	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  02768	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0276e	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02774	89 45 f0	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 1058 : 
; 1059 : 	if(lpObj->Type == OBJ_USER && lpObj->Class != CLASS_MAGUMSA)

  02777	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0277a	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  0277e	83 f9 01	 cmp	 ecx, 1
  02781	75 11		 jne	 SHORT $LN2@MaGumSkill
  02783	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02786	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  0278d	83 f9 03	 cmp	 ecx, 3
  02790	74 02		 je	 SHORT $LN2@MaGumSkill

; 1060 : 	{
; 1061 : 		return;

  02792	eb 53		 jmp	 SHORT $LN3@MaGumSkill
$LN2@MaGumSkill:

; 1062 : 	}
; 1063 : 
; 1064 : 	LogAdd("  : %d",10); // HermeX Fix

  02794	6a 0a		 push	 10			; 0000000aH
  02796	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@OLMADCHD@?$LI?$LG?$LA?K?$LL?g?5?$LI?s?$LN?$LK?E?M?$LJ?f?$LO?n?$LH?B?$LA?$KI?$LM?R?5?3?5?$CFd?$AA@
  0279b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  027a1	83 c4 08	 add	 esp, 8

; 1065 : 
; 1066 : 	if(retCalcSkillResistance(lpTargetObj,1))

  027a4	6a 01		 push	 1
  027a6	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  027a9	50		 push	 eax
  027aa	e8 00 00 00 00	 call	 ?retCalcSkillResistance@@YAHPAUOBJECTSTRUCT@@H@Z ; retCalcSkillResistance
  027af	83 c4 08	 add	 esp, 8
  027b2	85 c0		 test	 eax, eax
  027b4	74 31		 je	 SHORT $LN3@MaGumSkill

; 1067 : 	{
; 1068 : 		gObjApplyBuffEffectDuration(lpTargetObj, AT_REDUCE_DEFENSE, 23, 10, 0, 0, 10); //Season3 add-on

  027b6	6a 0a		 push	 10			; 0000000aH
  027b8	6a 00		 push	 0
  027ba	6a 00		 push	 0
  027bc	6a 0a		 push	 10			; 0000000aH
  027be	6a 17		 push	 23			; 00000017H
  027c0	6a 3a		 push	 58			; 0000003aH
  027c2	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  027c5	50		 push	 eax
  027c6	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  027cb	83 c4 1c	 add	 esp, 28			; 0000001cH

; 1069 : 		GCMagicAttackNumberSend(lpObj,AT_SKILL_DEFENSEDOWN,lpTargetObj->m_Index,skillSuccess);

  027ce	0f b6 45 f8	 movzx	 eax, BYTE PTR _skillSuccess$[ebp]
  027d2	50		 push	 eax
  027d3	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  027d6	8b 11		 mov	 edx, DWORD PTR [ecx]
  027d8	52		 push	 edx
  027d9	6a 37		 push	 55			; 00000037H
  027db	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  027de	50		 push	 eax
  027df	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  027e4	83 c4 10	 add	 esp, 16			; 00000010H
$LN3@MaGumSkill:

; 1070 : 	}
; 1071 : }

  027e7	5f		 pop	 edi
  027e8	5e		 pop	 esi
  027e9	5b		 pop	 ebx
  027ea	8b e5		 mov	 esp, ebp
  027ec	5d		 pop	 ebp
  027ed	c2 0c 00	 ret	 12			; 0000000cH
?MaGumSkillDefenseDown@CObjUseSkill@@QAEXHHH@Z ENDP	; CObjUseSkill::MaGumSkillDefenseDown
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	?ExConfig@@3VcExConfigs@@A:BYTE			; ExConfig
EXTRN	?CheckUser@CExLicense@@QAE_NH@Z:PROC		; CExLicense::CheckUser
EXTRN	?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z:PROC	; gObjCalDistance
EXTRN	?gParty@@3VPartyClass@@A:BYTE			; gParty
EXTRN	_memset:PROC
EXTRN	?DestroyGIocp@@YAXXZ:PROC			; DestroyGIocp
EXTRN	?szAuthKey@@3PADA:BYTE				; szAuthKey
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_n$240308 = -108					; size = 4
_iLifeTime$ = -104					; size = 4
_iaddLifepower$ = -100					; size = 4
_iaddlife$ = -96					; size = 4
_n$240284 = -92						; size = 4
_lpPartyObj$ = -88					; size = 4
_viewpercent$ = -84					; size = 4
_viewplayer$ = -80					; size = 4
_ApplyPartyIndex$ = -76					; size = 40
_dis$ = -36						; size = 4
_partycount$ = -32					; size = 4
_totallevel$ = -28					; size = 4
_partynum$ = -24					; size = 4
_number$ = -20						; size = 4
_lpObj$ = -16						; size = 4
_skillSuccess$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_skill_level$ = 12					; size = 4
?KnightSkillAddLife@CObjUseSkill@@QAEXHH@Z PROC		; CObjUseSkill::KnightSkillAddLife
; _this$ = ecx

; 1074 : {

  027f0	55		 push	 ebp
  027f1	8b ec		 mov	 ebp, esp
  027f3	81 ec ac 00 00
	00		 sub	 esp, 172		; 000000acH
  027f9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  027fe	33 c5		 xor	 eax, ebp
  02800	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02803	53		 push	 ebx
  02804	56		 push	 esi
  02805	57		 push	 edi
  02806	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1075 : 	//int skillSuccess = true;
; 1076 : 	//LPOBJ lpObj = &gObj[aIndex];
; 1077 : 
; 1078 : 	//if (szAuthKey[14] != AUTHKEY14 )
; 1079 : 	//{
; 1080 : 	//	DestroyGIocp();
; 1081 : 	//}
; 1082 : 
; 1083 : 	//if(lpObj->Type != OBJ_USER && lpObj->m_RecallMon == -1)
; 1084 : 	//{
; 1085 : 	//	return;
; 1086 : 	//}
; 1087 : 
; 1088 : 	//if(lpObj->Class != CLASS_KNIGHT && lpObj->Class != CLASS_MAGUMSA)
; 1089 : 	//{
; 1090 : 	//	return;
; 1091 : 	//}
; 1092 : 
; 1093 : 	//int number;
; 1094 : 	//int partynum = 0;
; 1095 : 	//int totallevel = 0;
; 1096 : 	//int partycount;
; 1097 : 	//int dis;
; 1098 : 
; 1099 : 	//int ApplyPartyIndex[MAX_USER_IN_PARTY];
; 1100 : 
; 1101 : 	//int viewplayer = 0;
; 1102 : 	//int viewpercent = 0;
; 1103 : 
; 1104 : 	//LPOBJ lpPartyObj;
; 1105 : 
; 1106 : 	//memset(ApplyPartyIndex,-1,sizeof(ApplyPartyIndex));
; 1107 : 
; 1108 : 	//partynum = lpObj->PartyNumber;
; 1109 : 
; 1110 : 	//if(partynum != -1)
; 1111 : 	//{
; 1112 : 	//	partycount = gParty.m_PartyS[partynum].Count;
; 1113 : 
; 1114 : 	//	for(int n = 0; n < MAX_USER_IN_PARTY; n++)
; 1115 : 	//	{
; 1116 : 	//		number = gParty.m_PartyS[partynum].Number[n];
; 1117 : 
; 1118 : 	//		if(number >= 0)
; 1119 : 	//		{
; 1120 : 	//			lpPartyObj = &gObj[number];
; 1121 : 
; 1122 : 	//			if(lpObj->MapNumber == lpPartyObj->MapNumber)
; 1123 : 	//			{
; 1124 : 	//				dis = gObjCalDistance(lpObj,&gObj[number]);
; 1125 : 
; 1126 : 	//				if(dis < 10)
; 1127 : 	//				{
; 1128 : 	//					ApplyPartyIndex[n] = lpPartyObj->m_Index;
; 1129 : 	//					viewplayer++;
; 1130 : 	//				}
; 1131 : 	//			}
; 1132 : 	//		}
; 1133 : 	//	}
; 1134 : 	//}
; 1135 : 
; 1136 : 	//if(viewplayer > 1)
; 1137 : 	//{
; 1138 : 	//	if(viewplayer == 2)
; 1139 : 	//	{
; 1140 : 	//		viewpercent = 1;
; 1141 : 	//	}
; 1142 : 	//	else if(viewplayer == 3)
; 1143 : 	//	{
; 1144 : 	//		viewpercent = 2;
; 1145 : 	//	}
; 1146 : 	//	else if(viewplayer == 4)
; 1147 : 	//	{
; 1148 : 	//		viewpercent = 3;
; 1149 : 	//	}
; 1150 : 	//	else
; 1151 : 	//	{
; 1152 : 	//		viewpercent = 4;
; 1153 : 	//	}
; 1154 : 	//}
; 1155 : 
; 1156 : 	////int ExStartPowerHp = GetPrivateProfileInt("DakrKnight","HPStartPower",12,"..\\Data\\ExData\\Skills.ini");
; 1157 : 	////int ExVitality = GetPrivateProfileInt("DakrKnight","HPVitality",100,"..\\Data\\ExData\\Skills.ini");
; 1158 : 	////int ExEnergy = GetPrivateProfileInt("DakrKnight","HPEnergy",20,"..\\Data\\ExData\\Skills.ini");
; 1159 : 	////int ExMaxPowerHp = GetPrivateProfileInt("DakrKnight","HPMaxPower",200,"..\\Data\\ExData\\Skills.ini");
; 1160 : 
; 1161 : 	//int iaddLifepower = ExConfig.Skills.ExStartPowerHp + (lpObj->Vitality + lpObj->AddVitality) / ExConfig.Skills.ExVitality + (lpObj->Energy + lpObj->AddEnergy)/ExConfig.Skills.ExEnergy + viewpercent;
; 1162 : 	//int iLifeTime = 60 + (lpObj->Energy + lpObj->AddEnergy) / 10;
; 1163 : 	//int iaddlife;
; 1164 : 
; 1165 : 	//if(iaddLifepower > ExConfig.Skills.ExMaxPowerHp)
; 1166 : 	//	iaddLifepower = ExConfig.Skills.ExMaxPowerHp;
; 1167 : 	//
; 1168 : 
; 1169 : 	//if(partynum == -1)
; 1170 : 	//{
; 1171 : 	//	iaddlife = int(lpObj->MaxLife) * iaddLifepower / 100;
; 1172 : 	//	gObjApplyBuffEffectDuration(lpObj, AT_SWELL_LIFE, 4, iaddlife, 0, 0, iLifeTime); //season3 add-on
; 1173 : 	//	GCMagicAttackNumberSend(lpObj,AT_SKILL_KNIGHTADDLIFE,lpObj->m_Index,skillSuccess);
; 1174 : 	//}
; 1175 : 	//else
; 1176 : 	//{
; 1177 : 	//	for(int n = 0; n < MAX_USER_IN_PARTY; n++)
; 1178 : 	//	{
; 1179 : 	//		if(ApplyPartyIndex[n]!= -1)
; 1180 : 	//		{
; 1181 : 	//			lpPartyObj = &gObj[ApplyPartyIndex[n]];
; 1182 : 	//			iaddlife = int(lpPartyObj->MaxLife) * iaddLifepower / 100;
; 1183 : 	//			gObjApplyBuffEffectDuration(lpPartyObj, AT_SWELL_LIFE, 4, iaddlife, 0, 0, iLifeTime); //season3 add-on
; 1184 : 	//			GCMagicAttackNumberSend(lpObj,AT_SKILL_KNIGHTADDLIFE,lpPartyObj->m_Index,skillSuccess);
; 1185 : 	//		}
; 1186 : 	//	}
; 1187 : 	//}
; 1188 : 
; 1189 : 	int skillSuccess = true;

  02809	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _skillSuccess$[ebp], 1

; 1190 : 	LPOBJ lpObj = &gObj[aIndex];

  02810	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02813	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02819	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0281f	89 45 f0	 mov	 DWORD PTR _lpObj$[ebp], eax

; 1191 : 
; 1192 : 	if (szAuthKey[14] != AUTHKEY14 )

  02822	0f be 05 0e 00
	00 00		 movsx	 eax, BYTE PTR ?szAuthKey@@3PADA+14
  02829	83 f8 e9	 cmp	 eax, -23		; ffffffe9H
  0282c	74 05		 je	 SHORT $LN28@KnightSkil

; 1193 : 	{
; 1194 : 		DestroyGIocp();

  0282e	e8 00 00 00 00	 call	 ?DestroyGIocp@@YAXXZ	; DestroyGIocp
$LN28@KnightSkil:

; 1195 : 	}
; 1196 : 
; 1197 : 	if(lpObj->Type != OBJ_USER && lpObj->m_RecallMon == -1)

  02833	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02836	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  0283a	83 f9 01	 cmp	 ecx, 1
  0283d	74 11		 je	 SHORT $LN27@KnightSkil
  0283f	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02842	83 b8 50 04 00
	00 ff		 cmp	 DWORD PTR [eax+1104], -1
  02849	75 05		 jne	 SHORT $LN27@KnightSkil

; 1198 : 	{
; 1199 : 		return;

  0284b	e9 5d 03 00 00	 jmp	 $LN29@KnightSkil
$LN27@KnightSkil:

; 1200 : 	}
; 1201 : 
; 1202 : 	if(lpObj->Class != CLASS_KNIGHT && lpObj->Class != CLASS_MAGUMSA)

  02850	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02853	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  0285a	83 f9 01	 cmp	 ecx, 1
  0285d	74 14		 je	 SHORT $LN26@KnightSkil
  0285f	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02862	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  02869	83 f9 03	 cmp	 ecx, 3
  0286c	74 05		 je	 SHORT $LN26@KnightSkil

; 1203 : 	{
; 1204 : 		return;

  0286e	e9 3a 03 00 00	 jmp	 $LN29@KnightSkil
$LN26@KnightSkil:

; 1205 : 	}
; 1206 : 
; 1207 : 	int number;
; 1208 : 	int partynum = 0;

  02873	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _partynum$[ebp], 0

; 1209 : 	int totallevel = 0;

  0287a	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _totallevel$[ebp], 0

; 1210 : 	int partycount;
; 1211 : 	int dis;
; 1212 : 
; 1213 : 	int ApplyPartyIndex[MAX_USER_IN_PARTY];
; 1214 : 
; 1215 : 	int viewplayer = 0;

  02881	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _viewplayer$[ebp], 0

; 1216 : 	int viewpercent = 0;

  02888	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR _viewpercent$[ebp], 0

; 1217 : 
; 1218 : 	LPOBJ lpPartyObj;
; 1219 : 
; 1220 : 	memset(ApplyPartyIndex,-1,sizeof(ApplyPartyIndex));

  0288f	6a 28		 push	 40			; 00000028H
  02891	6a ff		 push	 -1
  02893	8d 45 b4	 lea	 eax, DWORD PTR _ApplyPartyIndex$[ebp]
  02896	50		 push	 eax
  02897	e8 00 00 00 00	 call	 _memset
  0289c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1221 : 
; 1222 : 	partynum = lpObj->PartyNumber;

  0289f	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  028a2	8b 88 2c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1068]
  028a8	89 4d e8	 mov	 DWORD PTR _partynum$[ebp], ecx

; 1223 : 
; 1224 : 	if(partynum != -1)

  028ab	83 7d e8 ff	 cmp	 DWORD PTR _partynum$[ebp], -1
  028af	0f 84 ad 00 00
	00		 je	 $LN22@KnightSkil

; 1225 : 	{
; 1226 : 		partycount = gParty.m_PartyS[partynum].Count;

  028b5	8b 45 e8	 mov	 eax, DWORD PTR _partynum$[ebp]
  028b8	6b c0 6c	 imul	 eax, 108		; 0000006cH
  028bb	8b 88 08 00 00
	00		 mov	 ecx, DWORD PTR ?gParty@@3VPartyClass@@A[eax+8]
  028c1	89 4d e0	 mov	 DWORD PTR _partycount$[ebp], ecx

; 1227 : 
; 1228 : 		for(int n = 0; n < MAX_USER_IN_PARTY; n++)

  028c4	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _n$240284[ebp], 0
  028cb	eb 09		 jmp	 SHORT $LN24@KnightSkil
$LN23@KnightSkil:
  028cd	8b 45 a4	 mov	 eax, DWORD PTR _n$240284[ebp]
  028d0	83 c0 01	 add	 eax, 1
  028d3	89 45 a4	 mov	 DWORD PTR _n$240284[ebp], eax
$LN24@KnightSkil:
  028d6	83 7d a4 0a	 cmp	 DWORD PTR _n$240284[ebp], 10 ; 0000000aH
  028da	0f 8d 82 00 00
	00		 jge	 $LN22@KnightSkil

; 1229 : 		{
; 1230 : 			number = gParty.m_PartyS[partynum].Number[n];

  028e0	8b 45 e8	 mov	 eax, DWORD PTR _partynum$[ebp]
  028e3	6b c0 6c	 imul	 eax, 108		; 0000006cH
  028e6	8b 4d a4	 mov	 ecx, DWORD PTR _n$240284[ebp]
  028e9	8b 94 88 0c 00
	00 00		 mov	 edx, DWORD PTR ?gParty@@3VPartyClass@@A[eax+ecx*4+12]
  028f0	89 55 ec	 mov	 DWORD PTR _number$[ebp], edx

; 1231 : 
; 1232 : 			if(number >= 0)

  028f3	83 7d ec 00	 cmp	 DWORD PTR _number$[ebp], 0
  028f7	7c 64		 jl	 SHORT $LN19@KnightSkil

; 1233 : 			{
; 1234 : 				lpPartyObj = &gObj[number];

  028f9	8b 45 ec	 mov	 eax, DWORD PTR _number$[ebp]
  028fc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02902	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02908	89 45 a8	 mov	 DWORD PTR _lpPartyObj$[ebp], eax

; 1235 : 
; 1236 : 				if(lpObj->MapNumber == lpPartyObj->MapNumber)

  0290b	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0290e	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  02915	8b 55 a8	 mov	 edx, DWORD PTR _lpPartyObj$[ebp]
  02918	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0291f	3b c8		 cmp	 ecx, eax
  02921	75 3a		 jne	 SHORT $LN19@KnightSkil

; 1237 : 				{
; 1238 : 					dis = gObjCalDistance(lpObj,&gObj[number]);

  02923	8b 45 ec	 mov	 eax, DWORD PTR _number$[ebp]
  02926	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0292c	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02932	50		 push	 eax
  02933	8b 4d f0	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02936	51		 push	 ecx
  02937	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  0293c	83 c4 08	 add	 esp, 8
  0293f	89 45 dc	 mov	 DWORD PTR _dis$[ebp], eax

; 1239 : 
; 1240 : 					if(dis < 10)

  02942	83 7d dc 0a	 cmp	 DWORD PTR _dis$[ebp], 10 ; 0000000aH
  02946	7d 15		 jge	 SHORT $LN19@KnightSkil

; 1241 : 					{
; 1242 : 						ApplyPartyIndex[n] = lpPartyObj->m_Index;

  02948	8b 45 a4	 mov	 eax, DWORD PTR _n$240284[ebp]
  0294b	8b 4d a8	 mov	 ecx, DWORD PTR _lpPartyObj$[ebp]
  0294e	8b 11		 mov	 edx, DWORD PTR [ecx]
  02950	89 54 85 b4	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+eax*4], edx

; 1243 : 						viewplayer++;

  02954	8b 45 b0	 mov	 eax, DWORD PTR _viewplayer$[ebp]
  02957	83 c0 01	 add	 eax, 1
  0295a	89 45 b0	 mov	 DWORD PTR _viewplayer$[ebp], eax
$LN19@KnightSkil:

; 1244 : 					}
; 1245 : 				}
; 1246 : 			}
; 1247 : 		}

  0295d	e9 6b ff ff ff	 jmp	 $LN23@KnightSkil
$LN22@KnightSkil:

; 1248 : 	}
; 1249 : 
; 1250 : 	if(viewplayer > 1)

  02962	83 7d b0 01	 cmp	 DWORD PTR _viewplayer$[ebp], 1
  02966	7e 34		 jle	 SHORT $LN12@KnightSkil

; 1251 : 	{
; 1252 : 		if(viewplayer == 2)

  02968	83 7d b0 02	 cmp	 DWORD PTR _viewplayer$[ebp], 2
  0296c	75 09		 jne	 SHORT $LN17@KnightSkil

; 1253 : 		{
; 1254 : 			viewpercent = 1;

  0296e	c7 45 ac 01 00
	00 00		 mov	 DWORD PTR _viewpercent$[ebp], 1
  02975	eb 25		 jmp	 SHORT $LN12@KnightSkil
$LN17@KnightSkil:

; 1255 : 		}
; 1256 : 		else if(viewplayer == 3)

  02977	83 7d b0 03	 cmp	 DWORD PTR _viewplayer$[ebp], 3
  0297b	75 09		 jne	 SHORT $LN15@KnightSkil

; 1257 : 		{
; 1258 : 			viewpercent = 2;

  0297d	c7 45 ac 02 00
	00 00		 mov	 DWORD PTR _viewpercent$[ebp], 2
  02984	eb 16		 jmp	 SHORT $LN12@KnightSkil
$LN15@KnightSkil:

; 1259 : 		}
; 1260 : 		else if(viewplayer == 4)

  02986	83 7d b0 04	 cmp	 DWORD PTR _viewplayer$[ebp], 4
  0298a	75 09		 jne	 SHORT $LN13@KnightSkil

; 1261 : 		{
; 1262 : 			viewpercent = 3;

  0298c	c7 45 ac 03 00
	00 00		 mov	 DWORD PTR _viewpercent$[ebp], 3

; 1263 : 		}
; 1264 : 		else

  02993	eb 07		 jmp	 SHORT $LN12@KnightSkil
$LN13@KnightSkil:

; 1265 : 		{
; 1266 : 			viewpercent = 4;

  02995	c7 45 ac 04 00
	00 00		 mov	 DWORD PTR _viewpercent$[ebp], 4
$LN12@KnightSkil:

; 1267 : 		}
; 1268 : 	}
; 1269 : 	int iaddlife;
; 1270 : 	int iaddLifepower	= g_SkillAdditionInfo.SwellLifeEffectStart + (lpObj->Vitality + lpObj->AddVitality) / g_SkillAdditionInfo.SwellLifeEffectDiv1 + (lpObj->Energy + lpObj->AddEnergy)/ g_SkillAdditionInfo.SwellLifeEffectDiv2 + viewpercent;

  0299c	0f b7 0d 70 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2928
  029a3	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  029a6	0f b7 82 f8 00
	00 00		 movzx	 eax, WORD PTR [edx+248]
  029ad	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  029b0	0f bf 92 24 01
	00 00		 movsx	 edx, WORD PTR [edx+292]
  029b7	03 c2		 add	 eax, edx
  029b9	0f b7 35 72 0b
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2930
  029c0	99		 cdq
  029c1	f7 fe		 idiv	 esi
  029c3	03 c8		 add	 ecx, eax
  029c5	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  029c8	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  029cf	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  029d2	0f bf 92 26 01
	00 00		 movsx	 edx, WORD PTR [edx+294]
  029d9	03 c2		 add	 eax, edx
  029db	0f b7 35 74 0b
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2932
  029e2	99		 cdq
  029e3	f7 fe		 idiv	 esi
  029e5	03 4d ac	 add	 ecx, DWORD PTR _viewpercent$[ebp]
  029e8	03 c1		 add	 eax, ecx
  029ea	89 45 9c	 mov	 DWORD PTR _iaddLifepower$[ebp], eax

; 1271 : 
; 1272 : 	if( g_SkillAdditionInfo.SwellLifeEffectMax > 0 && iaddLifepower > g_SkillAdditionInfo.SwellLifeEffectMax )

  029ed	83 3d 78 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2936, 0
  029f4	76 13		 jbe	 SHORT $LN11@KnightSkil
  029f6	8b 45 9c	 mov	 eax, DWORD PTR _iaddLifepower$[ebp]
  029f9	3b 05 78 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2936
  029ff	76 08		 jbe	 SHORT $LN11@KnightSkil

; 1273 : 	{
; 1274 : 		iaddLifepower = g_SkillAdditionInfo.SwellLifeEffectMax;

  02a01	a1 78 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2936
  02a06	89 45 9c	 mov	 DWORD PTR _iaddLifepower$[ebp], eax
$LN11@KnightSkil:

; 1275 : 	}
; 1276 : 
; 1277 : 	int iLifeTime		= g_SkillAdditionInfo.SwellLifeTimeStart + (lpObj->Energy + lpObj->AddEnergy) / g_SkillAdditionInfo.SwellLifeTimeDiv;

  02a09	0f b7 0d 7c 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2940
  02a10	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02a13	0f b7 82 fa 00
	00 00		 movzx	 eax, WORD PTR [edx+250]
  02a1a	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02a1d	0f bf 92 26 01
	00 00		 movsx	 edx, WORD PTR [edx+294]
  02a24	03 c2		 add	 eax, edx
  02a26	0f b7 35 7e 0b
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2942
  02a2d	99		 cdq
  02a2e	f7 fe		 idiv	 esi
  02a30	03 c8		 add	 ecx, eax
  02a32	89 4d 98	 mov	 DWORD PTR _iLifeTime$[ebp], ecx

; 1278 : 
; 1279 : 	if( g_SkillAdditionInfo.SwellLifeTimeMax > 0 && iLifeTime > g_SkillAdditionInfo.SwellLifeTimeMax )

  02a35	83 3d 80 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2944, 0
  02a3c	76 13		 jbe	 SHORT $LN10@KnightSkil
  02a3e	8b 45 98	 mov	 eax, DWORD PTR _iLifeTime$[ebp]
  02a41	3b 05 80 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2944
  02a47	76 08		 jbe	 SHORT $LN10@KnightSkil

; 1280 : 	{
; 1281 : 		iLifeTime = g_SkillAdditionInfo.SwellLifeTimeMax;

  02a49	a1 80 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2944
  02a4e	89 45 98	 mov	 DWORD PTR _iLifeTime$[ebp], eax
$LN10@KnightSkil:

; 1282 : 	}
; 1283 : 	// ----
; 1284 : 	if(partynum == -1)

  02a51	83 7d e8 ff	 cmp	 DWORD PTR _partynum$[ebp], -1
  02a55	0f 85 c3 00 00
	00		 jne	 $LN9@KnightSkil

; 1285 : 	{
; 1286 : #ifdef PRIDEMU_CONFIG
; 1287 : 		if(g_ExLicense.CheckUser(eExUB::PrideMuLocal) || g_ExLicense.CheckUser(eExUB::PrideMu) || g_ExLicense.CheckUser(eExUB::Local3))

  02a5b	6a 1a		 push	 26			; 0000001aH
  02a5d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  02a62	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  02a67	0f b6 c0	 movzx	 eax, al
  02a6a	85 c0		 test	 eax, eax
  02a6c	75 26		 jne	 SHORT $LN7@KnightSkil
  02a6e	6a 11		 push	 17			; 00000011H
  02a70	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  02a75	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  02a7a	0f b6 c0	 movzx	 eax, al
  02a7d	85 c0		 test	 eax, eax
  02a7f	75 13		 jne	 SHORT $LN7@KnightSkil
  02a81	6a 1c		 push	 28			; 0000001cH
  02a83	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  02a88	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  02a8d	0f b6 c0	 movzx	 eax, al
  02a90	85 c0		 test	 eax, eax
  02a92	74 33		 je	 SHORT $LN8@KnightSkil
$LN7@KnightSkil:

; 1288 : 		{
; 1289 : 			iaddlife = int(lpObj->MaxLife) * iaddLifepower / 100;

  02a94	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02a97	d9 80 00 01 00
	00		 fld	 DWORD PTR [eax+256]
  02a9d	e8 00 00 00 00	 call	 __ftol2_sse
  02aa2	0f af 45 9c	 imul	 eax, DWORD PTR _iaddLifepower$[ebp]
  02aa6	99		 cdq
  02aa7	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  02aac	f7 f9		 idiv	 ecx
  02aae	89 45 a0	 mov	 DWORD PTR _iaddlife$[ebp], eax

; 1290 : 			iaddlife *= ExConfig.PrideMu.Fortitude / 100;

  02ab1	a1 6c 0b 00 00	 mov	 eax, DWORD PTR ?ExConfig@@3VcExConfigs@@A+2924
  02ab6	99		 cdq
  02ab7	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  02abc	f7 f9		 idiv	 ecx
  02abe	0f af 45 a0	 imul	 eax, DWORD PTR _iaddlife$[ebp]
  02ac2	89 45 a0	 mov	 DWORD PTR _iaddlife$[ebp], eax

; 1291 : 		}
; 1292 : 		else

  02ac5	eb 1d		 jmp	 SHORT $LN6@KnightSkil
$LN8@KnightSkil:

; 1293 : 		{
; 1294 : 			iaddlife = int(lpObj->MaxLife) * iaddLifepower / 100;

  02ac7	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02aca	d9 80 00 01 00
	00		 fld	 DWORD PTR [eax+256]
  02ad0	e8 00 00 00 00	 call	 __ftol2_sse
  02ad5	0f af 45 9c	 imul	 eax, DWORD PTR _iaddLifepower$[ebp]
  02ad9	99		 cdq
  02ada	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  02adf	f7 f9		 idiv	 ecx
  02ae1	89 45 a0	 mov	 DWORD PTR _iaddlife$[ebp], eax
$LN6@KnightSkil:

; 1295 : 		}
; 1296 : #else
; 1297 : 		iaddlife = int(lpObj->MaxLife) * iaddLifepower / 100;
; 1298 : #endif
; 1299 : 		gObjApplyBuffEffectDuration(lpObj, AT_SWELL_LIFE, 4, iaddlife, 0, 0, iLifeTime);

  02ae4	8b 45 98	 mov	 eax, DWORD PTR _iLifeTime$[ebp]
  02ae7	50		 push	 eax
  02ae8	6a 00		 push	 0
  02aea	6a 00		 push	 0
  02aec	8b 4d a0	 mov	 ecx, DWORD PTR _iaddlife$[ebp]
  02aef	51		 push	 ecx
  02af0	6a 04		 push	 4
  02af2	6a 08		 push	 8
  02af4	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02af7	52		 push	 edx
  02af8	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  02afd	83 c4 1c	 add	 esp, 28			; 0000001cH

; 1300 : 		GCMagicAttackNumberSend(lpObj,AT_SKILL_KNIGHTADDLIFE,lpObj->m_Index,skillSuccess);

  02b00	0f b6 45 f4	 movzx	 eax, BYTE PTR _skillSuccess$[ebp]
  02b04	50		 push	 eax
  02b05	8b 4d f0	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02b08	8b 11		 mov	 edx, DWORD PTR [ecx]
  02b0a	52		 push	 edx
  02b0b	6a 30		 push	 48			; 00000030H
  02b0d	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02b10	50		 push	 eax
  02b11	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  02b16	83 c4 10	 add	 esp, 16			; 00000010H

; 1301 : 	}
; 1302 : 	else

  02b19	e9 8f 00 00 00	 jmp	 $LN2@KnightSkil
$LN9@KnightSkil:

; 1303 : 	{
; 1304 : 		for(int n = 0; n < MAX_USER_IN_PARTY; n++)

  02b1e	c7 45 94 00 00
	00 00		 mov	 DWORD PTR _n$240308[ebp], 0
  02b25	eb 09		 jmp	 SHORT $LN4@KnightSkil
$LN3@KnightSkil:
  02b27	8b 45 94	 mov	 eax, DWORD PTR _n$240308[ebp]
  02b2a	83 c0 01	 add	 eax, 1
  02b2d	89 45 94	 mov	 DWORD PTR _n$240308[ebp], eax
$LN4@KnightSkil:
  02b30	83 7d 94 0a	 cmp	 DWORD PTR _n$240308[ebp], 10 ; 0000000aH
  02b34	7d 77		 jge	 SHORT $LN2@KnightSkil

; 1305 : 		{
; 1306 : 			if(ApplyPartyIndex[n]!= -1)

  02b36	8b 45 94	 mov	 eax, DWORD PTR _n$240308[ebp]
  02b39	83 7c 85 b4 ff	 cmp	 DWORD PTR _ApplyPartyIndex$[ebp+eax*4], -1
  02b3e	74 68		 je	 SHORT $LN1@KnightSkil

; 1307 : 			{
; 1308 : 				lpPartyObj = &gObj[ApplyPartyIndex[n]];

  02b40	8b 45 94	 mov	 eax, DWORD PTR _n$240308[ebp]
  02b43	8b 4c 85 b4	 mov	 ecx, DWORD PTR _ApplyPartyIndex$[ebp+eax*4]
  02b47	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  02b4d	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02b53	89 4d a8	 mov	 DWORD PTR _lpPartyObj$[ebp], ecx

; 1309 : 				iaddlife = int(lpPartyObj->MaxLife) * iaddLifepower / 100;

  02b56	8b 45 a8	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  02b59	d9 80 00 01 00
	00		 fld	 DWORD PTR [eax+256]
  02b5f	e8 00 00 00 00	 call	 __ftol2_sse
  02b64	0f af 45 9c	 imul	 eax, DWORD PTR _iaddLifepower$[ebp]
  02b68	99		 cdq
  02b69	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  02b6e	f7 f9		 idiv	 ecx
  02b70	89 45 a0	 mov	 DWORD PTR _iaddlife$[ebp], eax

; 1310 : 
; 1311 : 				gObjApplyBuffEffectDuration(lpPartyObj, AT_SWELL_LIFE, 4, iaddlife, 0, 0, iLifeTime); //season3 add-on

  02b73	8b 45 98	 mov	 eax, DWORD PTR _iLifeTime$[ebp]
  02b76	50		 push	 eax
  02b77	6a 00		 push	 0
  02b79	6a 00		 push	 0
  02b7b	8b 4d a0	 mov	 ecx, DWORD PTR _iaddlife$[ebp]
  02b7e	51		 push	 ecx
  02b7f	6a 04		 push	 4
  02b81	6a 08		 push	 8
  02b83	8b 55 a8	 mov	 edx, DWORD PTR _lpPartyObj$[ebp]
  02b86	52		 push	 edx
  02b87	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  02b8c	83 c4 1c	 add	 esp, 28			; 0000001cH

; 1312 : 				GCMagicAttackNumberSend(lpObj,AT_SKILL_KNIGHTADDLIFE,lpPartyObj->m_Index,skillSuccess);

  02b8f	0f b6 45 f4	 movzx	 eax, BYTE PTR _skillSuccess$[ebp]
  02b93	50		 push	 eax
  02b94	8b 4d a8	 mov	 ecx, DWORD PTR _lpPartyObj$[ebp]
  02b97	8b 11		 mov	 edx, DWORD PTR [ecx]
  02b99	52		 push	 edx
  02b9a	6a 30		 push	 48			; 00000030H
  02b9c	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02b9f	50		 push	 eax
  02ba0	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  02ba5	83 c4 10	 add	 esp, 16			; 00000010H
$LN1@KnightSkil:

; 1313 : 			}
; 1314 : 		}

  02ba8	e9 7a ff ff ff	 jmp	 $LN3@KnightSkil
$LN2@KnightSkil:
$LN29@KnightSkil:

; 1315 : 	}
; 1316 : }

  02bad	5f		 pop	 edi
  02bae	5e		 pop	 esi
  02baf	5b		 pop	 ebx
  02bb0	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02bb3	33 cd		 xor	 ecx, ebp
  02bb5	e8 00 00 00 00	 call	 @__security_check_cookie@4
  02bba	8b e5		 mov	 esp, ebp
  02bbc	5d		 pop	 ebp
  02bbd	c2 08 00	 ret	 8
?KnightSkillAddLife@CObjUseSkill@@QAEXHH@Z ENDP		; CObjUseSkill::KnightSkillAddLife
; Function compile flags: /Odtp /ZI
_WizardSkillDefenseTime$ = -28				; size = 4
_WizardSkillDefense$ = -24				; size = 4
_WizardManaRate$ = -20					; size = 4
_lpTargetObj$ = -16					; size = 4
_lpObj$ = -12						; size = 4
_skillSuccess$ = -8					; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_skill_level$ = 16					; size = 4
?WizardMagicDefense@CObjUseSkill@@QAEXHHH@Z PROC	; CObjUseSkill::WizardMagicDefense
; _this$ = ecx

; 1320 : {

  02bc0	55		 push	 ebp
  02bc1	8b ec		 mov	 ebp, esp
  02bc3	83 ec 5c	 sub	 esp, 92			; 0000005cH
  02bc6	53		 push	 ebx
  02bc7	56		 push	 esi
  02bc8	57		 push	 edi
  02bc9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1321 : 	//int skillSuccess = true;
; 1322 : 
; 1323 : 	//LPOBJ lpObj = &gObj[aIndex];
; 1324 : 	//LPOBJ lpTargetObj = &gObj[aTargetIndex];
; 1325 : 
; 1326 : 	//if(lpObj->Type != OBJ_USER && lpObj->m_RecallMon== -1)
; 1327 : 	//{
; 1328 : 	//	return;
; 1329 : 	//}
; 1330 : 
; 1331 : 	//if(lpObj->Class != CLASS_WIZARD && lpObj->Class != CLASS_MAGUMSA)
; 1332 : 	//{
; 1333 : 	//	return;
; 1334 : 	//}
; 1335 : 
; 1336 : 	//if(lpObj->PartyNumber != lpTargetObj->PartyNumber)
; 1337 : 	//{
; 1338 : 	//	return;
; 1339 : 	//}
; 1340 : 
; 1341 : 	//int WizardSkillDefense = 0;
; 1342 : 	//int WizardSkillDefenseTime = 0;
; 1343 : 
; 1344 : 	////int ExMSStartPower = GetPrivateProfileInt("DarkWizard","MSStartPower",10,"..\\Data\\ExData\\Skills.ini");
; 1345 : 	////int ExMSAgility = GetPrivateProfileInt("DarkWizard","MSAgility",50,"..\\Data\\ExData\\Skills.ini");
; 1346 : 	////int ExMSEnergy = GetPrivateProfileInt("DarkWizard","MSEnergy",200,"..\\Data\\ExData\\Skills.ini");
; 1347 : 	////int ExMSMaxPower = GetPrivateProfileInt("DarkWizard","MSMaxPower",50,"..\\Data\\ExData\\Skills.ini");
; 1348 : 
; 1349 : 	//WizardSkillDefense = ExConfig.Skills.ExMSStartPower + (lpObj->Dexterity + lpObj->AddDexterity) / ExConfig.Skills.ExMSAgility + (lpObj->Energy + lpObj->AddEnergy) / ExConfig.Skills.ExMSEnergy;
; 1350 : 	//WizardSkillDefenseTime = 60 + (lpObj->Energy + lpObj->AddEnergy) / 40;
; 1351 : 
; 1352 : 	//if(WizardSkillDefense > ExConfig.Skills.ExMSMaxPower)
; 1353 : 	//	WizardSkillDefense = ExConfig.Skills.ExMSMaxPower;
; 1354 : 
; 1355 : 	//gObjApplyBuffEffectDuration(lpTargetObj, AT_WIZARD_DEFENSE, 21, WizardSkillDefense, 28, 20, WizardSkillDefenseTime); //season3 add-on
; 1356 : 	//GCMagicAttackNumberSend(lpObj,AT_SKILL_MAGICDEFENSE,lpTargetObj->m_Index,skillSuccess);
; 1357 : 
; 1358 : 	int skillSuccess	= true;

  02bcc	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _skillSuccess$[ebp], 1

; 1359 : 	// ----
; 1360 : 	LPOBJ lpObj			= &gObj[aIndex];

  02bd3	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02bd6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02bdc	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02be2	89 45 f4	 mov	 DWORD PTR _lpObj$[ebp], eax

; 1361 : 	LPOBJ lpTargetObj	= &gObj[aTargetIndex];

  02be5	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  02be8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02bee	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02bf4	89 45 f0	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 1362 : 	// ----
; 1363 : 	if( lpObj->Type != OBJ_USER && lpObj->m_RecallMon == -1 )

  02bf7	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02bfa	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  02bfe	83 f9 01	 cmp	 ecx, 1
  02c01	74 11		 je	 SHORT $LN5@WizardMagi
  02c03	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02c06	83 b8 50 04 00
	00 ff		 cmp	 DWORD PTR [eax+1104], -1
  02c0d	75 05		 jne	 SHORT $LN5@WizardMagi

; 1364 : 	{
; 1365 : 		return;

  02c0f	e9 2b 01 00 00	 jmp	 $LN6@WizardMagi
$LN5@WizardMagi:

; 1366 : 	}
; 1367 : 	// ----
; 1368 : 	if( lpObj->Class != CLASS_WIZARD && lpObj->Class != CLASS_MAGUMSA )

  02c14	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02c17	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  02c1e	85 c9		 test	 ecx, ecx
  02c20	74 14		 je	 SHORT $LN4@WizardMagi
  02c22	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02c25	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  02c2c	83 f9 03	 cmp	 ecx, 3
  02c2f	74 05		 je	 SHORT $LN4@WizardMagi

; 1369 : 	{
; 1370 : 		return;

  02c31	e9 09 01 00 00	 jmp	 $LN6@WizardMagi
$LN4@WizardMagi:

; 1371 : 	}
; 1372 : 	// ----
; 1373 : 	if( lpObj->PartyNumber != lpTargetObj->PartyNumber )

  02c36	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02c39	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  02c3c	8b 90 2c 04 00
	00		 mov	 edx, DWORD PTR [eax+1068]
  02c42	3b 91 2c 04 00
	00		 cmp	 edx, DWORD PTR [ecx+1068]
  02c48	74 05		 je	 SHORT $LN3@WizardMagi

; 1374 : 	{
; 1375 : 		return;

  02c4a	e9 f0 00 00 00	 jmp	 $LN6@WizardMagi
$LN3@WizardMagi:

; 1376 : 	}
; 1377 : 	// ----
; 1378 : 	int WizardManaRate			= 20;

  02c4f	c7 45 ec 14 00
	00 00		 mov	 DWORD PTR _WizardManaRate$[ebp], 20 ; 00000014H

; 1379 : 	int WizardSkillDefense		= g_SkillAdditionInfo.SoulBarrierDefenseStart + ((lpObj->Dexterity + lpObj->AddDexterity) / g_SkillAdditionInfo.SoulBarrierDefenseDiv1) + ((lpObj->Energy + lpObj->AddEnergy) / g_SkillAdditionInfo.SoulBarrierDefenseDiv2);

  02c56	0f b7 0d 4c 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2892
  02c5d	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02c60	0f b7 82 f6 00
	00 00		 movzx	 eax, WORD PTR [edx+246]
  02c67	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02c6a	0f bf 92 22 01
	00 00		 movsx	 edx, WORD PTR [edx+290]
  02c71	03 c2		 add	 eax, edx
  02c73	0f b7 35 4e 0b
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2894
  02c7a	99		 cdq
  02c7b	f7 fe		 idiv	 esi
  02c7d	03 c8		 add	 ecx, eax
  02c7f	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02c82	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  02c89	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02c8c	0f bf 92 26 01
	00 00		 movsx	 edx, WORD PTR [edx+294]
  02c93	03 c2		 add	 eax, edx
  02c95	0f b7 35 50 0b
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2896
  02c9c	99		 cdq
  02c9d	f7 fe		 idiv	 esi
  02c9f	03 c8		 add	 ecx, eax
  02ca1	89 4d e8	 mov	 DWORD PTR _WizardSkillDefense$[ebp], ecx

; 1380 : 	// ----
; 1381 : 	if( g_SkillAdditionInfo.SoulBarrierDefenseMax > 0 && WizardSkillDefense > g_SkillAdditionInfo.SoulBarrierDefenseMax )

  02ca4	83 3d 54 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2900, 0
  02cab	76 13		 jbe	 SHORT $LN2@WizardMagi
  02cad	8b 45 e8	 mov	 eax, DWORD PTR _WizardSkillDefense$[ebp]
  02cb0	3b 05 54 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2900
  02cb6	76 08		 jbe	 SHORT $LN2@WizardMagi

; 1382 : 	{
; 1383 : 		WizardSkillDefense = g_SkillAdditionInfo.SoulBarrierDefenseMax;

  02cb8	a1 54 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2900
  02cbd	89 45 e8	 mov	 DWORD PTR _WizardSkillDefense$[ebp], eax
$LN2@WizardMagi:

; 1384 : 	}
; 1385 : 	// ----
; 1386 : 	int WizardSkillDefenseTime	= g_SkillAdditionInfo.SoulBarrierTimeStart + (lpObj->Energy + lpObj->AddEnergy) / g_SkillAdditionInfo.SoulBarrierTimeDiv;

  02cc0	0f b7 0d 58 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2904
  02cc7	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02cca	0f b7 82 fa 00
	00 00		 movzx	 eax, WORD PTR [edx+250]
  02cd1	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02cd4	0f bf 92 26 01
	00 00		 movsx	 edx, WORD PTR [edx+294]
  02cdb	03 c2		 add	 eax, edx
  02cdd	0f b7 35 5a 0b
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2906
  02ce4	99		 cdq
  02ce5	f7 fe		 idiv	 esi
  02ce7	03 c8		 add	 ecx, eax
  02ce9	89 4d e4	 mov	 DWORD PTR _WizardSkillDefenseTime$[ebp], ecx

; 1387 : 	// ----
; 1388 : 	if( g_SkillAdditionInfo.SoulBarrierTimeMax > 0 && WizardSkillDefenseTime > g_SkillAdditionInfo.SoulBarrierTimeMax )

  02cec	83 3d 5c 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2908, 0
  02cf3	76 13		 jbe	 SHORT $LN1@WizardMagi
  02cf5	8b 45 e4	 mov	 eax, DWORD PTR _WizardSkillDefenseTime$[ebp]
  02cf8	3b 05 5c 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2908
  02cfe	76 08		 jbe	 SHORT $LN1@WizardMagi

; 1389 : 	{
; 1390 : 		WizardSkillDefenseTime = g_SkillAdditionInfo.SoulBarrierTimeMax;

  02d00	a1 5c 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2908
  02d05	89 45 e4	 mov	 DWORD PTR _WizardSkillDefenseTime$[ebp], eax
$LN1@WizardMagi:

; 1391 : 	}
; 1392 : 
; 1393 : 	//LogAddC(2,"WizardSkillDefense: %d.",WizardSkillDefense);
; 1394 : 
; 1395 : 	// ----
; 1396 : 	gObjApplyBuffEffectDuration(lpTargetObj, AT_WIZARD_DEFENSE, 21, WizardSkillDefense, 28, WizardManaRate, WizardSkillDefenseTime);

  02d08	8b 45 e4	 mov	 eax, DWORD PTR _WizardSkillDefenseTime$[ebp]
  02d0b	50		 push	 eax
  02d0c	8b 4d ec	 mov	 ecx, DWORD PTR _WizardManaRate$[ebp]
  02d0f	51		 push	 ecx
  02d10	6a 1c		 push	 28			; 0000001cH
  02d12	8b 55 e8	 mov	 edx, DWORD PTR _WizardSkillDefense$[ebp]
  02d15	52		 push	 edx
  02d16	6a 15		 push	 21			; 00000015H
  02d18	6a 04		 push	 4
  02d1a	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  02d1d	50		 push	 eax
  02d1e	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  02d23	83 c4 1c	 add	 esp, 28			; 0000001cH

; 1397 : 	GCMagicAttackNumberSend(lpObj, AT_SKILL_MAGICDEFENSE, lpTargetObj->m_Index, skillSuccess);

  02d26	0f b6 45 f8	 movzx	 eax, BYTE PTR _skillSuccess$[ebp]
  02d2a	50		 push	 eax
  02d2b	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  02d2e	8b 11		 mov	 edx, DWORD PTR [ecx]
  02d30	52		 push	 edx
  02d31	6a 10		 push	 16			; 00000010H
  02d33	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02d36	50		 push	 eax
  02d37	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  02d3c	83 c4 10	 add	 esp, 16			; 00000010H
$LN6@WizardMagi:

; 1398 : }

  02d3f	5f		 pop	 edi
  02d40	5e		 pop	 esi
  02d41	5b		 pop	 ebx
  02d42	8b e5		 mov	 esp, ebp
  02d44	5d		 pop	 ebp
  02d45	c2 0c 00	 ret	 12			; 0000000cH
?WizardMagicDefense@CObjUseSkill@@QAEXHHH@Z ENDP	; CObjUseSkill::WizardMagicDefense
_TEXT	ENDS
PUBLIC	__real@4024000000000000
EXTRN	?IncAgro@TMonsterAIAgro@@QAEHHH@Z:PROC		; TMonsterAIAgro::IncAgro
EXTRN	?gObjCheckBuffEffectValue@@YAEPAUOBJECTSTRUCT@@HHH@Z:PROC ; gObjCheckBuffEffectValue
;	COMDAT __real@4024000000000000
CONST	SEGMENT
__real@4024000000000000 DQ 04024000000000000r	; 10
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv234 = -108						; size = 4
tv246 = -104						; size = 8
tv238 = -104						; size = 8
tv225 = -104						; size = 4
tv86 = -104						; size = 4
tv224 = -100						; size = 4
tv87 = -100						; size = 4
_lpMonster$240354 = -32					; size = 4
_n$240349 = -28						; size = 4
_skill_defense$ = -24					; size = 4
_Duration$ = -20					; size = 4
_lpTargetObj$ = -16					; size = 4
_lpObj$ = -12						; size = 4
_skillSuccess$ = -8					; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_skill_level$ = 16					; size = 4
?SkillDefense@CObjUseSkill@@QAEXHHH@Z PROC		; CObjUseSkill::SkillDefense
; _this$ = ecx

; 1401 : {

  02d50	55		 push	 ebp
  02d51	8b ec		 mov	 ebp, esp
  02d53	83 ec 6c	 sub	 esp, 108		; 0000006cH
  02d56	53		 push	 ebx
  02d57	56		 push	 esi
  02d58	57		 push	 edi
  02d59	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1402 : 	//int skillSuccess = true;
; 1403 : 	//LPOBJ lpObj = &gObj[aIndex];
; 1404 : 	//LPOBJ lpTargetObj = &gObj[aTargetIndex];
; 1405 : 
; 1406 : 	//if(lpTargetObj->Type != OBJ_USER && lpTargetObj->m_RecallMon == -1)
; 1407 : 	//{
; 1408 : 	//	return;
; 1409 : 	//}
; 1410 : 
; 1411 : 	//if(lpObj->Class != CLASS_ELF)
; 1412 : 	//{
; 1413 : 	//	return;
; 1414 : 	//}
; 1415 : 
; 1416 : 	//if(CC_MAP_RANGE(lpObj->MapNumber) && lpObj->m_Index != lpTargetObj->m_Index)
; 1417 : 	//{
; 1418 : 	//	return;
; 1419 : 	//}
; 1420 : 
; 1421 : 	//if(skill_level < 0 || skill_level > 7)
; 1422 : 	//{
; 1423 : 	//	skill_level = 0;
; 1424 : 	//}
; 1425 : 	////int ExDefenceEnergy = GetPrivateProfileInt("Elf","DefenceEnergy",8,"..\\Data\\ExData\\Skills.ini");
; 1426 : 	//float skill_defense = float(skill_level + 1)*2 + (lpObj->Energy + lpObj->AddEnergy) / ExConfig.Skills.ExDefenceEnergy;
; 1427 : 
; 1428 : 	//if(lpTargetObj->Class == CLASS_KNIGHT)
; 1429 : 	//{
; 1430 : 	//	skill_defense += skill_defense/10.0f;
; 1431 : 	//}
; 1432 : 
; 1433 : 	//if(gObjCheckBuffEffectValue(lpTargetObj, AT_INCREASE_DEFENSE, (int)skill_defense, 0) == 1) //season3 add-on
; 1434 : 	//{
; 1435 : 	//	GCMagicAttackNumberSend(lpObj,AT_SKILL_DEFENSE,lpTargetObj->m_Index,0);
; 1436 : 	//	return;
; 1437 : 	//}
; 1438 : 
; 1439 : 	//gObjApplyBuffEffectDuration(lpTargetObj, AT_INCREASE_DEFENSE, 3, (int)skill_defense, 0, 0, 60); //season3 add-on
; 1440 : 
; 1441 : 	//for(int n = 0; n < MAX_VIEWPORT; n++)
; 1442 : 	//{
; 1443 : 	//	if(lpObj->VpPlayer2[n].type == OBJ_MONSTER && lpObj->VpPlayer2[n].state != 0)
; 1444 : 	//	{
; 1445 : 	//		LPOBJ lpMonster = &gObj[lpObj->VpPlayer2[n].number];
; 1446 : 	//		if(lpMonster->m_iCurrentAI != 0)
; 1447 : 	//		{
; 1448 : 	//			lpMonster->m_Agro.IncAgro(lpObj->m_Index,int(skill_defense)/10);
; 1449 : 	//		}
; 1450 : 	//	}
; 1451 : 	//}
; 1452 : 
; 1453 : 	//GCMagicAttackNumberSend(lpObj,AT_SKILL_DEFENSE,lpTargetObj->m_Index,skillSuccess);
; 1454 : 	
; 1455 : 	int skillSuccess = true;

  02d5c	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _skillSuccess$[ebp], 1

; 1456 : 	LPOBJ lpObj = &gObj[aIndex];

  02d63	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02d66	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02d6c	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02d72	89 45 f4	 mov	 DWORD PTR _lpObj$[ebp], eax

; 1457 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  02d75	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  02d78	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02d7e	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02d84	89 45 f0	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 1458 : 
; 1459 : 	if(lpTargetObj->Type != OBJ_USER && lpTargetObj->m_RecallMon == -1)

  02d87	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  02d8a	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  02d8e	83 f9 01	 cmp	 ecx, 1
  02d91	74 11		 je	 SHORT $LN13@SkillDefen
  02d93	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  02d96	83 b8 50 04 00
	00 ff		 cmp	 DWORD PTR [eax+1104], -1
  02d9d	75 05		 jne	 SHORT $LN13@SkillDefen

; 1460 : 	{
; 1461 : 		return;

  02d9f	e9 40 02 00 00	 jmp	 $LN14@SkillDefen
$LN13@SkillDefen:

; 1462 : 	}
; 1463 : 
; 1464 : 	if(lpObj->Class != CLASS_ELF)

  02da4	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02da7	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  02dae	83 f9 02	 cmp	 ecx, 2
  02db1	74 05		 je	 SHORT $LN12@SkillDefen

; 1465 : 	{
; 1466 : 		return;

  02db3	e9 2c 02 00 00	 jmp	 $LN14@SkillDefen
$LN12@SkillDefen:

; 1467 : 	}
; 1468 : 
; 1469 : 	if(CC_MAP_RANGE(lpObj->MapNumber) && lpObj->m_Index != lpTargetObj->m_Index)

  02db8	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02dbb	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  02dc2	83 f9 35	 cmp	 ecx, 53			; 00000035H
  02dc5	75 09		 jne	 SHORT $LN18@SkillDefen
  02dc7	c7 45 9c 01 00
	00 00		 mov	 DWORD PTR tv87[ebp], 1
  02dce	eb 33		 jmp	 SHORT $LN19@SkillDefen
$LN18@SkillDefen:
  02dd0	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02dd3	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  02dda	83 f8 12	 cmp	 eax, 18			; 00000012H
  02ddd	7d 09		 jge	 SHORT $LN16@SkillDefen
  02ddf	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv86[ebp], 0
  02de6	eb 15		 jmp	 SHORT $LN17@SkillDefen
$LN16@SkillDefen:
  02de8	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02deb	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  02df2	33 c0		 xor	 eax, eax
  02df4	83 fa 17	 cmp	 edx, 23			; 00000017H
  02df7	0f 9e c0	 setle	 al
  02dfa	89 45 98	 mov	 DWORD PTR tv86[ebp], eax
$LN17@SkillDefen:
  02dfd	8b 4d 98	 mov	 ecx, DWORD PTR tv86[ebp]
  02e00	89 4d 9c	 mov	 DWORD PTR tv87[ebp], ecx
$LN19@SkillDefen:
  02e03	83 7d 9c 00	 cmp	 DWORD PTR tv87[ebp], 0
  02e07	74 11		 je	 SHORT $LN11@SkillDefen
  02e09	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02e0c	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  02e0f	8b 10		 mov	 edx, DWORD PTR [eax]
  02e11	3b 11		 cmp	 edx, DWORD PTR [ecx]
  02e13	74 05		 je	 SHORT $LN11@SkillDefen

; 1470 : 	{
; 1471 : 		return;

  02e15	e9 ca 01 00 00	 jmp	 $LN14@SkillDefen
$LN11@SkillDefen:

; 1472 : 	}
; 1473 : 
; 1474 : 	if(skill_level < 0 || skill_level > 7)

  02e1a	83 7d 10 00	 cmp	 DWORD PTR _skill_level$[ebp], 0
  02e1e	7c 06		 jl	 SHORT $LN9@SkillDefen
  02e20	83 7d 10 07	 cmp	 DWORD PTR _skill_level$[ebp], 7
  02e24	7e 07		 jle	 SHORT $LN10@SkillDefen
$LN9@SkillDefen:

; 1475 : 	{
; 1476 : 		skill_level = 0;

  02e26	c7 45 10 00 00
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 0
$LN10@SkillDefen:

; 1477 : 	}
; 1478 : 
; 1479 : 	int Duration	= g_SkillAdditionInfo.ElfDefenseTime;

  02e2d	a1 8c 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2956
  02e32	89 45 ec	 mov	 DWORD PTR _Duration$[ebp], eax

; 1480 : 	float skill_defense = float(skill_level + 1)*g_SkillAdditionInfo.ElfDefenseEffectFact + (lpObj->Energy + lpObj->AddEnergy) / g_SkillAdditionInfo.ElfDefenseEffectDiv;

  02e35	8b 45 10	 mov	 eax, DWORD PTR _skill_level$[ebp]
  02e38	83 c0 01	 add	 eax, 1
  02e3b	89 45 9c	 mov	 DWORD PTR tv224[ebp], eax
  02e3e	db 45 9c	 fild	 DWORD PTR tv224[ebp]
  02e41	0f b7 0d 84 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2948
  02e48	89 4d 98	 mov	 DWORD PTR tv225[ebp], ecx
  02e4b	da 4d 98	 fimul	 DWORD PTR tv225[ebp]
  02e4e	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02e51	0f b7 82 fa 00
	00 00		 movzx	 eax, WORD PTR [edx+250]
  02e58	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02e5b	0f bf 91 26 01
	00 00		 movsx	 edx, WORD PTR [ecx+294]
  02e62	03 c2		 add	 eax, edx
  02e64	0f b7 0d 86 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2950
  02e6b	99		 cdq
  02e6c	f7 f9		 idiv	 ecx
  02e6e	89 45 94	 mov	 DWORD PTR tv234[ebp], eax
  02e71	da 45 94	 fiadd	 DWORD PTR tv234[ebp]
  02e74	d9 5d e8	 fstp	 DWORD PTR _skill_defense$[ebp]

; 1481 : 
; 1482 : 	if( g_SkillAdditionInfo.ElfDefenseEffectMax > 0 && skill_defense > g_SkillAdditionInfo.ElfDefenseEffectMax )

  02e77	83 3d 88 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2952, 0
  02e7e	76 33		 jbe	 SHORT $LN8@SkillDefen
  02e80	a1 88 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2952
  02e85	89 45 98	 mov	 DWORD PTR tv238[ebp], eax
  02e88	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv238[ebp+4], 0
  02e8f	df 6d 98	 fild	 QWORD PTR tv238[ebp]
  02e92	d9 45 e8	 fld	 DWORD PTR _skill_defense$[ebp]
  02e95	de d9		 fcompp
  02e97	df e0		 fnstsw	 ax
  02e99	f6 c4 41	 test	 ah, 65			; 00000041H
  02e9c	75 15		 jne	 SHORT $LN8@SkillDefen

; 1483 : 	{
; 1484 : 		skill_defense = g_SkillAdditionInfo.ElfDefenseEffectMax;

  02e9e	a1 88 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2952
  02ea3	89 45 98	 mov	 DWORD PTR tv246[ebp], eax
  02ea6	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv246[ebp+4], 0
  02ead	df 6d 98	 fild	 QWORD PTR tv246[ebp]
  02eb0	d9 5d e8	 fstp	 DWORD PTR _skill_defense$[ebp]
$LN8@SkillDefen:

; 1485 : 	}
; 1486 : 
; 1487 : 	if(lpTargetObj->Class == CLASS_KNIGHT)

  02eb3	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  02eb6	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  02ebd	83 f9 01	 cmp	 ecx, 1
  02ec0	75 0f		 jne	 SHORT $LN7@SkillDefen

; 1488 : 	{
; 1489 : 		skill_defense += skill_defense/10.0f;

  02ec2	d9 45 e8	 fld	 DWORD PTR _skill_defense$[ebp]
  02ec5	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4024000000000000
  02ecb	d8 45 e8	 fadd	 DWORD PTR _skill_defense$[ebp]
  02ece	d9 5d e8	 fstp	 DWORD PTR _skill_defense$[ebp]
$LN7@SkillDefen:

; 1490 : 	}
; 1491 : 
; 1492 : 	if(gObjCheckBuffEffectValue(lpTargetObj, AT_INCREASE_DEFENSE, skill_defense, 0) == 1)

  02ed1	6a 00		 push	 0
  02ed3	d9 45 e8	 fld	 DWORD PTR _skill_defense$[ebp]
  02ed6	e8 00 00 00 00	 call	 __ftol2_sse
  02edb	50		 push	 eax
  02edc	6a 02		 push	 2
  02ede	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  02ee1	50		 push	 eax
  02ee2	e8 00 00 00 00	 call	 ?gObjCheckBuffEffectValue@@YAEPAUOBJECTSTRUCT@@HHH@Z ; gObjCheckBuffEffectValue
  02ee7	83 c4 10	 add	 esp, 16			; 00000010H
  02eea	0f b6 c8	 movzx	 ecx, al
  02eed	83 f9 01	 cmp	 ecx, 1
  02ef0	75 1b		 jne	 SHORT $LN6@SkillDefen

; 1493 : 	{
; 1494 : 		GCMagicAttackNumberSend(lpObj,AT_SKILL_DEFENSE,lpTargetObj->m_Index,0);

  02ef2	6a 00		 push	 0
  02ef4	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  02ef7	8b 08		 mov	 ecx, DWORD PTR [eax]
  02ef9	51		 push	 ecx
  02efa	6a 1b		 push	 27			; 0000001bH
  02efc	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02eff	52		 push	 edx
  02f00	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  02f05	83 c4 10	 add	 esp, 16			; 00000010H

; 1495 : 		return;

  02f08	e9 d7 00 00 00	 jmp	 $LN14@SkillDefen
$LN6@SkillDefen:

; 1496 : 	}
; 1497 : 
; 1498 : 	gObjApplyBuffEffectDuration(lpTargetObj, AT_INCREASE_DEFENSE, 3, skill_defense, 0, 0, Duration);

  02f0d	8b 45 ec	 mov	 eax, DWORD PTR _Duration$[ebp]
  02f10	50		 push	 eax
  02f11	6a 00		 push	 0
  02f13	6a 00		 push	 0
  02f15	d9 45 e8	 fld	 DWORD PTR _skill_defense$[ebp]
  02f18	e8 00 00 00 00	 call	 __ftol2_sse
  02f1d	50		 push	 eax
  02f1e	6a 03		 push	 3
  02f20	6a 02		 push	 2
  02f22	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  02f25	51		 push	 ecx
  02f26	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  02f2b	83 c4 1c	 add	 esp, 28			; 0000001cH

; 1499 : 
; 1500 : 	for(int n = 0; n < MAX_VIEWPORT; n++)

  02f2e	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _n$240349[ebp], 0
  02f35	eb 09		 jmp	 SHORT $LN5@SkillDefen
$LN4@SkillDefen:
  02f37	8b 45 e4	 mov	 eax, DWORD PTR _n$240349[ebp]
  02f3a	83 c0 01	 add	 eax, 1
  02f3d	89 45 e4	 mov	 DWORD PTR _n$240349[ebp], eax
$LN5@SkillDefen:
  02f40	83 7d e4 4b	 cmp	 DWORD PTR _n$240349[ebp], 75 ; 0000004bH
  02f44	0f 8d 81 00 00
	00		 jge	 $LN3@SkillDefen

; 1501 : 	{
; 1502 : 		if(lpObj->VpPlayer2[n].type == OBJ_MONSTER && lpObj->VpPlayer2[n].state != 0)

  02f4a	8b 45 e4	 mov	 eax, DWORD PTR _n$240349[ebp]
  02f4d	6b c0 0c	 imul	 eax, 12			; 0000000cH
  02f50	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02f53	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  02f5b	83 fa 02	 cmp	 edx, 2
  02f5e	75 66		 jne	 SHORT $LN1@SkillDefen
  02f60	8b 45 e4	 mov	 eax, DWORD PTR _n$240349[ebp]
  02f63	6b c0 0c	 imul	 eax, 12			; 0000000cH
  02f66	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02f69	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  02f71	85 d2		 test	 edx, edx
  02f73	74 51		 je	 SHORT $LN1@SkillDefen

; 1503 : 		{
; 1504 : 			LPOBJ lpMonster = &gObj[lpObj->VpPlayer2[n].number];

  02f75	8b 45 e4	 mov	 eax, DWORD PTR _n$240349[ebp]
  02f78	6b c0 0c	 imul	 eax, 12			; 0000000cH
  02f7b	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02f7e	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  02f86	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  02f8c	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02f92	89 55 e0	 mov	 DWORD PTR _lpMonster$240354[ebp], edx

; 1505 : 			if(lpMonster->m_iCurrentAI != 0)

  02f95	8b 45 e0	 mov	 eax, DWORD PTR _lpMonster$240354[ebp]
  02f98	83 b8 78 1c 00
	00 00		 cmp	 DWORD PTR [eax+7288], 0
  02f9f	74 25		 je	 SHORT $LN1@SkillDefen

; 1506 : 			{
; 1507 : 				lpMonster->m_Agro.IncAgro(lpObj->m_Index,int(skill_defense)/10);

  02fa1	d9 45 e8	 fld	 DWORD PTR _skill_defense$[ebp]
  02fa4	e8 00 00 00 00	 call	 __ftol2_sse
  02fa9	99		 cdq
  02faa	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  02faf	f7 f9		 idiv	 ecx
  02fb1	50		 push	 eax
  02fb2	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02fb5	8b 02		 mov	 eax, DWORD PTR [edx]
  02fb7	50		 push	 eax
  02fb8	8b 4d e0	 mov	 ecx, DWORD PTR _lpMonster$240354[ebp]
  02fbb	81 c1 94 1c 00
	00		 add	 ecx, 7316		; 00001c94H
  02fc1	e8 00 00 00 00	 call	 ?IncAgro@TMonsterAIAgro@@QAEHHH@Z ; TMonsterAIAgro::IncAgro
$LN1@SkillDefen:

; 1508 : 			}
; 1509 : 		}
; 1510 : 	}

  02fc6	e9 6c ff ff ff	 jmp	 $LN4@SkillDefen
$LN3@SkillDefen:

; 1511 : 
; 1512 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_DEFENSE,lpTargetObj->m_Index,skillSuccess);

  02fcb	0f b6 45 f8	 movzx	 eax, BYTE PTR _skillSuccess$[ebp]
  02fcf	50		 push	 eax
  02fd0	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  02fd3	8b 11		 mov	 edx, DWORD PTR [ecx]
  02fd5	52		 push	 edx
  02fd6	6a 1b		 push	 27			; 0000001bH
  02fd8	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02fdb	50		 push	 eax
  02fdc	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  02fe1	83 c4 10	 add	 esp, 16			; 00000010H
$LN14@SkillDefen:

; 1513 : }

  02fe4	5f		 pop	 edi
  02fe5	5e		 pop	 esi
  02fe6	5b		 pop	 ebx
  02fe7	8b e5		 mov	 esp, ebp
  02fe9	5d		 pop	 ebp
  02fea	c2 0c 00	 ret	 12			; 0000000cH
?SkillDefense@CObjUseSkill@@QAEXHHH@Z ENDP		; CObjUseSkill::SkillDefense
; Function compile flags: /Odtp /ZI
tv227 = -108						; size = 4
tv242 = -104						; size = 8
tv234 = -104						; size = 8
tv226 = -104						; size = 4
tv86 = -104						; size = 4
tv223 = -100						; size = 4
tv87 = -100						; size = 4
_lpMonster$240381 = -32					; size = 4
_n$240376 = -28						; size = 4
_BuffTime$ = -24					; size = 4
_skill_attack$ = -20					; size = 4
_lpTargetObj$ = -16					; size = 4
_lpObj$ = -12						; size = 4
_skillSuccess$ = -8					; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_skill_level$ = 16					; size = 4
?SkillAttack@CObjUseSkill@@QAEXHHH@Z PROC		; CObjUseSkill::SkillAttack
; _this$ = ecx

; 1516 : {

  02ff0	55		 push	 ebp
  02ff1	8b ec		 mov	 ebp, esp
  02ff3	83 ec 6c	 sub	 esp, 108		; 0000006cH
  02ff6	53		 push	 ebx
  02ff7	56		 push	 esi
  02ff8	57		 push	 edi
  02ff9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1517 : 	//int skillSuccess = true;
; 1518 : 	//LPOBJ lpObj = &gObj[aIndex];
; 1519 : 	//LPOBJ lpTargetObj = &gObj[aTargetIndex];
; 1520 : 
; 1521 : 	//if(lpTargetObj->Type != OBJ_USER && lpTargetObj->m_RecallMon == -1)
; 1522 : 	//{
; 1523 : 	//	return;
; 1524 : 	//}
; 1525 : 
; 1526 : 	//if(lpObj->Class != CLASS_ELF)
; 1527 : 	//{
; 1528 : 	//	return;
; 1529 : 	//}
; 1530 : 
; 1531 : 	//if(CC_MAP_RANGE(lpObj->MapNumber) && lpObj->m_Index != lpTargetObj->m_Index)
; 1532 : 	//{
; 1533 : 	//	return;
; 1534 : 	//}
; 1535 : 
; 1536 : 	//if(skill_level < 0 || skill_level > 7)
; 1537 : 	//{
; 1538 : 	//	skill_level = 0;
; 1539 : 	//}
; 1540 : 	////int ExAttackEnergy = GetPrivateProfileInt("Elf","AttackEnergy",7,"..\\Data\\ExData\\Skills.ini");
; 1541 : 	//float skill_attack = float((skill_level + 1) * 3) + (lpObj->Energy + lpObj->AddEnergy) / ExConfig.Skills.ExAttackEnergy;
; 1542 : 
; 1543 : 	//if(lpTargetObj->Class == CLASS_KNIGHT)
; 1544 : 	//{
; 1545 : 	//	skill_attack += skill_attack/10.0f;
; 1546 : 	//}
; 1547 : 
; 1548 : 	//if(gObjCheckBuffEffectValue(lpTargetObj, AT_INCREASE_ATTACK, (int)skill_attack, 0) == 1) //season3 add-on
; 1549 : 	//{
; 1550 : 	//	GCMagicAttackNumberSend(lpObj,AT_SKILL_ATTACK,lpTargetObj->m_Index,0);
; 1551 : 	//	return;
; 1552 : 	//}
; 1553 : 
; 1554 : 	//gObjApplyBuffEffectDuration(lpTargetObj, AT_INCREASE_ATTACK, 2, (int)skill_attack, 0, 0, 60); //season3 add-on
; 1555 : 
; 1556 : 	//for(int n = 0; n < MAX_VIEWPORT; n++)
; 1557 : 	//{
; 1558 : 	//	if(lpObj->VpPlayer2[n].type == OBJ_MONSTER && lpObj->VpPlayer2[n].state != 0)
; 1559 : 	//	{
; 1560 : 	//		LPOBJ lpMonster = &gObj[lpObj->VpPlayer2[n].number];
; 1561 : 	//		if(lpMonster->m_iCurrentAI != 0)
; 1562 : 	//		{
; 1563 : 	//			lpMonster->m_Agro.IncAgro(lpObj->m_Index,int(skill_attack)/10);
; 1564 : 	//		}
; 1565 : 	//	}
; 1566 : 	//}
; 1567 : 
; 1568 : 	//GCMagicAttackNumberSend(lpObj,AT_SKILL_ATTACK,lpTargetObj->m_Index,skillSuccess);
; 1569 : 
; 1570 : 	int skillSuccess = true;

  02ffc	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _skillSuccess$[ebp], 1

; 1571 : 	LPOBJ lpObj = &gObj[aIndex];

  03003	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  03006	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0300c	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03012	89 45 f4	 mov	 DWORD PTR _lpObj$[ebp], eax

; 1572 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  03015	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  03018	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0301e	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03024	89 45 f0	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 1573 : 
; 1574 : 	if(lpTargetObj->Type != OBJ_USER && lpTargetObj->m_RecallMon == -1)

  03027	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0302a	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  0302e	83 f9 01	 cmp	 ecx, 1
  03031	74 11		 je	 SHORT $LN13@SkillAttac
  03033	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  03036	83 b8 50 04 00
	00 ff		 cmp	 DWORD PTR [eax+1104], -1
  0303d	75 05		 jne	 SHORT $LN13@SkillAttac

; 1575 : 	{
; 1576 : 		return;

  0303f	e9 42 02 00 00	 jmp	 $LN14@SkillAttac
$LN13@SkillAttac:

; 1577 : 	}
; 1578 : 
; 1579 : 	if(lpObj->Class != CLASS_ELF)

  03044	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03047	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  0304e	83 f9 02	 cmp	 ecx, 2
  03051	74 05		 je	 SHORT $LN12@SkillAttac

; 1580 : 	{
; 1581 : 		return;

  03053	e9 2e 02 00 00	 jmp	 $LN14@SkillAttac
$LN12@SkillAttac:

; 1582 : 	}
; 1583 : 
; 1584 : 	if(CC_MAP_RANGE(lpObj->MapNumber) && lpObj->m_Index != lpTargetObj->m_Index)

  03058	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0305b	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  03062	83 f9 35	 cmp	 ecx, 53			; 00000035H
  03065	75 09		 jne	 SHORT $LN18@SkillAttac
  03067	c7 45 9c 01 00
	00 00		 mov	 DWORD PTR tv87[ebp], 1
  0306e	eb 33		 jmp	 SHORT $LN19@SkillAttac
$LN18@SkillAttac:
  03070	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03073	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0307a	83 f8 12	 cmp	 eax, 18			; 00000012H
  0307d	7d 09		 jge	 SHORT $LN16@SkillAttac
  0307f	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv86[ebp], 0
  03086	eb 15		 jmp	 SHORT $LN17@SkillAttac
$LN16@SkillAttac:
  03088	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0308b	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  03092	33 c0		 xor	 eax, eax
  03094	83 fa 17	 cmp	 edx, 23			; 00000017H
  03097	0f 9e c0	 setle	 al
  0309a	89 45 98	 mov	 DWORD PTR tv86[ebp], eax
$LN17@SkillAttac:
  0309d	8b 4d 98	 mov	 ecx, DWORD PTR tv86[ebp]
  030a0	89 4d 9c	 mov	 DWORD PTR tv87[ebp], ecx
$LN19@SkillAttac:
  030a3	83 7d 9c 00	 cmp	 DWORD PTR tv87[ebp], 0
  030a7	74 11		 je	 SHORT $LN11@SkillAttac
  030a9	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  030ac	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  030af	8b 10		 mov	 edx, DWORD PTR [eax]
  030b1	3b 11		 cmp	 edx, DWORD PTR [ecx]
  030b3	74 05		 je	 SHORT $LN11@SkillAttac

; 1585 : 	{
; 1586 : 		return;

  030b5	e9 cc 01 00 00	 jmp	 $LN14@SkillAttac
$LN11@SkillAttac:

; 1587 : 	}
; 1588 : 
; 1589 : 	if(skill_level < 0 || skill_level > 7)

  030ba	83 7d 10 00	 cmp	 DWORD PTR _skill_level$[ebp], 0
  030be	7c 06		 jl	 SHORT $LN9@SkillAttac
  030c0	83 7d 10 07	 cmp	 DWORD PTR _skill_level$[ebp], 7
  030c4	7e 07		 jle	 SHORT $LN10@SkillAttac
$LN9@SkillAttac:

; 1590 : 	{
; 1591 : 		skill_level = 0;

  030c6	c7 45 10 00 00
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 0
$LN10@SkillAttac:

; 1592 : 	}
; 1593 : 
; 1594 : 	float skill_attack	= float((skill_level + 1) * g_SkillAdditionInfo.ElfAttackEffectFact) + (lpObj->Energy + lpObj->AddEnergy) / (float)g_SkillAdditionInfo.ElfAttackEffectDiv;

  030cd	8b 45 10	 mov	 eax, DWORD PTR _skill_level$[ebp]
  030d0	83 c0 01	 add	 eax, 1
  030d3	0f b7 0d 90 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2960
  030da	0f af c1	 imul	 eax, ecx
  030dd	89 45 9c	 mov	 DWORD PTR tv223[ebp], eax
  030e0	db 45 9c	 fild	 DWORD PTR tv223[ebp]
  030e3	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  030e6	0f b7 82 fa 00
	00 00		 movzx	 eax, WORD PTR [edx+250]
  030ed	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  030f0	0f bf 91 26 01
	00 00		 movsx	 edx, WORD PTR [ecx+294]
  030f7	03 c2		 add	 eax, edx
  030f9	89 45 98	 mov	 DWORD PTR tv226[ebp], eax
  030fc	db 45 98	 fild	 DWORD PTR tv226[ebp]
  030ff	0f b7 05 92 0b
	00 00		 movzx	 eax, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2962
  03106	89 45 94	 mov	 DWORD PTR tv227[ebp], eax
  03109	da 75 94	 fidiv	 DWORD PTR tv227[ebp]
  0310c	de c1		 faddp	 ST(1), ST(0)
  0310e	d9 5d ec	 fstp	 DWORD PTR _skill_attack$[ebp]

; 1595 : 	int BuffTime		= g_SkillAdditionInfo.ElfAttackTime;

  03111	a1 98 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2968
  03116	89 45 e8	 mov	 DWORD PTR _BuffTime$[ebp], eax

; 1596 : 
; 1597 : 	if( g_SkillAdditionInfo.ElfAttackEffectMax > 0 && skill_attack > g_SkillAdditionInfo.ElfAttackEffectMax )

  03119	83 3d 94 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2964, 0
  03120	76 33		 jbe	 SHORT $LN8@SkillAttac
  03122	a1 94 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2964
  03127	89 45 98	 mov	 DWORD PTR tv234[ebp], eax
  0312a	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv234[ebp+4], 0
  03131	df 6d 98	 fild	 QWORD PTR tv234[ebp]
  03134	d9 45 ec	 fld	 DWORD PTR _skill_attack$[ebp]
  03137	de d9		 fcompp
  03139	df e0		 fnstsw	 ax
  0313b	f6 c4 41	 test	 ah, 65			; 00000041H
  0313e	75 15		 jne	 SHORT $LN8@SkillAttac

; 1598 : 	{
; 1599 : 		skill_attack = g_SkillAdditionInfo.ElfAttackEffectMax;

  03140	a1 94 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2964
  03145	89 45 98	 mov	 DWORD PTR tv242[ebp], eax
  03148	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv242[ebp+4], 0
  0314f	df 6d 98	 fild	 QWORD PTR tv242[ebp]
  03152	d9 5d ec	 fstp	 DWORD PTR _skill_attack$[ebp]
$LN8@SkillAttac:

; 1600 : 	}
; 1601 : 
; 1602 : 	if(lpTargetObj->Class == CLASS_KNIGHT)

  03155	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  03158	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  0315f	83 f9 01	 cmp	 ecx, 1
  03162	75 0f		 jne	 SHORT $LN7@SkillAttac

; 1603 : 	{
; 1604 : 		skill_attack += skill_attack/10.0f;

  03164	d9 45 ec	 fld	 DWORD PTR _skill_attack$[ebp]
  03167	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4024000000000000
  0316d	d8 45 ec	 fadd	 DWORD PTR _skill_attack$[ebp]
  03170	d9 5d ec	 fstp	 DWORD PTR _skill_attack$[ebp]
$LN7@SkillAttac:

; 1605 : 	}	
; 1606 : 	// ----
; 1607 : 	if(gObjCheckBuffEffectValue(lpTargetObj, AT_INCREASE_ATTACK, skill_attack, 0) == 1) //season3 add-on

  03173	6a 00		 push	 0
  03175	d9 45 ec	 fld	 DWORD PTR _skill_attack$[ebp]
  03178	e8 00 00 00 00	 call	 __ftol2_sse
  0317d	50		 push	 eax
  0317e	6a 01		 push	 1
  03180	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  03183	50		 push	 eax
  03184	e8 00 00 00 00	 call	 ?gObjCheckBuffEffectValue@@YAEPAUOBJECTSTRUCT@@HHH@Z ; gObjCheckBuffEffectValue
  03189	83 c4 10	 add	 esp, 16			; 00000010H
  0318c	0f b6 c8	 movzx	 ecx, al
  0318f	83 f9 01	 cmp	 ecx, 1
  03192	75 1b		 jne	 SHORT $LN6@SkillAttac

; 1608 : 	{
; 1609 : 		GCMagicAttackNumberSend(lpObj,AT_SKILL_ATTACK,lpTargetObj->m_Index,0);

  03194	6a 00		 push	 0
  03196	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  03199	8b 08		 mov	 ecx, DWORD PTR [eax]
  0319b	51		 push	 ecx
  0319c	6a 1c		 push	 28			; 0000001cH
  0319e	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  031a1	52		 push	 edx
  031a2	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  031a7	83 c4 10	 add	 esp, 16			; 00000010H

; 1610 : 		return;

  031aa	e9 d7 00 00 00	 jmp	 $LN14@SkillAttac
$LN6@SkillAttac:

; 1611 : 	}
; 1612 : 
; 1613 : 	gObjApplyBuffEffectDuration(lpTargetObj, AT_INCREASE_ATTACK, 2, skill_attack, 0, 0, BuffTime); //season3 add-on

  031af	8b 45 e8	 mov	 eax, DWORD PTR _BuffTime$[ebp]
  031b2	50		 push	 eax
  031b3	6a 00		 push	 0
  031b5	6a 00		 push	 0
  031b7	d9 45 ec	 fld	 DWORD PTR _skill_attack$[ebp]
  031ba	e8 00 00 00 00	 call	 __ftol2_sse
  031bf	50		 push	 eax
  031c0	6a 02		 push	 2
  031c2	6a 01		 push	 1
  031c4	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  031c7	51		 push	 ecx
  031c8	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  031cd	83 c4 1c	 add	 esp, 28			; 0000001cH

; 1614 : 
; 1615 : 	for(int n = 0; n < MAX_VIEWPORT; n++)

  031d0	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _n$240376[ebp], 0
  031d7	eb 09		 jmp	 SHORT $LN5@SkillAttac
$LN4@SkillAttac:
  031d9	8b 45 e4	 mov	 eax, DWORD PTR _n$240376[ebp]
  031dc	83 c0 01	 add	 eax, 1
  031df	89 45 e4	 mov	 DWORD PTR _n$240376[ebp], eax
$LN5@SkillAttac:
  031e2	83 7d e4 4b	 cmp	 DWORD PTR _n$240376[ebp], 75 ; 0000004bH
  031e6	0f 8d 81 00 00
	00		 jge	 $LN3@SkillAttac

; 1616 : 	{
; 1617 : 		if(lpObj->VpPlayer2[n].type == OBJ_MONSTER && lpObj->VpPlayer2[n].state != 0)

  031ec	8b 45 e4	 mov	 eax, DWORD PTR _n$240376[ebp]
  031ef	6b c0 0c	 imul	 eax, 12			; 0000000cH
  031f2	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  031f5	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  031fd	83 fa 02	 cmp	 edx, 2
  03200	75 66		 jne	 SHORT $LN1@SkillAttac
  03202	8b 45 e4	 mov	 eax, DWORD PTR _n$240376[ebp]
  03205	6b c0 0c	 imul	 eax, 12			; 0000000cH
  03208	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0320b	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  03213	85 d2		 test	 edx, edx
  03215	74 51		 je	 SHORT $LN1@SkillAttac

; 1618 : 		{
; 1619 : 			LPOBJ lpMonster = &gObj[lpObj->VpPlayer2[n].number];

  03217	8b 45 e4	 mov	 eax, DWORD PTR _n$240376[ebp]
  0321a	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0321d	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03220	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  03228	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0322e	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03234	89 55 e0	 mov	 DWORD PTR _lpMonster$240381[ebp], edx

; 1620 : 			if(lpMonster->m_iCurrentAI != 0)

  03237	8b 45 e0	 mov	 eax, DWORD PTR _lpMonster$240381[ebp]
  0323a	83 b8 78 1c 00
	00 00		 cmp	 DWORD PTR [eax+7288], 0
  03241	74 25		 je	 SHORT $LN1@SkillAttac

; 1621 : 			{
; 1622 : 				lpMonster->m_Agro.IncAgro(lpObj->m_Index,int(skill_attack)/10);

  03243	d9 45 ec	 fld	 DWORD PTR _skill_attack$[ebp]
  03246	e8 00 00 00 00	 call	 __ftol2_sse
  0324b	99		 cdq
  0324c	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  03251	f7 f9		 idiv	 ecx
  03253	50		 push	 eax
  03254	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03257	8b 02		 mov	 eax, DWORD PTR [edx]
  03259	50		 push	 eax
  0325a	8b 4d e0	 mov	 ecx, DWORD PTR _lpMonster$240381[ebp]
  0325d	81 c1 94 1c 00
	00		 add	 ecx, 7316		; 00001c94H
  03263	e8 00 00 00 00	 call	 ?IncAgro@TMonsterAIAgro@@QAEHHH@Z ; TMonsterAIAgro::IncAgro
$LN1@SkillAttac:

; 1623 : 			}
; 1624 : 		}
; 1625 : 	}

  03268	e9 6c ff ff ff	 jmp	 $LN4@SkillAttac
$LN3@SkillAttac:

; 1626 : 
; 1627 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_ATTACK,lpTargetObj->m_Index,skillSuccess);

  0326d	0f b6 45 f8	 movzx	 eax, BYTE PTR _skillSuccess$[ebp]
  03271	50		 push	 eax
  03272	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  03275	8b 11		 mov	 edx, DWORD PTR [ecx]
  03277	52		 push	 edx
  03278	6a 1c		 push	 28			; 0000001cH
  0327a	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0327d	50		 push	 eax
  0327e	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  03283	83 c4 10	 add	 esp, 16			; 00000010H
$LN14@SkillAttac:

; 1628 : }

  03286	5f		 pop	 edi
  03287	5e		 pop	 esi
  03288	5b		 pop	 ebx
  03289	8b e5		 mov	 esp, ebp
  0328b	5d		 pop	 ebp
  0328c	c2 0c 00	 ret	 12			; 0000000cH
?SkillAttack@CObjUseSkill@@QAEXHHH@Z ENDP		; CObjUseSkill::SkillAttack
_TEXT	ENDS
PUBLIC	?SkillChangeUse@CObjUseSkill@@QAEHH@Z		; CObjUseSkill::SkillChangeUse
EXTRN	?PHeadSubSetB@@YAXPAEEEH@Z:PROC			; PHeadSubSetB
EXTRN	?NotifySelfCsJoinSide@CCastleSiege@@QAEXH@Z:PROC ; CCastleSiege::NotifySelfCsJoinSide
EXTRN	?g_CastleSiege@@3VCCastleSiege@@A:BYTE		; g_CastleSiege
EXTRN	?gObjViewportListProtocolCreate@@YAXPAUOBJECTSTRUCT@@@Z:PROC ; gObjViewportListProtocolCreate
EXTRN	?gObjCalCharacter@@YAXH@Z:PROC			; gObjCalCharacter
EXTRN	?GCReFillSend@@YAXHHEEH@Z:PROC			; GCReFillSend
EXTRN	?GetUserJoinSide@CIllusionTempleEvent@@QAEEEH@Z:PROC ; CIllusionTempleEvent::GetUserJoinSide
EXTRN	?GetState@CIllusionTempleEvent@@QAEEE@Z:PROC	; CIllusionTempleEvent::GetState
EXTRN	?g_IllusionTempleEvent@@3VCIllusionTempleEvent@@A:BYTE ; g_IllusionTempleEvent
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv371 = -96						; size = 4
tv265 = -96						; size = 4
_pMsg$ = -28						; size = 5
_change$ = -20						; size = 4
_team$240421 = -16					; size = 4
_skill_level$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?SkillChangeUse@CObjUseSkill@@QAEHH@Z PROC		; CObjUseSkill::SkillChangeUse
; _this$ = ecx

; 1631 : {

  03290	55		 push	 ebp
  03291	8b ec		 mov	 ebp, esp
  03293	83 ec 60	 sub	 esp, 96			; 00000060H
  03296	53		 push	 ebx
  03297	56		 push	 esi
  03298	57		 push	 edi
  03299	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1632 : //	LPOBJ lpObj = &gObj[aIndex];
; 1633 : //
; 1634 : //	int skill_level = -1;
; 1635 : //
; 1636 : //	if(lpObj->Type != OBJ_USER)
; 1637 : //	{
; 1638 : //		return false;
; 1639 : //	}
; 1640 : //
; 1641 : //	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,10))
; 1642 : //	{
; 1643 : //		if(lpObj->pInventory[10].m_Durability < 1.0f)
; 1644 : //		{
; 1645 : //			skill_level = -1;
; 1646 : //		}
; 1647 : //		else
; 1648 : //		{
; 1649 : //			skill_level = lpObj->pInventory[10].m_Level;
; 1650 : //		}
; 1651 : //	}
; 1652 : //
; 1653 : //	if(lpObj->pInventory[11].IsItem()==1 && skill_level == -1 && lpObj->pInventory[11].m_Type == ITEMGET(13,10))
; 1654 : //	{
; 1655 : //		if(lpObj->pInventory[11].m_Durability < 1.0f)
; 1656 : //		{
; 1657 : //			skill_level = -1;
; 1658 : //		}
; 1659 : //		else
; 1660 : //		{
; 1661 : //			skill_level = lpObj->pInventory[11].m_Level;
; 1662 : //		}
; 1663 : //	}
; 1664 : //
; 1665 : //	if(skill_level > 7)
; 1666 : //	{
; 1667 : //		return false;
; 1668 : //	}
; 1669 : //
; 1670 : //	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,39))
; 1671 : //	{
; 1672 : //		if(lpObj->pInventory[10].m_Durability < 1.0f)
; 1673 : //		{
; 1674 : //			skill_level = -1;
; 1675 : //		}
; 1676 : //		else
; 1677 : //		{
; 1678 : //			skill_level = 372;
; 1679 : //		}
; 1680 : //	}
; 1681 : //
; 1682 : //	if(lpObj->pInventory[11].IsItem()==1 && skill_level == -1 && lpObj->pInventory[11].m_Type == ITEMGET(13,39))
; 1683 : //	{
; 1684 : //		if(lpObj->pInventory[11].m_Durability < 1.0f)
; 1685 : //		{
; 1686 : //			skill_level = -1;
; 1687 : //		}
; 1688 : //		else
; 1689 : //		{
; 1690 : //			skill_level = 372;
; 1691 : //		}
; 1692 : //	}
; 1693 : //
; 1694 : //	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,40)) //Second Edition
; 1695 : //	{
; 1696 : //		if(lpObj->pInventory[10].m_Durability < 1.0f)
; 1697 : //		{
; 1698 : //			skill_level = -1;
; 1699 : //		}
; 1700 : //		else
; 1701 : //		{
; 1702 : //			skill_level = 373;
; 1703 : //		}
; 1704 : //	}
; 1705 : //
; 1706 : //	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,40)) //Second Edition
; 1707 : //	{
; 1708 : //		if(lpObj->pInventory[11].m_Durability < 1.0f)
; 1709 : //		{
; 1710 : //			skill_level = -1;
; 1711 : //		}
; 1712 : //		else
; 1713 : //		{
; 1714 : //			skill_level = 373;
; 1715 : //		}
; 1716 : //	}
; 1717 : //
; 1718 : //	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,41)) //Season 2.5 add-on
; 1719 : //	{
; 1720 : //		if(lpObj->pInventory[10].m_Durability < 1.0f)
; 1721 : //		{
; 1722 : //			skill_level = -1;
; 1723 : //		}
; 1724 : //		else
; 1725 : //		{
; 1726 : //			skill_level = 374;
; 1727 : //		}
; 1728 : //	}
; 1729 : //
; 1730 : //	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,41)) //Season 2.5 add-on
; 1731 : //	{
; 1732 : //		if(lpObj->pInventory[11].m_Durability < 1.0f)
; 1733 : //		{
; 1734 : //			skill_level = -1;
; 1735 : //		}
; 1736 : //		else
; 1737 : //		{
; 1738 : //			skill_level = 374;
; 1739 : //		}
; 1740 : //	}
; 1741 : //
; 1742 : //	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,42)) //Season 2.5 add-on
; 1743 : //	{
; 1744 : //		if((lpObj->Authority&32) != 32)
; 1745 : //		{
; 1746 : //			return FALSE;
; 1747 : //		}
; 1748 : //
; 1749 : //		skill_level = 378;
; 1750 : //
; 1751 : //	}
; 1752 : //
; 1753 : //	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,42)) //Season 2.5 add-on
; 1754 : //	{
; 1755 : //		if((lpObj->Authority&32) != 32)
; 1756 : //		{
; 1757 : //			return FALSE;
; 1758 : //		}
; 1759 : //
; 1760 : //		skill_level = 378;
; 1761 : //	}
; 1762 : //
; 1763 : //	if(IT_MAP_RANGE(lpObj->MapNumber) != FALSE) //Season2.5 add-on (illusion temple checks)
; 1764 : //	{
; 1765 : //		if(g_IllusionTempleEvent.GetState(lpObj->MapNumber) != 0)
; 1766 : //		{
; 1767 : //			int ebp10 = g_IllusionTempleEvent.GetUserJoinSide(lpObj->MapNumber, lpObj->m_Index);
; 1768 : //			if(ebp10 == 0)
; 1769 : //			{
; 1770 : //				skill_level = 404;
; 1771 : //			}
; 1772 : //			else if(ebp10 == 1)
; 1773 : //			{
; 1774 : //				skill_level = 405;
; 1775 : //			}
; 1776 : //		}
; 1777 : //	}
; 1778 : //
; 1779 : //	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,68)) //Season 4 add-on
; 1780 : //	{
; 1781 : //		if(lpObj->pInventory[10].m_Durability < 1.0f)
; 1782 : //		{
; 1783 : //			skill_level = -1;
; 1784 : //		}
; 1785 : //		else
; 1786 : //		{
; 1787 : //			skill_level = 477;
; 1788 : //		}
; 1789 : //	}
; 1790 : //
; 1791 : //	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,68)) //Season 4 add-on
; 1792 : //	{
; 1793 : //		if(lpObj->pInventory[11].m_Durability < 1.0f)
; 1794 : //		{
; 1795 : //			skill_level = -1;
; 1796 : //		}
; 1797 : //		else
; 1798 : //		{
; 1799 : //			skill_level = 477;
; 1800 : //		}
; 1801 : //	}
; 1802 : ////Panda Ring
; 1803 : //	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,76)) //Season 4 add-on
; 1804 : //	{
; 1805 : //		if(lpObj->pInventory[10].m_Durability < 1.0f)
; 1806 : //		{
; 1807 : //			skill_level = -1;
; 1808 : //		}
; 1809 : //		else
; 1810 : //		{
; 1811 : //			skill_level = 503;
; 1812 : //		}
; 1813 : //	}
; 1814 : //
; 1815 : //	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,76)) //Season 4 add-on
; 1816 : //	{
; 1817 : //		if(lpObj->pInventory[11].m_Durability < 1.0f)
; 1818 : //		{
; 1819 : //			skill_level = -1;
; 1820 : //		}
; 1821 : //		else
; 1822 : //		{
; 1823 : //			skill_level = 503;
; 1824 : //		}
; 1825 : //	}
; 1826 : //	//Season 5 Skeleton Ring
; 1827 : //	if(lpObj->pInventory[10].IsItem() && lpObj->pInventory[10].m_Type == ITEMGET(13,122))
; 1828 : //	{
; 1829 : //		if(lpObj->pInventory[10].m_Durability < 1.0f)
; 1830 : //		{
; 1831 : //			skill_level = -1;
; 1832 : //		}
; 1833 : //		else
; 1834 : //		{
; 1835 : //			skill_level = 548;
; 1836 : //		}
; 1837 : //	}
; 1838 : //
; 1839 : //	//Season 5 Skeleton Ring
; 1840 : //	if(lpObj->pInventory[11].IsItem() && lpObj->pInventory[11].m_Type == ITEMGET(13,122))
; 1841 : //	{
; 1842 : //		if(lpObj->pInventory[11].m_Durability < 1.0f)
; 1843 : //		{
; 1844 : //			skill_level = -1;
; 1845 : //		}
; 1846 : //		else
; 1847 : //		{
; 1848 : //			skill_level = 548;
; 1849 : //		}
; 1850 : //	}
; 1851 : //
; 1852 : //	int change = -1;
; 1853 : //
; 1854 : //	switch(skill_level)
; 1855 : //	{
; 1856 : //	case 0: change = 2;	break;
; 1857 : //	case 1: change = 7; break;
; 1858 : //	case 2: change = 14;	break;
; 1859 : //	case 3: change = 8;	break;
; 1860 : //	case 4:	change = 9;	break;
; 1861 : //	case 5:	change = 41;	break;
; 1862 : //	case 372:	change = skill_level;	break;
; 1863 : //	case 373:	change = skill_level;	break; //Second Edition
; 1864 : //	case 374:	change = skill_level;	break; //season 2.5
; 1865 : //	case 378:	change = skill_level;	break; //season 2.5
; 1866 : //	case 404: //season 2.5
; 1867 : //	case 405:
; 1868 : //		change = skill_level;	break;
; 1869 : //	case 477:	change = skill_level;	break; //season 4
; 1870 : //	case 503:	change = skill_level;	break; //season 4.6 panda ring
; 1871 : //	case 548:	change = skill_level;	break;	//Season 5 Skeleton Ring
; 1872 : //	default: change = -1;	break;
; 1873 : //	}
; 1874 : //
; 1875 : //	if(lpObj->m_Change >= 0 && lpObj->m_Change == change)
; 1876 : //	{
; 1877 : //		return false;
; 1878 : //	}
; 1879 : //
; 1880 : //	if(lpObj->m_Change == 41 && change != 41)
; 1881 : //	{
; 1882 : //		lpObj->AddLife = 0;
; 1883 : //
; 1884 : //		GCReFillSend(lpObj->m_Index,lpObj->Life,0xFF,0,lpObj->iShield);
; 1885 : //		GCReFillSend(lpObj->m_Index,(lpObj->MaxLife + lpObj->AddLife),0xFE,0,(lpObj->iMaxShield + lpObj->iAddShield));
; 1886 : //	}
; 1887 : //
; 1888 : //	if(lpObj->m_Change == 372 && change != 372)
; 1889 : //	{
; 1890 : //		lpObj->AddLife = 0;
; 1891 : //		gObjCalCharacter(lpObj->m_Index);
; 1892 : //
; 1893 : //		GCReFillSend(lpObj->m_Index,lpObj->Life,0xFF,0,lpObj->iShield);
; 1894 : //		GCReFillSend(lpObj->m_Index,(lpObj->MaxLife + lpObj->AddLife),0xFE,0,(lpObj->iMaxShield + lpObj->iAddShield));
; 1895 : //	}
; 1896 : //
; 1897 : //	if(lpObj->m_Change == 374) //Season 2.5 add-on
; 1898 : //	{
; 1899 : //		if(change != 374)
; 1900 : //		{
; 1901 : //			lpObj->m_AttackDamageMaxLeft -= 20;
; 1902 : //			lpObj->m_AttackDamageMinLeft -= 20;
; 1903 : //			lpObj->m_AttackDamageMaxRight -= 20;
; 1904 : //			lpObj->m_AttackDamageMinRight -= 20;
; 1905 : //			lpObj->m_MagicDamageMin -= 20;
; 1906 : //			lpObj->m_MagicDamageMax -= 20;
; 1907 : //		}
; 1908 : //	}
; 1909 : //
; 1910 : //	lpObj->m_Change = change;
; 1911 : //	gObjViewportListProtocolCreate(lpObj);
; 1912 : //
; 1913 : ////#if(GS_CASTLE==1)
; 1914 : //	g_CastleSiege.NotifySelfCsJoinSide(lpObj->m_Index);
; 1915 : ////#endif
; 1916 : //
; 1917 : //	PMSG_KILLCOUNT pMsg = {0};
; 1918 : //
; 1919 : //	PHeadSubSetB((LPBYTE)&pMsg,0xB8,0x01,sizeof(pMsg));
; 1920 : //
; 1921 : //	pMsg.btKillCount = lpObj->m_btKillCount;
; 1922 : //
; 1923 : //	DataSend(aIndex,(LPBYTE)&pMsg,sizeof(pMsg));
; 1924 : //	return true;
; 1925 : 
; 1926 : 	LPOBJ lpObj = &gObj[aIndex];

  0329c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0329f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  032a5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  032ab	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 1927 : 
; 1928 : 	int skill_level = -1;

  032ae	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _skill_level$[ebp], -1

; 1929 : 
; 1930 : 	if(lpObj->Type != OBJ_USER)

  032b5	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  032b8	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  032bc	83 f9 01	 cmp	 ecx, 1
  032bf	74 07		 je	 SHORT $LN77@SkillChang

; 1931 : 	{
; 1932 : 		return false;

  032c1	33 c0		 xor	 eax, eax
  032c3	e9 3f 0a 00 00	 jmp	 $LN78@SkillChang
$LN77@SkillChang:

; 1933 : 	}
; 1934 : 
; 1935 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,10))

  032c8	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  032cb	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  032d1	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  032d7	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  032dc	83 f8 01	 cmp	 eax, 1
  032df	75 50		 jne	 SHORT $LN74@SkillChang
  032e1	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  032e4	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  032ea	0f bf 91 4e 08
	00 00		 movsx	 edx, WORD PTR [ecx+2126]
  032f1	81 fa 0a 1a 00
	00		 cmp	 edx, 6666		; 00001a0aH
  032f7	75 38		 jne	 SHORT $LN74@SkillChang

; 1936 : 	{
; 1937 : 		if(lpObj->pInventory[10].m_Durability < 1.0f)

  032f9	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  032fc	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03302	d9 81 6c 08 00
	00		 fld	 DWORD PTR [ecx+2156]
  03308	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@3ff0000000000000
  0330e	df e0		 fnstsw	 ax
  03310	f6 c4 05	 test	 ah, 5
  03313	7a 09		 jp	 SHORT $LN75@SkillChang

; 1938 : 		{
; 1939 : 			skill_level = -1;

  03315	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _skill_level$[ebp], -1

; 1940 : 		}
; 1941 : 		else

  0331c	eb 13		 jmp	 SHORT $LN74@SkillChang
$LN75@SkillChang:

; 1942 : 		{
; 1943 : 			skill_level = lpObj->pInventory[10].m_Level;

  0331e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03321	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03327	0f bf 91 50 08
	00 00		 movsx	 edx, WORD PTR [ecx+2128]
  0332e	89 55 f4	 mov	 DWORD PTR _skill_level$[ebp], edx
$LN74@SkillChang:

; 1944 : 		}
; 1945 : 	}
; 1946 : 
; 1947 : 	if(lpObj->pInventory[11].IsItem()==1 && skill_level == -1 && lpObj->pInventory[11].m_Type == ITEMGET(13,10))

  03331	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03334	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  0333a	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  03340	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  03345	83 f8 01	 cmp	 eax, 1
  03348	75 56		 jne	 SHORT $LN71@SkillChang
  0334a	83 7d f4 ff	 cmp	 DWORD PTR _skill_level$[ebp], -1
  0334e	75 50		 jne	 SHORT $LN71@SkillChang
  03350	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03353	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03359	0f bf 91 22 09
	00 00		 movsx	 edx, WORD PTR [ecx+2338]
  03360	81 fa 0a 1a 00
	00		 cmp	 edx, 6666		; 00001a0aH
  03366	75 38		 jne	 SHORT $LN71@SkillChang

; 1948 : 	{
; 1949 : 		if(lpObj->pInventory[11].m_Durability < 1.0f)

  03368	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0336b	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03371	d9 81 40 09 00
	00		 fld	 DWORD PTR [ecx+2368]
  03377	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@3ff0000000000000
  0337d	df e0		 fnstsw	 ax
  0337f	f6 c4 05	 test	 ah, 5
  03382	7a 09		 jp	 SHORT $LN72@SkillChang

; 1950 : 		{
; 1951 : 			skill_level = -1;

  03384	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _skill_level$[ebp], -1

; 1952 : 		}
; 1953 : 		else

  0338b	eb 13		 jmp	 SHORT $LN71@SkillChang
$LN72@SkillChang:

; 1954 : 		{
; 1955 : 			skill_level = lpObj->pInventory[11].m_Level;

  0338d	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03390	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03396	0f bf 91 24 09
	00 00		 movsx	 edx, WORD PTR [ecx+2340]
  0339d	89 55 f4	 mov	 DWORD PTR _skill_level$[ebp], edx
$LN71@SkillChang:

; 1956 : 		}
; 1957 : 	}
; 1958 : 
; 1959 : 	if(skill_level > 7)

  033a0	83 7d f4 07	 cmp	 DWORD PTR _skill_level$[ebp], 7
  033a4	7e 07		 jle	 SHORT $LN70@SkillChang

; 1960 : 	{
; 1961 : 		return false;

  033a6	33 c0		 xor	 eax, eax
  033a8	e9 5a 09 00 00	 jmp	 $LN78@SkillChang
$LN70@SkillChang:

; 1962 : 	}
; 1963 : 
; 1964 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,39))

  033ad	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  033b0	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  033b6	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  033bc	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  033c1	83 f8 01	 cmp	 eax, 1
  033c4	75 44		 jne	 SHORT $LN67@SkillChang
  033c6	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  033c9	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  033cf	0f bf 91 4e 08
	00 00		 movsx	 edx, WORD PTR [ecx+2126]
  033d6	81 fa 27 1a 00
	00		 cmp	 edx, 6695		; 00001a27H
  033dc	75 2c		 jne	 SHORT $LN67@SkillChang

; 1965 : 	{
; 1966 : 		if(lpObj->pInventory[10].m_Durability < 1.0f)

  033de	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  033e1	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  033e7	d9 81 6c 08 00
	00		 fld	 DWORD PTR [ecx+2156]
  033ed	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@3ff0000000000000
  033f3	df e0		 fnstsw	 ax
  033f5	f6 c4 05	 test	 ah, 5
  033f8	7a 09		 jp	 SHORT $LN68@SkillChang

; 1967 : 		{
; 1968 : 			skill_level = -1;

  033fa	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _skill_level$[ebp], -1

; 1969 : 		}
; 1970 : 		else

  03401	eb 07		 jmp	 SHORT $LN67@SkillChang
$LN68@SkillChang:

; 1971 : 		{
; 1972 : 			skill_level = 372;

  03403	c7 45 f4 74 01
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 372 ; 00000174H
$LN67@SkillChang:

; 1973 : 		}
; 1974 : 	}
; 1975 : 
; 1976 : 	if(lpObj->pInventory[11].IsItem()==1 && skill_level == -1 && lpObj->pInventory[11].m_Type == ITEMGET(13,39))

  0340a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0340d	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03413	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  03419	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0341e	83 f8 01	 cmp	 eax, 1
  03421	75 4a		 jne	 SHORT $LN64@SkillChang
  03423	83 7d f4 ff	 cmp	 DWORD PTR _skill_level$[ebp], -1
  03427	75 44		 jne	 SHORT $LN64@SkillChang
  03429	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0342c	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03432	0f bf 91 22 09
	00 00		 movsx	 edx, WORD PTR [ecx+2338]
  03439	81 fa 27 1a 00
	00		 cmp	 edx, 6695		; 00001a27H
  0343f	75 2c		 jne	 SHORT $LN64@SkillChang

; 1977 : 	{
; 1978 : 		if(lpObj->pInventory[11].m_Durability < 1.0f)

  03441	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03444	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  0344a	d9 81 40 09 00
	00		 fld	 DWORD PTR [ecx+2368]
  03450	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@3ff0000000000000
  03456	df e0		 fnstsw	 ax
  03458	f6 c4 05	 test	 ah, 5
  0345b	7a 09		 jp	 SHORT $LN65@SkillChang

; 1979 : 		{
; 1980 : 			skill_level = -1;

  0345d	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _skill_level$[ebp], -1

; 1981 : 		}
; 1982 : 		else

  03464	eb 07		 jmp	 SHORT $LN64@SkillChang
$LN65@SkillChang:

; 1983 : 		{
; 1984 : 			skill_level = 372;

  03466	c7 45 f4 74 01
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 372 ; 00000174H
$LN64@SkillChang:

; 1985 : 		}
; 1986 : 	}
; 1987 : 
; 1988 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,40)) //Second Edition

  0346d	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03470	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03476	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  0347c	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  03481	83 f8 01	 cmp	 eax, 1
  03484	75 44		 jne	 SHORT $LN61@SkillChang
  03486	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03489	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  0348f	0f bf 91 4e 08
	00 00		 movsx	 edx, WORD PTR [ecx+2126]
  03496	81 fa 28 1a 00
	00		 cmp	 edx, 6696		; 00001a28H
  0349c	75 2c		 jne	 SHORT $LN61@SkillChang

; 1989 : 	{
; 1990 : 		if(lpObj->pInventory[10].m_Durability < 1.0f)

  0349e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  034a1	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  034a7	d9 81 6c 08 00
	00		 fld	 DWORD PTR [ecx+2156]
  034ad	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@3ff0000000000000
  034b3	df e0		 fnstsw	 ax
  034b5	f6 c4 05	 test	 ah, 5
  034b8	7a 09		 jp	 SHORT $LN62@SkillChang

; 1991 : 		{
; 1992 : 			skill_level = -1;

  034ba	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _skill_level$[ebp], -1

; 1993 : 		}
; 1994 : 		else

  034c1	eb 07		 jmp	 SHORT $LN61@SkillChang
$LN62@SkillChang:

; 1995 : 		{
; 1996 : 			skill_level = 373;

  034c3	c7 45 f4 75 01
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 373 ; 00000175H
$LN61@SkillChang:

; 1997 : 		}
; 1998 : 	}
; 1999 : 
; 2000 : 	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,40)) //Second Edition

  034ca	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  034cd	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  034d3	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  034d9	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  034de	83 f8 01	 cmp	 eax, 1
  034e1	75 44		 jne	 SHORT $LN58@SkillChang
  034e3	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  034e6	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  034ec	0f bf 91 22 09
	00 00		 movsx	 edx, WORD PTR [ecx+2338]
  034f3	81 fa 28 1a 00
	00		 cmp	 edx, 6696		; 00001a28H
  034f9	75 2c		 jne	 SHORT $LN58@SkillChang

; 2001 : 	{
; 2002 : 		if(lpObj->pInventory[11].m_Durability < 1.0f)

  034fb	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  034fe	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03504	d9 81 40 09 00
	00		 fld	 DWORD PTR [ecx+2368]
  0350a	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@3ff0000000000000
  03510	df e0		 fnstsw	 ax
  03512	f6 c4 05	 test	 ah, 5
  03515	7a 09		 jp	 SHORT $LN59@SkillChang

; 2003 : 		{
; 2004 : 			skill_level = -1;

  03517	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _skill_level$[ebp], -1

; 2005 : 		}
; 2006 : 		else

  0351e	eb 07		 jmp	 SHORT $LN58@SkillChang
$LN59@SkillChang:

; 2007 : 		{
; 2008 : 			skill_level = 373;

  03520	c7 45 f4 75 01
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 373 ; 00000175H
$LN58@SkillChang:

; 2009 : 		}
; 2010 : 	}
; 2011 : 
; 2012 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,41)) //Season 2.5 add-on

  03527	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0352a	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03530	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  03536	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0353b	83 f8 01	 cmp	 eax, 1
  0353e	75 44		 jne	 SHORT $LN55@SkillChang
  03540	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03543	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03549	0f bf 91 4e 08
	00 00		 movsx	 edx, WORD PTR [ecx+2126]
  03550	81 fa 29 1a 00
	00		 cmp	 edx, 6697		; 00001a29H
  03556	75 2c		 jne	 SHORT $LN55@SkillChang

; 2013 : 	{
; 2014 : 		if(lpObj->pInventory[10].m_Durability < 1.0f)

  03558	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0355b	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03561	d9 81 6c 08 00
	00		 fld	 DWORD PTR [ecx+2156]
  03567	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@3ff0000000000000
  0356d	df e0		 fnstsw	 ax
  0356f	f6 c4 05	 test	 ah, 5
  03572	7a 09		 jp	 SHORT $LN56@SkillChang

; 2015 : 		{
; 2016 : 			skill_level = -1;

  03574	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _skill_level$[ebp], -1

; 2017 : 		}
; 2018 : 		else

  0357b	eb 07		 jmp	 SHORT $LN55@SkillChang
$LN56@SkillChang:

; 2019 : 		{
; 2020 : 			skill_level = 374;

  0357d	c7 45 f4 76 01
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 374 ; 00000176H
$LN55@SkillChang:

; 2021 : 		}
; 2022 : 	}
; 2023 : 
; 2024 : 	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,41)) //Season 2.5 add-on

  03584	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03587	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  0358d	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  03593	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  03598	83 f8 01	 cmp	 eax, 1
  0359b	75 44		 jne	 SHORT $LN52@SkillChang
  0359d	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  035a0	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  035a6	0f bf 91 22 09
	00 00		 movsx	 edx, WORD PTR [ecx+2338]
  035ad	81 fa 29 1a 00
	00		 cmp	 edx, 6697		; 00001a29H
  035b3	75 2c		 jne	 SHORT $LN52@SkillChang

; 2025 : 	{
; 2026 : 		if(lpObj->pInventory[11].m_Durability < 1.0f)

  035b5	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  035b8	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  035be	d9 81 40 09 00
	00		 fld	 DWORD PTR [ecx+2368]
  035c4	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@3ff0000000000000
  035ca	df e0		 fnstsw	 ax
  035cc	f6 c4 05	 test	 ah, 5
  035cf	7a 09		 jp	 SHORT $LN53@SkillChang

; 2027 : 		{
; 2028 : 			skill_level = -1;

  035d1	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _skill_level$[ebp], -1

; 2029 : 		}
; 2030 : 		else

  035d8	eb 07		 jmp	 SHORT $LN52@SkillChang
$LN53@SkillChang:

; 2031 : 		{
; 2032 : 			skill_level = 374;

  035da	c7 45 f4 76 01
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 374 ; 00000176H
$LN52@SkillChang:

; 2033 : 		}
; 2034 : 	}
; 2035 : 
; 2036 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,42)) //Season 2.5 add-on

  035e1	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  035e4	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  035ea	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  035f0	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  035f5	83 f8 01	 cmp	 eax, 1
  035f8	75 34		 jne	 SHORT $LN51@SkillChang
  035fa	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  035fd	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03603	0f bf 91 4e 08
	00 00		 movsx	 edx, WORD PTR [ecx+2126]
  0360a	81 fa 2a 1a 00
	00		 cmp	 edx, 6698		; 00001a2aH
  03610	75 1c		 jne	 SHORT $LN51@SkillChang

; 2037 : 	{
; 2038 : 		if((lpObj->Authority&32) != 32)

  03612	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03615	8b 88 0c 02 00
	00		 mov	 ecx, DWORD PTR [eax+524]
  0361b	83 e1 20	 and	 ecx, 32			; 00000020H
  0361e	75 07		 jne	 SHORT $LN50@SkillChang

; 2039 : 		{
; 2040 : 			return FALSE;

  03620	33 c0		 xor	 eax, eax
  03622	e9 e0 06 00 00	 jmp	 $LN78@SkillChang
$LN50@SkillChang:

; 2041 : 		}
; 2042 : 
; 2043 : 		skill_level = 378;

  03627	c7 45 f4 7a 01
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 378 ; 0000017aH
$LN51@SkillChang:

; 2044 : 
; 2045 : 	}
; 2046 : 
; 2047 : 	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,42)) //Season 2.5 add-on

  0362e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03631	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03637	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  0363d	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  03642	83 f8 01	 cmp	 eax, 1
  03645	75 34		 jne	 SHORT $LN49@SkillChang
  03647	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0364a	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03650	0f bf 91 22 09
	00 00		 movsx	 edx, WORD PTR [ecx+2338]
  03657	81 fa 2a 1a 00
	00		 cmp	 edx, 6698		; 00001a2aH
  0365d	75 1c		 jne	 SHORT $LN49@SkillChang

; 2048 : 	{
; 2049 : 		if((lpObj->Authority&32) != 32)

  0365f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03662	8b 88 0c 02 00
	00		 mov	 ecx, DWORD PTR [eax+524]
  03668	83 e1 20	 and	 ecx, 32			; 00000020H
  0366b	75 07		 jne	 SHORT $LN48@SkillChang

; 2050 : 		{
; 2051 : 			return FALSE;

  0366d	33 c0		 xor	 eax, eax
  0366f	e9 93 06 00 00	 jmp	 $LN78@SkillChang
$LN48@SkillChang:

; 2052 : 		}
; 2053 : 
; 2054 : 		skill_level = 378;

  03674	c7 45 f4 7a 01
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 378 ; 0000017aH
$LN49@SkillChang:

; 2055 : 	}
; 2056 : 
; 2057 : 	//if( CHECK_ILLUSIONTEMPLE(lpObj->MapNumber) )
; 2058 : 	//{
; 2059 : 	//	if( g_IllusionTempleEvent.GetIllusionTempleState(lpObj->MapNumber) != 0 )
; 2060 : 	//	{
; 2061 : 	//		int team = g_IllusionTempleEvent.GetUserTeam(lpObj->MapNumber, lpObj->m_Index);
; 2062 : 	//		if( team == 0 )
; 2063 : 	//		{
; 2064 : 	//			skill_level = 404;
; 2065 : 	//		}
; 2066 : 	//		else if( team == 1 )
; 2067 : 	//		{
; 2068 : 	//			skill_level = 405;
; 2069 : 	//		}
; 2070 : 	//	}
; 2071 : 	//}
; 2072 : 
; 2073 : 		if(IT_MAP_RANGE(lpObj->MapNumber) != FALSE) //Season2.5 add-on (illusion temple checks)

  0367b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0367e	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  03685	83 f9 2d	 cmp	 ecx, 45			; 0000002dH
  03688	7d 09		 jge	 SHORT $LN80@SkillChang
  0368a	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv265[ebp], 0
  03691	eb 15		 jmp	 SHORT $LN81@SkillChang
$LN80@SkillChang:
  03693	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03696	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0369d	33 c9		 xor	 ecx, ecx
  0369f	83 f8 32	 cmp	 eax, 50			; 00000032H
  036a2	0f 9e c1	 setle	 cl
  036a5	89 4d a0	 mov	 DWORD PTR tv265[ebp], ecx
$LN81@SkillChang:
  036a8	83 7d a0 00	 cmp	 DWORD PTR tv265[ebp], 0
  036ac	74 59		 je	 SHORT $LN43@SkillChang

; 2074 : 		{
; 2075 : 			if(g_IllusionTempleEvent.GetState(lpObj->MapNumber) != 0)

  036ae	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  036b1	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  036b8	51		 push	 ecx
  036b9	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_IllusionTempleEvent@@3VCIllusionTempleEvent@@A ; g_IllusionTempleEvent
  036be	e8 00 00 00 00	 call	 ?GetState@CIllusionTempleEvent@@QAEEE@Z ; CIllusionTempleEvent::GetState
  036c3	0f b6 d0	 movzx	 edx, al
  036c6	85 d2		 test	 edx, edx
  036c8	74 3d		 je	 SHORT $LN43@SkillChang

; 2076 : 			{
; 2077 : 				int team = g_IllusionTempleEvent.GetUserJoinSide(lpObj->MapNumber, lpObj->m_Index);

  036ca	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  036cd	8b 08		 mov	 ecx, DWORD PTR [eax]
  036cf	51		 push	 ecx
  036d0	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  036d3	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  036da	50		 push	 eax
  036db	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_IllusionTempleEvent@@3VCIllusionTempleEvent@@A ; g_IllusionTempleEvent
  036e0	e8 00 00 00 00	 call	 ?GetUserJoinSide@CIllusionTempleEvent@@QAEEEH@Z ; CIllusionTempleEvent::GetUserJoinSide
  036e5	0f b6 c8	 movzx	 ecx, al
  036e8	89 4d f0	 mov	 DWORD PTR _team$240421[ebp], ecx

; 2078 : 				if(team == 0)

  036eb	83 7d f0 00	 cmp	 DWORD PTR _team$240421[ebp], 0
  036ef	75 09		 jne	 SHORT $LN45@SkillChang

; 2079 : 				{
; 2080 : 					skill_level = 404;

  036f1	c7 45 f4 94 01
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 404 ; 00000194H
  036f8	eb 0d		 jmp	 SHORT $LN43@SkillChang
$LN45@SkillChang:

; 2081 : 				}
; 2082 : 				else if(team == 1)

  036fa	83 7d f0 01	 cmp	 DWORD PTR _team$240421[ebp], 1
  036fe	75 07		 jne	 SHORT $LN43@SkillChang

; 2083 : 				{
; 2084 : 					skill_level = 405;

  03700	c7 45 f4 95 01
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 405 ; 00000195H
$LN43@SkillChang:

; 2085 : 				}
; 2086 : 			}
; 2087 : 		}
; 2088 : 
; 2089 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,68)) //Season 4 add-on

  03707	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0370a	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03710	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  03716	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0371b	83 f8 01	 cmp	 eax, 1
  0371e	75 44		 jne	 SHORT $LN40@SkillChang
  03720	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03723	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03729	0f bf 91 4e 08
	00 00		 movsx	 edx, WORD PTR [ecx+2126]
  03730	81 fa 44 1a 00
	00		 cmp	 edx, 6724		; 00001a44H
  03736	75 2c		 jne	 SHORT $LN40@SkillChang

; 2090 : 	{
; 2091 : 		if(lpObj->pInventory[10].m_Durability < 1.0f)

  03738	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0373b	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03741	d9 81 6c 08 00
	00		 fld	 DWORD PTR [ecx+2156]
  03747	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@3ff0000000000000
  0374d	df e0		 fnstsw	 ax
  0374f	f6 c4 05	 test	 ah, 5
  03752	7a 09		 jp	 SHORT $LN41@SkillChang

; 2092 : 		{
; 2093 : 			skill_level = -1;

  03754	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _skill_level$[ebp], -1

; 2094 : 		}
; 2095 : 		else

  0375b	eb 07		 jmp	 SHORT $LN40@SkillChang
$LN41@SkillChang:

; 2096 : 		{
; 2097 : 			skill_level = 477;

  0375d	c7 45 f4 dd 01
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 477 ; 000001ddH
$LN40@SkillChang:

; 2098 : 		}
; 2099 : 	}
; 2100 : 
; 2101 : 	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,68)) //Season 4 add-on

  03764	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03767	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  0376d	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  03773	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  03778	83 f8 01	 cmp	 eax, 1
  0377b	75 44		 jne	 SHORT $LN37@SkillChang
  0377d	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03780	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03786	0f bf 91 22 09
	00 00		 movsx	 edx, WORD PTR [ecx+2338]
  0378d	81 fa 44 1a 00
	00		 cmp	 edx, 6724		; 00001a44H
  03793	75 2c		 jne	 SHORT $LN37@SkillChang

; 2102 : 	{
; 2103 : 		if(lpObj->pInventory[11].m_Durability < 1.0f)

  03795	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03798	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  0379e	d9 81 40 09 00
	00		 fld	 DWORD PTR [ecx+2368]
  037a4	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@3ff0000000000000
  037aa	df e0		 fnstsw	 ax
  037ac	f6 c4 05	 test	 ah, 5
  037af	7a 09		 jp	 SHORT $LN38@SkillChang

; 2104 : 		{
; 2105 : 			skill_level = -1;

  037b1	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _skill_level$[ebp], -1

; 2106 : 		}
; 2107 : 		else

  037b8	eb 07		 jmp	 SHORT $LN37@SkillChang
$LN38@SkillChang:

; 2108 : 		{
; 2109 : 			skill_level = 477;

  037ba	c7 45 f4 dd 01
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 477 ; 000001ddH
$LN37@SkillChang:

; 2110 : 		}
; 2111 : 	}
; 2112 : 
; 2113 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,76)) //Season 4.6 add-on

  037c1	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  037c4	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  037ca	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  037d0	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  037d5	83 f8 01	 cmp	 eax, 1
  037d8	75 44		 jne	 SHORT $LN34@SkillChang
  037da	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  037dd	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  037e3	0f bf 91 4e 08
	00 00		 movsx	 edx, WORD PTR [ecx+2126]
  037ea	81 fa 4c 1a 00
	00		 cmp	 edx, 6732		; 00001a4cH
  037f0	75 2c		 jne	 SHORT $LN34@SkillChang

; 2114 : 	{
; 2115 : 		if(lpObj->pInventory[10].m_Durability < 1.0f)

  037f2	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  037f5	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  037fb	d9 81 6c 08 00
	00		 fld	 DWORD PTR [ecx+2156]
  03801	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@3ff0000000000000
  03807	df e0		 fnstsw	 ax
  03809	f6 c4 05	 test	 ah, 5
  0380c	7a 09		 jp	 SHORT $LN35@SkillChang

; 2116 : 		{
; 2117 : 			skill_level = -1;

  0380e	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _skill_level$[ebp], -1

; 2118 : 		}
; 2119 : 		else

  03815	eb 07		 jmp	 SHORT $LN34@SkillChang
$LN35@SkillChang:

; 2120 : 		{
; 2121 : 			skill_level = 503;

  03817	c7 45 f4 f7 01
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 503 ; 000001f7H
$LN34@SkillChang:

; 2122 : 		}
; 2123 : 	}
; 2124 : 
; 2125 : 	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,76)) //Season 4.6 add-on

  0381e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03821	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03827	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  0382d	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  03832	83 f8 01	 cmp	 eax, 1
  03835	75 44		 jne	 SHORT $LN31@SkillChang
  03837	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0383a	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03840	0f bf 91 22 09
	00 00		 movsx	 edx, WORD PTR [ecx+2338]
  03847	81 fa 4c 1a 00
	00		 cmp	 edx, 6732		; 00001a4cH
  0384d	75 2c		 jne	 SHORT $LN31@SkillChang

; 2126 : 	{
; 2127 : 		if(lpObj->pInventory[11].m_Durability < 1.0f)

  0384f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03852	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03858	d9 81 40 09 00
	00		 fld	 DWORD PTR [ecx+2368]
  0385e	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@3ff0000000000000
  03864	df e0		 fnstsw	 ax
  03866	f6 c4 05	 test	 ah, 5
  03869	7a 09		 jp	 SHORT $LN32@SkillChang

; 2128 : 		{
; 2129 : 			skill_level = -1;

  0386b	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _skill_level$[ebp], -1

; 2130 : 		}
; 2131 : 		else

  03872	eb 07		 jmp	 SHORT $LN31@SkillChang
$LN32@SkillChang:

; 2132 : 		{
; 2133 : 			skill_level = 503;

  03874	c7 45 f4 f7 01
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 503 ; 000001f7H
$LN31@SkillChang:

; 2134 : 		}
; 2135 : 	}
; 2136 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13, 122)) // Season 5 Episode 2 JPN Skeleton Ring

  0387b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0387e	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03884	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  0388a	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0388f	83 f8 01	 cmp	 eax, 1
  03892	75 44		 jne	 SHORT $LN28@SkillChang
  03894	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03897	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  0389d	0f bf 91 4e 08
	00 00		 movsx	 edx, WORD PTR [ecx+2126]
  038a4	81 fa 7a 1a 00
	00		 cmp	 edx, 6778		; 00001a7aH
  038aa	75 2c		 jne	 SHORT $LN28@SkillChang

; 2137 : 	{
; 2138 : 		if(lpObj->pInventory[10].m_Durability < 1.0f)

  038ac	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  038af	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  038b5	d9 81 6c 08 00
	00		 fld	 DWORD PTR [ecx+2156]
  038bb	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@3ff0000000000000
  038c1	df e0		 fnstsw	 ax
  038c3	f6 c4 05	 test	 ah, 5
  038c6	7a 09		 jp	 SHORT $LN29@SkillChang

; 2139 : 		{
; 2140 : 			skill_level = -1;

  038c8	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _skill_level$[ebp], -1

; 2141 : 		}
; 2142 : 		else

  038cf	eb 07		 jmp	 SHORT $LN28@SkillChang
$LN29@SkillChang:

; 2143 : 		{
; 2144 : 			skill_level = 548;

  038d1	c7 45 f4 24 02
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 548 ; 00000224H
$LN28@SkillChang:

; 2145 : 		}
; 2146 : 	}
; 2147 : 
; 2148 : 	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13, 122)) // Season 5 Episode 2 JPN Skeleton Ring

  038d8	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  038db	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  038e1	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  038e7	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  038ec	83 f8 01	 cmp	 eax, 1
  038ef	75 44		 jne	 SHORT $LN25@SkillChang
  038f1	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  038f4	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  038fa	0f bf 91 22 09
	00 00		 movsx	 edx, WORD PTR [ecx+2338]
  03901	81 fa 7a 1a 00
	00		 cmp	 edx, 6778		; 00001a7aH
  03907	75 2c		 jne	 SHORT $LN25@SkillChang

; 2149 : 	{
; 2150 : 		if(lpObj->pInventory[11].m_Durability < 1.0f)

  03909	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0390c	8b 88 24 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3620]
  03912	d9 81 40 09 00
	00		 fld	 DWORD PTR [ecx+2368]
  03918	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@3ff0000000000000
  0391e	df e0		 fnstsw	 ax
  03920	f6 c4 05	 test	 ah, 5
  03923	7a 09		 jp	 SHORT $LN26@SkillChang

; 2151 : 		{
; 2152 : 			skill_level = -1;

  03925	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _skill_level$[ebp], -1

; 2153 : 		}
; 2154 : 		else

  0392c	eb 07		 jmp	 SHORT $LN25@SkillChang
$LN26@SkillChang:

; 2155 : 		{
; 2156 : 			skill_level = 548;

  0392e	c7 45 f4 24 02
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 548 ; 00000224H
$LN25@SkillChang:

; 2157 : 		}
; 2158 : 	}
; 2159 : 	int change = -1;

  03935	c7 45 ec ff ff
	ff ff		 mov	 DWORD PTR _change$[ebp], -1

; 2160 : 
; 2161 : 	switch(skill_level)

  0393c	8b 45 f4	 mov	 eax, DWORD PTR _skill_level$[ebp]
  0393f	89 45 a0	 mov	 DWORD PTR tv371[ebp], eax
  03942	81 7d a0 74 01
	00 00		 cmp	 DWORD PTR tv371[ebp], 372 ; 00000174H
  03949	7f 1d		 jg	 SHORT $LN82@SkillChang
  0394b	81 7d a0 74 01
	00 00		 cmp	 DWORD PTR tv371[ebp], 372 ; 00000174H
  03952	74 74		 je	 SHORT $LN16@SkillChang
  03954	83 7d a0 05	 cmp	 DWORD PTR tv371[ebp], 5
  03958	0f 87 aa 00 00
	00		 ja	 $LN8@SkillChang
  0395e	8b 4d a0	 mov	 ecx, DWORD PTR tv371[ebp]
  03961	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN84@SkillChang[ecx*4]
$LN82@SkillChang:
  03968	8b 55 a0	 mov	 edx, DWORD PTR tv371[ebp]
  0396b	81 ea 75 01 00
	00		 sub	 edx, 373		; 00000175H
  03971	89 55 a0	 mov	 DWORD PTR tv371[ebp], edx
  03974	81 7d a0 af 00
	00 00		 cmp	 DWORD PTR tv371[ebp], 175 ; 000000afH
  0397b	0f 87 87 00 00
	00		 ja	 $LN8@SkillChang
  03981	8b 45 a0	 mov	 eax, DWORD PTR tv371[ebp]
  03984	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR $LN83@SkillChang[eax]
  0398b	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN85@SkillChang[ecx*4]
$LN22@SkillChang:

; 2162 : 	{
; 2163 : 	case 0: change = 2;	break;

  03992	c7 45 ec 02 00
	00 00		 mov	 DWORD PTR _change$[ebp], 2
  03999	eb 74		 jmp	 SHORT $LN23@SkillChang
$LN21@SkillChang:

; 2164 : 	case 1: change = 7; break;

  0399b	c7 45 ec 07 00
	00 00		 mov	 DWORD PTR _change$[ebp], 7
  039a2	eb 6b		 jmp	 SHORT $LN23@SkillChang
$LN20@SkillChang:

; 2165 : 	case 2: change = 14;	break;

  039a4	c7 45 ec 0e 00
	00 00		 mov	 DWORD PTR _change$[ebp], 14 ; 0000000eH
  039ab	eb 62		 jmp	 SHORT $LN23@SkillChang
$LN19@SkillChang:

; 2166 : 	case 3: change = 8;	break;

  039ad	c7 45 ec 08 00
	00 00		 mov	 DWORD PTR _change$[ebp], 8
  039b4	eb 59		 jmp	 SHORT $LN23@SkillChang
$LN18@SkillChang:

; 2167 : 	case 4:	change = 9;	break;

  039b6	c7 45 ec 09 00
	00 00		 mov	 DWORD PTR _change$[ebp], 9
  039bd	eb 50		 jmp	 SHORT $LN23@SkillChang
$LN17@SkillChang:

; 2168 : 	case 5:	change = 41;	break;

  039bf	c7 45 ec 29 00
	00 00		 mov	 DWORD PTR _change$[ebp], 41 ; 00000029H
  039c6	eb 47		 jmp	 SHORT $LN23@SkillChang
$LN16@SkillChang:

; 2169 : 	case 372:	change = skill_level;	break;

  039c8	8b 45 f4	 mov	 eax, DWORD PTR _skill_level$[ebp]
  039cb	89 45 ec	 mov	 DWORD PTR _change$[ebp], eax
  039ce	eb 3f		 jmp	 SHORT $LN23@SkillChang
$LN15@SkillChang:

; 2170 : 	case 373:	change = skill_level;	break; //Second Edition

  039d0	8b 45 f4	 mov	 eax, DWORD PTR _skill_level$[ebp]
  039d3	89 45 ec	 mov	 DWORD PTR _change$[ebp], eax
  039d6	eb 37		 jmp	 SHORT $LN23@SkillChang
$LN14@SkillChang:

; 2171 : 	case 374:	change = skill_level;	break; //season 2.5

  039d8	8b 45 f4	 mov	 eax, DWORD PTR _skill_level$[ebp]
  039db	89 45 ec	 mov	 DWORD PTR _change$[ebp], eax
  039de	eb 2f		 jmp	 SHORT $LN23@SkillChang
$LN13@SkillChang:

; 2172 : 	case 378:	change = skill_level;	break; //season 2.5

  039e0	8b 45 f4	 mov	 eax, DWORD PTR _skill_level$[ebp]
  039e3	89 45 ec	 mov	 DWORD PTR _change$[ebp], eax
  039e6	eb 27		 jmp	 SHORT $LN23@SkillChang
$LN12@SkillChang:

; 2173 : 	case 404:								   //season 2.5
; 2174 : 	case 405:	change = skill_level;	break;

  039e8	8b 45 f4	 mov	 eax, DWORD PTR _skill_level$[ebp]
  039eb	89 45 ec	 mov	 DWORD PTR _change$[ebp], eax
  039ee	eb 1f		 jmp	 SHORT $LN23@SkillChang
$LN11@SkillChang:

; 2175 : 	case 477:	change = skill_level;	break; //season 4

  039f0	8b 45 f4	 mov	 eax, DWORD PTR _skill_level$[ebp]
  039f3	89 45 ec	 mov	 DWORD PTR _change$[ebp], eax
  039f6	eb 17		 jmp	 SHORT $LN23@SkillChang
$LN10@SkillChang:

; 2176 : 	case 503:	change = skill_level;	break; //season 4.6

  039f8	8b 45 f4	 mov	 eax, DWORD PTR _skill_level$[ebp]
  039fb	89 45 ec	 mov	 DWORD PTR _change$[ebp], eax
  039fe	eb 0f		 jmp	 SHORT $LN23@SkillChang
$LN9@SkillChang:

; 2177 : 	case 548:	change = skill_level;	break; // Season 5 Episode 2 JPN

  03a00	8b 45 f4	 mov	 eax, DWORD PTR _skill_level$[ebp]
  03a03	89 45 ec	 mov	 DWORD PTR _change$[ebp], eax
  03a06	eb 07		 jmp	 SHORT $LN23@SkillChang
$LN8@SkillChang:

; 2178 : 	default: change = -1;	break;

  03a08	c7 45 ec ff ff
	ff ff		 mov	 DWORD PTR _change$[ebp], -1
$LN23@SkillChang:

; 2179 : 	}
; 2180 : 
; 2181 : 	if(lpObj->m_Change >= 0 && lpObj->m_Change == change)

  03a0f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a12	83 b8 54 04 00
	00 00		 cmp	 DWORD PTR [eax+1108], 0
  03a19	7c 15		 jl	 SHORT $LN7@SkillChang
  03a1b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a1e	8b 88 54 04 00
	00		 mov	 ecx, DWORD PTR [eax+1108]
  03a24	3b 4d ec	 cmp	 ecx, DWORD PTR _change$[ebp]
  03a27	75 07		 jne	 SHORT $LN7@SkillChang

; 2182 : 	{
; 2183 : 		return false;

  03a29	33 c0		 xor	 eax, eax
  03a2b	e9 d7 02 00 00	 jmp	 $LN78@SkillChang
$LN7@SkillChang:

; 2184 : 	}
; 2185 : 
; 2186 : 	if(lpObj->m_Change == 41 && change != 41)

  03a30	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a33	83 b8 54 04 00
	00 29		 cmp	 DWORD PTR [eax+1108], 41 ; 00000029H
  03a3a	0f 85 81 00 00
	00		 jne	 $LN6@SkillChang
  03a40	83 7d ec 29	 cmp	 DWORD PTR _change$[ebp], 41 ; 00000029H
  03a44	74 7b		 je	 SHORT $LN6@SkillChang

; 2187 : 	{
; 2188 : 		lpObj->AddLife = 0;

  03a46	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a49	c7 80 4c 01 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+332], 0

; 2189 : 
; 2190 : 		GCReFillSend(lpObj->m_Index,lpObj->Life,0xFF,0,lpObj->iShield);

  03a53	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a56	8b 88 54 01 00
	00		 mov	 ecx, DWORD PTR [eax+340]
  03a5c	51		 push	 ecx
  03a5d	6a 00		 push	 0
  03a5f	68 ff 00 00 00	 push	 255			; 000000ffH
  03a64	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03a67	d9 82 fc 00 00
	00		 fld	 DWORD PTR [edx+252]
  03a6d	e8 00 00 00 00	 call	 __ftol2_sse
  03a72	50		 push	 eax
  03a73	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a76	8b 08		 mov	 ecx, DWORD PTR [eax]
  03a78	51		 push	 ecx
  03a79	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend
  03a7e	83 c4 14	 add	 esp, 20			; 00000014H

; 2191 : 		GCReFillSend(lpObj->m_Index,lpObj->MaxLife + lpObj->AddLife,0xFE,0,lpObj->iMaxShield + lpObj->iAddShield);

  03a81	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a84	8b 88 58 01 00
	00		 mov	 ecx, DWORD PTR [eax+344]
  03a8a	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03a8d	03 8a 5c 01 00
	00		 add	 ecx, DWORD PTR [edx+348]
  03a93	51		 push	 ecx
  03a94	6a 00		 push	 0
  03a96	68 fe 00 00 00	 push	 254			; 000000feH
  03a9b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a9e	db 80 4c 01 00
	00		 fild	 DWORD PTR [eax+332]
  03aa4	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03aa7	d8 81 00 01 00
	00		 fadd	 DWORD PTR [ecx+256]
  03aad	e8 00 00 00 00	 call	 __ftol2_sse
  03ab2	50		 push	 eax
  03ab3	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03ab6	8b 02		 mov	 eax, DWORD PTR [edx]
  03ab8	50		 push	 eax
  03ab9	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend
  03abe	83 c4 14	 add	 esp, 20			; 00000014H
$LN6@SkillChang:

; 2192 : 	}
; 2193 : 
; 2194 : 	if(lpObj->m_Change == 372 && change != 372)

  03ac1	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03ac4	81 b8 54 04 00
	00 74 01 00 00	 cmp	 DWORD PTR [eax+1108], 372 ; 00000174H
  03ace	0f 85 96 00 00
	00		 jne	 $LN5@SkillChang
  03ad4	81 7d ec 74 01
	00 00		 cmp	 DWORD PTR _change$[ebp], 372 ; 00000174H
  03adb	0f 84 89 00 00
	00		 je	 $LN5@SkillChang

; 2195 : 	{
; 2196 : 		lpObj->AddLife = 0;

  03ae1	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03ae4	c7 80 4c 01 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+332], 0

; 2197 : 		gObjCalCharacter(lpObj->m_Index);

  03aee	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03af1	8b 08		 mov	 ecx, DWORD PTR [eax]
  03af3	51		 push	 ecx
  03af4	e8 00 00 00 00	 call	 ?gObjCalCharacter@@YAXH@Z ; gObjCalCharacter
  03af9	83 c4 04	 add	 esp, 4

; 2198 : 
; 2199 : 		GCReFillSend(lpObj->m_Index,lpObj->Life,0xFF,0,lpObj->iShield);

  03afc	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03aff	8b 88 54 01 00
	00		 mov	 ecx, DWORD PTR [eax+340]
  03b05	51		 push	 ecx
  03b06	6a 00		 push	 0
  03b08	68 ff 00 00 00	 push	 255			; 000000ffH
  03b0d	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03b10	d9 82 fc 00 00
	00		 fld	 DWORD PTR [edx+252]
  03b16	e8 00 00 00 00	 call	 __ftol2_sse
  03b1b	50		 push	 eax
  03b1c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03b1f	8b 08		 mov	 ecx, DWORD PTR [eax]
  03b21	51		 push	 ecx
  03b22	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend
  03b27	83 c4 14	 add	 esp, 20			; 00000014H

; 2200 : 		GCReFillSend(lpObj->m_Index,lpObj->MaxLife + lpObj->AddLife,0xFE,0,lpObj->iMaxShield + lpObj->iAddShield);

  03b2a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03b2d	8b 88 58 01 00
	00		 mov	 ecx, DWORD PTR [eax+344]
  03b33	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03b36	03 8a 5c 01 00
	00		 add	 ecx, DWORD PTR [edx+348]
  03b3c	51		 push	 ecx
  03b3d	6a 00		 push	 0
  03b3f	68 fe 00 00 00	 push	 254			; 000000feH
  03b44	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03b47	db 80 4c 01 00
	00		 fild	 DWORD PTR [eax+332]
  03b4d	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03b50	d8 81 00 01 00
	00		 fadd	 DWORD PTR [ecx+256]
  03b56	e8 00 00 00 00	 call	 __ftol2_sse
  03b5b	50		 push	 eax
  03b5c	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03b5f	8b 02		 mov	 eax, DWORD PTR [edx]
  03b61	50		 push	 eax
  03b62	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend
  03b67	83 c4 14	 add	 esp, 20			; 00000014H
$LN5@SkillChang:

; 2201 : 	}
; 2202 : 
; 2203 : 	if(lpObj->m_Change == 374) //Season 2.5 add-on

  03b6a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03b6d	81 b8 54 04 00
	00 76 01 00 00	 cmp	 DWORD PTR [eax+1108], 374 ; 00000176H
  03b77	0f 85 87 00 00
	00		 jne	 $LN3@SkillChang

; 2204 : 	{
; 2205 : 		if(change != 374)

  03b7d	81 7d ec 76 01
	00 00		 cmp	 DWORD PTR _change$[ebp], 374 ; 00000176H
  03b84	74 7e		 je	 SHORT $LN3@SkillChang

; 2206 : 		{
; 2207 : 			lpObj->m_AttackDamageMaxLeft -= 20;

  03b86	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03b89	8b 88 78 04 00
	00		 mov	 ecx, DWORD PTR [eax+1144]
  03b8f	83 e9 14	 sub	 ecx, 20			; 00000014H
  03b92	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03b95	89 8a 78 04 00
	00		 mov	 DWORD PTR [edx+1144], ecx

; 2208 : 			lpObj->m_AttackDamageMinLeft -= 20;

  03b9b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03b9e	8b 88 7c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1148]
  03ba4	83 e9 14	 sub	 ecx, 20			; 00000014H
  03ba7	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03baa	89 8a 7c 04 00
	00		 mov	 DWORD PTR [edx+1148], ecx

; 2209 : 			lpObj->m_AttackDamageMaxRight -= 20;

  03bb0	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03bb3	8b 88 80 04 00
	00		 mov	 ecx, DWORD PTR [eax+1152]
  03bb9	83 e9 14	 sub	 ecx, 20			; 00000014H
  03bbc	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03bbf	89 8a 80 04 00
	00		 mov	 DWORD PTR [edx+1152], ecx

; 2210 : 			lpObj->m_AttackDamageMinRight -= 20;

  03bc5	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03bc8	8b 88 84 04 00
	00		 mov	 ecx, DWORD PTR [eax+1156]
  03bce	83 e9 14	 sub	 ecx, 20			; 00000014H
  03bd1	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03bd4	89 8a 84 04 00
	00		 mov	 DWORD PTR [edx+1156], ecx

; 2211 : 			lpObj->m_MagicDamageMin -= 20;

  03bda	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03bdd	8b 88 68 04 00
	00		 mov	 ecx, DWORD PTR [eax+1128]
  03be3	83 e9 14	 sub	 ecx, 20			; 00000014H
  03be6	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03be9	89 8a 68 04 00
	00		 mov	 DWORD PTR [edx+1128], ecx

; 2212 : 			lpObj->m_MagicDamageMax -= 20;

  03bef	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03bf2	8b 88 6c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1132]
  03bf8	83 e9 14	 sub	 ecx, 20			; 00000014H
  03bfb	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03bfe	89 8a 6c 04 00
	00		 mov	 DWORD PTR [edx+1132], ecx
$LN3@SkillChang:

; 2213 : 		}
; 2214 : 	}
; 2215 : 
; 2216 : 	if(lpObj->m_Change == 503) //Season 4.6 add-on

  03c04	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03c07	81 b8 54 04 00
	00 f7 01 00 00	 cmp	 DWORD PTR [eax+1108], 503 ; 000001f7H
  03c11	0f 85 87 00 00
	00		 jne	 $LN1@SkillChang

; 2217 : 	{
; 2218 : 		if(change != 503)

  03c17	81 7d ec f7 01
	00 00		 cmp	 DWORD PTR _change$[ebp], 503 ; 000001f7H
  03c1e	74 7e		 je	 SHORT $LN1@SkillChang

; 2219 : 		{
; 2220 : 			lpObj->m_AttackDamageMaxLeft -= 30;

  03c20	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03c23	8b 88 78 04 00
	00		 mov	 ecx, DWORD PTR [eax+1144]
  03c29	83 e9 1e	 sub	 ecx, 30			; 0000001eH
  03c2c	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03c2f	89 8a 78 04 00
	00		 mov	 DWORD PTR [edx+1144], ecx

; 2221 : 			lpObj->m_AttackDamageMinLeft -= 30;

  03c35	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03c38	8b 88 7c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1148]
  03c3e	83 e9 1e	 sub	 ecx, 30			; 0000001eH
  03c41	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03c44	89 8a 7c 04 00
	00		 mov	 DWORD PTR [edx+1148], ecx

; 2222 : 			lpObj->m_AttackDamageMaxRight -= 30;

  03c4a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03c4d	8b 88 80 04 00
	00		 mov	 ecx, DWORD PTR [eax+1152]
  03c53	83 e9 1e	 sub	 ecx, 30			; 0000001eH
  03c56	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03c59	89 8a 80 04 00
	00		 mov	 DWORD PTR [edx+1152], ecx

; 2223 : 			lpObj->m_AttackDamageMinRight -= 30;

  03c5f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03c62	8b 88 84 04 00
	00		 mov	 ecx, DWORD PTR [eax+1156]
  03c68	83 e9 1e	 sub	 ecx, 30			; 0000001eH
  03c6b	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03c6e	89 8a 84 04 00
	00		 mov	 DWORD PTR [edx+1156], ecx

; 2224 : 			lpObj->m_MagicDamageMin -= 30;

  03c74	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03c77	8b 88 68 04 00
	00		 mov	 ecx, DWORD PTR [eax+1128]
  03c7d	83 e9 1e	 sub	 ecx, 30			; 0000001eH
  03c80	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03c83	89 8a 68 04 00
	00		 mov	 DWORD PTR [edx+1128], ecx

; 2225 : 			lpObj->m_MagicDamageMax -= 30;

  03c89	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03c8c	8b 88 6c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1132]
  03c92	83 e9 1e	 sub	 ecx, 30			; 0000001eH
  03c95	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03c98	89 8a 6c 04 00
	00		 mov	 DWORD PTR [edx+1132], ecx
$LN1@SkillChang:

; 2226 : 		}
; 2227 : 	}
; 2228 : 
; 2229 : 	lpObj->m_Change = change;

  03c9e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03ca1	8b 4d ec	 mov	 ecx, DWORD PTR _change$[ebp]
  03ca4	89 88 54 04 00
	00		 mov	 DWORD PTR [eax+1108], ecx

; 2230 : 	gObjViewportListProtocolCreate(lpObj);

  03caa	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03cad	50		 push	 eax
  03cae	e8 00 00 00 00	 call	 ?gObjViewportListProtocolCreate@@YAXPAUOBJECTSTRUCT@@@Z ; gObjViewportListProtocolCreate
  03cb3	83 c4 04	 add	 esp, 4

; 2231 : 
; 2232 : 	//#if(_GSCS==1)
; 2233 : 	g_CastleSiege.NotifySelfCsJoinSide(lpObj->m_Index);

  03cb6	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03cb9	8b 08		 mov	 ecx, DWORD PTR [eax]
  03cbb	51		 push	 ecx
  03cbc	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  03cc1	e8 00 00 00 00	 call	 ?NotifySelfCsJoinSide@CCastleSiege@@QAEXH@Z ; CCastleSiege::NotifySelfCsJoinSide

; 2234 : 	//#endif
; 2235 : 
; 2236 : 	PMSG_KILLCOUNT pMsg = {0};

  03cc6	c6 45 e4 00	 mov	 BYTE PTR _pMsg$[ebp], 0
  03cca	33 c0		 xor	 eax, eax
  03ccc	89 45 e5	 mov	 DWORD PTR _pMsg$[ebp+1], eax

; 2237 : 
; 2238 : 	PHeadSubSetB((LPBYTE)&pMsg,0xB8,0x01,sizeof(pMsg));

  03ccf	6a 05		 push	 5
  03cd1	6a 01		 push	 1
  03cd3	68 b8 00 00 00	 push	 184			; 000000b8H
  03cd8	8d 45 e4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  03cdb	50		 push	 eax
  03cdc	e8 00 00 00 00	 call	 ?PHeadSubSetB@@YAXPAEEEH@Z ; PHeadSubSetB
  03ce1	83 c4 10	 add	 esp, 16			; 00000010H

; 2239 : 
; 2240 : 	pMsg.btKillCount = lpObj->m_btKillCount;

  03ce4	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03ce7	8a 88 0c 1c 00
	00		 mov	 cl, BYTE PTR [eax+7180]
  03ced	88 4d e8	 mov	 BYTE PTR _pMsg$[ebp+4], cl

; 2241 : 
; 2242 : 	DataSend(aIndex,(LPBYTE)&pMsg,sizeof(pMsg));

  03cf0	6a 05		 push	 5
  03cf2	8d 45 e4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  03cf5	50		 push	 eax
  03cf6	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  03cf9	51		 push	 ecx
  03cfa	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03cff	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2243 : 	return true;

  03d02	b8 01 00 00 00	 mov	 eax, 1
$LN78@SkillChang:

; 2244 : }

  03d07	5f		 pop	 edi
  03d08	5e		 pop	 esi
  03d09	5b		 pop	 ebx
  03d0a	8b e5		 mov	 esp, ebp
  03d0c	5d		 pop	 ebp
  03d0d	c2 04 00	 ret	 4
$LN84@SkillChang:
  03d10	00 00 00 00	 DD	 $LN22@SkillChang
  03d14	00 00 00 00	 DD	 $LN21@SkillChang
  03d18	00 00 00 00	 DD	 $LN20@SkillChang
  03d1c	00 00 00 00	 DD	 $LN19@SkillChang
  03d20	00 00 00 00	 DD	 $LN18@SkillChang
  03d24	00 00 00 00	 DD	 $LN17@SkillChang
$LN85@SkillChang:
  03d28	00 00 00 00	 DD	 $LN15@SkillChang
  03d2c	00 00 00 00	 DD	 $LN14@SkillChang
  03d30	00 00 00 00	 DD	 $LN13@SkillChang
  03d34	00 00 00 00	 DD	 $LN12@SkillChang
  03d38	00 00 00 00	 DD	 $LN11@SkillChang
  03d3c	00 00 00 00	 DD	 $LN10@SkillChang
  03d40	00 00 00 00	 DD	 $LN9@SkillChang
  03d44	00 00 00 00	 DD	 $LN8@SkillChang
$LN83@SkillChang:
  03d48	00		 DB	 0
  03d49	01		 DB	 1
  03d4a	07		 DB	 7
  03d4b	07		 DB	 7
  03d4c	07		 DB	 7
  03d4d	02		 DB	 2
  03d4e	07		 DB	 7
  03d4f	07		 DB	 7
  03d50	07		 DB	 7
  03d51	07		 DB	 7
  03d52	07		 DB	 7
  03d53	07		 DB	 7
  03d54	07		 DB	 7
  03d55	07		 DB	 7
  03d56	07		 DB	 7
  03d57	07		 DB	 7
  03d58	07		 DB	 7
  03d59	07		 DB	 7
  03d5a	07		 DB	 7
  03d5b	07		 DB	 7
  03d5c	07		 DB	 7
  03d5d	07		 DB	 7
  03d5e	07		 DB	 7
  03d5f	07		 DB	 7
  03d60	07		 DB	 7
  03d61	07		 DB	 7
  03d62	07		 DB	 7
  03d63	07		 DB	 7
  03d64	07		 DB	 7
  03d65	07		 DB	 7
  03d66	07		 DB	 7
  03d67	03		 DB	 3
  03d68	03		 DB	 3
  03d69	07		 DB	 7
  03d6a	07		 DB	 7
  03d6b	07		 DB	 7
  03d6c	07		 DB	 7
  03d6d	07		 DB	 7
  03d6e	07		 DB	 7
  03d6f	07		 DB	 7
  03d70	07		 DB	 7
  03d71	07		 DB	 7
  03d72	07		 DB	 7
  03d73	07		 DB	 7
  03d74	07		 DB	 7
  03d75	07		 DB	 7
  03d76	07		 DB	 7
  03d77	07		 DB	 7
  03d78	07		 DB	 7
  03d79	07		 DB	 7
  03d7a	07		 DB	 7
  03d7b	07		 DB	 7
  03d7c	07		 DB	 7
  03d7d	07		 DB	 7
  03d7e	07		 DB	 7
  03d7f	07		 DB	 7
  03d80	07		 DB	 7
  03d81	07		 DB	 7
  03d82	07		 DB	 7
  03d83	07		 DB	 7
  03d84	07		 DB	 7
  03d85	07		 DB	 7
  03d86	07		 DB	 7
  03d87	07		 DB	 7
  03d88	07		 DB	 7
  03d89	07		 DB	 7
  03d8a	07		 DB	 7
  03d8b	07		 DB	 7
  03d8c	07		 DB	 7
  03d8d	07		 DB	 7
  03d8e	07		 DB	 7
  03d8f	07		 DB	 7
  03d90	07		 DB	 7
  03d91	07		 DB	 7
  03d92	07		 DB	 7
  03d93	07		 DB	 7
  03d94	07		 DB	 7
  03d95	07		 DB	 7
  03d96	07		 DB	 7
  03d97	07		 DB	 7
  03d98	07		 DB	 7
  03d99	07		 DB	 7
  03d9a	07		 DB	 7
  03d9b	07		 DB	 7
  03d9c	07		 DB	 7
  03d9d	07		 DB	 7
  03d9e	07		 DB	 7
  03d9f	07		 DB	 7
  03da0	07		 DB	 7
  03da1	07		 DB	 7
  03da2	07		 DB	 7
  03da3	07		 DB	 7
  03da4	07		 DB	 7
  03da5	07		 DB	 7
  03da6	07		 DB	 7
  03da7	07		 DB	 7
  03da8	07		 DB	 7
  03da9	07		 DB	 7
  03daa	07		 DB	 7
  03dab	07		 DB	 7
  03dac	07		 DB	 7
  03dad	07		 DB	 7
  03dae	07		 DB	 7
  03daf	07		 DB	 7
  03db0	04		 DB	 4
  03db1	07		 DB	 7
  03db2	07		 DB	 7
  03db3	07		 DB	 7
  03db4	07		 DB	 7
  03db5	07		 DB	 7
  03db6	07		 DB	 7
  03db7	07		 DB	 7
  03db8	07		 DB	 7
  03db9	07		 DB	 7
  03dba	07		 DB	 7
  03dbb	07		 DB	 7
  03dbc	07		 DB	 7
  03dbd	07		 DB	 7
  03dbe	07		 DB	 7
  03dbf	07		 DB	 7
  03dc0	07		 DB	 7
  03dc1	07		 DB	 7
  03dc2	07		 DB	 7
  03dc3	07		 DB	 7
  03dc4	07		 DB	 7
  03dc5	07		 DB	 7
  03dc6	07		 DB	 7
  03dc7	07		 DB	 7
  03dc8	07		 DB	 7
  03dc9	07		 DB	 7
  03dca	05		 DB	 5
  03dcb	07		 DB	 7
  03dcc	07		 DB	 7
  03dcd	07		 DB	 7
  03dce	07		 DB	 7
  03dcf	07		 DB	 7
  03dd0	07		 DB	 7
  03dd1	07		 DB	 7
  03dd2	07		 DB	 7
  03dd3	07		 DB	 7
  03dd4	07		 DB	 7
  03dd5	07		 DB	 7
  03dd6	07		 DB	 7
  03dd7	07		 DB	 7
  03dd8	07		 DB	 7
  03dd9	07		 DB	 7
  03dda	07		 DB	 7
  03ddb	07		 DB	 7
  03ddc	07		 DB	 7
  03ddd	07		 DB	 7
  03dde	07		 DB	 7
  03ddf	07		 DB	 7
  03de0	07		 DB	 7
  03de1	07		 DB	 7
  03de2	07		 DB	 7
  03de3	07		 DB	 7
  03de4	07		 DB	 7
  03de5	07		 DB	 7
  03de6	07		 DB	 7
  03de7	07		 DB	 7
  03de8	07		 DB	 7
  03de9	07		 DB	 7
  03dea	07		 DB	 7
  03deb	07		 DB	 7
  03dec	07		 DB	 7
  03ded	07		 DB	 7
  03dee	07		 DB	 7
  03def	07		 DB	 7
  03df0	07		 DB	 7
  03df1	07		 DB	 7
  03df2	07		 DB	 7
  03df3	07		 DB	 7
  03df4	07		 DB	 7
  03df5	07		 DB	 7
  03df6	07		 DB	 7
  03df7	06		 DB	 6
?SkillChangeUse@CObjUseSkill@@QAEHH@Z ENDP		; CObjUseSkill::SkillChangeUse
_TEXT	ENDS
EXTRN	?GCRecallMonLife@@YAXHHH@Z:PROC			; GCRecallMonLife
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv86 = -96						; size = 4
tv235 = -92						; size = 4
tv87 = -92						; size = 4
_lpMonster$240494 = -24					; size = 4
_n$240489 = -20						; size = 4
_lpTargetObj$ = -16					; size = 4
_lpObj$ = -12						; size = 4
_skillSuccess$ = -8					; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_skill_level$ = 16					; size = 4
?SkillHealing@CObjUseSkill@@QAEXHHH@Z PROC		; CObjUseSkill::SkillHealing
; _this$ = ecx

; 2247 : {

  03e00	55		 push	 ebp
  03e01	8b ec		 mov	 ebp, esp
  03e03	83 ec 60	 sub	 esp, 96			; 00000060H
  03e06	53		 push	 ebx
  03e07	56		 push	 esi
  03e08	57		 push	 edi
  03e09	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2248 : 	int skillSuccess = true;

  03e0c	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _skillSuccess$[ebp], 1

; 2249 : 	LPOBJ lpObj = &gObj[aIndex];

  03e13	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  03e16	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  03e1c	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03e22	89 45 f4	 mov	 DWORD PTR _lpObj$[ebp], eax

; 2250 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  03e25	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  03e28	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  03e2e	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03e34	89 45 f0	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 2251 : 
; 2252 : 	if(lpTargetObj->Type != OBJ_USER && lpTargetObj->m_RecallMon == -1)

  03e37	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  03e3a	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  03e3e	83 f9 01	 cmp	 ecx, 1
  03e41	74 11		 je	 SHORT $LN14@SkillHeali
  03e43	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  03e46	83 b8 50 04 00
	00 ff		 cmp	 DWORD PTR [eax+1104], -1
  03e4d	75 05		 jne	 SHORT $LN14@SkillHeali

; 2253 : 	{
; 2254 : 		return;

  03e4f	e9 45 02 00 00	 jmp	 $LN15@SkillHeali
$LN14@SkillHeali:

; 2255 : 	}
; 2256 : 
; 2257 : 	if(lpObj->Class != CLASS_ELF)

  03e54	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03e57	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  03e5e	83 f9 02	 cmp	 ecx, 2
  03e61	74 05		 je	 SHORT $LN13@SkillHeali

; 2258 : 	{
; 2259 : 		return;

  03e63	e9 31 02 00 00	 jmp	 $LN15@SkillHeali
$LN13@SkillHeali:

; 2260 : 	}
; 2261 : 
; 2262 : 	if(CC_MAP_RANGE(lpObj->MapNumber) && lpObj->m_Index != lpTargetObj->m_Index)

  03e68	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03e6b	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  03e72	83 f9 35	 cmp	 ecx, 53			; 00000035H
  03e75	75 09		 jne	 SHORT $LN19@SkillHeali
  03e77	c7 45 a4 01 00
	00 00		 mov	 DWORD PTR tv87[ebp], 1
  03e7e	eb 33		 jmp	 SHORT $LN20@SkillHeali
$LN19@SkillHeali:
  03e80	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03e83	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  03e8a	83 f8 12	 cmp	 eax, 18			; 00000012H
  03e8d	7d 09		 jge	 SHORT $LN17@SkillHeali
  03e8f	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv86[ebp], 0
  03e96	eb 15		 jmp	 SHORT $LN18@SkillHeali
$LN17@SkillHeali:
  03e98	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03e9b	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  03ea2	33 c0		 xor	 eax, eax
  03ea4	83 fa 17	 cmp	 edx, 23			; 00000017H
  03ea7	0f 9e c0	 setle	 al
  03eaa	89 45 a0	 mov	 DWORD PTR tv86[ebp], eax
$LN18@SkillHeali:
  03ead	8b 4d a0	 mov	 ecx, DWORD PTR tv86[ebp]
  03eb0	89 4d a4	 mov	 DWORD PTR tv87[ebp], ecx
$LN20@SkillHeali:
  03eb3	83 7d a4 00	 cmp	 DWORD PTR tv87[ebp], 0
  03eb7	74 11		 je	 SHORT $LN12@SkillHeali
  03eb9	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03ebc	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  03ebf	8b 10		 mov	 edx, DWORD PTR [eax]
  03ec1	3b 11		 cmp	 edx, DWORD PTR [ecx]
  03ec3	74 05		 je	 SHORT $LN12@SkillHeali

; 2263 : 	{
; 2264 : 		return;

  03ec5	e9 cf 01 00 00	 jmp	 $LN15@SkillHeali
$LN12@SkillHeali:

; 2265 : 	}
; 2266 : 
; 2267 : 	if(skill_level < 0 || skill_level > 7)

  03eca	83 7d 10 00	 cmp	 DWORD PTR _skill_level$[ebp], 0
  03ece	7c 06		 jl	 SHORT $LN10@SkillHeali
  03ed0	83 7d 10 07	 cmp	 DWORD PTR _skill_level$[ebp], 7
  03ed4	7e 07		 jle	 SHORT $LN11@SkillHeali
$LN10@SkillHeali:

; 2268 : 	{
; 2269 : 		skill_level = 0;

  03ed6	c7 45 10 00 00
	00 00		 mov	 DWORD PTR _skill_level$[ebp], 0
$LN11@SkillHeali:

; 2270 : 	}
; 2271 : 
; 2272 : 	lpTargetObj->Life = ((skill_level + 1) * 5 + (lpObj->Energy + lpObj->AddEnergy) / 5) + lpTargetObj->Life;

  03edd	8b 4d 10	 mov	 ecx, DWORD PTR _skill_level$[ebp]
  03ee0	83 c1 01	 add	 ecx, 1
  03ee3	6b c9 05	 imul	 ecx, 5
  03ee6	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03ee9	0f b7 82 fa 00
	00 00		 movzx	 eax, WORD PTR [edx+250]
  03ef0	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03ef3	0f bf 92 26 01
	00 00		 movsx	 edx, WORD PTR [edx+294]
  03efa	03 c2		 add	 eax, edx
  03efc	99		 cdq
  03efd	be 05 00 00 00	 mov	 esi, 5
  03f02	f7 fe		 idiv	 esi
  03f04	03 c8		 add	 ecx, eax
  03f06	89 4d a4	 mov	 DWORD PTR tv235[ebp], ecx
  03f09	db 45 a4	 fild	 DWORD PTR tv235[ebp]
  03f0c	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  03f0f	d8 80 fc 00 00
	00		 fadd	 DWORD PTR [eax+252]
  03f15	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  03f18	d9 99 fc 00 00
	00		 fstp	 DWORD PTR [ecx+252]

; 2273 : 
; 2274 : 	if((lpTargetObj->MaxLife + lpTargetObj->AddLife) < lpTargetObj->Life)

  03f1e	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  03f21	db 80 4c 01 00
	00		 fild	 DWORD PTR [eax+332]
  03f27	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  03f2a	d8 81 00 01 00
	00		 fadd	 DWORD PTR [ecx+256]
  03f30	8b 55 f0	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  03f33	d9 82 fc 00 00
	00		 fld	 DWORD PTR [edx+252]
  03f39	de d9		 fcompp
  03f3b	df e0		 fnstsw	 ax
  03f3d	f6 c4 41	 test	 ah, 65			; 00000041H
  03f40	75 1b		 jne	 SHORT $LN9@SkillHeali

; 2275 : 	{
; 2276 : 		lpTargetObj->Life = lpTargetObj->MaxLife + lpTargetObj->AddLife;

  03f42	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  03f45	db 80 4c 01 00
	00		 fild	 DWORD PTR [eax+332]
  03f4b	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  03f4e	d8 81 00 01 00
	00		 fadd	 DWORD PTR [ecx+256]
  03f54	8b 55 f0	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  03f57	d9 9a fc 00 00
	00		 fstp	 DWORD PTR [edx+252]
$LN9@SkillHeali:

; 2277 : 	}
; 2278 : 
; 2279 : 	if(lpTargetObj->Type == OBJ_USER)

  03f5d	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  03f60	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  03f64	83 f9 01	 cmp	 ecx, 1
  03f67	0f 85 f0 00 00
	00		 jne	 $LN8@SkillHeali

; 2280 : 	{
; 2281 : 		GCReFillSend(lpTargetObj->m_Index,lpTargetObj->Life,0xFF,0,lpTargetObj->iShield);

  03f6d	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  03f70	8b 88 54 01 00
	00		 mov	 ecx, DWORD PTR [eax+340]
  03f76	51		 push	 ecx
  03f77	6a 00		 push	 0
  03f79	68 ff 00 00 00	 push	 255			; 000000ffH
  03f7e	8b 55 f0	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  03f81	d9 82 fc 00 00
	00		 fld	 DWORD PTR [edx+252]
  03f87	e8 00 00 00 00	 call	 __ftol2_sse
  03f8c	50		 push	 eax
  03f8d	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  03f90	8b 08		 mov	 ecx, DWORD PTR [eax]
  03f92	51		 push	 ecx
  03f93	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend
  03f98	83 c4 14	 add	 esp, 20			; 00000014H

; 2282 : 		GCMagicAttackNumberSend(lpObj,AT_SKILL_HEALING,lpTargetObj->m_Index,skillSuccess);

  03f9b	0f b6 45 f8	 movzx	 eax, BYTE PTR _skillSuccess$[ebp]
  03f9f	50		 push	 eax
  03fa0	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  03fa3	8b 11		 mov	 edx, DWORD PTR [ecx]
  03fa5	52		 push	 edx
  03fa6	6a 1a		 push	 26			; 0000001aH
  03fa8	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03fab	50		 push	 eax
  03fac	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  03fb1	83 c4 10	 add	 esp, 16			; 00000010H

; 2283 : 
; 2284 : 		for(int n = 0; n < MAX_VIEWPORT; n++)

  03fb4	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _n$240489[ebp], 0
  03fbb	eb 09		 jmp	 SHORT $LN7@SkillHeali
$LN6@SkillHeali:
  03fbd	8b 45 ec	 mov	 eax, DWORD PTR _n$240489[ebp]
  03fc0	83 c0 01	 add	 eax, 1
  03fc3	89 45 ec	 mov	 DWORD PTR _n$240489[ebp], eax
$LN7@SkillHeali:
  03fc6	83 7d ec 4b	 cmp	 DWORD PTR _n$240489[ebp], 75 ; 0000004bH
  03fca	0f 8d 8b 00 00
	00		 jge	 $LN5@SkillHeali

; 2285 : 		{
; 2286 : 			if(lpObj->VpPlayer2[n].type == OBJ_MONSTER && lpObj->VpPlayer2[n].state != 0)

  03fd0	8b 45 ec	 mov	 eax, DWORD PTR _n$240489[ebp]
  03fd3	6b c0 0c	 imul	 eax, 12			; 0000000cH
  03fd6	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03fd9	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  03fe1	83 fa 02	 cmp	 edx, 2
  03fe4	75 70		 jne	 SHORT $LN3@SkillHeali
  03fe6	8b 45 ec	 mov	 eax, DWORD PTR _n$240489[ebp]
  03fe9	6b c0 0c	 imul	 eax, 12			; 0000000cH
  03fec	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03fef	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  03ff7	85 d2		 test	 edx, edx
  03ff9	74 5b		 je	 SHORT $LN3@SkillHeali

; 2287 : 			{
; 2288 : 				LPOBJ lpMonster = &gObj[lpObj->VpPlayer2[n].number];

  03ffb	8b 45 ec	 mov	 eax, DWORD PTR _n$240489[ebp]
  03ffe	6b c0 0c	 imul	 eax, 12			; 0000000cH
  04001	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04004	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0400c	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  04012	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04018	89 55 e8	 mov	 DWORD PTR _lpMonster$240494[ebp], edx

; 2289 : 				if(lpMonster->m_iCurrentAI != 0)

  0401b	8b 45 e8	 mov	 eax, DWORD PTR _lpMonster$240494[ebp]
  0401e	83 b8 78 1c 00
	00 00		 cmp	 DWORD PTR [eax+7288], 0
  04025	74 2f		 je	 SHORT $LN3@SkillHeali

; 2290 : 				{
; 2291 : 					lpMonster->m_Agro.IncAgro(lpObj->m_Index,(lpObj->Energy / 5)/40);

  04027	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0402a	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  04031	99		 cdq
  04032	b9 05 00 00 00	 mov	 ecx, 5
  04037	f7 f9		 idiv	 ecx
  04039	99		 cdq
  0403a	b9 28 00 00 00	 mov	 ecx, 40			; 00000028H
  0403f	f7 f9		 idiv	 ecx
  04041	50		 push	 eax
  04042	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04045	8b 02		 mov	 eax, DWORD PTR [edx]
  04047	50		 push	 eax
  04048	8b 4d e8	 mov	 ecx, DWORD PTR _lpMonster$240494[ebp]
  0404b	81 c1 94 1c 00
	00		 add	 ecx, 7316		; 00001c94H
  04051	e8 00 00 00 00	 call	 ?IncAgro@TMonsterAIAgro@@QAEHHH@Z ; TMonsterAIAgro::IncAgro
$LN3@SkillHeali:

; 2292 : 				}
; 2293 : 			}
; 2294 : 		}

  04056	e9 62 ff ff ff	 jmp	 $LN6@SkillHeali
$LN5@SkillHeali:

; 2295 : 	}
; 2296 : 	else if(lpTargetObj->m_RecallMon >= 0)

  0405b	eb 3c		 jmp	 SHORT $LN1@SkillHeali
$LN8@SkillHeali:
  0405d	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  04060	83 b8 50 04 00
	00 00		 cmp	 DWORD PTR [eax+1104], 0
  04067	7c 30		 jl	 SHORT $LN1@SkillHeali

; 2297 : 	{
; 2298 : 		GCRecallMonLife(lpTargetObj->m_RecallMon,(int)lpTargetObj->MaxLife,(int)lpTargetObj->Life);

  04069	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0406c	d9 80 fc 00 00
	00		 fld	 DWORD PTR [eax+252]
  04072	e8 00 00 00 00	 call	 __ftol2_sse
  04077	50		 push	 eax
  04078	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  0407b	d9 81 00 01 00
	00		 fld	 DWORD PTR [ecx+256]
  04081	e8 00 00 00 00	 call	 __ftol2_sse
  04086	50		 push	 eax
  04087	8b 55 f0	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  0408a	8b 82 50 04 00
	00		 mov	 eax, DWORD PTR [edx+1104]
  04090	50		 push	 eax
  04091	e8 00 00 00 00	 call	 ?GCRecallMonLife@@YAXHHH@Z ; GCRecallMonLife
  04096	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@SkillHeali:
$LN15@SkillHeali:

; 2299 : 	}
; 2300 : }

  04099	5f		 pop	 edi
  0409a	5e		 pop	 esi
  0409b	5b		 pop	 ebx
  0409c	8b e5		 mov	 esp, ebp
  0409e	5d		 pop	 ebp
  0409f	c2 0c 00	 ret	 12			; 0000000cH
?SkillHealing@CObjUseSkill@@QAEXHHH@Z ENDP		; CObjUseSkill::SkillHealing
_TEXT	ENDS
EXTRN	?gObjSetMonster@@YAHHH@Z:PROC			; gObjSetMonster
EXTRN	?gObjAddCallMon@@YAFXZ:PROC			; gObjAddCallMon
EXTRN	?gObjMonsterCallKill@@YAXH@Z:PROC		; gObjMonsterCallKill
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv85 = -80						; size = 4
tv86 = -76						; size = 4
_result$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_MonsterType$ = 12					; size = 4
_x$ = 16						; size = 4
_y$ = 20						; size = 4
?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z PROC		; CObjUseSkill::SkillMonsterCall
; _this$ = ecx

; 2303 : {

  040b0	55		 push	 ebp
  040b1	8b ec		 mov	 ebp, esp
  040b3	83 ec 50	 sub	 esp, 80			; 00000050H
  040b6	53		 push	 ebx
  040b7	56		 push	 esi
  040b8	57		 push	 edi
  040b9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2304 : 	if(gObj[aIndex].MapNumber == MAP_INDEX_ICARUS)

  040bc	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  040bf	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  040c5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  040cb	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  040d3	83 fa 0a	 cmp	 edx, 10			; 0000000aH
  040d6	75 07		 jne	 SHORT $LN7@SkillMonst

; 2305 : 	{
; 2306 : 		return false;

  040d8	33 c0		 xor	 eax, eax
  040da	e9 71 05 00 00	 jmp	 $LN8@SkillMonst
$LN7@SkillMonst:

; 2307 : 	}
; 2308 : 
; 2309 : 	if(CC_MAP_RANGE(gObj[aIndex].MapNumber))

  040df	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  040e2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  040e8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  040ee	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  040f6	83 fa 35	 cmp	 edx, 53			; 00000035H
  040f9	75 09		 jne	 SHORT $LN12@SkillMonst
  040fb	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv86[ebp], 1
  04102	eb 4d		 jmp	 SHORT $LN13@SkillMonst
$LN12@SkillMonst:
  04104	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04107	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0410d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04113	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0411b	83 fa 12	 cmp	 edx, 18			; 00000012H
  0411e	7d 09		 jge	 SHORT $LN10@SkillMonst
  04120	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv85[ebp], 0
  04127	eb 22		 jmp	 SHORT $LN11@SkillMonst
$LN10@SkillMonst:
  04129	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0412c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04132	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04138	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  04140	33 c0		 xor	 eax, eax
  04142	83 fa 17	 cmp	 edx, 23			; 00000017H
  04145	0f 9e c0	 setle	 al
  04148	89 45 b0	 mov	 DWORD PTR tv85[ebp], eax
$LN11@SkillMonst:
  0414b	8b 4d b0	 mov	 ecx, DWORD PTR tv85[ebp]
  0414e	89 4d b4	 mov	 DWORD PTR tv86[ebp], ecx
$LN13@SkillMonst:
  04151	83 7d b4 00	 cmp	 DWORD PTR tv86[ebp], 0
  04155	74 07		 je	 SHORT $LN6@SkillMonst

; 2310 : 	{
; 2311 : 		return false;

  04157	33 c0		 xor	 eax, eax
  04159	e9 f2 04 00 00	 jmp	 $LN8@SkillMonst
$LN6@SkillMonst:

; 2312 : 	}
; 2313 : 
; 2314 : 	if(gObj[aIndex].m_RecallMon >= 0)

  0415e	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04161	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04167	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0416d	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  04175	7c 23		 jl	 SHORT $LN5@SkillMonst

; 2315 : 	{
; 2316 : 		GCRecallMonLife(aIndex,60,0);

  04177	6a 00		 push	 0
  04179	6a 3c		 push	 60			; 0000003cH
  0417b	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0417e	50		 push	 eax
  0417f	e8 00 00 00 00	 call	 ?GCRecallMonLife@@YAXHHH@Z ; GCRecallMonLife
  04184	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2317 : 		gObjMonsterCallKill(aIndex);

  04187	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0418a	50		 push	 eax
  0418b	e8 00 00 00 00	 call	 ?gObjMonsterCallKill@@YAXH@Z ; gObjMonsterCallKill
  04190	83 c4 04	 add	 esp, 4

; 2318 : 		return false;

  04193	33 c0		 xor	 eax, eax
  04195	e9 b6 04 00 00	 jmp	 $LN8@SkillMonst
$LN5@SkillMonst:

; 2319 : 	}
; 2320 : 
; 2321 : 	int result = gObjAddCallMon();

  0419a	e8 00 00 00 00	 call	 ?gObjAddCallMon@@YAFXZ	; gObjAddCallMon
  0419f	98		 cwde
  041a0	89 45 f8	 mov	 DWORD PTR _result$[ebp], eax

; 2322 : 
; 2323 : 	if(result >= 0)

  041a3	83 7d f8 00	 cmp	 DWORD PTR _result$[ebp], 0
  041a7	0f 8c a1 04 00
	00		 jl	 $LN4@SkillMonst

; 2324 : 	{
; 2325 : 		gObj[result].X = x;

  041ad	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  041b0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  041b6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  041bc	66 8b 55 10	 mov	 dx, WORD PTR _x$[ebp]
  041c0	66 89 94 01 44
	01 00 00	 mov	 WORD PTR [ecx+eax+324], dx

; 2326 : 		gObj[result].Y = y;

  041c8	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  041cb	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  041d1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  041d7	66 8b 55 14	 mov	 dx, WORD PTR _y$[ebp]
  041db	66 89 94 01 46
	01 00 00	 mov	 WORD PTR [ecx+eax+326], dx

; 2327 : 		gObj[result].MTX = x;

  041e3	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  041e6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  041ec	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  041f2	66 8b 55 10	 mov	 dx, WORD PTR _x$[ebp]
  041f6	66 89 94 01 80
	01 00 00	 mov	 WORD PTR [ecx+eax+384], dx

; 2328 : 		gObj[result].MTY = y;

  041fe	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  04201	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04207	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0420d	66 8b 55 14	 mov	 dx, WORD PTR _y$[ebp]
  04211	66 89 94 01 82
	01 00 00	 mov	 WORD PTR [ecx+eax+386], dx

; 2329 : 		gObj[result].Dir = 2;

  04219	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  0421c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04222	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04228	c6 84 01 48 01
	00 00 02	 mov	 BYTE PTR [ecx+eax+328], 2

; 2330 : 		gObj[result].MapNumber = gObj[aIndex].MapNumber;

  04230	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04233	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04239	8b 4d f8	 mov	 ecx, DWORD PTR _result$[ebp]
  0423c	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  04242	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04248	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0424e	8a 84 06 49 01
	00 00		 mov	 al, BYTE PTR [esi+eax+329]
  04255	88 84 0a 49 01
	00 00		 mov	 BYTE PTR [edx+ecx+329], al

; 2331 : 		gObjSetMonster(result,MonsterType);

  0425c	8b 45 0c	 mov	 eax, DWORD PTR _MonsterType$[ebp]
  0425f	50		 push	 eax
  04260	8b 4d f8	 mov	 ecx, DWORD PTR _result$[ebp]
  04263	51		 push	 ecx
  04264	e8 00 00 00 00	 call	 ?gObjSetMonster@@YAHHH@Z ; gObjSetMonster
  04269	83 c4 08	 add	 esp, 8

; 2332 : 		gObj[result].m_RecallMon = aIndex;

  0426c	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  0426f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04275	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0427b	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0427e	89 94 01 50 04
	00 00		 mov	 DWORD PTR [ecx+eax+1104], edx

; 2333 : 		gObj[result].m_Attribute = 100;

  04285	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  04288	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0428e	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  04293	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04299	66 89 8c 02 b6
	04 00 00	 mov	 WORD PTR [edx+eax+1206], cx

; 2334 : 		gObj[result].TargetNumber = (WORD)-1;

  042a1	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  042a4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  042aa	83 c9 ff	 or	 ecx, -1
  042ad	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  042b3	66 89 8c 02 58
	04 00 00	 mov	 WORD PTR [edx+eax+1112], cx

; 2335 : 		gObj[result].m_ActState.Emotion = 0;

  042bb	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  042be	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  042c4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  042ca	8b 94 01 18 02
	00 00		 mov	 edx, DWORD PTR [ecx+eax+536]
  042d1	81 e2 0f ff ff
	ff		 and	 edx, -241		; ffffff0fH
  042d7	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  042da	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  042e0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  042e6	89 94 01 18 02
	00 00		 mov	 DWORD PTR [ecx+eax+536], edx

; 2336 : 		gObj[result].m_ActState.Attack = 0;

  042ed	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  042f0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  042f6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  042fc	8b 94 01 18 02
	00 00		 mov	 edx, DWORD PTR [ecx+eax+536]
  04303	83 e2 fd	 and	 edx, -3			; fffffffdH
  04306	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  04309	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0430f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04315	89 94 01 18 02
	00 00		 mov	 DWORD PTR [ecx+eax+536], edx

; 2337 : 		gObj[result].m_ActState.EmotionCount = 0;

  0431c	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  0431f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04325	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0432b	8b 94 01 18 02
	00 00		 mov	 edx, DWORD PTR [ecx+eax+536]
  04332	81 e2 ff 00 ff
	ff		 and	 edx, -65281		; ffff00ffH
  04338	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  0433b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04341	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04347	89 94 01 18 02
	00 00		 mov	 DWORD PTR [ecx+eax+536], edx

; 2338 : 		gObj[result].PathCount = 0;

  0434e	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  04351	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04357	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0435d	c7 84 01 84 01
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+388], 0

; 2339 : 
; 2340 : 		gObj[aIndex].m_RecallMon = result;

  04368	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0436b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04371	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04377	8b 55 f8	 mov	 edx, DWORD PTR _result$[ebp]
  0437a	89 94 01 50 04
	00 00		 mov	 DWORD PTR [ecx+eax+1104], edx

; 2341 : 		gObj[result].m_MoveRange = 15;

  04381	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  04384	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0438a	b9 0f 00 00 00	 mov	 ecx, 15			; 0000000fH
  0438f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04395	66 89 8c 02 ae
	04 00 00	 mov	 WORD PTR [edx+eax+1198], cx

; 2342 : 
; 2343 : 		if( gObj[aIndex].m_MPSkillOpt.MpsSummonMonster1 > 0.0f )

  0439d	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  043a0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  043a6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  043ac	d9 84 01 c0 26
	00 00		 fld	 DWORD PTR [ecx+eax+9920]
  043b3	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@0000000000000000
  043b9	df e0		 fnstsw	 ax
  043bb	f6 c4 41	 test	 ah, 65			; 00000041H
  043be	0f 85 ba 00 00
	00		 jne	 $LN3@SkillMonst

; 2344 : 		{
; 2345 : 			gObj[result].MaxLife	+= gObj[result].MaxLife / 100.0f * gObj[aIndex].m_MPSkillOpt.MpsSummonMonster1;

  043c4	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  043c7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  043cd	8b 4d f8	 mov	 ecx, DWORD PTR _result$[ebp]
  043d0	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  043d6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  043dc	d9 84 0a 00 01
	00 00		 fld	 DWORD PTR [edx+ecx+256]
  043e3	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  043e9	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  043ec	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  043f2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  043f8	d8 8c 0a c0 26
	00 00		 fmul	 DWORD PTR [edx+ecx+9920]
  043ff	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04405	d8 84 01 00 01
	00 00		 fadd	 DWORD PTR [ecx+eax+256]
  0440c	8b 55 f8	 mov	 edx, DWORD PTR _result$[ebp]
  0440f	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  04415	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0441a	d9 9c 10 00 01
	00 00		 fstp	 DWORD PTR [eax+edx+256]

; 2346 : 			gObj[result].Life		+= gObj[result].Life / 100.0f * gObj[aIndex].m_MPSkillOpt.MpsSummonMonster1;

  04421	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  04424	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0442a	8b 4d f8	 mov	 ecx, DWORD PTR _result$[ebp]
  0442d	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  04433	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04439	d9 84 0a fc 00
	00 00		 fld	 DWORD PTR [edx+ecx+252]
  04440	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  04446	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  04449	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0444f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04455	d8 8c 0a c0 26
	00 00		 fmul	 DWORD PTR [edx+ecx+9920]
  0445c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04462	d8 84 01 fc 00
	00 00		 fadd	 DWORD PTR [ecx+eax+252]
  04469	8b 55 f8	 mov	 edx, DWORD PTR _result$[ebp]
  0446c	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  04472	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04477	d9 9c 10 fc 00
	00 00		 fstp	 DWORD PTR [eax+edx+252]
$LN3@SkillMonst:

; 2347 : 		}
; 2348 : 
; 2349 : 		if( gObj[aIndex].m_MPSkillOpt.MpsSummonMonster2 > 0.0f )

  0447e	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04481	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04487	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0448d	d9 84 01 c4 26
	00 00		 fld	 DWORD PTR [ecx+eax+9924]
  04494	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@0000000000000000
  0449a	df e0		 fnstsw	 ax
  0449c	f6 c4 41	 test	 ah, 65			; 00000041H
  0449f	75 63		 jne	 SHORT $LN2@SkillMonst

; 2350 : 		{
; 2351 : 			gObj[result].m_Defense	+= gObj[result].m_Defense / 100.0f * gObj[aIndex].m_MPSkillOpt.MpsSummonMonster1;	//maybe bug?

  044a1	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  044a4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  044aa	8b 4d f8	 mov	 ecx, DWORD PTR _result$[ebp]
  044ad	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  044b3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  044b9	db 84 0a 94 04
	00 00		 fild	 DWORD PTR [edx+ecx+1172]
  044c0	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  044c6	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  044c9	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  044cf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  044d5	d8 8c 0a c0 26
	00 00		 fmul	 DWORD PTR [edx+ecx+9920]
  044dc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  044e2	da 84 01 94 04
	00 00		 fiadd	 DWORD PTR [ecx+eax+1172]
  044e9	8b 75 f8	 mov	 esi, DWORD PTR _result$[ebp]
  044ec	69 f6 38 2b 00
	00		 imul	 esi, 11064		; 00002b38H
  044f2	e8 00 00 00 00	 call	 __ftol2_sse
  044f7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  044fd	89 84 32 94 04
	00 00		 mov	 DWORD PTR [edx+esi+1172], eax
$LN2@SkillMonst:

; 2352 : 		}
; 2353 : 
; 2354 : 		if( gObj[aIndex].m_MPSkillOpt.MpsSummonMonster3 > 0.0f )

  04504	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04507	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0450d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04513	d9 84 01 c8 26
	00 00		 fld	 DWORD PTR [ecx+eax+9928]
  0451a	dc 1d 00 00 00
	00		 fcomp	 QWORD PTR __real@0000000000000000
  04520	df e0		 fnstsw	 ax
  04522	f6 c4 41	 test	 ah, 65			; 00000041H
  04525	0f 85 c6 00 00
	00		 jne	 $LN1@SkillMonst

; 2355 : 		{
; 2356 : 			gObj[result].m_AttackDamageMax	+= gObj[result].m_AttackDamageMax / 100.0f * gObj[aIndex].m_MPSkillOpt.MpsSummonMonster1;	//too maybe?

  0452b	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  0452e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04534	8b 4d f8	 mov	 ecx, DWORD PTR _result$[ebp]
  04537	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0453d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04543	db 84 0a 64 04
	00 00		 fild	 DWORD PTR [edx+ecx+1124]
  0454a	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  04550	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  04553	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  04559	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0455f	d8 8c 0a c0 26
	00 00		 fmul	 DWORD PTR [edx+ecx+9920]
  04566	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0456c	da 84 01 64 04
	00 00		 fiadd	 DWORD PTR [ecx+eax+1124]
  04573	8b 75 f8	 mov	 esi, DWORD PTR _result$[ebp]
  04576	69 f6 38 2b 00
	00		 imul	 esi, 11064		; 00002b38H
  0457c	e8 00 00 00 00	 call	 __ftol2_sse
  04581	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04587	89 84 32 64 04
	00 00		 mov	 DWORD PTR [edx+esi+1124], eax

; 2357 : 			gObj[result].m_AttackDamageMin	+= gObj[result].m_AttackDamageMin / 100.0f * gObj[aIndex].m_MPSkillOpt.MpsSummonMonster1;	//too maybe?

  0458e	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  04591	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04597	8b 4d f8	 mov	 ecx, DWORD PTR _result$[ebp]
  0459a	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  045a0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  045a6	db 84 0a 60 04
	00 00		 fild	 DWORD PTR [edx+ecx+1120]
  045ad	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  045b3	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  045b6	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  045bc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  045c2	d8 8c 0a c0 26
	00 00		 fmul	 DWORD PTR [edx+ecx+9920]
  045c9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  045cf	da 84 01 60 04
	00 00		 fiadd	 DWORD PTR [ecx+eax+1120]
  045d6	8b 75 f8	 mov	 esi, DWORD PTR _result$[ebp]
  045d9	69 f6 38 2b 00
	00		 imul	 esi, 11064		; 00002b38H
  045df	e8 00 00 00 00	 call	 __ftol2_sse
  045e4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  045ea	89 84 32 60 04
	00 00		 mov	 DWORD PTR [edx+esi+1120], eax
$LN1@SkillMonst:

; 2358 : 		}
; 2359 : 
; 2360 : 		GCRecallMonLife(gObj[result].m_RecallMon,(int)gObj[result].MaxLife,(int)gObj[result].Life);

  045f1	8b 45 f8	 mov	 eax, DWORD PTR _result$[ebp]
  045f4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  045fa	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04600	d9 84 01 fc 00
	00 00		 fld	 DWORD PTR [ecx+eax+252]
  04607	e8 00 00 00 00	 call	 __ftol2_sse
  0460c	50		 push	 eax
  0460d	8b 55 f8	 mov	 edx, DWORD PTR _result$[ebp]
  04610	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  04616	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0461b	d9 84 10 00 01
	00 00		 fld	 DWORD PTR [eax+edx+256]
  04622	e8 00 00 00 00	 call	 __ftol2_sse
  04627	50		 push	 eax
  04628	8b 4d f8	 mov	 ecx, DWORD PTR _result$[ebp]
  0462b	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  04631	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04637	8b 84 0a 50 04
	00 00		 mov	 eax, DWORD PTR [edx+ecx+1104]
  0463e	50		 push	 eax
  0463f	e8 00 00 00 00	 call	 ?GCRecallMonLife@@YAXHHH@Z ; GCRecallMonLife
  04644	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2361 : 		return true;

  04647	b8 01 00 00 00	 mov	 eax, 1
  0464c	eb 02		 jmp	 SHORT $LN8@SkillMonst
$LN4@SkillMonst:

; 2362 : 	}
; 2363 : 	return false;

  0464e	33 c0		 xor	 eax, eax
$LN8@SkillMonst:

; 2364 : }

  04650	5f		 pop	 edi
  04651	5e		 pop	 esi
  04652	5b		 pop	 ebx
  04653	8b e5		 mov	 esp, ebp
  04655	5d		 pop	 ebp
  04656	c2 10 00	 ret	 16			; 00000010H
?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ENDP		; CObjUseSkill::SkillMonsterCall
_TEXT	ENDS
PUBLIC	?GetCastleState@CCastleSiege@@QAEHXZ		; CCastleSiege::GetCastleState
EXTRN	?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z:PROC ; gObjAddAttackProcMsgSendDelay
EXTRN	_rand:PROC
EXTRN	?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z:PROC ; gObjTargetGuildWarCheck
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_CallMonIndex$240548 = -36				; size = 4
_EnableAttack$ = -32					; size = 4
_bAttack$ = -28						; size = 4
_HitCount$ = -24					; size = 4
_DuelIndex$ = -20					; size = 4
_count$ = -16						; size = 4
_tObjNum$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_dir$ = 24						; size = 1
_TargetPos$ = 28					; size = 1
_aTargetIndex$ = 32					; size = 4
_isCombo$ = 36						; size = 4
?SkillBlowOfFury@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEHH@Z PROC ; CObjUseSkill::SkillBlowOfFury
; _this$ = ecx

; 2367 : {

  04660	55		 push	 ebp
  04661	8b ec		 mov	 ebp, esp
  04663	83 ec 64	 sub	 esp, 100		; 00000064H
  04666	53		 push	 ebx
  04667	56		 push	 esi
  04668	57		 push	 edi
  04669	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2368 : 	LPOBJ lpObj = &gObj[aIndex];

  0466c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0466f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04675	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0467b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 2369 : 	int tObjNum;
; 2370 : 	int count = 0;

  0467e	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 2371 : 	int DuelIndex = lpObj->m_iDuelUser;

  04685	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04688	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0468e	89 4d ec	 mov	 DWORD PTR _DuelIndex$[ebp], ecx

; 2372 : 	int HitCount = 0;

  04691	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0

; 2373 : 	int bAttack = 0;

  04698	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0
$LN22@SkillBlowO:

; 2374 : 	int EnableAttack;
; 2375 : 
; 2376 : 	while ( true )

  0469f	b8 01 00 00 00	 mov	 eax, 1
  046a4	85 c0		 test	 eax, eax
  046a6	0f 84 3e 02 00
	00		 je	 $LN23@SkillBlowO

; 2377 : 	{
; 2378 : 		if(lpObj->VpPlayer2[count].state != 0)

  046ac	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  046af	6b c0 0c	 imul	 eax, 12			; 0000000cH
  046b2	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  046b5	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  046bd	85 d2		 test	 edx, edx
  046bf	0f 84 0f 02 00
	00		 je	 $LN20@SkillBlowO

; 2379 : 		{
; 2380 : 			tObjNum = lpObj->VpPlayer2[count].number;

  046c5	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  046c8	6b c0 0c	 imul	 eax, 12			; 0000000cH
  046cb	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  046ce	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  046d6	89 55 f4	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 2381 : 
; 2382 : 			if(tObjNum >= 0)

  046d9	83 7d f4 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  046dd	0f 8c f1 01 00
	00		 jl	 $LN20@SkillBlowO

; 2383 : 			{
; 2384 : 				EnableAttack = 0;

  046e3	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 2385 : 
; 2386 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  046ea	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  046ed	6b c0 0c	 imul	 eax, 12			; 0000000cH
  046f0	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  046f3	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  046fb	83 fa 02	 cmp	 edx, 2
  046fe	75 25		 jne	 SHORT $LN18@SkillBlowO
  04700	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04703	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04709	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0470f	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  04717	7d 0c		 jge	 SHORT $LN18@SkillBlowO

; 2387 : 				{
; 2388 : 					EnableAttack = 1;

  04719	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  04720	e9 ff 00 00 00	 jmp	 $LN17@SkillBlowO
$LN18@SkillBlowO:

; 2389 : 				}
; 2390 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  04725	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04728	3b 45 20	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0472b	74 08		 je	 SHORT $LN15@SkillBlowO
  0472d	8b 45 ec	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  04730	3b 45 f4	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  04733	75 0c		 jne	 SHORT $LN16@SkillBlowO
$LN15@SkillBlowO:

; 2391 : 				{
; 2392 : 					EnableAttack = 1;

  04735	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  0473c	e9 e3 00 00 00	 jmp	 $LN17@SkillBlowO
$LN16@SkillBlowO:

; 2393 : 				}
; 2394 : //#if(GS_CASTLE==1)
; 2395 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  04741	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  04744	6b c0 0c	 imul	 eax, 12			; 0000000cH
  04747	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0474a	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  04752	83 fa 03	 cmp	 edx, 3
  04755	74 37		 je	 SHORT $LN13@SkillBlowO
  04757	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0475a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04760	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04766	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0476e	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  04771	75 1b		 jne	 SHORT $LN13@SkillBlowO
  04773	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  04778	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  0477d	83 f8 07	 cmp	 eax, 7
  04780	75 0c		 jne	 SHORT $LN13@SkillBlowO

; 2396 : 				{
; 2397 : 					EnableAttack = 1;

  04782	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 2398 : 				}
; 2399 : //#endif
; 2400 : 				else

  04789	e9 96 00 00 00	 jmp	 $LN17@SkillBlowO
$LN13@SkillBlowO:

; 2401 : 				{
; 2402 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  0478e	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04791	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04797	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0479d	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  047a0	89 55 dc	 mov	 DWORD PTR _CallMonIndex$240548[ebp], edx

; 2403 : 
; 2404 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  047a3	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  047a6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  047ac	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  047b2	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  047b7	83 fa 02	 cmp	 edx, 2
  047ba	75 40		 jne	 SHORT $LN11@SkillBlowO
  047bc	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  047bf	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  047c5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  047cb	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  047d3	7c 27		 jl	 SHORT $LN11@SkillBlowO

; 2405 : 					{
; 2406 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  047d5	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  047d8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  047de	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  047e4	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  047eb	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  047f1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  047f6	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  047f9	89 4d dc	 mov	 DWORD PTR _CallMonIndex$240548[ebp], ecx
$LN11@SkillBlowO:

; 2407 : 					}
; 2408 : 
; 2409 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  047fc	8b 45 dc	 mov	 eax, DWORD PTR _CallMonIndex$240548[ebp]
  047ff	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04805	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0480b	50		 push	 eax
  0480c	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0480f	51		 push	 ecx
  04810	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  04815	83 c4 08	 add	 esp, 8
  04818	83 f8 01	 cmp	 eax, 1
  0481b	75 07		 jne	 SHORT $LN17@SkillBlowO

; 2410 : 					{
; 2411 : 						EnableAttack = 1;

  0481d	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN17@SkillBlowO:

; 2412 : 					}
; 2413 : 				}
; 2414 : 
; 2415 : 				if(EnableAttack != 0)

  04824	83 7d e0 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  04828	0f 84 a6 00 00
	00		 je	 $LN20@SkillBlowO

; 2416 : 				{
; 2417 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 4)

  0482e	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04831	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04837	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0483d	50		 push	 eax
  0483e	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04841	51		 push	 ecx
  04842	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  04847	83 c4 08	 add	 esp, 8
  0484a	83 f8 04	 cmp	 eax, 4
  0484d	0f 8d 81 00 00
	00		 jge	 $LN20@SkillBlowO

; 2418 : 					{
; 2419 : 						bAttack = 0;

  04853	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 2420 : 
; 2421 : 						if(HitCount > 15)

  0485a	83 7d e8 0f	 cmp	 DWORD PTR _HitCount$[ebp], 15 ; 0000000fH
  0485e	7e 07		 jle	 SHORT $LN7@SkillBlowO

; 2422 : 						{
; 2423 : 							bAttack = 0;

  04860	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0
$LN7@SkillBlowO:

; 2424 : 						}
; 2425 : 
; 2426 : 						if(HitCount >= 10)

  04867	83 7d e8 0a	 cmp	 DWORD PTR _HitCount$[ebp], 10 ; 0000000aH
  0486b	7c 1e		 jl	 SHORT $LN6@SkillBlowO

; 2427 : 						{
; 2428 : 							if(rand()%2)

  0486d	e8 00 00 00 00	 call	 _rand
  04872	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  04877	79 05		 jns	 SHORT $LN25@SkillBlowO
  04879	48		 dec	 eax
  0487a	83 c8 fe	 or	 eax, -2			; fffffffeH
  0487d	40		 inc	 eax
$LN25@SkillBlowO:
  0487e	85 c0		 test	 eax, eax
  04880	74 07		 je	 SHORT $LN5@SkillBlowO

; 2429 : 							{
; 2430 : 								bAttack = 1;

  04882	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN5@SkillBlowO:

; 2431 : 							}
; 2432 : 						}
; 2433 : 						else

  04889	eb 07		 jmp	 SHORT $LN4@SkillBlowO
$LN6@SkillBlowO:

; 2434 : 						{
; 2435 : 							bAttack = 1;

  0488b	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN4@SkillBlowO:

; 2436 : 						}
; 2437 : 
; 2438 : 						if(bAttack != 0)

  04892	83 7d e4 00	 cmp	 DWORD PTR _bAttack$[ebp], 0
  04896	74 3c		 je	 SHORT $LN20@SkillBlowO

; 2439 : 						{
; 2440 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,500,lpMagic->m_Skill,isCombo);

  04898	8b 45 24	 mov	 eax, DWORD PTR _isCombo$[ebp]
  0489b	50		 push	 eax
  0489c	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0489f	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  048a2	52		 push	 edx
  048a3	68 f4 01 00 00	 push	 500			; 000001f4H
  048a8	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  048ab	50		 push	 eax
  048ac	6a 32		 push	 50			; 00000032H
  048ae	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  048b1	51		 push	 ecx
  048b2	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  048b7	83 c4 18	 add	 esp, 24			; 00000018H

; 2441 : 
; 2442 : 							if(isCombo != 0)

  048ba	83 7d 24 00	 cmp	 DWORD PTR _isCombo$[ebp], 0
  048be	74 14		 je	 SHORT $LN20@SkillBlowO

; 2443 : 							{
; 2444 : 								GCMagicAttackNumberSend(lpObj,AT_SKILL_COMBO,aIndex,1);

  048c0	6a 01		 push	 1
  048c2	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  048c5	50		 push	 eax
  048c6	6a 3b		 push	 59			; 0000003bH
  048c8	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  048cb	51		 push	 ecx
  048cc	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  048d1	83 c4 10	 add	 esp, 16			; 00000010H
$LN20@SkillBlowO:

; 2445 : 							}
; 2446 : 						}
; 2447 : 					}
; 2448 : 				}
; 2449 : 			}
; 2450 : 		}
; 2451 : 
; 2452 : 		count++;

  048d4	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  048d7	83 c0 01	 add	 eax, 1
  048da	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 2453 : 		if(count > MAX_VIEWPORT -1)

  048dd	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  048e1	7e 02		 jle	 SHORT $LN1@SkillBlowO

; 2454 : 		{
; 2455 : 			break;

  048e3	eb 05		 jmp	 SHORT $LN23@SkillBlowO
$LN1@SkillBlowO:

; 2456 : 		}
; 2457 : 	}

  048e5	e9 b5 fd ff ff	 jmp	 $LN22@SkillBlowO
$LN23@SkillBlowO:

; 2458 : }

  048ea	5f		 pop	 edi
  048eb	5e		 pop	 esi
  048ec	5b		 pop	 ebx
  048ed	8b e5		 mov	 esp, ebp
  048ef	5d		 pop	 ebp
  048f0	c2 20 00	 ret	 32			; 00000020H
?SkillBlowOfFury@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEHH@Z ENDP ; CObjUseSkill::SkillBlowOfFury
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\castlesiege.h
_TEXT	ENDS
;	COMDAT ?GetCastleState@CCastleSiege@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetCastleState@CCastleSiege@@QAEHXZ PROC		; CCastleSiege::GetCastleState, COMDAT
; _this$ = ecx

; 314  : 	int GetCastleState(){return m_iCastleSiegeState;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 28	 mov	 eax, DWORD PTR [eax+40]
  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetCastleState@CCastleSiege@@QAEHXZ ENDP		; CCastleSiege::GetCastleState
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\objuseskill.cpp
_TEXT	ENDS
_TEXT	SEGMENT
_CallMonIndex$240586 = -36				; size = 4
_EnableAttack$ = -32					; size = 4
_DuelIndex$ = -28					; size = 4
_bAttack$ = -24						; size = 4
_HitCount$ = -20					; size = 4
_count$ = -16						; size = 4
_tObjNum$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_aTargetIndex$ = 16					; size = 4
_isCombo$ = 20						; size = 4
?SkillWheel@CObjUseSkill@@QAEXHPAVCMagicInf@@HH@Z PROC	; CObjUseSkill::SkillWheel
; _this$ = ecx

; 2461 : {

  04900	55		 push	 ebp
  04901	8b ec		 mov	 ebp, esp
  04903	83 ec 64	 sub	 esp, 100		; 00000064H
  04906	53		 push	 ebx
  04907	56		 push	 esi
  04908	57		 push	 edi
  04909	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2462 : 	LPOBJ lpObj = &gObj[aIndex];

  0490c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0490f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04915	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0491b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 2463 : 	int tObjNum;
; 2464 : 	int count = 0;

  0491e	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 2465 : 	int HitCount = 0;

  04925	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0

; 2466 : 	int bAttack;
; 2467 : 	int DuelIndex = lpObj->m_iDuelUser;

  0492c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0492f	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  04935	89 4d e4	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
$LN22@SkillWheel:

; 2468 : 	int EnableAttack;
; 2469 : 
; 2470 : 	while ( true )

  04938	b8 01 00 00 00	 mov	 eax, 1
  0493d	85 c0		 test	 eax, eax
  0493f	0f 84 59 02 00
	00		 je	 $LN23@SkillWheel

; 2471 : 	{
; 2472 : 		if(lpObj->VpPlayer2[count].state != 0)

  04945	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  04948	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0494b	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0494e	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  04956	85 d2		 test	 edx, edx
  04958	0f 84 2a 02 00
	00		 je	 $LN20@SkillWheel

; 2473 : 		{
; 2474 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0495e	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  04961	6b c0 0c	 imul	 eax, 12			; 0000000cH
  04964	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04967	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0496f	89 55 f4	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 2475 : 
; 2476 : 			if(tObjNum >= 0)

  04972	83 7d f4 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  04976	0f 8c 0c 02 00
	00		 jl	 $LN20@SkillWheel

; 2477 : 			{
; 2478 : 				EnableAttack = 0;

  0497c	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 2479 : 
; 2480 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  04983	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  04986	6b c0 0c	 imul	 eax, 12			; 0000000cH
  04989	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0498c	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  04994	83 fa 02	 cmp	 edx, 2
  04997	75 25		 jne	 SHORT $LN18@SkillWheel
  04999	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0499c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  049a2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  049a8	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  049b0	7d 0c		 jge	 SHORT $LN18@SkillWheel

; 2481 : 				{
; 2482 : 					EnableAttack = 1;

  049b2	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  049b9	e9 ff 00 00 00	 jmp	 $LN17@SkillWheel
$LN18@SkillWheel:

; 2483 : 				}
; 2484 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  049be	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  049c1	3b 45 10	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  049c4	74 08		 je	 SHORT $LN15@SkillWheel
  049c6	8b 45 e4	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  049c9	3b 45 f4	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  049cc	75 0c		 jne	 SHORT $LN16@SkillWheel
$LN15@SkillWheel:

; 2485 : 				{
; 2486 : 					EnableAttack = 1;

  049ce	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  049d5	e9 e3 00 00 00	 jmp	 $LN17@SkillWheel
$LN16@SkillWheel:

; 2487 : 				}
; 2488 : //#if(GS_CASTLE==1)
; 2489 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  049da	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  049dd	6b c0 0c	 imul	 eax, 12			; 0000000cH
  049e0	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  049e3	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  049eb	83 fa 03	 cmp	 edx, 3
  049ee	74 37		 je	 SHORT $LN13@SkillWheel
  049f0	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  049f3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  049f9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  049ff	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  04a07	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  04a0a	75 1b		 jne	 SHORT $LN13@SkillWheel
  04a0c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  04a11	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  04a16	83 f8 07	 cmp	 eax, 7
  04a19	75 0c		 jne	 SHORT $LN13@SkillWheel

; 2490 : 				{
; 2491 : 					EnableAttack = 1;

  04a1b	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 2492 : 				}
; 2493 : //#endif
; 2494 : 				else

  04a22	e9 96 00 00 00	 jmp	 $LN17@SkillWheel
$LN13@SkillWheel:

; 2495 : 				{
; 2496 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  04a27	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04a2a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04a30	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04a36	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  04a39	89 55 dc	 mov	 DWORD PTR _CallMonIndex$240586[ebp], edx

; 2497 : 
; 2498 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  04a3c	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04a3f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04a45	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04a4b	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  04a50	83 fa 02	 cmp	 edx, 2
  04a53	75 40		 jne	 SHORT $LN11@SkillWheel
  04a55	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04a58	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04a5e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04a64	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  04a6c	7c 27		 jl	 SHORT $LN11@SkillWheel

; 2499 : 					{
; 2500 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  04a6e	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04a71	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04a77	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04a7d	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  04a84	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  04a8a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04a8f	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  04a92	89 4d dc	 mov	 DWORD PTR _CallMonIndex$240586[ebp], ecx
$LN11@SkillWheel:

; 2501 : 					}
; 2502 : 
; 2503 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  04a95	8b 45 dc	 mov	 eax, DWORD PTR _CallMonIndex$240586[ebp]
  04a98	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04a9e	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04aa4	50		 push	 eax
  04aa5	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04aa8	51		 push	 ecx
  04aa9	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  04aae	83 c4 08	 add	 esp, 8
  04ab1	83 f8 01	 cmp	 eax, 1
  04ab4	75 07		 jne	 SHORT $LN17@SkillWheel

; 2504 : 					{
; 2505 : 						EnableAttack = 1;

  04ab6	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN17@SkillWheel:

; 2506 : 					}
; 2507 : 				}
; 2508 : 
; 2509 : 				if(EnableAttack != 0)

  04abd	83 7d e0 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  04ac1	0f 84 c1 00 00
	00		 je	 $LN20@SkillWheel

; 2510 : 				{
; 2511 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 3)

  04ac7	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04aca	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04ad0	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04ad6	50		 push	 eax
  04ad7	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04ada	51		 push	 ecx
  04adb	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  04ae0	83 c4 08	 add	 esp, 8
  04ae3	83 f8 03	 cmp	 eax, 3
  04ae6	0f 8d 9c 00 00
	00		 jge	 $LN20@SkillWheel

; 2512 : 					{
; 2513 : 						bAttack = 0;

  04aec	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 2514 : 
; 2515 : 						if(HitCount > 15)

  04af3	83 7d ec 0f	 cmp	 DWORD PTR _HitCount$[ebp], 15 ; 0000000fH
  04af7	7e 07		 jle	 SHORT $LN7@SkillWheel

; 2516 : 						{
; 2517 : 							bAttack = 0;

  04af9	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0
$LN7@SkillWheel:

; 2518 : 						}
; 2519 : 
; 2520 : 						if(HitCount >= 10)

  04b00	83 7d ec 0a	 cmp	 DWORD PTR _HitCount$[ebp], 10 ; 0000000aH
  04b04	7c 1e		 jl	 SHORT $LN6@SkillWheel

; 2521 : 						{
; 2522 : 							if(rand()%2)

  04b06	e8 00 00 00 00	 call	 _rand
  04b0b	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  04b10	79 05		 jns	 SHORT $LN25@SkillWheel
  04b12	48		 dec	 eax
  04b13	83 c8 fe	 or	 eax, -2			; fffffffeH
  04b16	40		 inc	 eax
$LN25@SkillWheel:
  04b17	85 c0		 test	 eax, eax
  04b19	74 07		 je	 SHORT $LN5@SkillWheel

; 2523 : 							{
; 2524 : 								bAttack = 1;

  04b1b	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN5@SkillWheel:

; 2525 : 							}
; 2526 : 						}
; 2527 : 						else

  04b22	eb 07		 jmp	 SHORT $LN4@SkillWheel
$LN6@SkillWheel:

; 2528 : 						{
; 2529 : 							bAttack = 1;

  04b24	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN4@SkillWheel:

; 2530 : 						}
; 2531 : 
; 2532 : 						if(bAttack != 0)

  04b2b	83 7d e8 00	 cmp	 DWORD PTR _bAttack$[ebp], 0
  04b2f	74 57		 je	 SHORT $LN20@SkillWheel

; 2533 : 						{
; 2534 : 
; 2535 : 							gObjAttack(lpObj,&gObj[tObjNum],lpMagic,0,1,0,isCombo,0,0);

  04b31	6a 00		 push	 0
  04b33	6a 00		 push	 0
  04b35	8b 45 14	 mov	 eax, DWORD PTR _isCombo$[ebp]
  04b38	50		 push	 eax
  04b39	6a 00		 push	 0
  04b3b	6a 01		 push	 1
  04b3d	6a 00		 push	 0
  04b3f	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  04b42	51		 push	 ecx
  04b43	8b 55 f4	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  04b46	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  04b4c	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04b52	52		 push	 edx
  04b53	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04b56	50		 push	 eax
  04b57	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  04b5c	83 c4 24	 add	 esp, 36			; 00000024H

; 2536 : 
; 2537 : 							if(isCombo != 0)

  04b5f	83 7d 14 00	 cmp	 DWORD PTR _isCombo$[ebp], 0
  04b63	74 23		 je	 SHORT $LN20@SkillWheel

; 2538 : 							{
; 2539 : 								GCMagicAttackNumberSend(lpObj,AT_SKILL_COMBO,gObj[tObjNum].m_Index,1);

  04b65	6a 01		 push	 1
  04b67	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04b6a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04b70	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04b76	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  04b79	52		 push	 edx
  04b7a	6a 3b		 push	 59			; 0000003bH
  04b7c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04b7f	50		 push	 eax
  04b80	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  04b85	83 c4 10	 add	 esp, 16			; 00000010H
$LN20@SkillWheel:

; 2540 : 							}
; 2541 : 						}
; 2542 : 					}
; 2543 : 				}
; 2544 : 			}
; 2545 : 		}
; 2546 : 
; 2547 : 		count++;

  04b88	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  04b8b	83 c0 01	 add	 eax, 1
  04b8e	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 2548 : 		if(count > MAX_VIEWPORT -1)

  04b91	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  04b95	7e 02		 jle	 SHORT $LN1@SkillWheel

; 2549 : 		{
; 2550 : 			break;

  04b97	eb 05		 jmp	 SHORT $LN23@SkillWheel
$LN1@SkillWheel:

; 2551 : 		}
; 2552 : 	}

  04b99	e9 9a fd ff ff	 jmp	 $LN22@SkillWheel
$LN23@SkillWheel:

; 2553 : }

  04b9e	5f		 pop	 edi
  04b9f	5e		 pop	 esi
  04ba0	5b		 pop	 ebx
  04ba1	8b e5		 mov	 esp, ebp
  04ba3	5d		 pop	 ebp
  04ba4	c2 10 00	 ret	 16			; 00000010H
?SkillWheel@CObjUseSkill@@QAEXHPAVCMagicInf@@HH@Z ENDP	; CObjUseSkill::SkillWheel
_TEXT	ENDS
EXTRN	?SkillTestFrustrum@@YAHHHH@Z:PROC		; SkillTestFrustrum
EXTRN	?SkillFrustrum@@YAXEH@Z:PROC			; SkillFrustrum
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_CallMonIndex$240628 = -40				; size = 4
_EnableAttack$ = -36					; size = 4
_DuelIndex$ = -32					; size = 4
_bAttack$ = -28						; size = 4
_HitCount$ = -24					; size = 4
_count$ = -20						; size = 4
_tObjNum$ = -16						; size = 4
_StartDis$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_dir$ = 24						; size = 1
_targetangle$ = 28					; size = 1
_aTargetIndex$ = 32					; size = 4
?SkillPowerSlash@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z PROC ; CObjUseSkill::SkillPowerSlash
; _this$ = ecx

; 2556 : {

  04bb0	55		 push	 ebp
  04bb1	8b ec		 mov	 ebp, esp
  04bb3	83 ec 68	 sub	 esp, 104		; 00000068H
  04bb6	53		 push	 ebx
  04bb7	56		 push	 esi
  04bb8	57		 push	 edi
  04bb9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2557 : 	LPOBJ lpObj = &gObj[aIndex];

  04bbc	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04bbf	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04bc5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04bcb	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 2558 : 	int StartDis = 1;

  04bce	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _StartDis$[ebp], 1

; 2559 : 	int tObjNum;
; 2560 : 	::SkillFrustrum(targetangle,aIndex);

  04bd5	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04bd8	50		 push	 eax
  04bd9	0f b6 4d 1c	 movzx	 ecx, BYTE PTR _targetangle$[ebp]
  04bdd	51		 push	 ecx
  04bde	e8 00 00 00 00	 call	 ?SkillFrustrum@@YAXEH@Z	; SkillFrustrum
  04be3	83 c4 08	 add	 esp, 8

; 2561 : 	int count = 0;

  04be6	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 2562 : 	int HitCount = 0;

  04bed	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0

; 2563 : 	int bAttack;
; 2564 : 	int DuelIndex = lpObj->m_iDuelUser;

  04bf4	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04bf7	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  04bfd	89 4d e0	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
$LN22@SkillPower:

; 2565 : 	int EnableAttack;
; 2566 : 
; 2567 : 	while ( true )

  04c00	b8 01 00 00 00	 mov	 eax, 1
  04c05	85 c0		 test	 eax, eax
  04c07	0f 84 54 02 00
	00		 je	 $LN23@SkillPower

; 2568 : 	{
; 2569 : 		if(lpObj->VpPlayer2[count].state != 0)

  04c0d	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  04c10	6b c0 0c	 imul	 eax, 12			; 0000000cH
  04c13	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04c16	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  04c1e	85 d2		 test	 edx, edx
  04c20	0f 84 25 02 00
	00		 je	 $LN20@SkillPower

; 2570 : 		{
; 2571 : 			tObjNum = lpObj->VpPlayer2[count].number;

  04c26	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  04c29	6b c0 0c	 imul	 eax, 12			; 0000000cH
  04c2c	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04c2f	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  04c37	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 2572 : 
; 2573 : 			if(tObjNum >= 0)

  04c3a	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  04c3e	0f 8c 07 02 00
	00		 jl	 $LN20@SkillPower

; 2574 : 			{
; 2575 : 				EnableAttack = 0;

  04c44	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 2576 : 
; 2577 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  04c4b	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  04c4e	6b c0 0c	 imul	 eax, 12			; 0000000cH
  04c51	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04c54	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  04c5c	83 fa 02	 cmp	 edx, 2
  04c5f	75 25		 jne	 SHORT $LN18@SkillPower
  04c61	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04c64	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04c6a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04c70	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  04c78	7d 0c		 jge	 SHORT $LN18@SkillPower

; 2578 : 				{
; 2579 : 					EnableAttack = 1;

  04c7a	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  04c81	e9 ff 00 00 00	 jmp	 $LN17@SkillPower
$LN18@SkillPower:

; 2580 : 				}
; 2581 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  04c86	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04c89	3b 45 20	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  04c8c	74 08		 je	 SHORT $LN15@SkillPower
  04c8e	8b 45 e0	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  04c91	3b 45 f0	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  04c94	75 0c		 jne	 SHORT $LN16@SkillPower
$LN15@SkillPower:

; 2582 : 				{
; 2583 : 					EnableAttack = 1;

  04c96	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  04c9d	e9 e3 00 00 00	 jmp	 $LN17@SkillPower
$LN16@SkillPower:

; 2584 : 				}
; 2585 : //#if(GS_CASTLE==1)
; 2586 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  04ca2	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  04ca5	6b c0 0c	 imul	 eax, 12			; 0000000cH
  04ca8	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04cab	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  04cb3	83 fa 03	 cmp	 edx, 3
  04cb6	74 37		 je	 SHORT $LN13@SkillPower
  04cb8	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04cbb	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04cc1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04cc7	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  04ccf	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  04cd2	75 1b		 jne	 SHORT $LN13@SkillPower
  04cd4	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  04cd9	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  04cde	83 f8 07	 cmp	 eax, 7
  04ce1	75 0c		 jne	 SHORT $LN13@SkillPower

; 2587 : 				{
; 2588 : 					EnableAttack = 1;

  04ce3	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 2589 : 				}
; 2590 : //#endif
; 2591 : 				else

  04cea	e9 96 00 00 00	 jmp	 $LN17@SkillPower
$LN13@SkillPower:

; 2592 : 				{
; 2593 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  04cef	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04cf2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04cf8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04cfe	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  04d01	89 55 d8	 mov	 DWORD PTR _CallMonIndex$240628[ebp], edx

; 2594 : 
; 2595 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  04d04	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04d07	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04d0d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04d13	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  04d18	83 fa 02	 cmp	 edx, 2
  04d1b	75 40		 jne	 SHORT $LN11@SkillPower
  04d1d	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04d20	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04d26	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04d2c	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  04d34	7c 27		 jl	 SHORT $LN11@SkillPower

; 2596 : 					{
; 2597 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  04d36	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04d39	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04d3f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04d45	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  04d4c	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  04d52	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04d57	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  04d5a	89 4d d8	 mov	 DWORD PTR _CallMonIndex$240628[ebp], ecx
$LN11@SkillPower:

; 2598 : 					}
; 2599 : 
; 2600 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  04d5d	8b 45 d8	 mov	 eax, DWORD PTR _CallMonIndex$240628[ebp]
  04d60	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04d66	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04d6c	50		 push	 eax
  04d6d	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04d70	51		 push	 ecx
  04d71	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  04d76	83 c4 08	 add	 esp, 8
  04d79	83 f8 01	 cmp	 eax, 1
  04d7c	75 07		 jne	 SHORT $LN17@SkillPower

; 2601 : 					{
; 2602 : 						EnableAttack = 1;

  04d7e	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN17@SkillPower:

; 2603 : 					}
; 2604 : 				}
; 2605 : 
; 2606 : 				if(EnableAttack != 0)

  04d85	83 7d dc 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  04d89	0f 84 bc 00 00
	00		 je	 $LN20@SkillPower

; 2607 : 				{
; 2608 : 					if(SkillTestFrustrum(gObj[tObjNum].X,gObj[tObjNum].Y,aIndex))

  04d8f	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04d92	50		 push	 eax
  04d93	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  04d96	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  04d9c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04da2	0f bf 84 0a 46
	01 00 00	 movsx	 eax, WORD PTR [edx+ecx+326]
  04daa	50		 push	 eax
  04dab	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  04dae	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  04db4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04dba	0f bf 84 0a 44
	01 00 00	 movsx	 eax, WORD PTR [edx+ecx+324]
  04dc2	50		 push	 eax
  04dc3	e8 00 00 00 00	 call	 ?SkillTestFrustrum@@YAHHHH@Z ; SkillTestFrustrum
  04dc8	83 c4 0c	 add	 esp, 12			; 0000000cH
  04dcb	85 c0		 test	 eax, eax
  04dcd	74 7c		 je	 SHORT $LN20@SkillPower

; 2609 : 					{
; 2610 : 						bAttack = 0;

  04dcf	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 2611 : 
; 2612 : 						if(HitCount > 10)

  04dd6	83 7d e8 0a	 cmp	 DWORD PTR _HitCount$[ebp], 10 ; 0000000aH
  04dda	7e 09		 jle	 SHORT $LN7@SkillPower

; 2613 : 						{
; 2614 : 							bAttack = 0;

  04ddc	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 2615 : 						}
; 2616 : 						else

  04de3	eb 2b		 jmp	 SHORT $LN6@SkillPower
$LN7@SkillPower:

; 2617 : 						{						
; 2618 : 							if(HitCount >= 5)

  04de5	83 7d e8 05	 cmp	 DWORD PTR _HitCount$[ebp], 5
  04de9	7c 1e		 jl	 SHORT $LN5@SkillPower

; 2619 : 							{
; 2620 : 								if(rand()%2)

  04deb	e8 00 00 00 00	 call	 _rand
  04df0	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  04df5	79 05		 jns	 SHORT $LN25@SkillPower
  04df7	48		 dec	 eax
  04df8	83 c8 fe	 or	 eax, -2			; fffffffeH
  04dfb	40		 inc	 eax
$LN25@SkillPower:
  04dfc	85 c0		 test	 eax, eax
  04dfe	74 07		 je	 SHORT $LN4@SkillPower

; 2621 : 								{
; 2622 : 									bAttack = 1;

  04e00	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN4@SkillPower:

; 2623 : 								}
; 2624 : 							}
; 2625 : 							else

  04e07	eb 07		 jmp	 SHORT $LN6@SkillPower
$LN5@SkillPower:

; 2626 : 							{
; 2627 : 								bAttack = 1;

  04e09	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN6@SkillPower:

; 2628 : 							}
; 2629 : 						}
; 2630 : 
; 2631 : 						if(bAttack != 0)

  04e10	83 7d e4 00	 cmp	 DWORD PTR _bAttack$[ebp], 0
  04e14	74 2c		 je	 SHORT $LN2@SkillPower

; 2632 : 						{
; 2633 : 							gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,1,0,0,0,0);

  04e16	6a 00		 push	 0
  04e18	6a 00		 push	 0
  04e1a	6a 00		 push	 0
  04e1c	6a 00		 push	 0
  04e1e	6a 01		 push	 1
  04e20	6a 01		 push	 1
  04e22	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  04e25	50		 push	 eax
  04e26	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  04e29	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  04e2f	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04e35	51		 push	 ecx
  04e36	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04e39	52		 push	 edx
  04e3a	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  04e3f	83 c4 24	 add	 esp, 36			; 00000024H
$LN2@SkillPower:

; 2634 : 						}
; 2635 : 
; 2636 : 						HitCount++;

  04e42	8b 45 e8	 mov	 eax, DWORD PTR _HitCount$[ebp]
  04e45	83 c0 01	 add	 eax, 1
  04e48	89 45 e8	 mov	 DWORD PTR _HitCount$[ebp], eax
$LN20@SkillPower:

; 2637 : 					}
; 2638 : 				}
; 2639 : 			}
; 2640 : 		}
; 2641 : 
; 2642 : 		count++;

  04e4b	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  04e4e	83 c0 01	 add	 eax, 1
  04e51	89 45 ec	 mov	 DWORD PTR _count$[ebp], eax

; 2643 : 		if(count > MAX_VIEWPORT -1)

  04e54	83 7d ec 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  04e58	7e 02		 jle	 SHORT $LN1@SkillPower

; 2644 : 		{
; 2645 : 			break;

  04e5a	eb 05		 jmp	 SHORT $LN23@SkillPower
$LN1@SkillPower:

; 2646 : 		}
; 2647 : 	}

  04e5c	e9 9f fd ff ff	 jmp	 $LN22@SkillPower
$LN23@SkillPower:

; 2648 : }

  04e61	5f		 pop	 edi
  04e62	5e		 pop	 esi
  04e63	5b		 pop	 ebx
  04e64	8b e5		 mov	 esp, ebp
  04e66	5d		 pop	 ebp
  04e67	c2 1c 00	 ret	 28			; 0000001cH
?SkillPowerSlash@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ENDP ; CObjUseSkill::SkillPowerSlash
_TEXT	ENDS
PUBLIC	?CalDistance@CObjUseSkill@@QAEHHHHH@Z		; CObjUseSkill::CalDistance
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_delay$240681 = -48					; size = 4
_CallMonIndex$240671 = -44				; size = 4
_lpTargetObj$ = -40					; size = 4
_EnableAttack$ = -36					; size = 4
_DuelIndex$ = -32					; size = 4
_bAttack$ = -28						; size = 4
_HitCount$ = -24					; size = 4
_FirstHit$ = -20					; size = 4
_count$ = -16						; size = 4
_tObjNum$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_dir$ = 24						; size = 1
_TargetPos$ = 28					; size = 1
_aTargetIndex$ = 32					; size = 4
?SkillDeathPoison@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z PROC ; CObjUseSkill::SkillDeathPoison
; _this$ = ecx

; 2651 : {

  04e70	55		 push	 ebp
  04e71	8b ec		 mov	 ebp, esp
  04e73	83 ec 70	 sub	 esp, 112		; 00000070H
  04e76	53		 push	 ebx
  04e77	56		 push	 esi
  04e78	57		 push	 edi
  04e79	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2652 : 	LPOBJ lpObj = &gObj[aIndex];

  04e7c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04e7f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04e85	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04e8b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 2653 : 	int tObjNum;
; 2654 : 	int count = 0;

  04e8e	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 2655 : 	int FirstHit = 0;

  04e95	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _FirstHit$[ebp], 0

; 2656 : 	int HitCount = 0;

  04e9c	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0

; 2657 : 	int bAttack;
; 2658 : 	int DuelIndex = lpObj->m_iDuelUser;

  04ea3	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04ea6	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  04eac	89 4d e0	 mov	 DWORD PTR _DuelIndex$[ebp], ecx

; 2659 : 	int EnableAttack;
; 2660 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  04eaf	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  04eb2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04eb8	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04ebe	89 45 d8	 mov	 DWORD PTR _lpTargetObj$[ebp], eax
$LN21@SkillDeath:

; 2661 : 
; 2662 : 
; 2663 : 	while ( true )

  04ec1	b8 01 00 00 00	 mov	 eax, 1
  04ec6	85 c0		 test	 eax, eax
  04ec8	0f 84 53 02 00
	00		 je	 $LN20@SkillDeath

; 2664 : 	{
; 2665 : 		if(lpObj->VpPlayer2[count].state != 0)

  04ece	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  04ed1	6b c0 0c	 imul	 eax, 12			; 0000000cH
  04ed4	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04ed7	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  04edf	85 d2		 test	 edx, edx
  04ee1	0f 84 24 02 00
	00		 je	 $LN19@SkillDeath

; 2666 : 		{
; 2667 : 			tObjNum = lpObj->VpPlayer2[count].number;

  04ee7	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  04eea	6b c0 0c	 imul	 eax, 12			; 0000000cH
  04eed	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04ef0	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  04ef8	89 55 f4	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 2668 : 
; 2669 : 			if(tObjNum >= 0)

  04efb	83 7d f4 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  04eff	0f 8c 06 02 00
	00		 jl	 $LN19@SkillDeath

; 2670 : 			{
; 2671 : 				EnableAttack = 0;

  04f05	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 2672 : 
; 2673 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  04f0c	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  04f0f	6b c0 0c	 imul	 eax, 12			; 0000000cH
  04f12	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04f15	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  04f1d	83 fa 02	 cmp	 edx, 2
  04f20	75 25		 jne	 SHORT $LN17@SkillDeath
  04f22	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04f25	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04f2b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04f31	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  04f39	7d 0c		 jge	 SHORT $LN17@SkillDeath

; 2674 : 				{
; 2675 : 					EnableAttack = 1;

  04f3b	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  04f42	e9 ff 00 00 00	 jmp	 $LN16@SkillDeath
$LN17@SkillDeath:

; 2676 : 				}
; 2677 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  04f47	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04f4a	3b 45 20	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  04f4d	74 08		 je	 SHORT $LN14@SkillDeath
  04f4f	8b 45 e0	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  04f52	3b 45 f4	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  04f55	75 0c		 jne	 SHORT $LN15@SkillDeath
$LN14@SkillDeath:

; 2678 : 				{
; 2679 : 					EnableAttack = 1;

  04f57	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  04f5e	e9 e3 00 00 00	 jmp	 $LN16@SkillDeath
$LN15@SkillDeath:

; 2680 : 				}
; 2681 : //#if(GS_CASTLE==1)
; 2682 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  04f63	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  04f66	6b c0 0c	 imul	 eax, 12			; 0000000cH
  04f69	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04f6c	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  04f74	83 fa 03	 cmp	 edx, 3
  04f77	74 37		 je	 SHORT $LN12@SkillDeath
  04f79	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04f7c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04f82	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04f88	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  04f90	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  04f93	75 1b		 jne	 SHORT $LN12@SkillDeath
  04f95	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  04f9a	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  04f9f	83 f8 07	 cmp	 eax, 7
  04fa2	75 0c		 jne	 SHORT $LN12@SkillDeath

; 2683 : 				{
; 2684 : 					EnableAttack = 1;

  04fa4	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 2685 : 				}
; 2686 : //#endif
; 2687 : 				else

  04fab	e9 96 00 00 00	 jmp	 $LN16@SkillDeath
$LN12@SkillDeath:

; 2688 : 				{
; 2689 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  04fb0	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04fb3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04fb9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04fbf	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  04fc2	89 55 d4	 mov	 DWORD PTR _CallMonIndex$240671[ebp], edx

; 2690 : 
; 2691 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  04fc5	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04fc8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04fce	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04fd4	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  04fd9	83 fa 02	 cmp	 edx, 2
  04fdc	75 40		 jne	 SHORT $LN10@SkillDeath
  04fde	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04fe1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04fe7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04fed	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  04ff5	7c 27		 jl	 SHORT $LN10@SkillDeath

; 2692 : 					{
; 2693 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  04ff7	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  04ffa	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05000	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05006	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0500d	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  05013	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05018	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0501b	89 4d d4	 mov	 DWORD PTR _CallMonIndex$240671[ebp], ecx
$LN10@SkillDeath:

; 2694 : 					}
; 2695 : 
; 2696 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  0501e	8b 45 d4	 mov	 eax, DWORD PTR _CallMonIndex$240671[ebp]
  05021	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05027	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0502d	50		 push	 eax
  0502e	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05031	51		 push	 ecx
  05032	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  05037	83 c4 08	 add	 esp, 8
  0503a	83 f8 01	 cmp	 eax, 1
  0503d	75 07		 jne	 SHORT $LN16@SkillDeath

; 2697 : 					{
; 2698 : 						EnableAttack = 1;

  0503f	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN16@SkillDeath:

; 2699 : 					}
; 2700 : 				}
; 2701 : 
; 2702 : 				if(EnableAttack != 0)

  05046	83 7d dc 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  0504a	0f 84 bb 00 00
	00		 je	 $LN19@SkillDeath

; 2703 : 				{
; 2704 : 					//LogAddC(2, "%s %d", gObj[tObjNum].Name, this->CalDistance(x,y,gObj[tObjNum].X,gObj[tObjNum].Y));
; 2705 : 					if(this->CalDistance(x,y,gObj[tObjNum].X,gObj[tObjNum].Y) < 4)

  05050	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  05053	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05059	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0505f	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  05067	52		 push	 edx
  05068	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0506b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05071	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05077	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0507f	52		 push	 edx
  05080	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  05084	50		 push	 eax
  05085	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  05089	51		 push	 ecx
  0508a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0508d	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  05092	83 f8 04	 cmp	 eax, 4
  05095	7d 74		 jge	 SHORT $LN19@SkillDeath

; 2706 : 					{
; 2707 : 						bAttack = 0;

  05097	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 2708 : 
; 2709 : 						if(HitCount > 10)

  0509e	83 7d e8 0a	 cmp	 DWORD PTR _HitCount$[ebp], 10 ; 0000000aH
  050a2	7e 07		 jle	 SHORT $LN6@SkillDeath

; 2710 : 						{
; 2711 : 							bAttack = 0;

  050a4	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0
$LN6@SkillDeath:

; 2712 : 						}
; 2713 : 						
; 2714 : 						if(HitCount >= 5)

  050ab	83 7d e8 05	 cmp	 DWORD PTR _HitCount$[ebp], 5
  050af	7c 1e		 jl	 SHORT $LN5@SkillDeath

; 2715 : 						{
; 2716 : 							if(rand()%2)

  050b1	e8 00 00 00 00	 call	 _rand
  050b6	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  050bb	79 05		 jns	 SHORT $LN24@SkillDeath
  050bd	48		 dec	 eax
  050be	83 c8 fe	 or	 eax, -2			; fffffffeH
  050c1	40		 inc	 eax
$LN24@SkillDeath:
  050c2	85 c0		 test	 eax, eax
  050c4	74 07		 je	 SHORT $LN4@SkillDeath

; 2717 : 							{
; 2718 : 								bAttack = 1;

  050c6	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN4@SkillDeath:

; 2719 : 							}
; 2720 : 						}
; 2721 : 						else

  050cd	eb 07		 jmp	 SHORT $LN3@SkillDeath
$LN5@SkillDeath:

; 2722 : 						{
; 2723 : 							bAttack = 1;

  050cf	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN3@SkillDeath:

; 2724 : 						}
; 2725 : 
; 2726 : 						if(bAttack != 0)

  050d6	83 7d e4 00	 cmp	 DWORD PTR _bAttack$[ebp], 0
  050da	74 2f		 je	 SHORT $LN19@SkillDeath

; 2727 : 						{
; 2728 : 							int delay = rand()%500;

  050dc	e8 00 00 00 00	 call	 _rand
  050e1	99		 cdq
  050e2	b9 f4 01 00 00	 mov	 ecx, 500		; 000001f4H
  050e7	f7 f9		 idiv	 ecx
  050e9	89 55 d0	 mov	 DWORD PTR _delay$240681[ebp], edx

; 2729 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,delay,lpMagic->m_Skill,0);

  050ec	6a 00		 push	 0
  050ee	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  050f1	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  050f4	51		 push	 ecx
  050f5	8b 55 d0	 mov	 edx, DWORD PTR _delay$240681[ebp]
  050f8	52		 push	 edx
  050f9	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  050fc	50		 push	 eax
  050fd	6a 32		 push	 50			; 00000032H
  050ff	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05102	51		 push	 ecx
  05103	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  05108	83 c4 18	 add	 esp, 24			; 00000018H
$LN19@SkillDeath:

; 2730 : 						}
; 2731 : 					}
; 2732 : 				}
; 2733 : 			}
; 2734 : 		}
; 2735 : 
; 2736 : 		count++;

  0510b	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0510e	83 c0 01	 add	 eax, 1
  05111	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 2737 : 		if(count > MAX_VIEWPORT -1)

  05114	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  05118	7e 02		 jle	 SHORT $LN1@SkillDeath

; 2738 : 		{
; 2739 : 			break;

  0511a	eb 05		 jmp	 SHORT $LN20@SkillDeath
$LN1@SkillDeath:

; 2740 : 		}
; 2741 : 	}

  0511c	e9 a0 fd ff ff	 jmp	 $LN21@SkillDeath
$LN20@SkillDeath:

; 2742 : 	return true;

  05121	b8 01 00 00 00	 mov	 eax, 1

; 2743 : }

  05126	5f		 pop	 edi
  05127	5e		 pop	 esi
  05128	5b		 pop	 ebx
  05129	8b e5		 mov	 esp, ebp
  0512b	5d		 pop	 ebp
  0512c	c2 1c 00	 ret	 28			; 0000001cH
?SkillDeathPoison@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z ENDP ; CObjUseSkill::SkillDeathPoison
; Function compile flags: /Odtp /ZI
_delay$240724 = -48					; size = 4
_CallMonIndex$240714 = -44				; size = 4
_EnableAttack$ = -40					; size = 4
_DuelIndex$ = -36					; size = 4
_lpTargetObj$ = -32					; size = 4
_bAttack$ = -28						; size = 4
_HitCount$ = -24					; size = 4
_FirstHit$ = -20					; size = 4
_count$ = -16						; size = 4
_tObjNum$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_dir$ = 24						; size = 1
_TargetPos$ = 28					; size = 1
_aTargetIndex$ = 32					; size = 4
?SkillSuddenIce@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z PROC ; CObjUseSkill::SkillSuddenIce
; _this$ = ecx

; 2746 : {

  05130	55		 push	 ebp
  05131	8b ec		 mov	 ebp, esp
  05133	83 ec 70	 sub	 esp, 112		; 00000070H
  05136	53		 push	 ebx
  05137	56		 push	 esi
  05138	57		 push	 edi
  05139	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2747 : 	LPOBJ lpObj = &gObj[aIndex];

  0513c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0513f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05145	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0514b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 2748 : 	int tObjNum;
; 2749 : 	int count = 0;

  0514e	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 2750 : 	int FirstHit = 0;

  05155	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _FirstHit$[ebp], 0

; 2751 : 	int HitCount = 0;

  0515c	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0

; 2752 : 	int bAttack;
; 2753 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  05163	8b 45 20	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  05166	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0516c	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05172	89 45 e0	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 2754 : 	int DuelIndex = lpObj->m_iDuelUser;

  05175	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05178	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0517e	89 4d dc	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
$LN21@SkillSudde:

; 2755 : 	int EnableAttack;
; 2756 : 
; 2757 : 	while ( true )

  05181	b8 01 00 00 00	 mov	 eax, 1
  05186	85 c0		 test	 eax, eax
  05188	0f 84 64 02 00
	00		 je	 $LN20@SkillSudde

; 2758 : 	{
; 2759 : 		if(lpObj->VpPlayer2[count].state != 0)

  0518e	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  05191	6b c0 0c	 imul	 eax, 12			; 0000000cH
  05194	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05197	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0519f	85 d2		 test	 edx, edx
  051a1	0f 84 35 02 00
	00		 je	 $LN19@SkillSudde

; 2760 : 		{
; 2761 : 			tObjNum = lpObj->VpPlayer2[count].number;

  051a7	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  051aa	6b c0 0c	 imul	 eax, 12			; 0000000cH
  051ad	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  051b0	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  051b8	89 55 f4	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 2762 : 
; 2763 : 			if(tObjNum >= 0)

  051bb	83 7d f4 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  051bf	0f 8c 17 02 00
	00		 jl	 $LN19@SkillSudde

; 2764 : 			{
; 2765 : 				EnableAttack = 0;

  051c5	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 2766 : 
; 2767 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  051cc	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  051cf	6b c0 0c	 imul	 eax, 12			; 0000000cH
  051d2	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  051d5	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  051dd	83 fa 02	 cmp	 edx, 2
  051e0	75 25		 jne	 SHORT $LN17@SkillSudde
  051e2	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  051e5	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  051eb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  051f1	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  051f9	7d 0c		 jge	 SHORT $LN17@SkillSudde

; 2768 : 				{
; 2769 : 					EnableAttack = 1;

  051fb	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  05202	e9 ff 00 00 00	 jmp	 $LN16@SkillSudde
$LN17@SkillSudde:

; 2770 : 				}
; 2771 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  05207	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0520a	3b 45 20	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0520d	74 08		 je	 SHORT $LN14@SkillSudde
  0520f	8b 45 dc	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  05212	3b 45 f4	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  05215	75 0c		 jne	 SHORT $LN15@SkillSudde
$LN14@SkillSudde:

; 2772 : 				{
; 2773 : 					EnableAttack = 1;

  05217	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  0521e	e9 e3 00 00 00	 jmp	 $LN16@SkillSudde
$LN15@SkillSudde:

; 2774 : 				}
; 2775 : //#if(GS_CASTLE==1)
; 2776 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  05223	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  05226	6b c0 0c	 imul	 eax, 12			; 0000000cH
  05229	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0522c	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  05234	83 fa 03	 cmp	 edx, 3
  05237	74 37		 je	 SHORT $LN12@SkillSudde
  05239	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0523c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05242	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05248	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  05250	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  05253	75 1b		 jne	 SHORT $LN12@SkillSudde
  05255	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0525a	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  0525f	83 f8 07	 cmp	 eax, 7
  05262	75 0c		 jne	 SHORT $LN12@SkillSudde

; 2777 : 				{
; 2778 : 					EnableAttack = 1;

  05264	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 2779 : 				}
; 2780 : //#endif
; 2781 : 				else

  0526b	e9 96 00 00 00	 jmp	 $LN16@SkillSudde
$LN12@SkillSudde:

; 2782 : 				{
; 2783 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  05270	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  05273	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05279	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0527f	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  05282	89 55 d4	 mov	 DWORD PTR _CallMonIndex$240714[ebp], edx

; 2784 : 
; 2785 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  05285	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  05288	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0528e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05294	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  05299	83 fa 02	 cmp	 edx, 2
  0529c	75 40		 jne	 SHORT $LN10@SkillSudde
  0529e	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  052a1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  052a7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  052ad	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  052b5	7c 27		 jl	 SHORT $LN10@SkillSudde

; 2786 : 					{
; 2787 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  052b7	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  052ba	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  052c0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  052c6	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  052cd	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  052d3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  052d8	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  052db	89 4d d4	 mov	 DWORD PTR _CallMonIndex$240714[ebp], ecx
$LN10@SkillSudde:

; 2788 : 					}
; 2789 : 
; 2790 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  052de	8b 45 d4	 mov	 eax, DWORD PTR _CallMonIndex$240714[ebp]
  052e1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  052e7	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  052ed	50		 push	 eax
  052ee	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  052f1	51		 push	 ecx
  052f2	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  052f7	83 c4 08	 add	 esp, 8
  052fa	83 f8 01	 cmp	 eax, 1
  052fd	75 07		 jne	 SHORT $LN16@SkillSudde

; 2791 : 					{
; 2792 : 						EnableAttack = 1;

  052ff	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN16@SkillSudde:

; 2793 : 					}
; 2794 : 				}
; 2795 : 
; 2796 : 				if(EnableAttack != 0)

  05306	83 7d d8 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  0530a	0f 84 cc 00 00
	00		 je	 $LN19@SkillSudde

; 2797 : 				{
; 2798 : 					if(this->CalDistance(x,y,gObj[tObjNum].X,gObj[tObjNum].Y) < 4)

  05310	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  05313	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05319	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0531f	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  05327	52		 push	 edx
  05328	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0532b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05331	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05337	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0533f	52		 push	 edx
  05340	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  05344	50		 push	 eax
  05345	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  05349	51		 push	 ecx
  0534a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0534d	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  05352	83 f8 04	 cmp	 eax, 4
  05355	0f 8d 81 00 00
	00		 jge	 $LN19@SkillSudde

; 2799 : 					{
; 2800 : 						bAttack = 0;

  0535b	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 2801 : 
; 2802 : 						if(HitCount > 10)

  05362	83 7d e8 0a	 cmp	 DWORD PTR _HitCount$[ebp], 10 ; 0000000aH
  05366	7e 07		 jle	 SHORT $LN6@SkillSudde

; 2803 : 						{
; 2804 : 							bAttack = 0;

  05368	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0
$LN6@SkillSudde:

; 2805 : 						}
; 2806 : 						
; 2807 : 						if(HitCount >= 5)

  0536f	83 7d e8 05	 cmp	 DWORD PTR _HitCount$[ebp], 5
  05373	7c 1e		 jl	 SHORT $LN5@SkillSudde

; 2808 : 						{
; 2809 : 							if(rand()%2)

  05375	e8 00 00 00 00	 call	 _rand
  0537a	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0537f	79 05		 jns	 SHORT $LN24@SkillSudde
  05381	48		 dec	 eax
  05382	83 c8 fe	 or	 eax, -2			; fffffffeH
  05385	40		 inc	 eax
$LN24@SkillSudde:
  05386	85 c0		 test	 eax, eax
  05388	74 07		 je	 SHORT $LN4@SkillSudde

; 2810 : 							{
; 2811 : 								bAttack = 1;

  0538a	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN4@SkillSudde:

; 2812 : 							}
; 2813 : 						}
; 2814 : 						else

  05391	eb 07		 jmp	 SHORT $LN3@SkillSudde
$LN5@SkillSudde:

; 2815 : 						{
; 2816 : 							bAttack = 1;

  05393	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN3@SkillSudde:

; 2817 : 						}
; 2818 : 
; 2819 : 						if(bAttack != 0)

  0539a	83 7d e4 00	 cmp	 DWORD PTR _bAttack$[ebp], 0
  0539e	74 3c		 je	 SHORT $LN19@SkillSudde

; 2820 : 						{
; 2821 : 							int delay = rand()%500;

  053a0	e8 00 00 00 00	 call	 _rand
  053a5	99		 cdq
  053a6	b9 f4 01 00 00	 mov	 ecx, 500		; 000001f4H
  053ab	f7 f9		 idiv	 ecx
  053ad	89 55 d0	 mov	 DWORD PTR _delay$240724[ebp], edx

; 2822 : 							gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,1,0,0,0,0);

  053b0	6a 00		 push	 0
  053b2	6a 00		 push	 0
  053b4	6a 00		 push	 0
  053b6	6a 00		 push	 0
  053b8	6a 01		 push	 1
  053ba	6a 01		 push	 1
  053bc	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  053bf	50		 push	 eax
  053c0	8b 4d f4	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  053c3	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  053c9	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  053cf	51		 push	 ecx
  053d0	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  053d3	52		 push	 edx
  053d4	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  053d9	83 c4 24	 add	 esp, 36			; 00000024H
$LN19@SkillSudde:

; 2823 : 						}
; 2824 : 					}
; 2825 : 				}
; 2826 : 			}
; 2827 : 		}
; 2828 : 
; 2829 : 		count++;

  053dc	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  053df	83 c0 01	 add	 eax, 1
  053e2	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 2830 : 		if(count > MAX_VIEWPORT -1)

  053e5	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  053e9	7e 02		 jle	 SHORT $LN1@SkillSudde

; 2831 : 		{
; 2832 : 			break;

  053eb	eb 05		 jmp	 SHORT $LN20@SkillSudde
$LN1@SkillSudde:

; 2833 : 		}
; 2834 : 	}

  053ed	e9 8f fd ff ff	 jmp	 $LN21@SkillSudde
$LN20@SkillSudde:

; 2835 : 	return true;

  053f2	b8 01 00 00 00	 mov	 eax, 1

; 2836 : }

  053f7	5f		 pop	 edi
  053f8	5e		 pop	 esi
  053f9	5b		 pop	 ebx
  053fa	8b e5		 mov	 esp, ebp
  053fc	5d		 pop	 ebp
  053fd	c2 1c 00	 ret	 28			; 0000001cH
?SkillSuddenIce@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z ENDP ; CObjUseSkill::SkillSuddenIce
_TEXT	ENDS
PUBLIC	??_C@_0DK@KIDJIGH@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?v?A?v@ ; `string'
PUBLIC	?SkillHellFire2Start@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillHellFire2Start
;	COMDAT ??_C@_0DK@KIDJIGH@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?v?A?v@
CONST	SEGMENT
??_C@_0DK@KIDJIGH@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?v?A?v@ DB '['
	DB	'%s][%s] ', 0c7H, 0efH, 0c6H, 0c4H, 0c0H, 0ccH, 0beH, 0eeH, '2'
	DB	' ', 0b9H, 0f6H, 0c6H, 0b0H, ' ', 0b4H, 0adH, 0b7H, 0afH, 0c1H
	DB	0f6H, 0c1H, 0f6H, 0b5H, 0b5H, ' ', 0beH, 0caH, 0beH, 0d2H, 0b4H
	DB	0c2H, 0b5H, 0a5H, ' ', 0bfH, 0cfH, 0b7H, 0e1H, 0b0H, 0a1H, ' ', 0b5H
	DB	0c7H, 0beH, 0faH, 0b4H, 0d9H, 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_CallMonIndex$240753 = -32				; size = 4
_EnableAttack$ = -28					; size = 4
_DuelIndex$ = -24					; size = 4
_lpTargetObj$ = -20					; size = 4
_count$ = -16						; size = 4
_tObjNum$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillHellFire2@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillHellFire2
; _this$ = ecx

; 2839 : {

  05400	55		 push	 ebp
  05401	8b ec		 mov	 ebp, esp
  05403	83 ec 60	 sub	 esp, 96			; 00000060H
  05406	53		 push	 ebx
  05407	56		 push	 esi
  05408	57		 push	 edi
  05409	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2840 : 	if(aTargetIndex == 58)

  0540c	83 7d 0c 3a	 cmp	 DWORD PTR _aTargetIndex$[ebp], 58 ; 0000003aH
  05410	75 15		 jne	 SHORT $LN18@SkillHellF

; 2841 : 	{
; 2842 : 		return this->SkillHellFire2Start(aIndex,lpMagic);

  05412	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  05415	50		 push	 eax
  05416	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  05419	51		 push	 ecx
  0541a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0541d	e8 00 00 00 00	 call	 ?SkillHellFire2Start@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillHellFire2Start
  05422	e9 7c 02 00 00	 jmp	 $LN19@SkillHellF
$LN18@SkillHellF:

; 2843 : 	}
; 2844 : 
; 2845 : 	LPOBJ lpObj = &gObj[aIndex];

  05427	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0542a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05430	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05436	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 2846 : 	int tObjNum;
; 2847 : 
; 2848 : 	if(lpObj->SkillHellFire2State == 0)

  05439	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0543c	0f b6 88 14 11
	00 00		 movzx	 ecx, BYTE PTR [eax+4372]
  05443	85 c9		 test	 ecx, ecx
  05445	75 23		 jne	 SHORT $LN17@SkillHellF

; 2849 : 	{
; 2850 : 		LogAddTD("[%s][%s] 2     ",lpObj->AccountID,lpObj->Name); //HermeX Fix

  05447	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0544a	83 c0 77	 add	 eax, 119		; 00000077H
  0544d	50		 push	 eax
  0544e	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05451	83 c1 6c	 add	 ecx, 108		; 0000006cH
  05454	51		 push	 ecx
  05455	68 00 00 00 00	 push	 OFFSET ??_C@_0DK@KIDJIGH@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?v?A?v@
  0545a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05460	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2851 : 		return false;

  05463	33 c0		 xor	 eax, eax
  05465	e9 39 02 00 00	 jmp	 $LN19@SkillHellF
$LN17@SkillHellF:

; 2852 : 	}
; 2853 : 
; 2854 : 	lpObj->SkillHellFire2State = 0;

  0546a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0546d	c6 80 14 11 00
	00 00		 mov	 BYTE PTR [eax+4372], 0

; 2855 : 	int count = 0;

  05474	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 2856 : 	lpObj->SkillHellFire2Time = 0;

  0547b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0547e	c7 80 18 11 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+4376], 0

; 2857 : 
; 2858 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  05488	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0548b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05491	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05497	89 45 ec	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 2859 : 	int DuelIndex = lpObj->m_iDuelUser;

  0549a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0549d	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  054a3	89 4d e8	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
$LN16@SkillHellF:

; 2860 : 	int EnableAttack;
; 2861 : 
; 2862 : 	while ( true )

  054a6	b8 01 00 00 00	 mov	 eax, 1
  054ab	85 c0		 test	 eax, eax
  054ad	0f 84 d5 01 00
	00		 je	 $LN15@SkillHellF

; 2863 : 	{
; 2864 : 		if(lpObj->VpPlayer2[count].state != 0)

  054b3	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  054b6	6b c0 0c	 imul	 eax, 12			; 0000000cH
  054b9	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  054bc	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  054c4	85 d2		 test	 edx, edx
  054c6	0f 84 a6 01 00
	00		 je	 $LN14@SkillHellF

; 2865 : 		{
; 2866 : 			tObjNum = lpObj->VpPlayer2[count].number;

  054cc	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  054cf	6b c0 0c	 imul	 eax, 12			; 0000000cH
  054d2	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  054d5	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  054dd	89 55 f4	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 2867 : 
; 2868 : 			if(tObjNum >= 0)

  054e0	83 7d f4 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  054e4	0f 8c 88 01 00
	00		 jl	 $LN14@SkillHellF

; 2869 : 			{
; 2870 : 				EnableAttack = 0;

  054ea	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 2871 : 
; 2872 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  054f1	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  054f4	6b c0 0c	 imul	 eax, 12			; 0000000cH
  054f7	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  054fa	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  05502	83 fa 02	 cmp	 edx, 2
  05505	75 25		 jne	 SHORT $LN12@SkillHellF
  05507	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0550a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05510	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05516	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0551e	7d 0c		 jge	 SHORT $LN12@SkillHellF

; 2873 : 				{
; 2874 : 					EnableAttack = 1;

  05520	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  05527	e9 ff 00 00 00	 jmp	 $LN11@SkillHellF
$LN12@SkillHellF:

; 2875 : 				}
; 2876 : 				else if(aTargetIndex == tObjNum || DuelIndex == tObjNum)

  0552c	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0552f	3b 45 f4	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  05532	74 08		 je	 SHORT $LN9@SkillHellF
  05534	8b 45 e8	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  05537	3b 45 f4	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  0553a	75 0c		 jne	 SHORT $LN10@SkillHellF
$LN9@SkillHellF:

; 2877 : 				{
; 2878 : 					EnableAttack = 1;

  0553c	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  05543	e9 e3 00 00 00	 jmp	 $LN11@SkillHellF
$LN10@SkillHellF:

; 2879 : 				}
; 2880 : //#if(GS_CASTLE==1)
; 2881 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  05548	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0554b	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0554e	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05551	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  05559	83 fa 03	 cmp	 edx, 3
  0555c	74 37		 je	 SHORT $LN7@SkillHellF
  0555e	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  05561	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05567	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0556d	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  05575	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  05578	75 1b		 jne	 SHORT $LN7@SkillHellF
  0557a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0557f	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  05584	83 f8 07	 cmp	 eax, 7
  05587	75 0c		 jne	 SHORT $LN7@SkillHellF

; 2882 : 				{
; 2883 : 					EnableAttack = 1;

  05589	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 2884 : 				}
; 2885 : //#endif
; 2886 : 				else

  05590	e9 96 00 00 00	 jmp	 $LN11@SkillHellF
$LN7@SkillHellF:

; 2887 : 				{
; 2888 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  05595	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  05598	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0559e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  055a4	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  055a7	89 55 e0	 mov	 DWORD PTR _CallMonIndex$240753[ebp], edx

; 2889 : 
; 2890 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  055aa	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  055ad	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  055b3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  055b9	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  055be	83 fa 02	 cmp	 edx, 2
  055c1	75 40		 jne	 SHORT $LN5@SkillHellF
  055c3	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  055c6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  055cc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  055d2	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  055da	7c 27		 jl	 SHORT $LN5@SkillHellF

; 2891 : 					{
; 2892 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  055dc	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  055df	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  055e5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  055eb	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  055f2	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  055f8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  055fd	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  05600	89 4d e0	 mov	 DWORD PTR _CallMonIndex$240753[ebp], ecx
$LN5@SkillHellF:

; 2893 : 					}
; 2894 : 
; 2895 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  05603	8b 45 e0	 mov	 eax, DWORD PTR _CallMonIndex$240753[ebp]
  05606	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0560c	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05612	50		 push	 eax
  05613	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05616	51		 push	 ecx
  05617	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0561c	83 c4 08	 add	 esp, 8
  0561f	83 f8 01	 cmp	 eax, 1
  05622	75 07		 jne	 SHORT $LN11@SkillHellF

; 2896 : 					{
; 2897 : 						EnableAttack = 1;

  05624	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN11@SkillHellF:

; 2898 : 					}
; 2899 : 				}
; 2900 : 
; 2901 : 				if(EnableAttack != 0)

  0562b	83 7d e4 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  0562f	74 41		 je	 SHORT $LN14@SkillHellF

; 2902 : 				{
; 2903 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) <= 6)

  05631	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  05634	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0563a	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05640	50		 push	 eax
  05641	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05644	51		 push	 ecx
  05645	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  0564a	83 c4 08	 add	 esp, 8
  0564d	83 f8 06	 cmp	 eax, 6
  05650	7f 20		 jg	 SHORT $LN14@SkillHellF

; 2904 : 					{
; 2905 : 						gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,600,lpMagic->m_Skill,0);

  05652	6a 00		 push	 0
  05654	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  05657	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0565a	51		 push	 ecx
  0565b	68 58 02 00 00	 push	 600			; 00000258H
  05660	8b 55 f4	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  05663	52		 push	 edx
  05664	6a 32		 push	 50			; 00000032H
  05666	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05669	50		 push	 eax
  0566a	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0566f	83 c4 18	 add	 esp, 24			; 00000018H
$LN14@SkillHellF:

; 2906 : 					}
; 2907 : 				}
; 2908 : 			}
; 2909 : 		}
; 2910 : 
; 2911 : 		count++;

  05672	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  05675	83 c0 01	 add	 eax, 1
  05678	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 2912 : 		if(count > MAX_VIEWPORT -1)

  0567b	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0567f	7e 02		 jle	 SHORT $LN1@SkillHellF

; 2913 : 		{
; 2914 : 			break;

  05681	eb 05		 jmp	 SHORT $LN15@SkillHellF
$LN1@SkillHellF:

; 2915 : 		}
; 2916 : 	}

  05683	e9 1e fe ff ff	 jmp	 $LN16@SkillHellF
$LN15@SkillHellF:

; 2917 : 
; 2918 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_EXPHELL,lpObj->m_Index,1);

  05688	6a 01		 push	 1
  0568a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0568d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0568f	51		 push	 ecx
  05690	6a 28		 push	 40			; 00000028H
  05692	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05695	52		 push	 edx
  05696	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0569b	83 c4 10	 add	 esp, 16			; 00000010H

; 2919 : 	return true;

  0569e	b8 01 00 00 00	 mov	 eax, 1
$LN19@SkillHellF:

; 2920 : }

  056a3	5f		 pop	 edi
  056a4	5e		 pop	 esi
  056a5	5b		 pop	 ebx
  056a6	8b e5		 mov	 esp, ebp
  056a8	5d		 pop	 ebp
  056a9	c2 0c 00	 ret	 12			; 0000000cH
?SkillHellFire2@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillHellFire2
_TEXT	ENDS
PUBLIC	??_C@_0DI@LCJNNJJL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?$LD?$LE?B@ ; `string'
;	COMDAT ??_C@_0DI@LCJNNJJL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?$LD?$LE?B@
CONST	SEGMENT
??_C@_0DI@LCJNNJJL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?$LD?$LE?B@ DB '['
	DB	'%s][%s] ', 0c7H, 0efH, 0c6H, 0c4H, 0c0H, 0ccH, 0beH, 0eeH, '2'
	DB	' ', 0b9H, 0f6H, 0c6H, 0b0H, ' ', 0b4H, 0adH, 0b7H, 0afH, 0c1H
	DB	0b3H, 0b4H, 0c2H, 0b5H, 0a5H, ' ', 0b6H, 0c7H, ' ', 0b4H, 0adH
	DB	0b7H, 0afH, 0c1H, 0b3H, 0b4H, 0d9H, 0b4H, 0c2H, 0b0H, 0c5H, ' '
	DB	0bfH, 0d4H, 0b4H, 0d9H, 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?SkillHellFire2Start@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillHellFire2Start
; _this$ = ecx

; 2923 : {

  056b0	55		 push	 ebp
  056b1	8b ec		 mov	 ebp, esp
  056b3	83 ec 48	 sub	 esp, 72			; 00000048H
  056b6	53		 push	 ebx
  056b7	56		 push	 esi
  056b8	57		 push	 edi
  056b9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2924 : 	LPOBJ lpObj = &gObj[aIndex];

  056bc	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  056bf	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  056c5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  056cb	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 2925 : 
; 2926 : 	if(lpObj->SkillHellFire2State != 0)

  056ce	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  056d1	0f b6 88 14 11
	00 00		 movzx	 ecx, BYTE PTR [eax+4372]
  056d8	85 c9		 test	 ecx, ecx
  056da	74 20		 je	 SHORT $LN1@SkillHellF@2

; 2927 : 	{
; 2928 : 		LogAddTD("[%s][%s] 2     ",lpObj->AccountID,lpObj->Name); //

  056dc	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  056df	83 c0 77	 add	 eax, 119		; 00000077H
  056e2	50		 push	 eax
  056e3	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  056e6	83 c1 6c	 add	 ecx, 108		; 0000006cH
  056e9	51		 push	 ecx
  056ea	68 00 00 00 00	 push	 OFFSET ??_C@_0DI@LCJNNJJL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?$LD?$LE?B@
  056ef	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  056f5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2929 : 		return false;

  056f8	33 c0		 xor	 eax, eax
  056fa	eb 3c		 jmp	 SHORT $LN2@SkillHellF@2
$LN1@SkillHellF@2:

; 2930 : 	}
; 2931 : 
; 2932 : 	lpObj->SkillHellFire2Time = GetTickCount();

  056fc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  05702	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05705	89 81 18 11 00
	00		 mov	 DWORD PTR [ecx+4376], eax

; 2933 : 	lpObj->SkillHellFire2State = 1;

  0570b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0570e	c6 80 14 11 00
	00 01		 mov	 BYTE PTR [eax+4372], 1

; 2934 : 	lpObj->SkillHellFire2Count = 0;

  05715	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05718	c6 80 15 11 00
	00 00		 mov	 BYTE PTR [eax+4373], 0

; 2935 : 
; 2936 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_EXPHELL_START,aIndex,1);

  0571f	6a 01		 push	 1
  05721	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05724	50		 push	 eax
  05725	6a 3a		 push	 58			; 0000003aH
  05727	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0572a	51		 push	 ecx
  0572b	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  05730	83 c4 10	 add	 esp, 16			; 00000010H

; 2937 : 	return true;

  05733	b8 01 00 00 00	 mov	 eax, 1
$LN2@SkillHellF@2:

; 2938 : }

  05738	5f		 pop	 edi
  05739	5e		 pop	 esi
  0573a	5b		 pop	 ebx
  0573b	8b e5		 mov	 esp, ebp
  0573d	5d		 pop	 ebp
  0573e	c2 08 00	 ret	 8
?SkillHellFire2Start@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillHellFire2Start
_TEXT	ENDS
PUBLIC	?SkillFrustrum@CObjUseSkill@@QAEXHMMM@Z		; CObjUseSkill::SkillFrustrum
PUBLIC	__real@3fc00000
PUBLIC	__real@40400000
PUBLIC	?GetAngle@CObjUseSkill@@QAEHHHHH@Z		; CObjUseSkill::GetAngle
;	COMDAT __real@3fc00000
CONST	SEGMENT
__real@3fc00000 DD 03fc00000r			; 1.5
CONST	ENDS
;	COMDAT __real@40400000
CONST	SEGMENT
__real@40400000 DD 040400000r			; 3
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv223 = -112						; size = 4
_CallMonIndex$240794 = -44				; size = 4
_EnableAttack$ = -40					; size = 4
_DuelIndex$ = -36					; size = 4
_attackcheck$ = -32					; size = 4
_loopcount$ = -28					; size = 4
_count$ = -24						; size = 4
_fangle$ = -20						; size = 4
_tObjNum$ = -16						; size = 4
_StartDis$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
_isCombo$ = 20						; size = 4
?SkillKnightBlow@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z PROC ; CObjUseSkill::SkillKnightBlow
; _this$ = ecx

; 2941 : {

  05750	55		 push	 ebp
  05751	8b ec		 mov	 ebp, esp
  05753	83 ec 70	 sub	 esp, 112		; 00000070H
  05756	53		 push	 ebx
  05757	56		 push	 esi
  05758	57		 push	 edi
  05759	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2942 : 	LPOBJ lpObj = &gObj[aIndex];

  0575c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0575f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05765	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0576b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 2943 : 	int StartDis = 1;

  0576e	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _StartDis$[ebp], 1

; 2944 : 	int tObjNum;
; 2945 : 
; 2946 : 	float fangle = (float)this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y);

  05775	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  05778	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0577e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05784	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0578c	52		 push	 edx
  0578d	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  05790	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05796	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0579c	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  057a4	52		 push	 edx
  057a5	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  057a8	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  057af	51		 push	 ecx
  057b0	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  057b3	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  057ba	50		 push	 eax
  057bb	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  057be	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle
  057c3	89 45 90	 mov	 DWORD PTR tv223[ebp], eax
  057c6	db 45 90	 fild	 DWORD PTR tv223[ebp]
  057c9	d9 5d ec	 fstp	 DWORD PTR _fangle$[ebp]

; 2947 : 
; 2948 : 	this->SkillFrustrum(aIndex,fangle,1.5f,3.0f);

  057cc	51		 push	 ecx
  057cd	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40400000
  057d3	d9 1c 24	 fstp	 DWORD PTR [esp]
  057d6	51		 push	 ecx
  057d7	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@3fc00000
  057dd	d9 1c 24	 fstp	 DWORD PTR [esp]
  057e0	51		 push	 ecx
  057e1	d9 45 ec	 fld	 DWORD PTR _fangle$[ebp]
  057e4	d9 1c 24	 fstp	 DWORD PTR [esp]
  057e7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  057ea	50		 push	 eax
  057eb	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  057ee	e8 00 00 00 00	 call	 ?SkillFrustrum@CObjUseSkill@@QAEXHMMM@Z ; CObjUseSkill::SkillFrustrum

; 2949 : 
; 2950 : 	int count = 0;

  057f3	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 2951 : 	int loopcount = 0;

  057fa	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _loopcount$[ebp], 0

; 2952 : 	int attackcheck;
; 2953 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  05801	6a 01		 push	 1
  05803	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  05806	50		 push	 eax
  05807	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0580a	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  0580e	52		 push	 edx
  0580f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05812	50		 push	 eax
  05813	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  05818	83 c4 10	 add	 esp, 16			; 00000010H

; 2954 : 
; 2955 : 	int DuelIndex = lpObj->m_iDuelUser;

  0581b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0581e	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  05824	89 4d dc	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
$LN20@SkillKnigh:

; 2956 : 	int EnableAttack;
; 2957 : 
; 2958 : 	while ( true )

  05827	b8 01 00 00 00	 mov	 eax, 1
  0582c	85 c0		 test	 eax, eax
  0582e	0f 84 30 02 00
	00		 je	 $LN19@SkillKnigh

; 2959 : 	{
; 2960 : 		if(lpObj->VpPlayer2[count].state != 0)

  05834	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  05837	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0583a	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0583d	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  05845	85 d2		 test	 edx, edx
  05847	0f 84 eb 01 00
	00		 je	 $LN3@SkillKnigh

; 2961 : 		{
; 2962 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0584d	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  05850	6b c0 0c	 imul	 eax, 12			; 0000000cH
  05853	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05856	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0585e	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 2963 : 
; 2964 : 			if(tObjNum >= 0)

  05861	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  05865	0f 8c cd 01 00
	00		 jl	 $LN3@SkillKnigh

; 2965 : 			{
; 2966 : 				EnableAttack = 0;

  0586b	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 2967 : 
; 2968 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  05872	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  05875	6b c0 0c	 imul	 eax, 12			; 0000000cH
  05878	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0587b	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  05883	83 fa 02	 cmp	 edx, 2
  05886	75 25		 jne	 SHORT $LN16@SkillKnigh
  05888	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0588b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05891	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05897	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0589f	7d 0c		 jge	 SHORT $LN16@SkillKnigh

; 2969 : 				{
; 2970 : 					EnableAttack = 1;

  058a1	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  058a8	e9 b2 00 00 00	 jmp	 $LN10@SkillKnigh
$LN16@SkillKnigh:

; 2971 : 				}
; 2972 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  058ad	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  058b0	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  058b3	74 08		 je	 SHORT $LN13@SkillKnigh
  058b5	8b 45 dc	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  058b8	3b 45 f0	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  058bb	75 0c		 jne	 SHORT $LN14@SkillKnigh
$LN13@SkillKnigh:

; 2973 : 				{
; 2974 : 					EnableAttack = 1;

  058bd	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 2975 : 				}
; 2976 : 				else

  058c4	e9 96 00 00 00	 jmp	 $LN10@SkillKnigh
$LN14@SkillKnigh:

; 2977 : 				{
; 2978 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  058c9	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  058cc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  058d2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  058d8	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  058db	89 55 d4	 mov	 DWORD PTR _CallMonIndex$240794[ebp], edx

; 2979 : 
; 2980 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  058de	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  058e1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  058e7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  058ed	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  058f2	83 fa 02	 cmp	 edx, 2
  058f5	75 40		 jne	 SHORT $LN11@SkillKnigh
  058f7	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  058fa	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05900	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05906	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0590e	7c 27		 jl	 SHORT $LN11@SkillKnigh

; 2981 : 					{
; 2982 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  05910	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  05913	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05919	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0591f	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  05926	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0592c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05931	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  05934	89 4d d4	 mov	 DWORD PTR _CallMonIndex$240794[ebp], ecx
$LN11@SkillKnigh:

; 2983 : 					}
; 2984 : 
; 2985 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  05937	8b 45 d4	 mov	 eax, DWORD PTR _CallMonIndex$240794[ebp]
  0593a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05940	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05946	50		 push	 eax
  05947	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0594a	51		 push	 ecx
  0594b	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  05950	83 c4 08	 add	 esp, 8
  05953	83 f8 01	 cmp	 eax, 1
  05956	75 07		 jne	 SHORT $LN10@SkillKnigh

; 2986 : 					{
; 2987 : 						EnableAttack = 1;

  05958	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN10@SkillKnigh:

; 2988 : 					}
; 2989 : 				}
; 2990 : 
; 2991 : 				if(EnableAttack != 0)

  0595f	83 7d d8 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  05963	0f 84 cf 00 00
	00		 je	 $LN3@SkillKnigh

; 2992 : 				{
; 2993 : 					attackcheck = 0;

  05969	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _attackcheck$[ebp], 0

; 2994 : 
; 2995 : 					if(loopcount == 0)

  05970	83 7d e4 00	 cmp	 DWORD PTR _loopcount$[ebp], 0
  05974	75 09		 jne	 SHORT $LN8@SkillKnigh

; 2996 : 					{
; 2997 : 						attackcheck = 1;

  05976	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _attackcheck$[ebp], 1
  0597d	eb 18		 jmp	 SHORT $LN6@SkillKnigh
$LN8@SkillKnigh:

; 2998 : 					}
; 2999 : 					else if(rand()%3==0)

  0597f	e8 00 00 00 00	 call	 _rand
  05984	99		 cdq
  05985	b9 03 00 00 00	 mov	 ecx, 3
  0598a	f7 f9		 idiv	 ecx
  0598c	85 d2		 test	 edx, edx
  0598e	75 07		 jne	 SHORT $LN6@SkillKnigh

; 3000 : 					{
; 3001 : 						attackcheck = 1;

  05990	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _attackcheck$[ebp], 1
$LN6@SkillKnigh:

; 3002 : 					}
; 3003 : 
; 3004 : 					if(attackcheck != 0)

  05997	83 7d e0 00	 cmp	 DWORD PTR _attackcheck$[ebp], 0
  0599b	0f 84 97 00 00
	00		 je	 $LN3@SkillKnigh

; 3005 : 					{
; 3006 : 						if(::SkillTestFrustrum(gObj[tObjNum].X,gObj[tObjNum].Y,aIndex))

  059a1	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  059a4	50		 push	 eax
  059a5	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  059a8	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  059ae	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  059b4	0f bf 84 0a 46
	01 00 00	 movsx	 eax, WORD PTR [edx+ecx+326]
  059bc	50		 push	 eax
  059bd	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  059c0	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  059c6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  059cc	0f bf 84 0a 44
	01 00 00	 movsx	 eax, WORD PTR [edx+ecx+324]
  059d4	50		 push	 eax
  059d5	e8 00 00 00 00	 call	 ?SkillTestFrustrum@@YAHHHH@Z ; SkillTestFrustrum
  059da	83 c4 0c	 add	 esp, 12			; 0000000cH
  059dd	85 c0		 test	 eax, eax
  059df	74 57		 je	 SHORT $LN3@SkillKnigh

; 3007 : 						{
; 3008 : 							gObjAttack(lpObj,&gObj[tObjNum],lpMagic,0,1,0,isCombo,0,0);

  059e1	6a 00		 push	 0
  059e3	6a 00		 push	 0
  059e5	8b 45 14	 mov	 eax, DWORD PTR _isCombo$[ebp]
  059e8	50		 push	 eax
  059e9	6a 00		 push	 0
  059eb	6a 01		 push	 1
  059ed	6a 00		 push	 0
  059ef	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  059f2	51		 push	 ecx
  059f3	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  059f6	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  059fc	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05a02	52		 push	 edx
  05a03	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05a06	50		 push	 eax
  05a07	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  05a0c	83 c4 24	 add	 esp, 36			; 00000024H

; 3009 : 							if(isCombo != 0)

  05a0f	83 7d 14 00	 cmp	 DWORD PTR _isCombo$[ebp], 0
  05a13	74 23		 je	 SHORT $LN3@SkillKnigh

; 3010 : 							{
; 3011 : 								GCMagicAttackNumberSend(lpObj,AT_SKILL_COMBO,gObj[tObjNum].m_Index,1);

  05a15	6a 01		 push	 1
  05a17	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  05a1a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05a20	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05a26	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  05a29	52		 push	 edx
  05a2a	6a 3b		 push	 59			; 0000003bH
  05a2c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05a2f	50		 push	 eax
  05a30	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  05a35	83 c4 10	 add	 esp, 16			; 00000010H
$LN3@SkillKnigh:

; 3012 : 							}
; 3013 : 						}
; 3014 : 					}
; 3015 : 				}
; 3016 : 			}
; 3017 : 		}
; 3018 : 
; 3019 : 		count++;

  05a38	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  05a3b	83 c0 01	 add	 eax, 1
  05a3e	89 45 e8	 mov	 DWORD PTR _count$[ebp], eax

; 3020 : 		if(count > MAX_VIEWPORT -1)

  05a41	83 7d e8 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  05a45	7e 18		 jle	 SHORT $LN1@SkillKnigh

; 3021 : 		{
; 3022 : 			loopcount++;

  05a47	8b 45 e4	 mov	 eax, DWORD PTR _loopcount$[ebp]
  05a4a	83 c0 01	 add	 eax, 1
  05a4d	89 45 e4	 mov	 DWORD PTR _loopcount$[ebp], eax

; 3023 : 			count = 0;

  05a50	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 3024 : 			if(loopcount >= 3)

  05a57	83 7d e4 03	 cmp	 DWORD PTR _loopcount$[ebp], 3
  05a5b	7c 02		 jl	 SHORT $LN1@SkillKnigh

; 3025 : 			{
; 3026 : 				break;

  05a5d	eb 05		 jmp	 SHORT $LN19@SkillKnigh
$LN1@SkillKnigh:

; 3027 : 			}
; 3028 : 		}
; 3029 : 	}

  05a5f	e9 c3 fd ff ff	 jmp	 $LN20@SkillKnigh
$LN19@SkillKnigh:

; 3030 : 	return true;

  05a64	b8 01 00 00 00	 mov	 eax, 1

; 3031 : }

  05a69	5f		 pop	 edi
  05a6a	5e		 pop	 esi
  05a6b	5b		 pop	 ebx
  05a6c	8b e5		 mov	 esp, ebp
  05a6e	5d		 pop	 ebp
  05a6f	c2 10 00	 ret	 16			; 00000010H
?SkillKnightBlow@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ENDP ; CObjUseSkill::SkillKnightBlow
_TEXT	ENDS
PUBLIC	__real@bf800000
PUBLIC	__$ArrayPad$
EXTRN	_VectorRotate:PROC
EXTRN	_AngleMatrix:PROC
;	COMDAT __real@bf800000
CONST	SEGMENT
__real@bf800000 DD 0bf800000r			; -1
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_i$240818 = -172					; size = 4
_vFrustrum$ = -168					; size = 48
_Matrix$ = -120						; size = 48
_Angle$ = -72						; size = 12
_p$ = -60						; size = 48
_lpObj$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_fangle$ = 12						; size = 4
_tx$ = 16						; size = 4
_ty$ = 20						; size = 4
?SkillFrustrum@CObjUseSkill@@QAEXHMMM@Z PROC		; CObjUseSkill::SkillFrustrum
; _this$ = ecx

; 3034 : {

  05a80	55		 push	 ebp
  05a81	8b ec		 mov	 ebp, esp
  05a83	81 ec ec 00 00
	00		 sub	 esp, 236		; 000000ecH
  05a89	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  05a8e	33 c5		 xor	 eax, ebp
  05a90	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  05a93	53		 push	 ebx
  05a94	56		 push	 esi
  05a95	57		 push	 edi
  05a96	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 3035 : 	LPOBJ lpObj = &gObj[aIndex];

  05a99	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05a9c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05aa2	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05aa8	89 45 f4	 mov	 DWORD PTR _lpObj$[ebp], eax

; 3036 : 
; 3037 : 	vec3_t p[4];
; 3038 : 
; 3039 : 	Vector(-tx ,ty , 0.f, p[0]);

  05aab	d9 45 10	 fld	 DWORD PTR _tx$[ebp]
  05aae	d9 e0		 fchs
  05ab0	d9 5d c4	 fstp	 DWORD PTR _p$[ebp]
  05ab3	d9 45 14	 fld	 DWORD PTR _ty$[ebp]
  05ab6	d9 5d c8	 fstp	 DWORD PTR _p$[ebp+4]
  05ab9	d9 ee		 fldz
  05abb	d9 5d cc	 fstp	 DWORD PTR _p$[ebp+8]

; 3040 : 	Vector( tx ,ty , 0.f, p[1]);

  05abe	d9 45 10	 fld	 DWORD PTR _tx$[ebp]
  05ac1	d9 5d d0	 fstp	 DWORD PTR _p$[ebp+12]
  05ac4	d9 45 14	 fld	 DWORD PTR _ty$[ebp]
  05ac7	d9 5d d4	 fstp	 DWORD PTR _p$[ebp+16]
  05aca	d9 ee		 fldz
  05acc	d9 5d d8	 fstp	 DWORD PTR _p$[ebp+20]

; 3041 : 	Vector( 1.0f, 0.f, 0.f, p[2]);

  05acf	d9 e8		 fld1
  05ad1	d9 5d dc	 fstp	 DWORD PTR _p$[ebp+24]
  05ad4	d9 ee		 fldz
  05ad6	d9 5d e0	 fstp	 DWORD PTR _p$[ebp+28]
  05ad9	d9 ee		 fldz
  05adb	d9 5d e4	 fstp	 DWORD PTR _p$[ebp+32]

; 3042 : 	Vector(-1.0f, 0.f, 0.f, p[3]);

  05ade	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@bf800000
  05ae4	d9 5d e8	 fstp	 DWORD PTR _p$[ebp+36]
  05ae7	d9 ee		 fldz
  05ae9	d9 5d ec	 fstp	 DWORD PTR _p$[ebp+40]
  05aec	d9 ee		 fldz
  05aee	d9 5d f0	 fstp	 DWORD PTR _p$[ebp+44]

; 3043 : 
; 3044 : 	vec3_t Angle;
; 3045 : 
; 3046 : 	Vector(0.f, 0.f, fangle, Angle);

  05af1	d9 ee		 fldz
  05af3	d9 5d b8	 fstp	 DWORD PTR _Angle$[ebp]
  05af6	d9 ee		 fldz
  05af8	d9 5d bc	 fstp	 DWORD PTR _Angle$[ebp+4]
  05afb	d9 45 0c	 fld	 DWORD PTR _fangle$[ebp]
  05afe	d9 5d c0	 fstp	 DWORD PTR _Angle$[ebp+8]

; 3047 : 
; 3048 : 	float Matrix[3][4];
; 3049 : 
; 3050 : 	vec3_t vFrustrum[4];
; 3051 : 
; 3052 : 	AngleMatrix(Angle,Matrix);

  05b01	8d 45 88	 lea	 eax, DWORD PTR _Matrix$[ebp]
  05b04	50		 push	 eax
  05b05	8d 4d b8	 lea	 ecx, DWORD PTR _Angle$[ebp]
  05b08	51		 push	 ecx
  05b09	e8 00 00 00 00	 call	 _AngleMatrix
  05b0e	83 c4 08	 add	 esp, 8

; 3053 : 
; 3054 : 	for(int i = 0; i < 4; i++)

  05b11	c7 85 54 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$240818[ebp], 0
  05b1b	eb 0f		 jmp	 SHORT $LN3@SkillFrust
$LN2@SkillFrust:
  05b1d	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _i$240818[ebp]
  05b23	83 c0 01	 add	 eax, 1
  05b26	89 85 54 ff ff
	ff		 mov	 DWORD PTR _i$240818[ebp], eax
$LN3@SkillFrust:
  05b2c	83 bd 54 ff ff
	ff 04		 cmp	 DWORD PTR _i$240818[ebp], 4
  05b33	0f 8d 92 00 00
	00		 jge	 $LN1@SkillFrust

; 3055 : 	{
; 3056 : 		VectorRotate(p[i],Matrix,vFrustrum[i]);

  05b39	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _i$240818[ebp]
  05b3f	6b c0 0c	 imul	 eax, 12			; 0000000cH
  05b42	8d 8c 05 58 ff
	ff ff		 lea	 ecx, DWORD PTR _vFrustrum$[ebp+eax]
  05b49	51		 push	 ecx
  05b4a	8d 55 88	 lea	 edx, DWORD PTR _Matrix$[ebp]
  05b4d	52		 push	 edx
  05b4e	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _i$240818[ebp]
  05b54	6b c0 0c	 imul	 eax, 12			; 0000000cH
  05b57	8d 4c 05 c4	 lea	 ecx, DWORD PTR _p$[ebp+eax]
  05b5b	51		 push	 ecx
  05b5c	e8 00 00 00 00	 call	 _VectorRotate
  05b61	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3057 : 
; 3058 : 		lpObj->fSkillFrustrumX[i] = (int)vFrustrum[i][0] + lpObj->X;

  05b64	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _i$240818[ebp]
  05b6a	6b c0 0c	 imul	 eax, 12			; 0000000cH
  05b6d	d9 84 05 58 ff
	ff ff		 fld	 DWORD PTR _vFrustrum$[ebp+eax]
  05b74	e8 00 00 00 00	 call	 __ftol2_sse
  05b79	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05b7c	0f bf 91 44 01
	00 00		 movsx	 edx, WORD PTR [ecx+324]
  05b83	03 c2		 add	 eax, edx
  05b85	8b 8d 54 ff ff
	ff		 mov	 ecx, DWORD PTR _i$240818[ebp]
  05b8b	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05b8e	89 84 8a f4 10
	00 00		 mov	 DWORD PTR [edx+ecx*4+4340], eax

; 3059 : 		lpObj->fSkillFrustrumY[i] = (int)vFrustrum[i][1] + lpObj->Y;

  05b95	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _i$240818[ebp]
  05b9b	6b c0 0c	 imul	 eax, 12			; 0000000cH
  05b9e	d9 84 05 5c ff
	ff ff		 fld	 DWORD PTR _vFrustrum$[ebp+eax+4]
  05ba5	e8 00 00 00 00	 call	 __ftol2_sse
  05baa	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05bad	0f bf 91 46 01
	00 00		 movsx	 edx, WORD PTR [ecx+326]
  05bb4	03 c2		 add	 eax, edx
  05bb6	8b 8d 54 ff ff
	ff		 mov	 ecx, DWORD PTR _i$240818[ebp]
  05bbc	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05bbf	89 84 8a 04 11
	00 00		 mov	 DWORD PTR [edx+ecx*4+4356], eax

; 3060 : 	}

  05bc6	e9 52 ff ff ff	 jmp	 $LN2@SkillFrust
$LN1@SkillFrust:

; 3061 : }

  05bcb	5f		 pop	 edi
  05bcc	5e		 pop	 esi
  05bcd	5b		 pop	 ebx
  05bce	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  05bd1	33 cd		 xor	 ecx, ebp
  05bd3	e8 00 00 00 00	 call	 @__security_check_cookie@4
  05bd8	8b e5		 mov	 esp, ebp
  05bda	5d		 pop	 ebp
  05bdb	c2 10 00	 ret	 16			; 00000010H
?SkillFrustrum@CObjUseSkill@@QAEXHMMM@Z ENDP		; CObjUseSkill::SkillFrustrum
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?SkillFrustrum2@CObjUseSkill@@QAEXHMMM@Z	; CObjUseSkill::SkillFrustrum2
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_i$240836 = -172					; size = 4
_vFrustrum$ = -168					; size = 48
_Matrix$ = -120						; size = 48
_Angle$ = -72						; size = 12
_p$ = -60						; size = 48
_lpObj$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_fangle$ = 12						; size = 4
_tx$ = 16						; size = 4
_ty$ = 20						; size = 4
?SkillFrustrum2@CObjUseSkill@@QAEXHMMM@Z PROC		; CObjUseSkill::SkillFrustrum2
; _this$ = ecx

; 3064 : {

  05be0	55		 push	 ebp
  05be1	8b ec		 mov	 ebp, esp
  05be3	81 ec ec 00 00
	00		 sub	 esp, 236		; 000000ecH
  05be9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  05bee	33 c5		 xor	 eax, ebp
  05bf0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  05bf3	53		 push	 ebx
  05bf4	56		 push	 esi
  05bf5	57		 push	 edi
  05bf6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 3065 : 	LPOBJ lpObj = &gObj[aIndex];

  05bf9	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05bfc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05c02	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05c08	89 45 f4	 mov	 DWORD PTR _lpObj$[ebp], eax

; 3066 : 
; 3067 : 	vec3_t p[4];
; 3068 : 
; 3069 : 	Vector(0.f, ty, 0.f, p[0]);

  05c0b	d9 ee		 fldz
  05c0d	d9 5d c4	 fstp	 DWORD PTR _p$[ebp]
  05c10	d9 45 14	 fld	 DWORD PTR _ty$[ebp]
  05c13	d9 5d c8	 fstp	 DWORD PTR _p$[ebp+4]
  05c16	d9 ee		 fldz
  05c18	d9 5d cc	 fstp	 DWORD PTR _p$[ebp+8]

; 3070 : 	Vector(0.f, ty, 0.f, p[1]);

  05c1b	d9 ee		 fldz
  05c1d	d9 5d d0	 fstp	 DWORD PTR _p$[ebp+12]
  05c20	d9 45 14	 fld	 DWORD PTR _ty$[ebp]
  05c23	d9 5d d4	 fstp	 DWORD PTR _p$[ebp+16]
  05c26	d9 ee		 fldz
  05c28	d9 5d d8	 fstp	 DWORD PTR _p$[ebp+20]

; 3071 : 	Vector(tx, 1.0f, 0.f, p[2]);

  05c2b	d9 45 10	 fld	 DWORD PTR _tx$[ebp]
  05c2e	d9 5d dc	 fstp	 DWORD PTR _p$[ebp+24]
  05c31	d9 e8		 fld1
  05c33	d9 5d e0	 fstp	 DWORD PTR _p$[ebp+28]
  05c36	d9 ee		 fldz
  05c38	d9 5d e4	 fstp	 DWORD PTR _p$[ebp+32]

; 3072 : 	Vector(-tx, 1.0f, 0.f, p[3]);

  05c3b	d9 45 10	 fld	 DWORD PTR _tx$[ebp]
  05c3e	d9 e0		 fchs
  05c40	d9 5d e8	 fstp	 DWORD PTR _p$[ebp+36]
  05c43	d9 e8		 fld1
  05c45	d9 5d ec	 fstp	 DWORD PTR _p$[ebp+40]
  05c48	d9 ee		 fldz
  05c4a	d9 5d f0	 fstp	 DWORD PTR _p$[ebp+44]

; 3073 : 
; 3074 : 	vec3_t Angle;
; 3075 : 
; 3076 : 	Vector(0.f, 0.f, fangle, Angle);

  05c4d	d9 ee		 fldz
  05c4f	d9 5d b8	 fstp	 DWORD PTR _Angle$[ebp]
  05c52	d9 ee		 fldz
  05c54	d9 5d bc	 fstp	 DWORD PTR _Angle$[ebp+4]
  05c57	d9 45 0c	 fld	 DWORD PTR _fangle$[ebp]
  05c5a	d9 5d c0	 fstp	 DWORD PTR _Angle$[ebp+8]

; 3077 : 
; 3078 : 	float Matrix[3][4];
; 3079 : 
; 3080 : 	vec3_t vFrustrum[4];
; 3081 : 
; 3082 : 	AngleMatrix(Angle,Matrix);

  05c5d	8d 45 88	 lea	 eax, DWORD PTR _Matrix$[ebp]
  05c60	50		 push	 eax
  05c61	8d 4d b8	 lea	 ecx, DWORD PTR _Angle$[ebp]
  05c64	51		 push	 ecx
  05c65	e8 00 00 00 00	 call	 _AngleMatrix
  05c6a	83 c4 08	 add	 esp, 8

; 3083 : 
; 3084 : 	for(int i = 0; i < 4; i++)

  05c6d	c7 85 54 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$240836[ebp], 0
  05c77	eb 0f		 jmp	 SHORT $LN3@SkillFrust@2
$LN2@SkillFrust@2:
  05c79	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _i$240836[ebp]
  05c7f	83 c0 01	 add	 eax, 1
  05c82	89 85 54 ff ff
	ff		 mov	 DWORD PTR _i$240836[ebp], eax
$LN3@SkillFrust@2:
  05c88	83 bd 54 ff ff
	ff 04		 cmp	 DWORD PTR _i$240836[ebp], 4
  05c8f	0f 8d 92 00 00
	00		 jge	 $LN1@SkillFrust@2

; 3085 : 	{
; 3086 : 		VectorRotate(p[i],Matrix,vFrustrum[i]);

  05c95	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _i$240836[ebp]
  05c9b	6b c0 0c	 imul	 eax, 12			; 0000000cH
  05c9e	8d 8c 05 58 ff
	ff ff		 lea	 ecx, DWORD PTR _vFrustrum$[ebp+eax]
  05ca5	51		 push	 ecx
  05ca6	8d 55 88	 lea	 edx, DWORD PTR _Matrix$[ebp]
  05ca9	52		 push	 edx
  05caa	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _i$240836[ebp]
  05cb0	6b c0 0c	 imul	 eax, 12			; 0000000cH
  05cb3	8d 4c 05 c4	 lea	 ecx, DWORD PTR _p$[ebp+eax]
  05cb7	51		 push	 ecx
  05cb8	e8 00 00 00 00	 call	 _VectorRotate
  05cbd	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3087 : 
; 3088 : 		lpObj->fSkillFrustrumX[i] = (int)vFrustrum[i][0] + lpObj->X;

  05cc0	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _i$240836[ebp]
  05cc6	6b c0 0c	 imul	 eax, 12			; 0000000cH
  05cc9	d9 84 05 58 ff
	ff ff		 fld	 DWORD PTR _vFrustrum$[ebp+eax]
  05cd0	e8 00 00 00 00	 call	 __ftol2_sse
  05cd5	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05cd8	0f bf 91 44 01
	00 00		 movsx	 edx, WORD PTR [ecx+324]
  05cdf	03 c2		 add	 eax, edx
  05ce1	8b 8d 54 ff ff
	ff		 mov	 ecx, DWORD PTR _i$240836[ebp]
  05ce7	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05cea	89 84 8a f4 10
	00 00		 mov	 DWORD PTR [edx+ecx*4+4340], eax

; 3089 : 		lpObj->fSkillFrustrumY[i] = (int)vFrustrum[i][1] + lpObj->Y;

  05cf1	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _i$240836[ebp]
  05cf7	6b c0 0c	 imul	 eax, 12			; 0000000cH
  05cfa	d9 84 05 5c ff
	ff ff		 fld	 DWORD PTR _vFrustrum$[ebp+eax+4]
  05d01	e8 00 00 00 00	 call	 __ftol2_sse
  05d06	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05d09	0f bf 91 46 01
	00 00		 movsx	 edx, WORD PTR [ecx+326]
  05d10	03 c2		 add	 eax, edx
  05d12	8b 8d 54 ff ff
	ff		 mov	 ecx, DWORD PTR _i$240836[ebp]
  05d18	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05d1b	89 84 8a 04 11
	00 00		 mov	 DWORD PTR [edx+ecx*4+4356], eax

; 3090 : 	}

  05d22	e9 52 ff ff ff	 jmp	 $LN2@SkillFrust@2
$LN1@SkillFrust@2:

; 3091 : }

  05d27	5f		 pop	 edi
  05d28	5e		 pop	 esi
  05d29	5b		 pop	 ebx
  05d2a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  05d2d	33 cd		 xor	 ecx, ebp
  05d2f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  05d34	8b e5		 mov	 esp, ebp
  05d36	5d		 pop	 ebp
  05d37	c2 10 00	 ret	 16			; 00000010H
?SkillFrustrum2@CObjUseSkill@@QAEXHMMM@Z ENDP		; CObjUseSkill::SkillFrustrum2
_TEXT	ENDS
PUBLIC	__real@4056800000000000
PUBLIC	__real@400921fb5fffffff
PUBLIC	__real@4066800000000000
EXTRN	_atan2:PROC
;	COMDAT __real@4056800000000000
CONST	SEGMENT
__real@4056800000000000 DQ 04056800000000000r	; 90
CONST	ENDS
;	COMDAT __real@400921fb5fffffff
CONST	SEGMENT
__real@400921fb5fffffff DQ 0400921fb5fffffffr	; 3.14159
CONST	ENDS
;	COMDAT __real@4066800000000000
CONST	SEGMENT
__real@4066800000000000 DQ 04066800000000000r	; 180
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv81 = -100						; size = 4
tv79 = -100						; size = 4
_angle$ = -32						; size = 4
_rad$ = -28						; size = 8
_diffY$ = -20						; size = 8
_diffX$ = -12						; size = 8
_this$ = -4						; size = 4
_x$ = 8							; size = 4
_y$ = 12						; size = 4
_tx$ = 16						; size = 4
_ty$ = 20						; size = 4
?GetAngle@CObjUseSkill@@QAEHHHHH@Z PROC			; CObjUseSkill::GetAngle
; _this$ = ecx

; 3094 : {

  05d40	55		 push	 ebp
  05d41	8b ec		 mov	 ebp, esp
  05d43	83 ec 64	 sub	 esp, 100		; 00000064H
  05d46	53		 push	 ebx
  05d47	56		 push	 esi
  05d48	57		 push	 edi
  05d49	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 3095 : 	double diffX = x - tx;

  05d4c	8b 45 08	 mov	 eax, DWORD PTR _x$[ebp]
  05d4f	2b 45 10	 sub	 eax, DWORD PTR _tx$[ebp]
  05d52	89 45 9c	 mov	 DWORD PTR tv79[ebp], eax
  05d55	db 45 9c	 fild	 DWORD PTR tv79[ebp]
  05d58	dd 5d f4	 fstp	 QWORD PTR _diffX$[ebp]

; 3096 : 	double diffY = y - ty;

  05d5b	8b 45 0c	 mov	 eax, DWORD PTR _y$[ebp]
  05d5e	2b 45 14	 sub	 eax, DWORD PTR _ty$[ebp]
  05d61	89 45 9c	 mov	 DWORD PTR tv81[ebp], eax
  05d64	db 45 9c	 fild	 DWORD PTR tv81[ebp]
  05d67	dd 5d ec	 fstp	 QWORD PTR _diffY$[ebp]

; 3097 : 
; 3098 : 	double rad = atan2(diffY,diffX);

  05d6a	83 ec 08	 sub	 esp, 8
  05d6d	dd 45 f4	 fld	 QWORD PTR _diffX$[ebp]
  05d70	dd 1c 24	 fstp	 QWORD PTR [esp]
  05d73	83 ec 08	 sub	 esp, 8
  05d76	dd 45 ec	 fld	 QWORD PTR _diffY$[ebp]
  05d79	dd 1c 24	 fstp	 QWORD PTR [esp]
  05d7c	e8 00 00 00 00	 call	 _atan2
  05d81	83 c4 10	 add	 esp, 16			; 00000010H
  05d84	dd 5d e4	 fstp	 QWORD PTR _rad$[ebp]

; 3099 : 
; 3100 : 	int angle = (int)(rad * 180 / 3.141592741012573 + 90);

  05d87	dd 45 e4	 fld	 QWORD PTR _rad$[ebp]
  05d8a	dc 0d 00 00 00
	00		 fmul	 QWORD PTR __real@4066800000000000
  05d90	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@400921fb5fffffff
  05d96	dc 05 00 00 00
	00		 fadd	 QWORD PTR __real@4056800000000000
  05d9c	e8 00 00 00 00	 call	 __ftol2_sse
  05da1	89 45 e0	 mov	 DWORD PTR _angle$[ebp], eax

; 3101 : 
; 3102 : 	if(angle < 0)

  05da4	83 7d e0 00	 cmp	 DWORD PTR _angle$[ebp], 0
  05da8	7d 0b		 jge	 SHORT $LN1@GetAngle

; 3103 : 	{
; 3104 : 		angle += 360;

  05daa	8b 45 e0	 mov	 eax, DWORD PTR _angle$[ebp]
  05dad	05 68 01 00 00	 add	 eax, 360		; 00000168H
  05db2	89 45 e0	 mov	 DWORD PTR _angle$[ebp], eax
$LN1@GetAngle:

; 3105 : 	}
; 3106 : 	return angle;

  05db5	8b 45 e0	 mov	 eax, DWORD PTR _angle$[ebp]

; 3107 : }

  05db8	5f		 pop	 edi
  05db9	5e		 pop	 esi
  05dba	5b		 pop	 ebx
  05dbb	8b e5		 mov	 esp, ebp
  05dbd	5d		 pop	 ebp
  05dbe	c2 10 00	 ret	 16			; 00000010H
?GetAngle@CObjUseSkill@@QAEHHHHH@Z ENDP			; CObjUseSkill::GetAngle
; Function compile flags: /Odtp /ZI
tv89 = -80						; size = 4
tv88 = -80						; size = 4
tv86 = -80						; size = 4
_ty$ = -12						; size = 4
_tx$ = -8						; size = 4
_this$ = -4						; size = 4
_x$ = 8							; size = 4
_y$ = 12						; size = 4
_x1$ = 16						; size = 4
_y1$ = 20						; size = 4
?CalDistance@CObjUseSkill@@QAEHHHHH@Z PROC		; CObjUseSkill::CalDistance
; _this$ = ecx

; 3110 : {

  05dd0	55		 push	 ebp
  05dd1	8b ec		 mov	 ebp, esp
  05dd3	83 ec 50	 sub	 esp, 80			; 00000050H
  05dd6	53		 push	 ebx
  05dd7	56		 push	 esi
  05dd8	57		 push	 edi
  05dd9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 3111 : 	if(x == x1 && y == y1)

  05ddc	8b 45 08	 mov	 eax, DWORD PTR _x$[ebp]
  05ddf	3b 45 10	 cmp	 eax, DWORD PTR _x1$[ebp]
  05de2	75 0c		 jne	 SHORT $LN1@CalDistanc
  05de4	8b 45 0c	 mov	 eax, DWORD PTR _y$[ebp]
  05de7	3b 45 14	 cmp	 eax, DWORD PTR _y1$[ebp]
  05dea	75 04		 jne	 SHORT $LN1@CalDistanc

; 3112 : 	{
; 3113 : 		return 0;

  05dec	33 c0		 xor	 eax, eax
  05dee	eb 43		 jmp	 SHORT $LN2@CalDistanc
$LN1@CalDistanc:

; 3114 : 	}
; 3115 : 
; 3116 : 	float tx = (float)(x - x1);

  05df0	8b 45 08	 mov	 eax, DWORD PTR _x$[ebp]
  05df3	2b 45 10	 sub	 eax, DWORD PTR _x1$[ebp]
  05df6	89 45 b0	 mov	 DWORD PTR tv86[ebp], eax
  05df9	db 45 b0	 fild	 DWORD PTR tv86[ebp]
  05dfc	d9 5d f8	 fstp	 DWORD PTR _tx$[ebp]

; 3117 : 	float ty = (float)(y - y1);

  05dff	8b 45 0c	 mov	 eax, DWORD PTR _y$[ebp]
  05e02	2b 45 14	 sub	 eax, DWORD PTR _y1$[ebp]
  05e05	89 45 b0	 mov	 DWORD PTR tv88[ebp], eax
  05e08	db 45 b0	 fild	 DWORD PTR tv88[ebp]
  05e0b	d9 5d f4	 fstp	 DWORD PTR _ty$[ebp]

; 3118 : 
; 3119 : 	return (int)(sqrt(tx*tx + ty*ty));

  05e0e	d9 45 f8	 fld	 DWORD PTR _tx$[ebp]
  05e11	d8 4d f8	 fmul	 DWORD PTR _tx$[ebp]
  05e14	d9 45 f4	 fld	 DWORD PTR _ty$[ebp]
  05e17	d8 4d f4	 fmul	 DWORD PTR _ty$[ebp]
  05e1a	de c1		 faddp	 ST(1), ST(0)
  05e1c	d9 5d b0	 fstp	 DWORD PTR tv89[ebp]
  05e1f	d9 45 b0	 fld	 DWORD PTR tv89[ebp]
  05e22	51		 push	 ecx
  05e23	d9 1c 24	 fstp	 DWORD PTR [esp]
  05e26	e8 00 00 00 00	 call	 ?sqrt@@YAMM@Z		; sqrt
  05e2b	83 c4 04	 add	 esp, 4
  05e2e	e8 00 00 00 00	 call	 __ftol2_sse
$LN2@CalDistanc:

; 3120 : }

  05e33	5f		 pop	 edi
  05e34	5e		 pop	 esi
  05e35	5b		 pop	 ebx
  05e36	8b e5		 mov	 esp, ebp
  05e38	5d		 pop	 ebp
  05e39	c2 10 00	 ret	 16			; 00000010H
?CalDistance@CObjUseSkill@@QAEHHHHH@Z ENDP		; CObjUseSkill::CalDistance
_TEXT	ENDS
PUBLIC	?SkillAreaCheck@CObjUseSkill@@QAEHHHHHHHH@Z	; CObjUseSkill::SkillAreaCheck
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_targetangle$ = -16					; size = 4
_maxangel$ = -12					; size = 4
_minangel$ = -8						; size = 4
_this$ = -4						; size = 4
_angel$ = 8						; size = 4
_x$ = 12						; size = 4
_y$ = 16						; size = 4
_tx$ = 20						; size = 4
_ty$ = 24						; size = 4
_dis$ = 28						; size = 4
_arc$ = 32						; size = 4
?SkillAreaCheck@CObjUseSkill@@QAEHHHHHHHH@Z PROC	; CObjUseSkill::SkillAreaCheck
; _this$ = ecx

; 3123 : {

  05e40	55		 push	 ebp
  05e41	8b ec		 mov	 ebp, esp
  05e43	83 ec 50	 sub	 esp, 80			; 00000050H
  05e46	53		 push	 ebx
  05e47	56		 push	 esi
  05e48	57		 push	 edi
  05e49	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 3124 : 	int minangel = angel - arc;

  05e4c	8b 45 08	 mov	 eax, DWORD PTR _angel$[ebp]
  05e4f	2b 45 20	 sub	 eax, DWORD PTR _arc$[ebp]
  05e52	89 45 f8	 mov	 DWORD PTR _minangel$[ebp], eax

; 3125 : 	int maxangel = angel + arc;

  05e55	8b 45 08	 mov	 eax, DWORD PTR _angel$[ebp]
  05e58	03 45 20	 add	 eax, DWORD PTR _arc$[ebp]
  05e5b	89 45 f4	 mov	 DWORD PTR _maxangel$[ebp], eax

; 3126 : 
; 3127 : 	if(this->CalDistance(x,y,tx,ty) > dis)

  05e5e	8b 45 18	 mov	 eax, DWORD PTR _ty$[ebp]
  05e61	50		 push	 eax
  05e62	8b 4d 14	 mov	 ecx, DWORD PTR _tx$[ebp]
  05e65	51		 push	 ecx
  05e66	8b 55 10	 mov	 edx, DWORD PTR _y$[ebp]
  05e69	52		 push	 edx
  05e6a	8b 45 0c	 mov	 eax, DWORD PTR _x$[ebp]
  05e6d	50		 push	 eax
  05e6e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  05e71	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  05e76	3b 45 1c	 cmp	 eax, DWORD PTR _dis$[ebp]
  05e79	7e 07		 jle	 SHORT $LN18@SkillAreaC

; 3128 : 	{
; 3129 : 		return false;

  05e7b	33 c0		 xor	 eax, eax
  05e7d	e9 ad 00 00 00	 jmp	 $LN19@SkillAreaC
$LN18@SkillAreaC:

; 3130 : 	}
; 3131 : 
; 3132 : 	int targetangle = this->GetAngle(x,y,tx,ty);

  05e82	8b 45 18	 mov	 eax, DWORD PTR _ty$[ebp]
  05e85	50		 push	 eax
  05e86	8b 4d 14	 mov	 ecx, DWORD PTR _tx$[ebp]
  05e89	51		 push	 ecx
  05e8a	8b 55 10	 mov	 edx, DWORD PTR _y$[ebp]
  05e8d	52		 push	 edx
  05e8e	8b 45 0c	 mov	 eax, DWORD PTR _x$[ebp]
  05e91	50		 push	 eax
  05e92	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  05e95	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle
  05e9a	89 45 f0	 mov	 DWORD PTR _targetangle$[ebp], eax

; 3133 : 
; 3134 : 	if(minangel < 0)

  05e9d	83 7d f8 00	 cmp	 DWORD PTR _minangel$[ebp], 0
  05ea1	7d 32		 jge	 SHORT $LN17@SkillAreaC

; 3135 : 	{
; 3136 : 		if(targetangle > maxangel)

  05ea3	8b 45 f0	 mov	 eax, DWORD PTR _targetangle$[ebp]
  05ea6	3b 45 f4	 cmp	 eax, DWORD PTR _maxangel$[ebp]
  05ea9	7e 1c		 jle	 SHORT $LN16@SkillAreaC

; 3137 : 		{
; 3138 : 			if(targetangle > minangel + 360)

  05eab	8b 45 f8	 mov	 eax, DWORD PTR _minangel$[ebp]
  05eae	05 68 01 00 00	 add	 eax, 360		; 00000168H
  05eb3	39 45 f0	 cmp	 DWORD PTR _targetangle$[ebp], eax
  05eb6	7e 09		 jle	 SHORT $LN15@SkillAreaC

; 3139 : 			{
; 3140 : 				return true;

  05eb8	b8 01 00 00 00	 mov	 eax, 1
  05ebd	eb 70		 jmp	 SHORT $LN19@SkillAreaC

; 3141 : 			}
; 3142 : 			else

  05ebf	eb 04		 jmp	 SHORT $LN14@SkillAreaC
$LN15@SkillAreaC:

; 3143 : 			{
; 3144 : 				return false;

  05ec1	33 c0		 xor	 eax, eax
  05ec3	eb 6a		 jmp	 SHORT $LN19@SkillAreaC
$LN14@SkillAreaC:

; 3145 : 			}

  05ec5	eb 0c		 jmp	 SHORT $LN13@SkillAreaC
$LN16@SkillAreaC:

; 3146 : 		}
; 3147 : 		else if(maxangel < targetangle)

  05ec7	8b 45 f4	 mov	 eax, DWORD PTR _maxangel$[ebp]
  05eca	3b 45 f0	 cmp	 eax, DWORD PTR _targetangle$[ebp]
  05ecd	7d 04		 jge	 SHORT $LN13@SkillAreaC

; 3148 : 		{
; 3149 : 			return false;

  05ecf	33 c0		 xor	 eax, eax
  05ed1	eb 5c		 jmp	 SHORT $LN19@SkillAreaC
$LN13@SkillAreaC:

; 3150 : 		}
; 3151 : 	}

  05ed3	eb 55		 jmp	 SHORT $LN11@SkillAreaC
$LN17@SkillAreaC:

; 3152 : 	else if(maxangel > 360)

  05ed5	81 7d f4 68 01
	00 00		 cmp	 DWORD PTR _maxangel$[ebp], 360 ; 00000168H
  05edc	7e 32		 jle	 SHORT $LN10@SkillAreaC

; 3153 : 	{
; 3154 : 		if(targetangle < minangel)

  05ede	8b 45 f0	 mov	 eax, DWORD PTR _targetangle$[ebp]
  05ee1	3b 45 f8	 cmp	 eax, DWORD PTR _minangel$[ebp]
  05ee4	7d 1c		 jge	 SHORT $LN9@SkillAreaC

; 3155 : 		{
; 3156 : 			if(targetangle < maxangel - 360)

  05ee6	8b 45 f4	 mov	 eax, DWORD PTR _maxangel$[ebp]
  05ee9	2d 68 01 00 00	 sub	 eax, 360		; 00000168H
  05eee	39 45 f0	 cmp	 DWORD PTR _targetangle$[ebp], eax
  05ef1	7d 09		 jge	 SHORT $LN8@SkillAreaC

; 3157 : 			{
; 3158 : 				return true;

  05ef3	b8 01 00 00 00	 mov	 eax, 1
  05ef8	eb 35		 jmp	 SHORT $LN19@SkillAreaC

; 3159 : 			}
; 3160 : 			else

  05efa	eb 04		 jmp	 SHORT $LN7@SkillAreaC
$LN8@SkillAreaC:

; 3161 : 			{
; 3162 : 				return false;

  05efc	33 c0		 xor	 eax, eax
  05efe	eb 2f		 jmp	 SHORT $LN19@SkillAreaC
$LN7@SkillAreaC:

; 3163 : 			}

  05f00	eb 0c		 jmp	 SHORT $LN6@SkillAreaC
$LN9@SkillAreaC:

; 3164 : 		}
; 3165 : 		else if(maxangel < targetangle)

  05f02	8b 45 f4	 mov	 eax, DWORD PTR _maxangel$[ebp]
  05f05	3b 45 f0	 cmp	 eax, DWORD PTR _targetangle$[ebp]
  05f08	7d 04		 jge	 SHORT $LN6@SkillAreaC

; 3166 : 		{
; 3167 : 			return false;

  05f0a	33 c0		 xor	 eax, eax
  05f0c	eb 21		 jmp	 SHORT $LN19@SkillAreaC
$LN6@SkillAreaC:

; 3168 : 		}
; 3169 : 	}

  05f0e	eb 1a		 jmp	 SHORT $LN11@SkillAreaC
$LN10@SkillAreaC:

; 3170 : 	else if(minangel > targetangle)

  05f10	8b 45 f8	 mov	 eax, DWORD PTR _minangel$[ebp]
  05f13	3b 45 f0	 cmp	 eax, DWORD PTR _targetangle$[ebp]
  05f16	7e 06		 jle	 SHORT $LN3@SkillAreaC

; 3171 : 	{
; 3172 : 		return false;

  05f18	33 c0		 xor	 eax, eax
  05f1a	eb 13		 jmp	 SHORT $LN19@SkillAreaC
  05f1c	eb 0c		 jmp	 SHORT $LN11@SkillAreaC
$LN3@SkillAreaC:

; 3173 : 	}
; 3174 : 	else if(maxangel < targetangle)

  05f1e	8b 45 f4	 mov	 eax, DWORD PTR _maxangel$[ebp]
  05f21	3b 45 f0	 cmp	 eax, DWORD PTR _targetangle$[ebp]
  05f24	7d 04		 jge	 SHORT $LN11@SkillAreaC

; 3175 : 	{
; 3176 : 		return false;

  05f26	33 c0		 xor	 eax, eax
  05f28	eb 05		 jmp	 SHORT $LN19@SkillAreaC
$LN11@SkillAreaC:

; 3177 : 	}
; 3178 : 	return true;

  05f2a	b8 01 00 00 00	 mov	 eax, 1
$LN19@SkillAreaC:

; 3179 : }

  05f2f	5f		 pop	 edi
  05f30	5e		 pop	 esi
  05f31	5b		 pop	 ebx
  05f32	8b e5		 mov	 esp, ebp
  05f34	5d		 pop	 ebp
  05f35	c2 1c 00	 ret	 28			; 0000001cH
?SkillAreaCheck@CObjUseSkill@@QAEHHHHHHHH@Z ENDP	; CObjUseSkill::SkillAreaCheck
_TEXT	ENDS
EXTRN	?HitCheck@CSkillHitBox@@QAEHHHHHH@Z:PROC	; CSkillHitBox::HitCheck
EXTRN	?SkillSpearHitBox@@3VCSkillHitBox@@A:BYTE	; SkillSpearHitBox
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_CallMonIndex$240925 = -44				; size = 4
_EnableAttack$ = -40					; size = 4
_DuelIndex$ = -36					; size = 4
_attackcheck$ = -32					; size = 4
_loopcount$ = -28					; size = 4
_count$ = -24						; size = 4
_iangle$ = -20						; size = 4
_tObjNum$ = -16						; size = 4
_StartDis$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillSpear@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::SkillSpear
; _this$ = ecx

; 3182 : {

  05f40	55		 push	 ebp
  05f41	8b ec		 mov	 ebp, esp
  05f43	83 ec 6c	 sub	 esp, 108		; 0000006cH
  05f46	53		 push	 ebx
  05f47	56		 push	 esi
  05f48	57		 push	 edi
  05f49	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 3183 : 	LPOBJ lpObj = &gObj[aIndex];

  05f4c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05f4f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05f55	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05f5b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 3184 : 	int StartDis = 1;

  05f5e	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _StartDis$[ebp], 1

; 3185 : 	int tObjNum;
; 3186 : 
; 3187 : 	int iangle = this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y);

  05f65	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  05f68	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05f6e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05f74	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  05f7c	52		 push	 edx
  05f7d	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  05f80	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05f86	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05f8c	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  05f94	52		 push	 edx
  05f95	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05f98	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  05f9f	51		 push	 ecx
  05fa0	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05fa3	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  05faa	50		 push	 eax
  05fab	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  05fae	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle
  05fb3	89 45 ec	 mov	 DWORD PTR _iangle$[ebp], eax

; 3188 : 	int count = 0;

  05fb6	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 3189 : 	int loopcount = 0;

  05fbd	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _loopcount$[ebp], 0

; 3190 : 	int attackcheck;
; 3191 : 
; 3192 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  05fc4	6a 01		 push	 1
  05fc6	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  05fc9	50		 push	 eax
  05fca	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  05fcd	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  05fd1	52		 push	 edx
  05fd2	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05fd5	50		 push	 eax
  05fd6	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  05fdb	83 c4 10	 add	 esp, 16			; 00000010H

; 3193 : 
; 3194 : 	if(lpObj->SkillLongSpearChange == 0)

  05fde	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05fe1	0f b6 88 7a 12
	00 00		 movzx	 ecx, BYTE PTR [eax+4730]
  05fe8	85 c9		 test	 ecx, ecx
  05fea	75 36		 jne	 SHORT $LN19@SkillSpear

; 3195 : 	{
; 3196 : 		gObjAttack(lpObj,&gObj[aTargetIndex],lpMagic,0,1,0,0,0,0);

  05fec	6a 00		 push	 0
  05fee	6a 00		 push	 0
  05ff0	6a 00		 push	 0
  05ff2	6a 00		 push	 0
  05ff4	6a 01		 push	 1
  05ff6	6a 00		 push	 0
  05ff8	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  05ffb	50		 push	 eax
  05ffc	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  05fff	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  06005	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0600b	51		 push	 ecx
  0600c	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0600f	52		 push	 edx
  06010	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  06015	83 c4 24	 add	 esp, 36			; 00000024H

; 3197 : 		return true;

  06018	b8 01 00 00 00	 mov	 eax, 1
  0601d	e9 25 02 00 00	 jmp	 $LN20@SkillSpear
$LN19@SkillSpear:

; 3198 : 	}
; 3199 : 
; 3200 : 	int DuelIndex = lpObj->m_iDuelUser;

  06022	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06025	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0602b	89 4d dc	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
$LN18@SkillSpear:

; 3201 : 	int EnableAttack;
; 3202 : 
; 3203 : 	while ( true )

  0602e	b8 01 00 00 00	 mov	 eax, 1
  06033	85 c0		 test	 eax, eax
  06035	0f 84 07 02 00
	00		 je	 $LN17@SkillSpear

; 3204 : 	{
; 3205 : 		if(lpObj->VpPlayer2[count].state != 0)

  0603b	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0603e	6b c0 0c	 imul	 eax, 12			; 0000000cH
  06041	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06044	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0604c	85 d2		 test	 edx, edx
  0604e	0f 84 d8 01 00
	00		 je	 $LN16@SkillSpear

; 3206 : 		{
; 3207 : 			tObjNum = lpObj->VpPlayer2[count].number;

  06054	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  06057	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0605a	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0605d	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  06065	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 3208 : 
; 3209 : 			if(tObjNum >= 0)

  06068	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0606c	0f 8c ba 01 00
	00		 jl	 $LN16@SkillSpear

; 3210 : 			{
; 3211 : 				EnableAttack = 0;

  06072	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 3212 : 
; 3213 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  06079	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0607c	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0607f	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06082	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0608a	83 fa 02	 cmp	 edx, 2
  0608d	75 25		 jne	 SHORT $LN14@SkillSpear
  0608f	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  06092	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  06098	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0609e	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  060a6	7d 0c		 jge	 SHORT $LN14@SkillSpear

; 3214 : 				{
; 3215 : 					EnableAttack = 1;

  060a8	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  060af	e9 b2 00 00 00	 jmp	 $LN13@SkillSpear
$LN14@SkillSpear:

; 3216 : 				}
; 3217 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  060b4	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  060b7	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  060ba	74 08		 je	 SHORT $LN11@SkillSpear
  060bc	8b 45 dc	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  060bf	3b 45 f0	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  060c2	75 0c		 jne	 SHORT $LN12@SkillSpear
$LN11@SkillSpear:

; 3218 : 				{
; 3219 : 					EnableAttack = 1;

  060c4	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 3220 : 				}
; 3221 : 				else

  060cb	e9 96 00 00 00	 jmp	 $LN13@SkillSpear
$LN12@SkillSpear:

; 3222 : 				{
; 3223 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  060d0	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  060d3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  060d9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  060df	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  060e2	89 55 d4	 mov	 DWORD PTR _CallMonIndex$240925[ebp], edx

; 3224 : 
; 3225 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  060e5	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  060e8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  060ee	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  060f4	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  060f9	83 fa 02	 cmp	 edx, 2
  060fc	75 40		 jne	 SHORT $LN9@SkillSpear
  060fe	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  06101	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  06107	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0610d	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  06115	7c 27		 jl	 SHORT $LN9@SkillSpear

; 3226 : 					{
; 3227 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  06117	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0611a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  06120	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06126	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0612d	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  06133	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06138	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0613b	89 4d d4	 mov	 DWORD PTR _CallMonIndex$240925[ebp], ecx
$LN9@SkillSpear:

; 3228 : 					}
; 3229 : 
; 3230 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  0613e	8b 45 d4	 mov	 eax, DWORD PTR _CallMonIndex$240925[ebp]
  06141	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  06147	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0614d	50		 push	 eax
  0614e	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06151	51		 push	 ecx
  06152	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  06157	83 c4 08	 add	 esp, 8
  0615a	83 f8 01	 cmp	 eax, 1
  0615d	75 07		 jne	 SHORT $LN13@SkillSpear

; 3231 : 					{
; 3232 : 						EnableAttack = 1;

  0615f	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN13@SkillSpear:

; 3233 : 					}
; 3234 : 				}
; 3235 : 
; 3236 : 				if(EnableAttack != 0)

  06166	83 7d d8 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  0616a	0f 84 bc 00 00
	00		 je	 $LN16@SkillSpear

; 3237 : 				{
; 3238 : 					attackcheck = 0;

  06170	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _attackcheck$[ebp], 0

; 3239 : 
; 3240 : 					if(loopcount == 0)

  06177	83 7d e4 00	 cmp	 DWORD PTR _loopcount$[ebp], 0
  0617b	75 09		 jne	 SHORT $LN6@SkillSpear

; 3241 : 					{
; 3242 : 						attackcheck = 1;

  0617d	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _attackcheck$[ebp], 1
  06184	eb 18		 jmp	 SHORT $LN5@SkillSpear
$LN6@SkillSpear:

; 3243 : 					}
; 3244 : 					else if(rand()%3==0)

  06186	e8 00 00 00 00	 call	 _rand
  0618b	99		 cdq
  0618c	b9 03 00 00 00	 mov	 ecx, 3
  06191	f7 f9		 idiv	 ecx
  06193	85 d2		 test	 edx, edx
  06195	75 07		 jne	 SHORT $LN5@SkillSpear

; 3245 : 					{
; 3246 : 						attackcheck = 1;

  06197	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _attackcheck$[ebp], 1
$LN5@SkillSpear:

; 3247 : 					}
; 3248 : 
; 3249 : 					if(attackcheck != 0)

  0619e	83 7d e0 00	 cmp	 DWORD PTR _attackcheck$[ebp], 0
  061a2	0f 84 84 00 00
	00		 je	 $LN16@SkillSpear

; 3250 : 					{
; 3251 : 						if(SkillSpearHitBox.HitCheck(iangle,lpObj->X,lpObj->Y,gObj[tObjNum].X,gObj[tObjNum].Y))

  061a8	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  061ab	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  061b1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  061b7	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  061bf	52		 push	 edx
  061c0	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  061c3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  061c9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  061cf	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  061d7	52		 push	 edx
  061d8	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  061db	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  061e2	51		 push	 ecx
  061e3	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  061e6	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  061ed	50		 push	 eax
  061ee	8b 4d ec	 mov	 ecx, DWORD PTR _iangle$[ebp]
  061f1	51		 push	 ecx
  061f2	b9 00 00 00 00	 mov	 ecx, OFFSET ?SkillSpearHitBox@@3VCSkillHitBox@@A ; SkillSpearHitBox
  061f7	e8 00 00 00 00	 call	 ?HitCheck@CSkillHitBox@@QAEHHHHHH@Z ; CSkillHitBox::HitCheck
  061fc	85 c0		 test	 eax, eax
  061fe	74 2c		 je	 SHORT $LN16@SkillSpear

; 3252 : 						{
; 3253 : 							gObjAttack(lpObj,&gObj[tObjNum],lpMagic,0,1,0,0,0,0);

  06200	6a 00		 push	 0
  06202	6a 00		 push	 0
  06204	6a 00		 push	 0
  06206	6a 00		 push	 0
  06208	6a 01		 push	 1
  0620a	6a 00		 push	 0
  0620c	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0620f	50		 push	 eax
  06210	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  06213	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  06219	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0621f	51		 push	 ecx
  06220	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06223	52		 push	 edx
  06224	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  06229	83 c4 24	 add	 esp, 36			; 00000024H
$LN16@SkillSpear:

; 3254 : 						}
; 3255 : 					}
; 3256 : 				}
; 3257 : 			}
; 3258 : 		}
; 3259 : 
; 3260 : 		count++;

  0622c	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0622f	83 c0 01	 add	 eax, 1
  06232	89 45 e8	 mov	 DWORD PTR _count$[ebp], eax

; 3261 : 		if(count > MAX_VIEWPORT -1)

  06235	83 7d e8 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  06239	7e 02		 jle	 SHORT $LN1@SkillSpear

; 3262 : 		{
; 3263 : 			break;

  0623b	eb 05		 jmp	 SHORT $LN17@SkillSpear
$LN1@SkillSpear:

; 3264 : 		}
; 3265 : 	}

  0623d	e9 ec fd ff ff	 jmp	 $LN18@SkillSpear
$LN17@SkillSpear:

; 3266 : 	return true;

  06242	b8 01 00 00 00	 mov	 eax, 1
$LN20@SkillSpear:

; 3267 : }

  06247	5f		 pop	 edi
  06248	5e		 pop	 esi
  06249	5b		 pop	 ebx
  0624a	8b e5		 mov	 esp, ebp
  0624c	5d		 pop	 ebp
  0624d	c2 0c 00	 ret	 12			; 0000000cH
?SkillSpear@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::SkillSpear
; Function compile flags: /Odtp /ZI
_CallMonIndex$240960 = -44				; size = 4
_delaytime$ = -40					; size = 4
_EnableAttack$ = -36					; size = 4
_DuelIndex$ = -32					; size = 4
_attackcheck$ = -28					; size = 4
_loopcount$ = -24					; size = 4
_count$ = -20						; size = 4
_tObjNum$ = -16						; size = 4
_StartDis$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillFireBurst@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillFireBurst
; _this$ = ecx

; 3270 : {

  06250	55		 push	 ebp
  06251	8b ec		 mov	 ebp, esp
  06253	83 ec 6c	 sub	 esp, 108		; 0000006cH
  06256	53		 push	 ebx
  06257	56		 push	 esi
  06258	57		 push	 edi
  06259	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 3271 : 	LPOBJ lpObj = &gObj[aIndex];

  0625c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0625f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  06265	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0626b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 3272 : 	int StartDis = 1;

  0626e	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _StartDis$[ebp], 1

; 3273 : 	int tObjNum;
; 3274 : 	int count = 0;

  06275	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 3275 : 	int loopcount = 0;

  0627c	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _loopcount$[ebp], 0

; 3276 : 
; 3277 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  06283	6a 01		 push	 1
  06285	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  06288	50		 push	 eax
  06289	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0628c	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  06290	52		 push	 edx
  06291	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06294	50		 push	 eax
  06295	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0629a	83 c4 10	 add	 esp, 16			; 00000010H

; 3278 : 	gObjAttack(lpObj,&gObj[aTargetIndex],lpMagic,0,1,0,0,0,0);

  0629d	6a 00		 push	 0
  0629f	6a 00		 push	 0
  062a1	6a 00		 push	 0
  062a3	6a 00		 push	 0
  062a5	6a 01		 push	 1
  062a7	6a 00		 push	 0
  062a9	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  062ac	50		 push	 eax
  062ad	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  062b0	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  062b6	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  062bc	51		 push	 ecx
  062bd	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  062c0	52		 push	 edx
  062c1	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  062c6	83 c4 24	 add	 esp, 36			; 00000024H

; 3279 : 
; 3280 : 	int attackcheck;
; 3281 : 	int DuelIndex = lpObj->m_iDuelUser;

  062c9	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  062cc	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  062d2	89 4d e0	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
$LN18@SkillFireB:

; 3282 : 	int EnableAttack;
; 3283 : 	int delaytime;
; 3284 : 
; 3285 : 	while ( true )

  062d5	b8 01 00 00 00	 mov	 eax, 1
  062da	85 c0		 test	 eax, eax
  062dc	0f 84 f0 01 00
	00		 je	 $LN17@SkillFireB

; 3286 : 	{
; 3287 : 		if(lpObj->VpPlayer2[count].state != 0)

  062e2	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  062e5	6b c0 0c	 imul	 eax, 12			; 0000000cH
  062e8	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  062eb	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  062f3	85 d2		 test	 edx, edx
  062f5	0f 84 c1 01 00
	00		 je	 $LN16@SkillFireB

; 3288 : 		{
; 3289 : 			tObjNum = lpObj->VpPlayer2[count].number;

  062fb	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  062fe	6b c0 0c	 imul	 eax, 12			; 0000000cH
  06301	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06304	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0630c	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 3290 : 
; 3291 : 			if(tObjNum >= 0 && aTargetIndex != tObjNum)

  0630f	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  06313	0f 8c a3 01 00
	00		 jl	 $LN16@SkillFireB
  06319	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0631c	3b 45 f0	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  0631f	0f 84 97 01 00
	00		 je	 $LN16@SkillFireB

; 3292 : 			{
; 3293 : 				EnableAttack = 0;

  06325	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 3294 : 
; 3295 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0632c	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0632f	6b c0 0c	 imul	 eax, 12			; 0000000cH
  06332	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06335	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0633d	83 fa 02	 cmp	 edx, 2
  06340	75 25		 jne	 SHORT $LN14@SkillFireB
  06342	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  06345	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0634b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06351	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  06359	7d 0c		 jge	 SHORT $LN14@SkillFireB

; 3296 : 				{
; 3297 : 					EnableAttack = 1;

  0635b	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  06362	e9 b2 00 00 00	 jmp	 $LN13@SkillFireB
$LN14@SkillFireB:

; 3298 : 				}
; 3299 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  06367	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0636a	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0636d	74 08		 je	 SHORT $LN11@SkillFireB
  0636f	8b 45 e0	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  06372	3b 45 f0	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  06375	75 0c		 jne	 SHORT $LN12@SkillFireB
$LN11@SkillFireB:

; 3300 : 				{
; 3301 : 					EnableAttack = 1;

  06377	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 3302 : 				}
; 3303 : 				else

  0637e	e9 96 00 00 00	 jmp	 $LN13@SkillFireB
$LN12@SkillFireB:

; 3304 : 				{
; 3305 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  06383	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  06386	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0638c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06392	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  06395	89 55 d4	 mov	 DWORD PTR _CallMonIndex$240960[ebp], edx

; 3306 : 
; 3307 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  06398	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0639b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  063a1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  063a7	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  063ac	83 fa 02	 cmp	 edx, 2
  063af	75 40		 jne	 SHORT $LN9@SkillFireB
  063b1	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  063b4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  063ba	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  063c0	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  063c8	7c 27		 jl	 SHORT $LN9@SkillFireB

; 3308 : 					{
; 3309 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  063ca	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  063cd	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  063d3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  063d9	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  063e0	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  063e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  063eb	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  063ee	89 4d d4	 mov	 DWORD PTR _CallMonIndex$240960[ebp], ecx
$LN9@SkillFireB:

; 3310 : 					}
; 3311 : 
; 3312 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  063f1	8b 45 d4	 mov	 eax, DWORD PTR _CallMonIndex$240960[ebp]
  063f4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  063fa	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06400	50		 push	 eax
  06401	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06404	51		 push	 ecx
  06405	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0640a	83 c4 08	 add	 esp, 8
  0640d	83 f8 01	 cmp	 eax, 1
  06410	75 07		 jne	 SHORT $LN13@SkillFireB

; 3313 : 					{
; 3314 : 						EnableAttack = 1;

  06412	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN13@SkillFireB:

; 3315 : 					}
; 3316 : 				}
; 3317 : 
; 3318 : 				if(EnableAttack != 0)

  06419	83 7d dc 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  0641d	0f 84 99 00 00
	00		 je	 $LN16@SkillFireB

; 3319 : 				{
; 3320 : 					attackcheck = 0;

  06423	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _attackcheck$[ebp], 0

; 3321 : 
; 3322 : 					if(loopcount == 0)

  0642a	83 7d e8 00	 cmp	 DWORD PTR _loopcount$[ebp], 0
  0642e	75 09		 jne	 SHORT $LN6@SkillFireB

; 3323 : 					{
; 3324 : 						attackcheck = 1;

  06430	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _attackcheck$[ebp], 1
  06437	eb 18		 jmp	 SHORT $LN5@SkillFireB
$LN6@SkillFireB:

; 3325 : 					}
; 3326 : 					else if(rand()%3==0)

  06439	e8 00 00 00 00	 call	 _rand
  0643e	99		 cdq
  0643f	b9 03 00 00 00	 mov	 ecx, 3
  06444	f7 f9		 idiv	 ecx
  06446	85 d2		 test	 edx, edx
  06448	75 07		 jne	 SHORT $LN5@SkillFireB

; 3327 : 					{
; 3328 : 						attackcheck = 1;

  0644a	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _attackcheck$[ebp], 1
$LN5@SkillFireB:

; 3329 : 					}
; 3330 : 
; 3331 : 					if(attackcheck != 0)

  06451	83 7d e4 00	 cmp	 DWORD PTR _attackcheck$[ebp], 0
  06455	74 65		 je	 SHORT $LN16@SkillFireB

; 3332 : 					{
; 3333 : 						if(gObjCalDistance(&gObj[aTargetIndex],&gObj[tObjNum]) < 3)

  06457	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0645a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  06460	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06466	50		 push	 eax
  06467	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0646a	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  06470	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06476	51		 push	 ecx
  06477	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  0647c	83 c4 08	 add	 esp, 8
  0647f	83 f8 03	 cmp	 eax, 3
  06482	7d 38		 jge	 SHORT $LN16@SkillFireB

; 3334 : 						{
; 3335 : 							delaytime = (rand()*17)%300 + 500;

  06484	e8 00 00 00 00	 call	 _rand
  06489	6b c0 11	 imul	 eax, 17			; 00000011H
  0648c	99		 cdq
  0648d	b9 2c 01 00 00	 mov	 ecx, 300		; 0000012cH
  06492	f7 f9		 idiv	 ecx
  06494	81 c2 f4 01 00
	00		 add	 edx, 500		; 000001f4H
  0649a	89 55 d8	 mov	 DWORD PTR _delaytime$[ebp], edx

; 3336 : 
; 3337 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,delaytime,lpMagic->m_Skill,0);

  0649d	6a 00		 push	 0
  0649f	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  064a2	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  064a5	51		 push	 ecx
  064a6	8b 55 d8	 mov	 edx, DWORD PTR _delaytime$[ebp]
  064a9	52		 push	 edx
  064aa	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  064ad	50		 push	 eax
  064ae	6a 32		 push	 50			; 00000032H
  064b0	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  064b3	51		 push	 ecx
  064b4	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  064b9	83 c4 18	 add	 esp, 24			; 00000018H
$LN16@SkillFireB:

; 3338 : 						}
; 3339 : 					}
; 3340 : 				}
; 3341 : 			}
; 3342 : 		}
; 3343 : 
; 3344 : 		count++;

  064bc	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  064bf	83 c0 01	 add	 eax, 1
  064c2	89 45 ec	 mov	 DWORD PTR _count$[ebp], eax

; 3345 : 		if(count > MAX_VIEWPORT -1)

  064c5	83 7d ec 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  064c9	7e 02		 jle	 SHORT $LN1@SkillFireB

; 3346 : 		{
; 3347 : 			break;

  064cb	eb 05		 jmp	 SHORT $LN17@SkillFireB
$LN1@SkillFireB:

; 3348 : 		}
; 3349 : 	}

  064cd	e9 03 fe ff ff	 jmp	 $LN18@SkillFireB
$LN17@SkillFireB:

; 3350 : 	return true;

  064d2	b8 01 00 00 00	 mov	 eax, 1

; 3351 : }

  064d7	5f		 pop	 edi
  064d8	5e		 pop	 esi
  064d9	5b		 pop	 ebx
  064da	8b e5		 mov	 esp, ebp
  064dc	5d		 pop	 ebp
  064dd	c2 0c 00	 ret	 12			; 0000000cH
?SkillFireBurst@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillFireBurst
; Function compile flags: /Odtp /ZI
_CallMonIndex$240997 = -36				; size = 4
_EnableAttack$ = -32					; size = 4
_DuelIndex$ = -28					; size = 4
_bAttack$ = -24						; size = 4
_HitCount$ = -20					; size = 4
_count$ = -16						; size = 4
_tObjNum$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillDarkHorseAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillDarkHorseAttack
; _this$ = ecx

; 3354 : {

  064e0	55		 push	 ebp
  064e1	8b ec		 mov	 ebp, esp
  064e3	83 ec 64	 sub	 esp, 100		; 00000064H
  064e6	53		 push	 ebx
  064e7	56		 push	 esi
  064e8	57		 push	 edi
  064e9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 3355 : 	LPOBJ lpObj = &gObj[aIndex];

  064ec	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  064ef	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  064f5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  064fb	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 3356 : 	int tObjNum;
; 3357 : 	int count = 0;

  064fe	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 3358 : 	int HitCount = 0;

  06505	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0

; 3359 : 	int bAttack;
; 3360 : 	int DuelIndex = lpObj->m_iDuelUser;

  0650c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0650f	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  06515	89 4d e4	 mov	 DWORD PTR _DuelIndex$[ebp], ecx

; 3361 : 	int EnableAttack;
; 3362 : 
; 3363 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_DARKHORSE_ATTACK,lpObj->m_Index,1);

  06518	6a 01		 push	 1
  0651a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0651d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0651f	51		 push	 ecx
  06520	6a 3e		 push	 62			; 0000003eH
  06522	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06525	52		 push	 edx
  06526	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0652b	83 c4 10	 add	 esp, 16			; 00000010H
$LN23@SkillDarkH:

; 3364 : 
; 3365 : 	while ( true )

  0652e	b8 01 00 00 00	 mov	 eax, 1
  06533	85 c0		 test	 eax, eax
  06535	0f 84 5a 02 00
	00		 je	 $LN22@SkillDarkH

; 3366 : 	{
; 3367 : 		if(lpObj->VpPlayer2[count].state != 0)

  0653b	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0653e	6b c0 0c	 imul	 eax, 12			; 0000000cH
  06541	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06544	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0654c	85 d2		 test	 edx, edx
  0654e	0f 84 2b 02 00
	00		 je	 $LN21@SkillDarkH

; 3368 : 		{
; 3369 : 			tObjNum = lpObj->VpPlayer2[count].number;

  06554	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  06557	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0655a	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0655d	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  06565	89 55 f4	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 3370 : 
; 3371 : 			if(tObjNum >= 0)

  06568	83 7d f4 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0656c	0f 8c 0d 02 00
	00		 jl	 $LN21@SkillDarkH

; 3372 : 			{
; 3373 : 				EnableAttack = 0;

  06572	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 3374 : 				if(gObj[tObjNum].Class < 100 || gObj[tObjNum].Class > 110)

  06579	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0657c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  06582	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06588	0f b7 94 01 b8
	00 00 00	 movzx	 edx, WORD PTR [ecx+eax+184]
  06590	83 fa 64	 cmp	 edx, 100		; 00000064H
  06593	7c 20		 jl	 SHORT $LN18@SkillDarkH
  06595	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  06598	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0659e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  065a4	0f b7 94 01 b8
	00 00 00	 movzx	 edx, WORD PTR [ecx+eax+184]
  065ac	83 fa 6e	 cmp	 edx, 110		; 0000006eH
  065af	0f 8e 3a 01 00
	00		 jle	 $LN19@SkillDarkH
$LN18@SkillDarkH:

; 3375 : 				{
; 3376 : 	
; 3377 : 					if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  065b5	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  065b8	6b c0 0c	 imul	 eax, 12			; 0000000cH
  065bb	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  065be	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  065c6	83 fa 02	 cmp	 edx, 2
  065c9	75 25		 jne	 SHORT $LN17@SkillDarkH
  065cb	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  065ce	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  065d4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  065da	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  065e2	7d 0c		 jge	 SHORT $LN17@SkillDarkH

; 3378 : 					{
; 3379 : 						EnableAttack = 1;

  065e4	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  065eb	e9 ff 00 00 00	 jmp	 $LN19@SkillDarkH
$LN17@SkillDarkH:

; 3380 : 					}
; 3381 : 					else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  065f0	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  065f3	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  065f6	74 08		 je	 SHORT $LN14@SkillDarkH
  065f8	8b 45 e4	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  065fb	3b 45 f4	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  065fe	75 0c		 jne	 SHORT $LN15@SkillDarkH
$LN14@SkillDarkH:

; 3382 : 					{
; 3383 : 						EnableAttack = 1;

  06600	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  06607	e9 e3 00 00 00	 jmp	 $LN19@SkillDarkH
$LN15@SkillDarkH:

; 3384 : 					}
; 3385 : //#if(GS_CASTLE==1)
; 3386 : 					else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  0660c	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0660f	6b c0 0c	 imul	 eax, 12			; 0000000cH
  06612	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06615	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0661d	83 fa 03	 cmp	 edx, 3
  06620	74 37		 je	 SHORT $LN12@SkillDarkH
  06622	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  06625	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0662b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06631	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  06639	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  0663c	75 1b		 jne	 SHORT $LN12@SkillDarkH
  0663e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  06643	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  06648	83 f8 07	 cmp	 eax, 7
  0664b	75 0c		 jne	 SHORT $LN12@SkillDarkH

; 3387 : 					{
; 3388 : 						EnableAttack = 1;

  0664d	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 3389 : 					}
; 3390 : //#endif
; 3391 : 					else

  06654	e9 96 00 00 00	 jmp	 $LN19@SkillDarkH
$LN12@SkillDarkH:

; 3392 : 					{
; 3393 : 						int CallMonIndex = gObj[tObjNum].m_Index;

  06659	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0665c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  06662	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06668	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0666b	89 55 dc	 mov	 DWORD PTR _CallMonIndex$240997[ebp], edx

; 3394 : 	
; 3395 : 						if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0666e	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  06671	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  06677	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0667d	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  06682	83 fa 02	 cmp	 edx, 2
  06685	75 40		 jne	 SHORT $LN10@SkillDarkH
  06687	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0668a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  06690	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06696	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0669e	7c 27		 jl	 SHORT $LN10@SkillDarkH

; 3396 : 						{
; 3397 : 							CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  066a0	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  066a3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  066a9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  066af	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  066b6	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  066bc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  066c1	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  066c4	89 4d dc	 mov	 DWORD PTR _CallMonIndex$240997[ebp], ecx
$LN10@SkillDarkH:

; 3398 : 						}
; 3399 : 	
; 3400 : 						if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  066c7	8b 45 dc	 mov	 eax, DWORD PTR _CallMonIndex$240997[ebp]
  066ca	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  066d0	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  066d6	50		 push	 eax
  066d7	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  066da	51		 push	 ecx
  066db	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  066e0	83 c4 08	 add	 esp, 8
  066e3	83 f8 01	 cmp	 eax, 1
  066e6	75 07		 jne	 SHORT $LN19@SkillDarkH

; 3401 : 						{
; 3402 : 							EnableAttack = 1;

  066e8	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN19@SkillDarkH:

; 3403 : 						}
; 3404 : 					}
; 3405 : 				}
; 3406 : 	
; 3407 : 				if(EnableAttack != 0)

  066ef	83 7d e0 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  066f3	0f 84 86 00 00
	00		 je	 $LN21@SkillDarkH

; 3408 : 				{
; 3409 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)

  066f9	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  066fc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  06702	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06708	50		 push	 eax
  06709	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0670c	51		 push	 ecx
  0670d	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  06712	83 c4 08	 add	 esp, 8
  06715	83 f8 05	 cmp	 eax, 5
  06718	7d 65		 jge	 SHORT $LN21@SkillDarkH

; 3410 : 					{
; 3411 : 						bAttack = 0;

  0671a	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 3412 : 	
; 3413 : 						if(HitCount > 15)

  06721	83 7d ec 0f	 cmp	 DWORD PTR _HitCount$[ebp], 15 ; 0000000fH
  06725	7e 07		 jle	 SHORT $LN6@SkillDarkH

; 3414 : 						{
; 3415 : 							bAttack = 0;

  06727	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0
$LN6@SkillDarkH:

; 3416 : 						}
; 3417 : 	
; 3418 : 						if(HitCount >= 10)

  0672e	83 7d ec 0a	 cmp	 DWORD PTR _HitCount$[ebp], 10 ; 0000000aH
  06732	7c 1e		 jl	 SHORT $LN5@SkillDarkH

; 3419 : 						{
; 3420 : 							if(rand()%2)

  06734	e8 00 00 00 00	 call	 _rand
  06739	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0673e	79 05		 jns	 SHORT $LN26@SkillDarkH
  06740	48		 dec	 eax
  06741	83 c8 fe	 or	 eax, -2			; fffffffeH
  06744	40		 inc	 eax
$LN26@SkillDarkH:
  06745	85 c0		 test	 eax, eax
  06747	74 07		 je	 SHORT $LN4@SkillDarkH

; 3421 : 							{
; 3422 : 								bAttack = 1;

  06749	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN4@SkillDarkH:

; 3423 : 							}
; 3424 : 						}
; 3425 : 						else

  06750	eb 07		 jmp	 SHORT $LN3@SkillDarkH
$LN5@SkillDarkH:

; 3426 : 						{
; 3427 : 							bAttack = 1;

  06752	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN3@SkillDarkH:

; 3428 : 						}
; 3429 : 	
; 3430 : 						if(bAttack != 0)

  06759	83 7d e8 00	 cmp	 DWORD PTR _bAttack$[ebp], 0
  0675d	74 20		 je	 SHORT $LN21@SkillDarkH

; 3431 : 						{
; 3432 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,500,lpMagic->m_Skill,0);

  0675f	6a 00		 push	 0
  06761	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  06764	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  06767	51		 push	 ecx
  06768	68 f4 01 00 00	 push	 500			; 000001f4H
  0676d	8b 55 f4	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  06770	52		 push	 edx
  06771	6a 32		 push	 50			; 00000032H
  06773	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06776	50		 push	 eax
  06777	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0677c	83 c4 18	 add	 esp, 24			; 00000018H
$LN21@SkillDarkH:

; 3433 : 						}
; 3434 : 					}
; 3435 : 				}
; 3436 : 			}
; 3437 : 		}
; 3438 : 	
; 3439 : 		count++;

  0677f	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  06782	83 c0 01	 add	 eax, 1
  06785	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 3440 : 		if(count > MAX_VIEWPORT -1)

  06788	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0678c	7e 02		 jle	 SHORT $LN1@SkillDarkH

; 3441 : 		{
; 3442 : 			break;

  0678e	eb 05		 jmp	 SHORT $LN22@SkillDarkH
$LN1@SkillDarkH:

; 3443 : 		}
; 3444 : 	}

  06790	e9 99 fd ff ff	 jmp	 $LN23@SkillDarkH
$LN22@SkillDarkH:

; 3445 : 	return true;

  06795	b8 01 00 00 00	 mov	 eax, 1

; 3446 : }

  0679a	5f		 pop	 edi
  0679b	5e		 pop	 esi
  0679c	5b		 pop	 ebx
  0679d	8b e5		 mov	 esp, ebp
  0679f	5d		 pop	 ebp
  067a0	c2 0c 00	 ret	 12			; 0000000cH
?SkillDarkHorseAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillDarkHorseAttack
_TEXT	ENDS
PUBLIC	?RecallPartyCheck@CObjUseSkill@@QAEHHH@Z	; CObjUseSkill::RecallPartyCheck
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_n$241020 = -32						; size = 4
_recallcount$ = -28					; size = 4
_lpPartyObj$ = -24					; size = 4
_partycount$ = -20					; size = 4
_partynum$ = -16					; size = 4
_number$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_skill_level$ = 12					; size = 4
?RecallPartyCheck@CObjUseSkill@@QAEHHH@Z PROC		; CObjUseSkill::RecallPartyCheck
; _this$ = ecx

; 3449 : {

  067b0	55		 push	 ebp
  067b1	8b ec		 mov	 ebp, esp
  067b3	83 ec 60	 sub	 esp, 96			; 00000060H
  067b6	53		 push	 ebx
  067b7	56		 push	 esi
  067b8	57		 push	 edi
  067b9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 3450 : 	LPOBJ lpObj = &gObj[aIndex];

  067bc	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  067bf	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  067c5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  067cb	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 3451 : 	int number;
; 3452 : 	int partynum = 0;

  067ce	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _partynum$[ebp], 0

; 3453 : 
; 3454 : 	partynum = lpObj->PartyNumber;

  067d5	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  067d8	8b 88 2c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1068]
  067de	89 4d f0	 mov	 DWORD PTR _partynum$[ebp], ecx

; 3455 : 
; 3456 : 	int partycount;
; 3457 : 	LPOBJ lpPartyObj;
; 3458 : 	int recallcount = 0;

  067e1	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _recallcount$[ebp], 0

; 3459 : 
; 3460 : 	if(partynum != -1)

  067e8	83 7d f0 ff	 cmp	 DWORD PTR _partynum$[ebp], -1
  067ec	0f 84 8a 00 00
	00		 je	 $LN8@RecallPart

; 3461 : 	{
; 3462 : 		partycount = gParty.m_PartyS[partynum].Count;

  067f2	8b 45 f0	 mov	 eax, DWORD PTR _partynum$[ebp]
  067f5	6b c0 6c	 imul	 eax, 108		; 0000006cH
  067f8	8b 88 08 00 00
	00		 mov	 ecx, DWORD PTR ?gParty@@3VPartyClass@@A[eax+8]
  067fe	89 4d ec	 mov	 DWORD PTR _partycount$[ebp], ecx

; 3463 : 
; 3464 : 		for(int n = 0; n < MAX_USER_IN_PARTY;n++)

  06801	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _n$241020[ebp], 0
  06808	eb 09		 jmp	 SHORT $LN7@RecallPart
$LN6@RecallPart:
  0680a	8b 45 e0	 mov	 eax, DWORD PTR _n$241020[ebp]
  0680d	83 c0 01	 add	 eax, 1
  06810	89 45 e0	 mov	 DWORD PTR _n$241020[ebp], eax
$LN7@RecallPart:
  06813	83 7d e0 0a	 cmp	 DWORD PTR _n$241020[ebp], 10 ; 0000000aH
  06817	7d 63		 jge	 SHORT $LN8@RecallPart

; 3465 : 		{
; 3466 : 			number = gParty.m_PartyS[partynum].Number[n];

  06819	8b 45 f0	 mov	 eax, DWORD PTR _partynum$[ebp]
  0681c	6b c0 6c	 imul	 eax, 108		; 0000006cH
  0681f	8b 4d e0	 mov	 ecx, DWORD PTR _n$241020[ebp]
  06822	8b 94 88 0c 00
	00 00		 mov	 edx, DWORD PTR ?gParty@@3VPartyClass@@A[eax+ecx*4+12]
  06829	89 55 f4	 mov	 DWORD PTR _number$[ebp], edx

; 3467 : 
; 3468 : 			if(number >= 0)

  0682c	83 7d f4 00	 cmp	 DWORD PTR _number$[ebp], 0
  06830	7c 48		 jl	 SHORT $LN4@RecallPart

; 3469 : 			{
; 3470 : 				lpPartyObj = &gObj[number];

  06832	8b 45 f4	 mov	 eax, DWORD PTR _number$[ebp]
  06835	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0683b	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06841	89 45 e8	 mov	 DWORD PTR _lpPartyObj$[ebp], eax

; 3471 : 
; 3472 : 				if(lpPartyObj->m_Index != lpObj->m_Index)

  06844	8b 45 e8	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06847	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0684a	8b 10		 mov	 edx, DWORD PTR [eax]
  0684c	3b 11		 cmp	 edx, DWORD PTR [ecx]
  0684e	74 2a		 je	 SHORT $LN4@RecallPart

; 3473 : 				{
; 3474 : 					if(lpPartyObj->MapNumber == lpObj->MapNumber)

  06850	8b 45 e8	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06853	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0685a	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0685d	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  06864	3b c8		 cmp	 ecx, eax
  06866	75 12		 jne	 SHORT $LN4@RecallPart

; 3475 : 					{
; 3476 : 						if(lpPartyObj->SkillRecallParty_Time != 0)

  06868	8b 45 e8	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  0686b	0f b7 88 74 12
	00 00		 movzx	 ecx, WORD PTR [eax+4724]
  06872	85 c9		 test	 ecx, ecx
  06874	74 04		 je	 SHORT $LN4@RecallPart

; 3477 : 						{
; 3478 : 							return false;

  06876	33 c0		 xor	 eax, eax
  06878	eb 07		 jmp	 SHORT $LN9@RecallPart
$LN4@RecallPart:

; 3479 : 						}
; 3480 : 					}
; 3481 : 				}
; 3482 : 			}
; 3483 : 		}

  0687a	eb 8e		 jmp	 SHORT $LN6@RecallPart
$LN8@RecallPart:

; 3484 : 	}
; 3485 : 	return true;

  0687c	b8 01 00 00 00	 mov	 eax, 1
$LN9@RecallPart:

; 3486 : }

  06881	5f		 pop	 edi
  06882	5e		 pop	 esi
  06883	5b		 pop	 ebx
  06884	8b e5		 mov	 esp, ebp
  06886	5d		 pop	 ebp
  06887	c2 08 00	 ret	 8
?RecallPartyCheck@CObjUseSkill@@QAEHHH@Z ENDP		; CObjUseSkill::RecallPartyCheck
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	?AddUserData@CRaklionBattleUserMng@@QAEHH@Z:PROC ; CRaklionBattleUserMng::AddUserData
EXTRN	?g_RaklionBattleUserMng@@3VCRaklionBattleUserMng@@A:BYTE ; g_RaklionBattleUserMng
EXTRN	?gObjCheckTeleportArea@@YAHHEE@Z:PROC		; gObjCheckTeleportArea
EXTRN	?CheckEquipmentToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@H@Z:PROC ; CMoveCommand::CheckEquipmentToMove
EXTRN	?GetMoveLevel@CMoveCommand@@QAEHHHHH@Z:PROC	; CMoveCommand::GetMoveLevel
EXTRN	?CheckDLMemberTeleport@cTeleportManager@@QAE_NH@Z:PROC ; cTeleportManager::CheckDLMemberTeleport
EXTRN	?CheckTeleportDL@cTeleportManager@@QAE_NH@Z:PROC ; cTeleportManager::CheckTeleportDL
EXTRN	?CheckTeleoprtMap@cTeleportManager@@QAE_NHH@Z:PROC ; cTeleportManager::CheckTeleoprtMap
EXTRN	?gPandoraBoxEvent@@3VcPandoraBoxEvent@@A:BYTE	; gPandoraBoxEvent
EXTRN	?GetRaklionState@CRaklion@@QAEHXZ:PROC		; CRaklion::GetRaklionState
EXTRN	?g_Raklion@@3VCRaklion@@A:BYTE			; g_Raklion
EXTRN	?CheckInterfaceToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@@Z:PROC ; CMoveCommand::CheckInterfaceToMove
EXTRN	?CheckMainToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@@Z:PROC ; CMoveCommand::CheckMainToMove
EXTRN	?gMoveCommand@@3VCMoveCommand@@A:BYTE		; gMoveCommand
EXTRN	?MsgOutput@@YAXHPADZZ:PROC			; MsgOutput
EXTRN	?GCServerMsgStringSend@@YAXPADHE@Z:PROC		; GCServerMsgStringSend
EXTRN	__imp__wsprintfA:PROC
EXTRN	?IsMapBattleZone@GensSystem@@QAEHH@Z:PROC	; GensSystem::IsMapBattleZone
EXTRN	?gGensSystem@@3VGensSystem@@A:BYTE		; gGensSystem
EXTRN	?gGENS@@3HA:DWORD				; gGENS
EXTRN	?CheckDLMasterTeleport@cTeleportManager@@QAE_NH@Z:PROC ; cTeleportManager::CheckDLMasterTeleport
EXTRN	?gTeleportManager@@3VcTeleportManager@@A:BYTE	; gTeleportManager
EXTRN	?SiegeDarkLordSummon@CDungeonSiege@@QAE_NH@Z:PROC ; CDungeonSiege::SiegeDarkLordSummon
EXTRN	?g_DungeonSiege@@3VCDungeonSiege@@A:BYTE	; g_DungeonSiege
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv67 = -1932						; size = 4
_msg$241091 = -1864					; size = 255
_msg$241089 = -1608					; size = 255
_msg$241087 = -1352					; size = 255
_Find$241077 = -1096					; size = 4
_count$241076 = -1092					; size = 4
_addy$241075 = -1088					; size = 4
_addx$241074 = -1084					; size = 4
_bCheckInterfaceToMove$241072 = -1080			; size = 4
_bCheckEquipmentToMove$241071 = -1076			; size = 4
_bCheckMainToMove$241070 = -1072			; size = 4
_movelevel$241069 = -1068				; size = 4
_n$241056 = -1064					; size = 4
_recallcount$ = -1060					; size = 4
_lpPartyObj$ = -1056					; size = 4
_partycount$ = -1052					; size = 4
_partynum$ = -1048					; size = 4
_number$ = -1044					; size = 4
_msg$241049 = -1040					; size = 255
_msg$241046 = -784					; size = 255
_msg$241044 = -528					; size = 255
_msg$241041 = -272					; size = 255
_lpObj$ = -16						; size = 4
_skillSuccess$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_skill_level$ = 12					; size = 4
?SkillRecallParty@CObjUseSkill@@QAEXHH@Z PROC		; CObjUseSkill::SkillRecallParty
; _this$ = ecx

; 3489 : {

  06890	55		 push	 ebp
  06891	8b ec		 mov	 ebp, esp
  06893	81 ec 8c 07 00
	00		 sub	 esp, 1932		; 0000078cH
  06899	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0689e	33 c5		 xor	 eax, ebp
  068a0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  068a3	53		 push	 ebx
  068a4	56		 push	 esi
  068a5	57		 push	 edi
  068a6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 3490 : 
; 3491 : #if(SWENG_FIX==TRUE)
; 3492 : 	if ( OBJMAX_RANGE(aIndex) == FALSE )	//FIX_CRASH

  068a9	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  068ad	7d 0c		 jge	 SHORT $LN38@SkillRecal
  068af	c7 85 74 f8 ff
	ff 00 00 00 00	 mov	 DWORD PTR tv67[ebp], 0
  068b9	eb 12		 jmp	 SHORT $LN39@SkillRecal
$LN38@SkillRecal:
  068bb	33 c0		 xor	 eax, eax
  068bd	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  068c4	0f 9e c0	 setle	 al
  068c7	89 85 74 f8 ff
	ff		 mov	 DWORD PTR tv67[ebp], eax
$LN39@SkillRecal:
  068cd	83 bd 74 f8 ff
	ff 00		 cmp	 DWORD PTR tv67[ebp], 0
  068d4	75 05		 jne	 SHORT $LN35@SkillRecal

; 3493 : 	{
; 3494 : 		return;

  068d6	e9 59 07 00 00	 jmp	 $LN36@SkillRecal
$LN35@SkillRecal:

; 3495 : 	}
; 3496 : #endif
; 3497 : 
; 3498 : #if(CUSTOM_EX_TELEPORT==TRUE)
; 3499 : 	//if(!g_ExTeleport.Check(aIndex))
; 3500 : 	//{
; 3501 : 	//	return;
; 3502 : 	//}
; 3503 : #endif
; 3504 : #if(CUSTOM_EX_TELEPORT_EVO)
; 3505 : 	//if(!g_ExTeleportEvo.Check(aIndex))
; 3506 : 	//{
; 3507 : 	//	return;
; 3508 : 	//}
; 3509 : #endif
; 3510 : 	int skillSuccess = true; //2

  068db	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _skillSuccess$[ebp], 1

; 3511 : 	LPOBJ lpObj = &gObj[aIndex]; //3

  068e2	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  068e5	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  068eb	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  068f1	89 45 f0	 mov	 DWORD PTR _lpObj$[ebp], eax

; 3512 : 
; 3513 : 	if(lpObj->Type != OBJ_USER && lpObj->m_RecallMon == -1)

  068f4	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  068f7	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  068fb	83 f9 01	 cmp	 ecx, 1
  068fe	74 11		 je	 SHORT $LN34@SkillRecal
  06900	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06903	83 b8 50 04 00
	00 ff		 cmp	 DWORD PTR [eax+1104], -1
  0690a	75 05		 jne	 SHORT $LN34@SkillRecal

; 3514 : 	{
; 3515 : 		return;

  0690c	e9 23 07 00 00	 jmp	 $LN36@SkillRecal
$LN34@SkillRecal:

; 3516 : 	}
; 3517 : 
; 3518 : #if(EVENT_DUNGEON_SIEGE)
; 3519 : 	if(!g_DungeonSiege.SiegeDarkLordSummon(aIndex))

  06911	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  06914	50		 push	 eax
  06915	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DungeonSiege@@3VCDungeonSiege@@A ; g_DungeonSiege
  0691a	e8 00 00 00 00	 call	 ?SiegeDarkLordSummon@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::SiegeDarkLordSummon
  0691f	0f b6 c8	 movzx	 ecx, al
  06922	85 c9		 test	 ecx, ecx
  06924	75 05		 jne	 SHORT $LN33@SkillRecal

; 3520 : 	{
; 3521 : 		return;

  06926	e9 09 07 00 00	 jmp	 $LN36@SkillRecal
$LN33@SkillRecal:

; 3522 : 	}
; 3523 : #endif
; 3524 : 
; 3525 : 	if(!gTeleportManager.CheckDLMasterTeleport(lpObj->MapNumber))

  0692b	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0692e	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  06935	51		 push	 ecx
  06936	b9 00 00 00 00	 mov	 ecx, OFFSET ?gTeleportManager@@3VcTeleportManager@@A ; gTeleportManager
  0693b	e8 00 00 00 00	 call	 ?CheckDLMasterTeleport@cTeleportManager@@QAE_NH@Z ; cTeleportManager::CheckDLMasterTeleport
  06940	0f b6 d0	 movzx	 edx, al
  06943	85 d2		 test	 edx, edx
  06945	75 05		 jne	 SHORT $LN32@SkillRecal

; 3526 : 	{
; 3527 : 		return;

  06947	e9 e8 06 00 00	 jmp	 $LN36@SkillRecal
$LN32@SkillRecal:

; 3528 : 	}
; 3529 : 
; 3530 : 	if(gGENS)

  0694c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gGENS@@3HA, 0 ; gGENS
  06953	74 55		 je	 SHORT $LN31@SkillRecal

; 3531 : 	{
; 3532 : 		if( gGensSystem.IsMapBattleZone(lpObj->MapNumber) )

  06955	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06958	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0695f	51		 push	 ecx
  06960	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  06965	e8 00 00 00 00	 call	 ?IsMapBattleZone@GensSystem@@QAEHH@Z ; GensSystem::IsMapBattleZone
  0696a	85 c0		 test	 eax, eax
  0696c	74 3c		 je	 SHORT $LN31@SkillRecal

; 3533 : 		{
; 3534 : 			char msg[255];
; 3535 : 			wsprintf(msg,lMsg.Get(3453));

  0696e	68 7d 0d 00 00	 push	 3453			; 00000d7dH
  06973	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  06978	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0697d	50		 push	 eax
  0697e	8d 85 f0 fe ff
	ff		 lea	 eax, DWORD PTR _msg$241041[ebp]
  06984	50		 push	 eax
  06985	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA
  0698b	83 c4 08	 add	 esp, 8

; 3536 : 			GCServerMsgStringSend(msg, lpObj->m_Index, 1);

  0698e	6a 01		 push	 1
  06990	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06993	8b 08		 mov	 ecx, DWORD PTR [eax]
  06995	51		 push	 ecx
  06996	8d 95 f0 fe ff
	ff		 lea	 edx, DWORD PTR _msg$241041[ebp]
  0699c	52		 push	 edx
  0699d	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  069a2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3537 : 			return;

  069a5	e9 8a 06 00 00	 jmp	 $LN36@SkillRecal
$LN31@SkillRecal:

; 3538 : 		}
; 3539 : 	}
; 3540 : #ifdef IMPERIAL_CONFLICT_NEW
; 3541 : 		if(CImperialGuardian::IsEventMap(lpObj->MapNumber))
; 3542 : 		return;
; 3543 : #endif
; 3544 : 
; 3545 : 	if(this->RecallPartyCheck(aIndex,skill_level) == 0)

  069aa	8b 45 0c	 mov	 eax, DWORD PTR _skill_level$[ebp]
  069ad	50		 push	 eax
  069ae	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  069b1	51		 push	 ecx
  069b2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  069b5	e8 00 00 00 00	 call	 ?RecallPartyCheck@CObjUseSkill@@QAEHHH@Z ; CObjUseSkill::RecallPartyCheck
  069ba	85 c0		 test	 eax, eax
  069bc	75 21		 jne	 SHORT $LN29@SkillRecal

; 3546 : 	{
; 3547 : 		MsgOutput(aIndex,lMsg.Get(1238));

  069be	68 d6 04 00 00	 push	 1238			; 000004d6H
  069c3	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  069c8	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  069cd	50		 push	 eax
  069ce	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  069d1	50		 push	 eax
  069d2	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  069d7	83 c4 08	 add	 esp, 8

; 3548 : 		return;

  069da	e9 55 06 00 00	 jmp	 $LN36@SkillRecal
$LN29@SkillRecal:

; 3549 : 	}
; 3550 : 
; 3551 : 	if(gMoveCommand.CheckMainToMove(lpObj) == 0)

  069df	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  069e2	50		 push	 eax
  069e3	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMoveCommand@@3VCMoveCommand@@A ; gMoveCommand
  069e8	e8 00 00 00 00	 call	 ?CheckMainToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@@Z ; CMoveCommand::CheckMainToMove
  069ed	85 c0		 test	 eax, eax
  069ef	75 3c		 jne	 SHORT $LN28@SkillRecal

; 3552 : 	{
; 3553 : 		char msg[255];
; 3554 : 		wsprintf(msg,lMsg.Get(1249));

  069f1	68 e1 04 00 00	 push	 1249			; 000004e1H
  069f6	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  069fb	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  06a00	50		 push	 eax
  06a01	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _msg$241044[ebp]
  06a07	50		 push	 eax
  06a08	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA
  06a0e	83 c4 08	 add	 esp, 8

; 3555 : 		GCServerMsgStringSend(msg,lpObj->m_Index,1);

  06a11	6a 01		 push	 1
  06a13	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06a16	8b 08		 mov	 ecx, DWORD PTR [eax]
  06a18	51		 push	 ecx
  06a19	8d 95 f0 fd ff
	ff		 lea	 edx, DWORD PTR _msg$241044[ebp]
  06a1f	52		 push	 edx
  06a20	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  06a25	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3556 : 		return;

  06a28	e9 07 06 00 00	 jmp	 $LN36@SkillRecal
$LN28@SkillRecal:

; 3557 : 	}
; 3558 : 
; 3559 : 	if(gMoveCommand.CheckInterfaceToMove(lpObj) == 0)

  06a2d	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06a30	50		 push	 eax
  06a31	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMoveCommand@@3VCMoveCommand@@A ; gMoveCommand
  06a36	e8 00 00 00 00	 call	 ?CheckInterfaceToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@@Z ; CMoveCommand::CheckInterfaceToMove
  06a3b	85 c0		 test	 eax, eax
  06a3d	75 3c		 jne	 SHORT $LN27@SkillRecal

; 3560 : 	{
; 3561 : 		char msg[255];
; 3562 : 		wsprintf(msg,lMsg.Get(1239));

  06a3f	68 d7 04 00 00	 push	 1239			; 000004d7H
  06a44	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  06a49	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  06a4e	50		 push	 eax
  06a4f	8d 85 f0 fc ff
	ff		 lea	 eax, DWORD PTR _msg$241046[ebp]
  06a55	50		 push	 eax
  06a56	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA
  06a5c	83 c4 08	 add	 esp, 8

; 3563 : 		GCServerMsgStringSend(msg,lpObj->m_Index,1);

  06a5f	6a 01		 push	 1
  06a61	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06a64	8b 08		 mov	 ecx, DWORD PTR [eax]
  06a66	51		 push	 ecx
  06a67	8d 95 f0 fc ff
	ff		 lea	 edx, DWORD PTR _msg$241046[ebp]
  06a6d	52		 push	 edx
  06a6e	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  06a73	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3564 : 		return;

  06a76	e9 b9 05 00 00	 jmp	 $LN36@SkillRecal
$LN27@SkillRecal:

; 3565 : 	}
; 3566 : 
; 3567 : 	//season 4 add-on
; 3568 : 	if( lpObj->MapNumber == MAP_INDEX_RAKLION_BOSS &&
; 3569 : 		lpObj->Connected == PLAYER_PLAYING &&
; 3570 : 		(g_Raklion.GetRaklionState() == RAKLION_STATE_CLOSE_DOOR ||
; 3571 : 		g_Raklion.GetRaklionState() == RAKLION_STATE_ALL_USER_DIE ||
; 3572 : 		g_Raklion.GetRaklionState() == RAKLION_STATE_NOTIFY_4 ||
; 3573 : 		g_Raklion.GetRaklionState() == RAKLION_STATE_END) ) 

  06a7b	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06a7e	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  06a85	83 f9 3a	 cmp	 ecx, 58			; 0000003aH
  06a88	0f 85 81 00 00
	00		 jne	 $LN26@SkillRecal
  06a8e	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06a91	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  06a95	75 78		 jne	 SHORT $LN26@SkillRecal
  06a97	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Raklion@@3VCRaklion@@A ; g_Raklion
  06a9c	e8 00 00 00 00	 call	 ?GetRaklionState@CRaklion@@QAEHXZ ; CRaklion::GetRaklionState
  06aa1	83 f8 07	 cmp	 eax, 7
  06aa4	74 2d		 je	 SHORT $LN25@SkillRecal
  06aa6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Raklion@@3VCRaklion@@A ; g_Raklion
  06aab	e8 00 00 00 00	 call	 ?GetRaklionState@CRaklion@@QAEHXZ ; CRaklion::GetRaklionState
  06ab0	83 f8 08	 cmp	 eax, 8
  06ab3	74 1e		 je	 SHORT $LN25@SkillRecal
  06ab5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Raklion@@3VCRaklion@@A ; g_Raklion
  06aba	e8 00 00 00 00	 call	 ?GetRaklionState@CRaklion@@QAEHXZ ; CRaklion::GetRaklionState
  06abf	83 f8 09	 cmp	 eax, 9
  06ac2	74 0f		 je	 SHORT $LN25@SkillRecal
  06ac4	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Raklion@@3VCRaklion@@A ; g_Raklion
  06ac9	e8 00 00 00 00	 call	 ?GetRaklionState@CRaklion@@QAEHXZ ; CRaklion::GetRaklionState
  06ace	83 f8 0a	 cmp	 eax, 10			; 0000000aH
  06ad1	75 3c		 jne	 SHORT $LN26@SkillRecal
$LN25@SkillRecal:

; 3574 : 	{
; 3575 : 		char msg[255];
; 3576 : 		wsprintf(msg,lMsg.Get(3417));

  06ad3	68 59 0d 00 00	 push	 3417			; 00000d59H
  06ad8	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  06add	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  06ae2	50		 push	 eax
  06ae3	8d 85 f0 fb ff
	ff		 lea	 eax, DWORD PTR _msg$241049[ebp]
  06ae9	50		 push	 eax
  06aea	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA
  06af0	83 c4 08	 add	 esp, 8

; 3577 : 		GCServerMsgStringSend(msg,lpObj->m_Index,1);

  06af3	6a 01		 push	 1
  06af5	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06af8	8b 08		 mov	 ecx, DWORD PTR [eax]
  06afa	51		 push	 ecx
  06afb	8d 95 f0 fb ff
	ff		 lea	 edx, DWORD PTR _msg$241049[ebp]
  06b01	52		 push	 edx
  06b02	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  06b07	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3578 : 		return;

  06b0a	e9 25 05 00 00	 jmp	 $LN36@SkillRecal
$LN26@SkillRecal:

; 3579 : 	}
; 3580 : 
; 3581 : 	int number;
; 3582 : 	int partynum;
; 3583 : 	int partycount;
; 3584 : 	LPOBJ lpPartyObj;
; 3585 : 	int recallcount;
; 3586 : 
; 3587 : 	partynum = 0;

  06b0f	c7 85 e8 fb ff
	ff 00 00 00 00	 mov	 DWORD PTR _partynum$[ebp], 0

; 3588 : 	partynum = lpObj->PartyNumber;

  06b19	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06b1c	8b 88 2c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1068]
  06b22	89 8d e8 fb ff
	ff		 mov	 DWORD PTR _partynum$[ebp], ecx

; 3589 : 
; 3590 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_RECALL_PARTY,lpObj->m_Index,skillSuccess);

  06b28	0f b6 45 f4	 movzx	 eax, BYTE PTR _skillSuccess$[ebp]
  06b2c	50		 push	 eax
  06b2d	8b 4d f0	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06b30	8b 11		 mov	 edx, DWORD PTR [ecx]
  06b32	52		 push	 edx
  06b33	6a 3f		 push	 63			; 0000003fH
  06b35	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06b38	50		 push	 eax
  06b39	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  06b3e	83 c4 10	 add	 esp, 16			; 00000010H

; 3591 : 
; 3592 : 	recallcount = 0;

  06b41	c7 85 dc fb ff
	ff 00 00 00 00	 mov	 DWORD PTR _recallcount$[ebp], 0

; 3593 : 
; 3594 : 	if(partynum != -1)

  06b4b	83 bd e8 fb ff
	ff ff		 cmp	 DWORD PTR _partynum$[ebp], -1
  06b52	0f 84 95 04 00
	00		 je	 $LN24@SkillRecal

; 3595 : 	{
; 3596 : 		partycount = gParty.m_PartyS[partynum].Count;

  06b58	8b 85 e8 fb ff
	ff		 mov	 eax, DWORD PTR _partynum$[ebp]
  06b5e	6b c0 6c	 imul	 eax, 108		; 0000006cH
  06b61	8b 88 08 00 00
	00		 mov	 ecx, DWORD PTR ?gParty@@3VPartyClass@@A[eax+8]
  06b67	89 8d e4 fb ff
	ff		 mov	 DWORD PTR _partycount$[ebp], ecx

; 3597 : 
; 3598 : 		for(int n = 0; n < MAX_USER_IN_PARTY;n ++)

  06b6d	c7 85 d8 fb ff
	ff 00 00 00 00	 mov	 DWORD PTR _n$241056[ebp], 0
  06b77	eb 0f		 jmp	 SHORT $LN23@SkillRecal
$LN22@SkillRecal:
  06b79	8b 85 d8 fb ff
	ff		 mov	 eax, DWORD PTR _n$241056[ebp]
  06b7f	83 c0 01	 add	 eax, 1
  06b82	89 85 d8 fb ff
	ff		 mov	 DWORD PTR _n$241056[ebp], eax
$LN23@SkillRecal:
  06b88	83 bd d8 fb ff
	ff 0a		 cmp	 DWORD PTR _n$241056[ebp], 10 ; 0000000aH
  06b8f	0f 8d 58 04 00
	00		 jge	 $LN24@SkillRecal

; 3599 : 		{
; 3600 : 			number = gParty.m_PartyS[partynum].Number[n];

  06b95	8b 85 e8 fb ff
	ff		 mov	 eax, DWORD PTR _partynum$[ebp]
  06b9b	6b c0 6c	 imul	 eax, 108		; 0000006cH
  06b9e	8b 8d d8 fb ff
	ff		 mov	 ecx, DWORD PTR _n$241056[ebp]
  06ba4	8b 94 88 0c 00
	00 00		 mov	 edx, DWORD PTR ?gParty@@3VPartyClass@@A[eax+ecx*4+12]
  06bab	89 95 ec fb ff
	ff		 mov	 DWORD PTR _number$[ebp], edx

; 3601 : 
; 3602 : 			if(number >= 0)

  06bb1	83 bd ec fb ff
	ff 00		 cmp	 DWORD PTR _number$[ebp], 0
  06bb8	0f 8c 2a 04 00
	00		 jl	 $LN20@SkillRecal

; 3603 : 			{
; 3604 : 				lpPartyObj = &gObj[number];

  06bbe	8b 85 ec fb ff
	ff		 mov	 eax, DWORD PTR _number$[ebp]
  06bc4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  06bca	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06bd0	89 85 e0 fb ff
	ff		 mov	 DWORD PTR _lpPartyObj$[ebp], eax

; 3605 : 
; 3606 : 				if(lpPartyObj->m_Index != lpObj->m_Index)

  06bd6	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06bdc	8b 4d f0	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06bdf	8b 10		 mov	 edx, DWORD PTR [eax]
  06be1	3b 11		 cmp	 edx, DWORD PTR [ecx]
  06be3	0f 84 ff 03 00
	00		 je	 $LN20@SkillRecal

; 3607 : 				{
; 3608 : //#if(GS_CASTLE==1)
; 3609 : 					if(g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  06be9	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  06bee	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  06bf3	83 f8 07	 cmp	 eax, 7
  06bf6	75 20		 jne	 SHORT $LN18@SkillRecal

; 3610 : 					{
; 3611 : 						if(lpPartyObj->m_btCsJoinSide != lpObj->m_btCsJoinSide)

  06bf8	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06bfe	0f b6 88 02 1c
	00 00		 movzx	 ecx, BYTE PTR [eax+7170]
  06c05	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06c08	0f b6 82 02 1c
	00 00		 movzx	 eax, BYTE PTR [edx+7170]
  06c0f	3b c8		 cmp	 ecx, eax
  06c11	74 05		 je	 SHORT $LN18@SkillRecal

; 3612 : 						{
; 3613 : 							continue;

  06c13	e9 61 ff ff ff	 jmp	 $LN22@SkillRecal
$LN18@SkillRecal:

; 3614 : 						}
; 3615 : 					}
; 3616 : //#endif
; 3617 : 
; 3618 : 					if(gPandoraBoxEvent.Started && gPandoraBoxEvent.ActivePlayer == lpPartyObj->m_Index)

  06c18	0f b6 05 04 00
	00 00		 movzx	 eax, BYTE PTR ?gPandoraBoxEvent@@3VcPandoraBoxEvent@@A+4
  06c1f	85 c0		 test	 eax, eax
  06c21	74 15		 je	 SHORT $LN16@SkillRecal
  06c23	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06c29	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gPandoraBoxEvent@@3VcPandoraBoxEvent@@A
  06c2f	3b 08		 cmp	 ecx, DWORD PTR [eax]
  06c31	75 05		 jne	 SHORT $LN16@SkillRecal

; 3619 : 					{
; 3620 : 						continue;

  06c33	e9 41 ff ff ff	 jmp	 $LN22@SkillRecal
$LN16@SkillRecal:

; 3621 : 					}
; 3622 : 
; 3623 : 					if(!gTeleportManager.CheckTeleoprtMap(lpObj->m_Index, lpPartyObj->m_Index))

  06c38	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06c3e	8b 08		 mov	 ecx, DWORD PTR [eax]
  06c40	51		 push	 ecx
  06c41	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06c44	8b 02		 mov	 eax, DWORD PTR [edx]
  06c46	50		 push	 eax
  06c47	b9 00 00 00 00	 mov	 ecx, OFFSET ?gTeleportManager@@3VcTeleportManager@@A ; gTeleportManager
  06c4c	e8 00 00 00 00	 call	 ?CheckTeleoprtMap@cTeleportManager@@QAE_NHH@Z ; cTeleportManager::CheckTeleoprtMap
  06c51	0f b6 c8	 movzx	 ecx, al
  06c54	85 c9		 test	 ecx, ecx
  06c56	75 05		 jne	 SHORT $LN15@SkillRecal

; 3624 : 					{
; 3625 : 						continue;

  06c58	e9 1c ff ff ff	 jmp	 $LN22@SkillRecal
$LN15@SkillRecal:

; 3626 : 					}
; 3627 : 
; 3628 : 					if(!gTeleportManager.CheckTeleportDL(lpObj->MapNumber) || !gTeleportManager.CheckTeleportDL(lpPartyObj->MapNumber))

  06c5d	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06c60	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  06c67	51		 push	 ecx
  06c68	b9 00 00 00 00	 mov	 ecx, OFFSET ?gTeleportManager@@3VcTeleportManager@@A ; gTeleportManager
  06c6d	e8 00 00 00 00	 call	 ?CheckTeleportDL@cTeleportManager@@QAE_NH@Z ; cTeleportManager::CheckTeleportDL
  06c72	0f b6 d0	 movzx	 edx, al
  06c75	85 d2		 test	 edx, edx
  06c77	74 1f		 je	 SHORT $LN13@SkillRecal
  06c79	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06c7f	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  06c86	51		 push	 ecx
  06c87	b9 00 00 00 00	 mov	 ecx, OFFSET ?gTeleportManager@@3VcTeleportManager@@A ; gTeleportManager
  06c8c	e8 00 00 00 00	 call	 ?CheckTeleportDL@cTeleportManager@@QAE_NH@Z ; cTeleportManager::CheckTeleportDL
  06c91	0f b6 d0	 movzx	 edx, al
  06c94	85 d2		 test	 edx, edx
  06c96	75 05		 jne	 SHORT $LN14@SkillRecal
$LN13@SkillRecal:

; 3629 : 					{
; 3630 : 						continue;

  06c98	e9 dc fe ff ff	 jmp	 $LN22@SkillRecal
$LN14@SkillRecal:

; 3631 : 					}
; 3632 : 
; 3633 : 					if(!gTeleportManager.CheckDLMemberTeleport(lpPartyObj->MapNumber))

  06c9d	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06ca3	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  06caa	51		 push	 ecx
  06cab	b9 00 00 00 00	 mov	 ecx, OFFSET ?gTeleportManager@@3VcTeleportManager@@A ; gTeleportManager
  06cb0	e8 00 00 00 00	 call	 ?CheckDLMemberTeleport@cTeleportManager@@QAE_NH@Z ; cTeleportManager::CheckDLMemberTeleport
  06cb5	0f b6 d0	 movzx	 edx, al
  06cb8	85 d2		 test	 edx, edx
  06cba	75 05		 jne	 SHORT $LN12@SkillRecal

; 3634 : 					{
; 3635 : 						continue;

  06cbc	e9 b8 fe ff ff	 jmp	 $LN22@SkillRecal
$LN12@SkillRecal:

; 3636 : 					}
; 3637 : 
; 3638 : 					int movelevel = gMoveCommand.GetMoveLevel(lpObj->MapNumber,lpObj->X,lpObj->Y,lpPartyObj->Class);

  06cc1	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06cc7	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  06cce	51		 push	 ecx
  06ccf	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06cd2	0f bf 82 46 01
	00 00		 movsx	 eax, WORD PTR [edx+326]
  06cd9	50		 push	 eax
  06cda	8b 4d f0	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06cdd	0f bf 91 44 01
	00 00		 movsx	 edx, WORD PTR [ecx+324]
  06ce4	52		 push	 edx
  06ce5	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06ce8	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  06cef	51		 push	 ecx
  06cf0	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMoveCommand@@3VCMoveCommand@@A ; gMoveCommand
  06cf5	e8 00 00 00 00	 call	 ?GetMoveLevel@CMoveCommand@@QAEHHHHH@Z ; CMoveCommand::GetMoveLevel
  06cfa	89 85 d4 fb ff
	ff		 mov	 DWORD PTR _movelevel$241069[ebp], eax

; 3639 : 					int bCheckMainToMove = gMoveCommand.CheckMainToMove(lpPartyObj);

  06d00	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06d06	50		 push	 eax
  06d07	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMoveCommand@@3VCMoveCommand@@A ; gMoveCommand
  06d0c	e8 00 00 00 00	 call	 ?CheckMainToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@@Z ; CMoveCommand::CheckMainToMove
  06d11	89 85 d0 fb ff
	ff		 mov	 DWORD PTR _bCheckMainToMove$241070[ebp], eax

; 3640 : 					int bCheckEquipmentToMove = gMoveCommand.CheckEquipmentToMove(lpPartyObj,lpObj->MapNumber);

  06d17	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06d1a	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  06d21	51		 push	 ecx
  06d22	8b 95 e0 fb ff
	ff		 mov	 edx, DWORD PTR _lpPartyObj$[ebp]
  06d28	52		 push	 edx
  06d29	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMoveCommand@@3VCMoveCommand@@A ; gMoveCommand
  06d2e	e8 00 00 00 00	 call	 ?CheckEquipmentToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@H@Z ; CMoveCommand::CheckEquipmentToMove
  06d33	89 85 cc fb ff
	ff		 mov	 DWORD PTR _bCheckEquipmentToMove$241071[ebp], eax

; 3641 : 					int bCheckInterfaceToMove = gMoveCommand.CheckInterfaceToMove(lpPartyObj);

  06d39	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06d3f	50		 push	 eax
  06d40	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMoveCommand@@3VCMoveCommand@@A ; gMoveCommand
  06d45	e8 00 00 00 00	 call	 ?CheckInterfaceToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@@Z ; CMoveCommand::CheckInterfaceToMove
  06d4a	89 85 c8 fb ff
	ff		 mov	 DWORD PTR _bCheckInterfaceToMove$241072[ebp], eax

; 3642 : 
; 3643 : 					if(lpPartyObj->Level >= movelevel
; 3644 : 						&& movelevel != -1
; 3645 : 						&& bCheckMainToMove != false
; 3646 : 						&& bCheckEquipmentToMove != false
; 3647 : 						&& bCheckInterfaceToMove != false)

  06d50	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06d56	0f bf 88 be 00
	00 00		 movsx	 ecx, WORD PTR [eax+190]
  06d5d	3b 8d d4 fb ff
	ff		 cmp	 ecx, DWORD PTR _movelevel$241069[ebp]
  06d63	0f 8c 45 02 00
	00		 jl	 $LN11@SkillRecal
  06d69	83 bd d4 fb ff
	ff ff		 cmp	 DWORD PTR _movelevel$241069[ebp], -1
  06d70	0f 84 38 02 00
	00		 je	 $LN11@SkillRecal
  06d76	83 bd d0 fb ff
	ff 00		 cmp	 DWORD PTR _bCheckMainToMove$241070[ebp], 0
  06d7d	0f 84 2b 02 00
	00		 je	 $LN11@SkillRecal
  06d83	83 bd cc fb ff
	ff 00		 cmp	 DWORD PTR _bCheckEquipmentToMove$241071[ebp], 0
  06d8a	0f 84 1e 02 00
	00		 je	 $LN11@SkillRecal
  06d90	83 bd c8 fb ff
	ff 00		 cmp	 DWORD PTR _bCheckInterfaceToMove$241072[ebp], 0
  06d97	0f 84 11 02 00
	00		 je	 $LN11@SkillRecal

; 3648 : 					{
; 3649 : 						int addx;
; 3650 : 						int addy;
; 3651 : 						int count = 50;

  06d9d	c7 85 bc fb ff
	ff 32 00 00 00	 mov	 DWORD PTR _count$241076[ebp], 50 ; 00000032H

; 3652 : 						int Find = 0;

  06da7	c7 85 b8 fb ff
	ff 00 00 00 00	 mov	 DWORD PTR _Find$241077[ebp], 0
$LN10@SkillRecal:

; 3653 : 
; 3654 : 						while(count--)

  06db1	8b 85 bc fb ff
	ff		 mov	 eax, DWORD PTR _count$241076[ebp]
  06db7	8b 8d bc fb ff
	ff		 mov	 ecx, DWORD PTR _count$241076[ebp]
  06dbd	83 e9 01	 sub	 ecx, 1
  06dc0	89 8d bc fb ff
	ff		 mov	 DWORD PTR _count$241076[ebp], ecx
  06dc6	85 c0		 test	 eax, eax
  06dc8	0f 84 f2 00 00
	00		 je	 $LN9@SkillRecal

; 3655 : 						{
; 3656 : 							if( g_ExLicense.CheckUser(eExUB::Gredy)		||	   
; 3657 : 								g_ExLicense.CheckUser(eExUB::Gredy2)	||
; 3658 : 								g_ExLicense.CheckUser(eExUB::GredyLocal) )

  06dce	6a 20		 push	 32			; 00000020H
  06dd0	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  06dd5	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  06dda	0f b6 c0	 movzx	 eax, al
  06ddd	85 c0		 test	 eax, eax
  06ddf	75 26		 jne	 SHORT $LN7@SkillRecal
  06de1	6a 22		 push	 34			; 00000022H
  06de3	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  06de8	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  06ded	0f b6 c0	 movzx	 eax, al
  06df0	85 c0		 test	 eax, eax
  06df2	75 13		 jne	 SHORT $LN7@SkillRecal
  06df4	6a 21		 push	 33			; 00000021H
  06df6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  06dfb	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  06e00	0f b6 c0	 movzx	 eax, al
  06e03	85 c0		 test	 eax, eax
  06e05	74 44		 je	 SHORT $LN8@SkillRecal
$LN7@SkillRecal:

; 3659 : 							{
; 3660 : 								addx = lpObj->X + rand()%5 - 2;

  06e07	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06e0a	0f bf b0 44 01
	00 00		 movsx	 esi, WORD PTR [eax+324]
  06e11	e8 00 00 00 00	 call	 _rand
  06e16	99		 cdq
  06e17	b9 05 00 00 00	 mov	 ecx, 5
  06e1c	f7 f9		 idiv	 ecx
  06e1e	8d 54 16 fe	 lea	 edx, DWORD PTR [esi+edx-2]
  06e22	89 95 c4 fb ff
	ff		 mov	 DWORD PTR _addx$241074[ebp], edx

; 3661 : 								addy = lpObj->Y + rand()%5 - 2;

  06e28	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06e2b	0f bf b0 46 01
	00 00		 movsx	 esi, WORD PTR [eax+326]
  06e32	e8 00 00 00 00	 call	 _rand
  06e37	99		 cdq
  06e38	b9 05 00 00 00	 mov	 ecx, 5
  06e3d	f7 f9		 idiv	 ecx
  06e3f	8d 54 16 fe	 lea	 edx, DWORD PTR [esi+edx-2]
  06e43	89 95 c0 fb ff
	ff		 mov	 DWORD PTR _addy$241075[ebp], edx

; 3662 : 							}
; 3663 : 							else

  06e49	eb 42		 jmp	 SHORT $LN6@SkillRecal
$LN8@SkillRecal:

; 3664 : 							{
; 3665 : 								addx = lpObj->X + rand()%9 - 4;

  06e4b	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06e4e	0f bf b0 44 01
	00 00		 movsx	 esi, WORD PTR [eax+324]
  06e55	e8 00 00 00 00	 call	 _rand
  06e5a	99		 cdq
  06e5b	b9 09 00 00 00	 mov	 ecx, 9
  06e60	f7 f9		 idiv	 ecx
  06e62	8d 54 16 fc	 lea	 edx, DWORD PTR [esi+edx-4]
  06e66	89 95 c4 fb ff
	ff		 mov	 DWORD PTR _addx$241074[ebp], edx

; 3666 : 								addy = lpObj->Y + rand()%9 - 4;

  06e6c	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06e6f	0f bf b0 46 01
	00 00		 movsx	 esi, WORD PTR [eax+326]
  06e76	e8 00 00 00 00	 call	 _rand
  06e7b	99		 cdq
  06e7c	b9 09 00 00 00	 mov	 ecx, 9
  06e81	f7 f9		 idiv	 ecx
  06e83	8d 54 16 fc	 lea	 edx, DWORD PTR [esi+edx-4]
  06e87	89 95 c0 fb ff
	ff		 mov	 DWORD PTR _addy$241075[ebp], edx
$LN6@SkillRecal:

; 3667 : 							}
; 3668 : 
; 3669 : 							if(gObjCheckTeleportArea(lpObj->m_Index,addx,addy))

  06e8d	0f b6 85 c0 fb
	ff ff		 movzx	 eax, BYTE PTR _addy$241075[ebp]
  06e94	50		 push	 eax
  06e95	0f b6 8d c4 fb
	ff ff		 movzx	 ecx, BYTE PTR _addx$241074[ebp]
  06e9c	51		 push	 ecx
  06e9d	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06ea0	8b 02		 mov	 eax, DWORD PTR [edx]
  06ea2	50		 push	 eax
  06ea3	e8 00 00 00 00	 call	 ?gObjCheckTeleportArea@@YAHHEE@Z ; gObjCheckTeleportArea
  06ea8	83 c4 0c	 add	 esp, 12			; 0000000cH
  06eab	85 c0		 test	 eax, eax
  06ead	74 0c		 je	 SHORT $LN5@SkillRecal

; 3670 : 							{
; 3671 : 								Find = 1;

  06eaf	c7 85 b8 fb ff
	ff 01 00 00 00	 mov	 DWORD PTR _Find$241077[ebp], 1

; 3672 : 								break;

  06eb9	eb 05		 jmp	 SHORT $LN9@SkillRecal
$LN5@SkillRecal:

; 3673 : 							}
; 3674 : 						}

  06ebb	e9 f1 fe ff ff	 jmp	 $LN10@SkillRecal
$LN9@SkillRecal:

; 3675 : 
; 3676 : 						if(Find == 0)

  06ec0	83 bd b8 fb ff
	ff 00		 cmp	 DWORD PTR _Find$241077[ebp], 0
  06ec7	75 20		 jne	 SHORT $LN4@SkillRecal

; 3677 : 						{
; 3678 : 							addx = lpObj->X;

  06ec9	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06ecc	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  06ed3	89 8d c4 fb ff
	ff		 mov	 DWORD PTR _addx$241074[ebp], ecx

; 3679 : 							addy = lpObj->Y;

  06ed9	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06edc	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  06ee3	89 8d c0 fb ff
	ff		 mov	 DWORD PTR _addy$241075[ebp], ecx
$LN4@SkillRecal:

; 3680 : 						}
; 3681 : 
; 3682 : 						lpPartyObj->SkillRecallParty_Time = 7;

  06ee9	b8 07 00 00 00	 mov	 eax, 7
  06eee	8b 8d e0 fb ff
	ff		 mov	 ecx, DWORD PTR _lpPartyObj$[ebp]
  06ef4	66 89 81 74 12
	00 00		 mov	 WORD PTR [ecx+4724], ax

; 3683 : 						lpPartyObj->SkillRecallParty_MapNumber = lpObj->MapNumber;

  06efb	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06f01	8b 4d f0	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06f04	8a 91 49 01 00
	00		 mov	 dl, BYTE PTR [ecx+329]
  06f0a	88 90 76 12 00
	00		 mov	 BYTE PTR [eax+4726], dl

; 3684 : 						lpPartyObj->SkillRecallParty_X = addx;

  06f10	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06f16	8a 8d c4 fb ff
	ff		 mov	 cl, BYTE PTR _addx$241074[ebp]
  06f1c	88 88 77 12 00
	00		 mov	 BYTE PTR [eax+4727], cl

; 3685 : 						lpPartyObj->SkillRecallParty_Y = addy;

  06f22	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06f28	8a 8d c0 fb ff
	ff		 mov	 cl, BYTE PTR _addy$241075[ebp]
  06f2e	88 88 78 12 00
	00		 mov	 BYTE PTR [eax+4728], cl

; 3686 : 
; 3687 : 						//Season4 add-on
; 3688 : 						if(lpObj->MapNumber == MAP_INDEX_RAKLION_BOSS)

  06f34	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06f37	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  06f3e	83 f9 3a	 cmp	 ecx, 58			; 0000003aH
  06f41	75 13		 jne	 SHORT $LN3@SkillRecal

; 3689 : 						{
; 3690 : 							g_RaklionBattleUserMng.AddUserData(lpPartyObj->m_Index);

  06f43	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06f49	8b 08		 mov	 ecx, DWORD PTR [eax]
  06f4b	51		 push	 ecx
  06f4c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_RaklionBattleUserMng@@3VCRaklionBattleUserMng@@A ; g_RaklionBattleUserMng
  06f51	e8 00 00 00 00	 call	 ?AddUserData@CRaklionBattleUserMng@@QAEHH@Z ; CRaklionBattleUserMng::AddUserData
$LN3@SkillRecal:

; 3691 : 						}
; 3692 : 
; 3693 : #if(FIX_MUHELPER_TP == TRUE)
; 3694 : 						lpPartyObj->MuHelperTeleportFix = true;

  06f56	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06f5c	c6 80 cd 28 00
	00 01		 mov	 BYTE PTR [eax+10445], 1

; 3695 : #endif
; 3696 : 
; 3697 : 						char msg[255];
; 3698 : 						wsprintf(msg,lMsg.Get(1251));

  06f63	68 e3 04 00 00	 push	 1251			; 000004e3H
  06f68	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  06f6d	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  06f72	50		 push	 eax
  06f73	8d 85 b8 fa ff
	ff		 lea	 eax, DWORD PTR _msg$241087[ebp]
  06f79	50		 push	 eax
  06f7a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA
  06f80	83 c4 08	 add	 esp, 8

; 3699 : 						GCServerMsgStringSend(msg,lpPartyObj->m_Index,1);

  06f83	6a 01		 push	 1
  06f85	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06f8b	8b 08		 mov	 ecx, DWORD PTR [eax]
  06f8d	51		 push	 ecx
  06f8e	8d 95 b8 fa ff
	ff		 lea	 edx, DWORD PTR _msg$241087[ebp]
  06f94	52		 push	 edx
  06f95	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  06f9a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3700 : 						recallcount++;

  06f9d	8b 85 dc fb ff
	ff		 mov	 eax, DWORD PTR _recallcount$[ebp]
  06fa3	83 c0 01	 add	 eax, 1
  06fa6	89 85 dc fb ff
	ff		 mov	 DWORD PTR _recallcount$[ebp], eax

; 3701 : 					}
; 3702 : 					else

  06fac	eb 3a		 jmp	 SHORT $LN20@SkillRecal
$LN11@SkillRecal:

; 3703 : 					{
; 3704 : 						char msg[255];
; 3705 : 						wsprintf(msg,lMsg.Get(1252));

  06fae	68 e4 04 00 00	 push	 1252			; 000004e4H
  06fb3	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  06fb8	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  06fbd	50		 push	 eax
  06fbe	8d 85 b8 f9 ff
	ff		 lea	 eax, DWORD PTR _msg$241089[ebp]
  06fc4	50		 push	 eax
  06fc5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA
  06fcb	83 c4 08	 add	 esp, 8

; 3706 : 						GCServerMsgStringSend(msg,lpPartyObj->m_Index,1);

  06fce	6a 01		 push	 1
  06fd0	8b 85 e0 fb ff
	ff		 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  06fd6	8b 08		 mov	 ecx, DWORD PTR [eax]
  06fd8	51		 push	 ecx
  06fd9	8d 95 b8 f9 ff
	ff		 lea	 edx, DWORD PTR _msg$241089[ebp]
  06fdf	52		 push	 edx
  06fe0	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  06fe5	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN20@SkillRecal:

; 3707 : 					}
; 3708 : 				}
; 3709 : 			}
; 3710 : 		}

  06fe8	e9 8c fb ff ff	 jmp	 $LN22@SkillRecal
$LN24@SkillRecal:

; 3711 : 	}
; 3712 : 
; 3713 : 	if(recallcount != 0)

  06fed	83 bd dc fb ff
	ff 00		 cmp	 DWORD PTR _recallcount$[ebp], 0
  06ff4	74 3e		 je	 SHORT $LN36@SkillRecal

; 3714 : 	{
; 3715 : 		char msg[255];
; 3716 : 		wsprintf(msg,lMsg.Get(1244),recallcount);

  06ff6	8b 85 dc fb ff
	ff		 mov	 eax, DWORD PTR _recallcount$[ebp]
  06ffc	50		 push	 eax
  06ffd	68 dc 04 00 00	 push	 1244			; 000004dcH
  07002	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  07007	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0700c	50		 push	 eax
  0700d	8d 8d b8 f8 ff
	ff		 lea	 ecx, DWORD PTR _msg$241091[ebp]
  07013	51		 push	 ecx
  07014	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA
  0701a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3717 : 		GCServerMsgStringSend(msg,lpObj->m_Index,1);

  0701d	6a 01		 push	 1
  0701f	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07022	8b 08		 mov	 ecx, DWORD PTR [eax]
  07024	51		 push	 ecx
  07025	8d 95 b8 f8 ff
	ff		 lea	 edx, DWORD PTR _msg$241091[ebp]
  0702b	52		 push	 edx
  0702c	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  07031	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN36@SkillRecal:

; 3718 : 	}
; 3719 : }

  07034	5f		 pop	 edi
  07035	5e		 pop	 esi
  07036	5b		 pop	 ebx
  07037	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0703a	33 cd		 xor	 ecx, ebp
  0703c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  07041	8b e5		 mov	 esp, ebp
  07043	5d		 pop	 ebp
  07044	c2 08 00	 ret	 8
?SkillRecallParty@CObjUseSkill@@QAEXHH@Z ENDP		; CObjUseSkill::SkillRecallParty
_TEXT	ENDS
PUBLIC	__$ArrayPad$
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_n$241123 = -96						; size = 4
_SkillTime$ = -92					; size = 4
_addcriticaldamagevalue$ = -88				; size = 4
_n$241110 = -84						; size = 4
_lpPartyObj$ = -80					; size = 4
_ApplyPartyIndex$ = -76					; size = 40
_dis$ = -36						; size = 4
_partycount$ = -32					; size = 4
_totallevel$ = -28					; size = 4
_partynum$ = -24					; size = 4
_number$ = -20						; size = 4
_lpObj$ = -16						; size = 4
_skillSuccess$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_skill_level$ = 12					; size = 4
?SkillAddCriticalDamage@CObjUseSkill@@QAEXHH@Z PROC	; CObjUseSkill::SkillAddCriticalDamage
; _this$ = ecx

; 3722 : {

  07050	55		 push	 ebp
  07051	8b ec		 mov	 ebp, esp
  07053	81 ec a0 00 00
	00		 sub	 esp, 160		; 000000a0H
  07059	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0705e	33 c5		 xor	 eax, ebp
  07060	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  07063	53		 push	 ebx
  07064	56		 push	 esi
  07065	57		 push	 edi
  07066	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 3723 : 	int skillSuccess = true;

  07069	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _skillSuccess$[ebp], 1

; 3724 : 	LPOBJ lpObj = &gObj[aIndex];

  07070	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  07073	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07079	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0707f	89 45 f0	 mov	 DWORD PTR _lpObj$[ebp], eax

; 3725 : 	int number;
; 3726 : 
; 3727 : 	if (szAuthKey[14] != AUTHKEY14 )

  07082	0f be 05 0e 00
	00 00		 movsx	 eax, BYTE PTR ?szAuthKey@@3PADA+14
  07089	83 f8 e9	 cmp	 eax, -23		; ffffffe9H
  0708c	74 05		 je	 SHORT $LN18@SkillAddCr

; 3728 : 	{
; 3729 : 		DestroyGIocp();

  0708e	e8 00 00 00 00	 call	 ?DestroyGIocp@@YAXXZ	; DestroyGIocp
$LN18@SkillAddCr:

; 3730 : 	}
; 3731 : 
; 3732 : 	if(lpObj->Type != OBJ_USER && lpObj->m_RecallMon == -1)

  07093	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07096	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  0709a	83 f9 01	 cmp	 ecx, 1
  0709d	74 11		 je	 SHORT $LN17@SkillAddCr
  0709f	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  070a2	83 b8 50 04 00
	00 ff		 cmp	 DWORD PTR [eax+1104], -1
  070a9	75 05		 jne	 SHORT $LN17@SkillAddCr

; 3733 : 	{
; 3734 : 		return;

  070ab	e9 8a 02 00 00	 jmp	 $LN19@SkillAddCr
$LN17@SkillAddCr:

; 3735 : 	}
; 3736 : 
; 3737 : 	if(lpObj->Class != CLASS_DARKLORD)

  070b0	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  070b3	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  070ba	83 f9 04	 cmp	 ecx, 4
  070bd	74 05		 je	 SHORT $LN16@SkillAddCr

; 3738 : 	{
; 3739 : 		return;

  070bf	e9 76 02 00 00	 jmp	 $LN19@SkillAddCr
$LN16@SkillAddCr:

; 3740 : 	}
; 3741 : 
; 3742 : 	int partynum = 0;

  070c4	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _partynum$[ebp], 0

; 3743 : 	int totallevel = 0;

  070cb	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _totallevel$[ebp], 0

; 3744 : 	int partycount;
; 3745 : 	int dis;
; 3746 : 
; 3747 : 	int ApplyPartyIndex[MAX_USER_IN_PARTY];
; 3748 : 	LPOBJ lpPartyObj;
; 3749 : 	memset(ApplyPartyIndex,-1,sizeof(ApplyPartyIndex));

  070d2	6a 28		 push	 40			; 00000028H
  070d4	6a ff		 push	 -1
  070d6	8d 45 b4	 lea	 eax, DWORD PTR _ApplyPartyIndex$[ebp]
  070d9	50		 push	 eax
  070da	e8 00 00 00 00	 call	 _memset
  070df	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3750 : 
; 3751 : 	partynum = lpObj->PartyNumber;

  070e2	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  070e5	8b 88 2c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1068]
  070eb	89 4d e8	 mov	 DWORD PTR _partynum$[ebp], ecx

; 3752 : 
; 3753 : 	if(partynum != -1)

  070ee	83 7d e8 ff	 cmp	 DWORD PTR _partynum$[ebp], -1
  070f2	0f 84 a0 00 00
	00		 je	 $LN15@SkillAddCr

; 3754 : 	{
; 3755 : 		partycount = gParty.m_PartyS[partynum].Count;

  070f8	8b 45 e8	 mov	 eax, DWORD PTR _partynum$[ebp]
  070fb	6b c0 6c	 imul	 eax, 108		; 0000006cH
  070fe	8b 88 08 00 00
	00		 mov	 ecx, DWORD PTR ?gParty@@3VPartyClass@@A[eax+8]
  07104	89 4d e0	 mov	 DWORD PTR _partycount$[ebp], ecx

; 3756 : 
; 3757 : 		for(int n = 0; n < MAX_USER_IN_PARTY; n++)

  07107	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR _n$241110[ebp], 0
  0710e	eb 09		 jmp	 SHORT $LN14@SkillAddCr
$LN13@SkillAddCr:
  07110	8b 45 ac	 mov	 eax, DWORD PTR _n$241110[ebp]
  07113	83 c0 01	 add	 eax, 1
  07116	89 45 ac	 mov	 DWORD PTR _n$241110[ebp], eax
$LN14@SkillAddCr:
  07119	83 7d ac 0a	 cmp	 DWORD PTR _n$241110[ebp], 10 ; 0000000aH
  0711d	7d 79		 jge	 SHORT $LN15@SkillAddCr

; 3758 : 		{
; 3759 : 			number = gParty.m_PartyS[partynum].Number[n];

  0711f	8b 45 e8	 mov	 eax, DWORD PTR _partynum$[ebp]
  07122	6b c0 6c	 imul	 eax, 108		; 0000006cH
  07125	8b 4d ac	 mov	 ecx, DWORD PTR _n$241110[ebp]
  07128	8b 94 88 0c 00
	00 00		 mov	 edx, DWORD PTR ?gParty@@3VPartyClass@@A[eax+ecx*4+12]
  0712f	89 55 ec	 mov	 DWORD PTR _number$[ebp], edx

; 3760 : 
; 3761 : 			if(number >= 0)

  07132	83 7d ec 00	 cmp	 DWORD PTR _number$[ebp], 0
  07136	7c 5b		 jl	 SHORT $LN11@SkillAddCr

; 3762 : 			{
; 3763 : 				lpPartyObj = &gObj[number];

  07138	8b 45 ec	 mov	 eax, DWORD PTR _number$[ebp]
  0713b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07141	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07147	89 45 b0	 mov	 DWORD PTR _lpPartyObj$[ebp], eax

; 3764 : 
; 3765 : 				if(lpObj->MapNumber == lpPartyObj->MapNumber)

  0714a	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0714d	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  07154	8b 55 b0	 mov	 edx, DWORD PTR _lpPartyObj$[ebp]
  07157	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0715e	3b c8		 cmp	 ecx, eax
  07160	75 31		 jne	 SHORT $LN11@SkillAddCr

; 3766 : 				{
; 3767 : 					dis = gObjCalDistance(lpObj,&gObj[number]);

  07162	8b 45 ec	 mov	 eax, DWORD PTR _number$[ebp]
  07165	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0716b	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07171	50		 push	 eax
  07172	8b 4d f0	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07175	51		 push	 ecx
  07176	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  0717b	83 c4 08	 add	 esp, 8
  0717e	89 45 dc	 mov	 DWORD PTR _dis$[ebp], eax

; 3768 : 					if(dis < 10)

  07181	83 7d dc 0a	 cmp	 DWORD PTR _dis$[ebp], 10 ; 0000000aH
  07185	7d 0c		 jge	 SHORT $LN11@SkillAddCr

; 3769 : 					{
; 3770 : 						ApplyPartyIndex[n] = lpPartyObj->m_Index;

  07187	8b 45 ac	 mov	 eax, DWORD PTR _n$241110[ebp]
  0718a	8b 4d b0	 mov	 ecx, DWORD PTR _lpPartyObj$[ebp]
  0718d	8b 11		 mov	 edx, DWORD PTR [ecx]
  0718f	89 54 85 b4	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+eax*4], edx
$LN11@SkillAddCr:

; 3771 : 					}
; 3772 : 				}
; 3773 : 			}
; 3774 : 		}

  07193	e9 78 ff ff ff	 jmp	 $LN13@SkillAddCr
$LN15@SkillAddCr:

; 3775 : 	}
; 3776 : 
; 3777 : 	int addcriticaldamagevalue = (lpObj->Leadership + lpObj->AddLeadership)/g_SkillAdditionInfo.CriticalDamageEffectDiv1 + (lpObj->Energy + lpObj->AddEnergy)/g_SkillAdditionInfo.CriticalDamageEffectDiv2;

  07198	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0719b	0f b7 80 18 01
	00 00		 movzx	 eax, WORD PTR [eax+280]
  071a2	8b 4d f0	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  071a5	0f b7 91 1a 01
	00 00		 movzx	 edx, WORD PTR [ecx+282]
  071ac	03 c2		 add	 eax, edx
  071ae	0f b7 0d 9c 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2972
  071b5	99		 cdq
  071b6	f7 f9		 idiv	 ecx
  071b8	8b c8		 mov	 ecx, eax
  071ba	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  071bd	0f b7 82 fa 00
	00 00		 movzx	 eax, WORD PTR [edx+250]
  071c4	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  071c7	0f bf 92 26 01
	00 00		 movsx	 edx, WORD PTR [edx+294]
  071ce	03 c2		 add	 eax, edx
  071d0	0f b7 35 9e 0b
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2974
  071d7	99		 cdq
  071d8	f7 fe		 idiv	 esi
  071da	03 c8		 add	 ecx, eax
  071dc	89 4d a8	 mov	 DWORD PTR _addcriticaldamagevalue$[ebp], ecx

; 3778 : 
; 3779 : 	if( g_SkillAdditionInfo.CriticalDamageEffectMax > 0 && addcriticaldamagevalue > g_SkillAdditionInfo.CriticalDamageEffectMax )

  071df	0f b7 05 a0 0b
	00 00		 movzx	 eax, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2976
  071e6	85 c0		 test	 eax, eax
  071e8	7e 16		 jle	 SHORT $LN8@SkillAddCr
  071ea	0f b7 05 a0 0b
	00 00		 movzx	 eax, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2976
  071f1	39 45 a8	 cmp	 DWORD PTR _addcriticaldamagevalue$[ebp], eax
  071f4	7e 0a		 jle	 SHORT $LN8@SkillAddCr

; 3780 : 	{
; 3781 : 		addcriticaldamagevalue = g_SkillAdditionInfo.CriticalDamageEffectMax;

  071f6	0f b7 05 a0 0b
	00 00		 movzx	 eax, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2976
  071fd	89 45 a8	 mov	 DWORD PTR _addcriticaldamagevalue$[ebp], eax
$LN8@SkillAddCr:

; 3782 : 	}
; 3783 : 
; 3784 : 	int SkillTime = (lpObj->Energy + lpObj->AddEnergy)/g_SkillAdditionInfo.CriticalDamageTimeDiv + g_SkillAdditionInfo.CriticalDamageTimeStart;

  07200	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07203	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  0720a	8b 4d f0	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0720d	0f bf 91 26 01
	00 00		 movsx	 edx, WORD PTR [ecx+294]
  07214	03 c2		 add	 eax, edx
  07216	0f b7 0d a4 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2980
  0721d	99		 cdq
  0721e	f7 f9		 idiv	 ecx
  07220	0f b7 15 a2 0b
	00 00		 movzx	 edx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2978
  07227	03 c2		 add	 eax, edx
  07229	89 45 a4	 mov	 DWORD PTR _SkillTime$[ebp], eax

; 3785 : 
; 3786 : 	if( g_SkillAdditionInfo.CriticalDamageTimeMax > 0 && SkillTime > g_SkillAdditionInfo.CriticalDamageTimeMax )

  0722c	83 3d a8 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2984, 0
  07233	76 13		 jbe	 SHORT $LN7@SkillAddCr
  07235	8b 45 a4	 mov	 eax, DWORD PTR _SkillTime$[ebp]
  07238	3b 05 a8 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2984
  0723e	76 08		 jbe	 SHORT $LN7@SkillAddCr

; 3787 : 	{
; 3788 : 		SkillTime = g_SkillAdditionInfo.CriticalDamageTimeMax;

  07240	a1 a8 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2984
  07245	89 45 a4	 mov	 DWORD PTR _SkillTime$[ebp], eax
$LN7@SkillAddCr:

; 3789 : 	}
; 3790 : 
; 3791 : 	if(partynum == -1)

  07248	83 7d e8 ff	 cmp	 DWORD PTR _partynum$[ebp], -1
  0724c	75 5a		 jne	 SHORT $LN6@SkillAddCr

; 3792 : 	{
; 3793 : 		gObjApplyBuffEffectDuration(lpObj, AT_INCREASE_CRITICAL_DMG, 17, addcriticaldamagevalue, 0, 0, SkillTime); //season3 add-on

  0724e	8b 45 a4	 mov	 eax, DWORD PTR _SkillTime$[ebp]
  07251	50		 push	 eax
  07252	6a 00		 push	 0
  07254	6a 00		 push	 0
  07256	8b 4d a8	 mov	 ecx, DWORD PTR _addcriticaldamagevalue$[ebp]
  07259	51		 push	 ecx
  0725a	6a 11		 push	 17			; 00000011H
  0725c	6a 05		 push	 5
  0725e	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07261	52		 push	 edx
  07262	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  07267	83 c4 1c	 add	 esp, 28			; 0000001cH

; 3794 : 
; 3795 : 		MsgOutput(aIndex,lMsg.Get(1240),SkillTime);

  0726a	8b 45 a4	 mov	 eax, DWORD PTR _SkillTime$[ebp]
  0726d	50		 push	 eax
  0726e	68 d8 04 00 00	 push	 1240			; 000004d8H
  07273	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  07278	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0727d	50		 push	 eax
  0727e	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  07281	51		 push	 ecx
  07282	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  07287	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3796 : 		GCMagicAttackNumberSend(lpObj,AT_SKILL_ADD_CRITICALDAMAGE,lpObj->m_Index,skillSuccess);

  0728a	0f b6 45 f4	 movzx	 eax, BYTE PTR _skillSuccess$[ebp]
  0728e	50		 push	 eax
  0728f	8b 4d f0	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07292	8b 11		 mov	 edx, DWORD PTR [ecx]
  07294	52		 push	 edx
  07295	6a 40		 push	 64			; 00000040H
  07297	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0729a	50		 push	 eax
  0729b	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  072a0	83 c4 10	 add	 esp, 16			; 00000010H

; 3797 : 	}
; 3798 : 	else

  072a3	e9 92 00 00 00	 jmp	 $LN19@SkillAddCr
$LN6@SkillAddCr:

; 3799 : 	{
; 3800 : 		for(int n = 0;n < MAX_USER_IN_PARTY;n++)

  072a8	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _n$241123[ebp], 0
  072af	eb 09		 jmp	 SHORT $LN4@SkillAddCr
$LN3@SkillAddCr:
  072b1	8b 45 a0	 mov	 eax, DWORD PTR _n$241123[ebp]
  072b4	83 c0 01	 add	 eax, 1
  072b7	89 45 a0	 mov	 DWORD PTR _n$241123[ebp], eax
$LN4@SkillAddCr:
  072ba	83 7d a0 0a	 cmp	 DWORD PTR _n$241123[ebp], 10 ; 0000000aH
  072be	7d 7a		 jge	 SHORT $LN19@SkillAddCr

; 3801 : 		{
; 3802 : 			if(ApplyPartyIndex[n] != -1)

  072c0	8b 45 a0	 mov	 eax, DWORD PTR _n$241123[ebp]
  072c3	83 7c 85 b4 ff	 cmp	 DWORD PTR _ApplyPartyIndex$[ebp+eax*4], -1
  072c8	74 6b		 je	 SHORT $LN1@SkillAddCr

; 3803 : 			{
; 3804 : 				lpPartyObj = &gObj[ApplyPartyIndex[n]];

  072ca	8b 45 a0	 mov	 eax, DWORD PTR _n$241123[ebp]
  072cd	8b 4c 85 b4	 mov	 ecx, DWORD PTR _ApplyPartyIndex$[ebp+eax*4]
  072d1	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  072d7	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  072dd	89 4d b0	 mov	 DWORD PTR _lpPartyObj$[ebp], ecx

; 3805 : 
; 3806 : 				gObjApplyBuffEffectDuration(lpPartyObj, AT_INCREASE_CRITICAL_DMG, 17, addcriticaldamagevalue, 0, 0, SkillTime); //season3 add-on

  072e0	8b 45 a4	 mov	 eax, DWORD PTR _SkillTime$[ebp]
  072e3	50		 push	 eax
  072e4	6a 00		 push	 0
  072e6	6a 00		 push	 0
  072e8	8b 4d a8	 mov	 ecx, DWORD PTR _addcriticaldamagevalue$[ebp]
  072eb	51		 push	 ecx
  072ec	6a 11		 push	 17			; 00000011H
  072ee	6a 05		 push	 5
  072f0	8b 55 b0	 mov	 edx, DWORD PTR _lpPartyObj$[ebp]
  072f3	52		 push	 edx
  072f4	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  072f9	83 c4 1c	 add	 esp, 28			; 0000001cH

; 3807 : 
; 3808 : 				MsgOutput(aIndex,lMsg.Get(1240),SkillTime);

  072fc	8b 45 a4	 mov	 eax, DWORD PTR _SkillTime$[ebp]
  072ff	50		 push	 eax
  07300	68 d8 04 00 00	 push	 1240			; 000004d8H
  07305	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  0730a	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0730f	50		 push	 eax
  07310	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  07313	51		 push	 ecx
  07314	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  07319	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3809 : 				GCMagicAttackNumberSend(lpObj,AT_SKILL_ADD_CRITICALDAMAGE,lpPartyObj->m_Index,skillSuccess);

  0731c	0f b6 45 f4	 movzx	 eax, BYTE PTR _skillSuccess$[ebp]
  07320	50		 push	 eax
  07321	8b 4d b0	 mov	 ecx, DWORD PTR _lpPartyObj$[ebp]
  07324	8b 11		 mov	 edx, DWORD PTR [ecx]
  07326	52		 push	 edx
  07327	6a 40		 push	 64			; 00000040H
  07329	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0732c	50		 push	 eax
  0732d	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  07332	83 c4 10	 add	 esp, 16			; 00000010H
$LN1@SkillAddCr:

; 3810 : 			}
; 3811 : 		}

  07335	e9 77 ff ff ff	 jmp	 $LN3@SkillAddCr
$LN19@SkillAddCr:

; 3812 : 	}
; 3813 : }

  0733a	5f		 pop	 edi
  0733b	5e		 pop	 esi
  0733c	5b		 pop	 ebx
  0733d	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  07340	33 cd		 xor	 ecx, ebp
  07342	e8 00 00 00 00	 call	 @__security_check_cookie@4
  07347	8b e5		 mov	 esp, ebp
  07349	5d		 pop	 ebp
  0734a	c2 08 00	 ret	 8
?SkillAddCriticalDamage@CObjUseSkill@@QAEXHH@Z ENDP	; CObjUseSkill::SkillAddCriticalDamage
_TEXT	ENDS
PUBLIC	?DecPartyMemberHPandMP@@YAHPAUOBJECTSTRUCT@@@Z	; DecPartyMemberHPandMP
EXTRN	?SkillElectricSparkHitBox@@3VCSkillHitBox@@A:BYTE ; SkillElectricSparkHitBox
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_CallMonIndex$241160 = -48				; size = 4
_EnableAttack$ = -44					; size = 4
_Hit$ = -40						; size = 4
_delaytime$ = -36					; size = 4
_iangle$ = -32						; size = 4
_DuelIndex$ = -28					; size = 4
_count$ = -24						; size = 4
_tObjNum$ = -20						; size = 4
_TargePosy$ = -16					; size = 4
_TargePosx$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_dir$ = 24						; size = 1
_TargetPos$ = 28					; size = 1
_aTargetIndex$ = 32					; size = 4
?SkillElectricSpark@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z PROC ; CObjUseSkill::SkillElectricSpark
; _this$ = ecx

; 3816 : {

  07350	55		 push	 ebp
  07351	8b ec		 mov	 ebp, esp
  07353	83 ec 70	 sub	 esp, 112		; 00000070H
  07356	53		 push	 ebx
  07357	56		 push	 esi
  07358	57		 push	 edi
  07359	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 3817 : 	LPOBJ lpObj = &gObj[aIndex];

  0735c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0735f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07365	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0736b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 3818 : 
; 3819 : 	int TargePosx = lpObj->X - (8 - (TargetPos & 15));

  0736e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07371	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  07378	0f b6 55 1c	 movzx	 edx, BYTE PTR _TargetPos$[ebp]
  0737c	83 e2 0f	 and	 edx, 15			; 0000000fH
  0737f	b8 08 00 00 00	 mov	 eax, 8
  07384	2b c2		 sub	 eax, edx
  07386	2b c8		 sub	 ecx, eax
  07388	89 4d f4	 mov	 DWORD PTR _TargePosx$[ebp], ecx

; 3820 : 	int TargePosy = lpObj->Y - (8 - ((TargetPos & 240) >> 4));

  0738b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0738e	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  07395	0f b6 55 1c	 movzx	 edx, BYTE PTR _TargetPos$[ebp]
  07399	81 e2 f0 00 00
	00		 and	 edx, 240		; 000000f0H
  0739f	c1 fa 04	 sar	 edx, 4
  073a2	b8 08 00 00 00	 mov	 eax, 8
  073a7	2b c2		 sub	 eax, edx
  073a9	2b c8		 sub	 ecx, eax
  073ab	89 4d f0	 mov	 DWORD PTR _TargePosy$[ebp], ecx

; 3821 : 
; 3822 : 	int tObjNum;
; 3823 : 	int count = 0;

  073ae	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 3824 : 	int DuelIndex = lpObj->m_iDuelUser;

  073b5	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  073b8	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  073be	89 4d e4	 mov	 DWORD PTR _DuelIndex$[ebp], ecx

; 3825 : 	int iangle = this->GetAngle(lpObj->X,lpObj->Y,TargePosx,TargePosy);

  073c1	8b 45 f0	 mov	 eax, DWORD PTR _TargePosy$[ebp]
  073c4	50		 push	 eax
  073c5	8b 4d f4	 mov	 ecx, DWORD PTR _TargePosx$[ebp]
  073c8	51		 push	 ecx
  073c9	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  073cc	0f bf 82 46 01
	00 00		 movsx	 eax, WORD PTR [edx+326]
  073d3	50		 push	 eax
  073d4	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  073d7	0f bf 91 44 01
	00 00		 movsx	 edx, WORD PTR [ecx+324]
  073de	52		 push	 edx
  073df	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  073e2	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle
  073e7	89 45 e0	 mov	 DWORD PTR _iangle$[ebp], eax

; 3826 : 	int delaytime;
; 3827 : 	int Hit = 0;

  073ea	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _Hit$[ebp], 0
$LN17@SkillElect:

; 3828 : 	int EnableAttack;
; 3829 : 
; 3830 : 	while ( true )

  073f1	b8 01 00 00 00	 mov	 eax, 1
  073f6	85 c0		 test	 eax, eax
  073f8	0f 84 37 02 00
	00		 je	 $LN16@SkillElect

; 3831 : 	{
; 3832 : 		if(lpObj->VpPlayer2[count].state != 0)

  073fe	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  07401	6b c0 0c	 imul	 eax, 12			; 0000000cH
  07404	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07407	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0740f	85 d2		 test	 edx, edx
  07411	0f 84 08 02 00
	00		 je	 $LN15@SkillElect

; 3833 : 		{
; 3834 : 			tObjNum = lpObj->VpPlayer2[count].number;

  07417	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0741a	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0741d	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07420	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  07428	89 55 ec	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 3835 : 
; 3836 : 			if(tObjNum >= 0)

  0742b	83 7d ec 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0742f	0f 8c ea 01 00
	00		 jl	 $LN15@SkillElect

; 3837 : 			{
; 3838 : 				EnableAttack = 0;

  07435	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 3839 : 
; 3840 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0743c	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0743f	6b c0 0c	 imul	 eax, 12			; 0000000cH
  07442	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07445	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0744d	83 fa 02	 cmp	 edx, 2
  07450	75 25		 jne	 SHORT $LN13@SkillElect
  07452	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  07455	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0745b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07461	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  07469	7d 0c		 jge	 SHORT $LN13@SkillElect

; 3841 : 				{
; 3842 : 					EnableAttack = 1;

  0746b	c7 45 d4 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  07472	e9 ff 00 00 00	 jmp	 $LN12@SkillElect
$LN13@SkillElect:

; 3843 : 				}
; 3844 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  07477	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0747a	3b 45 20	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0747d	74 08		 je	 SHORT $LN10@SkillElect
  0747f	8b 45 e4	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  07482	3b 45 ec	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  07485	75 0c		 jne	 SHORT $LN11@SkillElect
$LN10@SkillElect:

; 3845 : 				{
; 3846 : 					EnableAttack = 1;

  07487	c7 45 d4 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  0748e	e9 e3 00 00 00	 jmp	 $LN12@SkillElect
$LN11@SkillElect:

; 3847 : 				}
; 3848 : //#if(GS_CASTLE==1)
; 3849 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  07493	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  07496	6b c0 0c	 imul	 eax, 12			; 0000000cH
  07499	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0749c	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  074a4	83 fa 03	 cmp	 edx, 3
  074a7	74 37		 je	 SHORT $LN8@SkillElect
  074a9	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  074ac	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  074b2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  074b8	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  074c0	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  074c3	75 1b		 jne	 SHORT $LN8@SkillElect
  074c5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  074ca	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  074cf	83 f8 07	 cmp	 eax, 7
  074d2	75 0c		 jne	 SHORT $LN8@SkillElect

; 3850 : 				{
; 3851 : 					EnableAttack = 1;

  074d4	c7 45 d4 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 3852 : 				}
; 3853 : //#endif
; 3854 : 				else

  074db	e9 96 00 00 00	 jmp	 $LN12@SkillElect
$LN8@SkillElect:

; 3855 : 				{
; 3856 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  074e0	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  074e3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  074e9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  074ef	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  074f2	89 55 d0	 mov	 DWORD PTR _CallMonIndex$241160[ebp], edx

; 3857 : 
; 3858 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  074f5	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  074f8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  074fe	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07504	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  07509	83 fa 02	 cmp	 edx, 2
  0750c	75 40		 jne	 SHORT $LN6@SkillElect
  0750e	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  07511	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07517	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0751d	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  07525	7c 27		 jl	 SHORT $LN6@SkillElect

; 3859 : 					{
; 3860 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  07527	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0752a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07530	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07536	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0753d	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  07543	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07548	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0754b	89 4d d0	 mov	 DWORD PTR _CallMonIndex$241160[ebp], ecx
$LN6@SkillElect:

; 3861 : 					}
; 3862 : 
; 3863 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  0754e	8b 45 d0	 mov	 eax, DWORD PTR _CallMonIndex$241160[ebp]
  07551	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07557	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0755d	50		 push	 eax
  0755e	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07561	51		 push	 ecx
  07562	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  07567	83 c4 08	 add	 esp, 8
  0756a	83 f8 01	 cmp	 eax, 1
  0756d	75 07		 jne	 SHORT $LN12@SkillElect

; 3864 : 					{
; 3865 : 						EnableAttack = 1;

  0756f	c7 45 d4 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN12@SkillElect:

; 3866 : 					}
; 3867 : 				}
; 3868 : 
; 3869 : 				if(EnableAttack != 0)

  07576	83 7d d4 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  0757a	0f 84 9f 00 00
	00		 je	 $LN15@SkillElect

; 3870 : 				{
; 3871 : 					if(SkillElectricSparkHitBox.HitCheck(iangle,gObj[aIndex].X,gObj[aIndex].Y,gObj[tObjNum].X,gObj[tObjNum].Y))

  07580	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  07583	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07589	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0758f	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  07597	52		 push	 edx
  07598	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0759b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  075a1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  075a7	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  075af	52		 push	 edx
  075b0	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  075b3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  075b9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  075bf	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  075c7	52		 push	 edx
  075c8	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  075cb	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  075d1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  075d7	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  075df	52		 push	 edx
  075e0	8b 45 e0	 mov	 eax, DWORD PTR _iangle$[ebp]
  075e3	50		 push	 eax
  075e4	b9 00 00 00 00	 mov	 ecx, OFFSET ?SkillElectricSparkHitBox@@3VCSkillHitBox@@A ; SkillElectricSparkHitBox
  075e9	e8 00 00 00 00	 call	 ?HitCheck@CSkillHitBox@@QAEHHHHHH@Z ; CSkillHitBox::HitCheck
  075ee	85 c0		 test	 eax, eax
  075f0	74 2d		 je	 SHORT $LN15@SkillElect

; 3872 : 					{
; 3873 : 						delaytime = 500;

  075f2	c7 45 dc f4 01
	00 00		 mov	 DWORD PTR _delaytime$[ebp], 500 ; 000001f4H

; 3874 : 						Hit = 1;

  075f9	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _Hit$[ebp], 1

; 3875 : 
; 3876 : 						gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,delaytime,lpMagic->m_Skill,0);

  07600	6a 00		 push	 0
  07602	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  07605	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  07608	51		 push	 ecx
  07609	8b 55 dc	 mov	 edx, DWORD PTR _delaytime$[ebp]
  0760c	52		 push	 edx
  0760d	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  07610	50		 push	 eax
  07611	6a 32		 push	 50			; 00000032H
  07613	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07616	51		 push	 ecx
  07617	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0761c	83 c4 18	 add	 esp, 24			; 00000018H
$LN15@SkillElect:

; 3877 : 					}
; 3878 : 				}
; 3879 : 			}
; 3880 : 		}
; 3881 : 
; 3882 : 		count++;

  0761f	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  07622	83 c0 01	 add	 eax, 1
  07625	89 45 e8	 mov	 DWORD PTR _count$[ebp], eax

; 3883 : 		if(count > MAX_VIEWPORT -1)

  07628	83 7d e8 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0762c	7e 02		 jle	 SHORT $LN2@SkillElect

; 3884 : 		{
; 3885 : 			break;

  0762e	eb 05		 jmp	 SHORT $LN16@SkillElect
$LN2@SkillElect:

; 3886 : 		}
; 3887 : 	}

  07630	e9 bc fd ff ff	 jmp	 $LN17@SkillElect
$LN16@SkillElect:

; 3888 : 
; 3889 : 	if(Hit != 0)

  07635	83 7d d8 00	 cmp	 DWORD PTR _Hit$[ebp], 0
  07639	74 0c		 je	 SHORT $LN18@SkillElect

; 3890 : 	{
; 3891 : 		DecPartyMemberHPandMP(lpObj);

  0763b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0763e	50		 push	 eax
  0763f	e8 00 00 00 00	 call	 ?DecPartyMemberHPandMP@@YAHPAUOBJECTSTRUCT@@@Z ; DecPartyMemberHPandMP
  07644	83 c4 04	 add	 esp, 4
$LN18@SkillElect:

; 3892 : 	}
; 3893 : }

  07647	5f		 pop	 edi
  07648	5e		 pop	 esi
  07649	5b		 pop	 ebx
  0764a	8b e5		 mov	 esp, ebp
  0764c	5d		 pop	 ebp
  0764d	c2 1c 00	 ret	 28			; 0000001cH
?SkillElectricSpark@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ENDP ; CObjUseSkill::SkillElectricSpark
_TEXT	ENDS
PUBLIC	__real@4014000000000000
PUBLIC	__real@4034000000000000
PUBLIC	??_C@_0CE@CEJHKGA@error?5?3?5DecPartyMemberHPandMP?5?$CFs@ ; `string'
PUBLIC	??_C@_0ED@HCGCFFPH@d?3?2projects?2exteam6?43?2source?2gam@ ; `string'
PUBLIC	?__LINE__Var@?1??DecPartyMemberHPandMP@@YAHPAUOBJECTSTRUCT@@@Z@4JA ; `DecPartyMemberHPandMP'::`2'::__LINE__Var
;	COMDAT __real@4014000000000000
CONST	SEGMENT
__real@4014000000000000 DQ 04014000000000000r	; 5
CONST	ENDS
;	COMDAT __real@4034000000000000
CONST	SEGMENT
__real@4034000000000000 DQ 04034000000000000r	; 20
CONST	ENDS
;	COMDAT ??_C@_0CE@CEJHKGA@error?5?3?5DecPartyMemberHPandMP?5?$CFs@
CONST	SEGMENT
??_C@_0CE@CEJHKGA@error?5?3?5DecPartyMemberHPandMP?5?$CFs@ DB 'error : De'
	DB	'cPartyMemberHPandMP %s %d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0ED@HCGCFFPH@d?3?2projects?2exteam6?43?2source?2gam@
CONST	SEGMENT
??_C@_0ED@HCGCFFPH@d?3?2projects?2exteam6?43?2source?2gam@ DB 'd:\project'
	DB	's\exteam6.3\source\gameserver\gameserver\objuseskill.cpp', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??DecPartyMemberHPandMP@@YAHPAUOBJECTSTRUCT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??DecPartyMemberHPandMP@@YAHPAUOBJECTSTRUCT@@@Z@4JA DD 0f38H ; `DecPartyMemberHPandMP'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
tv68 = -104						; size = 4
_decmana$241189 = -36					; size = 4
_declife$241187 = -32					; size = 4
_dis$241185 = -28					; size = 4
_number$241182 = -24					; size = 4
_n$241178 = -20						; size = 4
_retcount$ = -16					; size = 4
_partycount$ = -12					; size = 4
_partynum$ = -8						; size = 4
_lpPartyObj$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?DecPartyMemberHPandMP@@YAHPAUOBJECTSTRUCT@@@Z PROC	; DecPartyMemberHPandMP

; 3896 : {

  07650	55		 push	 ebp
  07651	8b ec		 mov	 ebp, esp
  07653	83 ec 68	 sub	 esp, 104		; 00000068H
  07656	53		 push	 ebx
  07657	56		 push	 esi
  07658	57		 push	 edi

; 3897 : 	LPOBJ lpPartyObj;
; 3898 : 	int partynum = lpObj->PartyNumber;

  07659	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0765c	8b 88 2c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1068]
  07662	89 4d f8	 mov	 DWORD PTR _partynum$[ebp], ecx

; 3899 : 
; 3900 : 	if(OBJMAX_RANGE(partynum)==false)

  07665	83 7d f8 00	 cmp	 DWORD PTR _partynum$[ebp], 0
  07669	7d 09		 jge	 SHORT $LN10@DecPartyMe
  0766b	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv68[ebp], 0
  07672	eb 0f		 jmp	 SHORT $LN11@DecPartyMe
$LN10@DecPartyMe:
  07674	33 c0		 xor	 eax, eax
  07676	81 7d f8 97 3a
	00 00		 cmp	 DWORD PTR _partynum$[ebp], 14999 ; 00003a97H
  0767d	0f 9e c0	 setle	 al
  07680	89 45 98	 mov	 DWORD PTR tv68[ebp], eax
$LN11@DecPartyMe:
  07683	83 7d 98 00	 cmp	 DWORD PTR tv68[ebp], 0
  07687	75 23		 jne	 SHORT $LN7@DecPartyMe

; 3901 : 	{
; 3902 : 		LogAdd("error : DecPartyMemberHPandMP %s %d",__FILE__,__LINE__);

  07689	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??DecPartyMemberHPandMP@@YAHPAUOBJECTSTRUCT@@@Z@4JA
  0768e	83 c0 06	 add	 eax, 6
  07691	50		 push	 eax
  07692	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@HCGCFFPH@d?3?2projects?2exteam6?43?2source?2gam@
  07697	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@CEJHKGA@error?5?3?5DecPartyMemberHPandMP?5?$CFs@
  0769c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  076a2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3903 : 		return false;

  076a5	33 c0		 xor	 eax, eax
  076a7	e9 97 01 00 00	 jmp	 $LN8@DecPartyMe
$LN7@DecPartyMe:

; 3904 : 	}
; 3905 : 
; 3906 : 	int partycount = gParty.m_PartyS[partynum].Count;

  076ac	8b 45 f8	 mov	 eax, DWORD PTR _partynum$[ebp]
  076af	6b c0 6c	 imul	 eax, 108		; 0000006cH
  076b2	8b 88 08 00 00
	00		 mov	 ecx, DWORD PTR ?gParty@@3VPartyClass@@A[eax+8]
  076b8	89 4d f4	 mov	 DWORD PTR _partycount$[ebp], ecx

; 3907 : 	int retcount = 0;

  076bb	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _retcount$[ebp], 0

; 3908 : 
; 3909 : 	for(int n = 0; n < MAX_USER_IN_PARTY;n++)

  076c2	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _n$241178[ebp], 0
  076c9	eb 09		 jmp	 SHORT $LN6@DecPartyMe
$LN5@DecPartyMe:
  076cb	8b 45 ec	 mov	 eax, DWORD PTR _n$241178[ebp]
  076ce	83 c0 01	 add	 eax, 1
  076d1	89 45 ec	 mov	 DWORD PTR _n$241178[ebp], eax
$LN6@DecPartyMe:
  076d4	83 7d ec 0a	 cmp	 DWORD PTR _n$241178[ebp], 10 ; 0000000aH
  076d8	0f 8d 62 01 00
	00		 jge	 $LN4@DecPartyMe

; 3910 : 	{
; 3911 : 		int number = gParty.m_PartyS[partynum].Number[n];

  076de	8b 45 f8	 mov	 eax, DWORD PTR _partynum$[ebp]
  076e1	6b c0 6c	 imul	 eax, 108		; 0000006cH
  076e4	8b 4d ec	 mov	 ecx, DWORD PTR _n$241178[ebp]
  076e7	8b 94 88 0c 00
	00 00		 mov	 edx, DWORD PTR ?gParty@@3VPartyClass@@A[eax+ecx*4+12]
  076ee	89 55 e8	 mov	 DWORD PTR _number$241182[ebp], edx

; 3912 : 
; 3913 : 		if(number >= 0)

  076f1	83 7d e8 00	 cmp	 DWORD PTR _number$241182[ebp], 0
  076f5	0f 8c 40 01 00
	00		 jl	 $LN1@DecPartyMe

; 3914 : 		{
; 3915 : 			lpPartyObj = &gObj[number];

  076fb	8b 45 e8	 mov	 eax, DWORD PTR _number$241182[ebp]
  076fe	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07704	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0770a	89 45 fc	 mov	 DWORD PTR _lpPartyObj$[ebp], eax

; 3916 : 
; 3917 : 			if(lpObj->MapNumber == lpPartyObj->MapNumber && lpObj->m_Index != number)

  0770d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07710	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  07717	8b 55 fc	 mov	 edx, DWORD PTR _lpPartyObj$[ebp]
  0771a	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  07721	3b c8		 cmp	 ecx, eax
  07723	0f 85 12 01 00
	00		 jne	 $LN1@DecPartyMe
  07729	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0772c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0772e	3b 4d e8	 cmp	 ecx, DWORD PTR _number$241182[ebp]
  07731	0f 84 04 01 00
	00		 je	 $LN1@DecPartyMe

; 3918 : 			{
; 3919 : 				int dis = gObjCalDistance(lpObj,&gObj[number]);

  07737	8b 45 e8	 mov	 eax, DWORD PTR _number$241182[ebp]
  0773a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07740	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07746	50		 push	 eax
  07747	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0774a	51		 push	 ecx
  0774b	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  07750	83 c4 08	 add	 esp, 8
  07753	89 45 e4	 mov	 DWORD PTR _dis$241185[ebp], eax

; 3920 : 				if(dis < 10)

  07756	83 7d e4 0a	 cmp	 DWORD PTR _dis$241185[ebp], 10 ; 0000000aH
  0775a	0f 8d db 00 00
	00		 jge	 $LN1@DecPartyMe

; 3921 : 				{
; 3922 : 					lpPartyObj = &gObj[number];

  07760	8b 45 e8	 mov	 eax, DWORD PTR _number$241182[ebp]
  07763	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07769	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0776f	89 45 fc	 mov	 DWORD PTR _lpPartyObj$[ebp], eax

; 3923 : 
; 3924 : 					int declife = (int)(lpPartyObj->Life * 20.0f / 100.0f);

  07772	8b 45 fc	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  07775	d9 80 fc 00 00
	00		 fld	 DWORD PTR [eax+252]
  0777b	dc 0d 00 00 00
	00		 fmul	 QWORD PTR __real@4034000000000000
  07781	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  07787	e8 00 00 00 00	 call	 __ftol2_sse
  0778c	89 45 e0	 mov	 DWORD PTR _declife$241187[ebp], eax

; 3925 : 					int decmana = (int)(lpPartyObj->Mana * 5.0f / 100.0f);

  0778f	8b 45 fc	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  07792	d9 80 10 01 00
	00		 fld	 DWORD PTR [eax+272]
  07798	dc 0d 00 00 00
	00		 fmul	 QWORD PTR __real@4014000000000000
  0779e	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  077a4	e8 00 00 00 00	 call	 __ftol2_sse
  077a9	89 45 dc	 mov	 DWORD PTR _decmana$241189[ebp], eax

; 3926 : 
; 3927 : 					lpPartyObj->Life = lpPartyObj->Life - declife;

  077ac	db 45 e0	 fild	 DWORD PTR _declife$241187[ebp]
  077af	8b 45 fc	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  077b2	d8 a8 fc 00 00
	00		 fsubr	 DWORD PTR [eax+252]
  077b8	8b 4d fc	 mov	 ecx, DWORD PTR _lpPartyObj$[ebp]
  077bb	d9 99 fc 00 00
	00		 fstp	 DWORD PTR [ecx+252]

; 3928 : 					lpPartyObj->Mana = lpPartyObj->Mana - decmana;

  077c1	db 45 dc	 fild	 DWORD PTR _decmana$241189[ebp]
  077c4	8b 45 fc	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  077c7	d8 a8 10 01 00
	00		 fsubr	 DWORD PTR [eax+272]
  077cd	8b 4d fc	 mov	 ecx, DWORD PTR _lpPartyObj$[ebp]
  077d0	d9 99 10 01 00
	00		 fstp	 DWORD PTR [ecx+272]

; 3929 : 
; 3930 : 					GCReFillSend(lpPartyObj->m_Index,lpPartyObj->Life,0xFF,0,lpPartyObj->iShield);

  077d6	8b 45 fc	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  077d9	8b 88 54 01 00
	00		 mov	 ecx, DWORD PTR [eax+340]
  077df	51		 push	 ecx
  077e0	6a 00		 push	 0
  077e2	68 ff 00 00 00	 push	 255			; 000000ffH
  077e7	8b 55 fc	 mov	 edx, DWORD PTR _lpPartyObj$[ebp]
  077ea	d9 82 fc 00 00
	00		 fld	 DWORD PTR [edx+252]
  077f0	e8 00 00 00 00	 call	 __ftol2_sse
  077f5	50		 push	 eax
  077f6	8b 45 fc	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  077f9	8b 08		 mov	 ecx, DWORD PTR [eax]
  077fb	51		 push	 ecx
  077fc	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend
  07801	83 c4 14	 add	 esp, 20			; 00000014H

; 3931 : 					GCManaSend(lpPartyObj->m_Index,lpPartyObj->Mana,0xFF,0,lpPartyObj->BP);

  07804	8b 45 fc	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  07807	8b 88 28 01 00
	00		 mov	 ecx, DWORD PTR [eax+296]
  0780d	51		 push	 ecx
  0780e	6a 00		 push	 0
  07810	68 ff 00 00 00	 push	 255			; 000000ffH
  07815	8b 55 fc	 mov	 edx, DWORD PTR _lpPartyObj$[ebp]
  07818	d9 82 10 01 00
	00		 fld	 DWORD PTR [edx+272]
  0781e	e8 00 00 00 00	 call	 __ftol2_sse
  07823	50		 push	 eax
  07824	8b 45 fc	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  07827	8b 08		 mov	 ecx, DWORD PTR [eax]
  07829	51		 push	 ecx
  0782a	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend
  0782f	83 c4 14	 add	 esp, 20			; 00000014H

; 3932 : 					retcount++;

  07832	8b 45 f0	 mov	 eax, DWORD PTR _retcount$[ebp]
  07835	83 c0 01	 add	 eax, 1
  07838	89 45 f0	 mov	 DWORD PTR _retcount$[ebp], eax
$LN1@DecPartyMe:

; 3933 : 				}
; 3934 : 			}
; 3935 : 		}
; 3936 : 	}

  0783b	e9 8b fe ff ff	 jmp	 $LN5@DecPartyMe
$LN4@DecPartyMe:

; 3937 : 
; 3938 : 	return retcount;

  07840	8b 45 f0	 mov	 eax, DWORD PTR _retcount$[ebp]
$LN8@DecPartyMe:

; 3939 : }

  07843	5f		 pop	 edi
  07844	5e		 pop	 esi
  07845	5b		 pop	 ebx
  07846	8b e5		 mov	 esp, ebp
  07848	5d		 pop	 ebp
  07849	c3		 ret	 0
?DecPartyMemberHPandMP@@YAHPAUOBJECTSTRUCT@@@Z ENDP	; DecPartyMemberHPandMP
_TEXT	ENDS
EXTRN	?gObjAddMonster@@YAFH@Z:PROC			; gObjAddMonster
EXTRN	?gObjGetRandomFreeLocation@@YAHHAAE0HHH@Z:PROC	; gObjGetRandomFreeLocation
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv73 = -100						; size = 4
tv67 = -100						; size = 4
_result$241225 = -32					; size = 4
_cSY$241221 = -26					; size = 1
_cSX$241220 = -25					; size = 1
_iSC$241216 = -24					; size = 4
_lpObj$ = -20						; size = 4
_cSummonY$ = -16					; size = 1
_cSummonX$ = -15					; size = 1
_bSummonSuccess$ = -14					; size = 1
_bDoSummon$ = -13					; size = 1
_iSummonMonterType$ = -12				; size = 4
_iSummonCount$ = -8					; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillSummon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::SkillSummon
; _this$ = ecx

; 3942 : {

  07850	55		 push	 ebp
  07851	8b ec		 mov	 ebp, esp
  07853	83 ec 64	 sub	 esp, 100		; 00000064H
  07856	53		 push	 ebx
  07857	56		 push	 esi
  07858	57		 push	 edi
  07859	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 3943 : 	if(OBJMAX_RANGE(aIndex)==false)

  0785c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  07860	7d 09		 jge	 SHORT $LN18@SkillSummo
  07862	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  07869	eb 0f		 jmp	 SHORT $LN19@SkillSummo
$LN18@SkillSummo:
  0786b	33 c0		 xor	 eax, eax
  0786d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  07874	0f 9e c0	 setle	 al
  07877	89 45 9c	 mov	 DWORD PTR tv67[ebp], eax
$LN19@SkillSummo:
  0787a	83 7d 9c 00	 cmp	 DWORD PTR tv67[ebp], 0
  0787e	75 07		 jne	 SHORT $LN15@SkillSummo

; 3944 : 	{
; 3945 : 		return false;

  07880	33 c0		 xor	 eax, eax
  07882	e9 99 04 00 00	 jmp	 $LN16@SkillSummo
$LN15@SkillSummo:

; 3946 : 	}
; 3947 : 
; 3948 : 	int iSummonCount = 1;

  07887	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _iSummonCount$[ebp], 1

; 3949 : 	int iSummonMonterType = 0;

  0788e	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iSummonMonterType$[ebp], 0

; 3950 : 	BYTE bDoSummon = 1;

  07895	c6 45 f3 01	 mov	 BYTE PTR _bDoSummon$[ebp], 1

; 3951 : 	BYTE bSummonSuccess = 0;

  07899	c6 45 f2 00	 mov	 BYTE PTR _bSummonSuccess$[ebp], 0

; 3952 : 	BYTE cSummonX = 0;

  0789d	c6 45 f1 00	 mov	 BYTE PTR _cSummonX$[ebp], 0

; 3953 : 	BYTE cSummonY = 0;

  078a1	c6 45 f0 00	 mov	 BYTE PTR _cSummonY$[ebp], 0

; 3954 : 
; 3955 : 	LPOBJ lpObj = &gObj[aIndex];

  078a5	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  078a8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  078ae	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  078b4	89 45 ec	 mov	 DWORD PTR _lpObj$[ebp], eax

; 3956 : 
; 3957 : 	switch(lpObj->Class)

  078b7	8b 45 ec	 mov	 eax, DWORD PTR _lpObj$[ebp]
  078ba	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  078c1	89 4d 9c	 mov	 DWORD PTR tv73[ebp], ecx
  078c4	8b 55 9c	 mov	 edx, DWORD PTR tv73[ebp]
  078c7	81 ea a1 00 00
	00		 sub	 edx, 161		; 000000a1H
  078cd	89 55 9c	 mov	 DWORD PTR tv73[ebp], edx
  078d0	83 7d 9c 72	 cmp	 DWORD PTR tv73[ebp], 114 ; 00000072H
  078d4	0f 87 38 01 00
	00		 ja	 $LN13@SkillSummo
  078da	8b 45 9c	 mov	 eax, DWORD PTR tv73[ebp]
  078dd	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR $LN20@SkillSummo[eax]
  078e4	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN28@SkillSummo[ecx*4]
$LN12@SkillSummo:

; 3958 : 	{
; 3959 : 	case 161:
; 3960 : 		iSummonMonterType = rand()%2+ 147;

  078eb	e8 00 00 00 00	 call	 _rand
  078f0	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  078f5	79 05		 jns	 SHORT $LN21@SkillSummo
  078f7	48		 dec	 eax
  078f8	83 c8 fe	 or	 eax, -2			; fffffffeH
  078fb	40		 inc	 eax
$LN21@SkillSummo:
  078fc	05 93 00 00 00	 add	 eax, 147		; 00000093H
  07901	89 45 f4	 mov	 DWORD PTR _iSummonMonterType$[ebp], eax

; 3961 : 		bDoSummon = (rand()%15) ? false : true;

  07904	e8 00 00 00 00	 call	 _rand
  07909	99		 cdq
  0790a	b9 0f 00 00 00	 mov	 ecx, 15			; 0000000fH
  0790f	f7 f9		 idiv	 ecx
  07911	85 d2		 test	 edx, edx
  07913	0f 94 c2	 sete	 dl
  07916	88 55 f3	 mov	 BYTE PTR _bDoSummon$[ebp], dl

; 3962 : 		break;

  07919	e9 f4 00 00 00	 jmp	 $LN13@SkillSummo
$LN11@SkillSummo:

; 3963 : 	case 181:
; 3964 : 		iSummonMonterType = rand()%2+ 177;

  0791e	e8 00 00 00 00	 call	 _rand
  07923	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  07928	79 05		 jns	 SHORT $LN22@SkillSummo
  0792a	48		 dec	 eax
  0792b	83 c8 fe	 or	 eax, -2			; fffffffeH
  0792e	40		 inc	 eax
$LN22@SkillSummo:
  0792f	05 b1 00 00 00	 add	 eax, 177		; 000000b1H
  07934	89 45 f4	 mov	 DWORD PTR _iSummonMonterType$[ebp], eax

; 3965 : 		bDoSummon = (rand()%15) ? false : true;

  07937	e8 00 00 00 00	 call	 _rand
  0793c	99		 cdq
  0793d	b9 0f 00 00 00	 mov	 ecx, 15			; 0000000fH
  07942	f7 f9		 idiv	 ecx
  07944	85 d2		 test	 edx, edx
  07946	0f 94 c2	 sete	 dl
  07949	88 55 f3	 mov	 BYTE PTR _bDoSummon$[ebp], dl

; 3966 : 		break;

  0794c	e9 c1 00 00 00	 jmp	 $LN13@SkillSummo
$LN10@SkillSummo:

; 3967 : 	case 189:
; 3968 : 		iSummonMonterType = rand()%2+ 185;

  07951	e8 00 00 00 00	 call	 _rand
  07956	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0795b	79 05		 jns	 SHORT $LN23@SkillSummo
  0795d	48		 dec	 eax
  0795e	83 c8 fe	 or	 eax, -2			; fffffffeH
  07961	40		 inc	 eax
$LN23@SkillSummo:
  07962	05 b9 00 00 00	 add	 eax, 185		; 000000b9H
  07967	89 45 f4	 mov	 DWORD PTR _iSummonMonterType$[ebp], eax

; 3969 : 		bDoSummon = (rand()%15) ? false : true;

  0796a	e8 00 00 00 00	 call	 _rand
  0796f	99		 cdq
  07970	b9 0f 00 00 00	 mov	 ecx, 15			; 0000000fH
  07975	f7 f9		 idiv	 ecx
  07977	85 d2		 test	 edx, edx
  07979	0f 94 c2	 sete	 dl
  0797c	88 55 f3	 mov	 BYTE PTR _bDoSummon$[ebp], dl

; 3970 : 		break;

  0797f	e9 8e 00 00 00	 jmp	 $LN13@SkillSummo
$LN9@SkillSummo:

; 3971 : 	case 197:
; 3972 : 		iSummonMonterType = rand()%2+ 193;

  07984	e8 00 00 00 00	 call	 _rand
  07989	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0798e	79 05		 jns	 SHORT $LN24@SkillSummo
  07990	48		 dec	 eax
  07991	83 c8 fe	 or	 eax, -2			; fffffffeH
  07994	40		 inc	 eax
$LN24@SkillSummo:
  07995	05 c1 00 00 00	 add	 eax, 193		; 000000c1H
  0799a	89 45 f4	 mov	 DWORD PTR _iSummonMonterType$[ebp], eax

; 3973 : 		bDoSummon = (rand()%15) ? false : true;

  0799d	e8 00 00 00 00	 call	 _rand
  079a2	99		 cdq
  079a3	b9 0f 00 00 00	 mov	 ecx, 15			; 0000000fH
  079a8	f7 f9		 idiv	 ecx
  079aa	85 d2		 test	 edx, edx
  079ac	0f 94 c2	 sete	 dl
  079af	88 55 f3	 mov	 BYTE PTR _bDoSummon$[ebp], dl

; 3974 : 		break;

  079b2	eb 5e		 jmp	 SHORT $LN13@SkillSummo
$LN8@SkillSummo:

; 3975 : 	case 267:
; 3976 : 		iSummonMonterType = rand()%2+ 263;

  079b4	e8 00 00 00 00	 call	 _rand
  079b9	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  079be	79 05		 jns	 SHORT $LN25@SkillSummo
  079c0	48		 dec	 eax
  079c1	83 c8 fe	 or	 eax, -2			; fffffffeH
  079c4	40		 inc	 eax
$LN25@SkillSummo:
  079c5	05 07 01 00 00	 add	 eax, 263		; 00000107H
  079ca	89 45 f4	 mov	 DWORD PTR _iSummonMonterType$[ebp], eax

; 3977 : 		bDoSummon = (rand()%15) ? false : true;

  079cd	e8 00 00 00 00	 call	 _rand
  079d2	99		 cdq
  079d3	b9 0f 00 00 00	 mov	 ecx, 15			; 0000000fH
  079d8	f7 f9		 idiv	 ecx
  079da	85 d2		 test	 edx, edx
  079dc	0f 94 c2	 sete	 dl
  079df	88 55 f3	 mov	 BYTE PTR _bDoSummon$[ebp], dl

; 3978 : 		break;

  079e2	eb 2e		 jmp	 SHORT $LN13@SkillSummo
$LN7@SkillSummo:

; 3979 : 	case 275:
; 3980 : 		iSummonMonterType = rand()%2+ 271;

  079e4	e8 00 00 00 00	 call	 _rand
  079e9	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  079ee	79 05		 jns	 SHORT $LN26@SkillSummo
  079f0	48		 dec	 eax
  079f1	83 c8 fe	 or	 eax, -2			; fffffffeH
  079f4	40		 inc	 eax
$LN26@SkillSummo:
  079f5	05 0f 01 00 00	 add	 eax, 271		; 0000010fH
  079fa	89 45 f4	 mov	 DWORD PTR _iSummonMonterType$[ebp], eax

; 3981 : 		bDoSummon = (rand()%15) ? false : true;

  079fd	e8 00 00 00 00	 call	 _rand
  07a02	99		 cdq
  07a03	b9 0f 00 00 00	 mov	 ecx, 15			; 0000000fH
  07a08	f7 f9		 idiv	 ecx
  07a0a	85 d2		 test	 edx, edx
  07a0c	0f 94 c2	 sete	 dl
  07a0f	88 55 f3	 mov	 BYTE PTR _bDoSummon$[ebp], dl
$LN13@SkillSummo:

; 3982 : 		break;
; 3983 : 	}
; 3984 : 
; 3985 : 	if(bDoSummon == false)

  07a12	0f b6 45 f3	 movzx	 eax, BYTE PTR _bDoSummon$[ebp]
  07a16	85 c0		 test	 eax, eax
  07a18	75 07		 jne	 SHORT $LN6@SkillSummo

; 3986 : 	{
; 3987 : 		return false;

  07a1a	33 c0		 xor	 eax, eax
  07a1c	e9 ff 02 00 00	 jmp	 $LN16@SkillSummo
$LN6@SkillSummo:

; 3988 : 	}
; 3989 : 
; 3990 : 	for(int iSC = 0; iSC < iSummonCount; iSC++)

  07a21	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iSC$241216[ebp], 0
  07a28	eb 09		 jmp	 SHORT $LN5@SkillSummo
$LN4@SkillSummo:
  07a2a	8b 45 e8	 mov	 eax, DWORD PTR _iSC$241216[ebp]
  07a2d	83 c0 01	 add	 eax, 1
  07a30	89 45 e8	 mov	 DWORD PTR _iSC$241216[ebp], eax
$LN5@SkillSummo:
  07a33	8b 45 e8	 mov	 eax, DWORD PTR _iSC$241216[ebp]
  07a36	3b 45 f8	 cmp	 eax, DWORD PTR _iSummonCount$[ebp]
  07a39	0f 8d a5 02 00
	00		 jge	 $LN3@SkillSummo

; 3991 : 	{
; 3992 : 		BYTE cSX = lpObj->X;

  07a3f	8b 45 ec	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07a42	8a 88 44 01 00
	00		 mov	 cl, BYTE PTR [eax+324]
  07a48	88 4d e7	 mov	 BYTE PTR _cSX$241220[ebp], cl

; 3993 : 		BYTE cSY = lpObj->Y;

  07a4b	8b 45 ec	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07a4e	8a 88 46 01 00
	00		 mov	 cl, BYTE PTR [eax+326]
  07a54	88 4d e6	 mov	 BYTE PTR _cSY$241221[ebp], cl

; 3994 : 
; 3995 : 		if(gObjGetRandomFreeLocation(lpObj->MapNumber,(BYTE &)cSX,(BYTE &)cSY,2,2,30)==1)

  07a57	6a 1e		 push	 30			; 0000001eH
  07a59	6a 02		 push	 2
  07a5b	6a 02		 push	 2
  07a5d	8d 45 e6	 lea	 eax, DWORD PTR _cSY$241221[ebp]
  07a60	50		 push	 eax
  07a61	8d 4d e7	 lea	 ecx, DWORD PTR _cSX$241220[ebp]
  07a64	51		 push	 ecx
  07a65	8b 55 ec	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07a68	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  07a6f	50		 push	 eax
  07a70	e8 00 00 00 00	 call	 ?gObjGetRandomFreeLocation@@YAHHAAE0HHH@Z ; gObjGetRandomFreeLocation
  07a75	83 c4 18	 add	 esp, 24			; 00000018H
  07a78	83 f8 01	 cmp	 eax, 1
  07a7b	0f 85 5e 02 00
	00		 jne	 $LN2@SkillSummo

; 3996 : 		{
; 3997 : 			int result = gObjAddMonster(lpObj->MapNumber);

  07a81	8b 45 ec	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07a84	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  07a8b	51		 push	 ecx
  07a8c	e8 00 00 00 00	 call	 ?gObjAddMonster@@YAFH@Z	; gObjAddMonster
  07a91	83 c4 04	 add	 esp, 4
  07a94	0f bf d0	 movsx	 edx, ax
  07a97	89 55 e0	 mov	 DWORD PTR _result$241225[ebp], edx

; 3998 : 
; 3999 : 			if(result >= 0)

  07a9a	83 7d e0 00	 cmp	 DWORD PTR _result$241225[ebp], 0
  07a9e	0f 8c 3b 02 00
	00		 jl	 $LN2@SkillSummo

; 4000 : 			{
; 4001 : 				gObj[result].m_PosNum = (WORD)-1;

  07aa4	8b 45 e0	 mov	 eax, DWORD PTR _result$241225[ebp]
  07aa7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07aad	83 c9 ff	 or	 ecx, -1
  07ab0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07ab6	66 89 8c 02 b0
	03 00 00	 mov	 WORD PTR [edx+eax+944], cx

; 4002 : 				gObj[result].X = cSX;

  07abe	66 0f b6 45 e7	 movzx	 ax, BYTE PTR _cSX$241220[ebp]
  07ac3	8b 4d e0	 mov	 ecx, DWORD PTR _result$241225[ebp]
  07ac6	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  07acc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07ad2	66 89 84 0a 44
	01 00 00	 mov	 WORD PTR [edx+ecx+324], ax

; 4003 : 				gObj[result].Y = cSY;

  07ada	66 0f b6 45 e6	 movzx	 ax, BYTE PTR _cSY$241221[ebp]
  07adf	8b 4d e0	 mov	 ecx, DWORD PTR _result$241225[ebp]
  07ae2	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  07ae8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07aee	66 89 84 0a 46
	01 00 00	 mov	 WORD PTR [edx+ecx+326], ax

; 4004 : 				gObj[result].MapNumber = lpObj->MapNumber;

  07af6	8b 45 e0	 mov	 eax, DWORD PTR _result$241225[ebp]
  07af9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07aff	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07b05	8b 55 ec	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07b08	8a 92 49 01 00
	00		 mov	 dl, BYTE PTR [edx+329]
  07b0e	88 94 01 49 01
	00 00		 mov	 BYTE PTR [ecx+eax+329], dl

; 4005 : 				gObj[result].TX = gObj[result].X;

  07b15	8b 45 e0	 mov	 eax, DWORD PTR _result$241225[ebp]
  07b18	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07b1e	8b 4d e0	 mov	 ecx, DWORD PTR _result$241225[ebp]
  07b21	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  07b27	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07b2d	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07b33	66 8b 84 06 44
	01 00 00	 mov	 ax, WORD PTR [esi+eax+324]
  07b3b	66 89 84 0a 7c
	01 00 00	 mov	 WORD PTR [edx+ecx+380], ax

; 4006 : 				gObj[result].TY = gObj[result].Y;

  07b43	8b 45 e0	 mov	 eax, DWORD PTR _result$241225[ebp]
  07b46	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07b4c	8b 4d e0	 mov	 ecx, DWORD PTR _result$241225[ebp]
  07b4f	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  07b55	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07b5b	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07b61	66 8b 84 06 46
	01 00 00	 mov	 ax, WORD PTR [esi+eax+326]
  07b69	66 89 84 0a 7e
	01 00 00	 mov	 WORD PTR [edx+ecx+382], ax

; 4007 : 				gObj[result].m_OldX = gObj[result].X;

  07b71	8b 45 e0	 mov	 eax, DWORD PTR _result$241225[ebp]
  07b74	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07b7a	8b 4d e0	 mov	 ecx, DWORD PTR _result$241225[ebp]
  07b7d	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  07b83	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07b89	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07b8f	66 8b 84 06 44
	01 00 00	 mov	 ax, WORD PTR [esi+eax+324]
  07b97	66 89 84 0a 78
	01 00 00	 mov	 WORD PTR [edx+ecx+376], ax

; 4008 : 				gObj[result].m_OldY = gObj[result].Y;

  07b9f	8b 45 e0	 mov	 eax, DWORD PTR _result$241225[ebp]
  07ba2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07ba8	8b 4d e0	 mov	 ecx, DWORD PTR _result$241225[ebp]
  07bab	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  07bb1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07bb7	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07bbd	66 8b 84 06 46
	01 00 00	 mov	 ax, WORD PTR [esi+eax+326]
  07bc5	66 89 84 0a 7a
	01 00 00	 mov	 WORD PTR [edx+ecx+378], ax

; 4009 : 				gObj[result].Dir = 1;

  07bcd	8b 45 e0	 mov	 eax, DWORD PTR _result$241225[ebp]
  07bd0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07bd6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07bdc	c6 84 01 48 01
	00 00 01	 mov	 BYTE PTR [ecx+eax+328], 1

; 4010 : 				gObj[result].StartX = gObj[result].X;

  07be4	8b 45 e0	 mov	 eax, DWORD PTR _result$241225[ebp]
  07be7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07bed	8b 4d e0	 mov	 ecx, DWORD PTR _result$241225[ebp]
  07bf0	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  07bf6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07bfc	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07c02	8a 84 06 44 01
	00 00		 mov	 al, BYTE PTR [esi+eax+324]
  07c09	88 84 0a 76 01
	00 00		 mov	 BYTE PTR [edx+ecx+374], al

; 4011 : 				gObj[result].StartY = gObj[result].Y;

  07c10	8b 45 e0	 mov	 eax, DWORD PTR _result$241225[ebp]
  07c13	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07c19	8b 4d e0	 mov	 ecx, DWORD PTR _result$241225[ebp]
  07c1c	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  07c22	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07c28	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07c2e	8a 84 06 46 01
	00 00		 mov	 al, BYTE PTR [esi+eax+326]
  07c35	88 84 0a 77 01
	00 00		 mov	 BYTE PTR [edx+ecx+375], al

; 4012 : 				gObjSetMonster(result,iSummonMonterType);

  07c3c	8b 45 f4	 mov	 eax, DWORD PTR _iSummonMonterType$[ebp]
  07c3f	50		 push	 eax
  07c40	8b 4d e0	 mov	 ecx, DWORD PTR _result$241225[ebp]
  07c43	51		 push	 ecx
  07c44	e8 00 00 00 00	 call	 ?gObjSetMonster@@YAHHH@Z ; gObjSetMonster
  07c49	83 c4 08	 add	 esp, 8

; 4013 : 				gObj[result].m_Attribute = 60;

  07c4c	8b 45 e0	 mov	 eax, DWORD PTR _result$241225[ebp]
  07c4f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07c55	b9 3c 00 00 00	 mov	 ecx, 60			; 0000003cH
  07c5a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07c60	66 89 8c 02 b6
	04 00 00	 mov	 WORD PTR [edx+eax+1206], cx

; 4014 : 				gObj[result].MaxRegenTime = 0;

  07c68	8b 45 e0	 mov	 eax, DWORD PTR _result$241225[ebp]
  07c6b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07c71	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07c77	c7 84 01 ac 03
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+940], 0

; 4015 : 				gObj[result].Dir = rand()%8;

  07c82	e8 00 00 00 00	 call	 _rand
  07c87	25 07 00 00 80	 and	 eax, -2147483641	; 80000007H
  07c8c	79 05		 jns	 SHORT $LN27@SkillSummo
  07c8e	48		 dec	 eax
  07c8f	83 c8 f8	 or	 eax, -8			; fffffff8H
  07c92	40		 inc	 eax
$LN27@SkillSummo:
  07c93	8b 4d e0	 mov	 ecx, DWORD PTR _result$241225[ebp]
  07c96	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  07c9c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07ca2	88 84 0a 48 01
	00 00		 mov	 BYTE PTR [edx+ecx+328], al

; 4016 : 				bSummonSuccess = 1;

  07ca9	c6 45 f2 01	 mov	 BYTE PTR _bSummonSuccess$[ebp], 1

; 4017 : 				cSummonX = gObj[result].StartX;

  07cad	8b 45 e0	 mov	 eax, DWORD PTR _result$241225[ebp]
  07cb0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07cb6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07cbc	8a 94 01 76 01
	00 00		 mov	 dl, BYTE PTR [ecx+eax+374]
  07cc3	88 55 f1	 mov	 BYTE PTR _cSummonX$[ebp], dl

; 4018 : 				cSummonY = gObj[result].StartY;

  07cc6	8b 45 e0	 mov	 eax, DWORD PTR _result$241225[ebp]
  07cc9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07ccf	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07cd5	8a 94 01 77 01
	00 00		 mov	 dl, BYTE PTR [ecx+eax+375]
  07cdc	88 55 f0	 mov	 BYTE PTR _cSummonY$[ebp], dl
$LN2@SkillSummo:

; 4019 : 			}
; 4020 : 		}
; 4021 : 	}

  07cdf	e9 46 fd ff ff	 jmp	 $LN4@SkillSummo
$LN3@SkillSummo:

; 4022 : 
; 4023 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_SUMMON,MAKE_NUMBERW(cSummonY, cSummonX),bSummonSuccess);

  07ce4	0f b6 45 f2	 movzx	 eax, BYTE PTR _bSummonSuccess$[ebp]
  07ce8	50		 push	 eax
  07ce9	0f b6 4d f1	 movzx	 ecx, BYTE PTR _cSummonX$[ebp]
  07ced	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  07cf3	0f b6 d1	 movzx	 edx, cl
  07cf6	0f b6 45 f0	 movzx	 eax, BYTE PTR _cSummonY$[ebp]
  07cfa	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  07cff	0f b6 c8	 movzx	 ecx, al
  07d02	c1 e1 08	 shl	 ecx, 8
  07d05	0b d1		 or	 edx, ecx
  07d07	0f b7 d2	 movzx	 edx, dx
  07d0a	52		 push	 edx
  07d0b	68 c8 00 00 00	 push	 200			; 000000c8H
  07d10	8b 45 ec	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07d13	50		 push	 eax
  07d14	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  07d19	83 c4 10	 add	 esp, 16			; 00000010H

; 4024 : 	return bSummonSuccess;

  07d1c	0f b6 45 f2	 movzx	 eax, BYTE PTR _bSummonSuccess$[ebp]
$LN16@SkillSummo:

; 4025 : }

  07d20	5f		 pop	 edi
  07d21	5e		 pop	 esi
  07d22	5b		 pop	 ebx
  07d23	8b e5		 mov	 esp, ebp
  07d25	5d		 pop	 ebp
  07d26	c2 0c 00	 ret	 12			; 0000000cH
  07d29	8d 49 00	 npad	 3
$LN28@SkillSummo:
  07d2c	00 00 00 00	 DD	 $LN12@SkillSummo
  07d30	00 00 00 00	 DD	 $LN11@SkillSummo
  07d34	00 00 00 00	 DD	 $LN10@SkillSummo
  07d38	00 00 00 00	 DD	 $LN9@SkillSummo
  07d3c	00 00 00 00	 DD	 $LN8@SkillSummo
  07d40	00 00 00 00	 DD	 $LN7@SkillSummo
  07d44	00 00 00 00	 DD	 $LN13@SkillSummo
$LN20@SkillSummo:
  07d48	00		 DB	 0
  07d49	06		 DB	 6
  07d4a	06		 DB	 6
  07d4b	06		 DB	 6
  07d4c	06		 DB	 6
  07d4d	06		 DB	 6
  07d4e	06		 DB	 6
  07d4f	06		 DB	 6
  07d50	06		 DB	 6
  07d51	06		 DB	 6
  07d52	06		 DB	 6
  07d53	06		 DB	 6
  07d54	06		 DB	 6
  07d55	06		 DB	 6
  07d56	06		 DB	 6
  07d57	06		 DB	 6
  07d58	06		 DB	 6
  07d59	06		 DB	 6
  07d5a	06		 DB	 6
  07d5b	06		 DB	 6
  07d5c	01		 DB	 1
  07d5d	06		 DB	 6
  07d5e	06		 DB	 6
  07d5f	06		 DB	 6
  07d60	06		 DB	 6
  07d61	06		 DB	 6
  07d62	06		 DB	 6
  07d63	06		 DB	 6
  07d64	02		 DB	 2
  07d65	06		 DB	 6
  07d66	06		 DB	 6
  07d67	06		 DB	 6
  07d68	06		 DB	 6
  07d69	06		 DB	 6
  07d6a	06		 DB	 6
  07d6b	06		 DB	 6
  07d6c	03		 DB	 3
  07d6d	06		 DB	 6
  07d6e	06		 DB	 6
  07d6f	06		 DB	 6
  07d70	06		 DB	 6
  07d71	06		 DB	 6
  07d72	06		 DB	 6
  07d73	06		 DB	 6
  07d74	06		 DB	 6
  07d75	06		 DB	 6
  07d76	06		 DB	 6
  07d77	06		 DB	 6
  07d78	06		 DB	 6
  07d79	06		 DB	 6
  07d7a	06		 DB	 6
  07d7b	06		 DB	 6
  07d7c	06		 DB	 6
  07d7d	06		 DB	 6
  07d7e	06		 DB	 6
  07d7f	06		 DB	 6
  07d80	06		 DB	 6
  07d81	06		 DB	 6
  07d82	06		 DB	 6
  07d83	06		 DB	 6
  07d84	06		 DB	 6
  07d85	06		 DB	 6
  07d86	06		 DB	 6
  07d87	06		 DB	 6
  07d88	06		 DB	 6
  07d89	06		 DB	 6
  07d8a	06		 DB	 6
  07d8b	06		 DB	 6
  07d8c	06		 DB	 6
  07d8d	06		 DB	 6
  07d8e	06		 DB	 6
  07d8f	06		 DB	 6
  07d90	06		 DB	 6
  07d91	06		 DB	 6
  07d92	06		 DB	 6
  07d93	06		 DB	 6
  07d94	06		 DB	 6
  07d95	06		 DB	 6
  07d96	06		 DB	 6
  07d97	06		 DB	 6
  07d98	06		 DB	 6
  07d99	06		 DB	 6
  07d9a	06		 DB	 6
  07d9b	06		 DB	 6
  07d9c	06		 DB	 6
  07d9d	06		 DB	 6
  07d9e	06		 DB	 6
  07d9f	06		 DB	 6
  07da0	06		 DB	 6
  07da1	06		 DB	 6
  07da2	06		 DB	 6
  07da3	06		 DB	 6
  07da4	06		 DB	 6
  07da5	06		 DB	 6
  07da6	06		 DB	 6
  07da7	06		 DB	 6
  07da8	06		 DB	 6
  07da9	06		 DB	 6
  07daa	06		 DB	 6
  07dab	06		 DB	 6
  07dac	06		 DB	 6
  07dad	06		 DB	 6
  07dae	06		 DB	 6
  07daf	06		 DB	 6
  07db0	06		 DB	 6
  07db1	06		 DB	 6
  07db2	04		 DB	 4
  07db3	06		 DB	 6
  07db4	06		 DB	 6
  07db5	06		 DB	 6
  07db6	06		 DB	 6
  07db7	06		 DB	 6
  07db8	06		 DB	 6
  07db9	06		 DB	 6
  07dba	05		 DB	 5
?SkillSummon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::SkillSummon
; Function compile flags: /Odtp /ZI
tv67 = -76						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?SkillImmuneToMagic@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillImmuneToMagic
; _this$ = ecx

; 4028 : {

  07dc0	55		 push	 ebp
  07dc1	8b ec		 mov	 ebp, esp
  07dc3	83 ec 4c	 sub	 esp, 76			; 0000004cH
  07dc6	53		 push	 ebx
  07dc7	56		 push	 esi
  07dc8	57		 push	 edi
  07dc9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4029 : 	if(OBJMAX_RANGE(aIndex) == false)

  07dcc	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  07dd0	7d 09		 jge	 SHORT $LN5@SkillImmun
  07dd2	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  07dd9	eb 0f		 jmp	 SHORT $LN6@SkillImmun
$LN5@SkillImmun:
  07ddb	33 c0		 xor	 eax, eax
  07ddd	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  07de4	0f 9e c0	 setle	 al
  07de7	89 45 b4	 mov	 DWORD PTR tv67[ebp], eax
$LN6@SkillImmun:
  07dea	83 7d b4 00	 cmp	 DWORD PTR tv67[ebp], 0
  07dee	75 04		 jne	 SHORT $LN2@SkillImmun

; 4030 : 	{
; 4031 : 		return false;

  07df0	33 c0		 xor	 eax, eax
  07df2	eb 5d		 jmp	 SHORT $LN3@SkillImmun
$LN2@SkillImmun:

; 4032 : 	}
; 4033 : 
; 4034 : 	LPOBJ lpObj = &gObj[aIndex];

  07df4	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  07df7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07dfd	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07e03	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4035 : 
; 4036 : 	if(gObjSearchActiveEffect(lpObj, AT_IMMUNE_MAGIC) == FALSE && gObjSearchActiveEffect(lpObj, AT_IMMUNE_HARM) == FALSE) //season3 add-on

  07e06	6a 3f		 push	 63			; 0000003fH
  07e08	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07e0b	50		 push	 eax
  07e0c	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  07e11	83 c4 08	 add	 esp, 8
  07e14	0f b6 c8	 movzx	 ecx, al
  07e17	85 c9		 test	 ecx, ecx
  07e19	75 34		 jne	 SHORT $LN1@SkillImmun
  07e1b	6a 40		 push	 64			; 00000040H
  07e1d	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07e20	50		 push	 eax
  07e21	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  07e26	83 c4 08	 add	 esp, 8
  07e29	0f b6 c8	 movzx	 ecx, al
  07e2c	85 c9		 test	 ecx, ecx
  07e2e	75 1f		 jne	 SHORT $LN1@SkillImmun

; 4037 : 	{
; 4038 : 		gObjApplyBuffEffectDuration(lpObj, AT_IMMUNE_MAGIC, 0, 0, 0, 0, 10); //season3 add-on

  07e30	6a 0a		 push	 10			; 0000000aH
  07e32	6a 00		 push	 0
  07e34	6a 00		 push	 0
  07e36	6a 00		 push	 0
  07e38	6a 00		 push	 0
  07e3a	6a 3f		 push	 63			; 0000003fH
  07e3c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07e3f	50		 push	 eax
  07e40	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  07e45	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4039 : 		return true;

  07e48	b8 01 00 00 00	 mov	 eax, 1
  07e4d	eb 02		 jmp	 SHORT $LN3@SkillImmun
$LN1@SkillImmun:

; 4040 : 	}
; 4041 : 
; 4042 : 	//GCMagicAttackNumberSend(lpObj,AT_SKILL_IMMUNE_TO_MAGIC,lpObj->m_Index,1);
; 4043 : 	return false;

  07e4f	33 c0		 xor	 eax, eax
$LN3@SkillImmun:

; 4044 : }

  07e51	5f		 pop	 edi
  07e52	5e		 pop	 esi
  07e53	5b		 pop	 ebx
  07e54	8b e5		 mov	 esp, ebp
  07e56	5d		 pop	 ebp
  07e57	c2 08 00	 ret	 8
?SkillImmuneToMagic@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillImmuneToMagic
; Function compile flags: /Odtp /ZI
tv67 = -76						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?SkillImmuneToHarm@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillImmuneToHarm
; _this$ = ecx

; 4047 : {

  07e60	55		 push	 ebp
  07e61	8b ec		 mov	 ebp, esp
  07e63	83 ec 4c	 sub	 esp, 76			; 0000004cH
  07e66	53		 push	 ebx
  07e67	56		 push	 esi
  07e68	57		 push	 edi
  07e69	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4048 : 	if(OBJMAX_RANGE(aIndex) == false)

  07e6c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  07e70	7d 09		 jge	 SHORT $LN5@SkillImmun@2
  07e72	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  07e79	eb 0f		 jmp	 SHORT $LN6@SkillImmun@2
$LN5@SkillImmun@2:
  07e7b	33 c0		 xor	 eax, eax
  07e7d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  07e84	0f 9e c0	 setle	 al
  07e87	89 45 b4	 mov	 DWORD PTR tv67[ebp], eax
$LN6@SkillImmun@2:
  07e8a	83 7d b4 00	 cmp	 DWORD PTR tv67[ebp], 0
  07e8e	75 04		 jne	 SHORT $LN2@SkillImmun@2

; 4049 : 	{
; 4050 : 		return false;

  07e90	33 c0		 xor	 eax, eax
  07e92	eb 5d		 jmp	 SHORT $LN3@SkillImmun@2
$LN2@SkillImmun@2:

; 4051 : 	}
; 4052 : 
; 4053 : 	LPOBJ lpObj = &gObj[aIndex];

  07e94	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  07e97	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07e9d	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07ea3	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4054 : 
; 4055 : 	if(gObjSearchActiveEffect(lpObj, AT_IMMUNE_MAGIC) == FALSE && gObjSearchActiveEffect(lpObj, AT_IMMUNE_HARM) == FALSE) //season3 add-on

  07ea6	6a 3f		 push	 63			; 0000003fH
  07ea8	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07eab	50		 push	 eax
  07eac	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  07eb1	83 c4 08	 add	 esp, 8
  07eb4	0f b6 c8	 movzx	 ecx, al
  07eb7	85 c9		 test	 ecx, ecx
  07eb9	75 34		 jne	 SHORT $LN1@SkillImmun@2
  07ebb	6a 40		 push	 64			; 00000040H
  07ebd	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07ec0	50		 push	 eax
  07ec1	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  07ec6	83 c4 08	 add	 esp, 8
  07ec9	0f b6 c8	 movzx	 ecx, al
  07ecc	85 c9		 test	 ecx, ecx
  07ece	75 1f		 jne	 SHORT $LN1@SkillImmun@2

; 4056 : 	{
; 4057 : 		gObjApplyBuffEffectDuration(lpObj, AT_IMMUNE_HARM, 0, 0, 0, 0, 10); //season3 add-on

  07ed0	6a 0a		 push	 10			; 0000000aH
  07ed2	6a 00		 push	 0
  07ed4	6a 00		 push	 0
  07ed6	6a 00		 push	 0
  07ed8	6a 00		 push	 0
  07eda	6a 40		 push	 64			; 00000040H
  07edc	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07edf	50		 push	 eax
  07ee0	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  07ee5	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4058 : 		return true;

  07ee8	b8 01 00 00 00	 mov	 eax, 1
  07eed	eb 02		 jmp	 SHORT $LN3@SkillImmun@2
$LN1@SkillImmun@2:

; 4059 : 	}
; 4060 : 
; 4061 : 	//GCMagicAttackNumberSend(lpObj,AT_SKILL_IMMUNE_TO_HARM,lpObj->m_Index,1);
; 4062 : 	return false;

  07eef	33 c0		 xor	 eax, eax
$LN3@SkillImmun@2:

; 4063 : }

  07ef1	5f		 pop	 edi
  07ef2	5e		 pop	 esi
  07ef3	5b		 pop	 ebx
  07ef4	8b e5		 mov	 esp, ebp
  07ef6	5d		 pop	 ebp
  07ef7	c2 08 00	 ret	 8
?SkillImmuneToHarm@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillImmuneToHarm
_TEXT	ENDS
PUBLIC	?RemoveSpecificSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@H@Z ; CObjUseSkill::RemoveSpecificSkillState
EXTRN	?gObjRemoveBuffEffect@@YAEPAUOBJECTSTRUCT@@H@Z:PROC ; gObjRemoveBuffEffect
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_iViewSkillState$ = -8					; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
_iSkillNumber$ = 12					; size = 4
?RemoveSpecificSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@H@Z PROC ; CObjUseSkill::RemoveSpecificSkillState
; _this$ = ecx

; 4066 : {

  07f00	55		 push	 ebp
  07f01	8b ec		 mov	 ebp, esp
  07f03	83 ec 48	 sub	 esp, 72			; 00000048H
  07f06	53		 push	 ebx
  07f07	56		 push	 esi
  07f08	57		 push	 edi
  07f09	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4067 : 	if(lpObj->Type != OBJ_USER)

  07f0c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07f0f	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  07f13	83 f9 01	 cmp	 ecx, 1
  07f16	74 04		 je	 SHORT $LN4@RemoveSpec

; 4068 : 	{
; 4069 : 		return false;

  07f18	33 c0		 xor	 eax, eax
  07f1a	eb 36		 jmp	 SHORT $LN5@RemoveSpec
$LN4@RemoveSpec:

; 4070 : 	}
; 4071 : 
; 4072 : 	int iViewSkillState = 0;

  07f1c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _iViewSkillState$[ebp], 0

; 4073 : 
; 4074 : 	if(iSkillNumber == AT_SKILL_ATTACK)

  07f23	83 7d 0c 1c	 cmp	 DWORD PTR _iSkillNumber$[ebp], 28 ; 0000001cH
  07f27	75 10		 jne	 SHORT $LN3@RemoveSpec

; 4075 : 	{
; 4076 : 		gObjRemoveBuffEffect(lpObj, AT_INCREASE_ATTACK); //season3 add-on

  07f29	6a 01		 push	 1
  07f2b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07f2e	50		 push	 eax
  07f2f	e8 00 00 00 00	 call	 ?gObjRemoveBuffEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjRemoveBuffEffect
  07f34	83 c4 08	 add	 esp, 8
  07f37	eb 14		 jmp	 SHORT $LN2@RemoveSpec
$LN3@RemoveSpec:

; 4077 : 	}
; 4078 : 	else if(iSkillNumber == AT_SKILL_DEFENSE)

  07f39	83 7d 0c 1b	 cmp	 DWORD PTR _iSkillNumber$[ebp], 27 ; 0000001bH
  07f3d	75 0e		 jne	 SHORT $LN2@RemoveSpec

; 4079 : 	{
; 4080 : 		gObjRemoveBuffEffect(lpObj, AT_INCREASE_DEFENSE); //season3 add-on

  07f3f	6a 02		 push	 2
  07f41	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07f44	50		 push	 eax
  07f45	e8 00 00 00 00	 call	 ?gObjRemoveBuffEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjRemoveBuffEffect
  07f4a	83 c4 08	 add	 esp, 8
$LN2@RemoveSpec:

; 4081 : 	}
; 4082 : 
; 4083 : 	return true;

  07f4d	b8 01 00 00 00	 mov	 eax, 1
$LN5@RemoveSpec:

; 4084 : }

  07f52	5f		 pop	 edi
  07f53	5e		 pop	 esi
  07f54	5b		 pop	 ebx
  07f55	8b e5		 mov	 esp, ebp
  07f57	5d		 pop	 ebp
  07f58	c2 08 00	 ret	 8
?RemoveSpecificSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@H@Z ENDP ; CObjUseSkill::RemoveSpecificSkillState
_TEXT	ENDS
PUBLIC	?RemoveAllCharacterInvalidMagicAndSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@@Z ; CObjUseSkill::RemoveAllCharacterInvalidMagicAndSkillState
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
?RemoveAllCharacterInvalidMagicAndSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@@Z PROC ; CObjUseSkill::RemoveAllCharacterInvalidMagicAndSkillState
; _this$ = ecx

; 4087 : {

  07f60	55		 push	 ebp
  07f61	8b ec		 mov	 ebp, esp
  07f63	83 ec 44	 sub	 esp, 68			; 00000044H
  07f66	53		 push	 ebx
  07f67	56		 push	 esi
  07f68	57		 push	 edi
  07f69	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4088 : 	if(lpObj->Type != OBJ_USER)

  07f6c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07f6f	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  07f73	83 f9 01	 cmp	 ecx, 1
  07f76	74 04		 je	 SHORT $LN1@RemoveAllC

; 4089 : 	{
; 4090 : 		return false;

  07f78	33 c0		 xor	 eax, eax
  07f7a	eb 1c		 jmp	 SHORT $LN2@RemoveAllC
$LN1@RemoveAllC:

; 4091 : 	}
; 4092 : 
; 4093 : 	lpObj->m_SkillAttackTime = 0;

  07f7c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07f7f	c6 80 28 04 00
	00 00		 mov	 BYTE PTR [eax+1064], 0

; 4094 : 	lpObj->m_SkillAttack = 0;

  07f86	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07f89	c7 80 24 04 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+1060], 0

; 4095 : 
; 4096 : 
; 4097 : 	return true;

  07f93	b8 01 00 00 00	 mov	 eax, 1
$LN2@RemoveAllC:

; 4098 : }

  07f98	5f		 pop	 edi
  07f99	5e		 pop	 esi
  07f9a	5b		 pop	 ebx
  07f9b	8b e5		 mov	 esp, ebp
  07f9d	5d		 pop	 ebp
  07f9e	c2 04 00	 ret	 4
?RemoveAllCharacterInvalidMagicAndSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@@Z ENDP ; CObjUseSkill::RemoveAllCharacterInvalidMagicAndSkillState
; Function compile flags: /Odtp /ZI
tv67 = -76						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillKnightRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillKnightRush
; _this$ = ecx

; 4101 : {

  07fb0	55		 push	 ebp
  07fb1	8b ec		 mov	 ebp, esp
  07fb3	83 ec 4c	 sub	 esp, 76			; 0000004cH
  07fb6	53		 push	 ebx
  07fb7	56		 push	 esi
  07fb8	57		 push	 edi
  07fb9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4102 : 	if(OBJMAX_RANGE(aIndex) == false)

  07fbc	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  07fc0	7d 09		 jge	 SHORT $LN6@SkillKnigh@2
  07fc2	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  07fc9	eb 0f		 jmp	 SHORT $LN7@SkillKnigh@2
$LN6@SkillKnigh@2:
  07fcb	33 c0		 xor	 eax, eax
  07fcd	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  07fd4	0f 9e c0	 setle	 al
  07fd7	89 45 b4	 mov	 DWORD PTR tv67[ebp], eax
$LN7@SkillKnigh@2:
  07fda	83 7d b4 00	 cmp	 DWORD PTR tv67[ebp], 0
  07fde	75 07		 jne	 SHORT $LN3@SkillKnigh@2

; 4103 : 	{
; 4104 : 		return false;

  07fe0	33 c0		 xor	 eax, eax
  07fe2	e9 88 00 00 00	 jmp	 $LN4@SkillKnigh@2
$LN3@SkillKnigh@2:

; 4105 : 	}
; 4106 : 
; 4107 : 	LPOBJ lpObj = &gObj[aIndex];

  07fe7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  07fea	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  07ff0	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  07ff6	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4108 : 	//int ExBKCSSKill = GetPrivateProfileInt("CastleSkills","CastleSkillsOnNormal",0,"..\\Data\\ExData\\Skills.ini");
; 4109 : 	if(!ExConfig.Character.CastleSiegeSkillEnable)

  07ff9	83 3d 3c 01 00
	00 00		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A+316, 0
  08000	75 22		 jne	 SHORT $LN2@SkillKnigh@2

; 4110 : 	{
; 4111 : 		if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  08002	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08005	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0800c	83 f9 1e	 cmp	 ecx, 30			; 0000001eH
  0800f	74 13		 je	 SHORT $LN2@SkillKnigh@2
  08011	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08014	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0801b	83 f9 1f	 cmp	 ecx, 31			; 0000001fH
  0801e	74 04		 je	 SHORT $LN2@SkillKnigh@2

; 4112 : 		{
; 4113 : 			return false;

  08020	33 c0		 xor	 eax, eax
  08022	eb 4b		 jmp	 SHORT $LN4@SkillKnigh@2
$LN2@SkillKnigh@2:

; 4114 : 		}
; 4115 : 	}
; 4116 : 
; 4117 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  08024	6a 01		 push	 1
  08026	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  08029	50		 push	 eax
  0802a	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0802d	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  08031	52		 push	 edx
  08032	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08035	50		 push	 eax
  08036	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0803b	83 c4 10	 add	 esp, 16			; 00000010H

; 4118 : 	gObjAttack(lpObj,&gObj[aTargetIndex],lpMagic,0,1,0,0,0,0);

  0803e	6a 00		 push	 0
  08040	6a 00		 push	 0
  08042	6a 00		 push	 0
  08044	6a 00		 push	 0
  08046	6a 01		 push	 1
  08048	6a 00		 push	 0
  0804a	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0804d	50		 push	 eax
  0804e	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  08051	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  08057	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0805d	51		 push	 ecx
  0805e	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08061	52		 push	 edx
  08062	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  08067	83 c4 24	 add	 esp, 36			; 00000024H

; 4119 : 	return true;

  0806a	b8 01 00 00 00	 mov	 eax, 1
$LN4@SkillKnigh@2:

; 4120 : }

  0806f	5f		 pop	 edi
  08070	5e		 pop	 esi
  08071	5b		 pop	 ebx
  08072	8b e5		 mov	 esp, ebp
  08074	5d		 pop	 ebp
  08075	c2 0c 00	 ret	 12			; 0000000cH
?SkillKnightRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillKnightRush
; Function compile flags: /Odtp /ZI
tv67 = -80						; size = 4
_iDelay$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillWizardJavalin@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillWizardJavalin
; _this$ = ecx

; 4126 : {

  08080	55		 push	 ebp
  08081	8b ec		 mov	 ebp, esp
  08083	83 ec 50	 sub	 esp, 80			; 00000050H
  08086	53		 push	 ebx
  08087	56		 push	 esi
  08088	57		 push	 edi
  08089	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4127 : 	if(OBJMAX_RANGE(aIndex) == false)

  0808c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  08090	7d 09		 jge	 SHORT $LN6@SkillWizar
  08092	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  08099	eb 0f		 jmp	 SHORT $LN7@SkillWizar
$LN6@SkillWizar:
  0809b	33 c0		 xor	 eax, eax
  0809d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  080a4	0f 9e c0	 setle	 al
  080a7	89 45 b0	 mov	 DWORD PTR tv67[ebp], eax
$LN7@SkillWizar:
  080aa	83 7d b0 00	 cmp	 DWORD PTR tv67[ebp], 0
  080ae	75 07		 jne	 SHORT $LN3@SkillWizar

; 4128 : 	{
; 4129 : 		return false;

  080b0	33 c0		 xor	 eax, eax
  080b2	e9 a7 00 00 00	 jmp	 $LN4@SkillWizar
$LN3@SkillWizar:

; 4130 : 	}
; 4131 : 
; 4132 : 	LPOBJ lpObj = &gObj[aIndex];

  080b7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  080ba	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  080c0	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  080c6	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4133 : 	//int ExBKCSSKill = GetPrivateProfileInt("CastleSkills","CastleSkillsOnNormal",0,"..\\Data\\ExData\\Skills.ini");
; 4134 : 	if(!ExConfig.Character.CastleSiegeSkillEnable)

  080c9	83 3d 3c 01 00
	00 00		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A+316, 0
  080d0	75 22		 jne	 SHORT $LN2@SkillWizar

; 4135 : 	{
; 4136 : 		if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  080d2	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  080d5	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  080dc	83 f9 1e	 cmp	 ecx, 30			; 0000001eH
  080df	74 13		 je	 SHORT $LN2@SkillWizar
  080e1	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  080e4	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  080eb	83 f9 1f	 cmp	 ecx, 31			; 0000001fH
  080ee	74 04		 je	 SHORT $LN2@SkillWizar

; 4137 : 		{
; 4138 : 			return false;

  080f0	33 c0		 xor	 eax, eax
  080f2	eb 6a		 jmp	 SHORT $LN4@SkillWizar
$LN2@SkillWizar:

; 4139 : 		}
; 4140 : 	}
; 4141 : 
; 4142 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  080f4	6a 01		 push	 1
  080f6	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  080f9	50		 push	 eax
  080fa	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  080fd	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  08101	52		 push	 edx
  08102	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08105	50		 push	 eax
  08106	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0810b	83 c4 10	 add	 esp, 16			; 00000010H

; 4143 : 
; 4144 : 	int iDelay = 500;

  0810e	c7 45 f4 f4 01
	00 00		 mov	 DWORD PTR _iDelay$[ebp], 500 ; 000001f4H

; 4145 : 
; 4146 : 	gObjAddAttackProcMsgSendDelay(lpObj,50,aTargetIndex,iDelay,lpMagic->m_Skill,0);

  08115	6a 00		 push	 0
  08117	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0811a	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0811d	51		 push	 ecx
  0811e	8b 55 f4	 mov	 edx, DWORD PTR _iDelay$[ebp]
  08121	52		 push	 edx
  08122	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  08125	50		 push	 eax
  08126	6a 32		 push	 50			; 00000032H
  08128	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0812b	51		 push	 ecx
  0812c	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  08131	83 c4 18	 add	 esp, 24			; 00000018H

; 4147 : 	gObjAddAttackProcMsgSendDelay(lpObj,50,aTargetIndex,iDelay+200,lpMagic->m_Skill,0);

  08134	6a 00		 push	 0
  08136	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  08139	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0813c	51		 push	 ecx
  0813d	8b 55 f4	 mov	 edx, DWORD PTR _iDelay$[ebp]
  08140	81 c2 c8 00 00
	00		 add	 edx, 200		; 000000c8H
  08146	52		 push	 edx
  08147	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0814a	50		 push	 eax
  0814b	6a 32		 push	 50			; 00000032H
  0814d	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08150	51		 push	 ecx
  08151	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  08156	83 c4 18	 add	 esp, 24			; 00000018H

; 4148 : 	return true;

  08159	b8 01 00 00 00	 mov	 eax, 1
$LN4@SkillWizar:

; 4149 : }

  0815e	5f		 pop	 edi
  0815f	5e		 pop	 esi
  08160	5b		 pop	 ebx
  08161	8b e5		 mov	 esp, ebp
  08163	5d		 pop	 ebp
  08164	c2 0c 00	 ret	 12			; 0000000cH
?SkillWizardJavalin@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillWizardJavalin
; Function compile flags: /Odtp /ZI
tv67 = -76						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillElfRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::SkillElfRush
; _this$ = ecx

; 4155 : {

  08170	55		 push	 ebp
  08171	8b ec		 mov	 ebp, esp
  08173	83 ec 4c	 sub	 esp, 76			; 0000004cH
  08176	53		 push	 ebx
  08177	56		 push	 esi
  08178	57		 push	 edi
  08179	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4156 : 	if(OBJMAX_RANGE(aIndex) == false)

  0817c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  08180	7d 09		 jge	 SHORT $LN6@SkillElfRu
  08182	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  08189	eb 0f		 jmp	 SHORT $LN7@SkillElfRu
$LN6@SkillElfRu:
  0818b	33 c0		 xor	 eax, eax
  0818d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  08194	0f 9e c0	 setle	 al
  08197	89 45 b4	 mov	 DWORD PTR tv67[ebp], eax
$LN7@SkillElfRu:
  0819a	83 7d b4 00	 cmp	 DWORD PTR tv67[ebp], 0
  0819e	75 04		 jne	 SHORT $LN3@SkillElfRu

; 4157 : 	{
; 4158 : 		return false;

  081a0	33 c0		 xor	 eax, eax
  081a2	eb 7c		 jmp	 SHORT $LN4@SkillElfRu
$LN3@SkillElfRu:

; 4159 : 	}
; 4160 : 
; 4161 : 	LPOBJ lpObj = &gObj[aIndex];

  081a4	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  081a7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  081ad	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  081b3	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4162 : 
; 4163 : 	//int ExBKCSSKill = GetPrivateProfileInt("CastleSkills","CastleSkillsOnNormal",0,"..\\Data\\ExData\\Skills.ini");
; 4164 : 	if(!ExConfig.Character.CastleSiegeSkillEnable)

  081b6	83 3d 3c 01 00
	00 00		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A+316, 0
  081bd	75 22		 jne	 SHORT $LN2@SkillElfRu

; 4165 : 	{
; 4166 : 		if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  081bf	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  081c2	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  081c9	83 f9 1e	 cmp	 ecx, 30			; 0000001eH
  081cc	74 13		 je	 SHORT $LN2@SkillElfRu
  081ce	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  081d1	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  081d8	83 f9 1f	 cmp	 ecx, 31			; 0000001fH
  081db	74 04		 je	 SHORT $LN2@SkillElfRu

; 4167 : 		{
; 4168 : 			return false;

  081dd	33 c0		 xor	 eax, eax
  081df	eb 3f		 jmp	 SHORT $LN4@SkillElfRu
$LN2@SkillElfRu:

; 4169 : 		}
; 4170 : 	}
; 4171 : 
; 4172 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  081e1	6a 01		 push	 1
  081e3	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  081e6	50		 push	 eax
  081e7	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  081ea	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  081ee	52		 push	 edx
  081ef	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  081f2	50		 push	 eax
  081f3	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  081f8	83 c4 10	 add	 esp, 16			; 00000010H

; 4173 : 	gObjAddAttackProcMsgSendDelay(lpObj,50,aTargetIndex,800,lpMagic->m_Skill,0);

  081fb	6a 00		 push	 0
  081fd	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  08200	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  08203	51		 push	 ecx
  08204	68 20 03 00 00	 push	 800			; 00000320H
  08209	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0820c	52		 push	 edx
  0820d	6a 32		 push	 50			; 00000032H
  0820f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08212	50		 push	 eax
  08213	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  08218	83 c4 18	 add	 esp, 24			; 00000018H

; 4174 : 	return true;

  0821b	b8 01 00 00 00	 mov	 eax, 1
$LN4@SkillElfRu:

; 4175 : }

  08220	5f		 pop	 edi
  08221	5e		 pop	 esi
  08222	5b		 pop	 ebx
  08223	8b e5		 mov	 esp, ebp
  08225	5d		 pop	 ebp
  08226	c2 0c 00	 ret	 12			; 0000000cH
?SkillElfRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::SkillElfRush
; Function compile flags: /Odtp /ZI
tv67 = -76						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillMagumOneFlash@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillMagumOneFlash
; _this$ = ecx

; 4181 : {

  08230	55		 push	 ebp
  08231	8b ec		 mov	 ebp, esp
  08233	83 ec 4c	 sub	 esp, 76			; 0000004cH
  08236	53		 push	 ebx
  08237	56		 push	 esi
  08238	57		 push	 edi
  08239	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4182 : 	if(OBJMAX_RANGE(aIndex) == false)

  0823c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  08240	7d 09		 jge	 SHORT $LN6@SkillMagum
  08242	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  08249	eb 0f		 jmp	 SHORT $LN7@SkillMagum
$LN6@SkillMagum:
  0824b	33 c0		 xor	 eax, eax
  0824d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  08254	0f 9e c0	 setle	 al
  08257	89 45 b4	 mov	 DWORD PTR tv67[ebp], eax
$LN7@SkillMagum:
  0825a	83 7d b4 00	 cmp	 DWORD PTR tv67[ebp], 0
  0825e	75 07		 jne	 SHORT $LN3@SkillMagum

; 4183 : 	{
; 4184 : 		return false;

  08260	33 c0		 xor	 eax, eax
  08262	e9 a5 00 00 00	 jmp	 $LN4@SkillMagum
$LN3@SkillMagum:

; 4185 : 	}
; 4186 : 
; 4187 : 	LPOBJ lpObj = &gObj[aIndex];

  08267	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0826a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08270	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08276	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4188 : 	//int ExBKCSSKill = GetPrivateProfileInt("CastleSkills","CastleSkillsOnNormal",0,"..\\Data\\ExData\\Skills.ini");
; 4189 : 	if(!ExConfig.Character.CastleSiegeSkillEnable)

  08279	83 3d 3c 01 00
	00 00		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A+316, 0
  08280	75 22		 jne	 SHORT $LN2@SkillMagum

; 4190 : 	{
; 4191 : 		if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  08282	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08285	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0828c	83 f9 1e	 cmp	 ecx, 30			; 0000001eH
  0828f	74 13		 je	 SHORT $LN2@SkillMagum
  08291	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08294	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0829b	83 f9 1f	 cmp	 ecx, 31			; 0000001fH
  0829e	74 04		 je	 SHORT $LN2@SkillMagum

; 4192 : 		{
; 4193 : 			return false;

  082a0	33 c0		 xor	 eax, eax
  082a2	eb 68		 jmp	 SHORT $LN4@SkillMagum
$LN2@SkillMagum:

; 4194 : 		}
; 4195 : 	}
; 4196 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  082a4	6a 01		 push	 1
  082a6	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  082a9	50		 push	 eax
  082aa	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  082ad	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  082b1	52		 push	 edx
  082b2	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  082b5	50		 push	 eax
  082b6	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  082bb	83 c4 10	 add	 esp, 16			; 00000010H

; 4197 : 	gObjAttack(lpObj,&gObj[aTargetIndex],lpMagic,0,1,0,0,0,0);

  082be	6a 00		 push	 0
  082c0	6a 00		 push	 0
  082c2	6a 00		 push	 0
  082c4	6a 00		 push	 0
  082c6	6a 01		 push	 1
  082c8	6a 00		 push	 0
  082ca	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  082cd	50		 push	 eax
  082ce	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  082d1	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  082d7	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  082dd	51		 push	 ecx
  082de	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  082e1	52		 push	 edx
  082e2	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  082e7	83 c4 24	 add	 esp, 36			; 00000024H

; 4198 : 	gObjAddAttackProcMsgSendDelay(lpObj,50,aTargetIndex,100,lpMagic->m_Skill,0);

  082ea	6a 00		 push	 0
  082ec	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  082ef	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  082f2	51		 push	 ecx
  082f3	6a 64		 push	 100			; 00000064H
  082f5	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  082f8	52		 push	 edx
  082f9	6a 32		 push	 50			; 00000032H
  082fb	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  082fe	50		 push	 eax
  082ff	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  08304	83 c4 18	 add	 esp, 24			; 00000018H

; 4199 : 	return true;

  08307	b8 01 00 00 00	 mov	 eax, 1
$LN4@SkillMagum:

; 4200 : }

  0830c	5f		 pop	 edi
  0830d	5e		 pop	 esi
  0830e	5b		 pop	 ebx
  0830f	8b e5		 mov	 esp, ebp
  08311	5d		 pop	 ebp
  08312	c2 0c 00	 ret	 12			; 0000000cH
?SkillMagumOneFlash@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillMagumOneFlash
; Function compile flags: /Odtp /ZI
tv67 = -76						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillMagumDeathCannon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillMagumDeathCannon
; _this$ = ecx

; 4206 : {

  08320	55		 push	 ebp
  08321	8b ec		 mov	 ebp, esp
  08323	83 ec 4c	 sub	 esp, 76			; 0000004cH
  08326	53		 push	 ebx
  08327	56		 push	 esi
  08328	57		 push	 edi
  08329	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4207 : 	if(OBJMAX_RANGE(aIndex) == false)

  0832c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  08330	7d 09		 jge	 SHORT $LN6@SkillMagum@2
  08332	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  08339	eb 0f		 jmp	 SHORT $LN7@SkillMagum@2
$LN6@SkillMagum@2:
  0833b	33 c0		 xor	 eax, eax
  0833d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  08344	0f 9e c0	 setle	 al
  08347	89 45 b4	 mov	 DWORD PTR tv67[ebp], eax
$LN7@SkillMagum@2:
  0834a	83 7d b4 00	 cmp	 DWORD PTR tv67[ebp], 0
  0834e	75 07		 jne	 SHORT $LN3@SkillMagum@2

; 4208 : 	{
; 4209 : 		return false;

  08350	33 c0		 xor	 eax, eax
  08352	e9 88 00 00 00	 jmp	 $LN4@SkillMagum@2
$LN3@SkillMagum@2:

; 4210 : 	}
; 4211 : 
; 4212 : 	LPOBJ lpObj = &gObj[aIndex];

  08357	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0835a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08360	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08366	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4213 : 	//int ExBKCSSKill = GetPrivateProfileInt("CastleSkills","CastleSkillsOnNormal",0,"..\\Data\\ExData\\Skills.ini");
; 4214 : 	if(!ExConfig.Character.CastleSiegeSkillEnable)

  08369	83 3d 3c 01 00
	00 00		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A+316, 0
  08370	75 22		 jne	 SHORT $LN2@SkillMagum@2

; 4215 : 	{
; 4216 : 		if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  08372	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08375	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0837c	83 f9 1e	 cmp	 ecx, 30			; 0000001eH
  0837f	74 13		 je	 SHORT $LN2@SkillMagum@2
  08381	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08384	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0838b	83 f9 1f	 cmp	 ecx, 31			; 0000001fH
  0838e	74 04		 je	 SHORT $LN2@SkillMagum@2

; 4217 : 		{
; 4218 : 			return false;

  08390	33 c0		 xor	 eax, eax
  08392	eb 4b		 jmp	 SHORT $LN4@SkillMagum@2
$LN2@SkillMagum@2:

; 4219 : 		}
; 4220 : 	}
; 4221 : 
; 4222 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  08394	6a 01		 push	 1
  08396	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  08399	50		 push	 eax
  0839a	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0839d	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  083a1	52		 push	 edx
  083a2	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  083a5	50		 push	 eax
  083a6	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  083ab	83 c4 10	 add	 esp, 16			; 00000010H

; 4223 : 	gObjAttack(lpObj,&gObj[aTargetIndex],lpMagic,0,1,0,0,0,0);

  083ae	6a 00		 push	 0
  083b0	6a 00		 push	 0
  083b2	6a 00		 push	 0
  083b4	6a 00		 push	 0
  083b6	6a 01		 push	 1
  083b8	6a 00		 push	 0
  083ba	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  083bd	50		 push	 eax
  083be	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  083c1	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  083c7	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  083cd	51		 push	 ecx
  083ce	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  083d1	52		 push	 edx
  083d2	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  083d7	83 c4 24	 add	 esp, 36			; 00000024H

; 4224 : 	return true;

  083da	b8 01 00 00 00	 mov	 eax, 1
$LN4@SkillMagum@2:

; 4225 : }

  083df	5f		 pop	 edi
  083e0	5e		 pop	 esi
  083e1	5b		 pop	 ebx
  083e2	8b e5		 mov	 esp, ebp
  083e4	5d		 pop	 ebp
  083e5	c2 0c 00	 ret	 12			; 0000000cH
?SkillMagumDeathCannon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillMagumDeathCannon
; Function compile flags: /Odtp /ZI
tv67 = -76						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillDarklordSpaceSplit@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillDarklordSpaceSplit
; _this$ = ecx

; 4231 : {

  083f0	55		 push	 ebp
  083f1	8b ec		 mov	 ebp, esp
  083f3	83 ec 4c	 sub	 esp, 76			; 0000004cH
  083f6	53		 push	 ebx
  083f7	56		 push	 esi
  083f8	57		 push	 edi
  083f9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4232 : 	if(OBJMAX_RANGE(aIndex) == false)

  083fc	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  08400	7d 09		 jge	 SHORT $LN6@SkillDarkl
  08402	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  08409	eb 0f		 jmp	 SHORT $LN7@SkillDarkl
$LN6@SkillDarkl:
  0840b	33 c0		 xor	 eax, eax
  0840d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  08414	0f 9e c0	 setle	 al
  08417	89 45 b4	 mov	 DWORD PTR tv67[ebp], eax
$LN7@SkillDarkl:
  0841a	83 7d b4 00	 cmp	 DWORD PTR tv67[ebp], 0
  0841e	75 04		 jne	 SHORT $LN3@SkillDarkl

; 4233 : 	{
; 4234 : 		return false;

  08420	33 c0		 xor	 eax, eax
  08422	eb 7c		 jmp	 SHORT $LN4@SkillDarkl
$LN3@SkillDarkl:

; 4235 : 	}
; 4236 : 
; 4237 : 	LPOBJ lpObj = &gObj[aIndex];

  08424	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  08427	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0842d	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08433	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4238 : 
; 4239 : 	//int ExBKCSSKill = GetPrivateProfileInt("CastleSkills","CastleSkillsOnNormal",0,"..\\Data\\ExData\\Skills.ini");
; 4240 : 	if(!ExConfig.Character.CastleSiegeSkillEnable)

  08436	83 3d 3c 01 00
	00 00		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A+316, 0
  0843d	75 22		 jne	 SHORT $LN2@SkillDarkl

; 4241 : 	{
; 4242 : 		if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  0843f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08442	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  08449	83 f9 1e	 cmp	 ecx, 30			; 0000001eH
  0844c	74 13		 je	 SHORT $LN2@SkillDarkl
  0844e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08451	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  08458	83 f9 1f	 cmp	 ecx, 31			; 0000001fH
  0845b	74 04		 je	 SHORT $LN2@SkillDarkl

; 4243 : 		{
; 4244 : 			return false;

  0845d	33 c0		 xor	 eax, eax
  0845f	eb 3f		 jmp	 SHORT $LN4@SkillDarkl
$LN2@SkillDarkl:

; 4245 : 		}
; 4246 : 	}
; 4247 : 
; 4248 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  08461	6a 01		 push	 1
  08463	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  08466	50		 push	 eax
  08467	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0846a	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  0846e	52		 push	 edx
  0846f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08472	50		 push	 eax
  08473	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  08478	83 c4 10	 add	 esp, 16			; 00000010H

; 4249 : 	gObjAddAttackProcMsgSendDelay(lpObj,50,aTargetIndex,500,lpMagic->m_Skill,0);

  0847b	6a 00		 push	 0
  0847d	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  08480	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  08483	51		 push	 ecx
  08484	68 f4 01 00 00	 push	 500			; 000001f4H
  08489	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0848c	52		 push	 edx
  0848d	6a 32		 push	 50			; 00000032H
  0848f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08492	50		 push	 eax
  08493	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  08498	83 c4 18	 add	 esp, 24			; 00000018H

; 4250 : 	return true;

  0849b	b8 01 00 00 00	 mov	 eax, 1
$LN4@SkillDarkl:

; 4251 : }

  084a0	5f		 pop	 edi
  084a1	5e		 pop	 esi
  084a2	5b		 pop	 ebx
  084a3	8b e5		 mov	 esp, ebp
  084a5	5d		 pop	 ebp
  084a6	c2 0c 00	 ret	 12			; 0000000cH
?SkillDarklordSpaceSplit@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillDarklordSpaceSplit
; Function compile flags: /Odtp /ZI
tv134 = -84						; size = 4
tv67 = -84						; size = 4
_count$ = -16						; size = 4
_tObjNum$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillBrandOfSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillBrandOfSkill
; _this$ = ecx

; 4254 : {

  084b0	55		 push	 ebp
  084b1	8b ec		 mov	 ebp, esp
  084b3	83 ec 54	 sub	 esp, 84			; 00000054H
  084b6	53		 push	 ebx
  084b7	56		 push	 esi
  084b8	57		 push	 edi
  084b9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4255 : 	if(OBJMAX_RANGE(aIndex) == false)

  084bc	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  084c0	7d 09		 jge	 SHORT $LN12@SkillBrand
  084c2	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  084c9	eb 0f		 jmp	 SHORT $LN13@SkillBrand
$LN12@SkillBrand:
  084cb	33 c0		 xor	 eax, eax
  084cd	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  084d4	0f 9e c0	 setle	 al
  084d7	89 45 ac	 mov	 DWORD PTR tv67[ebp], eax
$LN13@SkillBrand:
  084da	83 7d ac 00	 cmp	 DWORD PTR tv67[ebp], 0
  084de	75 07		 jne	 SHORT $LN9@SkillBrand

; 4256 : 	{
; 4257 : 		return false;

  084e0	33 c0		 xor	 eax, eax
  084e2	e9 54 01 00 00	 jmp	 $LN10@SkillBrand
$LN9@SkillBrand:

; 4258 : 	}
; 4259 : 
; 4260 : 	LPOBJ lpObj = &gObj[aIndex];

  084e7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  084ea	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  084f0	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  084f6	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4261 : 	int tObjNum;
; 4262 : 
; 4263 : 	if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  084f9	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  084fc	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  08503	83 f9 1e	 cmp	 ecx, 30			; 0000001eH
  08506	74 16		 je	 SHORT $LN8@SkillBrand
  08508	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0850b	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  08512	83 f9 1f	 cmp	 ecx, 31			; 0000001fH
  08515	74 07		 je	 SHORT $LN8@SkillBrand

; 4264 : 	{
; 4265 : 		return false;

  08517	33 c0		 xor	 eax, eax
  08519	e9 1d 01 00 00	 jmp	 $LN10@SkillBrand
$LN8@SkillBrand:

; 4266 : 	}
; 4267 : 
; 4268 : 	int count = 0;

  0851e	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 4269 : 
; 4270 : 	gObjApplyBuffEffectDuration(lpObj, AT_DARK_ROD_SKILL, 0, 0, 0, 0, 10); //season3 add-on

  08525	6a 0a		 push	 10			; 0000000aH
  08527	6a 00		 push	 0
  08529	6a 00		 push	 0
  0852b	6a 00		 push	 0
  0852d	6a 00		 push	 0
  0852f	6a 13		 push	 19			; 00000013H
  08531	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08534	50		 push	 eax
  08535	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0853a	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4271 : 
; 4272 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_BRAND_OF_SKILL,lpObj->m_Index,1);

  0853d	6a 01		 push	 1
  0853f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08542	8b 08		 mov	 ecx, DWORD PTR [eax]
  08544	51		 push	 ecx
  08545	6a 4b		 push	 75			; 0000004bH
  08547	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0854a	52		 push	 edx
  0854b	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  08550	83 c4 10	 add	 esp, 16			; 00000010H
$LN7@SkillBrand:

; 4273 : 
; 4274 : 	while( true )

  08553	b8 01 00 00 00	 mov	 eax, 1
  08558	85 c0		 test	 eax, eax
  0855a	0f 84 d6 00 00
	00		 je	 $LN6@SkillBrand

; 4275 : 	{
; 4276 : 		if(lpObj->VpPlayer2[count].state != 0)

  08560	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  08563	6b c0 0c	 imul	 eax, 12			; 0000000cH
  08566	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08569	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  08571	85 d2		 test	 edx, edx
  08573	0f 84 a7 00 00
	00		 je	 $LN5@SkillBrand

; 4277 : 		{
; 4278 : 			tObjNum = lpObj->VpPlayer2[count].number;

  08579	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0857c	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0857f	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08582	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0858a	89 55 f4	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 4279 : 
; 4280 : 			if(OBJMAX_RANGE(tObjNum))

  0858d	83 7d f4 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  08591	7d 09		 jge	 SHORT $LN14@SkillBrand
  08593	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv134[ebp], 0
  0859a	eb 0f		 jmp	 SHORT $LN15@SkillBrand
$LN14@SkillBrand:
  0859c	33 c0		 xor	 eax, eax
  0859e	81 7d f4 97 3a
	00 00		 cmp	 DWORD PTR _tObjNum$[ebp], 14999 ; 00003a97H
  085a5	0f 9e c0	 setle	 al
  085a8	89 45 ac	 mov	 DWORD PTR tv134[ebp], eax
$LN15@SkillBrand:
  085ab	83 7d ac 00	 cmp	 DWORD PTR tv134[ebp], 0
  085af	74 6f		 je	 SHORT $LN5@SkillBrand

; 4281 : 			{
; 4282 : 				if(lpObj->VpPlayer2[count].type == OBJ_USER)

  085b1	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  085b4	6b c0 0c	 imul	 eax, 12			; 0000000cH
  085b7	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  085ba	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  085c2	83 fa 01	 cmp	 edx, 1
  085c5	75 59		 jne	 SHORT $LN5@SkillBrand

; 4283 : 				{
; 4284 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)

  085c7	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  085ca	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  085d0	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  085d6	50		 push	 eax
  085d7	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  085da	51		 push	 ecx
  085db	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  085e0	83 c4 08	 add	 esp, 8
  085e3	83 f8 05	 cmp	 eax, 5
  085e6	7d 38		 jge	 SHORT $LN5@SkillBrand

; 4285 : 					{
; 4286 : 						gObjApplyBuffEffectDuration(&gObj[tObjNum], AT_DARK_ROD_SKILL, 0, 0, 0, 0, 10); //season3 add-on

  085e8	6a 0a		 push	 10			; 0000000aH
  085ea	6a 00		 push	 0
  085ec	6a 00		 push	 0
  085ee	6a 00		 push	 0
  085f0	6a 00		 push	 0
  085f2	6a 13		 push	 19			; 00000013H
  085f4	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  085f7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  085fd	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08603	50		 push	 eax
  08604	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  08609	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4287 : 						GCMagicAttackNumberSend(lpObj,AT_SKILL_BRAND_OF_SKILL,tObjNum,1);

  0860c	6a 01		 push	 1
  0860e	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  08611	50		 push	 eax
  08612	6a 4b		 push	 75			; 0000004bH
  08614	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08617	51		 push	 ecx
  08618	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0861d	83 c4 10	 add	 esp, 16			; 00000010H
$LN5@SkillBrand:

; 4288 : 					}
; 4289 : 				}
; 4290 : 			}
; 4291 : 		}
; 4292 : 
; 4293 : 		count++;

  08620	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  08623	83 c0 01	 add	 eax, 1
  08626	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 4294 : 
; 4295 : 		if(count > MAX_VIEWPORT - 1)

  08629	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0862d	7e 02		 jle	 SHORT $LN1@SkillBrand

; 4296 : 		{
; 4297 : 			break;

  0862f	eb 05		 jmp	 SHORT $LN6@SkillBrand
$LN1@SkillBrand:

; 4298 : 		}
; 4299 : 	}

  08631	e9 1d ff ff ff	 jmp	 $LN7@SkillBrand
$LN6@SkillBrand:

; 4300 : 	return true;

  08636	b8 01 00 00 00	 mov	 eax, 1
$LN10@SkillBrand:

; 4301 : }

  0863b	5f		 pop	 edi
  0863c	5e		 pop	 esi
  0863d	5b		 pop	 ebx
  0863e	8b e5		 mov	 esp, ebp
  08640	5d		 pop	 ebp
  08641	c2 0c 00	 ret	 12			; 0000000cH
?SkillBrandOfSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillBrandOfSkill
_TEXT	ENDS
EXTRN	?gObjSetPosition@@YAXHHH@Z:PROC			; gObjSetPosition
EXTRN	?gObjSetKillCount@@YAXHH@Z:PROC			; gObjSetKillCount
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv160 = -96						; size = 4
tv67 = -96						; size = 4
_count$ = -28						; size = 4
_tObjNum$ = -24						; size = 4
_iangle$ = -20						; size = 4
_TargePosy$ = -16					; size = 4
_TargePosx$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
_btX$ = 20						; size = 1
_btY$ = 24						; size = 1
_btDir$ = 28						; size = 1
_btTargetPos$ = 32					; size = 1
?SkillStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@EEEE@Z PROC ; CObjUseSkill::SkillStun
; _this$ = ecx

; 4304 : {

  08650	55		 push	 ebp
  08651	8b ec		 mov	 ebp, esp
  08653	83 ec 60	 sub	 esp, 96			; 00000060H
  08656	53		 push	 ebx
  08657	56		 push	 esi
  08658	57		 push	 edi
  08659	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4305 : 	if(OBJMAX_RANGE(aIndex) == false)

  0865c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  08660	7d 09		 jge	 SHORT $LN15@SkillStun
  08662	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  08669	eb 0f		 jmp	 SHORT $LN16@SkillStun
$LN15@SkillStun:
  0866b	33 c0		 xor	 eax, eax
  0866d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  08674	0f 9e c0	 setle	 al
  08677	89 45 a0	 mov	 DWORD PTR tv67[ebp], eax
$LN16@SkillStun:
  0867a	83 7d a0 00	 cmp	 DWORD PTR tv67[ebp], 0
  0867e	75 07		 jne	 SHORT $LN12@SkillStun

; 4306 : 	{
; 4307 : 		return false;

  08680	33 c0		 xor	 eax, eax
  08682	e9 6a 02 00 00	 jmp	 $LN13@SkillStun
$LN12@SkillStun:

; 4308 : 	}
; 4309 : 
; 4310 : 	LPOBJ lpObj = &gObj[aIndex];

  08687	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0868a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08690	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08696	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4311 : 
; 4312 : 	int TargePosx = lpObj->X - (8 - (btTargetPos & 15));

  08699	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0869c	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  086a3	0f b6 55 20	 movzx	 edx, BYTE PTR _btTargetPos$[ebp]
  086a7	83 e2 0f	 and	 edx, 15			; 0000000fH
  086aa	b8 08 00 00 00	 mov	 eax, 8
  086af	2b c2		 sub	 eax, edx
  086b1	2b c8		 sub	 ecx, eax
  086b3	89 4d f4	 mov	 DWORD PTR _TargePosx$[ebp], ecx

; 4313 : 	int TargePosy = lpObj->Y - (8 - ((btTargetPos & 240) >> 4));

  086b6	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  086b9	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  086c0	0f b6 55 20	 movzx	 edx, BYTE PTR _btTargetPos$[ebp]
  086c4	81 e2 f0 00 00
	00		 and	 edx, 240		; 000000f0H
  086ca	c1 fa 04	 sar	 edx, 4
  086cd	b8 08 00 00 00	 mov	 eax, 8
  086d2	2b c2		 sub	 eax, edx
  086d4	2b c8		 sub	 ecx, eax
  086d6	89 4d f0	 mov	 DWORD PTR _TargePosy$[ebp], ecx

; 4314 : 
; 4315 : 	int iangle = this->GetAngle(lpObj->X,lpObj->Y,TargePosx,TargePosy);

  086d9	8b 45 f0	 mov	 eax, DWORD PTR _TargePosy$[ebp]
  086dc	50		 push	 eax
  086dd	8b 4d f4	 mov	 ecx, DWORD PTR _TargePosx$[ebp]
  086e0	51		 push	 ecx
  086e1	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  086e4	0f bf 82 46 01
	00 00		 movsx	 eax, WORD PTR [edx+326]
  086eb	50		 push	 eax
  086ec	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  086ef	0f bf 91 44 01
	00 00		 movsx	 edx, WORD PTR [ecx+324]
  086f6	52		 push	 edx
  086f7	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  086fa	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle
  086ff	89 45 ec	 mov	 DWORD PTR _iangle$[ebp], eax

; 4316 : 
; 4317 : 	if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  08702	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08705	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0870c	83 f9 1e	 cmp	 ecx, 30			; 0000001eH
  0870f	74 16		 je	 SHORT $LN11@SkillStun
  08711	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08714	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0871b	83 f9 1f	 cmp	 ecx, 31			; 0000001fH
  0871e	74 07		 je	 SHORT $LN11@SkillStun

; 4318 : 	{
; 4319 : 		return false;

  08720	33 c0		 xor	 eax, eax
  08722	e9 ca 01 00 00	 jmp	 $LN13@SkillStun
$LN11@SkillStun:

; 4320 : 	}
; 4321 : 
; 4322 : 	int tObjNum;
; 4323 : 	int count = 0;

  08727	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 4324 : 
; 4325 : 	gObjSetKillCount(aIndex,0);

  0872e	6a 00		 push	 0
  08730	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  08733	50		 push	 eax
  08734	e8 00 00 00 00	 call	 ?gObjSetKillCount@@YAXHH@Z ; gObjSetKillCount
  08739	83 c4 08	 add	 esp, 8
$LN10@SkillStun:

; 4326 : 
; 4327 : 	while( true )

  0873c	b8 01 00 00 00	 mov	 eax, 1
  08741	85 c0		 test	 eax, eax
  08743	0f 84 a3 01 00
	00		 je	 $LN9@SkillStun

; 4328 : 	{
; 4329 : 		if(lpObj->VpPlayer2[count].state != 0)

  08749	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0874c	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0874f	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08752	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0875a	85 d2		 test	 edx, edx
  0875c	0f 84 74 01 00
	00		 je	 $LN8@SkillStun

; 4330 : 		{
; 4331 : 			if(lpObj->VpPlayer2[count].type == OBJ_USER || lpObj->VpPlayer2[count].type == OBJ_MONSTER)

  08762	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  08765	6b c0 0c	 imul	 eax, 12			; 0000000cH
  08768	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0876b	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  08773	83 fa 01	 cmp	 edx, 1
  08776	74 1a		 je	 SHORT $LN6@SkillStun
  08778	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0877b	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0877e	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08781	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  08789	83 fa 02	 cmp	 edx, 2
  0878c	0f 85 44 01 00
	00		 jne	 $LN8@SkillStun
$LN6@SkillStun:

; 4332 : 			{
; 4333 : 				tObjNum = lpObj->VpPlayer2[count].number;

  08792	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  08795	6b c0 0c	 imul	 eax, 12			; 0000000cH
  08798	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0879b	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  087a3	89 55 e8	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 4334 : 
; 4335 : 				if(OBJMAX_RANGE(tObjNum))

  087a6	83 7d e8 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  087aa	7d 09		 jge	 SHORT $LN17@SkillStun
  087ac	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv160[ebp], 0
  087b3	eb 0f		 jmp	 SHORT $LN18@SkillStun
$LN17@SkillStun:
  087b5	33 c0		 xor	 eax, eax
  087b7	81 7d e8 97 3a
	00 00		 cmp	 DWORD PTR _tObjNum$[ebp], 14999 ; 00003a97H
  087be	0f 9e c0	 setle	 al
  087c1	89 45 a0	 mov	 DWORD PTR tv160[ebp], eax
$LN18@SkillStun:
  087c4	83 7d a0 00	 cmp	 DWORD PTR tv160[ebp], 0
  087c8	0f 84 08 01 00
	00		 je	 $LN8@SkillStun

; 4336 : 				{
; 4337 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) <= 4)

  087ce	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  087d1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  087d7	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  087dd	50		 push	 eax
  087de	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  087e1	51		 push	 ecx
  087e2	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  087e7	83 c4 08	 add	 esp, 8
  087ea	83 f8 04	 cmp	 eax, 4
  087ed	0f 8f e3 00 00
	00		 jg	 $LN8@SkillStun

; 4338 : 					{
; 4339 : 						if(SkillElectricSparkHitBox.HitCheck(iangle,lpObj->X,lpObj->Y,gObj[tObjNum].X,gObj[tObjNum].Y))

  087f3	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  087f6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  087fc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08802	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0880a	52		 push	 edx
  0880b	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0880e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08814	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0881a	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  08822	52		 push	 edx
  08823	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08826	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  0882d	51		 push	 ecx
  0882e	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08831	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  08838	50		 push	 eax
  08839	8b 4d ec	 mov	 ecx, DWORD PTR _iangle$[ebp]
  0883c	51		 push	 ecx
  0883d	b9 00 00 00 00	 mov	 ecx, OFFSET ?SkillElectricSparkHitBox@@3VCSkillHitBox@@A ; SkillElectricSparkHitBox
  08842	e8 00 00 00 00	 call	 ?HitCheck@CSkillHitBox@@QAEHHHHHH@Z ; CSkillHitBox::HitCheck
  08847	85 c0		 test	 eax, eax
  08849	0f 84 87 00 00
	00		 je	 $LN8@SkillStun

; 4340 : 						{
; 4341 : 							gObjApplyBuffEffectDuration(&gObj[tObjNum], AT_STUN, 0, 0, 0, 0, 10); //season3 add-on

  0884f	6a 0a		 push	 10			; 0000000aH
  08851	6a 00		 push	 0
  08853	6a 00		 push	 0
  08855	6a 00		 push	 0
  08857	6a 00		 push	 0
  08859	6a 3d		 push	 61			; 0000003dH
  0885b	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0885e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08864	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0886a	50		 push	 eax
  0886b	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  08870	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4342 : 							if(!g_ExLicense.CheckUser(eExUB::Stone))

  08873	6a 37		 push	 55			; 00000037H
  08875	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0887a	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0887f	0f b6 c0	 movzx	 eax, al
  08882	85 c0		 test	 eax, eax
  08884	75 14		 jne	 SHORT $LN2@SkillStun

; 4343 : 							{
; 4344 : 								GCMagicAttackNumberSend(lpObj,AT_SKILL_STUN,tObjNum,1);

  08886	6a 01		 push	 1
  08888	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0888b	50		 push	 eax
  0888c	6a 43		 push	 67			; 00000043H
  0888e	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08891	51		 push	 ecx
  08892	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  08897	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@SkillStun:

; 4345 : 							}
; 4346 : 							gObjSetPosition(tObjNum,gObj[tObjNum].X,gObj[tObjNum].Y);

  0889a	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0889d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  088a3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  088a9	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  088b1	52		 push	 edx
  088b2	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  088b5	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  088bb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  088c1	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  088c9	52		 push	 edx
  088ca	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  088cd	50		 push	 eax
  088ce	e8 00 00 00 00	 call	 ?gObjSetPosition@@YAXHHH@Z ; gObjSetPosition
  088d3	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN8@SkillStun:

; 4347 : 						}
; 4348 : 					}
; 4349 : 				}
; 4350 : 			}
; 4351 : 		}
; 4352 : 
; 4353 : 		count++;

  088d6	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  088d9	83 c0 01	 add	 eax, 1
  088dc	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax

; 4354 : 
; 4355 : 		if(count > MAX_VIEWPORT - 1)

  088df	83 7d e4 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  088e3	7e 02		 jle	 SHORT $LN1@SkillStun

; 4356 : 		{
; 4357 : 			break;

  088e5	eb 05		 jmp	 SHORT $LN9@SkillStun
$LN1@SkillStun:

; 4358 : 		}
; 4359 : 	}

  088e7	e9 50 fe ff ff	 jmp	 $LN10@SkillStun
$LN9@SkillStun:

; 4360 : 	return true;

  088ec	b8 01 00 00 00	 mov	 eax, 1
$LN13@SkillStun:

; 4361 : }

  088f1	5f		 pop	 edi
  088f2	5e		 pop	 esi
  088f3	5b		 pop	 ebx
  088f4	8b e5		 mov	 esp, ebp
  088f6	5d		 pop	 ebp
  088f7	c2 1c 00	 ret	 28			; 0000001cH
?SkillStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@EEEE@Z ENDP ; CObjUseSkill::SkillStun
; Function compile flags: /Odtp /ZI
tv129 = -84						; size = 4
tv67 = -84						; size = 4
_count$ = -16						; size = 4
_tObjNum$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillRemoveStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillRemoveStun
; _this$ = ecx

; 4364 : {

  08900	55		 push	 ebp
  08901	8b ec		 mov	 ebp, esp
  08903	83 ec 54	 sub	 esp, 84			; 00000054H
  08906	53		 push	 ebx
  08907	56		 push	 esi
  08908	57		 push	 edi
  08909	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4365 : 
; 4366 : 	if(OBJMAX_RANGE(aIndex) == false)

  0890c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  08910	7d 09		 jge	 SHORT $LN12@SkillRemov
  08912	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  08919	eb 0f		 jmp	 SHORT $LN13@SkillRemov
$LN12@SkillRemov:
  0891b	33 c0		 xor	 eax, eax
  0891d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  08924	0f 9e c0	 setle	 al
  08927	89 45 ac	 mov	 DWORD PTR tv67[ebp], eax
$LN13@SkillRemov:
  0892a	83 7d ac 00	 cmp	 DWORD PTR tv67[ebp], 0
  0892e	75 07		 jne	 SHORT $LN9@SkillRemov

; 4367 : 	{
; 4368 : 		return false;

  08930	33 c0		 xor	 eax, eax
  08932	e9 40 01 00 00	 jmp	 $LN10@SkillRemov
$LN9@SkillRemov:

; 4369 : 	}
; 4370 : 
; 4371 : 	LPOBJ lpObj = &gObj[aIndex];

  08937	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0893a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08940	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08946	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4372 : 
; 4373 : 	if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  08949	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0894c	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  08953	83 f9 1e	 cmp	 ecx, 30			; 0000001eH
  08956	74 16		 je	 SHORT $LN8@SkillRemov
  08958	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0895b	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  08962	83 f9 1f	 cmp	 ecx, 31			; 0000001fH
  08965	74 07		 je	 SHORT $LN8@SkillRemov

; 4374 : 	{
; 4375 : 		return false;

  08967	33 c0		 xor	 eax, eax
  08969	e9 09 01 00 00	 jmp	 $LN10@SkillRemov
$LN8@SkillRemov:

; 4376 : 	}
; 4377 : 
; 4378 : 	int tObjNum;
; 4379 : 	int count = 0;

  0896e	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 4380 : 
; 4381 : 	gObjSetKillCount(aIndex,0);

  08975	6a 00		 push	 0
  08977	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0897a	50		 push	 eax
  0897b	e8 00 00 00 00	 call	 ?gObjSetKillCount@@YAXHH@Z ; gObjSetKillCount
  08980	83 c4 08	 add	 esp, 8

; 4382 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_REMOVAL_STUN,lpObj->m_Index,1);

  08983	6a 01		 push	 1
  08985	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08988	8b 08		 mov	 ecx, DWORD PTR [eax]
  0898a	51		 push	 ecx
  0898b	6a 44		 push	 68			; 00000044H
  0898d	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08990	52		 push	 edx
  08991	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  08996	83 c4 10	 add	 esp, 16			; 00000010H
$LN7@SkillRemov:

; 4383 : 
; 4384 : 	while( true )

  08999	b8 01 00 00 00	 mov	 eax, 1
  0899e	85 c0		 test	 eax, eax
  089a0	0f 84 cc 00 00
	00		 je	 $LN6@SkillRemov

; 4385 : 	{
; 4386 : 		if(lpObj->VpPlayer2[count].state != 0)

  089a6	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  089a9	6b c0 0c	 imul	 eax, 12			; 0000000cH
  089ac	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  089af	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  089b7	85 d2		 test	 edx, edx
  089b9	0f 84 9d 00 00
	00		 je	 $LN5@SkillRemov

; 4387 : 		{
; 4388 : 
; 4389 : 			tObjNum = lpObj->VpPlayer2[count].number;

  089bf	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  089c2	6b c0 0c	 imul	 eax, 12			; 0000000cH
  089c5	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  089c8	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  089d0	89 55 f4	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 4390 : 			if(OBJMAX_RANGE(tObjNum))

  089d3	83 7d f4 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  089d7	7d 09		 jge	 SHORT $LN14@SkillRemov
  089d9	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv129[ebp], 0
  089e0	eb 0f		 jmp	 SHORT $LN15@SkillRemov
$LN14@SkillRemov:
  089e2	33 c0		 xor	 eax, eax
  089e4	81 7d f4 97 3a
	00 00		 cmp	 DWORD PTR _tObjNum$[ebp], 14999 ; 00003a97H
  089eb	0f 9e c0	 setle	 al
  089ee	89 45 ac	 mov	 DWORD PTR tv129[ebp], eax
$LN15@SkillRemov:
  089f1	83 7d ac 00	 cmp	 DWORD PTR tv129[ebp], 0
  089f5	74 65		 je	 SHORT $LN5@SkillRemov

; 4391 : 			{
; 4392 : 				if(lpObj->VpPlayer2[count].type == OBJ_USER)

  089f7	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  089fa	6b c0 0c	 imul	 eax, 12			; 0000000cH
  089fd	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08a00	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  08a08	83 fa 01	 cmp	 edx, 1
  08a0b	75 4f		 jne	 SHORT $LN5@SkillRemov

; 4393 : 				{
; 4394 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 6)

  08a0d	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  08a10	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08a16	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08a1c	50		 push	 eax
  08a1d	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08a20	51		 push	 ecx
  08a21	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  08a26	83 c4 08	 add	 esp, 8
  08a29	83 f8 06	 cmp	 eax, 6
  08a2c	7d 2e		 jge	 SHORT $LN5@SkillRemov

; 4395 : 					{
; 4396 : 						gObjRemoveBuffEffect(&gObj[tObjNum], AT_STUN);

  08a2e	6a 3d		 push	 61			; 0000003dH
  08a30	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  08a33	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08a39	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08a3f	50		 push	 eax
  08a40	e8 00 00 00 00	 call	 ?gObjRemoveBuffEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjRemoveBuffEffect
  08a45	83 c4 08	 add	 esp, 8

; 4397 : 						GCMagicAttackNumberSend(lpObj,AT_SKILL_REMOVAL_STUN,tObjNum,1);

  08a48	6a 01		 push	 1
  08a4a	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  08a4d	50		 push	 eax
  08a4e	6a 44		 push	 68			; 00000044H
  08a50	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08a53	51		 push	 ecx
  08a54	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  08a59	83 c4 10	 add	 esp, 16			; 00000010H
$LN5@SkillRemov:

; 4398 : 					}
; 4399 : 				}
; 4400 : 			}
; 4401 : 		}
; 4402 : 
; 4403 : 		count++;

  08a5c	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  08a5f	83 c0 01	 add	 eax, 1
  08a62	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 4404 : 
; 4405 : 		if(count > MAX_VIEWPORT - 1)

  08a65	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  08a69	7e 02		 jle	 SHORT $LN1@SkillRemov

; 4406 : 		{
; 4407 : 			break;

  08a6b	eb 05		 jmp	 SHORT $LN6@SkillRemov
$LN1@SkillRemov:

; 4408 : 		}
; 4409 : 	}

  08a6d	e9 27 ff ff ff	 jmp	 $LN7@SkillRemov
$LN6@SkillRemov:

; 4410 : return true;

  08a72	b8 01 00 00 00	 mov	 eax, 1
$LN10@SkillRemov:

; 4411 : }

  08a77	5f		 pop	 edi
  08a78	5e		 pop	 esi
  08a79	5b		 pop	 ebx
  08a7a	8b e5		 mov	 esp, ebp
  08a7c	5d		 pop	 ebp
  08a7d	c2 0c 00	 ret	 12			; 0000000cH
?SkillRemoveStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillRemoveStun
_TEXT	ENDS
PUBLIC	__real@4049000000000000
;	COMDAT __real@4049000000000000
CONST	SEGMENT
__real@4049000000000000 DQ 04049000000000000r	; 50
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv395 = -88						; size = 4
tv327 = -88						; size = 4
tv190 = -88						; size = 4
tv67 = -88						; size = 4
_iSwelledMana$ = -20					; size = 4
_count$ = -16						; size = 4
_tObjNum$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillAddMana@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::SkillAddMana
; _this$ = ecx

; 4415 : {

  08a80	55		 push	 ebp
  08a81	8b ec		 mov	 ebp, esp
  08a83	83 ec 58	 sub	 esp, 88			; 00000058H
  08a86	53		 push	 ebx
  08a87	56		 push	 esi
  08a88	57		 push	 edi
  08a89	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4416 : 	if(OBJMAX_RANGE(aIndex) == false)

  08a8c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  08a90	7d 09		 jge	 SHORT $LN15@SkillAddMa
  08a92	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  08a99	eb 0f		 jmp	 SHORT $LN16@SkillAddMa
$LN15@SkillAddMa:
  08a9b	33 c0		 xor	 eax, eax
  08a9d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  08aa4	0f 9e c0	 setle	 al
  08aa7	89 45 a8	 mov	 DWORD PTR tv67[ebp], eax
$LN16@SkillAddMa:
  08aaa	83 7d a8 00	 cmp	 DWORD PTR tv67[ebp], 0
  08aae	75 07		 jne	 SHORT $LN12@SkillAddMa

; 4417 : 	{
; 4418 : 		return false;

  08ab0	33 c0		 xor	 eax, eax
  08ab2	e9 3c 04 00 00	 jmp	 $LN13@SkillAddMa
$LN12@SkillAddMa:

; 4419 : 	}
; 4420 : 
; 4421 : 	LPOBJ lpObj = &gObj[aIndex];

  08ab7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  08aba	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08ac0	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08ac6	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4422 : 
; 4423 : 	if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  08ac9	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08acc	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  08ad3	83 f9 1e	 cmp	 ecx, 30			; 0000001eH
  08ad6	74 16		 je	 SHORT $LN11@SkillAddMa
  08ad8	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08adb	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  08ae2	83 f9 1f	 cmp	 ecx, 31			; 0000001fH
  08ae5	74 07		 je	 SHORT $LN11@SkillAddMa

; 4424 : 	{
; 4425 : 		return false;

  08ae7	33 c0		 xor	 eax, eax
  08ae9	e9 05 04 00 00	 jmp	 $LN13@SkillAddMa
$LN11@SkillAddMa:

; 4426 : 	}
; 4427 : 
; 4428 : 	int tObjNum;
; 4429 : 	int count = 0;

  08aee	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 4430 : 	gObjSetKillCount(aIndex,0);

  08af5	6a 00		 push	 0
  08af7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  08afa	50		 push	 eax
  08afb	e8 00 00 00 00	 call	 ?gObjSetKillCount@@YAXHH@Z ; gObjSetKillCount
  08b00	83 c4 08	 add	 esp, 8

; 4431 : 
; 4432 : 	int iSwelledMana = 0;

  08b03	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iSwelledMana$[ebp], 0

; 4433 : 
; 4434 : 	iSwelledMana = (int)(float(lpObj->MaxMana + lpObj->AddMana) * 50 / 100);

  08b0a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08b0d	db 80 50 01 00
	00		 fild	 DWORD PTR [eax+336]
  08b13	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08b16	d8 81 14 01 00
	00		 fadd	 DWORD PTR [ecx+276]
  08b1c	d9 5d a8	 fstp	 DWORD PTR tv327[ebp]
  08b1f	d9 45 a8	 fld	 DWORD PTR tv327[ebp]
  08b22	dc 0d 00 00 00
	00		 fmul	 QWORD PTR __real@4049000000000000
  08b28	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  08b2e	e8 00 00 00 00	 call	 __ftol2_sse
  08b33	89 45 ec	 mov	 DWORD PTR _iSwelledMana$[ebp], eax

; 4435 : 
; 4436 : 	gObjApplyBuffEffectDuration(lpObj, AT_SWELL_MANA, 5, iSwelledMana, 0, 0, 60); //season3 add-on

  08b36	6a 3c		 push	 60			; 0000003cH
  08b38	6a 00		 push	 0
  08b3a	6a 00		 push	 0
  08b3c	8b 45 ec	 mov	 eax, DWORD PTR _iSwelledMana$[ebp]
  08b3f	50		 push	 eax
  08b40	6a 05		 push	 5
  08b42	6a 09		 push	 9
  08b44	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08b47	51		 push	 ecx
  08b48	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  08b4d	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4437 : 
; 4438 : 	GCManaSend(lpObj->m_Index,(lpObj->MaxMana + lpObj->AddMana),0xFE,0,(lpObj->MaxBP + lpObj->AddBP));

  08b50	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08b53	8b 88 2c 01 00
	00		 mov	 ecx, DWORD PTR [eax+300]
  08b59	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08b5c	03 8a 30 01 00
	00		 add	 ecx, DWORD PTR [edx+304]
  08b62	51		 push	 ecx
  08b63	6a 00		 push	 0
  08b65	68 fe 00 00 00	 push	 254			; 000000feH
  08b6a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08b6d	db 80 50 01 00
	00		 fild	 DWORD PTR [eax+336]
  08b73	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08b76	d8 81 14 01 00
	00		 fadd	 DWORD PTR [ecx+276]
  08b7c	e8 00 00 00 00	 call	 __ftol2_sse
  08b81	50		 push	 eax
  08b82	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08b85	8b 02		 mov	 eax, DWORD PTR [edx]
  08b87	50		 push	 eax
  08b88	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend
  08b8d	83 c4 14	 add	 esp, 20			; 00000014H

; 4439 : 
; 4440 : 	if( (lpObj->MaxMana + lpObj->AddMana) < lpObj->Mana)

  08b90	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08b93	db 80 50 01 00
	00		 fild	 DWORD PTR [eax+336]
  08b99	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08b9c	d8 81 14 01 00
	00		 fadd	 DWORD PTR [ecx+276]
  08ba2	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08ba5	d9 82 10 01 00
	00		 fld	 DWORD PTR [edx+272]
  08bab	de d9		 fcompp
  08bad	df e0		 fnstsw	 ax
  08baf	f6 c4 41	 test	 ah, 65			; 00000041H
  08bb2	75 49		 jne	 SHORT $LN10@SkillAddMa

; 4441 : 	{
; 4442 : 		lpObj->Mana = lpObj->MaxMana + lpObj->AddMana;

  08bb4	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08bb7	db 80 50 01 00
	00		 fild	 DWORD PTR [eax+336]
  08bbd	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08bc0	d8 81 14 01 00
	00		 fadd	 DWORD PTR [ecx+276]
  08bc6	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08bc9	d9 9a 10 01 00
	00		 fstp	 DWORD PTR [edx+272]

; 4443 : 		GCManaSend(lpObj->m_Index,lpObj->Mana,0xFF,0,lpObj->BP);

  08bcf	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08bd2	8b 88 28 01 00
	00		 mov	 ecx, DWORD PTR [eax+296]
  08bd8	51		 push	 ecx
  08bd9	6a 00		 push	 0
  08bdb	68 ff 00 00 00	 push	 255			; 000000ffH
  08be0	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08be3	d9 82 10 01 00
	00		 fld	 DWORD PTR [edx+272]
  08be9	e8 00 00 00 00	 call	 __ftol2_sse
  08bee	50		 push	 eax
  08bef	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08bf2	8b 08		 mov	 ecx, DWORD PTR [eax]
  08bf4	51		 push	 ecx
  08bf5	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend
  08bfa	83 c4 14	 add	 esp, 20			; 00000014H
$LN10@SkillAddMa:

; 4444 : 	}
; 4445 : 
; 4446 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_ADD_MANA,lpObj->m_Index,1);

  08bfd	6a 01		 push	 1
  08bff	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08c02	8b 08		 mov	 ecx, DWORD PTR [eax]
  08c04	51		 push	 ecx
  08c05	6a 45		 push	 69			; 00000045H
  08c07	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08c0a	52		 push	 edx
  08c0b	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  08c10	83 c4 10	 add	 esp, 16			; 00000010H
$LN19@SkillAddMa:

; 4447 : 
; 4448 : 	while( true )

  08c13	b8 01 00 00 00	 mov	 eax, 1
  08c18	85 c0		 test	 eax, eax
  08c1a	0f 84 ce 02 00
	00		 je	 $LN8@SkillAddMa

; 4449 : 	{
; 4450 : 		if(lpObj->VpPlayer2[count].state != 0)

  08c20	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  08c23	6b c0 0c	 imul	 eax, 12			; 0000000cH
  08c26	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08c29	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  08c31	85 d2		 test	 edx, edx
  08c33	0f 84 9f 02 00
	00		 je	 $LN4@SkillAddMa

; 4451 : 		{
; 4452 : 			tObjNum = lpObj->VpPlayer2[count].number;

  08c39	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  08c3c	6b c0 0c	 imul	 eax, 12			; 0000000cH
  08c3f	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08c42	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  08c4a	89 55 f4	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 4453 : 
; 4454 : 			if(OBJMAX_RANGE(tObjNum) && lpObj->VpPlayer2[count].type == OBJ_USER)

  08c4d	83 7d f4 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  08c51	7d 09		 jge	 SHORT $LN17@SkillAddMa
  08c53	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv190[ebp], 0
  08c5a	eb 0f		 jmp	 SHORT $LN18@SkillAddMa
$LN17@SkillAddMa:
  08c5c	33 c0		 xor	 eax, eax
  08c5e	81 7d f4 97 3a
	00 00		 cmp	 DWORD PTR _tObjNum$[ebp], 14999 ; 00003a97H
  08c65	0f 9e c0	 setle	 al
  08c68	89 45 a8	 mov	 DWORD PTR tv190[ebp], eax
$LN18@SkillAddMa:
  08c6b	83 7d a8 00	 cmp	 DWORD PTR tv190[ebp], 0
  08c6f	0f 84 63 02 00
	00		 je	 $LN4@SkillAddMa
  08c75	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  08c78	6b c0 0c	 imul	 eax, 12			; 0000000cH
  08c7b	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08c7e	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  08c86	83 fa 01	 cmp	 edx, 1
  08c89	0f 85 49 02 00
	00		 jne	 $LN4@SkillAddMa

; 4455 : 			{
; 4456 : 				if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)

  08c8f	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  08c92	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08c98	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08c9e	50		 push	 eax
  08c9f	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08ca2	51		 push	 ecx
  08ca3	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  08ca8	83 c4 08	 add	 esp, 8
  08cab	83 f8 05	 cmp	 eax, 5
  08cae	0f 8d 24 02 00
	00		 jge	 $LN4@SkillAddMa

; 4457 : 				{
; 4458 : 					if(lpObj->GuildNumber > 0 && gObj[tObjNum].GuildNumber > 0)

  08cb4	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08cb7	83 b8 34 04 00
	00 00		 cmp	 DWORD PTR [eax+1076], 0
  08cbe	0f 8e 14 02 00
	00		 jle	 $LN4@SkillAddMa
  08cc4	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  08cc7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08ccd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08cd3	83 bc 01 34 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1076], 0
  08cdb	0f 8e f7 01 00
	00		 jle	 $LN4@SkillAddMa

; 4459 : 					{
; 4460 : 						if(lpObj->GuildNumber != gObj[tObjNum].GuildNumber)

  08ce1	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  08ce4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08cea	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08ced	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08cf3	8b 89 34 04 00
	00		 mov	 ecx, DWORD PTR [ecx+1076]
  08cf9	3b 8c 02 34 04
	00 00		 cmp	 ecx, DWORD PTR [edx+eax+1076]
  08d00	74 0e		 je	 SHORT $LN3@SkillAddMa

; 4461 : 						{
; 4462 : 							count++;

  08d02	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  08d05	83 c0 01	 add	 eax, 1
  08d08	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 4463 : 							continue;

  08d0b	e9 03 ff ff ff	 jmp	 $LN19@SkillAddMa
$LN3@SkillAddMa:

; 4464 : 						}
; 4465 : 
; 4466 : 						iSwelledMana = (int)(float(gObj[tObjNum].MaxMana + gObj[tObjNum].AddMana) * 50 / 100);

  08d10	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  08d13	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08d19	8b 4d f4	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  08d1c	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  08d22	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08d28	db 84 0a 50 01
	00 00		 fild	 DWORD PTR [edx+ecx+336]
  08d2f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08d35	d8 84 01 14 01
	00 00		 fadd	 DWORD PTR [ecx+eax+276]
  08d3c	d9 5d a8	 fstp	 DWORD PTR tv395[ebp]
  08d3f	d9 45 a8	 fld	 DWORD PTR tv395[ebp]
  08d42	dc 0d 00 00 00
	00		 fmul	 QWORD PTR __real@4049000000000000
  08d48	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  08d4e	e8 00 00 00 00	 call	 __ftol2_sse
  08d53	89 45 ec	 mov	 DWORD PTR _iSwelledMana$[ebp], eax

; 4467 : 
; 4468 : 						gObjApplyBuffEffectDuration(&gObj[tObjNum], AT_SWELL_MANA, 5, iSwelledMana, 0, 0, 60); //season3 add-on

  08d56	6a 3c		 push	 60			; 0000003cH
  08d58	6a 00		 push	 0
  08d5a	6a 00		 push	 0
  08d5c	8b 45 ec	 mov	 eax, DWORD PTR _iSwelledMana$[ebp]
  08d5f	50		 push	 eax
  08d60	6a 05		 push	 5
  08d62	6a 09		 push	 9
  08d64	8b 4d f4	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  08d67	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  08d6d	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08d73	51		 push	 ecx
  08d74	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  08d79	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4469 : 
; 4470 : 						GCManaSend(tObjNum,(gObj[tObjNum].MaxMana + gObj[tObjNum].AddMana),0xFE,0,(gObj[tObjNum].BP + gObj[tObjNum].MaxBP)); //season3 add-on

  08d7c	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  08d7f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08d85	8b 4d f4	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  08d88	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  08d8e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08d94	8b 84 02 28 01
	00 00		 mov	 eax, DWORD PTR [edx+eax+296]
  08d9b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08da1	03 84 0a 2c 01
	00 00		 add	 eax, DWORD PTR [edx+ecx+300]
  08da8	50		 push	 eax
  08da9	6a 00		 push	 0
  08dab	68 fe 00 00 00	 push	 254			; 000000feH
  08db0	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  08db3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08db9	8b 4d f4	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  08dbc	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  08dc2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08dc8	db 84 0a 50 01
	00 00		 fild	 DWORD PTR [edx+ecx+336]
  08dcf	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08dd5	d8 84 01 14 01
	00 00		 fadd	 DWORD PTR [ecx+eax+276]
  08ddc	e8 00 00 00 00	 call	 __ftol2_sse
  08de1	50		 push	 eax
  08de2	8b 55 f4	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  08de5	52		 push	 edx
  08de6	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend
  08deb	83 c4 14	 add	 esp, 20			; 00000014H

; 4471 : 
; 4472 : 						if(gObj[tObjNum].Mana > gObj[tObjNum].MaxMana + gObj[tObjNum].AddMana)

  08dee	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  08df1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08df7	8b 4d f4	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  08dfa	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  08e00	8b 55 f4	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  08e03	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  08e09	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08e0f	db 84 16 50 01
	00 00		 fild	 DWORD PTR [esi+edx+336]
  08e16	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08e1c	d8 84 0a 14 01
	00 00		 fadd	 DWORD PTR [edx+ecx+276]
  08e23	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08e29	d9 84 01 10 01
	00 00		 fld	 DWORD PTR [ecx+eax+272]
  08e30	de d9		 fcompp
  08e32	df e0		 fnstsw	 ax
  08e34	f6 c4 41	 test	 ah, 65			; 00000041H
  08e37	0f 85 87 00 00
	00		 jne	 $LN2@SkillAddMa

; 4473 : 						{
; 4474 : 							gObj[tObjNum].Mana = gObj[tObjNum].MaxMana + gObj[tObjNum].AddMana;

  08e3d	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  08e40	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08e46	8b 4d f4	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  08e49	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  08e4f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08e55	db 84 0a 50 01
	00 00		 fild	 DWORD PTR [edx+ecx+336]
  08e5c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08e62	d8 84 01 14 01
	00 00		 fadd	 DWORD PTR [ecx+eax+276]
  08e69	8b 55 f4	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  08e6c	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  08e72	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08e77	d9 9c 10 10 01
	00 00		 fstp	 DWORD PTR [eax+edx+272]

; 4475 : 							GCManaSend(tObjNum,gObj[tObjNum].Mana,0xFF,0,gObj[tObjNum].BP);

  08e7e	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  08e81	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08e87	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08e8d	8b 94 01 28 01
	00 00		 mov	 edx, DWORD PTR [ecx+eax+296]
  08e94	52		 push	 edx
  08e95	6a 00		 push	 0
  08e97	68 ff 00 00 00	 push	 255			; 000000ffH
  08e9c	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  08e9f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08ea5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08eab	d9 84 01 10 01
	00 00		 fld	 DWORD PTR [ecx+eax+272]
  08eb2	e8 00 00 00 00	 call	 __ftol2_sse
  08eb7	50		 push	 eax
  08eb8	8b 55 f4	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  08ebb	52		 push	 edx
  08ebc	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend
  08ec1	83 c4 14	 add	 esp, 20			; 00000014H
$LN2@SkillAddMa:

; 4476 : 						}
; 4477 : 
; 4478 : 						GCMagicAttackNumberSend(lpObj,AT_SKILL_ADD_MANA,tObjNum,1);

  08ec4	6a 01		 push	 1
  08ec6	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  08ec9	50		 push	 eax
  08eca	6a 45		 push	 69			; 00000045H
  08ecc	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08ecf	51		 push	 ecx
  08ed0	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  08ed5	83 c4 10	 add	 esp, 16			; 00000010H
$LN4@SkillAddMa:

; 4479 : 					}
; 4480 : 				}
; 4481 : 			}
; 4482 : 		}
; 4483 : 
; 4484 : 		count++;

  08ed8	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  08edb	83 c0 01	 add	 eax, 1
  08ede	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 4485 : 
; 4486 : 		if(count > MAX_VIEWPORT - 1)

  08ee1	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  08ee5	7e 02		 jle	 SHORT $LN1@SkillAddMa

; 4487 : 		{
; 4488 : 			break;

  08ee7	eb 05		 jmp	 SHORT $LN8@SkillAddMa
$LN1@SkillAddMa:

; 4489 : 		}
; 4490 : 	}

  08ee9	e9 25 fd ff ff	 jmp	 $LN19@SkillAddMa
$LN8@SkillAddMa:

; 4491 : 	return true;

  08eee	b8 01 00 00 00	 mov	 eax, 1
$LN13@SkillAddMa:

; 4492 : }

  08ef3	5f		 pop	 edi
  08ef4	5e		 pop	 esi
  08ef5	5b		 pop	 ebx
  08ef6	8b e5		 mov	 esp, ebp
  08ef8	5d		 pop	 ebp
  08ef9	c2 0c 00	 ret	 12			; 0000000cH
?SkillAddMana@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::SkillAddMana
_TEXT	ENDS
PUBLIC	??_C@_0FJ@KFEKMJMJ@?$FLANTI?9HACK?$FN?$FLCloaking?5Skill?$FN?5?$FL?$CFs?$FN@ ; `string'
;	COMDAT ??_C@_0FJ@KFEKMJMJ@?$FLANTI?9HACK?$FN?$FLCloaking?5Skill?$FN?5?$FL?$CFs?$FN@
CONST	SEGMENT
??_C@_0FJ@KFEKMJMJ@?$FLANTI?9HACK?$FN?$FLCloaking?5Skill?$FN?5?$FL?$CFs?$FN@ DB '['
	DB	'ANTI-HACK][Cloaking Skill] [%s][%s] Invalid Targeting  Target'
	DB	'Type [%d] TargetClass [%d]', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv72 = -80						; size = 4
tv67 = -80						; size = 4
_lpTargetObj$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillCloaking
; _this$ = ecx

; 4495 : {

  08f00	55		 push	 ebp
  08f01	8b ec		 mov	 ebp, esp
  08f03	83 ec 50	 sub	 esp, 80			; 00000050H
  08f06	53		 push	 ebx
  08f07	56		 push	 esi
  08f08	57		 push	 edi
  08f09	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4496 : 	if(OBJMAX_RANGE(aIndex) == false)

  08f0c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  08f10	7d 09		 jge	 SHORT $LN7@SkillCloak
  08f12	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  08f19	eb 0f		 jmp	 SHORT $LN8@SkillCloak
$LN7@SkillCloak:
  08f1b	33 c0		 xor	 eax, eax
  08f1d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  08f24	0f 9e c0	 setle	 al
  08f27	89 45 b0	 mov	 DWORD PTR tv67[ebp], eax
$LN8@SkillCloak:
  08f2a	83 7d b0 00	 cmp	 DWORD PTR tv67[ebp], 0
  08f2e	75 07		 jne	 SHORT $LN4@SkillCloak

; 4497 : 	{
; 4498 : 		return false;

  08f30	33 c0		 xor	 eax, eax
  08f32	e9 08 01 00 00	 jmp	 $LN5@SkillCloak
$LN4@SkillCloak:

; 4499 : 	}
; 4500 : 
; 4501 : 	if(OBJMAX_RANGE(aTargetIndex) == false)

  08f37	83 7d 0c 00	 cmp	 DWORD PTR _aTargetIndex$[ebp], 0
  08f3b	7d 09		 jge	 SHORT $LN9@SkillCloak
  08f3d	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv72[ebp], 0
  08f44	eb 0f		 jmp	 SHORT $LN10@SkillCloak
$LN9@SkillCloak:
  08f46	33 c0		 xor	 eax, eax
  08f48	81 7d 0c 97 3a
	00 00		 cmp	 DWORD PTR _aTargetIndex$[ebp], 14999 ; 00003a97H
  08f4f	0f 9e c0	 setle	 al
  08f52	89 45 b0	 mov	 DWORD PTR tv72[ebp], eax
$LN10@SkillCloak:
  08f55	83 7d b0 00	 cmp	 DWORD PTR tv72[ebp], 0
  08f59	75 07		 jne	 SHORT $LN3@SkillCloak

; 4502 : 	{
; 4503 : 		return false;

  08f5b	33 c0		 xor	 eax, eax
  08f5d	e9 dd 00 00 00	 jmp	 $LN5@SkillCloak
$LN3@SkillCloak:

; 4504 : 	}
; 4505 : 
; 4506 : 	LPOBJ lpObj = &gObj[aIndex];

  08f62	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  08f65	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08f6b	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08f71	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4507 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  08f74	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  08f77	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  08f7d	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  08f83	89 45 f4	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 4508 : 
; 4509 : 	if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  08f86	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08f89	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  08f90	83 f9 1e	 cmp	 ecx, 30			; 0000001eH
  08f93	74 16		 je	 SHORT $LN2@SkillCloak
  08f95	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08f98	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  08f9f	83 f9 1f	 cmp	 ecx, 31			; 0000001fH
  08fa2	74 07		 je	 SHORT $LN2@SkillCloak

; 4510 : 	{
; 4511 : 		return false;

  08fa4	33 c0		 xor	 eax, eax
  08fa6	e9 94 00 00 00	 jmp	 $LN5@SkillCloak
$LN2@SkillCloak:

; 4512 : 	}
; 4513 : 
; 4514 : 	if(lpTargetObj->Type != OBJ_USER)

  08fab	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  08fae	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  08fb2	83 f9 01	 cmp	 ecx, 1
  08fb5	74 33		 je	 SHORT $LN1@SkillCloak

; 4515 : 	{
; 4516 : 		LogAddTD("[ANTI-HACK][Cloaking Skill] [%s][%s] Invalid Targeting  TargetType [%d] TargetClass [%d]",
; 4517 : 			lpObj->AccountID,lpObj->Name,lpTargetObj->Type,lpTargetObj->Class);

  08fb7	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  08fba	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  08fc1	51		 push	 ecx
  08fc2	8b 55 f4	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  08fc5	0f b7 42 68	 movzx	 eax, WORD PTR [edx+104]
  08fc9	50		 push	 eax
  08fca	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08fcd	83 c1 77	 add	 ecx, 119		; 00000077H
  08fd0	51		 push	 ecx
  08fd1	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08fd4	83 c2 6c	 add	 edx, 108		; 0000006cH
  08fd7	52		 push	 edx
  08fd8	68 00 00 00 00	 push	 OFFSET ??_C@_0FJ@KFEKMJMJ@?$FLANTI?9HACK?$FN?$FLCloaking?5Skill?$FN?5?$FL?$CFs?$FN@
  08fdd	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  08fe3	83 c4 14	 add	 esp, 20			; 00000014H

; 4518 : 		return false;

  08fe6	33 c0		 xor	 eax, eax
  08fe8	eb 55		 jmp	 SHORT $LN5@SkillCloak
$LN1@SkillCloak:

; 4519 : 	}
; 4520 : 
; 4521 : 	gObjSetKillCount(aIndex,0);

  08fea	6a 00		 push	 0
  08fec	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  08fef	50		 push	 eax
  08ff0	e8 00 00 00 00	 call	 ?gObjSetKillCount@@YAXHH@Z ; gObjSetKillCount
  08ff5	83 c4 08	 add	 esp, 8

; 4522 : 
; 4523 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_INVISIBLE,lpObj->m_Index,1);

  08ff8	6a 01		 push	 1
  08ffa	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08ffd	8b 08		 mov	 ecx, DWORD PTR [eax]
  08fff	51		 push	 ecx
  09000	6a 46		 push	 70			; 00000046H
  09002	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09005	52		 push	 edx
  09006	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0900b	83 c4 10	 add	 esp, 16			; 00000010H

; 4524 : 
; 4525 : 	gObjApplyBuffEffectDuration(lpTargetObj, AT_INVISIBILITY, 0, 0, 0, 0, 60); //season3 add-on

  0900e	6a 3c		 push	 60			; 0000003cH
  09010	6a 00		 push	 0
  09012	6a 00		 push	 0
  09014	6a 00		 push	 0
  09016	6a 00		 push	 0
  09018	6a 12		 push	 18			; 00000012H
  0901a	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0901d	50		 push	 eax
  0901e	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  09023	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4526 : 
; 4527 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_INVISIBLE,aTargetIndex,1);

  09026	6a 01		 push	 1
  09028	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0902b	50		 push	 eax
  0902c	6a 46		 push	 70			; 00000046H
  0902e	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09031	51		 push	 ecx
  09032	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  09037	83 c4 10	 add	 esp, 16			; 00000010H

; 4528 : 	return true;

  0903a	b8 01 00 00 00	 mov	 eax, 1
$LN5@SkillCloak:

; 4529 : }

  0903f	5f		 pop	 edi
  09040	5e		 pop	 esi
  09041	5b		 pop	 ebx
  09042	8b e5		 mov	 esp, ebp
  09044	5d		 pop	 ebp
  09045	c2 0c 00	 ret	 12			; 0000000cH
?SkillCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillCloaking
; Function compile flags: /Odtp /ZI
tv67 = -72						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?RemoveCloakingEffect@CObjUseSkill@@QAEHH@Z PROC	; CObjUseSkill::RemoveCloakingEffect
; _this$ = ecx

; 4532 : {

  09050	55		 push	 ebp
  09051	8b ec		 mov	 ebp, esp
  09053	83 ec 48	 sub	 esp, 72			; 00000048H
  09056	53		 push	 ebx
  09057	56		 push	 esi
  09058	57		 push	 edi
  09059	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4533 : 	if(OBJMAX_RANGE(aIndex) == false)

  0905c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  09060	7d 09		 jge	 SHORT $LN4@RemoveCloa
  09062	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  09069	eb 0f		 jmp	 SHORT $LN5@RemoveCloa
$LN4@RemoveCloa:
  0906b	33 c0		 xor	 eax, eax
  0906d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  09074	0f 9e c0	 setle	 al
  09077	89 45 b8	 mov	 DWORD PTR tv67[ebp], eax
$LN5@RemoveCloa:
  0907a	83 7d b8 00	 cmp	 DWORD PTR tv67[ebp], 0
  0907e	75 04		 jne	 SHORT $LN1@RemoveCloa

; 4534 : 	{
; 4535 : 		return false;

  09080	33 c0		 xor	 eax, eax
  09082	eb 1f		 jmp	 SHORT $LN2@RemoveCloa
$LN1@RemoveCloa:

; 4536 : 	}
; 4537 : 
; 4538 : 	gObjRemoveBuffEffect(&gObj[aIndex], AT_INVISIBILITY); //season3 add-on

  09084	6a 12		 push	 18			; 00000012H
  09086	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  09089	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0908f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09095	50		 push	 eax
  09096	e8 00 00 00 00	 call	 ?gObjRemoveBuffEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjRemoveBuffEffect
  0909b	83 c4 08	 add	 esp, 8

; 4539 : 	return true;

  0909e	b8 01 00 00 00	 mov	 eax, 1
$LN2@RemoveCloa:

; 4540 : }

  090a3	5f		 pop	 edi
  090a4	5e		 pop	 esi
  090a5	5b		 pop	 ebx
  090a6	8b e5		 mov	 esp, ebp
  090a8	5d		 pop	 ebp
  090a9	c2 04 00	 ret	 4
?RemoveCloakingEffect@CObjUseSkill@@QAEHH@Z ENDP	; CObjUseSkill::RemoveCloakingEffect
; Function compile flags: /Odtp /ZI
tv139 = -88						; size = 4
tv67 = -88						; size = 4
_count$ = -20						; size = 4
_tObjNum$ = -16						; size = 4
_lpTargetObj$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillRemoveCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillRemoveCloaking
; _this$ = ecx

; 4544 : {

  090b0	55		 push	 ebp
  090b1	8b ec		 mov	 ebp, esp
  090b3	83 ec 58	 sub	 esp, 88			; 00000058H
  090b6	53		 push	 ebx
  090b7	56		 push	 esi
  090b8	57		 push	 edi
  090b9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4545 : 	if(OBJMAX_RANGE(aIndex) == false)

  090bc	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  090c0	7d 09		 jge	 SHORT $LN13@SkillRemov@2
  090c2	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  090c9	eb 0f		 jmp	 SHORT $LN14@SkillRemov@2
$LN13@SkillRemov@2:
  090cb	33 c0		 xor	 eax, eax
  090cd	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  090d4	0f 9e c0	 setle	 al
  090d7	89 45 a8	 mov	 DWORD PTR tv67[ebp], eax
$LN14@SkillRemov@2:
  090da	83 7d a8 00	 cmp	 DWORD PTR tv67[ebp], 0
  090de	75 07		 jne	 SHORT $LN10@SkillRemov@2

; 4546 : 	{
; 4547 : 		return false;

  090e0	33 c0		 xor	 eax, eax
  090e2	e9 7c 01 00 00	 jmp	 $LN11@SkillRemov@2
$LN10@SkillRemov@2:

; 4548 : 	}
; 4549 : 
; 4550 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  090e7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  090ea	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  090f0	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  090f6	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4551 : 
; 4552 : 	if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  090f9	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  090fc	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  09103	83 f9 1e	 cmp	 ecx, 30			; 0000001eH
  09106	74 16		 je	 SHORT $LN9@SkillRemov@2
  09108	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0910b	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  09112	83 f9 1f	 cmp	 ecx, 31			; 0000001fH
  09115	74 07		 je	 SHORT $LN9@SkillRemov@2

; 4553 : 	{
; 4554 : 		return false;

  09117	33 c0		 xor	 eax, eax
  09119	e9 45 01 00 00	 jmp	 $LN11@SkillRemov@2
$LN9@SkillRemov@2:

; 4555 : 	}
; 4556 : 
; 4557 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex]; //loc3

  0911e	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  09121	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09127	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0912d	89 45 f4	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 4558 : 
; 4559 : 	if((lpTargetObj->Authority&32) == 32) //Season 2.5 add-on

  09130	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  09133	8b 88 0c 02 00
	00		 mov	 ecx, DWORD PTR [eax+524]
  09139	83 e1 20	 and	 ecx, 32			; 00000020H
  0913c	74 1c		 je	 SHORT $LN8@SkillRemov@2

; 4560 : 	{
; 4561 : 		if(gObjSearchActiveEffect(lpTargetObj, AT_INVISIBILITY) != FALSE) //season3 add-on

  0913e	6a 12		 push	 18			; 00000012H
  09140	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  09143	50		 push	 eax
  09144	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  09149	83 c4 08	 add	 esp, 8
  0914c	0f b6 c8	 movzx	 ecx, al
  0914f	85 c9		 test	 ecx, ecx
  09151	74 07		 je	 SHORT $LN8@SkillRemov@2

; 4562 : 		{
; 4563 : 			return false;

  09153	33 c0		 xor	 eax, eax
  09155	e9 09 01 00 00	 jmp	 $LN11@SkillRemov@2
$LN8@SkillRemov@2:

; 4564 : 		}
; 4565 : 	}
; 4566 : 
; 4567 : 	int tObjNum;
; 4568 : 	int count = 0;

  0915a	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 4569 : 
; 4570 : 	gObjSetKillCount(aIndex,0);

  09161	6a 00		 push	 0
  09163	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  09166	50		 push	 eax
  09167	e8 00 00 00 00	 call	 ?gObjSetKillCount@@YAXHH@Z ; gObjSetKillCount
  0916c	83 c4 08	 add	 esp, 8

; 4571 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_REMOVAL_INVISIBLE,lpObj->m_Index,1);

  0916f	6a 01		 push	 1
  09171	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09174	8b 08		 mov	 ecx, DWORD PTR [eax]
  09176	51		 push	 ecx
  09177	6a 47		 push	 71			; 00000047H
  09179	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0917c	52		 push	 edx
  0917d	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  09182	83 c4 10	 add	 esp, 16			; 00000010H
$LN6@SkillRemov@2:

; 4572 : 
; 4573 : 	while ( true )

  09185	b8 01 00 00 00	 mov	 eax, 1
  0918a	85 c0		 test	 eax, eax
  0918c	0f 84 cc 00 00
	00		 je	 $LN5@SkillRemov@2

; 4574 : 	{
; 4575 : 		if(lpObj->VpPlayer2[count].state != 0)

  09192	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  09195	6b c0 0c	 imul	 eax, 12			; 0000000cH
  09198	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0919b	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  091a3	85 d2		 test	 edx, edx
  091a5	0f 84 9d 00 00
	00		 je	 $LN4@SkillRemov@2

; 4576 : 		{
; 4577 : 			tObjNum = lpObj->VpPlayer2[count].number;

  091ab	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  091ae	6b c0 0c	 imul	 eax, 12			; 0000000cH
  091b1	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  091b4	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  091bc	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 4578 : 
; 4579 : 			if(OBJMAX_RANGE(tObjNum) && lpObj->VpPlayer2[count].type == OBJ_USER)

  091bf	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  091c3	7d 09		 jge	 SHORT $LN15@SkillRemov@2
  091c5	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv139[ebp], 0
  091cc	eb 0f		 jmp	 SHORT $LN16@SkillRemov@2
$LN15@SkillRemov@2:
  091ce	33 c0		 xor	 eax, eax
  091d0	81 7d f0 97 3a
	00 00		 cmp	 DWORD PTR _tObjNum$[ebp], 14999 ; 00003a97H
  091d7	0f 9e c0	 setle	 al
  091da	89 45 a8	 mov	 DWORD PTR tv139[ebp], eax
$LN16@SkillRemov@2:
  091dd	83 7d a8 00	 cmp	 DWORD PTR tv139[ebp], 0
  091e1	74 65		 je	 SHORT $LN4@SkillRemov@2
  091e3	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  091e6	6b c0 0c	 imul	 eax, 12			; 0000000cH
  091e9	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  091ec	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  091f4	83 fa 01	 cmp	 edx, 1
  091f7	75 4f		 jne	 SHORT $LN4@SkillRemov@2

; 4580 : 			{
; 4581 : 				if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)

  091f9	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  091fc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09202	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09208	50		 push	 eax
  09209	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0920c	51		 push	 ecx
  0920d	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  09212	83 c4 08	 add	 esp, 8
  09215	83 f8 05	 cmp	 eax, 5
  09218	7d 2e		 jge	 SHORT $LN4@SkillRemov@2

; 4582 : 				{
; 4583 : 					gObjRemoveBuffEffect(&gObj[tObjNum], AT_INVISIBILITY); //season3 add-on

  0921a	6a 12		 push	 18			; 00000012H
  0921c	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0921f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09225	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0922b	50		 push	 eax
  0922c	e8 00 00 00 00	 call	 ?gObjRemoveBuffEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjRemoveBuffEffect
  09231	83 c4 08	 add	 esp, 8

; 4584 : 					GCMagicAttackNumberSend(lpObj,AT_SKILL_REMOVAL_INVISIBLE,tObjNum,1);

  09234	6a 01		 push	 1
  09236	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09239	50		 push	 eax
  0923a	6a 47		 push	 71			; 00000047H
  0923c	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0923f	51		 push	 ecx
  09240	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  09245	83 c4 10	 add	 esp, 16			; 00000010H
$LN4@SkillRemov@2:

; 4585 : 				}
; 4586 : 			}
; 4587 : 		}
; 4588 : 
; 4589 : 		count++;

  09248	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0924b	83 c0 01	 add	 eax, 1
  0924e	89 45 ec	 mov	 DWORD PTR _count$[ebp], eax

; 4590 : 
; 4591 : 		if(count > MAX_VIEWPORT - 1)

  09251	83 7d ec 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  09255	7e 02		 jle	 SHORT $LN1@SkillRemov@2

; 4592 : 		{
; 4593 : 			break;

  09257	eb 05		 jmp	 SHORT $LN5@SkillRemov@2
$LN1@SkillRemov@2:

; 4594 : 		}
; 4595 : 	}

  09259	e9 27 ff ff ff	 jmp	 $LN6@SkillRemov@2
$LN5@SkillRemov@2:

; 4596 : 	return true;

  0925e	b8 01 00 00 00	 mov	 eax, 1
$LN11@SkillRemov@2:

; 4597 : }

  09263	5f		 pop	 edi
  09264	5e		 pop	 esi
  09265	5b		 pop	 ebx
  09266	8b e5		 mov	 esp, ebp
  09268	5d		 pop	 ebp
  09269	c2 0c 00	 ret	 12			; 0000000cH
?SkillRemoveCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillRemoveCloaking
; Function compile flags: /Odtp /ZI
tv129 = -84						; size = 4
tv67 = -84						; size = 4
_count$ = -16						; size = 4
_tObjNum$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillRemoveMagic@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillRemoveMagic
; _this$ = ecx

; 4603 : {

  09270	55		 push	 ebp
  09271	8b ec		 mov	 ebp, esp
  09273	83 ec 54	 sub	 esp, 84			; 00000054H
  09276	53		 push	 ebx
  09277	56		 push	 esi
  09278	57		 push	 edi
  09279	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4604 : 	if(OBJMAX_RANGE(aIndex) == false)

  0927c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  09280	7d 09		 jge	 SHORT $LN11@SkillRemov@3
  09282	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  09289	eb 0f		 jmp	 SHORT $LN12@SkillRemov@3
$LN11@SkillRemov@3:
  0928b	33 c0		 xor	 eax, eax
  0928d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  09294	0f 9e c0	 setle	 al
  09297	89 45 ac	 mov	 DWORD PTR tv67[ebp], eax
$LN12@SkillRemov@3:
  0929a	83 7d ac 00	 cmp	 DWORD PTR tv67[ebp], 0
  0929e	75 07		 jne	 SHORT $LN8@SkillRemov@3

; 4605 : 	{
; 4606 : 		return false;

  092a0	33 c0		 xor	 eax, eax
  092a2	e9 3e 01 00 00	 jmp	 $LN9@SkillRemov@3
$LN8@SkillRemov@3:

; 4607 : 	}
; 4608 : 
; 4609 : 	LPOBJ lpObj = &gObj[aIndex];

  092a7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  092aa	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  092b0	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  092b6	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4610 : 
; 4611 : 	if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  092b9	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  092bc	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  092c3	83 f9 1e	 cmp	 ecx, 30			; 0000001eH
  092c6	74 16		 je	 SHORT $LN7@SkillRemov@3
  092c8	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  092cb	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  092d2	83 f9 1f	 cmp	 ecx, 31			; 0000001fH
  092d5	74 07		 je	 SHORT $LN7@SkillRemov@3

; 4612 : 	{
; 4613 : 		return false;

  092d7	33 c0		 xor	 eax, eax
  092d9	e9 07 01 00 00	 jmp	 $LN9@SkillRemov@3
$LN7@SkillRemov@3:

; 4614 : 	}
; 4615 : 
; 4616 : 	int tObjNum;
; 4617 : 	int count = 0;

  092de	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 4618 : 
; 4619 : 	gObjSetKillCount(aIndex,0);

  092e5	6a 00		 push	 0
  092e7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  092ea	50		 push	 eax
  092eb	e8 00 00 00 00	 call	 ?gObjSetKillCount@@YAXHH@Z ; gObjSetKillCount
  092f0	83 c4 08	 add	 esp, 8

; 4620 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_REMOVAL_MAGIC,lpObj->m_Index,1);

  092f3	6a 01		 push	 1
  092f5	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  092f8	8b 08		 mov	 ecx, DWORD PTR [eax]
  092fa	51		 push	 ecx
  092fb	6a 48		 push	 72			; 00000048H
  092fd	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09300	52		 push	 edx
  09301	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  09306	83 c4 10	 add	 esp, 16			; 00000010H
$LN6@SkillRemov@3:

; 4621 : 
; 4622 : 	while ( true )

  09309	b8 01 00 00 00	 mov	 eax, 1
  0930e	85 c0		 test	 eax, eax
  09310	0f 84 ca 00 00
	00		 je	 $LN5@SkillRemov@3

; 4623 : 	{
; 4624 : 		if(lpObj->VpPlayer2[count].state != 0)

  09316	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  09319	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0931c	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0931f	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  09327	85 d2		 test	 edx, edx
  09329	0f 84 9b 00 00
	00		 je	 $LN4@SkillRemov@3

; 4625 : 		{
; 4626 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0932f	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  09332	6b c0 0c	 imul	 eax, 12			; 0000000cH
  09335	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09338	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  09340	89 55 f4	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 4627 : 
; 4628 : 			if(OBJMAX_RANGE(tObjNum) && lpObj->VpPlayer2[count].type == OBJ_USER)

  09343	83 7d f4 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  09347	7d 09		 jge	 SHORT $LN13@SkillRemov@3
  09349	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv129[ebp], 0
  09350	eb 0f		 jmp	 SHORT $LN14@SkillRemov@3
$LN13@SkillRemov@3:
  09352	33 c0		 xor	 eax, eax
  09354	81 7d f4 97 3a
	00 00		 cmp	 DWORD PTR _tObjNum$[ebp], 14999 ; 00003a97H
  0935b	0f 9e c0	 setle	 al
  0935e	89 45 ac	 mov	 DWORD PTR tv129[ebp], eax
$LN14@SkillRemov@3:
  09361	83 7d ac 00	 cmp	 DWORD PTR tv129[ebp], 0
  09365	74 63		 je	 SHORT $LN4@SkillRemov@3
  09367	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0936a	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0936d	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09370	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  09378	83 fa 01	 cmp	 edx, 1
  0937b	75 4d		 jne	 SHORT $LN4@SkillRemov@3

; 4629 : 			{
; 4630 : 				if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)

  0937d	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09380	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09386	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0938c	50		 push	 eax
  0938d	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09390	51		 push	 ecx
  09391	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  09396	83 c4 08	 add	 esp, 8
  09399	83 f8 05	 cmp	 eax, 5
  0939c	7d 2c		 jge	 SHORT $LN4@SkillRemov@3

; 4631 : 				{
; 4632 : 					this->RemoveAllCharacterInvalidMagicAndSkillState(&gObj[tObjNum]);

  0939e	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  093a1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  093a7	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  093ad	50		 push	 eax
  093ae	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  093b1	e8 00 00 00 00	 call	 ?RemoveAllCharacterInvalidMagicAndSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@@Z ; CObjUseSkill::RemoveAllCharacterInvalidMagicAndSkillState

; 4633 : 					GCMagicAttackNumberSend(lpObj,AT_SKILL_REMOVAL_MAGIC,tObjNum,1);

  093b6	6a 01		 push	 1
  093b8	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  093bb	50		 push	 eax
  093bc	6a 48		 push	 72			; 00000048H
  093be	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  093c1	51		 push	 ecx
  093c2	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  093c7	83 c4 10	 add	 esp, 16			; 00000010H
$LN4@SkillRemov@3:

; 4634 : 				}
; 4635 : 			}
; 4636 : 		}
; 4637 : 
; 4638 : 		count++;

  093ca	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  093cd	83 c0 01	 add	 eax, 1
  093d0	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 4639 : 
; 4640 : 		if(count > MAX_VIEWPORT - 1)

  093d3	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  093d7	7e 02		 jle	 SHORT $LN1@SkillRemov@3

; 4641 : 		{
; 4642 : 			break;

  093d9	eb 05		 jmp	 SHORT $LN5@SkillRemov@3
$LN1@SkillRemov@3:

; 4643 : 		}
; 4644 : 	}

  093db	e9 29 ff ff ff	 jmp	 $LN6@SkillRemov@3
$LN5@SkillRemov@3:

; 4645 : 	return true;

  093e0	b8 01 00 00 00	 mov	 eax, 1
$LN9@SkillRemov@3:

; 4646 : }

  093e5	5f		 pop	 edi
  093e6	5e		 pop	 esi
  093e7	5b		 pop	 ebx
  093e8	8b e5		 mov	 esp, ebp
  093ea	5d		 pop	 ebp
  093eb	c2 0c 00	 ret	 12			; 0000000cH
?SkillRemoveMagic@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillRemoveMagic
; Function compile flags: /Odtp /ZI
_CallMonIndex$241500 = -36				; size = 4
_EnableAttack$ = -32					; size = 4
_DuelIndex$ = -28					; size = 4
_bAttack$ = -24						; size = 4
_HitCount$ = -20					; size = 4
_count$ = -16						; size = 4
_tObjNum$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillFenrirAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillFenrirAttack
; _this$ = ecx

; 4649 : {

  093f0	55		 push	 ebp
  093f1	8b ec		 mov	 ebp, esp
  093f3	83 ec 64	 sub	 esp, 100		; 00000064H
  093f6	53		 push	 ebx
  093f7	56		 push	 esi
  093f8	57		 push	 edi
  093f9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4650 : 	LPOBJ lpObj = &gObj[aIndex];

  093fc	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  093ff	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09405	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0940b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4651 : 	int tObjNum;
; 4652 : 	int count = 0;

  0940e	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 4653 : 	int HitCount = 0;

  09415	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0

; 4654 : 	int bAttack;
; 4655 : 	int DuelIndex = lpObj->m_iDuelUser;

  0941c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0941f	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  09425	89 4d e4	 mov	 DWORD PTR _DuelIndex$[ebp], ecx

; 4656 : 	int EnableAttack;
; 4657 : 
; 4658 : 	if(lpObj->Level < 300)

  09428	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0942b	0f bf 88 be 00
	00 00		 movsx	 ecx, WORD PTR [eax+190]
  09432	81 f9 2c 01 00
	00		 cmp	 ecx, 300		; 0000012cH
  09438	7d 07		 jge	 SHORT $LN22@SkillFenri

; 4659 : 	{
; 4660 : 		return false;

  0943a	33 c0		 xor	 eax, eax
  0943c	e9 5e 02 00 00	 jmp	 $LN24@SkillFenri
$LN22@SkillFenri:

; 4661 : 	}
; 4662 : 
; 4663 : 	while( true )

  09441	b8 01 00 00 00	 mov	 eax, 1
  09446	85 c0		 test	 eax, eax
  09448	0f 84 4c 02 00
	00		 je	 $LN21@SkillFenri

; 4664 : 	{
; 4665 : 		if(lpObj->VpPlayer2[count].state != 0)

  0944e	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  09451	6b c0 0c	 imul	 eax, 12			; 0000000cH
  09454	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09457	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0945f	85 d2		 test	 edx, edx
  09461	0f 84 1d 02 00
	00		 je	 $LN20@SkillFenri

; 4666 : 		{
; 4667 : 			tObjNum = lpObj->VpPlayer2[count].number;

  09467	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0946a	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0946d	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09470	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  09478	89 55 f4	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 4668 : 
; 4669 : 			if(tObjNum >= 0)

  0947b	83 7d f4 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0947f	0f 8c ff 01 00
	00		 jl	 $LN20@SkillFenri

; 4670 : 			{
; 4671 : 				EnableAttack = 0;

  09485	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 4672 : 
; 4673 : 				if(gObj[tObjNum].Class < 100 || gObj[tObjNum].Class > 110)

  0948c	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0948f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09495	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0949b	0f b7 94 01 b8
	00 00 00	 movzx	 edx, WORD PTR [ecx+eax+184]
  094a3	83 fa 64	 cmp	 edx, 100		; 00000064H
  094a6	7c 20		 jl	 SHORT $LN17@SkillFenri
  094a8	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  094ab	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  094b1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  094b7	0f b7 94 01 b8
	00 00 00	 movzx	 edx, WORD PTR [ecx+eax+184]
  094bf	83 fa 6e	 cmp	 edx, 110		; 0000006eH
  094c2	0f 8e 3a 01 00
	00		 jle	 $LN18@SkillFenri
$LN17@SkillFenri:

; 4674 : 				{
; 4675 : 					if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  094c8	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  094cb	6b c0 0c	 imul	 eax, 12			; 0000000cH
  094ce	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  094d1	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  094d9	83 fa 02	 cmp	 edx, 2
  094dc	75 25		 jne	 SHORT $LN16@SkillFenri
  094de	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  094e1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  094e7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  094ed	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  094f5	7d 0c		 jge	 SHORT $LN16@SkillFenri

; 4676 : 					{
; 4677 : 						EnableAttack = 1;

  094f7	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  094fe	e9 ff 00 00 00	 jmp	 $LN18@SkillFenri
$LN16@SkillFenri:

; 4678 : 					}
; 4679 : 					else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  09503	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09506	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  09509	74 08		 je	 SHORT $LN13@SkillFenri
  0950b	8b 45 e4	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  0950e	3b 45 f4	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  09511	75 0c		 jne	 SHORT $LN14@SkillFenri
$LN13@SkillFenri:

; 4680 : 					{
; 4681 : 						EnableAttack = 1;

  09513	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  0951a	e9 e3 00 00 00	 jmp	 $LN18@SkillFenri
$LN14@SkillFenri:

; 4682 : 					}
; 4683 : //#if(GS_CASTLE==1)
; 4684 : 					else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  0951f	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  09522	6b c0 0c	 imul	 eax, 12			; 0000000cH
  09525	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09528	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  09530	83 fa 03	 cmp	 edx, 3
  09533	74 37		 je	 SHORT $LN11@SkillFenri
  09535	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09538	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0953e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09544	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0954c	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  0954f	75 1b		 jne	 SHORT $LN11@SkillFenri
  09551	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  09556	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  0955b	83 f8 07	 cmp	 eax, 7
  0955e	75 0c		 jne	 SHORT $LN11@SkillFenri

; 4685 : 					{
; 4686 : 						EnableAttack = 1;

  09560	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 4687 : 					}
; 4688 : //#endif
; 4689 : 					else

  09567	e9 96 00 00 00	 jmp	 $LN18@SkillFenri
$LN11@SkillFenri:

; 4690 : 					{
; 4691 : 						int CallMonIndex = gObj[tObjNum].m_Index;

  0956c	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0956f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09575	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0957b	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0957e	89 55 dc	 mov	 DWORD PTR _CallMonIndex$241500[ebp], edx

; 4692 : 
; 4693 : 
; 4694 : 						if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  09581	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09584	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0958a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09590	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  09595	83 fa 02	 cmp	 edx, 2
  09598	75 40		 jne	 SHORT $LN9@SkillFenri
  0959a	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0959d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  095a3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  095a9	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  095b1	7c 27		 jl	 SHORT $LN9@SkillFenri

; 4695 : 						{
; 4696 : 							CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  095b3	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  095b6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  095bc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  095c2	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  095c9	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  095cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  095d4	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  095d7	89 4d dc	 mov	 DWORD PTR _CallMonIndex$241500[ebp], ecx
$LN9@SkillFenri:

; 4697 : 						}
; 4698 : 
; 4699 : 						if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex]) == 1)

  095da	8b 45 dc	 mov	 eax, DWORD PTR _CallMonIndex$241500[ebp]
  095dd	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  095e3	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  095e9	50		 push	 eax
  095ea	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  095ed	51		 push	 ecx
  095ee	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  095f3	83 c4 08	 add	 esp, 8
  095f6	83 f8 01	 cmp	 eax, 1
  095f9	75 07		 jne	 SHORT $LN18@SkillFenri

; 4700 : 						{
; 4701 : 							EnableAttack = 1;

  095fb	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN18@SkillFenri:

; 4702 : 						}
; 4703 : 					}
; 4704 : 				}
; 4705 : 
; 4706 : 				if(EnableAttack != 0)

  09602	83 7d e0 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  09606	74 7c		 je	 SHORT $LN20@SkillFenri

; 4707 : 				{
; 4708 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 6)

  09608	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0960b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09611	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09617	50		 push	 eax
  09618	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0961b	51		 push	 ecx
  0961c	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  09621	83 c4 08	 add	 esp, 8
  09624	83 f8 06	 cmp	 eax, 6
  09627	7d 5b		 jge	 SHORT $LN20@SkillFenri

; 4709 : 					{
; 4710 : 						bAttack = 0;

  09629	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 4711 : 
; 4712 : 						if(HitCount >= 5)

  09630	83 7d ec 05	 cmp	 DWORD PTR _HitCount$[ebp], 5
  09634	7c 09		 jl	 SHORT $LN5@SkillFenri

; 4713 : 						{
; 4714 : 							bAttack = 0;

  09636	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 4715 : 						}
; 4716 : 						else

  0963d	eb 07		 jmp	 SHORT $LN4@SkillFenri
$LN5@SkillFenri:

; 4717 : 						{
; 4718 : 							bAttack = 1;

  0963f	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN4@SkillFenri:

; 4719 : 						}
; 4720 : 
; 4721 : 						if(tObjNum == aTargetIndex)

  09646	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09649	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0964c	75 07		 jne	 SHORT $LN3@SkillFenri

; 4722 : 						{
; 4723 : 							bAttack = 1;

  0964e	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN3@SkillFenri:

; 4724 : 						}
; 4725 : 
; 4726 : 						if(bAttack != 0)

  09655	83 7d e8 00	 cmp	 DWORD PTR _bAttack$[ebp], 0
  09659	74 29		 je	 SHORT $LN20@SkillFenri

; 4727 : 						{
; 4728 : 							gObjAddAttackProcMsgSendDelay(lpObj,53,tObjNum,300,lpMagic->m_Skill,0);

  0965b	6a 00		 push	 0
  0965d	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  09660	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  09663	51		 push	 ecx
  09664	68 2c 01 00 00	 push	 300			; 0000012cH
  09669	8b 55 f4	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  0966c	52		 push	 edx
  0966d	6a 35		 push	 53			; 00000035H
  0966f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09672	50		 push	 eax
  09673	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  09678	83 c4 18	 add	 esp, 24			; 00000018H

; 4729 : 							HitCount++;

  0967b	8b 45 ec	 mov	 eax, DWORD PTR _HitCount$[ebp]
  0967e	83 c0 01	 add	 eax, 1
  09681	89 45 ec	 mov	 DWORD PTR _HitCount$[ebp], eax
$LN20@SkillFenri:

; 4730 : 						}
; 4731 : 					}
; 4732 : 				}
; 4733 : 			}
; 4734 : 		}
; 4735 : 
; 4736 : 		count++;

  09684	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  09687	83 c0 01	 add	 eax, 1
  0968a	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 4737 : 
; 4738 : 		if(count > MAX_VIEWPORT - 1)

  0968d	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  09691	7e 02		 jle	 SHORT $LN1@SkillFenri

; 4739 : 		{
; 4740 : 			break;

  09693	eb 05		 jmp	 SHORT $LN21@SkillFenri
$LN1@SkillFenri:

; 4741 : 		}
; 4742 : 	}

  09695	e9 a7 fd ff ff	 jmp	 $LN22@SkillFenri
$LN21@SkillFenri:

; 4743 : 	return true;

  0969a	b8 01 00 00 00	 mov	 eax, 1
$LN24@SkillFenri:

; 4744 : }

  0969f	5f		 pop	 edi
  096a0	5e		 pop	 esi
  096a1	5b		 pop	 ebx
  096a2	8b e5		 mov	 esp, ebp
  096a4	5d		 pop	 ebp
  096a5	c2 0c 00	 ret	 12			; 0000000cH
?SkillFenrirAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillFenrirAttack
_TEXT	ENDS
PUBLIC	??_C@_0FA@NONLFBKD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Use?5Infinity?5Arrow?5Skil@ ; `string'
PUBLIC	?GetInfinityArrowSkillTime@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowSkillTime
;	COMDAT ??_C@_0FA@NONLFBKD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Use?5Infinity?5Arrow?5Skil@
CONST	SEGMENT
??_C@_0FA@NONLFBKD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Use?5Infinity?5Arrow?5Skil@ DB '['
	DB	'%s][%s] Use Infinity Arrow Skill (Time:%d)(Character Level : '
	DB	'%d)(ChangeUp: %d)', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillInfinityArrow@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillInfinityArrow
; _this$ = ecx

; 4748 : {

  096b0	55		 push	 ebp
  096b1	8b ec		 mov	 ebp, esp
  096b3	83 ec 48	 sub	 esp, 72			; 00000048H
  096b6	53		 push	 ebx
  096b7	56		 push	 esi
  096b8	57		 push	 edi
  096b9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4749 : 	LPOBJ lpObj = &gObj[aIndex];

  096bc	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  096bf	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  096c5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  096cb	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4750 : 
; 4751 : 	if(lpObj->Type != OBJ_USER)

  096ce	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  096d1	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  096d5	83 f9 01	 cmp	 ecx, 1
  096d8	74 07		 je	 SHORT $LN5@SkillInfin

; 4752 : 	{
; 4753 : 		return false;

  096da	33 c0		 xor	 eax, eax
  096dc	e9 c8 00 00 00	 jmp	 $LN6@SkillInfin
$LN5@SkillInfin:

; 4754 : 	}
; 4755 : 
; 4756 : 	if(lpObj->Class != CLASS_ELF || lpObj->ChangeUP == 0)

  096e1	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  096e4	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  096eb	83 f9 02	 cmp	 ecx, 2
  096ee	75 0e		 jne	 SHORT $LN3@SkillInfin
  096f0	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  096f3	0f b6 88 bb 00
	00 00		 movzx	 ecx, BYTE PTR [eax+187]
  096fa	85 c9		 test	 ecx, ecx
  096fc	75 07		 jne	 SHORT $LN4@SkillInfin
$LN3@SkillInfin:

; 4757 : 	{
; 4758 : 		return false;

  096fe	33 c0		 xor	 eax, eax
  09700	e9 a4 00 00 00	 jmp	 $LN6@SkillInfin
$LN4@SkillInfin:

; 4759 : 	}
; 4760 : 
; 4761 : 	if(lpObj->m_Index != aTargetIndex)

  09705	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09708	8b 08		 mov	 ecx, DWORD PTR [eax]
  0970a	3b 4d 0c	 cmp	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0970d	74 07		 je	 SHORT $LN2@SkillInfin

; 4762 : 	{
; 4763 : 		return false;

  0970f	33 c0		 xor	 eax, eax
  09711	e9 93 00 00 00	 jmp	 $LN6@SkillInfin
$LN2@SkillInfin:

; 4764 : 	}
; 4765 : 
; 4766 : 	if(gObjSearchActiveEffect(lpObj, AT_INFINITY_ARROW) == TRUE)

  09716	6a 06		 push	 6
  09718	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0971b	50		 push	 eax
  0971c	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  09721	83 c4 08	 add	 esp, 8
  09724	0f b6 c8	 movzx	 ecx, al
  09727	83 f9 01	 cmp	 ecx, 1
  0972a	75 04		 jne	 SHORT $LN1@SkillInfin

; 4767 : 	{
; 4768 : 		return false;

  0972c	33 c0		 xor	 eax, eax
  0972e	eb 79		 jmp	 SHORT $LN6@SkillInfin
$LN1@SkillInfin:

; 4769 : 	}
; 4770 : 
; 4771 : 	gObjApplyBuffEffectDuration(lpObj, AT_INFINITY_ARROW, 0, 0, 0, 0, g_SkillAdditionInfo.GetInfinityArrowSkillTime());

  09730	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A ; g_SkillAdditionInfo
  09735	e8 00 00 00 00	 call	 ?GetInfinityArrowSkillTime@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowSkillTime
  0973a	50		 push	 eax
  0973b	6a 00		 push	 0
  0973d	6a 00		 push	 0
  0973f	6a 00		 push	 0
  09741	6a 00		 push	 0
  09743	6a 06		 push	 6
  09745	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09748	50		 push	 eax
  09749	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0974e	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4772 : 	GCMagicAttackNumberSend(lpObj,0x4D,lpObj->m_Index,1);

  09751	6a 01		 push	 1
  09753	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09756	8b 08		 mov	 ecx, DWORD PTR [eax]
  09758	51		 push	 ecx
  09759	6a 4d		 push	 77			; 0000004dH
  0975b	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0975e	52		 push	 edx
  0975f	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  09764	83 c4 10	 add	 esp, 16			; 00000010H

; 4773 : 	LogAddTD("[%s][%s] Use Infinity Arrow Skill (Time:%d)(Character Level : %d)(ChangeUp: %d)",	lpObj->AccountID,lpObj->Name,g_SkillAdditionInfo.GetInfinityArrowSkillTime(),lpObj->Level,lpObj->ChangeUP);

  09767	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0976a	0f b6 88 bb 00
	00 00		 movzx	 ecx, BYTE PTR [eax+187]
  09771	51		 push	 ecx
  09772	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09775	0f bf 82 be 00
	00 00		 movsx	 eax, WORD PTR [edx+190]
  0977c	50		 push	 eax
  0977d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A ; g_SkillAdditionInfo
  09782	e8 00 00 00 00	 call	 ?GetInfinityArrowSkillTime@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowSkillTime
  09787	50		 push	 eax
  09788	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0978b	83 c1 77	 add	 ecx, 119		; 00000077H
  0978e	51		 push	 ecx
  0978f	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09792	83 c2 6c	 add	 edx, 108		; 0000006cH
  09795	52		 push	 edx
  09796	68 00 00 00 00	 push	 OFFSET ??_C@_0FA@NONLFBKD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Use?5Infinity?5Arrow?5Skil@
  0979b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  097a1	83 c4 18	 add	 esp, 24			; 00000018H

; 4774 : 	return true;

  097a4	b8 01 00 00 00	 mov	 eax, 1
$LN6@SkillInfin:

; 4775 : }

  097a9	5f		 pop	 edi
  097aa	5e		 pop	 esi
  097ab	5b		 pop	 ebx
  097ac	8b e5		 mov	 esp, ebp
  097ae	5d		 pop	 ebp
  097af	c2 0c 00	 ret	 12			; 0000000cH
?SkillInfinityArrow@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillInfinityArrow
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\skilladditioninfo.h
_TEXT	ENDS
;	COMDAT ?GetInfinityArrowSkillTime@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetInfinityArrowSkillTime@CSkillAdditionInfo@@QAEHXZ PROC ; CSkillAdditionInfo::GetInfinityArrowSkillTime, COMDAT
; _this$ = ecx

; 35   : 	int GetInfinityArrowSkillTime(){return this->m_iInfinityArrowSkillTime;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 04	 mov	 eax, DWORD PTR [eax+4]
  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetInfinityArrowSkillTime@CSkillAdditionInfo@@QAEHXZ ENDP ; CSkillAdditionInfo::GetInfinityArrowSkillTime
_TEXT	ENDS
PUBLIC	?GetFireScreamSkill@CSkillAdditionInfo@@QAEHXZ	; CSkillAdditionInfo::GetFireScreamSkill
PUBLIC	?SkillFireScream@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillFireScream
EXTRN	?gObjIsConnected@@YAHH@Z:PROC			; gObjIsConnected
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\objuseskill.cpp
_TEXT	SEGMENT
_lpTargetObj$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillFireScream@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillFireScream
; _this$ = ecx

; 4779 : {

  097c0	55		 push	 ebp
  097c1	8b ec		 mov	 ebp, esp
  097c3	83 ec 4c	 sub	 esp, 76			; 0000004cH
  097c6	53		 push	 ebx
  097c7	56		 push	 esi
  097c8	57		 push	 edi
  097c9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4780 : 	if(g_SkillAdditionInfo.GetFireScreamSkill() == false)

  097cc	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A ; g_SkillAdditionInfo
  097d1	e8 00 00 00 00	 call	 ?GetFireScreamSkill@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetFireScreamSkill
  097d6	85 c0		 test	 eax, eax
  097d8	75 07		 jne	 SHORT $LN4@SkillFireS

; 4781 : 	{
; 4782 : 		return false;

  097da	33 c0		 xor	 eax, eax
  097dc	e9 94 00 00 00	 jmp	 $LN5@SkillFireS
$LN4@SkillFireS:

; 4783 : 	}
; 4784 : 
; 4785 : 	LPOBJ lpObj = &gObj[aIndex];

  097e1	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  097e4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  097ea	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  097f0	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4786 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  097f3	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  097f6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  097fc	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09802	89 45 f4	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 4787 : 
; 4788 : 	if(gObjIsConnected(lpObj->m_Index) == false && gObjIsConnected(lpTargetObj->m_Index) == false)

  09805	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09808	8b 08		 mov	 ecx, DWORD PTR [eax]
  0980a	51		 push	 ecx
  0980b	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  09810	83 c4 04	 add	 esp, 4
  09813	85 c0		 test	 eax, eax
  09815	75 16		 jne	 SHORT $LN3@SkillFireS
  09817	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0981a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0981c	51		 push	 ecx
  0981d	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  09822	83 c4 04	 add	 esp, 4
  09825	85 c0		 test	 eax, eax
  09827	75 04		 jne	 SHORT $LN3@SkillFireS

; 4789 : 	{
; 4790 : 		return false;

  09829	33 c0		 xor	 eax, eax
  0982b	eb 48		 jmp	 SHORT $LN5@SkillFireS
$LN3@SkillFireS:

; 4791 : 	}
; 4792 : 
; 4793 : 	if(lpObj->Type != OBJ_USER)

  0982d	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09830	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  09834	83 f9 01	 cmp	 ecx, 1
  09837	74 04		 je	 SHORT $LN2@SkillFireS

; 4794 : 	{
; 4795 : 		return false;

  09839	33 c0		 xor	 eax, eax
  0983b	eb 38		 jmp	 SHORT $LN5@SkillFireS
$LN2@SkillFireS:

; 4796 : 	}
; 4797 : 
; 4798 : 	if(lpObj->Class != CLASS_DARKLORD)

  0983d	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09840	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  09847	83 f9 04	 cmp	 ecx, 4
  0984a	74 04		 je	 SHORT $LN1@SkillFireS

; 4799 : 	{
; 4800 : 		return false;

  0984c	33 c0		 xor	 eax, eax
  0984e	eb 25		 jmp	 SHORT $LN5@SkillFireS
$LN1@SkillFireS:

; 4801 : 	}
; 4802 : 
; 4803 : 	gObjAttack(lpObj,lpTargetObj,lpMagic,0,0,0,0,0,0);

  09850	6a 00		 push	 0
  09852	6a 00		 push	 0
  09854	6a 00		 push	 0
  09856	6a 00		 push	 0
  09858	6a 00		 push	 0
  0985a	6a 00		 push	 0
  0985c	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0985f	50		 push	 eax
  09860	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  09863	51		 push	 ecx
  09864	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09867	52		 push	 edx
  09868	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0986d	83 c4 24	 add	 esp, 36			; 00000024H

; 4804 : 	return true;

  09870	b8 01 00 00 00	 mov	 eax, 1
$LN5@SkillFireS:

; 4805 : }

  09875	5f		 pop	 edi
  09876	5e		 pop	 esi
  09877	5b		 pop	 ebx
  09878	8b e5		 mov	 esp, ebp
  0987a	5d		 pop	 ebp
  0987b	c2 0c 00	 ret	 12			; 0000000cH
?SkillFireScream@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillFireScream
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\skilladditioninfo.h
_TEXT	ENDS
;	COMDAT ?GetFireScreamSkill@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetFireScreamSkill@CSkillAdditionInfo@@QAEHXZ PROC	; CSkillAdditionInfo::GetFireScreamSkill, COMDAT
; _this$ = ecx

; 47   : 	BOOL GetFireScreamSkill(){return this->m_bFireScreamSkill;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 1c	 mov	 eax, DWORD PTR [eax+28]
  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetFireScreamSkill@CSkillAdditionInfo@@QAEHXZ ENDP	; CSkillAdditionInfo::GetFireScreamSkill
_TEXT	ENDS
PUBLIC	?GetFireScreamExplosionAttackDistance@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetFireScreamExplosionAttackDistance
PUBLIC	?GetFireScreamExplosionRate@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetFireScreamExplosionRate
PUBLIC	?FireScreamExplosionAttack@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0H@Z ; CObjUseSkill::FireScreamExplosionAttack
EXTRN	?gObjAddMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHH@Z:PROC ; gObjAddMsgSendDelay
EXTRN	?gObjGetRelationShip@@YAHPAUOBJECTSTRUCT@@0@Z:PROC ; gObjGetRelationShip
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\objuseskill.cpp
_TEXT	SEGMENT
_iSkillDistance$241565 = -24				; size = 4
_bEnableAttack$ = -20					; size = 4
_iCount$ = -16						; size = 4
_iTarObjNum$ = -12					; size = 4
_iExplosionDamage$ = -8					; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
_iAttackDamage$ = 16					; size = 4
?FireScreamExplosionAttack@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0H@Z PROC ; CObjUseSkill::FireScreamExplosionAttack
; _this$ = ecx

; 4808 : {

  09880	55		 push	 ebp
  09881	8b ec		 mov	 ebp, esp
  09883	83 ec 58	 sub	 esp, 88			; 00000058H
  09886	53		 push	 ebx
  09887	56		 push	 esi
  09888	57		 push	 edi
  09889	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4809 : 	if(gObjIsConnected(lpObj->m_Index) == false && gObjIsConnected(lpTargetObj->m_Index) == false)

  0988c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0988f	8b 08		 mov	 ecx, DWORD PTR [eax]
  09891	51		 push	 ecx
  09892	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  09897	83 c4 04	 add	 esp, 4
  0989a	85 c0		 test	 eax, eax
  0989c	75 19		 jne	 SHORT $LN21@FireScream
  0989e	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  098a1	8b 08		 mov	 ecx, DWORD PTR [eax]
  098a3	51		 push	 ecx
  098a4	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  098a9	83 c4 04	 add	 esp, 4
  098ac	85 c0		 test	 eax, eax
  098ae	75 07		 jne	 SHORT $LN21@FireScream

; 4810 : 	{
; 4811 : 		return false;

  098b0	33 c0		 xor	 eax, eax
  098b2	e9 8a 02 00 00	 jmp	 $LN22@FireScream
$LN21@FireScream:

; 4812 : 	}
; 4813 : 
; 4814 : 	if(rand()%10000 > g_SkillAdditionInfo.GetFireScreamExplosionRate())

  098b7	e8 00 00 00 00	 call	 _rand
  098bc	99		 cdq
  098bd	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  098c2	f7 f9		 idiv	 ecx
  098c4	8b f2		 mov	 esi, edx
  098c6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A ; g_SkillAdditionInfo
  098cb	e8 00 00 00 00	 call	 ?GetFireScreamExplosionRate@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetFireScreamExplosionRate
  098d0	3b f0		 cmp	 esi, eax
  098d2	7e 07		 jle	 SHORT $LN20@FireScream

; 4815 : 	{
; 4816 : 		return false;

  098d4	33 c0		 xor	 eax, eax
  098d6	e9 66 02 00 00	 jmp	 $LN22@FireScream
$LN20@FireScream:

; 4817 : 	}
; 4818 : 
; 4819 : 	int iExplosionDamage = iAttackDamage / 10;

  098db	8b 45 10	 mov	 eax, DWORD PTR _iAttackDamage$[ebp]
  098de	99		 cdq
  098df	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  098e4	f7 f9		 idiv	 ecx
  098e6	89 45 f8	 mov	 DWORD PTR _iExplosionDamage$[ebp], eax

; 4820 : 	int iTarObjNum;
; 4821 : 
; 4822 : 	if(iExplosionDamage < 1)

  098e9	83 7d f8 01	 cmp	 DWORD PTR _iExplosionDamage$[ebp], 1
  098ed	7d 0a		 jge	 SHORT $LN19@FireScream

; 4823 : 	{
; 4824 : 		return true;

  098ef	b8 01 00 00 00	 mov	 eax, 1
  098f4	e9 48 02 00 00	 jmp	 $LN22@FireScream
$LN19@FireScream:

; 4825 : 	}
; 4826 : 
; 4827 : 	int iCount = 0;

  098f9	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iCount$[ebp], 0
$LN18@FireScream:

; 4828 : 	BOOL bEnableAttack;
; 4829 : 
; 4830 : 	while( true )

  09900	b8 01 00 00 00	 mov	 eax, 1
  09905	85 c0		 test	 eax, eax
  09907	0f 84 2f 02 00
	00		 je	 $LN17@FireScream

; 4831 : 	{
; 4832 : 		if(lpObj->VpPlayer2[iCount].state != 0)

  0990d	8b 45 f0	 mov	 eax, DWORD PTR _iCount$[ebp]
  09910	6b c0 0c	 imul	 eax, 12			; 0000000cH
  09913	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09916	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0991e	85 d2		 test	 edx, edx
  09920	0f 84 00 02 00
	00		 je	 $LN16@FireScream

; 4833 : 		{
; 4834 : 			iTarObjNum = lpObj->VpPlayer2[iCount].number;

  09926	8b 45 f0	 mov	 eax, DWORD PTR _iCount$[ebp]
  09929	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0992c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0992f	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  09937	89 55 f4	 mov	 DWORD PTR _iTarObjNum$[ebp], edx

; 4835 : 
; 4836 : 			if(iTarObjNum >= 0)

  0993a	83 7d f4 00	 cmp	 DWORD PTR _iTarObjNum$[ebp], 0
  0993e	0f 8c e2 01 00
	00		 jl	 $LN16@FireScream

; 4837 : 			{
; 4838 : 				bEnableAttack = FALSE;

  09944	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 0

; 4839 : 
; 4840 : 				if(gObj[iTarObjNum].Type == OBJ_MONSTER && gObj[iTarObjNum].m_RecallMon < 0)

  0994b	8b 45 f4	 mov	 eax, DWORD PTR _iTarObjNum$[ebp]
  0994e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09954	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0995a	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0995f	83 fa 02	 cmp	 edx, 2
  09962	75 25		 jne	 SHORT $LN14@FireScream
  09964	8b 45 f4	 mov	 eax, DWORD PTR _iTarObjNum$[ebp]
  09967	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0996d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09973	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0997b	7d 0c		 jge	 SHORT $LN14@FireScream

; 4841 : 				{
; 4842 : 					bEnableAttack = TRUE;

  0997d	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  09984	e9 38 01 00 00	 jmp	 $LN13@FireScream
$LN14@FireScream:

; 4843 : 				}
; 4844 : 				else if(lpTargetObj->Type == OBJ_USER && lpObj->Type == OBJ_USER && gObj[iTarObjNum].Type != OBJ_NPC)

  09989	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0998c	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  09990	83 f9 01	 cmp	 ecx, 1
  09993	75 63		 jne	 SHORT $LN12@FireScream
  09995	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09998	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  0999c	83 f9 01	 cmp	 ecx, 1
  0999f	75 57		 jne	 SHORT $LN12@FireScream
  099a1	8b 45 f4	 mov	 eax, DWORD PTR _iTarObjNum$[ebp]
  099a4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  099aa	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  099b0	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  099b5	83 fa 03	 cmp	 edx, 3
  099b8	74 3e		 je	 SHORT $LN12@FireScream

; 4845 : 				{
; 4846 : 					if(lpTargetObj->m_Index == iTarObjNum)

  099ba	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  099bd	8b 08		 mov	 ecx, DWORD PTR [eax]
  099bf	3b 4d f4	 cmp	 ecx, DWORD PTR _iTarObjNum$[ebp]
  099c2	75 07		 jne	 SHORT $LN11@FireScream

; 4847 : 					{
; 4848 : 						bEnableAttack = TRUE;

  099c4	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN11@FireScream:

; 4849 : 					}
; 4850 : 
; 4851 : 					if(gObjGetRelationShip(lpObj, &gObj[iTarObjNum]) == 2) //rival??

  099cb	8b 45 f4	 mov	 eax, DWORD PTR _iTarObjNum$[ebp]
  099ce	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  099d4	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  099da	50		 push	 eax
  099db	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  099de	51		 push	 ecx
  099df	e8 00 00 00 00	 call	 ?gObjGetRelationShip@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjGetRelationShip
  099e4	83 c4 08	 add	 esp, 8
  099e7	83 f8 02	 cmp	 eax, 2
  099ea	75 07		 jne	 SHORT $LN10@FireScream

; 4852 : 					{
; 4853 : 						bEnableAttack = TRUE;

  099ec	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN10@FireScream:

; 4854 : 					}
; 4855 : 				}

  099f3	e9 c9 00 00 00	 jmp	 $LN13@FireScream
$LN12@FireScream:

; 4856 : 				else if(lpTargetObj->m_cChaosCastleIndex == gObj[iTarObjNum].m_cChaosCastleIndex && lpTargetObj->m_cChaosCastleIndex != -1)

  099f8	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  099fb	0f be 88 a5 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3749]
  09a02	8b 55 f4	 mov	 edx, DWORD PTR _iTarObjNum$[ebp]
  09a05	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  09a0b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09a10	0f be 94 10 a5
	0e 00 00	 movsx	 edx, BYTE PTR [eax+edx+3749]
  09a18	3b ca		 cmp	 ecx, edx
  09a1a	75 1b		 jne	 SHORT $LN8@FireScream
  09a1c	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  09a1f	0f be 88 a5 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3749]
  09a26	83 f9 ff	 cmp	 ecx, -1
  09a29	74 0c		 je	 SHORT $LN8@FireScream

; 4857 : 				{
; 4858 : 					bEnableAttack = TRUE;

  09a2b	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  09a32	e9 8a 00 00 00	 jmp	 $LN13@FireScream
$LN8@FireScream:

; 4859 : 				}
; 4860 : //#if(GS_CASTLE==1)
; 4861 : 				else if(gObj[iTarObjNum].Type != OBJ_NPC && gObj[iTarObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  09a37	8b 45 f4	 mov	 eax, DWORD PTR _iTarObjNum$[ebp]
  09a3a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09a40	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09a46	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  09a4b	83 fa 03	 cmp	 edx, 3
  09a4e	74 71		 je	 SHORT $LN13@FireScream
  09a50	8b 45 f4	 mov	 eax, DWORD PTR _iTarObjNum$[ebp]
  09a53	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09a59	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09a5f	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  09a67	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  09a6a	75 55		 jne	 SHORT $LN13@FireScream
  09a6c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  09a71	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  09a76	83 f8 07	 cmp	 eax, 7
  09a79	75 46		 jne	 SHORT $LN13@FireScream

; 4862 : 				{
; 4863 : 					if(lpObj->m_btCsJoinSide != gObj[iTarObjNum].m_btCsJoinSide && gObj[iTarObjNum].m_btCsJoinSide > 0)

  09a7b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09a7e	0f b6 88 02 1c
	00 00		 movzx	 ecx, BYTE PTR [eax+7170]
  09a85	8b 55 f4	 mov	 edx, DWORD PTR _iTarObjNum$[ebp]
  09a88	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  09a8e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09a93	0f b6 94 10 02
	1c 00 00	 movzx	 edx, BYTE PTR [eax+edx+7170]
  09a9b	3b ca		 cmp	 ecx, edx
  09a9d	74 22		 je	 SHORT $LN13@FireScream
  09a9f	8b 45 f4	 mov	 eax, DWORD PTR _iTarObjNum$[ebp]
  09aa2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09aa8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09aae	0f b6 94 01 02
	1c 00 00	 movzx	 edx, BYTE PTR [ecx+eax+7170]
  09ab6	85 d2		 test	 edx, edx
  09ab8	7e 07		 jle	 SHORT $LN13@FireScream

; 4864 : 					{
; 4865 : 						bEnableAttack = TRUE;

  09aba	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN13@FireScream:

; 4866 : 					}
; 4867 : 				}
; 4868 : //#endif
; 4869 : 				if(bEnableAttack != FALSE)

  09ac1	83 7d ec 00	 cmp	 DWORD PTR _bEnableAttack$[ebp], 0
  09ac5	74 5f		 je	 SHORT $LN16@FireScream

; 4870 : 				{
; 4871 : 					if(lpObj->m_Index != gObj[iTarObjNum].m_Index)

  09ac7	8b 45 f4	 mov	 eax, DWORD PTR _iTarObjNum$[ebp]
  09aca	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09ad0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09ad3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09ad9	8b 09		 mov	 ecx, DWORD PTR [ecx]
  09adb	3b 0c 02	 cmp	 ecx, DWORD PTR [edx+eax]
  09ade	74 46		 je	 SHORT $LN16@FireScream

; 4872 : 					{
; 4873 : 						int iSkillDistance = gObjCalDistance(lpTargetObj,&gObj[iTarObjNum]);

  09ae0	8b 45 f4	 mov	 eax, DWORD PTR _iTarObjNum$[ebp]
  09ae3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09ae9	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09aef	50		 push	 eax
  09af0	8b 4d 0c	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  09af3	51		 push	 ecx
  09af4	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  09af9	83 c4 08	 add	 esp, 8
  09afc	89 45 e8	 mov	 DWORD PTR _iSkillDistance$241565[ebp], eax

; 4874 : 
; 4875 : 						if(iSkillDistance <= g_SkillAdditionInfo.GetFireScreamExplosionAttackDistance())

  09aff	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A ; g_SkillAdditionInfo
  09b04	e8 00 00 00 00	 call	 ?GetFireScreamExplosionAttackDistance@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetFireScreamExplosionAttackDistance
  09b09	39 45 e8	 cmp	 DWORD PTR _iSkillDistance$241565[ebp], eax
  09b0c	7f 18		 jg	 SHORT $LN16@FireScream

; 4876 : 						{
; 4877 : 							gObjAddMsgSendDelay(lpObj,54,iTarObjNum,100,iExplosionDamage);

  09b0e	8b 45 f8	 mov	 eax, DWORD PTR _iExplosionDamage$[ebp]
  09b11	50		 push	 eax
  09b12	6a 64		 push	 100			; 00000064H
  09b14	8b 4d f4	 mov	 ecx, DWORD PTR _iTarObjNum$[ebp]
  09b17	51		 push	 ecx
  09b18	6a 36		 push	 54			; 00000036H
  09b1a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09b1d	52		 push	 edx
  09b1e	e8 00 00 00 00	 call	 ?gObjAddMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHH@Z ; gObjAddMsgSendDelay
  09b23	83 c4 14	 add	 esp, 20			; 00000014H
$LN16@FireScream:

; 4878 : 							//gObjAttack(lpObj,&gObj[iTarObjNum],lpMagic,1,0,0,0,0,0);
; 4879 : 						}
; 4880 : 					}
; 4881 : 				}
; 4882 : 			}
; 4883 : 		}
; 4884 : 
; 4885 : 		iCount++;

  09b26	8b 45 f0	 mov	 eax, DWORD PTR _iCount$[ebp]
  09b29	83 c0 01	 add	 eax, 1
  09b2c	89 45 f0	 mov	 DWORD PTR _iCount$[ebp], eax

; 4886 : 
; 4887 : 		if(iCount > MAX_VIEWPORT -1)

  09b2f	83 7d f0 4a	 cmp	 DWORD PTR _iCount$[ebp], 74 ; 0000004aH
  09b33	7e 02		 jle	 SHORT $LN1@FireScream

; 4888 : 		{
; 4889 : 			break;

  09b35	eb 05		 jmp	 SHORT $LN17@FireScream
$LN1@FireScream:

; 4890 : 		}
; 4891 : 	}

  09b37	e9 c4 fd ff ff	 jmp	 $LN18@FireScream
$LN17@FireScream:

; 4892 : 	return true;

  09b3c	b8 01 00 00 00	 mov	 eax, 1
$LN22@FireScream:

; 4893 : }

  09b41	5f		 pop	 edi
  09b42	5e		 pop	 esi
  09b43	5b		 pop	 ebx
  09b44	8b e5		 mov	 esp, ebp
  09b46	5d		 pop	 ebp
  09b47	c2 0c 00	 ret	 12			; 0000000cH
?FireScreamExplosionAttack@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0H@Z ENDP ; CObjUseSkill::FireScreamExplosionAttack
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\skilladditioninfo.h
_TEXT	ENDS
;	COMDAT ?GetFireScreamExplosionAttackDistance@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetFireScreamExplosionAttackDistance@CSkillAdditionInfo@@QAEHXZ PROC ; CSkillAdditionInfo::GetFireScreamExplosionAttackDistance, COMDAT
; _this$ = ecx

; 49   : 	int GetFireScreamExplosionAttackDistance(){return this->m_iFireScreamExplosionAttackDistance;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 20	 mov	 eax, DWORD PTR [eax+32]
  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetFireScreamExplosionAttackDistance@CSkillAdditionInfo@@QAEHXZ ENDP ; CSkillAdditionInfo::GetFireScreamExplosionAttackDistance
; Function compile flags: /Odtp /ZI
_TEXT	ENDS
;	COMDAT ?GetFireScreamExplosionRate@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetFireScreamExplosionRate@CSkillAdditionInfo@@QAEHXZ PROC ; CSkillAdditionInfo::GetFireScreamExplosionRate, COMDAT
; _this$ = ecx

; 51   : 	int GetFireScreamExplosionRate(){return this->m_iFireScreamExplosionRate;}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 24	 mov	 eax, DWORD PTR [eax+36]
  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetFireScreamExplosionRate@CSkillAdditionInfo@@QAEHXZ ENDP ; CSkillAdditionInfo::GetFireScreamExplosionRate
_TEXT	ENDS
PUBLIC	?SpecificSkillAdditionTreat@CObjUseSkill@@QAEXPAUOBJECTSTRUCT@@0PAVCMagicInf@@H@Z ; CObjUseSkill::SpecificSkillAdditionTreat
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\objuseskill.cpp
_TEXT	SEGMENT
_inSkillNum$ = -8					; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
_iAttackDamage$ = 20					; size = 4
?SpecificSkillAdditionTreat@CObjUseSkill@@QAEXPAUOBJECTSTRUCT@@0PAVCMagicInf@@H@Z PROC ; CObjUseSkill::SpecificSkillAdditionTreat
; _this$ = ecx

; 4896 : {

  09b50	55		 push	 ebp
  09b51	8b ec		 mov	 ebp, esp
  09b53	83 ec 48	 sub	 esp, 72			; 00000048H
  09b56	53		 push	 ebx
  09b57	56		 push	 esi
  09b58	57		 push	 edi
  09b59	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4897 : 	int inSkillNum = lpMagic->m_Skill;

  09b5c	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  09b5f	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  09b62	89 4d f8	 mov	 DWORD PTR _inSkillNum$[ebp], ecx

; 4898 : 
; 4899 : 	if(inSkillNum == AT_SKILL_FIRESCREAM || 
; 4900 : 		(inSkillNum >= 525 && inSkillNum < 530)) //season4 add-on

  09b65	83 7d f8 4e	 cmp	 DWORD PTR _inSkillNum$[ebp], 78 ; 0000004eH
  09b69	74 12		 je	 SHORT $LN1@SpecificSk
  09b6b	81 7d f8 0d 02
	00 00		 cmp	 DWORD PTR _inSkillNum$[ebp], 525 ; 0000020dH
  09b72	7c 1f		 jl	 SHORT $LN3@SpecificSk
  09b74	81 7d f8 12 02
	00 00		 cmp	 DWORD PTR _inSkillNum$[ebp], 530 ; 00000212H
  09b7b	7d 16		 jge	 SHORT $LN3@SpecificSk
$LN1@SpecificSk:

; 4901 : 	{
; 4902 : 		gObjUseSkill.FireScreamExplosionAttack(lpObj,lpTargetObj,iAttackDamage);

  09b7d	8b 45 14	 mov	 eax, DWORD PTR _iAttackDamage$[ebp]
  09b80	50		 push	 eax
  09b81	8b 4d 0c	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  09b84	51		 push	 ecx
  09b85	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09b88	52		 push	 edx
  09b89	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  09b8e	e8 00 00 00 00	 call	 ?FireScreamExplosionAttack@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0H@Z ; CObjUseSkill::FireScreamExplosionAttack
$LN3@SpecificSk:

; 4903 : 	}
; 4904 : }

  09b93	5f		 pop	 edi
  09b94	5e		 pop	 esi
  09b95	5b		 pop	 ebx
  09b96	8b e5		 mov	 esp, ebp
  09b98	5d		 pop	 ebp
  09b99	c2 10 00	 ret	 16			; 00000010H
?SpecificSkillAdditionTreat@CObjUseSkill@@QAEXPAUOBJECTSTRUCT@@0PAVCMagicInf@@H@Z ENDP ; CObjUseSkill::SpecificSkillAdditionTreat
_TEXT	ENDS
EXTRN	?gCheckSkillDistance@@YAHHHH@Z:PROC		; gCheckSkillDistance
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_CallMonIndex$241601 = -36				; size = 4
_EnableAttack$ = -32					; size = 4
_DuelIndex$ = -28					; size = 4
_count$ = -24						; size = 4
_fangle$ = -20						; size = 4
_tObjNum$ = -16						; size = 4
_Result$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillEletrictSurge@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillEletrictSurge
; _this$ = ecx

; 4908 : {

  09ba0	55		 push	 ebp
  09ba1	8b ec		 mov	 ebp, esp
  09ba3	83 ec 64	 sub	 esp, 100		; 00000064H
  09ba6	53		 push	 ebx
  09ba7	56		 push	 esi
  09ba8	57		 push	 edi
  09ba9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4909 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2 ebp-8

  09bac	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  09baf	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09bb5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09bbb	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 4910 : 	int Result = 0; //loc3 ebp-c

  09bbe	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _Result$[ebp], 0

; 4911 : 	int tObjNum; //loc4 ebp-10
; 4912 : 
; 4913 : 	int fangle = this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y); //loc5 -> ebp-14

  09bc5	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  09bc8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09bce	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09bd4	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  09bdc	52		 push	 edx
  09bdd	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  09be0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09be6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09bec	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  09bf4	52		 push	 edx
  09bf5	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09bf8	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  09bff	51		 push	 ecx
  09c00	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09c03	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  09c0a	50		 push	 eax
  09c0b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  09c0e	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle
  09c13	89 45 ec	 mov	 DWORD PTR _fangle$[ebp], eax

; 4914 : 
; 4915 : 	int count = 0; //loc6 ebp-18

  09c16	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 4916 : 
; 4917 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  09c1d	6a 01		 push	 1
  09c1f	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  09c22	50		 push	 eax
  09c23	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  09c26	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  09c2a	52		 push	 edx
  09c2b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09c2e	50		 push	 eax
  09c2f	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  09c34	83 c4 10	 add	 esp, 16			; 00000010H

; 4918 : 
; 4919 : 	int DuelIndex = lpObj->m_iDuelUser; //loc8 -> ebp-1c

  09c37	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09c3a	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  09c40	89 4d e4	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
$LN15@SkillEletr:

; 4920 : 	int EnableAttack; //loc9 -> ebp-20
; 4921 : 
; 4922 : 	while ( true )

  09c43	b8 01 00 00 00	 mov	 eax, 1
  09c48	85 c0		 test	 eax, eax
  09c4a	0f 84 93 01 00
	00		 je	 $LN14@SkillEletr

; 4923 : 	{
; 4924 : 		if(lpObj->VpPlayer2[count].state != 0)

  09c50	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  09c53	6b c0 0c	 imul	 eax, 12			; 0000000cH
  09c56	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09c59	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  09c61	85 d2		 test	 edx, edx
  09c63	0f 84 64 01 00
	00		 je	 $LN13@SkillEletr

; 4925 : 		{
; 4926 : 			tObjNum = lpObj->VpPlayer2[count].number;

  09c69	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  09c6c	6b c0 0c	 imul	 eax, 12			; 0000000cH
  09c6f	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09c72	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  09c7a	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 4927 : 
; 4928 : 			if(tObjNum >= 0)

  09c7d	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  09c81	0f 8c 46 01 00
	00		 jl	 $LN13@SkillEletr

; 4929 : 			{
; 4930 : 				EnableAttack = 0;

  09c87	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 4931 : 
; 4932 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  09c8e	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  09c91	6b c0 0c	 imul	 eax, 12			; 0000000cH
  09c94	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09c97	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  09c9f	83 fa 02	 cmp	 edx, 2
  09ca2	75 25		 jne	 SHORT $LN11@SkillEletr
  09ca4	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09ca7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09cad	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09cb3	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  09cbb	7d 0c		 jge	 SHORT $LN11@SkillEletr

; 4933 : 				{
; 4934 : 					EnableAttack = 1;

  09cbd	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  09cc4	e9 b2 00 00 00	 jmp	 $LN10@SkillEletr
$LN11@SkillEletr:

; 4935 : 				}
; 4936 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  09cc9	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09ccc	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  09ccf	74 08		 je	 SHORT $LN8@SkillEletr
  09cd1	8b 45 e4	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  09cd4	3b 45 f0	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  09cd7	75 0c		 jne	 SHORT $LN9@SkillEletr
$LN8@SkillEletr:

; 4937 : 				{
; 4938 : 					EnableAttack = 1;

  09cd9	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 4939 : 				}
; 4940 : 				else

  09ce0	e9 96 00 00 00	 jmp	 $LN10@SkillEletr
$LN9@SkillEletr:

; 4941 : 				{
; 4942 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  09ce5	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09ce8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09cee	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09cf4	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  09cf7	89 55 dc	 mov	 DWORD PTR _CallMonIndex$241601[ebp], edx

; 4943 : 
; 4944 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  09cfa	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09cfd	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09d03	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09d09	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  09d0e	83 fa 02	 cmp	 edx, 2
  09d11	75 40		 jne	 SHORT $LN6@SkillEletr
  09d13	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09d16	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09d1c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09d22	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  09d2a	7c 27		 jl	 SHORT $LN6@SkillEletr

; 4945 : 					{
; 4946 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  09d2c	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09d2f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09d35	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09d3b	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  09d42	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  09d48	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09d4d	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  09d50	89 4d dc	 mov	 DWORD PTR _CallMonIndex$241601[ebp], ecx
$LN6@SkillEletr:

; 4947 : 					}
; 4948 : 
; 4949 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  09d53	8b 45 dc	 mov	 eax, DWORD PTR _CallMonIndex$241601[ebp]
  09d56	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09d5c	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09d62	50		 push	 eax
  09d63	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09d66	51		 push	 ecx
  09d67	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  09d6c	83 c4 08	 add	 esp, 8
  09d6f	83 f8 01	 cmp	 eax, 1
  09d72	75 07		 jne	 SHORT $LN10@SkillEletr

; 4950 : 					{
; 4951 : 						EnableAttack = 1;

  09d74	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN10@SkillEletr:

; 4952 : 					}
; 4953 : 				}
; 4954 : 
; 4955 : 				if(EnableAttack != 0)

  09d7b	83 7d e0 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  09d7f	74 4c		 je	 SHORT $LN13@SkillEletr

; 4956 : 				{
; 4957 : 					if(tObjNum == aTargetIndex)

  09d81	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09d84	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  09d87	75 44		 jne	 SHORT $LN13@SkillEletr

; 4958 : 					{
; 4959 : 						if(gCheckSkillDistance(aIndex, aTargetIndex, lpMagic->m_Skill) != FALSE)

  09d89	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  09d8c	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  09d8f	51		 push	 ecx
  09d90	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  09d93	52		 push	 edx
  09d94	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  09d97	50		 push	 eax
  09d98	e8 00 00 00 00	 call	 ?gCheckSkillDistance@@YAHHHH@Z ; gCheckSkillDistance
  09d9d	83 c4 0c	 add	 esp, 12			; 0000000cH
  09da0	85 c0		 test	 eax, eax
  09da2	74 29		 je	 SHORT $LN13@SkillEletr

; 4960 : 						{
; 4961 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,700,lpMagic->m_Skill,0);

  09da4	6a 00		 push	 0
  09da6	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  09da9	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  09dac	51		 push	 ecx
  09dad	68 bc 02 00 00	 push	 700			; 000002bcH
  09db2	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  09db5	52		 push	 edx
  09db6	6a 32		 push	 50			; 00000032H
  09db8	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09dbb	50		 push	 eax
  09dbc	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  09dc1	83 c4 18	 add	 esp, 24			; 00000018H

; 4962 : 							Result = 1;

  09dc4	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _Result$[ebp], 1

; 4963 : 							break;

  09dcb	eb 16		 jmp	 SHORT $LN14@SkillEletr
$LN13@SkillEletr:

; 4964 : 						}
; 4965 : 					}
; 4966 : 				}
; 4967 : 			}
; 4968 : 		}
; 4969 : 
; 4970 : 		count++;

  09dcd	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  09dd0	83 c0 01	 add	 eax, 1
  09dd3	89 45 e8	 mov	 DWORD PTR _count$[ebp], eax

; 4971 : 		if(count > MAX_VIEWPORT -1)

  09dd6	83 7d e8 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  09dda	7e 02		 jle	 SHORT $LN1@SkillEletr

; 4972 : 		{
; 4973 : 			break;

  09ddc	eb 05		 jmp	 SHORT $LN14@SkillEletr
$LN1@SkillEletr:

; 4974 : 		}
; 4975 : 	}

  09dde	e9 60 fe ff ff	 jmp	 $LN15@SkillEletr
$LN14@SkillEletr:

; 4976 : 	return Result;

  09de3	8b 45 f4	 mov	 eax, DWORD PTR _Result$[ebp]

; 4977 : }

  09de6	5f		 pop	 edi
  09de7	5e		 pop	 esi
  09de8	5b		 pop	 ebx
  09de9	8b e5		 mov	 esp, ebp
  09deb	5d		 pop	 ebp
  09dec	c2 0c 00	 ret	 12			; 0000000cH
?SkillEletrictSurge@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillEletrictSurge
_TEXT	ENDS
PUBLIC	?SkillEletrictSurgeProc@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0HHHH@Z ; CObjUseSkill::SkillEletrictSurgeProc
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_dis$241635 = -24					; size = 4
_bEnableAttack$ = -20					; size = 4
_count$ = -16						; size = 4
_tObjNum$ = -12						; size = 4
_iDamage$ = -8						; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
_iSkillID$ = 16						; size = 4
_iAttackDamage$ = 20					; size = 4
_flag$ = 24						; size = 4
_Message$ = 28						; size = 4
?SkillEletrictSurgeProc@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0HHHH@Z PROC ; CObjUseSkill::SkillEletrictSurgeProc
; _this$ = ecx

; 4981 : {

  09df0	55		 push	 ebp
  09df1	8b ec		 mov	 ebp, esp
  09df3	83 ec 58	 sub	 esp, 88			; 00000058H
  09df6	53		 push	 ebx
  09df7	56		 push	 esi
  09df8	57		 push	 edi
  09df9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4982 : 	if(gObjIsConnected(lpObj->m_Index) == FALSE && gObjIsConnected(lpTargetObj->m_Index) == FALSE)

  09dfc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09dff	8b 08		 mov	 ecx, DWORD PTR [eax]
  09e01	51		 push	 ecx
  09e02	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  09e07	83 c4 04	 add	 esp, 4
  09e0a	85 c0		 test	 eax, eax
  09e0c	75 19		 jne	 SHORT $LN15@SkillEletr@2
  09e0e	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  09e11	8b 08		 mov	 ecx, DWORD PTR [eax]
  09e13	51		 push	 ecx
  09e14	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  09e19	83 c4 04	 add	 esp, 4
  09e1c	85 c0		 test	 eax, eax
  09e1e	75 07		 jne	 SHORT $LN15@SkillEletr@2

; 4983 : 	{
; 4984 : 		return false;

  09e20	33 c0		 xor	 eax, eax
  09e22	e9 9c 01 00 00	 jmp	 $LN16@SkillEletr@2
$LN15@SkillEletr@2:

; 4985 : 	}
; 4986 : 
; 4987 : 	if(iAttackDamage <= 0)

  09e27	83 7d 14 00	 cmp	 DWORD PTR _iAttackDamage$[ebp], 0
  09e2b	7f 07		 jg	 SHORT $LN14@SkillEletr@2

; 4988 : 	{
; 4989 : 		return 0;

  09e2d	33 c0		 xor	 eax, eax
  09e2f	e9 8f 01 00 00	 jmp	 $LN16@SkillEletr@2
$LN14@SkillEletr@2:

; 4990 : 	}
; 4991 : 
; 4992 : 	int iDamage = iAttackDamage * Message/ 100; //loc2

  09e34	8b 45 14	 mov	 eax, DWORD PTR _iAttackDamage$[ebp]
  09e37	0f af 45 1c	 imul	 eax, DWORD PTR _Message$[ebp]
  09e3b	99		 cdq
  09e3c	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  09e41	f7 f9		 idiv	 ecx
  09e43	89 45 f8	 mov	 DWORD PTR _iDamage$[ebp], eax

; 4993 : 
; 4994 : 	int tObjNum; //loc3
; 4995 : 	int count = 0; //loc4

  09e46	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
$LN13@SkillEletr@2:

; 4996 : 
; 4997 : 	BOOL bEnableAttack;
; 4998 : 	
; 4999 : 	while ( true )

  09e4d	b8 01 00 00 00	 mov	 eax, 1
  09e52	85 c0		 test	 eax, eax
  09e54	0f 84 64 01 00
	00		 je	 $LN12@SkillEletr@2

; 5000 : 	{
; 5001 : 		if ( lpObj->VpPlayer2[count].state != 0)

  09e5a	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  09e5d	6b c0 0c	 imul	 eax, 12			; 0000000cH
  09e60	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09e63	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  09e6b	85 d2		 test	 edx, edx
  09e6d	0f 84 35 01 00
	00		 je	 $LN11@SkillEletr@2

; 5002 : 		{
; 5003 : 			tObjNum = lpObj->VpPlayer2[count].number;

  09e73	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  09e76	6b c0 0c	 imul	 eax, 12			; 0000000cH
  09e79	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09e7c	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  09e84	89 55 f4	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 5004 : 
; 5005 : 			if ( tObjNum >= 0 )

  09e87	83 7d f4 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  09e8b	0f 8c 17 01 00
	00		 jl	 $LN11@SkillEletr@2

; 5006 : 			{
; 5007 : 				bEnableAttack = FALSE;

  09e91	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 0

; 5008 : 
; 5009 : 				if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  09e98	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09e9b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09ea1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09ea7	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  09eac	83 fa 02	 cmp	 edx, 2
  09eaf	75 22		 jne	 SHORT $LN9@SkillEletr@2
  09eb1	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09eb4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09eba	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09ec0	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  09ec8	7d 09		 jge	 SHORT $LN9@SkillEletr@2

; 5010 : 				{
; 5011 : 					bEnableAttack = TRUE;

  09eca	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  09ed1	eb 74		 jmp	 SHORT $LN8@SkillEletr@2
$LN9@SkillEletr@2:

; 5012 : 				}
; 5013 : 				else if(lpTargetObj->m_cChaosCastleIndex != -1 && lpTargetObj->m_cChaosCastleIndex == gObj[tObjNum].m_cChaosCastleIndex)

  09ed3	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  09ed6	0f be 88 a5 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3749]
  09edd	83 f9 ff	 cmp	 ecx, -1
  09ee0	74 2d		 je	 SHORT $LN7@SkillEletr@2
  09ee2	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  09ee5	0f be 88 a5 0e
	00 00		 movsx	 ecx, BYTE PTR [eax+3749]
  09eec	8b 55 f4	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  09eef	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  09ef5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09efa	0f be 94 10 a5
	0e 00 00	 movsx	 edx, BYTE PTR [eax+edx+3749]
  09f02	3b ca		 cmp	 ecx, edx
  09f04	75 09		 jne	 SHORT $LN7@SkillEletr@2

; 5014 : 				{
; 5015 : 					bEnableAttack = TRUE;

  09f06	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  09f0d	eb 38		 jmp	 SHORT $LN8@SkillEletr@2
$LN7@SkillEletr@2:

; 5016 : 				}
; 5017 : 				else if(lpTargetObj->Type == OBJ_USER && lpObj->Type == OBJ_USER && gObj[tObjNum].Type != OBJ_NPC)

  09f0f	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  09f12	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  09f16	83 f9 01	 cmp	 ecx, 1
  09f19	75 2c		 jne	 SHORT $LN8@SkillEletr@2
  09f1b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09f1e	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  09f22	83 f9 01	 cmp	 ecx, 1
  09f25	75 20		 jne	 SHORT $LN8@SkillEletr@2
  09f27	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09f2a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09f30	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09f36	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  09f3b	83 fa 03	 cmp	 edx, 3
  09f3e	74 07		 je	 SHORT $LN8@SkillEletr@2

; 5018 : 				{
; 5019 : 					bEnableAttack = TRUE;

  09f40	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN8@SkillEletr@2:

; 5020 : 				}
; 5021 : 
; 5022 : 				if(bEnableAttack != FALSE)

  09f47	83 7d ec 00	 cmp	 DWORD PTR _bEnableAttack$[ebp], 0
  09f4b	74 5b		 je	 SHORT $LN11@SkillEletr@2

; 5023 : 				{
; 5024 : 					if(lpObj->m_Index != gObj[tObjNum].m_Index)

  09f4d	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09f50	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09f56	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09f59	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09f5f	8b 09		 mov	 ecx, DWORD PTR [ecx]
  09f61	3b 0c 02	 cmp	 ecx, DWORD PTR [edx+eax]
  09f64	74 42		 je	 SHORT $LN11@SkillEletr@2

; 5025 : 					{
; 5026 : 						int dis = gObjCalDistance(lpTargetObj, &gObj[tObjNum]);

  09f66	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  09f69	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  09f6f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  09f75	50		 push	 eax
  09f76	8b 4d 0c	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  09f79	51		 push	 ecx
  09f7a	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  09f7f	83 c4 08	 add	 esp, 8
  09f82	89 45 e8	 mov	 DWORD PTR _dis$241635[ebp], eax

; 5027 : 
; 5028 : 						if(dis <= flag)

  09f85	8b 45 e8	 mov	 eax, DWORD PTR _dis$241635[ebp]
  09f88	3b 45 18	 cmp	 eax, DWORD PTR _flag$[ebp]
  09f8b	7f 1b		 jg	 SHORT $LN11@SkillEletr@2

; 5029 : 						{
; 5030 : 							gObjAddMsgSendDelay(lpObj, 58, tObjNum, 300, iDamage);

  09f8d	8b 45 f8	 mov	 eax, DWORD PTR _iDamage$[ebp]
  09f90	50		 push	 eax
  09f91	68 2c 01 00 00	 push	 300			; 0000012cH
  09f96	8b 4d f4	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  09f99	51		 push	 ecx
  09f9a	6a 3a		 push	 58			; 0000003aH
  09f9c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09f9f	52		 push	 edx
  09fa0	e8 00 00 00 00	 call	 ?gObjAddMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHH@Z ; gObjAddMsgSendDelay
  09fa5	83 c4 14	 add	 esp, 20			; 00000014H
$LN11@SkillEletr@2:

; 5031 : 						}
; 5032 : 					}
; 5033 : 				}
; 5034 : 			}
; 5035 : 		}
; 5036 : 
; 5037 : 		count++;

  09fa8	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  09fab	83 c0 01	 add	 eax, 1
  09fae	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 5038 : 		if(count > MAX_VIEWPORT -1)

  09fb1	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  09fb5	7e 02		 jle	 SHORT $LN1@SkillEletr@2

; 5039 : 		{
; 5040 : 			break;

  09fb7	eb 05		 jmp	 SHORT $LN12@SkillEletr@2
$LN1@SkillEletr@2:

; 5041 : 		}
; 5042 : 	}

  09fb9	e9 8f fe ff ff	 jmp	 $LN13@SkillEletr@2
$LN12@SkillEletr@2:

; 5043 : 
; 5044 : 	return true;

  09fbe	b8 01 00 00 00	 mov	 eax, 1
$LN16@SkillEletr@2:

; 5045 : }

  09fc3	5f		 pop	 edi
  09fc4	5e		 pop	 esi
  09fc5	5b		 pop	 ebx
  09fc6	8b e5		 mov	 esp, ebp
  09fc8	5d		 pop	 ebp
  09fc9	c2 18 00	 ret	 24			; 00000018H
?SkillEletrictSurgeProc@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0HHHH@Z ENDP ; CObjUseSkill::SkillEletrictSurgeProc
; Function compile flags: /Odtp /ZI
tv67 = -104						; size = 4
_CallMonIndex$241662 = -36				; size = 4
_EnableAttack$ = -32					; size = 4
_DuelIndex$ = -28					; size = 4
_count$ = -24						; size = 4
_fangle$ = -20						; size = 4
_tObjNum$ = -16						; size = 4
_Result$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillDrainLife@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillDrainLife
; _this$ = ecx

; 5048 : {

  09fd0	55		 push	 ebp
  09fd1	8b ec		 mov	 ebp, esp
  09fd3	83 ec 68	 sub	 esp, 104		; 00000068H
  09fd6	53		 push	 ebx
  09fd7	56		 push	 esi
  09fd8	57		 push	 edi
  09fd9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 5049 : 	if(OBJMAX_RANGE(aTargetIndex) == false) //season4 add-on

  09fdc	83 7d 0c 00	 cmp	 DWORD PTR _aTargetIndex$[ebp], 0
  09fe0	7d 09		 jge	 SHORT $LN19@SkillDrain
  09fe2	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  09fe9	eb 0f		 jmp	 SHORT $LN20@SkillDrain
$LN19@SkillDrain:
  09feb	33 c0		 xor	 eax, eax
  09fed	81 7d 0c 97 3a
	00 00		 cmp	 DWORD PTR _aTargetIndex$[ebp], 14999 ; 00003a97H
  09ff4	0f 9e c0	 setle	 al
  09ff7	89 45 98	 mov	 DWORD PTR tv67[ebp], eax
$LN20@SkillDrain:
  09ffa	83 7d 98 00	 cmp	 DWORD PTR tv67[ebp], 0
  09ffe	75 07		 jne	 SHORT $LN16@SkillDrain

; 5050 : 	{
; 5051 : 		return 0;

  0a000	33 c0		 xor	 eax, eax
  0a002	e9 3a 02 00 00	 jmp	 $LN17@SkillDrain
$LN16@SkillDrain:

; 5052 : 	}
; 5053 : 
; 5054 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2 ebp-8

  0a007	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0a00a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a010	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a016	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 5055 : 	int Result = 0; //loc3 ebp-c

  0a019	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _Result$[ebp], 0

; 5056 : 	int tObjNum; //loc4 ebp-10
; 5057 : 
; 5058 : 	int fangle = this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y); //loc5 -> ebp-14

  0a020	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0a023	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a029	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a02f	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0a037	52		 push	 edx
  0a038	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0a03b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a041	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a047	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0a04f	52		 push	 edx
  0a050	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a053	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  0a05a	51		 push	 ecx
  0a05b	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a05e	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  0a065	50		 push	 eax
  0a066	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0a069	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle
  0a06e	89 45 ec	 mov	 DWORD PTR _fangle$[ebp], eax

; 5059 : 
; 5060 : 	int count = 0; //loc6 ebp-18

  0a071	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 5061 : 
; 5062 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  0a078	6a 01		 push	 1
  0a07a	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0a07d	50		 push	 eax
  0a07e	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0a081	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  0a085	52		 push	 edx
  0a086	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a089	50		 push	 eax
  0a08a	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0a08f	83 c4 10	 add	 esp, 16			; 00000010H

; 5063 : 
; 5064 : 	int DuelIndex = lpObj->m_iDuelUser; //loc8 -> ebp-1c

  0a092	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a095	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0a09b	89 4d e4	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
$LN15@SkillDrain:

; 5065 : 	int EnableAttack; //loc9 -> ebp-20
; 5066 : 
; 5067 : 	while ( true )

  0a09e	b8 01 00 00 00	 mov	 eax, 1
  0a0a3	85 c0		 test	 eax, eax
  0a0a5	0f 84 93 01 00
	00		 je	 $LN14@SkillDrain

; 5068 : 	{
; 5069 : 		if(lpObj->VpPlayer2[count].state != 0)

  0a0ab	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0a0ae	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0a0b1	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a0b4	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0a0bc	85 d2		 test	 edx, edx
  0a0be	0f 84 64 01 00
	00		 je	 $LN13@SkillDrain

; 5070 : 		{
; 5071 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0a0c4	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0a0c7	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0a0ca	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a0cd	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0a0d5	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 5072 : 
; 5073 : 			if(tObjNum >= 0)

  0a0d8	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0a0dc	0f 8c 46 01 00
	00		 jl	 $LN13@SkillDrain

; 5074 : 			{
; 5075 : 				EnableAttack = 0;

  0a0e2	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 5076 : 
; 5077 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0a0e9	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0a0ec	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0a0ef	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a0f2	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0a0fa	83 fa 02	 cmp	 edx, 2
  0a0fd	75 25		 jne	 SHORT $LN11@SkillDrain
  0a0ff	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a102	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a108	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a10e	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0a116	7d 0c		 jge	 SHORT $LN11@SkillDrain

; 5078 : 				{
; 5079 : 					EnableAttack = 1;

  0a118	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  0a11f	e9 b2 00 00 00	 jmp	 $LN10@SkillDrain
$LN11@SkillDrain:

; 5080 : 				}
; 5081 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  0a124	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a127	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0a12a	74 08		 je	 SHORT $LN8@SkillDrain
  0a12c	8b 45 e4	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  0a12f	3b 45 f0	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  0a132	75 0c		 jne	 SHORT $LN9@SkillDrain
$LN8@SkillDrain:

; 5082 : 				{
; 5083 : 					EnableAttack = 1;

  0a134	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 5084 : 				}
; 5085 : 				else

  0a13b	e9 96 00 00 00	 jmp	 $LN10@SkillDrain
$LN9@SkillDrain:

; 5086 : 				{
; 5087 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  0a140	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a143	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a149	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a14f	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0a152	89 55 dc	 mov	 DWORD PTR _CallMonIndex$241662[ebp], edx

; 5088 : 
; 5089 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0a155	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a158	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a15e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a164	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0a169	83 fa 02	 cmp	 edx, 2
  0a16c	75 40		 jne	 SHORT $LN6@SkillDrain
  0a16e	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a171	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a177	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a17d	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0a185	7c 27		 jl	 SHORT $LN6@SkillDrain

; 5090 : 					{
; 5091 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0a187	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a18a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a190	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a196	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0a19d	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0a1a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a1a8	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0a1ab	89 4d dc	 mov	 DWORD PTR _CallMonIndex$241662[ebp], ecx
$LN6@SkillDrain:

; 5092 : 					}
; 5093 : 
; 5094 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  0a1ae	8b 45 dc	 mov	 eax, DWORD PTR _CallMonIndex$241662[ebp]
  0a1b1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a1b7	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a1bd	50		 push	 eax
  0a1be	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a1c1	51		 push	 ecx
  0a1c2	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0a1c7	83 c4 08	 add	 esp, 8
  0a1ca	83 f8 01	 cmp	 eax, 1
  0a1cd	75 07		 jne	 SHORT $LN10@SkillDrain

; 5095 : 					{
; 5096 : 						EnableAttack = 1;

  0a1cf	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN10@SkillDrain:

; 5097 : 					}
; 5098 : 				}
; 5099 : 
; 5100 : 				if(EnableAttack != 0)

  0a1d6	83 7d e0 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  0a1da	74 4c		 je	 SHORT $LN13@SkillDrain

; 5101 : 				{
; 5102 : 					if(tObjNum == aTargetIndex)

  0a1dc	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a1df	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0a1e2	75 44		 jne	 SHORT $LN13@SkillDrain

; 5103 : 					{
; 5104 : 						if(gCheckSkillDistance(aIndex, aTargetIndex, lpMagic->m_Skill) != FALSE)

  0a1e4	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0a1e7	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0a1ea	51		 push	 ecx
  0a1eb	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0a1ee	52		 push	 edx
  0a1ef	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0a1f2	50		 push	 eax
  0a1f3	e8 00 00 00 00	 call	 ?gCheckSkillDistance@@YAHHHH@Z ; gCheckSkillDistance
  0a1f8	83 c4 0c	 add	 esp, 12			; 0000000cH
  0a1fb	85 c0		 test	 eax, eax
  0a1fd	74 29		 je	 SHORT $LN13@SkillDrain

; 5105 : 						{
; 5106 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,700,lpMagic->m_Skill,0);

  0a1ff	6a 00		 push	 0
  0a201	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0a204	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0a207	51		 push	 ecx
  0a208	68 bc 02 00 00	 push	 700			; 000002bcH
  0a20d	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  0a210	52		 push	 edx
  0a211	6a 32		 push	 50			; 00000032H
  0a213	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a216	50		 push	 eax
  0a217	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0a21c	83 c4 18	 add	 esp, 24			; 00000018H

; 5107 : 							Result = 1;

  0a21f	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _Result$[ebp], 1

; 5108 : 							break;

  0a226	eb 16		 jmp	 SHORT $LN14@SkillDrain
$LN13@SkillDrain:

; 5109 : 						}
; 5110 : 					}
; 5111 : 				}
; 5112 : 			}
; 5113 : 		}
; 5114 : 
; 5115 : 		count++;

  0a228	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0a22b	83 c0 01	 add	 eax, 1
  0a22e	89 45 e8	 mov	 DWORD PTR _count$[ebp], eax

; 5116 : 		if(count > MAX_VIEWPORT -1)

  0a231	83 7d e8 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0a235	7e 02		 jle	 SHORT $LN1@SkillDrain

; 5117 : 		{
; 5118 : 			break;

  0a237	eb 05		 jmp	 SHORT $LN14@SkillDrain
$LN1@SkillDrain:

; 5119 : 		}
; 5120 : 	}

  0a239	e9 60 fe ff ff	 jmp	 $LN15@SkillDrain
$LN14@SkillDrain:

; 5121 : 	return Result;

  0a23e	8b 45 f4	 mov	 eax, DWORD PTR _Result$[ebp]
$LN17@SkillDrain:

; 5122 : }

  0a241	5f		 pop	 edi
  0a242	5e		 pop	 esi
  0a243	5b		 pop	 ebx
  0a244	8b e5		 mov	 esp, ebp
  0a246	5d		 pop	 ebp
  0a247	c2 0c 00	 ret	 12			; 0000000cH
?SkillDrainLife@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillDrainLife
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	_memcpy:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv72 = -400						; size = 4
tv67 = -400						; size = 4
_wUnk$241733 = -332					; size = 2
_i$ = -328						; size = 4
_pMsg$ = -324						; size = 10
_buffer$ = -312						; size = 256
_local13$ = -56						; size = 4
_CallMonIndex$ = -52					; size = 4
_local9$ = -48						; size = 12
_local8$ = -36						; size = 4
_local7$ = -32						; size = 4
_count$ = -28						; size = 4
_tObjNum$ = -24						; size = 4
_local4$ = -20						; size = 4
_lpTargetObj$ = -16					; size = 4
_lpObj$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillChainLightning@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillChainLightning
; _this$ = ecx

; 5134 : {

  0a250	55		 push	 ebp
  0a251	8b ec		 mov	 ebp, esp
  0a253	81 ec 90 01 00
	00		 sub	 esp, 400		; 00000190H
  0a259	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0a25e	33 c5		 xor	 eax, ebp
  0a260	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0a263	53		 push	 ebx
  0a264	56		 push	 esi
  0a265	57		 push	 edi
  0a266	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 5135 : 	if(OBJMAX_RANGE(aIndex) == false) //season4 add-on

  0a269	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  0a26d	7d 0c		 jge	 SHORT $LN34@SkillChain
  0a26f	c7 85 70 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv67[ebp], 0
  0a279	eb 12		 jmp	 SHORT $LN35@SkillChain
$LN34@SkillChain:
  0a27b	33 c0		 xor	 eax, eax
  0a27d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  0a284	0f 9e c0	 setle	 al
  0a287	89 85 70 fe ff
	ff		 mov	 DWORD PTR tv67[ebp], eax
$LN35@SkillChain:
  0a28d	83 bd 70 fe ff
	ff 00		 cmp	 DWORD PTR tv67[ebp], 0
  0a294	75 07		 jne	 SHORT $LN31@SkillChain

; 5136 : 	{
; 5137 : 		return 0;

  0a296	33 c0		 xor	 eax, eax
  0a298	e9 90 05 00 00	 jmp	 $LN32@SkillChain
$LN31@SkillChain:

; 5138 : 	}
; 5139 : 
; 5140 : 	if(OBJMAX_RANGE(aTargetIndex) == false) //season4 add-on

  0a29d	83 7d 0c 00	 cmp	 DWORD PTR _aTargetIndex$[ebp], 0
  0a2a1	7d 0c		 jge	 SHORT $LN36@SkillChain
  0a2a3	c7 85 70 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv72[ebp], 0
  0a2ad	eb 12		 jmp	 SHORT $LN37@SkillChain
$LN36@SkillChain:
  0a2af	33 c0		 xor	 eax, eax
  0a2b1	81 7d 0c 97 3a
	00 00		 cmp	 DWORD PTR _aTargetIndex$[ebp], 14999 ; 00003a97H
  0a2b8	0f 9e c0	 setle	 al
  0a2bb	89 85 70 fe ff
	ff		 mov	 DWORD PTR tv72[ebp], eax
$LN37@SkillChain:
  0a2c1	83 bd 70 fe ff
	ff 00		 cmp	 DWORD PTR tv72[ebp], 0
  0a2c8	75 07		 jne	 SHORT $LN30@SkillChain

; 5141 : 	{
; 5142 : 		return 0;

  0a2ca	33 c0		 xor	 eax, eax
  0a2cc	e9 5c 05 00 00	 jmp	 $LN32@SkillChain
$LN30@SkillChain:

; 5143 : 	}
; 5144 : 
; 5145 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2 ebp-8

  0a2d1	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0a2d4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a2da	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a2e0	89 45 f4	 mov	 DWORD PTR _lpObj$[ebp], eax

; 5146 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex]; //loc3 ebp-c

  0a2e3	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0a2e6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a2ec	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a2f2	89 45 f0	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 5147 : 
; 5148 : 	int local4, tObjNum, count, local7, local8, local9[3], CallMonIndex, local13;
; 5149 : 
; 5150 :     local4 = 1, count = 0, local9[2] = -1, local8 = -1, local7 = -1;

  0a2f5	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _local4$[ebp], 1
  0a2fc	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0a303	c7 45 d8 ff ff
	ff ff		 mov	 DWORD PTR _local9$[ebp+8], -1
  0a30a	c7 45 dc ff ff
	ff ff		 mov	 DWORD PTR _local8$[ebp], -1
  0a311	c7 45 e0 ff ff
	ff ff		 mov	 DWORD PTR _local7$[ebp], -1

; 5151 : 
; 5152 :     BYTE buffer[256];
; 5153 : 
; 5154 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  0a318	6a 01		 push	 1
  0a31a	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0a31d	50		 push	 eax
  0a31e	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0a321	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  0a325	52		 push	 edx
  0a326	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a329	50		 push	 eax
  0a32a	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0a32f	83 c4 10	 add	 esp, 16			; 00000010H

; 5155 : 
; 5156 : 	local9[1] = lpObj->m_iDuelUser;

  0a332	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a335	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0a33b	89 4d d4	 mov	 DWORD PTR _local9$[ebp+4], ecx

; 5157 : 
; 5158 : 	if(gCheckSkillDistance(aIndex, aTargetIndex, lpMagic->m_Skill) == FALSE)

  0a33e	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0a341	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0a344	51		 push	 ecx
  0a345	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0a348	52		 push	 edx
  0a349	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0a34c	50		 push	 eax
  0a34d	e8 00 00 00 00	 call	 ?gCheckSkillDistance@@YAHHHH@Z ; gCheckSkillDistance
  0a352	83 c4 0c	 add	 esp, 12			; 0000000cH
  0a355	85 c0		 test	 eax, eax
  0a357	75 07		 jne	 SHORT $LN29@SkillChain

; 5159 : 	{
; 5160 : 		return FALSE;

  0a359	33 c0		 xor	 eax, eax
  0a35b	e9 cd 04 00 00	 jmp	 $LN32@SkillChain
$LN29@SkillChain:

; 5161 : 	}
; 5162 : 
; 5163 : 	local9[2] = aTargetIndex;

  0a360	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0a363	89 45 d8	 mov	 DWORD PTR _local9$[ebp+8], eax
$LN28@SkillChain:

; 5164 : 
; 5165 : 	while ( true )

  0a366	b8 01 00 00 00	 mov	 eax, 1
  0a36b	85 c0		 test	 eax, eax
  0a36d	0f 84 21 03 00
	00		 je	 $LN27@SkillChain

; 5166 : 	{
; 5167 : 		if(lpObj->VpPlayer2[count].state != 0)

  0a373	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0a376	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0a379	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a37c	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0a384	85 d2		 test	 edx, edx
  0a386	0f 84 f2 02 00
	00		 je	 $LN26@SkillChain

; 5168 : 		{
; 5169 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0a38c	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0a38f	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0a392	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a395	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0a39d	89 55 e8	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 5170 : 
; 5171 : 			if(tObjNum >= 0)

  0a3a0	83 7d e8 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0a3a4	0f 8c d4 02 00
	00		 jl	 $LN26@SkillChain

; 5172 : 			{
; 5173 : 				local9[0] = 0;

  0a3aa	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _local9$[ebp], 0

; 5174 : 
; 5175 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0 && 
; 5176 : 					(gObj[tObjNum].Class < 100 || gObj[tObjNum].Class > 110)) //Season 4 add-on

  0a3b1	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0a3b4	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0a3b7	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a3ba	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0a3c2	83 fa 02	 cmp	 edx, 2
  0a3c5	75 5d		 jne	 SHORT $LN24@SkillChain
  0a3c7	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a3ca	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a3d0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a3d6	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0a3de	7d 44		 jge	 SHORT $LN24@SkillChain
  0a3e0	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a3e3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a3e9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a3ef	0f b7 94 01 b8
	00 00 00	 movzx	 edx, WORD PTR [ecx+eax+184]
  0a3f7	83 fa 64	 cmp	 edx, 100		; 00000064H
  0a3fa	7c 1c		 jl	 SHORT $LN23@SkillChain
  0a3fc	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a3ff	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a405	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a40b	0f b7 94 01 b8
	00 00 00	 movzx	 edx, WORD PTR [ecx+eax+184]
  0a413	83 fa 6e	 cmp	 edx, 110		; 0000006eH
  0a416	7e 0c		 jle	 SHORT $LN24@SkillChain
$LN23@SkillChain:

; 5177 : 				{
; 5178 : 					local9[0] = 1;

  0a418	c7 45 d0 01 00
	00 00		 mov	 DWORD PTR _local9$[ebp], 1
  0a41f	e9 b2 00 00 00	 jmp	 $LN22@SkillChain
$LN24@SkillChain:

; 5179 : 				}
; 5180 : 				else if(tObjNum == aTargetIndex || local9[1] == tObjNum)

  0a424	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a427	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0a42a	74 08		 je	 SHORT $LN20@SkillChain
  0a42c	8b 45 d4	 mov	 eax, DWORD PTR _local9$[ebp+4]
  0a42f	3b 45 e8	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  0a432	75 0c		 jne	 SHORT $LN21@SkillChain
$LN20@SkillChain:

; 5181 : 				{
; 5182 : 					local9[0] = 1;

  0a434	c7 45 d0 01 00
	00 00		 mov	 DWORD PTR _local9$[ebp], 1

; 5183 : 				}
; 5184 : 				else

  0a43b	e9 96 00 00 00	 jmp	 $LN22@SkillChain
$LN21@SkillChain:

; 5185 : 				{
; 5186 : 					CallMonIndex = gObj[tObjNum].m_Index;

  0a440	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a443	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a449	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a44f	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0a452	89 55 cc	 mov	 DWORD PTR _CallMonIndex$[ebp], edx

; 5187 : 
; 5188 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0a455	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a458	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a45e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a464	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0a469	83 fa 02	 cmp	 edx, 2
  0a46c	75 40		 jne	 SHORT $LN18@SkillChain
  0a46e	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a471	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a477	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a47d	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0a485	7c 27		 jl	 SHORT $LN18@SkillChain

; 5189 : 					{
; 5190 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0a487	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a48a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a490	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a496	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0a49d	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0a4a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a4a8	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0a4ab	89 4d cc	 mov	 DWORD PTR _CallMonIndex$[ebp], ecx
$LN18@SkillChain:

; 5191 : 					}
; 5192 : 
; 5193 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  0a4ae	8b 45 cc	 mov	 eax, DWORD PTR _CallMonIndex$[ebp]
  0a4b1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a4b7	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a4bd	50		 push	 eax
  0a4be	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a4c1	51		 push	 ecx
  0a4c2	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0a4c7	83 c4 08	 add	 esp, 8
  0a4ca	83 f8 01	 cmp	 eax, 1
  0a4cd	75 07		 jne	 SHORT $LN22@SkillChain

; 5194 : 					{
; 5195 : 						local9[0] = 1;

  0a4cf	c7 45 d0 01 00
	00 00		 mov	 DWORD PTR _local9$[ebp], 1
$LN22@SkillChain:

; 5196 : 					}
; 5197 : 				}
; 5198 : 
; 5199 : 				if(local9[0] != 0) //More than 1 monster

  0a4d6	83 7d d0 00	 cmp	 DWORD PTR _local9$[ebp], 0
  0a4da	0f 84 9e 01 00
	00		 je	 $LN26@SkillChain

; 5200 : 				{
; 5201 : 					if (gObj[tObjNum].X >= lpTargetObj->X-1 && gObj[tObjNum].X <= lpTargetObj->X+1 && 
; 5202 : 						gObj[tObjNum].Y >= lpTargetObj->Y-1 && gObj[tObjNum].Y <= lpTargetObj->Y+1 && 
; 5203 : 						gObj[tObjNum].Type == OBJ_MONSTER)

  0a4e0	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a4e3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a4e9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a4ef	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0a4f7	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0a4fa	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  0a501	83 e9 01	 sub	 ecx, 1
  0a504	3b d1		 cmp	 edx, ecx
  0a506	0f 8c a7 00 00
	00		 jl	 $LN15@SkillChain
  0a50c	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a50f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a515	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a51b	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0a523	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0a526	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  0a52d	83 c1 01	 add	 ecx, 1
  0a530	3b d1		 cmp	 edx, ecx
  0a532	7f 7f		 jg	 SHORT $LN15@SkillChain
  0a534	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a537	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a53d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a543	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0a54b	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0a54e	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  0a555	83 e9 01	 sub	 ecx, 1
  0a558	3b d1		 cmp	 edx, ecx
  0a55a	7c 57		 jl	 SHORT $LN15@SkillChain
  0a55c	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a55f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a565	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a56b	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0a573	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0a576	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  0a57d	83 c1 01	 add	 ecx, 1
  0a580	3b d1		 cmp	 edx, ecx
  0a582	7f 2f		 jg	 SHORT $LN15@SkillChain
  0a584	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a587	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a58d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a593	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0a598	83 fa 02	 cmp	 edx, 2
  0a59b	75 16		 jne	 SHORT $LN15@SkillChain

; 5204 :                     {
; 5205 :                         local8 = tObjNum;

  0a59d	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a5a0	89 45 dc	 mov	 DWORD PTR _local8$[ebp], eax

; 5206 : 
; 5207 :                         if(local7 != -1)

  0a5a3	83 7d e0 ff	 cmp	 DWORD PTR _local7$[ebp], -1
  0a5a7	74 05		 je	 SHORT $LN14@SkillChain

; 5208 : 						{
; 5209 :                             break;

  0a5a9	e9 e6 00 00 00	 jmp	 $LN27@SkillChain
$LN14@SkillChain:

; 5210 : 						}
; 5211 :                     }
; 5212 : 					else if(gObj[tObjNum].X >= lpTargetObj->X-2 && gObj[tObjNum].X <= lpTargetObj->X+2 && 

  0a5ae	e9 cb 00 00 00	 jmp	 $LN26@SkillChain
$LN15@SkillChain:

; 5213 : 							gObj[tObjNum].Y >= lpTargetObj->Y-2 && gObj[tObjNum].Y <= lpTargetObj->Y+2 && 
; 5214 : 							gObj[tObjNum].Type == OBJ_MONSTER)

  0a5b3	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a5b6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a5bc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a5c2	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0a5ca	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0a5cd	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  0a5d4	83 e9 02	 sub	 ecx, 2
  0a5d7	3b d1		 cmp	 edx, ecx
  0a5d9	0f 8c 9f 00 00
	00		 jl	 $LN26@SkillChain
  0a5df	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a5e2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a5e8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a5ee	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0a5f6	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0a5f9	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  0a600	83 c1 02	 add	 ecx, 2
  0a603	3b d1		 cmp	 edx, ecx
  0a605	7f 77		 jg	 SHORT $LN26@SkillChain
  0a607	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a60a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a610	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a616	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0a61e	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0a621	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  0a628	83 e9 02	 sub	 ecx, 2
  0a62b	3b d1		 cmp	 edx, ecx
  0a62d	7c 4f		 jl	 SHORT $LN26@SkillChain
  0a62f	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a632	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a638	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a63e	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0a646	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0a649	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  0a650	83 c1 02	 add	 ecx, 2
  0a653	3b d1		 cmp	 edx, ecx
  0a655	7f 27		 jg	 SHORT $LN26@SkillChain
  0a657	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a65a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a660	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a666	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0a66b	83 fa 02	 cmp	 edx, 2
  0a66e	75 0e		 jne	 SHORT $LN26@SkillChain

; 5215 :                     {
; 5216 :                         local7 = tObjNum;

  0a670	8b 45 e8	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a673	89 45 e0	 mov	 DWORD PTR _local7$[ebp], eax

; 5217 : 
; 5218 :                         if(local8 != -1)

  0a676	83 7d dc ff	 cmp	 DWORD PTR _local8$[ebp], -1
  0a67a	74 02		 je	 SHORT $LN26@SkillChain

; 5219 : 						{
; 5220 :                             break;

  0a67c	eb 16		 jmp	 SHORT $LN27@SkillChain
$LN26@SkillChain:

; 5221 : 						}
; 5222 :                     }
; 5223 : 				}
; 5224 : 			}
; 5225 : 		}
; 5226 : 
; 5227 : 		count++;

  0a67e	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0a681	83 c0 01	 add	 eax, 1
  0a684	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax

; 5228 : 		if(count > MAX_VIEWPORT -1)

  0a687	83 7d e4 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0a68b	7e 02		 jle	 SHORT $LN10@SkillChain

; 5229 : 		{
; 5230 : 			break;

  0a68d	eb 05		 jmp	 SHORT $LN27@SkillChain
$LN10@SkillChain:

; 5231 : 		}
; 5232 : 	}

  0a68f	e9 d2 fc ff ff	 jmp	 $LN28@SkillChain
$LN27@SkillChain:

; 5233 : 
; 5234 : 	if(local7 == -1)

  0a694	83 7d e0 ff	 cmp	 DWORD PTR _local7$[ebp], -1
  0a698	75 06		 jne	 SHORT $LN9@SkillChain

; 5235 : 	{
; 5236 : 		local7 = local8;

  0a69a	8b 45 dc	 mov	 eax, DWORD PTR _local8$[ebp]
  0a69d	89 45 e0	 mov	 DWORD PTR _local7$[ebp], eax
$LN9@SkillChain:

; 5237 : 	}
; 5238 : 
; 5239 : 	if(local8 == -1)

  0a6a0	83 7d dc ff	 cmp	 DWORD PTR _local8$[ebp], -1
  0a6a4	75 0c		 jne	 SHORT $LN8@SkillChain

; 5240 : 	{
; 5241 : 		local8 = local9[2];

  0a6a6	8b 45 d8	 mov	 eax, DWORD PTR _local9$[ebp+8]
  0a6a9	89 45 dc	 mov	 DWORD PTR _local8$[ebp], eax

; 5242 : 		local7 = local8;

  0a6ac	8b 45 dc	 mov	 eax, DWORD PTR _local8$[ebp]
  0a6af	89 45 e0	 mov	 DWORD PTR _local7$[ebp], eax
$LN8@SkillChain:

; 5243 : 	}
; 5244 : 
; 5245 : 	local13 = 0;

  0a6b2	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _local13$[ebp], 0

; 5246 : 
; 5247 : 	PMSG_CHAIN_LIGHTNING_MAGIC_SEND pMsg;
; 5248 : 
; 5249 : 	pMsg.MagicNumberH = SET_NUMBERH(lpMagic->m_Skill);

  0a6b9	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0a6bc	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0a6bf	c1 e9 08	 shr	 ecx, 8
  0a6c2	88 8d c0 fe ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+4], cl

; 5250 : 	pMsg.MagicNumberL = SET_NUMBERL(lpMagic->m_Skill);

  0a6c8	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0a6cb	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0a6ce	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  0a6d4	88 8d c1 fe ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+5], cl

; 5251 : 
; 5252 : 	pMsg.aIndex = aIndex;

  0a6da	66 8b 45 08	 mov	 ax, WORD PTR _aIndex$[ebp]
  0a6de	66 89 85 c2 fe
	ff ff		 mov	 WORD PTR _pMsg$[ebp+6], ax

; 5253 : 
; 5254 : 	pMsg.MaxHitUser = 3;

  0a6e5	c6 85 c4 fe ff
	ff 03		 mov	 BYTE PTR _pMsg$[ebp+8], 3

; 5255 : 
; 5256 : 	local13 += sizeof(pMsg);

  0a6ec	8b 45 c8	 mov	 eax, DWORD PTR _local13$[ebp]
  0a6ef	83 c0 0a	 add	 eax, 10			; 0000000aH
  0a6f2	89 45 c8	 mov	 DWORD PTR _local13$[ebp], eax

; 5257 : 
; 5258 : 	int i;
; 5259 : 
; 5260 : 	for(i = 0; i< 3; i++)

  0a6f5	c7 85 b8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  0a6ff	eb 0f		 jmp	 SHORT $LN7@SkillChain
$LN6@SkillChain:
  0a701	8b 85 b8 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0a707	83 c0 01	 add	 eax, 1
  0a70a	89 85 b8 fe ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN7@SkillChain:
  0a710	83 bd b8 fe ff
	ff 03		 cmp	 DWORD PTR _i$[ebp], 3
  0a717	7d 39		 jge	 SHORT $LN5@SkillChain

; 5261 : 	{
; 5262 : 		WORD wUnk = local9[i+2];

  0a719	8b 85 b8 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0a71f	66 8b 4c 85 d8	 mov	 cx, WORD PTR _local9$[ebp+eax*4+8]
  0a724	66 89 8d b4 fe
	ff ff		 mov	 WORD PTR _wUnk$241733[ebp], cx

; 5263 :         memcpy(&buffer[local13], &wUnk, sizeof(wUnk));

  0a72b	6a 02		 push	 2
  0a72d	8d 85 b4 fe ff
	ff		 lea	 eax, DWORD PTR _wUnk$241733[ebp]
  0a733	50		 push	 eax
  0a734	8b 4d c8	 mov	 ecx, DWORD PTR _local13$[ebp]
  0a737	8d 94 0d c8 fe
	ff ff		 lea	 edx, DWORD PTR _buffer$[ebp+ecx]
  0a73e	52		 push	 edx
  0a73f	e8 00 00 00 00	 call	 _memcpy
  0a744	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5264 : 		local13 += 2;

  0a747	8b 45 c8	 mov	 eax, DWORD PTR _local13$[ebp]
  0a74a	83 c0 02	 add	 eax, 2
  0a74d	89 45 c8	 mov	 DWORD PTR _local13$[ebp], eax

; 5265 : 	}

  0a750	eb af		 jmp	 SHORT $LN6@SkillChain
$LN5@SkillChain:

; 5266 : 
; 5267 : 	PHeadSubSetB((LPBYTE)&pMsg,0xBF,0x0A, local13);

  0a752	8b 45 c8	 mov	 eax, DWORD PTR _local13$[ebp]
  0a755	50		 push	 eax
  0a756	6a 0a		 push	 10			; 0000000aH
  0a758	68 bf 00 00 00	 push	 191			; 000000bfH
  0a75d	8d 8d bc fe ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0a763	51		 push	 ecx
  0a764	e8 00 00 00 00	 call	 ?PHeadSubSetB@@YAXPAEEEH@Z ; PHeadSubSetB
  0a769	83 c4 10	 add	 esp, 16			; 00000010H

; 5268 : 
; 5269 : 	memcpy(buffer, &pMsg, sizeof(pMsg));

  0a76c	6a 0a		 push	 10			; 0000000aH
  0a76e	8d 85 bc fe ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  0a774	50		 push	 eax
  0a775	8d 8d c8 fe ff
	ff		 lea	 ecx, DWORD PTR _buffer$[ebp]
  0a77b	51		 push	 ecx
  0a77c	e8 00 00 00 00	 call	 _memcpy
  0a781	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5270 : 
; 5271 :     if(lpObj->Type == OBJ_USER)

  0a784	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a787	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  0a78b	83 f9 01	 cmp	 ecx, 1
  0a78e	75 1d		 jne	 SHORT $LN4@SkillChain

; 5272 :     {
; 5273 :         ::DataSend(lpObj->m_Index, buffer, pMsg.h.size);

  0a790	0f b6 85 bd fe
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0a797	50		 push	 eax
  0a798	8d 8d c8 fe ff
	ff		 lea	 ecx, DWORD PTR _buffer$[ebp]
  0a79e	51		 push	 ecx
  0a79f	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a7a2	8b 02		 mov	 eax, DWORD PTR [edx]
  0a7a4	50		 push	 eax
  0a7a5	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0a7aa	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@SkillChain:

; 5274 :     }
; 5275 : 
; 5276 :     MsgSendV2(lpObj, buffer, pMsg.h.size);

  0a7ad	0f b6 85 bd fe
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0a7b4	50		 push	 eax
  0a7b5	8d 8d c8 fe ff
	ff		 lea	 ecx, DWORD PTR _buffer$[ebp]
  0a7bb	51		 push	 ecx
  0a7bc	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a7bf	52		 push	 edx
  0a7c0	e8 00 00 00 00	 call	 ?MsgSendV2@@YAXPAUOBJECTSTRUCT@@PAEH@Z ; MsgSendV2
  0a7c5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5277 : 
; 5278 :     for(i = 0;i < 3;i++)

  0a7c8	c7 85 b8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  0a7d2	eb 0f		 jmp	 SHORT $LN3@SkillChain
$LN2@SkillChain:
  0a7d4	8b 85 b8 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0a7da	83 c0 01	 add	 eax, 1
  0a7dd	89 85 b8 fe ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN3@SkillChain:
  0a7e3	83 bd b8 fe ff
	ff 03		 cmp	 DWORD PTR _i$[ebp], 3
  0a7ea	7d 3e		 jge	 SHORT $LN1@SkillChain

; 5279 :     {
; 5280 :         gObjAddAttackProcMsgSendDelay(lpObj, 50, local9[i+2], i*200+200, lpMagic->m_Skill, i+1);

  0a7ec	8b 85 b8 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0a7f2	83 c0 01	 add	 eax, 1
  0a7f5	50		 push	 eax
  0a7f6	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0a7f9	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0a7fc	52		 push	 edx
  0a7fd	8b 85 b8 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0a803	69 c0 c8 00 00
	00		 imul	 eax, 200		; 000000c8H
  0a809	05 c8 00 00 00	 add	 eax, 200		; 000000c8H
  0a80e	50		 push	 eax
  0a80f	8b 8d b8 fe ff
	ff		 mov	 ecx, DWORD PTR _i$[ebp]
  0a815	8b 54 8d d8	 mov	 edx, DWORD PTR _local9$[ebp+ecx*4+8]
  0a819	52		 push	 edx
  0a81a	6a 32		 push	 50			; 00000032H
  0a81c	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a81f	50		 push	 eax
  0a820	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0a825	83 c4 18	 add	 esp, 24			; 00000018H

; 5281 :     }

  0a828	eb aa		 jmp	 SHORT $LN2@SkillChain
$LN1@SkillChain:

; 5282 : 
; 5283 : 	return local4;

  0a82a	8b 45 ec	 mov	 eax, DWORD PTR _local4$[ebp]
$LN32@SkillChain:

; 5284 : }

  0a82d	5f		 pop	 edi
  0a82e	5e		 pop	 esi
  0a82f	5b		 pop	 ebx
  0a830	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0a833	33 cd		 xor	 ecx, ebp
  0a835	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0a83a	8b e5		 mov	 esp, ebp
  0a83c	5d		 pop	 ebp
  0a83d	c2 0c 00	 ret	 12			; 0000000cH
?SkillChainLightning@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillChainLightning
_TEXT	ENDS
EXTRN	?GetSkillDistance@CMagicDamage@@QAEHH@Z:PROC	; CMagicDamage::GetSkillDistance
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_CallMonIndex$241766 = -40				; size = 4
_bEnableAttack$ = -36					; size = 4
_iSkillDistance$ = -32					; size = 4
_angle$ = -28						; size = 4
_DuelIndex$ = -24					; size = 4
_tObjNum$ = -20						; size = 4
_count$ = -16						; size = 4
_result$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_aTargetIndex$ = 24					; size = 4
?SkillSummonerBook@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z PROC ; CObjUseSkill::SkillSummonerBook
; _this$ = ecx

; 5288 : {

  0a840	55		 push	 ebp
  0a841	8b ec		 mov	 ebp, esp
  0a843	83 ec 68	 sub	 esp, 104		; 00000068H
  0a846	53		 push	 ebx
  0a847	56		 push	 esi
  0a848	57		 push	 edi
  0a849	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 5289 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  0a84c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0a84f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a855	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a85b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 5290 : 
; 5291 : 	int result = 0; //loc3

  0a85e	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _result$[ebp], 0

; 5292 : 	int count = 0; //loc4

  0a865	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 5293 : 
; 5294 : 	int tObjNum; //loc5 -> ebp-14
; 5295 : 
; 5296 : 	int DuelIndex = lpObj->m_iDuelUser; //loc6

  0a86c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a86f	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0a875	89 4d e8	 mov	 DWORD PTR _DuelIndex$[ebp], ecx

; 5297 : 
; 5298 : 	int angle = this->GetAngle(lpObj->X,lpObj->Y,x,y); //loc7

  0a878	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  0a87c	50		 push	 eax
  0a87d	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  0a881	51		 push	 ecx
  0a882	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a885	0f bf 82 46 01
	00 00		 movsx	 eax, WORD PTR [edx+326]
  0a88c	50		 push	 eax
  0a88d	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a890	0f bf 91 44 01
	00 00		 movsx	 edx, WORD PTR [ecx+324]
  0a897	52		 push	 edx
  0a898	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0a89b	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle
  0a8a0	89 45 e4	 mov	 DWORD PTR _angle$[ebp], eax

; 5299 : 
; 5300 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);	

  0a8a3	6a 01		 push	 1
  0a8a5	8b 45 18	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0a8a8	50		 push	 eax
  0a8a9	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0a8ac	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  0a8b0	52		 push	 edx
  0a8b1	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a8b4	50		 push	 eax
  0a8b5	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0a8ba	83 c4 10	 add	 esp, 16			; 00000010H

; 5301 : 
; 5302 : 	int iSkillDistance = MagicDamageC.GetSkillDistance(lpMagic->m_Skill); //loc8

  0a8bd	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0a8c0	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0a8c3	51		 push	 ecx
  0a8c4	b9 00 00 00 00	 mov	 ecx, OFFSET ?MagicDamageC@@3VCMagicDamage@@A ; MagicDamageC
  0a8c9	e8 00 00 00 00	 call	 ?GetSkillDistance@CMagicDamage@@QAEHH@Z ; CMagicDamage::GetSkillDistance
  0a8ce	89 45 e0	 mov	 DWORD PTR _iSkillDistance$[ebp], eax

; 5303 : 
; 5304 : 	BOOL bEnableAttack;
; 5305 : 
; 5306 : 	if(this->CalDistance(lpObj->X,lpObj->Y,x,y) <= iSkillDistance)

  0a8d1	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  0a8d5	50		 push	 eax
  0a8d6	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  0a8da	51		 push	 ecx
  0a8db	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a8de	0f bf 82 46 01
	00 00		 movsx	 eax, WORD PTR [edx+326]
  0a8e5	50		 push	 eax
  0a8e6	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a8e9	0f bf 91 44 01
	00 00		 movsx	 edx, WORD PTR [ecx+324]
  0a8f0	52		 push	 edx
  0a8f1	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0a8f4	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  0a8f9	3b 45 e0	 cmp	 eax, DWORD PTR _iSkillDistance$[ebp]
  0a8fc	0f 8f 28 02 00
	00		 jg	 $LN15@SkillSummo@2
$LN14@SkillSummo@2:

; 5307 : 	{
; 5308 : 		while( true )

  0a902	b8 01 00 00 00	 mov	 eax, 1
  0a907	85 c0		 test	 eax, eax
  0a909	0f 84 1b 02 00
	00		 je	 $LN15@SkillSummo@2

; 5309 : 		{
; 5310 : 			if(lpObj->VpPlayer2[count].state != 0)

  0a90f	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0a912	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0a915	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a918	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0a920	85 d2		 test	 edx, edx
  0a922	0f 84 ec 01 00
	00		 je	 $LN12@SkillSummo@2

; 5311 : 			{
; 5312 : 				tObjNum = lpObj->VpPlayer2[count].number;

  0a928	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0a92b	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0a92e	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a931	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0a939	89 55 ec	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 5313 : 
; 5314 : 				if(tObjNum >= 0)

  0a93c	83 7d ec 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0a940	0f 8c ce 01 00
	00		 jl	 $LN12@SkillSummo@2

; 5315 : 				{
; 5316 : 					bEnableAttack = FALSE; //ebp24

  0a946	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 0

; 5317 : 
; 5318 : 					if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0a94d	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0a950	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0a953	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a956	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0a95e	83 fa 02	 cmp	 edx, 2
  0a961	75 25		 jne	 SHORT $LN10@SkillSummo@2
  0a963	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a966	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a96c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a972	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0a97a	7d 0c		 jge	 SHORT $LN10@SkillSummo@2

; 5319 : 					{
; 5320 : 						bEnableAttack = TRUE;

  0a97c	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0a983	e9 b2 00 00 00	 jmp	 $LN9@SkillSummo@2
$LN10@SkillSummo@2:

; 5321 : 					}
; 5322 : 					else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  0a988	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a98b	3b 45 18	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0a98e	74 08		 je	 SHORT $LN7@SkillSummo@2
  0a990	8b 45 e8	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  0a993	3b 45 ec	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  0a996	75 0c		 jne	 SHORT $LN8@SkillSummo@2
$LN7@SkillSummo@2:

; 5323 : 					{
; 5324 : 						bEnableAttack = TRUE;

  0a998	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 5325 : 					}
; 5326 : 					else

  0a99f	e9 96 00 00 00	 jmp	 $LN9@SkillSummo@2
$LN8@SkillSummo@2:

; 5327 : 					{
; 5328 : 						int CallMonIndex = gObj[tObjNum].m_Index;

  0a9a4	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a9a7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a9ad	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a9b3	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0a9b6	89 55 d8	 mov	 DWORD PTR _CallMonIndex$241766[ebp], edx

; 5329 : 
; 5330 : 						if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0a9b9	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a9bc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a9c2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a9c8	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0a9cd	83 fa 02	 cmp	 edx, 2
  0a9d0	75 40		 jne	 SHORT $LN5@SkillSummo@2
  0a9d2	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a9d5	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a9db	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a9e1	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0a9e9	7c 27		 jl	 SHORT $LN5@SkillSummo@2

; 5331 : 						{
; 5332 : 							CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0a9eb	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0a9ee	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0a9f4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0a9fa	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0aa01	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0aa07	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0aa0c	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0aa0f	89 4d d8	 mov	 DWORD PTR _CallMonIndex$241766[ebp], ecx
$LN5@SkillSummo@2:

; 5333 : 						}
; 5334 : 
; 5335 : 						if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  0aa12	8b 45 d8	 mov	 eax, DWORD PTR _CallMonIndex$241766[ebp]
  0aa15	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0aa1b	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0aa21	50		 push	 eax
  0aa22	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0aa25	51		 push	 ecx
  0aa26	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0aa2b	83 c4 08	 add	 esp, 8
  0aa2e	83 f8 01	 cmp	 eax, 1
  0aa31	75 07		 jne	 SHORT $LN9@SkillSummo@2

; 5336 : 						{
; 5337 : 							bEnableAttack = TRUE;

  0aa33	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN9@SkillSummo@2:

; 5338 : 						}
; 5339 : 					}
; 5340 : 
; 5341 : 					if(bEnableAttack != FALSE)

  0aa3a	83 7d dc 00	 cmp	 DWORD PTR _bEnableAttack$[ebp], 0
  0aa3e	0f 84 d0 00 00
	00		 je	 $LN12@SkillSummo@2

; 5342 : 					{
; 5343 : 						if(gObj[tObjNum].X >= x-2 && gObj[tObjNum].X <= x+2 && gObj[tObjNum].Y >= y-2 && gObj[tObjNum].Y <= y+2)

  0aa44	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0aa47	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0aa4d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0aa53	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0aa5b	0f b6 45 10	 movzx	 eax, BYTE PTR _x$[ebp]
  0aa5f	83 e8 02	 sub	 eax, 2
  0aa62	3b d0		 cmp	 edx, eax
  0aa64	0f 8c aa 00 00
	00		 jl	 $LN12@SkillSummo@2
  0aa6a	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0aa6d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0aa73	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0aa79	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0aa81	0f b6 45 10	 movzx	 eax, BYTE PTR _x$[ebp]
  0aa85	83 c0 02	 add	 eax, 2
  0aa88	3b d0		 cmp	 edx, eax
  0aa8a	0f 8f 84 00 00
	00		 jg	 $LN12@SkillSummo@2
  0aa90	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0aa93	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0aa99	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0aa9f	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0aaa7	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  0aaab	83 e8 02	 sub	 eax, 2
  0aaae	3b d0		 cmp	 edx, eax
  0aab0	7c 62		 jl	 SHORT $LN12@SkillSummo@2
  0aab2	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0aab5	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0aabb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0aac1	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0aac9	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  0aacd	83 c0 02	 add	 eax, 2
  0aad0	3b d0		 cmp	 edx, eax
  0aad2	7f 40		 jg	 SHORT $LN12@SkillSummo@2

; 5344 : 						{
; 5345 : 							gObj[tObjNum].lpAttackObj = lpObj;

  0aad4	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0aad7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0aadd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0aae3	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0aae6	89 94 01 d4 03
	00 00		 mov	 DWORD PTR [ecx+eax+980], edx

; 5346 : 							gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, 1000, lpMagic->m_Skill, 0);

  0aaed	6a 00		 push	 0
  0aaef	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0aaf2	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0aaf5	51		 push	 ecx
  0aaf6	68 e8 03 00 00	 push	 1000			; 000003e8H
  0aafb	8b 55 ec	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  0aafe	52		 push	 edx
  0aaff	6a 32		 push	 50			; 00000032H
  0ab01	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ab04	50		 push	 eax
  0ab05	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0ab0a	83 c4 18	 add	 esp, 24			; 00000018H

; 5347 : 							result = 1;

  0ab0d	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _result$[ebp], 1
$LN12@SkillSummo@2:

; 5348 : 						}
; 5349 : 					}
; 5350 : 				}
; 5351 : 			}
; 5352 : 
; 5353 : 			count++;

  0ab14	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0ab17	83 c0 01	 add	 eax, 1
  0ab1a	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 5354 : 			if(count > MAX_VIEWPORT -1)

  0ab1d	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0ab21	7e 02		 jle	 SHORT $LN1@SkillSummo@2

; 5355 : 			{
; 5356 : 				break;

  0ab23	eb 05		 jmp	 SHORT $LN15@SkillSummo@2
$LN1@SkillSummo@2:

; 5357 : 			}
; 5358 : 		}

  0ab25	e9 d8 fd ff ff	 jmp	 $LN14@SkillSummo@2
$LN15@SkillSummo@2:

; 5359 : 	}
; 5360 : 
; 5361 : 	return result;

  0ab2a	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]

; 5362 : }

  0ab2d	5f		 pop	 edi
  0ab2e	5e		 pop	 esi
  0ab2f	5b		 pop	 ebx
  0ab30	8b e5		 mov	 esp, ebp
  0ab32	5d		 pop	 ebp
  0ab33	c2 14 00	 ret	 20			; 00000014H
?SkillSummonerBook@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ENDP ; CObjUseSkill::SkillSummonerBook
; Function compile flags: /Odtp /ZI
tv176 = -124						; size = 4
tv177 = -120						; size = 4
_iTimer$241810 = -52					; size = 4
_iValue$241808 = -48					; size = 4
_iTimer$241791 = -44					; size = 4
_iValue$241789 = -40					; size = 4
_bEnableAttack$ = -36					; size = 4
_DuelIndex$ = -32					; size = 4
_count$ = -28						; size = 4
_angle$ = -24						; size = 4
_tObjNum$ = -20						; size = 4
_result$ = -16						; size = 4
_lpTargetObj$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillDamageReflection@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillDamageReflection
; _this$ = ecx

; 5366 : {

  0ab40	55		 push	 ebp
  0ab41	8b ec		 mov	 ebp, esp
  0ab43	83 ec 7c	 sub	 esp, 124		; 0000007cH
  0ab46	53		 push	 ebx
  0ab47	56		 push	 esi
  0ab48	57		 push	 edi
  0ab49	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 5367 : 	//LPOBJ lpObj = &gObj[aIndex]; //loc2
; 5368 : 	//LPOBJ lpTargetObj = &gObj[aTargetIndex]; //loc3
; 5369 : 
; 5370 : 	//if(lpTargetObj->Type != OBJ_USER || lpObj->Class != CLASS_SUMMONER)
; 5371 : 	//{
; 5372 : 	//	return FALSE;
; 5373 : 	//}
; 5374 : 
; 5375 : 	//int result = 0; //loc4 ebp10
; 5376 : 
; 5377 : 	//int tObjNum; //loc5 -> ebp-14
; 5378 : 
; 5379 : 	//int angle = this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y); //loc6 ebp18
; 5380 : 
; 5381 : 	//int count = 0; //loc7 ebp1c
; 5382 : 
; 5383 : 	//int DuelIndex; //loc8 ebp20
; 5384 : 
; 5385 : 	//BOOL bEnableAttack; //loc9 ebp24
; 5386 : 
; 5387 : 	//GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);
; 5388 : 
; 5389 : 	//DuelIndex = lpObj->m_iDuelUser;
; 5390 : 	////
; 5391 : 	////int ExRefStartPower = GetPrivateProfileInt("Summoner","RefStartPower",30,"..\\Data\\ExData\\Skills.ini");
; 5392 : 	////int ExRefEnergy = GetPrivateProfileInt("Summoner","RefEnergy",42,"..\\Data\\ExData\\Skills.ini");
; 5393 : 	////int ExRefMaxPower = GetPrivateProfileInt("Summoner","RefMaxPower",50,"..\\Data\\ExData\\Skills.ini");
; 5394 : 	////int ExRefStartTime = GetPrivateProfileInt("Summoner","RefStartTime",30,"..\\Data\\ExData\\Skills.ini");
; 5395 : 	////int ExRefEneTime = GetPrivateProfileInt("Summoner","RefEneTime",25,"..\\Data\\ExData\\Skills.ini");
; 5396 : 
; 5397 : 	//if(aIndex == aTargetIndex)
; 5398 : 	//{	
; 5399 : 	//	/*
; 5400 : 	//	int iValue = 30 + (lpObj->Energy / 42);
; 5401 : 	//	int iTimer = 30 + (lpObj->Energy / 25);
; 5402 : 	//	*/
; 5403 : 	//	int iValue = ExConfig.Skills.ExRefStartPower + (lpObj->Energy / ExConfig.Skills.ExRefEnergy);
; 5404 : 	//	if(iValue > ExConfig.Skills.ExRefMaxPower)
; 5405 : 	//		iValue = ExConfig.Skills.ExRefMaxPower;
; 5406 : 	//	int iTimer = ExConfig.Skills.ExRefStartTime + (lpObj->Energy / ExConfig.Skills.ExRefEneTime);
; 5407 : 
; 5408 : 	//	if(gObjCheckBuffEffectValue(lpTargetObj, AT_DAMAGE_REFLECTION, iValue, 0) == 1)
; 5409 : 	//	{
; 5410 : 	//		GCMagicAttackNumberSend(lpObj,217,lpTargetObj->m_Index,0);
; 5411 : 	//		return FALSE;
; 5412 : 	//	}
; 5413 : 
; 5414 : 	//	gObjApplyBuffEffectDuration(lpTargetObj, AT_DAMAGE_REFLECTION, 24, iValue, 0, 0, iTimer);
; 5415 : 	//	result = 1;
; 5416 : 	//}
; 5417 : 	//else
; 5418 : 	//{
; 5419 : 	//	while( true )
; 5420 : 	//	{
; 5421 : 	//		if(CC_MAP_RANGE(lpObj->MapNumber) != FALSE)
; 5422 : 	//		{
; 5423 : 	//			break;
; 5424 : 	//		}
; 5425 : 
; 5426 : 	//		if(lpObj->VpPlayer2[count].state != 0)
; 5427 : 	//		{
; 5428 : 	//			tObjNum = lpObj->VpPlayer2[count].number;
; 5429 : 
; 5430 : 	//			if(tObjNum >= 0)
; 5431 : 	//			{
; 5432 : 	//				bEnableAttack = FALSE; //ebp24
; 5433 : 
; 5434 : 	//				if(lpObj->VpPlayer2[count].type == OBJ_USER)
; 5435 : 	//				{
; 5436 : 	//					bEnableAttack = TRUE;
; 5437 : 	//				}
; 5438 : 	//				else if(tObjNum == aTargetIndex || DuelIndex != tObjNum)
; 5439 : 	//				{
; 5440 : 	//					bEnableAttack = TRUE;
; 5441 : 	//				}
; 5442 : 
; 5443 : 	//				if(bEnableAttack != FALSE)
; 5444 : 	//				{
; 5445 : 	//					if(tObjNum == aTargetIndex)
; 5446 : 	//					{
; 5447 : 	//						if(gCheckSkillDistance(aIndex, aTargetIndex, lpMagic->m_Skill) != FALSE)
; 5448 : 	//						{
; 5449 : 	//							lpTargetObj->lpAttackObj = lpObj;
; 5450 : 
; 5451 : 	//								int iValue = ExConfig.Skills.ExRefStartPower + (lpObj->Energy / ExConfig.Skills.ExRefEnergy);
; 5452 : 	//								if(iValue > ExConfig.Skills.ExRefMaxPower)
; 5453 : 	//									iValue = ExConfig.Skills.ExRefMaxPower;
; 5454 : 	//								int iTimer = ExConfig.Skills.ExRefStartTime + (lpObj->Energy / ExConfig.Skills.ExRefEneTime);
; 5455 : 	//		
; 5456 : 	//							if(gObjCheckBuffEffectValue(lpTargetObj, AT_DAMAGE_REFLECTION, iValue, 0) == 1)
; 5457 : 	//							{
; 5458 : 	//								GCMagicAttackNumberSend(lpObj,217,lpTargetObj->m_Index,0);
; 5459 : 	//								return FALSE;
; 5460 : 	//							}
; 5461 : 
; 5462 : 	//							gObjApplyBuffEffectDuration(lpTargetObj, AT_DAMAGE_REFLECTION, 24, iValue, 0, 0, iTimer);
; 5463 : 	//							result = 1;
; 5464 : 	//							break;
; 5465 : 	//						}
; 5466 : 	//					}
; 5467 : 	//				}
; 5468 : 	//			}
; 5469 : 	//		}
; 5470 : 
; 5471 : 	//		count++;
; 5472 : 	//		
; 5473 : 	//		if(count > MAX_VIEWPORT -1)
; 5474 : 	//		{
; 5475 : 	//			break;
; 5476 : 	//		}
; 5477 : 	//	}
; 5478 : 	//}
; 5479 : 
; 5480 : 	//return result;
; 5481 : 
; 5482 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  0ab4c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0ab4f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0ab55	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ab5b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 5483 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex]; //loc3

  0ab5e	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0ab61	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0ab67	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ab6d	89 45 f4	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 5484 : 
; 5485 : 	if(lpTargetObj->Type != OBJ_USER || lpObj->Class != CLASS_SUMMONER)

  0ab70	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0ab73	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  0ab77	83 f9 01	 cmp	 ecx, 1
  0ab7a	75 0f		 jne	 SHORT $LN22@SkillDamag
  0ab7c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ab7f	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  0ab86	83 f9 05	 cmp	 ecx, 5
  0ab89	74 07		 je	 SHORT $LN23@SkillDamag
$LN22@SkillDamag:

; 5486 : 	{
; 5487 : 		return FALSE;

  0ab8b	33 c0		 xor	 eax, eax
  0ab8d	e9 74 03 00 00	 jmp	 $LN24@SkillDamag
$LN23@SkillDamag:

; 5488 : 	}
; 5489 : 
; 5490 : 	int result = 0; //loc4 ebp10

  0ab92	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _result$[ebp], 0

; 5491 : 
; 5492 : 	int tObjNum; //loc5 -> ebp-14
; 5493 : 
; 5494 : 	int angle = this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y); //loc6 ebp18

  0ab99	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0ab9c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0aba2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0aba8	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0abb0	52		 push	 edx
  0abb1	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0abb4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0abba	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0abc0	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0abc8	52		 push	 edx
  0abc9	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0abcc	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  0abd3	51		 push	 ecx
  0abd4	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0abd7	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  0abde	50		 push	 eax
  0abdf	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0abe2	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle
  0abe7	89 45 e8	 mov	 DWORD PTR _angle$[ebp], eax

; 5495 : 
; 5496 : 	int count = 0; //loc7 ebp1c

  0abea	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 5497 : 
; 5498 : 	int DuelIndex; //loc8 ebp20
; 5499 : 
; 5500 : 	BOOL bEnableAttack; //loc9 ebp24
; 5501 : 
; 5502 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  0abf1	6a 01		 push	 1
  0abf3	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0abf6	50		 push	 eax
  0abf7	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0abfa	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  0abfe	52		 push	 edx
  0abff	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ac02	50		 push	 eax
  0ac03	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0ac08	83 c4 10	 add	 esp, 16			; 00000010H

; 5503 : 
; 5504 : 	DuelIndex = lpObj->m_iDuelUser;

  0ac0b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ac0e	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0ac14	89 4d e0	 mov	 DWORD PTR _DuelIndex$[ebp], ecx

; 5505 : 
; 5506 : 	if(aIndex == aTargetIndex)

  0ac17	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0ac1a	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0ac1d	0f 85 dc 00 00
	00		 jne	 $LN16@SkillDamag

; 5507 : 	{
; 5508 : 		int iValue = g_SkillAdditionInfo.ReflectEffectStart + (lpObj->Energy / g_SkillAdditionInfo.ReflectEffectDiv);

  0ac23	0f b7 0d bc 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3004
  0ac2a	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ac2d	0f b7 82 fa 00
	00 00		 movzx	 eax, WORD PTR [edx+250]
  0ac34	0f b7 35 be 0b
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3006
  0ac3b	99		 cdq
  0ac3c	f7 fe		 idiv	 esi
  0ac3e	03 c8		 add	 ecx, eax
  0ac40	89 4d d8	 mov	 DWORD PTR _iValue$241789[ebp], ecx

; 5509 : 
; 5510 : 		if( g_SkillAdditionInfo.ReflectEffectMax > 0 && iValue > g_SkillAdditionInfo.ReflectEffectMax )

  0ac43	83 3d c0 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3008, 0
  0ac4a	76 13		 jbe	 SHORT $LN20@SkillDamag
  0ac4c	8b 45 d8	 mov	 eax, DWORD PTR _iValue$241789[ebp]
  0ac4f	3b 05 c0 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3008
  0ac55	76 08		 jbe	 SHORT $LN20@SkillDamag

; 5511 : 		{
; 5512 : 			iValue = g_SkillAdditionInfo.ReflectEffectMax;

  0ac57	a1 c0 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3008
  0ac5c	89 45 d8	 mov	 DWORD PTR _iValue$241789[ebp], eax
$LN20@SkillDamag:

; 5513 : 		}
; 5514 : 
; 5515 : 		int iTimer = g_SkillAdditionInfo.ReflectTimeStart + (lpObj->Energy / g_SkillAdditionInfo.ReflectTimeDiv);

  0ac5f	0f b7 0d c4 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3012
  0ac66	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ac69	0f b7 82 fa 00
	00 00		 movzx	 eax, WORD PTR [edx+250]
  0ac70	0f b7 35 c6 0b
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3014
  0ac77	99		 cdq
  0ac78	f7 fe		 idiv	 esi
  0ac7a	03 c8		 add	 ecx, eax
  0ac7c	89 4d d4	 mov	 DWORD PTR _iTimer$241791[ebp], ecx

; 5516 : 
; 5517 : 		if( g_SkillAdditionInfo.ReflectTimeMax > 0 && iTimer > g_SkillAdditionInfo.ReflectTimeMax )

  0ac7f	83 3d c8 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3016, 0
  0ac86	76 13		 jbe	 SHORT $LN19@SkillDamag
  0ac88	8b 45 d4	 mov	 eax, DWORD PTR _iTimer$241791[ebp]
  0ac8b	3b 05 c8 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3016
  0ac91	76 08		 jbe	 SHORT $LN19@SkillDamag

; 5518 : 		{
; 5519 : 			iTimer = g_SkillAdditionInfo.ReflectTimeMax;

  0ac93	a1 c8 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3016
  0ac98	89 45 d4	 mov	 DWORD PTR _iTimer$241791[ebp], eax
$LN19@SkillDamag:

; 5520 : 		}
; 5521 : 
; 5522 : 		if(gObjCheckBuffEffectValue(lpTargetObj, AT_DAMAGE_REFLECTION, iValue, 0) == 1)

  0ac9b	6a 00		 push	 0
  0ac9d	8b 45 d8	 mov	 eax, DWORD PTR _iValue$241789[ebp]
  0aca0	50		 push	 eax
  0aca1	6a 47		 push	 71			; 00000047H
  0aca3	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  0aca6	51		 push	 ecx
  0aca7	e8 00 00 00 00	 call	 ?gObjCheckBuffEffectValue@@YAEPAUOBJECTSTRUCT@@HHH@Z ; gObjCheckBuffEffectValue
  0acac	83 c4 10	 add	 esp, 16			; 00000010H
  0acaf	0f b6 d0	 movzx	 edx, al
  0acb2	83 fa 01	 cmp	 edx, 1
  0acb5	75 20		 jne	 SHORT $LN18@SkillDamag

; 5523 : 		{
; 5524 : 			GCMagicAttackNumberSend(lpObj,217,lpTargetObj->m_Index,0);

  0acb7	6a 00		 push	 0
  0acb9	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0acbc	8b 08		 mov	 ecx, DWORD PTR [eax]
  0acbe	51		 push	 ecx
  0acbf	68 d9 00 00 00	 push	 217			; 000000d9H
  0acc4	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0acc7	52		 push	 edx
  0acc8	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0accd	83 c4 10	 add	 esp, 16			; 00000010H

; 5525 : 			return FALSE;

  0acd0	33 c0		 xor	 eax, eax
  0acd2	e9 2f 02 00 00	 jmp	 $LN24@SkillDamag
$LN18@SkillDamag:

; 5526 : 		}
; 5527 : 
; 5528 : 		gObjApplyBuffEffectDuration(lpTargetObj, AT_DAMAGE_REFLECTION, 24, iValue, 0, 0, iTimer);

  0acd7	8b 45 d4	 mov	 eax, DWORD PTR _iTimer$241791[ebp]
  0acda	50		 push	 eax
  0acdb	6a 00		 push	 0
  0acdd	6a 00		 push	 0
  0acdf	8b 4d d8	 mov	 ecx, DWORD PTR _iValue$241789[ebp]
  0ace2	51		 push	 ecx
  0ace3	6a 18		 push	 24			; 00000018H
  0ace5	6a 47		 push	 71			; 00000047H
  0ace7	8b 55 f4	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  0acea	52		 push	 edx
  0aceb	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0acf0	83 c4 1c	 add	 esp, 28			; 0000001cH

; 5529 : 		result = 1;

  0acf3	c7 45 f0 01 00
	00 00		 mov	 DWORD PTR _result$[ebp], 1

; 5530 : 	}
; 5531 : 	else

  0acfa	e9 04 02 00 00	 jmp	 $LN17@SkillDamag
$LN16@SkillDamag:

; 5532 : 	{
; 5533 : 		while( true )

  0acff	b8 01 00 00 00	 mov	 eax, 1
  0ad04	85 c0		 test	 eax, eax
  0ad06	0f 84 f7 01 00
	00		 je	 $LN17@SkillDamag

; 5534 : 		{
; 5535 : 			if(CC_MAP_RANGE(lpObj->MapNumber) != FALSE)

  0ad0c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ad0f	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0ad16	83 f9 35	 cmp	 ecx, 53			; 00000035H
  0ad19	75 09		 jne	 SHORT $LN28@SkillDamag
  0ad1b	c7 45 88 01 00
	00 00		 mov	 DWORD PTR tv177[ebp], 1
  0ad22	eb 33		 jmp	 SHORT $LN29@SkillDamag
$LN28@SkillDamag:
  0ad24	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ad27	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0ad2e	83 f8 12	 cmp	 eax, 18			; 00000012H
  0ad31	7d 09		 jge	 SHORT $LN26@SkillDamag
  0ad33	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv176[ebp], 0
  0ad3a	eb 15		 jmp	 SHORT $LN27@SkillDamag
$LN26@SkillDamag:
  0ad3c	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ad3f	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  0ad46	33 c0		 xor	 eax, eax
  0ad48	83 fa 17	 cmp	 edx, 23			; 00000017H
  0ad4b	0f 9e c0	 setle	 al
  0ad4e	89 45 84	 mov	 DWORD PTR tv176[ebp], eax
$LN27@SkillDamag:
  0ad51	8b 4d 84	 mov	 ecx, DWORD PTR tv176[ebp]
  0ad54	89 4d 88	 mov	 DWORD PTR tv177[ebp], ecx
$LN29@SkillDamag:
  0ad57	83 7d 88 00	 cmp	 DWORD PTR tv177[ebp], 0
  0ad5b	74 05		 je	 SHORT $LN14@SkillDamag

; 5536 : 			{
; 5537 : 				break;

  0ad5d	e9 a1 01 00 00	 jmp	 $LN17@SkillDamag
$LN14@SkillDamag:

; 5538 : 			}
; 5539 : 
; 5540 : 			if(lpObj->VpPlayer2[count].state != 0)

  0ad62	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0ad65	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0ad68	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ad6b	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0ad73	85 d2		 test	 edx, edx
  0ad75	0f 84 72 01 00
	00		 je	 $LN13@SkillDamag

; 5541 : 			{
; 5542 : 				tObjNum = lpObj->VpPlayer2[count].number;

  0ad7b	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0ad7e	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0ad81	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ad84	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0ad8c	89 55 ec	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 5543 : 
; 5544 : 				if(tObjNum >= 0)

  0ad8f	83 7d ec 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0ad93	0f 8c 54 01 00
	00		 jl	 $LN13@SkillDamag

; 5545 : 				{
; 5546 : 					bEnableAttack = FALSE; //ebp24

  0ad99	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 0

; 5547 : 
; 5548 : 					if(lpObj->VpPlayer2[count].type == OBJ_USER)

  0ada0	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0ada3	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0ada6	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ada9	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0adb1	83 fa 01	 cmp	 edx, 1
  0adb4	75 09		 jne	 SHORT $LN11@SkillDamag

; 5549 : 					{
; 5550 : 						bEnableAttack = TRUE;

  0adb6	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0adbd	eb 17		 jmp	 SHORT $LN10@SkillDamag
$LN11@SkillDamag:

; 5551 : 					}
; 5552 : 					else if(tObjNum == aTargetIndex || DuelIndex != tObjNum)

  0adbf	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0adc2	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0adc5	74 08		 je	 SHORT $LN8@SkillDamag
  0adc7	8b 45 e0	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  0adca	3b 45 ec	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  0adcd	74 07		 je	 SHORT $LN10@SkillDamag
$LN8@SkillDamag:

; 5553 : 					{
; 5554 : 						bEnableAttack = TRUE;

  0adcf	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN10@SkillDamag:

; 5555 : 					}
; 5556 : 
; 5557 : 					if(bEnableAttack != FALSE)

  0add6	83 7d dc 00	 cmp	 DWORD PTR _bEnableAttack$[ebp], 0
  0adda	0f 84 0d 01 00
	00		 je	 $LN13@SkillDamag

; 5558 : 					{
; 5559 : 						if(tObjNum == aTargetIndex)

  0ade0	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0ade3	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0ade6	0f 85 01 01 00
	00		 jne	 $LN13@SkillDamag

; 5560 : 						{
; 5561 : 							if(gCheckSkillDistance(aIndex, aTargetIndex, lpMagic->m_Skill) != FALSE)

  0adec	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0adef	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0adf2	51		 push	 ecx
  0adf3	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0adf6	52		 push	 edx
  0adf7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0adfa	50		 push	 eax
  0adfb	e8 00 00 00 00	 call	 ?gCheckSkillDistance@@YAHHHH@Z ; gCheckSkillDistance
  0ae00	83 c4 0c	 add	 esp, 12			; 0000000cH
  0ae03	85 c0		 test	 eax, eax
  0ae05	0f 84 e2 00 00
	00		 je	 $LN13@SkillDamag

; 5562 : 							{
; 5563 : 								lpTargetObj->lpAttackObj = lpObj;

  0ae0b	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0ae0e	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ae11	89 88 d4 03 00
	00		 mov	 DWORD PTR [eax+980], ecx

; 5564 : 
; 5565 : 								int iValue = g_SkillAdditionInfo.ReflectEffectStart + (lpObj->Energy / g_SkillAdditionInfo.ReflectEffectDiv);

  0ae17	0f b7 0d bc 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3004
  0ae1e	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ae21	0f b7 82 fa 00
	00 00		 movzx	 eax, WORD PTR [edx+250]
  0ae28	0f b7 35 be 0b
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3006
  0ae2f	99		 cdq
  0ae30	f7 fe		 idiv	 esi
  0ae32	03 c8		 add	 ecx, eax
  0ae34	89 4d d0	 mov	 DWORD PTR _iValue$241808[ebp], ecx

; 5566 : 
; 5567 : 								if( g_SkillAdditionInfo.ReflectEffectMax > 0 && iValue > g_SkillAdditionInfo.ReflectEffectMax )

  0ae37	83 3d c0 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3008, 0
  0ae3e	76 13		 jbe	 SHORT $LN4@SkillDamag
  0ae40	8b 45 d0	 mov	 eax, DWORD PTR _iValue$241808[ebp]
  0ae43	3b 05 c0 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3008
  0ae49	76 08		 jbe	 SHORT $LN4@SkillDamag

; 5568 : 								{
; 5569 : 									iValue = g_SkillAdditionInfo.ReflectEffectMax;

  0ae4b	a1 c0 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3008
  0ae50	89 45 d0	 mov	 DWORD PTR _iValue$241808[ebp], eax
$LN4@SkillDamag:

; 5570 : 								}
; 5571 : 
; 5572 : 								int iTimer = g_SkillAdditionInfo.ReflectTimeStart + (lpObj->Energy / g_SkillAdditionInfo.ReflectTimeDiv);

  0ae53	0f b7 0d c4 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3012
  0ae5a	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ae5d	0f b7 82 fa 00
	00 00		 movzx	 eax, WORD PTR [edx+250]
  0ae64	0f b7 35 c6 0b
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3014
  0ae6b	99		 cdq
  0ae6c	f7 fe		 idiv	 esi
  0ae6e	03 c8		 add	 ecx, eax
  0ae70	89 4d cc	 mov	 DWORD PTR _iTimer$241810[ebp], ecx

; 5573 : 
; 5574 : 								if( g_SkillAdditionInfo.ReflectTimeMax > 0 && iTimer > g_SkillAdditionInfo.ReflectTimeMax )

  0ae73	83 3d c8 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3016, 0
  0ae7a	76 13		 jbe	 SHORT $LN3@SkillDamag
  0ae7c	8b 45 cc	 mov	 eax, DWORD PTR _iTimer$241810[ebp]
  0ae7f	3b 05 c8 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3016
  0ae85	76 08		 jbe	 SHORT $LN3@SkillDamag

; 5575 : 								{
; 5576 : 									iTimer = g_SkillAdditionInfo.ReflectTimeMax;

  0ae87	a1 c8 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3016
  0ae8c	89 45 cc	 mov	 DWORD PTR _iTimer$241810[ebp], eax
$LN3@SkillDamag:

; 5577 : 								}
; 5578 : 
; 5579 : 								if(gObjCheckBuffEffectValue(lpTargetObj, AT_DAMAGE_REFLECTION, iValue, 0) == 1)

  0ae8f	6a 00		 push	 0
  0ae91	8b 45 d0	 mov	 eax, DWORD PTR _iValue$241808[ebp]
  0ae94	50		 push	 eax
  0ae95	6a 47		 push	 71			; 00000047H
  0ae97	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  0ae9a	51		 push	 ecx
  0ae9b	e8 00 00 00 00	 call	 ?gObjCheckBuffEffectValue@@YAEPAUOBJECTSTRUCT@@HHH@Z ; gObjCheckBuffEffectValue
  0aea0	83 c4 10	 add	 esp, 16			; 00000010H
  0aea3	0f b6 d0	 movzx	 edx, al
  0aea6	83 fa 01	 cmp	 edx, 1
  0aea9	75 1d		 jne	 SHORT $LN2@SkillDamag

; 5580 : 								{
; 5581 : 									GCMagicAttackNumberSend(lpObj,217,lpTargetObj->m_Index,0);

  0aeab	6a 00		 push	 0
  0aead	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0aeb0	8b 08		 mov	 ecx, DWORD PTR [eax]
  0aeb2	51		 push	 ecx
  0aeb3	68 d9 00 00 00	 push	 217			; 000000d9H
  0aeb8	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0aebb	52		 push	 edx
  0aebc	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0aec1	83 c4 10	 add	 esp, 16			; 00000010H

; 5582 : 									return FALSE;

  0aec4	33 c0		 xor	 eax, eax
  0aec6	eb 3e		 jmp	 SHORT $LN24@SkillDamag
$LN2@SkillDamag:

; 5583 : 								}
; 5584 : 
; 5585 : 								gObjApplyBuffEffectDuration(lpTargetObj, AT_DAMAGE_REFLECTION, 24, iValue, 0, 0, iTimer);

  0aec8	8b 45 cc	 mov	 eax, DWORD PTR _iTimer$241810[ebp]
  0aecb	50		 push	 eax
  0aecc	6a 00		 push	 0
  0aece	6a 00		 push	 0
  0aed0	8b 4d d0	 mov	 ecx, DWORD PTR _iValue$241808[ebp]
  0aed3	51		 push	 ecx
  0aed4	6a 18		 push	 24			; 00000018H
  0aed6	6a 47		 push	 71			; 00000047H
  0aed8	8b 55 f4	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  0aedb	52		 push	 edx
  0aedc	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0aee1	83 c4 1c	 add	 esp, 28			; 0000001cH

; 5586 : 								result = 1;

  0aee4	c7 45 f0 01 00
	00 00		 mov	 DWORD PTR _result$[ebp], 1

; 5587 : 								break;

  0aeeb	eb 16		 jmp	 SHORT $LN17@SkillDamag
$LN13@SkillDamag:

; 5588 : 							}
; 5589 : 						}
; 5590 : 					}
; 5591 : 				}
; 5592 : 			}
; 5593 : 
; 5594 : 			count++;

  0aeed	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0aef0	83 c0 01	 add	 eax, 1
  0aef3	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax

; 5595 : 
; 5596 : 			if(count > MAX_VIEWPORT -1)

  0aef6	83 7d e4 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0aefa	7e 02		 jle	 SHORT $LN1@SkillDamag

; 5597 : 			{
; 5598 : 				break;

  0aefc	eb 05		 jmp	 SHORT $LN17@SkillDamag
$LN1@SkillDamag:

; 5599 : 			}
; 5600 : 		}

  0aefe	e9 fc fd ff ff	 jmp	 $LN16@SkillDamag
$LN17@SkillDamag:

; 5601 : 	}
; 5602 : 
; 5603 : 	return result;

  0af03	8b 45 f0	 mov	 eax, DWORD PTR _result$[ebp]
$LN24@SkillDamag:

; 5604 : }

  0af06	5f		 pop	 edi
  0af07	5e		 pop	 esi
  0af08	5b		 pop	 ebx
  0af09	8b e5		 mov	 esp, ebp
  0af0b	5d		 pop	 ebp
  0af0c	c2 0c 00	 ret	 12			; 0000000cH
?SkillDamageReflection@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillDamageReflection
; Function compile flags: /Odtp /ZI
tv155 = -108						; size = 4
tv165 = -104						; size = 4
tv156 = -104						; size = 4
_CallMonIndex$241841 = -36				; size = 4
_DuelRoom$ = -32					; size = 4
_bEnableAttack$ = -28					; size = 4
_count$ = -24						; size = 4
_angle$ = -20						; size = 4
_tObjNum$ = -16						; size = 4
_result$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillSleep@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::SkillSleep
; _this$ = ecx

; 5607 : {

  0af10	55		 push	 ebp
  0af11	8b ec		 mov	 ebp, esp
  0af13	83 ec 6c	 sub	 esp, 108		; 0000006cH
  0af16	53		 push	 ebx
  0af17	56		 push	 esi
  0af18	57		 push	 edi
  0af19	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 5608 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  0af1c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0af1f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0af25	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0af2b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 5609 : 
; 5610 : 	int result = 0; //loc3 ebpC

  0af2e	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _result$[ebp], 0

; 5611 : 
; 5612 : 	int tObjNum; //loc4 -> ebp-10
; 5613 : 
; 5614 : 	int angle = this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y); //loc5 ebp14

  0af35	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0af38	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0af3e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0af44	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0af4c	52		 push	 edx
  0af4d	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0af50	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0af56	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0af5c	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0af64	52		 push	 edx
  0af65	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0af68	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  0af6f	51		 push	 ecx
  0af70	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0af73	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  0af7a	50		 push	 eax
  0af7b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0af7e	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle
  0af83	89 45 ec	 mov	 DWORD PTR _angle$[ebp], eax

; 5615 : 
; 5616 : 	int count = 0; //loc6 ebp18

  0af86	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 5617 : 
; 5618 : 	//int DuelIndex; //loc7 ebp1c
; 5619 : 
; 5620 : 	BOOL bEnableAttack; //loc8 ebp20
; 5621 : 
; 5622 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  0af8d	6a 01		 push	 1
  0af8f	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0af92	50		 push	 eax
  0af93	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0af96	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  0af9a	52		 push	 edx
  0af9b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0af9e	50		 push	 eax
  0af9f	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0afa4	83 c4 10	 add	 esp, 16			; 00000010H

; 5623 : 
; 5624 : 	//DuelIndex = lpObj->m_iDuelUser;
; 5625 : 
; 5626 : 	int DuelRoom = lpObj->m_iDuelRoom;

  0afa7	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0afaa	8b 88 b4 21 00
	00		 mov	 ecx, DWORD PTR [eax+8628]
  0afb0	89 4d e0	 mov	 DWORD PTR _DuelRoom$[ebp], ecx
$LN19@SkillSleep:

; 5627 : 
; 5628 : 	while( true )

  0afb3	b8 01 00 00 00	 mov	 eax, 1
  0afb8	85 c0		 test	 eax, eax
  0afba	0f 84 72 02 00
	00		 je	 $LN18@SkillSleep

; 5629 : 	{
; 5630 : 		if(lpObj->VpPlayer2[count].state != 0)

  0afc0	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0afc3	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0afc6	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0afc9	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0afd1	85 d2		 test	 edx, edx
  0afd3	0f 84 43 02 00
	00		 je	 $LN17@SkillSleep

; 5631 : 		{
; 5632 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0afd9	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0afdc	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0afdf	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0afe2	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0afea	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 5633 : 
; 5634 : 			if(tObjNum >= 0)

  0afed	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0aff1	0f 8c 25 02 00
	00		 jl	 $LN17@SkillSleep

; 5635 : 			{
; 5636 : 				bEnableAttack = FALSE; //ebp20

  0aff7	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 0

; 5637 : 
; 5638 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0affe	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0b001	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0b004	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b007	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0b00f	83 fa 02	 cmp	 edx, 2
  0b012	75 25		 jne	 SHORT $LN15@SkillSleep
  0b014	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b017	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b01d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b023	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0b02b	7d 0c		 jge	 SHORT $LN15@SkillSleep

; 5639 : 				{
; 5640 : 					bEnableAttack = TRUE;

  0b02d	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0b034	e9 85 01 00 00	 jmp	 $LN14@SkillSleep
$LN15@SkillSleep:

; 5641 : 				}
; 5642 : 				else if(DuelRoom >= 0) //fix

  0b039	83 7d e0 00	 cmp	 DWORD PTR _DuelRoom$[ebp], 0
  0b03d	7c 0c		 jl	 SHORT $LN13@SkillSleep

; 5643 : 				{
; 5644 : 					bEnableAttack = TRUE;

  0b03f	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0b046	e9 73 01 00 00	 jmp	 $LN14@SkillSleep
$LN13@SkillSleep:

; 5645 : 				}
; 5646 : 				else if (CC_MAP_RANGE(lpObj->MapNumber) != FALSE || IT_MAP_RANGE(lpObj->MapNumber) != FALSE)

  0b04b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b04e	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0b055	83 f9 35	 cmp	 ecx, 53			; 00000035H
  0b058	75 09		 jne	 SHORT $LN24@SkillSleep
  0b05a	c7 45 98 01 00
	00 00		 mov	 DWORD PTR tv156[ebp], 1
  0b061	eb 33		 jmp	 SHORT $LN25@SkillSleep
$LN24@SkillSleep:
  0b063	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b066	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0b06d	83 f8 12	 cmp	 eax, 18			; 00000012H
  0b070	7d 09		 jge	 SHORT $LN22@SkillSleep
  0b072	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv155[ebp], 0
  0b079	eb 15		 jmp	 SHORT $LN23@SkillSleep
$LN22@SkillSleep:
  0b07b	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b07e	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  0b085	33 c0		 xor	 eax, eax
  0b087	83 fa 17	 cmp	 edx, 23			; 00000017H
  0b08a	0f 9e c0	 setle	 al
  0b08d	89 45 94	 mov	 DWORD PTR tv155[ebp], eax
$LN23@SkillSleep:
  0b090	8b 4d 94	 mov	 ecx, DWORD PTR tv155[ebp]
  0b093	89 4d 98	 mov	 DWORD PTR tv156[ebp], ecx
$LN25@SkillSleep:
  0b096	83 7d 98 00	 cmp	 DWORD PTR tv156[ebp], 0
  0b09a	75 33		 jne	 SHORT $LN10@SkillSleep
  0b09c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b09f	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0b0a6	83 f9 2d	 cmp	 ecx, 45			; 0000002dH
  0b0a9	7d 09		 jge	 SHORT $LN26@SkillSleep
  0b0ab	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv165[ebp], 0
  0b0b2	eb 15		 jmp	 SHORT $LN27@SkillSleep
$LN26@SkillSleep:
  0b0b4	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b0b7	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0b0be	33 c9		 xor	 ecx, ecx
  0b0c0	83 f8 32	 cmp	 eax, 50			; 00000032H
  0b0c3	0f 9e c1	 setle	 cl
  0b0c6	89 4d 98	 mov	 DWORD PTR tv165[ebp], ecx
$LN27@SkillSleep:
  0b0c9	83 7d 98 00	 cmp	 DWORD PTR tv165[ebp], 0
  0b0cd	74 0c		 je	 SHORT $LN11@SkillSleep
$LN10@SkillSleep:

; 5647 : 				{
; 5648 : 					bEnableAttack = TRUE;

  0b0cf	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 5649 : 				}
; 5650 : //#if(GS_CASTLE==1)
; 5651 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 

  0b0d6	e9 e3 00 00 00	 jmp	 $LN14@SkillSleep
$LN11@SkillSleep:

; 5652 : 					gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 5653 : 					g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  0b0db	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0b0de	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0b0e1	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b0e4	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0b0ec	83 fa 03	 cmp	 edx, 3
  0b0ef	74 37		 je	 SHORT $LN8@SkillSleep
  0b0f1	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b0f4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b0fa	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b100	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0b108	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  0b10b	75 1b		 jne	 SHORT $LN8@SkillSleep
  0b10d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0b112	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  0b117	83 f8 07	 cmp	 eax, 7
  0b11a	75 0c		 jne	 SHORT $LN8@SkillSleep

; 5654 : 				{
; 5655 : 					bEnableAttack = TRUE;

  0b11c	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 5656 : 				}
; 5657 : //#endif
; 5658 : 				else

  0b123	e9 96 00 00 00	 jmp	 $LN14@SkillSleep
$LN8@SkillSleep:

; 5659 : 				{
; 5660 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  0b128	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b12b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b131	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b137	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0b13a	89 55 dc	 mov	 DWORD PTR _CallMonIndex$241841[ebp], edx

; 5661 : 
; 5662 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0b13d	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b140	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b146	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b14c	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0b151	83 fa 02	 cmp	 edx, 2
  0b154	75 40		 jne	 SHORT $LN6@SkillSleep
  0b156	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b159	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b15f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b165	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0b16d	7c 27		 jl	 SHORT $LN6@SkillSleep

; 5663 : 					{
; 5664 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0b16f	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b172	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b178	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b17e	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0b185	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0b18b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b190	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0b193	89 4d dc	 mov	 DWORD PTR _CallMonIndex$241841[ebp], ecx
$LN6@SkillSleep:

; 5665 : 					}
; 5666 : 
; 5667 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  0b196	8b 45 dc	 mov	 eax, DWORD PTR _CallMonIndex$241841[ebp]
  0b199	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b19f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b1a5	50		 push	 eax
  0b1a6	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b1a9	51		 push	 ecx
  0b1aa	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0b1af	83 c4 08	 add	 esp, 8
  0b1b2	83 f8 01	 cmp	 eax, 1
  0b1b5	75 07		 jne	 SHORT $LN14@SkillSleep

; 5668 : 					{
; 5669 : 						bEnableAttack = TRUE;

  0b1b7	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN14@SkillSleep:

; 5670 : 					}
; 5671 : 				}
; 5672 : 
; 5673 : 				if(bEnableAttack != FALSE)

  0b1be	83 7d e4 00	 cmp	 DWORD PTR _bEnableAttack$[ebp], 0
  0b1c2	74 58		 je	 SHORT $LN17@SkillSleep

; 5674 : 				{
; 5675 : 					if(tObjNum == aTargetIndex)

  0b1c4	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b1c7	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0b1ca	75 50		 jne	 SHORT $LN17@SkillSleep

; 5676 : 					{
; 5677 : 						if(gCheckSkillDistance(aIndex, aTargetIndex, lpMagic->m_Skill) != FALSE)

  0b1cc	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0b1cf	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0b1d2	51		 push	 ecx
  0b1d3	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0b1d6	52		 push	 edx
  0b1d7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0b1da	50		 push	 eax
  0b1db	e8 00 00 00 00	 call	 ?gCheckSkillDistance@@YAHHHH@Z ; gCheckSkillDistance
  0b1e0	83 c4 0c	 add	 esp, 12			; 0000000cH
  0b1e3	85 c0		 test	 eax, eax
  0b1e5	74 35		 je	 SHORT $LN17@SkillSleep

; 5678 : 						{
; 5679 : 							gObjAttack(lpObj,&gObj[aTargetIndex],lpMagic,1,0,0,0,0,0);

  0b1e7	6a 00		 push	 0
  0b1e9	6a 00		 push	 0
  0b1eb	6a 00		 push	 0
  0b1ed	6a 00		 push	 0
  0b1ef	6a 00		 push	 0
  0b1f1	6a 01		 push	 1
  0b1f3	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0b1f6	50		 push	 eax
  0b1f7	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0b1fa	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0b200	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b206	51		 push	 ecx
  0b207	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b20a	52		 push	 edx
  0b20b	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0b210	83 c4 24	 add	 esp, 36			; 00000024H

; 5680 : 							result = 1;

  0b213	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _result$[ebp], 1

; 5681 : 							break;

  0b21a	eb 16		 jmp	 SHORT $LN18@SkillSleep
$LN17@SkillSleep:

; 5682 : 						}
; 5683 : 					}
; 5684 : 				}
; 5685 : 			}
; 5686 : 		}
; 5687 : 
; 5688 : 		count++;

  0b21c	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0b21f	83 c0 01	 add	 eax, 1
  0b222	89 45 e8	 mov	 DWORD PTR _count$[ebp], eax

; 5689 : 			
; 5690 : 		if(count > MAX_VIEWPORT -1)

  0b225	83 7d e8 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0b229	7e 02		 jle	 SHORT $LN1@SkillSleep

; 5691 : 		{
; 5692 : 			break;

  0b22b	eb 05		 jmp	 SHORT $LN18@SkillSleep
$LN1@SkillSleep:

; 5693 : 		}
; 5694 : 	}

  0b22d	e9 81 fd ff ff	 jmp	 $LN19@SkillSleep
$LN18@SkillSleep:

; 5695 : 
; 5696 : 	return result;

  0b232	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]

; 5697 : }

  0b235	5f		 pop	 edi
  0b236	5e		 pop	 esi
  0b237	5b		 pop	 ebx
  0b238	8b e5		 mov	 esp, ebp
  0b23a	5d		 pop	 ebp
  0b23b	c2 0c 00	 ret	 12			; 0000000cH
?SkillSleep@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::SkillSleep
_TEXT	ENDS
EXTRN	?GCDamageSend@@YAXHHHHHH@Z:PROC			; GCDamageSend
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv193 = -124						; size = 4
tv203 = -120						; size = 4
tv194 = -120						; size = 4
_iValue2$241888 = -52					; size = 4
_iValue1$241887 = -48					; size = 4
_CallMonIndex$241881 = -44				; size = 4
_bEnableAttack$ = -40					; size = 4
_loc9$ = -36						; size = 4
_loc8$ = -32						; size = 4
_DuelIndex$ = -28					; size = 4
_count$ = -24						; size = 4
_angle$ = -20						; size = 4
_tObjNum$ = -16						; size = 4
_result$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillBlind@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::SkillBlind
; _this$ = ecx

; 5700 : {

  0b240	55		 push	 ebp
  0b241	8b ec		 mov	 ebp, esp
  0b243	83 ec 7c	 sub	 esp, 124		; 0000007cH
  0b246	53		 push	 ebx
  0b247	56		 push	 esi
  0b248	57		 push	 edi
  0b249	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 5701 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  0b24c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0b24f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b255	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b25b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 5702 : 
; 5703 : 	int result = 0; //loc3 ebpC

  0b25e	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _result$[ebp], 0

; 5704 : 
; 5705 : 	int tObjNum; //loc4 -> ebp-10
; 5706 : 
; 5707 : 	int angle = this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y); //loc5 ebp14

  0b265	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0b268	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b26e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b274	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0b27c	52		 push	 edx
  0b27d	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0b280	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b286	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b28c	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0b294	52		 push	 edx
  0b295	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b298	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  0b29f	51		 push	 ecx
  0b2a0	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b2a3	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  0b2aa	50		 push	 eax
  0b2ab	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0b2ae	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle
  0b2b3	89 45 ec	 mov	 DWORD PTR _angle$[ebp], eax

; 5708 : 
; 5709 : 	int count = 0; //loc6 ebp18

  0b2b6	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 5710 : 
; 5711 : 	int DuelIndex; //loc7 ebp1c
; 5712 : 
; 5713 : 	int loc8; //ebp20
; 5714 : 	int loc9; //ebp24
; 5715 : 
; 5716 : 	BOOL bEnableAttack; //loc10 ebp28
; 5717 : 
; 5718 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  0b2bd	6a 01		 push	 1
  0b2bf	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0b2c2	50		 push	 eax
  0b2c3	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0b2c6	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  0b2ca	52		 push	 edx
  0b2cb	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b2ce	50		 push	 eax
  0b2cf	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0b2d4	83 c4 10	 add	 esp, 16			; 00000010H

; 5719 : 
; 5720 : 	DuelIndex = lpObj->m_iDuelUser;

  0b2d7	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b2da	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0b2e0	89 4d e4	 mov	 DWORD PTR _DuelIndex$[ebp], ecx

; 5721 : 
; 5722 : 	loc8 = 0;

  0b2e3	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _loc8$[ebp], 0

; 5723 : 
; 5724 : 	if(gObj[aTargetIndex].Type == OBJ_MONSTER)

  0b2ea	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0b2ed	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b2f3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b2f9	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0b2fe	83 fa 02	 cmp	 edx, 2
  0b301	75 2c		 jne	 SHORT $LN27@SkillBlind

; 5725 : 	{
; 5726 : 		loc8 = lpObj->m_AttackRating * (lpObj->Energy / 50 + 20) / 100;

  0b303	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b306	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  0b30d	99		 cdq
  0b30e	b9 32 00 00 00	 mov	 ecx, 50			; 00000032H
  0b313	f7 f9		 idiv	 ecx
  0b315	83 c0 14	 add	 eax, 20			; 00000014H
  0b318	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b31b	0f af 82 88 04
	00 00		 imul	 eax, DWORD PTR [edx+1160]
  0b322	99		 cdq
  0b323	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0b328	f7 f9		 idiv	 ecx
  0b32a	89 45 e0	 mov	 DWORD PTR _loc8$[ebp], eax

; 5727 : 	}
; 5728 : 	else

  0b32d	eb 4b		 jmp	 SHORT $LN26@SkillBlind
$LN27@SkillBlind:

; 5729 : 	{
; 5730 : 		loc9 = lpObj->Level*3 + (lpObj->Dexterity * 35)/10;

  0b32f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b332	0f bf 88 be 00
	00 00		 movsx	 ecx, WORD PTR [eax+190]
  0b339	6b c9 03	 imul	 ecx, 3
  0b33c	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b33f	0f b7 82 f6 00
	00 00		 movzx	 eax, WORD PTR [edx+246]
  0b346	6b c0 23	 imul	 eax, 35			; 00000023H
  0b349	99		 cdq
  0b34a	be 0a 00 00 00	 mov	 esi, 10			; 0000000aH
  0b34f	f7 fe		 idiv	 esi
  0b351	03 c8		 add	 ecx, eax
  0b353	89 4d dc	 mov	 DWORD PTR _loc9$[ebp], ecx

; 5731 : 		loc8 = loc9 * (lpObj->Energy / 50 + 20) / 100;

  0b356	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b359	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  0b360	99		 cdq
  0b361	b9 32 00 00 00	 mov	 ecx, 50			; 00000032H
  0b366	f7 f9		 idiv	 ecx
  0b368	83 c0 14	 add	 eax, 20			; 00000014H
  0b36b	0f af 45 dc	 imul	 eax, DWORD PTR _loc9$[ebp]
  0b36f	99		 cdq
  0b370	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0b375	f7 f9		 idiv	 ecx
  0b377	89 45 e0	 mov	 DWORD PTR _loc8$[ebp], eax
$LN26@SkillBlind:

; 5732 : 	}
; 5733 : 
; 5734 : 	if(loc8 < rand()%100)

  0b37a	e8 00 00 00 00	 call	 _rand
  0b37f	99		 cdq
  0b380	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0b385	f7 f9		 idiv	 ecx
  0b387	39 55 e0	 cmp	 DWORD PTR _loc8$[ebp], edx
  0b38a	7d 35		 jge	 SHORT $LN23@SkillBlind

; 5735 : 	{
; 5736 : 		GCDamageSend(lpObj->m_Index, gObj[aTargetIndex].m_Index, 0, 0, 0, 0);

  0b38c	6a 00		 push	 0
  0b38e	6a 00		 push	 0
  0b390	6a 00		 push	 0
  0b392	6a 00		 push	 0
  0b394	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0b397	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b39d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b3a3	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0b3a6	52		 push	 edx
  0b3a7	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b3aa	8b 08		 mov	 ecx, DWORD PTR [eax]
  0b3ac	51		 push	 ecx
  0b3ad	e8 00 00 00 00	 call	 ?GCDamageSend@@YAXHHHHHH@Z ; GCDamageSend
  0b3b2	83 c4 18	 add	 esp, 24			; 00000018H

; 5737 : 		return FALSE;

  0b3b5	33 c0		 xor	 eax, eax
  0b3b7	e9 bb 03 00 00	 jmp	 $LN28@SkillBlind

; 5738 : 	}
; 5739 : 	else

  0b3bc	e9 b3 03 00 00	 jmp	 $LN24@SkillBlind
$LN23@SkillBlind:

; 5740 : 	{
; 5741 : 		while( true )

  0b3c1	b8 01 00 00 00	 mov	 eax, 1
  0b3c6	85 c0		 test	 eax, eax
  0b3c8	0f 84 a6 03 00
	00		 je	 $LN24@SkillBlind

; 5742 : 		{
; 5743 : 			if(lpObj->VpPlayer2[count].state != 0)

  0b3ce	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0b3d1	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0b3d4	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b3d7	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0b3df	85 d2		 test	 edx, edx
  0b3e1	0f 84 77 03 00
	00		 je	 $LN21@SkillBlind

; 5744 : 			{
; 5745 : 				tObjNum = lpObj->VpPlayer2[count].number;

  0b3e7	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0b3ea	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0b3ed	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b3f0	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0b3f8	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 5746 : 
; 5747 : 				if(tObjNum >= 0)

  0b3fb	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0b3ff	0f 8c 59 03 00
	00		 jl	 $LN21@SkillBlind

; 5748 : 				{
; 5749 : 					bEnableAttack = FALSE;

  0b405	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 0

; 5750 : 
; 5751 : 					if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0b40c	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0b40f	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0b412	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b415	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0b41d	83 fa 02	 cmp	 edx, 2
  0b420	75 25		 jne	 SHORT $LN19@SkillBlind
  0b422	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b425	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b42b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b431	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0b439	7d 0c		 jge	 SHORT $LN19@SkillBlind

; 5752 : 					{
; 5753 : 						bEnableAttack = TRUE;

  0b43b	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0b442	e9 8f 01 00 00	 jmp	 $LN18@SkillBlind
$LN19@SkillBlind:

; 5754 : 					}
; 5755 : 					else if(tObjNum == aTargetIndex && DuelIndex == tObjNum)

  0b447	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b44a	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0b44d	75 14		 jne	 SHORT $LN17@SkillBlind
  0b44f	8b 45 e4	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  0b452	3b 45 f0	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  0b455	75 0c		 jne	 SHORT $LN17@SkillBlind

; 5756 : 					{
; 5757 : 						bEnableAttack = TRUE;

  0b457	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0b45e	e9 73 01 00 00	 jmp	 $LN18@SkillBlind
$LN17@SkillBlind:

; 5758 : 					}
; 5759 : 					else if (CC_MAP_RANGE(lpObj->MapNumber) != FALSE || IT_MAP_RANGE(lpObj->MapNumber) != FALSE)

  0b463	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b466	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0b46d	83 f9 35	 cmp	 ecx, 53			; 00000035H
  0b470	75 09		 jne	 SHORT $LN32@SkillBlind
  0b472	c7 45 88 01 00
	00 00		 mov	 DWORD PTR tv194[ebp], 1
  0b479	eb 33		 jmp	 SHORT $LN33@SkillBlind
$LN32@SkillBlind:
  0b47b	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b47e	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0b485	83 f8 12	 cmp	 eax, 18			; 00000012H
  0b488	7d 09		 jge	 SHORT $LN30@SkillBlind
  0b48a	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv193[ebp], 0
  0b491	eb 15		 jmp	 SHORT $LN31@SkillBlind
$LN30@SkillBlind:
  0b493	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b496	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  0b49d	33 c0		 xor	 eax, eax
  0b49f	83 fa 17	 cmp	 edx, 23			; 00000017H
  0b4a2	0f 9e c0	 setle	 al
  0b4a5	89 45 84	 mov	 DWORD PTR tv193[ebp], eax
$LN31@SkillBlind:
  0b4a8	8b 4d 84	 mov	 ecx, DWORD PTR tv193[ebp]
  0b4ab	89 4d 88	 mov	 DWORD PTR tv194[ebp], ecx
$LN33@SkillBlind:
  0b4ae	83 7d 88 00	 cmp	 DWORD PTR tv194[ebp], 0
  0b4b2	75 33		 jne	 SHORT $LN14@SkillBlind
  0b4b4	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b4b7	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0b4be	83 f9 2d	 cmp	 ecx, 45			; 0000002dH
  0b4c1	7d 09		 jge	 SHORT $LN34@SkillBlind
  0b4c3	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv203[ebp], 0
  0b4ca	eb 15		 jmp	 SHORT $LN35@SkillBlind
$LN34@SkillBlind:
  0b4cc	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b4cf	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0b4d6	33 c9		 xor	 ecx, ecx
  0b4d8	83 f8 32	 cmp	 eax, 50			; 00000032H
  0b4db	0f 9e c1	 setle	 cl
  0b4de	89 4d 88	 mov	 DWORD PTR tv203[ebp], ecx
$LN35@SkillBlind:
  0b4e1	83 7d 88 00	 cmp	 DWORD PTR tv203[ebp], 0
  0b4e5	74 0c		 je	 SHORT $LN15@SkillBlind
$LN14@SkillBlind:

; 5760 : 					{
; 5761 : 						bEnableAttack = TRUE;

  0b4e7	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 5762 : 					}
; 5763 : //#if(GS_CASTLE==1)
; 5764 : 					else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 

  0b4ee	e9 e3 00 00 00	 jmp	 $LN18@SkillBlind
$LN15@SkillBlind:

; 5765 : 						gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 5766 : 						g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  0b4f3	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0b4f6	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0b4f9	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b4fc	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0b504	83 fa 03	 cmp	 edx, 3
  0b507	74 37		 je	 SHORT $LN12@SkillBlind
  0b509	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b50c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b512	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b518	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0b520	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  0b523	75 1b		 jne	 SHORT $LN12@SkillBlind
  0b525	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0b52a	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  0b52f	83 f8 07	 cmp	 eax, 7
  0b532	75 0c		 jne	 SHORT $LN12@SkillBlind

; 5767 : 					{
; 5768 : 						bEnableAttack = TRUE;

  0b534	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 5769 : 					}
; 5770 : //#endif
; 5771 : 					else

  0b53b	e9 96 00 00 00	 jmp	 $LN18@SkillBlind
$LN12@SkillBlind:

; 5772 : 					{
; 5773 : 						int CallMonIndex = gObj[tObjNum].m_Index;

  0b540	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b543	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b549	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b54f	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0b552	89 55 d4	 mov	 DWORD PTR _CallMonIndex$241881[ebp], edx

; 5774 : 
; 5775 : 						if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0b555	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b558	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b55e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b564	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0b569	83 fa 02	 cmp	 edx, 2
  0b56c	75 40		 jne	 SHORT $LN10@SkillBlind
  0b56e	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b571	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b577	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b57d	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0b585	7c 27		 jl	 SHORT $LN10@SkillBlind

; 5776 : 						{
; 5777 : 							CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0b587	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b58a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b590	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b596	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0b59d	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0b5a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b5a8	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0b5ab	89 4d d4	 mov	 DWORD PTR _CallMonIndex$241881[ebp], ecx
$LN10@SkillBlind:

; 5778 : 						}
; 5779 : 
; 5780 : 						if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  0b5ae	8b 45 d4	 mov	 eax, DWORD PTR _CallMonIndex$241881[ebp]
  0b5b1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b5b7	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b5bd	50		 push	 eax
  0b5be	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b5c1	51		 push	 ecx
  0b5c2	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0b5c7	83 c4 08	 add	 esp, 8
  0b5ca	83 f8 01	 cmp	 eax, 1
  0b5cd	75 07		 jne	 SHORT $LN18@SkillBlind

; 5781 : 						{
; 5782 : 							bEnableAttack = TRUE;

  0b5cf	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN18@SkillBlind:

; 5783 : 						}
; 5784 : 					}
; 5785 : 
; 5786 : 					if(bEnableAttack != FALSE)

  0b5d6	83 7d d8 00	 cmp	 DWORD PTR _bEnableAttack$[ebp], 0
  0b5da	0f 84 7e 01 00
	00		 je	 $LN21@SkillBlind

; 5787 : 					{
; 5788 : 						if(tObjNum == aTargetIndex)

  0b5e0	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b5e3	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0b5e6	0f 85 72 01 00
	00		 jne	 $LN21@SkillBlind

; 5789 : 						{
; 5790 : 							if(gCheckSkillDistance(aIndex, aTargetIndex, lpMagic->m_Skill) != FALSE)

  0b5ec	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0b5ef	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0b5f2	51		 push	 ecx
  0b5f3	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0b5f6	52		 push	 edx
  0b5f7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0b5fa	50		 push	 eax
  0b5fb	e8 00 00 00 00	 call	 ?gCheckSkillDistance@@YAHHHH@Z ; gCheckSkillDistance
  0b600	83 c4 0c	 add	 esp, 12			; 0000000cH
  0b603	85 c0		 test	 eax, eax
  0b605	0f 84 53 01 00
	00		 je	 $LN21@SkillBlind

; 5791 : 							{
; 5792 : 								int iValue1 = 20 + lpObj->Energy / 50;

  0b60b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b60e	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  0b615	99		 cdq
  0b616	b9 32 00 00 00	 mov	 ecx, 50			; 00000032H
  0b61b	f7 f9		 idiv	 ecx
  0b61d	83 c0 14	 add	 eax, 20			; 00000014H
  0b620	89 45 d0	 mov	 DWORD PTR _iValue1$241887[ebp], eax

; 5793 : 								int iValue2 = 0;

  0b623	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _iValue2$241888[ebp], 0

; 5794 : 
; 5795 : 								if(gObj[aTargetIndex].Type == OBJ_MONSTER)

  0b62a	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0b62d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b633	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b639	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0b63e	83 fa 02	 cmp	 edx, 2
  0b641	75 3c		 jne	 SHORT $LN5@SkillBlind

; 5796 : 								{
; 5797 : 									iValue2 = 9 + lpObj->Energy / 70 - gObj[aTargetIndex].Level / 15;

  0b643	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b646	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  0b64d	99		 cdq
  0b64e	b9 46 00 00 00	 mov	 ecx, 70			; 00000046H
  0b653	f7 f9		 idiv	 ecx
  0b655	8b c8		 mov	 ecx, eax
  0b657	83 c1 09	 add	 ecx, 9
  0b65a	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0b65d	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0b663	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b668	0f bf 84 10 be
	00 00 00	 movsx	 eax, WORD PTR [eax+edx+190]
  0b670	99		 cdq
  0b671	be 0f 00 00 00	 mov	 esi, 15			; 0000000fH
  0b676	f7 fe		 idiv	 esi
  0b678	2b c8		 sub	 ecx, eax
  0b67a	89 4d cc	 mov	 DWORD PTR _iValue2$241888[ebp], ecx
  0b67d	eb 6b		 jmp	 SHORT $LN4@SkillBlind
$LN5@SkillBlind:

; 5798 : 								}
; 5799 : 								else if(gObj[aTargetIndex].Type == OBJ_USER)

  0b67f	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0b682	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b688	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b68e	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0b693	83 fa 01	 cmp	 edx, 1
  0b696	75 52		 jne	 SHORT $LN4@SkillBlind

; 5800 : 								{
; 5801 : 									iValue2 = ( ( lpObj->Energy / 210 ) + ( ( gObj[aTargetIndex].Level - gObj[aTargetIndex].Level ) / 100 ) + 3 );

  0b698	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b69b	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  0b6a2	99		 cdq
  0b6a3	b9 d2 00 00 00	 mov	 ecx, 210		; 000000d2H
  0b6a8	f7 f9		 idiv	 ecx
  0b6aa	8b c8		 mov	 ecx, eax
  0b6ac	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0b6af	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0b6b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b6ba	0f bf 84 10 be
	00 00 00	 movsx	 eax, WORD PTR [eax+edx+190]
  0b6c2	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0b6c5	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0b6cb	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b6d1	0f bf 94 16 be
	00 00 00	 movsx	 edx, WORD PTR [esi+edx+190]
  0b6d9	2b c2		 sub	 eax, edx
  0b6db	99		 cdq
  0b6dc	be 64 00 00 00	 mov	 esi, 100		; 00000064H
  0b6e1	f7 fe		 idiv	 esi
  0b6e3	8d 44 01 03	 lea	 eax, DWORD PTR [ecx+eax+3]
  0b6e7	89 45 cc	 mov	 DWORD PTR _iValue2$241888[ebp], eax
$LN4@SkillBlind:

; 5802 : 								}
; 5803 : 
; 5804 : 								if(gObjCheckBuffEffectValue(&gObj[aTargetIndex], AT_BLIND, iValue1, 0) == 1)

  0b6ea	6a 00		 push	 0
  0b6ec	8b 45 d0	 mov	 eax, DWORD PTR _iValue1$241887[ebp]
  0b6ef	50		 push	 eax
  0b6f0	6a 49		 push	 73			; 00000049H
  0b6f2	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0b6f5	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0b6fb	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b701	51		 push	 ecx
  0b702	e8 00 00 00 00	 call	 ?gObjCheckBuffEffectValue@@YAEPAUOBJECTSTRUCT@@HHH@Z ; gObjCheckBuffEffectValue
  0b707	83 c4 10	 add	 esp, 16			; 00000010H
  0b70a	0f b6 d0	 movzx	 edx, al
  0b70d	83 fa 01	 cmp	 edx, 1
  0b710	75 1b		 jne	 SHORT $LN2@SkillBlind

; 5805 : 								{
; 5806 : 									GCMagicAttackNumberSend(lpObj,220,aTargetIndex,0);

  0b712	6a 00		 push	 0
  0b714	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0b717	50		 push	 eax
  0b718	68 dc 00 00 00	 push	 220			; 000000dcH
  0b71d	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b720	51		 push	 ecx
  0b721	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0b726	83 c4 10	 add	 esp, 16			; 00000010H

; 5807 : 									return FALSE;

  0b729	33 c0		 xor	 eax, eax
  0b72b	eb 4a		 jmp	 SHORT $LN28@SkillBlind
$LN2@SkillBlind:

; 5808 : 								}
; 5809 : 
; 5810 : 								gObjApplyBuffEffectDuration(&gObj[aTargetIndex], AT_BLIND, 26, iValue1, 0, 0, iValue2);

  0b72d	8b 45 cc	 mov	 eax, DWORD PTR _iValue2$241888[ebp]
  0b730	50		 push	 eax
  0b731	6a 00		 push	 0
  0b733	6a 00		 push	 0
  0b735	8b 4d d0	 mov	 ecx, DWORD PTR _iValue1$241887[ebp]
  0b738	51		 push	 ecx
  0b739	6a 1a		 push	 26			; 0000001aH
  0b73b	6a 49		 push	 73			; 00000049H
  0b73d	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0b740	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0b746	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b74c	52		 push	 edx
  0b74d	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0b752	83 c4 1c	 add	 esp, 28			; 0000001cH

; 5811 : 								result = 1;

  0b755	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _result$[ebp], 1

; 5812 : 								break;

  0b75c	eb 16		 jmp	 SHORT $LN24@SkillBlind
$LN21@SkillBlind:

; 5813 : 							}
; 5814 : 						}
; 5815 : 					}
; 5816 : 				}
; 5817 : 			}
; 5818 : 
; 5819 : 			count++;

  0b75e	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0b761	83 c0 01	 add	 eax, 1
  0b764	89 45 e8	 mov	 DWORD PTR _count$[ebp], eax

; 5820 : 				
; 5821 : 			if(count > MAX_VIEWPORT -1)

  0b767	83 7d e8 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0b76b	7e 02		 jle	 SHORT $LN1@SkillBlind

; 5822 : 			{
; 5823 : 				break;

  0b76d	eb 05		 jmp	 SHORT $LN24@SkillBlind
$LN1@SkillBlind:

; 5824 : 			}
; 5825 : 		}

  0b76f	e9 4d fc ff ff	 jmp	 $LN23@SkillBlind
$LN24@SkillBlind:

; 5826 : 	}
; 5827 : 	return result;

  0b774	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
$LN28@SkillBlind:

; 5828 : }

  0b777	5f		 pop	 edi
  0b778	5e		 pop	 esi
  0b779	5b		 pop	 ebx
  0b77a	8b e5		 mov	 esp, ebp
  0b77c	5d		 pop	 ebp
  0b77d	c2 0c 00	 ret	 12			; 0000000cH
?SkillBlind@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::SkillBlind
; Function compile flags: /Odtp /ZI
tv137 = -108						; size = 4
tv147 = -104						; size = 4
tv138 = -104						; size = 4
_CallMonIndex$241923 = -36				; size = 4
_bEnableAttack$ = -32					; size = 4
_DuelRoom$ = -28					; size = 4
_maxhit$ = -24						; size = 4
_count$ = -20						; size = 4
_tObjNum$ = -16						; size = 4
_result$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_aTargetIndex$ = 24					; size = 4
?SkillWeakness@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z PROC ; CObjUseSkill::SkillWeakness
; _this$ = ecx

; 5831 : {

  0b780	55		 push	 ebp
  0b781	8b ec		 mov	 ebp, esp
  0b783	83 ec 6c	 sub	 esp, 108		; 0000006cH
  0b786	53		 push	 ebx
  0b787	56		 push	 esi
  0b788	57		 push	 edi
  0b789	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 5832 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  0b78c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0b78f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b795	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b79b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 5833 : 
; 5834 : 	int result = 0; //loc3 ebpC

  0b79e	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _result$[ebp], 0

; 5835 : 
; 5836 : 	int tObjNum; //loc4 -> ebp-10
; 5837 : 
; 5838 : 	int count = 0; //loc5 ebp14

  0b7a5	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 5839 : 
; 5840 : 	int maxhit = 0; //loc6 ebp18

  0b7ac	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _maxhit$[ebp], 0

; 5841 : 
; 5842 : 	//int DuelIndex = lpObj->m_iDuelUser; //loc7 ebp1c
; 5843 : 
; 5844 : 	int DuelRoom = lpObj->m_iDuelRoom;

  0b7b3	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b7b6	8b 88 b4 21 00
	00		 mov	 ecx, DWORD PTR [eax+8628]
  0b7bc	89 4d e4	 mov	 DWORD PTR _DuelRoom$[ebp], ecx

; 5845 : 
; 5846 : 	BOOL bEnableAttack; //loc8 ebp20
; 5847 : 
; 5848 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  0b7bf	6a 01		 push	 1
  0b7c1	8b 45 18	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0b7c4	50		 push	 eax
  0b7c5	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0b7c8	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  0b7cc	52		 push	 edx
  0b7cd	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b7d0	50		 push	 eax
  0b7d1	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0b7d6	83 c4 10	 add	 esp, 16			; 00000010H
$LN19@SkillWeakn:

; 5849 : 
; 5850 : 	while( true )

  0b7d9	b8 01 00 00 00	 mov	 eax, 1
  0b7de	85 c0		 test	 eax, eax
  0b7e0	0f 84 6c 02 00
	00		 je	 $LN18@SkillWeakn

; 5851 : 	{
; 5852 : 		if(lpObj->VpPlayer2[count].state != 0)

  0b7e6	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0b7e9	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0b7ec	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b7ef	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0b7f7	85 d2		 test	 edx, edx
  0b7f9	0f 84 3d 02 00
	00		 je	 $LN17@SkillWeakn

; 5853 : 		{
; 5854 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0b7ff	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0b802	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0b805	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b808	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0b810	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 5855 : 
; 5856 : 			if(tObjNum >= 0)

  0b813	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0b817	0f 8c 1f 02 00
	00		 jl	 $LN17@SkillWeakn

; 5857 : 			{
; 5858 : 				bEnableAttack = FALSE;

  0b81d	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 0

; 5859 : 
; 5860 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0b824	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0b827	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0b82a	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b82d	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0b835	83 fa 02	 cmp	 edx, 2
  0b838	75 25		 jne	 SHORT $LN15@SkillWeakn
  0b83a	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b83d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b843	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b849	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0b851	7d 0c		 jge	 SHORT $LN15@SkillWeakn

; 5861 : 				{
; 5862 : 					bEnableAttack = TRUE;

  0b853	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0b85a	e9 85 01 00 00	 jmp	 $LN14@SkillWeakn
$LN15@SkillWeakn:

; 5863 : 				}
; 5864 : 				else if(DuelRoom >= 0)

  0b85f	83 7d e4 00	 cmp	 DWORD PTR _DuelRoom$[ebp], 0
  0b863	7c 0c		 jl	 SHORT $LN13@SkillWeakn

; 5865 : 				{
; 5866 : 					bEnableAttack = TRUE;

  0b865	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0b86c	e9 73 01 00 00	 jmp	 $LN14@SkillWeakn
$LN13@SkillWeakn:

; 5867 : 				}
; 5868 : 				else if (CC_MAP_RANGE(lpObj->MapNumber) != FALSE || IT_MAP_RANGE(lpObj->MapNumber) != FALSE)

  0b871	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b874	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0b87b	83 f9 35	 cmp	 ecx, 53			; 00000035H
  0b87e	75 09		 jne	 SHORT $LN24@SkillWeakn
  0b880	c7 45 98 01 00
	00 00		 mov	 DWORD PTR tv138[ebp], 1
  0b887	eb 33		 jmp	 SHORT $LN25@SkillWeakn
$LN24@SkillWeakn:
  0b889	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b88c	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0b893	83 f8 12	 cmp	 eax, 18			; 00000012H
  0b896	7d 09		 jge	 SHORT $LN22@SkillWeakn
  0b898	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv137[ebp], 0
  0b89f	eb 15		 jmp	 SHORT $LN23@SkillWeakn
$LN22@SkillWeakn:
  0b8a1	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b8a4	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  0b8ab	33 c0		 xor	 eax, eax
  0b8ad	83 fa 17	 cmp	 edx, 23			; 00000017H
  0b8b0	0f 9e c0	 setle	 al
  0b8b3	89 45 94	 mov	 DWORD PTR tv137[ebp], eax
$LN23@SkillWeakn:
  0b8b6	8b 4d 94	 mov	 ecx, DWORD PTR tv137[ebp]
  0b8b9	89 4d 98	 mov	 DWORD PTR tv138[ebp], ecx
$LN25@SkillWeakn:
  0b8bc	83 7d 98 00	 cmp	 DWORD PTR tv138[ebp], 0
  0b8c0	75 33		 jne	 SHORT $LN10@SkillWeakn
  0b8c2	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b8c5	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0b8cc	83 f9 2d	 cmp	 ecx, 45			; 0000002dH
  0b8cf	7d 09		 jge	 SHORT $LN26@SkillWeakn
  0b8d1	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv147[ebp], 0
  0b8d8	eb 15		 jmp	 SHORT $LN27@SkillWeakn
$LN26@SkillWeakn:
  0b8da	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b8dd	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0b8e4	33 c9		 xor	 ecx, ecx
  0b8e6	83 f8 32	 cmp	 eax, 50			; 00000032H
  0b8e9	0f 9e c1	 setle	 cl
  0b8ec	89 4d 98	 mov	 DWORD PTR tv147[ebp], ecx
$LN27@SkillWeakn:
  0b8ef	83 7d 98 00	 cmp	 DWORD PTR tv147[ebp], 0
  0b8f3	74 0c		 je	 SHORT $LN11@SkillWeakn
$LN10@SkillWeakn:

; 5869 : 				{
; 5870 : 					bEnableAttack = TRUE;

  0b8f5	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 5871 : 				}
; 5872 : //#if(GS_CASTLE==1)
; 5873 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 

  0b8fc	e9 e3 00 00 00	 jmp	 $LN14@SkillWeakn
$LN11@SkillWeakn:

; 5874 : 					gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 5875 : 					g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  0b901	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0b904	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0b907	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b90a	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0b912	83 fa 03	 cmp	 edx, 3
  0b915	74 37		 je	 SHORT $LN8@SkillWeakn
  0b917	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b91a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b920	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b926	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0b92e	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  0b931	75 1b		 jne	 SHORT $LN8@SkillWeakn
  0b933	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0b938	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  0b93d	83 f8 07	 cmp	 eax, 7
  0b940	75 0c		 jne	 SHORT $LN8@SkillWeakn

; 5876 : 				{
; 5877 : 					bEnableAttack = TRUE;

  0b942	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 5878 : 				}
; 5879 : //#endif
; 5880 : 				else

  0b949	e9 96 00 00 00	 jmp	 $LN14@SkillWeakn
$LN8@SkillWeakn:

; 5881 : 				{
; 5882 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  0b94e	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b951	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b957	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b95d	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0b960	89 55 dc	 mov	 DWORD PTR _CallMonIndex$241923[ebp], edx

; 5883 : 
; 5884 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0b963	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b966	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b96c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b972	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0b977	83 fa 02	 cmp	 edx, 2
  0b97a	75 40		 jne	 SHORT $LN6@SkillWeakn
  0b97c	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b97f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b985	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b98b	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0b993	7c 27		 jl	 SHORT $LN6@SkillWeakn

; 5885 : 					{
; 5886 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0b995	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b998	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b99e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b9a4	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0b9ab	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0b9b1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b9b6	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0b9b9	89 4d dc	 mov	 DWORD PTR _CallMonIndex$241923[ebp], ecx
$LN6@SkillWeakn:

; 5887 : 					}
; 5888 : 
; 5889 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  0b9bc	8b 45 dc	 mov	 eax, DWORD PTR _CallMonIndex$241923[ebp]
  0b9bf	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b9c5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b9cb	50		 push	 eax
  0b9cc	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b9cf	51		 push	 ecx
  0b9d0	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0b9d5	83 c4 08	 add	 esp, 8
  0b9d8	83 f8 01	 cmp	 eax, 1
  0b9db	75 07		 jne	 SHORT $LN14@SkillWeakn

; 5890 : 					{
; 5891 : 						bEnableAttack = TRUE;

  0b9dd	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN14@SkillWeakn:

; 5892 : 					}
; 5893 : 				}
; 5894 : 
; 5895 : 				if(bEnableAttack != FALSE)

  0b9e4	83 7d e0 00	 cmp	 DWORD PTR _bEnableAttack$[ebp], 0
  0b9e8	74 52		 je	 SHORT $LN17@SkillWeakn

; 5896 : 				{
; 5897 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)

  0b9ea	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0b9ed	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0b9f3	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0b9f9	50		 push	 eax
  0b9fa	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b9fd	51		 push	 ecx
  0b9fe	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  0ba03	83 c4 08	 add	 esp, 8
  0ba06	83 f8 05	 cmp	 eax, 5
  0ba09	7d 31		 jge	 SHORT $LN17@SkillWeakn

; 5898 : 					{
; 5899 : 						gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,700,lpMagic->m_Skill,0);

  0ba0b	6a 00		 push	 0
  0ba0d	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0ba10	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0ba13	51		 push	 ecx
  0ba14	68 bc 02 00 00	 push	 700			; 000002bcH
  0ba19	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  0ba1c	52		 push	 edx
  0ba1d	6a 32		 push	 50			; 00000032H
  0ba1f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ba22	50		 push	 eax
  0ba23	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0ba28	83 c4 18	 add	 esp, 24			; 00000018H

; 5900 : 						maxhit++;

  0ba2b	8b 45 e8	 mov	 eax, DWORD PTR _maxhit$[ebp]
  0ba2e	83 c0 01	 add	 eax, 1
  0ba31	89 45 e8	 mov	 DWORD PTR _maxhit$[ebp], eax

; 5901 : 
; 5902 : 						if(maxhit >= 5)

  0ba34	83 7d e8 05	 cmp	 DWORD PTR _maxhit$[ebp], 5
  0ba38	7c 02		 jl	 SHORT $LN17@SkillWeakn

; 5903 : 						{
; 5904 : 							break;

  0ba3a	eb 16		 jmp	 SHORT $LN18@SkillWeakn
$LN17@SkillWeakn:

; 5905 : 						}
; 5906 : 					}
; 5907 : 				}
; 5908 : 			}
; 5909 : 		}
; 5910 : 
; 5911 : 		count++;

  0ba3c	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0ba3f	83 c0 01	 add	 eax, 1
  0ba42	89 45 ec	 mov	 DWORD PTR _count$[ebp], eax

; 5912 : 			
; 5913 : 		if(count > MAX_VIEWPORT -1)

  0ba45	83 7d ec 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0ba49	7e 02		 jle	 SHORT $LN1@SkillWeakn

; 5914 : 		{
; 5915 : 			break;

  0ba4b	eb 05		 jmp	 SHORT $LN18@SkillWeakn
$LN1@SkillWeakn:

; 5916 : 		}
; 5917 : 	}

  0ba4d	e9 87 fd ff ff	 jmp	 $LN19@SkillWeakn
$LN18@SkillWeakn:

; 5918 : 
; 5919 : 	return result;

  0ba52	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]

; 5920 : }

  0ba55	5f		 pop	 edi
  0ba56	5e		 pop	 esi
  0ba57	5b		 pop	 ebx
  0ba58	8b e5		 mov	 esp, ebp
  0ba5a	5d		 pop	 ebp
  0ba5b	c2 14 00	 ret	 20			; 00000014H
?SkillWeakness@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ENDP ; CObjUseSkill::SkillWeakness
; Function compile flags: /Odtp /ZI
tv137 = -108						; size = 4
tv147 = -104						; size = 4
tv138 = -104						; size = 4
_CallMonIndex$241959 = -36				; size = 4
_bEnableAttack$ = -32					; size = 4
_DuelRoom$ = -28					; size = 4
_maxhit$ = -24						; size = 4
_count$ = -20						; size = 4
_tObjNum$ = -16						; size = 4
_result$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_aTargetIndex$ = 24					; size = 4
?SkillInnovation@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z PROC ; CObjUseSkill::SkillInnovation
; _this$ = ecx

; 5923 : {

  0ba60	55		 push	 ebp
  0ba61	8b ec		 mov	 ebp, esp
  0ba63	83 ec 6c	 sub	 esp, 108		; 0000006cH
  0ba66	53		 push	 ebx
  0ba67	56		 push	 esi
  0ba68	57		 push	 edi
  0ba69	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 5924 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  0ba6c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0ba6f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0ba75	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ba7b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 5925 : 
; 5926 : 	int result = 0; //loc3 ebpC

  0ba7e	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _result$[ebp], 0

; 5927 : 
; 5928 : 	int tObjNum; //loc4 -> ebp-10
; 5929 : 
; 5930 : 	int count = 0; //loc5 ebp14

  0ba85	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 5931 : 
; 5932 : 	int maxhit = 0; //loc6 ebp18

  0ba8c	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _maxhit$[ebp], 0

; 5933 : 
; 5934 : 	//int DuelIndex = lpObj->m_iDuelUser; //loc7 ebp1c
; 5935 : 
; 5936 : 	int DuelRoom = lpObj->m_iDuelRoom;

  0ba93	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ba96	8b 88 b4 21 00
	00		 mov	 ecx, DWORD PTR [eax+8628]
  0ba9c	89 4d e4	 mov	 DWORD PTR _DuelRoom$[ebp], ecx

; 5937 : 
; 5938 : 	BOOL bEnableAttack; //loc8 ebp20
; 5939 : 
; 5940 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  0ba9f	6a 01		 push	 1
  0baa1	8b 45 18	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0baa4	50		 push	 eax
  0baa5	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0baa8	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  0baac	52		 push	 edx
  0baad	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bab0	50		 push	 eax
  0bab1	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0bab6	83 c4 10	 add	 esp, 16			; 00000010H
$LN19@SkillInnov:

; 5941 : 
; 5942 : 	while( true )

  0bab9	b8 01 00 00 00	 mov	 eax, 1
  0babe	85 c0		 test	 eax, eax
  0bac0	0f 84 6c 02 00
	00		 je	 $LN18@SkillInnov

; 5943 : 	{
; 5944 : 		if(lpObj->VpPlayer2[count].state != 0)

  0bac6	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0bac9	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0bacc	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bacf	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0bad7	85 d2		 test	 edx, edx
  0bad9	0f 84 3d 02 00
	00		 je	 $LN17@SkillInnov

; 5945 : 		{
; 5946 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0badf	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0bae2	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0bae5	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bae8	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0baf0	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 5947 : 
; 5948 : 			if(tObjNum >= 0)

  0baf3	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0baf7	0f 8c 1f 02 00
	00		 jl	 $LN17@SkillInnov

; 5949 : 			{
; 5950 : 				bEnableAttack = FALSE;

  0bafd	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 0

; 5951 : 
; 5952 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0bb04	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0bb07	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0bb0a	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bb0d	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0bb15	83 fa 02	 cmp	 edx, 2
  0bb18	75 25		 jne	 SHORT $LN15@SkillInnov
  0bb1a	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0bb1d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bb23	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bb29	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0bb31	7d 0c		 jge	 SHORT $LN15@SkillInnov

; 5953 : 				{
; 5954 : 					bEnableAttack = TRUE;

  0bb33	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0bb3a	e9 85 01 00 00	 jmp	 $LN14@SkillInnov
$LN15@SkillInnov:

; 5955 : 				}
; 5956 : 				else if(DuelRoom >= 0) //fix

  0bb3f	83 7d e4 00	 cmp	 DWORD PTR _DuelRoom$[ebp], 0
  0bb43	7c 0c		 jl	 SHORT $LN13@SkillInnov

; 5957 : 				{
; 5958 : 					bEnableAttack = TRUE;

  0bb45	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0bb4c	e9 73 01 00 00	 jmp	 $LN14@SkillInnov
$LN13@SkillInnov:

; 5959 : 				}
; 5960 : 				else if (CC_MAP_RANGE(lpObj->MapNumber) != FALSE || IT_MAP_RANGE(lpObj->MapNumber) != FALSE)

  0bb51	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bb54	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0bb5b	83 f9 35	 cmp	 ecx, 53			; 00000035H
  0bb5e	75 09		 jne	 SHORT $LN24@SkillInnov
  0bb60	c7 45 98 01 00
	00 00		 mov	 DWORD PTR tv138[ebp], 1
  0bb67	eb 33		 jmp	 SHORT $LN25@SkillInnov
$LN24@SkillInnov:
  0bb69	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0bb6c	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0bb73	83 f8 12	 cmp	 eax, 18			; 00000012H
  0bb76	7d 09		 jge	 SHORT $LN22@SkillInnov
  0bb78	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv137[ebp], 0
  0bb7f	eb 15		 jmp	 SHORT $LN23@SkillInnov
$LN22@SkillInnov:
  0bb81	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bb84	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  0bb8b	33 c0		 xor	 eax, eax
  0bb8d	83 fa 17	 cmp	 edx, 23			; 00000017H
  0bb90	0f 9e c0	 setle	 al
  0bb93	89 45 94	 mov	 DWORD PTR tv137[ebp], eax
$LN23@SkillInnov:
  0bb96	8b 4d 94	 mov	 ecx, DWORD PTR tv137[ebp]
  0bb99	89 4d 98	 mov	 DWORD PTR tv138[ebp], ecx
$LN25@SkillInnov:
  0bb9c	83 7d 98 00	 cmp	 DWORD PTR tv138[ebp], 0
  0bba0	75 33		 jne	 SHORT $LN10@SkillInnov
  0bba2	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bba5	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0bbac	83 f9 2d	 cmp	 ecx, 45			; 0000002dH
  0bbaf	7d 09		 jge	 SHORT $LN26@SkillInnov
  0bbb1	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv147[ebp], 0
  0bbb8	eb 15		 jmp	 SHORT $LN27@SkillInnov
$LN26@SkillInnov:
  0bbba	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0bbbd	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0bbc4	33 c9		 xor	 ecx, ecx
  0bbc6	83 f8 32	 cmp	 eax, 50			; 00000032H
  0bbc9	0f 9e c1	 setle	 cl
  0bbcc	89 4d 98	 mov	 DWORD PTR tv147[ebp], ecx
$LN27@SkillInnov:
  0bbcf	83 7d 98 00	 cmp	 DWORD PTR tv147[ebp], 0
  0bbd3	74 0c		 je	 SHORT $LN11@SkillInnov
$LN10@SkillInnov:

; 5961 : 				{
; 5962 : 					bEnableAttack = TRUE;

  0bbd5	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 5963 : 				}
; 5964 : //#if(GS_CASTLE==1)
; 5965 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 

  0bbdc	e9 e3 00 00 00	 jmp	 $LN14@SkillInnov
$LN11@SkillInnov:

; 5966 : 					gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 5967 : 					g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  0bbe1	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0bbe4	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0bbe7	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bbea	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0bbf2	83 fa 03	 cmp	 edx, 3
  0bbf5	74 37		 je	 SHORT $LN8@SkillInnov
  0bbf7	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0bbfa	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bc00	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bc06	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0bc0e	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  0bc11	75 1b		 jne	 SHORT $LN8@SkillInnov
  0bc13	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0bc18	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  0bc1d	83 f8 07	 cmp	 eax, 7
  0bc20	75 0c		 jne	 SHORT $LN8@SkillInnov

; 5968 : 				{
; 5969 : 					bEnableAttack = TRUE;

  0bc22	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 5970 : 				}
; 5971 : //#endif
; 5972 : 				else

  0bc29	e9 96 00 00 00	 jmp	 $LN14@SkillInnov
$LN8@SkillInnov:

; 5973 : 				{
; 5974 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  0bc2e	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0bc31	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bc37	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bc3d	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0bc40	89 55 dc	 mov	 DWORD PTR _CallMonIndex$241959[ebp], edx

; 5975 : 
; 5976 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0bc43	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0bc46	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bc4c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bc52	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0bc57	83 fa 02	 cmp	 edx, 2
  0bc5a	75 40		 jne	 SHORT $LN6@SkillInnov
  0bc5c	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0bc5f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bc65	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bc6b	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0bc73	7c 27		 jl	 SHORT $LN6@SkillInnov

; 5977 : 					{
; 5978 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0bc75	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0bc78	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bc7e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bc84	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0bc8b	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0bc91	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bc96	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0bc99	89 4d dc	 mov	 DWORD PTR _CallMonIndex$241959[ebp], ecx
$LN6@SkillInnov:

; 5979 : 					}
; 5980 : 
; 5981 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  0bc9c	8b 45 dc	 mov	 eax, DWORD PTR _CallMonIndex$241959[ebp]
  0bc9f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bca5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bcab	50		 push	 eax
  0bcac	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bcaf	51		 push	 ecx
  0bcb0	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0bcb5	83 c4 08	 add	 esp, 8
  0bcb8	83 f8 01	 cmp	 eax, 1
  0bcbb	75 07		 jne	 SHORT $LN14@SkillInnov

; 5982 : 					{
; 5983 : 						bEnableAttack = TRUE;

  0bcbd	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN14@SkillInnov:

; 5984 : 					}
; 5985 : 				}
; 5986 : 
; 5987 : 				if(bEnableAttack != FALSE)

  0bcc4	83 7d e0 00	 cmp	 DWORD PTR _bEnableAttack$[ebp], 0
  0bcc8	74 52		 je	 SHORT $LN17@SkillInnov

; 5988 : 				{
; 5989 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)

  0bcca	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0bccd	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bcd3	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bcd9	50		 push	 eax
  0bcda	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bcdd	51		 push	 ecx
  0bcde	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  0bce3	83 c4 08	 add	 esp, 8
  0bce6	83 f8 05	 cmp	 eax, 5
  0bce9	7d 31		 jge	 SHORT $LN17@SkillInnov

; 5990 : 					{
; 5991 : 						gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,700,lpMagic->m_Skill,0);

  0bceb	6a 00		 push	 0
  0bced	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0bcf0	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0bcf3	51		 push	 ecx
  0bcf4	68 bc 02 00 00	 push	 700			; 000002bcH
  0bcf9	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  0bcfc	52		 push	 edx
  0bcfd	6a 32		 push	 50			; 00000032H
  0bcff	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bd02	50		 push	 eax
  0bd03	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0bd08	83 c4 18	 add	 esp, 24			; 00000018H

; 5992 : 						maxhit++;

  0bd0b	8b 45 e8	 mov	 eax, DWORD PTR _maxhit$[ebp]
  0bd0e	83 c0 01	 add	 eax, 1
  0bd11	89 45 e8	 mov	 DWORD PTR _maxhit$[ebp], eax

; 5993 : 
; 5994 : 						if(maxhit >= 5)

  0bd14	83 7d e8 05	 cmp	 DWORD PTR _maxhit$[ebp], 5
  0bd18	7c 02		 jl	 SHORT $LN17@SkillInnov

; 5995 : 						{
; 5996 : 							break;

  0bd1a	eb 16		 jmp	 SHORT $LN18@SkillInnov
$LN17@SkillInnov:

; 5997 : 						}
; 5998 : 					}
; 5999 : 				}
; 6000 : 			}
; 6001 : 		}
; 6002 : 
; 6003 : 		count++;

  0bd1c	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0bd1f	83 c0 01	 add	 eax, 1
  0bd22	89 45 ec	 mov	 DWORD PTR _count$[ebp], eax

; 6004 : 			
; 6005 : 		if(count > MAX_VIEWPORT -1)

  0bd25	83 7d ec 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0bd29	7e 02		 jle	 SHORT $LN1@SkillInnov

; 6006 : 		{
; 6007 : 			break;

  0bd2b	eb 05		 jmp	 SHORT $LN18@SkillInnov
$LN1@SkillInnov:

; 6008 : 		}
; 6009 : 	}

  0bd2d	e9 87 fd ff ff	 jmp	 $LN19@SkillInnov
$LN18@SkillInnov:

; 6010 : 
; 6011 : 	return result;

  0bd32	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]

; 6012 : }

  0bd35	5f		 pop	 edi
  0bd36	5e		 pop	 esi
  0bd37	5b		 pop	 ebx
  0bd38	8b e5		 mov	 esp, ebp
  0bd3a	5d		 pop	 ebp
  0bd3b	c2 14 00	 ret	 20			; 00000014H
?SkillInnovation@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ENDP ; CObjUseSkill::SkillInnovation
; Function compile flags: /Odtp /ZI
tv136 = -124						; size = 4
tv146 = -120						; size = 4
tv137 = -120						; size = 4
_CallMonIndex$241999 = -52				; size = 4
_DuelIndex$ = -48					; size = 4
_loc11$ = -44						; size = 4
_bEnableAttack$ = -40					; size = 4
_maxhit$ = -36						; size = 4
_loc8$ = -32						; size = 4
_loc7$ = -28						; size = 4
_count$ = -24						; size = 4
_tObjNum$ = -20						; size = 4
_bAttack$ = -16						; size = 4
_loc3$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillLightningShock@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillLightningShock
; _this$ = ecx

; 6016 : {

  0bd40	55		 push	 ebp
  0bd41	8b ec		 mov	 ebp, esp
  0bd43	83 ec 7c	 sub	 esp, 124		; 0000007cH
  0bd46	53		 push	 ebx
  0bd47	56		 push	 esi
  0bd48	57		 push	 edi
  0bd49	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 6017 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  0bd4c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0bd4f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bd55	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bd5b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 6018 : 	int loc3 = 0; //loc3

  0bd5e	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _loc3$[ebp], 0

; 6019 : 	BOOL bAttack = FALSE; //loc4

  0bd65	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 6020 : 	int tObjNum; //loc5
; 6021 : 	int count = 0; //loc6

  0bd6c	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 6022 : 	int loc7 = 0; //loc7

  0bd73	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _loc7$[ebp], 0

; 6023 : 	int loc8 = 7; //loc8

  0bd7a	c7 45 e0 07 00
	00 00		 mov	 DWORD PTR _loc8$[ebp], 7

; 6024 : 	int maxhit = 0; //loc9

  0bd81	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _maxhit$[ebp], 0

; 6025 : 
; 6026 : 	BOOL bEnableAttack; //loc10
; 6027 : 
; 6028 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  0bd88	6a 01		 push	 1
  0bd8a	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0bd8d	50		 push	 eax
  0bd8e	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0bd91	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  0bd95	52		 push	 edx
  0bd96	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bd99	50		 push	 eax
  0bd9a	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0bd9f	83 c4 10	 add	 esp, 16			; 00000010H

; 6029 : 
; 6030 : 	int loc11 = 1;

  0bda2	c7 45 d4 01 00
	00 00		 mov	 DWORD PTR _loc11$[ebp], 1

; 6031 : 
; 6032 : 	int DuelIndex = lpObj->m_iDuelUser; //loc12

  0bda9	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bdac	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0bdb2	89 4d d0	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
$LN25@SkillLight:

; 6033 : 
; 6034 : 	while( true )

  0bdb5	b8 01 00 00 00	 mov	 eax, 1
  0bdba	85 c0		 test	 eax, eax
  0bdbc	0f 84 b6 02 00
	00		 je	 $LN24@SkillLight

; 6035 : 	{
; 6036 : 		if(lpObj->VpPlayer2[count].state != 0)

  0bdc2	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0bdc5	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0bdc8	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bdcb	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0bdd3	85 d2		 test	 edx, edx
  0bdd5	0f 84 87 02 00
	00		 je	 $LN23@SkillLight

; 6037 : 		{
; 6038 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0bddb	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0bdde	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0bde1	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bde4	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0bdec	89 55 ec	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 6039 : 
; 6040 : 			if(tObjNum >= 0)

  0bdef	83 7d ec 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0bdf3	0f 8c 69 02 00
	00		 jl	 $LN23@SkillLight

; 6041 : 			{
; 6042 : 				bEnableAttack = FALSE;

  0bdf9	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 0

; 6043 : 
; 6044 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0be00	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0be03	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0be06	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0be09	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0be11	83 fa 02	 cmp	 edx, 2
  0be14	75 25		 jne	 SHORT $LN21@SkillLight
  0be16	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0be19	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0be1f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0be25	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0be2d	7d 0c		 jge	 SHORT $LN21@SkillLight

; 6045 : 				{
; 6046 : 					bEnableAttack = TRUE;

  0be2f	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0be36	e9 95 01 00 00	 jmp	 $LN20@SkillLight
$LN21@SkillLight:

; 6047 : 				}
; 6048 : 				else if (CC_MAP_RANGE(lpObj->MapNumber) != FALSE || IT_MAP_RANGE(lpObj->MapNumber) != FALSE)

  0be3b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0be3e	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0be45	83 f9 35	 cmp	 ecx, 53			; 00000035H
  0be48	75 09		 jne	 SHORT $LN30@SkillLight
  0be4a	c7 45 88 01 00
	00 00		 mov	 DWORD PTR tv137[ebp], 1
  0be51	eb 33		 jmp	 SHORT $LN31@SkillLight
$LN30@SkillLight:
  0be53	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0be56	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0be5d	83 f8 12	 cmp	 eax, 18			; 00000012H
  0be60	7d 09		 jge	 SHORT $LN28@SkillLight
  0be62	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv136[ebp], 0
  0be69	eb 15		 jmp	 SHORT $LN29@SkillLight
$LN28@SkillLight:
  0be6b	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0be6e	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  0be75	33 c0		 xor	 eax, eax
  0be77	83 fa 17	 cmp	 edx, 23			; 00000017H
  0be7a	0f 9e c0	 setle	 al
  0be7d	89 45 84	 mov	 DWORD PTR tv136[ebp], eax
$LN29@SkillLight:
  0be80	8b 4d 84	 mov	 ecx, DWORD PTR tv136[ebp]
  0be83	89 4d 88	 mov	 DWORD PTR tv137[ebp], ecx
$LN31@SkillLight:
  0be86	83 7d 88 00	 cmp	 DWORD PTR tv137[ebp], 0
  0be8a	75 33		 jne	 SHORT $LN18@SkillLight
  0be8c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0be8f	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0be96	83 f9 2d	 cmp	 ecx, 45			; 0000002dH
  0be99	7d 09		 jge	 SHORT $LN32@SkillLight
  0be9b	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv146[ebp], 0
  0bea2	eb 15		 jmp	 SHORT $LN33@SkillLight
$LN32@SkillLight:
  0bea4	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0bea7	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0beae	33 c9		 xor	 ecx, ecx
  0beb0	83 f8 32	 cmp	 eax, 50			; 00000032H
  0beb3	0f 9e c1	 setle	 cl
  0beb6	89 4d 88	 mov	 DWORD PTR tv146[ebp], ecx
$LN33@SkillLight:
  0beb9	83 7d 88 00	 cmp	 DWORD PTR tv146[ebp], 0
  0bebd	74 0c		 je	 SHORT $LN19@SkillLight
$LN18@SkillLight:

; 6049 : 				{
; 6050 : 					bEnableAttack = TRUE;

  0bebf	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0bec6	e9 05 01 00 00	 jmp	 $LN20@SkillLight
$LN19@SkillLight:

; 6051 : 				}
; 6052 : 				else if(tObjNum == aTargetIndex && loc11 == 1 || DuelIndex == tObjNum )

  0becb	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0bece	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0bed1	75 06		 jne	 SHORT $LN14@SkillLight
  0bed3	83 7d d4 01	 cmp	 DWORD PTR _loc11$[ebp], 1
  0bed7	74 08		 je	 SHORT $LN15@SkillLight
$LN14@SkillLight:
  0bed9	8b 45 d0	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  0bedc	3b 45 ec	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  0bedf	75 0c		 jne	 SHORT $LN16@SkillLight
$LN15@SkillLight:

; 6053 : 				{
; 6054 : 					bEnableAttack = TRUE;

  0bee1	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 6055 : 				}
; 6056 : //#if(GS_CASTLE==1)
; 6057 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 

  0bee8	e9 e3 00 00 00	 jmp	 $LN20@SkillLight
$LN16@SkillLight:

; 6058 : 					gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 6059 : 					g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  0beed	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0bef0	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0bef3	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bef6	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0befe	83 fa 03	 cmp	 edx, 3
  0bf01	74 37		 je	 SHORT $LN12@SkillLight
  0bf03	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0bf06	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bf0c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bf12	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0bf1a	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  0bf1d	75 1b		 jne	 SHORT $LN12@SkillLight
  0bf1f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0bf24	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  0bf29	83 f8 07	 cmp	 eax, 7
  0bf2c	75 0c		 jne	 SHORT $LN12@SkillLight

; 6060 : 				{
; 6061 : 					bEnableAttack = 1;

  0bf2e	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 6062 : 				}
; 6063 : //#endif
; 6064 : 				else

  0bf35	e9 96 00 00 00	 jmp	 $LN20@SkillLight
$LN12@SkillLight:

; 6065 : 				{
; 6066 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  0bf3a	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0bf3d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bf43	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bf49	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0bf4c	89 55 cc	 mov	 DWORD PTR _CallMonIndex$241999[ebp], edx

; 6067 : 
; 6068 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0bf4f	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0bf52	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bf58	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bf5e	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0bf63	83 fa 02	 cmp	 edx, 2
  0bf66	75 40		 jne	 SHORT $LN10@SkillLight
  0bf68	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0bf6b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bf71	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bf77	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0bf7f	7c 27		 jl	 SHORT $LN10@SkillLight

; 6069 : 					{
; 6070 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0bf81	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0bf84	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bf8a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bf90	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0bf97	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0bf9d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bfa2	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0bfa5	89 4d cc	 mov	 DWORD PTR _CallMonIndex$241999[ebp], ecx
$LN10@SkillLight:

; 6071 : 					}
; 6072 : 
; 6073 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  0bfa8	8b 45 cc	 mov	 eax, DWORD PTR _CallMonIndex$241999[ebp]
  0bfab	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bfb1	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bfb7	50		 push	 eax
  0bfb8	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bfbb	51		 push	 ecx
  0bfbc	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0bfc1	83 c4 08	 add	 esp, 8
  0bfc4	83 f8 01	 cmp	 eax, 1
  0bfc7	75 07		 jne	 SHORT $LN20@SkillLight

; 6074 : 					{
; 6075 : 						bEnableAttack = TRUE;

  0bfc9	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN20@SkillLight:

; 6076 : 					}
; 6077 : 				}
; 6078 : 
; 6079 : 				if(bEnableAttack != FALSE)

  0bfd0	83 7d d8 00	 cmp	 DWORD PTR _bEnableAttack$[ebp], 0
  0bfd4	0f 84 88 00 00
	00		 je	 $LN23@SkillLight

; 6080 : 				{
; 6081 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 7)

  0bfda	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0bfdd	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0bfe3	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0bfe9	50		 push	 eax
  0bfea	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bfed	51		 push	 ecx
  0bfee	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  0bff3	83 c4 08	 add	 esp, 8
  0bff6	83 f8 07	 cmp	 eax, 7
  0bff9	7d 67		 jge	 SHORT $LN23@SkillLight

; 6082 : 					{
; 6083 : 						maxhit++;

  0bffb	8b 45 dc	 mov	 eax, DWORD PTR _maxhit$[ebp]
  0bffe	83 c0 01	 add	 eax, 1
  0c001	89 45 dc	 mov	 DWORD PTR _maxhit$[ebp], eax

; 6084 : 
; 6085 : 						if(maxhit > 5)

  0c004	83 7d dc 05	 cmp	 DWORD PTR _maxhit$[ebp], 5
  0c008	7e 1e		 jle	 SHORT $LN6@SkillLight

; 6086 : 						{
; 6087 : 							if(rand()%2 != 0)

  0c00a	e8 00 00 00 00	 call	 _rand
  0c00f	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0c014	79 05		 jns	 SHORT $LN34@SkillLight
  0c016	48		 dec	 eax
  0c017	83 c8 fe	 or	 eax, -2			; fffffffeH
  0c01a	40		 inc	 eax
$LN34@SkillLight:
  0c01b	85 c0		 test	 eax, eax
  0c01d	74 07		 je	 SHORT $LN5@SkillLight

; 6088 : 							{
; 6089 : 								bAttack = TRUE;

  0c01f	c7 45 f0 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN5@SkillLight:

; 6090 : 							}
; 6091 : 						}
; 6092 : 						else

  0c026	eb 07		 jmp	 SHORT $LN4@SkillLight
$LN6@SkillLight:

; 6093 : 						{
; 6094 : 							bAttack = TRUE;

  0c028	c7 45 f0 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN4@SkillLight:

; 6095 : 						}
; 6096 : 
; 6097 : 						if(maxhit > 12)

  0c02f	83 7d dc 0c	 cmp	 DWORD PTR _maxhit$[ebp], 12 ; 0000000cH
  0c033	7e 07		 jle	 SHORT $LN3@SkillLight

; 6098 : 						{
; 6099 : 							bAttack = FALSE;

  0c035	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0
$LN3@SkillLight:

; 6100 : 						}
; 6101 : 
; 6102 : 						if(bAttack == TRUE)

  0c03c	83 7d f0 01	 cmp	 DWORD PTR _bAttack$[ebp], 1
  0c040	75 20		 jne	 SHORT $LN23@SkillLight

; 6103 : 						{
; 6104 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,250,lpMagic->m_Skill,0);

  0c042	6a 00		 push	 0
  0c044	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0c047	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0c04a	51		 push	 ecx
  0c04b	68 fa 00 00 00	 push	 250			; 000000faH
  0c050	8b 55 ec	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  0c053	52		 push	 edx
  0c054	6a 32		 push	 50			; 00000032H
  0c056	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c059	50		 push	 eax
  0c05a	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0c05f	83 c4 18	 add	 esp, 24			; 00000018H
$LN23@SkillLight:

; 6105 : 						}						
; 6106 : 					}
; 6107 : 				}
; 6108 : 			}
; 6109 : 		}
; 6110 : 
; 6111 : 		count++;

  0c062	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0c065	83 c0 01	 add	 eax, 1
  0c068	89 45 e8	 mov	 DWORD PTR _count$[ebp], eax

; 6112 : 			
; 6113 : 		if(count > MAX_VIEWPORT -1)

  0c06b	83 7d e8 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0c06f	7e 02		 jle	 SHORT $LN1@SkillLight

; 6114 : 		{
; 6115 : 			break;

  0c071	eb 05		 jmp	 SHORT $LN24@SkillLight
$LN1@SkillLight:

; 6116 : 		}
; 6117 : 	}

  0c073	e9 3d fd ff ff	 jmp	 $LN25@SkillLight
$LN24@SkillLight:

; 6118 : 
; 6119 : 	return true;

  0c078	b8 01 00 00 00	 mov	 eax, 1

; 6120 : }

  0c07d	5f		 pop	 edi
  0c07e	5e		 pop	 esi
  0c07f	5b		 pop	 ebx
  0c080	8b e5		 mov	 esp, ebp
  0c082	5d		 pop	 ebp
  0c083	c2 0c 00	 ret	 12			; 0000000cH
?SkillLightningShock@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillLightningShock
; Function compile flags: /Odtp /ZI
tv67 = -88						; size = 4
_iDecLife$ = -20					; size = 4
_iIncMana$ = -16					; size = 4
_iDuration$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?SkillBerserker@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillBerserker
; _this$ = ecx

; 6123 : {

  0c090	55		 push	 ebp
  0c091	8b ec		 mov	 ebp, esp
  0c093	83 ec 58	 sub	 esp, 88			; 00000058H
  0c096	53		 push	 ebx
  0c097	56		 push	 esi
  0c098	57		 push	 edi
  0c099	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 6124 : 	//if(OBJMAX_RANGE(aIndex) == false)
; 6125 : 	//{
; 6126 : 	//	return false;
; 6127 : 	//}
; 6128 : 
; 6129 : 	//LPOBJ lpObj = &gObj[aIndex];
; 6130 : 
; 6131 : 
; 6132 : 	////int ExBerserkerStartTime = GetPrivateProfileInt("Summoner","BerserkerStartTime",30,"..\\Data\\ExData\\Skills.ini");
; 6133 : 	////int ExBerserkerEnergyTime = GetPrivateProfileInt("Summoner","BerserkerEnergyTime",20,"..\\Data\\ExData\\Skills.ini");
; 6134 : 	////int ExBerserkerMaxTime = GetPrivateProfileInt("Summoner","BerserkerMaxTime",0,"..\\Data\\ExData\\Skills.ini");
; 6135 : 
; 6136 : 	////int ExBerserkerEneIncMana = GetPrivateProfileInt("Summoner","BerserkerEneIncMana",30,"..\\Data\\ExData\\Skills.ini");
; 6137 : 	////int ExBerserkerEneDecLife = GetPrivateProfileInt("Summoner","BerserkerEneDecLife",60,"..\\Data\\ExData\\Skills.ini");
; 6138 : 	///*
; 6139 : 	//int iDuration = lpObj->Energy / 20 + 30;
; 6140 : 
; 6141 : 	//int iIncMana = lpObj->Energy / 30;
; 6142 : 	//int iDecLife = lpObj->Energy / 60;
; 6143 : 	//*/
; 6144 : 	//int iDuration = lpObj->Energy / ExConfig.Skills.ExBerserkerEnergyTime + ExConfig.Skills.ExBerserkerStartTime;
; 6145 : 	//int iIncMana  = lpObj->Energy / ExConfig.Skills.ExBerserkerEneIncMana;
; 6146 : 	//int iDecLife  = lpObj->Energy / ExConfig.Skills.ExBerserkerEneDecLife;
; 6147 : 	//
; 6148 : 	//if(ExConfig.Skills.ExBerserkerMaxTime != 0)
; 6149 : 	//{
; 6150 : 	//	if(iDuration > ExConfig.Skills.ExBerserkerMaxTime)
; 6151 : 	//		iDuration = ExConfig.Skills.ExBerserkerMaxTime;
; 6152 : 	//}
; 6153 : 
; 6154 : 	//gObjApplyBuffEffectDuration(lpObj, AT_BERSERKER, 31, iIncMana, 32, iDecLife, iDuration);
; 6155 : 
; 6156 : 	//GCMagicAttackNumberSend(lpObj,218,lpObj->m_Index,1);
; 6157 : 	//return true;
; 6158 : 
; 6159 : 	if(OBJMAX_RANGE(aIndex) == false)

  0c09c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  0c0a0	7d 09		 jge	 SHORT $LN7@SkillBerse
  0c0a2	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  0c0a9	eb 0f		 jmp	 SHORT $LN8@SkillBerse
$LN7@SkillBerse:
  0c0ab	33 c0		 xor	 eax, eax
  0c0ad	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  0c0b4	0f 9e c0	 setle	 al
  0c0b7	89 45 a8	 mov	 DWORD PTR tv67[ebp], eax
$LN8@SkillBerse:
  0c0ba	83 7d a8 00	 cmp	 DWORD PTR tv67[ebp], 0
  0c0be	75 07		 jne	 SHORT $LN4@SkillBerse

; 6160 : 	{
; 6161 : 		return FALSE;

  0c0c0	33 c0		 xor	 eax, eax
  0c0c2	e9 ca 00 00 00	 jmp	 $LN5@SkillBerse
$LN4@SkillBerse:

; 6162 : 	}
; 6163 : 
; 6164 : 	LPOBJ lpObj = &gObj[aIndex];

  0c0c7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0c0ca	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c0d0	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c0d6	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 6165 : 
; 6166 : 	int iDuration	= lpObj->Energy / g_SkillAdditionInfo.BerserkerTimeDiv + g_SkillAdditionInfo.BerserkerTimeStart;

  0c0d9	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c0dc	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  0c0e3	0f b7 0d b2 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2994
  0c0ea	99		 cdq
  0c0eb	f7 f9		 idiv	 ecx
  0c0ed	0f b7 15 b0 0b
	00 00		 movzx	 edx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2992
  0c0f4	03 c2		 add	 eax, edx
  0c0f6	89 45 f4	 mov	 DWORD PTR _iDuration$[ebp], eax

; 6167 : 
; 6168 : 	if( g_SkillAdditionInfo.BerserkerTimeMax > 0 && iDuration > g_SkillAdditionInfo.BerserkerTimeMax )

  0c0f9	83 3d b4 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2996, 0
  0c100	76 13		 jbe	 SHORT $LN3@SkillBerse
  0c102	8b 45 f4	 mov	 eax, DWORD PTR _iDuration$[ebp]
  0c105	3b 05 b4 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2996
  0c10b	76 08		 jbe	 SHORT $LN3@SkillBerse

; 6169 : 	{
; 6170 : 		iDuration = g_SkillAdditionInfo.BerserkerTimeMax;

  0c10d	a1 b4 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2996
  0c112	89 45 f4	 mov	 DWORD PTR _iDuration$[ebp], eax
$LN3@SkillBerse:

; 6171 : 	}
; 6172 : 	
; 6173 : #ifdef FIX_BERSERK_SUM
; 6174 : 	int iIncMana;
; 6175 : 	if (!ExConfig.Character.BerserkAddMana)

  0c115	83 3d 90 02 00
	00 00		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A+656, 0
  0c11c	75 09		 jne	 SHORT $LN2@SkillBerse

; 6176 : 	{
; 6177 : 		iIncMana	= 0;

  0c11e	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iIncMana$[ebp], 0

; 6178 : 	}
; 6179 : 	else

  0c125	eb 17		 jmp	 SHORT $LN1@SkillBerse
$LN2@SkillBerse:

; 6180 : 	{
; 6181 : 		iIncMana	= lpObj->Energy / g_SkillAdditionInfo.BerserkerManaIncDiv;

  0c127	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c12a	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  0c131	0f b7 0d ac 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2988
  0c138	99		 cdq
  0c139	f7 f9		 idiv	 ecx
  0c13b	89 45 f0	 mov	 DWORD PTR _iIncMana$[ebp], eax
$LN1@SkillBerse:

; 6182 : 	}
; 6183 : #else
; 6184 : 	int iIncMana	= lpObj->Energy / g_SkillAdditionInfo.BerserkerManaIncDiv;
; 6185 : #endif
; 6186 : 	int iDecLife	= lpObj->Energy / g_SkillAdditionInfo.BerserkerLifeDecDiv;

  0c13e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c141	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  0c148	0f b7 0d ae 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2990
  0c14f	99		 cdq
  0c150	f7 f9		 idiv	 ecx
  0c152	89 45 ec	 mov	 DWORD PTR _iDecLife$[ebp], eax

; 6187 : 
; 6188 : 	gObjApplyBuffEffectDuration(lpObj, AT_BERSERKER, 31, iIncMana, 32, iDecLife, iDuration); // ->

  0c155	8b 45 f4	 mov	 eax, DWORD PTR _iDuration$[ebp]
  0c158	50		 push	 eax
  0c159	8b 4d ec	 mov	 ecx, DWORD PTR _iDecLife$[ebp]
  0c15c	51		 push	 ecx
  0c15d	6a 20		 push	 32			; 00000020H
  0c15f	8b 55 f0	 mov	 edx, DWORD PTR _iIncMana$[ebp]
  0c162	52		 push	 edx
  0c163	6a 1f		 push	 31			; 0000001fH
  0c165	6a 51		 push	 81			; 00000051H
  0c167	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c16a	50		 push	 eax
  0c16b	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0c170	83 c4 1c	 add	 esp, 28			; 0000001cH

; 6189 : 	GCMagicAttackNumberSend(lpObj,218,lpObj->m_Index,1);

  0c173	6a 01		 push	 1
  0c175	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c178	8b 08		 mov	 ecx, DWORD PTR [eax]
  0c17a	51		 push	 ecx
  0c17b	68 da 00 00 00	 push	 218			; 000000daH
  0c180	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c183	52		 push	 edx
  0c184	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0c189	83 c4 10	 add	 esp, 16			; 00000010H

; 6190 : 
; 6191 : 	return TRUE;

  0c18c	b8 01 00 00 00	 mov	 eax, 1
$LN5@SkillBerse:

; 6192 : }

  0c191	5f		 pop	 edi
  0c192	5e		 pop	 esi
  0c193	5b		 pop	 ebx
  0c194	8b e5		 mov	 esp, ebp
  0c196	5d		 pop	 ebp
  0c197	c2 08 00	 ret	 8
?SkillBerserker@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillBerserker
_TEXT	ENDS
PUBLIC	?SkillWideAttackMultiTarget@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ; CObjUseSkill::SkillWideAttackMultiTarget
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_SkillResult$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_aTargetIndex$ = 24					; size = 4
_Flag$ = 28						; size = 4
?SkillPollutionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHH@Z PROC ; CObjUseSkill::SkillPollutionStart
; _this$ = ecx

; 6195 : {

  0c1a0	55		 push	 ebp
  0c1a1	8b ec		 mov	 ebp, esp
  0c1a3	83 ec 4c	 sub	 esp, 76			; 0000004cH
  0c1a6	53		 push	 ebx
  0c1a7	56		 push	 esi
  0c1a8	57		 push	 edi
  0c1a9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 6196 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  0c1ac	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0c1af	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c1b5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c1bb	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 6197 : 
; 6198 : 	int SkillResult = 0; //loc3

  0c1be	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _SkillResult$[ebp], 0

; 6199 : 
; 6200 : 	if(Flag == 59)

  0c1c5	83 7d 1c 3b	 cmp	 DWORD PTR _Flag$[ebp], 59 ; 0000003bH
  0c1c9	75 1a		 jne	 SHORT $LN2@SkillPollu

; 6201 : 	{
; 6202 : 		GCMagicAttackNumberSend(lpObj,(WORD)lpMagic->m_Skill,aTargetIndex,1);

  0c1cb	6a 01		 push	 1
  0c1cd	8b 45 18	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0c1d0	50		 push	 eax
  0c1d1	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0c1d4	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  0c1d8	52		 push	 edx
  0c1d9	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c1dc	50		 push	 eax
  0c1dd	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0c1e2	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@SkillPollu:

; 6203 : 	}
; 6204 : 
; 6205 : 	SkillResult = this->SkillWideAttackMultiTarget(aIndex, lpMagic, x, y, aTargetIndex, 3, 1, 0);

  0c1e5	6a 00		 push	 0
  0c1e7	6a 01		 push	 1
  0c1e9	6a 03		 push	 3
  0c1eb	8b 45 18	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0c1ee	50		 push	 eax
  0c1ef	0f b6 4d 14	 movzx	 ecx, BYTE PTR _y$[ebp]
  0c1f3	51		 push	 ecx
  0c1f4	0f b6 55 10	 movzx	 edx, BYTE PTR _x$[ebp]
  0c1f8	52		 push	 edx
  0c1f9	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0c1fc	50		 push	 eax
  0c1fd	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0c200	51		 push	 ecx
  0c201	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0c204	e8 00 00 00 00	 call	 ?SkillWideAttackMultiTarget@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ; CObjUseSkill::SkillWideAttackMultiTarget
  0c209	89 45 f4	 mov	 DWORD PTR _SkillResult$[ebp], eax

; 6206 : 
; 6207 : 	if(Flag >= 59 && Flag < 64)

  0c20c	83 7d 1c 3b	 cmp	 DWORD PTR _Flag$[ebp], 59 ; 0000003bH
  0c210	7c 58		 jl	 SHORT $LN1@SkillPollu
  0c212	83 7d 1c 40	 cmp	 DWORD PTR _Flag$[ebp], 64 ; 00000040H
  0c216	7d 52		 jge	 SHORT $LN1@SkillPollu

; 6208 : 	{
; 6209 : 		gObjAddMsgSendDelay(lpObj, 59, aTargetIndex, 1000, (MAKE_NUMBERDW(Flag, MAKE_NUMBERW(y,x))));

  0c218	0f b6 45 10	 movzx	 eax, BYTE PTR _x$[ebp]
  0c21c	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0c221	0f b6 c8	 movzx	 ecx, al
  0c224	0f b6 55 14	 movzx	 edx, BYTE PTR _y$[ebp]
  0c228	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  0c22e	0f b6 c2	 movzx	 eax, dl
  0c231	c1 e0 08	 shl	 eax, 8
  0c234	0b c8		 or	 ecx, eax
  0c236	0f b7 c9	 movzx	 ecx, cx
  0c239	81 e1 ff ff 00
	00		 and	 ecx, 65535		; 0000ffffH
  0c23f	0f b7 d1	 movzx	 edx, cx
  0c242	8b 45 1c	 mov	 eax, DWORD PTR _Flag$[ebp]
  0c245	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  0c24a	0f b7 c8	 movzx	 ecx, ax
  0c24d	c1 e1 10	 shl	 ecx, 16			; 00000010H
  0c250	0b d1		 or	 edx, ecx
  0c252	52		 push	 edx
  0c253	68 e8 03 00 00	 push	 1000			; 000003e8H
  0c258	8b 55 18	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0c25b	52		 push	 edx
  0c25c	6a 3b		 push	 59			; 0000003bH
  0c25e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c261	50		 push	 eax
  0c262	e8 00 00 00 00	 call	 ?gObjAddMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHH@Z ; gObjAddMsgSendDelay
  0c267	83 c4 14	 add	 esp, 20			; 00000014H
$LN1@SkillPollu:

; 6210 : 	}
; 6211 : 
; 6212 : 	return SkillResult;

  0c26a	8b 45 f4	 mov	 eax, DWORD PTR _SkillResult$[ebp]

; 6213 : }

  0c26d	5f		 pop	 edi
  0c26e	5e		 pop	 esi
  0c26f	5b		 pop	 ebx
  0c270	8b e5		 mov	 esp, ebp
  0c272	5d		 pop	 ebp
  0c273	c2 18 00	 ret	 24			; 00000018H
?SkillPollutionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHH@Z ENDP ; CObjUseSkill::SkillPollutionStart
; Function compile flags: /Odtp /ZI
_CallMonIndex$242080 = -52				; size = 4
_bEnableAttack$ = -48					; size = 4
_iSkillDistance$ = -44					; size = 4
_loc10$ = -40						; size = 4
_maxhit$ = -36						; size = 4
_bAttack$ = -32						; size = 4
_hitcount$ = -28					; size = 4
_DuelIndex$ = -24					; size = 4
_tObjNum$ = -20						; size = 4
_count$ = -16						; size = 4
_SkillResult$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_aTargetIndex$ = 24					; size = 4
_Dis$ = 28						; size = 4
_Flag$ = 32						; size = 4
_Delay$ = 36						; size = 4
?SkillWideAttackMultiTarget@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z PROC ; CObjUseSkill::SkillWideAttackMultiTarget
; _this$ = ecx

; 6217 : {

  0c280	55		 push	 ebp
  0c281	8b ec		 mov	 ebp, esp
  0c283	83 ec 74	 sub	 esp, 116		; 00000074H
  0c286	53		 push	 ebx
  0c287	56		 push	 esi
  0c288	57		 push	 edi
  0c289	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 6218 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  0c28c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0c28f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c295	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c29b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 6219 : 
; 6220 : 	int SkillResult = 0; //loc3

  0c29e	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _SkillResult$[ebp], 0

; 6221 : 
; 6222 : 	int count = 0; //loc4

  0c2a5	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 6223 : 	int tObjNum; //loc5
; 6224 : 
; 6225 : 	int DuelIndex = lpObj->m_iDuelUser; //loc6

  0c2ac	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c2af	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0c2b5	89 4d e8	 mov	 DWORD PTR _DuelIndex$[ebp], ecx

; 6226 : 
; 6227 : 	int hitcount = 0; //loc7

  0c2b8	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _hitcount$[ebp], 0

; 6228 : 
; 6229 : 	BOOL bAttack = FALSE; //loc8

  0c2bf	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 6230 : 
; 6231 : 	int maxhit = 4; //loc9

  0c2c6	c7 45 dc 04 00
	00 00		 mov	 DWORD PTR _maxhit$[ebp], 4

; 6232 : 
; 6233 : 	int loc10 = 8; //loc10

  0c2cd	c7 45 d8 08 00
	00 00		 mov	 DWORD PTR _loc10$[ebp], 8

; 6234 : 
; 6235 : 	if(lpMagic->m_Skill == 237)

  0c2d4	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0c2d7	81 78 08 ed 00
	00 00		 cmp	 DWORD PTR [eax+8], 237	; 000000edH
  0c2de	75 0e		 jne	 SHORT $LN26@SkillWideA

; 6236 : 	{
; 6237 : 		maxhit = 8;

  0c2e0	c7 45 dc 08 00
	00 00		 mov	 DWORD PTR _maxhit$[ebp], 8

; 6238 : 		loc10 = 12;

  0c2e7	c7 45 d8 0c 00
	00 00		 mov	 DWORD PTR _loc10$[ebp], 12 ; 0000000cH
$LN26@SkillWideA:

; 6239 : 	}
; 6240 : 
; 6241 : 	int iSkillDistance = MagicDamageC.GetSkillDistance(lpMagic->m_Skill); //loc11

  0c2ee	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0c2f1	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0c2f4	51		 push	 ecx
  0c2f5	b9 00 00 00 00	 mov	 ecx, OFFSET ?MagicDamageC@@3VCMagicDamage@@A ; MagicDamageC
  0c2fa	e8 00 00 00 00	 call	 ?GetSkillDistance@CMagicDamage@@QAEHH@Z ; CMagicDamage::GetSkillDistance
  0c2ff	89 45 d4	 mov	 DWORD PTR _iSkillDistance$[ebp], eax

; 6242 : 
; 6243 : 	BOOL bEnableAttack; //loc12
; 6244 : 
; 6245 : 	if(this->CalDistance(lpObj->X,lpObj->Y,x,y) <= iSkillDistance)

  0c302	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  0c306	50		 push	 eax
  0c307	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  0c30b	51		 push	 ecx
  0c30c	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c30f	0f bf 82 46 01
	00 00		 movsx	 eax, WORD PTR [edx+326]
  0c316	50		 push	 eax
  0c317	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c31a	0f bf 91 44 01
	00 00		 movsx	 edx, WORD PTR [ecx+324]
  0c321	52		 push	 edx
  0c322	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0c325	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  0c32a	3b 45 d4	 cmp	 eax, DWORD PTR _iSkillDistance$[ebp]
  0c32d	0f 8f 01 03 00
	00		 jg	 $LN25@SkillWideA
$LN24@SkillWideA:

; 6246 : 	{
; 6247 : 		while( true )

  0c333	b8 01 00 00 00	 mov	 eax, 1
  0c338	85 c0		 test	 eax, eax
  0c33a	0f 84 f4 02 00
	00		 je	 $LN25@SkillWideA

; 6248 : 		{
; 6249 : 			if(lpObj->VpPlayer2[count].state != 0)

  0c340	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0c343	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0c346	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c349	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0c351	85 d2		 test	 edx, edx
  0c353	0f 84 c5 02 00
	00		 je	 $LN22@SkillWideA

; 6250 : 			{
; 6251 : 				tObjNum = lpObj->VpPlayer2[count].number;

  0c359	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0c35c	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0c35f	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c362	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0c36a	89 55 ec	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 6252 : 
; 6253 : 				if(tObjNum >= 0)

  0c36d	83 7d ec 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0c371	0f 8c a7 02 00
	00		 jl	 $LN22@SkillWideA

; 6254 : 				{
; 6255 : 					bEnableAttack = FALSE;

  0c377	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 0

; 6256 : 
; 6257 : 					if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0c37e	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0c381	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0c384	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c387	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0c38f	83 fa 02	 cmp	 edx, 2
  0c392	75 25		 jne	 SHORT $LN20@SkillWideA
  0c394	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c397	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c39d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c3a3	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0c3ab	7d 0c		 jge	 SHORT $LN20@SkillWideA

; 6258 : 					{
; 6259 : 						bEnableAttack = TRUE;

  0c3ad	c7 45 d0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0c3b4	e9 05 01 00 00	 jmp	 $LN19@SkillWideA
$LN20@SkillWideA:

; 6260 : 					}
; 6261 : 					else if(tObjNum == aTargetIndex && Flag == 1 || DuelIndex == tObjNum)

  0c3b9	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c3bc	3b 45 18	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0c3bf	75 06		 jne	 SHORT $LN16@SkillWideA
  0c3c1	83 7d 20 01	 cmp	 DWORD PTR _Flag$[ebp], 1
  0c3c5	74 08		 je	 SHORT $LN17@SkillWideA
$LN16@SkillWideA:
  0c3c7	8b 45 e8	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  0c3ca	3b 45 ec	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  0c3cd	75 0c		 jne	 SHORT $LN18@SkillWideA
$LN17@SkillWideA:

; 6262 : 					{
; 6263 : 						bEnableAttack = TRUE;

  0c3cf	c7 45 d0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 6264 : 					}
; 6265 : //#if(GS_CASTLE==1)
; 6266 : 					else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 

  0c3d6	e9 e3 00 00 00	 jmp	 $LN19@SkillWideA
$LN18@SkillWideA:

; 6267 : 						gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 6268 : 						g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  0c3db	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0c3de	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0c3e1	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c3e4	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0c3ec	83 fa 03	 cmp	 edx, 3
  0c3ef	74 37		 je	 SHORT $LN14@SkillWideA
  0c3f1	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c3f4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c3fa	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c400	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0c408	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  0c40b	75 1b		 jne	 SHORT $LN14@SkillWideA
  0c40d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0c412	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  0c417	83 f8 07	 cmp	 eax, 7
  0c41a	75 0c		 jne	 SHORT $LN14@SkillWideA

; 6269 : 					{
; 6270 : 						bEnableAttack = TRUE;

  0c41c	c7 45 d0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 6271 : 					}
; 6272 : //#endif
; 6273 : 					else

  0c423	e9 96 00 00 00	 jmp	 $LN19@SkillWideA
$LN14@SkillWideA:

; 6274 : 					{
; 6275 : 						int CallMonIndex = gObj[tObjNum].m_Index;

  0c428	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c42b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c431	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c437	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0c43a	89 55 cc	 mov	 DWORD PTR _CallMonIndex$242080[ebp], edx

; 6276 : 
; 6277 : 						if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0c43d	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c440	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c446	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c44c	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0c451	83 fa 02	 cmp	 edx, 2
  0c454	75 40		 jne	 SHORT $LN12@SkillWideA
  0c456	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c459	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c45f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c465	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0c46d	7c 27		 jl	 SHORT $LN12@SkillWideA

; 6278 : 						{
; 6279 : 							CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0c46f	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c472	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c478	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c47e	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0c485	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0c48b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c490	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0c493	89 4d cc	 mov	 DWORD PTR _CallMonIndex$242080[ebp], ecx
$LN12@SkillWideA:

; 6280 : 						}
; 6281 : 
; 6282 : 						if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  0c496	8b 45 cc	 mov	 eax, DWORD PTR _CallMonIndex$242080[ebp]
  0c499	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c49f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c4a5	50		 push	 eax
  0c4a6	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c4a9	51		 push	 ecx
  0c4aa	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0c4af	83 c4 08	 add	 esp, 8
  0c4b2	83 f8 01	 cmp	 eax, 1
  0c4b5	75 07		 jne	 SHORT $LN19@SkillWideA

; 6283 : 						{
; 6284 : 							bEnableAttack = TRUE;

  0c4b7	c7 45 d0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN19@SkillWideA:

; 6285 : 						}
; 6286 : 					}
; 6287 : 
; 6288 : 					if(bEnableAttack != FALSE)

  0c4be	83 7d d0 00	 cmp	 DWORD PTR _bEnableAttack$[ebp], 0
  0c4c2	0f 84 56 01 00
	00		 je	 $LN22@SkillWideA

; 6289 : 					{
; 6290 : 						if(gObj[tObjNum].X >= x-Dis && gObj[tObjNum].X <= x+Dis && gObj[tObjNum].Y >= y-Dis && gObj[tObjNum].Y <= y+Dis)

  0c4c8	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c4cb	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c4d1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c4d7	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0c4df	0f b6 45 10	 movzx	 eax, BYTE PTR _x$[ebp]
  0c4e3	2b 45 1c	 sub	 eax, DWORD PTR _Dis$[ebp]
  0c4e6	3b d0		 cmp	 edx, eax
  0c4e8	0f 8c 30 01 00
	00		 jl	 $LN22@SkillWideA
  0c4ee	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c4f1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c4f7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c4fd	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0c505	0f b6 45 10	 movzx	 eax, BYTE PTR _x$[ebp]
  0c509	03 45 1c	 add	 eax, DWORD PTR _Dis$[ebp]
  0c50c	3b d0		 cmp	 edx, eax
  0c50e	0f 8f 0a 01 00
	00		 jg	 $LN22@SkillWideA
  0c514	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c517	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c51d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c523	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0c52b	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  0c52f	2b 45 1c	 sub	 eax, DWORD PTR _Dis$[ebp]
  0c532	3b d0		 cmp	 edx, eax
  0c534	0f 8c e4 00 00
	00		 jl	 $LN22@SkillWideA
  0c53a	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c53d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c543	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c549	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0c551	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  0c555	03 45 1c	 add	 eax, DWORD PTR _Dis$[ebp]
  0c558	3b d0		 cmp	 edx, eax
  0c55a	0f 8f be 00 00
	00		 jg	 $LN22@SkillWideA

; 6291 : 						{
; 6292 : 							gObj[tObjNum].lpAttackObj = lpObj;

  0c560	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c563	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c569	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c56f	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c572	89 94 01 d4 03
	00 00		 mov	 DWORD PTR [ecx+eax+980], edx

; 6293 : 							hitcount++;

  0c579	8b 45 e4	 mov	 eax, DWORD PTR _hitcount$[ebp]
  0c57c	83 c0 01	 add	 eax, 1
  0c57f	89 45 e4	 mov	 DWORD PTR _hitcount$[ebp], eax

; 6294 : 
; 6295 : 							if(hitcount > maxhit)

  0c582	8b 45 e4	 mov	 eax, DWORD PTR _hitcount$[ebp]
  0c585	3b 45 dc	 cmp	 eax, DWORD PTR _maxhit$[ebp]
  0c588	7e 1e		 jle	 SHORT $LN8@SkillWideA

; 6296 : 							{
; 6297 : 								if(rand()%2 != 0)

  0c58a	e8 00 00 00 00	 call	 _rand
  0c58f	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0c594	79 05		 jns	 SHORT $LN29@SkillWideA
  0c596	48		 dec	 eax
  0c597	83 c8 fe	 or	 eax, -2			; fffffffeH
  0c59a	40		 inc	 eax
$LN29@SkillWideA:
  0c59b	85 c0		 test	 eax, eax
  0c59d	74 07		 je	 SHORT $LN7@SkillWideA

; 6298 : 								{
; 6299 : 									bAttack = TRUE;

  0c59f	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN7@SkillWideA:

; 6300 : 								}
; 6301 : 							}
; 6302 : 							else

  0c5a6	eb 07		 jmp	 SHORT $LN6@SkillWideA
$LN8@SkillWideA:

; 6303 : 							{
; 6304 : 								bAttack = TRUE;

  0c5a8	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN6@SkillWideA:

; 6305 : 							}
; 6306 : 
; 6307 : 							if(hitcount > loc10)

  0c5af	8b 45 e4	 mov	 eax, DWORD PTR _hitcount$[ebp]
  0c5b2	3b 45 d8	 cmp	 eax, DWORD PTR _loc10$[ebp]
  0c5b5	7e 07		 jle	 SHORT $LN5@SkillWideA

; 6308 : 							{
; 6309 : 								bAttack = FALSE;

  0c5b7	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0
$LN5@SkillWideA:

; 6310 : 							}
; 6311 : 
; 6312 : 							if(bAttack == TRUE)

  0c5be	83 7d e0 01	 cmp	 DWORD PTR _bAttack$[ebp], 1
  0c5c2	75 53		 jne	 SHORT $LN4@SkillWideA

; 6313 : 							{
; 6314 : 								if(Delay == FALSE)

  0c5c4	83 7d 24 00	 cmp	 DWORD PTR _Delay$[ebp], 0
  0c5c8	75 2e		 jne	 SHORT $LN3@SkillWideA

; 6315 : 								{
; 6316 : 									gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,0,0,0,0,0);

  0c5ca	6a 00		 push	 0
  0c5cc	6a 00		 push	 0
  0c5ce	6a 00		 push	 0
  0c5d0	6a 00		 push	 0
  0c5d2	6a 00		 push	 0
  0c5d4	6a 01		 push	 1
  0c5d6	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0c5d9	50		 push	 eax
  0c5da	8b 4d ec	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0c5dd	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0c5e3	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c5e9	51		 push	 ecx
  0c5ea	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c5ed	52		 push	 edx
  0c5ee	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0c5f3	83 c4 24	 add	 esp, 36			; 00000024H

; 6317 : 								}
; 6318 : 								else

  0c5f6	eb 1f		 jmp	 SHORT $LN4@SkillWideA
$LN3@SkillWideA:

; 6319 : 								{
; 6320 : 									gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, Delay, lpMagic->m_Skill, 0);

  0c5f8	6a 00		 push	 0
  0c5fa	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0c5fd	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0c600	51		 push	 ecx
  0c601	8b 55 24	 mov	 edx, DWORD PTR _Delay$[ebp]
  0c604	52		 push	 edx
  0c605	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c608	50		 push	 eax
  0c609	6a 32		 push	 50			; 00000032H
  0c60b	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c60e	51		 push	 ecx
  0c60f	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0c614	83 c4 18	 add	 esp, 24			; 00000018H
$LN4@SkillWideA:

; 6321 : 								}
; 6322 : 							}
; 6323 : 							
; 6324 : 							SkillResult = 1;

  0c617	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _SkillResult$[ebp], 1
$LN22@SkillWideA:

; 6325 : 						}
; 6326 : 					}
; 6327 : 				}
; 6328 : 			}
; 6329 : 
; 6330 : 			count++;

  0c61e	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0c621	83 c0 01	 add	 eax, 1
  0c624	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 6331 : 			if(count > MAX_VIEWPORT -1)

  0c627	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0c62b	7e 02		 jle	 SHORT $LN1@SkillWideA

; 6332 : 			{
; 6333 : 				break;

  0c62d	eb 05		 jmp	 SHORT $LN25@SkillWideA
$LN1@SkillWideA:

; 6334 : 			}
; 6335 : 		}

  0c62f	e9 ff fc ff ff	 jmp	 $LN24@SkillWideA
$LN25@SkillWideA:

; 6336 : 	}
; 6337 : 
; 6338 : 	return SkillResult;

  0c634	8b 45 f4	 mov	 eax, DWORD PTR _SkillResult$[ebp]

; 6339 : }

  0c637	5f		 pop	 edi
  0c638	5e		 pop	 esi
  0c639	5b		 pop	 ebx
  0c63a	8b e5		 mov	 esp, ebp
  0c63c	5d		 pop	 ebp
  0c63d	c2 20 00	 ret	 32			; 00000020H
?SkillWideAttackMultiTarget@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ENDP ; CObjUseSkill::SkillWideAttackMultiTarget
; Function compile flags: /Odtp /ZI
_SkillResult$ = -8					; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_aTargetIndex$ = 24					; size = 4
?SkillStrikeOfDestructionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z PROC ; CObjUseSkill::SkillStrikeOfDestructionStart
; _this$ = ecx

; 6342 : {

  0c640	55		 push	 ebp
  0c641	8b ec		 mov	 ebp, esp
  0c643	83 ec 48	 sub	 esp, 72			; 00000048H
  0c646	53		 push	 ebx
  0c647	56		 push	 esi
  0c648	57		 push	 edi
  0c649	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 6343 : 	int SkillResult = 0; //loc2

  0c64c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _SkillResult$[ebp], 0

; 6344 : 
; 6345 : 	SkillResult = this->SkillWideAttackMultiTarget(aIndex, lpMagic, x, y, aTargetIndex, 3, 1, 500);

  0c653	68 f4 01 00 00	 push	 500			; 000001f4H
  0c658	6a 01		 push	 1
  0c65a	6a 03		 push	 3
  0c65c	8b 45 18	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0c65f	50		 push	 eax
  0c660	0f b6 4d 14	 movzx	 ecx, BYTE PTR _y$[ebp]
  0c664	51		 push	 ecx
  0c665	0f b6 55 10	 movzx	 edx, BYTE PTR _x$[ebp]
  0c669	52		 push	 edx
  0c66a	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0c66d	50		 push	 eax
  0c66e	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0c671	51		 push	 ecx
  0c672	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0c675	e8 00 00 00 00	 call	 ?SkillWideAttackMultiTarget@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ; CObjUseSkill::SkillWideAttackMultiTarget
  0c67a	89 45 f8	 mov	 DWORD PTR _SkillResult$[ebp], eax

; 6346 : 
; 6347 : 	return SkillResult;

  0c67d	8b 45 f8	 mov	 eax, DWORD PTR _SkillResult$[ebp]

; 6348 : }

  0c680	5f		 pop	 edi
  0c681	5e		 pop	 esi
  0c682	5b		 pop	 ebx
  0c683	8b e5		 mov	 esp, ebp
  0c685	5d		 pop	 ebp
  0c686	c2 14 00	 ret	 20			; 00000014H
?SkillStrikeOfDestructionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ENDP ; CObjUseSkill::SkillStrikeOfDestructionStart
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?SkillFrustrum3@CObjUseSkill@@QAEXHEMMMM@Z	; CObjUseSkill::SkillFrustrum3
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv167 = -240						; size = 4
_i$242119 = -172					; size = 4
_vFrustrum$ = -168					; size = 48
_Matrix$ = -120						; size = 48
_Angle$ = -72						; size = 12
_p$ = -60						; size = 48
_lpObj$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_fangle$ = 12						; size = 1
_tx$ = 16						; size = 4
_ty$ = 20						; size = 4
_arg5$ = 24						; size = 4
_arg6$ = 28						; size = 4
?SkillFrustrum3@CObjUseSkill@@QAEXHEMMMM@Z PROC		; CObjUseSkill::SkillFrustrum3
; _this$ = ecx

; 6351 : {

  0c690	55		 push	 ebp
  0c691	8b ec		 mov	 ebp, esp
  0c693	81 ec f0 00 00
	00		 sub	 esp, 240		; 000000f0H
  0c699	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0c69e	33 c5		 xor	 eax, ebp
  0c6a0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0c6a3	53		 push	 ebx
  0c6a4	56		 push	 esi
  0c6a5	57		 push	 edi
  0c6a6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 6352 : 	LPOBJ lpObj = &gObj[aIndex];

  0c6a9	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0c6ac	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c6b2	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c6b8	89 45 f4	 mov	 DWORD PTR _lpObj$[ebp], eax

; 6353 : 
; 6354 : 	vec3_t p[4];
; 6355 : 	Vector(-tx , ty, 0.f,p[0]);

  0c6bb	d9 45 10	 fld	 DWORD PTR _tx$[ebp]
  0c6be	d9 e0		 fchs
  0c6c0	d9 5d c4	 fstp	 DWORD PTR _p$[ebp]
  0c6c3	d9 45 14	 fld	 DWORD PTR _ty$[ebp]
  0c6c6	d9 5d c8	 fstp	 DWORD PTR _p$[ebp+4]
  0c6c9	d9 ee		 fldz
  0c6cb	d9 5d cc	 fstp	 DWORD PTR _p$[ebp+8]

; 6356 : 	Vector( tx , ty, 0.f,p[1]);

  0c6ce	d9 45 10	 fld	 DWORD PTR _tx$[ebp]
  0c6d1	d9 5d d0	 fstp	 DWORD PTR _p$[ebp+12]
  0c6d4	d9 45 14	 fld	 DWORD PTR _ty$[ebp]
  0c6d7	d9 5d d4	 fstp	 DWORD PTR _p$[ebp+16]
  0c6da	d9 ee		 fldz
  0c6dc	d9 5d d8	 fstp	 DWORD PTR _p$[ebp+20]

; 6357 : 	Vector( arg5, arg6, 0.f,p[2]);

  0c6df	d9 45 18	 fld	 DWORD PTR _arg5$[ebp]
  0c6e2	d9 5d dc	 fstp	 DWORD PTR _p$[ebp+24]
  0c6e5	d9 45 1c	 fld	 DWORD PTR _arg6$[ebp]
  0c6e8	d9 5d e0	 fstp	 DWORD PTR _p$[ebp+28]
  0c6eb	d9 ee		 fldz
  0c6ed	d9 5d e4	 fstp	 DWORD PTR _p$[ebp+32]

; 6358 : 	Vector(-arg5, arg6, 0.f,p[3]);

  0c6f0	d9 45 18	 fld	 DWORD PTR _arg5$[ebp]
  0c6f3	d9 e0		 fchs
  0c6f5	d9 5d e8	 fstp	 DWORD PTR _p$[ebp+36]
  0c6f8	d9 45 1c	 fld	 DWORD PTR _arg6$[ebp]
  0c6fb	d9 5d ec	 fstp	 DWORD PTR _p$[ebp+40]
  0c6fe	d9 ee		 fldz
  0c700	d9 5d f0	 fstp	 DWORD PTR _p$[ebp+44]

; 6359 : 
; 6360 : 	//vec3_t Angle;
; 6361 : 	vec3_t Angle;
; 6362 : 
; 6363 : 	//Vector(0.f,0.f,fangle*360/(BYTE)255,Angle);
; 6364 : 	Vector(0.f,0.f,(float)((BYTE)fangle*360/(BYTE)255),Angle);

  0c703	d9 ee		 fldz
  0c705	d9 5d b8	 fstp	 DWORD PTR _Angle$[ebp]
  0c708	d9 ee		 fldz
  0c70a	d9 5d bc	 fstp	 DWORD PTR _Angle$[ebp+4]
  0c70d	0f b6 45 0c	 movzx	 eax, BYTE PTR _fangle$[ebp]
  0c711	69 c0 68 01 00
	00		 imul	 eax, 360		; 00000168H
  0c717	99		 cdq
  0c718	b9 ff 00 00 00	 mov	 ecx, 255		; 000000ffH
  0c71d	f7 f9		 idiv	 ecx
  0c71f	89 85 10 ff ff
	ff		 mov	 DWORD PTR tv167[ebp], eax
  0c725	db 85 10 ff ff
	ff		 fild	 DWORD PTR tv167[ebp]
  0c72b	d9 5d c0	 fstp	 DWORD PTR _Angle$[ebp+8]

; 6365 : 
; 6366 : 	float Matrix[3][4];
; 6367 : 	vec3_t vFrustrum[4];
; 6368 : 	
; 6369 : 	AngleMatrix(Angle,Matrix);

  0c72e	8d 45 88	 lea	 eax, DWORD PTR _Matrix$[ebp]
  0c731	50		 push	 eax
  0c732	8d 4d b8	 lea	 ecx, DWORD PTR _Angle$[ebp]
  0c735	51		 push	 ecx
  0c736	e8 00 00 00 00	 call	 _AngleMatrix
  0c73b	83 c4 08	 add	 esp, 8

; 6370 : 
; 6371 : 	for(int i = 0; i < 4; i++)

  0c73e	c7 85 54 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$242119[ebp], 0
  0c748	eb 0f		 jmp	 SHORT $LN3@SkillFrust@3
$LN2@SkillFrust@3:
  0c74a	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _i$242119[ebp]
  0c750	83 c0 01	 add	 eax, 1
  0c753	89 85 54 ff ff
	ff		 mov	 DWORD PTR _i$242119[ebp], eax
$LN3@SkillFrust@3:
  0c759	83 bd 54 ff ff
	ff 04		 cmp	 DWORD PTR _i$242119[ebp], 4
  0c760	0f 8d 92 00 00
	00		 jge	 $LN1@SkillFrust@3

; 6372 : 	{
; 6373 : 		VectorRotate(p[i],Matrix,vFrustrum[i]);

  0c766	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _i$242119[ebp]
  0c76c	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0c76f	8d 8c 05 58 ff
	ff ff		 lea	 ecx, DWORD PTR _vFrustrum$[ebp+eax]
  0c776	51		 push	 ecx
  0c777	8d 55 88	 lea	 edx, DWORD PTR _Matrix$[ebp]
  0c77a	52		 push	 edx
  0c77b	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _i$242119[ebp]
  0c781	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0c784	8d 4c 05 c4	 lea	 ecx, DWORD PTR _p$[ebp+eax]
  0c788	51		 push	 ecx
  0c789	e8 00 00 00 00	 call	 _VectorRotate
  0c78e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6374 : 
; 6375 : 		lpObj->fSkillFrustrumX[i] = (int)vFrustrum[i][0] + lpObj->X;

  0c791	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _i$242119[ebp]
  0c797	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0c79a	d9 84 05 58 ff
	ff ff		 fld	 DWORD PTR _vFrustrum$[ebp+eax]
  0c7a1	e8 00 00 00 00	 call	 __ftol2_sse
  0c7a6	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c7a9	0f bf 91 44 01
	00 00		 movsx	 edx, WORD PTR [ecx+324]
  0c7b0	03 c2		 add	 eax, edx
  0c7b2	8b 8d 54 ff ff
	ff		 mov	 ecx, DWORD PTR _i$242119[ebp]
  0c7b8	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c7bb	89 84 8a f4 10
	00 00		 mov	 DWORD PTR [edx+ecx*4+4340], eax

; 6376 : 		lpObj->fSkillFrustrumY[i] = (int)vFrustrum[i][1] + lpObj->Y;

  0c7c2	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _i$242119[ebp]
  0c7c8	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0c7cb	d9 84 05 5c ff
	ff ff		 fld	 DWORD PTR _vFrustrum$[ebp+eax+4]
  0c7d2	e8 00 00 00 00	 call	 __ftol2_sse
  0c7d7	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c7da	0f bf 91 46 01
	00 00		 movsx	 edx, WORD PTR [ecx+326]
  0c7e1	03 c2		 add	 eax, edx
  0c7e3	8b 8d 54 ff ff
	ff		 mov	 ecx, DWORD PTR _i$242119[ebp]
  0c7e9	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c7ec	89 84 8a 04 11
	00 00		 mov	 DWORD PTR [edx+ecx*4+4356], eax

; 6377 : 	}

  0c7f3	e9 52 ff ff ff	 jmp	 $LN2@SkillFrust@3
$LN1@SkillFrust@3:

; 6378 : }

  0c7f8	5f		 pop	 edi
  0c7f9	5e		 pop	 esi
  0c7fa	5b		 pop	 ebx
  0c7fb	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0c7fe	33 cd		 xor	 ecx, ebp
  0c800	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0c805	8b e5		 mov	 esp, ebp
  0c807	5d		 pop	 ebp
  0c808	c2 18 00	 ret	 24			; 00000018H
?SkillFrustrum3@CObjUseSkill@@QAEXHEMMMM@Z ENDP		; CObjUseSkill::SkillFrustrum3
_TEXT	ENDS
PUBLIC	__real@40000000
PUBLIC	__real@40800000
PUBLIC	__real@40a00000
;	COMDAT __real@40000000
CONST	SEGMENT
__real@40000000 DD 040000000r			; 2
CONST	ENDS
;	COMDAT __real@40800000
CONST	SEGMENT
__real@40800000 DD 040800000r			; 4
CONST	ENDS
;	COMDAT __real@40a00000
CONST	SEGMENT
__real@40a00000 DD 040a00000r			; 5
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_CallMonIndex$242152 = -40				; size = 4
_bEnableAttack$ = -36					; size = 4
_DuelIndex$ = -32					; size = 4
_bAttack$ = -28						; size = 4
_HitCount$ = -24					; size = 4
_count$ = -20						; size = 4
_tObjNum$ = -16						; size = 4
_skillsuccess$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_TargetPos$ = 16					; size = 1
_aTargetIndex$ = 20					; size = 4
?SkillFlameStrike@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z PROC ; CObjUseSkill::SkillFlameStrike
; _this$ = ecx

; 6381 : {

  0c810	55		 push	 ebp
  0c811	8b ec		 mov	 ebp, esp
  0c813	83 ec 68	 sub	 esp, 104		; 00000068H
  0c816	53		 push	 ebx
  0c817	56		 push	 esi
  0c818	57		 push	 edi
  0c819	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 6382 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  0c81c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0c81f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c825	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c82b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 6383 : 	int skillsuccess = 1;

  0c82e	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _skillsuccess$[ebp], 1

; 6384 : 
; 6385 : 	this->SkillFrustrum3(aIndex, TargetPos, 2.0f, 4.0f, 5.0f, 0);

  0c835	51		 push	 ecx
  0c836	d9 ee		 fldz
  0c838	d9 1c 24	 fstp	 DWORD PTR [esp]
  0c83b	51		 push	 ecx
  0c83c	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40a00000
  0c842	d9 1c 24	 fstp	 DWORD PTR [esp]
  0c845	51		 push	 ecx
  0c846	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40800000
  0c84c	d9 1c 24	 fstp	 DWORD PTR [esp]
  0c84f	51		 push	 ecx
  0c850	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40000000
  0c856	d9 1c 24	 fstp	 DWORD PTR [esp]
  0c859	0f b6 45 10	 movzx	 eax, BYTE PTR _TargetPos$[ebp]
  0c85d	50		 push	 eax
  0c85e	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0c861	51		 push	 ecx
  0c862	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0c865	e8 00 00 00 00	 call	 ?SkillFrustrum3@CObjUseSkill@@QAEXHEMMMM@Z ; CObjUseSkill::SkillFrustrum3

; 6386 : 	
; 6387 : 	int tObjNum; //loc4
; 6388 : 	int count = 0; //loc5

  0c86a	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 6389 : 	int HitCount = 0; //loc6

  0c871	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0

; 6390 : 
; 6391 : 	BOOL bAttack; //loc7
; 6392 : 
; 6393 : 	int DuelIndex = lpObj->m_iDuelUser; //loc8

  0c878	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c87b	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0c881	89 4d e0	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
$LN20@SkillFlame:

; 6394 : 
; 6395 : 	BOOL bEnableAttack; //loc9
; 6396 : 
; 6397 : 	while( true )

  0c884	b8 01 00 00 00	 mov	 eax, 1
  0c889	85 c0		 test	 eax, eax
  0c88b	0f 84 75 02 00
	00		 je	 $LN19@SkillFlame

; 6398 : 	{
; 6399 : 		if(lpObj->VpPlayer2[count].state != 0)

  0c891	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0c894	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0c897	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c89a	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0c8a2	85 d2		 test	 edx, edx
  0c8a4	0f 84 46 02 00
	00		 je	 $LN6@SkillFlame

; 6400 : 		{
; 6401 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0c8aa	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0c8ad	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0c8b0	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c8b3	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0c8bb	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 6402 : 
; 6403 : 			if(tObjNum >= 0)

  0c8be	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0c8c2	0f 8c 28 02 00
	00		 jl	 $LN6@SkillFlame

; 6404 : 			{
; 6405 : 				bEnableAttack = FALSE;

  0c8c8	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 0

; 6406 : 
; 6407 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0c8cf	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0c8d2	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0c8d5	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c8d8	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0c8e0	83 fa 02	 cmp	 edx, 2
  0c8e3	75 25		 jne	 SHORT $LN16@SkillFlame
  0c8e5	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c8e8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c8ee	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c8f4	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0c8fc	7d 0c		 jge	 SHORT $LN16@SkillFlame

; 6408 : 				{
; 6409 : 					bEnableAttack = TRUE;

  0c8fe	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0c905	e9 ff 00 00 00	 jmp	 $LN8@SkillFlame
$LN16@SkillFlame:

; 6410 : 				}
; 6411 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum )

  0c90a	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c90d	3b 45 14	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0c910	74 08		 je	 SHORT $LN13@SkillFlame
  0c912	8b 45 e0	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  0c915	3b 45 f0	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  0c918	75 0c		 jne	 SHORT $LN14@SkillFlame
$LN13@SkillFlame:

; 6412 : 				{
; 6413 : 					bEnableAttack = TRUE;

  0c91a	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 6414 : 				}
; 6415 : //#if(GS_CASTLE==1)
; 6416 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 

  0c921	e9 e3 00 00 00	 jmp	 $LN8@SkillFlame
$LN14@SkillFlame:

; 6417 : 					gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 6418 : 					g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  0c926	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0c929	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0c92c	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c92f	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0c937	83 fa 03	 cmp	 edx, 3
  0c93a	74 37		 je	 SHORT $LN11@SkillFlame
  0c93c	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c93f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c945	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c94b	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0c953	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  0c956	75 1b		 jne	 SHORT $LN11@SkillFlame
  0c958	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0c95d	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  0c962	83 f8 07	 cmp	 eax, 7
  0c965	75 0c		 jne	 SHORT $LN11@SkillFlame

; 6419 : 				{
; 6420 : 					bEnableAttack = TRUE;

  0c967	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 6421 : 				}
; 6422 : //#endif
; 6423 : 				else

  0c96e	e9 96 00 00 00	 jmp	 $LN8@SkillFlame
$LN11@SkillFlame:

; 6424 : 				{
; 6425 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  0c973	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c976	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c97c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c982	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0c985	89 55 d8	 mov	 DWORD PTR _CallMonIndex$242152[ebp], edx

; 6426 : 
; 6427 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0c988	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c98b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c991	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c997	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0c99c	83 fa 02	 cmp	 edx, 2
  0c99f	75 40		 jne	 SHORT $LN9@SkillFlame
  0c9a1	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c9a4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c9aa	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c9b0	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0c9b8	7c 27		 jl	 SHORT $LN9@SkillFlame

; 6428 : 					{
; 6429 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0c9ba	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0c9bd	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c9c3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c9c9	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0c9d0	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0c9d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c9db	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0c9de	89 4d d8	 mov	 DWORD PTR _CallMonIndex$242152[ebp], ecx
$LN9@SkillFlame:

; 6430 : 					}
; 6431 : 
; 6432 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  0c9e1	8b 45 d8	 mov	 eax, DWORD PTR _CallMonIndex$242152[ebp]
  0c9e4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0c9ea	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0c9f0	50		 push	 eax
  0c9f1	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c9f4	51		 push	 ecx
  0c9f5	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0c9fa	83 c4 08	 add	 esp, 8
  0c9fd	83 f8 01	 cmp	 eax, 1
  0ca00	75 07		 jne	 SHORT $LN8@SkillFlame

; 6433 : 					{
; 6434 : 						bEnableAttack = TRUE;

  0ca02	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN8@SkillFlame:

; 6435 : 					}
; 6436 : 				}
; 6437 : 
; 6438 : 				if(bEnableAttack != FALSE)

  0ca09	83 7d dc 00	 cmp	 DWORD PTR _bEnableAttack$[ebp], 0
  0ca0d	0f 84 dd 00 00
	00		 je	 $LN6@SkillFlame

; 6439 : 				{
; 6440 : 					if(SkillTestFrustrum(gObj[tObjNum].X,gObj[tObjNum].Y,aIndex))

  0ca13	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0ca16	50		 push	 eax
  0ca17	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0ca1a	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0ca20	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ca26	0f bf 84 0a 46
	01 00 00	 movsx	 eax, WORD PTR [edx+ecx+326]
  0ca2e	50		 push	 eax
  0ca2f	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0ca32	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0ca38	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ca3e	0f bf 84 0a 44
	01 00 00	 movsx	 eax, WORD PTR [edx+ecx+324]
  0ca46	50		 push	 eax
  0ca47	e8 00 00 00 00	 call	 ?SkillTestFrustrum@@YAHHHH@Z ; SkillTestFrustrum
  0ca4c	83 c4 0c	 add	 esp, 12			; 0000000cH
  0ca4f	85 c0		 test	 eax, eax
  0ca51	0f 84 99 00 00
	00		 je	 $LN6@SkillFlame

; 6441 : 					{
; 6442 : 						bAttack = FALSE;

  0ca57	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 6443 : 
; 6444 : 						if(HitCount >= 8)

  0ca5e	83 7d e8 08	 cmp	 DWORD PTR _HitCount$[ebp], 8
  0ca62	7c 1e		 jl	 SHORT $LN5@SkillFlame

; 6445 : 						{
; 6446 : 							if(rand()%2)

  0ca64	e8 00 00 00 00	 call	 _rand
  0ca69	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0ca6e	79 05		 jns	 SHORT $LN23@SkillFlame
  0ca70	48		 dec	 eax
  0ca71	83 c8 fe	 or	 eax, -2			; fffffffeH
  0ca74	40		 inc	 eax
$LN23@SkillFlame:
  0ca75	85 c0		 test	 eax, eax
  0ca77	74 07		 je	 SHORT $LN4@SkillFlame

; 6447 : 							{
; 6448 : 								bAttack = TRUE;

  0ca79	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN4@SkillFlame:

; 6449 : 							}
; 6450 : 						}
; 6451 : 						else

  0ca80	eb 07		 jmp	 SHORT $LN3@SkillFlame
$LN5@SkillFlame:

; 6452 : 						{
; 6453 : 							bAttack = TRUE;

  0ca82	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN3@SkillFlame:

; 6454 : 						}
; 6455 : 
; 6456 : 						if(bAttack != FALSE)

  0ca89	83 7d e4 00	 cmp	 DWORD PTR _bAttack$[ebp], 0
  0ca8d	74 58		 je	 SHORT $LN2@SkillFlame

; 6457 : 						{
; 6458 : 							gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,0,0,0,0,0);

  0ca8f	6a 00		 push	 0
  0ca91	6a 00		 push	 0
  0ca93	6a 00		 push	 0
  0ca95	6a 00		 push	 0
  0ca97	6a 00		 push	 0
  0ca99	6a 01		 push	 1
  0ca9b	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0ca9e	50		 push	 eax
  0ca9f	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0caa2	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0caa8	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0caae	51		 push	 ecx
  0caaf	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0cab2	52		 push	 edx
  0cab3	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0cab8	83 c4 24	 add	 esp, 36			; 00000024H

; 6459 : 							gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,0,0,0,0,0);

  0cabb	6a 00		 push	 0
  0cabd	6a 00		 push	 0
  0cabf	6a 00		 push	 0
  0cac1	6a 00		 push	 0
  0cac3	6a 00		 push	 0
  0cac5	6a 01		 push	 1
  0cac7	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0caca	50		 push	 eax
  0cacb	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0cace	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0cad4	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0cada	51		 push	 ecx
  0cadb	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0cade	52		 push	 edx
  0cadf	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0cae4	83 c4 24	 add	 esp, 36			; 00000024H
$LN2@SkillFlame:

; 6460 : 						}
; 6461 : 
; 6462 : 						HitCount++;

  0cae7	8b 45 e8	 mov	 eax, DWORD PTR _HitCount$[ebp]
  0caea	83 c0 01	 add	 eax, 1
  0caed	89 45 e8	 mov	 DWORD PTR _HitCount$[ebp], eax
$LN6@SkillFlame:

; 6463 : 					}
; 6464 : 				}
; 6465 : 			}
; 6466 : 		}
; 6467 : 
; 6468 : 		count++;

  0caf0	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0caf3	83 c0 01	 add	 eax, 1
  0caf6	89 45 ec	 mov	 DWORD PTR _count$[ebp], eax

; 6469 : 			
; 6470 : 		if(count > MAX_VIEWPORT -1)

  0caf9	83 7d ec 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0cafd	7e 02		 jle	 SHORT $LN1@SkillFlame

; 6471 : 		{
; 6472 : 			break;

  0caff	eb 05		 jmp	 SHORT $LN19@SkillFlame
$LN1@SkillFlame:

; 6473 : 		}
; 6474 : 	}

  0cb01	e9 7e fd ff ff	 jmp	 $LN20@SkillFlame
$LN19@SkillFlame:

; 6475 : }

  0cb06	5f		 pop	 edi
  0cb07	5e		 pop	 esi
  0cb08	5b		 pop	 ebx
  0cb09	8b e5		 mov	 esp, ebp
  0cb0b	5d		 pop	 ebp
  0cb0c	c2 10 00	 ret	 16			; 00000010H
?SkillFlameStrike@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ENDP ; CObjUseSkill::SkillFlameStrike
; Function compile flags: /Odtp /ZI
_SkillResult$ = -8					; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_aTargetIndex$ = 24					; size = 4
?SkillGiganticStormStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z PROC ; CObjUseSkill::SkillGiganticStormStart
; _this$ = ecx

; 6478 : {

  0cb10	55		 push	 ebp
  0cb11	8b ec		 mov	 ebp, esp
  0cb13	83 ec 48	 sub	 esp, 72			; 00000048H
  0cb16	53		 push	 ebx
  0cb17	56		 push	 esi
  0cb18	57		 push	 edi
  0cb19	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 6479 : 	int SkillResult = 0; //loc2

  0cb1c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _SkillResult$[ebp], 0

; 6480 : 
; 6481 : 	SkillResult = this->SkillWideAttackMultiTarget(aIndex, lpMagic, x, y, aTargetIndex, 6, 1, 400);

  0cb23	68 90 01 00 00	 push	 400			; 00000190H
  0cb28	6a 01		 push	 1
  0cb2a	6a 06		 push	 6
  0cb2c	8b 45 18	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0cb2f	50		 push	 eax
  0cb30	0f b6 4d 14	 movzx	 ecx, BYTE PTR _y$[ebp]
  0cb34	51		 push	 ecx
  0cb35	0f b6 55 10	 movzx	 edx, BYTE PTR _x$[ebp]
  0cb39	52		 push	 edx
  0cb3a	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0cb3d	50		 push	 eax
  0cb3e	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0cb41	51		 push	 ecx
  0cb42	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0cb45	e8 00 00 00 00	 call	 ?SkillWideAttackMultiTarget@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ; CObjUseSkill::SkillWideAttackMultiTarget
  0cb4a	89 45 f8	 mov	 DWORD PTR _SkillResult$[ebp], eax

; 6482 : 
; 6483 : 	return SkillResult;

  0cb4d	8b 45 f8	 mov	 eax, DWORD PTR _SkillResult$[ebp]

; 6484 : }

  0cb50	5f		 pop	 edi
  0cb51	5e		 pop	 esi
  0cb52	5b		 pop	 ebx
  0cb53	8b e5		 mov	 esp, ebp
  0cb55	5d		 pop	 ebp
  0cb56	c2 14 00	 ret	 20			; 00000014H
?SkillGiganticStormStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ENDP ; CObjUseSkill::SkillGiganticStormStart
_TEXT	ENDS
PUBLIC	__real@43a00000
PUBLIC	__real@43aa0000
PUBLIC	__real@41a00000
PUBLIC	__real@42200000
PUBLIC	__real@40c00000
PUBLIC	__real@40e00000
PUBLIC	__$ArrayPad$
;	COMDAT __real@43a00000
CONST	SEGMENT
__real@43a00000 DD 043a00000r			; 320
CONST	ENDS
;	COMDAT __real@43aa0000
CONST	SEGMENT
__real@43aa0000 DD 043aa0000r			; 340
CONST	ENDS
;	COMDAT __real@41a00000
CONST	SEGMENT
__real@41a00000 DD 041a00000r			; 20
CONST	ENDS
;	COMDAT __real@42200000
CONST	SEGMENT
__real@42200000 DD 042200000r			; 40
CONST	ENDS
;	COMDAT __real@40c00000
CONST	SEGMENT
__real@40c00000 DD 040c00000r			; 6
CONST	ENDS
;	COMDAT __real@40e00000
CONST	SEGMENT
__real@40e00000 DD 040e00000r			; 7
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv389 = -400						; size = 4
_j$242217 = -332					; size = 4
_Value3$242216 = -328					; size = 20
_CallMonIndex$242212 = -308				; size = 4
_bEnableAttack$ = -304					; size = 4
_DuelIndex$ = -300					; size = 4
_loc73$ = -296						; size = 4
_count$ = -292						; size = 4
_tObjNum$ = -288					; size = 4
_i$242189 = -284					; size = 4
_vFrustrum2$ = -280					; size = 60
_Value2$ = -220						; size = 20
_Value1$ = -200						; size = 20
_vFrustrum$ = -180					; size = 60
_Matrix$ = -120						; size = 48
_p$ = -72						; size = 48
_Angle$ = -24						; size = 12
_lpObj$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_TargetPos$ = 16					; size = 1
_aTargetIndex$ = 20					; size = 4
?SkillMultiShot@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z PROC ; CObjUseSkill::SkillMultiShot
; _this$ = ecx

; 6487 : {

  0cb60	55		 push	 ebp
  0cb61	8b ec		 mov	 ebp, esp
  0cb63	81 ec 90 01 00
	00		 sub	 esp, 400		; 00000190H
  0cb69	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0cb6e	33 c5		 xor	 eax, ebp
  0cb70	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0cb73	53		 push	 ebx
  0cb74	56		 push	 esi
  0cb75	57		 push	 edi
  0cb76	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 6488 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  0cb79	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0cb7c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0cb82	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0cb88	89 45 f4	 mov	 DWORD PTR _lpObj$[ebp], eax

; 6489 : 
; 6490 : 	this->SkillFrustrum3(aIndex, TargetPos, 6.0f, 7.0f, 1.0f, 0); //S4 New Skill Frustrum OK :)

  0cb8b	51		 push	 ecx
  0cb8c	d9 ee		 fldz
  0cb8e	d9 1c 24	 fstp	 DWORD PTR [esp]
  0cb91	51		 push	 ecx
  0cb92	d9 e8		 fld1
  0cb94	d9 1c 24	 fstp	 DWORD PTR [esp]
  0cb97	51		 push	 ecx
  0cb98	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40e00000
  0cb9e	d9 1c 24	 fstp	 DWORD PTR [esp]
  0cba1	51		 push	 ecx
  0cba2	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40c00000
  0cba8	d9 1c 24	 fstp	 DWORD PTR [esp]
  0cbab	0f b6 45 10	 movzx	 eax, BYTE PTR _TargetPos$[ebp]
  0cbaf	50		 push	 eax
  0cbb0	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0cbb3	51		 push	 ecx
  0cbb4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0cbb7	e8 00 00 00 00	 call	 ?SkillFrustrum3@CObjUseSkill@@QAEXHEMMMM@Z ; CObjUseSkill::SkillFrustrum3

; 6491 : 
; 6492 : 	vec3_t Angle; //Good
; 6493 : 	Vector(0.f, 6.0f, 0.f, Angle); //3,4,5 Good

  0cbbc	d9 ee		 fldz
  0cbbe	d9 5d e8	 fstp	 DWORD PTR _Angle$[ebp]
  0cbc1	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40c00000
  0cbc7	d9 5d ec	 fstp	 DWORD PTR _Angle$[ebp+4]
  0cbca	d9 ee		 fldz
  0cbcc	d9 5d f0	 fstp	 DWORD PTR _Angle$[ebp+8]

; 6494 : 
; 6495 : 	vec3_t p[4]; //Good size OK
; 6496 : 
; 6497 : 	Vector(0.f, 0.f, 40.0f, p[0]); //Good

  0cbcf	d9 ee		 fldz
  0cbd1	d9 5d b8	 fstp	 DWORD PTR _p$[ebp]
  0cbd4	d9 ee		 fldz
  0cbd6	d9 5d bc	 fstp	 DWORD PTR _p$[ebp+4]
  0cbd9	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@42200000
  0cbdf	d9 5d c0	 fstp	 DWORD PTR _p$[ebp+8]

; 6498 : 	Vector(0.f, 0.f, 20.0f, p[1]); //Good

  0cbe2	d9 ee		 fldz
  0cbe4	d9 5d c4	 fstp	 DWORD PTR _p$[ebp+12]
  0cbe7	d9 ee		 fldz
  0cbe9	d9 5d c8	 fstp	 DWORD PTR _p$[ebp+16]
  0cbec	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@41a00000
  0cbf2	d9 5d cc	 fstp	 DWORD PTR _p$[ebp+20]

; 6499 : 	Vector(0.f, 0.f, 340.0f, p[2]); //Good

  0cbf5	d9 ee		 fldz
  0cbf7	d9 5d d0	 fstp	 DWORD PTR _p$[ebp+24]
  0cbfa	d9 ee		 fldz
  0cbfc	d9 5d d4	 fstp	 DWORD PTR _p$[ebp+28]
  0cbff	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@43aa0000
  0cc05	d9 5d d8	 fstp	 DWORD PTR _p$[ebp+32]

; 6500 : 	Vector(0.f, 0.f, 320.0f, p[3]); //Good

  0cc08	d9 ee		 fldz
  0cc0a	d9 5d dc	 fstp	 DWORD PTR _p$[ebp+36]
  0cc0d	d9 ee		 fldz
  0cc0f	d9 5d e0	 fstp	 DWORD PTR _p$[ebp+40]
  0cc12	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@43a00000
  0cc18	d9 5d e4	 fstp	 DWORD PTR _p$[ebp+44]

; 6501 : 
; 6502 : 	float Matrix[3][4]; //Good
; 6503 : 
; 6504 : 	vec3_t vFrustrum[5]; //Good
; 6505 : 
; 6506 : 	AngleMatrix(p[0],Matrix); //Good

  0cc1b	8d 45 88	 lea	 eax, DWORD PTR _Matrix$[ebp]
  0cc1e	50		 push	 eax
  0cc1f	8d 4d b8	 lea	 ecx, DWORD PTR _p$[ebp]
  0cc22	51		 push	 ecx
  0cc23	e8 00 00 00 00	 call	 _AngleMatrix
  0cc28	83 c4 08	 add	 esp, 8

; 6507 : 	VectorRotate(Angle,Matrix,vFrustrum[0]); //loc44 Good

  0cc2b	8d 85 4c ff ff
	ff		 lea	 eax, DWORD PTR _vFrustrum$[ebp]
  0cc31	50		 push	 eax
  0cc32	8d 4d 88	 lea	 ecx, DWORD PTR _Matrix$[ebp]
  0cc35	51		 push	 ecx
  0cc36	8d 55 e8	 lea	 edx, DWORD PTR _Angle$[ebp]
  0cc39	52		 push	 edx
  0cc3a	e8 00 00 00 00	 call	 _VectorRotate
  0cc3f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6508 : 	
; 6509 : 	AngleMatrix(p[1],Matrix); //Good

  0cc42	8d 45 88	 lea	 eax, DWORD PTR _Matrix$[ebp]
  0cc45	50		 push	 eax
  0cc46	8d 4d c4	 lea	 ecx, DWORD PTR _p$[ebp+12]
  0cc49	51		 push	 ecx
  0cc4a	e8 00 00 00 00	 call	 _AngleMatrix
  0cc4f	83 c4 08	 add	 esp, 8

; 6510 : 	VectorRotate(Angle,Matrix,vFrustrum[1]); //loc41 Good

  0cc52	8d 85 58 ff ff
	ff		 lea	 eax, DWORD PTR _vFrustrum$[ebp+12]
  0cc58	50		 push	 eax
  0cc59	8d 4d 88	 lea	 ecx, DWORD PTR _Matrix$[ebp]
  0cc5c	51		 push	 ecx
  0cc5d	8d 55 e8	 lea	 edx, DWORD PTR _Angle$[ebp]
  0cc60	52		 push	 edx
  0cc61	e8 00 00 00 00	 call	 _VectorRotate
  0cc66	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6511 : 
; 6512 : 	Vector(0.f, 6.0f, 0.f, vFrustrum[2]);//36,37,38

  0cc69	d9 ee		 fldz
  0cc6b	d9 9d 64 ff ff
	ff		 fstp	 DWORD PTR _vFrustrum$[ebp+24]
  0cc71	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40c00000
  0cc77	d9 9d 68 ff ff
	ff		 fstp	 DWORD PTR _vFrustrum$[ebp+28]
  0cc7d	d9 ee		 fldz
  0cc7f	d9 9d 6c ff ff
	ff		 fstp	 DWORD PTR _vFrustrum$[ebp+32]

; 6513 : 
; 6514 : 	AngleMatrix(p[2],Matrix); //Good

  0cc85	8d 45 88	 lea	 eax, DWORD PTR _Matrix$[ebp]
  0cc88	50		 push	 eax
  0cc89	8d 4d d0	 lea	 ecx, DWORD PTR _p$[ebp+24]
  0cc8c	51		 push	 ecx
  0cc8d	e8 00 00 00 00	 call	 _AngleMatrix
  0cc92	83 c4 08	 add	 esp, 8

; 6515 : 	VectorRotate(Angle,Matrix,vFrustrum[3]); //loc35 Good

  0cc95	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _vFrustrum$[ebp+36]
  0cc9b	50		 push	 eax
  0cc9c	8d 4d 88	 lea	 ecx, DWORD PTR _Matrix$[ebp]
  0cc9f	51		 push	 ecx
  0cca0	8d 55 e8	 lea	 edx, DWORD PTR _Angle$[ebp]
  0cca3	52		 push	 edx
  0cca4	e8 00 00 00 00	 call	 _VectorRotate
  0cca9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6516 : 
; 6517 : 	AngleMatrix(p[3],Matrix); //Good

  0ccac	8d 45 88	 lea	 eax, DWORD PTR _Matrix$[ebp]
  0ccaf	50		 push	 eax
  0ccb0	8d 4d dc	 lea	 ecx, DWORD PTR _p$[ebp+36]
  0ccb3	51		 push	 ecx
  0ccb4	e8 00 00 00 00	 call	 _AngleMatrix
  0ccb9	83 c4 08	 add	 esp, 8

; 6518 : 	VectorRotate(Angle,Matrix,vFrustrum[4]); //loc32 Good

  0ccbc	8d 85 7c ff ff
	ff		 lea	 eax, DWORD PTR _vFrustrum$[ebp+48]
  0ccc2	50		 push	 eax
  0ccc3	8d 4d 88	 lea	 ecx, DWORD PTR _Matrix$[ebp]
  0ccc6	51		 push	 ecx
  0ccc7	8d 55 e8	 lea	 edx, DWORD PTR _Angle$[ebp]
  0ccca	52		 push	 edx
  0cccb	e8 00 00 00 00	 call	 _VectorRotate
  0ccd0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6519 : 
; 6520 : 	Vector(0.f, 0.f, (float)(TargetPos*360/(BYTE)255), p[0]); //15, 16, 17 Good

  0ccd3	d9 ee		 fldz
  0ccd5	d9 5d b8	 fstp	 DWORD PTR _p$[ebp]
  0ccd8	d9 ee		 fldz
  0ccda	d9 5d bc	 fstp	 DWORD PTR _p$[ebp+4]
  0ccdd	0f b6 45 10	 movzx	 eax, BYTE PTR _TargetPos$[ebp]
  0cce1	69 c0 68 01 00
	00		 imul	 eax, 360		; 00000168H
  0cce7	99		 cdq
  0cce8	b9 ff 00 00 00	 mov	 ecx, 255		; 000000ffH
  0cced	f7 f9		 idiv	 ecx
  0ccef	89 85 70 fe ff
	ff		 mov	 DWORD PTR tv389[ebp], eax
  0ccf5	db 85 70 fe ff
	ff		 fild	 DWORD PTR tv389[ebp]
  0ccfb	d9 5d c0	 fstp	 DWORD PTR _p$[ebp+8]

; 6521 : 
; 6522 : 	AngleMatrix((float*)p,Matrix); //Good

  0ccfe	8d 45 88	 lea	 eax, DWORD PTR _Matrix$[ebp]
  0cd01	50		 push	 eax
  0cd02	8d 4d b8	 lea	 ecx, DWORD PTR _p$[ebp]
  0cd05	51		 push	 ecx
  0cd06	e8 00 00 00 00	 call	 _AngleMatrix
  0cd0b	83 c4 08	 add	 esp, 8

; 6523 : 
; 6524 : ///////////////////////////////////////////////////////////////////////////////////////////////////
; 6525 : 	int Value1[5];
; 6526 : 	int Value2[5];
; 6527 : 
; 6528 : 	vec3_t vFrustrum2[5];
; 6529 : 
; 6530 : 	for(int i = 0; i < 5; i++) //loc70 Good

  0cd0e	c7 85 e4 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$242189[ebp], 0
  0cd18	eb 0f		 jmp	 SHORT $LN23@SkillMulti
$LN22@SkillMulti:
  0cd1a	8b 85 e4 fe ff
	ff		 mov	 eax, DWORD PTR _i$242189[ebp]
  0cd20	83 c0 01	 add	 eax, 1
  0cd23	89 85 e4 fe ff
	ff		 mov	 DWORD PTR _i$242189[ebp], eax
$LN23@SkillMulti:
  0cd29	83 bd e4 fe ff
	ff 05		 cmp	 DWORD PTR _i$242189[ebp], 5
  0cd30	0f 8d 8f 00 00
	00		 jge	 $LN21@SkillMulti

; 6531 : 	{
; 6532 : 		VectorRotate(vFrustrum[i],Matrix,vFrustrum2[i]);

  0cd36	8b 85 e4 fe ff
	ff		 mov	 eax, DWORD PTR _i$242189[ebp]
  0cd3c	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0cd3f	8d 8c 05 e8 fe
	ff ff		 lea	 ecx, DWORD PTR _vFrustrum2$[ebp+eax]
  0cd46	51		 push	 ecx
  0cd47	8d 55 88	 lea	 edx, DWORD PTR _Matrix$[ebp]
  0cd4a	52		 push	 edx
  0cd4b	8b 85 e4 fe ff
	ff		 mov	 eax, DWORD PTR _i$242189[ebp]
  0cd51	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0cd54	8d 8c 05 4c ff
	ff ff		 lea	 ecx, DWORD PTR _vFrustrum$[ebp+eax]
  0cd5b	51		 push	 ecx
  0cd5c	e8 00 00 00 00	 call	 _VectorRotate
  0cd61	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6533 : 
; 6534 : 		Value1[i] = (int)vFrustrum2[i][0] + lpObj->X;

  0cd64	8b 85 e4 fe ff
	ff		 mov	 eax, DWORD PTR _i$242189[ebp]
  0cd6a	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0cd6d	d9 84 05 e8 fe
	ff ff		 fld	 DWORD PTR _vFrustrum2$[ebp+eax]
  0cd74	e8 00 00 00 00	 call	 __ftol2_sse
  0cd79	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0cd7c	0f bf 91 44 01
	00 00		 movsx	 edx, WORD PTR [ecx+324]
  0cd83	03 c2		 add	 eax, edx
  0cd85	8b 8d e4 fe ff
	ff		 mov	 ecx, DWORD PTR _i$242189[ebp]
  0cd8b	89 84 8d 38 ff
	ff ff		 mov	 DWORD PTR _Value1$[ebp+ecx*4], eax

; 6535 : 		Value2[i] = (int)vFrustrum2[i][1] + lpObj->Y;

  0cd92	8b 85 e4 fe ff
	ff		 mov	 eax, DWORD PTR _i$242189[ebp]
  0cd98	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0cd9b	d9 84 05 ec fe
	ff ff		 fld	 DWORD PTR _vFrustrum2$[ebp+eax+4]
  0cda2	e8 00 00 00 00	 call	 __ftol2_sse
  0cda7	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0cdaa	0f bf 91 46 01
	00 00		 movsx	 edx, WORD PTR [ecx+326]
  0cdb1	03 c2		 add	 eax, edx
  0cdb3	8b 8d e4 fe ff
	ff		 mov	 ecx, DWORD PTR _i$242189[ebp]
  0cdb9	89 84 8d 24 ff
	ff ff		 mov	 DWORD PTR _Value2$[ebp+ecx*4], eax

; 6536 : 	}

  0cdc0	e9 55 ff ff ff	 jmp	 $LN22@SkillMulti
$LN21@SkillMulti:

; 6537 : ///////////////////////////////////////////////////////////////////////////////////////////////////
; 6538 : 
; 6539 : 	int tObjNum; //loc71
; 6540 : 	int count = 0; //loc72

  0cdc5	c7 85 dc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _count$[ebp], 0

; 6541 : 	int loc73 = 0; //loc73

  0cdcf	c7 85 d8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _loc73$[ebp], 0

; 6542 : 	int DuelIndex = lpObj->m_iDuelUser; //loc74

  0cdd9	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cddc	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0cde2	89 8d d4 fe ff
	ff		 mov	 DWORD PTR _DuelIndex$[ebp], ecx
$LN20@SkillMulti:

; 6543 : 	BOOL bEnableAttack; //loc75
; 6544 : 
; 6545 : 	while( true )

  0cde8	b8 01 00 00 00	 mov	 eax, 1
  0cded	85 c0		 test	 eax, eax
  0cdef	0f 84 3e 03 00
	00		 je	 $LN19@SkillMulti

; 6546 : 	{
; 6547 : 		if(lpObj->VpPlayer2[count].state != 0)

  0cdf5	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _count$[ebp]
  0cdfb	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0cdfe	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ce01	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0ce09	85 d2		 test	 edx, edx
  0ce0b	0f 84 03 03 00
	00		 je	 $LN4@SkillMulti

; 6548 : 		{
; 6549 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0ce11	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _count$[ebp]
  0ce17	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0ce1a	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ce1d	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0ce25	89 95 e0 fe ff
	ff		 mov	 DWORD PTR _tObjNum$[ebp], edx

; 6550 : 
; 6551 : 			if(tObjNum >= 0)

  0ce2b	83 bd e0 fe ff
	ff 00		 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0ce32	0f 8c dc 02 00
	00		 jl	 $LN4@SkillMulti

; 6552 : 			{
; 6553 : 				bEnableAttack = FALSE;

  0ce38	c7 85 d0 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _bEnableAttack$[ebp], 0

; 6554 : 
; 6555 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0ce42	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _count$[ebp]
  0ce48	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0ce4b	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ce4e	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0ce56	83 fa 02	 cmp	 edx, 2
  0ce59	75 2b		 jne	 SHORT $LN16@SkillMulti
  0ce5b	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0ce61	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0ce67	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ce6d	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0ce75	7d 0f		 jge	 SHORT $LN16@SkillMulti

; 6556 : 				{
; 6557 : 					bEnableAttack = TRUE;

  0ce77	c7 85 d0 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0ce81	e9 2c 01 00 00	 jmp	 $LN8@SkillMulti
$LN16@SkillMulti:

; 6558 : 				}
; 6559 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum )

  0ce86	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0ce8c	3b 45 14	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0ce8f	74 0e		 je	 SHORT $LN13@SkillMulti
  0ce91	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  0ce97	3b 85 e0 fe ff
	ff		 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  0ce9d	75 0f		 jne	 SHORT $LN14@SkillMulti
$LN13@SkillMulti:

; 6560 : 				{
; 6561 : 					bEnableAttack = TRUE;

  0ce9f	c7 85 d0 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 6562 : 				}
; 6563 : //#if(GS_CASTLE==1)
; 6564 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 

  0cea9	e9 04 01 00 00	 jmp	 $LN8@SkillMulti
$LN14@SkillMulti:

; 6565 : 					gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 6566 : 					g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  0ceae	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _count$[ebp]
  0ceb4	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0ceb7	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ceba	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0cec2	83 fa 03	 cmp	 edx, 3
  0cec5	74 3d		 je	 SHORT $LN11@SkillMulti
  0cec7	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0cecd	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0ced3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ced9	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0cee1	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  0cee4	75 1e		 jne	 SHORT $LN11@SkillMulti
  0cee6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0ceeb	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  0cef0	83 f8 07	 cmp	 eax, 7
  0cef3	75 0f		 jne	 SHORT $LN11@SkillMulti

; 6567 : 				{
; 6568 : 					bEnableAttack = TRUE;

  0cef5	c7 85 d0 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 6569 : 				}
; 6570 : //#endif
; 6571 : 				else

  0ceff	e9 ae 00 00 00	 jmp	 $LN8@SkillMulti
$LN11@SkillMulti:

; 6572 : 				{
; 6573 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  0cf04	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0cf0a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0cf10	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0cf16	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0cf19	89 95 cc fe ff
	ff		 mov	 DWORD PTR _CallMonIndex$242212[ebp], edx

; 6574 : 
; 6575 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0cf1f	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0cf25	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0cf2b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0cf31	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0cf36	83 fa 02	 cmp	 edx, 2
  0cf39	75 49		 jne	 SHORT $LN9@SkillMulti
  0cf3b	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0cf41	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0cf47	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0cf4d	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0cf55	7c 2d		 jl	 SHORT $LN9@SkillMulti

; 6576 : 					{
; 6577 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0cf57	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0cf5d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0cf63	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0cf69	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0cf70	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0cf76	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0cf7b	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0cf7e	89 8d cc fe ff
	ff		 mov	 DWORD PTR _CallMonIndex$242212[ebp], ecx
$LN9@SkillMulti:

; 6578 : 					}
; 6579 : 
; 6580 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  0cf84	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _CallMonIndex$242212[ebp]
  0cf8a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0cf90	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0cf96	50		 push	 eax
  0cf97	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0cf9a	51		 push	 ecx
  0cf9b	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0cfa0	83 c4 08	 add	 esp, 8
  0cfa3	83 f8 01	 cmp	 eax, 1
  0cfa6	75 0a		 jne	 SHORT $LN8@SkillMulti

; 6581 : 					{
; 6582 : 						bEnableAttack = TRUE;

  0cfa8	c7 85 d0 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN8@SkillMulti:

; 6583 : 					}
; 6584 : 				}
; 6585 : 
; 6586 : 				if(bEnableAttack != FALSE)

  0cfb2	83 bd d0 fe ff
	ff 00		 cmp	 DWORD PTR _bEnableAttack$[ebp], 0
  0cfb9	0f 84 55 01 00
	00		 je	 $LN4@SkillMulti

; 6587 : 				{
; 6588 : 					int Value3[5];
; 6589 : 
; 6590 : 					for(int j = 0; j < 5; j++)

  0cfbf	c7 85 b4 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _j$242217[ebp], 0
  0cfc9	eb 0f		 jmp	 SHORT $LN6@SkillMulti
$LN5@SkillMulti:
  0cfcb	8b 85 b4 fe ff
	ff		 mov	 eax, DWORD PTR _j$242217[ebp]
  0cfd1	83 c0 01	 add	 eax, 1
  0cfd4	89 85 b4 fe ff
	ff		 mov	 DWORD PTR _j$242217[ebp], eax
$LN6@SkillMulti:
  0cfda	83 bd b4 fe ff
	ff 05		 cmp	 DWORD PTR _j$242217[ebp], 5
  0cfe1	0f 8d 2d 01 00
	00		 jge	 $LN4@SkillMulti

; 6591 : 					{
; 6592 : 						Value3[j] = (((int)Value1[j] - lpObj->X) * (gObj[tObjNum].Y - lpObj->Y)) - (((int)Value2[j] - lpObj->Y) * (gObj[tObjNum].X - lpObj->X));

  0cfe7	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cfea	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  0cff1	8b 95 b4 fe ff
	ff		 mov	 edx, DWORD PTR _j$242217[ebp]
  0cff7	8b 84 95 38 ff
	ff ff		 mov	 eax, DWORD PTR _Value1$[ebp+edx*4]
  0cffe	2b c1		 sub	 eax, ecx
  0d000	8b 8d e0 fe ff
	ff		 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0d006	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0d00c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d012	0f bf 8c 0a 46
	01 00 00	 movsx	 ecx, WORD PTR [edx+ecx+326]
  0d01a	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d01d	0f bf 92 46 01
	00 00		 movsx	 edx, WORD PTR [edx+326]
  0d024	2b ca		 sub	 ecx, edx
  0d026	0f af c1	 imul	 eax, ecx
  0d029	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d02c	0f bf 91 46 01
	00 00		 movsx	 edx, WORD PTR [ecx+326]
  0d033	8b 8d b4 fe ff
	ff		 mov	 ecx, DWORD PTR _j$242217[ebp]
  0d039	8b 8c 8d 24 ff
	ff ff		 mov	 ecx, DWORD PTR _Value2$[ebp+ecx*4]
  0d040	2b ca		 sub	 ecx, edx
  0d042	8b 95 e0 fe ff
	ff		 mov	 edx, DWORD PTR _tObjNum$[ebp]
  0d048	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0d04e	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d054	0f bf 94 16 44
	01 00 00	 movsx	 edx, WORD PTR [esi+edx+324]
  0d05c	8b 75 f4	 mov	 esi, DWORD PTR _lpObj$[ebp]
  0d05f	0f bf b6 44 01
	00 00		 movsx	 esi, WORD PTR [esi+324]
  0d066	2b d6		 sub	 edx, esi
  0d068	0f af ca	 imul	 ecx, edx
  0d06b	2b c1		 sub	 eax, ecx
  0d06d	8b 8d b4 fe ff
	ff		 mov	 ecx, DWORD PTR _j$242217[ebp]
  0d073	89 84 8d b8 fe
	ff ff		 mov	 DWORD PTR _Value3$242216[ebp+ecx*4], eax

; 6593 : 						
; 6594 : 						if(SkillTestFrustrum(gObj[tObjNum].X,gObj[tObjNum].Y,aIndex))

  0d07a	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0d07d	50		 push	 eax
  0d07e	8b 8d e0 fe ff
	ff		 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0d084	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0d08a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d090	0f bf 84 0a 46
	01 00 00	 movsx	 eax, WORD PTR [edx+ecx+326]
  0d098	50		 push	 eax
  0d099	8b 8d e0 fe ff
	ff		 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0d09f	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0d0a5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d0ab	0f bf 84 0a 44
	01 00 00	 movsx	 eax, WORD PTR [edx+ecx+324]
  0d0b3	50		 push	 eax
  0d0b4	e8 00 00 00 00	 call	 ?SkillTestFrustrum@@YAHHHH@Z ; SkillTestFrustrum
  0d0b9	83 c4 0c	 add	 esp, 12			; 0000000cH
  0d0bc	85 c0		 test	 eax, eax
  0d0be	74 4f		 je	 SHORT $LN2@SkillMulti

; 6595 : 						{
; 6596 : 							if(Value3[j] > -5 && Value3[j] < 5)

  0d0c0	8b 85 b4 fe ff
	ff		 mov	 eax, DWORD PTR _j$242217[ebp]
  0d0c6	83 bc 85 b8 fe
	ff ff fb	 cmp	 DWORD PTR _Value3$242216[ebp+eax*4], -5 ; fffffffbH
  0d0ce	7e 3f		 jle	 SHORT $LN2@SkillMulti
  0d0d0	8b 85 b4 fe ff
	ff		 mov	 eax, DWORD PTR _j$242217[ebp]
  0d0d6	83 bc 85 b8 fe
	ff ff 05	 cmp	 DWORD PTR _Value3$242216[ebp+eax*4], 5
  0d0de	7d 2f		 jge	 SHORT $LN2@SkillMulti

; 6597 : 							{
; 6598 : 								gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,0,0,0,0,0);

  0d0e0	6a 00		 push	 0
  0d0e2	6a 00		 push	 0
  0d0e4	6a 00		 push	 0
  0d0e6	6a 00		 push	 0
  0d0e8	6a 00		 push	 0
  0d0ea	6a 01		 push	 1
  0d0ec	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0d0ef	50		 push	 eax
  0d0f0	8b 8d e0 fe ff
	ff		 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0d0f6	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0d0fc	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d102	51		 push	 ecx
  0d103	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d106	52		 push	 edx
  0d107	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0d10c	83 c4 24	 add	 esp, 36			; 00000024H
$LN2@SkillMulti:

; 6599 : 							}
; 6600 : 						}
; 6601 : 					}

  0d10f	e9 b7 fe ff ff	 jmp	 $LN5@SkillMulti
$LN4@SkillMulti:

; 6602 : 				}
; 6603 : 			}
; 6604 : 		}
; 6605 : 
; 6606 : 		count++;

  0d114	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _count$[ebp]
  0d11a	83 c0 01	 add	 eax, 1
  0d11d	89 85 dc fe ff
	ff		 mov	 DWORD PTR _count$[ebp], eax

; 6607 : 			
; 6608 : 		if(count > MAX_VIEWPORT -1)

  0d123	83 bd dc fe ff
	ff 4a		 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0d12a	7e 02		 jle	 SHORT $LN1@SkillMulti

; 6609 : 		{
; 6610 : 			break;

  0d12c	eb 05		 jmp	 SHORT $LN19@SkillMulti
$LN1@SkillMulti:

; 6611 : 		}
; 6612 : 	}

  0d12e	e9 b5 fc ff ff	 jmp	 $LN20@SkillMulti
$LN19@SkillMulti:

; 6613 : }

  0d133	5f		 pop	 edi
  0d134	5e		 pop	 esi
  0d135	5b		 pop	 ebx
  0d136	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0d139	33 cd		 xor	 ecx, ebp
  0d13b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0d140	8b e5		 mov	 esp, ebp
  0d142	5d		 pop	 ebp
  0d143	c2 10 00	 ret	 16			; 00000010H
?SkillMultiShot@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ENDP ; CObjUseSkill::SkillMultiShot
_TEXT	ENDS
EXTRN	?gObjDuelCheck@@YAHPAUOBJECTSTRUCT@@@Z:PROC	; gObjDuelCheck
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv86 = -96						; size = 4
tv284 = -92						; size = 4
tv274 = -92						; size = 4
tv250 = -92						; size = 4
tv87 = -92						; size = 4
_lpMonster$242248 = -24					; size = 4
_n$242243 = -20						; size = 4
_lpTargetObj$ = -16					; size = 4
_lpObj$ = -12						; size = 4
_skillSuccess$ = -8					; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillSDRecovery@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillSDRecovery
; _this$ = ecx

; 6616 : {

  0d150	55		 push	 ebp
  0d151	8b ec		 mov	 ebp, esp
  0d153	83 ec 60	 sub	 esp, 96			; 00000060H
  0d156	53		 push	 ebx
  0d157	56		 push	 esi
  0d158	57		 push	 edi
  0d159	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 6617 : 	int skillSuccess = true;

  0d15c	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _skillSuccess$[ebp], 1

; 6618 : 	LPOBJ lpObj = &gObj[aIndex];

  0d163	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0d166	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0d16c	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d172	89 45 f4	 mov	 DWORD PTR _lpObj$[ebp], eax

; 6619 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  0d175	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0d178	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0d17e	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d184	89 45 f0	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 6620 : 
; 6621 : 	if(lpTargetObj->Type != OBJ_USER && lpTargetObj->m_RecallMon == -1)

  0d187	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0d18a	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  0d18e	83 f9 01	 cmp	 ecx, 1
  0d191	74 11		 je	 SHORT $LN12@SkillSDRec
  0d193	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0d196	83 b8 50 04 00
	00 ff		 cmp	 DWORD PTR [eax+1104], -1
  0d19d	75 05		 jne	 SHORT $LN12@SkillSDRec

; 6622 : 	{
; 6623 : 		return;

  0d19f	e9 71 02 00 00	 jmp	 $LN13@SkillSDRec
$LN12@SkillSDRec:

; 6624 : 	}
; 6625 : 
; 6626 : 	if(lpObj->Class != CLASS_ELF)

  0d1a4	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d1a7	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  0d1ae	83 f9 02	 cmp	 ecx, 2
  0d1b1	74 05		 je	 SHORT $LN11@SkillSDRec

; 6627 : 	{
; 6628 : 		return;

  0d1b3	e9 5d 02 00 00	 jmp	 $LN13@SkillSDRec
$LN11@SkillSDRec:

; 6629 : 	}
; 6630 : 
; 6631 : 	if(CC_MAP_RANGE(lpObj->MapNumber) != FALSE && lpObj->m_Index != lpTargetObj->m_Index)

  0d1b8	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d1bb	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0d1c2	83 f9 35	 cmp	 ecx, 53			; 00000035H
  0d1c5	75 09		 jne	 SHORT $LN17@SkillSDRec
  0d1c7	c7 45 a4 01 00
	00 00		 mov	 DWORD PTR tv87[ebp], 1
  0d1ce	eb 33		 jmp	 SHORT $LN18@SkillSDRec
$LN17@SkillSDRec:
  0d1d0	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d1d3	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0d1da	83 f8 12	 cmp	 eax, 18			; 00000012H
  0d1dd	7d 09		 jge	 SHORT $LN15@SkillSDRec
  0d1df	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv86[ebp], 0
  0d1e6	eb 15		 jmp	 SHORT $LN16@SkillSDRec
$LN15@SkillSDRec:
  0d1e8	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d1eb	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  0d1f2	33 c0		 xor	 eax, eax
  0d1f4	83 fa 17	 cmp	 edx, 23			; 00000017H
  0d1f7	0f 9e c0	 setle	 al
  0d1fa	89 45 a0	 mov	 DWORD PTR tv86[ebp], eax
$LN16@SkillSDRec:
  0d1fd	8b 4d a0	 mov	 ecx, DWORD PTR tv86[ebp]
  0d200	89 4d a4	 mov	 DWORD PTR tv87[ebp], ecx
$LN18@SkillSDRec:
  0d203	83 7d a4 00	 cmp	 DWORD PTR tv87[ebp], 0
  0d207	74 11		 je	 SHORT $LN10@SkillSDRec
  0d209	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d20c	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  0d20f	8b 10		 mov	 edx, DWORD PTR [eax]
  0d211	3b 11		 cmp	 edx, DWORD PTR [ecx]
  0d213	74 05		 je	 SHORT $LN10@SkillSDRec

; 6632 : 	{
; 6633 : 		return;

  0d215	e9 fb 01 00 00	 jmp	 $LN13@SkillSDRec
$LN10@SkillSDRec:

; 6634 : 	}
; 6635 : 
; 6636 : 	if(gObjDuelCheck(lpTargetObj) != 0) //nice trick

  0d21a	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0d21d	50		 push	 eax
  0d21e	e8 00 00 00 00	 call	 ?gObjDuelCheck@@YAHPAUOBJECTSTRUCT@@@Z ; gObjDuelCheck
  0d223	83 c4 04	 add	 esp, 4
  0d226	85 c0		 test	 eax, eax
  0d228	74 06		 je	 SHORT $LN9@SkillSDRec

; 6637 : 	{
; 6638 : 		lpTargetObj = lpObj;

  0d22a	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d22d	89 45 f0	 mov	 DWORD PTR _lpTargetObj$[ebp], eax
$LN9@SkillSDRec:

; 6639 : 	}
; 6640 : 
; 6641 : 	if(lpTargetObj->iShield >= (lpTargetObj->iMaxShield + lpTargetObj->iAddShield + lpTargetObj->m_MPSkillOpt.MpsMaxSD))

  0d230	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0d233	db 80 54 01 00
	00		 fild	 DWORD PTR [eax+340]
  0d239	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  0d23c	8b 91 58 01 00
	00		 mov	 edx, DWORD PTR [ecx+344]
  0d242	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0d245	03 90 5c 01 00
	00		 add	 edx, DWORD PTR [eax+348]
  0d24b	89 55 a4	 mov	 DWORD PTR tv250[ebp], edx
  0d24e	db 45 a4	 fild	 DWORD PTR tv250[ebp]
  0d251	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  0d254	d8 81 50 27 00
	00		 fadd	 DWORD PTR [ecx+10064]
  0d25a	de d9		 fcompp
  0d25c	df e0		 fnstsw	 ax
  0d25e	f6 c4 41	 test	 ah, 65			; 00000041H
  0d261	7a 1e		 jp	 SHORT $LN8@SkillSDRec

; 6642 : 	{
; 6643 : 		GCMagicAttackNumberSend(lpObj,234,lpTargetObj->m_Index,0);

  0d263	6a 00		 push	 0
  0d265	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0d268	8b 08		 mov	 ecx, DWORD PTR [eax]
  0d26a	51		 push	 ecx
  0d26b	68 ea 00 00 00	 push	 234			; 000000eaH
  0d270	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d273	52		 push	 edx
  0d274	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0d279	83 c4 10	 add	 esp, 16			; 00000010H

; 6644 : 		return;

  0d27c	e9 94 01 00 00	 jmp	 $LN13@SkillSDRec
$LN8@SkillSDRec:

; 6645 : 	}
; 6646 : 
; 6647 : 	lpTargetObj->iShield += (lpObj->Energy/4) + lpObj->Level;

  0d281	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d284	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  0d28b	99		 cdq
  0d28c	83 e2 03	 and	 edx, 3
  0d28f	03 c2		 add	 eax, edx
  0d291	c1 f8 02	 sar	 eax, 2
  0d294	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d297	0f bf 91 be 00
	00 00		 movsx	 edx, WORD PTR [ecx+190]
  0d29e	03 c2		 add	 eax, edx
  0d2a0	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  0d2a3	03 81 54 01 00
	00		 add	 eax, DWORD PTR [ecx+340]
  0d2a9	8b 55 f0	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  0d2ac	89 82 54 01 00
	00		 mov	 DWORD PTR [edx+340], eax

; 6648 : 
; 6649 : 	if(lpTargetObj->iShield > (lpTargetObj->iMaxShield + lpTargetObj->iAddShield + lpTargetObj->m_MPSkillOpt.MpsMaxSD))

  0d2b2	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0d2b5	db 80 54 01 00
	00		 fild	 DWORD PTR [eax+340]
  0d2bb	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  0d2be	8b 91 58 01 00
	00		 mov	 edx, DWORD PTR [ecx+344]
  0d2c4	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0d2c7	03 90 5c 01 00
	00		 add	 edx, DWORD PTR [eax+348]
  0d2cd	89 55 a4	 mov	 DWORD PTR tv274[ebp], edx
  0d2d0	db 45 a4	 fild	 DWORD PTR tv274[ebp]
  0d2d3	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  0d2d6	d8 81 50 27 00
	00		 fadd	 DWORD PTR [ecx+10064]
  0d2dc	de d9		 fcompp
  0d2de	df e0		 fnstsw	 ax
  0d2e0	f6 c4 05	 test	 ah, 5
  0d2e3	7a 2f		 jp	 SHORT $LN7@SkillSDRec

; 6650 : 	{
; 6651 : 		lpTargetObj->iShield = (lpTargetObj->iMaxShield + lpTargetObj->iAddShield + lpTargetObj->m_MPSkillOpt.MpsMaxSD);

  0d2e5	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0d2e8	8b 88 58 01 00
	00		 mov	 ecx, DWORD PTR [eax+344]
  0d2ee	8b 55 f0	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  0d2f1	03 8a 5c 01 00
	00		 add	 ecx, DWORD PTR [edx+348]
  0d2f7	89 4d a4	 mov	 DWORD PTR tv284[ebp], ecx
  0d2fa	db 45 a4	 fild	 DWORD PTR tv284[ebp]
  0d2fd	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0d300	d8 80 50 27 00
	00		 fadd	 DWORD PTR [eax+10064]
  0d306	e8 00 00 00 00	 call	 __ftol2_sse
  0d30b	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  0d30e	89 81 54 01 00
	00		 mov	 DWORD PTR [ecx+340], eax
$LN7@SkillSDRec:

; 6652 : 	}
; 6653 : 
; 6654 : 	if(lpTargetObj->Type == OBJ_USER)

  0d314	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0d317	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  0d31b	83 f9 01	 cmp	 ecx, 1
  0d31e	0f 85 f1 00 00
	00		 jne	 $LN3@SkillSDRec

; 6655 : 	{
; 6656 : 		GCReFillSend(lpTargetObj->m_Index, lpTargetObj->Life, 0xFF, 0, lpTargetObj->iShield);

  0d324	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0d327	8b 88 54 01 00
	00		 mov	 ecx, DWORD PTR [eax+340]
  0d32d	51		 push	 ecx
  0d32e	6a 00		 push	 0
  0d330	68 ff 00 00 00	 push	 255			; 000000ffH
  0d335	8b 55 f0	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  0d338	d9 82 fc 00 00
	00		 fld	 DWORD PTR [edx+252]
  0d33e	e8 00 00 00 00	 call	 __ftol2_sse
  0d343	50		 push	 eax
  0d344	8b 45 f0	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0d347	8b 08		 mov	 ecx, DWORD PTR [eax]
  0d349	51		 push	 ecx
  0d34a	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend
  0d34f	83 c4 14	 add	 esp, 20			; 00000014H

; 6657 : 		GCMagicAttackNumberSend(lpObj,234,lpTargetObj->m_Index,(BYTE)skillSuccess);

  0d352	0f b6 45 f8	 movzx	 eax, BYTE PTR _skillSuccess$[ebp]
  0d356	50		 push	 eax
  0d357	8b 4d f0	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  0d35a	8b 11		 mov	 edx, DWORD PTR [ecx]
  0d35c	52		 push	 edx
  0d35d	68 ea 00 00 00	 push	 234			; 000000eaH
  0d362	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d365	50		 push	 eax
  0d366	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0d36b	83 c4 10	 add	 esp, 16			; 00000010H

; 6658 : 
; 6659 : 		for(int n = 0; n < MAX_VIEWPORT; n++)

  0d36e	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _n$242243[ebp], 0
  0d375	eb 09		 jmp	 SHORT $LN5@SkillSDRec
$LN4@SkillSDRec:
  0d377	8b 45 ec	 mov	 eax, DWORD PTR _n$242243[ebp]
  0d37a	83 c0 01	 add	 eax, 1
  0d37d	89 45 ec	 mov	 DWORD PTR _n$242243[ebp], eax
$LN5@SkillSDRec:
  0d380	83 7d ec 4b	 cmp	 DWORD PTR _n$242243[ebp], 75 ; 0000004bH
  0d384	0f 8d 8b 00 00
	00		 jge	 $LN3@SkillSDRec

; 6660 : 		{
; 6661 : 			if(lpObj->VpPlayer2[n].type == OBJ_MONSTER && lpObj->VpPlayer2[n].state != 0)

  0d38a	8b 45 ec	 mov	 eax, DWORD PTR _n$242243[ebp]
  0d38d	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0d390	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d393	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0d39b	83 fa 02	 cmp	 edx, 2
  0d39e	75 70		 jne	 SHORT $LN1@SkillSDRec
  0d3a0	8b 45 ec	 mov	 eax, DWORD PTR _n$242243[ebp]
  0d3a3	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0d3a6	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d3a9	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0d3b1	85 d2		 test	 edx, edx
  0d3b3	74 5b		 je	 SHORT $LN1@SkillSDRec

; 6662 : 			{
; 6663 : 				LPOBJ lpMonster = &gObj[lpObj->VpPlayer2[n].number];

  0d3b5	8b 45 ec	 mov	 eax, DWORD PTR _n$242243[ebp]
  0d3b8	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0d3bb	8b 4d f4	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d3be	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0d3c6	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0d3cc	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d3d2	89 55 e8	 mov	 DWORD PTR _lpMonster$242248[ebp], edx

; 6664 : 				if(lpMonster->m_iCurrentAI != 0)

  0d3d5	8b 45 e8	 mov	 eax, DWORD PTR _lpMonster$242248[ebp]
  0d3d8	83 b8 78 1c 00
	00 00		 cmp	 DWORD PTR [eax+7288], 0
  0d3df	74 2f		 je	 SHORT $LN1@SkillSDRec

; 6665 : 				{
; 6666 : 					lpMonster->m_Agro.IncAgro(lpObj->m_Index,int(lpObj->Energy/5)/40);

  0d3e1	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d3e4	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  0d3eb	99		 cdq
  0d3ec	b9 05 00 00 00	 mov	 ecx, 5
  0d3f1	f7 f9		 idiv	 ecx
  0d3f3	99		 cdq
  0d3f4	b9 28 00 00 00	 mov	 ecx, 40			; 00000028H
  0d3f9	f7 f9		 idiv	 ecx
  0d3fb	50		 push	 eax
  0d3fc	8b 55 f4	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d3ff	8b 02		 mov	 eax, DWORD PTR [edx]
  0d401	50		 push	 eax
  0d402	8b 4d e8	 mov	 ecx, DWORD PTR _lpMonster$242248[ebp]
  0d405	81 c1 94 1c 00
	00		 add	 ecx, 7316		; 00001c94H
  0d40b	e8 00 00 00 00	 call	 ?IncAgro@TMonsterAIAgro@@QAEHHH@Z ; TMonsterAIAgro::IncAgro
$LN1@SkillSDRec:

; 6667 : 				}
; 6668 : 			}
; 6669 : 		}

  0d410	e9 62 ff ff ff	 jmp	 $LN4@SkillSDRec
$LN3@SkillSDRec:
$LN13@SkillSDRec:

; 6670 : 	}
; 6671 : }

  0d415	5f		 pop	 edi
  0d416	5e		 pop	 esi
  0d417	5b		 pop	 ebx
  0d418	8b e5		 mov	 esp, ebp
  0d41a	5d		 pop	 ebp
  0d41b	c2 0c 00	 ret	 12			; 0000000cH
?SkillSDRecovery@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillSDRecovery
; Function compile flags: /Odtp /ZI
tv162 = -80						; size = 4
_iWizardryDamage$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillExpansionWizardry@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillExpansionWizardry
; _this$ = ecx

; 6674 : {

  0d420	55		 push	 ebp
  0d421	8b ec		 mov	 ebp, esp
  0d423	83 ec 50	 sub	 esp, 80			; 00000050H
  0d426	53		 push	 ebx
  0d427	56		 push	 esi
  0d428	57		 push	 edi
  0d429	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 6675 : 	//LPOBJ lpObj = &gObj[aIndex];
; 6676 : 
; 6677 : 	//if(lpObj->Type != OBJ_USER)
; 6678 : 	//{
; 6679 : 	//	return false;
; 6680 : 	//}
; 6681 : 
; 6682 : 	//if(lpObj->Class != CLASS_WIZARD)
; 6683 : 	//{
; 6684 : 	//	return false;
; 6685 : 	//}
; 6686 : 
; 6687 : 	//if(lpObj->m_Index != aTargetIndex)
; 6688 : 	//{
; 6689 : 	//	return false;
; 6690 : 	//}
; 6691 : 
; 6692 : 	//if(gObjSearchActiveEffect(lpObj, AT_EXPANSION_WIZARDRY) == 1)
; 6693 : 	//{
; 6694 : 	//	return false;
; 6695 : 	//}
; 6696 : 	////ExTest
; 6697 : 	////int ExWizardryPowerMax = GetPrivateProfileInt("DarkWizard","WizardryPowerMax",20,"..\\Data\\ExData\\Skills.ini");
; 6698 : 	//int iWizardryDamage = (int)((float)(lpObj->m_MagicDamageMax * ExConfig.Skills.ExWizardryPowerMax) / 100 );
; 6699 : 	////int iWizardryDamage = (float)(lpObj->Energy/9) * (float)0.f; m_MagicDamageMax
; 6700 : 
; 6701 : 	//gObjApplyBuffEffectDuration(lpObj,AT_EXPANSION_WIZARDRY,ADD_OPTION_MAGICDAMAGEMIN,iWizardryDamage,ADD_OPTION_MAGICDAMAGEMAX,iWizardryDamage,1800);
; 6702 : 	////gObjApplyBuffEffectDuration(lpObj, AT_EXPANSION_WIZARDRY, 33, iWizardryDamage, 0, 0, 1800);
; 6703 : 
; 6704 : 	//GCMagicAttackNumberSend(lpObj,233,lpObj->m_Index,1);
; 6705 : 	//return true;
; 6706 : 
; 6707 : 	LPOBJ lpObj = &gObj[aIndex];

  0d42c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0d42f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0d435	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d43b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 6708 : 
; 6709 : 	if(lpObj->Type != OBJ_USER)

  0d43e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d441	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  0d445	83 f9 01	 cmp	 ecx, 1
  0d448	74 07		 je	 SHORT $LN6@SkillExpan

; 6710 : 	{
; 6711 : 		return FALSE;

  0d44a	33 c0		 xor	 eax, eax
  0d44c	e9 f2 00 00 00	 jmp	 $LN7@SkillExpan
$LN6@SkillExpan:

; 6712 : 	}
; 6713 : 
; 6714 : 	if(lpObj->Class != CLASS_WIZARD)

  0d451	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d454	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  0d45b	85 c9		 test	 ecx, ecx
  0d45d	74 07		 je	 SHORT $LN5@SkillExpan

; 6715 : 	{
; 6716 : 		return FALSE;

  0d45f	33 c0		 xor	 eax, eax
  0d461	e9 dd 00 00 00	 jmp	 $LN7@SkillExpan
$LN5@SkillExpan:

; 6717 : 	}
; 6718 : 
; 6719 : 	if(lpObj->m_Index != aTargetIndex)

  0d466	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d469	8b 08		 mov	 ecx, DWORD PTR [eax]
  0d46b	3b 4d 0c	 cmp	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0d46e	74 07		 je	 SHORT $LN4@SkillExpan

; 6720 : 	{
; 6721 : 		return FALSE;

  0d470	33 c0		 xor	 eax, eax
  0d472	e9 cc 00 00 00	 jmp	 $LN7@SkillExpan
$LN4@SkillExpan:

; 6722 : 	}
; 6723 : 
; 6724 : 	if(		gObjSearchActiveEffect(lpObj, AT_EXPANSION_WIZARDRY) 
; 6725 : 		||	gObjSearchActiveEffect(lpObj, 138) 
; 6726 : 		||	gObjSearchActiveEffect(lpObj, 139) )

  0d477	6a 52		 push	 82			; 00000052H
  0d479	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d47c	50		 push	 eax
  0d47d	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  0d482	83 c4 08	 add	 esp, 8
  0d485	0f b6 c8	 movzx	 ecx, al
  0d488	85 c9		 test	 ecx, ecx
  0d48a	75 30		 jne	 SHORT $LN2@SkillExpan
  0d48c	68 8a 00 00 00	 push	 138			; 0000008aH
  0d491	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d494	50		 push	 eax
  0d495	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  0d49a	83 c4 08	 add	 esp, 8
  0d49d	0f b6 c8	 movzx	 ecx, al
  0d4a0	85 c9		 test	 ecx, ecx
  0d4a2	75 18		 jne	 SHORT $LN2@SkillExpan
  0d4a4	68 8b 00 00 00	 push	 139			; 0000008bH
  0d4a9	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d4ac	50		 push	 eax
  0d4ad	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  0d4b2	83 c4 08	 add	 esp, 8
  0d4b5	0f b6 c8	 movzx	 ecx, al
  0d4b8	85 c9		 test	 ecx, ecx
  0d4ba	74 07		 je	 SHORT $LN3@SkillExpan
$LN2@SkillExpan:

; 6727 : 	{
; 6728 : 		return FALSE;

  0d4bc	33 c0		 xor	 eax, eax
  0d4be	e9 80 00 00 00	 jmp	 $LN7@SkillExpan
$LN3@SkillExpan:

; 6729 : 	}
; 6730 : 
; 6731 : 	int iWizardryDamage = (float)(lpObj->Energy / g_SkillAdditionInfo.WizardryEnchantDamageDiv) * (float)g_SkillAdditionInfo.WizardryEnchantDamageFact;

  0d4c3	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d4c6	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  0d4cd	0f b7 0d 60 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2912
  0d4d4	99		 cdq
  0d4d5	f7 f9		 idiv	 ecx
  0d4d7	89 45 b0	 mov	 DWORD PTR tv162[ebp], eax
  0d4da	db 45 b0	 fild	 DWORD PTR tv162[ebp]
  0d4dd	d8 0d 64 0b 00
	00		 fmul	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2916
  0d4e3	e8 00 00 00 00	 call	 __ftol2_sse
  0d4e8	89 45 f4	 mov	 DWORD PTR _iWizardryDamage$[ebp], eax

; 6732 : 
; 6733 : 	if( g_SkillAdditionInfo.WizardryEnchantDamageMax > 0 && iWizardryDamage > g_SkillAdditionInfo.WizardryEnchantDamageMax )

  0d4eb	83 3d 68 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2920, 0
  0d4f2	76 13		 jbe	 SHORT $LN1@SkillExpan
  0d4f4	8b 45 f4	 mov	 eax, DWORD PTR _iWizardryDamage$[ebp]
  0d4f7	3b 05 68 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2920
  0d4fd	76 08		 jbe	 SHORT $LN1@SkillExpan

; 6734 : 	{
; 6735 : 		iWizardryDamage = g_SkillAdditionInfo.WizardryEnchantDamageMax;

  0d4ff	a1 68 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2920
  0d504	89 45 f4	 mov	 DWORD PTR _iWizardryDamage$[ebp], eax
$LN1@SkillExpan:

; 6736 : 	}
; 6737 : 
; 6738 : 	gObjApplyBuffEffectDuration(lpObj, AT_EXPANSION_WIZARDRY, 33, iWizardryDamage, 0, 0, g_SkillAdditionInfo.WizardryEnchantTime);

  0d507	a1 6c 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2924
  0d50c	50		 push	 eax
  0d50d	6a 00		 push	 0
  0d50f	6a 00		 push	 0
  0d511	8b 4d f4	 mov	 ecx, DWORD PTR _iWizardryDamage$[ebp]
  0d514	51		 push	 ecx
  0d515	6a 21		 push	 33			; 00000021H
  0d517	6a 52		 push	 82			; 00000052H
  0d519	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d51c	52		 push	 edx
  0d51d	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0d522	83 c4 1c	 add	 esp, 28			; 0000001cH

; 6739 : 	GCMagicAttackNumberSend(lpObj,233,lpObj->m_Index,1);

  0d525	6a 01		 push	 1
  0d527	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d52a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0d52c	51		 push	 ecx
  0d52d	68 e9 00 00 00	 push	 233			; 000000e9H
  0d532	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d535	52		 push	 edx
  0d536	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0d53b	83 c4 10	 add	 esp, 16			; 00000010H

; 6740 : 	return TRUE;

  0d53e	b8 01 00 00 00	 mov	 eax, 1
$LN7@SkillExpan:

; 6741 : }

  0d543	5f		 pop	 edi
  0d544	5e		 pop	 esi
  0d545	5b		 pop	 ebx
  0d546	8b e5		 mov	 esp, ebp
  0d548	5d		 pop	 ebp
  0d549	c2 0c 00	 ret	 12			; 0000000cH
?SkillExpansionWizardry@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillExpansionWizardry
_TEXT	ENDS
PUBLIC	??_C@_0DE@BHNKBPJH@2HIT?$CB?$CB?$CB?$CB?$CB?$CB?5ERROR?5?5?5aTargetIndex?5@ ; `string'
;	COMDAT ??_C@_0DE@BHNKBPJH@2HIT?$CB?$CB?$CB?$CB?$CB?$CB?5ERROR?5?5?5aTargetIndex?5@
CONST	SEGMENT
??_C@_0DE@BHNKBPJH@2HIT?$CB?$CB?$CB?$CB?$CB?$CB?5ERROR?5?5?5aTargetIndex?5@ DB '2'
	DB	'HIT!!!!!! ERROR   aTargetIndex : %d , tObjNum : %d', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv236 = -108						; size = 4
_CallMonIndex$242293 = -40				; size = 4
_bEnableAttack$ = -36					; size = 4
_DuelIndex$ = -32					; size = 4
_bAttack$ = -28						; size = 4
_HitCount$ = -24					; size = 4
_count$ = -20						; size = 4
_tObjNum$ = -16						; size = 4
_skillSuccess$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_TargetPos$ = 16					; size = 1
_aTargetIndex$ = 20					; size = 4
?SkillChaoticDiseier@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z PROC ; CObjUseSkill::SkillChaoticDiseier
; _this$ = ecx

; 6744 : {

  0d550	55		 push	 ebp
  0d551	8b ec		 mov	 ebp, esp
  0d553	83 ec 6c	 sub	 esp, 108		; 0000006cH
  0d556	53		 push	 ebx
  0d557	56		 push	 esi
  0d558	57		 push	 edi
  0d559	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 6745 : 	LPOBJ lpObj = &gObj[aIndex];

  0d55c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0d55f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0d565	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d56b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 6746 : 
; 6747 : 	int skillSuccess = true;

  0d56e	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _skillSuccess$[ebp], 1

; 6748 : 	
; 6749 : 	this->SkillFrustrum3(aIndex, TargetPos, 1.5f, 6.0f, 1.5f, 0); //S4 New Skill Frustrum OK :)

  0d575	51		 push	 ecx
  0d576	d9 ee		 fldz
  0d578	d9 1c 24	 fstp	 DWORD PTR [esp]
  0d57b	51		 push	 ecx
  0d57c	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@3fc00000
  0d582	d9 1c 24	 fstp	 DWORD PTR [esp]
  0d585	51		 push	 ecx
  0d586	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40c00000
  0d58c	d9 1c 24	 fstp	 DWORD PTR [esp]
  0d58f	51		 push	 ecx
  0d590	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@3fc00000
  0d596	d9 1c 24	 fstp	 DWORD PTR [esp]
  0d599	0f b6 45 10	 movzx	 eax, BYTE PTR _TargetPos$[ebp]
  0d59d	50		 push	 eax
  0d59e	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0d5a1	51		 push	 ecx
  0d5a2	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0d5a5	e8 00 00 00 00	 call	 ?SkillFrustrum3@CObjUseSkill@@QAEXHEMMMM@Z ; CObjUseSkill::SkillFrustrum3

; 6750 : 
; 6751 : 	int tObjNum; //loc4
; 6752 : 	int count = 0; //loc5

  0d5aa	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 6753 : 	int HitCount = 0; //loc6

  0d5b1	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0

; 6754 : 
; 6755 : 	BOOL bAttack; //loc7
; 6756 : 
; 6757 : 	int DuelIndex = lpObj->m_iDuelUser; //loc8

  0d5b8	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d5bb	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0d5c1	89 4d e0	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
$LN28@SkillChaot:

; 6758 : 
; 6759 : 	BOOL bEnableAttack; //loc9
; 6760 : 
; 6761 : 	while( true )

  0d5c4	b8 01 00 00 00	 mov	 eax, 1
  0d5c9	85 c0		 test	 eax, eax
  0d5cb	0f 84 ed 03 00
	00		 je	 $LN27@SkillChaot

; 6762 : 	{
; 6763 : 		if(lpObj->VpPlayer2[count].state != 0)

  0d5d1	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0d5d4	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0d5d7	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d5da	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0d5e2	85 d2		 test	 edx, edx
  0d5e4	0f 84 be 03 00
	00		 je	 $LN14@SkillChaot

; 6764 : 		{
; 6765 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0d5ea	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0d5ed	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0d5f0	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d5f3	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0d5fb	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 6766 : 
; 6767 : 			if(tObjNum >= 0)

  0d5fe	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0d602	0f 8c a0 03 00
	00		 jl	 $LN14@SkillChaot

; 6768 : 			{
; 6769 : 				bEnableAttack = FALSE;

  0d608	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 0

; 6770 : 
; 6771 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0d60f	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0d612	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0d615	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d618	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0d620	83 fa 02	 cmp	 edx, 2
  0d623	75 25		 jne	 SHORT $LN24@SkillChaot
  0d625	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0d628	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0d62e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d634	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0d63c	7d 0c		 jge	 SHORT $LN24@SkillChaot

; 6772 : 				{
; 6773 : 					bEnableAttack = TRUE;

  0d63e	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0d645	e9 ff 00 00 00	 jmp	 $LN16@SkillChaot
$LN24@SkillChaot:

; 6774 : 				}
; 6775 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum )

  0d64a	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0d64d	3b 45 14	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0d650	74 08		 je	 SHORT $LN21@SkillChaot
  0d652	8b 45 e0	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  0d655	3b 45 f0	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  0d658	75 0c		 jne	 SHORT $LN22@SkillChaot
$LN21@SkillChaot:

; 6776 : 				{
; 6777 : 					bEnableAttack = TRUE;

  0d65a	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 6778 : 				}
; 6779 : //#if(GS_CASTLE==1)
; 6780 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 

  0d661	e9 e3 00 00 00	 jmp	 $LN16@SkillChaot
$LN22@SkillChaot:

; 6781 : 					gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 6782 : 					g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  0d666	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0d669	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0d66c	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d66f	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0d677	83 fa 03	 cmp	 edx, 3
  0d67a	74 37		 je	 SHORT $LN19@SkillChaot
  0d67c	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0d67f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0d685	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d68b	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0d693	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  0d696	75 1b		 jne	 SHORT $LN19@SkillChaot
  0d698	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0d69d	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  0d6a2	83 f8 07	 cmp	 eax, 7
  0d6a5	75 0c		 jne	 SHORT $LN19@SkillChaot

; 6783 : 				{
; 6784 : 					bEnableAttack = TRUE;

  0d6a7	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 6785 : 				}
; 6786 : //#endif
; 6787 : 				else

  0d6ae	e9 96 00 00 00	 jmp	 $LN16@SkillChaot
$LN19@SkillChaot:

; 6788 : 				{
; 6789 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  0d6b3	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0d6b6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0d6bc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d6c2	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0d6c5	89 55 d8	 mov	 DWORD PTR _CallMonIndex$242293[ebp], edx

; 6790 : 
; 6791 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0d6c8	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0d6cb	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0d6d1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d6d7	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0d6dc	83 fa 02	 cmp	 edx, 2
  0d6df	75 40		 jne	 SHORT $LN17@SkillChaot
  0d6e1	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0d6e4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0d6ea	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d6f0	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0d6f8	7c 27		 jl	 SHORT $LN17@SkillChaot

; 6792 : 					{
; 6793 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0d6fa	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0d6fd	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0d703	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d709	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0d710	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0d716	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d71b	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0d71e	89 4d d8	 mov	 DWORD PTR _CallMonIndex$242293[ebp], ecx
$LN17@SkillChaot:

; 6794 : 					}
; 6795 : 
; 6796 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  0d721	8b 45 d8	 mov	 eax, DWORD PTR _CallMonIndex$242293[ebp]
  0d724	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0d72a	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d730	50		 push	 eax
  0d731	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d734	51		 push	 ecx
  0d735	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0d73a	83 c4 08	 add	 esp, 8
  0d73d	83 f8 01	 cmp	 eax, 1
  0d740	75 07		 jne	 SHORT $LN16@SkillChaot

; 6797 : 					{
; 6798 : 						bEnableAttack = TRUE;

  0d742	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN16@SkillChaot:

; 6799 : 					}
; 6800 : 				}
; 6801 : 
; 6802 : 				if(bEnableAttack != FALSE)

  0d749	83 7d dc 00	 cmp	 DWORD PTR _bEnableAttack$[ebp], 0
  0d74d	0f 84 55 02 00
	00		 je	 $LN14@SkillChaot

; 6803 : 				{
; 6804 : 					if(SkillTestFrustrum(gObj[tObjNum].X,gObj[tObjNum].Y,aIndex))

  0d753	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0d756	50		 push	 eax
  0d757	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0d75a	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0d760	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d766	0f bf 84 0a 46
	01 00 00	 movsx	 eax, WORD PTR [edx+ecx+326]
  0d76e	50		 push	 eax
  0d76f	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0d772	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0d778	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d77e	0f bf 84 0a 44
	01 00 00	 movsx	 eax, WORD PTR [edx+ecx+324]
  0d786	50		 push	 eax
  0d787	e8 00 00 00 00	 call	 ?SkillTestFrustrum@@YAHHHH@Z ; SkillTestFrustrum
  0d78c	83 c4 0c	 add	 esp, 12			; 0000000cH
  0d78f	85 c0		 test	 eax, eax
  0d791	0f 84 11 02 00
	00		 je	 $LN14@SkillChaot

; 6805 : 					{
; 6806 : 						bAttack = FALSE;

  0d797	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 6807 : 
; 6808 : 						if(HitCount >= 8)

  0d79e	83 7d e8 08	 cmp	 DWORD PTR _HitCount$[ebp], 8
  0d7a2	7c 1e		 jl	 SHORT $LN13@SkillChaot

; 6809 : 						{
; 6810 : 							if(rand()%2)

  0d7a4	e8 00 00 00 00	 call	 _rand
  0d7a9	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0d7ae	79 05		 jns	 SHORT $LN33@SkillChaot
  0d7b0	48		 dec	 eax
  0d7b1	83 c8 fe	 or	 eax, -2			; fffffffeH
  0d7b4	40		 inc	 eax
$LN33@SkillChaot:
  0d7b5	85 c0		 test	 eax, eax
  0d7b7	74 07		 je	 SHORT $LN12@SkillChaot

; 6811 : 							{
; 6812 : 								bAttack = TRUE;

  0d7b9	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN12@SkillChaot:

; 6813 : 							}
; 6814 : 						}
; 6815 : 						else

  0d7c0	eb 07		 jmp	 SHORT $LN11@SkillChaot
$LN13@SkillChaot:

; 6816 : 						{
; 6817 : 							bAttack = TRUE;

  0d7c2	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN11@SkillChaot:

; 6818 : 						}
; 6819 : 
; 6820 : 						if(bAttack != FALSE)

  0d7c9	83 7d e4 00	 cmp	 DWORD PTR _bAttack$[ebp], 0
  0d7cd	0f 84 c0 00 00
	00		 je	 $LN7@SkillChaot

; 6821 : 						{
; 6822 : #if(EVOMU_DLSKILLCHANGE==TRUE)
; 6823 : 							if(	g_ExLicense.CheckUser(eExUB::Gredy)			|| 
; 6824 : 								g_ExLicense.CheckUser(eExUB::GredyLocal)	|| 
; 6825 : 								g_ExLicense.CheckUser(eExUB::Gredy2)		||
; 6826 : 								g_ExLicense.CheckUser(eExUB::SILVER1)		||
; 6827 : 								g_ExLicense.CheckUser(eExUB::SILVER2)		||
; 6828 : 								g_ExLicense.CheckUser(eExUB::SILVER_Local)	)

  0d7d3	6a 20		 push	 32			; 00000020H
  0d7d5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0d7da	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0d7df	0f b6 c0	 movzx	 eax, al
  0d7e2	85 c0		 test	 eax, eax
  0d7e4	75 5f		 jne	 SHORT $LN8@SkillChaot
  0d7e6	6a 21		 push	 33			; 00000021H
  0d7e8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0d7ed	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0d7f2	0f b6 c0	 movzx	 eax, al
  0d7f5	85 c0		 test	 eax, eax
  0d7f7	75 4c		 jne	 SHORT $LN8@SkillChaot
  0d7f9	6a 22		 push	 34			; 00000022H
  0d7fb	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0d800	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0d805	0f b6 c0	 movzx	 eax, al
  0d808	85 c0		 test	 eax, eax
  0d80a	75 39		 jne	 SHORT $LN8@SkillChaot
  0d80c	6a 07		 push	 7
  0d80e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0d813	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0d818	0f b6 c0	 movzx	 eax, al
  0d81b	85 c0		 test	 eax, eax
  0d81d	75 26		 jne	 SHORT $LN8@SkillChaot
  0d81f	6a 08		 push	 8
  0d821	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0d826	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0d82b	0f b6 c0	 movzx	 eax, al
  0d82e	85 c0		 test	 eax, eax
  0d830	75 13		 jne	 SHORT $LN8@SkillChaot
  0d832	6a 2b		 push	 43			; 0000002bH
  0d834	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0d839	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0d83e	0f b6 c0	 movzx	 eax, al
  0d841	85 c0		 test	 eax, eax
  0d843	74 2e		 je	 SHORT $LN9@SkillChaot
$LN8@SkillChaot:

; 6829 : 							{
; 6830 : 								gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,0,0,0,0,0);

  0d845	6a 00		 push	 0
  0d847	6a 00		 push	 0
  0d849	6a 00		 push	 0
  0d84b	6a 00		 push	 0
  0d84d	6a 00		 push	 0
  0d84f	6a 01		 push	 1
  0d851	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0d854	50		 push	 eax
  0d855	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0d858	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0d85e	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d864	51		 push	 ecx
  0d865	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d868	52		 push	 edx
  0d869	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0d86e	83 c4 24	 add	 esp, 36			; 00000024H

; 6831 : 							}
; 6832 : 							else

  0d871	eb 20		 jmp	 SHORT $LN7@SkillChaot
$LN9@SkillChaot:

; 6833 : 							{
; 6834 : 								gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, 200, lpMagic->m_Skill, 0);

  0d873	6a 00		 push	 0
  0d875	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0d878	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0d87b	51		 push	 ecx
  0d87c	68 c8 00 00 00	 push	 200			; 000000c8H
  0d881	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  0d884	52		 push	 edx
  0d885	6a 32		 push	 50			; 00000032H
  0d887	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d88a	50		 push	 eax
  0d88b	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0d890	83 c4 18	 add	 esp, 24			; 00000018H
$LN7@SkillChaot:

; 6835 : 							}
; 6836 : #else
; 6837 : 							gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, 200, lpMagic->m_Skill, 0);
; 6838 : #endif
; 6839 : 						}
; 6840 : 
; 6841 : 						if(OBJMAX_RANGE(aTargetIndex) != false && tObjNum == aTargetIndex)

  0d893	83 7d 14 00	 cmp	 DWORD PTR _aTargetIndex$[ebp], 0
  0d897	7d 09		 jge	 SHORT $LN31@SkillChaot
  0d899	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv236[ebp], 0
  0d8a0	eb 0f		 jmp	 SHORT $LN32@SkillChaot
$LN31@SkillChaot:
  0d8a2	33 c0		 xor	 eax, eax
  0d8a4	81 7d 14 97 3a
	00 00		 cmp	 DWORD PTR _aTargetIndex$[ebp], 14999 ; 00003a97H
  0d8ab	0f 9e c0	 setle	 al
  0d8ae	89 45 94	 mov	 DWORD PTR tv236[ebp], eax
$LN32@SkillChaot:
  0d8b1	83 7d 94 00	 cmp	 DWORD PTR tv236[ebp], 0
  0d8b5	0f 84 ce 00 00
	00		 je	 $LN6@SkillChaot
  0d8bb	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0d8be	3b 45 14	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0d8c1	0f 85 c2 00 00
	00		 jne	 $LN6@SkillChaot

; 6842 : 						{
; 6843 : #if(EVOMU_DLSKILLCHANGE==TRUE)
; 6844 : 							if(	g_ExLicense.CheckUser(eExUB::Gredy)			|| 
; 6845 : 								g_ExLicense.CheckUser(eExUB::GredyLocal)	|| 
; 6846 : 								g_ExLicense.CheckUser(eExUB::Gredy2)		||
; 6847 : 								g_ExLicense.CheckUser(eExUB::SILVER1)		||
; 6848 : 								g_ExLicense.CheckUser(eExUB::SILVER2)		||
; 6849 : 								g_ExLicense.CheckUser(eExUB::SILVER_Local)	)

  0d8c7	6a 20		 push	 32			; 00000020H
  0d8c9	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0d8ce	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0d8d3	0f b6 c0	 movzx	 eax, al
  0d8d6	85 c0		 test	 eax, eax
  0d8d8	75 5f		 jne	 SHORT $LN4@SkillChaot
  0d8da	6a 21		 push	 33			; 00000021H
  0d8dc	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0d8e1	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0d8e6	0f b6 c0	 movzx	 eax, al
  0d8e9	85 c0		 test	 eax, eax
  0d8eb	75 4c		 jne	 SHORT $LN4@SkillChaot
  0d8ed	6a 22		 push	 34			; 00000022H
  0d8ef	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0d8f4	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0d8f9	0f b6 c0	 movzx	 eax, al
  0d8fc	85 c0		 test	 eax, eax
  0d8fe	75 39		 jne	 SHORT $LN4@SkillChaot
  0d900	6a 07		 push	 7
  0d902	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0d907	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0d90c	0f b6 c0	 movzx	 eax, al
  0d90f	85 c0		 test	 eax, eax
  0d911	75 26		 jne	 SHORT $LN4@SkillChaot
  0d913	6a 08		 push	 8
  0d915	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0d91a	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0d91f	0f b6 c0	 movzx	 eax, al
  0d922	85 c0		 test	 eax, eax
  0d924	75 13		 jne	 SHORT $LN4@SkillChaot
  0d926	6a 2b		 push	 43			; 0000002bH
  0d928	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0d92d	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0d932	0f b6 c0	 movzx	 eax, al
  0d935	85 c0		 test	 eax, eax
  0d937	74 2e		 je	 SHORT $LN5@SkillChaot
$LN4@SkillChaot:

; 6850 : 							{
; 6851 : 								gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,0,0,0,0,0);

  0d939	6a 00		 push	 0
  0d93b	6a 00		 push	 0
  0d93d	6a 00		 push	 0
  0d93f	6a 00		 push	 0
  0d941	6a 00		 push	 0
  0d943	6a 01		 push	 1
  0d945	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0d948	50		 push	 eax
  0d949	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0d94c	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0d952	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d958	51		 push	 ecx
  0d959	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d95c	52		 push	 edx
  0d95d	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0d962	83 c4 24	 add	 esp, 36			; 00000024H

; 6852 : 							}
; 6853 : 							else

  0d965	eb 20		 jmp	 SHORT $LN3@SkillChaot
$LN5@SkillChaot:

; 6854 : 							{
; 6855 : 								gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, 200, lpMagic->m_Skill, 0);

  0d967	6a 00		 push	 0
  0d969	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0d96c	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0d96f	51		 push	 ecx
  0d970	68 c8 00 00 00	 push	 200			; 000000c8H
  0d975	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  0d978	52		 push	 edx
  0d979	6a 32		 push	 50			; 00000032H
  0d97b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d97e	50		 push	 eax
  0d97f	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0d984	83 c4 18	 add	 esp, 24			; 00000018H
$LN3@SkillChaot:

; 6856 : 							}
; 6857 : #else
; 6858 : 							gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, 300, lpMagic->m_Skill, 0);
; 6859 : 							LogAddTD("2HIT!!!!!! SUCCESS aTargetIndex : %d , tObjNum : %d", aTargetIndex, tObjNum);
; 6860 : #endif
; 6861 : 						}
; 6862 : 						else

  0d987	eb 16		 jmp	 SHORT $LN2@SkillChaot
$LN6@SkillChaot:

; 6863 : 						{
; 6864 : 							LogAddTD("2HIT!!!!!! ERROR   aTargetIndex : %d , tObjNum : %d", aTargetIndex, tObjNum);

  0d989	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0d98c	50		 push	 eax
  0d98d	8b 4d 14	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0d990	51		 push	 ecx
  0d991	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@BHNKBPJH@2HIT?$CB?$CB?$CB?$CB?$CB?$CB?5ERROR?5?5?5aTargetIndex?5@
  0d996	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0d99c	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@SkillChaot:

; 6865 : 						}
; 6866 : 
; 6867 : 						HitCount++;						

  0d99f	8b 45 e8	 mov	 eax, DWORD PTR _HitCount$[ebp]
  0d9a2	83 c0 01	 add	 eax, 1
  0d9a5	89 45 e8	 mov	 DWORD PTR _HitCount$[ebp], eax
$LN14@SkillChaot:

; 6868 : 					}					
; 6869 : 				}
; 6870 : 			}
; 6871 : 		}
; 6872 : 
; 6873 : 		count++;

  0d9a8	8b 45 ec	 mov	 eax, DWORD PTR _count$[ebp]
  0d9ab	83 c0 01	 add	 eax, 1
  0d9ae	89 45 ec	 mov	 DWORD PTR _count$[ebp], eax

; 6874 : 			
; 6875 : 		if(count > MAX_VIEWPORT -1)

  0d9b1	83 7d ec 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0d9b5	7e 02		 jle	 SHORT $LN1@SkillChaot

; 6876 : 		{
; 6877 : 			break;

  0d9b7	eb 05		 jmp	 SHORT $LN27@SkillChaot
$LN1@SkillChaot:

; 6878 : 		}
; 6879 : 	}

  0d9b9	e9 06 fc ff ff	 jmp	 $LN28@SkillChaot
$LN27@SkillChaot:

; 6880 : }

  0d9be	5f		 pop	 edi
  0d9bf	5e		 pop	 esi
  0d9c0	5b		 pop	 ebx
  0d9c1	8b e5		 mov	 esp, ebp
  0d9c3	5d		 pop	 ebp
  0d9c4	c2 10 00	 ret	 16			; 00000010H
?SkillChaoticDiseier@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ENDP ; CObjUseSkill::SkillChaoticDiseier
_TEXT	ENDS
EXTRN	?retResistance@@YAHPAUOBJECTSTRUCT@@H@Z:PROC	; retResistance
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpTargetObj$242340 = -40				; size = 4
_delay$242339 = -36					; size = 4
_EnableAttack$242329 = -32				; size = 4
_DuelIndex$ = -28					; size = 4
_bAttack$ = -24						; size = 4
_HitCount$ = -20					; size = 4
_count$ = -16						; size = 4
_tObjNum$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillEvilMonster@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillEvilMonster
; _this$ = ecx

; 6883 : {

  0d9d0	55		 push	 ebp
  0d9d1	8b ec		 mov	 ebp, esp
  0d9d3	83 ec 68	 sub	 esp, 104		; 00000068H
  0d9d6	53		 push	 ebx
  0d9d7	56		 push	 esi
  0d9d8	57		 push	 edi
  0d9d9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 6884 : 	LPOBJ lpObj		= &gObj[aIndex];

  0d9dc	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0d9df	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0d9e5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0d9eb	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 6885 : 	int tObjNum;
; 6886 : 	int count		= 0;

  0d9ee	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 6887 : 	int HitCount	= 0;

  0d9f5	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0

; 6888 : 	int bAttack;
; 6889 : 	int DuelIndex	= lpObj->m_iDuelUser;

  0d9fc	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d9ff	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0da05	89 4d e4	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
$LN16@SkillEvilM:

; 6890 : 	// ----
; 6891 : 	while(true)

  0da08	b8 01 00 00 00	 mov	 eax, 1
  0da0d	85 c0		 test	 eax, eax
  0da0f	0f 84 94 01 00
	00		 je	 $LN15@SkillEvilM

; 6892 : 	{
; 6893 : 		if( lpObj->VpPlayer2[count].state )

  0da15	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0da18	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0da1b	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0da1e	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0da26	85 d2		 test	 edx, edx
  0da28	0f 84 65 01 00
	00		 je	 $LN14@SkillEvilM

; 6894 : 		{
; 6895 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0da2e	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0da31	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0da34	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0da37	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0da3f	89 55 f4	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 6896 : 			// ----
; 6897 : 			if( tObjNum >= 0 )

  0da42	83 7d f4 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0da46	0f 8c 47 01 00
	00		 jl	 $LN14@SkillEvilM

; 6898 : 			{
; 6899 : 				int EnableAttack = false;

  0da4c	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$242329[ebp], 0

; 6900 : 				// ----
; 6901 : 				if( lpObj->VpPlayer2[count].type == 1 )

  0da53	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0da56	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0da59	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0da5c	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0da64	83 fa 01	 cmp	 edx, 1
  0da67	75 2f		 jne	 SHORT $LN12@SkillEvilM

; 6902 : 				{
; 6903 : 					EnableAttack = true;

  0da69	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$242329[ebp], 1

; 6904 : 					// ----
; 6905 : 					if( gObj[tObjNum].m_RecallMon >= 0 )

  0da70	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0da73	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0da79	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0da7f	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0da87	7c 0f		 jl	 SHORT $LN12@SkillEvilM

; 6906 : 					{
; 6907 : 						if( tObjNum != aTargetIndex )

  0da89	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0da8c	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0da8f	74 07		 je	 SHORT $LN12@SkillEvilM

; 6908 : 						{
; 6909 : 							EnableAttack = false;

  0da91	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$242329[ebp], 0
$LN12@SkillEvilM:

; 6910 : 						}
; 6911 : 					}
; 6912 : 				}
; 6913 : 				// ----
; 6914 : 				if( EnableAttack )

  0da98	83 7d e0 00	 cmp	 DWORD PTR _EnableAttack$242329[ebp], 0
  0da9c	0f 84 f1 00 00
	00		 je	 $LN14@SkillEvilM

; 6915 : 				{
; 6916 : 					if( gObjCalDistance(lpObj, &gObj[tObjNum]) < 6 )

  0daa2	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0daa5	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0daab	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0dab1	50		 push	 eax
  0dab2	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0dab5	51		 push	 ecx
  0dab6	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  0dabb	83 c4 08	 add	 esp, 8
  0dabe	83 f8 06	 cmp	 eax, 6
  0dac1	0f 8d cc 00 00
	00		 jge	 $LN14@SkillEvilM

; 6917 : 					{
; 6918 : 						bAttack = false;

  0dac7	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 6919 : 						// ----
; 6920 : 						if( HitCount >= 5 )

  0dace	83 7d ec 05	 cmp	 DWORD PTR _HitCount$[ebp], 5
  0dad2	7c 09		 jl	 SHORT $LN7@SkillEvilM

; 6921 : 						{
; 6922 : 							bAttack = false;

  0dad4	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 6923 : 						}
; 6924 : 						else

  0dadb	eb 07		 jmp	 SHORT $LN6@SkillEvilM
$LN7@SkillEvilM:

; 6925 : 						{
; 6926 : 							bAttack = true;

  0dadd	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN6@SkillEvilM:

; 6927 : 						}
; 6928 : 						// ----
; 6929 : 						if( tObjNum == aTargetIndex )

  0dae4	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0dae7	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0daea	75 07		 jne	 SHORT $LN5@SkillEvilM

; 6930 : 						{
; 6931 : 							bAttack = true;

  0daec	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN5@SkillEvilM:

; 6932 : 						}
; 6933 : 						// ----
; 6934 : 						if( bAttack )

  0daf3	83 7d e8 00	 cmp	 DWORD PTR _bAttack$[ebp], 0
  0daf7	0f 84 96 00 00
	00		 je	 $LN14@SkillEvilM

; 6935 : 						{
; 6936 : 							int delay = rand() % 2000;

  0dafd	e8 00 00 00 00	 call	 _rand
  0db02	99		 cdq
  0db03	b9 d0 07 00 00	 mov	 ecx, 2000		; 000007d0H
  0db08	f7 f9		 idiv	 ecx
  0db0a	89 55 dc	 mov	 DWORD PTR _delay$242339[ebp], edx

; 6937 : 							// ----
; 6938 : 							gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, 300, lpMagic->m_Skill, 0);

  0db0d	6a 00		 push	 0
  0db0f	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0db12	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0db15	51		 push	 ecx
  0db16	68 2c 01 00 00	 push	 300			; 0000012cH
  0db1b	8b 55 f4	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  0db1e	52		 push	 edx
  0db1f	6a 32		 push	 50			; 00000032H
  0db21	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0db24	50		 push	 eax
  0db25	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0db2a	83 c4 18	 add	 esp, 24			; 00000018H

; 6939 : 							HitCount++;

  0db2d	8b 45 ec	 mov	 eax, DWORD PTR _HitCount$[ebp]
  0db30	83 c0 01	 add	 eax, 1
  0db33	89 45 ec	 mov	 DWORD PTR _HitCount$[ebp], eax

; 6940 : 							// ----
; 6941 : 							LPOBJ lpTargetObj = &gObj[tObjNum];

  0db36	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0db39	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0db3f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0db45	89 45 d8	 mov	 DWORD PTR _lpTargetObj$242340[ebp], eax

; 6942 : 							// ----
; 6943 : 							if( !gObjSearchActiveEffect(lpTargetObj, 55) )

  0db48	6a 37		 push	 55			; 00000037H
  0db4a	8b 45 d8	 mov	 eax, DWORD PTR _lpTargetObj$242340[ebp]
  0db4d	50		 push	 eax
  0db4e	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  0db53	83 c4 08	 add	 esp, 8
  0db56	0f b6 c8	 movzx	 ecx, al
  0db59	85 c9		 test	 ecx, ecx
  0db5b	75 36		 jne	 SHORT $LN14@SkillEvilM

; 6944 : 							{
; 6945 : 								if( !retResistance(lpTargetObj, 1) )

  0db5d	6a 01		 push	 1
  0db5f	8b 45 d8	 mov	 eax, DWORD PTR _lpTargetObj$242340[ebp]
  0db62	50		 push	 eax
  0db63	e8 00 00 00 00	 call	 ?retResistance@@YAHPAUOBJECTSTRUCT@@H@Z ; retResistance
  0db68	83 c4 08	 add	 esp, 8
  0db6b	85 c0		 test	 eax, eax
  0db6d	75 24		 jne	 SHORT $LN14@SkillEvilM

; 6946 : 								{
; 6947 : 									lpTargetObj->lpAttackObj = lpObj;

  0db6f	8b 45 d8	 mov	 eax, DWORD PTR _lpTargetObj$242340[ebp]
  0db72	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0db75	89 88 d4 03 00
	00		 mov	 DWORD PTR [eax+980], ecx

; 6948 : 									gObjApplyBuffEffectDuration(lpTargetObj, 55, 19, 3, 0, 0, 20);

  0db7b	6a 14		 push	 20			; 00000014H
  0db7d	6a 00		 push	 0
  0db7f	6a 00		 push	 0
  0db81	6a 03		 push	 3
  0db83	6a 13		 push	 19			; 00000013H
  0db85	6a 37		 push	 55			; 00000037H
  0db87	8b 45 d8	 mov	 eax, DWORD PTR _lpTargetObj$242340[ebp]
  0db8a	50		 push	 eax
  0db8b	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0db90	83 c4 1c	 add	 esp, 28			; 0000001cH
$LN14@SkillEvilM:

; 6949 : 								}
; 6950 : 							}
; 6951 : 						}
; 6952 : 					}
; 6953 : 				}
; 6954 : 			}
; 6955 : 		}
; 6956 : 		// ----
; 6957 : 		count++;

  0db93	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0db96	83 c0 01	 add	 eax, 1
  0db99	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 6958 : 		// ----
; 6959 : 		if( count > MAX_VIEWPORT-1 )

  0db9c	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0dba0	7e 02		 jle	 SHORT $LN1@SkillEvilM

; 6960 : 		{
; 6961 : 			break;

  0dba2	eb 05		 jmp	 SHORT $LN15@SkillEvilM
$LN1@SkillEvilM:

; 6962 : 		}
; 6963 : 	}

  0dba4	e9 5f fe ff ff	 jmp	 $LN16@SkillEvilM
$LN15@SkillEvilM:

; 6964 : 	// ----
; 6965 : 	return true;

  0dba9	b8 01 00 00 00	 mov	 eax, 1

; 6966 : }

  0dbae	5f		 pop	 edi
  0dbaf	5e		 pop	 esi
  0dbb0	5b		 pop	 ebx
  0dbb1	8b e5		 mov	 esp, ebp
  0dbb3	5d		 pop	 ebp
  0dbb4	c2 0c 00	 ret	 12			; 0000000cH
?SkillEvilMonster@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillEvilMonster
_TEXT	ENDS
PUBLIC	??_C@_0EM@PCLLIACM@?$FLInvalidTargetIndex?$FN?$FLSkillDeathP@ ; `string'
;	COMDAT ??_C@_0EM@PCLLIACM@?$FLInvalidTargetIndex?$FN?$FLSkillDeathP@
CONST	SEGMENT
??_C@_0EM@PCLLIACM@?$FLInvalidTargetIndex?$FN?$FLSkillDeathP@ DB '[Invali'
	DB	'dTargetIndex][SkillDeathPoisonForMeDusa] Index :%d , AccountI'
	DB	'D : %s ', 00H				; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv70 = -112						; size = 4
_delay$242373 = -44					; size = 4
_iSkillDistance$242371 = -40				; size = 4
_lpTargetObj$ = -36					; size = 4
_EnableAttack$ = -32					; size = 4
_DuelIndex$ = -28					; size = 4
_HitCount$ = -24					; size = 4
_FirstHit$ = -20					; size = 4
_count$ = -16						; size = 4
_tObjNum$ = -12						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_aTargetIndex$ = 24					; size = 4
?SkillDeathPoisonForMeDusa@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z PROC ; CObjUseSkill::SkillDeathPoisonForMeDusa
; _this$ = ecx

; 6971 : {

  0dbc0	55		 push	 ebp
  0dbc1	8b ec		 mov	 ebp, esp
  0dbc3	83 ec 70	 sub	 esp, 112		; 00000070H
  0dbc6	53		 push	 ebx
  0dbc7	56		 push	 esi
  0dbc8	57		 push	 edi
  0dbc9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 6972 : 	LPOBJ lpObj		= &gObj[aIndex];

  0dbcc	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0dbcf	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0dbd5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0dbdb	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 6973 : 	int tObjNum;
; 6974 : 	int count		= 0;

  0dbde	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 6975 : 	int FirstHit	= 0;

  0dbe5	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _FirstHit$[ebp], 0

; 6976 : 	int HitCount	= 0;

  0dbec	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0

; 6977 : 	int DuelIndex	= lpObj->m_iDuelUser;

  0dbf3	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0dbf6	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0dbfc	89 4d e4	 mov	 DWORD PTR _DuelIndex$[ebp], ecx

; 6978 : 	int EnableAttack;
; 6979 : 	// ----
; 6980 : 	if( !OBJMAX_RANGE(aTargetIndex) )

  0dbff	83 7d 18 00	 cmp	 DWORD PTR _aTargetIndex$[ebp], 0
  0dc03	7d 09		 jge	 SHORT $LN16@SkillDeath@2
  0dc05	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
  0dc0c	eb 0f		 jmp	 SHORT $LN17@SkillDeath@2
$LN16@SkillDeath@2:
  0dc0e	33 c0		 xor	 eax, eax
  0dc10	81 7d 18 97 3a
	00 00		 cmp	 DWORD PTR _aTargetIndex$[ebp], 14999 ; 00003a97H
  0dc17	0f 9e c0	 setle	 al
  0dc1a	89 45 90	 mov	 DWORD PTR tv70[ebp], eax
$LN17@SkillDeath@2:
  0dc1d	83 7d 90 00	 cmp	 DWORD PTR tv70[ebp], 0
  0dc21	75 2d		 jne	 SHORT $LN13@SkillDeath@2

; 6981 : 	{
; 6982 : 		LogAddTD("[InvalidTargetIndex][SkillDeathPoisonForMeDusa] Index :%d , AccountID : %s ",
; 6983 : 			aIndex, gObj[aIndex].AccountID);

  0dc23	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0dc26	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0dc2c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0dc32	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  0dc36	52		 push	 edx
  0dc37	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0dc3a	50		 push	 eax
  0dc3b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@PCLLIACM@?$FLInvalidTargetIndex?$FN?$FLSkillDeathP@
  0dc40	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0dc46	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6984 : 		return 0;

  0dc49	33 c0		 xor	 eax, eax
  0dc4b	e9 f4 01 00 00	 jmp	 $LN14@SkillDeath@2
$LN13@SkillDeath@2:

; 6985 : 	}
; 6986 : 	// ----
; 6987 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  0dc50	8b 45 18	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0dc53	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0dc59	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0dc5f	89 45 dc	 mov	 DWORD PTR _lpTargetObj$[ebp], eax
$LN12@SkillDeath@2:

; 6988 : 	// ----
; 6989 : 	while(true)

  0dc62	b8 01 00 00 00	 mov	 eax, 1
  0dc67	85 c0		 test	 eax, eax
  0dc69	0f 84 d0 01 00
	00		 je	 $LN11@SkillDeath@2

; 6990 : 	{
; 6991 : 		if( lpObj->VpPlayer2[count].state != 0 )

  0dc6f	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0dc72	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0dc75	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0dc78	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0dc80	85 d2		 test	 edx, edx
  0dc82	0f 84 a1 01 00
	00		 je	 $LN10@SkillDeath@2

; 6992 : 		{
; 6993 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0dc88	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0dc8b	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0dc8e	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0dc91	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0dc99	89 55 f4	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 6994 : 			// ----
; 6995 : 			if( tObjNum >= 0 )

  0dc9c	83 7d f4 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0dca0	0f 8c 83 01 00
	00		 jl	 $LN10@SkillDeath@2

; 6996 : 			{
; 6997 : 				EnableAttack = 0;

  0dca6	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 6998 : 				// ----
; 6999 : 				if( lpObj->VpPlayer2[count].type == OBJ_USER && gObj[tObjNum].m_RecallMon < 0 )

  0dcad	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0dcb0	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0dcb3	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0dcb6	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0dcbe	83 fa 01	 cmp	 edx, 1
  0dcc1	75 20		 jne	 SHORT $LN8@SkillDeath@2
  0dcc3	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0dcc6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0dccc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0dcd2	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0dcda	7d 07		 jge	 SHORT $LN8@SkillDeath@2

; 7000 : 				{
; 7001 : 					EnableAttack = 1;

  0dcdc	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN8@SkillDeath@2:

; 7002 : 				}
; 7003 : 				// ----
; 7004 : 				if( EnableAttack )

  0dce3	83 7d e0 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  0dce7	0f 84 3c 01 00
	00		 je	 $LN10@SkillDeath@2

; 7005 : 				{
; 7006 : 					if( this->CalDistance(x, y, gObj[tObjNum].X, gObj[tObjNum].Y) < 8 )

  0dced	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0dcf0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0dcf6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0dcfc	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0dd04	52		 push	 edx
  0dd05	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0dd08	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0dd0e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0dd14	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0dd1c	52		 push	 edx
  0dd1d	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  0dd21	50		 push	 eax
  0dd22	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  0dd26	51		 push	 ecx
  0dd27	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0dd2a	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  0dd2f	83 f8 08	 cmp	 eax, 8
  0dd32	0f 8d f1 00 00
	00		 jge	 $LN10@SkillDeath@2

; 7007 : 					{
; 7008 : 						if( lpObj->m_Index != gObj[tObjNum].m_Index )

  0dd38	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0dd3b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0dd41	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0dd44	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0dd4a	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0dd4c	3b 0c 02	 cmp	 ecx, DWORD PTR [edx+eax]
  0dd4f	0f 84 d4 00 00
	00		 je	 $LN10@SkillDeath@2

; 7009 : 						{
; 7010 : 							int iSkillDistance = gObjCalDistance(lpTargetObj, &gObj[tObjNum]);

  0dd55	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0dd58	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0dd5e	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0dd64	50		 push	 eax
  0dd65	8b 4d dc	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  0dd68	51		 push	 ecx
  0dd69	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  0dd6e	83 c4 08	 add	 esp, 8
  0dd71	89 45 d8	 mov	 DWORD PTR _iSkillDistance$242371[ebp], eax

; 7011 : 							// ----
; 7012 : 							if( iSkillDistance <= 3 )

  0dd74	83 7d d8 03	 cmp	 DWORD PTR _iSkillDistance$242371[ebp], 3
  0dd78	0f 8f ab 00 00
	00		 jg	 $LN10@SkillDeath@2

; 7013 : 							{
; 7014 : 								int delay = rand() % 500;

  0dd7e	e8 00 00 00 00	 call	 _rand
  0dd83	99		 cdq
  0dd84	b9 f4 01 00 00	 mov	 ecx, 500		; 000001f4H
  0dd89	f7 f9		 idiv	 ecx
  0dd8b	89 55 d4	 mov	 DWORD PTR _delay$242373[ebp], edx

; 7015 : 								gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, delay, lpMagic->m_Skill, 0);

  0dd8e	6a 00		 push	 0
  0dd90	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0dd93	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0dd96	51		 push	 ecx
  0dd97	8b 55 d4	 mov	 edx, DWORD PTR _delay$242373[ebp]
  0dd9a	52		 push	 edx
  0dd9b	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0dd9e	50		 push	 eax
  0dd9f	6a 32		 push	 50			; 00000032H
  0dda1	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0dda4	51		 push	 ecx
  0dda5	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0ddaa	83 c4 18	 add	 esp, 24			; 00000018H

; 7016 : 								// ----
; 7017 : 								if( gObjSearchActiveEffect(&gObj[tObjNum], 55) )

  0ddad	6a 37		 push	 55			; 00000037H
  0ddaf	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0ddb2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0ddb8	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ddbe	50		 push	 eax
  0ddbf	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  0ddc4	83 c4 08	 add	 esp, 8
  0ddc7	0f b6 c8	 movzx	 ecx, al
  0ddca	85 c9		 test	 ecx, ecx
  0ddcc	74 5b		 je	 SHORT $LN10@SkillDeath@2

; 7018 : 								{
; 7019 : 									if( !retResistance(&gObj[tObjNum], 1) )

  0ddce	6a 01		 push	 1
  0ddd0	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0ddd3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0ddd9	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0dddf	50		 push	 eax
  0dde0	e8 00 00 00 00	 call	 ?retResistance@@YAHPAUOBJECTSTRUCT@@H@Z ; retResistance
  0dde5	83 c4 08	 add	 esp, 8
  0dde8	85 c0		 test	 eax, eax
  0ddea	75 3d		 jne	 SHORT $LN10@SkillDeath@2

; 7020 : 									{
; 7021 : 										gObj[tObjNum].lpAttackObj = lpObj;

  0ddec	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0ddef	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0ddf5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ddfb	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ddfe	89 94 01 d4 03
	00 00		 mov	 DWORD PTR [ecx+eax+980], edx

; 7022 : 										gObjApplyBuffEffectDuration(&gObj[tObjNum], 55, 19, 3, 0, 0, 20);

  0de05	6a 14		 push	 20			; 00000014H
  0de07	6a 00		 push	 0
  0de09	6a 00		 push	 0
  0de0b	6a 03		 push	 3
  0de0d	6a 13		 push	 19			; 00000013H
  0de0f	6a 37		 push	 55			; 00000037H
  0de11	8b 45 f4	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0de14	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0de1a	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0de20	50		 push	 eax
  0de21	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0de26	83 c4 1c	 add	 esp, 28			; 0000001cH
$LN10@SkillDeath@2:

; 7023 : 									}
; 7024 : 								}
; 7025 : 							}
; 7026 : 						}
; 7027 : 					}
; 7028 : 				}
; 7029 : 			}
; 7030 : 		}
; 7031 : 		// ----
; 7032 : 		count++;

  0de29	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0de2c	83 c0 01	 add	 eax, 1
  0de2f	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 7033 : 		// ----
; 7034 : 		if( count > MAX_VIEWPORT -1 )

  0de32	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0de36	7e 02		 jle	 SHORT $LN1@SkillDeath@2

; 7035 : 		{
; 7036 : 			break;

  0de38	eb 05		 jmp	 SHORT $LN11@SkillDeath@2
$LN1@SkillDeath@2:

; 7037 : 		}
; 7038 : 	}

  0de3a	e9 23 fe ff ff	 jmp	 $LN12@SkillDeath@2
$LN11@SkillDeath@2:

; 7039 : 	// ----
; 7040 : 	return 1;

  0de3f	b8 01 00 00 00	 mov	 eax, 1
$LN14@SkillDeath@2:

; 7041 : }

  0de44	5f		 pop	 edi
  0de45	5e		 pop	 esi
  0de46	5b		 pop	 ebx
  0de47	8b e5		 mov	 esp, ebp
  0de49	5d		 pop	 ebp
  0de4a	c2 14 00	 ret	 20			; 00000014H
?SkillDeathPoisonForMeDusa@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ENDP ; CObjUseSkill::SkillDeathPoisonForMeDusa
; Function compile flags: /Odtp /ZI
tv161 = -92						; size = 4
tv160 = -88						; size = 4
tv157 = -84						; size = 4
_Time$ = -16						; size = 4
_nEffectValue$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?SkillMonkBuff@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::SkillMonkBuff
; _this$ = ecx

; 7046 : {

  0de50	55		 push	 ebp
  0de51	8b ec		 mov	 ebp, esp
  0de53	83 ec 5c	 sub	 esp, 92			; 0000005cH
  0de56	53		 push	 ebx
  0de57	56		 push	 esi
  0de58	57		 push	 edi
  0de59	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 7047 : 	//LPOBJ lpObj = &gObj[aIndex];;
; 7048 : 	//// ----
; 7049 : 	//if( lpObj->Type != 1 )
; 7050 : 	//{
; 7051 : 	//	return false;
; 7052 : 	//}
; 7053 : 	//// ----
; 7054 : 	//if( lpObj->Class != CLASS_MONK )
; 7055 : 	//{
; 7056 : 	//	return false;
; 7057 : 	//}
; 7058 : 	//// ----
; 7059 : 	//if( !lpMagic || lpMagic->m_Skill != 266 )
; 7060 : 	//{
; 7061 : 	//	return false;
; 7062 : 	//}
; 7063 : 	//// ----
; 7064 : 	//int nEffectValue = 3 + (lpObj->Energy + lpObj->AddEnergy - 404) / (float)100;
; 7065 : 
; 7066 : 	//if(nEffectValue > 10)
; 7067 : 	//{
; 7068 : 	//	nEffectValue = 10;
; 7069 : 
; 7070 : 	//}
; 7071 : 	//
; 7072 : 	////if( g_SkillAdditionInfo.m_IgnoreDefenseEffectMax > 0 && nEffectValue > g_SkillAdditionInfo.m_IgnoreDefenseEffectMax )
; 7073 : 	////{
; 7074 : 	////	nEffectValue = g_SkillAdditionInfo.m_IgnoreDefenseEffectMax;
; 7075 : 	////}
; 7076 : 
; 7077 : 	//int Time = lpObj->Energy / 5 + 60;
; 7078 : 	//
; 7079 : 	////if( g_SkillAdditionInfo.m_IgnoreDefenseTimeMax > 0 && Time > g_SkillAdditionInfo.m_IgnoreDefenseTimeMax )
; 7080 : 	////{
; 7081 : 	////	Time = g_SkillAdditionInfo.m_IgnoreDefenseTimeMax;
; 7082 : 	////}
; 7083 : 
; 7084 : 	//gObjApplyBuffEffectDuration(lpObj, 129, 72, nEffectValue, 0, 0, lpObj->Energy / 5 + 60);
; 7085 : 	//GCMagicAttackNumberSend(lpObj, 266, lpObj->m_Index, 1);
; 7086 : 	//// ----
; 7087 : 	//return true;
; 7088 : 
; 7089 : 	LPOBJ lpObj = &gObj[aIndex];;

  0de5c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0de5f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0de65	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0de6b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 7090 : 	// ----
; 7091 : 	if( lpObj->Type != 1 )

  0de6e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0de71	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  0de75	83 f9 01	 cmp	 ecx, 1
  0de78	74 07		 je	 SHORT $LN6@SkillMonkB

; 7092 : 	{
; 7093 : 		return false;

  0de7a	33 c0		 xor	 eax, eax
  0de7c	e9 1f 01 00 00	 jmp	 $LN7@SkillMonkB
$LN6@SkillMonkB:

; 7094 : 	}
; 7095 : 	// ----
; 7096 : 	if( lpObj->Class != CLASS_MONK )

  0de81	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0de84	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  0de8b	83 f9 06	 cmp	 ecx, 6
  0de8e	74 07		 je	 SHORT $LN5@SkillMonkB

; 7097 : 	{
; 7098 : 		return false;

  0de90	33 c0		 xor	 eax, eax
  0de92	e9 09 01 00 00	 jmp	 $LN7@SkillMonkB
$LN5@SkillMonkB:

; 7099 : 	}
; 7100 : 	// ----
; 7101 : 	if( !lpMagic || lpMagic->m_Skill != 266 )

  0de97	83 7d 0c 00	 cmp	 DWORD PTR _lpMagic$[ebp], 0
  0de9b	74 0c		 je	 SHORT $LN3@SkillMonkB
  0de9d	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0dea0	81 78 08 0a 01
	00 00		 cmp	 DWORD PTR [eax+8], 266	; 0000010aH
  0dea7	74 07		 je	 SHORT $LN4@SkillMonkB
$LN3@SkillMonkB:

; 7102 : 	{
; 7103 : 		return false;

  0dea9	33 c0		 xor	 eax, eax
  0deab	e9 f0 00 00 00	 jmp	 $LN7@SkillMonkB
$LN4@SkillMonkB:

; 7104 : 	}
; 7105 : 	// ----
; 7106 : 	int nEffectValue = g_SkillAdditionInfo.IgnoreDefenseEffectStart + (lpObj->Energy + lpObj->AddEnergy - g_SkillAdditionInfo.IgnoreDefenseEffectSub) / (float)g_SkillAdditionInfo.IgnoreDefenseEffectDiv;

  0deb0	0f b7 05 cc 0b
	00 00		 movzx	 eax, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3020
  0deb7	89 45 ac	 mov	 DWORD PTR tv157[ebp], eax
  0deba	db 45 ac	 fild	 DWORD PTR tv157[ebp]
  0debd	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0dec0	0f b7 91 fa 00
	00 00		 movzx	 edx, WORD PTR [ecx+250]
  0dec7	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0deca	0f bf 88 26 01
	00 00		 movsx	 ecx, WORD PTR [eax+294]
  0ded1	03 d1		 add	 edx, ecx
  0ded3	0f b7 05 ce 0b
	00 00		 movzx	 eax, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3022
  0deda	2b d0		 sub	 edx, eax
  0dedc	89 55 a8	 mov	 DWORD PTR tv160[ebp], edx
  0dedf	db 45 a8	 fild	 DWORD PTR tv160[ebp]
  0dee2	0f b7 0d d0 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3024
  0dee9	89 4d a4	 mov	 DWORD PTR tv161[ebp], ecx
  0deec	da 75 a4	 fidiv	 DWORD PTR tv161[ebp]
  0deef	de c1		 faddp	 ST(1), ST(0)
  0def1	e8 00 00 00 00	 call	 __ftol2_sse
  0def6	89 45 f4	 mov	 DWORD PTR _nEffectValue$[ebp], eax

; 7107 : 
; 7108 : 	if( g_SkillAdditionInfo.IgnoreDefenseEffectMax > 0 && nEffectValue > g_SkillAdditionInfo.IgnoreDefenseEffectMax )

  0def9	83 3d d4 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3028, 0
  0df00	76 13		 jbe	 SHORT $LN2@SkillMonkB
  0df02	8b 45 f4	 mov	 eax, DWORD PTR _nEffectValue$[ebp]
  0df05	3b 05 d4 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3028
  0df0b	76 08		 jbe	 SHORT $LN2@SkillMonkB

; 7109 : 	{
; 7110 : 		nEffectValue = g_SkillAdditionInfo.IgnoreDefenseEffectMax;

  0df0d	a1 d4 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3028
  0df12	89 45 f4	 mov	 DWORD PTR _nEffectValue$[ebp], eax
$LN2@SkillMonkB:

; 7111 : 	}
; 7112 : 
; 7113 : 	int Time = lpObj->Energy / g_SkillAdditionInfo.IgnoreDefenseTimeDiv + g_SkillAdditionInfo.IgnoreDefenseTimeStart;

  0df15	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0df18	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  0df1f	0f b7 0d da 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3034
  0df26	99		 cdq
  0df27	f7 f9		 idiv	 ecx
  0df29	0f b7 15 d8 0b
	00 00		 movzx	 edx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3032
  0df30	03 c2		 add	 eax, edx
  0df32	89 45 f0	 mov	 DWORD PTR _Time$[ebp], eax

; 7114 : 
; 7115 : 	if( g_SkillAdditionInfo.IgnoreDefenseTimeMax > 0 && Time > g_SkillAdditionInfo.IgnoreDefenseTimeMax )

  0df35	83 3d dc 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3036, 0
  0df3c	76 13		 jbe	 SHORT $LN1@SkillMonkB
  0df3e	8b 45 f0	 mov	 eax, DWORD PTR _Time$[ebp]
  0df41	3b 05 dc 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3036
  0df47	76 08		 jbe	 SHORT $LN1@SkillMonkB

; 7116 : 	{
; 7117 : 		Time = g_SkillAdditionInfo.IgnoreDefenseTimeMax;

  0df49	a1 dc 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3036
  0df4e	89 45 f0	 mov	 DWORD PTR _Time$[ebp], eax
$LN1@SkillMonkB:

; 7118 : 	}
; 7119 : 
; 7120 : 	gObjApplyBuffEffectDuration(lpObj, 129, ADD_OPTION_IGNOREDEFENSE, nEffectValue, 0, 0, lpObj->Energy / 5 + 60);

  0df51	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0df54	0f b7 80 fa 00
	00 00		 movzx	 eax, WORD PTR [eax+250]
  0df5b	99		 cdq
  0df5c	b9 05 00 00 00	 mov	 ecx, 5
  0df61	f7 f9		 idiv	 ecx
  0df63	83 c0 3c	 add	 eax, 60			; 0000003cH
  0df66	50		 push	 eax
  0df67	6a 00		 push	 0
  0df69	6a 00		 push	 0
  0df6b	8b 55 f4	 mov	 edx, DWORD PTR _nEffectValue$[ebp]
  0df6e	52		 push	 edx
  0df6f	6a 48		 push	 72			; 00000048H
  0df71	68 81 00 00 00	 push	 129			; 00000081H
  0df76	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0df79	50		 push	 eax
  0df7a	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0df7f	83 c4 1c	 add	 esp, 28			; 0000001cH

; 7121 : 	GCMagicAttackNumberSend(lpObj, 266, lpObj->m_Index, 1);

  0df82	6a 01		 push	 1
  0df84	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0df87	8b 08		 mov	 ecx, DWORD PTR [eax]
  0df89	51		 push	 ecx
  0df8a	68 0a 01 00 00	 push	 266			; 0000010aH
  0df8f	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0df92	52		 push	 edx
  0df93	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0df98	83 c4 10	 add	 esp, 16			; 00000010H

; 7122 : 	// ----
; 7123 : 	return true;

  0df9b	b8 01 00 00 00	 mov	 eax, 1
$LN7@SkillMonkB:

; 7124 : }

  0dfa0	5f		 pop	 edi
  0dfa1	5e		 pop	 esi
  0dfa2	5b		 pop	 ebx
  0dfa3	8b e5		 mov	 esp, ebp
  0dfa5	5d		 pop	 ebp
  0dfa6	c2 08 00	 ret	 8
?SkillMonkBuff@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::SkillMonkBuff
_TEXT	ENDS
PUBLIC	__$ArrayPad$
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv279 = -164						; size = 4
tv276 = -160						; size = 4
_n$242430 = -92						; size = 4
_Time$ = -88						; size = 4
_n$242409 = -84						; size = 4
_lpPartyObj$ = -80					; size = 4
_nEffectValue$ = -76					; size = 4
_ApplyPartyIndex$ = -72					; size = 40
_dis$ = -32						; size = 4
_partycount$ = -28					; size = 4
_partynum$ = -24					; size = 4
_number$ = -20						; size = 4
_lpObj$ = -16						; size = 4
_skillSuccess$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?SkillMonkBuffApplyParty@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillMonkBuffApplyParty
; _this$ = ecx

; 7129 : {

  0dfb0	55		 push	 ebp
  0dfb1	8b ec		 mov	 ebp, esp
  0dfb3	81 ec a4 00 00
	00		 sub	 esp, 164		; 000000a4H
  0dfb9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0dfbe	33 c5		 xor	 eax, ebp
  0dfc0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0dfc3	53		 push	 ebx
  0dfc4	56		 push	 esi
  0dfc5	57		 push	 edi
  0dfc6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 7130 : 	//int skillSuccess = TRUE;
; 7131 : 	//LPOBJ lpObj = &gObj[aIndex];
; 7132 : 	//int number;
; 7133 : 
; 7134 : 	//if( lpObj->Type != OBJ_USER && lpObj->m_RecallMon == -1 )
; 7135 : 	//	return FALSE;
; 7136 : 
; 7137 : 	//if( lpObj->Class != CLASS_MONK )
; 7138 : 	//	return FALSE;
; 7139 : 
; 7140 : 	//int partynum = 0;
; 7141 : 	//int partycount;
; 7142 : 	//int dis;
; 7143 : 	//int ApplyPartyIndex[MAX_USER_IN_PARTY];
; 7144 : 	//int nEffectValue;
; 7145 : 	//memset(ApplyPartyIndex,-1,sizeof(ApplyPartyIndex));
; 7146 : 	//LPOBJ lpPartyObj;
; 7147 : 
; 7148 : 	//partynum = lpObj->PartyNumber;
; 7149 : 
; 7150 : 	//if( partynum != -1 )
; 7151 : 	//{
; 7152 : 	//	partycount = gParty.m_PartyS[partynum].Count;
; 7153 : 
; 7154 : 	//	for(int n = 0; n < MAX_USER_IN_PARTY; n++)
; 7155 : 	//	{
; 7156 : 	//		number = gParty.m_PartyS[partynum].Number[n];
; 7157 : 
; 7158 : 	//		if( number >= 0 )
; 7159 : 	//		{
; 7160 : 	//			lpPartyObj = &gObj[number];
; 7161 : 
; 7162 : 
; 7163 : 	//			if( lpPartyObj->MapNumber == lpObj->MapNumber )
; 7164 : 	//			{
; 7165 : 	//				dis = gObjCalDistance(lpObj,&gObj[number]);
; 7166 : 	//				if( dis < 4 )
; 7167 : 	//				{
; 7168 : 	//					ApplyPartyIndex[n] = lpPartyObj->m_Index;
; 7169 : 	//				}
; 7170 : 	//			}
; 7171 : 	//		}
; 7172 : 	//	}
; 7173 : 	//}
; 7174 : 
; 7175 : 	//int Time = 0;
; 7176 : 
; 7177 : 	//if( lpMagic->m_Skill == 267 )
; 7178 : 	//{
; 7179 : 	//	nEffectValue = 30 + (lpObj->Energy+lpObj->AddEnergy-132)/10;
; 7180 : 
; 7181 : 	//	if( 200 > 0 && nEffectValue > 200 )
; 7182 : 	//	{
; 7183 : 	//		nEffectValue = 200;
; 7184 : 	//	}
; 7185 : 
; 7186 : 	//	Time = 60+lpObj->Energy/5;
; 7187 : 	//	
; 7188 : 	//	//if( g_SkillAdditionInfo.m_IncreaseHealthTimeMax > 0 && Time > g_SkillAdditionInfo.m_IncreaseHealthTimeMax )
; 7189 : 	//	//{
; 7190 : 	//	//	Time = g_SkillAdditionInfo.m_IncreaseHealthTimeMax;
; 7191 : 	//	//}
; 7192 : 	//}
; 7193 : 	//else if( lpMagic->m_Skill == 268 )
; 7194 : 	//{
; 7195 : 	//	nEffectValue = 10 + (lpObj->Energy+lpObj->AddEnergy-80)/10;
; 7196 : 
; 7197 : 	//	if( 100 > 0 && nEffectValue > 100 )
; 7198 : 	//	{
; 7199 : 	//		nEffectValue = 100;
; 7200 : 	//	}
; 7201 : 
; 7202 : 	//	Time = 60+lpObj->Energy/5;
; 7203 : 	//	
; 7204 : 	//	//if( g_SkillAdditionInfo.m_IncreaseBlockTimeMax > 0 && Time > g_SkillAdditionInfo.m_IncreaseBlockTimeMax )
; 7205 : 	//	//{
; 7206 : 	//	//	Time = g_SkillAdditionInfo.m_IncreaseBlockTimeMax;
; 7207 : 	//	//}
; 7208 : 	//}
; 7209 : 	//else
; 7210 : 	//{
; 7211 : 	//	return FALSE;
; 7212 : 	//}
; 7213 : 
; 7214 : 	//if( partynum == -1 )
; 7215 : 	//{
; 7216 : 	//	if( lpMagic->m_Skill == 267 )
; 7217 : 	//	{
; 7218 : 	//		gObjApplyBuffEffectDuration(lpObj,130,11,nEffectValue,0,0,Time);
; 7219 : 	//		GCMagicAttackNumberSend(lpObj,267,lpObj->m_Index,TRUE);
; 7220 : 	//		gObjCalCharacter(lpObj->m_Index);
; 7221 : 	//	}
; 7222 : 	//	else if( lpMagic->m_Skill == 268 )
; 7223 : 	//	{
; 7224 : 	//		gObjApplyBuffEffectDuration(lpObj,131,74,nEffectValue,0,0,Time);
; 7225 : 	//		GCMagicAttackNumberSend(lpObj,268,lpObj->m_Index,TRUE);
; 7226 : 	//	}
; 7227 : 	//}
; 7228 : 	//else
; 7229 : 	//{
; 7230 : 	//	for(int n = 0; n < MAX_USER_IN_PARTY; n++)
; 7231 : 	//	{
; 7232 : 	//		if( ApplyPartyIndex[n] != -1 )
; 7233 : 	//		{
; 7234 : 	//			lpPartyObj = &gObj[ApplyPartyIndex[n]];
; 7235 : 	//			if( lpMagic->m_Skill == 267 )
; 7236 : 	//			{
; 7237 : 	//				gObjApplyBuffEffectDuration(lpPartyObj,130,11,nEffectValue,0,0,Time);
; 7238 : 	//				GCMagicAttackNumberSend(lpPartyObj,267,lpPartyObj->m_Index,TRUE);
; 7239 : 	//				gObjCalCharacter(lpPartyObj->m_Index);
; 7240 : 	//			}
; 7241 : 	//			else if( lpMagic->m_Skill == 268 )
; 7242 : 	//			{
; 7243 : 	//				//71, but why?
; 7244 : 	//				gObjApplyBuffEffectDuration(lpPartyObj,131,74,nEffectValue,0,0,Time);
; 7245 : 	//				GCMagicAttackNumberSend(lpPartyObj,268,lpPartyObj->m_Index,TRUE);
; 7246 : 	//			}
; 7247 : 	//		}
; 7248 : 	//	}
; 7249 : 	//}
; 7250 : 	//return TRUE;
; 7251 : 
; 7252 : 
; 7253 : 	int skillSuccess = TRUE;

  0dfc9	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _skillSuccess$[ebp], 1

; 7254 : 	LPOBJ lpObj = &gObj[aIndex];

  0dfd0	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0dfd3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0dfd9	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0dfdf	89 45 f0	 mov	 DWORD PTR _lpObj$[ebp], eax

; 7255 : 	int number;
; 7256 : 
; 7257 : 	if( lpObj->Type != OBJ_USER && lpObj->m_RecallMon == -1 )

  0dfe2	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0dfe5	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  0dfe9	83 f9 01	 cmp	 ecx, 1
  0dfec	74 13		 je	 SHORT $LN29@SkillMonkB@2
  0dfee	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0dff1	83 b8 50 04 00
	00 ff		 cmp	 DWORD PTR [eax+1104], -1
  0dff8	75 07		 jne	 SHORT $LN29@SkillMonkB@2

; 7258 : 		return FALSE;

  0dffa	33 c0		 xor	 eax, eax
  0dffc	e9 d4 03 00 00	 jmp	 $LN30@SkillMonkB@2
$LN29@SkillMonkB@2:

; 7259 : 
; 7260 : 	if( lpObj->Class != CLASS_MONK )

  0e001	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e004	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  0e00b	83 f9 06	 cmp	 ecx, 6
  0e00e	74 07		 je	 SHORT $LN28@SkillMonkB@2

; 7261 : 		return FALSE;

  0e010	33 c0		 xor	 eax, eax
  0e012	e9 be 03 00 00	 jmp	 $LN30@SkillMonkB@2
$LN28@SkillMonkB@2:

; 7262 : 
; 7263 : 	int partynum = 0;

  0e017	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _partynum$[ebp], 0

; 7264 : 	int partycount;
; 7265 : 	int dis;
; 7266 : 	int ApplyPartyIndex[MAX_USER_IN_PARTY];
; 7267 : 	int nEffectValue;
; 7268 : 	memset(ApplyPartyIndex,-1,sizeof(ApplyPartyIndex));

  0e01e	6a 28		 push	 40			; 00000028H
  0e020	6a ff		 push	 -1
  0e022	8d 45 b8	 lea	 eax, DWORD PTR _ApplyPartyIndex$[ebp]
  0e025	50		 push	 eax
  0e026	e8 00 00 00 00	 call	 _memset
  0e02b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 7269 : 	LPOBJ lpPartyObj;
; 7270 : 
; 7271 : 	partynum = lpObj->PartyNumber;

  0e02e	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e031	8b 88 2c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1068]
  0e037	89 4d e8	 mov	 DWORD PTR _partynum$[ebp], ecx

; 7272 : 
; 7273 : 	if( partynum != -1 )

  0e03a	83 7d e8 ff	 cmp	 DWORD PTR _partynum$[ebp], -1
  0e03e	0f 84 a0 00 00
	00		 je	 $LN24@SkillMonkB@2

; 7274 : 	{
; 7275 : 		partycount = gParty.m_PartyS[partynum].Count;

  0e044	8b 45 e8	 mov	 eax, DWORD PTR _partynum$[ebp]
  0e047	6b c0 6c	 imul	 eax, 108		; 0000006cH
  0e04a	8b 88 08 00 00
	00		 mov	 ecx, DWORD PTR ?gParty@@3VPartyClass@@A[eax+8]
  0e050	89 4d e4	 mov	 DWORD PTR _partycount$[ebp], ecx

; 7276 : 
; 7277 : 		for(int n = 0; n < MAX_USER_IN_PARTY; n++)

  0e053	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR _n$242409[ebp], 0
  0e05a	eb 09		 jmp	 SHORT $LN26@SkillMonkB@2
$LN25@SkillMonkB@2:
  0e05c	8b 45 ac	 mov	 eax, DWORD PTR _n$242409[ebp]
  0e05f	83 c0 01	 add	 eax, 1
  0e062	89 45 ac	 mov	 DWORD PTR _n$242409[ebp], eax
$LN26@SkillMonkB@2:
  0e065	83 7d ac 0a	 cmp	 DWORD PTR _n$242409[ebp], 10 ; 0000000aH
  0e069	7d 79		 jge	 SHORT $LN24@SkillMonkB@2

; 7278 : 		{
; 7279 : 			number = gParty.m_PartyS[partynum].Number[n];

  0e06b	8b 45 e8	 mov	 eax, DWORD PTR _partynum$[ebp]
  0e06e	6b c0 6c	 imul	 eax, 108		; 0000006cH
  0e071	8b 4d ac	 mov	 ecx, DWORD PTR _n$242409[ebp]
  0e074	8b 94 88 0c 00
	00 00		 mov	 edx, DWORD PTR ?gParty@@3VPartyClass@@A[eax+ecx*4+12]
  0e07b	89 55 ec	 mov	 DWORD PTR _number$[ebp], edx

; 7280 : 
; 7281 : 			if( number >= 0 )

  0e07e	83 7d ec 00	 cmp	 DWORD PTR _number$[ebp], 0
  0e082	7c 5b		 jl	 SHORT $LN21@SkillMonkB@2

; 7282 : 			{
; 7283 : 				lpPartyObj = &gObj[number];

  0e084	8b 45 ec	 mov	 eax, DWORD PTR _number$[ebp]
  0e087	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e08d	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e093	89 45 b0	 mov	 DWORD PTR _lpPartyObj$[ebp], eax

; 7284 : 
; 7285 : 
; 7286 : 				if( lpPartyObj->MapNumber == lpObj->MapNumber )

  0e096	8b 45 b0	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  0e099	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0e0a0	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e0a3	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  0e0aa	3b c8		 cmp	 ecx, eax
  0e0ac	75 31		 jne	 SHORT $LN21@SkillMonkB@2

; 7287 : 				{
; 7288 : 					dis = gObjCalDistance(lpObj,&gObj[number]);

  0e0ae	8b 45 ec	 mov	 eax, DWORD PTR _number$[ebp]
  0e0b1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e0b7	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e0bd	50		 push	 eax
  0e0be	8b 4d f0	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e0c1	51		 push	 ecx
  0e0c2	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  0e0c7	83 c4 08	 add	 esp, 8
  0e0ca	89 45 e0	 mov	 DWORD PTR _dis$[ebp], eax

; 7289 : 					if( dis < 4 )

  0e0cd	83 7d e0 04	 cmp	 DWORD PTR _dis$[ebp], 4
  0e0d1	7d 0c		 jge	 SHORT $LN21@SkillMonkB@2

; 7290 : 					{
; 7291 : 						ApplyPartyIndex[n] = lpPartyObj->m_Index;

  0e0d3	8b 45 ac	 mov	 eax, DWORD PTR _n$242409[ebp]
  0e0d6	8b 4d b0	 mov	 ecx, DWORD PTR _lpPartyObj$[ebp]
  0e0d9	8b 11		 mov	 edx, DWORD PTR [ecx]
  0e0db	89 54 85 b8	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+eax*4], edx
$LN21@SkillMonkB@2:

; 7292 : 					}
; 7293 : 				}
; 7294 : 			}
; 7295 : 		}

  0e0df	e9 78 ff ff ff	 jmp	 $LN25@SkillMonkB@2
$LN24@SkillMonkB@2:

; 7296 : 	}
; 7297 : 
; 7298 : 	int Time = 0;

  0e0e4	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR _Time$[ebp], 0

; 7299 : 
; 7300 : 	if( lpMagic->m_Skill == 267 )

  0e0eb	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e0ee	81 78 08 0b 01
	00 00		 cmp	 DWORD PTR [eax+8], 267	; 0000010bH
  0e0f5	0f 85 ab 00 00
	00		 jne	 $LN20@SkillMonkB@2

; 7301 : 	{
; 7302 : 		nEffectValue = g_SkillAdditionInfo.IncreaseHealthEffectStart + (lpObj->Energy+lpObj->AddEnergy-g_SkillAdditionInfo.IncreaseHealthEffectSub)/g_SkillAdditionInfo.IncreaseHealthEffectDiv;

  0e0fb	0f b7 05 e0 0b
	00 00		 movzx	 eax, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3040
  0e102	89 85 60 ff ff
	ff		 mov	 DWORD PTR tv276[ebp], eax
  0e108	db 85 60 ff ff
	ff		 fild	 DWORD PTR tv276[ebp]
  0e10e	8b 4d f0	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e111	0f b7 91 fa 00
	00 00		 movzx	 edx, WORD PTR [ecx+250]
  0e118	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e11b	0f bf 88 26 01
	00 00		 movsx	 ecx, WORD PTR [eax+294]
  0e122	03 d1		 add	 edx, ecx
  0e124	0f b7 05 e2 0b
	00 00		 movzx	 eax, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3042
  0e12b	2b d0		 sub	 edx, eax
  0e12d	89 95 5c ff ff
	ff		 mov	 DWORD PTR tv279[ebp], edx
  0e133	db 85 5c ff ff
	ff		 fild	 DWORD PTR tv279[ebp]
  0e139	d8 35 e4 0b 00
	00		 fdiv	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3044
  0e13f	de c1		 faddp	 ST(1), ST(0)
  0e141	e8 00 00 00 00	 call	 __ftol2_sse
  0e146	89 45 b4	 mov	 DWORD PTR _nEffectValue$[ebp], eax

; 7303 : 
; 7304 : 		if( g_SkillAdditionInfo.IncreaseHealthEffectMax > 0 && nEffectValue > g_SkillAdditionInfo.IncreaseHealthEffectMax )

  0e149	83 3d e8 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3048, 0
  0e150	76 13		 jbe	 SHORT $LN19@SkillMonkB@2
  0e152	8b 45 b4	 mov	 eax, DWORD PTR _nEffectValue$[ebp]
  0e155	3b 05 e8 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3048
  0e15b	76 08		 jbe	 SHORT $LN19@SkillMonkB@2

; 7305 : 		{
; 7306 : 			nEffectValue = g_SkillAdditionInfo.IncreaseHealthEffectMax;

  0e15d	a1 e8 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3048
  0e162	89 45 b4	 mov	 DWORD PTR _nEffectValue$[ebp], eax
$LN19@SkillMonkB@2:

; 7307 : 		}
; 7308 : 
; 7309 : 		Time = g_SkillAdditionInfo.IncreaseHealthTimeStart+lpObj->Energy/g_SkillAdditionInfo.IncreaseHealthTimeDiv;

  0e165	0f b7 0d ec 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3052
  0e16c	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e16f	0f b7 82 fa 00
	00 00		 movzx	 eax, WORD PTR [edx+250]
  0e176	0f b7 35 ee 0b
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3054
  0e17d	99		 cdq
  0e17e	f7 fe		 idiv	 esi
  0e180	03 c8		 add	 ecx, eax
  0e182	89 4d a8	 mov	 DWORD PTR _Time$[ebp], ecx

; 7310 : 
; 7311 : 		if( g_SkillAdditionInfo.IncreaseHealthTimeMax > 0 && Time > g_SkillAdditionInfo.IncreaseHealthTimeMax )

  0e185	83 3d f0 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3056, 0
  0e18c	76 13		 jbe	 SHORT $LN18@SkillMonkB@2
  0e18e	8b 45 a8	 mov	 eax, DWORD PTR _Time$[ebp]
  0e191	3b 05 f0 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3056
  0e197	76 08		 jbe	 SHORT $LN18@SkillMonkB@2

; 7312 : 		{
; 7313 : 			Time = g_SkillAdditionInfo.IncreaseHealthTimeMax;

  0e199	a1 f0 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3056
  0e19e	89 45 a8	 mov	 DWORD PTR _Time$[ebp], eax
$LN18@SkillMonkB@2:

; 7314 : 		}
; 7315 : 	}

  0e1a1	e9 a6 00 00 00	 jmp	 $LN13@SkillMonkB@2
$LN20@SkillMonkB@2:

; 7316 : 	else if( lpMagic->m_Skill == 268 )

  0e1a6	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e1a9	81 78 08 0c 01
	00 00		 cmp	 DWORD PTR [eax+8], 268	; 0000010cH
  0e1b0	0f 85 8f 00 00
	00		 jne	 $LN16@SkillMonkB@2

; 7317 : 	{
; 7318 : 		nEffectValue = g_SkillAdditionInfo.IncreaseBlockEffectStart + (lpObj->Energy+lpObj->AddEnergy-g_SkillAdditionInfo.IncreaseBlockEffectSub)/g_SkillAdditionInfo.IncreaseBlockEffectDiv;

  0e1b6	0f b7 0d f4 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3060
  0e1bd	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e1c0	0f b7 82 fa 00
	00 00		 movzx	 eax, WORD PTR [edx+250]
  0e1c7	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e1ca	0f bf 92 26 01
	00 00		 movsx	 edx, WORD PTR [edx+294]
  0e1d1	03 c2		 add	 eax, edx
  0e1d3	0f b7 15 f6 0b
	00 00		 movzx	 edx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3062
  0e1da	2b c2		 sub	 eax, edx
  0e1dc	0f b7 35 f8 0b
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3064
  0e1e3	99		 cdq
  0e1e4	f7 fe		 idiv	 esi
  0e1e6	03 c8		 add	 ecx, eax
  0e1e8	89 4d b4	 mov	 DWORD PTR _nEffectValue$[ebp], ecx

; 7319 : 
; 7320 : 		if( g_SkillAdditionInfo.IncreaseBlockEffectMax > 0 && nEffectValue > g_SkillAdditionInfo.IncreaseBlockEffectMax )

  0e1eb	83 3d fc 0b 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3068, 0
  0e1f2	76 13		 jbe	 SHORT $LN15@SkillMonkB@2
  0e1f4	8b 45 b4	 mov	 eax, DWORD PTR _nEffectValue$[ebp]
  0e1f7	3b 05 fc 0b 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3068
  0e1fd	76 08		 jbe	 SHORT $LN15@SkillMonkB@2

; 7321 : 		{
; 7322 : 			nEffectValue = g_SkillAdditionInfo.IncreaseBlockEffectMax;

  0e1ff	a1 fc 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3068
  0e204	89 45 b4	 mov	 DWORD PTR _nEffectValue$[ebp], eax
$LN15@SkillMonkB@2:

; 7323 : 		}
; 7324 : 
; 7325 : 		Time = g_SkillAdditionInfo.IncreaseBlockTimeStart+lpObj->Energy/g_SkillAdditionInfo.IncreaseBlockTimeDiv;

  0e207	0f b7 0d 00 0c
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3072
  0e20e	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e211	0f b7 82 fa 00
	00 00		 movzx	 eax, WORD PTR [edx+250]
  0e218	0f b7 35 02 0c
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3074
  0e21f	99		 cdq
  0e220	f7 fe		 idiv	 esi
  0e222	03 c8		 add	 ecx, eax
  0e224	89 4d a8	 mov	 DWORD PTR _Time$[ebp], ecx

; 7326 : 
; 7327 : 		if( g_SkillAdditionInfo.IncreaseBlockTimeMax > 0 && Time > g_SkillAdditionInfo.IncreaseBlockTimeMax )

  0e227	83 3d 04 0c 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3076, 0
  0e22e	76 13		 jbe	 SHORT $LN14@SkillMonkB@2
  0e230	8b 45 a8	 mov	 eax, DWORD PTR _Time$[ebp]
  0e233	3b 05 04 0c 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3076
  0e239	76 08		 jbe	 SHORT $LN14@SkillMonkB@2

; 7328 : 		{
; 7329 : 			Time = g_SkillAdditionInfo.IncreaseBlockTimeMax;

  0e23b	a1 04 0c 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3076
  0e240	89 45 a8	 mov	 DWORD PTR _Time$[ebp], eax
$LN14@SkillMonkB@2:

; 7330 : 		}
; 7331 : 	}
; 7332 : 	else

  0e243	eb 07		 jmp	 SHORT $LN13@SkillMonkB@2
$LN16@SkillMonkB@2:

; 7333 : 	{
; 7334 : 		return FALSE;

  0e245	33 c0		 xor	 eax, eax
  0e247	e9 89 01 00 00	 jmp	 $LN30@SkillMonkB@2
$LN13@SkillMonkB@2:

; 7335 : 	}
; 7336 : 
; 7337 : 	if( partynum == -1 )

  0e24c	83 7d e8 ff	 cmp	 DWORD PTR _partynum$[ebp], -1
  0e250	0f 85 9d 00 00
	00		 jne	 $LN12@SkillMonkB@2

; 7338 : 	{
; 7339 : 		if( lpMagic->m_Skill == 267 )

  0e256	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e259	81 78 08 0b 01
	00 00		 cmp	 DWORD PTR [eax+8], 267	; 0000010bH
  0e260	75 48		 jne	 SHORT $LN11@SkillMonkB@2

; 7340 : 		{
; 7341 : 			gObjApplyBuffEffectDuration(lpObj,130,ADD_OPTION_VITALITY_MONK,nEffectValue,0,0,Time);

  0e262	8b 45 a8	 mov	 eax, DWORD PTR _Time$[ebp]
  0e265	50		 push	 eax
  0e266	6a 00		 push	 0
  0e268	6a 00		 push	 0
  0e26a	8b 4d b4	 mov	 ecx, DWORD PTR _nEffectValue$[ebp]
  0e26d	51		 push	 ecx
  0e26e	6a 0b		 push	 11			; 0000000bH
  0e270	68 82 00 00 00	 push	 130			; 00000082H
  0e275	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e278	52		 push	 edx
  0e279	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0e27e	83 c4 1c	 add	 esp, 28			; 0000001cH

; 7342 : 			GCMagicAttackNumberSend(lpObj,267,lpObj->m_Index,TRUE);

  0e281	6a 01		 push	 1
  0e283	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e286	8b 08		 mov	 ecx, DWORD PTR [eax]
  0e288	51		 push	 ecx
  0e289	68 0b 01 00 00	 push	 267			; 0000010bH
  0e28e	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e291	52		 push	 edx
  0e292	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0e297	83 c4 10	 add	 esp, 16			; 00000010H

; 7343 : 			gObjCalCharacter(lpObj->m_Index);

  0e29a	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e29d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0e29f	51		 push	 ecx
  0e2a0	e8 00 00 00 00	 call	 ?gObjCalCharacter@@YAXH@Z ; gObjCalCharacter
  0e2a5	83 c4 04	 add	 esp, 4
  0e2a8	eb 44		 jmp	 SHORT $LN9@SkillMonkB@2
$LN11@SkillMonkB@2:

; 7344 : 		}
; 7345 : 		else if( lpMagic->m_Skill == 268 )

  0e2aa	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e2ad	81 78 08 0c 01
	00 00		 cmp	 DWORD PTR [eax+8], 268	; 0000010cH
  0e2b4	75 38		 jne	 SHORT $LN9@SkillMonkB@2

; 7346 : 		{
; 7347 : 			gObjApplyBuffEffectDuration(lpObj,131,ADD_OPTION_SUCCESSFULBLOCKING,nEffectValue,0,0,Time);

  0e2b6	8b 45 a8	 mov	 eax, DWORD PTR _Time$[ebp]
  0e2b9	50		 push	 eax
  0e2ba	6a 00		 push	 0
  0e2bc	6a 00		 push	 0
  0e2be	8b 4d b4	 mov	 ecx, DWORD PTR _nEffectValue$[ebp]
  0e2c1	51		 push	 ecx
  0e2c2	6a 4a		 push	 74			; 0000004aH
  0e2c4	68 83 00 00 00	 push	 131			; 00000083H
  0e2c9	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e2cc	52		 push	 edx
  0e2cd	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0e2d2	83 c4 1c	 add	 esp, 28			; 0000001cH

; 7348 : 			GCMagicAttackNumberSend(lpObj,268,lpObj->m_Index,TRUE);

  0e2d5	6a 01		 push	 1
  0e2d7	8b 45 f0	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e2da	8b 08		 mov	 ecx, DWORD PTR [eax]
  0e2dc	51		 push	 ecx
  0e2dd	68 0c 01 00 00	 push	 268			; 0000010cH
  0e2e2	8b 55 f0	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e2e5	52		 push	 edx
  0e2e6	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0e2eb	83 c4 10	 add	 esp, 16			; 00000010H
$LN9@SkillMonkB@2:

; 7349 : 		}
; 7350 : 	}
; 7351 : 	else

  0e2ee	e9 dd 00 00 00	 jmp	 $LN5@SkillMonkB@2
$LN12@SkillMonkB@2:

; 7352 : 	{
; 7353 : 		for(int n = 0; n < MAX_USER_IN_PARTY; n++)

  0e2f3	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _n$242430[ebp], 0
  0e2fa	eb 09		 jmp	 SHORT $LN7@SkillMonkB@2
$LN6@SkillMonkB@2:
  0e2fc	8b 45 a4	 mov	 eax, DWORD PTR _n$242430[ebp]
  0e2ff	83 c0 01	 add	 eax, 1
  0e302	89 45 a4	 mov	 DWORD PTR _n$242430[ebp], eax
$LN7@SkillMonkB@2:
  0e305	83 7d a4 0a	 cmp	 DWORD PTR _n$242430[ebp], 10 ; 0000000aH
  0e309	0f 8d c1 00 00
	00		 jge	 $LN5@SkillMonkB@2

; 7354 : 		{
; 7355 : 			if( ApplyPartyIndex[n] != -1 )

  0e30f	8b 45 a4	 mov	 eax, DWORD PTR _n$242430[ebp]
  0e312	83 7c 85 b8 ff	 cmp	 DWORD PTR _ApplyPartyIndex$[ebp+eax*4], -1
  0e317	0f 84 ae 00 00
	00		 je	 $LN1@SkillMonkB@2

; 7356 : 			{
; 7357 : 				lpPartyObj = &gObj[ApplyPartyIndex[n]];

  0e31d	8b 45 a4	 mov	 eax, DWORD PTR _n$242430[ebp]
  0e320	8b 4c 85 b8	 mov	 ecx, DWORD PTR _ApplyPartyIndex$[ebp+eax*4]
  0e324	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0e32a	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e330	89 4d b0	 mov	 DWORD PTR _lpPartyObj$[ebp], ecx

; 7358 : 				if( lpMagic->m_Skill == 267 )

  0e333	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e336	81 78 08 0b 01
	00 00		 cmp	 DWORD PTR [eax+8], 267	; 0000010bH
  0e33d	75 48		 jne	 SHORT $LN3@SkillMonkB@2

; 7359 : 				{
; 7360 : 					gObjApplyBuffEffectDuration(lpPartyObj,130,ADD_OPTION_VITALITY_MONK,nEffectValue,0,0,Time);

  0e33f	8b 45 a8	 mov	 eax, DWORD PTR _Time$[ebp]
  0e342	50		 push	 eax
  0e343	6a 00		 push	 0
  0e345	6a 00		 push	 0
  0e347	8b 4d b4	 mov	 ecx, DWORD PTR _nEffectValue$[ebp]
  0e34a	51		 push	 ecx
  0e34b	6a 0b		 push	 11			; 0000000bH
  0e34d	68 82 00 00 00	 push	 130			; 00000082H
  0e352	8b 55 b0	 mov	 edx, DWORD PTR _lpPartyObj$[ebp]
  0e355	52		 push	 edx
  0e356	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0e35b	83 c4 1c	 add	 esp, 28			; 0000001cH

; 7361 : 					GCMagicAttackNumberSend(lpPartyObj,267,lpPartyObj->m_Index,TRUE);

  0e35e	6a 01		 push	 1
  0e360	8b 45 b0	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  0e363	8b 08		 mov	 ecx, DWORD PTR [eax]
  0e365	51		 push	 ecx
  0e366	68 0b 01 00 00	 push	 267			; 0000010bH
  0e36b	8b 55 b0	 mov	 edx, DWORD PTR _lpPartyObj$[ebp]
  0e36e	52		 push	 edx
  0e36f	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0e374	83 c4 10	 add	 esp, 16			; 00000010H

; 7362 : 					gObjCalCharacter(lpPartyObj->m_Index);

  0e377	8b 45 b0	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  0e37a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0e37c	51		 push	 ecx
  0e37d	e8 00 00 00 00	 call	 ?gObjCalCharacter@@YAXH@Z ; gObjCalCharacter
  0e382	83 c4 04	 add	 esp, 4
  0e385	eb 44		 jmp	 SHORT $LN1@SkillMonkB@2
$LN3@SkillMonkB@2:

; 7363 : 				}
; 7364 : 				else if( lpMagic->m_Skill == 268 )

  0e387	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e38a	81 78 08 0c 01
	00 00		 cmp	 DWORD PTR [eax+8], 268	; 0000010cH
  0e391	75 38		 jne	 SHORT $LN1@SkillMonkB@2

; 7365 : 				{
; 7366 : 					//71, but why?
; 7367 : 					gObjApplyBuffEffectDuration(lpPartyObj,131,ADD_OPTION_SUCCESSFULBLOCKING,nEffectValue,0,0,Time);

  0e393	8b 45 a8	 mov	 eax, DWORD PTR _Time$[ebp]
  0e396	50		 push	 eax
  0e397	6a 00		 push	 0
  0e399	6a 00		 push	 0
  0e39b	8b 4d b4	 mov	 ecx, DWORD PTR _nEffectValue$[ebp]
  0e39e	51		 push	 ecx
  0e39f	6a 4a		 push	 74			; 0000004aH
  0e3a1	68 83 00 00 00	 push	 131			; 00000083H
  0e3a6	8b 55 b0	 mov	 edx, DWORD PTR _lpPartyObj$[ebp]
  0e3a9	52		 push	 edx
  0e3aa	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0e3af	83 c4 1c	 add	 esp, 28			; 0000001cH

; 7368 : 					GCMagicAttackNumberSend(lpPartyObj,268,lpPartyObj->m_Index,TRUE);

  0e3b2	6a 01		 push	 1
  0e3b4	8b 45 b0	 mov	 eax, DWORD PTR _lpPartyObj$[ebp]
  0e3b7	8b 08		 mov	 ecx, DWORD PTR [eax]
  0e3b9	51		 push	 ecx
  0e3ba	68 0c 01 00 00	 push	 268			; 0000010cH
  0e3bf	8b 55 b0	 mov	 edx, DWORD PTR _lpPartyObj$[ebp]
  0e3c2	52		 push	 edx
  0e3c3	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0e3c8	83 c4 10	 add	 esp, 16			; 00000010H
$LN1@SkillMonkB@2:

; 7369 : 				}
; 7370 : 			}
; 7371 : 		}

  0e3cb	e9 2c ff ff ff	 jmp	 $LN6@SkillMonkB@2
$LN5@SkillMonkB@2:

; 7372 : 	}
; 7373 : 	return TRUE;

  0e3d0	b8 01 00 00 00	 mov	 eax, 1
$LN30@SkillMonkB@2:

; 7374 : }

  0e3d5	5f		 pop	 edi
  0e3d6	5e		 pop	 esi
  0e3d7	5b		 pop	 ebx
  0e3d8	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0e3db	33 cd		 xor	 ecx, ebp
  0e3dd	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0e3e2	8b e5		 mov	 esp, ebp
  0e3e4	5d		 pop	 ebp
  0e3e5	c2 08 00	 ret	 8
?SkillMonkBuffApplyParty@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillMonkBuffApplyParty
_TEXT	ENDS
PUBLIC	??_C@_0FA@JGPGPLCI@?$FLInvalidTargetIndex?$FN?$FLSkillMonkBa@ ; `string'
;	COMDAT ??_C@_0FA@JGPGPLCI@?$FLInvalidTargetIndex?$FN?$FLSkillMonkBa@
CONST	SEGMENT
??_C@_0FA@JGPGPLCI@?$FLInvalidTargetIndex?$FN?$FLSkillMonkBa@ DB '[Invali'
	DB	'dTargetIndex][SkillMonkBarrageJustOneTarget] Index :%d , Acco'
	DB	'untID : %s ', 00H				; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv70 = -108						; size = 4
_i$242484 = -40						; size = 4
_nMaxBarrageCount$242467 = -36				; size = 4
_CallMonIndex$242463 = -32				; size = 4
_lpTargetObj$ = -28					; size = 4
_EnableAttack$ = -24					; size = 4
_DuelIndex$ = -20					; size = 4
_nViewPortObjectCount$ = -16				; size = 4
_nTargetObjNum$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_aTargetIndex$ = 16					; size = 4
?SkillMonkBarrageJustOneTarget@CObjUseSkill@@QAEXHPAVCMagicInf@@H@Z PROC ; CObjUseSkill::SkillMonkBarrageJustOneTarget
; _this$ = ecx

; 7380 : {

  0e3f0	55		 push	 ebp
  0e3f1	8b ec		 mov	 ebp, esp
  0e3f3	83 ec 6c	 sub	 esp, 108		; 0000006cH
  0e3f6	53		 push	 ebx
  0e3f7	56		 push	 esi
  0e3f8	57		 push	 edi
  0e3f9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 7381 : 	LPOBJ lpObj = &gObj[aIndex];

  0e3fc	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0e3ff	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e405	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e40b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 7382 : 	int nTargetObjNum = 0;

  0e40e	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _nTargetObjNum$[ebp], 0

; 7383 : 	int nViewPortObjectCount = 0;

  0e415	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _nViewPortObjectCount$[ebp], 0

; 7384 : 	int DuelIndex = lpObj->m_iDuelUser;

  0e41c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e41f	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0e425	89 4d ec	 mov	 DWORD PTR _DuelIndex$[ebp], ecx

; 7385 : 
; 7386 : 	if( !OBJMAX_RANGE(aTargetIndex) )

  0e428	83 7d 10 00	 cmp	 DWORD PTR _aTargetIndex$[ebp], 0
  0e42c	7d 09		 jge	 SHORT $LN39@SkillMonkB@3
  0e42e	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
  0e435	eb 0f		 jmp	 SHORT $LN40@SkillMonkB@3
$LN39@SkillMonkB@3:
  0e437	33 c0		 xor	 eax, eax
  0e439	81 7d 10 97 3a
	00 00		 cmp	 DWORD PTR _aTargetIndex$[ebp], 14999 ; 00003a97H
  0e440	0f 9e c0	 setle	 al
  0e443	89 45 94	 mov	 DWORD PTR tv70[ebp], eax
$LN40@SkillMonkB@3:
  0e446	83 7d 94 00	 cmp	 DWORD PTR tv70[ebp], 0
  0e44a	75 2b		 jne	 SHORT $LN36@SkillMonkB@3

; 7387 : 	{
; 7388 : 		LogAddTD("[InvalidTargetIndex][SkillMonkBarrageJustOneTarget] Index :%d , AccountID : %s ",
; 7389 : 			aIndex,gObj[aIndex].AccountID);

  0e44c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0e44f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e455	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e45b	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  0e45f	52		 push	 edx
  0e460	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0e463	50		 push	 eax
  0e464	68 00 00 00 00	 push	 OFFSET ??_C@_0FA@JGPGPLCI@?$FLInvalidTargetIndex?$FN?$FLSkillMonkBa@
  0e469	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0e46f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 7390 : 		return;

  0e472	e9 02 04 00 00	 jmp	 $LN37@SkillMonkB@3
$LN36@SkillMonkB@3:

; 7391 : 	}
; 7392 : 
; 7393 : 	int EnableAttack;
; 7394 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  0e477	8b 45 10	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0e47a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e480	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e486	89 45 e4	 mov	 DWORD PTR _lpTargetObj$[ebp], eax
$LN35@SkillMonkB@3:

; 7395 : 
; 7396 : 	while( TRUE )

  0e489	b8 01 00 00 00	 mov	 eax, 1
  0e48e	85 c0		 test	 eax, eax
  0e490	0f 84 e3 03 00
	00		 je	 $LN37@SkillMonkB@3

; 7397 : 	{
; 7398 : 		if( lpObj->VpPlayer2[nViewPortObjectCount].state != 0 )

  0e496	8b 45 f0	 mov	 eax, DWORD PTR _nViewPortObjectCount$[ebp]
  0e499	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0e49c	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e49f	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0e4a7	85 d2		 test	 edx, edx
  0e4a9	0f 84 b4 03 00
	00		 je	 $LN33@SkillMonkB@3

; 7399 : 		{
; 7400 : 			nTargetObjNum = lpObj->VpPlayer2[nViewPortObjectCount].number;

  0e4af	8b 45 f0	 mov	 eax, DWORD PTR _nViewPortObjectCount$[ebp]
  0e4b2	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0e4b5	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e4b8	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0e4c0	89 55 f4	 mov	 DWORD PTR _nTargetObjNum$[ebp], edx

; 7401 : 
; 7402 : 			if( nTargetObjNum >= 0 && nTargetObjNum == aTargetIndex )

  0e4c3	83 7d f4 00	 cmp	 DWORD PTR _nTargetObjNum$[ebp], 0
  0e4c7	0f 8c 96 03 00
	00		 jl	 $LN33@SkillMonkB@3
  0e4cd	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0e4d0	3b 45 10	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0e4d3	0f 85 8a 03 00
	00		 jne	 $LN33@SkillMonkB@3

; 7403 : 			{
; 7404 : 				EnableAttack = FALSE;

  0e4d9	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 7405 : 
; 7406 : 				if(lpObj->VpPlayer2[nViewPortObjectCount].type == OBJ_USER )

  0e4e0	8b 45 f0	 mov	 eax, DWORD PTR _nViewPortObjectCount$[ebp]
  0e4e3	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0e4e6	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e4e9	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0e4f1	83 fa 01	 cmp	 edx, 1
  0e4f4	75 0c		 jne	 SHORT $LN31@SkillMonkB@3

; 7407 : 				{
; 7408 : 					EnableAttack = TRUE;

  0e4f6	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  0e4fd	e9 db 00 00 00	 jmp	 $LN30@SkillMonkB@3
$LN31@SkillMonkB@3:

; 7409 : 				}
; 7410 : 				else if( lpTargetObj->Type == OBJ_MONSTER && gObj[nTargetObjNum].m_RecallMon < 0 )

  0e502	8b 45 e4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0e505	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  0e509	83 f9 02	 cmp	 ecx, 2
  0e50c	75 25		 jne	 SHORT $LN29@SkillMonkB@3
  0e50e	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0e511	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e517	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e51d	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0e525	7d 0c		 jge	 SHORT $LN29@SkillMonkB@3

; 7411 : 				{
; 7412 : 					EnableAttack = TRUE;

  0e527	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  0e52e	e9 aa 00 00 00	 jmp	 $LN30@SkillMonkB@3
$LN29@SkillMonkB@3:

; 7413 : 				}
; 7414 : 				else if( nTargetObjNum == DuelIndex )

  0e533	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0e536	3b 45 ec	 cmp	 eax, DWORD PTR _DuelIndex$[ebp]
  0e539	75 0c		 jne	 SHORT $LN27@SkillMonkB@3

; 7415 : 				{
; 7416 : 					EnableAttack = TRUE;

  0e53b	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 7417 : 				}
; 7418 : 				else

  0e542	e9 96 00 00 00	 jmp	 $LN30@SkillMonkB@3
$LN27@SkillMonkB@3:

; 7419 : 				{
; 7420 : 					int CallMonIndex = gObj[nTargetObjNum].m_Index;

  0e547	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0e54a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e550	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e556	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0e559	89 55 e0	 mov	 DWORD PTR _CallMonIndex$242463[ebp], edx

; 7421 : 
; 7422 : 					if(gObj[nTargetObjNum].Type == OBJ_MONSTER && gObj[nTargetObjNum].m_RecallMon >= 0)

  0e55c	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0e55f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e565	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e56b	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0e570	83 fa 02	 cmp	 edx, 2
  0e573	75 40		 jne	 SHORT $LN25@SkillMonkB@3
  0e575	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0e578	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e57e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e584	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0e58c	7c 27		 jl	 SHORT $LN25@SkillMonkB@3

; 7423 : 					{
; 7424 : 						CallMonIndex = gObj[gObj[nTargetObjNum].m_RecallMon].m_Index;

  0e58e	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0e591	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e597	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e59d	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0e5a4	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0e5aa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e5af	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0e5b2	89 4d e0	 mov	 DWORD PTR _CallMonIndex$242463[ebp], ecx
$LN25@SkillMonkB@3:

; 7425 : 					}
; 7426 : 
; 7427 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  0e5b5	8b 45 e0	 mov	 eax, DWORD PTR _CallMonIndex$242463[ebp]
  0e5b8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e5be	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e5c4	50		 push	 eax
  0e5c5	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e5c8	51		 push	 ecx
  0e5c9	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0e5ce	83 c4 08	 add	 esp, 8
  0e5d1	83 f8 01	 cmp	 eax, 1
  0e5d4	75 07		 jne	 SHORT $LN30@SkillMonkB@3

; 7428 : 					{
; 7429 : 						EnableAttack = TRUE;

  0e5d6	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN30@SkillMonkB@3:

; 7430 : 					}
; 7431 : 				}
; 7432 : 
; 7433 : 				if( EnableAttack != FALSE && CalDistance(gObj[aTargetIndex].X,gObj[aTargetIndex].Y,gObj[nTargetObjNum].X,gObj[nTargetObjNum].Y) < 4 )

  0e5dd	83 7d e8 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  0e5e1	0f 84 7a 02 00
	00		 je	 $LN23@SkillMonkB@3
  0e5e7	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0e5ea	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e5f0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e5f6	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0e5fe	52		 push	 edx
  0e5ff	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0e602	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e608	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e60e	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0e616	52		 push	 edx
  0e617	8b 45 10	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0e61a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e620	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e626	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0e62e	52		 push	 edx
  0e62f	8b 45 10	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0e632	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e638	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e63e	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0e646	52		 push	 edx
  0e647	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0e64a	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  0e64f	83 f8 04	 cmp	 eax, 4
  0e652	0f 8d 09 02 00
	00		 jge	 $LN23@SkillMonkB@3

; 7434 : 				{
; 7435 : 					int nMaxBarrageCount = 0;

  0e658	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _nMaxBarrageCount$242467[ebp], 0

; 7436 : 
; 7437 : 					if( lpMagic->m_Skill == 260 )

  0e65f	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e662	81 78 08 04 01
	00 00		 cmp	 DWORD PTR [eax+8], 260	; 00000104H
  0e669	75 09		 jne	 SHORT $LN22@SkillMonkB@3

; 7438 : 					{
; 7439 : 						nMaxBarrageCount = 5;

  0e66b	c7 45 dc 05 00
	00 00		 mov	 DWORD PTR _nMaxBarrageCount$242467[ebp], 5
  0e672	eb 46		 jmp	 SHORT $LN21@SkillMonkB@3
$LN22@SkillMonkB@3:

; 7440 : 					}
; 7441 : 					else if( lpMagic->m_Skill == 261 )

  0e674	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e677	81 78 08 05 01
	00 00		 cmp	 DWORD PTR [eax+8], 261	; 00000105H
  0e67e	75 09		 jne	 SHORT $LN20@SkillMonkB@3

; 7442 : 					{
; 7443 : 						nMaxBarrageCount = 3;

  0e680	c7 45 dc 03 00
	00 00		 mov	 DWORD PTR _nMaxBarrageCount$242467[ebp], 3
  0e687	eb 31		 jmp	 SHORT $LN21@SkillMonkB@3
$LN20@SkillMonkB@3:

; 7444 : 					}
; 7445 : 					else if( lpMagic->m_Skill == 262 )

  0e689	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e68c	81 78 08 06 01
	00 00		 cmp	 DWORD PTR [eax+8], 262	; 00000106H
  0e693	75 09		 jne	 SHORT $LN18@SkillMonkB@3

; 7446 : 					{
; 7447 : 						nMaxBarrageCount = 5;

  0e695	c7 45 dc 05 00
	00 00		 mov	 DWORD PTR _nMaxBarrageCount$242467[ebp], 5
  0e69c	eb 1c		 jmp	 SHORT $LN21@SkillMonkB@3
$LN18@SkillMonkB@3:

; 7448 : 					}
; 7449 : 					else if( lpMagic->m_Skill == 263 )

  0e69e	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e6a1	81 78 08 07 01
	00 00		 cmp	 DWORD PTR [eax+8], 263	; 00000107H
  0e6a8	75 09		 jne	 SHORT $LN16@SkillMonkB@3

; 7450 : 					{
; 7451 : 						nMaxBarrageCount = 3;

  0e6aa	c7 45 dc 03 00
	00 00		 mov	 DWORD PTR _nMaxBarrageCount$242467[ebp], 3

; 7452 : 					}
; 7453 : 					else

  0e6b1	eb 07		 jmp	 SHORT $LN21@SkillMonkB@3
$LN16@SkillMonkB@3:

; 7454 : 					{
; 7455 : 						nMaxBarrageCount = 0;

  0e6b3	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _nMaxBarrageCount$242467[ebp], 0
$LN21@SkillMonkB@3:

; 7456 : 					}
; 7457 : 
; 7458 : 					if( lpMagic->m_Skill == 260 && rand()%100 < 10 )

  0e6ba	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e6bd	81 78 08 04 01
	00 00		 cmp	 DWORD PTR [eax+8], 260	; 00000104H
  0e6c4	75 17		 jne	 SHORT $LN14@SkillMonkB@3
  0e6c6	e8 00 00 00 00	 call	 _rand
  0e6cb	99		 cdq
  0e6cc	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0e6d1	f7 f9		 idiv	 ecx
  0e6d3	83 fa 0a	 cmp	 edx, 10			; 0000000aH
  0e6d6	7d 05		 jge	 SHORT $LN14@SkillMonkB@3
  0e6d8	e9 0f 01 00 00	 jmp	 $LN13@SkillMonkB@3
$LN14@SkillMonkB@3:

; 7459 : 					{
; 7460 : 						//gObjApplyBuffEffectDuration(lpTargetObj, 76, 29, 5, 0, 0, 10);
; 7461 : 					}
; 7462 : 					else if( lpMagic->m_Skill == 261 && rand()%100 < 10 )

  0e6dd	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e6e0	81 78 08 05 01
	00 00		 cmp	 DWORD PTR [eax+8], 261	; 00000105H
  0e6e7	75 2f		 jne	 SHORT $LN12@SkillMonkB@3
  0e6e9	e8 00 00 00 00	 call	 _rand
  0e6ee	99		 cdq
  0e6ef	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0e6f4	f7 f9		 idiv	 ecx
  0e6f6	83 fa 0a	 cmp	 edx, 10			; 0000000aH
  0e6f9	7d 1d		 jge	 SHORT $LN12@SkillMonkB@3

; 7463 : 					{
; 7464 : 						gObjApplyBuffEffectDuration(lpTargetObj, 58, 23,10,0,0,10);

  0e6fb	6a 0a		 push	 10			; 0000000aH
  0e6fd	6a 00		 push	 0
  0e6ff	6a 00		 push	 0
  0e701	6a 0a		 push	 10			; 0000000aH
  0e703	6a 17		 push	 23			; 00000017H
  0e705	6a 3a		 push	 58			; 0000003aH
  0e707	8b 45 e4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0e70a	50		 push	 eax
  0e70b	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0e710	83 c4 1c	 add	 esp, 28			; 0000001cH
  0e713	e9 d4 00 00 00	 jmp	 $LN13@SkillMonkB@3
$LN12@SkillMonkB@3:

; 7465 : 					}
; 7466 : 					else if( lpMagic->m_Skill == 262 && rand()%100 < 40 )

  0e718	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e71b	81 78 08 06 01
	00 00		 cmp	 DWORD PTR [eax+8], 262	; 00000106H
  0e722	0f 85 c4 00 00
	00		 jne	 $LN13@SkillMonkB@3
  0e728	e8 00 00 00 00	 call	 _rand
  0e72d	99		 cdq
  0e72e	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0e733	f7 f9		 idiv	 ecx
  0e735	83 fa 28	 cmp	 edx, 40			; 00000028H
  0e738	0f 8d ae 00 00
	00		 jge	 $LN13@SkillMonkB@3

; 7467 : 					{
; 7468 : 						if(gGENS)

  0e73e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gGENS@@3HA, 0 ; gGENS
  0e745	74 6a		 je	 SHORT $LN9@SkillMonkB@3

; 7469 : 						{
; 7470 : 							if(lpObj->m_GensInfluence != lpTargetObj->m_GensInfluence && gGensSystem.IsMapBattleZone(lpObj->MapNumber))

  0e747	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e74a	8b 4d e4	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  0e74d	8b 90 c4 22 00
	00		 mov	 edx, DWORD PTR [eax+8900]
  0e753	3b 91 c4 22 00
	00		 cmp	 edx, DWORD PTR [ecx+8900]
  0e759	74 54		 je	 SHORT $LN8@SkillMonkB@3
  0e75b	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e75e	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0e765	51		 push	 ecx
  0e766	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  0e76b	e8 00 00 00 00	 call	 ?IsMapBattleZone@GensSystem@@QAEHH@Z ; GensSystem::IsMapBattleZone
  0e770	85 c0		 test	 eax, eax
  0e772	74 3b		 je	 SHORT $LN8@SkillMonkB@3

; 7471 : 							{
; 7472 : 								lpTargetObj->lpAttackObj = lpObj;

  0e774	8b 45 e4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0e777	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e77a	89 88 d4 03 00
	00		 mov	 DWORD PTR [eax+980], ecx

; 7473 : 								lpTargetObj->DelayActionTime = 1000;

  0e780	8b 45 e4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0e783	c7 80 c0 03 00
	00 e8 03 00 00	 mov	 DWORD PTR [eax+960], 1000 ; 000003e8H

; 7474 : 								lpTargetObj->DelayLevel = 1;

  0e78d	8b 45 e4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0e790	c6 80 c4 03 00
	00 01		 mov	 BYTE PTR [eax+964], 1

; 7475 : 								gObjApplyBuffEffectDuration(lpTargetObj,86,20,0,0,0,10);

  0e797	6a 0a		 push	 10			; 0000000aH
  0e799	6a 00		 push	 0
  0e79b	6a 00		 push	 0
  0e79d	6a 00		 push	 0
  0e79f	6a 14		 push	 20			; 00000014H
  0e7a1	6a 56		 push	 86			; 00000056H
  0e7a3	8b 45 e4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0e7a6	50		 push	 eax
  0e7a7	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0e7ac	83 c4 1c	 add	 esp, 28			; 0000001cH
$LN8@SkillMonkB@3:

; 7476 : 							}
; 7477 : 						}
; 7478 : 						else

  0e7af	eb 3b		 jmp	 SHORT $LN13@SkillMonkB@3
$LN9@SkillMonkB@3:

; 7479 : 						{
; 7480 : 							lpTargetObj->lpAttackObj = lpObj;

  0e7b1	8b 45 e4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0e7b4	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e7b7	89 88 d4 03 00
	00		 mov	 DWORD PTR [eax+980], ecx

; 7481 : 							lpTargetObj->DelayActionTime = 1000;

  0e7bd	8b 45 e4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0e7c0	c7 80 c0 03 00
	00 e8 03 00 00	 mov	 DWORD PTR [eax+960], 1000 ; 000003e8H

; 7482 : 							lpTargetObj->DelayLevel = 1;

  0e7ca	8b 45 e4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0e7cd	c6 80 c4 03 00
	00 01		 mov	 BYTE PTR [eax+964], 1

; 7483 : 							gObjApplyBuffEffectDuration(lpTargetObj,86,20,0,0,0,10);

  0e7d4	6a 0a		 push	 10			; 0000000aH
  0e7d6	6a 00		 push	 0
  0e7d8	6a 00		 push	 0
  0e7da	6a 00		 push	 0
  0e7dc	6a 14		 push	 20			; 00000014H
  0e7de	6a 56		 push	 86			; 00000056H
  0e7e0	8b 45 e4	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  0e7e3	50		 push	 eax
  0e7e4	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0e7e9	83 c4 1c	 add	 esp, 28			; 0000001cH
$LN13@SkillMonkB@3:

; 7484 : 						}
; 7485 : 					}
; 7486 : 
; 7487 : 					for(int i = 1; i < nMaxBarrageCount; i++)

  0e7ec	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _i$242484[ebp], 1
  0e7f3	eb 09		 jmp	 SHORT $LN6@SkillMonkB@3
$LN5@SkillMonkB@3:
  0e7f5	8b 45 d8	 mov	 eax, DWORD PTR _i$242484[ebp]
  0e7f8	83 c0 01	 add	 eax, 1
  0e7fb	89 45 d8	 mov	 DWORD PTR _i$242484[ebp], eax
$LN6@SkillMonkB@3:
  0e7fe	8b 45 d8	 mov	 eax, DWORD PTR _i$242484[ebp]
  0e801	3b 45 dc	 cmp	 eax, DWORD PTR _nMaxBarrageCount$242467[ebp]
  0e804	7d 5b		 jge	 SHORT $LN23@SkillMonkB@3

; 7488 : 					{
; 7489 : 						if( i%(nMaxBarrageCount-1) == TRUE  )

  0e806	8b 4d dc	 mov	 ecx, DWORD PTR _nMaxBarrageCount$242467[ebp]
  0e809	83 e9 01	 sub	 ecx, 1
  0e80c	8b 45 d8	 mov	 eax, DWORD PTR _i$242484[ebp]
  0e80f	99		 cdq
  0e810	f7 f9		 idiv	 ecx
  0e812	83 fa 01	 cmp	 edx, 1
  0e815	75 25		 jne	 SHORT $LN3@SkillMonkB@3

; 7490 : 						{
; 7491 : 							gObjAttack(lpObj,lpTargetObj,lpMagic,TRUE,TRUE,0,0,i,0);

  0e817	6a 00		 push	 0
  0e819	0f b6 45 d8	 movzx	 eax, BYTE PTR _i$242484[ebp]
  0e81d	50		 push	 eax
  0e81e	6a 00		 push	 0
  0e820	6a 00		 push	 0
  0e822	6a 01		 push	 1
  0e824	6a 01		 push	 1
  0e826	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0e829	51		 push	 ecx
  0e82a	8b 55 e4	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  0e82d	52		 push	 edx
  0e82e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e831	50		 push	 eax
  0e832	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0e837	83 c4 24	 add	 esp, 36			; 00000024H

; 7492 : 						}
; 7493 : 						else

  0e83a	eb 23		 jmp	 SHORT $LN2@SkillMonkB@3
$LN3@SkillMonkB@3:

; 7494 : 						{
; 7495 : 							gObjAttack(lpObj,lpTargetObj,lpMagic,FALSE,TRUE,0,0,i,0);

  0e83c	6a 00		 push	 0
  0e83e	0f b6 45 d8	 movzx	 eax, BYTE PTR _i$242484[ebp]
  0e842	50		 push	 eax
  0e843	6a 00		 push	 0
  0e845	6a 00		 push	 0
  0e847	6a 01		 push	 1
  0e849	6a 00		 push	 0
  0e84b	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0e84e	51		 push	 ecx
  0e84f	8b 55 e4	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  0e852	52		 push	 edx
  0e853	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e856	50		 push	 eax
  0e857	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0e85c	83 c4 24	 add	 esp, 36			; 00000024H
$LN2@SkillMonkB@3:

; 7496 : 						}
; 7497 : 					}

  0e85f	eb 94		 jmp	 SHORT $LN5@SkillMonkB@3
$LN23@SkillMonkB@3:

; 7498 : 				}
; 7499 : 				break;

  0e861	eb 16		 jmp	 SHORT $LN37@SkillMonkB@3
$LN33@SkillMonkB@3:

; 7500 : 			}
; 7501 : 		}
; 7502 : 
; 7503 : 		nViewPortObjectCount++;

  0e863	8b 45 f0	 mov	 eax, DWORD PTR _nViewPortObjectCount$[ebp]
  0e866	83 c0 01	 add	 eax, 1
  0e869	89 45 f0	 mov	 DWORD PTR _nViewPortObjectCount$[ebp], eax

; 7504 : 
; 7505 : 		if(nViewPortObjectCount > MAX_VIEWPORT -1)

  0e86c	83 7d f0 4a	 cmp	 DWORD PTR _nViewPortObjectCount$[ebp], 74 ; 0000004aH
  0e870	7e 02		 jle	 SHORT $LN1@SkillMonkB@3

; 7506 : 		{
; 7507 : 			break;

  0e872	eb 05		 jmp	 SHORT $LN37@SkillMonkB@3
$LN1@SkillMonkB@3:

; 7508 : 		}
; 7509 : 	}

  0e874	e9 10 fc ff ff	 jmp	 $LN35@SkillMonkB@3
$LN37@SkillMonkB@3:

; 7510 : }

  0e879	5f		 pop	 edi
  0e87a	5e		 pop	 esi
  0e87b	5b		 pop	 ebx
  0e87c	8b e5		 mov	 esp, ebp
  0e87e	5d		 pop	 ebp
  0e87f	c2 0c 00	 ret	 12			; 0000000cH
?SkillMonkBarrageJustOneTarget@CObjUseSkill@@QAEXHPAVCMagicInf@@H@Z ENDP ; CObjUseSkill::SkillMonkBarrageJustOneTarget
_TEXT	ENDS
PUBLIC	?SkillMonkDarkSideGetTargetIndex@CObjUseSkill@@QAEHHHPAVCMagicInf@@PAG@Z ; CObjUseSkill::SkillMonkDarkSideGetTargetIndex
EXTRN	?gObjAttackQ@@YAHPAUOBJECTSTRUCT@@@Z:PROC	; gObjAttackQ
EXTRN	?GetGensClass@GensSystem@@QAEHPAUOBJECTSTRUCT@@@Z:PROC ; GensSystem::GetGensClass
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_nAttackRange$242538 = -48				; size = 4
_CallMonIndex$242532 = -44				; size = 4
_lpTargetObj$242525 = -40				; size = 4
_nAttackRange$242514 = -36				; size = 4
_lpTargetObj$242512 = -32				; size = 4
_EnableAttack$ = -28					; size = 4
_DuelIndex$ = -24					; size = 4
_nHitTargetCount$ = -20					; size = 4
_nViewPortObjectCount$ = -16				; size = 4
_nTargetObjNum$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
_wTargetList$ = 20					; size = 4
?SkillMonkDarkSideGetTargetIndex@CObjUseSkill@@QAEHHHPAVCMagicInf@@PAG@Z PROC ; CObjUseSkill::SkillMonkDarkSideGetTargetIndex
; _this$ = ecx

; 7515 : {

  0e890	55		 push	 ebp
  0e891	8b ec		 mov	 ebp, esp
  0e893	83 ec 70	 sub	 esp, 112		; 00000070H
  0e896	53		 push	 ebx
  0e897	56		 push	 esi
  0e898	57		 push	 edi
  0e899	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 7516 : 	LPOBJ lpObj = &gObj[aIndex];

  0e89c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0e89f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e8a5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e8ab	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 7517 : 	int nTargetObjNum = 0;

  0e8ae	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _nTargetObjNum$[ebp], 0

; 7518 : 	int nViewPortObjectCount = 0;

  0e8b5	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _nViewPortObjectCount$[ebp], 0

; 7519 : 	int nHitTargetCount = 0;

  0e8bc	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _nHitTargetCount$[ebp], 0

; 7520 : 	int DuelIndex = lpObj->m_iDuelUser;

  0e8c3	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e8c6	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0e8cc	89 4d e8	 mov	 DWORD PTR _DuelIndex$[ebp], ecx

; 7521 : 	int EnableAttack = 0;

  0e8cf	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 7522 : 
; 7523 : 	if( wTargetList == NULL)

  0e8d6	83 7d 14 00	 cmp	 DWORD PTR _wTargetList$[ebp], 0
  0e8da	75 07		 jne	 SHORT $LN34@SkillMonkD

; 7524 : 	{
; 7525 : 		return false;

  0e8dc	33 c0		 xor	 eax, eax
  0e8de	e9 2f 04 00 00	 jmp	 $LN35@SkillMonkD
$LN34@SkillMonkD:

; 7526 : 	}
; 7527 : 
; 7528 : 	if( lpMagic->m_Skill != 263
; 7529 : 		&& g_MasterSkillSystem.GetBaseMasterLevelSkill(lpMagic->m_Skill) != 559 
; 7530 : 		)

  0e8e3	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e8e6	81 78 08 07 01
	00 00		 cmp	 DWORD PTR [eax+8], 263	; 00000107H
  0e8ed	74 1f		 je	 SHORT $LN33@SkillMonkD
  0e8ef	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e8f2	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0e8f5	51		 push	 ecx
  0e8f6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  0e8fb	e8 00 00 00 00	 call	 ?GetBaseMasterLevelSkill@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::GetBaseMasterLevelSkill
  0e900	3d 2f 02 00 00	 cmp	 eax, 559		; 0000022fH
  0e905	74 07		 je	 SHORT $LN33@SkillMonkD

; 7531 : 	{
; 7532 : 		return false;

  0e907	33 c0		 xor	 eax, eax
  0e909	e9 04 04 00 00	 jmp	 $LN35@SkillMonkD
$LN33@SkillMonkD:

; 7533 : 	}
; 7534 : 	/*while ( true )
; 7535 : 	{
; 7536 : 		if(lpObj->VpPlayer2[count].state != 0)
; 7537 : 		{
; 7538 : 			tObjNum = lpObj->VpPlayer2[count].number;
; 7539 : 
; 7540 : 			if(tObjNum >= 0)
; 7541 : 			{
; 7542 : 				EnableAttack = 0;
; 7543 : 				if(gObj[tObjNum].Class < 100 || gObj[tObjNum].Class > 110)
; 7544 : 				{
; 7545 : 	
; 7546 : 					if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)
; 7547 : 					{
; 7548 : 						EnableAttack = 1;
; 7549 : 					}
; 7550 : 					else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)
; 7551 : 					{
; 7552 : 						EnableAttack = 1;
; 7553 : 					}
; 7554 : //#if(GS_CASTLE==1)
; 7555 : 					else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)
; 7556 : 					{
; 7557 : 						EnableAttack = 1;
; 7558 : 					}
; 7559 : //#endif
; 7560 : 					else
; 7561 : 					{
; 7562 : 						int CallMonIndex = gObj[tObjNum].m_Index;
; 7563 : 	
; 7564 : 						if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)
; 7565 : 						{
; 7566 : 							CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;
; 7567 : 						}
; 7568 : 	
; 7569 : 						if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)
; 7570 : 						{
; 7571 : 							EnableAttack = 1;
; 7572 : 						}
; 7573 : 					}
; 7574 : 				}
; 7575 : 	
; 7576 : 				if(EnableAttack != 0)
; 7577 : 				{
; 7578 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)
; 7579 : 					{
; 7580 : 						bAttack = 0;
; 7581 : 	
; 7582 : 						if(HitCount > 15)
; 7583 : 						{
; 7584 : 							bAttack = 0;
; 7585 : 						}
; 7586 : 	
; 7587 : 						if(HitCount >= 10)
; 7588 : 						{
; 7589 : 							if(rand()%2)
; 7590 : 							{
; 7591 : 								bAttack = 1;
; 7592 : 							}
; 7593 : 						}
; 7594 : 						else
; 7595 : 						{
; 7596 : 							bAttack = 1;
; 7597 : 						}
; 7598 : 	
; 7599 : 						if(bAttack != 0)
; 7600 : 						{
; 7601 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,500,lpMagic->m_Skill,0);
; 7602 : 						}
; 7603 : 					}
; 7604 : 				}
; 7605 : 			}
; 7606 : 		}
; 7607 : 	
; 7608 : 		count++;
; 7609 : 		if(count > MAX_VIEWPORT -1)
; 7610 : 		{
; 7611 : 			break;
; 7612 : 		}
; 7613 : 	}*/
; 7614 : 	if( aTargetIndex != 0 )

  0e90e	83 7d 0c 00	 cmp	 DWORD PTR _aTargetIndex$[ebp], 0
  0e912	0f 84 4d 01 00
	00		 je	 $LN21@SkillMonkD
$LN31@SkillMonkD:

; 7615 : 	{
; 7616 : 		while(true)

  0e918	b8 01 00 00 00	 mov	 eax, 1
  0e91d	85 c0		 test	 eax, eax
  0e91f	0f 84 39 01 00
	00		 je	 $LN30@SkillMonkD

; 7617 : 		{
; 7618 : 			if( lpObj->VpPlayer2[nViewPortObjectCount].state != 0 )

  0e925	8b 45 f0	 mov	 eax, DWORD PTR _nViewPortObjectCount$[ebp]
  0e928	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0e92b	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e92e	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0e936	85 d2		 test	 edx, edx
  0e938	0f 84 0a 01 00
	00		 je	 $LN29@SkillMonkD

; 7619 : 			{
; 7620 : 				nTargetObjNum = lpObj->VpPlayer2[nViewPortObjectCount].number;

  0e93e	8b 45 f0	 mov	 eax, DWORD PTR _nViewPortObjectCount$[ebp]
  0e941	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0e944	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e947	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0e94f	89 55 f4	 mov	 DWORD PTR _nTargetObjNum$[ebp], edx

; 7621 : 
; 7622 : 				if( nTargetObjNum >= 0 && nTargetObjNum < OBJMAX )

  0e952	83 7d f4 00	 cmp	 DWORD PTR _nTargetObjNum$[ebp], 0
  0e956	0f 8c ec 00 00
	00		 jl	 $LN29@SkillMonkD
  0e95c	81 7d f4 98 3a
	00 00		 cmp	 DWORD PTR _nTargetObjNum$[ebp], 15000 ; 00003a98H
  0e963	0f 8d df 00 00
	00		 jge	 $LN29@SkillMonkD

; 7623 : 				{
; 7624 : 					LPOBJ lpTargetObj = &gObj[nTargetObjNum];

  0e969	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0e96c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e972	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e978	89 45 e0	 mov	 DWORD PTR _lpTargetObj$242512[ebp], eax

; 7625 : 
; 7626 : 					if( lpObj->VpPlayer2[nViewPortObjectCount].type == OBJ_USER && nTargetObjNum == aTargetIndex )

  0e97b	8b 45 f0	 mov	 eax, DWORD PTR _nViewPortObjectCount$[ebp]
  0e97e	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0e981	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e984	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0e98c	83 fa 01	 cmp	 edx, 1
  0e98f	0f 85 b3 00 00
	00		 jne	 $LN29@SkillMonkD
  0e995	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0e998	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0e99b	0f 85 a7 00 00
	00		 jne	 $LN29@SkillMonkD

; 7627 : 					{
; 7628 : 						int nAttackRange = 0;

  0e9a1	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _nAttackRange$242514[ebp], 0

; 7629 : 
; 7630 : 						if( lpMagic->m_Skill == 263
; 7631 : //#ifndef NO_WORK
; 7632 : 							|| g_MasterSkillSystem.GetBaseMasterLevelSkill(lpMagic->m_Skill) == 559 
; 7633 : //#endif
; 7634 : 							)

  0e9a8	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e9ab	81 78 08 07 01
	00 00		 cmp	 DWORD PTR [eax+8], 263	; 00000107H
  0e9b2	74 18		 je	 SHORT $LN25@SkillMonkD
  0e9b4	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0e9b7	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0e9ba	51		 push	 ecx
  0e9bb	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  0e9c0	e8 00 00 00 00	 call	 ?GetBaseMasterLevelSkill@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::GetBaseMasterLevelSkill
  0e9c5	3d 2f 02 00 00	 cmp	 eax, 559		; 0000022fH
  0e9ca	75 09		 jne	 SHORT $LN26@SkillMonkD
$LN25@SkillMonkD:

; 7635 : 							nAttackRange = 5;

  0e9cc	c7 45 dc 05 00
	00 00		 mov	 DWORD PTR _nAttackRange$242514[ebp], 5

; 7636 : 						else

  0e9d3	eb 07		 jmp	 SHORT $LN24@SkillMonkD
$LN26@SkillMonkD:

; 7637 : 							nAttackRange = 0;

  0e9d5	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _nAttackRange$242514[ebp], 0
$LN24@SkillMonkD:

; 7638 : 
; 7639 : 						if( CalDistance(lpObj->X,lpObj->Y,gObj[nTargetObjNum].X,gObj[nTargetObjNum].Y) < nAttackRange )

  0e9dc	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0e9df	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e9e5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0e9eb	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0e9f3	52		 push	 edx
  0e9f4	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0e9f7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0e9fd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ea03	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0ea0b	52		 push	 edx
  0ea0c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ea0f	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  0ea16	51		 push	 ecx
  0ea17	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ea1a	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  0ea21	50		 push	 eax
  0ea22	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0ea25	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  0ea2a	3b 45 dc	 cmp	 eax, DWORD PTR _nAttackRange$242514[ebp]
  0ea2d	7d 19		 jge	 SHORT $LN29@SkillMonkD

; 7640 : 						{
; 7641 : 							wTargetList[nHitTargetCount] = nTargetObjNum;

  0ea2f	8b 45 ec	 mov	 eax, DWORD PTR _nHitTargetCount$[ebp]
  0ea32	8b 4d 14	 mov	 ecx, DWORD PTR _wTargetList$[ebp]
  0ea35	66 8b 55 f4	 mov	 dx, WORD PTR _nTargetObjNum$[ebp]
  0ea39	66 89 14 41	 mov	 WORD PTR [ecx+eax*2], dx

; 7642 : 							nHitTargetCount++;

  0ea3d	8b 45 ec	 mov	 eax, DWORD PTR _nHitTargetCount$[ebp]
  0ea40	83 c0 01	 add	 eax, 1
  0ea43	89 45 ec	 mov	 DWORD PTR _nHitTargetCount$[ebp], eax

; 7643 : 							break;

  0ea46	eb 16		 jmp	 SHORT $LN30@SkillMonkD
$LN29@SkillMonkD:

; 7644 : 						}
; 7645 : 					}
; 7646 : 				}
; 7647 : 			}
; 7648 : 
; 7649 : 			nViewPortObjectCount++;

  0ea48	8b 45 f0	 mov	 eax, DWORD PTR _nViewPortObjectCount$[ebp]
  0ea4b	83 c0 01	 add	 eax, 1
  0ea4e	89 45 f0	 mov	 DWORD PTR _nViewPortObjectCount$[ebp], eax

; 7650 : 
; 7651 : 			if( nViewPortObjectCount > MAX_VIEWPORT-1 )

  0ea51	83 7d f0 4a	 cmp	 DWORD PTR _nViewPortObjectCount$[ebp], 74 ; 0000004aH
  0ea55	7e 02		 jle	 SHORT $LN22@SkillMonkD

; 7652 : 				break;

  0ea57	eb 05		 jmp	 SHORT $LN30@SkillMonkD
$LN22@SkillMonkD:

; 7653 : 		}

  0ea59	e9 ba fe ff ff	 jmp	 $LN31@SkillMonkD
$LN30@SkillMonkD:

; 7654 : 
; 7655 : 		nViewPortObjectCount = 0;

  0ea5e	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _nViewPortObjectCount$[ebp], 0
$LN21@SkillMonkD:

; 7656 : 	}
; 7657 : 
; 7658 : 	while(true)

  0ea65	b8 01 00 00 00	 mov	 eax, 1
  0ea6a	85 c0		 test	 eax, eax
  0ea6c	0f 84 9b 02 00
	00		 je	 $LN20@SkillMonkD

; 7659 : 	{
; 7660 : 		if( lpObj->VpPlayer2[nViewPortObjectCount].state != 0 )

  0ea72	8b 45 f0	 mov	 eax, DWORD PTR _nViewPortObjectCount$[ebp]
  0ea75	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0ea78	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ea7b	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0ea83	85 d2		 test	 edx, edx
  0ea85	0f 84 6c 02 00
	00		 je	 $LN19@SkillMonkD

; 7661 : 		{
; 7662 : 			nTargetObjNum = lpObj->VpPlayer2[nViewPortObjectCount].number;

  0ea8b	8b 45 f0	 mov	 eax, DWORD PTR _nViewPortObjectCount$[ebp]
  0ea8e	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0ea91	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ea94	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0ea9c	89 55 f4	 mov	 DWORD PTR _nTargetObjNum$[ebp], edx

; 7663 : 
; 7664 : 			if( nTargetObjNum >= 0 && nTargetObjNum < OBJMAX )

  0ea9f	83 7d f4 00	 cmp	 DWORD PTR _nTargetObjNum$[ebp], 0
  0eaa3	0f 8c 4e 02 00
	00		 jl	 $LN19@SkillMonkD
  0eaa9	81 7d f4 98 3a
	00 00		 cmp	 DWORD PTR _nTargetObjNum$[ebp], 15000 ; 00003a98H
  0eab0	0f 8d 41 02 00
	00		 jge	 $LN19@SkillMonkD

; 7665 : 			{
; 7666 : 				EnableAttack = FALSE;

  0eab6	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0

; 7667 : 
; 7668 : 				LPOBJ lpTargetObj = &gObj[nTargetObjNum];

  0eabd	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0eac0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0eac6	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0eacc	89 45 d8	 mov	 DWORD PTR _lpTargetObj$242525[ebp], eax

; 7669 : 
; 7670 : 				if( gGENS && lpObj->VpPlayer2[nViewPortObjectCount].type == OBJ_USER && gGensSystem.IsMapBattleZone(lpObj->MapNumber) )

  0eacf	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gGENS@@3HA, 0 ; gGENS
  0ead6	74 3b		 je	 SHORT $LN17@SkillMonkD
  0ead8	8b 45 f0	 mov	 eax, DWORD PTR _nViewPortObjectCount$[ebp]
  0eadb	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0eade	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0eae1	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0eae9	83 fa 01	 cmp	 edx, 1
  0eaec	75 25		 jne	 SHORT $LN17@SkillMonkD
  0eaee	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0eaf1	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0eaf8	51		 push	 ecx
  0eaf9	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  0eafe	e8 00 00 00 00	 call	 ?IsMapBattleZone@GensSystem@@QAEHH@Z ; GensSystem::IsMapBattleZone
  0eb03	85 c0		 test	 eax, eax
  0eb05	74 0c		 je	 SHORT $LN17@SkillMonkD

; 7671 : 				{
; 7672 : 					EnableAttack = TRUE;

  0eb07	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  0eb0e	e9 ce 00 00 00	 jmp	 $LN16@SkillMonkD
$LN17@SkillMonkD:

; 7673 : 				}
; 7674 : 				else if( lpTargetObj->Type == OBJ_MONSTER && lpTargetObj->m_RecallMon < 0 )

  0eb13	8b 45 d8	 mov	 eax, DWORD PTR _lpTargetObj$242525[ebp]
  0eb16	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  0eb1a	83 f9 02	 cmp	 ecx, 2
  0eb1d	75 18		 jne	 SHORT $LN15@SkillMonkD
  0eb1f	8b 45 d8	 mov	 eax, DWORD PTR _lpTargetObj$242525[ebp]
  0eb22	83 b8 50 04 00
	00 00		 cmp	 DWORD PTR [eax+1104], 0
  0eb29	7d 0c		 jge	 SHORT $LN15@SkillMonkD

; 7675 : 				{
; 7676 : 					EnableAttack = TRUE;

  0eb2b	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
  0eb32	e9 aa 00 00 00	 jmp	 $LN16@SkillMonkD
$LN15@SkillMonkD:

; 7677 : 				}
; 7678 : 				else if( DuelIndex == nTargetObjNum )

  0eb37	8b 45 e8	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  0eb3a	3b 45 f4	 cmp	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0eb3d	75 0c		 jne	 SHORT $LN13@SkillMonkD

; 7679 : 				{
; 7680 : 					EnableAttack = TRUE;

  0eb3f	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1

; 7681 : 				}
; 7682 : 
; 7683 : 				else

  0eb46	e9 96 00 00 00	 jmp	 $LN16@SkillMonkD
$LN13@SkillMonkD:

; 7684 : 				{
; 7685 : 					int CallMonIndex = gObj[nTargetObjNum].m_Index;

  0eb4b	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0eb4e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0eb54	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0eb5a	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0eb5d	89 55 d4	 mov	 DWORD PTR _CallMonIndex$242532[ebp], edx

; 7686 : 
; 7687 : 					if(gObj[nTargetObjNum].Type == OBJ_MONSTER && gObj[nTargetObjNum].m_RecallMon >= 0)

  0eb60	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0eb63	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0eb69	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0eb6f	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0eb74	83 fa 02	 cmp	 edx, 2
  0eb77	75 40		 jne	 SHORT $LN11@SkillMonkD
  0eb79	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0eb7c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0eb82	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0eb88	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0eb90	7c 27		 jl	 SHORT $LN11@SkillMonkD

; 7688 : 					{
; 7689 : 						CallMonIndex = gObj[gObj[nTargetObjNum].m_RecallMon].m_Index;

  0eb92	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0eb95	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0eb9b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0eba1	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0eba8	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0ebae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ebb3	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0ebb6	89 4d d4	 mov	 DWORD PTR _CallMonIndex$242532[ebp], ecx
$LN11@SkillMonkD:

; 7690 : 					}
; 7691 : 
; 7692 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  0ebb9	8b 45 d4	 mov	 eax, DWORD PTR _CallMonIndex$242532[ebp]
  0ebbc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0ebc2	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ebc8	50		 push	 eax
  0ebc9	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ebcc	51		 push	 ecx
  0ebcd	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0ebd2	83 c4 08	 add	 esp, 8
  0ebd5	83 f8 01	 cmp	 eax, 1
  0ebd8	75 07		 jne	 SHORT $LN16@SkillMonkD

; 7693 : 					{
; 7694 : 						EnableAttack = TRUE;

  0ebda	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN16@SkillMonkD:

; 7695 : 					}
; 7696 : 				}
; 7697 : #ifdef _RF_GENS_MAP_DARK_SIDE_
; 7698 : 				if(gGensSystem.IsMapBattleZone(lpObj->MapNumber) && gGensSystem.GetGensClass(lpObj) == gGensSystem.GetGensClass(lpTargetObj))

  0ebe1	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ebe4	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0ebeb	51		 push	 ecx
  0ebec	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  0ebf1	e8 00 00 00 00	 call	 ?IsMapBattleZone@GensSystem@@QAEHH@Z ; GensSystem::IsMapBattleZone
  0ebf6	85 c0		 test	 eax, eax
  0ebf8	74 29		 je	 SHORT $LN9@SkillMonkD
  0ebfa	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ebfd	50		 push	 eax
  0ebfe	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  0ec03	e8 00 00 00 00	 call	 ?GetGensClass@GensSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; GensSystem::GetGensClass
  0ec08	8b f0		 mov	 esi, eax
  0ec0a	8b 4d d8	 mov	 ecx, DWORD PTR _lpTargetObj$242525[ebp]
  0ec0d	51		 push	 ecx
  0ec0e	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  0ec13	e8 00 00 00 00	 call	 ?GetGensClass@GensSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; GensSystem::GetGensClass
  0ec18	3b f0		 cmp	 esi, eax
  0ec1a	75 07		 jne	 SHORT $LN9@SkillMonkD

; 7699 : 				{
; 7700 : 
; 7701 : 					EnableAttack = FALSE;

  0ec1c	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0
$LN9@SkillMonkD:

; 7702 : 				}
; 7703 : 
; 7704 : #endif
; 7705 : 
; 7706 : 				if( EnableAttack != FALSE && !gObjAttackQ(lpTargetObj) )

  0ec23	83 7d e4 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  0ec27	74 17		 je	 SHORT $LN8@SkillMonkD
  0ec29	8b 45 d8	 mov	 eax, DWORD PTR _lpTargetObj$242525[ebp]
  0ec2c	50		 push	 eax
  0ec2d	e8 00 00 00 00	 call	 ?gObjAttackQ@@YAHPAUOBJECTSTRUCT@@@Z ; gObjAttackQ
  0ec32	83 c4 04	 add	 esp, 4
  0ec35	85 c0		 test	 eax, eax
  0ec37	75 07		 jne	 SHORT $LN8@SkillMonkD

; 7707 : 				{
; 7708 : 					EnableAttack = FALSE;

  0ec39	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0
$LN8@SkillMonkD:

; 7709 : 				}
; 7710 : 
; 7711 : 				if( EnableAttack != FALSE )

  0ec40	83 7d e4 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  0ec44	0f 84 ad 00 00
	00		 je	 $LN19@SkillMonkD

; 7712 : 				{
; 7713 : 					int nAttackRange = 0;

  0ec4a	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _nAttackRange$242538[ebp], 0

; 7714 : 
; 7715 : 					if( lpMagic->m_Skill == 263 
; 7716 : 						|| g_MasterSkillSystem.GetBaseMasterLevelSkill(lpMagic->m_Skill) == 559
; 7717 : 						)

  0ec51	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0ec54	81 78 08 07 01
	00 00		 cmp	 DWORD PTR [eax+8], 263	; 00000107H
  0ec5b	74 18		 je	 SHORT $LN5@SkillMonkD
  0ec5d	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0ec60	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0ec63	51		 push	 ecx
  0ec64	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  0ec69	e8 00 00 00 00	 call	 ?GetBaseMasterLevelSkill@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::GetBaseMasterLevelSkill
  0ec6e	3d 2f 02 00 00	 cmp	 eax, 559		; 0000022fH
  0ec73	75 09		 jne	 SHORT $LN6@SkillMonkD
$LN5@SkillMonkD:

; 7718 : 						nAttackRange = 5;

  0ec75	c7 45 d0 05 00
	00 00		 mov	 DWORD PTR _nAttackRange$242538[ebp], 5

; 7719 : 					else

  0ec7c	eb 07		 jmp	 SHORT $LN4@SkillMonkD
$LN6@SkillMonkD:

; 7720 : 						nAttackRange = 0;

  0ec7e	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _nAttackRange$242538[ebp], 0
$LN4@SkillMonkD:

; 7721 : 
; 7722 : 					if( CalDistance(lpObj->X,lpObj->Y,gObj[nTargetObjNum].X,gObj[nTargetObjNum].Y) < nAttackRange )

  0ec85	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0ec88	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0ec8e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ec94	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0ec9c	52		 push	 edx
  0ec9d	8b 45 f4	 mov	 eax, DWORD PTR _nTargetObjNum$[ebp]
  0eca0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0eca6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ecac	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0ecb4	52		 push	 edx
  0ecb5	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ecb8	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  0ecbf	51		 push	 ecx
  0ecc0	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ecc3	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  0ecca	50		 push	 eax
  0eccb	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0ecce	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  0ecd3	3b 45 d0	 cmp	 eax, DWORD PTR _nAttackRange$242538[ebp]
  0ecd6	7d 1f		 jge	 SHORT $LN19@SkillMonkD

; 7723 : 					{
; 7724 : 						wTargetList[nHitTargetCount] = nTargetObjNum;

  0ecd8	8b 45 ec	 mov	 eax, DWORD PTR _nHitTargetCount$[ebp]
  0ecdb	8b 4d 14	 mov	 ecx, DWORD PTR _wTargetList$[ebp]
  0ecde	66 8b 55 f4	 mov	 dx, WORD PTR _nTargetObjNum$[ebp]
  0ece2	66 89 14 41	 mov	 WORD PTR [ecx+eax*2], dx

; 7725 : 						nHitTargetCount++;

  0ece6	8b 45 ec	 mov	 eax, DWORD PTR _nHitTargetCount$[ebp]
  0ece9	83 c0 01	 add	 eax, 1
  0ecec	89 45 ec	 mov	 DWORD PTR _nHitTargetCount$[ebp], eax

; 7726 : 
; 7727 : 						if( nHitTargetCount >= 5 )

  0ecef	83 7d ec 05	 cmp	 DWORD PTR _nHitTargetCount$[ebp], 5
  0ecf3	7c 02		 jl	 SHORT $LN19@SkillMonkD

; 7728 : 							break;

  0ecf5	eb 16		 jmp	 SHORT $LN20@SkillMonkD
$LN19@SkillMonkD:

; 7729 : 					}
; 7730 : 				}
; 7731 : 
; 7732 : 			}
; 7733 : 		}
; 7734 : 		nViewPortObjectCount++;

  0ecf7	8b 45 f0	 mov	 eax, DWORD PTR _nViewPortObjectCount$[ebp]
  0ecfa	83 c0 01	 add	 eax, 1
  0ecfd	89 45 f0	 mov	 DWORD PTR _nViewPortObjectCount$[ebp], eax

; 7735 : 
; 7736 : 		if( nViewPortObjectCount > MAX_VIEWPORT-1 )

  0ed00	83 7d f0 4a	 cmp	 DWORD PTR _nViewPortObjectCount$[ebp], 74 ; 0000004aH
  0ed04	7e 02		 jle	 SHORT $LN1@SkillMonkD

; 7737 : 			break;

  0ed06	eb 05		 jmp	 SHORT $LN20@SkillMonkD
$LN1@SkillMonkD:

; 7738 : 	}

  0ed08	e9 58 fd ff ff	 jmp	 $LN21@SkillMonkD
$LN20@SkillMonkD:

; 7739 : 	return true;

  0ed0d	b8 01 00 00 00	 mov	 eax, 1
$LN35@SkillMonkD:

; 7740 : }

  0ed12	5f		 pop	 edi
  0ed13	5e		 pop	 esi
  0ed14	5b		 pop	 ebx
  0ed15	8b e5		 mov	 esp, ebp
  0ed17	5d		 pop	 ebp
  0ed18	c2 10 00	 ret	 16			; 00000010H
?SkillMonkDarkSideGetTargetIndex@CObjUseSkill@@QAEHHHPAVCMagicInf@@PAG@Z ENDP ; CObjUseSkill::SkillMonkDarkSideGetTargetIndex
; Function compile flags: /Odtp /ZI
tv67 = -76						; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_aTargetIndex$ = 16					; size = 4
?SkillCharge@CObjUseSkill@@QAEHHPAVCMagicInf@@H@Z PROC	; CObjUseSkill::SkillCharge
; _this$ = ecx

; 7745 : {

  0ed20	55		 push	 ebp
  0ed21	8b ec		 mov	 ebp, esp
  0ed23	83 ec 4c	 sub	 esp, 76			; 0000004cH
  0ed26	53		 push	 ebx
  0ed27	56		 push	 esi
  0ed28	57		 push	 edi
  0ed29	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 7746 : 	if( !OBJMAX_RANGE(aIndex) )

  0ed2c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  0ed30	7d 09		 jge	 SHORT $LN4@SkillCharg
  0ed32	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  0ed39	eb 0f		 jmp	 SHORT $LN5@SkillCharg
$LN4@SkillCharg:
  0ed3b	33 c0		 xor	 eax, eax
  0ed3d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  0ed44	0f 9e c0	 setle	 al
  0ed47	89 45 b4	 mov	 DWORD PTR tv67[ebp], eax
$LN5@SkillCharg:
  0ed4a	83 7d b4 00	 cmp	 DWORD PTR tv67[ebp], 0
  0ed4e	75 04		 jne	 SHORT $LN1@SkillCharg

; 7747 : 	{
; 7748 : 		return false;

  0ed50	33 c0		 xor	 eax, eax
  0ed52	eb 5d		 jmp	 SHORT $LN2@SkillCharg
$LN1@SkillCharg:

; 7749 : 	}
; 7750 : 	// ----
; 7751 : 	LPOBJ lpObj = &gObj[aIndex];

  0ed54	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0ed57	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0ed5d	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ed63	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 7752 : 	// ----
; 7753 : 	//if( lpObj->MapNumber != 30 && lpObj->MapNumber != 31 )	//Castle Siege?
; 7754 : 	//{
; 7755 : 	//	return false;
; 7756 : 	//}
; 7757 : 	// ----
; 7758 : 	GCMagicAttackNumberSend(lpObj, lpMagic->m_Skill, aTargetIndex, 1);

  0ed66	6a 01		 push	 1
  0ed68	8b 45 10	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0ed6b	50		 push	 eax
  0ed6c	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0ed6f	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  0ed73	52		 push	 edx
  0ed74	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ed77	50		 push	 eax
  0ed78	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0ed7d	83 c4 10	 add	 esp, 16			; 00000010H

; 7759 : 	gObjAttack(lpObj, &gObj[aTargetIndex], lpMagic, 0, 1, 0, 0, 0, 0);

  0ed80	6a 00		 push	 0
  0ed82	6a 00		 push	 0
  0ed84	6a 00		 push	 0
  0ed86	6a 00		 push	 0
  0ed88	6a 01		 push	 1
  0ed8a	6a 00		 push	 0
  0ed8c	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0ed8f	50		 push	 eax
  0ed90	8b 4d 10	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0ed93	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0ed99	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ed9f	51		 push	 ecx
  0eda0	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0eda3	52		 push	 edx
  0eda4	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0eda9	83 c4 24	 add	 esp, 36			; 00000024H

; 7760 : 	// ----
; 7761 : 	return true;

  0edac	b8 01 00 00 00	 mov	 eax, 1
$LN2@SkillCharg:

; 7762 : }

  0edb1	5f		 pop	 edi
  0edb2	5e		 pop	 esi
  0edb3	5b		 pop	 ebx
  0edb4	8b e5		 mov	 esp, ebp
  0edb6	5d		 pop	 ebp
  0edb7	c2 0c 00	 ret	 12			; 0000000cH
?SkillCharge@CObjUseSkill@@QAEHHPAVCMagicInf@@H@Z ENDP	; CObjUseSkill::SkillCharge
; Function compile flags: /Odtp /ZI
_CallMonIndex$242590 = -52				; size = 4
_bEnableAttack$ = -48					; size = 4
_iSkillDistance$ = -44					; size = 4
_loc10$ = -40						; size = 4
_maxhit$ = -36						; size = 4
_bAttack$ = -32						; size = 4
_hitcount$ = -28					; size = 4
_DuelIndex$ = -24					; size = 4
_tObjNum$ = -20						; size = 4
_count$ = -16						; size = 4
_SkillResult$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_aTargetIndex$ = 24					; size = 4
_Dis$ = 28						; size = 4
_Flag$ = 32						; size = 4
_Delay$ = 36						; size = 4
?SkillAreaMonsterAttack@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z PROC ; CObjUseSkill::SkillAreaMonsterAttack
; _this$ = ecx

; 7766 : {

  0edc0	55		 push	 ebp
  0edc1	8b ec		 mov	 ebp, esp
  0edc3	83 ec 74	 sub	 esp, 116		; 00000074H
  0edc6	53		 push	 ebx
  0edc7	56		 push	 esi
  0edc8	57		 push	 edi
  0edc9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 7767 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  0edcc	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0edcf	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0edd5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0eddb	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 7768 : 
; 7769 : 	int SkillResult = 0; //loc3

  0edde	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _SkillResult$[ebp], 0

; 7770 : 
; 7771 : 	int count = 0; //loc4

  0ede5	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 7772 : 	int tObjNum; //loc5
; 7773 : 
; 7774 : 	int DuelIndex = lpObj->m_iDuelUser; //loc6

  0edec	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0edef	8b 88 b8 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3768]
  0edf5	89 4d e8	 mov	 DWORD PTR _DuelIndex$[ebp], ecx

; 7775 : 
; 7776 : 	int hitcount = 0; //loc7

  0edf8	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _hitcount$[ebp], 0

; 7777 : 
; 7778 : 	BOOL bAttack = FALSE; //loc8

  0edff	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 7779 : 
; 7780 : 	int maxhit = 4; //loc9

  0ee06	c7 45 dc 04 00
	00 00		 mov	 DWORD PTR _maxhit$[ebp], 4

; 7781 : 
; 7782 : 	int loc10 = 8; //loc10

  0ee0d	c7 45 d8 08 00
	00 00		 mov	 DWORD PTR _loc10$[ebp], 8

; 7783 : 
; 7784 : 	if(lpMagic->m_Skill == 237)

  0ee14	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0ee17	81 78 08 ed 00
	00 00		 cmp	 DWORD PTR [eax+8], 237	; 000000edH
  0ee1e	75 0e		 jne	 SHORT $LN26@SkillAreaM

; 7785 : 	{
; 7786 : 		maxhit = 8;

  0ee20	c7 45 dc 08 00
	00 00		 mov	 DWORD PTR _maxhit$[ebp], 8

; 7787 : 		loc10 = 12;

  0ee27	c7 45 d8 0c 00
	00 00		 mov	 DWORD PTR _loc10$[ebp], 12 ; 0000000cH
$LN26@SkillAreaM:

; 7788 : 	}
; 7789 : 
; 7790 : 	int iSkillDistance = MagicDamageC.GetSkillDistance(lpMagic->m_Skill); //loc11

  0ee2e	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0ee31	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0ee34	51		 push	 ecx
  0ee35	b9 00 00 00 00	 mov	 ecx, OFFSET ?MagicDamageC@@3VCMagicDamage@@A ; MagicDamageC
  0ee3a	e8 00 00 00 00	 call	 ?GetSkillDistance@CMagicDamage@@QAEHH@Z ; CMagicDamage::GetSkillDistance
  0ee3f	89 45 d4	 mov	 DWORD PTR _iSkillDistance$[ebp], eax

; 7791 : 
; 7792 : 	BOOL bEnableAttack; //loc12
; 7793 : 
; 7794 : 	if(this->CalDistance(lpObj->X,lpObj->Y,x,y) <= iSkillDistance)

  0ee42	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  0ee46	50		 push	 eax
  0ee47	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  0ee4b	51		 push	 ecx
  0ee4c	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ee4f	0f bf 82 46 01
	00 00		 movsx	 eax, WORD PTR [edx+326]
  0ee56	50		 push	 eax
  0ee57	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ee5a	0f bf 91 44 01
	00 00		 movsx	 edx, WORD PTR [ecx+324]
  0ee61	52		 push	 edx
  0ee62	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0ee65	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  0ee6a	3b 45 d4	 cmp	 eax, DWORD PTR _iSkillDistance$[ebp]
  0ee6d	0f 8f 01 03 00
	00		 jg	 $LN25@SkillAreaM
$LN24@SkillAreaM:

; 7795 : 	{
; 7796 : 		while( true )

  0ee73	b8 01 00 00 00	 mov	 eax, 1
  0ee78	85 c0		 test	 eax, eax
  0ee7a	0f 84 f4 02 00
	00		 je	 $LN25@SkillAreaM

; 7797 : 		{
; 7798 : 			if(lpObj->VpPlayer2[count].state != 0)

  0ee80	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0ee83	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0ee86	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ee89	0f be 94 01 ac
	08 00 00	 movsx	 edx, BYTE PTR [ecx+eax+2220]
  0ee91	85 d2		 test	 edx, edx
  0ee93	0f 84 c5 02 00
	00		 je	 $LN22@SkillAreaM

; 7799 : 			{
; 7800 : 				tObjNum = lpObj->VpPlayer2[count].number;

  0ee99	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0ee9c	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0ee9f	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0eea2	0f bf 94 01 ae
	08 00 00	 movsx	 edx, WORD PTR [ecx+eax+2222]
  0eeaa	89 55 ec	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 7801 : 
; 7802 : 				if(tObjNum >= 0)

  0eead	83 7d ec 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  0eeb1	0f 8c a7 02 00
	00		 jl	 $LN22@SkillAreaM

; 7803 : 				{
; 7804 : 					bEnableAttack = FALSE;

  0eeb7	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 0

; 7805 : 
; 7806 : 					if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0eebe	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0eec1	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0eec4	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0eec7	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0eecf	83 fa 02	 cmp	 edx, 2
  0eed2	75 25		 jne	 SHORT $LN20@SkillAreaM
  0eed4	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0eed7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0eedd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0eee3	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0eeeb	7d 0c		 jge	 SHORT $LN20@SkillAreaM

; 7807 : 					{
; 7808 : 						bEnableAttack = TRUE;

  0eeed	c7 45 d0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0eef4	e9 05 01 00 00	 jmp	 $LN19@SkillAreaM
$LN20@SkillAreaM:

; 7809 : 					}
; 7810 : 					else if(tObjNum == aTargetIndex && Flag == 1 || DuelIndex == tObjNum)

  0eef9	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0eefc	3b 45 18	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]
  0eeff	75 06		 jne	 SHORT $LN16@SkillAreaM
  0ef01	83 7d 20 01	 cmp	 DWORD PTR _Flag$[ebp], 1
  0ef05	74 08		 je	 SHORT $LN17@SkillAreaM
$LN16@SkillAreaM:
  0ef07	8b 45 e8	 mov	 eax, DWORD PTR _DuelIndex$[ebp]
  0ef0a	3b 45 ec	 cmp	 eax, DWORD PTR _tObjNum$[ebp]
  0ef0d	75 0c		 jne	 SHORT $LN18@SkillAreaM
$LN17@SkillAreaM:

; 7811 : 					{
; 7812 : 						bEnableAttack = TRUE;

  0ef0f	c7 45 d0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
  0ef16	e9 e3 00 00 00	 jmp	 $LN19@SkillAreaM
$LN18@SkillAreaM:

; 7813 : 					}
; 7814 : //#if(_GSCS==1)
; 7815 : 					else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  0ef1b	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0ef1e	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0ef21	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ef24	0f b6 94 01 b0
	08 00 00	 movzx	 edx, BYTE PTR [ecx+eax+2224]
  0ef2c	83 fa 03	 cmp	 edx, 3
  0ef2f	74 37		 je	 SHORT $LN14@SkillAreaM
  0ef31	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0ef34	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0ef3a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ef40	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0ef48	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  0ef4b	75 1b		 jne	 SHORT $LN14@SkillAreaM
  0ef4d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0ef52	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiege@@QAEHXZ ; CCastleSiege::GetCastleState
  0ef57	83 f8 07	 cmp	 eax, 7
  0ef5a	75 0c		 jne	 SHORT $LN14@SkillAreaM

; 7816 : 					{
; 7817 : 						bEnableAttack = TRUE;

  0ef5c	c7 45 d0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1

; 7818 : 					}
; 7819 : //#endif
; 7820 : 					else

  0ef63	e9 96 00 00 00	 jmp	 $LN19@SkillAreaM
$LN14@SkillAreaM:

; 7821 : 					{
; 7822 : 						int CallMonIndex = gObj[tObjNum].m_Index;

  0ef68	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0ef6b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0ef71	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ef77	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0ef7a	89 55 cc	 mov	 DWORD PTR _CallMonIndex$242590[ebp], edx

; 7823 : 
; 7824 : 						if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0ef7d	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0ef80	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0ef86	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0ef8c	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0ef91	83 fa 02	 cmp	 edx, 2
  0ef94	75 40		 jne	 SHORT $LN12@SkillAreaM
  0ef96	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0ef99	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0ef9f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0efa5	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0
  0efad	7c 27		 jl	 SHORT $LN12@SkillAreaM

; 7825 : 						{
; 7826 : 							CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0efaf	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0efb2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0efb8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0efbe	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  0efc5	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0efcb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0efd0	8b 0c 10	 mov	 ecx, DWORD PTR [eax+edx]
  0efd3	89 4d cc	 mov	 DWORD PTR _CallMonIndex$242590[ebp], ecx
$LN12@SkillAreaM:

; 7827 : 						}
; 7828 : 
; 7829 : 						if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  0efd6	8b 45 cc	 mov	 eax, DWORD PTR _CallMonIndex$242590[ebp]
  0efd9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0efdf	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0efe5	50		 push	 eax
  0efe6	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0efe9	51		 push	 ecx
  0efea	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0efef	83 c4 08	 add	 esp, 8
  0eff2	83 f8 01	 cmp	 eax, 1
  0eff5	75 07		 jne	 SHORT $LN19@SkillAreaM

; 7830 : 						{
; 7831 : 							bEnableAttack = TRUE;

  0eff7	c7 45 d0 01 00
	00 00		 mov	 DWORD PTR _bEnableAttack$[ebp], 1
$LN19@SkillAreaM:

; 7832 : 						}
; 7833 : 					}
; 7834 : 
; 7835 : 					if(bEnableAttack != FALSE)

  0effe	83 7d d0 00	 cmp	 DWORD PTR _bEnableAttack$[ebp], 0
  0f002	0f 84 56 01 00
	00		 je	 $LN22@SkillAreaM

; 7836 : 					{
; 7837 : 						if(gObj[tObjNum].X >= x-Dis && gObj[tObjNum].X <= x+Dis && gObj[tObjNum].Y >= y-Dis && gObj[tObjNum].Y <= y+Dis)

  0f008	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0f00b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0f011	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0f017	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0f01f	0f b6 45 10	 movzx	 eax, BYTE PTR _x$[ebp]
  0f023	2b 45 1c	 sub	 eax, DWORD PTR _Dis$[ebp]
  0f026	3b d0		 cmp	 edx, eax
  0f028	0f 8c 30 01 00
	00		 jl	 $LN22@SkillAreaM
  0f02e	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0f031	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0f037	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0f03d	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  0f045	0f b6 45 10	 movzx	 eax, BYTE PTR _x$[ebp]
  0f049	03 45 1c	 add	 eax, DWORD PTR _Dis$[ebp]
  0f04c	3b d0		 cmp	 edx, eax
  0f04e	0f 8f 0a 01 00
	00		 jg	 $LN22@SkillAreaM
  0f054	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0f057	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0f05d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0f063	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0f06b	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  0f06f	2b 45 1c	 sub	 eax, DWORD PTR _Dis$[ebp]
  0f072	3b d0		 cmp	 edx, eax
  0f074	0f 8c e4 00 00
	00		 jl	 $LN22@SkillAreaM
  0f07a	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0f07d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0f083	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0f089	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0f091	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  0f095	03 45 1c	 add	 eax, DWORD PTR _Dis$[ebp]
  0f098	3b d0		 cmp	 edx, eax
  0f09a	0f 8f be 00 00
	00		 jg	 $LN22@SkillAreaM

; 7838 : 						{
; 7839 : 							gObj[tObjNum].lpAttackObj = lpObj;

  0f0a0	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0f0a3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0f0a9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0f0af	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0f0b2	89 94 01 d4 03
	00 00		 mov	 DWORD PTR [ecx+eax+980], edx

; 7840 : 							hitcount++;

  0f0b9	8b 45 e4	 mov	 eax, DWORD PTR _hitcount$[ebp]
  0f0bc	83 c0 01	 add	 eax, 1
  0f0bf	89 45 e4	 mov	 DWORD PTR _hitcount$[ebp], eax

; 7841 : 
; 7842 : 							if(hitcount > maxhit)

  0f0c2	8b 45 e4	 mov	 eax, DWORD PTR _hitcount$[ebp]
  0f0c5	3b 45 dc	 cmp	 eax, DWORD PTR _maxhit$[ebp]
  0f0c8	7e 1e		 jle	 SHORT $LN8@SkillAreaM

; 7843 : 							{
; 7844 : 								if(rand()%2 != 0)

  0f0ca	e8 00 00 00 00	 call	 _rand
  0f0cf	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0f0d4	79 05		 jns	 SHORT $LN29@SkillAreaM
  0f0d6	48		 dec	 eax
  0f0d7	83 c8 fe	 or	 eax, -2			; fffffffeH
  0f0da	40		 inc	 eax
$LN29@SkillAreaM:
  0f0db	85 c0		 test	 eax, eax
  0f0dd	74 07		 je	 SHORT $LN7@SkillAreaM

; 7845 : 								{
; 7846 : 									bAttack = TRUE;

  0f0df	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN7@SkillAreaM:

; 7847 : 								}
; 7848 : 							}
; 7849 : 							else

  0f0e6	eb 07		 jmp	 SHORT $LN6@SkillAreaM
$LN8@SkillAreaM:

; 7850 : 							{
; 7851 : 								bAttack = TRUE;

  0f0e8	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN6@SkillAreaM:

; 7852 : 							}
; 7853 : 
; 7854 : 							if(hitcount > loc10)

  0f0ef	8b 45 e4	 mov	 eax, DWORD PTR _hitcount$[ebp]
  0f0f2	3b 45 d8	 cmp	 eax, DWORD PTR _loc10$[ebp]
  0f0f5	7e 07		 jle	 SHORT $LN5@SkillAreaM

; 7855 : 							{
; 7856 : 								bAttack = FALSE;

  0f0f7	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0
$LN5@SkillAreaM:

; 7857 : 							}
; 7858 : 
; 7859 : 							if(bAttack == TRUE)

  0f0fe	83 7d e0 01	 cmp	 DWORD PTR _bAttack$[ebp], 1
  0f102	75 53		 jne	 SHORT $LN4@SkillAreaM

; 7860 : 							{
; 7861 : 								if(Delay == FALSE)

  0f104	83 7d 24 00	 cmp	 DWORD PTR _Delay$[ebp], 0
  0f108	75 2e		 jne	 SHORT $LN3@SkillAreaM

; 7862 : 								{
; 7863 : 									gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,0,0,0,0,0);

  0f10a	6a 00		 push	 0
  0f10c	6a 00		 push	 0
  0f10e	6a 00		 push	 0
  0f110	6a 00		 push	 0
  0f112	6a 00		 push	 0
  0f114	6a 01		 push	 1
  0f116	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0f119	50		 push	 eax
  0f11a	8b 4d ec	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0f11d	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0f123	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0f129	51		 push	 ecx
  0f12a	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0f12d	52		 push	 edx
  0f12e	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0f133	83 c4 24	 add	 esp, 36			; 00000024H

; 7864 : 								}
; 7865 : 								else

  0f136	eb 1f		 jmp	 SHORT $LN4@SkillAreaM
$LN3@SkillAreaM:

; 7866 : 								{
; 7867 : 									gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, Delay, lpMagic->m_Skill, 0);

  0f138	6a 00		 push	 0
  0f13a	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0f13d	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0f140	51		 push	 ecx
  0f141	8b 55 24	 mov	 edx, DWORD PTR _Delay$[ebp]
  0f144	52		 push	 edx
  0f145	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0f148	50		 push	 eax
  0f149	6a 32		 push	 50			; 00000032H
  0f14b	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0f14e	51		 push	 ecx
  0f14f	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0f154	83 c4 18	 add	 esp, 24			; 00000018H
$LN4@SkillAreaM:

; 7868 : 								}
; 7869 : 							}
; 7870 : 							
; 7871 : 							SkillResult = 1;

  0f157	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _SkillResult$[ebp], 1
$LN22@SkillAreaM:

; 7872 : 						}
; 7873 : 					}
; 7874 : 				}
; 7875 : 			}
; 7876 : 
; 7877 : 			count++;

  0f15e	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  0f161	83 c0 01	 add	 eax, 1
  0f164	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 7878 : 			if(count > MAX_VIEWPORT -1)

  0f167	83 7d f0 4a	 cmp	 DWORD PTR _count$[ebp], 74 ; 0000004aH
  0f16b	7e 02		 jle	 SHORT $LN1@SkillAreaM

; 7879 : 			{
; 7880 : 				break;

  0f16d	eb 05		 jmp	 SHORT $LN25@SkillAreaM
$LN1@SkillAreaM:

; 7881 : 			}
; 7882 : 		}

  0f16f	e9 ff fc ff ff	 jmp	 $LN24@SkillAreaM
$LN25@SkillAreaM:

; 7883 : 	}
; 7884 : 
; 7885 : 	return SkillResult;

  0f174	8b 45 f4	 mov	 eax, DWORD PTR _SkillResult$[ebp]

; 7886 : }

  0f177	5f		 pop	 edi
  0f178	5e		 pop	 esi
  0f179	5b		 pop	 ebx
  0f17a	8b e5		 mov	 esp, ebp
  0f17c	5d		 pop	 ebp
  0f17d	c2 20 00	 ret	 32			; 00000020H
?SkillAreaMonsterAttack@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ENDP ; CObjUseSkill::SkillAreaMonsterAttack
_TEXT	ENDS
PUBLIC	_sqrtf
; Function compile flags: /Odtp /ZI
; File d:\microsoft visual studio 10.0\vc\include\math.h
;	COMDAT ?sqrt@@YAMM@Z
_TEXT	SEGMENT
__X$ = 8						; size = 4
?sqrt@@YAMM@Z PROC					; sqrt, COMDAT

; 542  :         {return (sqrtf(_X)); }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	51		 push	 ecx
  0000a	d9 45 08	 fld	 DWORD PTR __X$[ebp]
  0000d	d9 1c 24	 fstp	 DWORD PTR [esp]
  00010	e8 00 00 00 00	 call	 _sqrtf
  00015	83 c4 04	 add	 esp, 4
  00018	5f		 pop	 edi
  00019	5e		 pop	 esi
  0001a	5b		 pop	 ebx
  0001b	8b e5		 mov	 esp, ebp
  0001d	5d		 pop	 ebp
  0001e	c3		 ret	 0
?sqrt@@YAMM@Z ENDP					; sqrt
_TEXT	ENDS
EXTRN	_sqrt:PROC
; Function compile flags: /Odtp /ZI
;	COMDAT _sqrtf
_TEXT	SEGMENT
tv73 = -68						; size = 4
__X$ = 8						; size = 4
_sqrtf	PROC						; COMDAT

; 434  :         {return ((float)sqrt((double)_X)); }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	d9 45 08	 fld	 DWORD PTR __X$[ebp]
  0000c	83 ec 08	 sub	 esp, 8
  0000f	dd 1c 24	 fstp	 QWORD PTR [esp]
  00012	e8 00 00 00 00	 call	 _sqrt
  00017	83 c4 08	 add	 esp, 8
  0001a	d9 5d bc	 fstp	 DWORD PTR tv73[ebp]
  0001d	d9 45 bc	 fld	 DWORD PTR tv73[ebp]
  00020	5f		 pop	 edi
  00021	5e		 pop	 esi
  00022	5b		 pop	 ebx
  00023	8b e5		 mov	 esp, ebp
  00025	5d		 pop	 ebp
  00026	c3		 ret	 0
_sqrtf	ENDP
_TEXT	ENDS
EXTRN	_atexit:PROC
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\objuseskill.cpp
;	COMDAT ??__EgObjUseSkill@@YAXXZ
text$yc	SEGMENT
??__EgObjUseSkill@@YAXXZ PROC				; `dynamic initializer for 'gObjUseSkill'', COMDAT

; 33   : CObjUseSkill gObjUseSkill;

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  0000e	e8 00 00 00 00	 call	 ??0CObjUseSkill@@QAE@XZ	; CObjUseSkill::CObjUseSkill
  00013	68 00 00 00 00	 push	 OFFSET ??__FgObjUseSkill@@YAXXZ ; `dynamic atexit destructor for 'gObjUseSkill''
  00018	e8 00 00 00 00	 call	 _atexit
  0001d	83 c4 04	 add	 esp, 4
  00020	5f		 pop	 edi
  00021	5e		 pop	 esi
  00022	5b		 pop	 ebx
  00023	8b e5		 mov	 esp, ebp
  00025	5d		 pop	 ebp
  00026	c3		 ret	 0
??__EgObjUseSkill@@YAXXZ ENDP				; `dynamic initializer for 'gObjUseSkill''
; Function compile flags: /Odtp /ZI
text$yc	ENDS
;	COMDAT ??__FgObjUseSkill@@YAXXZ
text$yd	SEGMENT
??__FgObjUseSkill@@YAXXZ PROC				; `dynamic atexit destructor for 'gObjUseSkill'', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  0000e	e8 00 00 00 00	 call	 ??1CObjUseSkill@@UAE@XZ	; CObjUseSkill::~CObjUseSkill
  00013	5f		 pop	 edi
  00014	5e		 pop	 esi
  00015	5b		 pop	 ebx
  00016	8b e5		 mov	 esp, ebp
  00018	5d		 pop	 ebp
  00019	c3		 ret	 0
??__FgObjUseSkill@@YAXXZ ENDP				; `dynamic atexit destructor for 'gObjUseSkill''
text$yd	ENDS
PUBLIC	?gObjUseSkill@@3VCObjUseSkill@@A		; gObjUseSkill
_BSS	SEGMENT
?gObjUseSkill@@3VCObjUseSkill@@A DD 01H DUP (?)		; gObjUseSkill
_BSS	ENDS
CRT$XCU	SEGMENT
_gObjUseSkill$initializer$ DD FLAT:??__EgObjUseSkill@@YAXXZ
CRT$XCU	ENDS
END
