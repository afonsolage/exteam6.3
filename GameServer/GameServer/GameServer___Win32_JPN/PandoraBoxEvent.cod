; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\PandoraBoxEvent.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?gPandoraBoxEvent@@3VcPandoraBoxEvent@@A	; gPandoraBoxEvent
_BSS	SEGMENT
?gPandoraBoxEvent@@3VcPandoraBoxEvent@@A DB 01b68H DUP (?) ; gPandoraBoxEvent
_BSS	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	83 e8 01	 sub	 eax, 1
  0000f	89 45 10	 mov	 DWORD PTR ___n$[ebp], eax
  00012	78 11		 js	 SHORT $LN3@vector
  00014	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00017	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  0001a	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  0001d	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  00020	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  00023	eb e4		 jmp	 SHORT $LN2@vector
$LN3@vector:
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	?Init@cPandoraBoxEvent@@QAEXXZ			; cPandoraBoxEvent::Init
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\pandoraboxevent.cpp
_TEXT	SEGMENT
_i$220413 = -16						; size = 4
_i$220409 = -12						; size = 4
_i$220405 = -8						; size = 4
_this$ = -4						; size = 4
?Init@cPandoraBoxEvent@@QAEXXZ PROC			; cPandoraBoxEvent::Init
; _this$ = ecx

; 15   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 16   : 	this->Started = false;

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	c6 40 04 00	 mov	 BYTE PTR [eax+4], 0

; 17   : 	this->EventTimeSecond = 0;

  00013	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00016	c7 80 4c 1b 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+6988], 0

; 18   : 	this->CountCord = 0;

  00020	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00023	c7 80 18 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3608], 0

; 19   : 	this->CountTimes = 0;

  0002d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00030	c7 80 bc 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3772], 0

; 20   : 	this->CountReward = 0;

  0003a	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0003d	c7 80 40 1b 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+6976], 0

; 21   : 	this->ActiveMap = 0;

  00047	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0004a	c7 80 44 1b 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+6980], 0

; 22   : 	this->Started = false;

  00054	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00057	c6 40 04 00	 mov	 BYTE PTR [eax+4], 0

; 23   : 	this->EventTime = 0;

  0005b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0005e	c7 80 48 1b 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+6984], 0

; 24   : 	this->EventTimeSecond = 0;

  00068	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0006b	c7 80 4c 1b 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+6988], 0

; 25   : 
; 26   : 
; 27   : 	this->RewardCredits = 0;

  00075	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00078	c7 80 58 1b 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+7000], 0

; 28   : 	this->RewardWcoinC = 0;

  00082	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00085	c7 80 5c 1b 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+7004], 0

; 29   : 	this->RewardWcoinP = 0;

  0008f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00092	c7 80 60 1b 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+7008], 0

; 30   : 	this->RewardGoblinPoints = 0;

  0009c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0009f	c7 80 64 1b 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+7012], 0

; 31   : 
; 32   : 	for (int i = 0; i < PAN_EVENT_MAX_CORD; i++)

  000a9	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$220405[ebp], 0
  000b0	eb 09		 jmp	 SHORT $LN9@Init
$LN8@Init:
  000b2	8b 45 f8	 mov	 eax, DWORD PTR _i$220405[ebp]
  000b5	83 c0 01	 add	 eax, 1
  000b8	89 45 f8	 mov	 DWORD PTR _i$220405[ebp], eax
$LN9@Init:
  000bb	81 7d f8 2c 01
	00 00		 cmp	 DWORD PTR _i$220405[ebp], 300 ; 0000012cH
  000c2	7d 35		 jge	 SHORT $LN7@Init

; 33   : 	{
; 34   : 		Cords[i].Map = 0;

  000c4	8b 45 f8	 mov	 eax, DWORD PTR _i$220405[ebp]
  000c7	6b c0 0c	 imul	 eax, 12			; 0000000cH
  000ca	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000cd	c7 44 01 10 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+16], 0

; 35   : 		Cords[i].X = 0;

  000d5	8b 45 f8	 mov	 eax, DWORD PTR _i$220405[ebp]
  000d8	6b c0 0c	 imul	 eax, 12			; 0000000cH
  000db	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000de	c7 44 01 08 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+8], 0

; 36   : 		Cords[i].Y = 0;

  000e6	8b 45 f8	 mov	 eax, DWORD PTR _i$220405[ebp]
  000e9	6b c0 0c	 imul	 eax, 12			; 0000000cH
  000ec	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000ef	c7 44 01 0c 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+12], 0

; 37   : 	}

  000f7	eb b9		 jmp	 SHORT $LN8@Init
$LN7@Init:

; 38   : 	for (int i = 0; i < PAN_EVENT_MAX_TIME; i++)

  000f9	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _i$220409[ebp], 0
  00100	eb 09		 jmp	 SHORT $LN6@Init
$LN5@Init:
  00102	8b 45 f4	 mov	 eax, DWORD PTR _i$220409[ebp]
  00105	83 c0 01	 add	 eax, 1
  00108	89 45 f4	 mov	 DWORD PTR _i$220409[ebp], eax
$LN6@Init:
  0010b	83 7d f4 14	 cmp	 DWORD PTR _i$220409[ebp], 20 ; 00000014H
  0010f	7d 24		 jge	 SHORT $LN4@Init

; 39   : 	{
; 40   : 		Times[i].Hour = 0;

  00111	8b 45 f4	 mov	 eax, DWORD PTR _i$220409[ebp]
  00114	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00117	c7 84 c1 1c 0e
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax*8+3612], 0

; 41   : 		Times[i].Min = 0;

  00122	8b 45 f4	 mov	 eax, DWORD PTR _i$220409[ebp]
  00125	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00128	c7 84 c1 20 0e
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax*8+3616], 0

; 42   : 	}

  00133	eb cd		 jmp	 SHORT $LN5@Init
$LN4@Init:

; 43   : 	for(int i = 0; i < PAN_EVENT_MAX_REWARD_ITEM; i++)

  00135	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _i$220413[ebp], 0
  0013c	eb 09		 jmp	 SHORT $LN3@Init
$LN2@Init:
  0013e	8b 45 f0	 mov	 eax, DWORD PTR _i$220413[ebp]
  00141	83 c0 01	 add	 eax, 1
  00144	89 45 f0	 mov	 DWORD PTR _i$220413[ebp], eax
$LN3@Init:
  00147	83 7d f0 64	 cmp	 DWORD PTR _i$220413[ebp], 100 ; 00000064H
  0014b	0f 8d a5 00 00
	00		 jge	 $LN10@Init

; 44   : 	{
; 45   : 		this->Reward[i].Type	= 0;

  00151	8b 45 f0	 mov	 eax, DWORD PTR _i$220413[ebp]
  00154	c1 e0 05	 shl	 eax, 5
  00157	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0015a	c7 84 01 c0 0e
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+3776], 0

; 46   : 		this->Reward[i].Index	= 0;

  00165	8b 45 f0	 mov	 eax, DWORD PTR _i$220413[ebp]
  00168	c1 e0 05	 shl	 eax, 5
  0016b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0016e	c7 84 01 c4 0e
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+3780], 0

; 47   : 		this->Reward[i].Level	= 0;

  00179	8b 45 f0	 mov	 eax, DWORD PTR _i$220413[ebp]
  0017c	c1 e0 05	 shl	 eax, 5
  0017f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00182	c7 84 01 c8 0e
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+3784], 0

; 48   : 		this->Reward[i].Skill	= 0;

  0018d	8b 45 f0	 mov	 eax, DWORD PTR _i$220413[ebp]
  00190	c1 e0 05	 shl	 eax, 5
  00193	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00196	c7 84 01 cc 0e
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+3788], 0

; 49   : 		this->Reward[i].Luck	= 0;

  001a1	8b 45 f0	 mov	 eax, DWORD PTR _i$220413[ebp]
  001a4	c1 e0 05	 shl	 eax, 5
  001a7	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  001aa	c7 84 01 d0 0e
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+3792], 0

; 50   : 		this->Reward[i].Opt		= 0;

  001b5	8b 45 f0	 mov	 eax, DWORD PTR _i$220413[ebp]
  001b8	c1 e0 05	 shl	 eax, 5
  001bb	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  001be	c7 84 01 d4 0e
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+3796], 0

; 51   : 		this->Reward[i].Exl		= 0;

  001c9	8b 45 f0	 mov	 eax, DWORD PTR _i$220413[ebp]
  001cc	c1 e0 05	 shl	 eax, 5
  001cf	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  001d2	c7 84 01 d8 0e
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+3800], 0

; 52   : 		this->Reward[i].Anc		= 0;

  001dd	8b 45 f0	 mov	 eax, DWORD PTR _i$220413[ebp]
  001e0	c1 e0 05	 shl	 eax, 5
  001e3	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  001e6	c7 84 01 dc 0e
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+3804], 0

; 53   : 	}

  001f1	e9 48 ff ff ff	 jmp	 $LN2@Init
$LN10@Init:

; 54   : }

  001f6	5f		 pop	 edi
  001f7	5e		 pop	 esi
  001f8	5b		 pop	 ebx
  001f9	8b e5		 mov	 esp, ebp
  001fb	5d		 pop	 ebp
  001fc	c3		 ret	 0
?Init@cPandoraBoxEvent@@QAEXXZ ENDP			; cPandoraBoxEvent::Init
_TEXT	ENDS
PUBLIC	??_C@_0BI@HDMMBKBM@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_05OKMLJOMC@?$CFd?5?$CFd?$AA@		; `string'
PUBLIC	??_C@_08OOHKHLPO@?$CFd?5?$CFd?5?$CFd?$AA@	; `string'
PUBLIC	??_C@_01KDCPPGHE@r?$AA@				; `string'
PUBLIC	??_C@_0BD@EKCAIKKD@RewardGoblinPoints?$AA@	; `string'
PUBLIC	??_C@_0N@IHMIAENF@RewardWcoinP?$AA@		; `string'
PUBLIC	??_C@_0N@OGCHEFEH@RewardWcoinC?$AA@		; `string'
PUBLIC	??_C@_0O@DAOMFNJD@RewardCredits?$AA@		; `string'
PUBLIC	??_C@_09OHFGCBJB@EventTime?$AA@			; `string'
PUBLIC	??_C@_06MLPMCPDE@ExTeam?$AA@			; `string'
PUBLIC	??_C@_06CKGENIKG@Enable?$AA@			; `string'
PUBLIC	??_C@_0CF@JPLLLPEH@?4?4?2Data?2ExData?2Events?2PandoraBox@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?Load@cPandoraBoxEvent@@QAEXXZ			; cPandoraBoxEvent::Load
EXTRN	_fclose:PROC
EXTRN	_sscanf:PROC
EXTRN	?Ex_IsBadFileLine@@YA_NPADAAH@Z:PROC		; Ex_IsBadFileLine
EXTRN	_fgets:PROC
EXTRN	_feof:PROC
EXTRN	_fopen:PROC
EXTRN	__imp__GetPrivateProfileIntA@16:PROC
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
;	COMDAT ??_C@_0BI@HDMMBKBM@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BI@HDMMBKBM@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?$AA@ DB '%'
	DB	'd %d %d %d %d %d %d %d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_05OKMLJOMC@?$CFd?5?$CFd?$AA@
CONST	SEGMENT
??_C@_05OKMLJOMC@?$CFd?5?$CFd?$AA@ DB '%d %d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_08OOHKHLPO@?$CFd?5?$CFd?5?$CFd?$AA@
CONST	SEGMENT
??_C@_08OOHKHLPO@?$CFd?5?$CFd?5?$CFd?$AA@ DB '%d %d %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_01KDCPPGHE@r?$AA@
CONST	SEGMENT
??_C@_01KDCPPGHE@r?$AA@ DB 'r', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@EKCAIKKD@RewardGoblinPoints?$AA@
CONST	SEGMENT
??_C@_0BD@EKCAIKKD@RewardGoblinPoints?$AA@ DB 'RewardGoblinPoints', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@IHMIAENF@RewardWcoinP?$AA@
CONST	SEGMENT
??_C@_0N@IHMIAENF@RewardWcoinP?$AA@ DB 'RewardWcoinP', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@OGCHEFEH@RewardWcoinC?$AA@
CONST	SEGMENT
??_C@_0N@OGCHEFEH@RewardWcoinC?$AA@ DB 'RewardWcoinC', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@DAOMFNJD@RewardCredits?$AA@
CONST	SEGMENT
??_C@_0O@DAOMFNJD@RewardCredits?$AA@ DB 'RewardCredits', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_09OHFGCBJB@EventTime?$AA@
CONST	SEGMENT
??_C@_09OHFGCBJB@EventTime?$AA@ DB 'EventTime', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_06MLPMCPDE@ExTeam?$AA@
CONST	SEGMENT
??_C@_06MLPMCPDE@ExTeam?$AA@ DB 'ExTeam', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06CKGENIKG@Enable?$AA@
CONST	SEGMENT
??_C@_06CKGENIKG@Enable?$AA@ DB 'Enable', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CF@JPLLLPEH@?4?4?2Data?2ExData?2Events?2PandoraBox@
CONST	SEGMENT
??_C@_0CF@JPLLLPEH@?4?4?2Data?2ExData?2Events?2PandoraBox@ DB '..\Data\Ex'
	DB	'Data\Events\PandoraBox.ini', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_n$220447 = -324					; size = 32
_n$220443 = -292					; size = 8
_n$220439 = -284					; size = 12
_Flag$ = -272						; size = 4
_Buff$ = -268						; size = 256
_file$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
?Load@cPandoraBoxEvent@@QAEXXZ PROC			; cPandoraBoxEvent::Load
; _this$ = ecx

; 57   : {

  00200	55		 push	 ebp
  00201	8b ec		 mov	 ebp, esp
  00203	81 ec 84 01 00
	00		 sub	 esp, 388		; 00000184H
  00209	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0020e	33 c5		 xor	 eax, ebp
  00210	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00213	53		 push	 ebx
  00214	56		 push	 esi
  00215	57		 push	 edi
  00216	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 58   : 	this->Init();

  00219	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0021c	e8 00 00 00 00	 call	 ?Init@cPandoraBoxEvent@@QAEXXZ ; cPandoraBoxEvent::Init

; 59   : 	this->Enable = GetPrivateProfileInt("ExTeam","Enable",0,PANDORA_EVENT_DIR);

  00221	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@JPLLLPEH@?4?4?2Data?2ExData?2Events?2PandoraBox@
  00226	6a 00		 push	 0
  00228	68 00 00 00 00	 push	 OFFSET ??_C@_06CKGENIKG@Enable?$AA@
  0022d	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00232	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00238	85 c0		 test	 eax, eax
  0023a	0f 95 c0	 setne	 al
  0023d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00240	88 41 05	 mov	 BYTE PTR [ecx+5], al

; 60   : 	if (!this->Enable)

  00243	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00246	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  0024a	85 c9		 test	 ecx, ecx
  0024c	75 05		 jne	 SHORT $LN13@Load

; 61   : 	{
; 62   : 		return;

  0024e	e9 1c 04 00 00	 jmp	 $LN14@Load
$LN13@Load:

; 63   : 	}
; 64   : 	
; 65   : 	this->EventTime = GetPrivateProfileInt("ExTeam","EventTime",10,PANDORA_EVENT_DIR);

  00253	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@JPLLLPEH@?4?4?2Data?2ExData?2Events?2PandoraBox@
  00258	6a 0a		 push	 10			; 0000000aH
  0025a	68 00 00 00 00	 push	 OFFSET ??_C@_09OHFGCBJB@EventTime?$AA@
  0025f	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00264	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0026a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0026d	89 81 48 1b 00
	00		 mov	 DWORD PTR [ecx+6984], eax

; 66   : 	this->RewardCredits = GetPrivateProfileInt("ExTeam","RewardCredits",0,PANDORA_EVENT_DIR);

  00273	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@JPLLLPEH@?4?4?2Data?2ExData?2Events?2PandoraBox@
  00278	6a 00		 push	 0
  0027a	68 00 00 00 00	 push	 OFFSET ??_C@_0O@DAOMFNJD@RewardCredits?$AA@
  0027f	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00284	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0028a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0028d	89 81 58 1b 00
	00		 mov	 DWORD PTR [ecx+7000], eax

; 67   : 	this->RewardWcoinC = GetPrivateProfileInt("ExTeam","RewardWcoinC",0,PANDORA_EVENT_DIR);

  00293	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@JPLLLPEH@?4?4?2Data?2ExData?2Events?2PandoraBox@
  00298	6a 00		 push	 0
  0029a	68 00 00 00 00	 push	 OFFSET ??_C@_0N@OGCHEFEH@RewardWcoinC?$AA@
  0029f	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  002a4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  002aa	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002ad	89 81 5c 1b 00
	00		 mov	 DWORD PTR [ecx+7004], eax

; 68   : 	this->RewardWcoinP = GetPrivateProfileInt("ExTeam","RewardWcoinP",0,PANDORA_EVENT_DIR);

  002b3	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@JPLLLPEH@?4?4?2Data?2ExData?2Events?2PandoraBox@
  002b8	6a 00		 push	 0
  002ba	68 00 00 00 00	 push	 OFFSET ??_C@_0N@IHMIAENF@RewardWcoinP?$AA@
  002bf	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  002c4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  002ca	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002cd	89 81 60 1b 00
	00		 mov	 DWORD PTR [ecx+7008], eax

; 69   : 	this->RewardGoblinPoints = GetPrivateProfileInt("ExTeam","RewardGoblinPoints",0,PANDORA_EVENT_DIR);

  002d3	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@JPLLLPEH@?4?4?2Data?2ExData?2Events?2PandoraBox@
  002d8	6a 00		 push	 0
  002da	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@EKCAIKKD@RewardGoblinPoints?$AA@
  002df	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  002e4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  002ea	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002ed	89 81 64 1b 00
	00		 mov	 DWORD PTR [ecx+7012], eax

; 70   : 
; 71   : 	FILE *file = fopen(PANDORA_EVENT_DIR,"r");

  002f3	68 00 00 00 00	 push	 OFFSET ??_C@_01KDCPPGHE@r?$AA@
  002f8	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@JPLLLPEH@?4?4?2Data?2ExData?2Events?2PandoraBox@
  002fd	e8 00 00 00 00	 call	 _fopen
  00302	83 c4 08	 add	 esp, 8
  00305	89 45 f4	 mov	 DWORD PTR _file$[ebp], eax

; 72   : 
; 73   : 	if(file == NULL)

  00308	83 7d f4 00	 cmp	 DWORD PTR _file$[ebp], 0
  0030c	75 0c		 jne	 SHORT $LN12@Load

; 74   : 	{
; 75   : 		this->Enable = 0;

  0030e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00311	c6 40 05 00	 mov	 BYTE PTR [eax+5], 0

; 76   : 		return;

  00315	e9 55 03 00 00	 jmp	 $LN14@Load
$LN12@Load:

; 77   : 	}
; 78   : 
; 79   : 	char Buff[256];
; 80   : 	int Flag = 0;

  0031a	c7 85 f0 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _Flag$[ebp], 0
$LN11@Load:

; 81   : 
; 82   : 	while(!feof(file))

  00324	8b 45 f4	 mov	 eax, DWORD PTR _file$[ebp]
  00327	50		 push	 eax
  00328	e8 00 00 00 00	 call	 _feof
  0032d	83 c4 04	 add	 esp, 4
  00330	85 c0		 test	 eax, eax
  00332	0f 85 2b 03 00
	00		 jne	 $LN10@Load

; 83   : 	{
; 84   : 		fgets(Buff,256,file);	

  00338	8b 45 f4	 mov	 eax, DWORD PTR _file$[ebp]
  0033b	50		 push	 eax
  0033c	68 00 01 00 00	 push	 256			; 00000100H
  00341	8d 8d f4 fe ff
	ff		 lea	 ecx, DWORD PTR _Buff$[ebp]
  00347	51		 push	 ecx
  00348	e8 00 00 00 00	 call	 _fgets
  0034d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 85   : 		if(Ex_IsBadFileLine(Buff, Flag))	

  00350	8d 85 f0 fe ff
	ff		 lea	 eax, DWORD PTR _Flag$[ebp]
  00356	50		 push	 eax
  00357	8d 8d f4 fe ff
	ff		 lea	 ecx, DWORD PTR _Buff$[ebp]
  0035d	51		 push	 ecx
  0035e	e8 00 00 00 00	 call	 ?Ex_IsBadFileLine@@YA_NPADAAH@Z ; Ex_IsBadFileLine
  00363	83 c4 08	 add	 esp, 8
  00366	0f b6 d0	 movzx	 edx, al
  00369	85 d2		 test	 edx, edx
  0036b	74 02		 je	 SHORT $LN9@Load

; 86   : 			continue;

  0036d	eb b5		 jmp	 SHORT $LN11@Load
$LN9@Load:

; 87   : 
; 88   : 		if(Flag == 1)

  0036f	83 bd f0 fe ff
	ff 01		 cmp	 DWORD PTR _Flag$[ebp], 1
  00376	0f 85 9d 00 00
	00		 jne	 $LN8@Load

; 89   : 		{
; 90   : 			int n[3];
; 91   : 			sscanf(Buff, "%d %d %d",&n[0],&n[1],&n[2]);

  0037c	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _n$220439[ebp+8]
  00382	50		 push	 eax
  00383	8d 8d e8 fe ff
	ff		 lea	 ecx, DWORD PTR _n$220439[ebp+4]
  00389	51		 push	 ecx
  0038a	8d 95 e4 fe ff
	ff		 lea	 edx, DWORD PTR _n$220439[ebp]
  00390	52		 push	 edx
  00391	68 00 00 00 00	 push	 OFFSET ??_C@_08OOHKHLPO@?$CFd?5?$CFd?5?$CFd?$AA@
  00396	8d 85 f4 fe ff
	ff		 lea	 eax, DWORD PTR _Buff$[ebp]
  0039c	50		 push	 eax
  0039d	e8 00 00 00 00	 call	 _sscanf
  003a2	83 c4 14	 add	 esp, 20			; 00000014H

; 92   : 
; 93   : 			this->Cords[this->CountCord].Map	= n[0];

  003a5	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003a8	8b 88 18 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3608]
  003ae	6b c9 0c	 imul	 ecx, 12			; 0000000cH
  003b1	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  003b4	8b 85 e4 fe ff
	ff		 mov	 eax, DWORD PTR _n$220439[ebp]
  003ba	89 44 0a 10	 mov	 DWORD PTR [edx+ecx+16], eax

; 94   : 			this->Cords[this->CountCord].X		= n[1];

  003be	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003c1	8b 88 18 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3608]
  003c7	6b c9 0c	 imul	 ecx, 12			; 0000000cH
  003ca	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  003cd	8b 85 e8 fe ff
	ff		 mov	 eax, DWORD PTR _n$220439[ebp+4]
  003d3	89 44 0a 08	 mov	 DWORD PTR [edx+ecx+8], eax

; 95   : 			this->Cords[this->CountCord].Y		= n[2];

  003d7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003da	8b 88 18 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3608]
  003e0	6b c9 0c	 imul	 ecx, 12			; 0000000cH
  003e3	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  003e6	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _n$220439[ebp+8]
  003ec	89 44 0a 0c	 mov	 DWORD PTR [edx+ecx+12], eax

; 96   : 
; 97   : 			this->CountCord++;

  003f0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003f3	8b 88 18 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3608]
  003f9	83 c1 01	 add	 ecx, 1
  003fc	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  003ff	89 8a 18 0e 00
	00		 mov	 DWORD PTR [edx+3608], ecx

; 98   : 
; 99   : 			if (this->CountCord >= PAN_EVENT_MAX_CORD)

  00405	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00408	81 b8 18 0e 00
	00 2c 01 00 00	 cmp	 DWORD PTR [eax+3608], 300 ; 0000012cH
  00412	7c 05		 jl	 SHORT $LN8@Load

; 100  : 			{
; 101  : 				break;

  00414	e9 4a 02 00 00	 jmp	 $LN10@Load
$LN8@Load:

; 102  : 			}
; 103  : 		}
; 104  : 		if(Flag == 2)

  00419	83 bd f0 fe ff
	ff 02		 cmp	 DWORD PTR _Flag$[ebp], 2
  00420	75 7a		 jne	 SHORT $LN6@Load

; 105  : 		{
; 106  : 			int n[2];
; 107  : 			sscanf(Buff, "%d %d",&n[0],&n[1]);

  00422	8d 85 e0 fe ff
	ff		 lea	 eax, DWORD PTR _n$220443[ebp+4]
  00428	50		 push	 eax
  00429	8d 8d dc fe ff
	ff		 lea	 ecx, DWORD PTR _n$220443[ebp]
  0042f	51		 push	 ecx
  00430	68 00 00 00 00	 push	 OFFSET ??_C@_05OKMLJOMC@?$CFd?5?$CFd?$AA@
  00435	8d 95 f4 fe ff
	ff		 lea	 edx, DWORD PTR _Buff$[ebp]
  0043b	52		 push	 edx
  0043c	e8 00 00 00 00	 call	 _sscanf
  00441	83 c4 10	 add	 esp, 16			; 00000010H

; 108  : 
; 109  : 			this->Times[this->CountTimes].Hour	= n[0];

  00444	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00447	8b 88 bc 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3772]
  0044d	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00450	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _n$220443[ebp]
  00456	89 84 ca 1c 0e
	00 00		 mov	 DWORD PTR [edx+ecx*8+3612], eax

; 110  : 			this->Times[this->CountTimes].Min	= n[1];

  0045d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00460	8b 88 bc 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3772]
  00466	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00469	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _n$220443[ebp+4]
  0046f	89 84 ca 20 0e
	00 00		 mov	 DWORD PTR [edx+ecx*8+3616], eax

; 111  : 
; 112  : 			this->CountTimes++;

  00476	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00479	8b 88 bc 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3772]
  0047f	83 c1 01	 add	 ecx, 1
  00482	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00485	89 8a bc 0e 00
	00		 mov	 DWORD PTR [edx+3772], ecx

; 113  : 
; 114  : 			if (this->CountTimes >= PAN_EVENT_MAX_TIME)

  0048b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0048e	83 b8 bc 0e 00
	00 14		 cmp	 DWORD PTR [eax+3772], 20 ; 00000014H
  00495	7c 05		 jl	 SHORT $LN6@Load

; 115  : 			{
; 116  : 				break;

  00497	e9 c7 01 00 00	 jmp	 $LN10@Load
$LN6@Load:

; 117  : 			}
; 118  : 		}
; 119  : 		if(Flag == 3)

  0049c	83 bd f0 fe ff
	ff 03		 cmp	 DWORD PTR _Flag$[ebp], 3
  004a3	0f 85 b5 01 00
	00		 jne	 $LN4@Load

; 120  : 		{
; 121  : 			int n[8];
; 122  : 			sscanf(Buff, "%d %d %d %d %d %d %d %d",&n[0],&n[1],&n[2],&n[3],&n[4],&n[5],&n[6],&n[7]);

  004a9	8d 85 d8 fe ff
	ff		 lea	 eax, DWORD PTR _n$220447[ebp+28]
  004af	50		 push	 eax
  004b0	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR _n$220447[ebp+24]
  004b6	51		 push	 ecx
  004b7	8d 95 d0 fe ff
	ff		 lea	 edx, DWORD PTR _n$220447[ebp+20]
  004bd	52		 push	 edx
  004be	8d 85 cc fe ff
	ff		 lea	 eax, DWORD PTR _n$220447[ebp+16]
  004c4	50		 push	 eax
  004c5	8d 8d c8 fe ff
	ff		 lea	 ecx, DWORD PTR _n$220447[ebp+12]
  004cb	51		 push	 ecx
  004cc	8d 95 c4 fe ff
	ff		 lea	 edx, DWORD PTR _n$220447[ebp+8]
  004d2	52		 push	 edx
  004d3	8d 85 c0 fe ff
	ff		 lea	 eax, DWORD PTR _n$220447[ebp+4]
  004d9	50		 push	 eax
  004da	8d 8d bc fe ff
	ff		 lea	 ecx, DWORD PTR _n$220447[ebp]
  004e0	51		 push	 ecx
  004e1	68 00 00 00 00	 push	 OFFSET ??_C@_0BI@HDMMBKBM@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?$AA@
  004e6	8d 95 f4 fe ff
	ff		 lea	 edx, DWORD PTR _Buff$[ebp]
  004ec	52		 push	 edx
  004ed	e8 00 00 00 00	 call	 _sscanf
  004f2	83 c4 28	 add	 esp, 40			; 00000028H

; 123  : 
; 124  : 			this->Reward[this->CountReward].Type		= n[0];

  004f5	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  004f8	8b 88 40 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6976]
  004fe	c1 e1 05	 shl	 ecx, 5
  00501	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00504	8b 85 bc fe ff
	ff		 mov	 eax, DWORD PTR _n$220447[ebp]
  0050a	89 84 0a c0 0e
	00 00		 mov	 DWORD PTR [edx+ecx+3776], eax

; 125  : 			this->Reward[this->CountReward].Index		= n[1];

  00511	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00514	8b 88 40 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6976]
  0051a	c1 e1 05	 shl	 ecx, 5
  0051d	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00520	8b 85 c0 fe ff
	ff		 mov	 eax, DWORD PTR _n$220447[ebp+4]
  00526	89 84 0a c4 0e
	00 00		 mov	 DWORD PTR [edx+ecx+3780], eax

; 126  : 			this->Reward[this->CountReward].Level		= n[2];

  0052d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00530	8b 88 40 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6976]
  00536	c1 e1 05	 shl	 ecx, 5
  00539	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0053c	8b 85 c4 fe ff
	ff		 mov	 eax, DWORD PTR _n$220447[ebp+8]
  00542	89 84 0a c8 0e
	00 00		 mov	 DWORD PTR [edx+ecx+3784], eax

; 127  : 			this->Reward[this->CountReward].Skill		= n[3];

  00549	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0054c	8b 88 40 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6976]
  00552	c1 e1 05	 shl	 ecx, 5
  00555	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00558	8b 85 c8 fe ff
	ff		 mov	 eax, DWORD PTR _n$220447[ebp+12]
  0055e	89 84 0a cc 0e
	00 00		 mov	 DWORD PTR [edx+ecx+3788], eax

; 128  : 			this->Reward[this->CountReward].Luck		= n[4];

  00565	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00568	8b 88 40 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6976]
  0056e	c1 e1 05	 shl	 ecx, 5
  00571	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00574	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _n$220447[ebp+16]
  0057a	89 84 0a d0 0e
	00 00		 mov	 DWORD PTR [edx+ecx+3792], eax

; 129  : 			this->Reward[this->CountReward].Opt		= n[5];

  00581	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00584	8b 88 40 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6976]
  0058a	c1 e1 05	 shl	 ecx, 5
  0058d	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00590	8b 85 d0 fe ff
	ff		 mov	 eax, DWORD PTR _n$220447[ebp+20]
  00596	89 84 0a d4 0e
	00 00		 mov	 DWORD PTR [edx+ecx+3796], eax

; 130  : 			this->Reward[this->CountReward].Exl		= n[6];

  0059d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005a0	8b 88 40 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6976]
  005a6	c1 e1 05	 shl	 ecx, 5
  005a9	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  005ac	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _n$220447[ebp+24]
  005b2	89 84 0a d8 0e
	00 00		 mov	 DWORD PTR [edx+ecx+3800], eax

; 131  : 			this->Reward[this->CountReward].Anc		= n[7];

  005b9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005bc	8b 88 40 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6976]
  005c2	c1 e1 05	 shl	 ecx, 5
  005c5	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  005c8	8b 85 d8 fe ff
	ff		 mov	 eax, DWORD PTR _n$220447[ebp+28]
  005ce	89 84 0a dc 0e
	00 00		 mov	 DWORD PTR [edx+ecx+3804], eax

; 132  : 			
; 133  : 			
; 134  : 			if(this->Reward[this->CountReward].Skill) this->Reward[this->CountReward].Skill = 1;

  005d5	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005d8	8b 88 40 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6976]
  005de	c1 e1 05	 shl	 ecx, 5
  005e1	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  005e4	83 bc 0a cc 0e
	00 00 00	 cmp	 DWORD PTR [edx+ecx+3788], 0
  005ec	74 1a		 je	 SHORT $LN3@Load
  005ee	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005f1	8b 88 40 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6976]
  005f7	c1 e1 05	 shl	 ecx, 5
  005fa	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  005fd	c7 84 0a cc 0e
	00 00 01 00 00
	00		 mov	 DWORD PTR [edx+ecx+3788], 1
$LN3@Load:

; 135  : 			if(this->Reward[this->CountReward].Luck) this->Reward[this->CountReward].Luck = 1;

  00608	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0060b	8b 88 40 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6976]
  00611	c1 e1 05	 shl	 ecx, 5
  00614	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00617	83 bc 0a d0 0e
	00 00 00	 cmp	 DWORD PTR [edx+ecx+3792], 0
  0061f	74 1a		 je	 SHORT $LN2@Load
  00621	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00624	8b 88 40 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6976]
  0062a	c1 e1 05	 shl	 ecx, 5
  0062d	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00630	c7 84 0a d0 0e
	00 00 01 00 00
	00		 mov	 DWORD PTR [edx+ecx+3792], 1
$LN2@Load:

; 136  : 
; 137  : 			this->CountReward++;

  0063b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0063e	8b 88 40 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6976]
  00644	83 c1 01	 add	 ecx, 1
  00647	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0064a	89 8a 40 1b 00
	00		 mov	 DWORD PTR [edx+6976], ecx

; 138  : 
; 139  : 			if (this->CountReward >= PAN_EVENT_MAX_REWARD_ITEM)

  00650	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00653	83 b8 40 1b 00
	00 64		 cmp	 DWORD PTR [eax+6976], 100 ; 00000064H
  0065a	7c 02		 jl	 SHORT $LN4@Load

; 140  : 			{
; 141  : 				break;

  0065c	eb 05		 jmp	 SHORT $LN10@Load
$LN4@Load:

; 142  : 			}
; 143  : 		}
; 144  : 	}

  0065e	e9 c1 fc ff ff	 jmp	 $LN11@Load
$LN10@Load:

; 145  : 	fclose(file);

  00663	8b 45 f4	 mov	 eax, DWORD PTR _file$[ebp]
  00666	50		 push	 eax
  00667	e8 00 00 00 00	 call	 _fclose
  0066c	83 c4 04	 add	 esp, 4
$LN14@Load:

; 146  : }

  0066f	5f		 pop	 edi
  00670	5e		 pop	 esi
  00671	5b		 pop	 ebx
  00672	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00675	33 cd		 xor	 ecx, ebp
  00677	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0067c	8b e5		 mov	 esp, ebp
  0067e	5d		 pop	 ebp
  0067f	c3		 ret	 0
?Load@cPandoraBoxEvent@@QAEXXZ ENDP			; cPandoraBoxEvent::Load
_TEXT	ENDS
PUBLIC	?Start@cPandoraBoxEvent@@QAEXXZ			; cPandoraBoxEvent::Start
PUBLIC	?End@cPandoraBoxEvent@@QAEXXZ			; cPandoraBoxEvent::End
PUBLIC	__$ArrayPad$
PUBLIC	?TickTime@cPandoraBoxEvent@@QAEXXZ		; cPandoraBoxEvent::TickTime
EXTRN	?GetSecond@CTimerEx@@QAEHXZ:PROC		; CTimerEx::GetSecond
EXTRN	?g_TimerEx@@3VCTimerEx@@A:DWORD			; g_TimerEx
EXTRN	__imp__GetLocalTime@4:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_i$220462 = -28						; size = 4
_time$ = -24						; size = 16
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
?TickTime@cPandoraBoxEvent@@QAEXXZ PROC			; cPandoraBoxEvent::TickTime
; _this$ = ecx

; 148  : {

  00680	55		 push	 ebp
  00681	8b ec		 mov	 ebp, esp
  00683	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00686	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0068b	33 c5		 xor	 eax, ebp
  0068d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00690	53		 push	 ebx
  00691	56		 push	 esi
  00692	57		 push	 edi
  00693	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 149  : 	if (!this->Enable) return;

  00696	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00699	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  0069d	85 c9		 test	 ecx, ecx
  0069f	75 05		 jne	 SHORT $LN10@TickTime
  006a1	e9 ad 00 00 00	 jmp	 $LN11@TickTime
$LN10@TickTime:

; 150  : 
; 151  : 	SYSTEMTIME time;
; 152  : 	GetLocalTime(&time);

  006a6	8d 45 e8	 lea	 eax, DWORD PTR _time$[ebp]
  006a9	50		 push	 eax
  006aa	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetLocalTime@4

; 153  : 	if (this->Started)

  006b0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006b3	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  006b7	85 c9		 test	 ecx, ecx
  006b9	74 38		 je	 SHORT $LN9@TickTime

; 154  : 	{
; 155  : 		if ((this->EventTime * 60) > this->EventTimeSecond )

  006bb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006be	8b 88 48 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6984]
  006c4	6b c9 3c	 imul	 ecx, 60			; 0000003cH
  006c7	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  006ca	3b 8a 4c 1b 00
	00		 cmp	 ecx, DWORD PTR [edx+6988]
  006d0	7e 17		 jle	 SHORT $LN8@TickTime

; 156  : 		{
; 157  : 			this->EventTimeSecond++;

  006d2	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006d5	8b 88 4c 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6988]
  006db	83 c1 01	 add	 ecx, 1
  006de	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  006e1	89 8a 4c 1b 00
	00		 mov	 DWORD PTR [edx+6988], ecx

; 158  : 		}
; 159  : 		else

  006e7	eb 08		 jmp	 SHORT $LN7@TickTime
$LN8@TickTime:

; 160  : 		{
; 161  : 			this->End();

  006e9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  006ec	e8 00 00 00 00	 call	 ?End@cPandoraBoxEvent@@QAEXXZ ; cPandoraBoxEvent::End
$LN7@TickTime:

; 162  : 		}

  006f1	eb 60		 jmp	 SHORT $LN11@TickTime
$LN9@TickTime:

; 163  : 	}
; 164  : #if(NEWTIMEREX)
; 165  : 	else if(g_TimerEx.GetSecond() == 00)

  006f3	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_TimerEx@@3VCTimerEx@@A ; g_TimerEx
  006f8	e8 00 00 00 00	 call	 ?GetSecond@CTimerEx@@QAEHXZ ; CTimerEx::GetSecond
  006fd	85 c0		 test	 eax, eax
  006ff	75 52		 jne	 SHORT $LN11@TickTime

; 166  : #else
; 167  : 	else if(time.wSecond == 00)
; 168  : #endif
; 169  : 	{
; 170  : 		for(int i = 0; i < this->CountTimes; i++)

  00701	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _i$220462[ebp], 0
  00708	eb 09		 jmp	 SHORT $LN4@TickTime
$LN3@TickTime:
  0070a	8b 45 e4	 mov	 eax, DWORD PTR _i$220462[ebp]
  0070d	83 c0 01	 add	 eax, 1
  00710	89 45 e4	 mov	 DWORD PTR _i$220462[ebp], eax
$LN4@TickTime:
  00713	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00716	8b 4d e4	 mov	 ecx, DWORD PTR _i$220462[ebp]
  00719	3b 88 bc 0e 00
	00		 cmp	 ecx, DWORD PTR [eax+3772]
  0071f	7d 32		 jge	 SHORT $LN11@TickTime

; 171  : 		{
; 172  : 			if(Times[i].Hour == time.wHour && Times[i].Min == time.wMinute)

  00721	0f b7 45 f0	 movzx	 eax, WORD PTR _time$[ebp+8]
  00725	8b 4d e4	 mov	 ecx, DWORD PTR _i$220462[ebp]
  00728	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0072b	39 84 ca 1c 0e
	00 00		 cmp	 DWORD PTR [edx+ecx*8+3612], eax
  00732	75 1d		 jne	 SHORT $LN1@TickTime
  00734	0f b7 45 f2	 movzx	 eax, WORD PTR _time$[ebp+10]
  00738	8b 4d e4	 mov	 ecx, DWORD PTR _i$220462[ebp]
  0073b	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0073e	39 84 ca 20 0e
	00 00		 cmp	 DWORD PTR [edx+ecx*8+3616], eax
  00745	75 0a		 jne	 SHORT $LN1@TickTime

; 173  : 			{
; 174  : 				this->Start();

  00747	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0074a	e8 00 00 00 00	 call	 ?Start@cPandoraBoxEvent@@QAEXXZ ; cPandoraBoxEvent::Start

; 175  : 				break;

  0074f	eb 02		 jmp	 SHORT $LN11@TickTime
$LN1@TickTime:

; 176  : 			}
; 177  : 		}

  00751	eb b7		 jmp	 SHORT $LN3@TickTime
$LN11@TickTime:

; 178  : 	}
; 179  : }

  00753	5f		 pop	 edi
  00754	5e		 pop	 esi
  00755	5b		 pop	 ebx
  00756	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00759	33 cd		 xor	 ecx, ebp
  0075b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00760	8b e5		 mov	 esp, ebp
  00762	5d		 pop	 ebp
  00763	c3		 ret	 0
?TickTime@cPandoraBoxEvent@@QAEXXZ ENDP			; cPandoraBoxEvent::TickTime
_TEXT	ENDS
PUBLIC	?RespawnBox@cPandoraBoxEvent@@QAEXUCordsBox@@@Z	; cPandoraBoxEvent::RespawnBox
PUBLIC	??_C@_0BI@JJGNLODH@?$FLPandora?5Event?$FN?5Started?$AA@ ; `string'
PUBLIC	__$ArrayPad$
EXTRN	?MessaageAllGlobal@@YAXPADZZ:PROC		; MessaageAllGlobal
EXTRN	_rand:PROC
EXTRN	_srand:PROC
;	COMDAT ??_C@_0BI@JJGNLODH@?$FLPandora?5Event?$FN?5Started?$AA@
CONST	SEGMENT
??_C@_0BI@JJGNLODH@?$FLPandora?5Event?$FN?5Started?$AA@ DB '[Pandora Even'
	DB	't] Started', 00H				; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_RandCord$ = -20					; size = 12
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
?Start@cPandoraBoxEvent@@QAEXXZ PROC			; cPandoraBoxEvent::Start
; _this$ = ecx

; 181  : {

  00770	55		 push	 ebp
  00771	8b ec		 mov	 ebp, esp
  00773	83 ec 54	 sub	 esp, 84			; 00000054H
  00776	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0077b	33 c5		 xor	 eax, ebp
  0077d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00780	53		 push	 ebx
  00781	56		 push	 esi
  00782	57		 push	 edi
  00783	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 182  : 	if (!this->Enable) return;

  00786	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00789	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  0078d	85 c9		 test	 ecx, ecx
  0078f	75 02		 jne	 SHORT $LN1@Start
  00791	eb 6f		 jmp	 SHORT $LN2@Start
$LN1@Start:

; 183  : 
; 184  : 	this->Started = true;

  00793	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00796	c6 40 04 01	 mov	 BYTE PTR [eax+4], 1

; 185  : 	srand(time(NULL));

  0079a	6a 00		 push	 0
  0079c	e8 00 00 00 00	 call	 _time
  007a1	83 c4 04	 add	 esp, 4
  007a4	50		 push	 eax
  007a5	e8 00 00 00 00	 call	 _srand
  007aa	83 c4 04	 add	 esp, 4

; 186  : 	CordsBox RandCord = Cords[rand()%this->CountCord];

  007ad	e8 00 00 00 00	 call	 _rand
  007b2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  007b5	99		 cdq
  007b6	f7 b9 18 0e 00
	00		 idiv	 DWORD PTR [ecx+3608]
  007bc	6b d2 0c	 imul	 edx, 12			; 0000000cH
  007bf	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  007c2	8d 4c 10 08	 lea	 ecx, DWORD PTR [eax+edx+8]
  007c6	8b 11		 mov	 edx, DWORD PTR [ecx]
  007c8	89 55 ec	 mov	 DWORD PTR _RandCord$[ebp], edx
  007cb	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]
  007ce	89 45 f0	 mov	 DWORD PTR _RandCord$[ebp+4], eax
  007d1	8b 49 08	 mov	 ecx, DWORD PTR [ecx+8]
  007d4	89 4d f4	 mov	 DWORD PTR _RandCord$[ebp+8], ecx

; 187  : 	
; 188  : 	MessaageAllGlobal("[Pandora Event] Started");

  007d7	68 00 00 00 00	 push	 OFFSET ??_C@_0BI@JJGNLODH@?$FLPandora?5Event?$FN?5Started?$AA@
  007dc	e8 00 00 00 00	 call	 ?MessaageAllGlobal@@YAXPADZZ ; MessaageAllGlobal
  007e1	83 c4 04	 add	 esp, 4

; 189  : 	this->RespawnBox(RandCord);

  007e4	83 ec 0c	 sub	 esp, 12			; 0000000cH
  007e7	8b c4		 mov	 eax, esp
  007e9	8b 4d ec	 mov	 ecx, DWORD PTR _RandCord$[ebp]
  007ec	89 08		 mov	 DWORD PTR [eax], ecx
  007ee	8b 55 f0	 mov	 edx, DWORD PTR _RandCord$[ebp+4]
  007f1	89 50 04	 mov	 DWORD PTR [eax+4], edx
  007f4	8b 4d f4	 mov	 ecx, DWORD PTR _RandCord$[ebp+8]
  007f7	89 48 08	 mov	 DWORD PTR [eax+8], ecx
  007fa	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  007fd	e8 00 00 00 00	 call	 ?RespawnBox@cPandoraBoxEvent@@QAEXUCordsBox@@@Z ; cPandoraBoxEvent::RespawnBox
$LN2@Start:

; 190  : }

  00802	5f		 pop	 edi
  00803	5e		 pop	 esi
  00804	5b		 pop	 ebx
  00805	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00808	33 cd		 xor	 ecx, ebp
  0080a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0080f	8b e5		 mov	 esp, ebp
  00811	5d		 pop	 ebp
  00812	c3		 ret	 0
?Start@cPandoraBoxEvent@@QAEXXZ ENDP			; cPandoraBoxEvent::Start
_TEXT	ENDS
EXTRN	__time64:PROC
; Function compile flags: /Odtp /ZI
; File d:\microsoft visual studio 10.0\vc\include\time.inl
_TEXT	SEGMENT
__Time$ = 8						; size = 4
_time	PROC

; 132  : {

  00820	55		 push	 ebp
  00821	8b ec		 mov	 ebp, esp
  00823	83 ec 40	 sub	 esp, 64			; 00000040H
  00826	53		 push	 ebx
  00827	56		 push	 esi
  00828	57		 push	 edi

; 133  :     return _time64(_Time);

  00829	8b 45 08	 mov	 eax, DWORD PTR __Time$[ebp]
  0082c	50		 push	 eax
  0082d	e8 00 00 00 00	 call	 __time64
  00832	83 c4 04	 add	 esp, 4

; 134  : }

  00835	5f		 pop	 edi
  00836	5e		 pop	 esi
  00837	5b		 pop	 ebx
  00838	8b e5		 mov	 esp, ebp
  0083a	5d		 pop	 ebp
  0083b	c3		 ret	 0
_time	ENDP
_TEXT	ENDS
PUBLIC	??_C@_0BL@BKLLDJNJ@?$FLPandora?5Event?$FN?5End?5Win?5?$CFs?$AA@ ; `string'
PUBLIC	?Prize@cPandoraBoxEvent@@QAEXXZ			; cPandoraBoxEvent::Prize
EXTRN	?gObjViewportListProtocolCreate@@YAXPAUOBJECTSTRUCT@@@Z:PROC ; gObjViewportListProtocolCreate
EXTRN	?gObjDel@@YAFH@Z:PROC				; gObjDel
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
;	COMDAT ??_C@_0BL@BKLLDJNJ@?$FLPandora?5Event?$FN?5End?5Win?5?$CFs?$AA@
; File d:\projects\exteam6.3\source\gameserver\gameserver\pandoraboxevent.cpp
CONST	SEGMENT
??_C@_0BL@BKLLDJNJ@?$FLPandora?5Event?$FN?5End?5Win?5?$CFs?$AA@ DB '[Pand'
	DB	'ora Event] End Win %s', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
?End@cPandoraBoxEvent@@QAEXXZ PROC			; cPandoraBoxEvent::End
; _this$ = ecx

; 192  : {

  00840	55		 push	 ebp
  00841	8b ec		 mov	 ebp, esp
  00843	83 ec 48	 sub	 esp, 72			; 00000048H
  00846	53		 push	 ebx
  00847	56		 push	 esi
  00848	57		 push	 edi
  00849	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 193  : 	 if (!this->Enable) return;

  0084c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0084f	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  00853	85 c9		 test	 ecx, ecx
  00855	75 05		 jne	 SHORT $LN1@End
  00857	e9 97 00 00 00	 jmp	 $LN2@End
$LN1@End:

; 194  : 
; 195  : 	 this->EventTimeSecond = 0;

  0085c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0085f	c7 80 4c 1b 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+6988], 0

; 196  : 	 this->Prize();

  00869	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0086c	e8 00 00 00 00	 call	 ?Prize@cPandoraBoxEvent@@QAEXXZ ; cPandoraBoxEvent::Prize

; 197  : 	 this->Started = false;

  00871	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00874	c6 40 04 00	 mov	 BYTE PTR [eax+4], 0

; 198  : 	 LPOBJ lpObj = &gObj[this->ActivePlayer];

  00878	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0087b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0087d	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00883	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00889	89 4d f8	 mov	 DWORD PTR _lpObj$[ebp], ecx

; 199  : 	 gObjDel(this->BoxIndex);

  0088c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0088f	8b 88 54 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6996]
  00895	51		 push	 ecx
  00896	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  0089b	83 c4 04	 add	 esp, 4

; 200  : 	 this->BoxIndex = -1;

  0089e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  008a1	c7 80 54 1b 00
	00 ff ff ff ff	 mov	 DWORD PTR [eax+6996], -1

; 201  : 	 lpObj->m_Change = -1;

  008ab	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008ae	c7 80 54 04 00
	00 ff ff ff ff	 mov	 DWORD PTR [eax+1108], -1

; 202  : 	 lpObj->m_PK_Level = this->ActivePlayerPkLevel;

  008b8	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008bb	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  008be	8a 91 50 1b 00
	00		 mov	 dl, BYTE PTR [ecx+6992]
  008c4	88 90 3d 01 00
	00		 mov	 BYTE PTR [eax+317], dl

; 203  : 	 gObjViewportListProtocolCreate(lpObj);

  008ca	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008cd	50		 push	 eax
  008ce	e8 00 00 00 00	 call	 ?gObjViewportListProtocolCreate@@YAXPAUOBJECTSTRUCT@@@Z ; gObjViewportListProtocolCreate
  008d3	83 c4 04	 add	 esp, 4

; 204  : 	 this->ActivePlayer = -1;

  008d6	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  008d9	c7 00 ff ff ff
	ff		 mov	 DWORD PTR [eax], -1

; 205  : 	 MessaageAllGlobal("[Pandora Event] End Win %s", lpObj->Name);

  008df	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008e2	83 c0 77	 add	 eax, 119		; 00000077H
  008e5	50		 push	 eax
  008e6	68 00 00 00 00	 push	 OFFSET ??_C@_0BL@BKLLDJNJ@?$FLPandora?5Event?$FN?5End?5Win?5?$CFs?$AA@
  008eb	e8 00 00 00 00	 call	 ?MessaageAllGlobal@@YAXPADZZ ; MessaageAllGlobal
  008f0	83 c4 08	 add	 esp, 8
$LN2@End:

; 206  : }

  008f3	5f		 pop	 edi
  008f4	5e		 pop	 esi
  008f5	5b		 pop	 ebx
  008f6	8b e5		 mov	 esp, ebp
  008f8	5d		 pop	 ebp
  008f9	c3		 ret	 0
?End@cPandoraBoxEvent@@QAEXXZ ENDP			; cPandoraBoxEvent::End
_TEXT	ENDS
EXTRN	?gObjSetMonster@@YAHHH@Z:PROC			; gObjSetMonster
EXTRN	__imp__GetTickCount@0:PROC
EXTRN	?gObjAddMonster@@YAFH@Z:PROC			; gObjAddMonster
EXTRN	?gObjGetRandomFreeArea@@YAHHAAE0HHHHH@Z:PROC	; gObjGetRandomFreeArea
EXTRN	?CheckUser@CExLicense@@QAE_NH@Z:PROC		; CExLicense::CheckUser
EXTRN	?g_ExLicense@@3VCExLicense@@A:BYTE		; g_ExLicense
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_result$ = -12						; size = 4
_randomRespawnCords$ = -7				; size = 1
_cY$ = -6						; size = 1
_cX$ = -5						; size = 1
_this$ = -4						; size = 4
_RandCord$ = 8						; size = 12
?RespawnBox@cPandoraBoxEvent@@QAEXUCordsBox@@@Z PROC	; cPandoraBoxEvent::RespawnBox
; _this$ = ecx

; 209  : {

  00900	55		 push	 ebp
  00901	8b ec		 mov	 ebp, esp
  00903	83 ec 50	 sub	 esp, 80			; 00000050H
  00906	53		 push	 ebx
  00907	56		 push	 esi
  00908	57		 push	 edi
  00909	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 210  : 	if (!this->Enable) return;

  0090c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0090f	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  00913	85 c9		 test	 ecx, ecx
  00915	75 05		 jne	 SHORT $LN6@RespawnBox
  00917	e9 a3 03 00 00	 jmp	 $LN7@RespawnBox
$LN6@RespawnBox:

; 211  : 
; 212  : 	this->ActiveMap = RandCord.Map;

  0091c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0091f	8b 4d 10	 mov	 ecx, DWORD PTR _RandCord$[ebp+8]
  00922	89 88 44 1b 00
	00		 mov	 DWORD PTR [eax+6980], ecx

; 213  : 
; 214  : 	
; 215  : #ifdef RANDOM_BOX_CORD_PANDORA
; 216  : 	BYTE cX = 0;

  00928	c6 45 fb 00	 mov	 BYTE PTR _cX$[ebp], 0

; 217  : 	BYTE cY = 0;

  0092c	c6 45 fa 00	 mov	 BYTE PTR _cY$[ebp], 0

; 218  : 	bool randomRespawnCords = false;

  00930	c6 45 f9 00	 mov	 BYTE PTR _randomRespawnCords$[ebp], 0

; 219  : 	if (g_ExLicense.CheckUser(eExUB::ulasevich) || g_ExLicense.CheckUser(eExUB::ConflictNoCustom) || g_ExLicense.CheckUser(eExUB::ulasevich2))

  00934	6a 17		 push	 23			; 00000017H
  00936	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0093b	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  00940	0f b6 c0	 movzx	 eax, al
  00943	85 c0		 test	 eax, eax
  00945	75 26		 jne	 SHORT $LN4@RespawnBox
  00947	6a 28		 push	 40			; 00000028H
  00949	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0094e	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  00953	0f b6 c0	 movzx	 eax, al
  00956	85 c0		 test	 eax, eax
  00958	75 13		 jne	 SHORT $LN4@RespawnBox
  0095a	6a 24		 push	 36			; 00000024H
  0095c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  00961	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  00966	0f b6 c0	 movzx	 eax, al
  00969	85 c0		 test	 eax, eax
  0096b	74 2c		 je	 SHORT $LN5@RespawnBox
$LN4@RespawnBox:

; 220  : 	{
; 221  : 		randomRespawnCords = gObjGetRandomFreeArea(RandCord.Map, (BYTE &)cX, (BYTE &)cY, 0, 0, 255, 255, 100);

  0096d	6a 64		 push	 100			; 00000064H
  0096f	68 ff 00 00 00	 push	 255			; 000000ffH
  00974	68 ff 00 00 00	 push	 255			; 000000ffH
  00979	6a 00		 push	 0
  0097b	6a 00		 push	 0
  0097d	8d 45 fa	 lea	 eax, DWORD PTR _cY$[ebp]
  00980	50		 push	 eax
  00981	8d 4d fb	 lea	 ecx, DWORD PTR _cX$[ebp]
  00984	51		 push	 ecx
  00985	8b 55 10	 mov	 edx, DWORD PTR _RandCord$[ebp+8]
  00988	52		 push	 edx
  00989	e8 00 00 00 00	 call	 ?gObjGetRandomFreeArea@@YAHHAAE0HHHHH@Z ; gObjGetRandomFreeArea
  0098e	83 c4 20	 add	 esp, 32			; 00000020H
  00991	85 c0		 test	 eax, eax
  00993	0f 95 c0	 setne	 al
  00996	88 45 f9	 mov	 BYTE PTR _randomRespawnCords$[ebp], al
$LN5@RespawnBox:

; 222  : 	}
; 223  : #endif
; 224  : 
; 225  : 	int result = gObjAddMonster(this->ActiveMap);

  00999	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0099c	8b 88 44 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6980]
  009a2	51		 push	 ecx
  009a3	e8 00 00 00 00	 call	 ?gObjAddMonster@@YAFH@Z	; gObjAddMonster
  009a8	83 c4 04	 add	 esp, 4
  009ab	0f bf d0	 movsx	 edx, ax
  009ae	89 55 f4	 mov	 DWORD PTR _result$[ebp], edx

; 226  : 
; 227  : 	if(result >= 0 && result < OBJ_MAXMONSTER)

  009b1	83 7d f4 00	 cmp	 DWORD PTR _result$[ebp], 0
  009b5	0f 8c 04 03 00
	00		 jl	 $LN7@RespawnBox
  009bb	81 7d f4 c8 32
	00 00		 cmp	 DWORD PTR _result$[ebp], 13000 ; 000032c8H
  009c2	0f 8d f7 02 00
	00		 jge	 $LN7@RespawnBox

; 228  : 	{
; 229  : 		gObj[result].m_PosNum = (WORD)-1;

  009c8	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  009cb	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  009d1	83 c9 ff	 or	 ecx, -1
  009d4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009da	66 89 8c 02 b0
	03 00 00	 mov	 WORD PTR [edx+eax+944], cx

; 230  : 		gObj[result].MapNumber = this->ActiveMap;

  009e2	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  009e5	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  009eb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009f1	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  009f4	8a 92 44 1b 00
	00		 mov	 dl, BYTE PTR [edx+6980]
  009fa	88 94 01 49 01
	00 00		 mov	 BYTE PTR [ecx+eax+329], dl

; 231  : 		if (randomRespawnCords && cX != 0 && cY != 0)

  00a01	0f b6 45 f9	 movzx	 eax, BYTE PTR _randomRespawnCords$[ebp]
  00a05	85 c0		 test	 eax, eax
  00a07	0f 84 f7 00 00
	00		 je	 $LN2@RespawnBox
  00a0d	0f b6 45 fb	 movzx	 eax, BYTE PTR _cX$[ebp]
  00a11	85 c0		 test	 eax, eax
  00a13	0f 84 eb 00 00
	00		 je	 $LN2@RespawnBox
  00a19	0f b6 45 fa	 movzx	 eax, BYTE PTR _cY$[ebp]
  00a1d	85 c0		 test	 eax, eax
  00a1f	0f 84 df 00 00
	00		 je	 $LN2@RespawnBox

; 232  : 		{
; 233  : 			gObj[result].X = cX;

  00a25	66 0f b6 45 fb	 movzx	 ax, BYTE PTR _cX$[ebp]
  00a2a	8b 4d f4	 mov	 ecx, DWORD PTR _result$[ebp]
  00a2d	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00a33	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a39	66 89 84 0a 44
	01 00 00	 mov	 WORD PTR [edx+ecx+324], ax

; 234  : 			gObj[result].Y = cY;

  00a41	66 0f b6 45 fa	 movzx	 ax, BYTE PTR _cY$[ebp]
  00a46	8b 4d f4	 mov	 ecx, DWORD PTR _result$[ebp]
  00a49	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00a4f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a55	66 89 84 0a 46
	01 00 00	 mov	 WORD PTR [edx+ecx+326], ax

; 235  : 			gObj[result].TX = cX;

  00a5d	66 0f b6 45 fb	 movzx	 ax, BYTE PTR _cX$[ebp]
  00a62	8b 4d f4	 mov	 ecx, DWORD PTR _result$[ebp]
  00a65	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00a6b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a71	66 89 84 0a 7c
	01 00 00	 mov	 WORD PTR [edx+ecx+380], ax

; 236  : 			gObj[result].TY = cY;

  00a79	66 0f b6 45 fa	 movzx	 ax, BYTE PTR _cY$[ebp]
  00a7e	8b 4d f4	 mov	 ecx, DWORD PTR _result$[ebp]
  00a81	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00a87	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a8d	66 89 84 0a 7e
	01 00 00	 mov	 WORD PTR [edx+ecx+382], ax

; 237  : 			gObj[result].m_OldX = cX;

  00a95	66 0f b6 45 fb	 movzx	 ax, BYTE PTR _cX$[ebp]
  00a9a	8b 4d f4	 mov	 ecx, DWORD PTR _result$[ebp]
  00a9d	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00aa3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00aa9	66 89 84 0a 78
	01 00 00	 mov	 WORD PTR [edx+ecx+376], ax

; 238  : 			gObj[result].m_OldY = cY;

  00ab1	66 0f b6 45 fa	 movzx	 ax, BYTE PTR _cY$[ebp]
  00ab6	8b 4d f4	 mov	 ecx, DWORD PTR _result$[ebp]
  00ab9	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00abf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00ac5	66 89 84 0a 7a
	01 00 00	 mov	 WORD PTR [edx+ecx+378], ax

; 239  : 			gObj[result].StartX = cX;

  00acd	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00ad0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00ad6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00adc	8a 55 fb	 mov	 dl, BYTE PTR _cX$[ebp]
  00adf	88 94 01 76 01
	00 00		 mov	 BYTE PTR [ecx+eax+374], dl

; 240  : 			gObj[result].StartY = cY;

  00ae6	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00ae9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00aef	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00af5	8a 55 fa	 mov	 dl, BYTE PTR _cY$[ebp]
  00af8	88 94 01 77 01
	00 00		 mov	 BYTE PTR [ecx+eax+375], dl

; 241  : 
; 242  : 		}
; 243  : 		else

  00aff	e9 d4 00 00 00	 jmp	 $LN1@RespawnBox
$LN2@RespawnBox:

; 244  : 		{
; 245  : 			gObj[result].X = RandCord.X;

  00b04	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00b07	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b0d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b13	66 8b 55 08	 mov	 dx, WORD PTR _RandCord$[ebp]
  00b17	66 89 94 01 44
	01 00 00	 mov	 WORD PTR [ecx+eax+324], dx

; 246  : 			gObj[result].Y = RandCord.Y;

  00b1f	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00b22	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b28	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b2e	66 8b 55 0c	 mov	 dx, WORD PTR _RandCord$[ebp+4]
  00b32	66 89 94 01 46
	01 00 00	 mov	 WORD PTR [ecx+eax+326], dx

; 247  : 			gObj[result].TX = RandCord.X;

  00b3a	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00b3d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b43	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b49	66 8b 55 08	 mov	 dx, WORD PTR _RandCord$[ebp]
  00b4d	66 89 94 01 7c
	01 00 00	 mov	 WORD PTR [ecx+eax+380], dx

; 248  : 			gObj[result].TY = RandCord.Y;

  00b55	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00b58	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b5e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b64	66 8b 55 0c	 mov	 dx, WORD PTR _RandCord$[ebp+4]
  00b68	66 89 94 01 7e
	01 00 00	 mov	 WORD PTR [ecx+eax+382], dx

; 249  : 			gObj[result].m_OldX = RandCord.X;

  00b70	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00b73	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b79	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b7f	66 8b 55 08	 mov	 dx, WORD PTR _RandCord$[ebp]
  00b83	66 89 94 01 78
	01 00 00	 mov	 WORD PTR [ecx+eax+376], dx

; 250  : 			gObj[result].m_OldY = RandCord.Y;

  00b8b	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00b8e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b94	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b9a	66 8b 55 0c	 mov	 dx, WORD PTR _RandCord$[ebp+4]
  00b9e	66 89 94 01 7a
	01 00 00	 mov	 WORD PTR [ecx+eax+378], dx

; 251  : 			gObj[result].StartX = RandCord.X;

  00ba6	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00ba9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00baf	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00bb5	8a 55 08	 mov	 dl, BYTE PTR _RandCord$[ebp]
  00bb8	88 94 01 76 01
	00 00		 mov	 BYTE PTR [ecx+eax+374], dl

; 252  : 			gObj[result].StartY = RandCord.Y;

  00bbf	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00bc2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00bc8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00bce	8a 55 0c	 mov	 dl, BYTE PTR _RandCord$[ebp+4]
  00bd1	88 94 01 77 01
	00 00		 mov	 BYTE PTR [ecx+eax+375], dl
$LN1@RespawnBox:

; 253  : 		}
; 254  : 		gObj[result].MaxRegenTime = 0;

  00bd8	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00bdb	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00be1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00be7	c7 84 01 ac 03
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+940], 0

; 255  : 		gObj[result].Dir = rand()%8;

  00bf2	e8 00 00 00 00	 call	 _rand
  00bf7	25 07 00 00 80	 and	 eax, -2147483641	; 80000007H
  00bfc	79 05		 jns	 SHORT $LN9@RespawnBox
  00bfe	48		 dec	 eax
  00bff	83 c8 f8	 or	 eax, -8			; fffffff8H
  00c02	40		 inc	 eax
$LN9@RespawnBox:
  00c03	8b 4d f4	 mov	 ecx, DWORD PTR _result$[ebp]
  00c06	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00c0c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c12	88 84 0a 48 01
	00 00		 mov	 BYTE PTR [edx+ecx+328], al

; 256  : 		gObj[result].RegenTime = GetTickCount();

  00c19	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  00c1f	8b 4d f4	 mov	 ecx, DWORD PTR _result$[ebp]
  00c22	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00c28	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c2e	89 84 0a a8 03
	00 00		 mov	 DWORD PTR [edx+ecx+936], eax

; 257  : 
; 258  : 		gObj[result].m_ActState.Emotion       = 1;

  00c35	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00c38	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00c3e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c44	8b 94 01 18 02
	00 00		 mov	 edx, DWORD PTR [ecx+eax+536]
  00c4b	81 e2 0f ff ff
	ff		 and	 edx, -241		; ffffff0fH
  00c51	83 ca 10	 or	 edx, 16			; 00000010H
  00c54	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00c57	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00c5d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c63	89 94 01 18 02
	00 00		 mov	 DWORD PTR [ecx+eax+536], edx

; 259  : 		gObj[result].m_ActState.EmotionCount  = 15;

  00c6a	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00c6d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00c73	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c79	8b 94 01 18 02
	00 00		 mov	 edx, DWORD PTR [ecx+eax+536]
  00c80	81 e2 ff 00 ff
	ff		 and	 edx, -65281		; ffff00ffH
  00c86	81 ca 00 0f 00
	00		 or	 edx, 3840		; 00000f00H
  00c8c	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00c8f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00c95	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c9b	89 94 01 18 02
	00 00		 mov	 DWORD PTR [ecx+eax+536], edx

; 260  : 
; 261  : 		gObjSetMonster(result,542);

  00ca2	68 1e 02 00 00	 push	 542			; 0000021eH
  00ca7	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
  00caa	50		 push	 eax
  00cab	e8 00 00 00 00	 call	 ?gObjSetMonster@@YAHHH@Z ; gObjSetMonster
  00cb0	83 c4 08	 add	 esp, 8

; 262  : 
; 263  : 		this->BoxIndex = result;	

  00cb3	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00cb6	8b 4d f4	 mov	 ecx, DWORD PTR _result$[ebp]
  00cb9	89 88 54 1b 00
	00		 mov	 DWORD PTR [eax+6996], ecx
$LN7@RespawnBox:

; 264  : 
; 265  : 	}
; 266  : 
; 267  : }

  00cbf	5f		 pop	 edi
  00cc0	5e		 pop	 esi
  00cc1	5b		 pop	 ebx
  00cc2	8b e5		 mov	 esp, ebp
  00cc4	5d		 pop	 ebp
  00cc5	c2 0c 00	 ret	 12			; 0000000cH
?RespawnBox@cPandoraBoxEvent@@QAEXUCordsBox@@@Z ENDP	; cPandoraBoxEvent::RespawnBox
_TEXT	ENDS
PUBLIC	??_C@_0CE@FEAAFFAI@?$FLPandora?5Event?$FN?5Map?3?5?$CFs?5X?3?5?$CFd?5Y?3@ ; `string'
PUBLIC	??_C@_0BP@GDDLACMK@?$FLPandora?5Event?$FN?5?$CFs?5Capture?5Box?$AA@ ; `string'
PUBLIC	?Player@cPandoraBoxEvent@@QAEXPAUOBJECTSTRUCT@@@Z ; cPandoraBoxEvent::Player
PUBLIC	?BoxClick@cPandoraBoxEvent@@QAE_NPAUOBJECTSTRUCT@@0@Z ; cPandoraBoxEvent::BoxClick
EXTRN	?exMapName@@YAPADH@Z:PROC			; exMapName
;	COMDAT ??_C@_0CE@FEAAFFAI@?$FLPandora?5Event?$FN?5Map?3?5?$CFs?5X?3?5?$CFd?5Y?3@
CONST	SEGMENT
??_C@_0CE@FEAAFFAI@?$FLPandora?5Event?$FN?5Map?3?5?$CFs?5X?3?5?$CFd?5Y?3@ DB '['
	DB	'Pandora Event] Map: %s X: %d Y: %d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BP@GDDLACMK@?$FLPandora?5Event?$FN?5?$CFs?5Capture?5Box?$AA@
CONST	SEGMENT
??_C@_0BP@GDDLACMK@?$FLPandora?5Event?$FN?5?$CFs?5Capture?5Box?$AA@ DB '['
	DB	'Pandora Event] %s Capture Box', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
_lpNpc$ = 8						; size = 4
_lpObj$ = 12						; size = 4
?BoxClick@cPandoraBoxEvent@@QAE_NPAUOBJECTSTRUCT@@0@Z PROC ; cPandoraBoxEvent::BoxClick
; _this$ = ecx

; 269  : {

  00cd0	55		 push	 ebp
  00cd1	8b ec		 mov	 ebp, esp
  00cd3	83 ec 44	 sub	 esp, 68			; 00000044H
  00cd6	53		 push	 ebx
  00cd7	56		 push	 esi
  00cd8	57		 push	 edi
  00cd9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 270  : 	if (!this->Enable) return false;

  00cdc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00cdf	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  00ce3	85 c9		 test	 ecx, ecx
  00ce5	75 09		 jne	 SHORT $LN7@BoxClick
  00ce7	32 c0		 xor	 al, al
  00ce9	e9 c0 00 00 00	 jmp	 $LN8@BoxClick
  00cee	eb 46		 jmp	 SHORT $LN6@BoxClick
$LN7@BoxClick:

; 271  : 	else if (!this->Started) return false;

  00cf0	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00cf3	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  00cf7	85 c9		 test	 ecx, ecx
  00cf9	75 09		 jne	 SHORT $LN5@BoxClick
  00cfb	32 c0		 xor	 al, al
  00cfd	e9 ac 00 00 00	 jmp	 $LN8@BoxClick
  00d02	eb 32		 jmp	 SHORT $LN6@BoxClick
$LN5@BoxClick:

; 272  : 	else if (this->ActiveMap != lpNpc->MapNumber) return false;

  00d04	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  00d07	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  00d0e	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00d11	39 8a 44 1b 00
	00		 cmp	 DWORD PTR [edx+6980], ecx
  00d17	74 09		 je	 SHORT $LN3@BoxClick
  00d19	32 c0		 xor	 al, al
  00d1b	e9 8e 00 00 00	 jmp	 $LN8@BoxClick
  00d20	eb 14		 jmp	 SHORT $LN6@BoxClick
$LN3@BoxClick:

; 273  : 	else if (lpNpc->m_Index != this->BoxIndex) return false;

  00d22	8b 45 08	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  00d25	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00d28	8b 10		 mov	 edx, DWORD PTR [eax]
  00d2a	3b 91 54 1b 00
	00		 cmp	 edx, DWORD PTR [ecx+6996]
  00d30	74 04		 je	 SHORT $LN6@BoxClick
  00d32	32 c0		 xor	 al, al
  00d34	eb 78		 jmp	 SHORT $LN8@BoxClick
$LN6@BoxClick:

; 274  : 	
; 275  : 	this->Player(lpObj);

  00d36	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d39	50		 push	 eax
  00d3a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00d3d	e8 00 00 00 00	 call	 ?Player@cPandoraBoxEvent@@QAEXPAUOBJECTSTRUCT@@@Z ; cPandoraBoxEvent::Player

; 276  : 
; 277  : 	MessaageAllGlobal("[Pandora Event] %s Capture Box", lpObj->Name);	

  00d42	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d45	83 c0 77	 add	 eax, 119		; 00000077H
  00d48	50		 push	 eax
  00d49	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@GDDLACMK@?$FLPandora?5Event?$FN?5?$CFs?5Capture?5Box?$AA@
  00d4e	e8 00 00 00 00	 call	 ?MessaageAllGlobal@@YAXPADZZ ; MessaageAllGlobal
  00d53	83 c4 08	 add	 esp, 8

; 278  : 	MessaageAllGlobal("[Pandora Event] Map: %s X: %d Y: %d", exMapName(lpObj->MapNumber), lpObj->X, lpObj->Y);

  00d56	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d59	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  00d60	51		 push	 ecx
  00d61	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00d64	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  00d6b	50		 push	 eax
  00d6c	8b 4d 0c	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00d6f	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  00d76	52		 push	 edx
  00d77	e8 00 00 00 00	 call	 ?exMapName@@YAPADH@Z	; exMapName
  00d7c	83 c4 04	 add	 esp, 4
  00d7f	50		 push	 eax
  00d80	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@FEAAFFAI@?$FLPandora?5Event?$FN?5Map?3?5?$CFs?5X?3?5?$CFd?5Y?3@
  00d85	e8 00 00 00 00	 call	 ?MessaageAllGlobal@@YAXPADZZ ; MessaageAllGlobal
  00d8a	83 c4 10	 add	 esp, 16			; 00000010H

; 279  : 	gObjDel(this->BoxIndex);

  00d8d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00d90	8b 88 54 1b 00
	00		 mov	 ecx, DWORD PTR [eax+6996]
  00d96	51		 push	 ecx
  00d97	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  00d9c	83 c4 04	 add	 esp, 4

; 280  : 	this->BoxIndex = -1;

  00d9f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00da2	c7 80 54 1b 00
	00 ff ff ff ff	 mov	 DWORD PTR [eax+6996], -1

; 281  : 
; 282  : 	return true;

  00dac	b0 01		 mov	 al, 1
$LN8@BoxClick:

; 283  : }

  00dae	5f		 pop	 edi
  00daf	5e		 pop	 esi
  00db0	5b		 pop	 ebx
  00db1	8b e5		 mov	 esp, ebp
  00db3	5d		 pop	 ebp
  00db4	c2 08 00	 ret	 8
?BoxClick@cPandoraBoxEvent@@QAE_NPAUOBJECTSTRUCT@@0@Z ENDP ; cPandoraBoxEvent::BoxClick
; Function compile flags: /Odtp /ZI
_lpOldObj$220515 = -8					; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
?Player@cPandoraBoxEvent@@QAEXPAUOBJECTSTRUCT@@@Z PROC	; cPandoraBoxEvent::Player
; _this$ = ecx

; 285  : {

  00dc0	55		 push	 ebp
  00dc1	8b ec		 mov	 ebp, esp
  00dc3	83 ec 48	 sub	 esp, 72			; 00000048H
  00dc6	53		 push	 ebx
  00dc7	56		 push	 esi
  00dc8	57		 push	 edi
  00dc9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 286  : 	
; 287  : 	if (this->ActivePlayer != -1)

  00dcc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00dcf	83 38 ff	 cmp	 DWORD PTR [eax], -1
  00dd2	74 3f		 je	 SHORT $LN1@Player

; 288  : 	{
; 289  : 		LPOBJ lpOldObj = &gObj[this->ActivePlayer];

  00dd4	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00dd7	8b 08		 mov	 ecx, DWORD PTR [eax]
  00dd9	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00ddf	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00de5	89 4d f8	 mov	 DWORD PTR _lpOldObj$220515[ebp], ecx

; 290  : 		/*
; 291  : 			 
; 292  : 		*/
; 293  : 		lpOldObj->m_Change = -1;

  00de8	8b 45 f8	 mov	 eax, DWORD PTR _lpOldObj$220515[ebp]
  00deb	c7 80 54 04 00
	00 ff ff ff ff	 mov	 DWORD PTR [eax+1108], -1

; 294  : 		lpOldObj->m_PK_Level = this->ActivePlayerPkLevel;

  00df5	8b 45 f8	 mov	 eax, DWORD PTR _lpOldObj$220515[ebp]
  00df8	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00dfb	8a 91 50 1b 00
	00		 mov	 dl, BYTE PTR [ecx+6992]
  00e01	88 90 3d 01 00
	00		 mov	 BYTE PTR [eax+317], dl

; 295  : 		gObjViewportListProtocolCreate(lpOldObj);

  00e07	8b 45 f8	 mov	 eax, DWORD PTR _lpOldObj$220515[ebp]
  00e0a	50		 push	 eax
  00e0b	e8 00 00 00 00	 call	 ?gObjViewportListProtocolCreate@@YAXPAUOBJECTSTRUCT@@@Z ; gObjViewportListProtocolCreate
  00e10	83 c4 04	 add	 esp, 4
$LN1@Player:

; 296  : 	}
; 297  : 
; 298  : 	this->ActivePlayerPkLevel = lpObj->m_PK_Level;

  00e13	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e16	0f be 88 3d 01
	00 00		 movsx	 ecx, BYTE PTR [eax+317]
  00e1d	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00e20	89 8a 50 1b 00
	00		 mov	 DWORD PTR [edx+6992], ecx

; 299  : 	lpObj->m_PK_Level = 6;

  00e26	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e29	c6 80 3d 01 00
	00 06		 mov	 BYTE PTR [eax+317], 6

; 300  : 	lpObj->m_Change = 404;

  00e30	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e33	c7 80 54 04 00
	00 94 01 00 00	 mov	 DWORD PTR [eax+1108], 404 ; 00000194H

; 301  : 	gObjViewportListProtocolCreate(lpObj);

  00e3d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e40	50		 push	 eax
  00e41	e8 00 00 00 00	 call	 ?gObjViewportListProtocolCreate@@YAXPAUOBJECTSTRUCT@@@Z ; gObjViewportListProtocolCreate
  00e46	83 c4 04	 add	 esp, 4

; 302  : 
; 303  : 	this->ActivePlayer = lpObj->m_Index;

  00e49	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00e4c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00e4f	8b 11		 mov	 edx, DWORD PTR [ecx]
  00e51	89 10		 mov	 DWORD PTR [eax], edx

; 304  : 	/*
; 305  : 		  
; 306  : 	*/
; 307  : }

  00e53	5f		 pop	 edi
  00e54	5e		 pop	 esi
  00e55	5b		 pop	 ebx
  00e56	8b e5		 mov	 esp, ebp
  00e58	5d		 pop	 ebp
  00e59	c2 04 00	 ret	 4
?Player@cPandoraBoxEvent@@QAEXPAUOBJECTSTRUCT@@@Z ENDP	; cPandoraBoxEvent::Player
_TEXT	ENDS
PUBLIC	?ProcessKill@cPandoraBoxEvent@@QAE_NPAUOBJECTSTRUCT@@0@Z ; cPandoraBoxEvent::ProcessKill
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
?ProcessKill@cPandoraBoxEvent@@QAE_NPAUOBJECTSTRUCT@@0@Z PROC ; cPandoraBoxEvent::ProcessKill
; _this$ = ecx

; 309  : {

  00e60	55		 push	 ebp
  00e61	8b ec		 mov	 ebp, esp
  00e63	83 ec 44	 sub	 esp, 68			; 00000044H
  00e66	53		 push	 ebx
  00e67	56		 push	 esi
  00e68	57		 push	 edi
  00e69	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 310  : 	if(!this->Enable)return false;

  00e6c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00e6f	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  00e73	85 c9		 test	 ecx, ecx
  00e75	75 04		 jne	 SHORT $LN3@ProcessKil
  00e77	32 c0		 xor	 al, al
  00e79	eb 78		 jmp	 SHORT $LN4@ProcessKil
$LN3@ProcessKil:

; 311  : 	if(!this->Started)return false;

  00e7b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00e7e	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  00e82	85 c9		 test	 ecx, ecx
  00e84	75 04		 jne	 SHORT $LN2@ProcessKil
  00e86	32 c0		 xor	 al, al
  00e88	eb 69		 jmp	 SHORT $LN4@ProcessKil
$LN2@ProcessKil:

; 312  : 	if (lpTargetObj->m_Index != this->ActivePlayer)

  00e8a	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  00e8d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00e90	8b 10		 mov	 edx, DWORD PTR [eax]
  00e92	3b 11		 cmp	 edx, DWORD PTR [ecx]
  00e94	74 04		 je	 SHORT $LN1@ProcessKil

; 313  : 	{
; 314  : 		return false;

  00e96	32 c0		 xor	 al, al
  00e98	eb 59		 jmp	 SHORT $LN4@ProcessKil
$LN1@ProcessKil:

; 315  : 	}
; 316  : 	this->Player(lpObj);

  00e9a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e9d	50		 push	 eax
  00e9e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00ea1	e8 00 00 00 00	 call	 ?Player@cPandoraBoxEvent@@QAEXPAUOBJECTSTRUCT@@@Z ; cPandoraBoxEvent::Player

; 317  : 
; 318  : 	//MessaageAllGlobal("[Pandora Event] %s Capture Box in Map: %s X: %d Y: %d", lpObj->Name, exMapName(lpObj->MapNumber), lpObj->X, lpObj->Y);	
; 319  : 	MessaageAllGlobal("[Pandora Event] %s Capture Box", lpObj->Name);	

  00ea6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00ea9	83 c0 77	 add	 eax, 119		; 00000077H
  00eac	50		 push	 eax
  00ead	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@GDDLACMK@?$FLPandora?5Event?$FN?5?$CFs?5Capture?5Box?$AA@
  00eb2	e8 00 00 00 00	 call	 ?MessaageAllGlobal@@YAXPADZZ ; MessaageAllGlobal
  00eb7	83 c4 08	 add	 esp, 8

; 320  : 	MessaageAllGlobal("[Pandora Event] Map: %s X: %d Y: %d", exMapName(lpObj->MapNumber), lpObj->X, lpObj->Y);

  00eba	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00ebd	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  00ec4	51		 push	 ecx
  00ec5	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00ec8	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  00ecf	50		 push	 eax
  00ed0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00ed3	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  00eda	52		 push	 edx
  00edb	e8 00 00 00 00	 call	 ?exMapName@@YAPADH@Z	; exMapName
  00ee0	83 c4 04	 add	 esp, 4
  00ee3	50		 push	 eax
  00ee4	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@FEAAFFAI@?$FLPandora?5Event?$FN?5Map?3?5?$CFs?5X?3?5?$CFd?5Y?3@
  00ee9	e8 00 00 00 00	 call	 ?MessaageAllGlobal@@YAXPADZZ ; MessaageAllGlobal
  00eee	83 c4 10	 add	 esp, 16			; 00000010H

; 321  : 
; 322  : 	return true;

  00ef1	b0 01		 mov	 al, 1
$LN4@ProcessKil:

; 323  : }

  00ef3	5f		 pop	 edi
  00ef4	5e		 pop	 esi
  00ef5	5b		 pop	 ebx
  00ef6	8b e5		 mov	 esp, ebp
  00ef8	5d		 pop	 ebp
  00ef9	c2 08 00	 ret	 8
?ProcessKill@cPandoraBoxEvent@@QAE_NPAUOBJECTSTRUCT@@0@Z ENDP ; cPandoraBoxEvent::ProcessKill
_TEXT	ENDS
PUBLIC	??_C@_0CD@OCKMHJAP@?$HO?$FLPandora?5Event?$FN?3?5Bonus?3?5?$CFd?5Cred@ ; `string'
PUBLIC	??_C@_0CE@CADHMIGL@?$HO?$FLPandora?5Event?$FN?3?5Reward?3?5?$CFd?5Gob@ ; `string'
PUBLIC	??_C@_0CE@LMEDKIJD@?$HO?$FLPandora?5Event?$FN?3?5Reward?3?5?$CFd?5WCo@ ; `string'
PUBLIC	??_C@_0CF@CAMACKLM@?$HO?$FLPandora?5Event?$FN?3?5Reward?5?3?5?$CFd?5WC@ ; `string'
EXTRN	?ExUserDataSend@@YAXH@Z:PROC			; ExUserDataSend
EXTRN	?MessageChat@@YAXHPADZZ:PROC			; MessageChat
EXTRN	?GDSaveUserInfo@GameShop@@QAEXH@Z:PROC		; GameShop::GDSaveUserInfo
EXTRN	?gGameShop@@3VGameShop@@A:BYTE			; gGameShop
EXTRN	?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z:PROC	; ItemSerialCreateSend
EXTRN	?GenExcOpt@@YAHH@Z:PROC				; GenExcOpt
EXTRN	__fltused:DWORD
;	COMDAT ??_C@_0CD@OCKMHJAP@?$HO?$FLPandora?5Event?$FN?3?5Bonus?3?5?$CFd?5Cred@
CONST	SEGMENT
??_C@_0CD@OCKMHJAP@?$HO?$FLPandora?5Event?$FN?3?5Bonus?3?5?$CFd?5Cred@ DB '~'
	DB	'[Pandora Event]: Bonus: %d Credit', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CE@CADHMIGL@?$HO?$FLPandora?5Event?$FN?3?5Reward?3?5?$CFd?5Gob@
CONST	SEGMENT
??_C@_0CE@CADHMIGL@?$HO?$FLPandora?5Event?$FN?3?5Reward?3?5?$CFd?5Gob@ DB '~'
	DB	'[Pandora Event]: Reward: %d Goblin', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CE@LMEDKIJD@?$HO?$FLPandora?5Event?$FN?3?5Reward?3?5?$CFd?5WCo@
CONST	SEGMENT
??_C@_0CE@LMEDKIJD@?$HO?$FLPandora?5Event?$FN?3?5Reward?3?5?$CFd?5WCo@ DB '~'
	DB	'[Pandora Event]: Reward: %d WCoinP', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CF@CAMACKLM@?$HO?$FLPandora?5Event?$FN?3?5Reward?5?3?5?$CFd?5WC@
CONST	SEGMENT
??_C@_0CF@CAMACKLM@?$HO?$FLPandora?5Event?$FN?3?5Reward?5?3?5?$CFd?5WC@ DB '~'
	DB	'[Pandora Event]: Reward : %d WCoinC', 00H	; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_DropItem$220535 = -24					; size = 4
_NewAnc$220534 = -20					; size = 4
_NewExl$220533 = -16					; size = 4
_Ran$220532 = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
?Prize@cPandoraBoxEvent@@QAEXXZ PROC			; cPandoraBoxEvent::Prize
; _this$ = ecx

; 325  : {

  00f00	55		 push	 ebp
  00f01	8b ec		 mov	 ebp, esp
  00f03	83 ec 58	 sub	 esp, 88			; 00000058H
  00f06	53		 push	 ebx
  00f07	56		 push	 esi
  00f08	57		 push	 edi
  00f09	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 326  : 	if(!this->Enable)return;

  00f0c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00f0f	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  00f13	85 c9		 test	 ecx, ecx
  00f15	75 05		 jne	 SHORT $LN11@Prize
  00f17	e9 ce 02 00 00	 jmp	 $LN12@Prize
$LN11@Prize:

; 327  : 	if(!this->Started)return;

  00f1c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00f1f	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  00f23	85 c9		 test	 ecx, ecx
  00f25	75 05		 jne	 SHORT $LN10@Prize
  00f27	e9 be 02 00 00	 jmp	 $LN12@Prize
$LN10@Prize:

; 328  : 	if (this->ActivePlayer == -1) return;

  00f2c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00f2f	83 38 ff	 cmp	 DWORD PTR [eax], -1
  00f32	75 05		 jne	 SHORT $LN9@Prize
  00f34	e9 b1 02 00 00	 jmp	 $LN12@Prize
$LN9@Prize:

; 329  : 
; 330  : 	LPOBJ lpObj = &gObj[this->ActivePlayer];

  00f39	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00f3c	8b 08		 mov	 ecx, DWORD PTR [eax]
  00f3e	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00f44	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00f4a	89 4d f8	 mov	 DWORD PTR _lpObj$[ebp], ecx

; 331  : 	
; 332  : 	if(this->CountReward > 0)

  00f4d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00f50	83 b8 40 1b 00
	00 00		 cmp	 DWORD PTR [eax+6976], 0
  00f57	0f 8e 3b 01 00
	00		 jle	 $LN8@Prize

; 333  : 	{
; 334  : 		int Ran = rand()%this->CountReward;

  00f5d	e8 00 00 00 00	 call	 _rand
  00f62	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00f65	99		 cdq
  00f66	f7 b9 40 1b 00
	00		 idiv	 DWORD PTR [ecx+6976]
  00f6c	89 55 f4	 mov	 DWORD PTR _Ran$220532[ebp], edx

; 335  : 
; 336  : 		int NewExl = 0;

  00f6f	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _NewExl$220533[ebp], 0

; 337  : 		int NewAnc = 0;

  00f76	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _NewAnc$220534[ebp], 0

; 338  : 
; 339  : 		int DropItem = ITEMGET(this->Reward[Ran].Type,this->Reward[Ran].Index);

  00f7d	8b 45 f4	 mov	 eax, DWORD PTR _Ran$220532[ebp]
  00f80	c1 e0 05	 shl	 eax, 5
  00f83	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00f86	8b 94 01 c0 0e
	00 00		 mov	 edx, DWORD PTR [ecx+eax+3776]
  00f8d	c1 e2 09	 shl	 edx, 9
  00f90	8b 45 f4	 mov	 eax, DWORD PTR _Ran$220532[ebp]
  00f93	c1 e0 05	 shl	 eax, 5
  00f96	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00f99	03 94 01 c4 0e
	00 00		 add	 edx, DWORD PTR [ecx+eax+3780]
  00fa0	89 55 e8	 mov	 DWORD PTR _DropItem$220535[ebp], edx

; 340  : 
; 341  : 		if(Reward[Ran].Exl > 0)

  00fa3	8b 45 f4	 mov	 eax, DWORD PTR _Ran$220532[ebp]
  00fa6	c1 e0 05	 shl	 eax, 5
  00fa9	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00fac	83 bc 01 d8 0e
	00 00 00	 cmp	 DWORD PTR [ecx+eax+3800], 0
  00fb4	7e 1c		 jle	 SHORT $LN7@Prize

; 342  : 			NewExl = GenExcOpt(Reward[Ran].Exl);

  00fb6	8b 45 f4	 mov	 eax, DWORD PTR _Ran$220532[ebp]
  00fb9	c1 e0 05	 shl	 eax, 5
  00fbc	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00fbf	8b 94 01 d8 0e
	00 00		 mov	 edx, DWORD PTR [ecx+eax+3800]
  00fc6	52		 push	 edx
  00fc7	e8 00 00 00 00	 call	 ?GenExcOpt@@YAHH@Z	; GenExcOpt
  00fcc	83 c4 04	 add	 esp, 4
  00fcf	89 45 f0	 mov	 DWORD PTR _NewExl$220533[ebp], eax
$LN7@Prize:

; 343  : 
; 344  : 		if(Reward[Ran].Anc == 5 || Reward[Ran].Anc == 10)

  00fd2	8b 45 f4	 mov	 eax, DWORD PTR _Ran$220532[ebp]
  00fd5	c1 e0 05	 shl	 eax, 5
  00fd8	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00fdb	83 bc 01 dc 0e
	00 00 05	 cmp	 DWORD PTR [ecx+eax+3804], 5
  00fe3	74 13		 je	 SHORT $LN5@Prize
  00fe5	8b 45 f4	 mov	 eax, DWORD PTR _Ran$220532[ebp]
  00fe8	c1 e0 05	 shl	 eax, 5
  00feb	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00fee	83 bc 01 dc 0e
	00 00 0a	 cmp	 DWORD PTR [ecx+eax+3804], 10 ; 0000000aH
  00ff6	75 13		 jne	 SHORT $LN6@Prize
$LN5@Prize:

; 345  : 			NewAnc = Reward[Ran].Anc;

  00ff8	8b 45 f4	 mov	 eax, DWORD PTR _Ran$220532[ebp]
  00ffb	c1 e0 05	 shl	 eax, 5
  00ffe	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01001	8b 94 01 dc 0e
	00 00		 mov	 edx, DWORD PTR [ecx+eax+3804]
  01008	89 55 ec	 mov	 DWORD PTR _NewAnc$220534[ebp], edx
$LN6@Prize:

; 346  : 
; 347  : 		ItemSerialCreateSend(lpObj->m_Index,lpObj->MapNumber,lpObj->X,lpObj->Y,DropItem,this->Reward[Ran].Level,0,
; 348  : 			this->Reward[Ran].Skill,this->Reward[Ran].Luck,this->Reward[Ran].Opt,lpObj->m_Index,NewExl,NewAnc);

  0100b	0f b6 45 ec	 movzx	 eax, BYTE PTR _NewAnc$220534[ebp]
  0100f	50		 push	 eax
  01010	0f b6 4d f0	 movzx	 ecx, BYTE PTR _NewExl$220533[ebp]
  01014	51		 push	 ecx
  01015	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01018	8b 02		 mov	 eax, DWORD PTR [edx]
  0101a	50		 push	 eax
  0101b	8b 4d f4	 mov	 ecx, DWORD PTR _Ran$220532[ebp]
  0101e	c1 e1 05	 shl	 ecx, 5
  01021	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  01024	0f b6 84 0a d4
	0e 00 00	 movzx	 eax, BYTE PTR [edx+ecx+3796]
  0102c	50		 push	 eax
  0102d	8b 4d f4	 mov	 ecx, DWORD PTR _Ran$220532[ebp]
  01030	c1 e1 05	 shl	 ecx, 5
  01033	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  01036	0f b6 84 0a d0
	0e 00 00	 movzx	 eax, BYTE PTR [edx+ecx+3792]
  0103e	50		 push	 eax
  0103f	8b 4d f4	 mov	 ecx, DWORD PTR _Ran$220532[ebp]
  01042	c1 e1 05	 shl	 ecx, 5
  01045	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  01048	0f b6 84 0a cc
	0e 00 00	 movzx	 eax, BYTE PTR [edx+ecx+3788]
  01050	50		 push	 eax
  01051	6a 00		 push	 0
  01053	8b 4d f4	 mov	 ecx, DWORD PTR _Ran$220532[ebp]
  01056	c1 e1 05	 shl	 ecx, 5
  01059	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0105c	0f b6 84 0a c8
	0e 00 00	 movzx	 eax, BYTE PTR [edx+ecx+3784]
  01064	50		 push	 eax
  01065	8b 4d e8	 mov	 ecx, DWORD PTR _DropItem$220535[ebp]
  01068	51		 push	 ecx
  01069	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0106c	0f b6 82 46 01
	00 00		 movzx	 eax, BYTE PTR [edx+326]
  01073	50		 push	 eax
  01074	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01077	0f b6 91 44 01
	00 00		 movzx	 edx, BYTE PTR [ecx+324]
  0107e	52		 push	 edx
  0107f	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01082	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  01089	51		 push	 ecx
  0108a	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0108d	8b 02		 mov	 eax, DWORD PTR [edx]
  0108f	50		 push	 eax
  01090	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  01095	83 c4 34	 add	 esp, 52			; 00000034H
$LN8@Prize:

; 349  : 		
; 350  : 	}
; 351  : 
; 352  : 	if(this->RewardWcoinC > 0)

  01098	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0109b	83 b8 5c 1b 00
	00 00		 cmp	 DWORD PTR [eax+7004], 0
  010a2	7e 48		 jle	 SHORT $LN4@Prize

; 353  : 	{
; 354  : 			lpObj->GameShop.WCoinC += this->RewardWcoinC;

  010a4	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  010a7	db 80 5c 1b 00
	00		 fild	 DWORD PTR [eax+7004]
  010ad	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  010b0	dc 81 00 23 00
	00		 fadd	 QWORD PTR [ecx+8960]
  010b6	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  010b9	dd 9a 00 23 00
	00		 fstp	 QWORD PTR [edx+8960]

; 355  : 			gGameShop.GDSaveUserInfo(lpObj->m_Index);

  010bf	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  010c2	8b 08		 mov	 ecx, DWORD PTR [eax]
  010c4	51		 push	 ecx
  010c5	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  010ca	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo

; 356  : 			MessageChat(lpObj->m_Index,"~[Pandora Event]: Reward : %d WCoinC",this->RewardWcoinC);

  010cf	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  010d2	8b 88 5c 1b 00
	00		 mov	 ecx, DWORD PTR [eax+7004]
  010d8	51		 push	 ecx
  010d9	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@CAMACKLM@?$HO?$FLPandora?5Event?$FN?3?5Reward?5?3?5?$CFd?5WC@
  010de	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  010e1	8b 02		 mov	 eax, DWORD PTR [edx]
  010e3	50		 push	 eax
  010e4	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  010e9	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@Prize:

; 357  : 	}
; 358  : 
; 359  : 	if(this->RewardWcoinP > 0)

  010ec	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  010ef	83 b8 60 1b 00
	00 00		 cmp	 DWORD PTR [eax+7008], 0
  010f6	7e 48		 jle	 SHORT $LN3@Prize

; 360  : 	{
; 361  : 			lpObj->GameShop.WCoinP += this->RewardWcoinP;

  010f8	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  010fb	db 80 60 1b 00
	00		 fild	 DWORD PTR [eax+7008]
  01101	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01104	dc 81 f8 22 00
	00		 fadd	 QWORD PTR [ecx+8952]
  0110a	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0110d	dd 9a f8 22 00
	00		 fstp	 QWORD PTR [edx+8952]

; 362  : 			gGameShop.GDSaveUserInfo(lpObj->m_Index);

  01113	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01116	8b 08		 mov	 ecx, DWORD PTR [eax]
  01118	51		 push	 ecx
  01119	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  0111e	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo

; 363  : 			MessageChat(lpObj->m_Index,"~[Pandora Event]: Reward: %d WCoinP",this->RewardWcoinP);

  01123	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  01126	8b 88 60 1b 00
	00		 mov	 ecx, DWORD PTR [eax+7008]
  0112c	51		 push	 ecx
  0112d	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@LMEDKIJD@?$HO?$FLPandora?5Event?$FN?3?5Reward?3?5?$CFd?5WCo@
  01132	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01135	8b 02		 mov	 eax, DWORD PTR [edx]
  01137	50		 push	 eax
  01138	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  0113d	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN3@Prize:

; 364  : 	}
; 365  : 
; 366  : 	if(this->RewardGoblinPoints > 0)

  01140	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  01143	83 b8 64 1b 00
	00 00		 cmp	 DWORD PTR [eax+7012], 0
  0114a	7e 48		 jle	 SHORT $LN2@Prize

; 367  : 	{
; 368  : 			lpObj->GameShop.GoblinPoint += this->RewardGoblinPoints;

  0114c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0114f	db 80 64 1b 00
	00		 fild	 DWORD PTR [eax+7012]
  01155	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01158	dc 81 08 23 00
	00		 fadd	 QWORD PTR [ecx+8968]
  0115e	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01161	dd 9a 08 23 00
	00		 fstp	 QWORD PTR [edx+8968]

; 369  : 			gGameShop.GDSaveUserInfo(lpObj->m_Index);

  01167	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0116a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0116c	51		 push	 ecx
  0116d	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  01172	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo

; 370  : 			MessageChat(lpObj->m_Index,"~[Pandora Event]: Reward: %d Goblin",this->RewardGoblinPoints);

  01177	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0117a	8b 88 64 1b 00
	00		 mov	 ecx, DWORD PTR [eax+7012]
  01180	51		 push	 ecx
  01181	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@CADHMIGL@?$HO?$FLPandora?5Event?$FN?3?5Reward?3?5?$CFd?5Gob@
  01186	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01189	8b 02		 mov	 eax, DWORD PTR [edx]
  0118b	50		 push	 eax
  0118c	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  01191	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@Prize:

; 371  : 	}
; 372  : 
; 373  : 	if(this->RewardCredits > 0)

  01194	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  01197	83 b8 58 1b 00
	00 00		 cmp	 DWORD PTR [eax+7000], 0
  0119e	7e 4a		 jle	 SHORT $LN1@Prize

; 374  : 	{
; 375  : 			lpObj->ExCred += this->RewardCredits;

  011a0	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  011a3	db 80 58 1b 00
	00		 fild	 DWORD PTR [eax+7000]
  011a9	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  011ac	d8 81 a8 22 00
	00		 fadd	 DWORD PTR [ecx+8872]
  011b2	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  011b5	d9 9a a8 22 00
	00		 fstp	 DWORD PTR [edx+8872]

; 376  : #ifndef FIX_DS_CRASH
; 377  : 			GJSetCharacterInfo(lpObj, lpObj->m_Index, 0);
; 378  : #endif
; 379  : 			ExUserDataSend(lpObj->m_Index);

  011bb	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  011be	8b 08		 mov	 ecx, DWORD PTR [eax]
  011c0	51		 push	 ecx
  011c1	e8 00 00 00 00	 call	 ?ExUserDataSend@@YAXH@Z	; ExUserDataSend
  011c6	83 c4 04	 add	 esp, 4

; 380  : 			MessageChat(RewardCredits,"~[Pandora Event]: Bonus: %d Credit",this->RewardCredits);

  011c9	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  011cc	8b 88 58 1b 00
	00		 mov	 ecx, DWORD PTR [eax+7000]
  011d2	51		 push	 ecx
  011d3	68 00 00 00 00	 push	 OFFSET ??_C@_0CD@OCKMHJAP@?$HO?$FLPandora?5Event?$FN?3?5Bonus?3?5?$CFd?5Cred@
  011d8	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  011db	8b 82 58 1b 00
	00		 mov	 eax, DWORD PTR [edx+7000]
  011e1	50		 push	 eax
  011e2	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  011e7	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@Prize:
$LN12@Prize:

; 381  : 	}
; 382  : 
; 383  : }

  011ea	5f		 pop	 edi
  011eb	5e		 pop	 esi
  011ec	5b		 pop	 ebx
  011ed	8b e5		 mov	 esp, ebp
  011ef	5d		 pop	 ebp
  011f0	c3		 ret	 0
?Prize@cPandoraBoxEvent@@QAEXXZ ENDP			; cPandoraBoxEvent::Prize
_TEXT	ENDS
PUBLIC	?PkCheck@cPandoraBoxEvent@@QAE_NPAUOBJECTSTRUCT@@0@Z ; cPandoraBoxEvent::PkCheck
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
_lpTarget$ = 12						; size = 4
?PkCheck@cPandoraBoxEvent@@QAE_NPAUOBJECTSTRUCT@@0@Z PROC ; cPandoraBoxEvent::PkCheck
; _this$ = ecx

; 385  : {

  01200	55		 push	 ebp
  01201	8b ec		 mov	 ebp, esp
  01203	83 ec 44	 sub	 esp, 68			; 00000044H
  01206	53		 push	 ebx
  01207	56		 push	 esi
  01208	57		 push	 edi
  01209	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 386  : 	if(!this->Enable)return true;

  0120c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0120f	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  01213	85 c9		 test	 ecx, ecx
  01215	75 04		 jne	 SHORT $LN4@PkCheck
  01217	b0 01		 mov	 al, 1
  01219	eb 31		 jmp	 SHORT $LN5@PkCheck
$LN4@PkCheck:

; 387  : 	if(!this->Started)return true;

  0121b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0121e	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  01222	85 c9		 test	 ecx, ecx
  01224	75 04		 jne	 SHORT $LN3@PkCheck
  01226	b0 01		 mov	 al, 1
  01228	eb 22		 jmp	 SHORT $LN5@PkCheck
$LN3@PkCheck:

; 388  : 	if(lpTarget->m_Index == this->ActivePlayer) return false;

  0122a	8b 45 0c	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  0122d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01230	8b 10		 mov	 edx, DWORD PTR [eax]
  01232	3b 11		 cmp	 edx, DWORD PTR [ecx]
  01234	75 04		 jne	 SHORT $LN2@PkCheck
  01236	32 c0		 xor	 al, al
  01238	eb 12		 jmp	 SHORT $LN5@PkCheck
$LN2@PkCheck:

; 389  : 	if(lpObj->m_Index == this->ActivePlayer) return false;

  0123a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0123d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01240	8b 10		 mov	 edx, DWORD PTR [eax]
  01242	3b 11		 cmp	 edx, DWORD PTR [ecx]
  01244	75 04		 jne	 SHORT $LN1@PkCheck
  01246	32 c0		 xor	 al, al
  01248	eb 02		 jmp	 SHORT $LN5@PkCheck
$LN1@PkCheck:

; 390  : 	return true;

  0124a	b0 01		 mov	 al, 1
$LN5@PkCheck:

; 391  : }

  0124c	5f		 pop	 edi
  0124d	5e		 pop	 esi
  0124e	5b		 pop	 ebx
  0124f	8b e5		 mov	 esp, ebp
  01251	5d		 pop	 ebp
  01252	c2 08 00	 ret	 8
?PkCheck@cPandoraBoxEvent@@QAE_NPAUOBJECTSTRUCT@@0@Z ENDP ; cPandoraBoxEvent::PkCheck
_TEXT	ENDS
PUBLIC	??_C@_0CB@HKLKIPHB@?$HO?$FLPandora?5Event?$FN?3?5Teleport?5Block@ ; `string'
PUBLIC	?BlockTeleport@cPandoraBoxEvent@@QAE_NH@Z	; cPandoraBoxEvent::BlockTeleport
;	COMDAT ??_C@_0CB@HKLKIPHB@?$HO?$FLPandora?5Event?$FN?3?5Teleport?5Block@
CONST	SEGMENT
??_C@_0CB@HKLKIPHB@?$HO?$FLPandora?5Event?$FN?3?5Teleport?5Block@ DB '~[P'
	DB	'andora Event]: Teleport Block', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?BlockTeleport@cPandoraBoxEvent@@QAE_NH@Z PROC		; cPandoraBoxEvent::BlockTeleport
; _this$ = ecx

; 393  : {

  01260	55		 push	 ebp
  01261	8b ec		 mov	 ebp, esp
  01263	83 ec 48	 sub	 esp, 72			; 00000048H
  01266	53		 push	 ebx
  01267	56		 push	 esi
  01268	57		 push	 edi
  01269	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 394  : 	if(!this->Enable)return true;

  0126c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0126f	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  01273	85 c9		 test	 ecx, ecx
  01275	75 04		 jne	 SHORT $LN3@BlockTelep
  01277	b0 01		 mov	 al, 1
  01279	eb 46		 jmp	 SHORT $LN4@BlockTelep
$LN3@BlockTelep:

; 395  : 	if (!this->Started)return true;

  0127b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0127e	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  01282	85 c9		 test	 ecx, ecx
  01284	75 04		 jne	 SHORT $LN2@BlockTelep
  01286	b0 01		 mov	 al, 1
  01288	eb 37		 jmp	 SHORT $LN4@BlockTelep
$LN2@BlockTelep:

; 396  : 
; 397  : 	LPOBJ lpObj = &gObj[aIndex];

  0128a	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0128d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01293	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01299	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 398  : 	if(this->ActivePlayer == lpObj->m_Index)

  0129c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0129f	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  012a2	8b 10		 mov	 edx, DWORD PTR [eax]
  012a4	3b 11		 cmp	 edx, DWORD PTR [ecx]
  012a6	75 17		 jne	 SHORT $LN1@BlockTelep

; 399  : 	{
; 400  : 		MessageChat(lpObj->m_Index,"~[Pandora Event]: Teleport Block");

  012a8	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@HKLKIPHB@?$HO?$FLPandora?5Event?$FN?3?5Teleport?5Block@
  012ad	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  012b0	8b 08		 mov	 ecx, DWORD PTR [eax]
  012b2	51		 push	 ecx
  012b3	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  012b8	83 c4 08	 add	 esp, 8

; 401  : 		return false;

  012bb	32 c0		 xor	 al, al
  012bd	eb 02		 jmp	 SHORT $LN4@BlockTelep
$LN1@BlockTelep:

; 402  : 	}
; 403  : 	return true;

  012bf	b0 01		 mov	 al, 1
$LN4@BlockTelep:

; 404  : }

  012c1	5f		 pop	 edi
  012c2	5e		 pop	 esi
  012c3	5b		 pop	 ebx
  012c4	8b e5		 mov	 esp, ebp
  012c6	5d		 pop	 ebp
  012c7	c2 04 00	 ret	 4
?BlockTeleport@cPandoraBoxEvent@@QAE_NH@Z ENDP		; cPandoraBoxEvent::BlockTeleport
_TEXT	ENDS
PUBLIC	??_C@_0DA@OEPBFCIB@?$FLPandora?5Event?$FN?5Player?5Exit?4?5Box@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?CloseClient@cPandoraBoxEvent@@QAEXH@Z		; cPandoraBoxEvent::CloseClient
;	COMDAT ??_C@_0DA@OEPBFCIB@?$FLPandora?5Event?$FN?5Player?5Exit?4?5Box@
CONST	SEGMENT
??_C@_0DA@OEPBFCIB@?$FLPandora?5Event?$FN?5Player?5Exit?4?5Box@ DB '[Pand'
	DB	'ora Event] Player Exit. Box Respawn Again.', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_RandCord$220575 = -24					; size = 12
_lpObj$220574 = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?CloseClient@cPandoraBoxEvent@@QAEXH@Z PROC		; cPandoraBoxEvent::CloseClient
; _this$ = ecx

; 406  : {

  012d0	55		 push	 ebp
  012d1	8b ec		 mov	 ebp, esp
  012d3	83 ec 58	 sub	 esp, 88			; 00000058H
  012d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  012db	33 c5		 xor	 eax, ebp
  012dd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  012e0	53		 push	 ebx
  012e1	56		 push	 esi
  012e2	57		 push	 edi
  012e3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 407  : 	if(!this->Enable)return;

  012e6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  012e9	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  012ed	85 c9		 test	 ecx, ecx
  012ef	75 05		 jne	 SHORT $LN5@CloseClien
  012f1	e9 b4 00 00 00	 jmp	 $LN6@CloseClien
$LN5@CloseClien:

; 408  : 	if (!this->Started)return;

  012f6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  012f9	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  012fd	85 c9		 test	 ecx, ecx
  012ff	75 05		 jne	 SHORT $LN4@CloseClien
  01301	e9 a4 00 00 00	 jmp	 $LN6@CloseClien
$LN4@CloseClien:

; 409  : 	if ( aIndex < 0 || aIndex > OBJMAX-1)

  01306	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  0130a	7c 09		 jl	 SHORT $LN2@CloseClien
  0130c	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  01313	7e 05		 jle	 SHORT $LN3@CloseClien
$LN2@CloseClien:

; 410  : 	{
; 411  : 		return;

  01315	e9 90 00 00 00	 jmp	 $LN6@CloseClien
$LN3@CloseClien:

; 412  : 	}
; 413  : 	if (aIndex == this->ActivePlayer)

  0131a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0131d	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  01320	3b 08		 cmp	 ecx, DWORD PTR [eax]
  01322	0f 85 82 00 00
	00		 jne	 $LN6@CloseClien

; 414  : 	{
; 415  : 		LPOBJ lpObj = &gObj[aIndex];

  01328	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0132b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01331	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01337	89 45 f4	 mov	 DWORD PTR _lpObj$220574[ebp], eax

; 416  : 		lpObj->m_PK_Level = this->ActivePlayerPkLevel;

  0133a	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$220574[ebp]
  0133d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01340	8a 91 50 1b 00
	00		 mov	 dl, BYTE PTR [ecx+6992]
  01346	88 90 3d 01 00
	00		 mov	 BYTE PTR [eax+317], dl

; 417  : 
; 418  : 		CordsBox RandCord = Cords[rand()%this->CountCord];

  0134c	e8 00 00 00 00	 call	 _rand
  01351	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01354	99		 cdq
  01355	f7 b9 18 0e 00
	00		 idiv	 DWORD PTR [ecx+3608]
  0135b	6b d2 0c	 imul	 edx, 12			; 0000000cH
  0135e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01361	8d 4c 10 08	 lea	 ecx, DWORD PTR [eax+edx+8]
  01365	8b 11		 mov	 edx, DWORD PTR [ecx]
  01367	89 55 e8	 mov	 DWORD PTR _RandCord$220575[ebp], edx
  0136a	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]
  0136d	89 45 ec	 mov	 DWORD PTR _RandCord$220575[ebp+4], eax
  01370	8b 49 08	 mov	 ecx, DWORD PTR [ecx+8]
  01373	89 4d f0	 mov	 DWORD PTR _RandCord$220575[ebp+8], ecx

; 419  : 	
; 420  : 		
; 421  : 		MessaageAllGlobal("[Pandora Event] Player Exit. Box Respawn Again.");	

  01376	68 00 00 00 00	 push	 OFFSET ??_C@_0DA@OEPBFCIB@?$FLPandora?5Event?$FN?5Player?5Exit?4?5Box@
  0137b	e8 00 00 00 00	 call	 ?MessaageAllGlobal@@YAXPADZZ ; MessaageAllGlobal
  01380	83 c4 04	 add	 esp, 4

; 422  : 		this->RespawnBox(RandCord);

  01383	83 ec 0c	 sub	 esp, 12			; 0000000cH
  01386	8b c4		 mov	 eax, esp
  01388	8b 4d e8	 mov	 ecx, DWORD PTR _RandCord$220575[ebp]
  0138b	89 08		 mov	 DWORD PTR [eax], ecx
  0138d	8b 55 ec	 mov	 edx, DWORD PTR _RandCord$220575[ebp+4]
  01390	89 50 04	 mov	 DWORD PTR [eax+4], edx
  01393	8b 4d f0	 mov	 ecx, DWORD PTR _RandCord$220575[ebp+8]
  01396	89 48 08	 mov	 DWORD PTR [eax+8], ecx
  01399	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0139c	e8 00 00 00 00	 call	 ?RespawnBox@cPandoraBoxEvent@@QAEXUCordsBox@@@Z ; cPandoraBoxEvent::RespawnBox

; 423  : 		this->ActivePlayer = -1;

  013a1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  013a4	c7 00 ff ff ff
	ff		 mov	 DWORD PTR [eax], -1
$LN6@CloseClien:

; 424  : 	}
; 425  : }

  013aa	5f		 pop	 edi
  013ab	5e		 pop	 esi
  013ac	5b		 pop	 ebx
  013ad	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  013b0	33 cd		 xor	 ecx, ebp
  013b2	e8 00 00 00 00	 call	 @__security_check_cookie@4
  013b7	8b e5		 mov	 esp, ebp
  013b9	5d		 pop	 ebp
  013ba	c2 04 00	 ret	 4
?CloseClient@cPandoraBoxEvent@@QAEXH@Z ENDP		; cPandoraBoxEvent::CloseClient
_TEXT	ENDS
END
