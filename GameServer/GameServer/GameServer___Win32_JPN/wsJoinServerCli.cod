; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\wsJoinServerCli.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??_7wsJoinServerCli@@6B@			; wsJoinServerCli::`vftable'
PUBLIC	??0wsJoinServerCli@@QAE@XZ			; wsJoinServerCli::wsJoinServerCli
PUBLIC	??_R4wsJoinServerCli@@6B@			; wsJoinServerCli::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVwsJoinServerCli@@@8			; wsJoinServerCli `RTTI Type Descriptor'
PUBLIC	??_R3wsJoinServerCli@@8				; wsJoinServerCli::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2wsJoinServerCli@@8				; wsJoinServerCli::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@wsJoinServerCli@@8		; wsJoinServerCli::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R13?0A@EA@MyWinsockBase@@8			; MyWinsockBase::`RTTI Base Class Descriptor at (4,-1,0,64)'
PUBLIC	??_R0?AVMyWinsockBase@@@8			; MyWinsockBase `RTTI Type Descriptor'
PUBLIC	??_R3MyWinsockBase@@8				; MyWinsockBase::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2MyWinsockBase@@8				; MyWinsockBase::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@MyWinsockBase@@8			; MyWinsockBase::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??0MyWinsockBase@@QAE@XZ:PROC			; MyWinsockBase::MyWinsockBase
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	??_EwsJoinServerCli@@UAEPAXI@Z:PROC		; wsJoinServerCli::`vector deleting destructor'
;	COMDAT ??_R1A@?0A@EA@MyWinsockBase@@8
; File d:\projects\exteam6.3\source\gameserver\gameserver\wsjoinservercli.cpp
rdata$r	SEGMENT
??_R1A@?0A@EA@MyWinsockBase@@8 DD FLAT:??_R0?AVMyWinsockBase@@@8 ; MyWinsockBase::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3MyWinsockBase@@8
rdata$r	ENDS
;	COMDAT ??_R2MyWinsockBase@@8
rdata$r	SEGMENT
??_R2MyWinsockBase@@8 DD FLAT:??_R1A@?0A@EA@MyWinsockBase@@8 ; MyWinsockBase::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3MyWinsockBase@@8
rdata$r	SEGMENT
??_R3MyWinsockBase@@8 DD 00H				; MyWinsockBase::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2MyWinsockBase@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVMyWinsockBase@@@8
_DATA	SEGMENT
??_R0?AVMyWinsockBase@@@8 DD FLAT:??_7type_info@@6B@	; MyWinsockBase `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVMyWinsockBase@@', 00H
_DATA	ENDS
;	COMDAT ??_R13?0A@EA@MyWinsockBase@@8
rdata$r	SEGMENT
??_R13?0A@EA@MyWinsockBase@@8 DD FLAT:??_R0?AVMyWinsockBase@@@8 ; MyWinsockBase::`RTTI Base Class Descriptor at (4,-1,0,64)'
	DD	00H
	DD	04H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3MyWinsockBase@@8
rdata$r	ENDS
;	COMDAT ??_R1A@?0A@EA@wsJoinServerCli@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@wsJoinServerCli@@8 DD FLAT:??_R0?AVwsJoinServerCli@@@8 ; wsJoinServerCli::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	01H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3wsJoinServerCli@@8
rdata$r	ENDS
;	COMDAT ??_R2wsJoinServerCli@@8
rdata$r	SEGMENT
??_R2wsJoinServerCli@@8 DD FLAT:??_R1A@?0A@EA@wsJoinServerCli@@8 ; wsJoinServerCli::`RTTI Base Class Array'
	DD	FLAT:??_R13?0A@EA@MyWinsockBase@@8
rdata$r	ENDS
;	COMDAT ??_R3wsJoinServerCli@@8
rdata$r	SEGMENT
??_R3wsJoinServerCli@@8 DD 00H				; wsJoinServerCli::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	02H
	DD	FLAT:??_R2wsJoinServerCli@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVwsJoinServerCli@@@8
_DATA	SEGMENT
??_R0?AVwsJoinServerCli@@@8 DD FLAT:??_7type_info@@6B@	; wsJoinServerCli `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVwsJoinServerCli@@', 00H
_DATA	ENDS
;	COMDAT ??_R4wsJoinServerCli@@6B@
rdata$r	SEGMENT
??_R4wsJoinServerCli@@6B@ DD 00H			; wsJoinServerCli::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVwsJoinServerCli@@@8
	DD	FLAT:??_R3wsJoinServerCli@@8
rdata$r	ENDS
;	COMDAT ??_7wsJoinServerCli@@6B@
CONST	SEGMENT
??_7wsJoinServerCli@@6B@ DD FLAT:??_R4wsJoinServerCli@@6B@ ; wsJoinServerCli::`vftable'
	DD	FLAT:??_EwsJoinServerCli@@UAEPAXI@Z
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0wsJoinServerCli@@QAE@XZ PROC				; wsJoinServerCli::wsJoinServerCli
; _this$ = ecx

; 6    : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	83 c1 04	 add	 ecx, 4
  00012	e8 00 00 00 00	 call	 ??0MyWinsockBase@@QAE@XZ ; MyWinsockBase::MyWinsockBase
  00017	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001a	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7wsJoinServerCli@@6B@

; 7    : 	return;
; 8    : }

  00020	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00023	5f		 pop	 edi
  00024	5e		 pop	 esi
  00025	5b		 pop	 ebx
  00026	8b e5		 mov	 esp, ebp
  00028	5d		 pop	 ebp
  00029	c3		 ret	 0
??0wsJoinServerCli@@QAE@XZ ENDP				; wsJoinServerCli::wsJoinServerCli
_TEXT	ENDS
PUBLIC	??1wsJoinServerCli@@UAE@XZ			; wsJoinServerCli::~wsJoinServerCli
EXTRN	??3@YAXPAX@Z:PROC				; operator delete
; Function compile flags: /Odtp /ZI
;	COMDAT ??_GwsJoinServerCli@@UAEPAXI@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___flags$ = 8						; size = 4
??_GwsJoinServerCli@@UAEPAXI@Z PROC			; wsJoinServerCli::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ??1wsJoinServerCli@@UAE@XZ ; wsJoinServerCli::~wsJoinServerCli
  00014	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00017	83 e0 01	 and	 eax, 1
  0001a	74 0c		 je	 SHORT $LN1@scalar
  0001c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001f	50		 push	 eax
  00020	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00025	83 c4 04	 add	 esp, 4
$LN1@scalar:
  00028	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002b	5f		 pop	 edi
  0002c	5e		 pop	 esi
  0002d	5b		 pop	 ebx
  0002e	8b e5		 mov	 esp, ebp
  00030	5d		 pop	 ebp
  00031	c2 04 00	 ret	 4
??_GwsJoinServerCli@@UAEPAXI@Z ENDP			; wsJoinServerCli::`scalar deleting destructor'
_TEXT	ENDS
EXTRN	??1MyWinsockBase@@QAE@XZ:PROC			; MyWinsockBase::~MyWinsockBase
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
??1wsJoinServerCli@@UAE@XZ PROC				; wsJoinServerCli::~wsJoinServerCli
; _this$ = ecx

; 11   : {

  00030	55		 push	 ebp
  00031	8b ec		 mov	 ebp, esp
  00033	83 ec 44	 sub	 esp, 68			; 00000044H
  00036	53		 push	 ebx
  00037	56		 push	 esi
  00038	57		 push	 edi
  00039	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0003c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0003f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7wsJoinServerCli@@6B@

; 12   : 	return;
; 13   : }

  00045	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00048	83 c1 04	 add	 ecx, 4
  0004b	e8 00 00 00 00	 call	 ??1MyWinsockBase@@QAE@XZ ; MyWinsockBase::~MyWinsockBase
  00050	5f		 pop	 edi
  00051	5e		 pop	 esi
  00052	5b		 pop	 ebx
  00053	8b e5		 mov	 esp, ebp
  00055	5d		 pop	 ebp
  00056	c3		 ret	 0
??1wsJoinServerCli@@UAE@XZ ENDP				; wsJoinServerCli::~wsJoinServerCli
_TEXT	ENDS
PUBLIC	?SetProtocolCore@wsJoinServerCli@@QAEHP6AXEPAEH@Z@Z ; wsJoinServerCli::SetProtocolCore
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
_pc$ = 8						; size = 4
?SetProtocolCore@wsJoinServerCli@@QAEHP6AXEPAEH@Z@Z PROC ; wsJoinServerCli::SetProtocolCore
; _this$ = ecx

; 17   : {

  00060	55		 push	 ebp
  00061	8b ec		 mov	 ebp, esp
  00063	83 ec 44	 sub	 esp, 68			; 00000044H
  00066	53		 push	 ebx
  00067	56		 push	 esi
  00068	57		 push	 edi
  00069	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 18   : 	this->wsProtocolCore = pc;

  0006c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0006f	8b 4d 08	 mov	 ecx, DWORD PTR _pc$[ebp]
  00072	89 88 24 00 19
	00		 mov	 DWORD PTR [eax+1638436], ecx

; 19   : 	return TRUE;

  00078	b8 01 00 00 00	 mov	 eax, 1

; 20   : }

  0007d	5f		 pop	 edi
  0007e	5e		 pop	 esi
  0007f	5b		 pop	 ebx
  00080	8b e5		 mov	 esp, ebp
  00082	5d		 pop	 ebp
  00083	c2 04 00	 ret	 4
?SetProtocolCore@wsJoinServerCli@@QAEHP6AXEPAEH@Z@Z ENDP ; wsJoinServerCli::SetProtocolCore
_TEXT	ENDS
PUBLIC	??_C@_0BP@DJPBKKNL@Client?5WSAAsyncSelect?5error?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0BL@INMHEGJC@server?5name?5not?5found?5?$FL?$CFs?$FN?$AA@ ; `string'
PUBLIC	??_C@_0BF@CPKGJHBM@?5Connect?5Error?5?$CFs?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0EH@MDOLEELP@d?3?2projects?2exteam6?43?2source?2gam@ ; `string'
PUBLIC	?__LINE__Var@?1??Connect@wsJoinServerCli@@QAEHPADGK@Z@4JA ; `wsJoinServerCli::Connect'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
PUBLIC	?Connect@wsJoinServerCli@@QAEHPADGK@Z		; wsJoinServerCli::Connect
EXTRN	?Close@MyWinsockBase@@QAEHI@Z:PROC		; MyWinsockBase::Close
EXTRN	?SetConnect@MyWinsockBase@@QAEXH@Z:PROC		; MyWinsockBase::SetConnect
EXTRN	__imp__closesocket@4:PROC
EXTRN	__imp__WSAAsyncSelect@16:PROC
EXTRN	__imp__WSAGetLastError@0:PROC
EXTRN	__imp__connect@12:PROC
EXTRN	__imp__setsockopt@20:PROC
EXTRN	_memcpy:PROC
EXTRN	__imp__gethostbyname@4:PROC
EXTRN	__imp__inet_addr@4:PROC
EXTRN	__imp__htons@4:PROC
EXTRN	?LogAdd@@3P6AXPADZZA:DWORD			; LogAdd
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
;	COMDAT ??_C@_0BP@DJPBKKNL@Client?5WSAAsyncSelect?5error?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BP@DJPBKKNL@Client?5WSAAsyncSelect?5error?5?$CFd?$AA@ DB 'Client W'
	DB	'SAAsyncSelect error %d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BL@INMHEGJC@server?5name?5not?5found?5?$FL?$CFs?$FN?$AA@
CONST	SEGMENT
??_C@_0BL@INMHEGJC@server?5name?5not?5found?5?$FL?$CFs?$FN?$AA@ DB 'serve'
	DB	'r name not found [%s]', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@CPKGJHBM@?5Connect?5Error?5?$CFs?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BF@CPKGJHBM@?5Connect?5Error?5?$CFs?5?$CFd?$AA@ DB ' Connect Error'
	DB	' %s %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0EH@MDOLEELP@d?3?2projects?2exteam6?43?2source?2gam@
CONST	SEGMENT
??_C@_0EH@MDOLEELP@d?3?2projects?2exteam6?43?2source?2gam@ DB 'd:\project'
	DB	's\exteam6.3\source\gameserver\gameserver\wsjoinservercli.cpp', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??Connect@wsJoinServerCli@@QAEHPADGK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??Connect@wsJoinServerCli@@QAEHPADGK@Z@4JA DD 04eH ; `wsJoinServerCli::Connect'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_snd_buf$ = -40						; size = 4
_host$ = -36						; size = 4
_nResult$ = -32						; size = 4
_addr$ = -28						; size = 16
_result$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_ip_addr$ = 8						; size = 4
_port$ = 12						; size = 2
_WinMsgNum$ = 16					; size = 4
?Connect@wsJoinServerCli@@QAEHPADGK@Z PROC		; wsJoinServerCli::Connect
; _this$ = ecx

; 78   : {

  00090	55		 push	 ebp
  00091	8b ec		 mov	 ebp, esp
  00093	83 ec 68	 sub	 esp, 104		; 00000068H
  00096	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0009b	33 c5		 xor	 eax, ebp
  0009d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  000a0	53		 push	 ebx
  000a1	56		 push	 esi
  000a2	57		 push	 edi
  000a3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 79   :     int result; // eax@2
; 80   :     sockaddr_in addr; // [sp+8h] [bp-1Ch]@3
; 81   :     int nResult; // [sp+18h] [bp-Ch]@7
; 82   :     hostent *host = NULL; // [sp+1Ch] [bp-8h]@1

  000a6	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _host$[ebp], 0

; 83   :     int snd_buf = 81920;	//81920

  000ad	c7 45 d8 00 40
	01 00		 mov	 DWORD PTR _snd_buf$[ebp], 81920 ; 00014000H

; 84   :  
; 85   :     if ( !this->m_hWnd )

  000b4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000b7	83 78 08 00	 cmp	 DWORD PTR [eax+8], 0
  000bb	75 23		 jne	 SHORT $LN8@Connect

; 86   :     {
; 87   :         LogAdd(" Connect Error %s %d", __FILE__, __LINE__);

  000bd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??Connect@wsJoinServerCli@@QAEHPADGK@Z@4JA
  000c2	83 c0 09	 add	 eax, 9
  000c5	50		 push	 eax
  000c6	68 00 00 00 00	 push	 OFFSET ??_C@_0EH@MDOLEELP@d?3?2projects?2exteam6?43?2source?2gam@
  000cb	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@CPKGJHBM@?5Connect?5Error?5?$CFs?5?$CFd?$AA@
  000d0	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  000d6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 88   :         return 0;

  000d9	33 c0		 xor	 eax, eax
  000db	e9 47 01 00 00	 jmp	 $LN9@Connect
$LN8@Connect:

; 89   :     }
; 90   :  
; 91   :     addr.sin_family = AF_INET;

  000e0	b8 02 00 00 00	 mov	 eax, 2
  000e5	66 89 45 e4	 mov	 WORD PTR _addr$[ebp], ax

; 92   :     addr.sin_port = htons(port);

  000e9	0f b7 45 0c	 movzx	 eax, WORD PTR _port$[ebp]
  000ed	50		 push	 eax
  000ee	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__htons@4
  000f4	66 89 45 e6	 mov	 WORD PTR _addr$[ebp+2], ax

; 93   :     addr.sin_addr.S_un.S_addr = inet_addr(ip_addr);

  000f8	8b 45 08	 mov	 eax, DWORD PTR _ip_addr$[ebp]
  000fb	50		 push	 eax
  000fc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__inet_addr@4
  00102	89 45 e8	 mov	 DWORD PTR _addr$[ebp+4], eax

; 94   :  
; 95   :     if ( addr.sin_addr.S_un.S_addr == -1 )

  00105	83 7d e8 ff	 cmp	 DWORD PTR _addr$[ebp+4], -1
  00109	75 49		 jne	 SHORT $LN7@Connect

; 96   :     {
; 97   :         host = gethostbyname(ip_addr);

  0010b	8b 45 08	 mov	 eax, DWORD PTR _ip_addr$[ebp]
  0010e	50		 push	 eax
  0010f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__gethostbyname@4
  00115	89 45 dc	 mov	 DWORD PTR _host$[ebp], eax

; 98   :  
; 99   :         if ( !host )

  00118	83 7d dc 00	 cmp	 DWORD PTR _host$[ebp], 0
  0011c	75 19		 jne	 SHORT $LN6@Connect

; 100  :         {
; 101  :             LogAdd("server name not found [%s]", ip_addr);

  0011e	8b 45 08	 mov	 eax, DWORD PTR _ip_addr$[ebp]
  00121	50		 push	 eax
  00122	68 00 00 00 00	 push	 OFFSET ??_C@_0BL@INMHEGJC@server?5name?5not?5found?5?$FL?$CFs?$FN?$AA@
  00127	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0012d	83 c4 08	 add	 esp, 8

; 102  :             return 0;

  00130	33 c0		 xor	 eax, eax
  00132	e9 f0 00 00 00	 jmp	 $LN9@Connect
$LN6@Connect:

; 103  :         }
; 104  :  
; 105  :         memcpy((char *)&addr.sin_addr, *host->h_addr_list, host->h_length);

  00137	8b 45 dc	 mov	 eax, DWORD PTR _host$[ebp]
  0013a	0f bf 48 0a	 movsx	 ecx, WORD PTR [eax+10]
  0013e	51		 push	 ecx
  0013f	8b 55 dc	 mov	 edx, DWORD PTR _host$[ebp]
  00142	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  00145	8b 08		 mov	 ecx, DWORD PTR [eax]
  00147	51		 push	 ecx
  00148	8d 55 e8	 lea	 edx, DWORD PTR _addr$[ebp+4]
  0014b	52		 push	 edx
  0014c	e8 00 00 00 00	 call	 _memcpy
  00151	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN7@Connect:

; 106  :     }
; 107  :  
; 108  :     setsockopt(this->m_socket, 0xFFFF, 4097, (const char *)&snd_buf, 4);

  00154	6a 04		 push	 4
  00156	8d 45 d8	 lea	 eax, DWORD PTR _snd_buf$[ebp]
  00159	50		 push	 eax
  0015a	68 01 10 00 00	 push	 4097			; 00001001H
  0015f	68 ff ff 00 00	 push	 65535			; 0000ffffH
  00164	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00167	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  0016a	52		 push	 edx
  0016b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__setsockopt@20

; 109  :  
; 110  :     nResult = connect(this->m_socket, (const struct sockaddr *)&addr, 16);

  00171	6a 10		 push	 16			; 00000010H
  00173	8d 45 e4	 lea	 eax, DWORD PTR _addr$[ebp]
  00176	50		 push	 eax
  00177	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0017a	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  0017d	52		 push	 edx
  0017e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__connect@12
  00184	89 45 e0	 mov	 DWORD PTR _nResult$[ebp], eax

; 111  :  
; 112  :     if ( nResult != -1 || WSAGetLastError() == 10035 )

  00187	83 7d e0 ff	 cmp	 DWORD PTR _nResult$[ebp], -1
  0018b	75 0d		 jne	 SHORT $LN4@Connect
  0018d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  00193	3d 33 27 00 00	 cmp	 eax, 10035		; 00002733H
  00198	75 71		 jne	 SHORT $LN5@Connect
$LN4@Connect:

; 113  :     {
; 114  :         nResult = WSAAsyncSelect(this->m_socket, this->m_hWnd, WinMsgNum, 35);

  0019a	6a 23		 push	 35			; 00000023H
  0019c	8b 45 10	 mov	 eax, DWORD PTR _WinMsgNum$[ebp]
  0019f	50		 push	 eax
  001a0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001a3	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  001a6	52		 push	 edx
  001a7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001aa	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  001ad	51		 push	 ecx
  001ae	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAAsyncSelect@16
  001b4	89 45 e0	 mov	 DWORD PTR _nResult$[ebp], eax

; 115  :  
; 116  :         if ( nResult == -1 )

  001b7	83 7d e0 ff	 cmp	 DWORD PTR _nResult$[ebp], -1
  001bb	75 2b		 jne	 SHORT $LN3@Connect

; 117  :         {
; 118  :             closesocket(this->m_socket);

  001bd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001c0	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  001c3	51		 push	 ecx
  001c4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__closesocket@4

; 119  :             LogAdd("Client WSAAsyncSelect error %d", WSAGetLastError());

  001ca	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  001d0	50		 push	 eax
  001d1	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@DJPBKKNL@Client?5WSAAsyncSelect?5error?5?$CFd?$AA@
  001d6	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  001dc	83 c4 08	 add	 esp, 8

; 120  :             result = 0;

  001df	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _result$[ebp], 0

; 121  :         }
; 122  :         else

  001e6	eb 21		 jmp	 SHORT $LN2@Connect
$LN3@Connect:

; 123  :         {
; 124  :             this->m_SendBufLen = 0;

  001e8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001eb	c7 80 1c 80 0c
	00 00 00 00 00	 mov	 DWORD PTR [eax+819228], 0

; 125  :             this->SetConnect(TRUE);

  001f5	6a 01		 push	 1
  001f7	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001fa	83 c1 04	 add	 ecx, 4
  001fd	e8 00 00 00 00	 call	 ?SetConnect@MyWinsockBase@@QAEXH@Z ; MyWinsockBase::SetConnect

; 126  :             result = 1;

  00202	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _result$[ebp], 1
$LN2@Connect:

; 127  :         }
; 128  :     }
; 129  :     else

  00209	eb 19		 jmp	 SHORT $LN1@Connect
$LN5@Connect:

; 130  :     {
; 131  :         this->Close(this->m_socket);

  0020b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0020e	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00211	51		 push	 ecx
  00212	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00215	83 c1 04	 add	 ecx, 4
  00218	e8 00 00 00 00	 call	 ?Close@MyWinsockBase@@QAEHI@Z ; MyWinsockBase::Close

; 132  :         result = 0;

  0021d	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _result$[ebp], 0
$LN1@Connect:

; 133  :     }
; 134  :     return result;

  00224	8b 45 f4	 mov	 eax, DWORD PTR _result$[ebp]
$LN9@Connect:

; 135  : }

  00227	5f		 pop	 edi
  00228	5e		 pop	 esi
  00229	5b		 pop	 ebx
  0022a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0022d	33 cd		 xor	 ecx, ebp
  0022f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00234	8b e5		 mov	 esp, ebp
  00236	5d		 pop	 ebp
  00237	c2 0c 00	 ret	 12			; 0000000cH
?Connect@wsJoinServerCli@@QAEHPADGK@Z ENDP		; wsJoinServerCli::Connect
_TEXT	ENDS
PUBLIC	??_C@_0CC@HECGJOBH@error?9L3?5?3?5send?$CI?$CJ?5?5result?5is?5zer@ ; `string'
PUBLIC	??_C@_0CG@DMMIJENA@error?9L3?5?3?5buffer?5error?5closed?5?$CF@ ; `string'
PUBLIC	??_C@_0BG@DJOPGDCB@error?9L3?5?3?5?$CFd?5?$CI?$CFs?5?$CFd?$CJ?$AA@ ; `string'
PUBLIC	?__LINE__Var@?1??DataSend@wsJoinServerCli@@QAEHPADH@Z@4JA ; `wsJoinServerCli::DataSend'::`2'::__LINE__Var
PUBLIC	??_C@_0EH@IGAACNFP@Error?5wsJoinServerClli?5DataSend?5@ ; `string'
PUBLIC	?DataSend@wsJoinServerCli@@QAEHPADH@Z		; wsJoinServerCli::DataSend
EXTRN	?LogAddC@@3P6AXEPADZZA:DWORD			; LogAddC
EXTRN	__imp__send@16:PROC
EXTRN	?Close@MyWinsockBase@@QAEHXZ:PROC		; MyWinsockBase::Close
EXTRN	?LogAddTD@@3P6AXPADZZA:DWORD			; LogAddTD
;	COMDAT ??_C@_0CC@HECGJOBH@error?9L3?5?3?5send?$CI?$CJ?5?5result?5is?5zer@
CONST	SEGMENT
??_C@_0CC@HECGJOBH@error?9L3?5?3?5send?$CI?$CJ?5?5result?5is?5zer@ DB 'er'
	DB	'ror-L3 : send()  result is zero', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CG@DMMIJENA@error?9L3?5?3?5buffer?5error?5closed?5?$CF@
CONST	SEGMENT
??_C@_0CG@DMMIJENA@error?9L3?5?3?5buffer?5error?5closed?5?$CF@ DB 'error-'
	DB	'L3 : buffer error closed %d, %d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@DJOPGDCB@error?9L3?5?3?5?$CFd?5?$CI?$CFs?5?$CFd?$CJ?$AA@
CONST	SEGMENT
??_C@_0BG@DJOPGDCB@error?9L3?5?3?5?$CFd?5?$CI?$CFs?5?$CFd?$CJ?$AA@ DB 'er'
	DB	'ror-L3 : %d (%s %d)', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??DataSend@wsJoinServerCli@@QAEHPADH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??DataSend@wsJoinServerCli@@QAEHPADH@Z@4JA DD 0e7H ; `wsJoinServerCli::DataSend'::`2'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0EH@IGAACNFP@Error?5wsJoinServerClli?5DataSend?5@
CONST	SEGMENT
??_C@_0EH@IGAACNFP@Error?5wsJoinServerClli?5DataSend?5@ DB 'Error wsJoinS'
	DB	'erverClli DataSend m_SendBufLen+len > MAX_JOINSENDBUFSIZE', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_sendbuflen$ = -24					; size = 4
_nDx$ = -16						; size = 4
_nLeft$ = -12						; size = 4
_nResult$ = -8						; size = 4
_this$ = -4						; size = 4
_buf$ = 8						; size = 4
_len$ = 12						; size = 4
?DataSend@wsJoinServerCli@@QAEHPADH@Z PROC		; wsJoinServerCli::DataSend
; _this$ = ecx

; 231  : {

  00240	55		 push	 ebp
  00241	8b ec		 mov	 ebp, esp
  00243	83 ec 58	 sub	 esp, 88			; 00000058H
  00246	53		 push	 ebx
  00247	56		 push	 esi
  00248	57		 push	 edi
  00249	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 232  :     int nResult;
; 233  :     int nLeft;
; 234  :     int nDx;    // Degeneration X :)
; 235  :     LPBYTE sendbuf;
; 236  :     int* sendbuflen;
; 237  :    
; 238  :     if ( len <= 0 )

  0024c	83 7d 0c 00	 cmp	 DWORD PTR _len$[ebp], 0
  00250	7f 07		 jg	 SHORT $LN14@DataSend

; 239  :     {
; 240  :         return 0;

  00252	33 c0		 xor	 eax, eax
  00254	e9 cb 01 00 00	 jmp	 $LN15@DataSend
$LN14@DataSend:

; 241  :     }
; 242  :  
; 243  :     if ( this->m_socket  == INVALID_SOCKET )    //

  00259	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0025c	83 78 0c ff	 cmp	 DWORD PTR [eax+12], -1
  00260	75 07		 jne	 SHORT $LN13@DataSend

; 244  :     {
; 245  :         return 0;

  00262	33 c0		 xor	 eax, eax
  00264	e9 bb 01 00 00	 jmp	 $LN15@DataSend
$LN13@DataSend:

; 246  :     }
; 247  :  
; 248  :     nDx = 0;

  00269	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _nDx$[ebp], 0

; 249  :  
; 250  :     //sendbuf = this->m_SendBuf;
; 251  :     //sendbuflen = &len;    // Strange, dangeorus
; 252  :  
; 253  :     if ( this->m_SendBufLen  > 0 )

  00270	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00273	83 b8 1c 80 0c
	00 00		 cmp	 DWORD PTR [eax+819228], 0
  0027a	7e 74		 jle	 SHORT $LN12@DataSend

; 254  :     {
; 255  :         if ( (this->m_SendBufLen +len) < MAX_WS_BUF_LEN )

  0027c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0027f	8b 88 1c 80 0c
	00		 mov	 ecx, DWORD PTR [eax+819228]
  00285	03 4d 0c	 add	 ecx, DWORD PTR _len$[ebp]
  00288	81 f9 00 80 0c
	00		 cmp	 ecx, 819200		; 000c8000H
  0028e	7d 40		 jge	 SHORT $LN11@DataSend

; 256  :         {
; 257  :             memcpy(&this->m_SendBuf[this->m_SendBufLen], buf, len);

  00290	8b 45 0c	 mov	 eax, DWORD PTR _len$[ebp]
  00293	50		 push	 eax
  00294	8b 4d 08	 mov	 ecx, DWORD PTR _buf$[ebp]
  00297	51		 push	 ecx
  00298	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0029b	8b 82 1c 80 0c
	00		 mov	 eax, DWORD PTR [edx+819228]
  002a1	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  002a4	8d 54 01 1c	 lea	 edx, DWORD PTR [ecx+eax+28]
  002a8	52		 push	 edx
  002a9	e8 00 00 00 00	 call	 _memcpy
  002ae	83 c4 0c	 add	 esp, 12			; 0000000cH

; 258  :             this->m_SendBufLen += len;

  002b1	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  002b4	8b 88 1c 80 0c
	00		 mov	 ecx, DWORD PTR [eax+819228]
  002ba	03 4d 0c	 add	 ecx, DWORD PTR _len$[ebp]
  002bd	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  002c0	89 8a 1c 80 0c
	00		 mov	 DWORD PTR [edx+819228], ecx

; 259  :             return TRUE;

  002c6	b8 01 00 00 00	 mov	 eax, 1
  002cb	e9 54 01 00 00	 jmp	 $LN15@DataSend
$LN11@DataSend:

; 260  :         }
; 261  :  
; 262  :         LogAddTD("Error wsJoinServerClli DataSend m_SendBufLen+len > MAX_JOINSENDBUFSIZE");

  002d0	68 00 00 00 00	 push	 OFFSET ??_C@_0EH@IGAACNFP@Error?5wsJoinServerClli?5DataSend?5@
  002d5	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  002db	83 c4 04	 add	 esp, 4

; 263  :         this->Close();

  002de	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  002e1	83 c1 04	 add	 ecx, 4
  002e4	e8 00 00 00 00	 call	 ?Close@MyWinsockBase@@QAEHXZ ; MyWinsockBase::Close

; 264  :         return FALSE;

  002e9	33 c0		 xor	 eax, eax
  002eb	e9 34 01 00 00	 jmp	 $LN15@DataSend
$LN12@DataSend:

; 265  :     }
; 266  :  
; 267  :     nLeft = len;

  002f0	8b 45 0c	 mov	 eax, DWORD PTR _len$[ebp]
  002f3	89 45 f4	 mov	 DWORD PTR _nLeft$[ebp], eax
$LN10@DataSend:

; 268  :  
; 269  :     while ( true )

  002f6	b8 01 00 00 00	 mov	 eax, 1
  002fb	85 c0		 test	 eax, eax
  002fd	0f 84 1c 01 00
	00		 je	 $LN9@DataSend

; 270  :     {
; 271  :         nResult = send(this->m_socket, (char*)&buf[nDx], (len - nDx), 0);

  00303	6a 00		 push	 0
  00305	8b 45 0c	 mov	 eax, DWORD PTR _len$[ebp]
  00308	2b 45 f0	 sub	 eax, DWORD PTR _nDx$[ebp]
  0030b	50		 push	 eax
  0030c	8b 4d 08	 mov	 ecx, DWORD PTR _buf$[ebp]
  0030f	03 4d f0	 add	 ecx, DWORD PTR _nDx$[ebp]
  00312	51		 push	 ecx
  00313	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00316	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  00319	50		 push	 eax
  0031a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__send@16
  00320	89 45 f8	 mov	 DWORD PTR _nResult$[ebp], eax

; 272  :  
; 273  :         if ( nResult == -1)

  00323	83 7d f8 ff	 cmp	 DWORD PTR _nResult$[ebp], -1
  00327	0f 85 a7 00 00
	00		 jne	 $LN8@DataSend

; 274  :         {
; 275  :             if ( WSAGetLastError() != WSAEWOULDBLOCK )

  0032d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  00333	3d 33 27 00 00	 cmp	 eax, 10035		; 00002733H
  00338	74 43		 je	 SHORT $LN7@DataSend

; 276  :             {
; 277  :                 LogAdd("error-L3 : %d (%s %d)", WSAGetLastError(), __FILE__, __LINE__);

  0033a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??DataSend@wsJoinServerCli@@QAEHPADH@Z@4JA
  0033f	83 c0 2e	 add	 eax, 46			; 0000002eH
  00342	50		 push	 eax
  00343	68 00 00 00 00	 push	 OFFSET ??_C@_0EH@MDOLEELP@d?3?2projects?2exteam6?43?2source?2gam@
  00348	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  0034e	50		 push	 eax
  0034f	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@DJOPGDCB@error?9L3?5?3?5?$CFd?5?$CI?$CFs?5?$CFd?$CJ?$AA@
  00354	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0035a	83 c4 10	 add	 esp, 16			; 00000010H

; 278  :                 len = 0;

  0035d	c7 45 0c 00 00
	00 00		 mov	 DWORD PTR _len$[ebp], 0

; 279  :                 this->Close(this->m_socket);

  00364	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00367	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0036a	51		 push	 ecx
  0036b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0036e	83 c1 04	 add	 ecx, 4
  00371	e8 00 00 00 00	 call	 ?Close@MyWinsockBase@@QAEHI@Z ; MyWinsockBase::Close

; 280  :                 return FALSE;

  00376	33 c0		 xor	 eax, eax
  00378	e9 a7 00 00 00	 jmp	 $LN15@DataSend
$LN7@DataSend:

; 281  :             }
; 282  :  
; 283  :             if( (len + nLeft) > MAX_WS_BUF_LEN )

  0037d	8b 45 0c	 mov	 eax, DWORD PTR _len$[ebp]
  00380	03 45 f4	 add	 eax, DWORD PTR _nLeft$[ebp]
  00383	3d 00 80 0c 00	 cmp	 eax, 819200		; 000c8000H
  00388	7e 3b		 jle	 SHORT $LN6@DataSend

; 284  :             {
; 285  :                 LogAddC(2,"error-L3 : buffer error closed %d, %d", (*sendbuflen+nLeft), MAX_WS_BUF_LEN);

  0038a	68 00 80 0c 00	 push	 819200			; 000c8000H
  0038f	8b 45 e8	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  00392	8b 08		 mov	 ecx, DWORD PTR [eax]
  00394	03 4d f4	 add	 ecx, DWORD PTR _nLeft$[ebp]
  00397	51		 push	 ecx
  00398	68 00 00 00 00	 push	 OFFSET ??_C@_0CG@DMMIJENA@error?9L3?5?3?5buffer?5error?5closed?5?$CF@
  0039d	6a 02		 push	 2
  0039f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddC@@3P6AXEPADZZA ; LogAddC
  003a5	83 c4 10	 add	 esp, 16			; 00000010H

; 286  :                 len = 0;

  003a8	c7 45 0c 00 00
	00 00		 mov	 DWORD PTR _len$[ebp], 0

; 287  :                 this->Close(this->m_socket);

  003af	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  003b2	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  003b5	51		 push	 ecx
  003b6	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  003b9	83 c1 04	 add	 ecx, 4
  003bc	e8 00 00 00 00	 call	 ?Close@MyWinsockBase@@QAEHI@Z ; MyWinsockBase::Close

; 288  :                 return FALSE;

  003c1	33 c0		 xor	 eax, eax
  003c3	eb 5f		 jmp	 SHORT $LN15@DataSend
$LN6@DataSend:

; 289  :             }
; 290  :  
; 291  :             /*if( !this->m_SendBufLen )
; 292  :             {
; 293  :                 return false;
; 294  :             }*/
; 295  :  
; 296  :             if ( nDx >= 0 )

  003c5	83 7d f0 00	 cmp	 DWORD PTR _nDx$[ebp], 0
  003c9	7c 07		 jl	 SHORT $LN5@DataSend

; 297  :             {
; 298  :                 /*memcpy( &this->m_SendBuf[this->m_SendBufLen],  &buf[nDx], nLeft);
; 299  :                 this->m_SendBufLen +=nLeft;
; 300  :                 LogAdd("error-L3 : Copy1 : nLeft:%d len:%d nDx:%d", nLeft, this->m_SendBufLen , nDx);*/
; 301  :                 return TRUE;

  003cb	b8 01 00 00 00	 mov	 eax, 1
  003d0	eb 52		 jmp	 SHORT $LN15@DataSend
$LN5@DataSend:

; 302  :             }
; 303  :         }

  003d2	eb 1d		 jmp	 SHORT $LN4@DataSend
$LN8@DataSend:

; 304  :         else if ( nResult == 0 )

  003d4	83 7d f8 00	 cmp	 DWORD PTR _nResult$[ebp], 0
  003d8	75 17		 jne	 SHORT $LN4@DataSend

; 305  :         {
; 306  :             LogAdd("error-L3 : send()  result is zero", WSAGetLastError());

  003da	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  003e0	50		 push	 eax
  003e1	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@HECGJOBH@error?9L3?5?3?5send?$CI?$CJ?5?5result?5is?5zer@
  003e6	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  003ec	83 c4 08	 add	 esp, 8

; 307  :             break;

  003ef	eb 2e		 jmp	 SHORT $LN9@DataSend
$LN4@DataSend:

; 308  :         }
; 309  :  
; 310  :         if ( nResult > 0 )

  003f1	83 7d f8 00	 cmp	 DWORD PTR _nResult$[ebp], 0
  003f5	7e 1b		 jle	 SHORT $LN2@DataSend

; 311  :         {
; 312  :             nDx += nResult;

  003f7	8b 45 f0	 mov	 eax, DWORD PTR _nDx$[ebp]
  003fa	03 45 f8	 add	 eax, DWORD PTR _nResult$[ebp]
  003fd	89 45 f0	 mov	 DWORD PTR _nDx$[ebp], eax

; 313  :             nLeft -= nResult;

  00400	8b 45 f4	 mov	 eax, DWORD PTR _nLeft$[ebp]
  00403	2b 45 f8	 sub	 eax, DWORD PTR _nResult$[ebp]
  00406	89 45 f4	 mov	 DWORD PTR _nLeft$[ebp], eax

; 314  :             len -= nResult;

  00409	8b 45 0c	 mov	 eax, DWORD PTR _len$[ebp]
  0040c	2b 45 f8	 sub	 eax, DWORD PTR _nResult$[ebp]
  0040f	89 45 0c	 mov	 DWORD PTR _len$[ebp], eax
$LN2@DataSend:

; 315  :         }
; 316  :  
; 317  :         if ( nLeft <= 0)

  00412	83 7d f4 00	 cmp	 DWORD PTR _nLeft$[ebp], 0
  00416	7f 02		 jg	 SHORT $LN1@DataSend

; 318  :         {
; 319  :             break;

  00418	eb 05		 jmp	 SHORT $LN9@DataSend
$LN1@DataSend:

; 320  :         }
; 321  :     }

  0041a	e9 d7 fe ff ff	 jmp	 $LN10@DataSend
$LN9@DataSend:

; 322  :  
; 323  :     return TRUE;

  0041f	b8 01 00 00 00	 mov	 eax, 1
$LN15@DataSend:

; 324  : }

  00424	5f		 pop	 edi
  00425	5e		 pop	 esi
  00426	5b		 pop	 ebx
  00427	8b e5		 mov	 esp, ebp
  00429	5d		 pop	 ebp
  0042a	c2 08 00	 ret	 8
?DataSend@wsJoinServerCli@@QAEHPADH@Z ENDP		; wsJoinServerCli::DataSend
_TEXT	ENDS
PUBLIC	??_C@_0CC@CMOPGBFG@error?9L3?5?3?5nDx?5?$CFd?5m_SendBufLen?5?$CF@ ; `string'
PUBLIC	??_C@_0BJ@BMEBGMFO@send?$CI?$CJ?5result?5is?5zero?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0CE@HIKCACFP@FD_WRITE?5send?$CI?$CJ?5WSAEWOULDBLOCK?5?3@ ; `string'
PUBLIC	??_C@_0BL@HNPHKEOO@FD_WRITE?5send?$CI?$CJ?5?$LP?$KB?$LH?$KP?5?$CFd?5?$CFd?$AA@ ; `string'
PUBLIC	?FDWRITE_MsgDataSend@wsJoinServerCli@@QAEHXZ	; wsJoinServerCli::FDWRITE_MsgDataSend
;	COMDAT ??_C@_0CC@CMOPGBFG@error?9L3?5?3?5nDx?5?$CFd?5m_SendBufLen?5?$CF@
CONST	SEGMENT
??_C@_0CC@CMOPGBFG@error?9L3?5?3?5nDx?5?$CFd?5m_SendBufLen?5?$CF@ DB 'err'
	DB	'or-L3 : nDx %d m_SendBufLen %d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BJ@BMEBGMFO@send?$CI?$CJ?5result?5is?5zero?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BJ@BMEBGMFO@send?$CI?$CJ?5result?5is?5zero?5?$CFd?$AA@ DB 'send() '
	DB	'result is zero %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CE@HIKCACFP@FD_WRITE?5send?$CI?$CJ?5WSAEWOULDBLOCK?5?3@
CONST	SEGMENT
??_C@_0CE@HIKCACFP@FD_WRITE?5send?$CI?$CJ?5WSAEWOULDBLOCK?5?3@ DB 'FD_WRI'
	DB	'TE send() WSAEWOULDBLOCK : %d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BL@HNPHKEOO@FD_WRITE?5send?$CI?$CJ?5?$LP?$KB?$LH?$KP?5?$CFd?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BL@HNPHKEOO@FD_WRITE?5send?$CI?$CJ?5?$LP?$KB?$LH?$KP?5?$CFd?5?$CFd?$AA@ DB 'F'
	DB	'D_WRITE send() ', 0bfH, 0a1H, 0b7H, 0afH, ' %d %d', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_sendbuflen$ = -20					; size = 4
_sendbuf$ = -16						; size = 4
_nDx$ = -12						; size = 4
_nResult$ = -8						; size = 4
_this$ = -4						; size = 4
?FDWRITE_MsgDataSend@wsJoinServerCli@@QAEHXZ PROC	; wsJoinServerCli::FDWRITE_MsgDataSend
; _this$ = ecx

; 331  : {

  00430	55		 push	 ebp
  00431	8b ec		 mov	 ebp, esp
  00433	83 ec 54	 sub	 esp, 84			; 00000054H
  00436	53		 push	 ebx
  00437	56		 push	 esi
  00438	57		 push	 edi
  00439	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 332  : 	int nResult;
; 333  : 	int nDx;	// Degeneration X :)
; 334  : 	LPBYTE sendbuf;
; 335  : 	int* sendbuflen;
; 336  : 
; 337  : 	nDx=0;

  0043c	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _nDx$[ebp], 0

; 338  : 	sendbuf=&this->m_SendBuf[0];

  00443	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00446	83 c0 1c	 add	 eax, 28			; 0000001cH
  00449	89 45 f0	 mov	 DWORD PTR _sendbuf$[ebp], eax

; 339  : 	sendbuflen=&this->m_SendBufLen ;

  0044c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0044f	05 1c 80 0c 00	 add	 eax, 819228		; 000c801cH
  00454	89 45 ec	 mov	 DWORD PTR _sendbuflen$[ebp], eax

; 340  : 
; 341  : 	if (this->m_SendBufLen < 1)

  00457	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0045a	83 b8 1c 80 0c
	00 01		 cmp	 DWORD PTR [eax+819228], 1
  00461	7d 0a		 jge	 SHORT $LN7@FDWRITE_Ms

; 342  : 	{
; 343  : 		return TRUE;

  00463	b8 01 00 00 00	 mov	 eax, 1
  00468	e9 02 01 00 00	 jmp	 $LN9@FDWRITE_Ms
$LN7@FDWRITE_Ms:

; 344  : 	}
; 345  : 
; 346  : 	while (*sendbuflen>0)

  0046d	8b 45 ec	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  00470	83 38 00	 cmp	 DWORD PTR [eax], 0
  00473	0f 8e f1 00 00
	00		 jle	 $LN6@FDWRITE_Ms

; 347  : 	{
; 348  : 		nResult=send(this->m_socket, (char*)&sendbuf[nDx], *sendbuflen-nDx, 0);

  00479	6a 00		 push	 0
  0047b	8b 45 ec	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  0047e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00480	2b 4d f4	 sub	 ecx, DWORD PTR _nDx$[ebp]
  00483	51		 push	 ecx
  00484	8b 55 f0	 mov	 edx, DWORD PTR _sendbuf$[ebp]
  00487	03 55 f4	 add	 edx, DWORD PTR _nDx$[ebp]
  0048a	52		 push	 edx
  0048b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0048e	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00491	51		 push	 ecx
  00492	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__send@16
  00498	89 45 f8	 mov	 DWORD PTR _nResult$[ebp], eax

; 349  : 		if (nResult == -1)

  0049b	83 7d f8 ff	 cmp	 DWORD PTR _nResult$[ebp], -1
  0049f	75 53		 jne	 SHORT $LN5@FDWRITE_Ms

; 350  : 		{
; 351  : 			if ( WSAGetLastError() != WSAEWOULDBLOCK)

  004a1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  004a7	3d 33 27 00 00	 cmp	 eax, 10035		; 00002733H
  004ac	74 2f		 je	 SHORT $LN4@FDWRITE_Ms

; 352  : 			{
; 353  : 				LogAdd("FD_WRITE send() ¿¡·¯ %d %d", WSAGetLastError(), *sendbuflen);

  004ae	8b 45 ec	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  004b1	8b 08		 mov	 ecx, DWORD PTR [eax]
  004b3	51		 push	 ecx
  004b4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  004ba	50		 push	 eax
  004bb	68 00 00 00 00	 push	 OFFSET ??_C@_0BL@HNPHKEOO@FD_WRITE?5send?$CI?$CJ?5?$LP?$KB?$LH?$KP?5?$CFd?5?$CFd?$AA@
  004c0	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  004c6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 354  : 				this->Close();

  004c9	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  004cc	83 c1 04	 add	 ecx, 4
  004cf	e8 00 00 00 00	 call	 ?Close@MyWinsockBase@@QAEHXZ ; MyWinsockBase::Close

; 355  : 				return FALSE;

  004d4	33 c0		 xor	 eax, eax
  004d6	e9 94 00 00 00	 jmp	 $LN9@FDWRITE_Ms

; 356  : 			}
; 357  : 			else

  004db	eb 17		 jmp	 SHORT $LN5@FDWRITE_Ms
$LN4@FDWRITE_Ms:

; 358  : 			{
; 359  : 				LogAdd("FD_WRITE send() WSAEWOULDBLOCK : %d", WSAGetLastError());

  004dd	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  004e3	50		 push	 eax
  004e4	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@HIKCACFP@FD_WRITE?5send?$CI?$CJ?5WSAEWOULDBLOCK?5?3@
  004e9	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  004ef	83 c4 08	 add	 esp, 8

; 360  : 				break;

  004f2	eb 76		 jmp	 SHORT $LN6@FDWRITE_Ms
$LN5@FDWRITE_Ms:

; 361  : 			}
; 362  : 		}
; 363  : 		if (nResult <= 0)

  004f4	83 7d f8 00	 cmp	 DWORD PTR _nResult$[ebp], 0
  004f8	7f 17		 jg	 SHORT $LN2@FDWRITE_Ms

; 364  : 		{
; 365  : 			LogAdd("send() result is zero %d", WSAGetLastError());

  004fa	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  00500	50		 push	 eax
  00501	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@BMEBGMFO@send?$CI?$CJ?5result?5is?5zero?5?$CFd?$AA@
  00506	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0050c	83 c4 08	 add	 esp, 8

; 366  : 			break;

  0050f	eb 59		 jmp	 SHORT $LN6@FDWRITE_Ms
$LN2@FDWRITE_Ms:

; 367  : 		}
; 368  : 		LogAdd("error-L3 : nDx %d m_SendBufLen %d", nDx, this->m_SendBufLen );

  00511	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00514	8b 88 1c 80 0c
	00		 mov	 ecx, DWORD PTR [eax+819228]
  0051a	51		 push	 ecx
  0051b	8b 55 f4	 mov	 edx, DWORD PTR _nDx$[ebp]
  0051e	52		 push	 edx
  0051f	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@CMOPGBFG@error?9L3?5?3?5nDx?5?$CFd?5m_SendBufLen?5?$CF@
  00524	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0052a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 369  : 
; 370  : 		if (nResult > 0)

  0052d	83 7d f8 00	 cmp	 DWORD PTR _nResult$[ebp], 0
  00531	7e 16		 jle	 SHORT $LN1@FDWRITE_Ms

; 371  : 		{
; 372  : 			nDx += nResult;

  00533	8b 45 f4	 mov	 eax, DWORD PTR _nDx$[ebp]
  00536	03 45 f8	 add	 eax, DWORD PTR _nResult$[ebp]
  00539	89 45 f4	 mov	 DWORD PTR _nDx$[ebp], eax

; 373  : 			*sendbuflen -= nResult;

  0053c	8b 45 ec	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  0053f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00541	2b 4d f8	 sub	 ecx, DWORD PTR _nResult$[ebp]
  00544	8b 55 ec	 mov	 edx, DWORD PTR _sendbuflen$[ebp]
  00547	89 0a		 mov	 DWORD PTR [edx], ecx
$LN1@FDWRITE_Ms:

; 374  : 		}
; 375  : 
; 376  : 		LogAdd("error-L3 : nDx %d m_SendBufLen %d", nDx, this->m_SendBufLen );

  00549	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0054c	8b 88 1c 80 0c
	00		 mov	 ecx, DWORD PTR [eax+819228]
  00552	51		 push	 ecx
  00553	8b 55 f4	 mov	 edx, DWORD PTR _nDx$[ebp]
  00556	52		 push	 edx
  00557	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@CMOPGBFG@error?9L3?5?3?5nDx?5?$CFd?5m_SendBufLen?5?$CF@
  0055c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00562	83 c4 0c	 add	 esp, 12			; 0000000cH

; 377  : 	}

  00565	e9 03 ff ff ff	 jmp	 $LN7@FDWRITE_Ms
$LN6@FDWRITE_Ms:

; 378  : 	return TRUE;

  0056a	b8 01 00 00 00	 mov	 eax, 1
$LN9@FDWRITE_Ms:

; 379  : }

  0056f	5f		 pop	 edi
  00570	5e		 pop	 esi
  00571	5b		 pop	 ebx
  00572	8b e5		 mov	 esp, ebp
  00574	5d		 pop	 ebp
  00575	c3		 ret	 0
?FDWRITE_MsgDataSend@wsJoinServerCli@@QAEHXZ ENDP	; wsJoinServerCli::FDWRITE_MsgDataSend
_TEXT	ENDS
PUBLIC	??_C@_0BD@JDAMFKGN@error?9L2?5?3?5size?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0DN@KEDJNFOA@error?9L2?5?3?5header?5error?5?$CI?$CFs?5?$CFd?$CJl@ ; `string'
PUBLIC	?__LINE__Var@?1??DataRecv@wsJoinServerCli@@QAEHXZ@4JA ; `wsJoinServerCli::DataRecv'::`2'::__LINE__Var
PUBLIC	??_C@_0BJ@MHCMJICL@error?9L3?5?3?5recv?5error?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0CE@LOFMLGPB@error?9L3?5?3?5closed?5?$CFd?5?9?5buff?3?$CFd?$CI?$CF@ ; `string'
PUBLIC	?DataRecv@wsJoinServerCli@@QAEHXZ		; wsJoinServerCli::DataRecv
EXTRN	__imp__recv@16:PROC
;	COMDAT ??_C@_0BD@JDAMFKGN@error?9L2?5?3?5size?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BD@JDAMFKGN@error?9L2?5?3?5size?5?$CFd?$AA@ DB 'error-L2 : size %d'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0DN@KEDJNFOA@error?9L2?5?3?5header?5error?5?$CI?$CFs?5?$CFd?$CJl@
CONST	SEGMENT
??_C@_0DN@KEDJNFOA@error?9L2?5?3?5header?5error?5?$CI?$CFs?5?$CFd?$CJl@ DB 'e'
	DB	'rror-L2 : header error (%s %d)lOfs:%d, head: 0x%02X size:%d', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??DataRecv@wsJoinServerCli@@QAEHXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?1??DataRecv@wsJoinServerCli@@QAEHXZ@4JA DD 0180H ; `wsJoinServerCli::DataRecv'::`2'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BJ@MHCMJICL@error?9L3?5?3?5recv?5error?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BJ@MHCMJICL@error?9L3?5?3?5recv?5error?5?$CFd?$AA@ DB 'error-L3 : '
	DB	'recv error %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0CE@LOFMLGPB@error?9L3?5?3?5closed?5?$CFd?5?9?5buff?3?$CFd?$CI?$CF@
CONST	SEGMENT
??_C@_0CE@LOFMLGPB@error?9L3?5?3?5closed?5?$CFd?5?9?5buff?3?$CFd?$CI?$CF@ DB 'e'
	DB	'rror-L3 : closed %d - buff:%d(%d) ', 00H	; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_c2subbase$204650 = -36					; size = 4
_c1subbase$204646 = -32					; size = 4
_headcode$ = -25					; size = 1
_size$ = -24						; size = 4
_lOfs$ = -20						; size = 4
_recvbuflen$ = -16					; size = 4
_recvbuf$ = -12						; size = 4
_nResult$ = -8						; size = 4
_this$ = -4						; size = 4
?DataRecv@wsJoinServerCli@@QAEHXZ PROC			; wsJoinServerCli::DataRecv
; _this$ = ecx

; 384  : {

  00580	55		 push	 ebp
  00581	8b ec		 mov	 ebp, esp
  00583	83 ec 64	 sub	 esp, 100		; 00000064H
  00586	53		 push	 ebx
  00587	56		 push	 esi
  00588	57		 push	 edi
  00589	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 385  : 	int nResult;
; 386  : 	LPBYTE recvbuf;
; 387  : 	int* recvbuflen;
; 388  : 	int lOfs;
; 389  : 	int size;
; 390  : 	BYTE headcode;
; 391  : 
; 392  : 	recvbuf= (LPBYTE)&this->m_RecvBuf[0]   ;

  0058c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0058f	05 20 80 0c 00	 add	 eax, 819232		; 000c8020H
  00594	89 45 f4	 mov	 DWORD PTR _recvbuf$[ebp], eax

; 393  : 	recvbuflen=&this->m_RecvBufLen ;

  00597	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0059a	05 20 00 19 00	 add	 eax, 1638432		; 00190020H
  0059f	89 45 f0	 mov	 DWORD PTR _recvbuflen$[ebp], eax

; 394  : 	nResult=recv(this->m_socket , (char*)&recvbuf[*recvbuflen], (MAX_WS_BUF_LEN-*recvbuflen), 0);

  005a2	6a 00		 push	 0
  005a4	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  005a7	b9 00 80 0c 00	 mov	 ecx, 819200		; 000c8000H
  005ac	2b 08		 sub	 ecx, DWORD PTR [eax]
  005ae	51		 push	 ecx
  005af	8b 55 f0	 mov	 edx, DWORD PTR _recvbuflen$[ebp]
  005b2	8b 45 f4	 mov	 eax, DWORD PTR _recvbuf$[ebp]
  005b5	03 02		 add	 eax, DWORD PTR [edx]
  005b7	50		 push	 eax
  005b8	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  005bb	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  005be	52		 push	 edx
  005bf	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__recv@16
  005c5	89 45 f8	 mov	 DWORD PTR _nResult$[ebp], eax

; 395  : 
; 396  : 	if ( nResult == 0 )

  005c8	83 7d f8 00	 cmp	 DWORD PTR _nResult$[ebp], 0
  005cc	75 36		 jne	 SHORT $LN18@DataRecv

; 397  : 	{
; 398  : 		LogAdd("error-L3 : closed %d - buff:%d(%d) ",
; 399  : 			WSAGetLastError(), this->m_RecvBufLen, MAX_WS_BUF_LEN - *recvbuflen);

  005ce	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  005d1	b9 00 80 0c 00	 mov	 ecx, 819200		; 000c8000H
  005d6	2b 08		 sub	 ecx, DWORD PTR [eax]
  005d8	51		 push	 ecx
  005d9	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  005dc	8b 82 20 00 19
	00		 mov	 eax, DWORD PTR [edx+1638432]
  005e2	50		 push	 eax
  005e3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  005e9	50		 push	 eax
  005ea	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@LOFMLGPB@error?9L3?5?3?5closed?5?$CFd?5?9?5buff?3?$CFd?$CI?$CF@
  005ef	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  005f5	83 c4 10	 add	 esp, 16			; 00000010H

; 400  : 
; 401  : 		return 1;

  005f8	b8 01 00 00 00	 mov	 eax, 1
  005fd	e9 c9 01 00 00	 jmp	 $LN19@DataRecv
  00602	eb 3c		 jmp	 SHORT $LN17@DataRecv
$LN18@DataRecv:

; 402  : 	}
; 403  : 	else if (nResult == -1 )

  00604	83 7d f8 ff	 cmp	 DWORD PTR _nResult$[ebp], -1
  00608	75 36		 jne	 SHORT $LN17@DataRecv

; 404  : 	{
; 405  : 		if ( WSAGetLastError() == WSAEWOULDBLOCK )

  0060a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  00610	3d 33 27 00 00	 cmp	 eax, 10035		; 00002733H
  00615	75 0a		 jne	 SHORT $LN15@DataRecv

; 406  : 		{
; 407  : 			return 1;

  00617	b8 01 00 00 00	 mov	 eax, 1
  0061c	e9 aa 01 00 00	 jmp	 $LN19@DataRecv
$LN15@DataRecv:

; 408  : 		}
; 409  : 		LogAdd("error-L3 : recv error %d", WSAGetLastError() );

  00621	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  00627	50		 push	 eax
  00628	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@MHCMJICL@error?9L3?5?3?5recv?5error?5?$CFd?$AA@
  0062d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00633	83 c4 08	 add	 esp, 8

; 410  : 		return 1;

  00636	b8 01 00 00 00	 mov	 eax, 1
  0063b	e9 8b 01 00 00	 jmp	 $LN19@DataRecv
$LN17@DataRecv:

; 411  : 	}
; 412  : 
; 413  : 	*recvbuflen += nResult;

  00640	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  00643	8b 08		 mov	 ecx, DWORD PTR [eax]
  00645	03 4d f8	 add	 ecx, DWORD PTR _nResult$[ebp]
  00648	8b 55 f0	 mov	 edx, DWORD PTR _recvbuflen$[ebp]
  0064b	89 0a		 mov	 DWORD PTR [edx], ecx

; 414  : 
; 415  : 	if (*recvbuflen<3)

  0064d	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  00650	83 38 03	 cmp	 DWORD PTR [eax], 3
  00653	7d 0a		 jge	 SHORT $LN14@DataRecv

; 416  : 	{
; 417  : 		return 3;

  00655	b8 03 00 00 00	 mov	 eax, 3
  0065a	e9 6c 01 00 00	 jmp	 $LN19@DataRecv
$LN14@DataRecv:

; 418  : 	}
; 419  : 
; 420  : 	lOfs=0;

  0065f	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _lOfs$[ebp], 0

; 421  : 	size=0;

  00666	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _size$[ebp], 0
$LN13@DataRecv:

; 422  : 
; 423  : 	//LogAddC(2, "[DEBUG] Type: %x", recvbuf[lOfs]);
; 424  : 
; 425  : 	while ( true )

  0066d	b8 01 00 00 00	 mov	 eax, 1
  00672	85 c0		 test	 eax, eax
  00674	0f 84 4f 01 00
	00		 je	 $LN12@DataRecv

; 426  : 	{
; 427  : 		
; 428  : 		if (recvbuf[lOfs] == 0xC1 )	// Type packet handling C1 Type

  0067a	8b 45 f4	 mov	 eax, DWORD PTR _recvbuf$[ebp]
  0067d	03 45 ec	 add	 eax, DWORD PTR _lOfs$[ebp]
  00680	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00683	81 f9 c1 00 00
	00		 cmp	 ecx, 193		; 000000c1H
  00689	75 21		 jne	 SHORT $LN11@DataRecv

; 429  : 		{
; 430  : 			LPBYTE c1subbase = (LPBYTE)&recvbuf[lOfs];

  0068b	8b 45 f4	 mov	 eax, DWORD PTR _recvbuf$[ebp]
  0068e	03 45 ec	 add	 eax, DWORD PTR _lOfs$[ebp]
  00691	89 45 e0	 mov	 DWORD PTR _c1subbase$204646[ebp], eax

; 431  : 			size=c1subbase[1];

  00694	8b 45 e0	 mov	 eax, DWORD PTR _c1subbase$204646[ebp]
  00697	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0069b	89 4d e8	 mov	 DWORD PTR _size$[ebp], ecx

; 432  : 			headcode=c1subbase[2];

  0069e	8b 45 e0	 mov	 eax, DWORD PTR _c1subbase$204646[ebp]
  006a1	8a 48 02	 mov	 cl, BYTE PTR [eax+2]
  006a4	88 4d e7	 mov	 BYTE PTR _headcode$[ebp], cl
  006a7	e9 80 00 00 00	 jmp	 $LN10@DataRecv
$LN11@DataRecv:

; 433  : 		}
; 434  : 		else if ( recvbuf[lOfs] == 0xC2 ) // Type packet handling C2 Type

  006ac	8b 45 f4	 mov	 eax, DWORD PTR _recvbuf$[ebp]
  006af	03 45 ec	 add	 eax, DWORD PTR _lOfs$[ebp]
  006b2	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  006b5	81 f9 c2 00 00
	00		 cmp	 ecx, 194		; 000000c2H
  006bb	75 2e		 jne	 SHORT $LN9@DataRecv

; 435  : 		{
; 436  : 			LPBYTE c2subbase=(LPBYTE)&recvbuf[lOfs];

  006bd	8b 45 f4	 mov	 eax, DWORD PTR _recvbuf$[ebp]
  006c0	03 45 ec	 add	 eax, DWORD PTR _lOfs$[ebp]
  006c3	89 45 dc	 mov	 DWORD PTR _c2subbase$204650[ebp], eax

; 437  : 			size = c2subbase[1] * 256;

  006c6	8b 45 dc	 mov	 eax, DWORD PTR _c2subbase$204650[ebp]
  006c9	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  006cd	c1 e1 08	 shl	 ecx, 8
  006d0	89 4d e8	 mov	 DWORD PTR _size$[ebp], ecx

; 438  : 			size |= c2subbase[2];

  006d3	8b 45 dc	 mov	 eax, DWORD PTR _c2subbase$204650[ebp]
  006d6	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  006da	0b 4d e8	 or	 ecx, DWORD PTR _size$[ebp]
  006dd	89 4d e8	 mov	 DWORD PTR _size$[ebp], ecx

; 439  : 			headcode = c2subbase[3];

  006e0	8b 45 dc	 mov	 eax, DWORD PTR _c2subbase$204650[ebp]
  006e3	8a 48 03	 mov	 cl, BYTE PTR [eax+3]
  006e6	88 4d e7	 mov	 BYTE PTR _headcode$[ebp], cl

; 440  : 
; 441  : 			//header = lpMsg[count];
; 442  : 			//size = MAKEWORD(recvbuf[lOfs+2],recvbuf[lOfs+1]);
; 443  : 			//headcode = recvbuf[lOfs+3];
; 444  : 		}
; 445  : 		else

  006e9	eb 41		 jmp	 SHORT $LN10@DataRecv
$LN9@DataRecv:

; 446  : 		{
; 447  : 			LogAdd("error-L2 : header error (%s %d)lOfs:%d, head: 0x%02X size:%d", __FILE__, __LINE__, lOfs, recvbuf[lOfs], *recvbuflen);

  006eb	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  006ee	8b 08		 mov	 ecx, DWORD PTR [eax]
  006f0	51		 push	 ecx
  006f1	8b 55 f4	 mov	 edx, DWORD PTR _recvbuf$[ebp]
  006f4	03 55 ec	 add	 edx, DWORD PTR _lOfs$[ebp]
  006f7	0f b6 02	 movzx	 eax, BYTE PTR [edx]
  006fa	50		 push	 eax
  006fb	8b 4d ec	 mov	 ecx, DWORD PTR _lOfs$[ebp]
  006fe	51		 push	 ecx
  006ff	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?1??DataRecv@wsJoinServerCli@@QAEHXZ@4JA
  00705	83 c2 3f	 add	 edx, 63			; 0000003fH
  00708	52		 push	 edx
  00709	68 00 00 00 00	 push	 OFFSET ??_C@_0EH@MDOLEELP@d?3?2projects?2exteam6?43?2source?2gam@
  0070e	68 00 00 00 00	 push	 OFFSET ??_C@_0DN@KEDJNFOA@error?9L2?5?3?5header?5error?5?$CI?$CFs?5?$CFd?$CJl@
  00713	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00719	83 c4 18	 add	 esp, 24			; 00000018H

; 448  : 			
; 449  : 			/*char DebugOut[6000] = { 0 };
; 450  : 
; 451  : 			for( int i = 0; i < 200; i++ )
; 452  : 			{
; 453  : 				char ByteFormat[100] = { 0 };
; 454  : 				sprintf(ByteFormat, "%X ", recvbuf[i]);
; 455  : 				strcat(DebugOut, ByteFormat);
; 456  : 			}
; 457  : 			
; 458  : 			LogAddC(2, DebugOut);	*/		
; 459  : 			
; 460  : 			*recvbuflen = 0;

  0071c	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  0071f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 461  : 			return 0;

  00725	33 c0		 xor	 eax, eax
  00727	e9 9f 00 00 00	 jmp	 $LN19@DataRecv
$LN10@DataRecv:

; 462  : 		}
; 463  : 
; 464  : 		if ( size <= 0 )

  0072c	83 7d e8 00	 cmp	 DWORD PTR _size$[ebp], 0
  00730	7f 19		 jg	 SHORT $LN7@DataRecv

; 465  : 		{
; 466  : 			LogAdd("error-L2 : size %d", size);

  00732	8b 45 e8	 mov	 eax, DWORD PTR _size$[ebp]
  00735	50		 push	 eax
  00736	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@JDAMFKGN@error?9L2?5?3?5size?5?$CFd?$AA@
  0073b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00741	83 c4 08	 add	 esp, 8

; 467  : 			return 0;

  00744	33 c0		 xor	 eax, eax
  00746	e9 80 00 00 00	 jmp	 $LN19@DataRecv
$LN7@DataRecv:

; 468  : 		}
; 469  : 
; 470  : 		if ( size <= *recvbuflen )

  0074b	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  0074e	8b 4d e8	 mov	 ecx, DWORD PTR _size$[ebp]
  00751	3b 08		 cmp	 ecx, DWORD PTR [eax]
  00753	7f 40		 jg	 SHORT $LN6@DataRecv

; 471  : 		{
; 472  : 			this->wsProtocolCore(headcode, &recvbuf[lOfs], size);

  00755	8b 45 e8	 mov	 eax, DWORD PTR _size$[ebp]
  00758	50		 push	 eax
  00759	8b 4d f4	 mov	 ecx, DWORD PTR _recvbuf$[ebp]
  0075c	03 4d ec	 add	 ecx, DWORD PTR _lOfs$[ebp]
  0075f	51		 push	 ecx
  00760	0f b6 55 e7	 movzx	 edx, BYTE PTR _headcode$[ebp]
  00764	52		 push	 edx
  00765	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00768	8b 88 24 00 19
	00		 mov	 ecx, DWORD PTR [eax+1638436]
  0076e	ff d1		 call	 ecx
  00770	83 c4 0c	 add	 esp, 12			; 0000000cH

; 473  : 			lOfs += size;

  00773	8b 45 ec	 mov	 eax, DWORD PTR _lOfs$[ebp]
  00776	03 45 e8	 add	 eax, DWORD PTR _size$[ebp]
  00779	89 45 ec	 mov	 DWORD PTR _lOfs$[ebp], eax

; 474  : 			*recvbuflen -= size;

  0077c	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  0077f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00781	2b 4d e8	 sub	 ecx, DWORD PTR _size$[ebp]
  00784	8b 55 f0	 mov	 edx, DWORD PTR _recvbuflen$[ebp]
  00787	89 0a		 mov	 DWORD PTR [edx], ecx

; 475  : 
; 476  : 			if ( *recvbuflen <= 0)

  00789	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  0078c	83 38 00	 cmp	 DWORD PTR [eax], 0
  0078f	7f 02		 jg	 SHORT $LN5@DataRecv

; 477  : 			{
; 478  : 				break;

  00791	eb 36		 jmp	 SHORT $LN12@DataRecv
$LN5@DataRecv:

; 479  : 			}
; 480  : 		}	

  00793	eb 2f		 jmp	 SHORT $LN4@DataRecv
$LN6@DataRecv:

; 481  : 		else if ( lOfs > 0 )

  00795	83 7d ec 00	 cmp	 DWORD PTR _lOfs$[ebp], 0
  00799	7e 27		 jle	 SHORT $LN3@DataRecv

; 482  : 		{
; 483  : 			if ( *recvbuflen < 1 ) 

  0079b	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  0079e	83 38 01	 cmp	 DWORD PTR [eax], 1
  007a1	7d 02		 jge	 SHORT $LN2@DataRecv

; 484  : 			{
; 485  : 				break;

  007a3	eb 24		 jmp	 SHORT $LN12@DataRecv
$LN2@DataRecv:

; 486  : 			}
; 487  : 
; 488  : 			memcpy(recvbuf, &recvbuf[lOfs], *recvbuflen);

  007a5	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  007a8	8b 08		 mov	 ecx, DWORD PTR [eax]
  007aa	51		 push	 ecx
  007ab	8b 55 f4	 mov	 edx, DWORD PTR _recvbuf$[ebp]
  007ae	03 55 ec	 add	 edx, DWORD PTR _lOfs$[ebp]
  007b1	52		 push	 edx
  007b2	8b 45 f4	 mov	 eax, DWORD PTR _recvbuf$[ebp]
  007b5	50		 push	 eax
  007b6	e8 00 00 00 00	 call	 _memcpy
  007bb	83 c4 0c	 add	 esp, 12			; 0000000cH

; 489  : 			break;

  007be	eb 09		 jmp	 SHORT $LN12@DataRecv

; 490  : 		}
; 491  : 		else

  007c0	eb 02		 jmp	 SHORT $LN4@DataRecv
$LN3@DataRecv:

; 492  : 		{
; 493  : 			break;

  007c2	eb 05		 jmp	 SHORT $LN12@DataRecv
$LN4@DataRecv:

; 494  : 		}
; 495  : 	}

  007c4	e9 a4 fe ff ff	 jmp	 $LN13@DataRecv
$LN12@DataRecv:

; 496  : 	return 0;

  007c9	33 c0		 xor	 eax, eax
$LN19@DataRecv:

; 497  : }

  007cb	5f		 pop	 edi
  007cc	5e		 pop	 esi
  007cd	5b		 pop	 ebx
  007ce	8b e5		 mov	 esp, ebp
  007d0	5d		 pop	 ebp
  007d1	c3		 ret	 0
?DataRecv@wsJoinServerCli@@QAEHXZ ENDP			; wsJoinServerCli::DataRecv
_TEXT	ENDS
END
