; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\LifeStone.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

_DATA	SEGMENT
_g_iNpcUpDfLevel_CGATE DD 01H
	DD	02H
	DD	02dc6c0H
	DD	02H
	DD	03H
	DD	02dc6c0H
	DD	03H
	DD	04H
	DD	02dc6c0H
_g_iNpcUpDfLevel_CSTATUE DD 01H
	DD	03H
	DD	02dc6c0H
	DD	02H
	DD	05H
	DD	02dc6c0H
	DD	03H
	DD	07H
	DD	02dc6c0H
_g_iNpcUpMaxHP_CGATE DD 02625a0H
	DD	02H
	DD	0f4240H
	DD	03567e0H
	DD	03H
	DD	0f4240H
	DD	04f5880H
	DD	04H
	DD	0f4240H
_g_iNpcUpMaxHP_CSTATUE DD 02191c0H
	DD	03H
	DD	0f4240H
	DD	033e140H
	DD	05H
	DD	0f4240H
	DD	04c4b40H
	DD	07H
	DD	0f4240H
_g_iNpcUpRgLevel_CSTATUE DD 01H
	DD	03H
	DD	04c4b40H
	DD	02H
	DD	05H
	DD	04c4b40H
	DD	03H
	DD	07H
	DD	04c4b40H
_g_iCsUserReSpawnArea DD 023H
	DD	011H
	DD	090H
	DD	030H
	DD	04aH
	DD	090H
	DD	073H
	DD	09aH
	DD	023H
	DD	011H
	DD	090H
	DD	030H
_g_iNpcDefense_CGATE DD 064H
	DD	0b4H
	DD	012cH
	DD	0208H
_g_iNpcDefense_CSTATUE DD 050H
	DD	0b4H
	DD	0154H
	DD	0226H
_g_iCastleWallStepAxisY DD 071H
	DD	0a0H
	DD	0cbH
_DATA	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	83 e8 01	 sub	 eax, 1
  0000f	89 45 10	 mov	 DWORD PTR ___n$[ebp], eax
  00012	78 11		 js	 SHORT $LN3@vector
  00014	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00017	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  0001a	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  0001d	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  00020	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  00023	eb e4		 jmp	 SHORT $LN2@vector
$LN3@vector:
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	??_7CLifeStone@@6B@				; CLifeStone::`vftable'
PUBLIC	??0CLifeStone@@QAE@XZ				; CLifeStone::CLifeStone
PUBLIC	??_R4CLifeStone@@6B@				; CLifeStone::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCLifeStone@@@8				; CLifeStone `RTTI Type Descriptor'
PUBLIC	??_R3CLifeStone@@8				; CLifeStone::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CLifeStone@@8				; CLifeStone::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CLifeStone@@8			; CLifeStone::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	??_ECLifeStone@@UAEPAXI@Z:PROC			; CLifeStone::`vector deleting destructor'
;	COMDAT ??_R1A@?0A@EA@CLifeStone@@8
; File d:\projects\exteam6.3\source\gameserver\gameserver\lifestone.cpp
rdata$r	SEGMENT
??_R1A@?0A@EA@CLifeStone@@8 DD FLAT:??_R0?AVCLifeStone@@@8 ; CLifeStone::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CLifeStone@@8
rdata$r	ENDS
;	COMDAT ??_R2CLifeStone@@8
rdata$r	SEGMENT
??_R2CLifeStone@@8 DD FLAT:??_R1A@?0A@EA@CLifeStone@@8	; CLifeStone::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CLifeStone@@8
rdata$r	SEGMENT
??_R3CLifeStone@@8 DD 00H				; CLifeStone::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CLifeStone@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCLifeStone@@@8
_DATA	SEGMENT
??_R0?AVCLifeStone@@@8 DD FLAT:??_7type_info@@6B@	; CLifeStone `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCLifeStone@@', 00H
_DATA	ENDS
;	COMDAT ??_R4CLifeStone@@6B@
rdata$r	SEGMENT
??_R4CLifeStone@@6B@ DD 00H				; CLifeStone::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCLifeStone@@@8
	DD	FLAT:??_R3CLifeStone@@8
rdata$r	ENDS
;	COMDAT ??_7CLifeStone@@6B@
CONST	SEGMENT
??_7CLifeStone@@6B@ DD FLAT:??_R4CLifeStone@@6B@	; CLifeStone::`vftable'
	DD	FLAT:??_ECLifeStone@@UAEPAXI@Z
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0CLifeStone@@QAE@XZ PROC				; CLifeStone::CLifeStone
; _this$ = ecx

; 22   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CLifeStone@@6B@

; 23   : 
; 24   : }

  00015	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00018	5f		 pop	 edi
  00019	5e		 pop	 esi
  0001a	5b		 pop	 ebx
  0001b	8b e5		 mov	 esp, ebp
  0001d	5d		 pop	 ebp
  0001e	c3		 ret	 0
??0CLifeStone@@QAE@XZ ENDP				; CLifeStone::CLifeStone
_TEXT	ENDS
PUBLIC	??1CLifeStone@@UAE@XZ				; CLifeStone::~CLifeStone
EXTRN	??3@YAXPAX@Z:PROC				; operator delete
; Function compile flags: /Odtp /ZI
;	COMDAT ??_GCLifeStone@@UAEPAXI@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___flags$ = 8						; size = 4
??_GCLifeStone@@UAEPAXI@Z PROC				; CLifeStone::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ??1CLifeStone@@UAE@XZ	; CLifeStone::~CLifeStone
  00014	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00017	83 e0 01	 and	 eax, 1
  0001a	74 0c		 je	 SHORT $LN1@scalar
  0001c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001f	50		 push	 eax
  00020	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00025	83 c4 04	 add	 esp, 4
$LN1@scalar:
  00028	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002b	5f		 pop	 edi
  0002c	5e		 pop	 esi
  0002d	5b		 pop	 ebx
  0002e	8b e5		 mov	 esp, ebp
  00030	5d		 pop	 ebp
  00031	c2 04 00	 ret	 4
??_GCLifeStone@@UAEPAXI@Z ENDP				; CLifeStone::`scalar deleting destructor'
; Function compile flags: /Odtp /ZI
_TEXT	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
??1CLifeStone@@UAE@XZ PROC				; CLifeStone::~CLifeStone
; _this$ = ecx

; 27   : {

  00020	55		 push	 ebp
  00021	8b ec		 mov	 ebp, esp
  00023	83 ec 44	 sub	 esp, 68			; 00000044H
  00026	53		 push	 ebx
  00027	56		 push	 esi
  00028	57		 push	 edi
  00029	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0002c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CLifeStone@@6B@

; 28   : 
; 29   : }

  00035	5f		 pop	 edi
  00036	5e		 pop	 esi
  00037	5b		 pop	 ebx
  00038	8b e5		 mov	 esp, ebp
  0003a	5d		 pop	 ebp
  0003b	c3		 ret	 0
??1CLifeStone@@UAE@XZ ENDP				; CLifeStone::~CLifeStone
_TEXT	ENDS
PUBLIC	??_C@_0EI@CHDCMOII@?$FLCastleSiege?$FN?5LifeStone?5is?5creat@ ; `string'
PUBLIC	?GetCastleState@CCastleSiegeSync@@QAEHXZ	; CCastleSiegeSync::GetCastleState
PUBLIC	?CreateLifeStone@CLifeStone@@QAEHH@Z		; CLifeStone::CreateLifeStone
EXTRN	?LogAddTD@@3P6AXPADZZA:DWORD			; LogAddTD
EXTRN	__imp__GetTickCount@0:PROC
EXTRN	?gObjSetMonster@@YAHHH@Z:PROC			; gObjSetMonster
EXTRN	?gObjDel@@YAFH@Z:PROC				; gObjDel
EXTRN	?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z:PROC ; CMonsterAttr::GetAttr
EXTRN	?gMAttr@@3VCMonsterAttr@@A:BYTE			; gMAttr
EXTRN	?gObjAddMonster@@YAFH@Z:PROC			; gObjAddMonster
EXTRN	?GetAttr@MapClass@@QAEEHH@Z:PROC		; MapClass::GetAttr
EXTRN	?MapC@@3PAVMapClass@@A:BYTE			; MapC
EXTRN	?MsgOutput@@YAXHPADZZ:PROC			; MsgOutput
EXTRN	?Get@CMsg@@QAEPADH@Z:PROC			; CMsg::Get
EXTRN	?lMsg@@3VCMsg@@A:BYTE				; lMsg
EXTRN	?g_CastleSiegeSync@@3VCCastleSiegeSync@@A:BYTE	; g_CastleSiegeSync
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
EXTRN	__fltused:DWORD
;	COMDAT ??_C@_0EI@CHDCMOII@?$FLCastleSiege?$FN?5LifeStone?5is?5creat@
CONST	SEGMENT
??_C@_0EI@CHDCMOII@?$FLCastleSiege?$FN?5LifeStone?5is?5creat@ DB '[Castle'
	DB	'Siege] LifeStone is created - [%s] [%s][%s] (Map:%d)(X:%d, Y:'
	DB	'%d)', 00H					; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_MAttr$227138 = -20					; size = 4
_btMapAttr$ = -15					; size = 1
_cY$ = -14						; size = 1
_cX$ = -13						; size = 1
_iMonsterIndex$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_iIndex$ = 8						; size = 4
?CreateLifeStone@CLifeStone@@QAEHH@Z PROC		; CLifeStone::CreateLifeStone
; _this$ = ecx

; 32   : {

  00040	55		 push	 ebp
  00041	8b ec		 mov	 ebp, esp
  00043	83 ec 54	 sub	 esp, 84			; 00000054H
  00046	53		 push	 ebx
  00047	56		 push	 esi
  00048	57		 push	 edi
  00049	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 33   : 	LPOBJ lpObj = &gObj[iIndex];

  0004c	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0004f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00055	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0005b	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 34   : 	int iMonsterIndex = -1;

  0005e	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _iMonsterIndex$[ebp], -1

; 35   : 	BYTE cX = lpObj->X;

  00065	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00068	8a 88 44 01 00
	00		 mov	 cl, BYTE PTR [eax+324]
  0006e	88 4d f3	 mov	 BYTE PTR _cX$[ebp], cl

; 36   : 	BYTE cY = lpObj->Y;

  00071	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00074	8a 88 46 01 00
	00		 mov	 cl, BYTE PTR [eax+326]
  0007a	88 4d f2	 mov	 BYTE PTR _cY$[ebp], cl

; 37   : 
; 38   : 	if ( g_CastleSiegeSync.GetCastleState() != CASTLESIEGE_STATE_STARTSIEGE )

  0007d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  00082	e8 00 00 00 00	 call	 ?GetCastleState@CCastleSiegeSync@@QAEHXZ ; CCastleSiegeSync::GetCastleState
  00087	83 f8 07	 cmp	 eax, 7
  0008a	74 23		 je	 SHORT $LN10@CreateLife

; 39   : 	{
; 40   : 		MsgOutput(iIndex, lMsg.Get(1645));

  0008c	68 6d 06 00 00	 push	 1645			; 0000066dH
  00091	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  00096	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0009b	50		 push	 eax
  0009c	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0009f	50		 push	 eax
  000a0	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  000a5	83 c4 08	 add	 esp, 8

; 41   : 		return FALSE;

  000a8	33 c0		 xor	 eax, eax
  000aa	e9 30 05 00 00	 jmp	 $LN11@CreateLife
$LN10@CreateLife:

; 42   : 	}
; 43   : 
; 44   : 	if ( lpObj->GuildStatus != G_MASTER )

  000af	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  000b2	81 b8 48 04 00
	00 80 00 00 00	 cmp	 DWORD PTR [eax+1096], 128 ; 00000080H
  000bc	74 07		 je	 SHORT $LN9@CreateLife

; 45   : 	{
; 46   : 		return FALSE;

  000be	33 c0		 xor	 eax, eax
  000c0	e9 1a 05 00 00	 jmp	 $LN11@CreateLife
$LN9@CreateLife:

; 47   : 	}
; 48   : 
; 49   : 	if ( lpObj->m_btCsJoinSide < 2 )

  000c5	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  000c8	0f b6 88 02 1c
	00 00		 movzx	 ecx, BYTE PTR [eax+7170]
  000cf	83 f9 02	 cmp	 ecx, 2
  000d2	7d 23		 jge	 SHORT $LN8@CreateLife

; 50   : 	{
; 51   : 		MsgOutput(iIndex, lMsg.Get(1641)); //HermeX Fix

  000d4	68 69 06 00 00	 push	 1641			; 00000669H
  000d9	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  000de	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  000e3	50		 push	 eax
  000e4	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  000e7	50		 push	 eax
  000e8	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  000ed	83 c4 08	 add	 esp, 8

; 52   : 		return FALSE;

  000f0	33 c0		 xor	 eax, eax
  000f2	e9 e8 04 00 00	 jmp	 $LN11@CreateLife
$LN8@CreateLife:

; 53   : 	}
; 54   : 
; 55   : 	if ( lpObj->lpGuild->lpLifeStone  ) //HermeX Fix

  000f7	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  000fa	8b 88 38 04 00
	00		 mov	 ecx, DWORD PTR [eax+1080]
  00100	83 b9 34 07 00
	00 00		 cmp	 DWORD PTR [ecx+1844], 0
  00107	74 23		 je	 SHORT $LN7@CreateLife

; 56   : 	{
; 57   : 		MsgOutput(iIndex, lMsg.Get(1642)); //HermeX Fix

  00109	68 6a 06 00 00	 push	 1642			; 0000066aH
  0010e	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  00113	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  00118	50		 push	 eax
  00119	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0011c	50		 push	 eax
  0011d	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  00122	83 c4 08	 add	 esp, 8

; 58   : 		return FALSE;

  00125	33 c0		 xor	 eax, eax
  00127	e9 b3 04 00 00	 jmp	 $LN11@CreateLife
$LN7@CreateLife:

; 59   : 	}
; 60   : 	
; 61   : 	if( cX > 150 && cX < 210 && cY > 175 && cY < 230 )

  0012c	0f b6 45 f3	 movzx	 eax, BYTE PTR _cX$[ebp]
  00130	3d 96 00 00 00	 cmp	 eax, 150		; 00000096H
  00135	7e 44		 jle	 SHORT $LN6@CreateLife
  00137	0f b6 45 f3	 movzx	 eax, BYTE PTR _cX$[ebp]
  0013b	3d d2 00 00 00	 cmp	 eax, 210		; 000000d2H
  00140	7d 39		 jge	 SHORT $LN6@CreateLife
  00142	0f b6 45 f2	 movzx	 eax, BYTE PTR _cY$[ebp]
  00146	3d af 00 00 00	 cmp	 eax, 175		; 000000afH
  0014b	7e 2e		 jle	 SHORT $LN6@CreateLife
  0014d	0f b6 45 f2	 movzx	 eax, BYTE PTR _cY$[ebp]
  00151	3d e6 00 00 00	 cmp	 eax, 230		; 000000e6H
  00156	7d 23		 jge	 SHORT $LN6@CreateLife

; 62   : 	{
; 63   : 		MsgOutput(iIndex, lMsg.Get(1644)); //HermeX Fix

  00158	68 6c 06 00 00	 push	 1644			; 0000066cH
  0015d	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  00162	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  00167	50		 push	 eax
  00168	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0016b	50		 push	 eax
  0016c	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  00171	83 c4 08	 add	 esp, 8

; 64   : 		return FALSE;

  00174	33 c0		 xor	 eax, eax
  00176	e9 64 04 00 00	 jmp	 $LN11@CreateLife
$LN6@CreateLife:

; 65   : 	}
; 66   : 
; 67   : 	BYTE btMapAttr = MapC[lpObj->MapNumber].GetAttr(cX, cY);

  0017b	0f b6 45 f2	 movzx	 eax, BYTE PTR _cY$[ebp]
  0017f	50		 push	 eax
  00180	0f b6 4d f3	 movzx	 ecx, BYTE PTR _cX$[ebp]
  00184	51		 push	 ecx
  00185	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00188	0f b6 8a 49 01
	00 00		 movzx	 ecx, BYTE PTR [edx+329]
  0018f	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  00195	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  0019b	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  001a0	88 45 f1	 mov	 BYTE PTR _btMapAttr$[ebp], al

; 68   : 	
; 69   : 	if ( btMapAttr & 16 != 16 ) //siege camp?
; 70   : 	{
; 71   : 		//return FALSE;
; 72   : 	}
; 73   : 
; 74   : 	if ( gObj[iIndex].MapNumber != MAP_INDEX_CASTLESIEGE )

  001a3	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  001a6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  001ac	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001b2	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  001ba	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  001bd	74 23		 je	 SHORT $LN4@CreateLife

; 75   : 	{
; 76   : 		MsgOutput(iIndex, lMsg.Get(1627)); //HermeX Fix

  001bf	68 5b 06 00 00	 push	 1627			; 0000065bH
  001c4	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  001c9	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  001ce	50		 push	 eax
  001cf	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  001d2	50		 push	 eax
  001d3	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  001d8	83 c4 08	 add	 esp, 8

; 77   : 		return FALSE;

  001db	33 c0		 xor	 eax, eax
  001dd	e9 fd 03 00 00	 jmp	 $LN11@CreateLife
$LN4@CreateLife:

; 78   : 	}
; 79   : 	
; 80   : 	iMonsterIndex = gObjAddMonster(lpObj->MapNumber);

  001e2	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  001e5	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  001ec	51		 push	 ecx
  001ed	e8 00 00 00 00	 call	 ?gObjAddMonster@@YAFH@Z	; gObjAddMonster
  001f2	83 c4 04	 add	 esp, 4
  001f5	0f bf d0	 movsx	 edx, ax
  001f8	89 55 f4	 mov	 DWORD PTR _iMonsterIndex$[ebp], edx

; 81   : 
; 82   : 	if ( iMonsterIndex >= 0 )

  001fb	83 7d f4 00	 cmp	 DWORD PTR _iMonsterIndex$[ebp], 0
  001ff	0f 8c b5 03 00
	00		 jl	 $LN3@CreateLife

; 83   : 	{
; 84   : 	
; 85   : 		MONSTER_ATTRIBUTE * MAttr = gMAttr.GetAttr(278);

  00205	68 16 01 00 00	 push	 278			; 00000116H
  0020a	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  0020f	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr
  00214	89 45 ec	 mov	 DWORD PTR _MAttr$227138[ebp], eax

; 86   : 	
; 87   : 		if ( MAttr == NULL )

  00217	83 7d ec 00	 cmp	 DWORD PTR _MAttr$227138[ebp], 0
  0021b	75 13		 jne	 SHORT $LN2@CreateLife

; 88   : 		{
; 89   : 			gObjDel(iMonsterIndex);

  0021d	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00220	50		 push	 eax
  00221	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  00226	83 c4 04	 add	 esp, 4

; 90   : 			return FALSE;

  00229	33 c0		 xor	 eax, eax
  0022b	e9 af 03 00 00	 jmp	 $LN11@CreateLife
$LN2@CreateLife:

; 91   : 		}
; 92   : 
; 93   : 		gObjSetMonster(iMonsterIndex, 278);

  00230	68 16 01 00 00	 push	 278			; 00000116H
  00235	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00238	50		 push	 eax
  00239	e8 00 00 00 00	 call	 ?gObjSetMonster@@YAHHH@Z ; gObjSetMonster
  0023e	83 c4 08	 add	 esp, 8

; 94   : 		gObj[iMonsterIndex].Live = TRUE;

  00241	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00244	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0024a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00250	c6 44 01 6a 01	 mov	 BYTE PTR [ecx+eax+106], 1

; 95   : 		gObj[iMonsterIndex].Life = MAttr->m_Hp;

  00255	8b 45 ec	 mov	 eax, DWORD PTR _MAttr$227138[ebp]
  00258	db 40 28	 fild	 DWORD PTR [eax+40]
  0025b	8b 4d f4	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  0025e	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00264	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0026a	d9 9c 0a fc 00
	00 00		 fstp	 DWORD PTR [edx+ecx+252]

; 96   : 		gObj[iMonsterIndex].MaxLife = MAttr->m_Hp;

  00271	8b 45 ec	 mov	 eax, DWORD PTR _MAttr$227138[ebp]
  00274	db 40 28	 fild	 DWORD PTR [eax+40]
  00277	8b 4d f4	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  0027a	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00280	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00286	d9 9c 0a 00 01
	00 00		 fstp	 DWORD PTR [edx+ecx+256]

; 97   : 		gObj[iMonsterIndex].m_PosNum = -1;

  0028d	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00290	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00296	83 c9 ff	 or	 ecx, -1
  00299	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0029f	66 89 8c 02 b0
	03 00 00	 mov	 WORD PTR [edx+eax+944], cx

; 98   : 		gObj[iMonsterIndex].X = cX;

  002a7	66 0f b6 45 f3	 movzx	 ax, BYTE PTR _cX$[ebp]
  002ac	8b 4d f4	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  002af	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  002b5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002bb	66 89 84 0a 44
	01 00 00	 mov	 WORD PTR [edx+ecx+324], ax

; 99   : 		gObj[iMonsterIndex].Y = cY;

  002c3	66 0f b6 45 f2	 movzx	 ax, BYTE PTR _cY$[ebp]
  002c8	8b 4d f4	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  002cb	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  002d1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002d7	66 89 84 0a 46
	01 00 00	 mov	 WORD PTR [edx+ecx+326], ax

; 100  : 		gObj[iMonsterIndex].MTX = cX;

  002df	66 0f b6 45 f3	 movzx	 ax, BYTE PTR _cX$[ebp]
  002e4	8b 4d f4	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  002e7	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  002ed	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002f3	66 89 84 0a 80
	01 00 00	 mov	 WORD PTR [edx+ecx+384], ax

; 101  : 		gObj[iMonsterIndex].MTY = cY;

  002fb	66 0f b6 45 f2	 movzx	 ax, BYTE PTR _cY$[ebp]
  00300	8b 4d f4	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  00303	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00309	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0030f	66 89 84 0a 82
	01 00 00	 mov	 WORD PTR [edx+ecx+386], ax

; 102  : 		gObj[iMonsterIndex].TX = cX;

  00317	66 0f b6 45 f3	 movzx	 ax, BYTE PTR _cX$[ebp]
  0031c	8b 4d f4	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  0031f	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00325	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0032b	66 89 84 0a 7c
	01 00 00	 mov	 WORD PTR [edx+ecx+380], ax

; 103  : 		gObj[iMonsterIndex].TY = cY;

  00333	66 0f b6 45 f2	 movzx	 ax, BYTE PTR _cY$[ebp]
  00338	8b 4d f4	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  0033b	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00341	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00347	66 89 84 0a 7e
	01 00 00	 mov	 WORD PTR [edx+ecx+382], ax

; 104  : 		gObj[iMonsterIndex].m_OldX = cX;

  0034f	66 0f b6 45 f3	 movzx	 ax, BYTE PTR _cX$[ebp]
  00354	8b 4d f4	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  00357	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0035d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00363	66 89 84 0a 78
	01 00 00	 mov	 WORD PTR [edx+ecx+376], ax

; 105  : 		gObj[iMonsterIndex].m_OldY = cY;

  0036b	66 0f b6 45 f2	 movzx	 ax, BYTE PTR _cY$[ebp]
  00370	8b 4d f4	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  00373	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00379	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0037f	66 89 84 0a 7a
	01 00 00	 mov	 WORD PTR [edx+ecx+378], ax

; 106  : 		gObj[iMonsterIndex].StartX = cX;

  00387	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  0038a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00390	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00396	8a 55 f3	 mov	 dl, BYTE PTR _cX$[ebp]
  00399	88 94 01 76 01
	00 00		 mov	 BYTE PTR [ecx+eax+374], dl

; 107  : 		gObj[iMonsterIndex].StartY = cY;

  003a0	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  003a3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  003a9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003af	8a 55 f2	 mov	 dl, BYTE PTR _cY$[ebp]
  003b2	88 94 01 77 01
	00 00		 mov	 BYTE PTR [ecx+eax+375], dl

; 108  : 		gObj[iMonsterIndex].MapNumber = lpObj->MapNumber;

  003b9	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  003bc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  003c2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003c8	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  003cb	8a 92 49 01 00
	00		 mov	 dl, BYTE PTR [edx+329]
  003d1	88 94 01 49 01
	00 00		 mov	 BYTE PTR [ecx+eax+329], dl

; 109  : 		gObj[iMonsterIndex].m_MoveRange = 0;

  003d8	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  003db	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  003e1	33 c9		 xor	 ecx, ecx
  003e3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003e9	66 89 8c 02 ae
	04 00 00	 mov	 WORD PTR [edx+eax+1198], cx

; 110  : 		gObj[iMonsterIndex].Level = MAttr->m_Level;

  003f1	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  003f4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  003fa	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00400	8b 55 ec	 mov	 edx, DWORD PTR _MAttr$227138[ebp]
  00403	66 8b 52 1c	 mov	 dx, WORD PTR [edx+28]
  00407	66 89 94 01 be
	00 00 00	 mov	 WORD PTR [ecx+eax+190], dx

; 111  : 		gObj[iMonsterIndex].Type = OBJ_MONSTER;

  0040f	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00412	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00418	b9 02 00 00 00	 mov	 ecx, 2
  0041d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00423	66 89 4c 02 68	 mov	 WORD PTR [edx+eax+104], cx

; 112  : 		gObj[iMonsterIndex].MaxRegenTime = 1000;

  00428	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  0042b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00431	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00437	c7 84 01 ac 03
	00 00 e8 03 00
	00		 mov	 DWORD PTR [ecx+eax+940], 1000 ; 000003e8H

; 113  : 		gObj[iMonsterIndex].Dir = 1;

  00442	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00445	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0044b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00451	c6 84 01 48 01
	00 00 01	 mov	 BYTE PTR [ecx+eax+328], 1

; 114  : 		gObj[iMonsterIndex].RegenTime = GetTickCount();

  00459	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  0045f	8b 4d f4	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  00462	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00468	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0046e	89 84 0a a8 03
	00 00		 mov	 DWORD PTR [edx+ecx+936], eax

; 115  : 		gObj[iMonsterIndex].m_Attribute = 0;

  00475	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00478	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0047e	33 c9		 xor	 ecx, ecx
  00480	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00486	66 89 8c 02 b6
	04 00 00	 mov	 WORD PTR [edx+eax+1206], cx

; 116  : 		gObj[iMonsterIndex].DieRegen = 0;

  0048e	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00491	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00497	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0049d	c6 84 01 a2 03
	00 00 00	 mov	 BYTE PTR [ecx+eax+930], 0

; 117  : 		gObj[iMonsterIndex].m_btCsNpcType = OBJ_NPC; //HermeX Fix

  004a5	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  004a8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  004ae	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004b4	c6 84 01 f8 1b
	00 00 03	 mov	 BYTE PTR [ecx+eax+7160], 3

; 118  : 		gObj[iMonsterIndex].m_btCsJoinSide = lpObj->m_btCsJoinSide;

  004bc	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  004bf	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  004c5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004cb	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  004ce	8a 92 02 1c 00
	00		 mov	 dl, BYTE PTR [edx+7170]
  004d4	88 94 01 02 1c
	00 00		 mov	 BYTE PTR [ecx+eax+7170], dl

; 119  : 		gObj[iMonsterIndex].lpGuild = lpObj->lpGuild;

  004db	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  004de	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  004e4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004ea	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  004ed	8b 92 38 04 00
	00		 mov	 edx, DWORD PTR [edx+1080]
  004f3	89 94 01 38 04
	00 00		 mov	 DWORD PTR [ecx+eax+1080], edx

; 120  : 		gObj[iMonsterIndex].m_btCreationState = 0;

  004fa	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  004fd	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00503	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00509	c6 84 01 15 1c
	00 00 00	 mov	 BYTE PTR [ecx+eax+7189], 0

; 121  : 
; 122  : 		lpObj->lpGuild->lpLifeStone = &gObj[iMonsterIndex]; //SirMaster Fix

  00511	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00514	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0051a	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00520	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00523	8b 91 38 04 00
	00		 mov	 edx, DWORD PTR [ecx+1080]
  00529	89 82 34 07 00
	00		 mov	 DWORD PTR [edx+1844], eax

; 123  : 		gObj[iMonsterIndex].m_iCreatedActivationTime = 0; //new

  0052f	8b 45 f4	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00532	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00538	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0053e	c7 84 01 18 1c
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+7192], 0

; 124  : 
; 125  : 		MsgOutput(iIndex, lMsg.Get(1646));

  00549	68 6e 06 00 00	 push	 1646			; 0000066eH
  0054e	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  00553	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  00558	50		 push	 eax
  00559	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0055c	50		 push	 eax
  0055d	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  00562	83 c4 08	 add	 esp, 8

; 126  : 		LogAddTD("[CastleSiege] LifeStone is created - [%s] [%s][%s] (Map:%d)(X:%d, Y:%d)",lpObj->lpGuild->Name,
; 127  : 		lpObj->AccountID,lpObj->Name,lpObj->MapNumber,cX,cY);

  00565	0f b6 45 f2	 movzx	 eax, BYTE PTR _cY$[ebp]
  00569	50		 push	 eax
  0056a	0f b6 4d f3	 movzx	 ecx, BYTE PTR _cX$[ebp]
  0056e	51		 push	 ecx
  0056f	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00572	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  00579	50		 push	 eax
  0057a	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0057d	83 c1 77	 add	 ecx, 119		; 00000077H
  00580	51		 push	 ecx
  00581	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00584	83 c2 6c	 add	 edx, 108		; 0000006cH
  00587	52		 push	 edx
  00588	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0058b	8b 88 38 04 00
	00		 mov	 ecx, DWORD PTR [eax+1080]
  00591	83 c1 04	 add	 ecx, 4
  00594	51		 push	 ecx
  00595	68 00 00 00 00	 push	 OFFSET ??_C@_0EI@CHDCMOII@?$FLCastleSiege?$FN?5LifeStone?5is?5creat@
  0059a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  005a0	83 c4 1c	 add	 esp, 28			; 0000001cH

; 128  : 		lpObj->m_btLifeStoneCount++;

  005a3	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  005a6	8a 88 14 1c 00
	00		 mov	 cl, BYTE PTR [eax+7188]
  005ac	80 c1 01	 add	 cl, 1
  005af	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  005b2	88 8a 14 1c 00
	00		 mov	 BYTE PTR [edx+7188], cl

; 129  : 	}
; 130  : 	else

  005b8	eb 20		 jmp	 SHORT $LN1@CreateLife
$LN3@CreateLife:

; 131  : 	{
; 132  : 		MsgOutput(iIndex, lMsg.Get(1647));

  005ba	68 6f 06 00 00	 push	 1647			; 0000066fH
  005bf	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  005c4	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  005c9	50		 push	 eax
  005ca	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  005cd	50		 push	 eax
  005ce	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  005d3	83 c4 08	 add	 esp, 8

; 133  : 		return FALSE;

  005d6	33 c0		 xor	 eax, eax
  005d8	eb 05		 jmp	 SHORT $LN11@CreateLife
$LN1@CreateLife:

; 134  : 	}
; 135  : 	return TRUE;

  005da	b8 01 00 00 00	 mov	 eax, 1
$LN11@CreateLife:

; 136  : }

  005df	5f		 pop	 edi
  005e0	5e		 pop	 esi
  005e1	5b		 pop	 ebx
  005e2	8b e5		 mov	 esp, ebp
  005e4	5d		 pop	 ebp
  005e5	c2 04 00	 ret	 4
?CreateLifeStone@CLifeStone@@QAEHH@Z ENDP		; CLifeStone::CreateLifeStone
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\castlesiegesync.h
_TEXT	ENDS
;	COMDAT ?GetCastleState@CCastleSiegeSync@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetCastleState@CCastleSiegeSync@@QAEHXZ PROC		; CCastleSiegeSync::GetCastleState, COMDAT
; _this$ = ecx

; 34   : 	int  GetCastleState(){return this->m_iCurCastleState;};	// line : 70

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 04	 mov	 eax, DWORD PTR [eax+4]
  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetCastleState@CCastleSiegeSync@@QAEHXZ ENDP		; CCastleSiegeSync::GetCastleState
_TEXT	ENDS
PUBLIC	??_C@_0CJ@GNLPCFHP@?$FLCastleSiege?$FN?5LifeStone?5is?5broke@ ; `string'
PUBLIC	?DeleteLifeStone@CLifeStone@@QAEHH@Z		; CLifeStone::DeleteLifeStone
;	COMDAT ??_C@_0CJ@GNLPCFHP@?$FLCastleSiege?$FN?5LifeStone?5is?5broke@
; File d:\projects\exteam6.3\source\gameserver\gameserver\lifestone.cpp
CONST	SEGMENT
??_C@_0CJ@GNLPCFHP@?$FLCastleSiege?$FN?5LifeStone?5is?5broke@ DB '[Castle'
	DB	'Siege] LifeStone is broken - [%s]', 00H	; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_lpLifeStone$ = -8					; size = 4
_this$ = -4						; size = 4
_iIndex$ = 8						; size = 4
?DeleteLifeStone@CLifeStone@@QAEHH@Z PROC		; CLifeStone::DeleteLifeStone
; _this$ = ecx

; 139  : {

  005f0	55		 push	 ebp
  005f1	8b ec		 mov	 ebp, esp
  005f3	83 ec 48	 sub	 esp, 72			; 00000048H
  005f6	53		 push	 ebx
  005f7	56		 push	 esi
  005f8	57		 push	 edi
  005f9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 140  : 
; 141  : 	if(iIndex < 0 || iIndex > OBJMAX - 1)

  005fc	83 7d 08 00	 cmp	 DWORD PTR _iIndex$[ebp], 0
  00600	7c 09		 jl	 SHORT $LN2@DeleteLife
  00602	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _iIndex$[ebp], 14999 ; 00003a97H
  00609	7e 04		 jle	 SHORT $LN3@DeleteLife
$LN2@DeleteLife:

; 142  : 	{
; 143  : 		return FALSE;

  0060b	33 c0		 xor	 eax, eax
  0060d	eb 51		 jmp	 SHORT $LN4@DeleteLife
$LN3@DeleteLife:

; 144  : 	}
; 145  : 
; 146  : 	LPOBJ lpLifeStone = &gObj[iIndex];

  0060f	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00612	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00618	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0061e	89 45 f8	 mov	 DWORD PTR _lpLifeStone$[ebp], eax

; 147  : 
; 148  : 	if(lpLifeStone->lpGuild)

  00621	8b 45 f8	 mov	 eax, DWORD PTR _lpLifeStone$[ebp]
  00624	83 b8 38 04 00
	00 00		 cmp	 DWORD PTR [eax+1080], 0
  0062b	74 2e		 je	 SHORT $LN1@DeleteLife

; 149  : 	{
; 150  : 		LogAddTD("[CastleSiege] LifeStone is broken - [%s]",lpLifeStone->lpGuild->Name);

  0062d	8b 45 f8	 mov	 eax, DWORD PTR _lpLifeStone$[ebp]
  00630	8b 88 38 04 00
	00		 mov	 ecx, DWORD PTR [eax+1080]
  00636	83 c1 04	 add	 ecx, 4
  00639	51		 push	 ecx
  0063a	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@GNLPCFHP@?$FLCastleSiege?$FN?5LifeStone?5is?5broke@
  0063f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00645	83 c4 08	 add	 esp, 8

; 151  : 		lpLifeStone->lpGuild->lpLifeStone = 0;

  00648	8b 45 f8	 mov	 eax, DWORD PTR _lpLifeStone$[ebp]
  0064b	8b 88 38 04 00
	00		 mov	 ecx, DWORD PTR [eax+1080]
  00651	c7 81 34 07 00
	00 00 00 00 00	 mov	 DWORD PTR [ecx+1844], 0
$LN1@DeleteLife:

; 152  : 	}
; 153  : 	return TRUE;

  0065b	b8 01 00 00 00	 mov	 eax, 1
$LN4@DeleteLife:

; 154  : }

  00660	5f		 pop	 edi
  00661	5e		 pop	 esi
  00662	5b		 pop	 ebx
  00663	8b e5		 mov	 esp, ebp
  00665	5d		 pop	 ebp
  00666	c2 04 00	 ret	 4
?DeleteLifeStone@CLifeStone@@QAEHH@Z ENDP		; CLifeStone::DeleteLifeStone
_TEXT	ENDS
PUBLIC	?SetReSpawnUserXY@CLifeStone@@QAEHH@Z		; CLifeStone::SetReSpawnUserXY
EXTRN	?gObjIsConnected@@YAHH@Z:PROC			; gObjIsConnected
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpLifeStone$ = -16					; size = 4
_btCsJoinSide$ = -9					; size = 1
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_iUserIndex$ = 8					; size = 4
?SetReSpawnUserXY@CLifeStone@@QAEHH@Z PROC		; CLifeStone::SetReSpawnUserXY
; _this$ = ecx

; 157  : {

  00670	55		 push	 ebp
  00671	8b ec		 mov	 ebp, esp
  00673	83 ec 50	 sub	 esp, 80			; 00000050H
  00676	53		 push	 ebx
  00677	56		 push	 esi
  00678	57		 push	 edi
  00679	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 158  : 	
; 159  : 	if(!gObjIsConnected(iUserIndex))

  0067c	8b 45 08	 mov	 eax, DWORD PTR _iUserIndex$[ebp]
  0067f	50		 push	 eax
  00680	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00685	83 c4 04	 add	 esp, 4
  00688	85 c0		 test	 eax, eax
  0068a	75 07		 jne	 SHORT $LN5@SetReSpawn

; 160  : 	{
; 161  : 		return FALSE;

  0068c	33 c0		 xor	 eax, eax
  0068e	e9 b3 00 00 00	 jmp	 $LN6@SetReSpawn
$LN5@SetReSpawn:

; 162  : 	}
; 163  : 
; 164  : 	LPOBJ lpUser = &gObj[iUserIndex];

  00693	8b 45 08	 mov	 eax, DWORD PTR _iUserIndex$[ebp]
  00696	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0069c	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  006a2	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 165  : 
; 166  : 	if(lpUser->MapNumber != MAP_INDEX_CASTLESIEGE)

  006a5	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  006a8	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  006af	83 f9 1e	 cmp	 ecx, 30			; 0000001eH
  006b2	74 07		 je	 SHORT $LN4@SetReSpawn

; 167  : 	{
; 168  : 		return FALSE;

  006b4	33 c0		 xor	 eax, eax
  006b6	e9 8b 00 00 00	 jmp	 $LN6@SetReSpawn
$LN4@SetReSpawn:

; 169  : 	}
; 170  : 
; 171  : 	if(!lpUser->lpGuild) //HermeX Fix

  006bb	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  006be	83 b8 38 04 00
	00 00		 cmp	 DWORD PTR [eax+1080], 0
  006c5	75 04		 jne	 SHORT $LN3@SetReSpawn

; 172  : 	{
; 173  : 		return FALSE;

  006c7	33 c0		 xor	 eax, eax
  006c9	eb 7b		 jmp	 SHORT $LN6@SetReSpawn
$LN3@SetReSpawn:

; 174  : 	}
; 175  : 
; 176  : 	BYTE btCsJoinSide = lpUser->m_btCsJoinSide;

  006cb	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  006ce	8a 88 02 1c 00
	00		 mov	 cl, BYTE PTR [eax+7170]
  006d4	88 4d f7	 mov	 BYTE PTR _btCsJoinSide$[ebp], cl

; 177  : 
; 178  : 	if(lpUser->lpGuild->lpLifeStone == 0)

  006d7	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  006da	8b 88 38 04 00
	00		 mov	 ecx, DWORD PTR [eax+1080]
  006e0	83 b9 34 07 00
	00 00		 cmp	 DWORD PTR [ecx+1844], 0
  006e7	75 04		 jne	 SHORT $LN2@SetReSpawn

; 179  : 	{
; 180  : 		return FALSE;

  006e9	33 c0		 xor	 eax, eax
  006eb	eb 59		 jmp	 SHORT $LN6@SetReSpawn
$LN2@SetReSpawn:

; 181  : 	}
; 182  : 
; 183  : 	LPOBJ lpLifeStone = lpUser->lpGuild->lpLifeStone;

  006ed	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  006f0	8b 88 38 04 00
	00		 mov	 ecx, DWORD PTR [eax+1080]
  006f6	8b 91 34 07 00
	00		 mov	 edx, DWORD PTR [ecx+1844]
  006fc	89 55 f0	 mov	 DWORD PTR _lpLifeStone$[ebp], edx

; 184  : 
; 185  : 	if(lpLifeStone->m_iCreatedActivationTime < 60)//NEW

  006ff	8b 45 f0	 mov	 eax, DWORD PTR _lpLifeStone$[ebp]
  00702	83 b8 18 1c 00
	00 3c		 cmp	 DWORD PTR [eax+7192], 60 ; 0000003cH
  00709	7d 04		 jge	 SHORT $LN1@SetReSpawn

; 186  : 	{
; 187  : 		return FALSE;

  0070b	33 c0		 xor	 eax, eax
  0070d	eb 37		 jmp	 SHORT $LN6@SetReSpawn
$LN1@SetReSpawn:

; 188  : 	}
; 189  : 
; 190  : 	lpUser->MapNumber = MAP_INDEX_CASTLESIEGE;

  0070f	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00712	c6 80 49 01 00
	00 1e		 mov	 BYTE PTR [eax+329], 30	; 0000001eH

; 191  : 	lpUser->X = lpLifeStone->X;

  00719	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0071c	8b 4d f0	 mov	 ecx, DWORD PTR _lpLifeStone$[ebp]
  0071f	66 8b 91 44 01
	00 00		 mov	 dx, WORD PTR [ecx+324]
  00726	66 89 90 44 01
	00 00		 mov	 WORD PTR [eax+324], dx

; 192  : 	lpUser->Y = lpLifeStone->Y;

  0072d	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00730	8b 4d f0	 mov	 ecx, DWORD PTR _lpLifeStone$[ebp]
  00733	66 8b 91 46 01
	00 00		 mov	 dx, WORD PTR [ecx+326]
  0073a	66 89 90 46 01
	00 00		 mov	 WORD PTR [eax+326], dx

; 193  : 	return TRUE;

  00741	b8 01 00 00 00	 mov	 eax, 1
$LN6@SetReSpawn:

; 194  : }

  00746	5f		 pop	 edi
  00747	5e		 pop	 esi
  00748	5b		 pop	 ebx
  00749	8b e5		 mov	 esp, ebp
  0074b	5d		 pop	 ebp
  0074c	c2 04 00	 ret	 4
?SetReSpawnUserXY@CLifeStone@@QAEHH@Z ENDP		; CLifeStone::SetReSpawnUserXY
_TEXT	ENDS
PUBLIC	__real@4059000000000000
PUBLIC	?LifeStoneAct@CLifeStone@@QAEXH@Z		; CLifeStone::LifeStoneAct
EXTRN	?GCManaSend@@YAXHHEEH@Z:PROC			; GCManaSend
EXTRN	?GCReFillSend@@YAXHHEEH@Z:PROC			; GCReFillSend
EXTRN	_abs:PROC
EXTRN	?GCSendObjectCreationState@@YAXH@Z:PROC		; GCSendObjectCreationState
EXTRN	__ftol2_sse:PROC
;	COMDAT __real@4059000000000000
CONST	SEGMENT
__real@4059000000000000 DQ 04059000000000000r	; 100
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_iRecoverBP$227182 = -32				; size = 4
_iRecoverMana$227181 = -28				; size = 4
_iRecoverLife$227180 = -24				; size = 4
_i$227176 = -20						; size = 4
_tObjNum$ = -16						; size = 4
_btCreationState$ = -9					; size = 1
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_iIndex$ = 8						; size = 4
?LifeStoneAct@CLifeStone@@QAEXH@Z PROC			; CLifeStone::LifeStoneAct
; _this$ = ecx

; 197  : {

  00750	55		 push	 ebp
  00751	8b ec		 mov	 ebp, esp
  00753	83 ec 60	 sub	 esp, 96			; 00000060H
  00756	53		 push	 ebx
  00757	56		 push	 esi
  00758	57		 push	 edi
  00759	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 198  : 	if(!gObjIsConnected(iIndex))

  0075c	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0075f	50		 push	 eax
  00760	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00765	83 c4 04	 add	 esp, 4
  00768	85 c0		 test	 eax, eax
  0076a	75 05		 jne	 SHORT $LN24@LifeStoneA

; 199  : 	{
; 200  : 		return;

  0076c	e9 25 06 00 00	 jmp	 $LN25@LifeStoneA
$LN24@LifeStoneA:

; 201  : 	}
; 202  : 
; 203  : 	LPOBJ lpObj = &gObj[iIndex];

  00771	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00774	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0077a	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00780	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 204  : 
; 205  : 	lpObj->m_iCreatedActivationTime++;

  00783	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00786	8b 88 18 1c 00
	00		 mov	 ecx, DWORD PTR [eax+7192]
  0078c	83 c1 01	 add	 ecx, 1
  0078f	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00792	89 8a 18 1c 00
	00		 mov	 DWORD PTR [edx+7192], ecx

; 206  : 	BYTE btCreationState = lpObj->m_btCreationState; //HermeX Fix

  00798	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0079b	8a 88 15 1c 00
	00		 mov	 cl, BYTE PTR [eax+7189]
  007a1	88 4d f7	 mov	 BYTE PTR _btCreationState$[ebp], cl

; 207  : 
; 208  : 	if(lpObj->m_iCreatedActivationTime < 60 )

  007a4	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  007a7	83 b8 18 1c 00
	00 3c		 cmp	 DWORD PTR [eax+7192], 60 ; 0000003cH
  007ae	7d 1c		 jge	 SHORT $LN23@LifeStoneA

; 209  : 	{
; 210  : 		lpObj->m_btCreationState = (lpObj->m_iCreatedActivationTime / 12);

  007b0	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  007b3	8b 80 18 1c 00
	00		 mov	 eax, DWORD PTR [eax+7192]
  007b9	99		 cdq
  007ba	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  007bf	f7 f9		 idiv	 ecx
  007c1	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  007c4	88 82 15 1c 00
	00		 mov	 BYTE PTR [edx+7189], al

; 211  : 	}
; 212  : 	else //HermeX Fix

  007ca	eb 0a		 jmp	 SHORT $LN22@LifeStoneA
$LN23@LifeStoneA:

; 213  : 	{
; 214  : 		lpObj->m_btCreationState = 5;

  007cc	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  007cf	c6 80 15 1c 00
	00 05		 mov	 BYTE PTR [eax+7189], 5
$LN22@LifeStoneA:

; 215  : 	}
; 216  : 
; 217  : 	if(btCreationState != lpObj->m_btCreationState) //HermeX Fix

  007d6	0f b6 45 f7	 movzx	 eax, BYTE PTR _btCreationState$[ebp]
  007da	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  007dd	0f b6 91 15 1c
	00 00		 movzx	 edx, BYTE PTR [ecx+7189]
  007e4	3b c2		 cmp	 eax, edx
  007e6	74 0c		 je	 SHORT $LN21@LifeStoneA

; 218  : 	{
; 219  : 		::GCSendObjectCreationState(iIndex);

  007e8	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  007eb	50		 push	 eax
  007ec	e8 00 00 00 00	 call	 ?GCSendObjectCreationState@@YAXH@Z ; GCSendObjectCreationState
  007f1	83 c4 04	 add	 esp, 4
$LN21@LifeStoneA:

; 220  : 	}
; 221  : 
; 222  : 	if(lpObj->m_btCreationState < 5)

  007f4	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  007f7	0f b6 88 15 1c
	00 00		 movzx	 ecx, BYTE PTR [eax+7189]
  007fe	83 f9 05	 cmp	 ecx, 5
  00801	7d 05		 jge	 SHORT $LN20@LifeStoneA

; 223  : 	{
; 224  : 		return;

  00803	e9 8e 05 00 00	 jmp	 $LN25@LifeStoneA
$LN20@LifeStoneA:

; 225  : 	}
; 226  : 
; 227  : 	if(lpObj->VPCount < 1)

  00808	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0080b	83 b8 30 0c 00
	00 01		 cmp	 DWORD PTR [eax+3120], 1
  00812	7d 05		 jge	 SHORT $LN19@LifeStoneA

; 228  : 	{
; 229  : 		return;

  00814	e9 7d 05 00 00	 jmp	 $LN25@LifeStoneA
$LN19@LifeStoneA:

; 230  : 	}
; 231  : 
; 232  : 		int tObjNum = -1;

  00819	c7 45 f0 ff ff
	ff ff		 mov	 DWORD PTR _tObjNum$[ebp], -1

; 233  : 
; 234  : 		for(int i = 0; i < MAX_VIEWPORT; i++) //HermeX Fix

  00820	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _i$227176[ebp], 0
  00827	eb 09		 jmp	 SHORT $LN18@LifeStoneA
$LN17@LifeStoneA:
  00829	8b 45 ec	 mov	 eax, DWORD PTR _i$227176[ebp]
  0082c	83 c0 01	 add	 eax, 1
  0082f	89 45 ec	 mov	 DWORD PTR _i$227176[ebp], eax
$LN18@LifeStoneA:
  00832	83 7d ec 4b	 cmp	 DWORD PTR _i$227176[ebp], 75 ; 0000004bH
  00836	0f 8d 5a 05 00
	00		 jge	 $LN16@LifeStoneA

; 235  : 		{
; 236  : 			BOOL iRecoverLife,iRecoverMana,iRecoverBP;
; 237  : 
; 238  : 			tObjNum = lpObj->VpPlayer[i].number;

  0083c	8b 45 ec	 mov	 eax, DWORD PTR _i$227176[ebp]
  0083f	6b c0 0c	 imul	 eax, 12			; 0000000cH
  00842	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00845	0f bf 94 01 2a
	05 00 00	 movsx	 edx, WORD PTR [ecx+eax+1322]
  0084d	89 55 f0	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 239  : 				
; 240  : 			if(tObjNum >= 0)

  00850	83 7d f0 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  00854	0f 8c 32 05 00
	00		 jl	 $LN2@LifeStoneA

; 241  : 			{
; 242  : 				if(gObj[tObjNum].Type == OBJ_USER)

  0085a	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0085d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00863	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00869	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  0086e	83 fa 01	 cmp	 edx, 1
  00871	0f 85 15 05 00
	00		 jne	 $LN2@LifeStoneA

; 243  : 				{
; 244  : 					if(gObj[tObjNum].Live != FALSE)

  00877	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0087a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00880	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00886	0f b6 54 01 6a	 movzx	 edx, BYTE PTR [ecx+eax+106]
  0088b	85 d2		 test	 edx, edx
  0088d	0f 84 f9 04 00
	00		 je	 $LN2@LifeStoneA

; 245  : 					{
; 246  : 						if(gObj[tObjNum].m_btCsJoinSide == lpObj->m_btCsJoinSide)

  00893	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00896	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0089c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  008a2	0f b6 94 01 02
	1c 00 00	 movzx	 edx, BYTE PTR [ecx+eax+7170]
  008aa	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008ad	0f b6 88 02 1c
	00 00		 movzx	 ecx, BYTE PTR [eax+7170]
  008b4	3b d1		 cmp	 edx, ecx
  008b6	0f 85 d0 04 00
	00		 jne	 $LN2@LifeStoneA

; 247  : 						{
; 248  : 							if(abs(lpObj->Y - gObj[tObjNum].Y) <= 3)

  008bc	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008bf	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  008c6	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  008c9	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  008cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  008d4	0f bf 94 10 46
	01 00 00	 movsx	 edx, WORD PTR [eax+edx+326]
  008dc	2b ca		 sub	 ecx, edx
  008de	51		 push	 ecx
  008df	e8 00 00 00 00	 call	 _abs
  008e4	83 c4 04	 add	 esp, 4
  008e7	83 f8 03	 cmp	 eax, 3
  008ea	0f 8f 9c 04 00
	00		 jg	 $LN2@LifeStoneA

; 249  : 							{
; 250  : 								if(abs(lpObj->X - gObj[tObjNum].X) <= 3) //fix

  008f0	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  008f3	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  008fa	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  008fd	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  00903	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00908	0f bf 94 10 44
	01 00 00	 movsx	 edx, WORD PTR [eax+edx+324]
  00910	2b ca		 sub	 ecx, edx
  00912	51		 push	 ecx
  00913	e8 00 00 00 00	 call	 _abs
  00918	83 c4 04	 add	 esp, 4
  0091b	83 f8 03	 cmp	 eax, 3
  0091e	0f 8f 68 04 00
	00		 jg	 $LN2@LifeStoneA

; 251  : 								{
; 252  : 									iRecoverLife = FALSE;

  00924	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iRecoverLife$227180[ebp], 0

; 253  : 									iRecoverMana = FALSE;

  0092b	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _iRecoverMana$227181[ebp], 0

; 254  : 									iRecoverBP = FALSE;

  00932	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _iRecoverBP$227182[ebp], 0

; 255  : 
; 256  : 									if(gObj[tObjNum].Life < (gObj[tObjNum].MaxLife + gObj[tObjNum].AddLife)) //SirMaster Fix

  00939	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0093c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00942	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  00945	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0094b	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  0094e	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  00954	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0095a	db 84 16 4c 01
	00 00		 fild	 DWORD PTR [esi+edx+332]
  00961	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00967	d8 84 0a 00 01
	00 00		 fadd	 DWORD PTR [edx+ecx+256]
  0096e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00974	d9 84 01 fc 00
	00 00		 fld	 DWORD PTR [ecx+eax+252]
  0097b	de d9		 fcompp
  0097d	df e0		 fnstsw	 ax
  0097f	f6 c4 05	 test	 ah, 5
  00982	0f 8a f0 00 00
	00		 jp	 $LN9@LifeStoneA

; 257  : 									{
; 258  : 										gObj[tObjNum].Life += ((gObj[tObjNum].MaxLife + gObj[tObjNum].AddLife) / 100 ); //SirMaster Fix

  00988	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0098b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00991	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  00994	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0099a	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  0099d	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  009a3	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009a9	db 84 16 4c 01
	00 00		 fild	 DWORD PTR [esi+edx+332]
  009b0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009b6	d8 84 0a 00 01
	00 00		 fadd	 DWORD PTR [edx+ecx+256]
  009bd	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  009c3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009c9	d8 84 01 fc 00
	00 00		 fadd	 DWORD PTR [ecx+eax+252]
  009d0	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  009d3	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  009d9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009de	d9 9c 10 fc 00
	00 00		 fstp	 DWORD PTR [eax+edx+252]

; 259  : 										
; 260  : 										if(gObj[tObjNum].Life > (gObj[tObjNum].MaxLife + gObj[tObjNum].AddLife)) //SirMaster Fix

  009e5	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  009e8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  009ee	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  009f1	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  009f7	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  009fa	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  00a00	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a06	db 84 16 4c 01
	00 00		 fild	 DWORD PTR [esi+edx+332]
  00a0d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a13	d8 84 0a 00 01
	00 00		 fadd	 DWORD PTR [edx+ecx+256]
  00a1a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a20	d9 84 01 fc 00
	00 00		 fld	 DWORD PTR [ecx+eax+252]
  00a27	de d9		 fcompp
  00a29	df e0		 fnstsw	 ax
  00a2b	f6 c4 41	 test	 ah, 65			; 00000041H
  00a2e	75 41		 jne	 SHORT $LN8@LifeStoneA

; 261  : 										{
; 262  : 											gObj[tObjNum].Life = (gObj[tObjNum].MaxLife + gObj[tObjNum].AddLife); //SirMaster Fix

  00a30	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00a33	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00a39	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  00a3c	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00a42	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a48	db 84 0a 4c 01
	00 00		 fild	 DWORD PTR [edx+ecx+332]
  00a4f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a55	d8 84 01 00 01
	00 00		 fadd	 DWORD PTR [ecx+eax+256]
  00a5c	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  00a5f	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  00a65	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a6a	d9 9c 10 fc 00
	00 00		 fstp	 DWORD PTR [eax+edx+252]
$LN8@LifeStoneA:

; 263  : 										}
; 264  : 										iRecoverLife = TRUE;

  00a71	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _iRecoverLife$227180[ebp], 1
$LN9@LifeStoneA:

; 265  : 									}
; 266  : 
; 267  : 									if(gObj[tObjNum].Mana < (gObj[tObjNum].MaxMana + gObj[tObjNum].AddMana) ) //SirMaster Fix

  00a78	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00a7b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00a81	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  00a84	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00a8a	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  00a8d	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  00a93	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a99	db 84 16 50 01
	00 00		 fild	 DWORD PTR [esi+edx+336]
  00aa0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00aa6	d8 84 0a 14 01
	00 00		 fadd	 DWORD PTR [edx+ecx+276]
  00aad	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00ab3	d9 84 01 10 01
	00 00		 fld	 DWORD PTR [ecx+eax+272]
  00aba	de d9		 fcompp
  00abc	df e0		 fnstsw	 ax
  00abe	f6 c4 05	 test	 ah, 5
  00ac1	0f 8a f0 00 00
	00		 jp	 $LN7@LifeStoneA

; 268  : 									{
; 269  : 										gObj[tObjNum].Mana += ((gObj[tObjNum].MaxMana + gObj[tObjNum].AddMana) / 100 ); //SirMaster Fix

  00ac7	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00aca	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00ad0	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  00ad3	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00ad9	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  00adc	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  00ae2	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00ae8	db 84 16 50 01
	00 00		 fild	 DWORD PTR [esi+edx+336]
  00aef	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00af5	d8 84 0a 14 01
	00 00		 fadd	 DWORD PTR [edx+ecx+276]
  00afc	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  00b02	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b08	d8 84 01 10 01
	00 00		 fadd	 DWORD PTR [ecx+eax+272]
  00b0f	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  00b12	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  00b18	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b1d	d9 9c 10 10 01
	00 00		 fstp	 DWORD PTR [eax+edx+272]

; 270  : 	
; 271  : 										if(gObj[tObjNum].Mana > (gObj[tObjNum].MaxMana + gObj[tObjNum].AddMana)) //SirMaster Fix

  00b24	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00b27	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b2d	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  00b30	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00b36	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  00b39	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  00b3f	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b45	db 84 16 50 01
	00 00		 fild	 DWORD PTR [esi+edx+336]
  00b4c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b52	d8 84 0a 14 01
	00 00		 fadd	 DWORD PTR [edx+ecx+276]
  00b59	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b5f	d9 84 01 10 01
	00 00		 fld	 DWORD PTR [ecx+eax+272]
  00b66	de d9		 fcompp
  00b68	df e0		 fnstsw	 ax
  00b6a	f6 c4 41	 test	 ah, 65			; 00000041H
  00b6d	75 41		 jne	 SHORT $LN6@LifeStoneA

; 272  : 										{
; 273  : 											gObj[tObjNum].Mana = (gObj[tObjNum].MaxMana + gObj[tObjNum].AddMana); //SirMaster Fix

  00b6f	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00b72	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b78	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  00b7b	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00b81	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b87	db 84 0a 50 01
	00 00		 fild	 DWORD PTR [edx+ecx+336]
  00b8e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b94	d8 84 01 14 01
	00 00		 fadd	 DWORD PTR [ecx+eax+276]
  00b9b	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  00b9e	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  00ba4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00ba9	d9 9c 10 10 01
	00 00		 fstp	 DWORD PTR [eax+edx+272]
$LN6@LifeStoneA:

; 274  : 										}
; 275  : 										iRecoverMana = TRUE;

  00bb0	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _iRecoverMana$227181[ebp], 1
$LN7@LifeStoneA:

; 276  : 									}
; 277  : 
; 278  : 									if(gObj[tObjNum].BP < (gObj[tObjNum].MaxBP + gObj[tObjNum].AddBP))

  00bb7	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00bba	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00bc0	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  00bc3	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00bc9	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  00bcc	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  00bd2	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00bd8	8b 8c 0e 2c 01
	00 00		 mov	 ecx, DWORD PTR [esi+ecx+300]
  00bdf	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00be5	03 8c 16 30 01
	00 00		 add	 ecx, DWORD PTR [esi+edx+304]
  00bec	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00bf2	39 8c 02 28 01
	00 00		 cmp	 DWORD PTR [edx+eax+296], ecx
  00bf9	0f 8d ef 00 00
	00		 jge	 $LN5@LifeStoneA

; 279  : 									{
; 280  : 										gObj[tObjNum].BP += ((gObj[tObjNum].MaxBP + gObj[tObjNum].AddBP) / 100);

  00bff	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  00c02	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00c08	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  00c0b	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  00c11	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00c14	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00c1a	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c20	8b 94 16 2c 01
	00 00		 mov	 edx, DWORD PTR [esi+edx+300]
  00c27	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c2d	03 94 06 30 01
	00 00		 add	 edx, DWORD PTR [esi+eax+304]
  00c34	8b c2		 mov	 eax, edx
  00c36	99		 cdq
  00c37	be 64 00 00 00	 mov	 esi, 100		; 00000064H
  00c3c	f7 fe		 idiv	 esi
  00c3e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c44	03 84 0a 28 01
	00 00		 add	 eax, DWORD PTR [edx+ecx+296]
  00c4b	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  00c4e	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00c54	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c5a	89 84 0a 28 01
	00 00		 mov	 DWORD PTR [edx+ecx+296], eax

; 281  : 
; 282  : 										if(gObj[tObjNum].BP > (gObj[tObjNum].MaxBP + gObj[tObjNum].AddBP))

  00c61	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00c64	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00c6a	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  00c6d	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00c73	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  00c76	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  00c7c	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c82	8b 8c 0e 2c 01
	00 00		 mov	 ecx, DWORD PTR [esi+ecx+300]
  00c89	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c8f	03 8c 16 30 01
	00 00		 add	 ecx, DWORD PTR [esi+edx+304]
  00c96	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c9c	39 8c 02 28 01
	00 00		 cmp	 DWORD PTR [edx+eax+296], ecx
  00ca3	7e 42		 jle	 SHORT $LN4@LifeStoneA

; 283  : 										{
; 284  : 											gObj[tObjNum].BP = (gObj[tObjNum].MaxBP + gObj[tObjNum].AddBP);

  00ca5	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00ca8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00cae	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  00cb1	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00cb7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00cbd	8b 84 02 2c 01
	00 00		 mov	 eax, DWORD PTR [edx+eax+300]
  00cc4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00cca	03 84 0a 30 01
	00 00		 add	 eax, DWORD PTR [edx+ecx+304]
  00cd1	8b 4d f0	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  00cd4	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00cda	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00ce0	89 84 0a 28 01
	00 00		 mov	 DWORD PTR [edx+ecx+296], eax
$LN4@LifeStoneA:

; 285  : 										}
; 286  : 										iRecoverBP = TRUE;

  00ce7	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _iRecoverBP$227182[ebp], 1
$LN5@LifeStoneA:

; 287  : 									}
; 288  : 
; 289  : 									if(iRecoverLife != FALSE)

  00cee	83 7d e8 00	 cmp	 DWORD PTR _iRecoverLife$227180[ebp], 0
  00cf2	74 46		 je	 SHORT $LN3@LifeStoneA

; 290  : 									{
; 291  : 										::GCReFillSend(tObjNum,gObj[tObjNum].Life,0xFF,1,gObj[tObjNum].iShield);

  00cf4	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00cf7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00cfd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00d03	8b 94 01 54 01
	00 00		 mov	 edx, DWORD PTR [ecx+eax+340]
  00d0a	52		 push	 edx
  00d0b	6a 01		 push	 1
  00d0d	68 ff 00 00 00	 push	 255			; 000000ffH
  00d12	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00d15	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00d1b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00d21	d9 84 01 fc 00
	00 00		 fld	 DWORD PTR [ecx+eax+252]
  00d28	e8 00 00 00 00	 call	 __ftol2_sse
  00d2d	50		 push	 eax
  00d2e	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  00d31	52		 push	 edx
  00d32	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend
  00d37	83 c4 14	 add	 esp, 20			; 00000014H
$LN3@LifeStoneA:

; 292  : 									}
; 293  : 
; 294  : 									if( (iRecoverMana != FALSE) || (iRecoverBP != FALSE) )

  00d3a	83 7d e4 00	 cmp	 DWORD PTR _iRecoverMana$227181[ebp], 0
  00d3e	75 06		 jne	 SHORT $LN1@LifeStoneA
  00d40	83 7d e0 00	 cmp	 DWORD PTR _iRecoverBP$227182[ebp], 0
  00d44	74 46		 je	 SHORT $LN2@LifeStoneA
$LN1@LifeStoneA:

; 295  : 									{
; 296  : 										::GCManaSend(tObjNum,gObj[tObjNum].Mana,0xFF,0,gObj[tObjNum].BP);

  00d46	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00d49	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00d4f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00d55	8b 94 01 28 01
	00 00		 mov	 edx, DWORD PTR [ecx+eax+296]
  00d5c	52		 push	 edx
  00d5d	6a 00		 push	 0
  00d5f	68 ff 00 00 00	 push	 255			; 000000ffH
  00d64	8b 45 f0	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00d67	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00d6d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00d73	d9 84 01 10 01
	00 00		 fld	 DWORD PTR [ecx+eax+272]
  00d7a	e8 00 00 00 00	 call	 __ftol2_sse
  00d7f	50		 push	 eax
  00d80	8b 55 f0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  00d83	52		 push	 edx
  00d84	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend
  00d89	83 c4 14	 add	 esp, 20			; 00000014H
$LN2@LifeStoneA:

; 297  : 									}
; 298  : 								}
; 299  : 							}
; 300  : 						}
; 301  : 					}
; 302  : 				}
; 303  : 			}
; 304  : 			continue;

  00d8c	e9 98 fa ff ff	 jmp	 $LN17@LifeStoneA

; 305  : 		}

  00d91	e9 93 fa ff ff	 jmp	 $LN17@LifeStoneA
$LN16@LifeStoneA:
$LN25@LifeStoneA:

; 306  : }

  00d96	5f		 pop	 edi
  00d97	5e		 pop	 esi
  00d98	5b		 pop	 ebx
  00d99	8b e5		 mov	 esp, ebp
  00d9b	5d		 pop	 ebp
  00d9c	c2 04 00	 ret	 4
?LifeStoneAct@CLifeStone@@QAEXH@Z ENDP			; CLifeStone::LifeStoneAct
_TEXT	ENDS
EXTRN	_atexit:PROC
; Function compile flags: /Odtp /ZI
;	COMDAT ??__Eg_CsNPC_LifeStone@@YAXXZ
text$yc	SEGMENT
??__Eg_CsNPC_LifeStone@@YAXXZ PROC			; `dynamic initializer for 'g_CsNPC_LifeStone'', COMDAT

; 15   : CLifeStone g_CsNPC_LifeStone;

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CsNPC_LifeStone@@3VCLifeStone@@A ; g_CsNPC_LifeStone
  0000e	e8 00 00 00 00	 call	 ??0CLifeStone@@QAE@XZ	; CLifeStone::CLifeStone
  00013	68 00 00 00 00	 push	 OFFSET ??__Fg_CsNPC_LifeStone@@YAXXZ ; `dynamic atexit destructor for 'g_CsNPC_LifeStone''
  00018	e8 00 00 00 00	 call	 _atexit
  0001d	83 c4 04	 add	 esp, 4
  00020	5f		 pop	 edi
  00021	5e		 pop	 esi
  00022	5b		 pop	 ebx
  00023	8b e5		 mov	 esp, ebp
  00025	5d		 pop	 ebp
  00026	c3		 ret	 0
??__Eg_CsNPC_LifeStone@@YAXXZ ENDP			; `dynamic initializer for 'g_CsNPC_LifeStone''
; Function compile flags: /Odtp /ZI
text$yc	ENDS
;	COMDAT ??__Fg_CsNPC_LifeStone@@YAXXZ
text$yd	SEGMENT
??__Fg_CsNPC_LifeStone@@YAXXZ PROC			; `dynamic atexit destructor for 'g_CsNPC_LifeStone'', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CsNPC_LifeStone@@3VCLifeStone@@A ; g_CsNPC_LifeStone
  0000e	e8 00 00 00 00	 call	 ??1CLifeStone@@UAE@XZ	; CLifeStone::~CLifeStone
  00013	5f		 pop	 edi
  00014	5e		 pop	 esi
  00015	5b		 pop	 ebx
  00016	8b e5		 mov	 esp, ebp
  00018	5d		 pop	 ebp
  00019	c3		 ret	 0
??__Fg_CsNPC_LifeStone@@YAXXZ ENDP			; `dynamic atexit destructor for 'g_CsNPC_LifeStone''
text$yd	ENDS
PUBLIC	?g_CsNPC_LifeStone@@3VCLifeStone@@A		; g_CsNPC_LifeStone
_BSS	SEGMENT
?g_CsNPC_LifeStone@@3VCLifeStone@@A DD 01H DUP (?)	; g_CsNPC_LifeStone
_BSS	ENDS
CRT$XCU	SEGMENT
_g_CsNPC_LifeStone$initializer$ DD FLAT:??__Eg_CsNPC_LifeStone@@YAXXZ
CRT$XCU	ENDS
END
