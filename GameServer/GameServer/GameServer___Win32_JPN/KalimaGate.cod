; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\KalimaGate.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

_DATA	SEGMENT
_g_iNpcUpDfLevel_CGATE DD 01H
	DD	02H
	DD	02dc6c0H
	DD	02H
	DD	03H
	DD	02dc6c0H
	DD	03H
	DD	04H
	DD	02dc6c0H
_g_iNpcUpDfLevel_CSTATUE DD 01H
	DD	03H
	DD	02dc6c0H
	DD	02H
	DD	05H
	DD	02dc6c0H
	DD	03H
	DD	07H
	DD	02dc6c0H
_g_iNpcUpMaxHP_CGATE DD 02625a0H
	DD	02H
	DD	0f4240H
	DD	03567e0H
	DD	03H
	DD	0f4240H
	DD	04f5880H
	DD	04H
	DD	0f4240H
_g_iNpcUpMaxHP_CSTATUE DD 02191c0H
	DD	03H
	DD	0f4240H
	DD	033e140H
	DD	05H
	DD	0f4240H
	DD	04c4b40H
	DD	07H
	DD	0f4240H
_g_iNpcUpRgLevel_CSTATUE DD 01H
	DD	03H
	DD	04c4b40H
	DD	02H
	DD	05H
	DD	04c4b40H
	DD	03H
	DD	07H
	DD	04c4b40H
_g_iCsUserReSpawnArea DD 023H
	DD	011H
	DD	090H
	DD	030H
	DD	04aH
	DD	090H
	DD	073H
	DD	09aH
	DD	023H
	DD	011H
	DD	090H
	DD	030H
_g_iNpcDefense_CGATE DD 064H
	DD	0b4H
	DD	012cH
	DD	0208H
_g_iNpcDefense_CSTATUE DD 050H
	DD	0b4H
	DD	0154H
	DD	0226H
_g_iCastleWallStepAxisY DD 071H
	DD	0a0H
	DD	0cbH
_g_sttKALIMAGATE_LEVEL DD 028H
	DD	082H
	DD	014H
	DD	06eH
	DD	083H
	DD	0b4H
	DD	06fH
	DD	0a0H
	DD	0b5H
	DD	0e6H
	DD	0a1H
	DD	0d2H
	DD	0e7H
	DD	0118H
	DD	0d3H
	DD	0104H
	DD	0119H
	DD	014aH
	DD	0105H
	DD	0136H
	DD	014bH
	DD	015dH
	DD	0137H
	DD	015dH
	DD	015eH
	DD	0190H
	DD	015eH
	DD	0190H
_g_iKalimaGateGateIndex DD 058H
	DD	059H
	DD	05aH
	DD	05bH
	DD	05cH
	DD	05dH
	DD	074H
_g_iChaosCastle_EnterCost DD 061a8H
	DD	013880H
	DD	0249f0H
	DD	03d090H
	DD	061a80H
	DD	09eb10H
	DD	0f4240H
_g_sttDEVILSQUARE_LEVEL DD 0fH
	DD	082H
	DD	0aH
	DD	06eH
	DD	03aH
	DD	083H
	DD	0b4H
	DD	06fH
	DD	0a0H
	DD	03bH
	DD	0b5H
	DD	0e6H
	DD	0a1H
	DD	0d2H
	DD	03cH
	DD	0e7H
	DD	0118H
	DD	0d3H
	DD	0104H
	DD	03dH
	DD	0119H
	DD	014aH
	DD	0105H
	DD	0136H
	DD	06fH
	DD	014bH
	DD	0190H
	DD	0137H
	DD	0190H
	DD	070H
	DD	0fH
	DD	0257H
	DD	0aH
	DD	0257H
	DD	010eH
_g_iChaosCastle_GuardSetValue DD 09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
_g_sttBLOODCASTLE_LEVEL DD 0fH
	DD	050H
	DD	0aH
	DD	03cH
	DD	051H
	DD	082H
	DD	03dH
	DD	06eH
	DD	083H
	DD	0b4H
	DD	06fH
	DD	0a0H
	DD	0b5H
	DD	0e6H
	DD	0a1H
	DD	0d2H
	DD	0e7H
	DD	0118H
	DD	0d3H
	DD	0104H
	DD	0119H
	DD	014aH
	DD	0105H
	DD	0136H
	DD	014bH
	DD	0190H
	DD	0137H
	DD	0190H
	DD	0fH
	DD	0257H
	DD	0aH
	DD	0257H
_g_sttCHAOSCASTLE_LEVEL DD 0fH
	DD	031H
	DD	0fH
	DD	01dH
	DD	032H
	DD	077H
	DD	01eH
	DD	063H
	DD	078H
	DD	0b3H
	DD	064H
	DD	09fH
	DD	0b4H
	DD	0efH
	DD	0a0H
	DD	0dbH
	DD	0f0H
	DD	012bH
	DD	0dcH
	DD	0117H
	DD	012cH
	DD	0190H
	DD	0118H
	DD	0190H
	DD	0190H
	DD	0257H
	DD	0190H
	DD	0257H
_g_iChaosCastle_BlowOutDistance DD 03H
	DD	04H
	DD	03H
	DD	04H
	DD	02H
	DD	03H
	DD	00H
	DD	01H
_g_iChaosCastle_BlowOutDamage DD 0fH
	DD	0fH
	DD	0aH
	DD	05H
_g_iChaosCastle_MonsterItems DD 01c0dH
	DD	01H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	04H
_g_iChaosCastle_MonsterItemsNewServer DD 00H
	DD	00H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	01H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	01H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	03H
_g_iChaosCastle_GroundAxis DD 017H
	DD	04bH
	DD	02cH
	DD	06cH
_g_iChaosCastle_DamageAxis DD 017H
	DD	04bH
	DD	02cH
	DD	06cH
	DD	019H
	DD	04dH
	DD	02aH
	DD	06aH
	DD	01bH
	DD	04fH
	DD	028H
	DD	068H
	DD	01dH
	DD	051H
	DD	026H
	DD	066H
_g_iChaosCastle_MapHollowZone DD 017H
	DD	04bH
	DD	02cH
	DD	04cH
	DD	02bH
	DD	04dH
	DD	02cH
	DD	06cH
	DD	017H
	DD	06bH
	DD	02aH
	DD	06cH
	DD	017H
	DD	04dH
	DD	018H
	DD	06aH
	DD	017H
	DD	04bH
	DD	02cH
	DD	04cH
	DD	02bH
	DD	04dH
	DD	02cH
	DD	06cH
	DD	017H
	DD	06bH
	DD	02aH
	DD	06cH
	DD	017H
	DD	04dH
	DD	018H
	DD	06aH
	DD	019H
	DD	04dH
	DD	02aH
	DD	04eH
	DD	029H
	DD	04fH
	DD	02aH
	DD	06aH
	DD	019H
	DD	069H
	DD	028H
	DD	06aH
	DD	019H
	DD	04fH
	DD	01aH
	DD	068H
	DD	01bH
	DD	04fH
	DD	028H
	DD	050H
	DD	027H
	DD	051H
	DD	028H
	DD	068H
	DD	01bH
	DD	067H
	DD	026H
	DD	068H
	DD	01bH
	DD	051H
	DD	01cH
	DD	066H
_DATA	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	83 e8 01	 sub	 eax, 1
  0000f	89 45 10	 mov	 DWORD PTR ___n$[ebp], eax
  00012	78 11		 js	 SHORT $LN3@vector
  00014	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00017	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  0001a	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  0001d	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  00020	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  00023	eb e4		 jmp	 SHORT $LN2@vector
$LN3@vector:
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	??_7CKalimaGate@@6B@				; CKalimaGate::`vftable'
PUBLIC	??0CKalimaGate@@QAE@XZ				; CKalimaGate::CKalimaGate
PUBLIC	??_R4CKalimaGate@@6B@				; CKalimaGate::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCKalimaGate@@@8				; CKalimaGate `RTTI Type Descriptor'
PUBLIC	??_R3CKalimaGate@@8				; CKalimaGate::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CKalimaGate@@8				; CKalimaGate::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CKalimaGate@@8			; CKalimaGate::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	__imp__InitializeCriticalSection@4:PROC
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	??_ECKalimaGate@@UAEPAXI@Z:PROC			; CKalimaGate::`vector deleting destructor'
;	COMDAT ??_R1A@?0A@EA@CKalimaGate@@8
; File d:\projects\exteam6.3\source\gameserver\gameserver\kalimagate.cpp
rdata$r	SEGMENT
??_R1A@?0A@EA@CKalimaGate@@8 DD FLAT:??_R0?AVCKalimaGate@@@8 ; CKalimaGate::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CKalimaGate@@8
rdata$r	ENDS
;	COMDAT ??_R2CKalimaGate@@8
rdata$r	SEGMENT
??_R2CKalimaGate@@8 DD FLAT:??_R1A@?0A@EA@CKalimaGate@@8 ; CKalimaGate::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CKalimaGate@@8
rdata$r	SEGMENT
??_R3CKalimaGate@@8 DD 00H				; CKalimaGate::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CKalimaGate@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCKalimaGate@@@8
_DATA	SEGMENT
??_R0?AVCKalimaGate@@@8 DD FLAT:??_7type_info@@6B@	; CKalimaGate `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCKalimaGate@@', 00H
_DATA	ENDS
;	COMDAT ??_R4CKalimaGate@@6B@
rdata$r	SEGMENT
??_R4CKalimaGate@@6B@ DD 00H				; CKalimaGate::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCKalimaGate@@@8
	DD	FLAT:??_R3CKalimaGate@@8
rdata$r	ENDS
;	COMDAT ??_7CKalimaGate@@6B@
CONST	SEGMENT
??_7CKalimaGate@@6B@ DD FLAT:??_R4CKalimaGate@@6B@	; CKalimaGate::`vftable'
	DD	FLAT:??_ECKalimaGate@@UAEPAXI@Z
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0CKalimaGate@@QAE@XZ PROC				; CKalimaGate::CKalimaGate
; _this$ = ecx

; 16   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CKalimaGate@@6B@

; 17   : 	InitializeCriticalSection(&this->m_critKalimaGate );

  00015	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00018	83 c0 04	 add	 eax, 4
  0001b	50		 push	 eax
  0001c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InitializeCriticalSection@4

; 18   : }

  00022	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
??0CKalimaGate@@QAE@XZ ENDP				; CKalimaGate::CKalimaGate
_TEXT	ENDS
PUBLIC	??1CKalimaGate@@UAE@XZ				; CKalimaGate::~CKalimaGate
EXTRN	??3@YAXPAX@Z:PROC				; operator delete
; Function compile flags: /Odtp /ZI
;	COMDAT ??_GCKalimaGate@@UAEPAXI@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___flags$ = 8						; size = 4
??_GCKalimaGate@@UAEPAXI@Z PROC				; CKalimaGate::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ??1CKalimaGate@@UAE@XZ	; CKalimaGate::~CKalimaGate
  00014	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00017	83 e0 01	 and	 eax, 1
  0001a	74 0c		 je	 SHORT $LN1@scalar
  0001c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001f	50		 push	 eax
  00020	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00025	83 c4 04	 add	 esp, 4
$LN1@scalar:
  00028	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002b	5f		 pop	 edi
  0002c	5e		 pop	 esi
  0002d	5b		 pop	 ebx
  0002e	8b e5		 mov	 esp, ebp
  00030	5d		 pop	 ebp
  00031	c2 04 00	 ret	 4
??_GCKalimaGate@@UAEPAXI@Z ENDP				; CKalimaGate::`scalar deleting destructor'
_TEXT	ENDS
EXTRN	__imp__DeleteCriticalSection@4:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
??1CKalimaGate@@UAE@XZ PROC				; CKalimaGate::~CKalimaGate
; _this$ = ecx

; 21   : {

  00030	55		 push	 ebp
  00031	8b ec		 mov	 ebp, esp
  00033	83 ec 44	 sub	 esp, 68			; 00000044H
  00036	53		 push	 ebx
  00037	56		 push	 esi
  00038	57		 push	 edi
  00039	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0003c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0003f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CKalimaGate@@6B@

; 22   : 	DeleteCriticalSection(&this->m_critKalimaGate );

  00045	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00048	83 c0 04	 add	 eax, 4
  0004b	50		 push	 eax
  0004c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteCriticalSection@4

; 23   : }

  00052	5f		 pop	 edi
  00053	5e		 pop	 esi
  00054	5b		 pop	 ebx
  00055	8b e5		 mov	 esp, ebp
  00057	5d		 pop	 ebp
  00058	c3		 ret	 0
??1CKalimaGate@@UAE@XZ ENDP				; CKalimaGate::~CKalimaGate
_TEXT	ENDS
PUBLIC	??_C@_0JE@GBKKIBCM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@ ; `string'
PUBLIC	__real@447a0000
PUBLIC	??_C@_0EK@OMOPGPDM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ ; `string'
PUBLIC	??_C@_0FM@OJLJJEMN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	??_C@_0GD@BNDCCFJF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	?GetRandomLocation@CKalimaGate@@AAEHHAAE0@Z	; CKalimaGate::GetRandomLocation
PUBLIC	??_C@_0FE@NNCGKIKM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	??_C@_0FM@IGFLMFGN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	??_C@_0EN@GPHOBJAE@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	?GetKalimaGateLevel@CKalimaGate@@AAEHH@Z	; CKalimaGate::GetKalimaGateLevel
PUBLIC	??_C@_0CM@PDFGAPNC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@ ; `string'
PUBLIC	?CreateKalimaGate@CKalimaGate@@QAEHHEEE@Z	; CKalimaGate::CreateKalimaGate
EXTRN	__imp__LeaveCriticalSection@4:PROC
EXTRN	__imp__GetTickCount@0:PROC
EXTRN	?gObjSetMonster@@YAHHH@Z:PROC			; gObjSetMonster
EXTRN	?gObjDel@@YAFH@Z:PROC				; gObjDel
EXTRN	?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z:PROC ; CMonsterAttr::GetAttr
EXTRN	?gMAttr@@3VCMonsterAttr@@A:BYTE			; gMAttr
EXTRN	?gObjAddMonster@@YAFH@Z:PROC			; gObjAddMonster
EXTRN	?GCServerMsgStringSend@@YAXPADHE@Z:PROC		; GCServerMsgStringSend
EXTRN	?Get@CMsg@@QAEPADH@Z:PROC			; CMsg::Get
EXTRN	?lMsg@@3VCMsg@@A:BYTE				; lMsg
EXTRN	?GetAttr@MapClass@@QAEEHH@Z:PROC		; MapClass::GetAttr
EXTRN	?MapC@@3PAVMapClass@@A:BYTE			; MapC
EXTRN	?LogAddTD@@3P6AXPADZZA:DWORD			; LogAddTD
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
EXTRN	?gObjIsConnected@@YAHH@Z:PROC			; gObjIsConnected
EXTRN	__imp__EnterCriticalSection@4:PROC
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
EXTRN	__except_handler4:PROC
EXTRN	__local_unwind4:PROC
;	COMDAT ??_C@_0JE@GBKKIBCM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@
CONST	SEGMENT
??_C@_0JE@GBKKIBCM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@ DB '['
	DB	'Kalima] [%s][%s] Create Kalima Gate Successfuly (Live:%d, Gat'
	DB	'eTick:%u, DieRegen:%d, Map:%d, X:%d, Y:%d, SummonIndex:%d, Ow'
	DB	'nerIndex:%d, GateNo.:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT __real@447a0000
CONST	SEGMENT
__real@447a0000 DD 0447a0000r			; 1000
CONST	ENDS
;	COMDAT ??_C@_0EK@OMOPGPDM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
CONST	SEGMENT
??_C@_0EK@OMOPGPDM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ DB '['
	DB	'Kalima] [%s][%s] Kalima Gate Vanished - lpMATTR == NULL (Summ'
	DB	'onIndex:%d)', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0FM@OJLJJEMN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0FM@OJLJJEMN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate - Uable to Summ'
	DB	'on in this Map (MapNumber:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0GD@BNDCCFJF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0GD@BNDCCFJF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate - Failed to get'
	DB	' Location (MapNumber:%d, X:%d, Y:%d)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0FE@NNCGKIKM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0FE@NNCGKIKM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate - Already Have '
	DB	'Gate (SummonIndex:%d)', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0FM@IGFLMFGN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0FM@IGFLMFGN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate - Called in Saf'
	DB	'tey Area (Map:%d, X:%d, Y:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EN@GPHOBJAE@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0EN@GPHOBJAE@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate - Gate Level Ch'
	DB	'eck Error : %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CM@PDFGAPNC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@
CONST	SEGMENT
??_C@_0CM@PDFGAPNC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@ DB '['
	DB	'Kalima] [%s][%s] Try to Create Kalima Gate', 00H ; `string'
CONST	ENDS
xdata$x	SEGMENT
__sehtable$?CreateKalimaGate@CKalimaGate@@QAEHHEEE@Z DD 0fffffffeH
	DD	00H
	DD	0ffffff3cH
	DD	00H
	DD	0fffffffeH
	DD	00H
	DD	FLAT:$LN33@CreateKali
; Function compile flags: /Odtp /ZI
xdata$x	ENDS
_TEXT	SEGMENT
tv166 = -180						; size = 4
tv147 = -180						; size = 4
tv185 = -176						; size = 4
tv180 = -176						; size = 4
tv167 = -176						; size = 4
tv148 = -176						; size = 4
tv129 = -176						; size = 4
$T232843 = -172						; size = 4
$T232844 = -168						; size = 4
$T232845 = -164						; size = 4
$T232846 = -160						; size = 4
$T232847 = -156						; size = 4
$T232848 = -152						; size = 4
$T232849 = -148						; size = 4
$T232850 = -144						; size = 4
$T232851 = -140						; size = 4
$T232852 = -136						; size = 4
$T232853 = -132						; size = 4
$T232854 = -128						; size = 4
_lpMATTR$232254 = -60					; size = 4
_cY$232218 = -54					; size = 1
_cX$232217 = -53					; size = 1
_iMonsterType$232216 = -52				; size = 4
_btMapAttr$232215 = -45					; size = 1
_iMapNumber$232214 = -44				; size = 4
_iKalimaGateLevel$232213 = -40				; size = 4
_iMonsterIndex$ = -36					; size = 4
_bKalimaGateCreateSucceed$ = -32			; size = 4
_this$ = -28						; size = 4
__$SEHRec$ = -24					; size = 24
_iIndex$ = 8						; size = 4
_btLevel$ = 12						; size = 1
_cTX$ = 16						; size = 1
_cTY$ = 20						; size = 1
?CreateKalimaGate@CKalimaGate@@QAEHHEEE@Z PROC		; CKalimaGate::CreateKalimaGate
; _this$ = ecx

; 26   : {

  00060	55		 push	 ebp
  00061	8b ec		 mov	 ebp, esp
  00063	6a fe		 push	 -2			; fffffffeH
  00065	68 00 00 00 00	 push	 OFFSET __sehtable$?CreateKalimaGate@CKalimaGate@@QAEHHEEE@Z
  0006a	68 00 00 00 00	 push	 OFFSET __except_handler4
  0006f	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00075	50		 push	 eax
  00076	81 c4 5c ff ff
	ff		 add	 esp, -164		; ffffff5cH
  0007c	53		 push	 ebx
  0007d	56		 push	 esi
  0007e	57		 push	 edi
  0007f	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00084	31 45 f8	 xor	 DWORD PTR __$SEHRec$[ebp+16], eax
  00087	33 c5		 xor	 eax, ebp
  00089	50		 push	 eax
  0008a	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  0008d	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00093	89 4d e4	 mov	 DWORD PTR _this$[ebp], ecx

; 27   : 	BOOL bKalimaGateCreateSucceed=FALSE;

  00096	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _bKalimaGateCreateSucceed$[ebp], 0

; 28   : 	int iMonsterIndex=-1;

  0009d	c7 45 dc ff ff
	ff ff		 mov	 DWORD PTR _iMonsterIndex$[ebp], -1

; 29   : 
; 30   : 	
; 31   : 	EnterCriticalSection(&this->m_critKalimaGate );

  000a4	8b 45 e4	 mov	 eax, DWORD PTR _this$[ebp]
  000a7	83 c0 04	 add	 eax, 4
  000aa	50		 push	 eax
  000ab	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnterCriticalSection@4

; 32   : 	
; 33   : 	__try

  000b1	9b		 fwait
  000b2	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$SEHRec$[ebp+20], 0

; 34   : 	{
; 35   : 		int iKalimaGateLevel;
; 36   : 		int iMapNumber;
; 37   : 		BYTE btMapAttr;
; 38   : 		int iMonsterType;
; 39   : 		BYTE cX;
; 40   : 		BYTE cY;
; 41   : 
; 42   : 		if ( gObjIsConnected(iIndex) == PLAYER_EMPTY )

  000b9	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  000bc	50		 push	 eax
  000bd	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  000c2	83 c4 04	 add	 esp, 4
  000c5	85 c0		 test	 eax, eax
  000c7	75 29		 jne	 SHORT $LN14@CreateKali

; 43   : 		{
; 44   : 			return false;

  000c9	c7 85 54 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR $T232843[ebp], 0
  000d3	6a fe		 push	 -2			; fffffffeH
  000d5	9b		 fwait
  000d6	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  000d9	50		 push	 eax
  000da	68 00 00 00 00	 push	 OFFSET ___security_cookie
  000df	e8 00 00 00 00	 call	 __local_unwind4
  000e4	83 c4 0c	 add	 esp, 12			; 0000000cH
  000e7	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR $T232843[ebp]
  000ed	e9 16 0b 00 00	 jmp	 $LN16@CreateKali
$LN14@CreateKali:

; 45   : 		}
; 46   : 
; 47   : 		LogAddTD("[Kalima] [%s][%s] Try to Create Kalima Gate", gObj[iIndex].AccountID, gObj[iIndex].Name);

  000f2	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  000f5	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  000fb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00101	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  00105	52		 push	 edx
  00106	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00109	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0010f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00115	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  00119	52		 push	 edx
  0011a	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@PDFGAPNC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@
  0011f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00125	83 c4 0c	 add	 esp, 12			; 0000000cH

; 48   : 		iKalimaGateLevel = this->GetKalimaGateLevel(iIndex);

  00128	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0012b	50		 push	 eax
  0012c	8b 4d e4	 mov	 ecx, DWORD PTR _this$[ebp]
  0012f	e8 00 00 00 00	 call	 ?GetKalimaGateLevel@CKalimaGate@@AAEHH@Z ; CKalimaGate::GetKalimaGateLevel
  00134	89 45 d8	 mov	 DWORD PTR _iKalimaGateLevel$232213[ebp], eax

; 49   : 
; 50   : 		if ( iKalimaGateLevel < btLevel-1 )

  00137	0f b6 45 0c	 movzx	 eax, BYTE PTR _btLevel$[ebp]
  0013b	83 e8 01	 sub	 eax, 1
  0013e	39 45 d8	 cmp	 DWORD PTR _iKalimaGateLevel$232213[ebp], eax
  00141	7d 29		 jge	 SHORT $LN13@CreateKali

; 51   : 		{
; 52   : 			return false;

  00143	c7 85 58 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR $T232844[ebp], 0
  0014d	6a fe		 push	 -2			; fffffffeH
  0014f	9b		 fwait
  00150	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  00153	50		 push	 eax
  00154	68 00 00 00 00	 push	 OFFSET ___security_cookie
  00159	e8 00 00 00 00	 call	 __local_unwind4
  0015e	83 c4 0c	 add	 esp, 12			; 0000000cH
  00161	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR $T232844[ebp]
  00167	e9 9c 0a 00 00	 jmp	 $LN16@CreateKali
$LN13@CreateKali:

; 53   : 		}
; 54   : 
; 55   : 		iKalimaGateLevel = btLevel-1;

  0016c	0f b6 45 0c	 movzx	 eax, BYTE PTR _btLevel$[ebp]
  00170	83 e8 01	 sub	 eax, 1
  00173	89 45 d8	 mov	 DWORD PTR _iKalimaGateLevel$232213[ebp], eax

; 56   : 
; 57   : 		if (  DS_MAP_RANGE(gObj[iIndex].MapNumber) )

  00176	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00179	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0017f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00185	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0018d	83 fa 09	 cmp	 edx, 9
  00190	75 0c		 jne	 SHORT $LN18@CreateKali
  00192	c7 85 50 ff ff
	ff 01 00 00 00	 mov	 DWORD PTR tv129[ebp], 1
  0019c	eb 25		 jmp	 SHORT $LN19@CreateKali
$LN18@CreateKali:
  0019e	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  001a1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  001a7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001ad	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  001b5	33 c0		 xor	 eax, eax
  001b7	83 fa 20	 cmp	 edx, 32			; 00000020H
  001ba	0f 94 c0	 sete	 al
  001bd	89 85 50 ff ff
	ff		 mov	 DWORD PTR tv129[ebp], eax
$LN19@CreateKali:
  001c3	83 bd 50 ff ff
	ff 00		 cmp	 DWORD PTR tv129[ebp], 0
  001ca	74 29		 je	 SHORT $LN12@CreateKali

; 58   : 		{
; 59   : 			return false;

  001cc	c7 85 5c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR $T232845[ebp], 0
  001d6	6a fe		 push	 -2			; fffffffeH
  001d8	9b		 fwait
  001d9	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  001dc	50		 push	 eax
  001dd	68 00 00 00 00	 push	 OFFSET ___security_cookie
  001e2	e8 00 00 00 00	 call	 __local_unwind4
  001e7	83 c4 0c	 add	 esp, 12			; 0000000cH
  001ea	8b 85 5c ff ff
	ff		 mov	 eax, DWORD PTR $T232845[ebp]
  001f0	e9 13 0a 00 00	 jmp	 $LN16@CreateKali
$LN12@CreateKali:

; 60   : 		}
; 61   : 
; 62   : 		if ( BC_MAP_RANGE(gObj[iIndex].MapNumber) )

  001f5	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  001f8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  001fe	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00204	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0020c	83 fa 34	 cmp	 edx, 52			; 00000034H
  0020f	75 0c		 jne	 SHORT $LN22@CreateKali
  00211	c7 85 50 ff ff
	ff 01 00 00 00	 mov	 DWORD PTR tv148[ebp], 1
  0021b	eb 59		 jmp	 SHORT $LN23@CreateKali
$LN22@CreateKali:
  0021d	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00220	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00226	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0022c	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  00234	83 fa 0b	 cmp	 edx, 11			; 0000000bH
  00237	7d 0c		 jge	 SHORT $LN20@CreateKali
  00239	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv147[ebp], 0
  00243	eb 25		 jmp	 SHORT $LN21@CreateKali
$LN20@CreateKali:
  00245	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00248	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0024e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00254	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0025c	33 c0		 xor	 eax, eax
  0025e	83 fa 11	 cmp	 edx, 17			; 00000011H
  00261	0f 9e c0	 setle	 al
  00264	89 85 4c ff ff
	ff		 mov	 DWORD PTR tv147[ebp], eax
$LN21@CreateKali:
  0026a	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR tv147[ebp]
  00270	89 8d 50 ff ff
	ff		 mov	 DWORD PTR tv148[ebp], ecx
$LN23@CreateKali:
  00276	83 bd 50 ff ff
	ff 00		 cmp	 DWORD PTR tv148[ebp], 0
  0027d	74 29		 je	 SHORT $LN11@CreateKali

; 63   : 		{
; 64   : 			return false;

  0027f	c7 85 60 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR $T232846[ebp], 0
  00289	6a fe		 push	 -2			; fffffffeH
  0028b	9b		 fwait
  0028c	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  0028f	50		 push	 eax
  00290	68 00 00 00 00	 push	 OFFSET ___security_cookie
  00295	e8 00 00 00 00	 call	 __local_unwind4
  0029a	83 c4 0c	 add	 esp, 12			; 0000000cH
  0029d	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR $T232846[ebp]
  002a3	e9 60 09 00 00	 jmp	 $LN16@CreateKali
$LN11@CreateKali:

; 65   : 		}
; 66   : 
; 67   : 		if ( CC_MAP_RANGE(gObj[iIndex].MapNumber) )

  002a8	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  002ab	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  002b1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002b7	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  002bf	83 fa 35	 cmp	 edx, 53			; 00000035H
  002c2	75 0c		 jne	 SHORT $LN26@CreateKali
  002c4	c7 85 50 ff ff
	ff 01 00 00 00	 mov	 DWORD PTR tv167[ebp], 1
  002ce	eb 59		 jmp	 SHORT $LN27@CreateKali
$LN26@CreateKali:
  002d0	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  002d3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  002d9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002df	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  002e7	83 fa 12	 cmp	 edx, 18			; 00000012H
  002ea	7d 0c		 jge	 SHORT $LN24@CreateKali
  002ec	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv166[ebp], 0
  002f6	eb 25		 jmp	 SHORT $LN25@CreateKali
$LN24@CreateKali:
  002f8	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  002fb	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00301	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00307	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0030f	33 c0		 xor	 eax, eax
  00311	83 fa 17	 cmp	 edx, 23			; 00000017H
  00314	0f 9e c0	 setle	 al
  00317	89 85 4c ff ff
	ff		 mov	 DWORD PTR tv166[ebp], eax
$LN25@CreateKali:
  0031d	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR tv166[ebp]
  00323	89 8d 50 ff ff
	ff		 mov	 DWORD PTR tv167[ebp], ecx
$LN27@CreateKali:
  00329	83 bd 50 ff ff
	ff 00		 cmp	 DWORD PTR tv167[ebp], 0
  00330	74 29		 je	 SHORT $LN10@CreateKali

; 68   : 		{
; 69   : 			return false;

  00332	c7 85 64 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR $T232847[ebp], 0
  0033c	6a fe		 push	 -2			; fffffffeH
  0033e	9b		 fwait
  0033f	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  00342	50		 push	 eax
  00343	68 00 00 00 00	 push	 OFFSET ___security_cookie
  00348	e8 00 00 00 00	 call	 __local_unwind4
  0034d	83 c4 0c	 add	 esp, 12			; 0000000cH
  00350	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR $T232847[ebp]
  00356	e9 ad 08 00 00	 jmp	 $LN16@CreateKali
$LN10@CreateKali:

; 70   : 		}
; 71   : 
; 72   : 		if ( IT_MAP_RANGE(gObj[iIndex].MapNumber) )//4.5

  0035b	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0035e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00364	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0036a	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  00372	83 fa 2d	 cmp	 edx, 45			; 0000002dH
  00375	7d 0c		 jge	 SHORT $LN28@CreateKali
  00377	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv180[ebp], 0
  00381	eb 25		 jmp	 SHORT $LN29@CreateKali
$LN28@CreateKali:
  00383	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00386	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0038c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00392	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0039a	33 c0		 xor	 eax, eax
  0039c	83 fa 32	 cmp	 edx, 50			; 00000032H
  0039f	0f 9e c0	 setle	 al
  003a2	89 85 50 ff ff
	ff		 mov	 DWORD PTR tv180[ebp], eax
$LN29@CreateKali:
  003a8	83 bd 50 ff ff
	ff 00		 cmp	 DWORD PTR tv180[ebp], 0
  003af	74 29		 je	 SHORT $LN9@CreateKali

; 73   : 		{
; 74   : 			return false;

  003b1	c7 85 68 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR $T232848[ebp], 0
  003bb	6a fe		 push	 -2			; fffffffeH
  003bd	9b		 fwait
  003be	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  003c1	50		 push	 eax
  003c2	68 00 00 00 00	 push	 OFFSET ___security_cookie
  003c7	e8 00 00 00 00	 call	 __local_unwind4
  003cc	83 c4 0c	 add	 esp, 12			; 0000000cH
  003cf	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR $T232848[ebp]
  003d5	e9 2e 08 00 00	 jmp	 $LN16@CreateKali
$LN9@CreateKali:

; 75   : 		}
; 76   : #ifdef IMPERIAL_CONFLICT_NEW
; 77   : 		if( CImperialGuardian::IsEventMap(gObj[iIndex].MapNumber) )
; 78   : 		{
; 79   : 			return false;
; 80   : 		}
; 81   : #endif
; 82   : 
; 83   : 		if ( KALIMA_FLOOR_RANGE(iKalimaGateLevel)== FALSE )

  003da	83 7d d8 00	 cmp	 DWORD PTR _iKalimaGateLevel$232213[ebp], 0
  003de	7d 0c		 jge	 SHORT $LN30@CreateKali
  003e0	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv185[ebp], 0
  003ea	eb 0f		 jmp	 SHORT $LN31@CreateKali
$LN30@CreateKali:
  003ec	33 c0		 xor	 eax, eax
  003ee	83 7d d8 06	 cmp	 DWORD PTR _iKalimaGateLevel$232213[ebp], 6
  003f2	0f 9e c0	 setle	 al
  003f5	89 85 50 ff ff
	ff		 mov	 DWORD PTR tv185[ebp], eax
$LN31@CreateKali:
  003fb	83 bd 50 ff ff
	ff 00		 cmp	 DWORD PTR tv185[ebp], 0
  00402	75 66		 jne	 SHORT $LN8@CreateKali

; 84   : 		{
; 85   : 			LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate - Gate Level Check Error : %d",
; 86   : 				gObj[iIndex].AccountID, gObj[iIndex].Name, iKalimaGateLevel+1);

  00404	8b 45 d8	 mov	 eax, DWORD PTR _iKalimaGateLevel$232213[ebp]
  00407	83 c0 01	 add	 eax, 1
  0040a	50		 push	 eax
  0040b	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  0040e	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00414	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0041a	8d 44 0a 77	 lea	 eax, DWORD PTR [edx+ecx+119]
  0041e	50		 push	 eax
  0041f	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  00422	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00428	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0042e	8d 44 0a 6c	 lea	 eax, DWORD PTR [edx+ecx+108]
  00432	50		 push	 eax
  00433	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@GPHOBJAE@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
  00438	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0043e	83 c4 10	 add	 esp, 16			; 00000010H

; 87   : 			return false;

  00441	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR $T232849[ebp], 0
  0044b	6a fe		 push	 -2			; fffffffeH
  0044d	9b		 fwait
  0044e	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  00451	50		 push	 eax
  00452	68 00 00 00 00	 push	 OFFSET ___security_cookie
  00457	e8 00 00 00 00	 call	 __local_unwind4
  0045c	83 c4 0c	 add	 esp, 12			; 0000000cH
  0045f	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR $T232849[ebp]
  00465	e9 9e 07 00 00	 jmp	 $LN16@CreateKali
$LN8@CreateKali:

; 88   : 		}
; 89   : 
; 90   : 		iMapNumber = gObj[iIndex].MapNumber;

  0046a	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0046d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00473	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00479	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  00481	89 55 d4	 mov	 DWORD PTR _iMapNumber$232214[ebp], edx

; 91   : 
; 92   : 		btMapAttr = MapC[iMapNumber].GetAttr(gObj[iIndex].X, gObj[iIndex].Y);

  00484	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00487	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0048d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00493	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0049b	52		 push	 edx
  0049c	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0049f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  004a5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004ab	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  004b3	52		 push	 edx
  004b4	8b 4d d4	 mov	 ecx, DWORD PTR _iMapNumber$232214[ebp]
  004b7	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  004bd	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  004c3	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  004c8	88 45 d3	 mov	 BYTE PTR _btMapAttr$232215[ebp], al

; 93   : 
; 94   : 		if ( btMapAttr &1 != 0 )

  004cb	0f b6 45 d3	 movzx	 eax, BYTE PTR _btMapAttr$232215[ebp]
  004cf	83 e0 01	 and	 eax, 1
  004d2	0f 84 a7 00 00
	00		 je	 $LN7@CreateKali

; 95   : 		{
; 96   : 			LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate - Called in Saftey Area (Map:%d, X:%d, Y:%d)",
; 97   : 				gObj[iIndex].AccountID, gObj[iIndex].Name, gObj[iIndex].MapNumber,
; 98   : 				gObj[iIndex].X, gObj[iIndex].Y);

  004d8	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  004db	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  004e1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004e7	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  004ef	52		 push	 edx
  004f0	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  004f3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  004f9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004ff	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  00507	52		 push	 edx
  00508	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0050b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00511	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00517	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0051f	52		 push	 edx
  00520	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00523	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00529	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0052f	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  00533	52		 push	 edx
  00534	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00537	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0053d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00543	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  00547	52		 push	 edx
  00548	68 00 00 00 00	 push	 OFFSET ??_C@_0FM@IGFLMFGN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
  0054d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00553	83 c4 18	 add	 esp, 24			; 00000018H

; 99   : 			return false;

  00556	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR $T232850[ebp], 0
  00560	6a fe		 push	 -2			; fffffffeH
  00562	9b		 fwait
  00563	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  00566	50		 push	 eax
  00567	68 00 00 00 00	 push	 OFFSET ___security_cookie
  0056c	e8 00 00 00 00	 call	 __local_unwind4
  00571	83 c4 0c	 add	 esp, 12			; 0000000cH
  00574	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR $T232850[ebp]
  0057a	e9 89 06 00 00	 jmp	 $LN16@CreateKali
$LN7@CreateKali:

; 100  : 		}
; 101  : 
; 102  : 		if ( gObj[iIndex].m_cKalimaGateExist == TRUE )

  0057f	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00582	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00588	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0058e	0f be 94 01 ca
	03 00 00	 movsx	 edx, BYTE PTR [ecx+eax+970]
  00596	83 fa 01	 cmp	 edx, 1
  00599	0f 85 94 00 00
	00		 jne	 $LN6@CreateKali

; 103  : 		{
; 104  : 			GCServerMsgStringSend(lMsg.Get( MSGGET( 4, 224)), iIndex, 1);

  0059f	6a 01		 push	 1
  005a1	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  005a4	50		 push	 eax
  005a5	68 e0 04 00 00	 push	 1248			; 000004e0H
  005aa	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  005af	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  005b4	50		 push	 eax
  005b5	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  005ba	83 c4 0c	 add	 esp, 12			; 0000000cH

; 105  : 			LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate - Already Have Gate (SummonIndex:%d)",
; 106  : 				gObj[iIndex].AccountID, gObj[iIndex].Name, gObj[iIndex].m_iKalimaGateIndex);

  005bd	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  005c0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  005c6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  005cc	8b 94 01 cc 03
	00 00		 mov	 edx, DWORD PTR [ecx+eax+972]
  005d3	52		 push	 edx
  005d4	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  005d7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  005dd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  005e3	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  005e7	52		 push	 edx
  005e8	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  005eb	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  005f1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  005f7	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  005fb	52		 push	 edx
  005fc	68 00 00 00 00	 push	 OFFSET ??_C@_0FE@NNCGKIKM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
  00601	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00607	83 c4 10	 add	 esp, 16			; 00000010H

; 107  : 			return false;

  0060a	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR $T232851[ebp], 0
  00614	6a fe		 push	 -2			; fffffffeH
  00616	9b		 fwait
  00617	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  0061a	50		 push	 eax
  0061b	68 00 00 00 00	 push	 OFFSET ___security_cookie
  00620	e8 00 00 00 00	 call	 __local_unwind4
  00625	83 c4 0c	 add	 esp, 12			; 0000000cH
  00628	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR $T232851[ebp]
  0062e	e9 d5 05 00 00	 jmp	 $LN16@CreateKali
$LN6@CreateKali:

; 108  : 		}
; 109  : 
; 110  : 		iMonsterType = iKalimaGateLevel+152;

  00633	8b 45 d8	 mov	 eax, DWORD PTR _iKalimaGateLevel$232213[ebp]
  00636	05 98 00 00 00	 add	 eax, 152		; 00000098H
  0063b	89 45 cc	 mov	 DWORD PTR _iMonsterType$232216[ebp], eax

; 111  : 		cX = cTX;

  0063e	8a 45 10	 mov	 al, BYTE PTR _cTX$[ebp]
  00641	88 45 cb	 mov	 BYTE PTR _cX$232217[ebp], al

; 112  : 		cY = cTY;

  00644	8a 45 14	 mov	 al, BYTE PTR _cTY$[ebp]
  00647	88 45 ca	 mov	 BYTE PTR _cY$232218[ebp], al

; 113  : 
; 114  : 		btMapAttr = MapC[iMapNumber].GetAttr(cX, cY);

  0064a	0f b6 45 ca	 movzx	 eax, BYTE PTR _cY$232218[ebp]
  0064e	50		 push	 eax
  0064f	0f b6 4d cb	 movzx	 ecx, BYTE PTR _cX$232217[ebp]
  00653	51		 push	 ecx
  00654	8b 4d d4	 mov	 ecx, DWORD PTR _iMapNumber$232214[ebp]
  00657	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  0065d	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00663	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  00668	88 45 d3	 mov	 BYTE PTR _btMapAttr$232215[ebp], al

; 115  : 
; 116  : 		if ( btMapAttr != 0 )

  0066b	0f b6 45 d3	 movzx	 eax, BYTE PTR _btMapAttr$232215[ebp]
  0066f	85 c0		 test	 eax, eax
  00671	0f 84 96 00 00
	00		 je	 $LN4@CreateKali

; 117  : 		{
; 118  : 			if (this->GetRandomLocation(iMapNumber, cX, cY) == 0)

  00677	8d 45 ca	 lea	 eax, DWORD PTR _cY$232218[ebp]
  0067a	50		 push	 eax
  0067b	8d 4d cb	 lea	 ecx, DWORD PTR _cX$232217[ebp]
  0067e	51		 push	 ecx
  0067f	8b 55 d4	 mov	 edx, DWORD PTR _iMapNumber$232214[ebp]
  00682	52		 push	 edx
  00683	8b 4d e4	 mov	 ecx, DWORD PTR _this$[ebp]
  00686	e8 00 00 00 00	 call	 ?GetRandomLocation@CKalimaGate@@AAEHHAAE0@Z ; CKalimaGate::GetRandomLocation
  0068b	85 c0		 test	 eax, eax
  0068d	75 7e		 jne	 SHORT $LN4@CreateKali

; 119  : 			{
; 120  : 			LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate - Failed to get Location (MapNumber:%d, X:%d, Y:%d)",
; 121  : 				gObj[iIndex].AccountID, gObj[iIndex].Name, gObj[iIndex].MapNumber, cX, cY);

  0068f	0f b6 45 ca	 movzx	 eax, BYTE PTR _cY$232218[ebp]
  00693	50		 push	 eax
  00694	0f b6 4d cb	 movzx	 ecx, BYTE PTR _cX$232217[ebp]
  00698	51		 push	 ecx
  00699	8b 55 08	 mov	 edx, DWORD PTR _iIndex$[ebp]
  0069c	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  006a2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  006a7	0f b6 8c 10 49
	01 00 00	 movzx	 ecx, BYTE PTR [eax+edx+329]
  006af	51		 push	 ecx
  006b0	8b 55 08	 mov	 edx, DWORD PTR _iIndex$[ebp]
  006b3	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  006b9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  006be	8d 4c 10 77	 lea	 ecx, DWORD PTR [eax+edx+119]
  006c2	51		 push	 ecx
  006c3	8b 55 08	 mov	 edx, DWORD PTR _iIndex$[ebp]
  006c6	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  006cc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  006d1	8d 4c 10 6c	 lea	 ecx, DWORD PTR [eax+edx+108]
  006d5	51		 push	 ecx
  006d6	68 00 00 00 00	 push	 OFFSET ??_C@_0GD@BNDCCFJF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
  006db	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  006e1	83 c4 18	 add	 esp, 24			; 00000018H

; 122  : 			return false;

  006e4	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR $T232852[ebp], 0
  006ee	6a fe		 push	 -2			; fffffffeH
  006f0	9b		 fwait
  006f1	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  006f4	50		 push	 eax
  006f5	68 00 00 00 00	 push	 OFFSET ___security_cookie
  006fa	e8 00 00 00 00	 call	 __local_unwind4
  006ff	83 c4 0c	 add	 esp, 12			; 0000000cH
  00702	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR $T232852[ebp]
  00708	e9 fb 04 00 00	 jmp	 $LN16@CreateKali
$LN4@CreateKali:

; 123  : 			}
; 124  : 		}
; 125  : 
; 126  : 		if ( gObj[iIndex].MapNumber == 10 )

  0070d	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00710	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00716	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0071c	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  00724	83 fa 0a	 cmp	 edx, 10			; 0000000aH
  00727	75 77		 jne	 SHORT $LN3@CreateKali

; 127  : 		{
; 128  : 			LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate - Uable to Summon in this Map (MapNumber:%d)",
; 129  : 				gObj[iIndex].AccountID, gObj[iIndex].Name, gObj[iIndex].MapNumber);

  00729	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0072c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00732	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00738	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  00740	52		 push	 edx
  00741	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00744	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0074a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00750	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  00754	52		 push	 edx
  00755	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00758	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0075e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00764	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  00768	52		 push	 edx
  00769	68 00 00 00 00	 push	 OFFSET ??_C@_0FM@OJLJJEMN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
  0076e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00774	83 c4 10	 add	 esp, 16			; 00000010H

; 130  : 			return false;

  00777	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR $T232853[ebp], 0
  00781	6a fe		 push	 -2			; fffffffeH
  00783	9b		 fwait
  00784	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  00787	50		 push	 eax
  00788	68 00 00 00 00	 push	 OFFSET ___security_cookie
  0078d	e8 00 00 00 00	 call	 __local_unwind4
  00792	83 c4 0c	 add	 esp, 12			; 0000000cH
  00795	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR $T232853[ebp]
  0079b	e9 68 04 00 00	 jmp	 $LN16@CreateKali
$LN3@CreateKali:

; 131  : 		}
; 132  : 
; 133  : 		iMonsterIndex = gObjAddMonster(iMapNumber);

  007a0	8b 45 d4	 mov	 eax, DWORD PTR _iMapNumber$232214[ebp]
  007a3	50		 push	 eax
  007a4	e8 00 00 00 00	 call	 ?gObjAddMonster@@YAFH@Z	; gObjAddMonster
  007a9	83 c4 04	 add	 esp, 4
  007ac	0f bf c8	 movsx	 ecx, ax
  007af	89 4d dc	 mov	 DWORD PTR _iMonsterIndex$[ebp], ecx

; 134  : 
; 135  : 		if ( iMonsterIndex >= 0 )

  007b2	83 7d dc 00	 cmp	 DWORD PTR _iMonsterIndex$[ebp], 0
  007b6	0f 8c 2a 04 00
	00		 jl	 $LN2@CreateKali

; 136  : 		{
; 137  : 			LPMONSTER_ATTRIBUTE lpMATTR = gMAttr.GetAttr(iMonsterType);

  007bc	8b 45 cc	 mov	 eax, DWORD PTR _iMonsterType$232216[ebp]
  007bf	50		 push	 eax
  007c0	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  007c5	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr
  007ca	89 45 c4	 mov	 DWORD PTR _lpMATTR$232254[ebp], eax

; 138  : 			
; 139  : 			if ( lpMATTR == NULL )

  007cd	83 7d c4 00	 cmp	 DWORD PTR _lpMATTR$232254[ebp], 0
  007d1	75 69		 jne	 SHORT $LN1@CreateKali

; 140  : 			{
; 141  : 				gObjDel(iMonsterIndex);

  007d3	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  007d6	50		 push	 eax
  007d7	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  007dc	83 c4 04	 add	 esp, 4

; 142  : 				LogAddTD("[Kalima] [%s][%s] Kalima Gate Vanished - lpMATTR == NULL (SummonIndex:%d)",
; 143  : 					gObj[iIndex].AccountID, gObj[iIndex].Name, iMonsterIndex);

  007df	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  007e2	50		 push	 eax
  007e3	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  007e6	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  007ec	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  007f2	8d 44 0a 77	 lea	 eax, DWORD PTR [edx+ecx+119]
  007f6	50		 push	 eax
  007f7	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  007fa	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00800	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00806	8d 44 0a 6c	 lea	 eax, DWORD PTR [edx+ecx+108]
  0080a	50		 push	 eax
  0080b	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@OMOPGPDM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
  00810	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00816	83 c4 10	 add	 esp, 16			; 00000010H

; 144  : 				return false;

  00819	c7 45 80 00 00
	00 00		 mov	 DWORD PTR $T232854[ebp], 0
  00820	6a fe		 push	 -2			; fffffffeH
  00822	9b		 fwait
  00823	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  00826	50		 push	 eax
  00827	68 00 00 00 00	 push	 OFFSET ___security_cookie
  0082c	e8 00 00 00 00	 call	 __local_unwind4
  00831	83 c4 0c	 add	 esp, 12			; 0000000cH
  00834	8b 45 80	 mov	 eax, DWORD PTR $T232854[ebp]
  00837	e9 cc 03 00 00	 jmp	 $LN16@CreateKali
$LN1@CreateKali:

; 145  : 			}
; 146  : 
; 147  : 			gObjSetMonster(iMonsterIndex, iMonsterType);

  0083c	8b 45 cc	 mov	 eax, DWORD PTR _iMonsterType$232216[ebp]
  0083f	50		 push	 eax
  00840	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  00843	51		 push	 ecx
  00844	e8 00 00 00 00	 call	 ?gObjSetMonster@@YAHHH@Z ; gObjSetMonster
  00849	83 c4 08	 add	 esp, 8

; 148  : 			gObj[iMonsterIndex].Live = TRUE;

  0084c	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  0084f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00855	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0085b	c6 44 01 6a 01	 mov	 BYTE PTR [ecx+eax+106], 1

; 149  : 			gObj[iMonsterIndex].Life = 1000.0;

  00860	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00863	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00869	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0086f	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@447a0000
  00875	d9 9c 01 fc 00
	00 00		 fstp	 DWORD PTR [ecx+eax+252]

; 150  : 			gObj[iMonsterIndex].MaxLife = 1000.0;

  0087c	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  0087f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00885	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0088b	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@447a0000
  00891	d9 9c 01 00 01
	00 00		 fstp	 DWORD PTR [ecx+eax+256]

; 151  : 			gObj[iMonsterIndex].m_PosNum = -1;

  00898	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  0089b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  008a1	83 c9 ff	 or	 ecx, -1
  008a4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  008aa	66 89 8c 02 b0
	03 00 00	 mov	 WORD PTR [edx+eax+944], cx

; 152  : 			gObj[iMonsterIndex].X = cX;

  008b2	66 0f b6 45 cb	 movzx	 ax, BYTE PTR _cX$232217[ebp]
  008b7	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  008ba	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  008c0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  008c6	66 89 84 0a 44
	01 00 00	 mov	 WORD PTR [edx+ecx+324], ax

; 153  : 			gObj[iMonsterIndex].Y = cY;

  008ce	66 0f b6 45 ca	 movzx	 ax, BYTE PTR _cY$232218[ebp]
  008d3	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  008d6	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  008dc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  008e2	66 89 84 0a 46
	01 00 00	 mov	 WORD PTR [edx+ecx+326], ax

; 154  : 			gObj[iMonsterIndex].MTX = cX;

  008ea	66 0f b6 45 cb	 movzx	 ax, BYTE PTR _cX$232217[ebp]
  008ef	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  008f2	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  008f8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  008fe	66 89 84 0a 80
	01 00 00	 mov	 WORD PTR [edx+ecx+384], ax

; 155  : 			gObj[iMonsterIndex].MTY = cY;

  00906	66 0f b6 45 ca	 movzx	 ax, BYTE PTR _cY$232218[ebp]
  0090b	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  0090e	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00914	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0091a	66 89 84 0a 82
	01 00 00	 mov	 WORD PTR [edx+ecx+386], ax

; 156  : 			gObj[iMonsterIndex].TX = cX;

  00922	66 0f b6 45 cb	 movzx	 ax, BYTE PTR _cX$232217[ebp]
  00927	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  0092a	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00930	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00936	66 89 84 0a 7c
	01 00 00	 mov	 WORD PTR [edx+ecx+380], ax

; 157  : 			gObj[iMonsterIndex].TY = cY;

  0093e	66 0f b6 45 ca	 movzx	 ax, BYTE PTR _cY$232218[ebp]
  00943	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  00946	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0094c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00952	66 89 84 0a 7e
	01 00 00	 mov	 WORD PTR [edx+ecx+382], ax

; 158  : 			gObj[iMonsterIndex].m_OldX = cX;

  0095a	66 0f b6 45 cb	 movzx	 ax, BYTE PTR _cX$232217[ebp]
  0095f	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  00962	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00968	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0096e	66 89 84 0a 78
	01 00 00	 mov	 WORD PTR [edx+ecx+376], ax

; 159  : 			gObj[iMonsterIndex].m_OldY = cY;

  00976	66 0f b6 45 ca	 movzx	 ax, BYTE PTR _cY$232218[ebp]
  0097b	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  0097e	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00984	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0098a	66 89 84 0a 7a
	01 00 00	 mov	 WORD PTR [edx+ecx+378], ax

; 160  : 			gObj[iMonsterIndex].StartX = cX;

  00992	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00995	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0099b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009a1	8a 55 cb	 mov	 dl, BYTE PTR _cX$232217[ebp]
  009a4	88 94 01 76 01
	00 00		 mov	 BYTE PTR [ecx+eax+374], dl

; 161  : 			gObj[iMonsterIndex].StartY = cY;

  009ab	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  009ae	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  009b4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009ba	8a 55 ca	 mov	 dl, BYTE PTR _cY$232218[ebp]
  009bd	88 94 01 77 01
	00 00		 mov	 BYTE PTR [ecx+eax+375], dl

; 162  : 			gObj[iMonsterIndex].MapNumber = iMapNumber;

  009c4	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  009c7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  009cd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009d3	8a 55 d4	 mov	 dl, BYTE PTR _iMapNumber$232214[ebp]
  009d6	88 94 01 49 01
	00 00		 mov	 BYTE PTR [ecx+eax+329], dl

; 163  : 			gObj[iMonsterIndex].m_MoveRange = 0;

  009dd	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  009e0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  009e6	33 c9		 xor	 ecx, ecx
  009e8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009ee	66 89 8c 02 ae
	04 00 00	 mov	 WORD PTR [edx+eax+1198], cx

; 164  : 			gObj[iMonsterIndex].m_cKalimaGateEnterCount = 0;

  009f6	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  009f9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  009ff	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a05	c6 84 01 d0 03
	00 00 00	 mov	 BYTE PTR [ecx+eax+976], 0

; 165  : 
; 166  : 			gObj[iIndex].m_cKalimaGateExist = TRUE;

  00a0d	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00a10	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00a16	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a1c	c6 84 01 ca 03
	00 00 01	 mov	 BYTE PTR [ecx+eax+970], 1

; 167  : 			gObj[iIndex].m_iKalimaGateIndex = iMonsterIndex;

  00a24	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00a27	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00a2d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a33	8b 55 dc	 mov	 edx, DWORD PTR _iMonsterIndex$[ebp]
  00a36	89 94 01 cc 03
	00 00		 mov	 DWORD PTR [ecx+eax+972], edx

; 168  : 
; 169  : 			gObj[iMonsterIndex].Level = lpMATTR->m_Level;

  00a3d	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00a40	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00a46	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a4c	8b 55 c4	 mov	 edx, DWORD PTR _lpMATTR$232254[ebp]
  00a4f	66 8b 52 1c	 mov	 dx, WORD PTR [edx+28]
  00a53	66 89 94 01 be
	00 00 00	 mov	 WORD PTR [ecx+eax+190], dx

; 170  : 			gObj[iMonsterIndex].Type = OBJ_MONSTER;

  00a5b	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00a5e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00a64	b9 02 00 00 00	 mov	 ecx, 2
  00a69	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a6f	66 89 4c 02 68	 mov	 WORD PTR [edx+eax+104], cx

; 171  : 			gObj[iMonsterIndex].MaxRegenTime = 1000;

  00a74	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00a77	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00a7d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a83	c7 84 01 ac 03
	00 00 e8 03 00
	00		 mov	 DWORD PTR [ecx+eax+940], 1000 ; 000003e8H

; 172  : 			gObj[iMonsterIndex].Dir = 1;

  00a8e	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00a91	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00a97	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a9d	c6 84 01 48 01
	00 00 01	 mov	 BYTE PTR [ecx+eax+328], 1

; 173  : 
; 174  : 			gObj[iMonsterIndex].m_RecallMon = iIndex;

  00aa5	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00aa8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00aae	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00ab4	8b 55 08	 mov	 edx, DWORD PTR _iIndex$[ebp]
  00ab7	89 94 01 50 04
	00 00		 mov	 DWORD PTR [ecx+eax+1104], edx

; 175  : 			gObj[iMonsterIndex].RegenTime = GetTickCount();

  00abe	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  00ac4	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  00ac7	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00acd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00ad3	89 84 0a a8 03
	00 00		 mov	 DWORD PTR [edx+ecx+936], eax

; 176  : 			gObj[iMonsterIndex].m_Attribute = iKalimaGateLevel + 51;

  00ada	8b 45 d8	 mov	 eax, DWORD PTR _iKalimaGateLevel$232213[ebp]
  00add	83 c0 33	 add	 eax, 51			; 00000033H
  00ae0	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  00ae3	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00ae9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00aef	66 89 84 0a b6
	04 00 00	 mov	 WORD PTR [edx+ecx+1206], ax

; 177  : 			gObj[iMonsterIndex].DieRegen = FALSE;

  00af7	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00afa	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b00	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b06	c6 84 01 a2 03
	00 00 00	 mov	 BYTE PTR [ecx+eax+930], 0

; 178  : 			
; 179  : 			LogAddTD("[Kalima] [%s][%s] Create Kalima Gate Successfuly (Live:%d, GateTick:%u, DieRegen:%d, Map:%d, X:%d, Y:%d, SummonIndex:%d, OwnerIndex:%d, GateNo.:%d)",
; 180  : 				gObj[iIndex].AccountID, gObj[iIndex].Name, gObj[iMonsterIndex].Live, gObj[iMonsterIndex].RegenTime,
; 181  : 				gObj[iMonsterIndex].DieRegen, gObj[iMonsterIndex].MapNumber, gObj[iMonsterIndex].X,
; 182  : 				gObj[iMonsterIndex].Y, iMonsterIndex, iIndex, iKalimaGateLevel+1);

  00b0e	8b 45 d8	 mov	 eax, DWORD PTR _iKalimaGateLevel$232213[ebp]
  00b11	83 c0 01	 add	 eax, 1
  00b14	50		 push	 eax
  00b15	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  00b18	51		 push	 ecx
  00b19	8b 55 dc	 mov	 edx, DWORD PTR _iMonsterIndex$[ebp]
  00b1c	52		 push	 edx
  00b1d	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00b20	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b26	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b2c	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  00b34	52		 push	 edx
  00b35	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00b38	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b3e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b44	0f bf 94 01 44
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+324]
  00b4c	52		 push	 edx
  00b4d	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00b50	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b56	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b5c	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  00b64	52		 push	 edx
  00b65	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00b68	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b6e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b74	0f be 94 01 a2
	03 00 00	 movsx	 edx, BYTE PTR [ecx+eax+930]
  00b7c	52		 push	 edx
  00b7d	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00b80	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b86	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b8c	8b 94 01 a8 03
	00 00		 mov	 edx, DWORD PTR [ecx+eax+936]
  00b93	52		 push	 edx
  00b94	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  00b97	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b9d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00ba3	0f b6 54 01 6a	 movzx	 edx, BYTE PTR [ecx+eax+106]
  00ba8	52		 push	 edx
  00ba9	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00bac	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00bb2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00bb8	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  00bbc	52		 push	 edx
  00bbd	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00bc0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00bc6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00bcc	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  00bd0	52		 push	 edx
  00bd1	68 00 00 00 00	 push	 OFFSET ??_C@_0JE@GBKKIBCM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@
  00bd6	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00bdc	83 c4 30	 add	 esp, 48			; 00000030H

; 183  : 			bKalimaGateCreateSucceed = TRUE;

  00bdf	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bKalimaGateCreateSucceed$[ebp], 1
$LN2@CreateKali:

; 184  : 		}
; 185  : 	}
; 186  : 	__finally

  00be6	9b		 fwait
  00be7	c7 45 fc fe ff
	ff ff		 mov	 DWORD PTR __$SEHRec$[ebp+20], -2 ; fffffffeH
  00bee	e8 02 00 00 00	 call	 $LN35@CreateKali
  00bf3	eb 0e		 jmp	 SHORT $LN36@CreateKali
$LN33@CreateKali:
$LN38@CreateKali:
$LN35@CreateKali:

; 187  : 	{
; 188  : 		LeaveCriticalSection(&this->m_critKalimaGate);

  00bf5	8b 45 e4	 mov	 eax, DWORD PTR _this$[ebp]
  00bf8	83 c0 04	 add	 eax, 4
  00bfb	50		 push	 eax
  00bfc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LeaveCriticalSection@4
$LN34@CreateKali:
$LN37@CreateKali:
  00c02	c3		 ret	 0
$LN36@CreateKali:

; 189  : 	}
; 190  : 
; 191  : 	return true;

  00c03	b8 01 00 00 00	 mov	 eax, 1
$LN16@CreateKali:

; 192  : }

  00c08	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  00c0b	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00c12	59		 pop	 ecx
  00c13	5f		 pop	 edi
  00c14	5e		 pop	 esi
  00c15	5b		 pop	 ebx
  00c16	8b e5		 mov	 esp, ebp
  00c18	5d		 pop	 ebp
  00c19	c2 10 00	 ret	 16			; 00000010H
?CreateKalimaGate@CKalimaGate@@QAEHHEEE@Z ENDP		; CKalimaGate::CreateKalimaGate
_TEXT	ENDS
PUBLIC	??_C@_0GD@MOAKLAME@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@ ; `string'
PUBLIC	??_C@_0DG@DFEBENJO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5mov@ ; `string'
PUBLIC	??_C@_0FC@CCIHPNEM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ ; `string'
PUBLIC	??_C@_0FK@FFJOIHJB@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ ; `string'
PUBLIC	?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z		; CKalimaGate::DeleteKalimaGate
PUBLIC	??_C@_0FH@INKPFMP@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ ; `string'
PUBLIC	??_C@_0FC@ILNKILMI@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?9?5@ ; `string'
PUBLIC	?KalimaGateAct@CKalimaGate@@QAEXH@Z		; CKalimaGate::KalimaGateAct
EXTRN	?gObjMoveGate@@YAHHH@Z:PROC			; gObjMoveGate
EXTRN	_abs:PROC
EXTRN	?gObjCharZeroSet@@YAXH@Z:PROC			; gObjCharZeroSet
EXTRN	?GCDiePlayerSend@@YAXPAUOBJECTSTRUCT@@HEH@Z:PROC ; GCDiePlayerSend
;	COMDAT ??_C@_0GD@MOAKLAME@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@
CONST	SEGMENT
??_C@_0GD@MOAKLAME@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@ DB '['
	DB	'Kalima] [%s][%s] - [%s][%s] Transported by Kalima Gate (Summo'
	DB	'nIndex:%d, GateNo.:%d, MapNumber:%d)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0DG@DFEBENJO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5mov@
CONST	SEGMENT
??_C@_0DG@DFEBENJO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5mov@ DB '['
	DB	'Kalima] [%s][%s] - [%s][%s] move fail (MapNumber:%d)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0FC@CCIHPNEM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
CONST	SEGMENT
??_C@_0FC@CCIHPNEM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ DB '['
	DB	'Kalima] [%s][%s] Kalima Gate Vanished - Time Out (SummonIndex'
	DB	':%d, EnterCount:%d)', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0FK@FFJOIHJB@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
CONST	SEGMENT
??_C@_0FK@FFJOIHJB@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ DB '['
	DB	'Kalima] [%s][%s] Kalima Gate Vanished - Enter Count Over (Sum'
	DB	'monIndex:%d, EnterCount:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0FH@INKPFMP@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
CONST	SEGMENT
??_C@_0FH@INKPFMP@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ DB '['
	DB	'Kalima] [%s][%s] Kalima Gate Vanished - Summoner Died (Summon'
	DB	'Index:%d, EnterCount:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0FC@ILNKILMI@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?9?5@
CONST	SEGMENT
??_C@_0FC@ILNKILMI@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?9?5@ DB '[Kal'
	DB	'ima] Kalima Gate Vanished - Summoner Vanished (SummonIndex:%d'
	DB	', EnterCount:%d)', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv67 = -108						; size = 4
_iOverLevel$232291 = -40				; size = 4
_iGateNumber$232290 = -36				; size = 4
_iMapNumber$232289 = -32				; size = 4
_iMoveMapLevel$232288 = -28				; size = 4
_i$232277 = -24						; size = 4
_tObjNum$ = -20						; size = 4
_dwTickCount$ = -16					; size = 4
_lpObjCallOwner$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_iIndex$ = 8						; size = 4
?KalimaGateAct@CKalimaGate@@QAEXH@Z PROC		; CKalimaGate::KalimaGateAct
; _this$ = ecx

; 201  : {

  00c20	55		 push	 ebp
  00c21	8b ec		 mov	 ebp, esp
  00c23	83 ec 6c	 sub	 esp, 108		; 0000006cH
  00c26	53		 push	 ebx
  00c27	56		 push	 esi
  00c28	57		 push	 edi
  00c29	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 202  : 	LPOBJ lpObj=NULL;

  00c2c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _lpObj$[ebp], 0

; 203  : 	LPOBJ lpObjCallOwner=NULL;

  00c33	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _lpObjCallOwner$[ebp], 0

; 204  : 
; 205  : 	if ( OBJMAX_RANGE(iIndex ) == FALSE)

  00c3a	83 7d 08 00	 cmp	 DWORD PTR _iIndex$[ebp], 0
  00c3e	7d 09		 jge	 SHORT $LN24@KalimaGate
  00c40	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  00c47	eb 0f		 jmp	 SHORT $LN25@KalimaGate
$LN24@KalimaGate:
  00c49	33 c0		 xor	 eax, eax
  00c4b	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _iIndex$[ebp], 14999 ; 00003a97H
  00c52	0f 9e c0	 setle	 al
  00c55	89 45 94	 mov	 DWORD PTR tv67[ebp], eax
$LN25@KalimaGate:
  00c58	83 7d 94 00	 cmp	 DWORD PTR tv67[ebp], 0
  00c5c	75 05		 jne	 SHORT $LN21@KalimaGate

; 206  : 	{
; 207  : 		return;

  00c5e	e9 05 05 00 00	 jmp	 $LN22@KalimaGate
$LN21@KalimaGate:

; 208  : 	}
; 209  : 
; 210  : 	if ( gObj[iIndex].Live == FALSE )

  00c63	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00c66	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00c6c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c72	0f b6 54 01 6a	 movzx	 edx, BYTE PTR [ecx+eax+106]
  00c77	85 d2		 test	 edx, edx
  00c79	75 05		 jne	 SHORT $LN20@KalimaGate

; 211  : 	{
; 212  : 		return;

  00c7b	e9 e8 04 00 00	 jmp	 $LN22@KalimaGate
$LN20@KalimaGate:

; 213  : 	}
; 214  : 
; 215  : 	if ( gObjIsConnected( gObj[iIndex].m_RecallMon ) == PLAYER_EMPTY )

  00c80	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00c83	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00c89	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c8f	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  00c96	52		 push	 edx
  00c97	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00c9c	83 c4 04	 add	 esp, 4
  00c9f	85 c0		 test	 eax, eax
  00ca1	75 67		 jne	 SHORT $LN19@KalimaGate

; 216  : 	{
; 217  : 		LogAddTD("[Kalima] Kalima Gate Vanished - Summoner Vanished (SummonIndex:%d, EnterCount:%d)",
; 218  : 			iIndex, gObj[iIndex].m_cKalimaGateEnterCount );

  00ca3	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00ca6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00cac	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00cb2	0f be 94 01 d0
	03 00 00	 movsx	 edx, BYTE PTR [ecx+eax+976]
  00cba	52		 push	 edx
  00cbb	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00cbe	50		 push	 eax
  00cbf	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@ILNKILMI@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?9?5@
  00cc4	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00cca	83 c4 0c	 add	 esp, 12			; 0000000cH

; 219  : 		GCDiePlayerSend( &gObj[iIndex], iIndex, 0, 0);

  00ccd	6a 00		 push	 0
  00ccf	6a 00		 push	 0
  00cd1	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00cd4	50		 push	 eax
  00cd5	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  00cd8	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00cde	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00ce4	51		 push	 ecx
  00ce5	e8 00 00 00 00	 call	 ?GCDiePlayerSend@@YAXPAUOBJECTSTRUCT@@HEH@Z ; GCDiePlayerSend
  00cea	83 c4 10	 add	 esp, 16			; 00000010H

; 220  : 		gObjDel(iIndex);

  00ced	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00cf0	50		 push	 eax
  00cf1	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  00cf6	83 c4 04	 add	 esp, 4

; 221  : 		gObjCharZeroSet(iIndex);

  00cf9	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00cfc	50		 push	 eax
  00cfd	e8 00 00 00 00	 call	 ?gObjCharZeroSet@@YAXH@Z ; gObjCharZeroSet
  00d02	83 c4 04	 add	 esp, 4

; 222  : 		return;

  00d05	e9 5e 04 00 00	 jmp	 $LN22@KalimaGate
$LN19@KalimaGate:

; 223  : 	}
; 224  : 
; 225  : 	lpObj = &gObj[iIndex];

  00d0a	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00d0d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00d13	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00d19	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 226  : 	lpObjCallOwner = &gObj[lpObj->m_RecallMon];

  00d1c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d1f	8b 88 50 04 00
	00		 mov	 ecx, DWORD PTR [eax+1104]
  00d25	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00d2b	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00d31	89 4d f4	 mov	 DWORD PTR _lpObjCallOwner$[ebp], ecx

; 227  : 
; 228  : 	if ( gObj[gObj[iIndex].m_RecallMon].DieRegen > 0 )

  00d34	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00d37	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00d3d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00d43	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  00d4a	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  00d50	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00d55	0f be 8c 10 a2
	03 00 00	 movsx	 ecx, BYTE PTR [eax+edx+930]
  00d5d	85 c9		 test	 ecx, ecx
  00d5f	7e 71		 jle	 SHORT $LN18@KalimaGate

; 229  : 	{
; 230  : 		lpObjCallOwner->AccountID[MAX_ACCOUNT_LEN]=0;

  00d61	8b 45 f4	 mov	 eax, DWORD PTR _lpObjCallOwner$[ebp]
  00d64	c6 40 76 00	 mov	 BYTE PTR [eax+118], 0

; 231  : 		lpObjCallOwner->Name[MAX_ACCOUNT_LEN]=0;

  00d68	8b 45 f4	 mov	 eax, DWORD PTR _lpObjCallOwner$[ebp]
  00d6b	c6 80 81 00 00
	00 00		 mov	 BYTE PTR [eax+129], 0

; 232  : 
; 233  : 		LogAddTD("[Kalima] [%s][%s] Kalima Gate Vanished - Summoner Died (SummonIndex:%d, EnterCount:%d)",
; 234  : 			lpObjCallOwner->AccountID, lpObjCallOwner->Name,
; 235  : 			iIndex, gObj[iIndex].m_cKalimaGateEnterCount );

  00d72	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00d75	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00d7b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00d81	0f be 94 01 d0
	03 00 00	 movsx	 edx, BYTE PTR [ecx+eax+976]
  00d89	52		 push	 edx
  00d8a	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00d8d	50		 push	 eax
  00d8e	8b 4d f4	 mov	 ecx, DWORD PTR _lpObjCallOwner$[ebp]
  00d91	83 c1 77	 add	 ecx, 119		; 00000077H
  00d94	51		 push	 ecx
  00d95	8b 55 f4	 mov	 edx, DWORD PTR _lpObjCallOwner$[ebp]
  00d98	83 c2 6c	 add	 edx, 108		; 0000006cH
  00d9b	52		 push	 edx
  00d9c	68 00 00 00 00	 push	 OFFSET ??_C@_0FH@INKPFMP@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
  00da1	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00da7	83 c4 14	 add	 esp, 20			; 00000014H

; 236  : 		this->DeleteKalimaGate(iIndex, gObj[iIndex].m_RecallMon);

  00daa	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00dad	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00db3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00db9	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  00dc0	52		 push	 edx
  00dc1	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00dc4	50		 push	 eax
  00dc5	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00dc8	e8 00 00 00 00	 call	 ?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z ; CKalimaGate::DeleteKalimaGate

; 237  : 		return;

  00dcd	e9 96 03 00 00	 jmp	 $LN22@KalimaGate
$LN18@KalimaGate:

; 238  : 	}
; 239  : 
; 240  : 	if ( gObj[iIndex].m_cKalimaGateEnterCount >= MAX_KALIMA_ENTER )

  00dd2	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00dd5	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00ddb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00de1	0f be 94 01 d0
	03 00 00	 movsx	 edx, BYTE PTR [ecx+eax+976]
  00de9	83 fa 05	 cmp	 edx, 5
  00dec	7c 71		 jl	 SHORT $LN17@KalimaGate

; 241  : 	{
; 242  : 		lpObjCallOwner->AccountID[MAX_ACCOUNT_LEN]=0;

  00dee	8b 45 f4	 mov	 eax, DWORD PTR _lpObjCallOwner$[ebp]
  00df1	c6 40 76 00	 mov	 BYTE PTR [eax+118], 0

; 243  : 		lpObjCallOwner->Name[MAX_ACCOUNT_LEN]=0;

  00df5	8b 45 f4	 mov	 eax, DWORD PTR _lpObjCallOwner$[ebp]
  00df8	c6 80 81 00 00
	00 00		 mov	 BYTE PTR [eax+129], 0

; 244  : 		
; 245  : 		LogAddTD("[Kalima] [%s][%s] Kalima Gate Vanished - Enter Count Over (SummonIndex:%d, EnterCount:%d)",
; 246  : 			lpObjCallOwner->AccountID, lpObjCallOwner->Name,
; 247  : 			iIndex, gObj[iIndex].m_cKalimaGateEnterCount );

  00dff	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00e02	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00e08	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00e0e	0f be 94 01 d0
	03 00 00	 movsx	 edx, BYTE PTR [ecx+eax+976]
  00e16	52		 push	 edx
  00e17	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00e1a	50		 push	 eax
  00e1b	8b 4d f4	 mov	 ecx, DWORD PTR _lpObjCallOwner$[ebp]
  00e1e	83 c1 77	 add	 ecx, 119		; 00000077H
  00e21	51		 push	 ecx
  00e22	8b 55 f4	 mov	 edx, DWORD PTR _lpObjCallOwner$[ebp]
  00e25	83 c2 6c	 add	 edx, 108		; 0000006cH
  00e28	52		 push	 edx
  00e29	68 00 00 00 00	 push	 OFFSET ??_C@_0FK@FFJOIHJB@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
  00e2e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00e34	83 c4 14	 add	 esp, 20			; 00000014H

; 248  : 		this->DeleteKalimaGate(iIndex, gObj[iIndex].m_RecallMon);

  00e37	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00e3a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00e40	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00e46	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  00e4d	52		 push	 edx
  00e4e	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00e51	50		 push	 eax
  00e52	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00e55	e8 00 00 00 00	 call	 ?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z ; CKalimaGate::DeleteKalimaGate

; 249  : 		return;

  00e5a	e9 09 03 00 00	 jmp	 $LN22@KalimaGate
$LN17@KalimaGate:

; 250  : 	}
; 251  : 		
; 252  : 	DWORD dwTickCount = GetTickCount();

  00e5f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  00e65	89 45 f0	 mov	 DWORD PTR _dwTickCount$[ebp], eax

; 253  : 
; 254  : 	if ( dwTickCount > lpObj->RegenTime + KALIMA_GATE_TIMEOUT )

  00e68	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e6b	8b 88 a8 03 00
	00		 mov	 ecx, DWORD PTR [eax+936]
  00e71	81 c1 20 bf 02
	00		 add	 ecx, 180000		; 0002bf20H
  00e77	39 4d f0	 cmp	 DWORD PTR _dwTickCount$[ebp], ecx
  00e7a	76 62		 jbe	 SHORT $LN16@KalimaGate

; 255  : 	{
; 256  : 		lpObjCallOwner->AccountID[MAX_ACCOUNT_LEN]=0;

  00e7c	8b 45 f4	 mov	 eax, DWORD PTR _lpObjCallOwner$[ebp]
  00e7f	c6 40 76 00	 mov	 BYTE PTR [eax+118], 0

; 257  : 		lpObjCallOwner->Name[MAX_ACCOUNT_LEN]=0;

  00e83	8b 45 f4	 mov	 eax, DWORD PTR _lpObjCallOwner$[ebp]
  00e86	c6 80 81 00 00
	00 00		 mov	 BYTE PTR [eax+129], 0

; 258  : 		
; 259  : 		LogAddTD("[Kalima] [%s][%s] Kalima Gate Vanished - Time Out (SummonIndex:%d, EnterCount:%d)",
; 260  : 			lpObjCallOwner->AccountID, lpObjCallOwner->Name,
; 261  : 			iIndex, gObj[iIndex].m_cKalimaGateEnterCount );

  00e8d	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00e90	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00e96	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00e9c	0f be 94 01 d0
	03 00 00	 movsx	 edx, BYTE PTR [ecx+eax+976]
  00ea4	52		 push	 edx
  00ea5	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00ea8	50		 push	 eax
  00ea9	8b 4d f4	 mov	 ecx, DWORD PTR _lpObjCallOwner$[ebp]
  00eac	83 c1 77	 add	 ecx, 119		; 00000077H
  00eaf	51		 push	 ecx
  00eb0	8b 55 f4	 mov	 edx, DWORD PTR _lpObjCallOwner$[ebp]
  00eb3	83 c2 6c	 add	 edx, 108		; 0000006cH
  00eb6	52		 push	 edx
  00eb7	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@CCIHPNEM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
  00ebc	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00ec2	83 c4 14	 add	 esp, 20			; 00000014H

; 262  : 		this->DeleteKalimaGate(lpObj->m_Index, lpObjCallOwner->m_Index);

  00ec5	8b 45 f4	 mov	 eax, DWORD PTR _lpObjCallOwner$[ebp]
  00ec8	8b 08		 mov	 ecx, DWORD PTR [eax]
  00eca	51		 push	 ecx
  00ecb	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00ece	8b 02		 mov	 eax, DWORD PTR [edx]
  00ed0	50		 push	 eax
  00ed1	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00ed4	e8 00 00 00 00	 call	 ?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z ; CKalimaGate::DeleteKalimaGate

; 263  : 		return;

  00ed9	e9 8a 02 00 00	 jmp	 $LN22@KalimaGate
$LN16@KalimaGate:

; 264  : 	}
; 265  : 
; 266  : 	if ( lpObj->VPCount < 1 )

  00ede	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00ee1	83 b8 30 0c 00
	00 01		 cmp	 DWORD PTR [eax+3120], 1
  00ee8	7d 05		 jge	 SHORT $LN15@KalimaGate

; 267  : 	{
; 268  : 		return;

  00eea	e9 79 02 00 00	 jmp	 $LN22@KalimaGate
$LN15@KalimaGate:

; 269  : 	}
; 270  : 
; 271  : 	int tObjNum=-1;

  00eef	c7 45 ec ff ff
	ff ff		 mov	 DWORD PTR _tObjNum$[ebp], -1

; 272  : 
; 273  : 	for ( int i=0;i<MAX_VIEWPORT_MONSTER;i++)

  00ef6	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _i$232277[ebp], 0
  00efd	eb 09		 jmp	 SHORT $LN14@KalimaGate
$LN13@KalimaGate:
  00eff	8b 45 e8	 mov	 eax, DWORD PTR _i$232277[ebp]
  00f02	83 c0 01	 add	 eax, 1
  00f05	89 45 e8	 mov	 DWORD PTR _i$232277[ebp], eax
$LN14@KalimaGate:
  00f08	83 7d e8 4b	 cmp	 DWORD PTR _i$232277[ebp], 75 ; 0000004bH
  00f0c	0f 8d 56 02 00
	00		 jge	 $LN22@KalimaGate

; 274  : 	{
; 275  : 		tObjNum = lpObj->VpPlayer[i].number;

  00f12	8b 45 e8	 mov	 eax, DWORD PTR _i$232277[ebp]
  00f15	6b c0 0c	 imul	 eax, 12			; 0000000cH
  00f18	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00f1b	0f bf 94 01 2a
	05 00 00	 movsx	 edx, WORD PTR [ecx+eax+1322]
  00f23	89 55 ec	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 276  : 
; 277  : 		if ( tObjNum >= 0 )

  00f26	83 7d ec 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  00f2a	0f 8c 33 02 00
	00		 jl	 $LN11@KalimaGate

; 278  : 		{
; 279  : 			if ( gObj[tObjNum].Type == OBJ_USER )

  00f30	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00f33	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00f39	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00f3f	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  00f44	83 fa 01	 cmp	 edx, 1
  00f47	0f 85 16 02 00
	00		 jne	 $LN11@KalimaGate

; 280  : 			{
; 281  : 				if ( gObj[tObjNum].Live != FALSE )

  00f4d	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00f50	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00f56	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00f5c	0f b6 54 01 6a	 movzx	 edx, BYTE PTR [ecx+eax+106]
  00f61	85 d2		 test	 edx, edx
  00f63	0f 84 fa 01 00
	00		 je	 $LN11@KalimaGate

; 282  : 				{
; 283  : 					if ( abs(lpObj->Y - gObj[tObjNum].Y) < 2 )

  00f69	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00f6c	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  00f73	8b 55 ec	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  00f76	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  00f7c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00f81	0f bf 94 10 46
	01 00 00	 movsx	 edx, WORD PTR [eax+edx+326]
  00f89	2b ca		 sub	 ecx, edx
  00f8b	51		 push	 ecx
  00f8c	e8 00 00 00 00	 call	 _abs
  00f91	83 c4 04	 add	 esp, 4
  00f94	83 f8 02	 cmp	 eax, 2
  00f97	0f 8d c6 01 00
	00		 jge	 $LN11@KalimaGate

; 284  : 					{
; 285  : 						if ( abs(lpObj->X - gObj[tObjNum].X) < 2 )

  00f9d	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00fa0	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  00fa7	8b 55 ec	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  00faa	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  00fb0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00fb5	0f bf 94 10 44
	01 00 00	 movsx	 edx, WORD PTR [eax+edx+324]
  00fbd	2b ca		 sub	 ecx, edx
  00fbf	51		 push	 ecx
  00fc0	e8 00 00 00 00	 call	 _abs
  00fc5	83 c4 04	 add	 esp, 4
  00fc8	83 f8 02	 cmp	 eax, 2
  00fcb	0f 8d 92 01 00
	00		 jge	 $LN11@KalimaGate

; 286  : 						{
; 287  : 							if ( lpObj->m_RecallMon == tObjNum || (gObj[tObjNum].PartyNumber != -1 && lpObjCallOwner->PartyNumber == gObj[tObjNum].PartyNumber ))

  00fd1	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00fd4	8b 88 50 04 00
	00		 mov	 ecx, DWORD PTR [eax+1104]
  00fda	3b 4d ec	 cmp	 ecx, DWORD PTR _tObjNum$[ebp]
  00fdd	74 42		 je	 SHORT $LN5@KalimaGate
  00fdf	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00fe2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00fe8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00fee	83 bc 01 2c 04
	00 00 ff	 cmp	 DWORD PTR [ecx+eax+1068], -1
  00ff6	0f 84 67 01 00
	00		 je	 $LN11@KalimaGate
  00ffc	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  00fff	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01005	8b 4d f4	 mov	 ecx, DWORD PTR _lpObjCallOwner$[ebp]
  01008	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0100e	8b 89 2c 04 00
	00		 mov	 ecx, DWORD PTR [ecx+1068]
  01014	3b 8c 02 2c 04
	00 00		 cmp	 ecx, DWORD PTR [edx+eax+1068]
  0101b	0f 85 42 01 00
	00		 jne	 $LN11@KalimaGate
$LN5@KalimaGate:

; 288  : 							{
; 289  : 								int iMoveMapLevel = lpObj->m_Attribute -51;

  01021	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01024	0f bf 88 b6 04
	00 00		 movsx	 ecx, WORD PTR [eax+1206]
  0102b	83 e9 33	 sub	 ecx, 51			; 00000033H
  0102e	89 4d e4	 mov	 DWORD PTR _iMoveMapLevel$232288[ebp], ecx

; 290  : 								int iMapNumber = iMoveMapLevel + 24;

  01031	8b 45 e4	 mov	 eax, DWORD PTR _iMoveMapLevel$232288[ebp]
  01034	83 c0 18	 add	 eax, 24			; 00000018H
  01037	89 45 e0	 mov	 DWORD PTR _iMapNumber$232289[ebp], eax

; 291  : 								int iGateNumber = g_iKalimaGateGateIndex[iMoveMapLevel];

  0103a	8b 45 e4	 mov	 eax, DWORD PTR _iMoveMapLevel$232288[ebp]
  0103d	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR _g_iKalimaGateGateIndex[eax*4]
  01044	89 4d dc	 mov	 DWORD PTR _iGateNumber$232290[ebp], ecx

; 292  : 								int iOverLevel = this->GetKalimaGateLevel(tObjNum);

  01047	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  0104a	50		 push	 eax
  0104b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0104e	e8 00 00 00 00	 call	 ?GetKalimaGateLevel@CKalimaGate@@AAEHH@Z ; CKalimaGate::GetKalimaGateLevel
  01053	89 45 d8	 mov	 DWORD PTR _iOverLevel$232291[ebp], eax

; 293  : 
; 294  : 								if ( iOverLevel >= iMoveMapLevel )

  01056	8b 45 d8	 mov	 eax, DWORD PTR _iOverLevel$232291[ebp]
  01059	3b 45 e4	 cmp	 eax, DWORD PTR _iMoveMapLevel$232288[ebp]
  0105c	0f 8c 01 01 00
	00		 jl	 $LN11@KalimaGate

; 295  : 								{
; 296  : 									if ( gObjMoveGate(tObjNum, iGateNumber) == FALSE )

  01062	8b 45 dc	 mov	 eax, DWORD PTR _iGateNumber$232290[ebp]
  01065	50		 push	 eax
  01066	8b 4d ec	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  01069	51		 push	 ecx
  0106a	e8 00 00 00 00	 call	 ?gObjMoveGate@@YAHHH@Z	; gObjMoveGate
  0106f	83 c4 08	 add	 esp, 8
  01072	85 c0		 test	 eax, eax
  01074	75 4d		 jne	 SHORT $LN3@KalimaGate

; 297  : 									{
; 298  : 										LogAddTD("[Kalima] [%s][%s] - [%s][%s] move fail (MapNumber:%d)", 
; 299  : 											lpObjCallOwner->AccountID, lpObjCallOwner->Name,
; 300  : 											gObj[tObjNum].AccountID, gObj[tObjNum].Name, iMapNumber);

  01076	8b 45 e0	 mov	 eax, DWORD PTR _iMapNumber$232289[ebp]
  01079	50		 push	 eax
  0107a	8b 4d ec	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0107d	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01083	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01089	8d 44 0a 77	 lea	 eax, DWORD PTR [edx+ecx+119]
  0108d	50		 push	 eax
  0108e	8b 4d ec	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  01091	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01097	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0109d	8d 44 0a 6c	 lea	 eax, DWORD PTR [edx+ecx+108]
  010a1	50		 push	 eax
  010a2	8b 4d f4	 mov	 ecx, DWORD PTR _lpObjCallOwner$[ebp]
  010a5	83 c1 77	 add	 ecx, 119		; 00000077H
  010a8	51		 push	 ecx
  010a9	8b 55 f4	 mov	 edx, DWORD PTR _lpObjCallOwner$[ebp]
  010ac	83 c2 6c	 add	 edx, 108		; 0000006cH
  010af	52		 push	 edx
  010b0	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@DFEBENJO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5mov@
  010b5	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  010bb	83 c4 18	 add	 esp, 24			; 00000018H

; 301  : 									}
; 302  : 									else

  010be	e9 a0 00 00 00	 jmp	 $LN11@KalimaGate
$LN3@KalimaGate:

; 303  : 									{
; 304  : 										LogAddTD("[Kalima] [%s][%s] - [%s][%s] Transported by Kalima Gate (SummonIndex:%d, GateNo.:%d, MapNumber:%d)",
; 305  : 											lpObjCallOwner->AccountID, lpObjCallOwner->Name, 
; 306  : 											gObj[tObjNum].AccountID, gObj[tObjNum].Name, iIndex, iMoveMapLevel + 1, iMapNumber);

  010c3	8b 45 e0	 mov	 eax, DWORD PTR _iMapNumber$232289[ebp]
  010c6	50		 push	 eax
  010c7	8b 4d e4	 mov	 ecx, DWORD PTR _iMoveMapLevel$232288[ebp]
  010ca	83 c1 01	 add	 ecx, 1
  010cd	51		 push	 ecx
  010ce	8b 55 08	 mov	 edx, DWORD PTR _iIndex$[ebp]
  010d1	52		 push	 edx
  010d2	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  010d5	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  010db	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  010e1	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  010e5	52		 push	 edx
  010e6	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  010e9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  010ef	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  010f5	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  010f9	52		 push	 edx
  010fa	8b 45 f4	 mov	 eax, DWORD PTR _lpObjCallOwner$[ebp]
  010fd	83 c0 77	 add	 eax, 119		; 00000077H
  01100	50		 push	 eax
  01101	8b 4d f4	 mov	 ecx, DWORD PTR _lpObjCallOwner$[ebp]
  01104	83 c1 6c	 add	 ecx, 108		; 0000006cH
  01107	51		 push	 ecx
  01108	68 00 00 00 00	 push	 OFFSET ??_C@_0GD@MOAKLAME@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@
  0110d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01113	83 c4 20	 add	 esp, 32			; 00000020H

; 307  : 										gObj[iIndex].m_cKalimaGateEnterCount ++;

  01116	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01119	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0111f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01125	8a 94 01 d0 03
	00 00		 mov	 dl, BYTE PTR [ecx+eax+976]
  0112c	80 c2 01	 add	 dl, 1
  0112f	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01132	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01138	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0113e	88 94 01 d0 03
	00 00		 mov	 BYTE PTR [ecx+eax+976], dl

; 308  : 
; 309  : 										if ( gObj[iIndex].m_cKalimaGateEnterCount >= MAX_KALIMA_ENTER )

  01145	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01148	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0114e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01154	0f be 94 01 d0
	03 00 00	 movsx	 edx, BYTE PTR [ecx+eax+976]
  0115c	83 fa 05	 cmp	 edx, 5
  0115f	7c 02		 jl	 SHORT $LN11@KalimaGate

; 310  : 										{
; 311  : 											return;

  01161	eb 05		 jmp	 SHORT $LN22@KalimaGate
$LN11@KalimaGate:

; 312  : 										}
; 313  : 									}
; 314  : 								}
; 315  : 							}
; 316  : 						}
; 317  : 					}
; 318  : 				}
; 319  : 			}
; 320  : 		}
; 321  : 	}

  01163	e9 97 fd ff ff	 jmp	 $LN13@KalimaGate
$LN22@KalimaGate:

; 322  : }

  01168	5f		 pop	 edi
  01169	5e		 pop	 esi
  0116a	5b		 pop	 ebx
  0116b	8b e5		 mov	 esp, ebp
  0116d	5d		 pop	 ebp
  0116e	c2 04 00	 ret	 4
?KalimaGateAct@CKalimaGate@@QAEXH@Z ENDP		; CKalimaGate::KalimaGateAct
_TEXT	ENDS
PUBLIC	?CheckOverlapKundunMark@CKalimaGate@@QAEHHE@Z	; CKalimaGate::CheckOverlapKundunMark
EXTRN	?IsItem@CItem@@QAEHXZ:PROC			; CItem::IsItem
EXTRN	__ftol2_sse:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv133 = -80						; size = 4
_iITEM_DUR$232310 = -12					; size = 4
_x$232303 = -8						; size = 4
_this$ = -4						; size = 4
_iIndex$ = 8						; size = 4
_btLevel$ = 12						; size = 1
?CheckOverlapKundunMark@CKalimaGate@@QAEHHE@Z PROC	; CKalimaGate::CheckOverlapKundunMark
; _this$ = ecx

; 331  : {

  01180	55		 push	 ebp
  01181	8b ec		 mov	 ebp, esp
  01183	83 ec 50	 sub	 esp, 80			; 00000050H
  01186	53		 push	 ebx
  01187	56		 push	 esi
  01188	57		 push	 edi
  01189	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 332  : 	for ( int x = 0;x<MAIN_INVENTORY_SIZE;x++ )

  0118c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _x$232303[ebp], 0
  01193	eb 09		 jmp	 SHORT $LN7@CheckOverl
$LN6@CheckOverl:
  01195	8b 45 f8	 mov	 eax, DWORD PTR _x$232303[ebp]
  01198	83 c0 01	 add	 eax, 1
  0119b	89 45 f8	 mov	 DWORD PTR _x$232303[ebp], eax
$LN7@CheckOverl:
  0119e	81 7d f8 cc 00
	00 00		 cmp	 DWORD PTR _x$232303[ebp], 204 ; 000000ccH
  011a5	0f 8d db 00 00
	00		 jge	 $LN5@CheckOverl

; 333  : 	{
; 334  : 		if ( gObj[iIndex].pInventory[x].IsItem() == TRUE )

  011ab	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  011ae	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  011b4	8b 4d f8	 mov	 ecx, DWORD PTR _x$232303[ebp]
  011b7	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  011bd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  011c3	03 8c 02 24 0e
	00 00		 add	 ecx, DWORD PTR [edx+eax+3620]
  011ca	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  011cf	83 f8 01	 cmp	 eax, 1
  011d2	0f 85 a9 00 00
	00		 jne	 $LN1@CheckOverl

; 335  : 		{
; 336  : 			if ( gObj[iIndex].pInventory[x].m_Type == ITEMGET(14, 29) )

  011d8	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  011db	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  011e1	8b 4d f8	 mov	 ecx, DWORD PTR _x$232303[ebp]
  011e4	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  011ea	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  011f0	8b 84 02 24 0e
	00 00		 mov	 eax, DWORD PTR [edx+eax+3620]
  011f7	0f bf 4c 08 06	 movsx	 ecx, WORD PTR [eax+ecx+6]
  011fc	81 f9 1d 1c 00
	00		 cmp	 ecx, 7197		; 00001c1dH
  01202	75 7d		 jne	 SHORT $LN1@CheckOverl

; 337  : 			{
; 338  : 				if ( gObj[iIndex].pInventory[x].m_Level == btLevel )

  01204	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01207	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0120d	8b 4d f8	 mov	 ecx, DWORD PTR _x$232303[ebp]
  01210	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  01216	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0121c	8b 84 02 24 0e
	00 00		 mov	 eax, DWORD PTR [edx+eax+3620]
  01223	0f bf 4c 08 08	 movsx	 ecx, WORD PTR [eax+ecx+8]
  01228	0f b6 55 0c	 movzx	 edx, BYTE PTR _btLevel$[ebp]
  0122c	3b ca		 cmp	 ecx, edx
  0122e	75 51		 jne	 SHORT $LN1@CheckOverl

; 339  : 				{
; 340  : 					int iITEM_DUR = (int)gObj[iIndex].pInventory[x].m_Durability;

  01230	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01233	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01239	8b 4d f8	 mov	 ecx, DWORD PTR _x$232303[ebp]
  0123c	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  01242	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01248	8b 84 02 24 0e
	00 00		 mov	 eax, DWORD PTR [edx+eax+3620]
  0124f	d9 44 08 24	 fld	 DWORD PTR [eax+ecx+36]
  01253	e8 00 00 00 00	 call	 __ftol2_sse
  01258	89 45 f4	 mov	 DWORD PTR _iITEM_DUR$232310[ebp], eax

; 341  : 
; 342  : 					if ( KUNDUN_MARK_RANGE(iITEM_DUR) != FALSE )

  0125b	83 7d f4 00	 cmp	 DWORD PTR _iITEM_DUR$232310[ebp], 0
  0125f	7d 09		 jge	 SHORT $LN10@CheckOverl
  01261	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv133[ebp], 0
  01268	eb 0c		 jmp	 SHORT $LN11@CheckOverl
$LN10@CheckOverl:
  0126a	33 c0		 xor	 eax, eax
  0126c	83 7d f4 04	 cmp	 DWORD PTR _iITEM_DUR$232310[ebp], 4
  01270	0f 9e c0	 setle	 al
  01273	89 45 b0	 mov	 DWORD PTR tv133[ebp], eax
$LN11@CheckOverl:
  01276	83 7d b0 00	 cmp	 DWORD PTR tv133[ebp], 0
  0127a	74 05		 je	 SHORT $LN1@CheckOverl

; 343  : 					{
; 344  : 						return x;

  0127c	8b 45 f8	 mov	 eax, DWORD PTR _x$232303[ebp]
  0127f	eb 08		 jmp	 SHORT $LN8@CheckOverl
$LN1@CheckOverl:

; 345  : 					}
; 346  : 				}
; 347  : 			}
; 348  : 		}
; 349  : 	}

  01281	e9 0f ff ff ff	 jmp	 $LN6@CheckOverl
$LN5@CheckOverl:

; 350  : 
; 351  : 	return -1;

  01286	83 c8 ff	 or	 eax, -1
$LN8@CheckOverl:

; 352  : }

  01289	5f		 pop	 edi
  0128a	5e		 pop	 esi
  0128b	5b		 pop	 ebx
  0128c	8b e5		 mov	 esp, ebp
  0128e	5d		 pop	 ebp
  0128f	c2 08 00	 ret	 8
?CheckOverlapKundunMark@CKalimaGate@@QAEHHE@Z ENDP	; CKalimaGate::CheckOverlapKundunMark
_TEXT	ENDS
EXTRN	_rand:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_btMapAttr$232325 = -17					; size = 1
_iUY$ = -16						; size = 4
_iUX$ = -12						; size = 4
_iCount$ = -8						; size = 4
_this$ = -4						; size = 4
_iMapNumber$ = 8					; size = 4
_cX$ = 12						; size = 4
_cY$ = 16						; size = 4
?GetRandomLocation@CKalimaGate@@AAEHHAAE0@Z PROC	; CKalimaGate::GetRandomLocation
; _this$ = ecx

; 359  : {

  012a0	55		 push	 ebp
  012a1	8b ec		 mov	 ebp, esp
  012a3	83 ec 54	 sub	 esp, 84			; 00000054H
  012a6	53		 push	 ebx
  012a7	56		 push	 esi
  012a8	57		 push	 edi
  012a9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 360  : 	int iCount = 100;

  012ac	c7 45 f8 64 00
	00 00		 mov	 DWORD PTR _iCount$[ebp], 100 ; 00000064H

; 361  : 	int iUX = cX;

  012b3	8b 45 0c	 mov	 eax, DWORD PTR _cX$[ebp]
  012b6	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  012b9	89 4d f4	 mov	 DWORD PTR _iUX$[ebp], ecx

; 362  : 	int iUY = cY;

  012bc	8b 45 10	 mov	 eax, DWORD PTR _cY$[ebp]
  012bf	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  012c2	89 4d f0	 mov	 DWORD PTR _iUY$[ebp], ecx
$LN3@GetRandomL:

; 363  : 
; 364  : 	while ( iCount-- > 0 )

  012c5	8b 45 f8	 mov	 eax, DWORD PTR _iCount$[ebp]
  012c8	8b 4d f8	 mov	 ecx, DWORD PTR _iCount$[ebp]
  012cb	83 e9 01	 sub	 ecx, 1
  012ce	89 4d f8	 mov	 DWORD PTR _iCount$[ebp], ecx
  012d1	85 c0		 test	 eax, eax
  012d3	0f 8e a3 00 00
	00		 jle	 $LN2@GetRandomL

; 365  : 	{
; 366  : 		cX = ( rand() %6) * (((rand()%2==0)?-1:1)) + iUX;

  012d9	e8 00 00 00 00	 call	 _rand
  012de	99		 cdq
  012df	b9 06 00 00 00	 mov	 ecx, 6
  012e4	f7 f9		 idiv	 ecx
  012e6	8b da		 mov	 ebx, edx
  012e8	e8 00 00 00 00	 call	 _rand
  012ed	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  012f2	79 05		 jns	 SHORT $LN6@GetRandomL
  012f4	48		 dec	 eax
  012f5	83 c8 fe	 or	 eax, -2			; fffffffeH
  012f8	40		 inc	 eax
$LN6@GetRandomL:
  012f9	f7 d8		 neg	 eax
  012fb	1b c0		 sbb	 eax, eax
  012fd	83 e0 02	 and	 eax, 2
  01300	83 c0 ff	 add	 eax, -1
  01303	0f af d8	 imul	 ebx, eax
  01306	03 5d f4	 add	 ebx, DWORD PTR _iUX$[ebp]
  01309	8b 55 0c	 mov	 edx, DWORD PTR _cX$[ebp]
  0130c	88 1a		 mov	 BYTE PTR [edx], bl

; 367  : 		cY = (rand()%6) * (((rand()%2==0)?-1:1)) + iUY;

  0130e	e8 00 00 00 00	 call	 _rand
  01313	99		 cdq
  01314	b9 06 00 00 00	 mov	 ecx, 6
  01319	f7 f9		 idiv	 ecx
  0131b	8b da		 mov	 ebx, edx
  0131d	e8 00 00 00 00	 call	 _rand
  01322	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  01327	79 05		 jns	 SHORT $LN7@GetRandomL
  01329	48		 dec	 eax
  0132a	83 c8 fe	 or	 eax, -2			; fffffffeH
  0132d	40		 inc	 eax
$LN7@GetRandomL:
  0132e	f7 d8		 neg	 eax
  01330	1b c0		 sbb	 eax, eax
  01332	83 e0 02	 and	 eax, 2
  01335	83 c0 ff	 add	 eax, -1
  01338	0f af d8	 imul	 ebx, eax
  0133b	03 5d f0	 add	 ebx, DWORD PTR _iUY$[ebp]
  0133e	8b 55 10	 mov	 edx, DWORD PTR _cY$[ebp]
  01341	88 1a		 mov	 BYTE PTR [edx], bl

; 368  : 
; 369  : 		BYTE btMapAttr = MapC[iMapNumber].GetAttr(cX,cY);

  01343	8b 45 10	 mov	 eax, DWORD PTR _cY$[ebp]
  01346	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  01349	51		 push	 ecx
  0134a	8b 55 0c	 mov	 edx, DWORD PTR _cX$[ebp]
  0134d	0f b6 02	 movzx	 eax, BYTE PTR [edx]
  01350	50		 push	 eax
  01351	8b 4d 08	 mov	 ecx, DWORD PTR _iMapNumber$[ebp]
  01354	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  0135a	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  01360	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  01365	88 45 ef	 mov	 BYTE PTR _btMapAttr$232325[ebp], al

; 370  : 
; 371  : 		if ( btMapAttr == 0 )

  01368	0f b6 45 ef	 movzx	 eax, BYTE PTR _btMapAttr$232325[ebp]
  0136c	85 c0		 test	 eax, eax
  0136e	75 07		 jne	 SHORT $LN1@GetRandomL

; 372  : 		{
; 373  : 			return TRUE;

  01370	b8 01 00 00 00	 mov	 eax, 1
  01375	eb 07		 jmp	 SHORT $LN4@GetRandomL
$LN1@GetRandomL:

; 374  : 		}
; 375  : 	}

  01377	e9 49 ff ff ff	 jmp	 $LN3@GetRandomL
$LN2@GetRandomL:

; 376  : 
; 377  : 	return FALSE;

  0137c	33 c0		 xor	 eax, eax
$LN4@GetRandomL:

; 378  : }

  0137e	5f		 pop	 edi
  0137f	5e		 pop	 esi
  01380	5b		 pop	 ebx
  01381	8b e5		 mov	 esp, ebp
  01383	5d		 pop	 ebp
  01384	c2 0c 00	 ret	 12			; 0000000cH
?GetRandomLocation@CKalimaGate@@AAEHHAAE0@Z ENDP	; CKalimaGate::GetRandomLocation
; Function compile flags: /Odtp /ZI
_i$232356 = -12					; size = 4
_i$232349 = -8						; size = 4
_this$ = -4						; size = 4
_iIndex$ = 8						; size = 4
?GetKalimaGateLevel@CKalimaGate@@AAEHH@Z PROC		; CKalimaGate::GetKalimaGateLevel
; _this$ = ecx

; 388  : {

  01390	55		 push	 ebp
  01391	8b ec		 mov	 ebp, esp
  01393	83 ec 4c	 sub	 esp, 76			; 0000004cH
  01396	53		 push	 ebx
  01397	56		 push	 esi
  01398	57		 push	 edi
  01399	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 389  : 	if ( gObj[iIndex].Class == CLASS_MAGUMSA 
; 390  : #ifdef MONK
; 391  : 		|| gObj[iIndex].Class == CLASS_MONK
; 392  : #endif
; 393  : 		|| gObj[iIndex].Class == CLASS_DARKLORD )	// DarkLord and MagicGLadiaro

  0139c	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0139f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  013a5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  013ab	0f b7 94 01 b8
	00 00 00	 movzx	 edx, WORD PTR [ecx+eax+184]
  013b3	83 fa 03	 cmp	 edx, 3
  013b6	74 38		 je	 SHORT $LN12@GetKalimaG
  013b8	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  013bb	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  013c1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  013c7	0f b7 94 01 b8
	00 00 00	 movzx	 edx, WORD PTR [ecx+eax+184]
  013cf	83 fa 06	 cmp	 edx, 6
  013d2	74 1c		 je	 SHORT $LN12@GetKalimaG
  013d4	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  013d7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  013dd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  013e3	0f b7 94 01 b8
	00 00 00	 movzx	 edx, WORD PTR [ecx+eax+184]
  013eb	83 fa 04	 cmp	 edx, 4
  013ee	75 6b		 jne	 SHORT $LN13@GetKalimaG
$LN12@GetKalimaG:

; 394  : 	{
; 395  : 		for ( int i =0;i<KALIMA_FLOORS;i++)

  013f0	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$232349[ebp], 0
  013f7	eb 09		 jmp	 SHORT $LN11@GetKalimaG
$LN10@GetKalimaG:
  013f9	8b 45 f8	 mov	 eax, DWORD PTR _i$232349[ebp]
  013fc	83 c0 01	 add	 eax, 1
  013ff	89 45 f8	 mov	 DWORD PTR _i$232349[ebp], eax
$LN11@GetKalimaG:
  01402	83 7d f8 07	 cmp	 DWORD PTR _i$232349[ebp], 7
  01406	7d 51		 jge	 SHORT $LN9@GetKalimaG

; 396  : 		{
; 397  : 			if ( gObj[iIndex].Level >= g_sttKALIMAGATE_LEVEL[i].iLOWER_BOUND_MAGUMSA )

  01408	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0140b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01411	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01417	0f bf 94 01 be
	00 00 00	 movsx	 edx, WORD PTR [ecx+eax+190]
  0141f	8b 45 f8	 mov	 eax, DWORD PTR _i$232349[ebp]
  01422	c1 e0 04	 shl	 eax, 4
  01425	3b 90 08 00 00
	00		 cmp	 edx, DWORD PTR _g_sttKALIMAGATE_LEVEL[eax+8]
  0142b	7c 2a		 jl	 SHORT $LN8@GetKalimaG

; 398  : 			{
; 399  : 				if ( gObj[iIndex].Level <= g_sttKALIMAGATE_LEVEL[i].iUPPER_BOUND_MAGUMSA )

  0142d	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01430	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01436	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0143c	0f bf 94 01 be
	00 00 00	 movsx	 edx, WORD PTR [ecx+eax+190]
  01444	8b 45 f8	 mov	 eax, DWORD PTR _i$232349[ebp]
  01447	c1 e0 04	 shl	 eax, 4
  0144a	3b 90 0c 00 00
	00		 cmp	 edx, DWORD PTR _g_sttKALIMAGATE_LEVEL[eax+12]
  01450	7f 05		 jg	 SHORT $LN8@GetKalimaG

; 400  : 				{
; 401  : 					return i;

  01452	8b 45 f8	 mov	 eax, DWORD PTR _i$232349[ebp]
  01455	eb 70		 jmp	 SHORT $LN14@GetKalimaG
$LN8@GetKalimaG:

; 402  : 				}
; 403  : 			}
; 404  : 		}

  01457	eb a0		 jmp	 SHORT $LN10@GetKalimaG
$LN9@GetKalimaG:

; 405  : 	}
; 406  : 	else

  01459	eb 69		 jmp	 SHORT $LN6@GetKalimaG
$LN13@GetKalimaG:

; 407  : 	{
; 408  : 		for ( int i =0;i<KALIMA_FLOORS;i++)

  0145b	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _i$232356[ebp], 0
  01462	eb 09		 jmp	 SHORT $LN5@GetKalimaG
$LN4@GetKalimaG:
  01464	8b 45 f4	 mov	 eax, DWORD PTR _i$232356[ebp]
  01467	83 c0 01	 add	 eax, 1
  0146a	89 45 f4	 mov	 DWORD PTR _i$232356[ebp], eax
$LN5@GetKalimaG:
  0146d	83 7d f4 07	 cmp	 DWORD PTR _i$232356[ebp], 7
  01471	7d 51		 jge	 SHORT $LN6@GetKalimaG

; 409  : 		{
; 410  : 			if ( gObj[iIndex].Level >= g_sttKALIMAGATE_LEVEL[i].iLOWER_BOUND )

  01473	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01476	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0147c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01482	0f bf 94 01 be
	00 00 00	 movsx	 edx, WORD PTR [ecx+eax+190]
  0148a	8b 45 f4	 mov	 eax, DWORD PTR _i$232356[ebp]
  0148d	c1 e0 04	 shl	 eax, 4
  01490	3b 90 00 00 00
	00		 cmp	 edx, DWORD PTR _g_sttKALIMAGATE_LEVEL[eax]
  01496	7c 2a		 jl	 SHORT $LN2@GetKalimaG

; 411  : 			{
; 412  : 				if ( gObj[iIndex].Level <= g_sttKALIMAGATE_LEVEL[i].iUPPER_BOUND )

  01498	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0149b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  014a1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  014a7	0f bf 94 01 be
	00 00 00	 movsx	 edx, WORD PTR [ecx+eax+190]
  014af	8b 45 f4	 mov	 eax, DWORD PTR _i$232356[ebp]
  014b2	c1 e0 04	 shl	 eax, 4
  014b5	3b 90 04 00 00
	00		 cmp	 edx, DWORD PTR _g_sttKALIMAGATE_LEVEL[eax+4]
  014bb	7f 05		 jg	 SHORT $LN2@GetKalimaG

; 413  : 				{
; 414  : 					return i;

  014bd	8b 45 f4	 mov	 eax, DWORD PTR _i$232356[ebp]
  014c0	eb 05		 jmp	 SHORT $LN14@GetKalimaG
$LN2@GetKalimaG:

; 415  : 				}
; 416  : 			}
; 417  : 		}

  014c2	eb a0		 jmp	 SHORT $LN4@GetKalimaG
$LN6@GetKalimaG:

; 418  : 	}
; 419  : 	return -1;

  014c4	83 c8 ff	 or	 eax, -1
$LN14@GetKalimaG:

; 420  : }

  014c7	5f		 pop	 edi
  014c8	5e		 pop	 esi
  014c9	5b		 pop	 ebx
  014ca	8b e5		 mov	 esp, ebp
  014cc	5d		 pop	 ebp
  014cd	c2 04 00	 ret	 4
?GetKalimaGateLevel@CKalimaGate@@AAEHH@Z ENDP		; CKalimaGate::GetKalimaGateLevel
_TEXT	ENDS
PUBLIC	??_C@_0FF@FPKJHAJK@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@ ; `string'
;	COMDAT ??_C@_0FF@FPKJHAJK@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@
CONST	SEGMENT
??_C@_0FF@FPKJHAJK@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@ DB '['
	DB	'Kalima] DeleteKalimaGate() - out of Index (iKalimaGateIndex:%'
	DB	'd, iCallOwnerIndex:%d)', 00H		; `string'
CONST	ENDS
xdata$x	SEGMENT
	ORG $+4
__sehtable$?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z DD 0fffffffeH
	DD	00H
	DD	0ffffff8cH
	DD	00H
	DD	0fffffffeH
	DD	00H
	DD	FLAT:$LN11@DeleteKali
; Function compile flags: /Odtp /ZI
xdata$x	ENDS
_TEXT	SEGMENT
tv74 = -100						; size = 4
tv69 = -100						; size = 4
$T232887 = -96						; size = 4
_this$ = -28						; size = 4
__$SEHRec$ = -24					; size = 24
_iKalimaGateIndex$ = 8					; size = 4
_iCallOwnerIndex$ = 12					; size = 4
?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z PROC		; CKalimaGate::DeleteKalimaGate
; _this$ = ecx

; 429  : {

  014d0	55		 push	 ebp
  014d1	8b ec		 mov	 ebp, esp
  014d3	6a fe		 push	 -2			; fffffffeH
  014d5	68 00 00 00 00	 push	 OFFSET __sehtable$?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z
  014da	68 00 00 00 00	 push	 OFFSET __except_handler4
  014df	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  014e5	50		 push	 eax
  014e6	83 c4 ac	 add	 esp, -84		; ffffffacH
  014e9	53		 push	 ebx
  014ea	56		 push	 esi
  014eb	57		 push	 edi
  014ec	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  014f1	31 45 f8	 xor	 DWORD PTR __$SEHRec$[ebp+16], eax
  014f4	33 c5		 xor	 eax, ebp
  014f6	50		 push	 eax
  014f7	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  014fa	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  01500	89 4d e4	 mov	 DWORD PTR _this$[ebp], ecx

; 430  : 	EnterCriticalSection(&this->m_critKalimaGate);

  01503	8b 45 e4	 mov	 eax, DWORD PTR _this$[ebp]
  01506	83 c0 04	 add	 eax, 4
  01509	50		 push	 eax
  0150a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnterCriticalSection@4

; 431  : 
; 432  : 	__try

  01510	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$SEHRec$[ebp+20], 0

; 433  : 	{
; 434  : 		if ( !OBJMAX_RANGE(iKalimaGateIndex ) || !OBJMAX_RANGE(iCallOwnerIndex ))

  01517	83 7d 08 00	 cmp	 DWORD PTR _iKalimaGateIndex$[ebp], 0
  0151b	7d 09		 jge	 SHORT $LN6@DeleteKali
  0151d	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv69[ebp], 0
  01524	eb 0f		 jmp	 SHORT $LN7@DeleteKali
$LN6@DeleteKali:
  01526	33 c0		 xor	 eax, eax
  01528	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _iKalimaGateIndex$[ebp], 14999 ; 00003a97H
  0152f	0f 9e c0	 setle	 al
  01532	89 45 9c	 mov	 DWORD PTR tv69[ebp], eax
$LN7@DeleteKali:
  01535	83 7d 9c 00	 cmp	 DWORD PTR tv69[ebp], 0
  01539	74 24		 je	 SHORT $LN1@DeleteKali
  0153b	83 7d 0c 00	 cmp	 DWORD PTR _iCallOwnerIndex$[ebp], 0
  0153f	7d 09		 jge	 SHORT $LN8@DeleteKali
  01541	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv74[ebp], 0
  01548	eb 0f		 jmp	 SHORT $LN9@DeleteKali
$LN8@DeleteKali:
  0154a	33 c0		 xor	 eax, eax
  0154c	81 7d 0c 97 3a
	00 00		 cmp	 DWORD PTR _iCallOwnerIndex$[ebp], 14999 ; 00003a97H
  01553	0f 9e c0	 setle	 al
  01556	89 45 9c	 mov	 DWORD PTR tv74[ebp], eax
$LN9@DeleteKali:
  01559	83 7d 9c 00	 cmp	 DWORD PTR tv74[ebp], 0
  0155d	75 38		 jne	 SHORT $LN2@DeleteKali
$LN1@DeleteKali:

; 435  : 		{
; 436  : 			LogAddTD("[Kalima] DeleteKalimaGate() - out of Index (iKalimaGateIndex:%d, iCallOwnerIndex:%d)", iKalimaGateIndex, iCallOwnerIndex);

  0155f	8b 45 0c	 mov	 eax, DWORD PTR _iCallOwnerIndex$[ebp]
  01562	50		 push	 eax
  01563	8b 4d 08	 mov	 ecx, DWORD PTR _iKalimaGateIndex$[ebp]
  01566	51		 push	 ecx
  01567	68 00 00 00 00	 push	 OFFSET ??_C@_0FF@FPKJHAJK@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@
  0156c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01572	83 c4 0c	 add	 esp, 12			; 0000000cH

; 437  : 			return 0;

  01575	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR $T232887[ebp], 0
  0157c	6a fe		 push	 -2			; fffffffeH
  0157e	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  01581	50		 push	 eax
  01582	68 00 00 00 00	 push	 OFFSET ___security_cookie
  01587	e8 00 00 00 00	 call	 __local_unwind4
  0158c	83 c4 0c	 add	 esp, 12			; 0000000cH
  0158f	8b 45 a0	 mov	 eax, DWORD PTR $T232887[ebp]
  01592	e9 8a 00 00 00	 jmp	 $LN10@DeleteKali
$LN2@DeleteKali:

; 438  : 		}
; 439  : 
; 440  : 		GCDiePlayerSend( &gObj[iKalimaGateIndex], iKalimaGateIndex, 0 , 0);

  01597	6a 00		 push	 0
  01599	6a 00		 push	 0
  0159b	8b 45 08	 mov	 eax, DWORD PTR _iKalimaGateIndex$[ebp]
  0159e	50		 push	 eax
  0159f	8b 4d 08	 mov	 ecx, DWORD PTR _iKalimaGateIndex$[ebp]
  015a2	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  015a8	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  015ae	51		 push	 ecx
  015af	e8 00 00 00 00	 call	 ?GCDiePlayerSend@@YAXPAUOBJECTSTRUCT@@HEH@Z ; GCDiePlayerSend
  015b4	83 c4 10	 add	 esp, 16			; 00000010H

; 441  : 		gObj[iCallOwnerIndex].m_cKalimaGateExist = FALSE;

  015b7	8b 45 0c	 mov	 eax, DWORD PTR _iCallOwnerIndex$[ebp]
  015ba	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  015c0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  015c6	c6 84 01 ca 03
	00 00 00	 mov	 BYTE PTR [ecx+eax+970], 0

; 442  : 		gObj[iCallOwnerIndex].m_iKalimaGateIndex = -1;

  015ce	8b 45 0c	 mov	 eax, DWORD PTR _iCallOwnerIndex$[ebp]
  015d1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  015d7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  015dd	c7 84 01 cc 03
	00 00 ff ff ff
	ff		 mov	 DWORD PTR [ecx+eax+972], -1

; 443  : 		gObjDel(iKalimaGateIndex);

  015e8	8b 45 08	 mov	 eax, DWORD PTR _iKalimaGateIndex$[ebp]
  015eb	50		 push	 eax
  015ec	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  015f1	83 c4 04	 add	 esp, 4

; 444  : 		gObjCharZeroSet(iKalimaGateIndex);

  015f4	8b 45 08	 mov	 eax, DWORD PTR _iKalimaGateIndex$[ebp]
  015f7	50		 push	 eax
  015f8	e8 00 00 00 00	 call	 ?gObjCharZeroSet@@YAXH@Z ; gObjCharZeroSet
  015fd	83 c4 04	 add	 esp, 4

; 445  : 	}
; 446  : 	__finally

  01600	c7 45 fc fe ff
	ff ff		 mov	 DWORD PTR __$SEHRec$[ebp+20], -2 ; fffffffeH
  01607	e8 02 00 00 00	 call	 $LN13@DeleteKali
  0160c	eb 0e		 jmp	 SHORT $LN14@DeleteKali
$LN11@DeleteKali:
$LN16@DeleteKali:
$LN13@DeleteKali:

; 447  : 	{
; 448  : 		LeaveCriticalSection(&this->m_critKalimaGate);

  0160e	8b 45 e4	 mov	 eax, DWORD PTR _this$[ebp]
  01611	83 c0 04	 add	 eax, 4
  01614	50		 push	 eax
  01615	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LeaveCriticalSection@4
$LN12@DeleteKali:
$LN15@DeleteKali:
  0161b	c3		 ret	 0
$LN14@DeleteKali:

; 449  : 	}
; 450  : 	return true;

  0161c	b8 01 00 00 00	 mov	 eax, 1
$LN10@DeleteKali:

; 451  : }

  01621	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  01624	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  0162b	59		 pop	 ecx
  0162c	5f		 pop	 edi
  0162d	5e		 pop	 esi
  0162e	5b		 pop	 ebx
  0162f	8b e5		 mov	 esp, ebp
  01631	5d		 pop	 ebp
  01632	c2 08 00	 ret	 8
?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z ENDP		; CKalimaGate::DeleteKalimaGate
_TEXT	ENDS
PUBLIC	??_C@_0EA@CCDLFCDJ@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@ ; `string'
PUBLIC	?DeleteKalimaGate@CKalimaGate@@QAEHH@Z		; CKalimaGate::DeleteKalimaGate
;	COMDAT ??_C@_0EA@CCDLFCDJ@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@
CONST	SEGMENT
??_C@_0EA@CCDLFCDJ@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@ DB '['
	DB	'Kalima] DeleteKalimaGate() - out of Index (iCallOwnerIndex:%d'
	DB	')', 00H					; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv95 = -76						; size = 4
tv77 = -76						; size = 4
tv67 = -76						; size = 4
_iKalimaGateIndex$ = -8					; size = 4
_this$ = -4						; size = 4
_iCallOwnerIndex$ = 8					; size = 4
?DeleteKalimaGate@CKalimaGate@@QAEHH@Z PROC		; CKalimaGate::DeleteKalimaGate
; _this$ = ecx

; 459  : {

  01640	55		 push	 ebp
  01641	8b ec		 mov	 ebp, esp
  01643	83 ec 4c	 sub	 esp, 76			; 0000004cH
  01646	53		 push	 ebx
  01647	56		 push	 esi
  01648	57		 push	 edi
  01649	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 460  : 	if ( OBJMAX_RANGE(iCallOwnerIndex ) == FALSE )

  0164c	83 7d 08 00	 cmp	 DWORD PTR _iCallOwnerIndex$[ebp], 0
  01650	7d 09		 jge	 SHORT $LN7@DeleteKali@2
  01652	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  01659	eb 0f		 jmp	 SHORT $LN8@DeleteKali@2
$LN7@DeleteKali@2:
  0165b	33 c0		 xor	 eax, eax
  0165d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _iCallOwnerIndex$[ebp], 14999 ; 00003a97H
  01664	0f 9e c0	 setle	 al
  01667	89 45 b4	 mov	 DWORD PTR tv67[ebp], eax
$LN8@DeleteKali@2:
  0166a	83 7d b4 00	 cmp	 DWORD PTR tv67[ebp], 0
  0166e	75 19		 jne	 SHORT $LN4@DeleteKali@2

; 461  : 	{	
; 462  : 		LogAddTD("[Kalima] DeleteKalimaGate() - out of Index (iCallOwnerIndex:%d)",	iCallOwnerIndex);

  01670	8b 45 08	 mov	 eax, DWORD PTR _iCallOwnerIndex$[ebp]
  01673	50		 push	 eax
  01674	68 00 00 00 00	 push	 OFFSET ??_C@_0EA@CCDLFCDJ@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@
  01679	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0167f	83 c4 08	 add	 esp, 8

; 463  : 		return false;

  01682	33 c0		 xor	 eax, eax
  01684	e9 ba 00 00 00	 jmp	 $LN5@DeleteKali@2
$LN4@DeleteKali@2:

; 464  : 	}
; 465  : 
; 466  : 	int iKalimaGateIndex = gObj[iCallOwnerIndex].m_iKalimaGateIndex;

  01689	8b 45 08	 mov	 eax, DWORD PTR _iCallOwnerIndex$[ebp]
  0168c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01692	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01698	8b 94 01 cc 03
	00 00		 mov	 edx, DWORD PTR [ecx+eax+972]
  0169f	89 55 f8	 mov	 DWORD PTR _iKalimaGateIndex$[ebp], edx

; 467  : 
; 468  : 	if (  OBJMAX_RANGE (iKalimaGateIndex ) == FALSE )

  016a2	83 7d f8 00	 cmp	 DWORD PTR _iKalimaGateIndex$[ebp], 0
  016a6	7d 09		 jge	 SHORT $LN9@DeleteKali@2
  016a8	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv77[ebp], 0
  016af	eb 0f		 jmp	 SHORT $LN10@DeleteKali@2
$LN9@DeleteKali@2:
  016b1	33 c0		 xor	 eax, eax
  016b3	81 7d f8 97 3a
	00 00		 cmp	 DWORD PTR _iKalimaGateIndex$[ebp], 14999 ; 00003a97H
  016ba	0f 9e c0	 setle	 al
  016bd	89 45 b4	 mov	 DWORD PTR tv77[ebp], eax
$LN10@DeleteKali@2:
  016c0	83 7d b4 00	 cmp	 DWORD PTR tv77[ebp], 0
  016c4	75 04		 jne	 SHORT $LN3@DeleteKali@2

; 469  : 	{	
; 470  : 		return false;

  016c6	33 c0		 xor	 eax, eax
  016c8	eb 79		 jmp	 SHORT $LN5@DeleteKali@2
$LN3@DeleteKali@2:

; 471  : 	}
; 472  : 
; 473  : 	if ( gObj[iKalimaGateIndex].Live == FALSE || !KALIMA_ATTRIBUTE_RANGE(gObj[iKalimaGateIndex].m_Attribute) )

  016ca	8b 45 f8	 mov	 eax, DWORD PTR _iKalimaGateIndex$[ebp]
  016cd	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  016d3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  016d9	0f b6 54 01 6a	 movzx	 edx, BYTE PTR [ecx+eax+106]
  016de	85 d2		 test	 edx, edx
  016e0	74 4d		 je	 SHORT $LN1@DeleteKali@2
  016e2	8b 45 f8	 mov	 eax, DWORD PTR _iKalimaGateIndex$[ebp]
  016e5	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  016eb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  016f1	0f bf 94 01 b6
	04 00 00	 movsx	 edx, WORD PTR [ecx+eax+1206]
  016f9	83 fa 33	 cmp	 edx, 51			; 00000033H
  016fc	7d 09		 jge	 SHORT $LN11@DeleteKali@2
  016fe	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv95[ebp], 0
  01705	eb 22		 jmp	 SHORT $LN12@DeleteKali@2
$LN11@DeleteKali@2:
  01707	8b 45 f8	 mov	 eax, DWORD PTR _iKalimaGateIndex$[ebp]
  0170a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01710	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01716	0f bf 94 01 b6
	04 00 00	 movsx	 edx, WORD PTR [ecx+eax+1206]
  0171e	33 c0		 xor	 eax, eax
  01720	83 fa 3a	 cmp	 edx, 58			; 0000003aH
  01723	0f 9e c0	 setle	 al
  01726	89 45 b4	 mov	 DWORD PTR tv95[ebp], eax
$LN12@DeleteKali@2:
  01729	83 7d b4 00	 cmp	 DWORD PTR tv95[ebp], 0
  0172d	75 04		 jne	 SHORT $LN2@DeleteKali@2
$LN1@DeleteKali@2:

; 474  : 	{
; 475  : 		return FALSE;

  0172f	33 c0		 xor	 eax, eax
  01731	eb 10		 jmp	 SHORT $LN5@DeleteKali@2
$LN2@DeleteKali@2:

; 476  : 	}
; 477  : 
; 478  : 	return this->DeleteKalimaGate(iKalimaGateIndex, iCallOwnerIndex);

  01733	8b 45 08	 mov	 eax, DWORD PTR _iCallOwnerIndex$[ebp]
  01736	50		 push	 eax
  01737	8b 4d f8	 mov	 ecx, DWORD PTR _iKalimaGateIndex$[ebp]
  0173a	51		 push	 ecx
  0173b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0173e	e8 00 00 00 00	 call	 ?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z ; CKalimaGate::DeleteKalimaGate
$LN5@DeleteKali@2:

; 479  : }

  01743	5f		 pop	 edi
  01744	5e		 pop	 esi
  01745	5b		 pop	 ebx
  01746	8b e5		 mov	 esp, ebp
  01748	5d		 pop	 ebp
  01749	c2 04 00	 ret	 4
?DeleteKalimaGate@CKalimaGate@@QAEHH@Z ENDP		; CKalimaGate::DeleteKalimaGate
_TEXT	ENDS
PUBLIC	??_C@_0JC@FDOJEAMO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@ ; `string'
PUBLIC	??_C@_0FE@DCIHOCIF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ ; `string'
PUBLIC	??_C@_0GN@ELAOECBK@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	??_C@_0FO@JJMJIIJC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	??_C@_0FA@KLLHPHHL@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	??_C@_0DG@GKLFNKKH@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@ ; `string'
PUBLIC	?CreateKalimaGate2@CKalimaGate@@QAEHHHEE@Z	; CKalimaGate::CreateKalimaGate2
;	COMDAT ??_C@_0JC@FDOJEAMO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@
CONST	SEGMENT
??_C@_0JC@FDOJEAMO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@ DB '['
	DB	'Kalima] [%s][%s] Create Kalima Gate Successfuly (NextMap) (Li'
	DB	've:%d, GateTick:%u, DieRegen:%d, Map:%d, X:%d, Y:%d, SummonIn'
	DB	'dex:%d, OwnerIndex:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0FE@DCIHOCIF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
CONST	SEGMENT
??_C@_0FE@DCIHOCIF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ DB '['
	DB	'Kalima] [%s][%s] Kalima Gate Vanished (NextMap) - lpMATTR == '
	DB	'NULL (SummonIndex:%d)', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0GN@ELAOECBK@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0GN@ELAOECBK@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate (NextMap) - Fai'
	DB	'led to get Location (MapNumber:%d, X:%d, Y:%d)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0FO@JJMJIIJC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0FO@JJMJIIJC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate (NextMap) - Alr'
	DB	'eady Have Gate (SummonIndex:%d)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0FA@KLLHPHHL@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0FA@KLLHPHHL@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate (NextMap) - Map'
	DB	'Number Error : %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0DG@GKLFNKKH@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@
CONST	SEGMENT
??_C@_0DG@GKLFNKKH@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@ DB '['
	DB	'Kalima] [%s][%s] Try to Create Kalima Gate (NextMap)', 00H ; `string'
CONST	ENDS
xdata$x	SEGMENT
	ORG $+4
__sehtable$?CreateKalimaGate2@CKalimaGate@@QAEHHHEE@Z DD 0fffffffeH
	DD	00H
	DD	0ffffff6cH
	DD	00H
	DD	0fffffffeH
	DD	00H
	DD	FLAT:$LN13@CreateKali@2
; Function compile flags: /Odtp /ZI
xdata$x	ENDS
_TEXT	SEGMENT
$T232905 = -132						; size = 4
$T232906 = -128						; size = 4
$T232907 = -124						; size = 4
$T232908 = -120						; size = 4
$T232909 = -116						; size = 4
_lpMATTR$232406 = -48					; size = 4
_btMapAttr$232401 = -43					; size = 1
_cY$232400 = -42					; size = 1
_cX$232399 = -41					; size = 1
_iMonsterType$232398 = -40				; size = 4
_iMonsterIndex$ = -36					; size = 4
_bKalimaGateCreateSucceed$ = -32			; size = 4
_this$ = -28						; size = 4
__$SEHRec$ = -24					; size = 24
_iIndex$ = 8						; size = 4
_iMonMapNumber$ = 12					; size = 4
_cTX$ = 16						; size = 1
_cTY$ = 20						; size = 1
?CreateKalimaGate2@CKalimaGate@@QAEHHHEE@Z PROC		; CKalimaGate::CreateKalimaGate2
; _this$ = ecx

; 484  : {	

  01750	55		 push	 ebp
  01751	8b ec		 mov	 ebp, esp
  01753	6a fe		 push	 -2			; fffffffeH
  01755	68 00 00 00 00	 push	 OFFSET __sehtable$?CreateKalimaGate2@CKalimaGate@@QAEHHHEE@Z
  0175a	68 00 00 00 00	 push	 OFFSET __except_handler4
  0175f	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  01765	50		 push	 eax
  01766	83 c4 8c	 add	 esp, -116		; ffffff8cH
  01769	53		 push	 ebx
  0176a	56		 push	 esi
  0176b	57		 push	 edi
  0176c	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  01771	31 45 f8	 xor	 DWORD PTR __$SEHRec$[ebp+16], eax
  01774	33 c5		 xor	 eax, ebp
  01776	50		 push	 eax
  01777	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  0177a	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  01780	89 4d e4	 mov	 DWORD PTR _this$[ebp], ecx

; 485  : 	BOOL bKalimaGateCreateSucceed = FALSE;

  01783	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _bKalimaGateCreateSucceed$[ebp], 0

; 486  : 	int iMonsterIndex = -1;

  0178a	c7 45 dc ff ff
	ff ff		 mov	 DWORD PTR _iMonsterIndex$[ebp], -1

; 487  : 
; 488  : 	EnterCriticalSection(&this->m_critKalimaGate);

  01791	8b 45 e4	 mov	 eax, DWORD PTR _this$[ebp]
  01794	83 c0 04	 add	 eax, 4
  01797	50		 push	 eax
  01798	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnterCriticalSection@4

; 489  : 
; 490  : 	__try

  0179e	9b		 fwait
  0179f	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$SEHRec$[ebp+20], 0

; 491  : 	{
; 492  : 		if ( !gObjIsConnected(iIndex))

  017a6	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  017a9	50		 push	 eax
  017aa	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  017af	83 c4 04	 add	 esp, 4
  017b2	85 c0		 test	 eax, eax
  017b4	75 29		 jne	 SHORT $LN8@CreateKali@2

; 493  : 			return FALSE;

  017b6	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR $T232905[ebp], 0
  017c0	6a fe		 push	 -2			; fffffffeH
  017c2	9b		 fwait
  017c3	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  017c6	50		 push	 eax
  017c7	68 00 00 00 00	 push	 OFFSET ___security_cookie
  017cc	e8 00 00 00 00	 call	 __local_unwind4
  017d1	83 c4 0c	 add	 esp, 12			; 0000000cH
  017d4	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR $T232905[ebp]
  017da	e9 64 06 00 00	 jmp	 $LN10@CreateKali@2
$LN8@CreateKali@2:

; 494  : 
; 495  : 		LogAddTD("[Kalima] [%s][%s] Try to Create Kalima Gate (NextMap)", gObj[iIndex].AccountID, gObj[iIndex].Name);

  017df	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  017e2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  017e8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  017ee	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  017f2	52		 push	 edx
  017f3	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  017f6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  017fc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01802	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  01806	52		 push	 edx
  01807	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@GKLFNKKH@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@
  0180c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01812	83 c4 0c	 add	 esp, 12			; 0000000cH

; 496  : 
; 497  : 		if ( iMonMapNumber < MAP_INDEX_KALIMA1 || iMonMapNumber > MAP_INDEX_KALIMA6-1 )

  01815	83 7d 0c 18	 cmp	 DWORD PTR _iMonMapNumber$[ebp], 24 ; 00000018H
  01819	7c 06		 jl	 SHORT $LN6@CreateKali@2
  0181b	83 7d 0c 1c	 cmp	 DWORD PTR _iMonMapNumber$[ebp], 28 ; 0000001cH
  0181f	7e 5d		 jle	 SHORT $LN7@CreateKali@2
$LN6@CreateKali@2:

; 498  : 		{
; 499  : 			LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate (NextMap) - MapNumber Error : %d",	gObj[iIndex].AccountID, gObj[iIndex].Name, iMonMapNumber);

  01821	8b 45 0c	 mov	 eax, DWORD PTR _iMonMapNumber$[ebp]
  01824	50		 push	 eax
  01825	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  01828	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0182e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01834	8d 44 0a 77	 lea	 eax, DWORD PTR [edx+ecx+119]
  01838	50		 push	 eax
  01839	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  0183c	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01842	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01848	8d 44 0a 6c	 lea	 eax, DWORD PTR [edx+ecx+108]
  0184c	50		 push	 eax
  0184d	68 00 00 00 00	 push	 OFFSET ??_C@_0FA@KLLHPHHL@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
  01852	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01858	83 c4 10	 add	 esp, 16			; 00000010H

; 500  : 
; 501  : 			return FALSE;

  0185b	c7 45 80 00 00
	00 00		 mov	 DWORD PTR $T232906[ebp], 0
  01862	6a fe		 push	 -2			; fffffffeH
  01864	9b		 fwait
  01865	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  01868	50		 push	 eax
  01869	68 00 00 00 00	 push	 OFFSET ___security_cookie
  0186e	e8 00 00 00 00	 call	 __local_unwind4
  01873	83 c4 0c	 add	 esp, 12			; 0000000cH
  01876	8b 45 80	 mov	 eax, DWORD PTR $T232906[ebp]
  01879	e9 c5 05 00 00	 jmp	 $LN10@CreateKali@2
$LN7@CreateKali@2:

; 502  : 		}
; 503  : 
; 504  : 		if ( gObj[iIndex].m_cKalimaGateExist == TRUE )

  0187e	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01881	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01887	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0188d	0f be 94 01 ca
	03 00 00	 movsx	 edx, BYTE PTR [ecx+eax+970]
  01895	83 fa 01	 cmp	 edx, 1
  01898	0f 85 8e 00 00
	00		 jne	 $LN5@CreateKali@2

; 505  : 		{
; 506  : 			GCServerMsgStringSend(lMsg.Get(MSGGET(4, 224)), iIndex, 1);

  0189e	6a 01		 push	 1
  018a0	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  018a3	50		 push	 eax
  018a4	68 e0 04 00 00	 push	 1248			; 000004e0H
  018a9	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  018ae	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  018b3	50		 push	 eax
  018b4	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  018b9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 507  : 
; 508  : 			LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate (NextMap) - Already Have Gate (SummonIndex:%d)", gObj[iIndex].AccountID, gObj[iIndex].Name, gObj[iIndex].m_iKalimaGateIndex);

  018bc	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  018bf	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  018c5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  018cb	8b 94 01 cc 03
	00 00		 mov	 edx, DWORD PTR [ecx+eax+972]
  018d2	52		 push	 edx
  018d3	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  018d6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  018dc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  018e2	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  018e6	52		 push	 edx
  018e7	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  018ea	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  018f0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  018f6	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  018fa	52		 push	 edx
  018fb	68 00 00 00 00	 push	 OFFSET ??_C@_0FO@JJMJIIJC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
  01900	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01906	83 c4 10	 add	 esp, 16			; 00000010H

; 509  : 	
; 510  : 			return FALSE;

  01909	c7 45 84 00 00
	00 00		 mov	 DWORD PTR $T232907[ebp], 0
  01910	6a fe		 push	 -2			; fffffffeH
  01912	9b		 fwait
  01913	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  01916	50		 push	 eax
  01917	68 00 00 00 00	 push	 OFFSET ___security_cookie
  0191c	e8 00 00 00 00	 call	 __local_unwind4
  01921	83 c4 0c	 add	 esp, 12			; 0000000cH
  01924	8b 45 84	 mov	 eax, DWORD PTR $T232907[ebp]
  01927	e9 17 05 00 00	 jmp	 $LN10@CreateKali@2
$LN5@CreateKali@2:

; 511  : 		}
; 512  : 
; 513  : 		int iMonsterType = iMonMapNumber + 129;

  0192c	8b 45 0c	 mov	 eax, DWORD PTR _iMonMapNumber$[ebp]
  0192f	05 81 00 00 00	 add	 eax, 129		; 00000081H
  01934	89 45 d8	 mov	 DWORD PTR _iMonsterType$232398[ebp], eax

; 514  : 		BYTE cX = cTX;

  01937	8a 45 10	 mov	 al, BYTE PTR _cTX$[ebp]
  0193a	88 45 d7	 mov	 BYTE PTR _cX$232399[ebp], al

; 515  : 		BYTE cY = cTY;

  0193d	8a 45 14	 mov	 al, BYTE PTR _cTY$[ebp]
  01940	88 45 d6	 mov	 BYTE PTR _cY$232400[ebp], al

; 516  : 		BYTE btMapAttr = MapC[iMonMapNumber].GetAttr(cX, cY);

  01943	0f b6 45 d6	 movzx	 eax, BYTE PTR _cY$232400[ebp]
  01947	50		 push	 eax
  01948	0f b6 4d d7	 movzx	 ecx, BYTE PTR _cX$232399[ebp]
  0194c	51		 push	 ecx
  0194d	8b 4d 0c	 mov	 ecx, DWORD PTR _iMonMapNumber$[ebp]
  01950	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  01956	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  0195c	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  01961	88 45 d5	 mov	 BYTE PTR _btMapAttr$232401[ebp], al

; 517  : 
; 518  : 		if ( btMapAttr != 0 )

  01964	0f b6 45 d5	 movzx	 eax, BYTE PTR _btMapAttr$232401[ebp]
  01968	85 c0		 test	 eax, eax
  0196a	74 7f		 je	 SHORT $LN3@CreateKali@2

; 519  : 		{
; 520  : 			if ( this->GetRandomLocation(iMonMapNumber, cX, cY) == FALSE )

  0196c	8d 45 d6	 lea	 eax, DWORD PTR _cY$232400[ebp]
  0196f	50		 push	 eax
  01970	8d 4d d7	 lea	 ecx, DWORD PTR _cX$232399[ebp]
  01973	51		 push	 ecx
  01974	8b 55 0c	 mov	 edx, DWORD PTR _iMonMapNumber$[ebp]
  01977	52		 push	 edx
  01978	8b 4d e4	 mov	 ecx, DWORD PTR _this$[ebp]
  0197b	e8 00 00 00 00	 call	 ?GetRandomLocation@CKalimaGate@@AAEHHAAE0@Z ; CKalimaGate::GetRandomLocation
  01980	85 c0		 test	 eax, eax
  01982	75 67		 jne	 SHORT $LN3@CreateKali@2

; 521  : 			{
; 522  : 				LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate (NextMap) - Failed to get Location (MapNumber:%d, X:%d, Y:%d)", gObj[iIndex].AccountID, gObj[iIndex].Name, iMonMapNumber, cX, cY);

  01984	0f b6 45 d6	 movzx	 eax, BYTE PTR _cY$232400[ebp]
  01988	50		 push	 eax
  01989	0f b6 4d d7	 movzx	 ecx, BYTE PTR _cX$232399[ebp]
  0198d	51		 push	 ecx
  0198e	8b 55 0c	 mov	 edx, DWORD PTR _iMonMapNumber$[ebp]
  01991	52		 push	 edx
  01992	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01995	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0199b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  019a1	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  019a5	52		 push	 edx
  019a6	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  019a9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  019af	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  019b5	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  019b9	52		 push	 edx
  019ba	68 00 00 00 00	 push	 OFFSET ??_C@_0GN@ELAOECBK@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
  019bf	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  019c5	83 c4 18	 add	 esp, 24			; 00000018H

; 523  : 
; 524  : 				return FALSE;

  019c8	c7 45 88 00 00
	00 00		 mov	 DWORD PTR $T232908[ebp], 0
  019cf	6a fe		 push	 -2			; fffffffeH
  019d1	9b		 fwait
  019d2	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  019d5	50		 push	 eax
  019d6	68 00 00 00 00	 push	 OFFSET ___security_cookie
  019db	e8 00 00 00 00	 call	 __local_unwind4
  019e0	83 c4 0c	 add	 esp, 12			; 0000000cH
  019e3	8b 45 88	 mov	 eax, DWORD PTR $T232908[ebp]
  019e6	e9 58 04 00 00	 jmp	 $LN10@CreateKali@2
$LN3@CreateKali@2:

; 525  : 			}
; 526  : 		}
; 527  : 
; 528  : 		iMonsterIndex = gObjAddMonster(iMonMapNumber);

  019eb	8b 45 0c	 mov	 eax, DWORD PTR _iMonMapNumber$[ebp]
  019ee	50		 push	 eax
  019ef	e8 00 00 00 00	 call	 ?gObjAddMonster@@YAFH@Z	; gObjAddMonster
  019f4	83 c4 04	 add	 esp, 4
  019f7	0f bf c8	 movsx	 ecx, ax
  019fa	89 4d dc	 mov	 DWORD PTR _iMonsterIndex$[ebp], ecx

; 529  : 
; 530  : 		if ( iMonsterIndex >= 0 )

  019fd	83 7d dc 00	 cmp	 DWORD PTR _iMonsterIndex$[ebp], 0
  01a01	0f 8c 1a 04 00
	00		 jl	 $LN2@CreateKali@2

; 531  : 		{
; 532  : 			MONSTER_ATTRIBUTE * lpMATTR = gMAttr.GetAttr(iMonsterType);

  01a07	8b 45 d8	 mov	 eax, DWORD PTR _iMonsterType$232398[ebp]
  01a0a	50		 push	 eax
  01a0b	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  01a10	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr
  01a15	89 45 d0	 mov	 DWORD PTR _lpMATTR$232406[ebp], eax

; 533  : 
; 534  : 			if ( !lpMATTR )

  01a18	83 7d d0 00	 cmp	 DWORD PTR _lpMATTR$232406[ebp], 0
  01a1c	75 69		 jne	 SHORT $LN1@CreateKali@2

; 535  : 			{
; 536  : 				gObjDel(iMonsterIndex);

  01a1e	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01a21	50		 push	 eax
  01a22	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  01a27	83 c4 04	 add	 esp, 4

; 537  : 
; 538  : 				LogAddTD("[Kalima] [%s][%s] Kalima Gate Vanished (NextMap) - lpMATTR == NULL (SummonIndex:%d)",	gObj[iIndex].AccountID, gObj[iIndex].Name, iMonsterIndex);

  01a2a	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01a2d	50		 push	 eax
  01a2e	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  01a31	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01a37	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01a3d	8d 44 0a 77	 lea	 eax, DWORD PTR [edx+ecx+119]
  01a41	50		 push	 eax
  01a42	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  01a45	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01a4b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01a51	8d 44 0a 6c	 lea	 eax, DWORD PTR [edx+ecx+108]
  01a55	50		 push	 eax
  01a56	68 00 00 00 00	 push	 OFFSET ??_C@_0FE@DCIHOCIF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
  01a5b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01a61	83 c4 10	 add	 esp, 16			; 00000010H

; 539  : 
; 540  : 				return FALSE;

  01a64	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR $T232909[ebp], 0
  01a6b	6a fe		 push	 -2			; fffffffeH
  01a6d	9b		 fwait
  01a6e	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  01a71	50		 push	 eax
  01a72	68 00 00 00 00	 push	 OFFSET ___security_cookie
  01a77	e8 00 00 00 00	 call	 __local_unwind4
  01a7c	83 c4 0c	 add	 esp, 12			; 0000000cH
  01a7f	8b 45 8c	 mov	 eax, DWORD PTR $T232909[ebp]
  01a82	e9 bc 03 00 00	 jmp	 $LN10@CreateKali@2
$LN1@CreateKali@2:

; 541  : 			}
; 542  : 
; 543  : 			gObjSetMonster(iMonsterIndex, iMonsterType);

  01a87	8b 45 d8	 mov	 eax, DWORD PTR _iMonsterType$232398[ebp]
  01a8a	50		 push	 eax
  01a8b	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  01a8e	51		 push	 ecx
  01a8f	e8 00 00 00 00	 call	 ?gObjSetMonster@@YAHHH@Z ; gObjSetMonster
  01a94	83 c4 08	 add	 esp, 8

; 544  : 			gObj[iMonsterIndex].Live = TRUE;

  01a97	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01a9a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01aa0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01aa6	c6 44 01 6a 01	 mov	 BYTE PTR [ecx+eax+106], 1

; 545  : 			gObj[iMonsterIndex].Life = 1000.0;

  01aab	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01aae	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01ab4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01aba	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@447a0000
  01ac0	d9 9c 01 fc 00
	00 00		 fstp	 DWORD PTR [ecx+eax+252]

; 546  : 			gObj[iMonsterIndex].MaxLife = 1000.0;

  01ac7	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01aca	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01ad0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01ad6	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@447a0000
  01adc	d9 9c 01 00 01
	00 00		 fstp	 DWORD PTR [ecx+eax+256]

; 547  : 			gObj[iMonsterIndex].m_PosNum = -1;

  01ae3	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01ae6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01aec	83 c9 ff	 or	 ecx, -1
  01aef	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01af5	66 89 8c 02 b0
	03 00 00	 mov	 WORD PTR [edx+eax+944], cx

; 548  : 			gObj[iMonsterIndex].X = cX;

  01afd	66 0f b6 45 d7	 movzx	 ax, BYTE PTR _cX$232399[ebp]
  01b02	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  01b05	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01b0b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01b11	66 89 84 0a 44
	01 00 00	 mov	 WORD PTR [edx+ecx+324], ax

; 549  : 			gObj[iMonsterIndex].Y = cY;

  01b19	66 0f b6 45 d6	 movzx	 ax, BYTE PTR _cY$232400[ebp]
  01b1e	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  01b21	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01b27	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01b2d	66 89 84 0a 46
	01 00 00	 mov	 WORD PTR [edx+ecx+326], ax

; 550  : 			gObj[iMonsterIndex].MTX = cX;

  01b35	66 0f b6 45 d7	 movzx	 ax, BYTE PTR _cX$232399[ebp]
  01b3a	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  01b3d	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01b43	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01b49	66 89 84 0a 80
	01 00 00	 mov	 WORD PTR [edx+ecx+384], ax

; 551  : 			gObj[iMonsterIndex].MTY = cY;

  01b51	66 0f b6 45 d6	 movzx	 ax, BYTE PTR _cY$232400[ebp]
  01b56	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  01b59	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01b5f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01b65	66 89 84 0a 82
	01 00 00	 mov	 WORD PTR [edx+ecx+386], ax

; 552  : 			gObj[iMonsterIndex].TX = cX;

  01b6d	66 0f b6 45 d7	 movzx	 ax, BYTE PTR _cX$232399[ebp]
  01b72	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  01b75	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01b7b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01b81	66 89 84 0a 7c
	01 00 00	 mov	 WORD PTR [edx+ecx+380], ax

; 553  : 			gObj[iMonsterIndex].TY = cY;

  01b89	66 0f b6 45 d6	 movzx	 ax, BYTE PTR _cY$232400[ebp]
  01b8e	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  01b91	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01b97	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01b9d	66 89 84 0a 7e
	01 00 00	 mov	 WORD PTR [edx+ecx+382], ax

; 554  : 			gObj[iMonsterIndex].m_OldX = cX;

  01ba5	66 0f b6 45 d7	 movzx	 ax, BYTE PTR _cX$232399[ebp]
  01baa	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  01bad	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01bb3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01bb9	66 89 84 0a 78
	01 00 00	 mov	 WORD PTR [edx+ecx+376], ax

; 555  : 			gObj[iMonsterIndex].m_OldY = cY;

  01bc1	66 0f b6 45 d6	 movzx	 ax, BYTE PTR _cY$232400[ebp]
  01bc6	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  01bc9	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01bcf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01bd5	66 89 84 0a 7a
	01 00 00	 mov	 WORD PTR [edx+ecx+378], ax

; 556  : 			gObj[iMonsterIndex].StartX = cX;

  01bdd	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01be0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01be6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01bec	8a 55 d7	 mov	 dl, BYTE PTR _cX$232399[ebp]
  01bef	88 94 01 76 01
	00 00		 mov	 BYTE PTR [ecx+eax+374], dl

; 557  : 			gObj[iMonsterIndex].StartY = cY;

  01bf6	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01bf9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01bff	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01c05	8a 55 d6	 mov	 dl, BYTE PTR _cY$232400[ebp]
  01c08	88 94 01 77 01
	00 00		 mov	 BYTE PTR [ecx+eax+375], dl

; 558  : 			gObj[iMonsterIndex].MapNumber = iMonMapNumber;

  01c0f	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01c12	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01c18	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01c1e	8a 55 0c	 mov	 dl, BYTE PTR _iMonMapNumber$[ebp]
  01c21	88 94 01 49 01
	00 00		 mov	 BYTE PTR [ecx+eax+329], dl

; 559  : 			gObj[iMonsterIndex].m_MoveRange = 0;

  01c28	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01c2b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01c31	33 c9		 xor	 ecx, ecx
  01c33	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01c39	66 89 8c 02 ae
	04 00 00	 mov	 WORD PTR [edx+eax+1198], cx

; 560  : 			gObj[iMonsterIndex].m_cKalimaGateEnterCount = 0;

  01c41	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01c44	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01c4a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01c50	c6 84 01 d0 03
	00 00 00	 mov	 BYTE PTR [ecx+eax+976], 0

; 561  : 
; 562  : 			gObj[iIndex].m_cKalimaGateExist = TRUE;

  01c58	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01c5b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01c61	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01c67	c6 84 01 ca 03
	00 00 01	 mov	 BYTE PTR [ecx+eax+970], 1

; 563  : 			gObj[iIndex].m_iKalimaGateIndex = iMonsterIndex;

  01c6f	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01c72	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01c78	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01c7e	8b 55 dc	 mov	 edx, DWORD PTR _iMonsterIndex$[ebp]
  01c81	89 94 01 cc 03
	00 00		 mov	 DWORD PTR [ecx+eax+972], edx

; 564  : 
; 565  : 			gObj[iMonsterIndex].Level = lpMATTR->m_Level;

  01c88	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01c8b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01c91	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01c97	8b 55 d0	 mov	 edx, DWORD PTR _lpMATTR$232406[ebp]
  01c9a	66 8b 52 1c	 mov	 dx, WORD PTR [edx+28]
  01c9e	66 89 94 01 be
	00 00 00	 mov	 WORD PTR [ecx+eax+190], dx

; 566  : 			gObj[iMonsterIndex].Type = OBJ_MONSTER;

  01ca6	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01ca9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01caf	b9 02 00 00 00	 mov	 ecx, 2
  01cb4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01cba	66 89 4c 02 68	 mov	 WORD PTR [edx+eax+104], cx

; 567  : 			gObj[iMonsterIndex].MaxRegenTime = 1000;

  01cbf	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01cc2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01cc8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01cce	c7 84 01 ac 03
	00 00 e8 03 00
	00		 mov	 DWORD PTR [ecx+eax+940], 1000 ; 000003e8H

; 568  : 			gObj[iMonsterIndex].Dir = 1;

  01cd9	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01cdc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01ce2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01ce8	c6 84 01 48 01
	00 00 01	 mov	 BYTE PTR [ecx+eax+328], 1

; 569  : 
; 570  : 			gObj[iMonsterIndex].m_RecallMon = iIndex;

  01cf0	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01cf3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01cf9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01cff	8b 55 08	 mov	 edx, DWORD PTR _iIndex$[ebp]
  01d02	89 94 01 50 04
	00 00		 mov	 DWORD PTR [ecx+eax+1104], edx

; 571  : 			gObj[iMonsterIndex].RegenTime = GetTickCount();

  01d09	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  01d0f	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  01d12	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01d18	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01d1e	89 84 0a a8 03
	00 00		 mov	 DWORD PTR [edx+ecx+936], eax

; 572  : 			gObj[iMonsterIndex].m_Attribute = 58;

  01d25	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01d28	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01d2e	b9 3a 00 00 00	 mov	 ecx, 58			; 0000003aH
  01d33	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01d39	66 89 8c 02 b6
	04 00 00	 mov	 WORD PTR [edx+eax+1206], cx

; 573  : 			gObj[iMonsterIndex].DieRegen = FALSE;

  01d41	8b 45 dc	 mov	 eax, DWORD PTR _iMonsterIndex$[ebp]
  01d44	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01d4a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01d50	c6 84 01 a2 03
	00 00 00	 mov	 BYTE PTR [ecx+eax+930], 0

; 574  : 			
; 575  : 			LogAddTD("[Kalima] [%s][%s] Create Kalima Gate Successfuly (NextMap) (Live:%d, GateTick:%u, DieRegen:%d, Map:%d, X:%d, Y:%d, SummonIndex:%d, OwnerIndex:%d)", gObj[iIndex].AccountID, gObj[iIndex].Name, gObj[iMonsterIndex].Live, gObj[iMonsterIndex].RegenTime,	gObj[iMonsterIndex].DieRegen, gObj[iMonsterIndex].MapNumber, gObj[iMonsterIndex].X,	gObj[iMonsterIndex].Y, iMonsterIndex, iIndex);

  01d58	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01d5b	50		 push	 eax
  01d5c	8b 4d dc	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  01d5f	51		 push	 ecx
  01d60	8b 55 dc	 mov	 edx, DWORD PTR _iMonsterIndex$[ebp]
  01d63	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  01d69	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01d6e	0f bf 8c 10 46
	01 00 00	 movsx	 ecx, WORD PTR [eax+edx+326]
  01d76	51		 push	 ecx
  01d77	8b 55 dc	 mov	 edx, DWORD PTR _iMonsterIndex$[ebp]
  01d7a	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  01d80	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01d85	0f bf 8c 10 44
	01 00 00	 movsx	 ecx, WORD PTR [eax+edx+324]
  01d8d	51		 push	 ecx
  01d8e	8b 55 dc	 mov	 edx, DWORD PTR _iMonsterIndex$[ebp]
  01d91	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  01d97	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01d9c	0f b6 8c 10 49
	01 00 00	 movzx	 ecx, BYTE PTR [eax+edx+329]
  01da4	51		 push	 ecx
  01da5	8b 55 dc	 mov	 edx, DWORD PTR _iMonsterIndex$[ebp]
  01da8	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  01dae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01db3	0f be 8c 10 a2
	03 00 00	 movsx	 ecx, BYTE PTR [eax+edx+930]
  01dbb	51		 push	 ecx
  01dbc	8b 55 dc	 mov	 edx, DWORD PTR _iMonsterIndex$[ebp]
  01dbf	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  01dc5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01dca	8b 8c 10 a8 03
	00 00		 mov	 ecx, DWORD PTR [eax+edx+936]
  01dd1	51		 push	 ecx
  01dd2	8b 55 dc	 mov	 edx, DWORD PTR _iMonsterIndex$[ebp]
  01dd5	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  01ddb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01de0	0f b6 4c 10 6a	 movzx	 ecx, BYTE PTR [eax+edx+106]
  01de5	51		 push	 ecx
  01de6	8b 55 08	 mov	 edx, DWORD PTR _iIndex$[ebp]
  01de9	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  01def	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01df4	8d 4c 10 77	 lea	 ecx, DWORD PTR [eax+edx+119]
  01df8	51		 push	 ecx
  01df9	8b 55 08	 mov	 edx, DWORD PTR _iIndex$[ebp]
  01dfc	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  01e02	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01e07	8d 4c 10 6c	 lea	 ecx, DWORD PTR [eax+edx+108]
  01e0b	51		 push	 ecx
  01e0c	68 00 00 00 00	 push	 OFFSET ??_C@_0JC@FDOJEAMO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@
  01e11	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01e17	83 c4 2c	 add	 esp, 44			; 0000002cH

; 576  : 			bKalimaGateCreateSucceed = TRUE;

  01e1a	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bKalimaGateCreateSucceed$[ebp], 1
$LN2@CreateKali@2:

; 577  : 
; 578  : 
; 579  : 		}
; 580  : 	}
; 581  : 	__finally

  01e21	9b		 fwait
  01e22	c7 45 fc fe ff
	ff ff		 mov	 DWORD PTR __$SEHRec$[ebp+20], -2 ; fffffffeH
  01e29	e8 02 00 00 00	 call	 $LN15@CreateKali@2
  01e2e	eb 0e		 jmp	 SHORT $LN16@CreateKali@2
$LN13@CreateKali@2:
$LN18@CreateKali@2:
$LN15@CreateKali@2:

; 582  : 	{
; 583  : 		LeaveCriticalSection(&this->m_critKalimaGate);

  01e30	8b 45 e4	 mov	 eax, DWORD PTR _this$[ebp]
  01e33	83 c0 04	 add	 eax, 4
  01e36	50		 push	 eax
  01e37	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LeaveCriticalSection@4
$LN14@CreateKali@2:
$LN17@CreateKali@2:
  01e3d	c3		 ret	 0
$LN16@CreateKali@2:

; 584  : 	}
; 585  : 
; 586  : 	return TRUE;

  01e3e	b8 01 00 00 00	 mov	 eax, 1
$LN10@CreateKali@2:

; 587  : }

  01e43	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  01e46	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  01e4d	59		 pop	 ecx
  01e4e	5f		 pop	 edi
  01e4f	5e		 pop	 esi
  01e50	5b		 pop	 ebx
  01e51	8b e5		 mov	 esp, ebp
  01e53	5d		 pop	 ebp
  01e54	c2 10 00	 ret	 16			; 00000010H
?CreateKalimaGate2@CKalimaGate@@QAEHHHEE@Z ENDP		; CKalimaGate::CreateKalimaGate2
_TEXT	ENDS
PUBLIC	??_C@_0GN@EGMLLHID@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@ ; `string'
PUBLIC	??_C@_0FM@NAJNPHPN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ ; `string'
PUBLIC	??_C@_0FM@NCEGFJNE@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?$CIN@ ; `string'
PUBLIC	?KalimaGateAct2@CKalimaGate@@QAEXH@Z		; CKalimaGate::KalimaGateAct2
;	COMDAT ??_C@_0GN@EGMLLHID@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@
CONST	SEGMENT
??_C@_0GN@EGMLLHID@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@ DB '['
	DB	'Kalima] [%s][%s] - [%s][%s] Transported by Kalima Gate (NextM'
	DB	'ap) (SummonIndex:%d, GateNo.:%d, MapNumber:%d)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0FM@NAJNPHPN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
CONST	SEGMENT
??_C@_0FM@NAJNPHPN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ DB '['
	DB	'Kalima] [%s][%s] Kalima Gate Vanished (NextMap) - Time Out (S'
	DB	'ummonIndex:%d, EnterCount:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0FM@NCEGFJNE@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?$CIN@
CONST	SEGMENT
??_C@_0FM@NCEGFJNE@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?$CIN@ DB '[Ka'
	DB	'lima] Kalima Gate Vanished (NextMap) - Summoner Vanished (Sum'
	DB	'monIndex:%d, EnterCount:%d)', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv67 = -100						; size = 4
_iGateNumber$232440 = -32				; size = 4
_iMoveMapLevel$232439 = -28				; size = 4
_i$232428 = -24						; size = 4
_tObjNum$ = -20						; size = 4
_dwTickCount$ = -16					; size = 4
_lpObjCallOwner$ = -12					; size = 4
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_iIndex$ = 8						; size = 4
?KalimaGateAct2@CKalimaGate@@QAEXH@Z PROC		; CKalimaGate::KalimaGateAct2
; _this$ = ecx

; 593  : {

  01e60	55		 push	 ebp
  01e61	8b ec		 mov	 ebp, esp
  01e63	83 ec 64	 sub	 esp, 100		; 00000064H
  01e66	53		 push	 ebx
  01e67	56		 push	 esi
  01e68	57		 push	 edi
  01e69	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 594  : 	LPOBJ lpObj = NULL;

  01e6c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _lpObj$[ebp], 0

; 595  : 	LPOBJ lpObjCallOwner = NULL;

  01e73	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _lpObjCallOwner$[ebp], 0

; 596  : 
; 597  : 	if ( OBJMAX_RANGE(iIndex) == FALSE )

  01e7a	83 7d 08 00	 cmp	 DWORD PTR _iIndex$[ebp], 0
  01e7e	7d 09		 jge	 SHORT $LN24@KalimaGate@2
  01e80	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  01e87	eb 0f		 jmp	 SHORT $LN25@KalimaGate@2
$LN24@KalimaGate@2:
  01e89	33 c0		 xor	 eax, eax
  01e8b	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _iIndex$[ebp], 14999 ; 00003a97H
  01e92	0f 9e c0	 setle	 al
  01e95	89 45 9c	 mov	 DWORD PTR tv67[ebp], eax
$LN25@KalimaGate@2:
  01e98	83 7d 9c 00	 cmp	 DWORD PTR tv67[ebp], 0
  01e9c	75 05		 jne	 SHORT $LN21@KalimaGate@2

; 598  : 		return;

  01e9e	e9 72 04 00 00	 jmp	 $LN22@KalimaGate@2
$LN21@KalimaGate@2:

; 599  : 
; 600  : 	if ( gObj[iIndex].Live == 0 )

  01ea3	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01ea6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01eac	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01eb2	0f b6 54 01 6a	 movzx	 edx, BYTE PTR [ecx+eax+106]
  01eb7	85 d2		 test	 edx, edx
  01eb9	75 05		 jne	 SHORT $LN20@KalimaGate@2

; 601  : 		return;

  01ebb	e9 55 04 00 00	 jmp	 $LN22@KalimaGate@2
$LN20@KalimaGate@2:

; 602  : 
; 603  : 	if ( !gObjIsConnected(gObj[iIndex].m_RecallMon ) )

  01ec0	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01ec3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01ec9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01ecf	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  01ed6	52		 push	 edx
  01ed7	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  01edc	83 c4 04	 add	 esp, 4
  01edf	85 c0		 test	 eax, eax
  01ee1	75 67		 jne	 SHORT $LN19@KalimaGate@2

; 604  : 	{
; 605  : 		LogAddTD("[Kalima] Kalima Gate Vanished (NextMap) - Summoner Vanished (SummonIndex:%d, EnterCount:%d)",
; 606  : 			iIndex, gObj[iIndex].m_cKalimaGateEnterCount);

  01ee3	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01ee6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01eec	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01ef2	0f be 94 01 d0
	03 00 00	 movsx	 edx, BYTE PTR [ecx+eax+976]
  01efa	52		 push	 edx
  01efb	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01efe	50		 push	 eax
  01eff	68 00 00 00 00	 push	 OFFSET ??_C@_0FM@NCEGFJNE@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?$CIN@
  01f04	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01f0a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 607  : 
; 608  : 		GCDiePlayerSend(&gObj[iIndex], iIndex, 0, 0);

  01f0d	6a 00		 push	 0
  01f0f	6a 00		 push	 0
  01f11	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01f14	50		 push	 eax
  01f15	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  01f18	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01f1e	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01f24	51		 push	 ecx
  01f25	e8 00 00 00 00	 call	 ?GCDiePlayerSend@@YAXPAUOBJECTSTRUCT@@HEH@Z ; GCDiePlayerSend
  01f2a	83 c4 10	 add	 esp, 16			; 00000010H

; 609  : 		gObjDel(iIndex);

  01f2d	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01f30	50		 push	 eax
  01f31	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  01f36	83 c4 04	 add	 esp, 4

; 610  : 		gObjCharZeroSet(iIndex);

  01f39	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01f3c	50		 push	 eax
  01f3d	e8 00 00 00 00	 call	 ?gObjCharZeroSet@@YAXH@Z ; gObjCharZeroSet
  01f42	83 c4 04	 add	 esp, 4

; 611  : 
; 612  : 		return;

  01f45	e9 cb 03 00 00	 jmp	 $LN22@KalimaGate@2
$LN19@KalimaGate@2:

; 613  : 	}
; 614  : 
; 615  : 	lpObj = &gObj[iIndex];

  01f4a	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01f4d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01f53	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01f59	89 45 f8	 mov	 DWORD PTR _lpObj$[ebp], eax

; 616  : 	lpObjCallOwner = &gObj[lpObj->m_RecallMon];

  01f5c	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01f5f	8b 88 50 04 00
	00		 mov	 ecx, DWORD PTR [eax+1104]
  01f65	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01f6b	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01f71	89 4d f4	 mov	 DWORD PTR _lpObjCallOwner$[ebp], ecx

; 617  : 
; 618  : 	if ( gObj[iIndex].m_cKalimaGateEnterCount >= MAX_KALIMA_ENTER )

  01f74	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01f77	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01f7d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01f83	0f be 94 01 d0
	03 00 00	 movsx	 edx, BYTE PTR [ecx+eax+976]
  01f8b	83 fa 05	 cmp	 edx, 5
  01f8e	7c 71		 jl	 SHORT $LN18@KalimaGate@2

; 619  : 	{
; 620  : 		lpObjCallOwner->AccountID[MAX_ACCOUNT_LEN]=0;

  01f90	8b 45 f4	 mov	 eax, DWORD PTR _lpObjCallOwner$[ebp]
  01f93	c6 40 76 00	 mov	 BYTE PTR [eax+118], 0

; 621  : 		lpObjCallOwner->Name[MAX_ACCOUNT_LEN]=0;

  01f97	8b 45 f4	 mov	 eax, DWORD PTR _lpObjCallOwner$[ebp]
  01f9a	c6 80 81 00 00
	00 00		 mov	 BYTE PTR [eax+129], 0

; 622  : 
; 623  : 		LogAddTD("[Kalima] [%s][%s] Kalima Gate Vanished - Enter Count Over (SummonIndex:%d, EnterCount:%d)",
; 624  : 			lpObjCallOwner->AccountID, lpObjCallOwner->Name, iIndex, gObj[iIndex].m_cKalimaGateEnterCount);

  01fa1	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01fa4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01faa	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01fb0	0f be 94 01 d0
	03 00 00	 movsx	 edx, BYTE PTR [ecx+eax+976]
  01fb8	52		 push	 edx
  01fb9	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01fbc	50		 push	 eax
  01fbd	8b 4d f4	 mov	 ecx, DWORD PTR _lpObjCallOwner$[ebp]
  01fc0	83 c1 77	 add	 ecx, 119		; 00000077H
  01fc3	51		 push	 ecx
  01fc4	8b 55 f4	 mov	 edx, DWORD PTR _lpObjCallOwner$[ebp]
  01fc7	83 c2 6c	 add	 edx, 108		; 0000006cH
  01fca	52		 push	 edx
  01fcb	68 00 00 00 00	 push	 OFFSET ??_C@_0FK@FFJOIHJB@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
  01fd0	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01fd6	83 c4 14	 add	 esp, 20			; 00000014H

; 625  : 
; 626  : 		this->DeleteKalimaGate(iIndex, gObj[iIndex].m_RecallMon);

  01fd9	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01fdc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01fe2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01fe8	8b 94 01 50 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1104]
  01fef	52		 push	 edx
  01ff0	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  01ff3	50		 push	 eax
  01ff4	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01ff7	e8 00 00 00 00	 call	 ?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z ; CKalimaGate::DeleteKalimaGate

; 627  : 
; 628  : 		return;

  01ffc	e9 14 03 00 00	 jmp	 $LN22@KalimaGate@2
$LN18@KalimaGate@2:

; 629  : 	}
; 630  : 
; 631  : 	DWORD dwTickCount = GetTickCount();

  02001	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  02007	89 45 f0	 mov	 DWORD PTR _dwTickCount$[ebp], eax

; 632  : 
; 633  : 	if ( dwTickCount > (lpObj->RegenTime+60000) )

  0200a	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0200d	8b 88 a8 03 00
	00		 mov	 ecx, DWORD PTR [eax+936]
  02013	81 c1 60 ea 00
	00		 add	 ecx, 60000		; 0000ea60H
  02019	39 4d f0	 cmp	 DWORD PTR _dwTickCount$[ebp], ecx
  0201c	76 62		 jbe	 SHORT $LN17@KalimaGate@2

; 634  : 	{
; 635  : 		lpObjCallOwner->AccountID[MAX_ACCOUNT_LEN]=0;

  0201e	8b 45 f4	 mov	 eax, DWORD PTR _lpObjCallOwner$[ebp]
  02021	c6 40 76 00	 mov	 BYTE PTR [eax+118], 0

; 636  : 		lpObjCallOwner->Name[MAX_ACCOUNT_LEN]=0;

  02025	8b 45 f4	 mov	 eax, DWORD PTR _lpObjCallOwner$[ebp]
  02028	c6 80 81 00 00
	00 00		 mov	 BYTE PTR [eax+129], 0

; 637  : 
; 638  : 		LogAddTD("[Kalima] [%s][%s] Kalima Gate Vanished (NextMap) - Time Out (SummonIndex:%d, EnterCount:%d)",
; 639  : 			lpObjCallOwner->AccountID, lpObjCallOwner->Name, iIndex, gObj[iIndex].m_cKalimaGateEnterCount);

  0202f	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  02032	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02038	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0203e	0f be 94 01 d0
	03 00 00	 movsx	 edx, BYTE PTR [ecx+eax+976]
  02046	52		 push	 edx
  02047	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0204a	50		 push	 eax
  0204b	8b 4d f4	 mov	 ecx, DWORD PTR _lpObjCallOwner$[ebp]
  0204e	83 c1 77	 add	 ecx, 119		; 00000077H
  02051	51		 push	 ecx
  02052	8b 55 f4	 mov	 edx, DWORD PTR _lpObjCallOwner$[ebp]
  02055	83 c2 6c	 add	 edx, 108		; 0000006cH
  02058	52		 push	 edx
  02059	68 00 00 00 00	 push	 OFFSET ??_C@_0FM@NAJNPHPN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
  0205e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  02064	83 c4 14	 add	 esp, 20			; 00000014H

; 640  : 
; 641  : 		this->DeleteKalimaGate(lpObj->m_Index, lpObjCallOwner->m_Index);

  02067	8b 45 f4	 mov	 eax, DWORD PTR _lpObjCallOwner$[ebp]
  0206a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0206c	51		 push	 ecx
  0206d	8b 55 f8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02070	8b 02		 mov	 eax, DWORD PTR [edx]
  02072	50		 push	 eax
  02073	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02076	e8 00 00 00 00	 call	 ?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z ; CKalimaGate::DeleteKalimaGate

; 642  : 
; 643  : 		return;

  0207b	e9 95 02 00 00	 jmp	 $LN22@KalimaGate@2
$LN17@KalimaGate@2:

; 644  : 	}
; 645  : 
; 646  : 	if ( lpObj->VPCount < 1 )

  02080	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02083	83 b8 30 0c 00
	00 01		 cmp	 DWORD PTR [eax+3120], 1
  0208a	7d 05		 jge	 SHORT $LN16@KalimaGate@2

; 647  : 		return;

  0208c	e9 84 02 00 00	 jmp	 $LN22@KalimaGate@2
$LN16@KalimaGate@2:

; 648  : 
; 649  : 	if ( lpObj->MapNumber < MAP_INDEX_KALIMA1 || lpObj->MapNumber > MAP_INDEX_KALIMA6-1 )

  02091	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02094	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0209b	83 f9 18	 cmp	 ecx, 24			; 00000018H
  0209e	7c 0f		 jl	 SHORT $LN14@KalimaGate@2
  020a0	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  020a3	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  020aa	83 f9 1c	 cmp	 ecx, 28			; 0000001cH
  020ad	7e 05		 jle	 SHORT $LN15@KalimaGate@2
$LN14@KalimaGate@2:

; 650  : 		return;

  020af	e9 61 02 00 00	 jmp	 $LN22@KalimaGate@2
$LN15@KalimaGate@2:

; 651  : 
; 652  : 	int tObjNum = -1;

  020b4	c7 45 ec ff ff
	ff ff		 mov	 DWORD PTR _tObjNum$[ebp], -1

; 653  : 
; 654  : 	for ( int i=0;i<MAX_VIEWPORT_MONSTER;i++)

  020bb	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _i$232428[ebp], 0
  020c2	eb 09		 jmp	 SHORT $LN13@KalimaGate@2
$LN12@KalimaGate@2:
  020c4	8b 45 e8	 mov	 eax, DWORD PTR _i$232428[ebp]
  020c7	83 c0 01	 add	 eax, 1
  020ca	89 45 e8	 mov	 DWORD PTR _i$232428[ebp], eax
$LN13@KalimaGate@2:
  020cd	83 7d e8 4b	 cmp	 DWORD PTR _i$232428[ebp], 75 ; 0000004bH
  020d1	0f 8d 3e 02 00
	00		 jge	 $LN22@KalimaGate@2

; 655  : 	{
; 656  : 		tObjNum = lpObj->VpPlayer[i].number;

  020d7	8b 45 e8	 mov	 eax, DWORD PTR _i$232428[ebp]
  020da	6b c0 0c	 imul	 eax, 12			; 0000000cH
  020dd	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  020e0	0f bf 94 01 2a
	05 00 00	 movsx	 edx, WORD PTR [ecx+eax+1322]
  020e8	89 55 ec	 mov	 DWORD PTR _tObjNum$[ebp], edx

; 657  : 
; 658  : 		if ( tObjNum >= 0 )

  020eb	83 7d ec 00	 cmp	 DWORD PTR _tObjNum$[ebp], 0
  020ef	0f 8c 1b 02 00
	00		 jl	 $LN10@KalimaGate@2

; 659  : 		{
; 660  : 			if ( gObj[tObjNum].Type == OBJ_USER )

  020f5	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  020f8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  020fe	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02104	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  02109	83 fa 01	 cmp	 edx, 1
  0210c	0f 85 fe 01 00
	00		 jne	 $LN10@KalimaGate@2

; 661  : 			{
; 662  : 				if ( gObj[tObjNum].Live )

  02112	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  02115	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0211b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02121	0f b6 54 01 6a	 movzx	 edx, BYTE PTR [ecx+eax+106]
  02126	85 d2		 test	 edx, edx
  02128	0f 84 e2 01 00
	00		 je	 $LN10@KalimaGate@2

; 663  : 				{
; 664  : 					if ( abs(lpObj->Y - gObj[tObjNum].Y) < 2 )

  0212e	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02131	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  02138	8b 55 ec	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  0213b	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  02141	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02146	0f bf 94 10 46
	01 00 00	 movsx	 edx, WORD PTR [eax+edx+326]
  0214e	2b ca		 sub	 ecx, edx
  02150	51		 push	 ecx
  02151	e8 00 00 00 00	 call	 _abs
  02156	83 c4 04	 add	 esp, 4
  02159	83 f8 02	 cmp	 eax, 2
  0215c	0f 8d ae 01 00
	00		 jge	 $LN10@KalimaGate@2

; 665  : 					{
; 666  : 						if ( abs(lpObj->X - gObj[tObjNum].X) < 2 )

  02162	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02165	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  0216c	8b 55 ec	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  0216f	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  02175	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0217a	0f bf 94 10 44
	01 00 00	 movsx	 edx, WORD PTR [eax+edx+324]
  02182	2b ca		 sub	 ecx, edx
  02184	51		 push	 ecx
  02185	e8 00 00 00 00	 call	 _abs
  0218a	83 c4 04	 add	 esp, 4
  0218d	83 f8 02	 cmp	 eax, 2
  02190	0f 8d 7a 01 00
	00		 jge	 $LN10@KalimaGate@2

; 667  : 						{
; 668  : 							if ( lpObj->m_RecallMon == tObjNum || (gObj[tObjNum].PartyNumber != -1 && lpObjCallOwner->PartyNumber == gObj[tObjNum].PartyNumber ))

  02196	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02199	8b 88 50 04 00
	00		 mov	 ecx, DWORD PTR [eax+1104]
  0219f	3b 4d ec	 cmp	 ecx, DWORD PTR _tObjNum$[ebp]
  021a2	74 42		 je	 SHORT $LN4@KalimaGate@2
  021a4	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  021a7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  021ad	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  021b3	83 bc 01 2c 04
	00 00 ff	 cmp	 DWORD PTR [ecx+eax+1068], -1
  021bb	0f 84 4f 01 00
	00		 je	 $LN10@KalimaGate@2
  021c1	8b 45 ec	 mov	 eax, DWORD PTR _tObjNum$[ebp]
  021c4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  021ca	8b 4d f4	 mov	 ecx, DWORD PTR _lpObjCallOwner$[ebp]
  021cd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  021d3	8b 89 2c 04 00
	00		 mov	 ecx, DWORD PTR [ecx+1068]
  021d9	3b 8c 02 2c 04
	00 00		 cmp	 ecx, DWORD PTR [edx+eax+1068]
  021e0	0f 85 2a 01 00
	00		 jne	 $LN10@KalimaGate@2
$LN4@KalimaGate@2:

; 669  : 							{
; 670  : 								int iMoveMapLevel = lpObj->MapNumber - MAP_INDEX_KALIMA1+1;

  021e6	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  021e9	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  021f0	83 e9 17	 sub	 ecx, 23			; 00000017H
  021f3	89 4d e4	 mov	 DWORD PTR _iMoveMapLevel$232439[ebp], ecx

; 671  : 								int iGateNumber = g_iKalimaGateGateIndex[iMoveMapLevel];

  021f6	8b 45 e4	 mov	 eax, DWORD PTR _iMoveMapLevel$232439[ebp]
  021f9	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR _g_iKalimaGateGateIndex[eax*4]
  02200	89 4d e0	 mov	 DWORD PTR _iGateNumber$232440[ebp], ecx

; 672  : 
; 673  : 								if ( !gObjMoveGate(tObjNum, iGateNumber))

  02203	8b 45 e0	 mov	 eax, DWORD PTR _iGateNumber$232440[ebp]
  02206	50		 push	 eax
  02207	8b 4d ec	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  0220a	51		 push	 ecx
  0220b	e8 00 00 00 00	 call	 ?gObjMoveGate@@YAHHH@Z	; gObjMoveGate
  02210	83 c4 08	 add	 esp, 8
  02213	85 c0		 test	 eax, eax
  02215	75 52		 jne	 SHORT $LN3@KalimaGate@2

; 674  : 								{
; 675  : 									LogAddTD("[Kalima] [%s][%s] - [%s][%s] move fail (MapNumber:%d)",
; 676  : 										lpObjCallOwner->AccountID, lpObjCallOwner->Name,
; 677  : 										gObj[tObjNum].AccountID, gObj[tObjNum].Name,
; 678  : 										lpObj->MapNumber);

  02217	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0221a	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  02221	51		 push	 ecx
  02222	8b 55 ec	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  02225	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0222b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02230	8d 4c 10 77	 lea	 ecx, DWORD PTR [eax+edx+119]
  02234	51		 push	 ecx
  02235	8b 55 ec	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  02238	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0223e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02243	8d 4c 10 6c	 lea	 ecx, DWORD PTR [eax+edx+108]
  02247	51		 push	 ecx
  02248	8b 55 f4	 mov	 edx, DWORD PTR _lpObjCallOwner$[ebp]
  0224b	83 c2 77	 add	 edx, 119		; 00000077H
  0224e	52		 push	 edx
  0224f	8b 45 f4	 mov	 eax, DWORD PTR _lpObjCallOwner$[ebp]
  02252	83 c0 6c	 add	 eax, 108		; 0000006cH
  02255	50		 push	 eax
  02256	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@DFEBENJO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5mov@
  0225b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  02261	83 c4 18	 add	 esp, 24			; 00000018H

; 679  : 								}
; 680  : 								else

  02264	e9 a7 00 00 00	 jmp	 $LN10@KalimaGate@2
$LN3@KalimaGate@2:

; 681  : 								{
; 682  : 									LogAddTD("[Kalima] [%s][%s] - [%s][%s] Transported by Kalima Gate (NextMap) (SummonIndex:%d, GateNo.:%d, MapNumber:%d)",
; 683  : 										lpObjCallOwner->AccountID, lpObjCallOwner->Name,
; 684  : 										gObj[tObjNum].AccountID, gObj[tObjNum].Name,
; 685  : 										iIndex, iMoveMapLevel+1, lpObj->MapNumber);

  02269	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0226c	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  02273	51		 push	 ecx
  02274	8b 55 e4	 mov	 edx, DWORD PTR _iMoveMapLevel$232439[ebp]
  02277	83 c2 01	 add	 edx, 1
  0227a	52		 push	 edx
  0227b	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0227e	50		 push	 eax
  0227f	8b 4d ec	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  02282	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  02288	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0228e	8d 44 0a 77	 lea	 eax, DWORD PTR [edx+ecx+119]
  02292	50		 push	 eax
  02293	8b 4d ec	 mov	 ecx, DWORD PTR _tObjNum$[ebp]
  02296	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0229c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  022a2	8d 44 0a 6c	 lea	 eax, DWORD PTR [edx+ecx+108]
  022a6	50		 push	 eax
  022a7	8b 4d f4	 mov	 ecx, DWORD PTR _lpObjCallOwner$[ebp]
  022aa	83 c1 77	 add	 ecx, 119		; 00000077H
  022ad	51		 push	 ecx
  022ae	8b 55 f4	 mov	 edx, DWORD PTR _lpObjCallOwner$[ebp]
  022b1	83 c2 6c	 add	 edx, 108		; 0000006cH
  022b4	52		 push	 edx
  022b5	68 00 00 00 00	 push	 OFFSET ??_C@_0GN@EGMLLHID@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@
  022ba	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  022c0	83 c4 20	 add	 esp, 32			; 00000020H

; 686  : 
; 687  : 									gObj[iIndex].m_cKalimaGateEnterCount++;

  022c3	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  022c6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  022cc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  022d2	8a 94 01 d0 03
	00 00		 mov	 dl, BYTE PTR [ecx+eax+976]
  022d9	80 c2 01	 add	 dl, 1
  022dc	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  022df	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  022e5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  022eb	88 94 01 d0 03
	00 00		 mov	 BYTE PTR [ecx+eax+976], dl

; 688  : 
; 689  : 									if ( gObj[iIndex].m_cKalimaGateEnterCount >= MAX_KALIMA_ENTER )

  022f2	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  022f5	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  022fb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02301	0f be 94 01 d0
	03 00 00	 movsx	 edx, BYTE PTR [ecx+eax+976]
  02309	83 fa 05	 cmp	 edx, 5
  0230c	7c 02		 jl	 SHORT $LN10@KalimaGate@2

; 690  : 										break;

  0230e	eb 05		 jmp	 SHORT $LN22@KalimaGate@2
$LN10@KalimaGate@2:

; 691  : 								}
; 692  : 							}
; 693  : 						}
; 694  : 					}
; 695  : 				}
; 696  : 			}
; 697  : 		}
; 698  : 	}

  02310	e9 af fd ff ff	 jmp	 $LN12@KalimaGate@2
$LN22@KalimaGate@2:

; 699  : }

  02315	5f		 pop	 edi
  02316	5e		 pop	 esi
  02317	5b		 pop	 ebx
  02318	8b e5		 mov	 esp, ebp
  0231a	5d		 pop	 ebp
  0231b	c2 04 00	 ret	 4
?KalimaGateAct2@CKalimaGate@@QAEXH@Z ENDP		; CKalimaGate::KalimaGateAct2
_TEXT	ENDS
PUBLIC	?GetKalimaGateLevel2@CKalimaGate@@QAEHH@Z	; CKalimaGate::GetKalimaGateLevel2
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_i$232458 = -12						; size = 4
_i$232451 = -8						; size = 4
_this$ = -4						; size = 4
_iIndex$ = 8						; size = 4
?GetKalimaGateLevel2@CKalimaGate@@QAEHH@Z PROC		; CKalimaGate::GetKalimaGateLevel2
; _this$ = ecx

; 705  : {

  02320	55		 push	 ebp
  02321	8b ec		 mov	 ebp, esp
  02323	83 ec 4c	 sub	 esp, 76			; 0000004cH
  02326	53		 push	 ebx
  02327	56		 push	 esi
  02328	57		 push	 edi
  02329	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 706  : 	if ( gObj[iIndex].Class == CLASS_MAGUMSA 
; 707  : #ifdef MONK
; 708  : 		|| gObj[iIndex].Class == CLASS_MONK
; 709  : #endif
; 710  : 		|| gObj[iIndex].Class == CLASS_DARKLORD )	// DarkLord and MagicGLadiaro

  0232c	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0232f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02335	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0233b	0f b7 94 01 b8
	00 00 00	 movzx	 edx, WORD PTR [ecx+eax+184]
  02343	83 fa 03	 cmp	 edx, 3
  02346	74 38		 je	 SHORT $LN12@GetKalimaG@2
  02348	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0234b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02351	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02357	0f b7 94 01 b8
	00 00 00	 movzx	 edx, WORD PTR [ecx+eax+184]
  0235f	83 fa 06	 cmp	 edx, 6
  02362	74 1c		 je	 SHORT $LN12@GetKalimaG@2
  02364	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  02367	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0236d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02373	0f b7 94 01 b8
	00 00 00	 movzx	 edx, WORD PTR [ecx+eax+184]
  0237b	83 fa 04	 cmp	 edx, 4
  0237e	75 6b		 jne	 SHORT $LN13@GetKalimaG@2
$LN12@GetKalimaG@2:

; 711  : 	{
; 712  : 		for ( int i =0;i<KALIMA_FLOORS;i++)

  02380	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$232451[ebp], 0
  02387	eb 09		 jmp	 SHORT $LN11@GetKalimaG@2
$LN10@GetKalimaG@2:
  02389	8b 45 f8	 mov	 eax, DWORD PTR _i$232451[ebp]
  0238c	83 c0 01	 add	 eax, 1
  0238f	89 45 f8	 mov	 DWORD PTR _i$232451[ebp], eax
$LN11@GetKalimaG@2:
  02392	83 7d f8 07	 cmp	 DWORD PTR _i$232451[ebp], 7
  02396	7d 51		 jge	 SHORT $LN9@GetKalimaG@2

; 713  : 		{
; 714  : 			if ( gObj[iIndex].Level >= g_sttKALIMAGATE_LEVEL[i].iLOWER_BOUND_MAGUMSA )

  02398	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0239b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  023a1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  023a7	0f bf 94 01 be
	00 00 00	 movsx	 edx, WORD PTR [ecx+eax+190]
  023af	8b 45 f8	 mov	 eax, DWORD PTR _i$232451[ebp]
  023b2	c1 e0 04	 shl	 eax, 4
  023b5	3b 90 08 00 00
	00		 cmp	 edx, DWORD PTR _g_sttKALIMAGATE_LEVEL[eax+8]
  023bb	7c 2a		 jl	 SHORT $LN8@GetKalimaG@2

; 715  : 			{
; 716  : 				if ( gObj[iIndex].Level <= g_sttKALIMAGATE_LEVEL[i].iUPPER_BOUND_MAGUMSA )

  023bd	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  023c0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  023c6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  023cc	0f bf 94 01 be
	00 00 00	 movsx	 edx, WORD PTR [ecx+eax+190]
  023d4	8b 45 f8	 mov	 eax, DWORD PTR _i$232451[ebp]
  023d7	c1 e0 04	 shl	 eax, 4
  023da	3b 90 0c 00 00
	00		 cmp	 edx, DWORD PTR _g_sttKALIMAGATE_LEVEL[eax+12]
  023e0	7f 05		 jg	 SHORT $LN8@GetKalimaG@2

; 717  : 				{
; 718  : 					return i;

  023e2	8b 45 f8	 mov	 eax, DWORD PTR _i$232451[ebp]
  023e5	eb 70		 jmp	 SHORT $LN14@GetKalimaG@2
$LN8@GetKalimaG@2:

; 719  : 				}
; 720  : 			}
; 721  : 		}

  023e7	eb a0		 jmp	 SHORT $LN10@GetKalimaG@2
$LN9@GetKalimaG@2:

; 722  : 	}
; 723  : 	else

  023e9	eb 69		 jmp	 SHORT $LN6@GetKalimaG@2
$LN13@GetKalimaG@2:

; 724  : 	{
; 725  : 		for ( int i =0;i<KALIMA_FLOORS;i++)

  023eb	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _i$232458[ebp], 0
  023f2	eb 09		 jmp	 SHORT $LN5@GetKalimaG@2
$LN4@GetKalimaG@2:
  023f4	8b 45 f4	 mov	 eax, DWORD PTR _i$232458[ebp]
  023f7	83 c0 01	 add	 eax, 1
  023fa	89 45 f4	 mov	 DWORD PTR _i$232458[ebp], eax
$LN5@GetKalimaG@2:
  023fd	83 7d f4 07	 cmp	 DWORD PTR _i$232458[ebp], 7
  02401	7d 51		 jge	 SHORT $LN6@GetKalimaG@2

; 726  : 		{
; 727  : 			if ( gObj[iIndex].Level >= g_sttKALIMAGATE_LEVEL[i].iLOWER_BOUND )

  02403	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  02406	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0240c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02412	0f bf 94 01 be
	00 00 00	 movsx	 edx, WORD PTR [ecx+eax+190]
  0241a	8b 45 f4	 mov	 eax, DWORD PTR _i$232458[ebp]
  0241d	c1 e0 04	 shl	 eax, 4
  02420	3b 90 00 00 00
	00		 cmp	 edx, DWORD PTR _g_sttKALIMAGATE_LEVEL[eax]
  02426	7c 2a		 jl	 SHORT $LN2@GetKalimaG@2

; 728  : 			{
; 729  : 				if ( gObj[iIndex].Level <= g_sttKALIMAGATE_LEVEL[i].iUPPER_BOUND )

  02428	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0242b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02431	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02437	0f bf 94 01 be
	00 00 00	 movsx	 edx, WORD PTR [ecx+eax+190]
  0243f	8b 45 f4	 mov	 eax, DWORD PTR _i$232458[ebp]
  02442	c1 e0 04	 shl	 eax, 4
  02445	3b 90 04 00 00
	00		 cmp	 edx, DWORD PTR _g_sttKALIMAGATE_LEVEL[eax+4]
  0244b	7f 05		 jg	 SHORT $LN2@GetKalimaG@2

; 730  : 				{
; 731  : 					return i;

  0244d	8b 45 f4	 mov	 eax, DWORD PTR _i$232458[ebp]
  02450	eb 05		 jmp	 SHORT $LN14@GetKalimaG@2
$LN2@GetKalimaG@2:

; 732  : 				}
; 733  : 			}
; 734  : 		}

  02452	eb a0		 jmp	 SHORT $LN4@GetKalimaG@2
$LN6@GetKalimaG@2:

; 735  : 	}
; 736  : 	return -1;

  02454	83 c8 ff	 or	 eax, -1
$LN14@GetKalimaG@2:

; 737  : }

  02457	5f		 pop	 edi
  02458	5e		 pop	 esi
  02459	5b		 pop	 ebx
  0245a	8b e5		 mov	 esp, ebp
  0245c	5d		 pop	 ebp
  0245d	c2 04 00	 ret	 4
?GetKalimaGateLevel2@CKalimaGate@@QAEHH@Z ENDP		; CKalimaGate::GetKalimaGateLevel2
_TEXT	ENDS
EXTRN	_atexit:PROC
; Function compile flags: /Odtp /ZI
;	COMDAT ??__Eg_KalimaGate@@YAXXZ
text$yc	SEGMENT
??__Eg_KalimaGate@@YAXXZ PROC				; `dynamic initializer for 'g_KalimaGate'', COMDAT

; 13   : CKalimaGate g_KalimaGate;

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KalimaGate@@3VCKalimaGate@@A ; g_KalimaGate
  0000e	e8 00 00 00 00	 call	 ??0CKalimaGate@@QAE@XZ	; CKalimaGate::CKalimaGate
  00013	68 00 00 00 00	 push	 OFFSET ??__Fg_KalimaGate@@YAXXZ ; `dynamic atexit destructor for 'g_KalimaGate''
  00018	e8 00 00 00 00	 call	 _atexit
  0001d	83 c4 04	 add	 esp, 4
  00020	5f		 pop	 edi
  00021	5e		 pop	 esi
  00022	5b		 pop	 ebx
  00023	8b e5		 mov	 esp, ebp
  00025	5d		 pop	 ebp
  00026	c3		 ret	 0
??__Eg_KalimaGate@@YAXXZ ENDP				; `dynamic initializer for 'g_KalimaGate''
; Function compile flags: /Odtp /ZI
text$yc	ENDS
;	COMDAT ??__Fg_KalimaGate@@YAXXZ
text$yd	SEGMENT
??__Fg_KalimaGate@@YAXXZ PROC				; `dynamic atexit destructor for 'g_KalimaGate'', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KalimaGate@@3VCKalimaGate@@A ; g_KalimaGate
  0000e	e8 00 00 00 00	 call	 ??1CKalimaGate@@UAE@XZ	; CKalimaGate::~CKalimaGate
  00013	5f		 pop	 edi
  00014	5e		 pop	 esi
  00015	5b		 pop	 ebx
  00016	8b e5		 mov	 esp, ebp
  00018	5d		 pop	 ebp
  00019	c3		 ret	 0
??__Fg_KalimaGate@@YAXXZ ENDP				; `dynamic atexit destructor for 'g_KalimaGate''
text$yd	ENDS
PUBLIC	?g_KalimaGate@@3VCKalimaGate@@A			; g_KalimaGate
_BSS	SEGMENT
?g_KalimaGate@@3VCKalimaGate@@A DB 01cH DUP (?)		; g_KalimaGate
_BSS	ENDS
CRT$XCU	SEGMENT
_g_KalimaGate$initializer$ DD FLAT:??__Eg_KalimaGate@@YAXXZ
CRT$XCU	ENDS
END
