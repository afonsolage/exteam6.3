; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\MonsterQuest.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

_DATA	SEGMENT
_g_iNpcUpDfLevel_CGATE DD 01H
	DD	02H
	DD	02dc6c0H
	DD	02H
	DD	03H
	DD	02dc6c0H
	DD	03H
	DD	04H
	DD	02dc6c0H
_g_iNpcUpDfLevel_CSTATUE DD 01H
	DD	03H
	DD	02dc6c0H
	DD	02H
	DD	05H
	DD	02dc6c0H
	DD	03H
	DD	07H
	DD	02dc6c0H
_g_iNpcUpMaxHP_CGATE DD 02625a0H
	DD	02H
	DD	0f4240H
	DD	03567e0H
	DD	03H
	DD	0f4240H
	DD	04f5880H
	DD	04H
	DD	0f4240H
_g_iNpcUpMaxHP_CSTATUE DD 02191c0H
	DD	03H
	DD	0f4240H
	DD	033e140H
	DD	05H
	DD	0f4240H
	DD	04c4b40H
	DD	07H
	DD	0f4240H
_g_iNpcUpRgLevel_CSTATUE DD 01H
	DD	03H
	DD	04c4b40H
	DD	02H
	DD	05H
	DD	04c4b40H
	DD	03H
	DD	07H
	DD	04c4b40H
_g_iCsUserReSpawnArea DD 023H
	DD	011H
	DD	090H
	DD	030H
	DD	04aH
	DD	090H
	DD	073H
	DD	09aH
	DD	023H
	DD	011H
	DD	090H
	DD	030H
_g_iNpcDefense_CGATE DD 064H
	DD	0b4H
	DD	012cH
	DD	0208H
_g_iNpcDefense_CSTATUE DD 050H
	DD	0b4H
	DD	0154H
	DD	0226H
_g_iCastleWallStepAxisY DD 071H
	DD	0a0H
	DD	0cbH
_DATA	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	83 e8 01	 sub	 eax, 1
  0000f	89 45 10	 mov	 DWORD PTR ___n$[ebp], eax
  00012	78 11		 js	 SHORT $LN3@vector
  00014	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00017	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  0001a	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  0001d	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  00020	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  00023	eb e4		 jmp	 SHORT $LN2@vector
$LN3@vector:
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	?Init@MonsterQuest@@QAEXXZ			; MonsterQuest::Init
PUBLIC	??0MonsterQuest@@QAE@XZ				; MonsterQuest::MonsterQuest
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\monsterquest.cpp
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0MonsterQuest@@QAE@XZ PROC				; MonsterQuest::MonsterQuest
; _this$ = ecx

; 17   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 18   : 	this->Init();

  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ?Init@MonsterQuest@@QAEXXZ ; MonsterQuest::Init

; 19   : }

  00014	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00017	5f		 pop	 edi
  00018	5e		 pop	 esi
  00019	5b		 pop	 ebx
  0001a	8b e5		 mov	 esp, ebp
  0001c	5d		 pop	 ebp
  0001d	c3		 ret	 0
??0MonsterQuest@@QAE@XZ ENDP				; MonsterQuest::MonsterQuest
_TEXT	ENDS
PUBLIC	??1MonsterQuest@@QAE@XZ				; MonsterQuest::~MonsterQuest
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
??1MonsterQuest@@QAE@XZ PROC				; MonsterQuest::~MonsterQuest
; _this$ = ecx

; 23   : {

  00020	55		 push	 ebp
  00021	8b ec		 mov	 ebp, esp
  00023	83 ec 44	 sub	 esp, 68			; 00000044H
  00026	53		 push	 ebx
  00027	56		 push	 esi
  00028	57		 push	 edi
  00029	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 24   : 	// ----
; 25   : }

  0002c	5f		 pop	 edi
  0002d	5e		 pop	 esi
  0002e	5b		 pop	 ebx
  0002f	8b e5		 mov	 esp, ebp
  00031	5d		 pop	 ebp
  00032	c3		 ret	 0
??1MonsterQuest@@QAE@XZ ENDP				; MonsterQuest::~MonsterQuest
_TEXT	ENDS
EXTRN	_memset:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
?Init@MonsterQuest@@QAEXXZ PROC				; MonsterQuest::Init
; _this$ = ecx

; 29   : {

  00040	55		 push	 ebp
  00041	8b ec		 mov	 ebp, esp
  00043	83 ec 44	 sub	 esp, 68			; 00000044H
  00046	53		 push	 ebx
  00047	56		 push	 esi
  00048	57		 push	 edi
  00049	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 30   : 	ZeroMemory(&this->MonsterData,sizeof(this->MonsterData));

  0004c	68 30 75 00 00	 push	 30000			; 00007530H
  00051	6a 00		 push	 0
  00053	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00056	83 c0 08	 add	 eax, 8
  00059	50		 push	 eax
  0005a	e8 00 00 00 00	 call	 _memset
  0005f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 31   : 	ZeroMemory(&this->RewardData,sizeof(this->RewardData));

  00062	68 c0 5d 00 00	 push	 24000			; 00005dc0H
  00067	6a 00		 push	 0
  00069	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0006c	05 38 75 00 00	 add	 eax, 30008		; 00007538H
  00071	50		 push	 eax
  00072	e8 00 00 00 00	 call	 _memset
  00077	83 c4 0c	 add	 esp, 12			; 0000000cH

; 32   : 	// ----
; 33   : 	this->QuestCount = 0;

  0007a	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0007d	c7 80 f8 d2 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+54008], 0

; 34   : }

  00087	5f		 pop	 edi
  00088	5e		 pop	 esi
  00089	5b		 pop	 ebx
  0008a	8b e5		 mov	 esp, ebp
  0008c	5d		 pop	 ebp
  0008d	c3		 ret	 0
?Init@MonsterQuest@@QAEXXZ ENDP				; MonsterQuest::Init
_TEXT	ENDS
PUBLIC	?Read@MonsterQuest@@QAEXPAD@Z			; MonsterQuest::Read
PUBLIC	??_C@_0BI@BBDOBOMG@ExData?2MonsterQuest?4ini?$AA@ ; `string'
PUBLIC	?Load@MonsterQuest@@QAEXXZ			; MonsterQuest::Load
EXTRN	?GetNewPath@CDirPath@@QAEPADPAD@Z:PROC		; CDirPath::GetNewPath
EXTRN	?gDirPath@@3VCDirPath@@A:BYTE			; gDirPath
;	COMDAT ??_C@_0BI@BBDOBOMG@ExData?2MonsterQuest?4ini?$AA@
CONST	SEGMENT
??_C@_0BI@BBDOBOMG@ExData?2MonsterQuest?4ini?$AA@ DB 'ExData\MonsterQuest'
	DB	'.ini', 00H					; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
?Load@MonsterQuest@@QAEXXZ PROC				; MonsterQuest::Load
; _this$ = ecx

; 38   : {

  00090	55		 push	 ebp
  00091	8b ec		 mov	 ebp, esp
  00093	83 ec 44	 sub	 esp, 68			; 00000044H
  00096	53		 push	 ebx
  00097	56		 push	 esi
  00098	57		 push	 edi
  00099	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 39   : 	this->Init();

  0009c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0009f	e8 00 00 00 00	 call	 ?Init@MonsterQuest@@QAEXXZ ; MonsterQuest::Init

; 40   : 	this->Read(gDirPath.GetNewPath("ExData\\MonsterQuest.ini"));

  000a4	68 00 00 00 00	 push	 OFFSET ??_C@_0BI@BBDOBOMG@ExData?2MonsterQuest?4ini?$AA@
  000a9	b9 00 00 00 00	 mov	 ecx, OFFSET ?gDirPath@@3VCDirPath@@A ; gDirPath
  000ae	e8 00 00 00 00	 call	 ?GetNewPath@CDirPath@@QAEPADPAD@Z ; CDirPath::GetNewPath
  000b3	50		 push	 eax
  000b4	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000b7	e8 00 00 00 00	 call	 ?Read@MonsterQuest@@QAEXPAD@Z ; MonsterQuest::Read

; 41   : }

  000bc	5f		 pop	 edi
  000bd	5e		 pop	 esi
  000be	5b		 pop	 ebx
  000bf	8b e5		 mov	 esp, ebp
  000c1	5d		 pop	 ebp
  000c2	c3		 ret	 0
?Load@MonsterQuest@@QAEXXZ ENDP				; MonsterQuest::Load
_TEXT	ENDS
PUBLIC	__real@0000000000000000
PUBLIC	??_C@_01KDCPPGHE@r?$AA@				; `string'
EXTRN	_fclose:PROC
EXTRN	?MsgBox@@YAXPADZZ:PROC				; MsgBox
EXTRN	?Get@CMsg@@QAEPADH@Z:PROC			; CMsg::Get
EXTRN	?lMsg@@3VCMsg@@A:BYTE				; lMsg
EXTRN	_fopen:PROC
EXTRN	__fltused:DWORD
EXTRN	__ftol2_sse:PROC
_BSS	SEGMENT
_TokenNumber DD	01H DUP (?)
_SMDFile DD	01H DUP (?)
_BSS	ENDS
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT ??_C@_01KDCPPGHE@r?$AA@
CONST	SEGMENT
??_C@_01KDCPPGHE@r?$AA@ DB 'r', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv389 = -104						; size = 8
tv361 = -104						; size = 8
tv480 = -100						; size = 4
tv467 = -100						; size = 4
tv454 = -100						; size = 4
tv441 = -100						; size = 4
tv428 = -100						; size = 4
tv415 = -100						; size = 4
tv402 = -100						; size = 4
tv376 = -100						; size = 4
tv348 = -100						; size = 4
tv335 = -100						; size = 4
tv322 = -100						; size = 4
tv310 = -100						; size = 4
tv300 = -100						; size = 4
tv290 = -100						; size = 4
tv280 = -100						; size = 4
tv478 = -96						; size = 4
tv465 = -96						; size = 4
tv452 = -96						; size = 4
tv439 = -96						; size = 4
tv426 = -96						; size = 4
tv413 = -96						; size = 4
tv400 = -96						; size = 4
tv387 = -96						; size = 4
tv374 = -96						; size = 4
tv359 = -96						; size = 4
tv346 = -96						; size = 4
tv333 = -96						; size = 4
tv320 = -96						; size = 4
tv308 = -96						; size = 4
tv298 = -96						; size = 4
tv288 = -96						; size = 4
tv278 = -96						; size = 4
tv475 = -90						; size = 2
tv462 = -90						; size = 2
tv449 = -90						; size = 2
tv436 = -90						; size = 2
tv423 = -90						; size = 2
tv410 = -90						; size = 2
tv397 = -90						; size = 2
tv384 = -90						; size = 2
tv371 = -90						; size = 2
tv356 = -90						; size = 2
tv343 = -90						; size = 2
tv330 = -90						; size = 2
tv317 = -90						; size = 2
tv305 = -90						; size = 2
tv295 = -90						; size = 2
tv285 = -90						; size = 2
tv275 = -90						; size = 2
tv82 = -89						; size = 1
_RewardGroupData$228141 = -24				; size = 4
_MissionGroupCount$228136 = -20				; size = 4
_Category$ = -16					; size = 4
_type$ = -12						; size = 4
_Token$ = -8						; size = 4
_this$ = -4						; size = 4
_File$ = 8						; size = 4
?Read@MonsterQuest@@QAEXPAD@Z PROC			; MonsterQuest::Read
; _this$ = ecx

; 45   : {

  000d0	55		 push	 ebp
  000d1	8b ec		 mov	 ebp, esp
  000d3	83 ec 68	 sub	 esp, 104		; 00000068H
  000d6	53		 push	 ebx
  000d7	56		 push	 esi
  000d8	57		 push	 edi
  000d9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 46   : 	SMDFile = fopen(File, "r");

  000dc	68 00 00 00 00	 push	 OFFSET ??_C@_01KDCPPGHE@r?$AA@
  000e1	8b 45 08	 mov	 eax, DWORD PTR _File$[ebp]
  000e4	50		 push	 eax
  000e5	e8 00 00 00 00	 call	 _fopen
  000ea	83 c4 08	 add	 esp, 8
  000ed	a3 00 00 00 00	 mov	 DWORD PTR _SMDFile, eax

; 47   : 	if ( SMDFile == NULL )

  000f2	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR _SMDFile, 0
  000f9	75 1e		 jne	 SHORT $LN14@Read

; 48   : 	{
; 49   : 		MsgBox(lMsg.Get(MSGGET(0, 112)), File);

  000fb	8b 45 08	 mov	 eax, DWORD PTR _File$[ebp]
  000fe	50		 push	 eax
  000ff	6a 70		 push	 112			; 00000070H
  00101	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  00106	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0010b	50		 push	 eax
  0010c	e8 00 00 00 00	 call	 ?MsgBox@@YAXPADZZ	; MsgBox
  00111	83 c4 08	 add	 esp, 8

; 50   : 		return;

  00114	e9 74 05 00 00	 jmp	 $LN15@Read
$LN14@Read:

; 51   : 	}
; 52   : 
; 53   : 	int Token;
; 54   : 	int type = -1;

  00119	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _type$[ebp], -1

; 55   : 
; 56   : 	int Category = -1;

  00120	c7 45 f0 ff ff
	ff ff		 mov	 DWORD PTR _Category$[ebp], -1
$LN19@Read:

; 57   : 
; 58   : 	while ( true )

  00127	b8 01 00 00 00	 mov	 eax, 1
  0012c	85 c0		 test	 eax, eax
  0012e	0f 84 4b 05 00
	00		 je	 $LN12@Read

; 59   : 	{
; 60   : 	    Token = GetToken();

  00134	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  00139	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 61   : 
; 62   :         if( Token == END)

  0013c	83 7d f8 02	 cmp	 DWORD PTR _Token$[ebp], 2
  00140	75 05		 jne	 SHORT $LN11@Read

; 63   : 		{
; 64   : 			break;

  00142	e9 38 05 00 00	 jmp	 $LN12@Read
$LN11@Read:

; 65   : 		}
; 66   : 
; 67   : 		if( Token != NUMBER )

  00147	83 7d f8 01	 cmp	 DWORD PTR _Token$[ebp], 1
  0014b	74 02		 je	 SHORT $LN10@Read

; 68   : 		{
; 69   : 			continue;

  0014d	eb d8		 jmp	 SHORT $LN19@Read
$LN10@Read:

; 70   : 		}
; 71   : 
; 72   : 				//if ( !strcmp("end", TokenString ) )
; 73   : 				//{
; 74   : 				//	break;
; 75   : 				//}
; 76   : 
; 77   : 		Category = (int)TokenNumber;

  0014f	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  00155	e8 00 00 00 00	 call	 __ftol2_sse
  0015a	89 45 f0	 mov	 DWORD PTR _Category$[ebp], eax

; 78   : 
; 79   : 		//while(true)
; 80   : 		{
; 81   : 
; 82   : 			//Token = GetToken();
; 83   : 
; 84   : 			//if ( !strcmp("end", TokenString ) )
; 85   : 			//{
; 86   : 			//	break;
; 87   : 			//}
; 88   : 
; 89   : 
; 90   : 
; 91   : 			if(Category == 0)	// Config

  0015d	83 7d f0 00	 cmp	 DWORD PTR _Category$[ebp], 0
  00161	0f 85 ee 00 00
	00		 jne	 $LN9@Read

; 92   : 			{
; 93   : 
; 94   : 				Token = GetToken();

  00167	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  0016c	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 95   : 				this->Enable = TokenNumber;

  0016f	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  00175	d9 ee		 fldz
  00177	da e9		 fucompp
  00179	df e0		 fnstsw	 ax
  0017b	f6 c4 44	 test	 ah, 68			; 00000044H
  0017e	7b 06		 jnp	 SHORT $LN17@Read
  00180	c6 45 a7 01	 mov	 BYTE PTR tv82[ebp], 1
  00184	eb 04		 jmp	 SHORT $LN18@Read
$LN17@Read:
  00186	c6 45 a7 00	 mov	 BYTE PTR tv82[ebp], 0
$LN18@Read:
  0018a	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0018d	8a 4d a7	 mov	 cl, BYTE PTR tv82[ebp]
  00190	88 08		 mov	 BYTE PTR [eax], cl

; 96   : 
; 97   : 				Token = GetToken();

  00192	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  00197	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 98   : 				this->NPC_Class = TokenNumber;

  0019a	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  001a0	d9 7d a6	 fnstcw	 WORD PTR tv275[ebp]
  001a3	0f b7 45 a6	 movzx	 eax, WORD PTR tv275[ebp]
  001a7	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  001ac	89 45 a0	 mov	 DWORD PTR tv278[ebp], eax
  001af	d9 6d a0	 fldcw	 WORD PTR tv278[ebp]
  001b2	db 5d 9c	 fistp	 DWORD PTR tv280[ebp]
  001b5	d9 6d a6	 fldcw	 WORD PTR tv275[ebp]
  001b8	66 8b 45 9c	 mov	 ax, WORD PTR tv280[ebp]
  001bc	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  001bf	66 89 41 02	 mov	 WORD PTR [ecx+2], ax

; 99   : 
; 100  : 				Token = GetToken();

  001c3	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  001c8	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 101  : 				this->NPC_Map = TokenNumber;

  001cb	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  001d1	d9 7d a6	 fnstcw	 WORD PTR tv285[ebp]
  001d4	0f b7 45 a6	 movzx	 eax, WORD PTR tv285[ebp]
  001d8	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  001dd	89 45 a0	 mov	 DWORD PTR tv288[ebp], eax
  001e0	d9 6d a0	 fldcw	 WORD PTR tv288[ebp]
  001e3	db 5d 9c	 fistp	 DWORD PTR tv290[ebp]
  001e6	d9 6d a6	 fldcw	 WORD PTR tv285[ebp]
  001e9	8a 45 9c	 mov	 al, BYTE PTR tv290[ebp]
  001ec	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  001ef	88 41 04	 mov	 BYTE PTR [ecx+4], al

; 102  : 
; 103  : 				Token = GetToken();

  001f2	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  001f7	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 104  : 				this->NPC_X = TokenNumber;

  001fa	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  00200	d9 7d a6	 fnstcw	 WORD PTR tv295[ebp]
  00203	0f b7 45 a6	 movzx	 eax, WORD PTR tv295[ebp]
  00207	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  0020c	89 45 a0	 mov	 DWORD PTR tv298[ebp], eax
  0020f	d9 6d a0	 fldcw	 WORD PTR tv298[ebp]
  00212	db 5d 9c	 fistp	 DWORD PTR tv300[ebp]
  00215	d9 6d a6	 fldcw	 WORD PTR tv295[ebp]
  00218	8a 45 9c	 mov	 al, BYTE PTR tv300[ebp]
  0021b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0021e	88 41 05	 mov	 BYTE PTR [ecx+5], al

; 105  : 
; 106  : 				Token = GetToken();

  00221	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  00226	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 107  : 				this->NPC_Y = TokenNumber;

  00229	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  0022f	d9 7d a6	 fnstcw	 WORD PTR tv305[ebp]
  00232	0f b7 45 a6	 movzx	 eax, WORD PTR tv305[ebp]
  00236	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  0023b	89 45 a0	 mov	 DWORD PTR tv308[ebp], eax
  0023e	d9 6d a0	 fldcw	 WORD PTR tv308[ebp]
  00241	db 5d 9c	 fistp	 DWORD PTR tv310[ebp]
  00244	d9 6d a6	 fldcw	 WORD PTR tv305[ebp]
  00247	8a 45 9c	 mov	 al, BYTE PTR tv310[ebp]
  0024a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0024d	88 41 06	 mov	 BYTE PTR [ecx+6], al
  00250	e9 25 04 00 00	 jmp	 $LN7@Read
$LN9@Read:

; 108  : 
; 109  : 			//char p[50];
; 110  : 			//sprintf(p,"%d %d %d %d %d",Enable,NPC_Class,NPC_Map,NPC_X,NPC_Y);
; 111  : 			//MessageBox(0,p,p,0);
; 112  : 
; 113  : 				//break;
; 114  : 			}
; 115  : 			else if(true) //Quest Base

  00255	b8 01 00 00 00	 mov	 eax, 1
  0025a	85 c0		 test	 eax, eax
  0025c	0f 84 18 04 00
	00		 je	 $LN7@Read

; 116  : 			{
; 117  : 				//MissionData
; 118  : 				int MissionGroupCount = 0;

  00262	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _MissionGroupCount$228136[ebp], 0
$LN6@Read:

; 119  : 
; 120  : 				while(true)	

  00269	b8 01 00 00 00	 mov	 eax, 1
  0026e	85 c0		 test	 eax, eax
  00270	0f 84 32 01 00
	00		 je	 $LN5@Read

; 121  : 				{
; 122  : 					if( MissionGroupCount >= MAX_MISSION_QUEST )

  00276	83 7d ec 05	 cmp	 DWORD PTR _MissionGroupCount$228136[ebp], 5
  0027a	7c 05		 jl	 SHORT $LN4@Read

; 123  : 					{
; 124  : 						break;

  0027c	e9 27 01 00 00	 jmp	 $LN5@Read
$LN4@Read:

; 125  : 					}
; 126  : 
; 127  : 					Token = GetToken();

  00281	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  00286	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 128  : 
; 129  : 					//if ( !strcmp("end", TokenString ) )
; 130  : 					//{
; 131  : 					//	break;
; 132  : 					//}
; 133  : 
; 134  : 					this->MonsterData[this->QuestCount][MissionGroupCount].Active = TokenNumber;

  00289	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  0028f	d9 7d a6	 fnstcw	 WORD PTR tv317[ebp]
  00292	0f b7 45 a6	 movzx	 eax, WORD PTR tv317[ebp]
  00296	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  0029b	89 45 a0	 mov	 DWORD PTR tv320[ebp], eax
  0029e	d9 6d a0	 fldcw	 WORD PTR tv320[ebp]
  002a1	db 5d 9c	 fistp	 DWORD PTR tv322[ebp]
  002a4	d9 6d a6	 fldcw	 WORD PTR tv317[ebp]
  002a7	8a 45 9c	 mov	 al, BYTE PTR tv322[ebp]
  002aa	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  002ad	8b 91 f8 d2 00
	00		 mov	 edx, DWORD PTR [ecx+54008]
  002b3	6b d2 3c	 imul	 edx, 60			; 0000003cH
  002b6	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  002b9	8d 54 11 08	 lea	 edx, DWORD PTR [ecx+edx+8]
  002bd	8b 4d ec	 mov	 ecx, DWORD PTR _MissionGroupCount$228136[ebp]
  002c0	6b c9 0c	 imul	 ecx, 12			; 0000000cH
  002c3	88 04 0a	 mov	 BYTE PTR [edx+ecx], al

; 135  : 
; 136  : 					Token = GetToken();

  002c6	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  002cb	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 137  : 					this->MonsterData[this->QuestCount][MissionGroupCount].Mission = TokenNumber;

  002ce	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  002d4	d9 7d a6	 fnstcw	 WORD PTR tv330[ebp]
  002d7	0f b7 45 a6	 movzx	 eax, WORD PTR tv330[ebp]
  002db	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  002e0	89 45 a0	 mov	 DWORD PTR tv333[ebp], eax
  002e3	d9 6d a0	 fldcw	 WORD PTR tv333[ebp]
  002e6	db 5d 9c	 fistp	 DWORD PTR tv335[ebp]
  002e9	d9 6d a6	 fldcw	 WORD PTR tv330[ebp]
  002ec	66 8b 45 9c	 mov	 ax, WORD PTR tv335[ebp]
  002f0	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  002f3	8b 91 f8 d2 00
	00		 mov	 edx, DWORD PTR [ecx+54008]
  002f9	6b d2 3c	 imul	 edx, 60			; 0000003cH
  002fc	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  002ff	8d 54 11 08	 lea	 edx, DWORD PTR [ecx+edx+8]
  00303	8b 4d ec	 mov	 ecx, DWORD PTR _MissionGroupCount$228136[ebp]
  00306	6b c9 0c	 imul	 ecx, 12			; 0000000cH
  00309	66 89 44 0a 02	 mov	 WORD PTR [edx+ecx+2], ax

; 138  : 
; 139  : 					Token = GetToken();

  0030e	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  00313	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 140  : 					this->MonsterData[this->QuestCount][MissionGroupCount].Procent = TokenNumber;

  00316	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  0031c	d9 7d a6	 fnstcw	 WORD PTR tv343[ebp]
  0031f	0f b7 45 a6	 movzx	 eax, WORD PTR tv343[ebp]
  00323	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  00328	89 45 a0	 mov	 DWORD PTR tv346[ebp], eax
  0032b	d9 6d a0	 fldcw	 WORD PTR tv346[ebp]
  0032e	db 5d 9c	 fistp	 DWORD PTR tv348[ebp]
  00331	d9 6d a6	 fldcw	 WORD PTR tv343[ebp]
  00334	8a 45 9c	 mov	 al, BYTE PTR tv348[ebp]
  00337	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0033a	8b 91 f8 d2 00
	00		 mov	 edx, DWORD PTR [ecx+54008]
  00340	6b d2 3c	 imul	 edx, 60			; 0000003cH
  00343	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00346	8d 54 11 08	 lea	 edx, DWORD PTR [ecx+edx+8]
  0034a	8b 4d ec	 mov	 ecx, DWORD PTR _MissionGroupCount$228136[ebp]
  0034d	6b c9 0c	 imul	 ecx, 12			; 0000000cH
  00350	88 44 0a 04	 mov	 BYTE PTR [edx+ecx+4], al

; 141  : 
; 142  : 					Token = GetToken();

  00354	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  00359	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 143  : 					this->MonsterData[this->QuestCount][MissionGroupCount].Count = TokenNumber;

  0035c	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  00362	d9 7d a6	 fnstcw	 WORD PTR tv356[ebp]
  00365	0f b7 45 a6	 movzx	 eax, WORD PTR tv356[ebp]
  00369	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  0036e	89 45 a0	 mov	 DWORD PTR tv359[ebp], eax
  00371	d9 6d a0	 fldcw	 WORD PTR tv359[ebp]
  00374	df 7d 98	 fistp	 QWORD PTR tv361[ebp]
  00377	d9 6d a6	 fldcw	 WORD PTR tv356[ebp]
  0037a	8b 45 98	 mov	 eax, DWORD PTR tv361[ebp]
  0037d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00380	8b 91 f8 d2 00
	00		 mov	 edx, DWORD PTR [ecx+54008]
  00386	6b d2 3c	 imul	 edx, 60			; 0000003cH
  00389	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0038c	8d 54 11 08	 lea	 edx, DWORD PTR [ecx+edx+8]
  00390	8b 4d ec	 mov	 ecx, DWORD PTR _MissionGroupCount$228136[ebp]
  00393	6b c9 0c	 imul	 ecx, 12			; 0000000cH
  00396	89 44 0a 08	 mov	 DWORD PTR [edx+ecx+8], eax

; 144  : 
; 145  : 					MissionGroupCount++;

  0039a	8b 45 ec	 mov	 eax, DWORD PTR _MissionGroupCount$228136[ebp]
  0039d	83 c0 01	 add	 eax, 1
  003a0	89 45 ec	 mov	 DWORD PTR _MissionGroupCount$228136[ebp], eax

; 146  : 				}

  003a3	e9 c1 fe ff ff	 jmp	 $LN6@Read
$LN5@Read:

; 147  : 
; 148  : 				//Reward Data
; 149  : 				int RewardGroupData = 0;

  003a8	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _RewardGroupData$228141[ebp], 0
$LN3@Read:

; 150  : 
; 151  : 				while(true)	

  003af	b8 01 00 00 00	 mov	 eax, 1
  003b4	85 c0		 test	 eax, eax
  003b6	0f 84 a9 02 00
	00		 je	 $LN2@Read

; 152  : 				{
; 153  : 					if( RewardGroupData >= MAX_REWARD_QUEST )

  003bc	83 7d e8 03	 cmp	 DWORD PTR _RewardGroupData$228141[ebp], 3
  003c0	7c 05		 jl	 SHORT $LN1@Read

; 154  : 					{
; 155  : 						break;

  003c2	e9 9e 02 00 00	 jmp	 $LN2@Read
$LN1@Read:

; 156  : 					}
; 157  : 
; 158  : 					Token = GetToken();

  003c7	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  003cc	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 159  : 
; 160  : 					//if ( !strcmp("end", TokenString ) )
; 161  : 					//{
; 162  : 					//	break;
; 163  : 					//}
; 164  : 
; 165  : 					this->RewardData[this->QuestCount][RewardGroupData].Active = TokenNumber;

  003cf	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  003d5	d9 7d a6	 fnstcw	 WORD PTR tv371[ebp]
  003d8	0f b7 45 a6	 movzx	 eax, WORD PTR tv371[ebp]
  003dc	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  003e1	89 45 a0	 mov	 DWORD PTR tv374[ebp], eax
  003e4	d9 6d a0	 fldcw	 WORD PTR tv374[ebp]
  003e7	db 5d 9c	 fistp	 DWORD PTR tv376[ebp]
  003ea	d9 6d a6	 fldcw	 WORD PTR tv371[ebp]
  003ed	8a 45 9c	 mov	 al, BYTE PTR tv376[ebp]
  003f0	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  003f3	8b 91 f8 d2 00
	00		 mov	 edx, DWORD PTR [ecx+54008]
  003f9	6b d2 30	 imul	 edx, 48			; 00000030H
  003fc	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  003ff	8d 94 11 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+edx+30008]
  00406	8b 4d e8	 mov	 ecx, DWORD PTR _RewardGroupData$228141[ebp]
  00409	c1 e1 04	 shl	 ecx, 4
  0040c	88 04 0a	 mov	 BYTE PTR [edx+ecx], al

; 166  : 
; 167  : 					Token = GetToken();

  0040f	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  00414	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 168  : 					this->RewardData[this->QuestCount][RewardGroupData].Reward = TokenNumber;

  00417	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  0041d	d9 7d a6	 fnstcw	 WORD PTR tv384[ebp]
  00420	0f b7 45 a6	 movzx	 eax, WORD PTR tv384[ebp]
  00424	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  00429	89 45 a0	 mov	 DWORD PTR tv387[ebp], eax
  0042c	d9 6d a0	 fldcw	 WORD PTR tv387[ebp]
  0042f	df 7d 98	 fistp	 QWORD PTR tv389[ebp]
  00432	d9 6d a6	 fldcw	 WORD PTR tv384[ebp]
  00435	8b 45 98	 mov	 eax, DWORD PTR tv389[ebp]
  00438	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0043b	8b 91 f8 d2 00
	00		 mov	 edx, DWORD PTR [ecx+54008]
  00441	6b d2 30	 imul	 edx, 48			; 00000030H
  00444	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00447	8d 94 11 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+edx+30008]
  0044e	8b 4d e8	 mov	 ecx, DWORD PTR _RewardGroupData$228141[ebp]
  00451	c1 e1 04	 shl	 ecx, 4
  00454	89 44 0a 04	 mov	 DWORD PTR [edx+ecx+4], eax

; 169  : 
; 170  : 					Token = GetToken();

  00458	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  0045d	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 171  : 					this->RewardData[this->QuestCount][RewardGroupData].RewardID = TokenNumber;

  00460	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  00466	d9 7d a6	 fnstcw	 WORD PTR tv397[ebp]
  00469	0f b7 45 a6	 movzx	 eax, WORD PTR tv397[ebp]
  0046d	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  00472	89 45 a0	 mov	 DWORD PTR tv400[ebp], eax
  00475	d9 6d a0	 fldcw	 WORD PTR tv400[ebp]
  00478	db 5d 9c	 fistp	 DWORD PTR tv402[ebp]
  0047b	d9 6d a6	 fldcw	 WORD PTR tv397[ebp]
  0047e	8a 45 9c	 mov	 al, BYTE PTR tv402[ebp]
  00481	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00484	8b 91 f8 d2 00
	00		 mov	 edx, DWORD PTR [ecx+54008]
  0048a	6b d2 30	 imul	 edx, 48			; 00000030H
  0048d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00490	8d 94 11 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+edx+30008]
  00497	8b 4d e8	 mov	 ecx, DWORD PTR _RewardGroupData$228141[ebp]
  0049a	c1 e1 04	 shl	 ecx, 4
  0049d	88 44 0a 08	 mov	 BYTE PTR [edx+ecx+8], al

; 172  : 
; 173  : 					Token = GetToken();

  004a1	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  004a6	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 174  : 					this->RewardData[this->QuestCount][RewardGroupData].Level = TokenNumber;

  004a9	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  004af	d9 7d a6	 fnstcw	 WORD PTR tv410[ebp]
  004b2	0f b7 45 a6	 movzx	 eax, WORD PTR tv410[ebp]
  004b6	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  004bb	89 45 a0	 mov	 DWORD PTR tv413[ebp], eax
  004be	d9 6d a0	 fldcw	 WORD PTR tv413[ebp]
  004c1	db 5d 9c	 fistp	 DWORD PTR tv415[ebp]
  004c4	d9 6d a6	 fldcw	 WORD PTR tv410[ebp]
  004c7	8a 45 9c	 mov	 al, BYTE PTR tv415[ebp]
  004ca	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  004cd	8b 91 f8 d2 00
	00		 mov	 edx, DWORD PTR [ecx+54008]
  004d3	6b d2 30	 imul	 edx, 48			; 00000030H
  004d6	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  004d9	8d 94 11 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+edx+30008]
  004e0	8b 4d e8	 mov	 ecx, DWORD PTR _RewardGroupData$228141[ebp]
  004e3	c1 e1 04	 shl	 ecx, 4
  004e6	88 44 0a 09	 mov	 BYTE PTR [edx+ecx+9], al

; 175  : 
; 176  : 					Token = GetToken();

  004ea	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  004ef	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 177  : 					this->RewardData[this->QuestCount][RewardGroupData].Skill = TokenNumber;

  004f2	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  004f8	d9 7d a6	 fnstcw	 WORD PTR tv423[ebp]
  004fb	0f b7 45 a6	 movzx	 eax, WORD PTR tv423[ebp]
  004ff	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  00504	89 45 a0	 mov	 DWORD PTR tv426[ebp], eax
  00507	d9 6d a0	 fldcw	 WORD PTR tv426[ebp]
  0050a	db 5d 9c	 fistp	 DWORD PTR tv428[ebp]
  0050d	d9 6d a6	 fldcw	 WORD PTR tv423[ebp]
  00510	8a 45 9c	 mov	 al, BYTE PTR tv428[ebp]
  00513	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00516	8b 91 f8 d2 00
	00		 mov	 edx, DWORD PTR [ecx+54008]
  0051c	6b d2 30	 imul	 edx, 48			; 00000030H
  0051f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00522	8d 94 11 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+edx+30008]
  00529	8b 4d e8	 mov	 ecx, DWORD PTR _RewardGroupData$228141[ebp]
  0052c	c1 e1 04	 shl	 ecx, 4
  0052f	88 44 0a 0a	 mov	 BYTE PTR [edx+ecx+10], al

; 178  : 
; 179  : 					Token = GetToken();

  00533	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  00538	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 180  : 					this->RewardData[this->QuestCount][RewardGroupData].Luck = TokenNumber;

  0053b	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  00541	d9 7d a6	 fnstcw	 WORD PTR tv436[ebp]
  00544	0f b7 45 a6	 movzx	 eax, WORD PTR tv436[ebp]
  00548	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  0054d	89 45 a0	 mov	 DWORD PTR tv439[ebp], eax
  00550	d9 6d a0	 fldcw	 WORD PTR tv439[ebp]
  00553	db 5d 9c	 fistp	 DWORD PTR tv441[ebp]
  00556	d9 6d a6	 fldcw	 WORD PTR tv436[ebp]
  00559	8a 45 9c	 mov	 al, BYTE PTR tv441[ebp]
  0055c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0055f	8b 91 f8 d2 00
	00		 mov	 edx, DWORD PTR [ecx+54008]
  00565	6b d2 30	 imul	 edx, 48			; 00000030H
  00568	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0056b	8d 94 11 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+edx+30008]
  00572	8b 4d e8	 mov	 ecx, DWORD PTR _RewardGroupData$228141[ebp]
  00575	c1 e1 04	 shl	 ecx, 4
  00578	88 44 0a 0b	 mov	 BYTE PTR [edx+ecx+11], al

; 181  : 
; 182  : 					Token = GetToken();

  0057c	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  00581	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 183  : 					this->RewardData[this->QuestCount][RewardGroupData].Option = TokenNumber;

  00584	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  0058a	d9 7d a6	 fnstcw	 WORD PTR tv449[ebp]
  0058d	0f b7 45 a6	 movzx	 eax, WORD PTR tv449[ebp]
  00591	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  00596	89 45 a0	 mov	 DWORD PTR tv452[ebp], eax
  00599	d9 6d a0	 fldcw	 WORD PTR tv452[ebp]
  0059c	db 5d 9c	 fistp	 DWORD PTR tv454[ebp]
  0059f	d9 6d a6	 fldcw	 WORD PTR tv449[ebp]
  005a2	8a 45 9c	 mov	 al, BYTE PTR tv454[ebp]
  005a5	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  005a8	8b 91 f8 d2 00
	00		 mov	 edx, DWORD PTR [ecx+54008]
  005ae	6b d2 30	 imul	 edx, 48			; 00000030H
  005b1	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  005b4	8d 94 11 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+edx+30008]
  005bb	8b 4d e8	 mov	 ecx, DWORD PTR _RewardGroupData$228141[ebp]
  005be	c1 e1 04	 shl	 ecx, 4
  005c1	88 44 0a 0c	 mov	 BYTE PTR [edx+ecx+12], al

; 184  : 
; 185  : 					Token = GetToken();

  005c5	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  005ca	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 186  : 					this->RewardData[this->QuestCount][RewardGroupData].Exellent = TokenNumber;

  005cd	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  005d3	d9 7d a6	 fnstcw	 WORD PTR tv462[ebp]
  005d6	0f b7 45 a6	 movzx	 eax, WORD PTR tv462[ebp]
  005da	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  005df	89 45 a0	 mov	 DWORD PTR tv465[ebp], eax
  005e2	d9 6d a0	 fldcw	 WORD PTR tv465[ebp]
  005e5	db 5d 9c	 fistp	 DWORD PTR tv467[ebp]
  005e8	d9 6d a6	 fldcw	 WORD PTR tv462[ebp]
  005eb	8a 45 9c	 mov	 al, BYTE PTR tv467[ebp]
  005ee	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  005f1	8b 91 f8 d2 00
	00		 mov	 edx, DWORD PTR [ecx+54008]
  005f7	6b d2 30	 imul	 edx, 48			; 00000030H
  005fa	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  005fd	8d 94 11 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+edx+30008]
  00604	8b 4d e8	 mov	 ecx, DWORD PTR _RewardGroupData$228141[ebp]
  00607	c1 e1 04	 shl	 ecx, 4
  0060a	88 44 0a 0d	 mov	 BYTE PTR [edx+ecx+13], al

; 187  : 
; 188  : 					Token = GetToken();

  0060e	e8 00 00 00 00	 call	 ?GetToken@@YA?AW4SMDToken@@XZ ; GetToken
  00613	89 45 f8	 mov	 DWORD PTR _Token$[ebp], eax

; 189  : 					this->RewardData[this->QuestCount][RewardGroupData].Ancent = TokenNumber;

  00616	d9 05 00 00 00
	00		 fld	 DWORD PTR _TokenNumber
  0061c	d9 7d a6	 fnstcw	 WORD PTR tv475[ebp]
  0061f	0f b7 45 a6	 movzx	 eax, WORD PTR tv475[ebp]
  00623	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  00628	89 45 a0	 mov	 DWORD PTR tv478[ebp], eax
  0062b	d9 6d a0	 fldcw	 WORD PTR tv478[ebp]
  0062e	db 5d 9c	 fistp	 DWORD PTR tv480[ebp]
  00631	d9 6d a6	 fldcw	 WORD PTR tv475[ebp]
  00634	8a 45 9c	 mov	 al, BYTE PTR tv480[ebp]
  00637	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0063a	8b 91 f8 d2 00
	00		 mov	 edx, DWORD PTR [ecx+54008]
  00640	6b d2 30	 imul	 edx, 48			; 00000030H
  00643	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00646	8d 94 11 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+edx+30008]
  0064d	8b 4d e8	 mov	 ecx, DWORD PTR _RewardGroupData$228141[ebp]
  00650	c1 e1 04	 shl	 ecx, 4
  00653	88 44 0a 0e	 mov	 BYTE PTR [edx+ecx+14], al

; 190  : 
; 191  : 					RewardGroupData++;

  00657	8b 45 e8	 mov	 eax, DWORD PTR _RewardGroupData$228141[ebp]
  0065a	83 c0 01	 add	 eax, 1
  0065d	89 45 e8	 mov	 DWORD PTR _RewardGroupData$228141[ebp], eax

; 192  : 				}

  00660	e9 4a fd ff ff	 jmp	 $LN3@Read
$LN2@Read:

; 193  : 
; 194  : 				this->QuestCount++;

  00665	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00668	8b 88 f8 d2 00
	00		 mov	 ecx, DWORD PTR [eax+54008]
  0066e	83 c1 01	 add	 ecx, 1
  00671	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00674	89 8a f8 d2 00
	00		 mov	 DWORD PTR [edx+54008], ecx
$LN7@Read:

; 195  : 			}
; 196  : 		}
; 197  :     }

  0067a	e9 a8 fa ff ff	 jmp	 $LN19@Read
$LN12@Read:

; 198  : 
; 199  : 	fclose(SMDFile);

  0067f	a1 00 00 00 00	 mov	 eax, DWORD PTR _SMDFile
  00684	50		 push	 eax
  00685	e8 00 00 00 00	 call	 _fclose
  0068a	83 c4 04	 add	 esp, 4
$LN15@Read:

; 200  : }

  0068d	5f		 pop	 edi
  0068e	5e		 pop	 esi
  0068f	5b		 pop	 ebx
  00690	8b e5		 mov	 esp, ebp
  00692	5d		 pop	 ebp
  00693	c2 04 00	 ret	 4
?Read@MonsterQuest@@QAEXPAD@Z ENDP			; MonsterQuest::Read
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	_isalnum:PROC
EXTRN	_isalpha:PROC
EXTRN	_atof:PROC
EXTRN	_isdigit:PROC
EXTRN	_getc:PROC
EXTRN	_ungetc:PROC
EXTRN	_isspace:PROC
EXTRN	_fgetc:PROC
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
_BSS	SEGMENT
_CurrentToken DD 01H DUP (?)
_TokenString DB	064H DUP (?)
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\include\readscript.h
_BSS	ENDS
_TEXT	SEGMENT
tv90 = -180						; size = 4
_TempString$ = -112					; size = 100
_p$ = -12						; size = 4
_ch$ = -5						; size = 1
__$ArrayPad$ = -4					; size = 4
?GetToken@@YA?AW4SMDToken@@XZ PROC			; GetToken

; 24   : {

  006a0	55		 push	 ebp
  006a1	8b ec		 mov	 ebp, esp
  006a3	81 ec b4 00 00
	00		 sub	 esp, 180		; 000000b4H
  006a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  006ae	33 c5		 xor	 eax, ebp
  006b0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  006b3	53		 push	 ebx
  006b4	56		 push	 esi
  006b5	57		 push	 edi

; 25   : 	char ch;
; 26   : 	char* p;
; 27   : 	char TempString[100];
; 28   : 
; 29   : 	TokenString[0]=0;

  006b6	c6 05 00 00 00
	00 00		 mov	 BYTE PTR _TokenString, 0
$LN31@GetToken:

; 30   : 
; 31   : 	do
; 32   : 	{
; 33   : 		if ((ch=fgetc(SMDFile)) == -1)

  006bd	a1 00 00 00 00	 mov	 eax, DWORD PTR _SMDFile
  006c2	50		 push	 eax
  006c3	e8 00 00 00 00	 call	 _fgetc
  006c8	83 c4 04	 add	 esp, 4
  006cb	88 45 fb	 mov	 BYTE PTR _ch$[ebp], al
  006ce	0f be 4d fb	 movsx	 ecx, BYTE PTR _ch$[ebp]
  006d2	83 f9 ff	 cmp	 ecx, -1
  006d5	75 0c		 jne	 SHORT $LN28@GetToken

; 34   : 		{
; 35   : 			return END;	// End of FILE (EOF)

  006d7	b8 02 00 00 00	 mov	 eax, 2
  006dc	e9 f7 02 00 00	 jmp	 $LN32@GetToken

; 36   : 		}
; 37   : 		else

  006e1	eb 5b		 jmp	 SHORT $LN22@GetToken
$LN28@GetToken:

; 38   : 		{	
; 39   : 			if (ch=='/')		// this is /

  006e3	0f be 45 fb	 movsx	 eax, BYTE PTR _ch$[ebp]
  006e7	83 f8 2f	 cmp	 eax, 47			; 0000002fH
  006ea	75 52		 jne	 SHORT $LN22@GetToken

; 40   : 			{
; 41   : 				if((ch=fgetc(SMDFile)) == '/')

  006ec	a1 00 00 00 00	 mov	 eax, DWORD PTR _SMDFile
  006f1	50		 push	 eax
  006f2	e8 00 00 00 00	 call	 _fgetc
  006f7	83 c4 04	 add	 esp, 4
  006fa	88 45 fb	 mov	 BYTE PTR _ch$[ebp], al
  006fd	0f be 4d fb	 movsx	 ecx, BYTE PTR _ch$[ebp]
  00701	83 f9 2f	 cmp	 ecx, 47			; 0000002fH
  00704	75 38		 jne	 SHORT $LN22@GetToken
$LN24@GetToken:

; 42   : 				{
; 43   : 					while ((ch != '\n') && (ch != -1))	// End of Line (EOL)

  00706	0f be 45 fb	 movsx	 eax, BYTE PTR _ch$[ebp]
  0070a	83 f8 0a	 cmp	 eax, 10			; 0000000aH
  0070d	74 1c		 je	 SHORT $LN23@GetToken
  0070f	0f be 45 fb	 movsx	 eax, BYTE PTR _ch$[ebp]
  00713	83 f8 ff	 cmp	 eax, -1
  00716	74 13		 je	 SHORT $LN23@GetToken

; 44   : 					{
; 45   : 						ch=fgetc(SMDFile);

  00718	a1 00 00 00 00	 mov	 eax, DWORD PTR _SMDFile
  0071d	50		 push	 eax
  0071e	e8 00 00 00 00	 call	 _fgetc
  00723	83 c4 04	 add	 esp, 4
  00726	88 45 fb	 mov	 BYTE PTR _ch$[ebp], al

; 46   : 					}

  00729	eb db		 jmp	 SHORT $LN24@GetToken
$LN23@GetToken:

; 47   : 	
; 48   : 					if (ch == -1)

  0072b	0f be 45 fb	 movsx	 eax, BYTE PTR _ch$[ebp]
  0072f	83 f8 ff	 cmp	 eax, -1
  00732	75 0a		 jne	 SHORT $LN22@GetToken

; 49   : 					{
; 50   : 						return END;	// End of FILE

  00734	b8 02 00 00 00	 mov	 eax, 2
  00739	e9 9a 02 00 00	 jmp	 $LN32@GetToken
$LN22@GetToken:

; 51   : 					}
; 52   : 				}
; 53   : 			}
; 54   : 		}
; 55   : 	}
; 56   : 	while (isspace(ch) != 0);

  0073e	0f be 45 fb	 movsx	 eax, BYTE PTR _ch$[ebp]
  00742	50		 push	 eax
  00743	e8 00 00 00 00	 call	 _isspace
  00748	83 c4 04	 add	 esp, 4
  0074b	85 c0		 test	 eax, eax
  0074d	0f 85 6a ff ff
	ff		 jne	 $LN31@GetToken

; 57   : 
; 58   : 	
; 59   : 	switch(ch)

  00753	0f be 45 fb	 movsx	 eax, BYTE PTR _ch$[ebp]
  00757	89 85 4c ff ff
	ff		 mov	 DWORD PTR tv90[ebp], eax
  0075d	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR tv90[ebp]
  00763	83 e9 22	 sub	 ecx, 34			; 00000022H
  00766	89 8d 4c ff ff
	ff		 mov	 DWORD PTR tv90[ebp], ecx
  0076c	83 bd 4c ff ff
	ff 5b		 cmp	 DWORD PTR tv90[ebp], 91	; 0000005bH
  00773	0f 87 a3 01 00
	00		 ja	 $LN6@GetToken
  00779	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR tv90[ebp]
  0077f	0f b6 82 00 00
	00 00		 movzx	 eax, BYTE PTR $LN34@GetToken[edx]
  00786	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN35@GetToken[eax*4]
$LN19@GetToken:

; 60   : 	{
; 61   : 
; 62   : 	case 0x23:	// #
; 63   : 		return CurrentToken=COMMAND;

  0078d	c7 05 00 00 00
	00 23 00 00 00	 mov	 DWORD PTR _CurrentToken, 35 ; 00000023H
  00797	a1 00 00 00 00	 mov	 eax, DWORD PTR _CurrentToken
  0079c	e9 37 02 00 00	 jmp	 $LN32@GetToken

; 64   : 		break;

  007a1	e9 30 02 00 00	 jmp	 $LN20@GetToken
$LN18@GetToken:

; 65   : 	
; 66   : 	case 0x3B:	// ;
; 67   : 		return CurrentToken=SEMICOLON;

  007a6	c7 05 00 00 00
	00 3b 00 00 00	 mov	 DWORD PTR _CurrentToken, 59 ; 0000003bH
  007b0	a1 00 00 00 00	 mov	 eax, DWORD PTR _CurrentToken
  007b5	e9 1e 02 00 00	 jmp	 $LN32@GetToken

; 68   : 		break;

  007ba	e9 17 02 00 00	 jmp	 $LN20@GetToken
$LN17@GetToken:

; 69   : 	
; 70   : 	case 0x2C:	// ,
; 71   : 
; 72   : 		return CurrentToken=COMMA;

  007bf	c7 05 00 00 00
	00 2c 00 00 00	 mov	 DWORD PTR _CurrentToken, 44 ; 0000002cH
  007c9	a1 00 00 00 00	 mov	 eax, DWORD PTR _CurrentToken
  007ce	e9 05 02 00 00	 jmp	 $LN32@GetToken

; 73   : 		break;

  007d3	e9 fe 01 00 00	 jmp	 $LN20@GetToken
$LN16@GetToken:

; 74   : 	
; 75   : 	case 0x7B:	// {
; 76   : 		return CurrentToken = LP;

  007d8	c7 05 00 00 00
	00 7b 00 00 00	 mov	 DWORD PTR _CurrentToken, 123 ; 0000007bH
  007e2	a1 00 00 00 00	 mov	 eax, DWORD PTR _CurrentToken
  007e7	e9 ec 01 00 00	 jmp	 $LN32@GetToken

; 77   : 		break;

  007ec	e9 e5 01 00 00	 jmp	 $LN20@GetToken
$LN15@GetToken:

; 78   : 
; 79   : 	case 0x7D:	// }
; 80   : 		return CurrentToken = RP;

  007f1	c7 05 00 00 00
	00 7d 00 00 00	 mov	 DWORD PTR _CurrentToken, 125 ; 0000007dH
  007fb	a1 00 00 00 00	 mov	 eax, DWORD PTR _CurrentToken
  00800	e9 d3 01 00 00	 jmp	 $LN32@GetToken

; 81   : 		break;

  00805	e9 cc 01 00 00	 jmp	 $LN20@GetToken
$LN14@GetToken:

; 82   : 	// Nice Index Table :)	by Deathway
; 83   : 	// Numbers Case
; 84   : 	case 0x2D:	//-
; 85   : 	case 0x2E:	//.
; 86   : 	case '0':	//0
; 87   : 	case '1':	//1
; 88   : 	case '2':	//2
; 89   : 	case '3':	//3
; 90   : 	case '4':	//4		
; 91   : 	case '5':	//5
; 92   : 	case '6':	//6
; 93   : 	case '7':	//7
; 94   : 	case '8':	//8
; 95   : 	case '9':	//9
; 96   : 		ungetc(ch, SMDFile);

  0080a	a1 00 00 00 00	 mov	 eax, DWORD PTR _SMDFile
  0080f	50		 push	 eax
  00810	0f be 4d fb	 movsx	 ecx, BYTE PTR _ch$[ebp]
  00814	51		 push	 ecx
  00815	e8 00 00 00 00	 call	 _ungetc
  0081a	83 c4 08	 add	 esp, 8

; 97   : 		p = TempString;

  0081d	8d 45 90	 lea	 eax, DWORD PTR _TempString$[ebp]
  00820	89 45 f4	 mov	 DWORD PTR _p$[ebp], eax
$LN13@GetToken:

; 98   : 		
; 99   : 		while (((ch=getc(SMDFile)) != -1) && ((ch == 0x2E) || (isdigit(ch) != 0) || (ch == 0x2D)))  // 2e '.'  2D '-'

  00823	a1 00 00 00 00	 mov	 eax, DWORD PTR _SMDFile
  00828	50		 push	 eax
  00829	e8 00 00 00 00	 call	 _getc
  0082e	83 c4 04	 add	 esp, 4
  00831	88 45 fb	 mov	 BYTE PTR _ch$[ebp], al
  00834	0f be 4d fb	 movsx	 ecx, BYTE PTR _ch$[ebp]
  00838	83 f9 ff	 cmp	 ecx, -1
  0083b	74 36		 je	 SHORT $LN12@GetToken
  0083d	0f be 45 fb	 movsx	 eax, BYTE PTR _ch$[ebp]
  00841	83 f8 2e	 cmp	 eax, 46			; 0000002eH
  00844	74 1a		 je	 SHORT $LN11@GetToken
  00846	0f be 45 fb	 movsx	 eax, BYTE PTR _ch$[ebp]
  0084a	50		 push	 eax
  0084b	e8 00 00 00 00	 call	 _isdigit
  00850	83 c4 04	 add	 esp, 4
  00853	85 c0		 test	 eax, eax
  00855	75 09		 jne	 SHORT $LN11@GetToken
  00857	0f be 45 fb	 movsx	 eax, BYTE PTR _ch$[ebp]
  0085b	83 f8 2d	 cmp	 eax, 45			; 0000002dH
  0085e	75 13		 jne	 SHORT $LN12@GetToken
$LN11@GetToken:

; 100  : 		{
; 101  : 			*p = ch;	// Construct a String

  00860	8b 45 f4	 mov	 eax, DWORD PTR _p$[ebp]
  00863	8a 4d fb	 mov	 cl, BYTE PTR _ch$[ebp]
  00866	88 08		 mov	 BYTE PTR [eax], cl

; 102  : 			p++;

  00868	8b 45 f4	 mov	 eax, DWORD PTR _p$[ebp]
  0086b	83 c0 01	 add	 eax, 1
  0086e	89 45 f4	 mov	 DWORD PTR _p$[ebp], eax

; 103  : 		}		

  00871	eb b0		 jmp	 SHORT $LN13@GetToken
$LN12@GetToken:

; 104  : 		*p = 0;

  00873	8b 45 f4	 mov	 eax, DWORD PTR _p$[ebp]
  00876	c6 00 00	 mov	 BYTE PTR [eax], 0

; 105  : 		TokenNumber = atof( TempString);	// Select the first Byte as Main ID

  00879	8d 45 90	 lea	 eax, DWORD PTR _TempString$[ebp]
  0087c	50		 push	 eax
  0087d	e8 00 00 00 00	 call	 _atof
  00882	83 c4 04	 add	 esp, 4
  00885	d9 1d 00 00 00
	00		 fstp	 DWORD PTR _TokenNumber

; 106  : 		return CurrentToken  = NUMBER ;

  0088b	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR _CurrentToken, 1
  00895	a1 00 00 00 00	 mov	 eax, DWORD PTR _CurrentToken
  0089a	e9 39 01 00 00	 jmp	 $LN32@GetToken

; 107  : 		break;

  0089f	e9 32 01 00 00	 jmp	 $LN20@GetToken
$LN10@GetToken:

; 108  : 
; 109  : 	case '\"':	// "	String Case
; 110  : 		p=&TokenString[0];

  008a4	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _p$[ebp], OFFSET _TokenString
$LN9@GetToken:

; 111  : 		
; 112  : 		while (((ch=getc(SMDFile)) != -1 ) && (ch != 0x22))	// nice

  008ab	a1 00 00 00 00	 mov	 eax, DWORD PTR _SMDFile
  008b0	50		 push	 eax
  008b1	e8 00 00 00 00	 call	 _getc
  008b6	83 c4 04	 add	 esp, 4
  008b9	88 45 fb	 mov	 BYTE PTR _ch$[ebp], al
  008bc	0f be 4d fb	 movsx	 ecx, BYTE PTR _ch$[ebp]
  008c0	83 f9 ff	 cmp	 ecx, -1
  008c3	74 1c		 je	 SHORT $LN8@GetToken
  008c5	0f be 45 fb	 movsx	 eax, BYTE PTR _ch$[ebp]
  008c9	83 f8 22	 cmp	 eax, 34			; 00000022H
  008cc	74 13		 je	 SHORT $LN8@GetToken

; 113  : 		{
; 114  : 			*p = ch;

  008ce	8b 45 f4	 mov	 eax, DWORD PTR _p$[ebp]
  008d1	8a 4d fb	 mov	 cl, BYTE PTR _ch$[ebp]
  008d4	88 08		 mov	 BYTE PTR [eax], cl

; 115  : 			p++;

  008d6	8b 45 f4	 mov	 eax, DWORD PTR _p$[ebp]
  008d9	83 c0 01	 add	 eax, 1
  008dc	89 45 f4	 mov	 DWORD PTR _p$[ebp], eax

; 116  : 		}

  008df	eb ca		 jmp	 SHORT $LN9@GetToken
$LN8@GetToken:

; 117  : 		if (ch != 0x22 )

  008e1	0f be 45 fb	 movsx	 eax, BYTE PTR _ch$[ebp]
  008e5	83 f8 22	 cmp	 eax, 34			; 00000022H
  008e8	74 13		 je	 SHORT $LN7@GetToken

; 118  : 		{
; 119  : 			ungetc(ch, SMDFile);

  008ea	a1 00 00 00 00	 mov	 eax, DWORD PTR _SMDFile
  008ef	50		 push	 eax
  008f0	0f be 4d fb	 movsx	 ecx, BYTE PTR _ch$[ebp]
  008f4	51		 push	 ecx
  008f5	e8 00 00 00 00	 call	 _ungetc
  008fa	83 c4 08	 add	 esp, 8
$LN7@GetToken:

; 120  : 		}
; 121  : 		*p = 0;

  008fd	8b 45 f4	 mov	 eax, DWORD PTR _p$[ebp]
  00900	c6 00 00	 mov	 BYTE PTR [eax], 0

; 122  : 		return CurrentToken = NAME;

  00903	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR _CurrentToken, 0
  0090d	a1 00 00 00 00	 mov	 eax, DWORD PTR _CurrentToken
  00912	e9 c1 00 00 00	 jmp	 $LN32@GetToken

; 123  : 		break;

  00917	e9 ba 00 00 00	 jmp	 $LN20@GetToken
$LN6@GetToken:

; 124  : 
; 125  : 	default:	// Others
; 126  : 		if (isalpha(ch))

  0091c	0f be 45 fb	 movsx	 eax, BYTE PTR _ch$[ebp]
  00920	50		 push	 eax
  00921	e8 00 00 00 00	 call	 _isalpha
  00926	83 c4 04	 add	 esp, 4
  00929	85 c0		 test	 eax, eax
  0092b	0f 84 94 00 00
	00		 je	 $LN5@GetToken

; 127  : 		{
; 128  : 			p=&TokenString[0];

  00931	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _p$[ebp], OFFSET _TokenString

; 129  : 			*p=ch;

  00938	8b 45 f4	 mov	 eax, DWORD PTR _p$[ebp]
  0093b	8a 4d fb	 mov	 cl, BYTE PTR _ch$[ebp]
  0093e	88 08		 mov	 BYTE PTR [eax], cl

; 130  : 			p++;

  00940	8b 45 f4	 mov	 eax, DWORD PTR _p$[ebp]
  00943	83 c0 01	 add	 eax, 1
  00946	89 45 f4	 mov	 DWORD PTR _p$[ebp], eax
$LN4@GetToken:

; 131  : 
; 132  : 			while ( ((ch=getc(SMDFile)) != -1) && ( (ch == 0x2E) || (ch == 0x5F) || (isalnum(ch) != 0) ) )

  00949	a1 00 00 00 00	 mov	 eax, DWORD PTR _SMDFile
  0094e	50		 push	 eax
  0094f	e8 00 00 00 00	 call	 _getc
  00954	83 c4 04	 add	 esp, 4
  00957	88 45 fb	 mov	 BYTE PTR _ch$[ebp], al
  0095a	0f be 4d fb	 movsx	 ecx, BYTE PTR _ch$[ebp]
  0095e	83 f9 ff	 cmp	 ecx, -1
  00961	74 36		 je	 SHORT $LN3@GetToken
  00963	0f be 45 fb	 movsx	 eax, BYTE PTR _ch$[ebp]
  00967	83 f8 2e	 cmp	 eax, 46			; 0000002eH
  0096a	74 1a		 je	 SHORT $LN2@GetToken
  0096c	0f be 45 fb	 movsx	 eax, BYTE PTR _ch$[ebp]
  00970	83 f8 5f	 cmp	 eax, 95			; 0000005fH
  00973	74 11		 je	 SHORT $LN2@GetToken
  00975	0f be 45 fb	 movsx	 eax, BYTE PTR _ch$[ebp]
  00979	50		 push	 eax
  0097a	e8 00 00 00 00	 call	 _isalnum
  0097f	83 c4 04	 add	 esp, 4
  00982	85 c0		 test	 eax, eax
  00984	74 13		 je	 SHORT $LN3@GetToken
$LN2@GetToken:

; 133  : 			{
; 134  : 				*p=ch;

  00986	8b 45 f4	 mov	 eax, DWORD PTR _p$[ebp]
  00989	8a 4d fb	 mov	 cl, BYTE PTR _ch$[ebp]
  0098c	88 08		 mov	 BYTE PTR [eax], cl

; 135  : 				p++;

  0098e	8b 45 f4	 mov	 eax, DWORD PTR _p$[ebp]
  00991	83 c0 01	 add	 eax, 1
  00994	89 45 f4	 mov	 DWORD PTR _p$[ebp], eax

; 136  : 				
; 137  : 			}

  00997	eb b0		 jmp	 SHORT $LN4@GetToken
$LN3@GetToken:

; 138  : 
; 139  : 			ungetc(ch, SMDFile);

  00999	a1 00 00 00 00	 mov	 eax, DWORD PTR _SMDFile
  0099e	50		 push	 eax
  0099f	0f be 4d fb	 movsx	 ecx, BYTE PTR _ch$[ebp]
  009a3	51		 push	 ecx
  009a4	e8 00 00 00 00	 call	 _ungetc
  009a9	83 c4 08	 add	 esp, 8

; 140  : 			*p=0;

  009ac	8b 45 f4	 mov	 eax, DWORD PTR _p$[ebp]
  009af	c6 00 00	 mov	 BYTE PTR [eax], 0

; 141  : 			CurrentToken=NAME;

  009b2	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR _CurrentToken, 0

; 142  : 			return CurrentToken;

  009bc	a1 00 00 00 00	 mov	 eax, DWORD PTR _CurrentToken
  009c1	eb 15		 jmp	 SHORT $LN32@GetToken

; 143  : 		}
; 144  : 		else

  009c3	eb 11		 jmp	 SHORT $LN1@GetToken
$LN5@GetToken:

; 145  : 		{
; 146  : 			return CurrentToken = SMD_ERROR; // '<'

  009c5	c7 05 00 00 00
	00 3c 00 00 00	 mov	 DWORD PTR _CurrentToken, 60 ; 0000003cH
  009cf	a1 00 00 00 00	 mov	 eax, DWORD PTR _CurrentToken
  009d4	eb 02		 jmp	 SHORT $LN32@GetToken
$LN1@GetToken:
$LN20@GetToken:

; 147  : 		}
; 148  : 		break;
; 149  : 
; 150  : 	}
; 151  : 
; 152  : 	return NAME;

  009d6	33 c0		 xor	 eax, eax
$LN32@GetToken:

; 153  : }

  009d8	5f		 pop	 edi
  009d9	5e		 pop	 esi
  009da	5b		 pop	 ebx
  009db	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  009de	33 cd		 xor	 ecx, ebp
  009e0	e8 00 00 00 00	 call	 @__security_check_cookie@4
  009e5	8b e5		 mov	 esp, ebp
  009e7	5d		 pop	 ebp
  009e8	c3		 ret	 0
  009e9	8d 49 00	 npad	 3
$LN35@GetToken:
  009ec	00 00 00 00	 DD	 $LN10@GetToken
  009f0	00 00 00 00	 DD	 $LN19@GetToken
  009f4	00 00 00 00	 DD	 $LN17@GetToken
  009f8	00 00 00 00	 DD	 $LN14@GetToken
  009fc	00 00 00 00	 DD	 $LN18@GetToken
  00a00	00 00 00 00	 DD	 $LN16@GetToken
  00a04	00 00 00 00	 DD	 $LN15@GetToken
  00a08	00 00 00 00	 DD	 $LN6@GetToken
$LN34@GetToken:
  00a0c	00		 DB	 0
  00a0d	01		 DB	 1
  00a0e	07		 DB	 7
  00a0f	07		 DB	 7
  00a10	07		 DB	 7
  00a11	07		 DB	 7
  00a12	07		 DB	 7
  00a13	07		 DB	 7
  00a14	07		 DB	 7
  00a15	07		 DB	 7
  00a16	02		 DB	 2
  00a17	03		 DB	 3
  00a18	03		 DB	 3
  00a19	07		 DB	 7
  00a1a	03		 DB	 3
  00a1b	03		 DB	 3
  00a1c	03		 DB	 3
  00a1d	03		 DB	 3
  00a1e	03		 DB	 3
  00a1f	03		 DB	 3
  00a20	03		 DB	 3
  00a21	03		 DB	 3
  00a22	03		 DB	 3
  00a23	03		 DB	 3
  00a24	07		 DB	 7
  00a25	04		 DB	 4
  00a26	07		 DB	 7
  00a27	07		 DB	 7
  00a28	07		 DB	 7
  00a29	07		 DB	 7
  00a2a	07		 DB	 7
  00a2b	07		 DB	 7
  00a2c	07		 DB	 7
  00a2d	07		 DB	 7
  00a2e	07		 DB	 7
  00a2f	07		 DB	 7
  00a30	07		 DB	 7
  00a31	07		 DB	 7
  00a32	07		 DB	 7
  00a33	07		 DB	 7
  00a34	07		 DB	 7
  00a35	07		 DB	 7
  00a36	07		 DB	 7
  00a37	07		 DB	 7
  00a38	07		 DB	 7
  00a39	07		 DB	 7
  00a3a	07		 DB	 7
  00a3b	07		 DB	 7
  00a3c	07		 DB	 7
  00a3d	07		 DB	 7
  00a3e	07		 DB	 7
  00a3f	07		 DB	 7
  00a40	07		 DB	 7
  00a41	07		 DB	 7
  00a42	07		 DB	 7
  00a43	07		 DB	 7
  00a44	07		 DB	 7
  00a45	07		 DB	 7
  00a46	07		 DB	 7
  00a47	07		 DB	 7
  00a48	07		 DB	 7
  00a49	07		 DB	 7
  00a4a	07		 DB	 7
  00a4b	07		 DB	 7
  00a4c	07		 DB	 7
  00a4d	07		 DB	 7
  00a4e	07		 DB	 7
  00a4f	07		 DB	 7
  00a50	07		 DB	 7
  00a51	07		 DB	 7
  00a52	07		 DB	 7
  00a53	07		 DB	 7
  00a54	07		 DB	 7
  00a55	07		 DB	 7
  00a56	07		 DB	 7
  00a57	07		 DB	 7
  00a58	07		 DB	 7
  00a59	07		 DB	 7
  00a5a	07		 DB	 7
  00a5b	07		 DB	 7
  00a5c	07		 DB	 7
  00a5d	07		 DB	 7
  00a5e	07		 DB	 7
  00a5f	07		 DB	 7
  00a60	07		 DB	 7
  00a61	07		 DB	 7
  00a62	07		 DB	 7
  00a63	07		 DB	 7
  00a64	07		 DB	 7
  00a65	05		 DB	 5
  00a66	07		 DB	 7
  00a67	06		 DB	 6
?GetToken@@YA?AW4SMDToken@@XZ ENDP			; GetToken
_TEXT	ENDS
PUBLIC	?GCWindowsOpen@MonsterQuest@@QAEXH@Z		; MonsterQuest::GCWindowsOpen
PUBLIC	??_C@_0BF@MJPLKCAO@Monster?5Quest?5Finish?$AA@	; `string'
PUBLIC	?NPCDialog@MonsterQuest@@QAE_NHH@Z		; MonsterQuest::NPCDialog
EXTRN	?MessageChat@@YAXHPADZZ:PROC			; MessageChat
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
;	COMDAT ??_C@_0BF@MJPLKCAO@Monster?5Quest?5Finish?$AA@
; File d:\projects\exteam6.3\source\gameserver\gameserver\monsterquest.cpp
CONST	SEGMENT
??_C@_0BF@MJPLKCAO@Monster?5Quest?5Finish?$AA@ DB 'Monster Quest Finish', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_UserQuest$228155 = -16					; size = 4
_lpNpc$ = -12						; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_NpcIndex$ = 8						; size = 4
_UserIndex$ = 12					; size = 4
?NPCDialog@MonsterQuest@@QAE_NHH@Z PROC			; MonsterQuest::NPCDialog
; _this$ = ecx

; 204  : {

  00a70	55		 push	 ebp
  00a71	8b ec		 mov	 ebp, esp
  00a73	83 ec 50	 sub	 esp, 80			; 00000050H
  00a76	53		 push	 ebx
  00a77	56		 push	 esi
  00a78	57		 push	 edi
  00a79	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 205  : 	if(!this->Enable) return false;

  00a7c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00a7f	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00a82	85 c9		 test	 ecx, ecx
  00a84	75 07		 jne	 SHORT $LN3@NPCDialog
  00a86	32 c0		 xor	 al, al
  00a88	e9 ba 00 00 00	 jmp	 $LN4@NPCDialog
$LN3@NPCDialog:

; 206  : 
; 207  : 	LPOBJ lpUser = &gObj[UserIndex];

  00a8d	8b 45 0c	 mov	 eax, DWORD PTR _UserIndex$[ebp]
  00a90	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00a96	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a9c	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 208  : 	LPOBJ lpNpc = &gObj[NpcIndex];

  00a9f	8b 45 08	 mov	 eax, DWORD PTR _NpcIndex$[ebp]
  00aa2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00aa8	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00aae	89 45 f4	 mov	 DWORD PTR _lpNpc$[ebp], eax

; 209  : 
; 210  : 	//LogAddC(2,"NPC: %d Code",gObj[UserIndex].Class);
; 211  : 
; 212  : 	if(lpNpc->Class == this->NPC_Class && lpNpc->MapNumber == this->NPC_Map && lpNpc->X == this->NPC_X && lpNpc->Y == this->NPC_Y)

  00ab1	8b 45 f4	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  00ab4	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  00abb	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00abe	0f b7 42 02	 movzx	 eax, WORD PTR [edx+2]
  00ac2	3b c8		 cmp	 ecx, eax
  00ac4	75 7f		 jne	 SHORT $LN2@NPCDialog
  00ac6	8b 45 f4	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  00ac9	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  00ad0	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00ad3	0f b6 42 04	 movzx	 eax, BYTE PTR [edx+4]
  00ad7	3b c8		 cmp	 ecx, eax
  00ad9	75 6a		 jne	 SHORT $LN2@NPCDialog
  00adb	8b 45 f4	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  00ade	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  00ae5	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00ae8	0f b6 42 05	 movzx	 eax, BYTE PTR [edx+5]
  00aec	3b c8		 cmp	 ecx, eax
  00aee	75 55		 jne	 SHORT $LN2@NPCDialog
  00af0	8b 45 f4	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  00af3	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  00afa	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00afd	0f b6 42 06	 movzx	 eax, BYTE PTR [edx+6]
  00b01	3b c8		 cmp	 ecx, eax
  00b03	75 40		 jne	 SHORT $LN2@NPCDialog

; 213  : 	{
; 214  : 		int UserQuest = lpUser->m_MonsterQuest.QuestNumber;

  00b05	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00b08	0f b7 88 24 28
	00 00		 movzx	 ecx, WORD PTR [eax+10276]
  00b0f	89 4d f0	 mov	 DWORD PTR _UserQuest$228155[ebp], ecx

; 215  : 		//Debug LogAdd UserQuest >= QuestCount
; 216  : 		//LogAddC(2,"%d %d",UserQuest,this->QuestCount);
; 217  : 		if(UserQuest >= this->QuestCount)

  00b12	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00b15	8b 4d f0	 mov	 ecx, DWORD PTR _UserQuest$228155[ebp]
  00b18	3b 88 f8 d2 00
	00		 cmp	 ecx, DWORD PTR [eax+54008]
  00b1e	72 15		 jb	 SHORT $LN1@NPCDialog

; 218  : 		{
; 219  : 			MessageChat(UserIndex,"Monster Quest Finish");

  00b20	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@MJPLKCAO@Monster?5Quest?5Finish?$AA@
  00b25	8b 45 0c	 mov	 eax, DWORD PTR _UserIndex$[ebp]
  00b28	50		 push	 eax
  00b29	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  00b2e	83 c4 08	 add	 esp, 8

; 220  : 			return false;

  00b31	32 c0		 xor	 al, al
  00b33	eb 12		 jmp	 SHORT $LN4@NPCDialog
$LN1@NPCDialog:

; 221  : 		}
; 222  : 
; 223  : 		this->GCWindowsOpen(UserIndex);

  00b35	8b 45 0c	 mov	 eax, DWORD PTR _UserIndex$[ebp]
  00b38	50		 push	 eax
  00b39	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00b3c	e8 00 00 00 00	 call	 ?GCWindowsOpen@MonsterQuest@@QAEXH@Z ; MonsterQuest::GCWindowsOpen

; 224  : 		return true;

  00b41	b0 01		 mov	 al, 1
  00b43	eb 02		 jmp	 SHORT $LN4@NPCDialog
$LN2@NPCDialog:

; 225  : 	}
; 226  : 	return false;

  00b45	32 c0		 xor	 al, al
$LN4@NPCDialog:

; 227  : }

  00b47	5f		 pop	 edi
  00b48	5e		 pop	 esi
  00b49	5b		 pop	 ebx
  00b4a	8b e5		 mov	 esp, ebp
  00b4c	5d		 pop	 ebp
  00b4d	c2 08 00	 ret	 8
?NPCDialog@MonsterQuest@@QAE_NHH@Z ENDP			; MonsterQuest::NPCDialog
_TEXT	ENDS
PUBLIC	??_C@_0CH@IHJJKCKP@?$EA?$FLMonsterQuest?$FN?3?5Mission?5accompl@ ; `string'
PUBLIC	?CheckDoneQuest@MonsterQuest@@QAE_NH@Z		; MonsterQuest::CheckDoneQuest
PUBLIC	?GCMonsterKill@MonsterQuest@@QAEXHH@Z		; MonsterQuest::GCMonsterKill
PUBLIC	?MissionKill@MonsterQuest@@QAEXHH@Z		; MonsterQuest::MissionKill
EXTRN	?ExFireCracker@@YAXHEE@Z:PROC			; ExFireCracker
;	COMDAT ??_C@_0CH@IHJJKCKP@?$EA?$FLMonsterQuest?$FN?3?5Mission?5accompl@
CONST	SEGMENT
??_C@_0CH@IHJJKCKP@?$EA?$FLMonsterQuest?$FN?3?5Mission?5accompl@ DB '@[Mo'
	DB	'nsterQuest]: Mission accomplished!', 00H	; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_n$228167 = -20						; size = 4
_UserQuest$ = -16					; size = 4
_lpMonster$ = -12					; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_MonsterIndex$ = 8					; size = 4
_UserIndex$ = 12					; size = 4
?MissionKill@MonsterQuest@@QAEXHH@Z PROC		; MonsterQuest::MissionKill
; _this$ = ecx

; 231  : {

  00b50	55		 push	 ebp
  00b51	8b ec		 mov	 ebp, esp
  00b53	83 ec 54	 sub	 esp, 84			; 00000054H
  00b56	53		 push	 ebx
  00b57	56		 push	 esi
  00b58	57		 push	 edi
  00b59	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 232  : 	if(!this->Enable) return;

  00b5c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00b5f	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00b62	85 c9		 test	 ecx, ecx
  00b64	75 05		 jne	 SHORT $LN7@MissionKil
  00b66	e9 1e 01 00 00	 jmp	 $LN8@MissionKil
$LN7@MissionKil:

; 233  : 
; 234  : 	LPOBJ lpUser = &gObj[UserIndex];

  00b6b	8b 45 0c	 mov	 eax, DWORD PTR _UserIndex$[ebp]
  00b6e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b74	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b7a	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 235  : 	LPOBJ lpMonster = &gObj[MonsterIndex];

  00b7d	8b 45 08	 mov	 eax, DWORD PTR _MonsterIndex$[ebp]
  00b80	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b86	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b8c	89 45 f4	 mov	 DWORD PTR _lpMonster$[ebp], eax

; 236  : 
; 237  : 	//int UserIndex = UserIndex;
; 238  : 	int UserQuest = lpUser->m_MonsterQuest.QuestNumber;

  00b8f	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00b92	0f b7 88 24 28
	00 00		 movzx	 ecx, WORD PTR [eax+10276]
  00b99	89 4d f0	 mov	 DWORD PTR _UserQuest$[ebp], ecx

; 239  : 
; 240  : 	for(int n = 0; n < MAX_MISSION_QUEST; n++)

  00b9c	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _n$228167[ebp], 0
  00ba3	eb 09		 jmp	 SHORT $LN6@MissionKil
$LN5@MissionKil:
  00ba5	8b 45 ec	 mov	 eax, DWORD PTR _n$228167[ebp]
  00ba8	83 c0 01	 add	 eax, 1
  00bab	89 45 ec	 mov	 DWORD PTR _n$228167[ebp], eax
$LN6@MissionKil:
  00bae	83 7d ec 05	 cmp	 DWORD PTR _n$228167[ebp], 5
  00bb2	0f 8d d1 00 00
	00		 jge	 $LN8@MissionKil

; 241  : 	{
; 242  : 		//LogAddC(2,"Monster Class: %d",lpMonster->Class);
; 243  : 		if( lpMonster->Class == this->MonsterData[UserQuest][n].Mission)

  00bb8	8b 45 f4	 mov	 eax, DWORD PTR _lpMonster$[ebp]
  00bbb	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  00bc2	8b 55 f0	 mov	 edx, DWORD PTR _UserQuest$[ebp]
  00bc5	6b d2 3c	 imul	 edx, 60			; 0000003cH
  00bc8	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00bcb	8d 54 10 08	 lea	 edx, DWORD PTR [eax+edx+8]
  00bcf	8b 45 ec	 mov	 eax, DWORD PTR _n$228167[ebp]
  00bd2	6b c0 0c	 imul	 eax, 12			; 0000000cH
  00bd5	0f b7 54 02 02	 movzx	 edx, WORD PTR [edx+eax+2]
  00bda	3b ca		 cmp	 ecx, edx
  00bdc	0f 85 a2 00 00
	00		 jne	 $LN3@MissionKil

; 244  : 		{
; 245  : 			if(lpUser->m_MonsterQuest.KillCount[n] >= this->MonsterData[UserQuest][n].Count)

  00be2	8b 45 f0	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  00be5	6b c0 3c	 imul	 eax, 60			; 0000003cH
  00be8	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00beb	8d 54 01 08	 lea	 edx, DWORD PTR [ecx+eax+8]
  00bef	8b 45 ec	 mov	 eax, DWORD PTR _n$228167[ebp]
  00bf2	6b c0 0c	 imul	 eax, 12			; 0000000cH
  00bf5	8b 4d ec	 mov	 ecx, DWORD PTR _n$228167[ebp]
  00bf8	8b 75 f8	 mov	 esi, DWORD PTR _lpUser$[ebp]
  00bfb	8b 8c 8e 28 28
	00 00		 mov	 ecx, DWORD PTR [esi+ecx*4+10280]
  00c02	3b 4c 02 08	 cmp	 ecx, DWORD PTR [edx+eax+8]
  00c06	72 02		 jb	 SHORT $LN2@MissionKil

; 246  : 			{
; 247  : 				continue;

  00c08	eb 9b		 jmp	 SHORT $LN5@MissionKil
$LN2@MissionKil:

; 248  : 			}
; 249  : 
; 250  : 			lpUser->m_MonsterQuest.KillCount[n]++;

  00c0a	8b 45 ec	 mov	 eax, DWORD PTR _n$228167[ebp]
  00c0d	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  00c10	8b 94 81 28 28
	00 00		 mov	 edx, DWORD PTR [ecx+eax*4+10280]
  00c17	83 c2 01	 add	 edx, 1
  00c1a	8b 45 ec	 mov	 eax, DWORD PTR _n$228167[ebp]
  00c1d	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  00c20	89 94 81 28 28
	00 00		 mov	 DWORD PTR [ecx+eax*4+10280], edx

; 251  : 			
; 252  : 			this->GCMonsterKill(UserIndex, n);

  00c27	8b 45 ec	 mov	 eax, DWORD PTR _n$228167[ebp]
  00c2a	50		 push	 eax
  00c2b	8b 4d 0c	 mov	 ecx, DWORD PTR _UserIndex$[ebp]
  00c2e	51		 push	 ecx
  00c2f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00c32	e8 00 00 00 00	 call	 ?GCMonsterKill@MonsterQuest@@QAEXHH@Z ; MonsterQuest::GCMonsterKill

; 253  : 
; 254  : 			if(this->CheckDoneQuest(UserIndex) == true)

  00c37	8b 45 0c	 mov	 eax, DWORD PTR _UserIndex$[ebp]
  00c3a	50		 push	 eax
  00c3b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00c3e	e8 00 00 00 00	 call	 ?CheckDoneQuest@MonsterQuest@@QAE_NH@Z ; MonsterQuest::CheckDoneQuest
  00c43	0f b6 c8	 movzx	 ecx, al
  00c46	83 f9 01	 cmp	 ecx, 1
  00c49	75 37		 jne	 SHORT $LN1@MissionKil

; 255  : 			{
; 256  : 				MessageChat(lpUser->m_Index,"@[MonsterQuest]: Mission accomplished!");

  00c4b	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@IHJJKCKP@?$EA?$FLMonsterQuest?$FN?3?5Mission?5accompl@
  00c50	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00c53	8b 08		 mov	 ecx, DWORD PTR [eax]
  00c55	51		 push	 ecx
  00c56	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  00c5b	83 c4 08	 add	 esp, 8

; 257  : 				ExFireCracker(lpUser->m_Index, lpUser->X, lpUser->Y);

  00c5e	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00c61	0f b6 88 46 01
	00 00		 movzx	 ecx, BYTE PTR [eax+326]
  00c68	51		 push	 ecx
  00c69	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  00c6c	0f b6 82 44 01
	00 00		 movzx	 eax, BYTE PTR [edx+324]
  00c73	50		 push	 eax
  00c74	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  00c77	8b 11		 mov	 edx, DWORD PTR [ecx]
  00c79	52		 push	 edx
  00c7a	e8 00 00 00 00	 call	 ?ExFireCracker@@YAXHEE@Z ; ExFireCracker
  00c7f	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@MissionKil:

; 258  : 			}
; 259  : 
; 260  : 			break;

  00c82	eb 05		 jmp	 SHORT $LN8@MissionKil
$LN3@MissionKil:

; 261  : 		}
; 262  : 	}

  00c84	e9 1c ff ff ff	 jmp	 $LN5@MissionKil
$LN8@MissionKil:

; 263  : }

  00c89	5f		 pop	 edi
  00c8a	5e		 pop	 esi
  00c8b	5b		 pop	 ebx
  00c8c	8b e5		 mov	 esp, ebp
  00c8e	5d		 pop	 ebp
  00c8f	c2 08 00	 ret	 8
?MissionKill@MonsterQuest@@QAEXHH@Z ENDP		; MonsterQuest::MissionKill
_TEXT	ENDS
PUBLIC	?GCMission@MonsterQuest@@QAEXH@Z		; MonsterQuest::GCMission
PUBLIC	??_C@_0BM@LELLNEOF@?$EA?$FLMonsterQuest?$FN?3?5Credit?5?$CFd?$CB?$AA@ ; `string'
PUBLIC	??_C@_0BM@MDPLPKLO@?$EA?$FLMonsterQuest?$FN?3?5Goblin?5?$CFd?$CB?$AA@ ; `string'
PUBLIC	??_C@_0BM@HKBEGMEL@?$EA?$FLMonsterQuest?$FN?3?5WCoinP?5?$CFd?$CB?$AA@ ; `string'
PUBLIC	??_C@_0BM@PPFGBMHO@?$EA?$FLMonsterQuest?$FN?3?5WCoinC?5?$CFd?$CB?$AA@ ; `string'
PUBLIC	??_C@_0CA@DBGFIJKA@?$EA?$FLMonsterQuest?$FN?3?5FreePoints?5?$CFd?$CB?$AA@ ; `string'
PUBLIC	?MissionReward@MonsterQuest@@QAEXH@Z		; MonsterQuest::MissionReward
EXTRN	?ExUserDataSend@@YAXH@Z:PROC			; ExUserDataSend
EXTRN	?GDSaveUserInfo@GameShop@@QAEXH@Z:PROC		; GameShop::GDSaveUserInfo
EXTRN	?gGameShop@@3VGameShop@@A:BYTE			; gGameShop
EXTRN	?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z:PROC	; ItemSerialCreateSend
EXTRN	?MoneyItemDrop@MapClass@@QAEHHHH@Z:PROC		; MapClass::MoneyItemDrop
EXTRN	?MapC@@3PAVMapClass@@A:BYTE			; MapC
;	COMDAT ??_C@_0BM@LELLNEOF@?$EA?$FLMonsterQuest?$FN?3?5Credit?5?$CFd?$CB?$AA@
CONST	SEGMENT
??_C@_0BM@LELLNEOF@?$EA?$FLMonsterQuest?$FN?3?5Credit?5?$CFd?$CB?$AA@ DB '@'
	DB	'[MonsterQuest]: Credit %d!', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BM@MDPLPKLO@?$EA?$FLMonsterQuest?$FN?3?5Goblin?5?$CFd?$CB?$AA@
CONST	SEGMENT
??_C@_0BM@MDPLPKLO@?$EA?$FLMonsterQuest?$FN?3?5Goblin?5?$CFd?$CB?$AA@ DB '@'
	DB	'[MonsterQuest]: Goblin %d!', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BM@HKBEGMEL@?$EA?$FLMonsterQuest?$FN?3?5WCoinP?5?$CFd?$CB?$AA@
CONST	SEGMENT
??_C@_0BM@HKBEGMEL@?$EA?$FLMonsterQuest?$FN?3?5WCoinP?5?$CFd?$CB?$AA@ DB '@'
	DB	'[MonsterQuest]: WCoinP %d!', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BM@PPFGBMHO@?$EA?$FLMonsterQuest?$FN?3?5WCoinC?5?$CFd?$CB?$AA@
CONST	SEGMENT
??_C@_0BM@PPFGBMHO@?$EA?$FLMonsterQuest?$FN?3?5WCoinC?5?$CFd?$CB?$AA@ DB '@'
	DB	'[MonsterQuest]: WCoinC %d!', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CA@DBGFIJKA@?$EA?$FLMonsterQuest?$FN?3?5FreePoints?5?$CFd?$CB?$AA@
CONST	SEGMENT
??_C@_0CA@DBGFIJKA@?$EA?$FLMonsterQuest?$FN?3?5FreePoints?5?$CFd?$CB?$AA@ DB '@'
	DB	'[MonsterQuest]: FreePoints %d!', 00H	; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv507 = -120						; size = 8
tv489 = -120						; size = 8
tv471 = -120						; size = 8
tv453 = -120						; size = 8
tv91 = -116						; size = 4
_i$228211 = -48						; size = 4
_rAncent$228202 = -44					; size = 4
_rExellent$228201 = -40					; size = 4
_rOption$228200 = -36					; size = 4
_rLuck$228199 = -32					; size = 4
_rSkill$228198 = -28					; size = 4
_rLevel$228197 = -24					; size = 4
_rItem$228196 = -20					; size = 4
_n$228183 = -16						; size = 4
_UserQuest$ = -12					; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_UserIndex$ = 8						; size = 4
?MissionReward@MonsterQuest@@QAEXH@Z PROC		; MonsterQuest::MissionReward
; _this$ = ecx

; 267  : {

  00ca0	55		 push	 ebp
  00ca1	8b ec		 mov	 ebp, esp
  00ca3	83 ec 78	 sub	 esp, 120		; 00000078H
  00ca6	53		 push	 ebx
  00ca7	56		 push	 esi
  00ca8	57		 push	 edi
  00ca9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 268  : 	if(!this->Enable) return;

  00cac	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00caf	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00cb2	85 c9		 test	 ecx, ecx
  00cb4	75 05		 jne	 SHORT $LN18@MissionRew
  00cb6	e9 36 05 00 00	 jmp	 $LN19@MissionRew
$LN18@MissionRew:

; 269  : 
; 270  : 	if(this->CheckDoneQuest(UserIndex) == false) return;

  00cbb	8b 45 08	 mov	 eax, DWORD PTR _UserIndex$[ebp]
  00cbe	50		 push	 eax
  00cbf	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00cc2	e8 00 00 00 00	 call	 ?CheckDoneQuest@MonsterQuest@@QAE_NH@Z ; MonsterQuest::CheckDoneQuest
  00cc7	0f b6 c8	 movzx	 ecx, al
  00cca	85 c9		 test	 ecx, ecx
  00ccc	75 05		 jne	 SHORT $LN17@MissionRew
  00cce	e9 1e 05 00 00	 jmp	 $LN19@MissionRew
$LN17@MissionRew:

; 271  : 
; 272  : 	LPOBJ lpUser = &gObj[UserIndex];

  00cd3	8b 45 08	 mov	 eax, DWORD PTR _UserIndex$[ebp]
  00cd6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00cdc	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00ce2	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 273  : 
; 274  : 	int UserQuest = lpUser->m_MonsterQuest.QuestNumber;

  00ce5	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00ce8	0f b7 88 24 28
	00 00		 movzx	 ecx, WORD PTR [eax+10276]
  00cef	89 4d f4	 mov	 DWORD PTR _UserQuest$[ebp], ecx

; 275  : 
; 276  : 	for(int n = 0; n < MAX_REWARD_QUEST; n++)

  00cf2	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _n$228183[ebp], 0
  00cf9	eb 09		 jmp	 SHORT $LN16@MissionRew
$LN15@MissionRew:
  00cfb	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00cfe	83 c0 01	 add	 eax, 1
  00d01	89 45 f0	 mov	 DWORD PTR _n$228183[ebp], eax
$LN16@MissionRew:
  00d04	83 7d f0 03	 cmp	 DWORD PTR _n$228183[ebp], 3
  00d08	0f 8d 70 04 00
	00		 jge	 $LN14@MissionRew

; 277  : 	{
; 278  : 		if(this->RewardData[UserQuest][n].Active)

  00d0e	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  00d11	6b c0 30	 imul	 eax, 48			; 00000030H
  00d14	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00d17	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  00d1e	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00d21	c1 e0 04	 shl	 eax, 4
  00d24	0f b6 0c 02	 movzx	 ecx, BYTE PTR [edx+eax]
  00d28	85 c9		 test	 ecx, ecx
  00d2a	0f 84 49 04 00
	00		 je	 $LN11@MissionRew

; 279  : 		{
; 280  : 			switch(this->RewardData[UserQuest][n].Active)

  00d30	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  00d33	6b c0 30	 imul	 eax, 48			; 00000030H
  00d36	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00d39	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  00d40	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00d43	c1 e0 04	 shl	 eax, 4
  00d46	0f b6 0c 02	 movzx	 ecx, BYTE PTR [edx+eax]
  00d4a	89 4d 8c	 mov	 DWORD PTR tv91[ebp], ecx
  00d4d	8b 55 8c	 mov	 edx, DWORD PTR tv91[ebp]
  00d50	83 ea 01	 sub	 edx, 1
  00d53	89 55 8c	 mov	 DWORD PTR tv91[ebp], edx
  00d56	83 7d 8c 06	 cmp	 DWORD PTR tv91[ebp], 6
  00d5a	0f 87 19 04 00
	00		 ja	 $LN11@MissionRew
  00d60	8b 45 8c	 mov	 eax, DWORD PTR tv91[ebp]
  00d63	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN21@MissionRew[eax*4]
$LN10@MissionRew:

; 281  : 			{
; 282  : 			case eZen:
; 283  : 				{
; 284  : 					MapC[lpUser->MapNumber].MoneyItemDrop(this->RewardData[UserQuest][n].Reward, lpUser->X, lpUser->Y);	//    

  00d6a	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00d6d	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  00d74	51		 push	 ecx
  00d75	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  00d78	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  00d7f	50		 push	 eax
  00d80	8b 4d f4	 mov	 ecx, DWORD PTR _UserQuest$[ebp]
  00d83	6b c9 30	 imul	 ecx, 48			; 00000030H
  00d86	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00d89	8d 84 0a 38 75
	00 00		 lea	 eax, DWORD PTR [edx+ecx+30008]
  00d90	8b 4d f0	 mov	 ecx, DWORD PTR _n$228183[ebp]
  00d93	c1 e1 04	 shl	 ecx, 4
  00d96	8b 54 08 04	 mov	 edx, DWORD PTR [eax+ecx+4]
  00d9a	52		 push	 edx
  00d9b	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00d9e	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  00da5	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  00dab	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00db1	e8 00 00 00 00	 call	 ?MoneyItemDrop@MapClass@@QAEHHHH@Z ; MapClass::MoneyItemDrop

; 285  : 				}
; 286  : 				break;

  00db6	e9 be 03 00 00	 jmp	 $LN11@MissionRew
$LN9@MissionRew:

; 287  : 			case eFreePoints:
; 288  : 				{
; 289  : 					MessageChat(lpUser->m_Index,"@[MonsterQuest]: FreePoints %d!",this->RewardData[UserQuest][n].Reward);

  00dbb	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  00dbe	6b c0 30	 imul	 eax, 48			; 00000030H
  00dc1	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00dc4	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  00dcb	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00dce	c1 e0 04	 shl	 eax, 4
  00dd1	8b 4c 02 04	 mov	 ecx, DWORD PTR [edx+eax+4]
  00dd5	51		 push	 ecx
  00dd6	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@DBGFIJKA@?$EA?$FLMonsterQuest?$FN?3?5FreePoints?5?$CFd?$CB?$AA@
  00ddb	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  00dde	8b 02		 mov	 eax, DWORD PTR [edx]
  00de0	50		 push	 eax
  00de1	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  00de6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 290  : 					lpUser->ExFreePoints += this->RewardData[UserQuest][n].Reward;

  00de9	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  00dec	6b c0 30	 imul	 eax, 48			; 00000030H
  00def	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00df2	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  00df9	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00dfc	c1 e0 04	 shl	 eax, 4
  00dff	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  00e02	8b 89 8c 22 00
	00		 mov	 ecx, DWORD PTR [ecx+8844]
  00e08	03 4c 02 04	 add	 ecx, DWORD PTR [edx+eax+4]
  00e0c	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  00e0f	89 8a 8c 22 00
	00		 mov	 DWORD PTR [edx+8844], ecx

; 291  : 					lpUser->LevelUpPoint += this->RewardData[UserQuest][n].Reward;

  00e15	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  00e18	6b c0 30	 imul	 eax, 48			; 00000030H
  00e1b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00e1e	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  00e25	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00e28	c1 e0 04	 shl	 eax, 4
  00e2b	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  00e2e	8b 89 c0 00 00
	00		 mov	 ecx, DWORD PTR [ecx+192]
  00e34	03 4c 02 04	 add	 ecx, DWORD PTR [edx+eax+4]
  00e38	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  00e3b	89 8a c0 00 00
	00		 mov	 DWORD PTR [edx+192], ecx

; 292  : 				}
; 293  : 				break;

  00e41	e9 33 03 00 00	 jmp	 $LN11@MissionRew
$LN8@MissionRew:

; 294  : 			case eItem:
; 295  : 				{
; 296  : 					int rItem = ITEMGET(this->RewardData[UserQuest][n].Reward,this->RewardData[UserQuest][n].RewardID);

  00e46	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  00e49	6b c0 30	 imul	 eax, 48			; 00000030H
  00e4c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00e4f	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  00e56	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00e59	c1 e0 04	 shl	 eax, 4
  00e5c	8b 4c 02 04	 mov	 ecx, DWORD PTR [edx+eax+4]
  00e60	c1 e1 09	 shl	 ecx, 9
  00e63	8b 55 f4	 mov	 edx, DWORD PTR _UserQuest$[ebp]
  00e66	6b d2 30	 imul	 edx, 48			; 00000030H
  00e69	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00e6c	8d 94 10 38 75
	00 00		 lea	 edx, DWORD PTR [eax+edx+30008]
  00e73	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00e76	c1 e0 04	 shl	 eax, 4
  00e79	0f b6 54 02 08	 movzx	 edx, BYTE PTR [edx+eax+8]
  00e7e	03 ca		 add	 ecx, edx
  00e80	89 4d ec	 mov	 DWORD PTR _rItem$228196[ebp], ecx

; 297  : 					int rLevel = this->RewardData[UserQuest][n].Level;

  00e83	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  00e86	6b c0 30	 imul	 eax, 48			; 00000030H
  00e89	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00e8c	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  00e93	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00e96	c1 e0 04	 shl	 eax, 4
  00e99	0f b6 4c 02 09	 movzx	 ecx, BYTE PTR [edx+eax+9]
  00e9e	89 4d e8	 mov	 DWORD PTR _rLevel$228197[ebp], ecx

; 298  : 					int rSkill = this->RewardData[UserQuest][n].Skill;

  00ea1	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  00ea4	6b c0 30	 imul	 eax, 48			; 00000030H
  00ea7	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00eaa	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  00eb1	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00eb4	c1 e0 04	 shl	 eax, 4
  00eb7	0f b6 4c 02 0a	 movzx	 ecx, BYTE PTR [edx+eax+10]
  00ebc	89 4d e4	 mov	 DWORD PTR _rSkill$228198[ebp], ecx

; 299  : 					int rLuck = this->RewardData[UserQuest][n].Luck;

  00ebf	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  00ec2	6b c0 30	 imul	 eax, 48			; 00000030H
  00ec5	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00ec8	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  00ecf	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00ed2	c1 e0 04	 shl	 eax, 4
  00ed5	0f b6 4c 02 0b	 movzx	 ecx, BYTE PTR [edx+eax+11]
  00eda	89 4d e0	 mov	 DWORD PTR _rLuck$228199[ebp], ecx

; 300  : 					int rOption = this->RewardData[UserQuest][n].Option;

  00edd	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  00ee0	6b c0 30	 imul	 eax, 48			; 00000030H
  00ee3	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00ee6	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  00eed	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00ef0	c1 e0 04	 shl	 eax, 4
  00ef3	0f b6 4c 02 0c	 movzx	 ecx, BYTE PTR [edx+eax+12]
  00ef8	89 4d dc	 mov	 DWORD PTR _rOption$228200[ebp], ecx

; 301  : 					int rExellent = this->RewardData[UserQuest][n].Exellent;

  00efb	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  00efe	6b c0 30	 imul	 eax, 48			; 00000030H
  00f01	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00f04	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  00f0b	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00f0e	c1 e0 04	 shl	 eax, 4
  00f11	0f b6 4c 02 0d	 movzx	 ecx, BYTE PTR [edx+eax+13]
  00f16	89 4d d8	 mov	 DWORD PTR _rExellent$228201[ebp], ecx

; 302  : 					int rAncent = this->RewardData[UserQuest][n].Ancent;

  00f19	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  00f1c	6b c0 30	 imul	 eax, 48			; 00000030H
  00f1f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00f22	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  00f29	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00f2c	c1 e0 04	 shl	 eax, 4
  00f2f	0f b6 4c 02 0e	 movzx	 ecx, BYTE PTR [edx+eax+14]
  00f34	89 4d d4	 mov	 DWORD PTR _rAncent$228202[ebp], ecx

; 303  : 					ItemSerialCreateSend(lpUser->m_Index,lpUser->MapNumber,lpUser->X,lpUser->Y,rItem,rLevel,0,rSkill,rLuck,rOption,lpUser->m_Index,rExellent,rAncent);	//?

  00f37	0f b6 45 d4	 movzx	 eax, BYTE PTR _rAncent$228202[ebp]
  00f3b	50		 push	 eax
  00f3c	0f b6 4d d8	 movzx	 ecx, BYTE PTR _rExellent$228201[ebp]
  00f40	51		 push	 ecx
  00f41	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  00f44	8b 02		 mov	 eax, DWORD PTR [edx]
  00f46	50		 push	 eax
  00f47	0f b6 4d dc	 movzx	 ecx, BYTE PTR _rOption$228200[ebp]
  00f4b	51		 push	 ecx
  00f4c	0f b6 55 e0	 movzx	 edx, BYTE PTR _rLuck$228199[ebp]
  00f50	52		 push	 edx
  00f51	0f b6 45 e4	 movzx	 eax, BYTE PTR _rSkill$228198[ebp]
  00f55	50		 push	 eax
  00f56	6a 00		 push	 0
  00f58	0f b6 4d e8	 movzx	 ecx, BYTE PTR _rLevel$228197[ebp]
  00f5c	51		 push	 ecx
  00f5d	8b 55 ec	 mov	 edx, DWORD PTR _rItem$228196[ebp]
  00f60	52		 push	 edx
  00f61	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00f64	0f b6 88 46 01
	00 00		 movzx	 ecx, BYTE PTR [eax+326]
  00f6b	51		 push	 ecx
  00f6c	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  00f6f	0f b6 82 44 01
	00 00		 movzx	 eax, BYTE PTR [edx+324]
  00f76	50		 push	 eax
  00f77	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  00f7a	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  00f81	52		 push	 edx
  00f82	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00f85	8b 08		 mov	 ecx, DWORD PTR [eax]
  00f87	51		 push	 ecx
  00f88	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  00f8d	83 c4 34	 add	 esp, 52			; 00000034H

; 304  : 				}
; 305  : 				break;

  00f90	e9 e4 01 00 00	 jmp	 $LN11@MissionRew
$LN7@MissionRew:

; 306  : 			case eWCoin:
; 307  : 				{
; 308  : 					MessageChat(lpUser->m_Index,"@[MonsterQuest]: WCoinC %d!",this->RewardData[UserQuest][n].Reward);

  00f95	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  00f98	6b c0 30	 imul	 eax, 48			; 00000030H
  00f9b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00f9e	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  00fa5	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00fa8	c1 e0 04	 shl	 eax, 4
  00fab	8b 4c 02 04	 mov	 ecx, DWORD PTR [edx+eax+4]
  00faf	51		 push	 ecx
  00fb0	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@PPFGBMHO@?$EA?$FLMonsterQuest?$FN?3?5WCoinC?5?$CFd?$CB?$AA@
  00fb5	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  00fb8	8b 02		 mov	 eax, DWORD PTR [edx]
  00fba	50		 push	 eax
  00fbb	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  00fc0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 309  : 					lpUser->GameShop.WCoinC += this->RewardData[UserQuest][n].Reward;

  00fc3	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  00fc6	6b c0 30	 imul	 eax, 48			; 00000030H
  00fc9	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00fcc	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  00fd3	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  00fd6	c1 e0 04	 shl	 eax, 4
  00fd9	8b 4c 02 04	 mov	 ecx, DWORD PTR [edx+eax+4]
  00fdd	89 4d 88	 mov	 DWORD PTR tv453[ebp], ecx
  00fe0	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv453[ebp+4], 0
  00fe7	df 6d 88	 fild	 QWORD PTR tv453[ebp]
  00fea	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  00fed	dc 82 00 23 00
	00		 fadd	 QWORD PTR [edx+8960]
  00ff3	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00ff6	dd 98 00 23 00
	00		 fstp	 QWORD PTR [eax+8960]

; 310  : 					gGameShop.GDSaveUserInfo(lpUser->m_Index);

  00ffc	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00fff	8b 08		 mov	 ecx, DWORD PTR [eax]
  01001	51		 push	 ecx
  01002	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  01007	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo

; 311  : 				}
; 312  : 				break;

  0100c	e9 68 01 00 00	 jmp	 $LN11@MissionRew
$LN6@MissionRew:

; 313  : 			case eWCoinP:
; 314  : 				{
; 315  : 					MessageChat(lpUser->m_Index,"@[MonsterQuest]: WCoinP %d!",this->RewardData[UserQuest][n].Reward);

  01011	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  01014	6b c0 30	 imul	 eax, 48			; 00000030H
  01017	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0101a	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  01021	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  01024	c1 e0 04	 shl	 eax, 4
  01027	8b 4c 02 04	 mov	 ecx, DWORD PTR [edx+eax+4]
  0102b	51		 push	 ecx
  0102c	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@HKBEGMEL@?$EA?$FLMonsterQuest?$FN?3?5WCoinP?5?$CFd?$CB?$AA@
  01031	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  01034	8b 02		 mov	 eax, DWORD PTR [edx]
  01036	50		 push	 eax
  01037	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  0103c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 316  : 					lpUser->GameShop.WCoinP += this->RewardData[UserQuest][n].Reward;

  0103f	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  01042	6b c0 30	 imul	 eax, 48			; 00000030H
  01045	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01048	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  0104f	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  01052	c1 e0 04	 shl	 eax, 4
  01055	8b 4c 02 04	 mov	 ecx, DWORD PTR [edx+eax+4]
  01059	89 4d 88	 mov	 DWORD PTR tv471[ebp], ecx
  0105c	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv471[ebp+4], 0
  01063	df 6d 88	 fild	 QWORD PTR tv471[ebp]
  01066	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  01069	dc 82 f8 22 00
	00		 fadd	 QWORD PTR [edx+8952]
  0106f	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  01072	dd 98 f8 22 00
	00		 fstp	 QWORD PTR [eax+8952]

; 317  : 					gGameShop.GDSaveUserInfo(lpUser->m_Index);

  01078	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0107b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0107d	51		 push	 ecx
  0107e	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  01083	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo

; 318  : 				}
; 319  : 				break;

  01088	e9 ec 00 00 00	 jmp	 $LN11@MissionRew
$LN5@MissionRew:

; 320  : 			case eGoblin:
; 321  : 				{
; 322  : 					MessageChat(lpUser->m_Index,"@[MonsterQuest]: Goblin %d!",this->RewardData[UserQuest][n].Reward);

  0108d	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  01090	6b c0 30	 imul	 eax, 48			; 00000030H
  01093	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01096	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  0109d	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  010a0	c1 e0 04	 shl	 eax, 4
  010a3	8b 4c 02 04	 mov	 ecx, DWORD PTR [edx+eax+4]
  010a7	51		 push	 ecx
  010a8	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@MDPLPKLO@?$EA?$FLMonsterQuest?$FN?3?5Goblin?5?$CFd?$CB?$AA@
  010ad	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  010b0	8b 02		 mov	 eax, DWORD PTR [edx]
  010b2	50		 push	 eax
  010b3	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  010b8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 323  : 					lpUser->GameShop.GoblinPoint += this->RewardData[UserQuest][n].Reward;

  010bb	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  010be	6b c0 30	 imul	 eax, 48			; 00000030H
  010c1	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  010c4	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  010cb	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  010ce	c1 e0 04	 shl	 eax, 4
  010d1	8b 4c 02 04	 mov	 ecx, DWORD PTR [edx+eax+4]
  010d5	89 4d 88	 mov	 DWORD PTR tv489[ebp], ecx
  010d8	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv489[ebp+4], 0
  010df	df 6d 88	 fild	 QWORD PTR tv489[ebp]
  010e2	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  010e5	dc 82 08 23 00
	00		 fadd	 QWORD PTR [edx+8968]
  010eb	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  010ee	dd 98 08 23 00
	00		 fstp	 QWORD PTR [eax+8968]

; 324  : 					gGameShop.GDSaveUserInfo(lpUser->m_Index);

  010f4	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  010f7	8b 08		 mov	 ecx, DWORD PTR [eax]
  010f9	51		 push	 ecx
  010fa	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  010ff	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo

; 325  : 				}
; 326  : 				break;

  01104	eb 73		 jmp	 SHORT $LN11@MissionRew
$LN4@MissionRew:

; 327  : 			case eCredit:
; 328  : 				{
; 329  : 					MessageChat(lpUser->m_Index,"@[MonsterQuest]: Credit %d!",this->RewardData[UserQuest][n].Reward);

  01106	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  01109	6b c0 30	 imul	 eax, 48			; 00000030H
  0110c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0110f	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  01116	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  01119	c1 e0 04	 shl	 eax, 4
  0111c	8b 4c 02 04	 mov	 ecx, DWORD PTR [edx+eax+4]
  01120	51		 push	 ecx
  01121	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@LELLNEOF@?$EA?$FLMonsterQuest?$FN?3?5Credit?5?$CFd?$CB?$AA@
  01126	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  01129	8b 02		 mov	 eax, DWORD PTR [edx]
  0112b	50		 push	 eax
  0112c	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  01131	83 c4 0c	 add	 esp, 12			; 0000000cH

; 330  : 					lpUser->ExCred += this->RewardData[UserQuest][n].Reward;

  01134	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  01137	6b c0 30	 imul	 eax, 48			; 00000030H
  0113a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0113d	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  01144	8b 45 f0	 mov	 eax, DWORD PTR _n$228183[ebp]
  01147	c1 e0 04	 shl	 eax, 4
  0114a	8b 4c 02 04	 mov	 ecx, DWORD PTR [edx+eax+4]
  0114e	89 4d 88	 mov	 DWORD PTR tv507[ebp], ecx
  01151	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv507[ebp+4], 0
  01158	df 6d 88	 fild	 QWORD PTR tv507[ebp]
  0115b	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  0115e	d8 82 a8 22 00
	00		 fadd	 DWORD PTR [edx+8872]
  01164	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  01167	d9 98 a8 22 00
	00		 fstp	 DWORD PTR [eax+8872]

; 331  : 					ExUserDataSend(UserQuest);

  0116d	8b 45 f4	 mov	 eax, DWORD PTR _UserQuest$[ebp]
  01170	50		 push	 eax
  01171	e8 00 00 00 00	 call	 ?ExUserDataSend@@YAXH@Z	; ExUserDataSend
  01176	83 c4 04	 add	 esp, 4
$LN11@MissionRew:

; 332  : 				}
; 333  : 				break;
; 334  : 			}
; 335  : 		}
; 336  : 	}

  01179	e9 7d fb ff ff	 jmp	 $LN15@MissionRew
$LN14@MissionRew:

; 337  : 
; 338  : 	lpUser->m_MonsterQuest.QuestNumber++;

  0117e	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  01181	66 8b 88 24 28
	00 00		 mov	 cx, WORD PTR [eax+10276]
  01188	66 83 c1 01	 add	 cx, 1
  0118c	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  0118f	66 89 8a 24 28
	00 00		 mov	 WORD PTR [edx+10276], cx

; 339  : 
; 340  : 	for(int i=0; i<MAX_MISSION_QUEST; i++)

  01196	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _i$228211[ebp], 0
  0119d	eb 09		 jmp	 SHORT $LN3@MissionRew
$LN2@MissionRew:
  0119f	8b 45 d0	 mov	 eax, DWORD PTR _i$228211[ebp]
  011a2	83 c0 01	 add	 eax, 1
  011a5	89 45 d0	 mov	 DWORD PTR _i$228211[ebp], eax
$LN3@MissionRew:
  011a8	83 7d d0 05	 cmp	 DWORD PTR _i$228211[ebp], 5
  011ac	7d 13		 jge	 SHORT $LN1@MissionRew

; 341  : 	{
; 342  : 		lpUser->m_MonsterQuest.KillCount[i] = 0;

  011ae	8b 45 d0	 mov	 eax, DWORD PTR _i$228211[ebp]
  011b1	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  011b4	c7 84 81 28 28
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax*4+10280], 0

; 343  : 	}

  011bf	eb de		 jmp	 SHORT $LN2@MissionRew
$LN1@MissionRew:

; 344  : 
; 345  : 	this->GCMission(UserIndex);

  011c1	8b 45 08	 mov	 eax, DWORD PTR _UserIndex$[ebp]
  011c4	50		 push	 eax
  011c5	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  011c8	e8 00 00 00 00	 call	 ?GCMission@MonsterQuest@@QAEXH@Z ; MonsterQuest::GCMission

; 346  : 
; 347  : 	ExFireCracker(lpUser->m_Index, lpUser->X, lpUser->Y);

  011cd	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  011d0	0f b6 88 46 01
	00 00		 movzx	 ecx, BYTE PTR [eax+326]
  011d7	51		 push	 ecx
  011d8	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  011db	0f b6 82 44 01
	00 00		 movzx	 eax, BYTE PTR [edx+324]
  011e2	50		 push	 eax
  011e3	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  011e6	8b 11		 mov	 edx, DWORD PTR [ecx]
  011e8	52		 push	 edx
  011e9	e8 00 00 00 00	 call	 ?ExFireCracker@@YAXHEE@Z ; ExFireCracker
  011ee	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN19@MissionRew:

; 348  : }

  011f1	5f		 pop	 edi
  011f2	5e		 pop	 esi
  011f3	5b		 pop	 ebx
  011f4	8b e5		 mov	 esp, ebp
  011f6	5d		 pop	 ebp
  011f7	c2 04 00	 ret	 4
  011fa	8b ff		 npad	 2
$LN21@MissionRew:
  011fc	00 00 00 00	 DD	 $LN10@MissionRew
  01200	00 00 00 00	 DD	 $LN9@MissionRew
  01204	00 00 00 00	 DD	 $LN8@MissionRew
  01208	00 00 00 00	 DD	 $LN7@MissionRew
  0120c	00 00 00 00	 DD	 $LN6@MissionRew
  01210	00 00 00 00	 DD	 $LN5@MissionRew
  01214	00 00 00 00	 DD	 $LN4@MissionRew
?MissionReward@MonsterQuest@@QAEXH@Z ENDP		; MonsterQuest::MissionReward
; Function compile flags: /Odtp /ZI
_i$228222 = -20					; size = 4
_QuestNum$ = -16					; size = 4
_DoneQuest$ = -9					; size = 1
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_UserIndex$ = 8						; size = 4
?CheckDoneQuest@MonsterQuest@@QAE_NH@Z PROC		; MonsterQuest::CheckDoneQuest
; _this$ = ecx

; 352  : {

  01220	55		 push	 ebp
  01221	8b ec		 mov	 ebp, esp
  01223	83 ec 54	 sub	 esp, 84			; 00000054H
  01226	53		 push	 ebx
  01227	56		 push	 esi
  01228	57		 push	 edi
  01229	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 353  : 	LPOBJ lpUser = &gObj[UserIndex];

  0122c	8b 45 08	 mov	 eax, DWORD PTR _UserIndex$[ebp]
  0122f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01235	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0123b	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 354  : 
; 355  : 	bool DoneQuest = true;

  0123e	c6 45 f7 01	 mov	 BYTE PTR _DoneQuest$[ebp], 1

; 356  : 
; 357  : 	int QuestNum = lpUser->m_MonsterQuest.QuestNumber;

  01242	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  01245	0f b7 88 24 28
	00 00		 movzx	 ecx, WORD PTR [eax+10276]
  0124c	89 4d f0	 mov	 DWORD PTR _QuestNum$[ebp], ecx

; 358  : 
; 359  : 	for(int i=0; i < MAX_MISSION_QUEST; i++)

  0124f	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _i$228222[ebp], 0
  01256	eb 09		 jmp	 SHORT $LN4@CheckDoneQ
$LN3@CheckDoneQ:
  01258	8b 45 ec	 mov	 eax, DWORD PTR _i$228222[ebp]
  0125b	83 c0 01	 add	 eax, 1
  0125e	89 45 ec	 mov	 DWORD PTR _i$228222[ebp], eax
$LN4@CheckDoneQ:
  01261	83 7d ec 05	 cmp	 DWORD PTR _i$228222[ebp], 5
  01265	7d 2e		 jge	 SHORT $LN2@CheckDoneQ

; 360  : 	{
; 361  : 		if(lpUser->m_MonsterQuest.KillCount[i] < this->MonsterData[QuestNum][i].Count)

  01267	8b 45 f0	 mov	 eax, DWORD PTR _QuestNum$[ebp]
  0126a	6b c0 3c	 imul	 eax, 60			; 0000003cH
  0126d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01270	8d 54 01 08	 lea	 edx, DWORD PTR [ecx+eax+8]
  01274	8b 45 ec	 mov	 eax, DWORD PTR _i$228222[ebp]
  01277	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0127a	8b 4d ec	 mov	 ecx, DWORD PTR _i$228222[ebp]
  0127d	8b 75 f8	 mov	 esi, DWORD PTR _lpUser$[ebp]
  01280	8b 8c 8e 28 28
	00 00		 mov	 ecx, DWORD PTR [esi+ecx*4+10280]
  01287	3b 4c 02 08	 cmp	 ecx, DWORD PTR [edx+eax+8]
  0128b	73 06		 jae	 SHORT $LN1@CheckDoneQ

; 362  : 		{
; 363  : 			DoneQuest = false;

  0128d	c6 45 f7 00	 mov	 BYTE PTR _DoneQuest$[ebp], 0

; 364  : 			break;

  01291	eb 02		 jmp	 SHORT $LN2@CheckDoneQ
$LN1@CheckDoneQ:

; 365  : 		}
; 366  : 	}

  01293	eb c3		 jmp	 SHORT $LN3@CheckDoneQ
$LN2@CheckDoneQ:

; 367  : 
; 368  : 	return DoneQuest;

  01295	8a 45 f7	 mov	 al, BYTE PTR _DoneQuest$[ebp]

; 369  : }

  01298	5f		 pop	 edi
  01299	5e		 pop	 esi
  0129a	5b		 pop	 ebx
  0129b	8b e5		 mov	 esp, ebp
  0129d	5d		 pop	 ebp
  0129e	c2 04 00	 ret	 4
?CheckDoneQuest@MonsterQuest@@QAE_NH@Z ENDP		; MonsterQuest::CheckDoneQuest
_TEXT	ENDS
PUBLIC	?set@PBMSG_HEAD2@@QAEXPAEEEE@Z			; PBMSG_HEAD2::set
PUBLIC	__$ArrayPad$
EXTRN	?DataSend@@YAHHPAEK@Z:PROC			; DataSend
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_rSend$ = -24						; size = 12
_lpUser$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_n$ = 12						; size = 4
?GCMonsterKill@MonsterQuest@@QAEXHH@Z PROC		; MonsterQuest::GCMonsterKill
; _this$ = ecx

; 373  : {

  012b0	55		 push	 ebp
  012b1	8b ec		 mov	 ebp, esp
  012b3	83 ec 58	 sub	 esp, 88			; 00000058H
  012b6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  012bb	33 c5		 xor	 eax, ebp
  012bd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  012c0	53		 push	 ebx
  012c1	56		 push	 esi
  012c2	57		 push	 edi
  012c3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 374  : 	
; 375  : 	LPOBJ lpUser = &gObj[aIndex];

  012c6	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  012c9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  012cf	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  012d5	89 45 f4	 mov	 DWORD PTR _lpUser$[ebp], eax

; 376  : 	GCMonsterQuestKill rSend;	// 
; 377  : 	ZeroMemory(&rSend,sizeof(rSend));	

  012d8	6a 0c		 push	 12			; 0000000cH
  012da	6a 00		 push	 0
  012dc	8d 45 e8	 lea	 eax, DWORD PTR _rSend$[ebp]
  012df	50		 push	 eax
  012e0	e8 00 00 00 00	 call	 _memset
  012e5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 378  : 	rSend.h.set((LPBYTE)&rSend, 0xFB, 18, sizeof(rSend));

  012e8	6a 0c		 push	 12			; 0000000cH
  012ea	6a 12		 push	 18			; 00000012H
  012ec	68 fb 00 00 00	 push	 251			; 000000fbH
  012f1	8d 45 e8	 lea	 eax, DWORD PTR _rSend$[ebp]
  012f4	50		 push	 eax
  012f5	8d 4d e8	 lea	 ecx, DWORD PTR _rSend$[ebp]
  012f8	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 379  : 	rSend.MissionNum = n;

  012fd	8a 45 0c	 mov	 al, BYTE PTR _n$[ebp]
  01300	88 45 ec	 mov	 BYTE PTR _rSend$[ebp+4], al

; 380  : 	rSend.MissionKill = lpUser->m_MonsterQuest.KillCount[n];	//     ++  

  01303	8b 45 0c	 mov	 eax, DWORD PTR _n$[ebp]
  01306	8b 4d f4	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  01309	8b 94 81 28 28
	00 00		 mov	 edx, DWORD PTR [ecx+eax*4+10280]
  01310	89 55 f0	 mov	 DWORD PTR _rSend$[ebp+8], edx

; 381  : 	DataSend(aIndex,(LPBYTE)&rSend,sizeof(rSend));

  01313	6a 0c		 push	 12			; 0000000cH
  01315	8d 45 e8	 lea	 eax, DWORD PTR _rSend$[ebp]
  01318	50		 push	 eax
  01319	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0131c	51		 push	 ecx
  0131d	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  01322	83 c4 0c	 add	 esp, 12			; 0000000cH

; 382  : 	//MessageChat(aIndex,"Kill: %d", lpUser->m_MonsterQuest.KillCount[n]);
; 383  : }

  01325	5f		 pop	 edi
  01326	5e		 pop	 esi
  01327	5b		 pop	 ebx
  01328	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0132b	33 cd		 xor	 ecx, ebp
  0132d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01332	8b e5		 mov	 esp, ebp
  01334	5d		 pop	 ebp
  01335	c2 08 00	 ret	 8
?GCMonsterKill@MonsterQuest@@QAEXHH@Z ENDP		; MonsterQuest::GCMonsterKill
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\include\prodef.h
_TEXT	ENDS
;	COMDAT ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_lpBuf$ = 8						; size = 4
_head$ = 12						; size = 1
_sub$ = 16						; size = 1
_size$ = 20						; size = 1
?set@PBMSG_HEAD2@@QAEXPAEEEE@Z PROC			; PBMSG_HEAD2::set, COMDAT
; _this$ = ecx

; 104  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 105  : 		lpBuf[0] = 0xC1;

  0000c	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  0000f	c6 00 c1	 mov	 BYTE PTR [eax], 193	; 000000c1H

; 106  : 		lpBuf[1] = size;

  00012	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  00015	8a 4d 14	 mov	 cl, BYTE PTR _size$[ebp]
  00018	88 48 01	 mov	 BYTE PTR [eax+1], cl

; 107  : 		lpBuf[2] = head;

  0001b	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  0001e	8a 4d 0c	 mov	 cl, BYTE PTR _head$[ebp]
  00021	88 48 02	 mov	 BYTE PTR [eax+2], cl

; 108  : 		lpBuf[3] = sub;

  00024	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  00027	8a 4d 10	 mov	 cl, BYTE PTR _sub$[ebp]
  0002a	88 48 03	 mov	 BYTE PTR [eax+3], cl

; 109  : 	};

  0002d	5f		 pop	 edi
  0002e	5e		 pop	 esi
  0002f	5b		 pop	 ebx
  00030	8b e5		 mov	 esp, ebp
  00032	5d		 pop	 ebp
  00033	c2 10 00	 ret	 16			; 00000010H
?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ENDP			; PBMSG_HEAD2::set
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	_strncpy:PROC
EXTRN	?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z:PROC ; CMonsterAttr::GetAttr
EXTRN	?gMAttr@@3VCMonsterAttr@@A:BYTE			; gMAttr
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\monsterquest.cpp
_TEXT	SEGMENT
_i$228249 = -236					; size = 4
_pMonster$228248 = -232					; size = 4
_i$228244 = -228					; size = 4
_QuestNum$ = -224					; size = 4
_rSend$ = -220						; size = 208
_lpUser$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_UserIndex$ = 8						; size = 4
?GCMission@MonsterQuest@@QAEXH@Z PROC			; MonsterQuest::GCMission
; _this$ = ecx

; 387  : {

  01340	55		 push	 ebp
  01341	8b ec		 mov	 ebp, esp
  01343	81 ec 2c 01 00
	00		 sub	 esp, 300		; 0000012cH
  01349	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0134e	33 c5		 xor	 eax, ebp
  01350	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01353	53		 push	 ebx
  01354	56		 push	 esi
  01355	57		 push	 edi
  01356	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 388  : 
; 389  : 	LPOBJ lpUser = &gObj[UserIndex];

  01359	8b 45 08	 mov	 eax, DWORD PTR _UserIndex$[ebp]
  0135c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01362	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01368	89 45 f4	 mov	 DWORD PTR _lpUser$[ebp], eax

; 390  : 
; 391  : 	GCMonsterQuestDialog rSend;	// 
; 392  : 	ZeroMemory(&rSend,sizeof(rSend));

  0136b	68 d0 00 00 00	 push	 208			; 000000d0H
  01370	6a 00		 push	 0
  01372	8d 85 24 ff ff
	ff		 lea	 eax, DWORD PTR _rSend$[ebp]
  01378	50		 push	 eax
  01379	e8 00 00 00 00	 call	 _memset
  0137e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 393  : 	rSend.h.set((LPBYTE)&rSend, 0xFB, 19, sizeof(rSend));

  01381	68 d0 00 00 00	 push	 208			; 000000d0H
  01386	6a 13		 push	 19			; 00000013H
  01388	68 fb 00 00 00	 push	 251			; 000000fbH
  0138d	8d 85 24 ff ff
	ff		 lea	 eax, DWORD PTR _rSend$[ebp]
  01393	50		 push	 eax
  01394	8d 8d 24 ff ff
	ff		 lea	 ecx, DWORD PTR _rSend$[ebp]
  0139a	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 394  : 	int QuestNum = lpUser->m_MonsterQuest.QuestNumber;

  0139f	8b 45 f4	 mov	 eax, DWORD PTR _lpUser$[ebp]
  013a2	0f b7 88 24 28
	00 00		 movzx	 ecx, WORD PTR [eax+10276]
  013a9	89 8d 20 ff ff
	ff		 mov	 DWORD PTR _QuestNum$[ebp], ecx

; 395  : 	rSend.NumQuest = QuestNum;

  013af	66 8b 85 20 ff
	ff ff		 mov	 ax, WORD PTR _QuestNum$[ebp]
  013b6	66 89 85 28 ff
	ff ff		 mov	 WORD PTR _rSend$[ebp+4], ax

; 396  : 	rSend.MaxQuest = this->QuestCount;

  013bd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  013c0	66 8b 88 f8 d2
	00 00		 mov	 cx, WORD PTR [eax+54008]
  013c7	66 89 8d 2a ff
	ff ff		 mov	 WORD PTR _rSend$[ebp+6], cx

; 397  : 	//       
; 398  : 	for(int i=0; i < MAX_MISSION_QUEST; i++)

  013ce	c7 85 1c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$228244[ebp], 0
  013d8	eb 0f		 jmp	 SHORT $LN6@GCMission
$LN5@GCMission:
  013da	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _i$228244[ebp]
  013e0	83 c0 01	 add	 eax, 1
  013e3	89 85 1c ff ff
	ff		 mov	 DWORD PTR _i$228244[ebp], eax
$LN6@GCMission:
  013e9	83 bd 1c ff ff
	ff 05		 cmp	 DWORD PTR _i$228244[ebp], 5
  013f0	0f 8d d1 00 00
	00		 jge	 $LN4@GCMission

; 399  : 	{
; 400  : 		rSend.KillCount[i] = lpUser->m_MonsterQuest.KillCount[i];

  013f6	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _i$228244[ebp]
  013fc	8b 8d 1c ff ff
	ff		 mov	 ecx, DWORD PTR _i$228244[ebp]
  01402	8b 55 f4	 mov	 edx, DWORD PTR _lpUser$[ebp]
  01405	66 8b 8c 8a 28
	28 00 00	 mov	 cx, WORD PTR [edx+ecx*4+10280]
  0140d	66 89 8c 45 2c
	ff ff ff	 mov	 WORD PTR _rSend$[ebp+eax*2+8], cx

; 401  : 		// ----
; 402  : 		rSend.MonsterDataGC[i].Active	= this->MonsterData[QuestNum][i].Active;

  01415	8b 85 20 ff ff
	ff		 mov	 eax, DWORD PTR _QuestNum$[ebp]
  0141b	6b c0 3c	 imul	 eax, 60			; 0000003cH
  0141e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01421	8d 54 01 08	 lea	 edx, DWORD PTR [ecx+eax+8]
  01425	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _i$228244[ebp]
  0142b	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0142e	8b 8d 1c ff ff
	ff		 mov	 ecx, DWORD PTR _i$228244[ebp]
  01434	6b c9 1c	 imul	 ecx, 28			; 0000001cH
  01437	8a 14 02	 mov	 dl, BYTE PTR [edx+eax]
  0143a	88 94 0d 38 ff
	ff ff		 mov	 BYTE PTR _rSend$[ebp+ecx+20], dl

; 403  : 
; 404  : 		LPMONSTER_ATTRIBUTE pMonster = gMAttr.GetAttr(this->MonsterData[QuestNum][i].Mission);

  01441	8b 85 20 ff ff
	ff		 mov	 eax, DWORD PTR _QuestNum$[ebp]
  01447	6b c0 3c	 imul	 eax, 60			; 0000003cH
  0144a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0144d	8d 54 01 08	 lea	 edx, DWORD PTR [ecx+eax+8]
  01451	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _i$228244[ebp]
  01457	6b c0 0c	 imul	 eax, 12			; 0000000cH
  0145a	0f b7 4c 02 02	 movzx	 ecx, WORD PTR [edx+eax+2]
  0145f	51		 push	 ecx
  01460	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  01465	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr
  0146a	89 85 18 ff ff
	ff		 mov	 DWORD PTR _pMonster$228248[ebp], eax

; 405  : 
; 406  : 		strncpy(rSend.MonsterDataGC[i].Mission,pMonster->m_Name,20);

  01470	6a 14		 push	 20			; 00000014H
  01472	8b 85 18 ff ff
	ff		 mov	 eax, DWORD PTR _pMonster$228248[ebp]
  01478	83 c0 08	 add	 eax, 8
  0147b	50		 push	 eax
  0147c	8b 8d 1c ff ff
	ff		 mov	 ecx, DWORD PTR _i$228244[ebp]
  01482	6b c9 1c	 imul	 ecx, 28			; 0000001cH
  01485	8d 94 0d 39 ff
	ff ff		 lea	 edx, DWORD PTR _rSend$[ebp+ecx+21]
  0148c	52		 push	 edx
  0148d	e8 00 00 00 00	 call	 _strncpy
  01492	83 c4 0c	 add	 esp, 12			; 0000000cH

; 407  : 
; 408  : 		//rSend.MonsterDataGC[i].Mission	= this->MonsterData[QuestNum][i].Mission;
; 409  : 		//rSend.MonsterDataGC[i].Procent	= this->MonsterData[QuestNum][i].Procent;
; 410  : 		rSend.MonsterDataGC[i].Count	= this->MonsterData[QuestNum][i].Count;

  01495	8b 85 20 ff ff
	ff		 mov	 eax, DWORD PTR _QuestNum$[ebp]
  0149b	6b c0 3c	 imul	 eax, 60			; 0000003cH
  0149e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  014a1	8d 54 01 08	 lea	 edx, DWORD PTR [ecx+eax+8]
  014a5	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _i$228244[ebp]
  014ab	6b c0 0c	 imul	 eax, 12			; 0000000cH
  014ae	8b 8d 1c ff ff
	ff		 mov	 ecx, DWORD PTR _i$228244[ebp]
  014b4	6b c9 1c	 imul	 ecx, 28			; 0000001cH
  014b7	8b 54 02 08	 mov	 edx, DWORD PTR [edx+eax+8]
  014bb	89 94 0d 50 ff
	ff ff		 mov	 DWORD PTR _rSend$[ebp+ecx+44], edx

; 411  : 	}

  014c2	e9 13 ff ff ff	 jmp	 $LN5@GCMission
$LN4@GCMission:

; 412  : 
; 413  : 	for(int i=0; i < MAX_REWARD_QUEST; i++)

  014c7	c7 85 14 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$228249[ebp], 0
  014d1	eb 0f		 jmp	 SHORT $LN3@GCMission
$LN2@GCMission:
  014d3	8b 85 14 ff ff
	ff		 mov	 eax, DWORD PTR _i$228249[ebp]
  014d9	83 c0 01	 add	 eax, 1
  014dc	89 85 14 ff ff
	ff		 mov	 DWORD PTR _i$228249[ebp], eax
$LN3@GCMission:
  014e2	83 bd 14 ff ff
	ff 03		 cmp	 DWORD PTR _i$228249[ebp], 3
  014e9	0f 8d 99 01 00
	00		 jge	 $LN1@GCMission

; 414  : 	{
; 415  : 		rSend.RewardDataGC[i].Active	= this->RewardData[QuestNum][i].Active;

  014ef	8b 85 20 ff ff
	ff		 mov	 eax, DWORD PTR _QuestNum$[ebp]
  014f5	6b c0 30	 imul	 eax, 48			; 00000030H
  014f8	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  014fb	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  01502	8b 85 14 ff ff
	ff		 mov	 eax, DWORD PTR _i$228249[ebp]
  01508	c1 e0 04	 shl	 eax, 4
  0150b	8b 8d 14 ff ff
	ff		 mov	 ecx, DWORD PTR _i$228249[ebp]
  01511	c1 e1 04	 shl	 ecx, 4
  01514	8a 14 02	 mov	 dl, BYTE PTR [edx+eax]
  01517	88 54 0d c4	 mov	 BYTE PTR _rSend$[ebp+ecx+160], dl

; 416  : 		rSend.RewardDataGC[i].Reward	= this->RewardData[QuestNum][i].Reward;

  0151b	8b 85 20 ff ff
	ff		 mov	 eax, DWORD PTR _QuestNum$[ebp]
  01521	6b c0 30	 imul	 eax, 48			; 00000030H
  01524	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01527	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  0152e	8b 85 14 ff ff
	ff		 mov	 eax, DWORD PTR _i$228249[ebp]
  01534	c1 e0 04	 shl	 eax, 4
  01537	8b 8d 14 ff ff
	ff		 mov	 ecx, DWORD PTR _i$228249[ebp]
  0153d	c1 e1 04	 shl	 ecx, 4
  01540	8b 54 02 04	 mov	 edx, DWORD PTR [edx+eax+4]
  01544	89 54 0d c8	 mov	 DWORD PTR _rSend$[ebp+ecx+164], edx

; 417  : 		rSend.RewardDataGC[i].RewardID	= this->RewardData[QuestNum][i].RewardID;

  01548	8b 85 20 ff ff
	ff		 mov	 eax, DWORD PTR _QuestNum$[ebp]
  0154e	6b c0 30	 imul	 eax, 48			; 00000030H
  01551	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01554	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  0155b	8b 85 14 ff ff
	ff		 mov	 eax, DWORD PTR _i$228249[ebp]
  01561	c1 e0 04	 shl	 eax, 4
  01564	8b 8d 14 ff ff
	ff		 mov	 ecx, DWORD PTR _i$228249[ebp]
  0156a	c1 e1 04	 shl	 ecx, 4
  0156d	8a 54 02 08	 mov	 dl, BYTE PTR [edx+eax+8]
  01571	88 54 0d cc	 mov	 BYTE PTR _rSend$[ebp+ecx+168], dl

; 418  : 		rSend.RewardDataGC[i].Level		= this->RewardData[QuestNum][i].Level;

  01575	8b 85 20 ff ff
	ff		 mov	 eax, DWORD PTR _QuestNum$[ebp]
  0157b	6b c0 30	 imul	 eax, 48			; 00000030H
  0157e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01581	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  01588	8b 85 14 ff ff
	ff		 mov	 eax, DWORD PTR _i$228249[ebp]
  0158e	c1 e0 04	 shl	 eax, 4
  01591	8b 8d 14 ff ff
	ff		 mov	 ecx, DWORD PTR _i$228249[ebp]
  01597	c1 e1 04	 shl	 ecx, 4
  0159a	8a 54 02 09	 mov	 dl, BYTE PTR [edx+eax+9]
  0159e	88 54 0d cd	 mov	 BYTE PTR _rSend$[ebp+ecx+169], dl

; 419  : 		rSend.RewardDataGC[i].Skill		= this->RewardData[QuestNum][i].Skill;

  015a2	8b 85 20 ff ff
	ff		 mov	 eax, DWORD PTR _QuestNum$[ebp]
  015a8	6b c0 30	 imul	 eax, 48			; 00000030H
  015ab	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  015ae	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  015b5	8b 85 14 ff ff
	ff		 mov	 eax, DWORD PTR _i$228249[ebp]
  015bb	c1 e0 04	 shl	 eax, 4
  015be	8b 8d 14 ff ff
	ff		 mov	 ecx, DWORD PTR _i$228249[ebp]
  015c4	c1 e1 04	 shl	 ecx, 4
  015c7	8a 54 02 0a	 mov	 dl, BYTE PTR [edx+eax+10]
  015cb	88 54 0d ce	 mov	 BYTE PTR _rSend$[ebp+ecx+170], dl

; 420  : 		rSend.RewardDataGC[i].Luck		= this->RewardData[QuestNum][i].Luck;

  015cf	8b 85 20 ff ff
	ff		 mov	 eax, DWORD PTR _QuestNum$[ebp]
  015d5	6b c0 30	 imul	 eax, 48			; 00000030H
  015d8	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  015db	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  015e2	8b 85 14 ff ff
	ff		 mov	 eax, DWORD PTR _i$228249[ebp]
  015e8	c1 e0 04	 shl	 eax, 4
  015eb	8b 8d 14 ff ff
	ff		 mov	 ecx, DWORD PTR _i$228249[ebp]
  015f1	c1 e1 04	 shl	 ecx, 4
  015f4	8a 54 02 0b	 mov	 dl, BYTE PTR [edx+eax+11]
  015f8	88 54 0d cf	 mov	 BYTE PTR _rSend$[ebp+ecx+171], dl

; 421  : 		rSend.RewardDataGC[i].Option	= this->RewardData[QuestNum][i].Option;

  015fc	8b 85 20 ff ff
	ff		 mov	 eax, DWORD PTR _QuestNum$[ebp]
  01602	6b c0 30	 imul	 eax, 48			; 00000030H
  01605	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01608	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  0160f	8b 85 14 ff ff
	ff		 mov	 eax, DWORD PTR _i$228249[ebp]
  01615	c1 e0 04	 shl	 eax, 4
  01618	8b 8d 14 ff ff
	ff		 mov	 ecx, DWORD PTR _i$228249[ebp]
  0161e	c1 e1 04	 shl	 ecx, 4
  01621	8a 54 02 0c	 mov	 dl, BYTE PTR [edx+eax+12]
  01625	88 54 0d d0	 mov	 BYTE PTR _rSend$[ebp+ecx+172], dl

; 422  : 		rSend.RewardDataGC[i].Exellent	= this->RewardData[QuestNum][i].Exellent;

  01629	8b 85 20 ff ff
	ff		 mov	 eax, DWORD PTR _QuestNum$[ebp]
  0162f	6b c0 30	 imul	 eax, 48			; 00000030H
  01632	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01635	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  0163c	8b 85 14 ff ff
	ff		 mov	 eax, DWORD PTR _i$228249[ebp]
  01642	c1 e0 04	 shl	 eax, 4
  01645	8b 8d 14 ff ff
	ff		 mov	 ecx, DWORD PTR _i$228249[ebp]
  0164b	c1 e1 04	 shl	 ecx, 4
  0164e	8a 54 02 0d	 mov	 dl, BYTE PTR [edx+eax+13]
  01652	88 54 0d d1	 mov	 BYTE PTR _rSend$[ebp+ecx+173], dl

; 423  : 		rSend.RewardDataGC[i].Ancent	= this->RewardData[QuestNum][i].Ancent;

  01656	8b 85 20 ff ff
	ff		 mov	 eax, DWORD PTR _QuestNum$[ebp]
  0165c	6b c0 30	 imul	 eax, 48			; 00000030H
  0165f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01662	8d 94 01 38 75
	00 00		 lea	 edx, DWORD PTR [ecx+eax+30008]
  01669	8b 85 14 ff ff
	ff		 mov	 eax, DWORD PTR _i$228249[ebp]
  0166f	c1 e0 04	 shl	 eax, 4
  01672	8b 8d 14 ff ff
	ff		 mov	 ecx, DWORD PTR _i$228249[ebp]
  01678	c1 e1 04	 shl	 ecx, 4
  0167b	8a 54 02 0e	 mov	 dl, BYTE PTR [edx+eax+14]
  0167f	88 54 0d d2	 mov	 BYTE PTR _rSend$[ebp+ecx+174], dl

; 424  : 	}

  01683	e9 4b fe ff ff	 jmp	 $LN2@GCMission
$LN1@GCMission:

; 425  : 
; 426  : 	//LogAddC(2,"rSend = %d",sizeof(rSend));
; 427  : 
; 428  : 	DataSend(UserIndex,(LPBYTE)&rSend,sizeof(rSend));

  01688	68 d0 00 00 00	 push	 208			; 000000d0H
  0168d	8d 85 24 ff ff
	ff		 lea	 eax, DWORD PTR _rSend$[ebp]
  01693	50		 push	 eax
  01694	8b 4d 08	 mov	 ecx, DWORD PTR _UserIndex$[ebp]
  01697	51		 push	 ecx
  01698	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0169d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 429  : }

  016a0	5f		 pop	 edi
  016a1	5e		 pop	 esi
  016a2	5b		 pop	 ebx
  016a3	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  016a6	33 cd		 xor	 ecx, ebp
  016a8	e8 00 00 00 00	 call	 @__security_check_cookie@4
  016ad	8b e5		 mov	 esp, ebp
  016af	5d		 pop	 ebp
  016b0	c2 04 00	 ret	 4
?GCMission@MonsterQuest@@QAEXH@Z ENDP			; MonsterQuest::GCMission
_TEXT	ENDS
PUBLIC	?GCConnectUser@MonsterQuest@@QAEXH@Z		; MonsterQuest::GCConnectUser
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
_UserIndex$ = 8						; size = 4
?GCConnectUser@MonsterQuest@@QAEXH@Z PROC		; MonsterQuest::GCConnectUser
; _this$ = ecx

; 433  : {

  016c0	55		 push	 ebp
  016c1	8b ec		 mov	 ebp, esp
  016c3	83 ec 44	 sub	 esp, 68			; 00000044H
  016c6	53		 push	 ebx
  016c7	56		 push	 esi
  016c8	57		 push	 edi
  016c9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 434  : 	//GCMonsterQuestConnect	rSend;	// 
; 435  : 	//ZeroMemory(&rSend,sizeof(rSend));
; 436  : 	//rSend.h.set((LPBYTE)&rSend, 0xFB, 19, sizeof(rSend));
; 437  : 
; 438  : 	//rSend.UserQuest.QuestNumber = lpUser->m_MonsterQuest.QuestNumber;
; 439  : 
; 440  : 	//for(int i=0; i < MAX_MISSION_QUEST; i++)
; 441  : 	//{
; 442  : 	//	rSend.UserQuest.KillCount[i] = lpUser->m_MonsterQuest.KillCount[i];
; 443  : 	//}
; 444  : 
; 445  : 	//DataSend(lpUser->m_Index,(LPBYTE)&rSend,sizeof(rSend));
; 446  : 	// ----
; 447  : 	this->GCMission(UserIndex);

  016cc	8b 45 08	 mov	 eax, DWORD PTR _UserIndex$[ebp]
  016cf	50		 push	 eax
  016d0	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  016d3	e8 00 00 00 00	 call	 ?GCMission@MonsterQuest@@QAEXH@Z ; MonsterQuest::GCMission

; 448  : }

  016d8	5f		 pop	 edi
  016d9	5e		 pop	 esi
  016da	5b		 pop	 ebx
  016db	8b e5		 mov	 esp, ebp
  016dd	5d		 pop	 ebp
  016de	c2 04 00	 ret	 4
?GCConnectUser@MonsterQuest@@QAEXH@Z ENDP		; MonsterQuest::GCConnectUser
; Function compile flags: /Odtp /ZI
_rSend$ = -16						; size = 5
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_UserIndex$ = 8						; size = 4
?GCWindowsOpen@MonsterQuest@@QAEXH@Z PROC		; MonsterQuest::GCWindowsOpen
; _this$ = ecx

; 452  : {

  016f0	55		 push	 ebp
  016f1	8b ec		 mov	 ebp, esp
  016f3	83 ec 50	 sub	 esp, 80			; 00000050H
  016f6	53		 push	 ebx
  016f7	56		 push	 esi
  016f8	57		 push	 edi
  016f9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 453  : 	LPOBJ lpUser = &gObj[UserIndex];

  016fc	8b 45 08	 mov	 eax, DWORD PTR _UserIndex$[ebp]
  016ff	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01705	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0170b	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 454  : 
; 455  : 	GCQuestWindowsOpen rSend;	// 
; 456  : 	ZeroMemory(&rSend,sizeof(rSend));

  0170e	6a 05		 push	 5
  01710	6a 00		 push	 0
  01712	8d 45 f0	 lea	 eax, DWORD PTR _rSend$[ebp]
  01715	50		 push	 eax
  01716	e8 00 00 00 00	 call	 _memset
  0171b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 457  : 	rSend.h.set((LPBYTE)&rSend, 0xFB, 20, sizeof(rSend));

  0171e	6a 05		 push	 5
  01720	6a 14		 push	 20			; 00000014H
  01722	68 fb 00 00 00	 push	 251			; 000000fbH
  01727	8d 45 f0	 lea	 eax, DWORD PTR _rSend$[ebp]
  0172a	50		 push	 eax
  0172b	8d 4d f0	 lea	 ecx, DWORD PTR _rSend$[ebp]
  0172e	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 458  : 	rSend.Open = 1;

  01733	c6 45 f4 01	 mov	 BYTE PTR _rSend$[ebp+4], 1

; 459  : 	DataSend(lpUser->m_Index,(LPBYTE)&rSend,sizeof(rSend));

  01737	6a 05		 push	 5
  01739	8d 45 f0	 lea	 eax, DWORD PTR _rSend$[ebp]
  0173c	50		 push	 eax
  0173d	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  01740	8b 11		 mov	 edx, DWORD PTR [ecx]
  01742	52		 push	 edx
  01743	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  01748	83 c4 0c	 add	 esp, 12			; 0000000cH

; 460  : }

  0174b	5f		 pop	 edi
  0174c	5e		 pop	 esi
  0174d	5b		 pop	 ebx
  0174e	8b e5		 mov	 esp, ebp
  01750	5d		 pop	 ebp
  01751	c2 04 00	 ret	 4
?GCWindowsOpen@MonsterQuest@@QAEXH@Z ENDP		; MonsterQuest::GCWindowsOpen
_TEXT	ENDS
EXTRN	_atexit:PROC
; Function compile flags: /Odtp /ZI
;	COMDAT ??__EgMonsterQuest@@YAXXZ
text$yc	SEGMENT
??__EgMonsterQuest@@YAXXZ PROC				; `dynamic initializer for 'gMonsterQuest'', COMDAT

; 13   : MonsterQuest gMonsterQuest;

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMonsterQuest@@3VMonsterQuest@@A ; gMonsterQuest
  0000e	e8 00 00 00 00	 call	 ??0MonsterQuest@@QAE@XZ	; MonsterQuest::MonsterQuest
  00013	68 00 00 00 00	 push	 OFFSET ??__FgMonsterQuest@@YAXXZ ; `dynamic atexit destructor for 'gMonsterQuest''
  00018	e8 00 00 00 00	 call	 _atexit
  0001d	83 c4 04	 add	 esp, 4
  00020	5f		 pop	 edi
  00021	5e		 pop	 esi
  00022	5b		 pop	 ebx
  00023	8b e5		 mov	 esp, ebp
  00025	5d		 pop	 ebp
  00026	c3		 ret	 0
??__EgMonsterQuest@@YAXXZ ENDP				; `dynamic initializer for 'gMonsterQuest''
; Function compile flags: /Odtp /ZI
text$yc	ENDS
;	COMDAT ??__FgMonsterQuest@@YAXXZ
text$yd	SEGMENT
??__FgMonsterQuest@@YAXXZ PROC				; `dynamic atexit destructor for 'gMonsterQuest'', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMonsterQuest@@3VMonsterQuest@@A ; gMonsterQuest
  0000e	e8 00 00 00 00	 call	 ??1MonsterQuest@@QAE@XZ	; MonsterQuest::~MonsterQuest
  00013	5f		 pop	 edi
  00014	5e		 pop	 esi
  00015	5b		 pop	 ebx
  00016	8b e5		 mov	 esp, ebp
  00018	5d		 pop	 ebp
  00019	c3		 ret	 0
??__FgMonsterQuest@@YAXXZ ENDP				; `dynamic atexit destructor for 'gMonsterQuest''
text$yd	ENDS
PUBLIC	?gMonsterQuest@@3VMonsterQuest@@A		; gMonsterQuest
_BSS	SEGMENT
?gMonsterQuest@@3VMonsterQuest@@A DB 0d2fcH DUP (?)	; gMonsterQuest
_BSS	ENDS
CRT$XCU	SEGMENT
_gMonsterQuest$initializer$ DD FLAT:??__EgMonsterQuest@@YAXXZ
CRT$XCU	ENDS
END
