; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\EDSProtocol.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?gGuildListTotal@@3HA				; gGuildListTotal
PUBLIC	?gGuildListCount@@3HA				; gGuildListCount
PUBLIC	?GuildListhSts@@3PAUHWND__@@A			; GuildListhSts
PUBLIC	?GuildListhPrs@@3PAUHWND__@@A			; GuildListhPrs
PUBLIC	?GuildListhDlg@@3PAUHWND__@@A			; GuildListhDlg
_BSS	SEGMENT
?gGuildListTotal@@3HA DD 01H DUP (?)			; gGuildListTotal
?gGuildListCount@@3HA DD 01H DUP (?)			; gGuildListCount
?GuildListhSts@@3PAUHWND__@@A DD 01H DUP (?)		; GuildListhSts
?GuildListhPrs@@3PAUHWND__@@A DD 01H DUP (?)		; GuildListhPrs
?GuildListhDlg@@3PAUHWND__@@A DD 01H DUP (?)		; GuildListhDlg
_BSS	ENDS
_DATA	SEGMENT
_g_iNpcUpDfLevel_CGATE DD 01H
	DD	02H
	DD	02dc6c0H
	DD	02H
	DD	03H
	DD	02dc6c0H
	DD	03H
	DD	04H
	DD	02dc6c0H
_g_iNpcUpDfLevel_CSTATUE DD 01H
	DD	03H
	DD	02dc6c0H
	DD	02H
	DD	05H
	DD	02dc6c0H
	DD	03H
	DD	07H
	DD	02dc6c0H
_g_iNpcUpMaxHP_CGATE DD 02625a0H
	DD	02H
	DD	0f4240H
	DD	03567e0H
	DD	03H
	DD	0f4240H
	DD	04f5880H
	DD	04H
	DD	0f4240H
_g_iNpcUpMaxHP_CSTATUE DD 02191c0H
	DD	03H
	DD	0f4240H
	DD	033e140H
	DD	05H
	DD	0f4240H
	DD	04c4b40H
	DD	07H
	DD	0f4240H
_g_iNpcUpRgLevel_CSTATUE DD 01H
	DD	03H
	DD	04c4b40H
	DD	02H
	DD	05H
	DD	04c4b40H
	DD	03H
	DD	07H
	DD	04c4b40H
_g_iCsUserReSpawnArea DD 023H
	DD	011H
	DD	090H
	DD	030H
	DD	04aH
	DD	090H
	DD	073H
	DD	09aH
	DD	023H
	DD	011H
	DD	090H
	DD	030H
_g_iNpcDefense_CGATE DD 064H
	DD	0b4H
	DD	012cH
	DD	0208H
_g_iNpcDefense_CSTATUE DD 050H
	DD	0b4H
	DD	0154H
	DD	0226H
_g_iCastleWallStepAxisY DD 071H
	DD	0a0H
	DD	0cbH
_DATA	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	83 e8 01	 sub	 eax, 1
  0000f	89 45 10	 mov	 DWORD PTR ___n$[ebp], eax
  00012	78 11		 js	 SHORT $LN3@vector
  00014	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00017	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  0001a	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  0001d	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  00020	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  00023	eb e4		 jmp	 SHORT $LN2@vector
$LN3@vector:
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	?FriendRoomInvitationRecv@@YAXPAUFHP_FRIEND_INVITATION_RET@@@Z ; FriendRoomInvitationRecv
PUBLIC	?FriendMemoDelResult@@YAXPAUFHP_FRIEND_MEMO_DEL_RESULT@@@Z ; FriendMemoDelResult
PUBLIC	?FriendMemoRead@@YAXPAUFHP_FRIEND_MEMO_RECV@@@Z	; FriendMemoRead
PUBLIC	?FriendMemoList@@YAXPAUFHP_FRIEND_MEMO_LIST@@@Z	; FriendMemoList
PUBLIC	?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z ; FriendMemoSendResult
PUBLIC	?FriendChatRoomCreateResult@@YAXPAUFHP_FRIEND_CHATROOM_CREATE_RESULT@@@Z ; FriendChatRoomCreateResult
PUBLIC	?FriendDelResult@@YAXPAUFHP_FRIEND_DEL_RESULT@@@Z ; FriendDelResult
PUBLIC	?WaitFriendAddResult@@YAXPAUFHP_WAITFRIEND_ADD_RESULT@@@Z ; WaitFriendAddResult
PUBLIC	?FriendAddResult@@YAXPAUFHP_FRIEND_ADD_RESULT@@@Z ; FriendAddResult
PUBLIC	?FriendStateRecv@@YAXPAUFHP_FRIEND_STATE@@@Z	; FriendStateRecv
PUBLIC	?WaitFriendListResult@@YAXPAUFHP_WAITFRIENDLIST_COUNT@@@Z ; WaitFriendListResult
PUBLIC	?FriendListResult@@YAXPAE@Z			; FriendListResult
PUBLIC	?DGRelationShipAnsKickOutUnionMember@@YAXPAUEXSDHP_KICKOUT_UNIONMEMBER_RESULT@@@Z ; DGRelationShipAnsKickOutUnionMember
PUBLIC	?DGUnionListRecv@@YAXPAE@Z			; DGUnionListRecv
PUBLIC	?DGRelationShipNotificationRecv@@YAXPAUEXSDHP_NOTIFICATION_RELATIONSHIP@@@Z ; DGRelationShipNotificationRecv
PUBLIC	?DGRelationShipListRecv@@YAXPAUEXSDHP_UNION_RELATIONSHIP_LIST@@@Z ; DGRelationShipListRecv
PUBLIC	?DGRelationShipAnsBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z ; DGRelationShipAnsBreakOff
PUBLIC	?DGRelationShipAnsJoin@@YAXPAUEXSDHP_RELATIONSHIP_JOIN_RESULT@@@Z ; DGRelationShipAnsJoin
PUBLIC	?DGGuildAnsAssignType@@YAXPAUEXSDHP_GUILD_ASSIGN_TYPE_RESULT@@@Z ; DGGuildAnsAssignType
PUBLIC	?DGGuildAnsAssignStatus@@YAXPAUEXSDHP_GUILD_ASSIGN_STATUS_RESULT@@@Z ; DGGuildAnsAssignStatus
PUBLIC	?DGUnionServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_UNION_CHATTING_RECV@@@Z ; DGUnionServerGroupChattingRecv
PUBLIC	?DGGuildServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_GUILD_CHATTING_RECV@@@Z ; DGGuildServerGroupChattingRecv
PUBLIC	?DGGuildListState@@YAXPAUSDHP_GUILDLISTSTATE@@@Z ; DGGuildListState
PUBLIC	?DGGuildList@@YAXPAUSDHP_GUILDCREATED@@@Z	; DGGuildList
PUBLIC	?DGGuildNoticeRecv@@YAXPAUSDHP_GUILDNOTICE@@@Z	; DGGuildNoticeRecv
PUBLIC	?GDGuildScoreUpdateRecv@@YAXPAUSDHP_GUILDSCOREUPDATE@@@Z ; GDGuildScoreUpdateRecv
PUBLIC	?DGGuildMasterListRecv@@YAXPAE@Z		; DGGuildMasterListRecv
PUBLIC	?DGGuildMemberInfo@@YAXPAUSDHP_GUILDMEMBER_INFO@@@Z ; DGGuildMemberInfo
PUBLIC	?GDGuildMemberDelResult@@YAXPAUSDHP_GUILDMEMBERDEL_RESULT@@@Z ; GDGuildMemberDelResult
PUBLIC	?GDGuildMemberAddResult@@YAXPAUSDHP_GUILDMEMBERADD_RESULT@@@Z ; GDGuildMemberAddResult
PUBLIC	?GDGuildDestroyRecv@@YAXPAUSDHP_GUILDDESTROY_RESULT@@@Z ; GDGuildDestroyRecv
PUBLIC	?GDGuildCreateRecv@@YAXPAUSDHP_GUILDCREATE_RESULT@@@Z ; GDGuildCreateRecv
PUBLIC	?GDCharCloseRecv@@YAXPAUSDHP_USERCLOSE@@@Z	; GDCharCloseRecv
PUBLIC	?ExDataServerLoginResult@@YAXPAUSDHP_RESULT@@@Z	; ExDataServerLoginResult
PUBLIC	?ExDataServerProtocolCore@@YAXEPAEH@Z		; ExDataServerProtocolCore
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\edsprotocol.cpp
_TEXT	SEGMENT
tv89 = -72						; size = 4
tv65 = -72						; size = 4
_lpDef$231900 = -4					; size = 4
_protoNum$ = 8						; size = 1
_aRecv$ = 12						; size = 4
_aLen$ = 16						; size = 4
?ExDataServerProtocolCore@@YAXEPAEH@Z PROC		; ExDataServerProtocolCore

; 36   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 37   : 	switch ( protoNum )

  00009	0f b6 45 08	 movzx	 eax, BYTE PTR _protoNum$[ebp]
  0000d	89 45 b8	 mov	 DWORD PTR tv65[ebp], eax
  00010	81 7d b8 eb 00
	00 00		 cmp	 DWORD PTR tv65[ebp], 235 ; 000000ebH
  00017	0f 87 4a 02 00
	00		 ja	 $LN40@ExDataServ
  0001d	8b 4d b8	 mov	 ecx, DWORD PTR tv65[ebp]
  00020	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR $LN42@ExDataServ[ecx]
  00027	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN43@ExDataServ[edx*4]
$LN37@ExDataServ:

; 38   : 	{
; 39   : 		case 0x00:
; 40   : 			ExDataServerLoginResult((SDHP_RESULT *)aRecv);

  0002e	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00031	50		 push	 eax
  00032	e8 00 00 00 00	 call	 ?ExDataServerLoginResult@@YAXPAUSDHP_RESULT@@@Z ; ExDataServerLoginResult
  00037	83 c4 04	 add	 esp, 4

; 41   : 			break;

  0003a	e9 28 02 00 00	 jmp	 $LN40@ExDataServ
$LN36@ExDataServ:

; 42   : 		case 0x02:
; 43   : 			GDCharCloseRecv((SDHP_USERCLOSE *)aRecv);

  0003f	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00042	50		 push	 eax
  00043	e8 00 00 00 00	 call	 ?GDCharCloseRecv@@YAXPAUSDHP_USERCLOSE@@@Z ; GDCharCloseRecv
  00048	83 c4 04	 add	 esp, 4

; 44   : 			break;

  0004b	e9 17 02 00 00	 jmp	 $LN40@ExDataServ
$LN35@ExDataServ:

; 45   : 		case 0x30:
; 46   : 			GDGuildCreateRecv((SDHP_GUILDCREATE_RESULT *)aRecv);

  00050	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00053	50		 push	 eax
  00054	e8 00 00 00 00	 call	 ?GDGuildCreateRecv@@YAXPAUSDHP_GUILDCREATE_RESULT@@@Z ; GDGuildCreateRecv
  00059	83 c4 04	 add	 esp, 4

; 47   : 			break;

  0005c	e9 06 02 00 00	 jmp	 $LN40@ExDataServ
$LN34@ExDataServ:

; 48   : 		case 0x31:
; 49   : 			GDGuildDestroyRecv((SDHP_GUILDDESTROY_RESULT *)aRecv);

  00061	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00064	50		 push	 eax
  00065	e8 00 00 00 00	 call	 ?GDGuildDestroyRecv@@YAXPAUSDHP_GUILDDESTROY_RESULT@@@Z ; GDGuildDestroyRecv
  0006a	83 c4 04	 add	 esp, 4

; 50   : 			break;

  0006d	e9 f5 01 00 00	 jmp	 $LN40@ExDataServ
$LN33@ExDataServ:

; 51   : 		case 0x32:
; 52   : 			GDGuildMemberAddResult((SDHP_GUILDMEMBERADD_RESULT *)aRecv);

  00072	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00075	50		 push	 eax
  00076	e8 00 00 00 00	 call	 ?GDGuildMemberAddResult@@YAXPAUSDHP_GUILDMEMBERADD_RESULT@@@Z ; GDGuildMemberAddResult
  0007b	83 c4 04	 add	 esp, 4

; 53   : 			break;

  0007e	e9 e4 01 00 00	 jmp	 $LN40@ExDataServ
$LN32@ExDataServ:

; 54   : 		case 0x33:
; 55   : 			GDGuildMemberDelResult((SDHP_GUILDMEMBERDEL_RESULT *)aRecv);

  00083	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00086	50		 push	 eax
  00087	e8 00 00 00 00	 call	 ?GDGuildMemberDelResult@@YAXPAUSDHP_GUILDMEMBERDEL_RESULT@@@Z ; GDGuildMemberDelResult
  0008c	83 c4 04	 add	 esp, 4

; 56   : 			break;

  0008f	e9 d3 01 00 00	 jmp	 $LN40@ExDataServ
$LN31@ExDataServ:

; 57   : 		case 0x35:
; 58   : 			DGGuildMemberInfo((SDHP_GUILDMEMBER_INFO *)aRecv);

  00094	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00097	50		 push	 eax
  00098	e8 00 00 00 00	 call	 ?DGGuildMemberInfo@@YAXPAUSDHP_GUILDMEMBER_INFO@@@Z ; DGGuildMemberInfo
  0009d	83 c4 04	 add	 esp, 4

; 59   : 			break;

  000a0	e9 c2 01 00 00	 jmp	 $LN40@ExDataServ
$LN30@ExDataServ:

; 60   : 		case 0x36:
; 61   : 			DGGuildMasterListRecv(aRecv);

  000a5	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  000a8	50		 push	 eax
  000a9	e8 00 00 00 00	 call	 ?DGGuildMasterListRecv@@YAXPAE@Z ; DGGuildMasterListRecv
  000ae	83 c4 04	 add	 esp, 4

; 62   : 			break;

  000b1	e9 b1 01 00 00	 jmp	 $LN40@ExDataServ
$LN29@ExDataServ:

; 63   : 		case 0x37:
; 64   : 			GDGuildScoreUpdateRecv((SDHP_GUILDSCOREUPDATE *)aRecv);

  000b6	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  000b9	50		 push	 eax
  000ba	e8 00 00 00 00	 call	 ?GDGuildScoreUpdateRecv@@YAXPAUSDHP_GUILDSCOREUPDATE@@@Z ; GDGuildScoreUpdateRecv
  000bf	83 c4 04	 add	 esp, 4

; 65   : 			break;

  000c2	e9 a0 01 00 00	 jmp	 $LN40@ExDataServ
$LN28@ExDataServ:

; 66   : 		case 0x38:
; 67   : 			DGGuildNoticeRecv((SDHP_GUILDNOTICE *)aRecv);

  000c7	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  000ca	50		 push	 eax
  000cb	e8 00 00 00 00	 call	 ?DGGuildNoticeRecv@@YAXPAUSDHP_GUILDNOTICE@@@Z ; DGGuildNoticeRecv
  000d0	83 c4 04	 add	 esp, 4

; 68   : 			break;

  000d3	e9 8f 01 00 00	 jmp	 $LN40@ExDataServ
$LN27@ExDataServ:

; 69   : 		case 0x40:
; 70   : 			DGGuildList((SDHP_GUILDCREATED *)aRecv);

  000d8	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  000db	50		 push	 eax
  000dc	e8 00 00 00 00	 call	 ?DGGuildList@@YAXPAUSDHP_GUILDCREATED@@@Z ; DGGuildList
  000e1	83 c4 04	 add	 esp, 4

; 71   : 			break;

  000e4	e9 7e 01 00 00	 jmp	 $LN40@ExDataServ
$LN26@ExDataServ:

; 72   : 		case 0x41:
; 73   : 			DGGuildListState((SDHP_GUILDLISTSTATE *)aRecv);

  000e9	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  000ec	50		 push	 eax
  000ed	e8 00 00 00 00	 call	 ?DGGuildListState@@YAXPAUSDHP_GUILDLISTSTATE@@@Z ; DGGuildListState
  000f2	83 c4 04	 add	 esp, 4

; 74   : 			break;

  000f5	e9 6d 01 00 00	 jmp	 $LN40@ExDataServ
$LN25@ExDataServ:

; 75   : 		case 0x50:
; 76   : 			DGGuildServerGroupChattingRecv((EXSDHP_SERVERGROUP_GUILD_CHATTING_RECV *)aRecv);

  000fa	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  000fd	50		 push	 eax
  000fe	e8 00 00 00 00	 call	 ?DGGuildServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_GUILD_CHATTING_RECV@@@Z ; DGGuildServerGroupChattingRecv
  00103	83 c4 04	 add	 esp, 4

; 77   : 			break;

  00106	e9 5c 01 00 00	 jmp	 $LN40@ExDataServ
$LN24@ExDataServ:

; 78   : 		case 0x51:
; 79   : 			DGUnionServerGroupChattingRecv((EXSDHP_SERVERGROUP_UNION_CHATTING_RECV *)aRecv);

  0010b	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  0010e	50		 push	 eax
  0010f	e8 00 00 00 00	 call	 ?DGUnionServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_UNION_CHATTING_RECV@@@Z ; DGUnionServerGroupChattingRecv
  00114	83 c4 04	 add	 esp, 4

; 80   : 			break;

  00117	e9 4b 01 00 00	 jmp	 $LN40@ExDataServ
$LN23@ExDataServ:

; 81   : 		case 0xE1:
; 82   : 			DGGuildAnsAssignStatus((EXSDHP_GUILD_ASSIGN_STATUS_RESULT *)aRecv);

  0011c	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  0011f	50		 push	 eax
  00120	e8 00 00 00 00	 call	 ?DGGuildAnsAssignStatus@@YAXPAUEXSDHP_GUILD_ASSIGN_STATUS_RESULT@@@Z ; DGGuildAnsAssignStatus
  00125	83 c4 04	 add	 esp, 4

; 83   : 			break;

  00128	e9 3a 01 00 00	 jmp	 $LN40@ExDataServ
$LN22@ExDataServ:

; 84   : 		case 0xE2:
; 85   : 			DGGuildAnsAssignType((EXSDHP_GUILD_ASSIGN_TYPE_RESULT *)aRecv);

  0012d	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00130	50		 push	 eax
  00131	e8 00 00 00 00	 call	 ?DGGuildAnsAssignType@@YAXPAUEXSDHP_GUILD_ASSIGN_TYPE_RESULT@@@Z ; DGGuildAnsAssignType
  00136	83 c4 04	 add	 esp, 4

; 86   : 			break;

  00139	e9 29 01 00 00	 jmp	 $LN40@ExDataServ
$LN21@ExDataServ:

; 87   : 		case 0xE5:
; 88   : 			DGRelationShipAnsJoin((EXSDHP_RELATIONSHIP_JOIN_RESULT *)aRecv);

  0013e	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00141	50		 push	 eax
  00142	e8 00 00 00 00	 call	 ?DGRelationShipAnsJoin@@YAXPAUEXSDHP_RELATIONSHIP_JOIN_RESULT@@@Z ; DGRelationShipAnsJoin
  00147	83 c4 04	 add	 esp, 4

; 89   : 			break;

  0014a	e9 18 01 00 00	 jmp	 $LN40@ExDataServ
$LN20@ExDataServ:

; 90   : 		case 0xE6:
; 91   : 			DGRelationShipAnsBreakOff((EXSDHP_RELATIONSHIP_BREAKOFF_RESULT *)aRecv);

  0014f	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00152	50		 push	 eax
  00153	e8 00 00 00 00	 call	 ?DGRelationShipAnsBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z ; DGRelationShipAnsBreakOff
  00158	83 c4 04	 add	 esp, 4

; 92   : 			break;

  0015b	e9 07 01 00 00	 jmp	 $LN40@ExDataServ
$LN19@ExDataServ:

; 93   : 		case 0xE7:
; 94   : 			DGRelationShipListRecv((EXSDHP_UNION_RELATIONSHIP_LIST *)aRecv);

  00160	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00163	50		 push	 eax
  00164	e8 00 00 00 00	 call	 ?DGRelationShipListRecv@@YAXPAUEXSDHP_UNION_RELATIONSHIP_LIST@@@Z ; DGRelationShipListRecv
  00169	83 c4 04	 add	 esp, 4

; 95   : 			break;

  0016c	e9 f6 00 00 00	 jmp	 $LN40@ExDataServ
$LN18@ExDataServ:

; 96   : 		case 0xE8:
; 97   : 			DGRelationShipNotificationRecv((EXSDHP_NOTIFICATION_RELATIONSHIP *)aRecv);

  00171	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00174	50		 push	 eax
  00175	e8 00 00 00 00	 call	 ?DGRelationShipNotificationRecv@@YAXPAUEXSDHP_NOTIFICATION_RELATIONSHIP@@@Z ; DGRelationShipNotificationRecv
  0017a	83 c4 04	 add	 esp, 4

; 98   : 			break;

  0017d	e9 e5 00 00 00	 jmp	 $LN40@ExDataServ
$LN17@ExDataServ:

; 99   : 		case 0xE9:
; 100  : 			DGUnionListRecv(aRecv);

  00182	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00185	50		 push	 eax
  00186	e8 00 00 00 00	 call	 ?DGUnionListRecv@@YAXPAE@Z ; DGUnionListRecv
  0018b	83 c4 04	 add	 esp, 4

; 101  : 			break;

  0018e	e9 d4 00 00 00	 jmp	 $LN40@ExDataServ
$LN16@ExDataServ:

; 102  : 		case 0xEB:
; 103  : 			{
; 104  : 				PMSG_DEFAULT2 * lpDef = (PMSG_DEFAULT2 *)aRecv;

  00193	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00196	89 45 fc	 mov	 DWORD PTR _lpDef$231900[ebp], eax

; 105  : 
; 106  : 				switch ( lpDef->subcode )

  00199	8b 45 fc	 mov	 eax, DWORD PTR _lpDef$231900[ebp]
  0019c	8a 48 03	 mov	 cl, BYTE PTR [eax+3]
  0019f	88 4d b8	 mov	 BYTE PTR tv89[ebp], cl
  001a2	80 7d b8 01	 cmp	 BYTE PTR tv89[ebp], 1
  001a6	74 02		 je	 SHORT $LN13@ExDataServ
  001a8	eb 0c		 jmp	 SHORT $LN14@ExDataServ
$LN13@ExDataServ:

; 107  : 				{
; 108  : 					case 0x01:
; 109  : 						DGRelationShipAnsKickOutUnionMember((EXSDHP_KICKOUT_UNIONMEMBER_RESULT *)aRecv);

  001aa	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  001ad	50		 push	 eax
  001ae	e8 00 00 00 00	 call	 ?DGRelationShipAnsKickOutUnionMember@@YAXPAUEXSDHP_KICKOUT_UNIONMEMBER_RESULT@@@Z ; DGRelationShipAnsKickOutUnionMember
  001b3	83 c4 04	 add	 esp, 4
$LN14@ExDataServ:

; 110  : 						break;
; 111  : 				}
; 112  : 			}
; 113  : 			break;

  001b6	e9 ac 00 00 00	 jmp	 $LN40@ExDataServ
$LN12@ExDataServ:

; 114  : 		case 0x60:
; 115  : 			FriendListResult(aRecv);

  001bb	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  001be	50		 push	 eax
  001bf	e8 00 00 00 00	 call	 ?FriendListResult@@YAXPAE@Z ; FriendListResult
  001c4	83 c4 04	 add	 esp, 4

; 116  : 			break;

  001c7	e9 9b 00 00 00	 jmp	 $LN40@ExDataServ
$LN11@ExDataServ:

; 117  : 		case 0x61:
; 118  : 			WaitFriendListResult((FHP_WAITFRIENDLIST_COUNT *)aRecv);

  001cc	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  001cf	50		 push	 eax
  001d0	e8 00 00 00 00	 call	 ?WaitFriendListResult@@YAXPAUFHP_WAITFRIENDLIST_COUNT@@@Z ; WaitFriendListResult
  001d5	83 c4 04	 add	 esp, 4

; 119  : 			break;

  001d8	e9 8a 00 00 00	 jmp	 $LN40@ExDataServ
$LN10@ExDataServ:

; 120  : 		case 0x62:
; 121  : 			FriendStateRecv((FHP_FRIEND_STATE *)aRecv);

  001dd	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  001e0	50		 push	 eax
  001e1	e8 00 00 00 00	 call	 ?FriendStateRecv@@YAXPAUFHP_FRIEND_STATE@@@Z ; FriendStateRecv
  001e6	83 c4 04	 add	 esp, 4

; 122  : 			break;

  001e9	eb 7c		 jmp	 SHORT $LN40@ExDataServ
$LN9@ExDataServ:

; 123  : 		case 0x63:
; 124  : 			FriendAddResult((FHP_FRIEND_ADD_RESULT *)aRecv);

  001eb	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  001ee	50		 push	 eax
  001ef	e8 00 00 00 00	 call	 ?FriendAddResult@@YAXPAUFHP_FRIEND_ADD_RESULT@@@Z ; FriendAddResult
  001f4	83 c4 04	 add	 esp, 4

; 125  : 			break;

  001f7	eb 6e		 jmp	 SHORT $LN40@ExDataServ
$LN8@ExDataServ:

; 126  : 		case 0x64:
; 127  : 			WaitFriendAddResult((FHP_WAITFRIEND_ADD_RESULT *)aRecv);

  001f9	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  001fc	50		 push	 eax
  001fd	e8 00 00 00 00	 call	 ?WaitFriendAddResult@@YAXPAUFHP_WAITFRIEND_ADD_RESULT@@@Z ; WaitFriendAddResult
  00202	83 c4 04	 add	 esp, 4

; 128  : 			break;

  00205	eb 60		 jmp	 SHORT $LN40@ExDataServ
$LN7@ExDataServ:

; 129  : 		case 0x65:
; 130  : 			FriendDelResult((FHP_FRIEND_DEL_RESULT *)aRecv);

  00207	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  0020a	50		 push	 eax
  0020b	e8 00 00 00 00	 call	 ?FriendDelResult@@YAXPAUFHP_FRIEND_DEL_RESULT@@@Z ; FriendDelResult
  00210	83 c4 04	 add	 esp, 4

; 131  : 			break;

  00213	eb 52		 jmp	 SHORT $LN40@ExDataServ
$LN6@ExDataServ:

; 132  : 		case 0x66:
; 133  : 			FriendChatRoomCreateResult((FHP_FRIEND_CHATROOM_CREATE_RESULT *)aRecv);

  00215	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00218	50		 push	 eax
  00219	e8 00 00 00 00	 call	 ?FriendChatRoomCreateResult@@YAXPAUFHP_FRIEND_CHATROOM_CREATE_RESULT@@@Z ; FriendChatRoomCreateResult
  0021e	83 c4 04	 add	 esp, 4

; 134  : 			break;

  00221	eb 44		 jmp	 SHORT $LN40@ExDataServ
$LN5@ExDataServ:

; 135  : 		case 0x70:
; 136  : 			FriendMemoSendResult((FHP_FRIEND_MEMO_SEND_RESULT *)aRecv);

  00223	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00226	50		 push	 eax
  00227	e8 00 00 00 00	 call	 ?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z ; FriendMemoSendResult
  0022c	83 c4 04	 add	 esp, 4

; 137  : 			break;

  0022f	eb 36		 jmp	 SHORT $LN40@ExDataServ
$LN4@ExDataServ:

; 138  : 		case 0x71:
; 139  : 			FriendMemoList((FHP_FRIEND_MEMO_LIST *)aRecv);

  00231	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00234	50		 push	 eax
  00235	e8 00 00 00 00	 call	 ?FriendMemoList@@YAXPAUFHP_FRIEND_MEMO_LIST@@@Z ; FriendMemoList
  0023a	83 c4 04	 add	 esp, 4

; 140  : 			break;

  0023d	eb 28		 jmp	 SHORT $LN40@ExDataServ
$LN3@ExDataServ:

; 141  : 		case 0x72:
; 142  : 			FriendMemoRead((FHP_FRIEND_MEMO_RECV *)aRecv);

  0023f	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00242	50		 push	 eax
  00243	e8 00 00 00 00	 call	 ?FriendMemoRead@@YAXPAUFHP_FRIEND_MEMO_RECV@@@Z ; FriendMemoRead
  00248	83 c4 04	 add	 esp, 4

; 143  : 			break;

  0024b	eb 1a		 jmp	 SHORT $LN40@ExDataServ
$LN2@ExDataServ:

; 144  : 		case 0x73:
; 145  : 			FriendMemoDelResult((FHP_FRIEND_MEMO_DEL_RESULT *)aRecv);

  0024d	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  00250	50		 push	 eax
  00251	e8 00 00 00 00	 call	 ?FriendMemoDelResult@@YAXPAUFHP_FRIEND_MEMO_DEL_RESULT@@@Z ; FriendMemoDelResult
  00256	83 c4 04	 add	 esp, 4

; 146  : 			break;

  00259	eb 0c		 jmp	 SHORT $LN40@ExDataServ
$LN1@ExDataServ:

; 147  : 		case 0x74:
; 148  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  0025b	8b 45 0c	 mov	 eax, DWORD PTR _aRecv$[ebp]
  0025e	50		 push	 eax
  0025f	e8 00 00 00 00	 call	 ?FriendRoomInvitationRecv@@YAXPAUFHP_FRIEND_INVITATION_RET@@@Z ; FriendRoomInvitationRecv
  00264	83 c4 04	 add	 esp, 4
$LN40@ExDataServ:

; 149  : 			break;
; 150  : 	}
; 151  : }

  00267	5f		 pop	 edi
  00268	5e		 pop	 esi
  00269	5b		 pop	 ebx
  0026a	8b e5		 mov	 esp, ebp
  0026c	5d		 pop	 ebp
  0026d	c3		 ret	 0
  0026e	8b ff		 npad	 2
$LN43@ExDataServ:
  00270	00 00 00 00	 DD	 $LN37@ExDataServ
  00274	00 00 00 00	 DD	 $LN36@ExDataServ
  00278	00 00 00 00	 DD	 $LN35@ExDataServ
  0027c	00 00 00 00	 DD	 $LN34@ExDataServ
  00280	00 00 00 00	 DD	 $LN33@ExDataServ
  00284	00 00 00 00	 DD	 $LN32@ExDataServ
  00288	00 00 00 00	 DD	 $LN31@ExDataServ
  0028c	00 00 00 00	 DD	 $LN30@ExDataServ
  00290	00 00 00 00	 DD	 $LN29@ExDataServ
  00294	00 00 00 00	 DD	 $LN28@ExDataServ
  00298	00 00 00 00	 DD	 $LN27@ExDataServ
  0029c	00 00 00 00	 DD	 $LN26@ExDataServ
  002a0	00 00 00 00	 DD	 $LN25@ExDataServ
  002a4	00 00 00 00	 DD	 $LN24@ExDataServ
  002a8	00 00 00 00	 DD	 $LN12@ExDataServ
  002ac	00 00 00 00	 DD	 $LN11@ExDataServ
  002b0	00 00 00 00	 DD	 $LN10@ExDataServ
  002b4	00 00 00 00	 DD	 $LN9@ExDataServ
  002b8	00 00 00 00	 DD	 $LN8@ExDataServ
  002bc	00 00 00 00	 DD	 $LN7@ExDataServ
  002c0	00 00 00 00	 DD	 $LN6@ExDataServ
  002c4	00 00 00 00	 DD	 $LN5@ExDataServ
  002c8	00 00 00 00	 DD	 $LN4@ExDataServ
  002cc	00 00 00 00	 DD	 $LN3@ExDataServ
  002d0	00 00 00 00	 DD	 $LN2@ExDataServ
  002d4	00 00 00 00	 DD	 $LN1@ExDataServ
  002d8	00 00 00 00	 DD	 $LN23@ExDataServ
  002dc	00 00 00 00	 DD	 $LN22@ExDataServ
  002e0	00 00 00 00	 DD	 $LN21@ExDataServ
  002e4	00 00 00 00	 DD	 $LN20@ExDataServ
  002e8	00 00 00 00	 DD	 $LN19@ExDataServ
  002ec	00 00 00 00	 DD	 $LN18@ExDataServ
  002f0	00 00 00 00	 DD	 $LN17@ExDataServ
  002f4	00 00 00 00	 DD	 $LN16@ExDataServ
  002f8	00 00 00 00	 DD	 $LN40@ExDataServ
$LN42@ExDataServ:
  002fc	00		 DB	 0
  002fd	22		 DB	 34			; 00000022H
  002fe	01		 DB	 1
  002ff	22		 DB	 34			; 00000022H
  00300	22		 DB	 34			; 00000022H
  00301	22		 DB	 34			; 00000022H
  00302	22		 DB	 34			; 00000022H
  00303	22		 DB	 34			; 00000022H
  00304	22		 DB	 34			; 00000022H
  00305	22		 DB	 34			; 00000022H
  00306	22		 DB	 34			; 00000022H
  00307	22		 DB	 34			; 00000022H
  00308	22		 DB	 34			; 00000022H
  00309	22		 DB	 34			; 00000022H
  0030a	22		 DB	 34			; 00000022H
  0030b	22		 DB	 34			; 00000022H
  0030c	22		 DB	 34			; 00000022H
  0030d	22		 DB	 34			; 00000022H
  0030e	22		 DB	 34			; 00000022H
  0030f	22		 DB	 34			; 00000022H
  00310	22		 DB	 34			; 00000022H
  00311	22		 DB	 34			; 00000022H
  00312	22		 DB	 34			; 00000022H
  00313	22		 DB	 34			; 00000022H
  00314	22		 DB	 34			; 00000022H
  00315	22		 DB	 34			; 00000022H
  00316	22		 DB	 34			; 00000022H
  00317	22		 DB	 34			; 00000022H
  00318	22		 DB	 34			; 00000022H
  00319	22		 DB	 34			; 00000022H
  0031a	22		 DB	 34			; 00000022H
  0031b	22		 DB	 34			; 00000022H
  0031c	22		 DB	 34			; 00000022H
  0031d	22		 DB	 34			; 00000022H
  0031e	22		 DB	 34			; 00000022H
  0031f	22		 DB	 34			; 00000022H
  00320	22		 DB	 34			; 00000022H
  00321	22		 DB	 34			; 00000022H
  00322	22		 DB	 34			; 00000022H
  00323	22		 DB	 34			; 00000022H
  00324	22		 DB	 34			; 00000022H
  00325	22		 DB	 34			; 00000022H
  00326	22		 DB	 34			; 00000022H
  00327	22		 DB	 34			; 00000022H
  00328	22		 DB	 34			; 00000022H
  00329	22		 DB	 34			; 00000022H
  0032a	22		 DB	 34			; 00000022H
  0032b	22		 DB	 34			; 00000022H
  0032c	02		 DB	 2
  0032d	03		 DB	 3
  0032e	04		 DB	 4
  0032f	05		 DB	 5
  00330	22		 DB	 34			; 00000022H
  00331	06		 DB	 6
  00332	07		 DB	 7
  00333	08		 DB	 8
  00334	09		 DB	 9
  00335	22		 DB	 34			; 00000022H
  00336	22		 DB	 34			; 00000022H
  00337	22		 DB	 34			; 00000022H
  00338	22		 DB	 34			; 00000022H
  00339	22		 DB	 34			; 00000022H
  0033a	22		 DB	 34			; 00000022H
  0033b	22		 DB	 34			; 00000022H
  0033c	0a		 DB	 10			; 0000000aH
  0033d	0b		 DB	 11			; 0000000bH
  0033e	22		 DB	 34			; 00000022H
  0033f	22		 DB	 34			; 00000022H
  00340	22		 DB	 34			; 00000022H
  00341	22		 DB	 34			; 00000022H
  00342	22		 DB	 34			; 00000022H
  00343	22		 DB	 34			; 00000022H
  00344	22		 DB	 34			; 00000022H
  00345	22		 DB	 34			; 00000022H
  00346	22		 DB	 34			; 00000022H
  00347	22		 DB	 34			; 00000022H
  00348	22		 DB	 34			; 00000022H
  00349	22		 DB	 34			; 00000022H
  0034a	22		 DB	 34			; 00000022H
  0034b	22		 DB	 34			; 00000022H
  0034c	0c		 DB	 12			; 0000000cH
  0034d	0d		 DB	 13			; 0000000dH
  0034e	22		 DB	 34			; 00000022H
  0034f	22		 DB	 34			; 00000022H
  00350	22		 DB	 34			; 00000022H
  00351	22		 DB	 34			; 00000022H
  00352	22		 DB	 34			; 00000022H
  00353	22		 DB	 34			; 00000022H
  00354	22		 DB	 34			; 00000022H
  00355	22		 DB	 34			; 00000022H
  00356	22		 DB	 34			; 00000022H
  00357	22		 DB	 34			; 00000022H
  00358	22		 DB	 34			; 00000022H
  00359	22		 DB	 34			; 00000022H
  0035a	22		 DB	 34			; 00000022H
  0035b	22		 DB	 34			; 00000022H
  0035c	0e		 DB	 14			; 0000000eH
  0035d	0f		 DB	 15			; 0000000fH
  0035e	10		 DB	 16			; 00000010H
  0035f	11		 DB	 17			; 00000011H
  00360	12		 DB	 18			; 00000012H
  00361	13		 DB	 19			; 00000013H
  00362	14		 DB	 20			; 00000014H
  00363	22		 DB	 34			; 00000022H
  00364	22		 DB	 34			; 00000022H
  00365	22		 DB	 34			; 00000022H
  00366	22		 DB	 34			; 00000022H
  00367	22		 DB	 34			; 00000022H
  00368	22		 DB	 34			; 00000022H
  00369	22		 DB	 34			; 00000022H
  0036a	22		 DB	 34			; 00000022H
  0036b	22		 DB	 34			; 00000022H
  0036c	15		 DB	 21			; 00000015H
  0036d	16		 DB	 22			; 00000016H
  0036e	17		 DB	 23			; 00000017H
  0036f	18		 DB	 24			; 00000018H
  00370	19		 DB	 25			; 00000019H
  00371	22		 DB	 34			; 00000022H
  00372	22		 DB	 34			; 00000022H
  00373	22		 DB	 34			; 00000022H
  00374	22		 DB	 34			; 00000022H
  00375	22		 DB	 34			; 00000022H
  00376	22		 DB	 34			; 00000022H
  00377	22		 DB	 34			; 00000022H
  00378	22		 DB	 34			; 00000022H
  00379	22		 DB	 34			; 00000022H
  0037a	22		 DB	 34			; 00000022H
  0037b	22		 DB	 34			; 00000022H
  0037c	22		 DB	 34			; 00000022H
  0037d	22		 DB	 34			; 00000022H
  0037e	22		 DB	 34			; 00000022H
  0037f	22		 DB	 34			; 00000022H
  00380	22		 DB	 34			; 00000022H
  00381	22		 DB	 34			; 00000022H
  00382	22		 DB	 34			; 00000022H
  00383	22		 DB	 34			; 00000022H
  00384	22		 DB	 34			; 00000022H
  00385	22		 DB	 34			; 00000022H
  00386	22		 DB	 34			; 00000022H
  00387	22		 DB	 34			; 00000022H
  00388	22		 DB	 34			; 00000022H
  00389	22		 DB	 34			; 00000022H
  0038a	22		 DB	 34			; 00000022H
  0038b	22		 DB	 34			; 00000022H
  0038c	22		 DB	 34			; 00000022H
  0038d	22		 DB	 34			; 00000022H
  0038e	22		 DB	 34			; 00000022H
  0038f	22		 DB	 34			; 00000022H
  00390	22		 DB	 34			; 00000022H
  00391	22		 DB	 34			; 00000022H
  00392	22		 DB	 34			; 00000022H
  00393	22		 DB	 34			; 00000022H
  00394	22		 DB	 34			; 00000022H
  00395	22		 DB	 34			; 00000022H
  00396	22		 DB	 34			; 00000022H
  00397	22		 DB	 34			; 00000022H
  00398	22		 DB	 34			; 00000022H
  00399	22		 DB	 34			; 00000022H
  0039a	22		 DB	 34			; 00000022H
  0039b	22		 DB	 34			; 00000022H
  0039c	22		 DB	 34			; 00000022H
  0039d	22		 DB	 34			; 00000022H
  0039e	22		 DB	 34			; 00000022H
  0039f	22		 DB	 34			; 00000022H
  003a0	22		 DB	 34			; 00000022H
  003a1	22		 DB	 34			; 00000022H
  003a2	22		 DB	 34			; 00000022H
  003a3	22		 DB	 34			; 00000022H
  003a4	22		 DB	 34			; 00000022H
  003a5	22		 DB	 34			; 00000022H
  003a6	22		 DB	 34			; 00000022H
  003a7	22		 DB	 34			; 00000022H
  003a8	22		 DB	 34			; 00000022H
  003a9	22		 DB	 34			; 00000022H
  003aa	22		 DB	 34			; 00000022H
  003ab	22		 DB	 34			; 00000022H
  003ac	22		 DB	 34			; 00000022H
  003ad	22		 DB	 34			; 00000022H
  003ae	22		 DB	 34			; 00000022H
  003af	22		 DB	 34			; 00000022H
  003b0	22		 DB	 34			; 00000022H
  003b1	22		 DB	 34			; 00000022H
  003b2	22		 DB	 34			; 00000022H
  003b3	22		 DB	 34			; 00000022H
  003b4	22		 DB	 34			; 00000022H
  003b5	22		 DB	 34			; 00000022H
  003b6	22		 DB	 34			; 00000022H
  003b7	22		 DB	 34			; 00000022H
  003b8	22		 DB	 34			; 00000022H
  003b9	22		 DB	 34			; 00000022H
  003ba	22		 DB	 34			; 00000022H
  003bb	22		 DB	 34			; 00000022H
  003bc	22		 DB	 34			; 00000022H
  003bd	22		 DB	 34			; 00000022H
  003be	22		 DB	 34			; 00000022H
  003bf	22		 DB	 34			; 00000022H
  003c0	22		 DB	 34			; 00000022H
  003c1	22		 DB	 34			; 00000022H
  003c2	22		 DB	 34			; 00000022H
  003c3	22		 DB	 34			; 00000022H
  003c4	22		 DB	 34			; 00000022H
  003c5	22		 DB	 34			; 00000022H
  003c6	22		 DB	 34			; 00000022H
  003c7	22		 DB	 34			; 00000022H
  003c8	22		 DB	 34			; 00000022H
  003c9	22		 DB	 34			; 00000022H
  003ca	22		 DB	 34			; 00000022H
  003cb	22		 DB	 34			; 00000022H
  003cc	22		 DB	 34			; 00000022H
  003cd	22		 DB	 34			; 00000022H
  003ce	22		 DB	 34			; 00000022H
  003cf	22		 DB	 34			; 00000022H
  003d0	22		 DB	 34			; 00000022H
  003d1	22		 DB	 34			; 00000022H
  003d2	22		 DB	 34			; 00000022H
  003d3	22		 DB	 34			; 00000022H
  003d4	22		 DB	 34			; 00000022H
  003d5	22		 DB	 34			; 00000022H
  003d6	22		 DB	 34			; 00000022H
  003d7	22		 DB	 34			; 00000022H
  003d8	22		 DB	 34			; 00000022H
  003d9	22		 DB	 34			; 00000022H
  003da	22		 DB	 34			; 00000022H
  003db	22		 DB	 34			; 00000022H
  003dc	22		 DB	 34			; 00000022H
  003dd	1a		 DB	 26			; 0000001aH
  003de	1b		 DB	 27			; 0000001bH
  003df	22		 DB	 34			; 00000022H
  003e0	22		 DB	 34			; 00000022H
  003e1	1c		 DB	 28			; 0000001cH
  003e2	1d		 DB	 29			; 0000001dH
  003e3	1e		 DB	 30			; 0000001eH
  003e4	1f		 DB	 31			; 0000001fH
  003e5	20		 DB	 32			; 00000020H
  003e6	22		 DB	 34			; 00000022H
  003e7	21		 DB	 33			; 00000021H
?ExDataServerProtocolCore@@YAXEPAEH@Z ENDP		; ExDataServerProtocolCore
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?ExDataServerLogin@@YAXXZ			; ExDataServerLogin
EXTRN	?DataSend@wsJoinServerCli@@QAEHPADH@Z:PROC	; wsJoinServerCli::DataSend
EXTRN	?wsExDbCli@@3VwsJoinServerCli@@A:BYTE		; wsExDbCli
EXTRN	_strcpy:PROC
EXTRN	?szServerName@@3PADA:BYTE			; szServerName
EXTRN	?gGameServerCode@@3FA:WORD			; gGameServerCode
EXTRN	?GameServerPort@@3HA:DWORD			; GameServerPort
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pInfo$ = -64						; size = 58
__$ArrayPad$ = -4					; size = 4
?ExDataServerLogin@@YAXXZ PROC				; ExDataServerLogin

; 154  : {

  003f0	55		 push	 ebp
  003f1	8b ec		 mov	 ebp, esp
  003f3	81 ec 80 00 00
	00		 sub	 esp, 128		; 00000080H
  003f9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  003fe	33 c5		 xor	 eax, ebp
  00400	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00403	53		 push	 ebx
  00404	56		 push	 esi
  00405	57		 push	 edi

; 155  : 	SDHP_SERVERINFO pInfo;
; 156  : 
; 157  : 	pInfo.h.c = 0xC1;

  00406	c6 45 c0 c1	 mov	 BYTE PTR _pInfo$[ebp], 193 ; 000000c1H

; 158  : 	pInfo.h.size = sizeof(SDHP_SERVERINFO);

  0040a	c6 45 c1 3a	 mov	 BYTE PTR _pInfo$[ebp+1], 58 ; 0000003aH

; 159  : 	pInfo.h.headcode = 0x00;

  0040e	c6 45 c2 00	 mov	 BYTE PTR _pInfo$[ebp+2], 0

; 160  : 	pInfo.Port = GameServerPort;

  00412	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?GameServerPort@@3HA
  00418	66 89 45 c4	 mov	 WORD PTR _pInfo$[ebp+4], ax

; 161  : 	pInfo.Type = 0x01;

  0041c	c6 45 c3 01	 mov	 BYTE PTR _pInfo$[ebp+3], 1

; 162  : 	pInfo.ServerCode = gGameServerCode;

  00420	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?gGameServerCode@@3FA ; gGameServerCode
  00426	66 89 45 f8	 mov	 WORD PTR _pInfo$[ebp+56], ax

; 163  : 	strcpy(pInfo.ServerName, szServerName);

  0042a	68 00 00 00 00	 push	 OFFSET ?szServerName@@3PADA ; szServerName
  0042f	8d 45 c6	 lea	 eax, DWORD PTR _pInfo$[ebp+6]
  00432	50		 push	 eax
  00433	e8 00 00 00 00	 call	 _strcpy
  00438	83 c4 08	 add	 esp, 8

; 164  : 
; 165  : 	wsExDbCli.DataSend((char*)&pInfo, pInfo.h.size);

  0043b	0f b6 45 c1	 movzx	 eax, BYTE PTR _pInfo$[ebp+1]
  0043f	50		 push	 eax
  00440	8d 4d c0	 lea	 ecx, DWORD PTR _pInfo$[ebp]
  00443	51		 push	 ecx
  00444	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00449	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 166  : }

  0044e	5f		 pop	 edi
  0044f	5e		 pop	 esi
  00450	5b		 pop	 ebx
  00451	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00454	33 cd		 xor	 ecx, ebp
  00456	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0045b	8b e5		 mov	 esp, ebp
  0045d	5d		 pop	 ebp
  0045e	c3		 ret	 0
?ExDataServerLogin@@YAXXZ ENDP				; ExDataServerLogin
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDCharClose@@YAXHPAD0@Z			; GDCharClose
EXTRN	_memset:PROC
EXTRN	_memcpy:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -28						; size = 22
__$ArrayPad$ = -4					; size = 4
_type$ = 8						; size = 4
_GuildName$ = 12					; size = 4
_Name$ = 16						; size = 4
?GDCharClose@@YAXHPAD0@Z PROC				; GDCharClose

; 169  : {

  00460	55		 push	 ebp
  00461	8b ec		 mov	 ebp, esp
  00463	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00466	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0046b	33 c5		 xor	 eax, ebp
  0046d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00470	53		 push	 ebx
  00471	56		 push	 esi
  00472	57		 push	 edi

; 170  : 	SDHP_USERCLOSE pMsg;
; 171  : 
; 172  : 	pMsg.h.c = 0xC1;

  00473	c6 45 e4 c1	 mov	 BYTE PTR _pMsg$[ebp], 193 ; 000000c1H

; 173  : 	pMsg.h.size = sizeof(pMsg);

  00477	c6 45 e5 16	 mov	 BYTE PTR _pMsg$[ebp+1], 22 ; 00000016H

; 174  : 	pMsg.h.headcode = 0x02;

  0047b	c6 45 e6 02	 mov	 BYTE PTR _pMsg$[ebp+2], 2

; 175  : 	pMsg.Type = type;

  0047f	8a 45 08	 mov	 al, BYTE PTR _type$[ebp]
  00482	88 45 f9	 mov	 BYTE PTR _pMsg$[ebp+21], al

; 176  : 	memcpy(pMsg.CharName, Name, sizeof(pMsg.CharName));

  00485	6a 0a		 push	 10			; 0000000aH
  00487	8b 45 10	 mov	 eax, DWORD PTR _Name$[ebp]
  0048a	50		 push	 eax
  0048b	8d 4d e7	 lea	 ecx, DWORD PTR _pMsg$[ebp+3]
  0048e	51		 push	 ecx
  0048f	e8 00 00 00 00	 call	 _memcpy
  00494	83 c4 0c	 add	 esp, 12			; 0000000cH

; 177  : 	memset(pMsg.GuildName, 0, sizeof(pMsg.GuildName));

  00497	6a 08		 push	 8
  00499	6a 00		 push	 0
  0049b	8d 45 f1	 lea	 eax, DWORD PTR _pMsg$[ebp+13]
  0049e	50		 push	 eax
  0049f	e8 00 00 00 00	 call	 _memset
  004a4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 178  : 
; 179  : 	if ( GuildName != NULL )

  004a7	83 7d 0c 00	 cmp	 DWORD PTR _GuildName$[ebp], 0
  004ab	74 12		 je	 SHORT $LN1@GDCharClos

; 180  : 	{
; 181  : 		memcpy(pMsg.GuildName, GuildName, sizeof(pMsg.GuildName));

  004ad	6a 08		 push	 8
  004af	8b 45 0c	 mov	 eax, DWORD PTR _GuildName$[ebp]
  004b2	50		 push	 eax
  004b3	8d 4d f1	 lea	 ecx, DWORD PTR _pMsg$[ebp+13]
  004b6	51		 push	 ecx
  004b7	e8 00 00 00 00	 call	 _memcpy
  004bc	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@GDCharClos:

; 182  : 	}
; 183  : 
; 184  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  004bf	0f b6 45 e5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  004c3	50		 push	 eax
  004c4	8d 4d e4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  004c7	51		 push	 ecx
  004c8	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  004cd	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 185  : }

  004d2	5f		 pop	 edi
  004d3	5e		 pop	 esi
  004d4	5b		 pop	 ebx
  004d5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  004d8	33 cd		 xor	 ecx, ebp
  004da	e8 00 00 00 00	 call	 @__security_check_cookie@4
  004df	8b e5		 mov	 esp, ebp
  004e1	5d		 pop	 ebp
  004e2	c3		 ret	 0
?GDCharClose@@YAXHPAD0@Z ENDP				; GDCharClose
_TEXT	ENDS
PUBLIC	??_C@_0BL@MLPIPIDH@ExDB?5Server?5Login?5Fail?3?5?$CFd?$AA@ ; `string'
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
EXTRN	?gObjIsConnectedGP@@YAHH@Z:PROC			; gObjIsConnectedGP
EXTRN	?LogAddTD@@3P6AXPADZZA:DWORD			; LogAddTD
;	COMDAT ??_C@_0BL@MLPIPIDH@ExDB?5Server?5Login?5Fail?3?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BL@MLPIPIDH@ExDB?5Server?5Login?5Fail?3?5?$CFd?$AA@ DB 'ExDB Serve'
	DB	'r Login Fail: %d', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_i$231949 = -4						; size = 4
_lpMsg$ = 8						; size = 4
?ExDataServerLoginResult@@YAXPAUSDHP_RESULT@@@Z PROC	; ExDataServerLoginResult

; 188  : {

  004f0	55		 push	 ebp
  004f1	8b ec		 mov	 ebp, esp
  004f3	83 ec 44	 sub	 esp, 68			; 00000044H
  004f6	53		 push	 ebx
  004f7	56		 push	 esi
  004f8	57		 push	 edi

; 189  : 	if ( lpMsg->Result == false )

  004f9	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  004fc	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  00500	85 c9		 test	 ecx, ecx
  00502	75 18		 jne	 SHORT $LN6@ExDataServ@2

; 190  : 	{
; 191  : 		LogAddTD("ExDB Server Login Fail: %d", lpMsg->Result);

  00504	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00507	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  0050b	51		 push	 ecx
  0050c	68 00 00 00 00	 push	 OFFSET ??_C@_0BL@MLPIPIDH@ExDB?5Server?5Login?5Fail?3?5?$CFd?$AA@
  00511	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00517	83 c4 08	 add	 esp, 8

; 192  : 		return;

  0051a	eb 61		 jmp	 SHORT $LN7@ExDataServ@2
$LN6@ExDataServ@2:

; 193  : 	}
; 194  : 
; 195  : 	for (int i=0;i<OBJMAX;i++)

  0051c	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _i$231949[ebp], 0
  00523	eb 09		 jmp	 SHORT $LN5@ExDataServ@2
$LN4@ExDataServ@2:
  00525	8b 45 fc	 mov	 eax, DWORD PTR _i$231949[ebp]
  00528	83 c0 01	 add	 eax, 1
  0052b	89 45 fc	 mov	 DWORD PTR _i$231949[ebp], eax
$LN5@ExDataServ@2:
  0052e	81 7d fc 98 3a
	00 00		 cmp	 DWORD PTR _i$231949[ebp], 15000 ; 00003a98H
  00535	7d 46		 jge	 SHORT $LN7@ExDataServ@2

; 196  : 	{
; 197  : 		if ( gObjIsConnectedGP(i) == TRUE )

  00537	8b 45 fc	 mov	 eax, DWORD PTR _i$231949[ebp]
  0053a	50		 push	 eax
  0053b	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  00540	83 c4 04	 add	 esp, 4
  00543	83 f8 01	 cmp	 eax, 1
  00546	75 33		 jne	 SHORT $LN2@ExDataServ@2

; 198  : 		{
; 199  : 			if ( gObj[i].m_FriendServerOnline == FRIEND_SERVER_STATE_OFFLINE )

  00548	8b 45 fc	 mov	 eax, DWORD PTR _i$231949[ebp]
  0054b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00551	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00557	0f b6 94 01 70
	03 00 00	 movzx	 edx, BYTE PTR [ecx+eax+880]
  0055f	83 fa 01	 cmp	 edx, 1
  00562	75 17		 jne	 SHORT $LN2@ExDataServ@2

; 200  : 			{
; 201  : 				gObj[i].m_FriendServerOnline = FALSE;

  00564	8b 45 fc	 mov	 eax, DWORD PTR _i$231949[ebp]
  00567	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0056d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00573	c6 84 01 70 03
	00 00 00	 mov	 BYTE PTR [ecx+eax+880], 0
$LN2@ExDataServ@2:

; 202  : 			}
; 203  : 		}
; 204  : 	}

  0057b	eb a8		 jmp	 SHORT $LN4@ExDataServ@2
$LN7@ExDataServ@2:

; 205  : 	
; 206  : }

  0057d	5f		 pop	 edi
  0057e	5e		 pop	 esi
  0057f	5b		 pop	 ebx
  00580	8b e5		 mov	 esp, ebp
  00582	5d		 pop	 ebp
  00583	c3		 ret	 0
?ExDataServerLoginResult@@YAXPAUSDHP_RESULT@@@Z ENDP	; ExDataServerLoginResult
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	?CloseMember@CGuildClass@@QAEHPAD0@Z:PROC	; CGuildClass::CloseMember
EXTRN	?Guild@@3VCGuildClass@@A:BYTE			; Guild
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_szGuildName$ = -28					; size = 9
_szName$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?GDCharCloseRecv@@YAXPAUSDHP_USERCLOSE@@@Z PROC		; GDCharCloseRecv

; 209  : {

  00590	55		 push	 ebp
  00591	8b ec		 mov	 ebp, esp
  00593	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00596	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0059b	33 c5		 xor	 eax, ebp
  0059d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  005a0	53		 push	 ebx
  005a1	56		 push	 esi
  005a2	57		 push	 edi

; 210  : 	char szName[MAX_ACCOUNT_LEN+1];
; 211  : 	char szGuildName[MAX_GUILD_LEN+1];
; 212  : 
; 213  : 	memset(szName, 0, sizeof(szName));

  005a3	6a 0b		 push	 11			; 0000000bH
  005a5	6a 00		 push	 0
  005a7	8d 45 f0	 lea	 eax, DWORD PTR _szName$[ebp]
  005aa	50		 push	 eax
  005ab	e8 00 00 00 00	 call	 _memset
  005b0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 214  : 	memset(szGuildName, 0, sizeof(szGuildName));

  005b3	6a 09		 push	 9
  005b5	6a 00		 push	 0
  005b7	8d 45 e4	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  005ba	50		 push	 eax
  005bb	e8 00 00 00 00	 call	 _memset
  005c0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 215  : 	memcpy(szName, lpMsg->CharName, sizeof(lpMsg->CharName));

  005c3	6a 0a		 push	 10			; 0000000aH
  005c5	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  005c8	83 c0 03	 add	 eax, 3
  005cb	50		 push	 eax
  005cc	8d 4d f0	 lea	 ecx, DWORD PTR _szName$[ebp]
  005cf	51		 push	 ecx
  005d0	e8 00 00 00 00	 call	 _memcpy
  005d5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 216  : 	memcpy(szGuildName, lpMsg->GuildName, sizeof(lpMsg->GuildName));

  005d8	6a 08		 push	 8
  005da	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  005dd	83 c0 0d	 add	 eax, 13			; 0000000dH
  005e0	50		 push	 eax
  005e1	8d 4d e4	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  005e4	51		 push	 ecx
  005e5	e8 00 00 00 00	 call	 _memcpy
  005ea	83 c4 0c	 add	 esp, 12			; 0000000cH

; 217  : 
; 218  : 	Guild.CloseMember(szGuildName, szName);

  005ed	8d 45 f0	 lea	 eax, DWORD PTR _szName$[ebp]
  005f0	50		 push	 eax
  005f1	8d 4d e4	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  005f4	51		 push	 ecx
  005f5	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  005fa	e8 00 00 00 00	 call	 ?CloseMember@CGuildClass@@QAEHPAD0@Z ; CGuildClass::CloseMember

; 219  : }

  005ff	5f		 pop	 edi
  00600	5e		 pop	 esi
  00601	5b		 pop	 ebx
  00602	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00605	33 cd		 xor	 ecx, ebp
  00607	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0060c	8b e5		 mov	 esp, ebp
  0060e	5d		 pop	 ebp
  0060f	c3		 ret	 0
?GDCharCloseRecv@@YAXPAUSDHP_USERCLOSE@@@Z ENDP		; GDCharCloseRecv
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDGuildCreateSend@@YAXHPAD0PAEH@Z		; GDGuildCreateSend
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -64						; size = 58
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_Name$ = 12						; size = 4
_Master$ = 16						; size = 4
_Mark$ = 20						; size = 4
_iGuildType$ = 24					; size = 4
?GDGuildCreateSend@@YAXHPAD0PAEH@Z PROC			; GDGuildCreateSend

; 233  : {

  00610	55		 push	 ebp
  00611	8b ec		 mov	 ebp, esp
  00613	81 ec 80 00 00
	00		 sub	 esp, 128		; 00000080H
  00619	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0061e	33 c5		 xor	 eax, ebp
  00620	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00623	53		 push	 ebx
  00624	56		 push	 esi
  00625	57		 push	 edi

; 234  : 	SDHP_GUILDCREATE pMsg;
; 235  : 
; 236  : 	pMsg.h.c = 0xC1;

  00626	c6 45 c0 c1	 mov	 BYTE PTR _pMsg$[ebp], 193 ; 000000c1H

; 237  : 	pMsg.h.headcode = 0x30;

  0062a	c6 45 c2 30	 mov	 BYTE PTR _pMsg$[ebp+2], 48 ; 00000030H

; 238  : 	pMsg.h.size = sizeof(pMsg);

  0062e	c6 45 c1 3a	 mov	 BYTE PTR _pMsg$[ebp+1], 58 ; 0000003aH

; 239  : 
; 240  : 	memcpy(pMsg.Mark, Mark, sizeof(pMsg.Mark));

  00632	6a 20		 push	 32			; 00000020H
  00634	8b 45 14	 mov	 eax, DWORD PTR _Mark$[ebp]
  00637	50		 push	 eax
  00638	8d 4d d7	 lea	 ecx, DWORD PTR _pMsg$[ebp+23]
  0063b	51		 push	 ecx
  0063c	e8 00 00 00 00	 call	 _memcpy
  00641	83 c4 0c	 add	 esp, 12			; 0000000cH

; 241  : 	pMsg.Master[MAX_ACCOUNT_LEN] = 0;

  00644	c6 45 d6 00	 mov	 BYTE PTR _pMsg$[ebp+22], 0

; 242  : 	pMsg.GuildName[MAX_GUILD_LEN] = 0;

  00648	c6 45 cb 00	 mov	 BYTE PTR _pMsg$[ebp+11], 0

; 243  : 	memcpy(pMsg.Master, Master, MAX_ACCOUNT_LEN);

  0064c	6a 0a		 push	 10			; 0000000aH
  0064e	8b 45 10	 mov	 eax, DWORD PTR _Master$[ebp]
  00651	50		 push	 eax
  00652	8d 4d cc	 lea	 ecx, DWORD PTR _pMsg$[ebp+12]
  00655	51		 push	 ecx
  00656	e8 00 00 00 00	 call	 _memcpy
  0065b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 244  : 	memcpy(pMsg.GuildName, Name, MAX_GUILD_LEN);

  0065e	6a 08		 push	 8
  00660	8b 45 0c	 mov	 eax, DWORD PTR _Name$[ebp]
  00663	50		 push	 eax
  00664	8d 4d c3	 lea	 ecx, DWORD PTR _pMsg$[ebp+3]
  00667	51		 push	 ecx
  00668	e8 00 00 00 00	 call	 _memcpy
  0066d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 245  : 	pMsg.NumberH = SET_NUMBERH(aIndex);

  00670	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00673	c1 e8 08	 shr	 eax, 8
  00676	88 45 f7	 mov	 BYTE PTR _pMsg$[ebp+55], al

; 246  : 	pMsg.NumberL = SET_NUMBERL(aIndex);

  00679	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0067c	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00681	88 45 f8	 mov	 BYTE PTR _pMsg$[ebp+56], al

; 247  : 	pMsg.btGuildType = iGuildType;

  00684	8a 45 18	 mov	 al, BYTE PTR _iGuildType$[ebp]
  00687	88 45 f9	 mov	 BYTE PTR _pMsg$[ebp+57], al

; 248  : 
; 249  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  0068a	0f b6 45 c1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0068e	50		 push	 eax
  0068f	8d 4d c0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  00692	51		 push	 ecx
  00693	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00698	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 250  : }

  0069d	5f		 pop	 edi
  0069e	5e		 pop	 esi
  0069f	5b		 pop	 ebx
  006a0	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  006a3	33 cd		 xor	 ecx, ebp
  006a5	e8 00 00 00 00	 call	 @__security_check_cookie@4
  006aa	8b e5		 mov	 esp, ebp
  006ac	5d		 pop	 ebp
  006ad	c3		 ret	 0
?GDGuildCreateSend@@YAXHPAD0PAEH@Z ENDP			; GDGuildCreateSend
_TEXT	ENDS
PUBLIC	??_C@_0DE@PMHJKKOP@?$FLU?4System?$FN?5Guild?5is?5Created?5?9?5Gu@ ; `string'
PUBLIC	__$ArrayPad$
EXTRN	?GCGuildViewportNowPaint@@YAXHPADPAEH@Z:PROC	; GCGuildViewportNowPaint
EXTRN	?LogAdd@@3P6AXPADZZA:DWORD			; LogAdd
EXTRN	?Get@CMsg@@QAEPADH@Z:PROC			; CMsg::Get
EXTRN	?lMsg@@3VCMsg@@A:BYTE				; lMsg
EXTRN	?AddGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@HPADPAE0H@Z:PROC ; CGuildClass::AddGuild
EXTRN	_strcmp:PROC
EXTRN	?gObjIsConnected@@YAHH@Z:PROC			; gObjIsConnected
EXTRN	?DataSend@@YAHHPAEK@Z:PROC			; DataSend
EXTRN	?PHeadSetB@@YAXPAEEH@Z:PROC			; PHeadSetB
;	COMDAT ??_C@_0DE@PMHJKKOP@?$FLU?4System?$FN?5Guild?5is?5Created?5?9?5Gu@
CONST	SEGMENT
??_C@_0DE@PMHJKKOP@?$FLU?4System?$FN?5Guild?5is?5Created?5?9?5Gu@ DB '[U.'
	DB	'System] Guild is Created - Guild : %s / [%s][%s]', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_pResult$232000 = -52					; size = 5
_szGuildName$ = -44					; size = 9
_szMaster$ = -32					; size = 11
_lpNode$ = -20						; size = 4
_pMsg$ = -16						; size = 5
_aIndex$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?GDGuildCreateRecv@@YAXPAUSDHP_GUILDCREATE_RESULT@@@Z PROC ; GDGuildCreateRecv

; 253  : {

  006b0	55		 push	 ebp
  006b1	8b ec		 mov	 ebp, esp
  006b3	83 ec 74	 sub	 esp, 116		; 00000074H
  006b6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  006bb	33 c5		 xor	 eax, ebp
  006bd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  006c0	53		 push	 ebx
  006c1	56		 push	 esi
  006c2	57		 push	 edi

; 254  : 	int aIndex = -1;

  006c3	c7 45 f8 ff ff
	ff ff		 mov	 DWORD PTR _aIndex$[ebp], -1

; 255  : 	PMSG_GUILDCREATED_RESULT pMsg;
; 256  : 	_GUILD_INFO_STRUCT * lpNode;
; 257  : 	char szMaster[MAX_ACCOUNT_LEN+1];
; 258  : 	char szGuildName[MAX_GUILD_LEN+1];
; 259  : 
; 260  : 	szMaster[MAX_ACCOUNT_LEN] = 0;

  006ca	c6 45 ea 00	 mov	 BYTE PTR _szMaster$[ebp+10], 0

; 261  : 	szGuildName[MAX_GUILD_LEN] = 0;

  006ce	c6 45 dc 00	 mov	 BYTE PTR _szGuildName$[ebp+8], 0

; 262  : 	memcpy(szMaster, lpMsg->Master, MAX_ACCOUNT_LEN);

  006d2	6a 0a		 push	 10			; 0000000aH
  006d4	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  006d7	83 c0 0e	 add	 eax, 14			; 0000000eH
  006da	50		 push	 eax
  006db	8d 4d e0	 lea	 ecx, DWORD PTR _szMaster$[ebp]
  006de	51		 push	 ecx
  006df	e8 00 00 00 00	 call	 _memcpy
  006e4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 263  : 	memcpy(szGuildName, lpMsg->GuildName, MAX_GUILD_LEN);

  006e7	6a 08		 push	 8
  006e9	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  006ec	83 c0 19	 add	 eax, 25			; 00000019H
  006ef	50		 push	 eax
  006f0	8d 4d d4	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  006f3	51		 push	 ecx
  006f4	e8 00 00 00 00	 call	 _memcpy
  006f9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 264  : 
; 265  : 	if (lpMsg->Result == 0 )

  006fc	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  006ff	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  00703	85 c9		 test	 ecx, ecx
  00705	0f 85 d0 00 00
	00		 jne	 $LN8@GDGuildCre

; 266  : 	{
; 267  : 		aIndex = MAKE_NUMBERW(lpMsg->NumberH, lpMsg->NumberL);

  0070b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0070e	0f b6 48 0d	 movzx	 ecx, BYTE PTR [eax+13]
  00712	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  00718	0f b6 d1	 movzx	 edx, cl
  0071b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0071e	0f b6 48 0c	 movzx	 ecx, BYTE PTR [eax+12]
  00722	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  00728	0f b6 c1	 movzx	 eax, cl
  0072b	c1 e0 08	 shl	 eax, 8
  0072e	0b d0		 or	 edx, eax
  00730	0f b7 ca	 movzx	 ecx, dx
  00733	89 4d f8	 mov	 DWORD PTR _aIndex$[ebp], ecx

; 268  : 
; 269  : 		PMSG_GUILDCREATED_RESULT pResult;
; 270  : 
; 271  : 		PHeadSetB((LPBYTE)&pResult, 0x56, sizeof(pResult));

  00736	6a 05		 push	 5
  00738	6a 56		 push	 86			; 00000056H
  0073a	8d 45 cc	 lea	 eax, DWORD PTR _pResult$232000[ebp]
  0073d	50		 push	 eax
  0073e	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  00743	83 c4 0c	 add	 esp, 12			; 0000000cH

; 272  : 		pResult.Result = G_ERROR_NONE;

  00746	c6 45 cf 00	 mov	 BYTE PTR _pResult$232000[ebp+3], 0

; 273  : 		pResult.btGuildType = lpMsg->btGuildType;

  0074a	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0074d	8a 48 42	 mov	 cl, BYTE PTR [eax+66]
  00750	88 4d d0	 mov	 BYTE PTR _pResult$232000[ebp+4], cl

; 274  : 
; 275  : 		DataSend(aIndex, (LPBYTE)&pResult, pResult.h.size);

  00753	0f b6 45 cd	 movzx	 eax, BYTE PTR _pResult$232000[ebp+1]
  00757	50		 push	 eax
  00758	8d 4d cc	 lea	 ecx, DWORD PTR _pResult$232000[ebp]
  0075b	51		 push	 ecx
  0075c	8b 55 f8	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0075f	52		 push	 edx
  00760	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  00765	83 c4 0c	 add	 esp, 12			; 0000000cH

; 276  : 
; 277  : 		if ( gObj[aIndex].m_IfState.use != 0 && gObj[aIndex].m_IfState.type == 5 )

  00768	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0076b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00771	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00777	8b 94 01 1c 0e
	00 00		 mov	 edx, DWORD PTR [ecx+eax+3612]
  0077e	83 e2 03	 and	 edx, 3
  00781	74 53		 je	 SHORT $LN7@GDGuildCre
  00783	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00786	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0078c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00792	8b 94 01 1c 0e
	00 00		 mov	 edx, DWORD PTR [ecx+eax+3612]
  00799	c1 ea 06	 shr	 edx, 6
  0079c	81 e2 ff 03 00
	00		 and	 edx, 1023		; 000003ffH
  007a2	83 fa 05	 cmp	 edx, 5
  007a5	75 2f		 jne	 SHORT $LN7@GDGuildCre

; 278  : 		{
; 279  : 			gObj[aIndex].m_IfState.use = 0;

  007a7	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  007aa	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  007b0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  007b6	8b 94 01 1c 0e
	00 00		 mov	 edx, DWORD PTR [ecx+eax+3612]
  007bd	83 e2 fc	 and	 edx, -4			; fffffffcH
  007c0	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  007c3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  007c9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  007cf	89 94 01 1c 0e
	00 00		 mov	 DWORD PTR [ecx+eax+3612], edx
$LN7@GDGuildCre:

; 280  : 		}
; 281  : 		return;

  007d6	e9 1e 02 00 00	 jmp	 $LN9@GDGuildCre
$LN8@GDGuildCre:

; 282  : 	}
; 283  : 
; 284  : 	if ( lpMsg->Flag == 1 )

  007db	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  007de	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  007e2	83 f9 01	 cmp	 ecx, 1
  007e5	0f 85 af 00 00
	00		 jne	 $LN6@GDGuildCre

; 285  : 	{
; 286  : 		aIndex = MAKE_NUMBERW(lpMsg->NumberH, lpMsg->NumberL);

  007eb	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  007ee	0f b6 48 0d	 movzx	 ecx, BYTE PTR [eax+13]
  007f2	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  007f8	0f b6 d1	 movzx	 edx, cl
  007fb	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  007fe	0f b6 48 0c	 movzx	 ecx, BYTE PTR [eax+12]
  00802	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  00808	0f b6 c1	 movzx	 eax, cl
  0080b	c1 e0 08	 shl	 eax, 8
  0080e	0b d0		 or	 edx, eax
  00810	0f b7 ca	 movzx	 ecx, dx
  00813	89 4d f8	 mov	 DWORD PTR _aIndex$[ebp], ecx

; 287  : 
; 288  : 		if ( gObjIsConnected(aIndex) == TRUE )

  00816	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00819	50		 push	 eax
  0081a	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  0081f	83 c4 04	 add	 esp, 4
  00822	83 f8 01	 cmp	 eax, 1
  00825	75 73		 jne	 SHORT $LN6@GDGuildCre

; 289  : 		{
; 290  : 			if ( szMaster[0] == gObj[aIndex].Name[0] )

  00827	0f be 45 e0	 movsx	 eax, BYTE PTR _szMaster$[ebp]
  0082b	8b 4d f8	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0082e	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00834	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0083a	0f be 4c 0a 77	 movsx	 ecx, BYTE PTR [edx+ecx+119]
  0083f	3b c1		 cmp	 eax, ecx
  00841	75 57		 jne	 SHORT $LN6@GDGuildCre

; 291  : 			{
; 292  : 				if ( strcmp(szMaster, gObj[aIndex].Name) == 0 )

  00843	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00846	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0084c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00852	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  00856	52		 push	 edx
  00857	8d 45 e0	 lea	 eax, DWORD PTR _szMaster$[ebp]
  0085a	50		 push	 eax
  0085b	e8 00 00 00 00	 call	 _strcmp
  00860	83 c4 08	 add	 esp, 8
  00863	85 c0		 test	 eax, eax
  00865	75 33		 jne	 SHORT $LN6@GDGuildCre

; 293  : 				{
; 294  : 					pMsg.h.c = 0xC1;

  00867	c6 45 f0 c1	 mov	 BYTE PTR _pMsg$[ebp], 193 ; 000000c1H

; 295  : 					pMsg.h.headcode = 0x56;

  0086b	c6 45 f2 56	 mov	 BYTE PTR _pMsg$[ebp+2], 86 ; 00000056H

; 296  : 					pMsg.h.size = sizeof(pMsg);

  0086f	c6 45 f1 05	 mov	 BYTE PTR _pMsg$[ebp+1], 5

; 297  : 					pMsg.Result = lpMsg->Result;

  00873	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00876	8a 48 03	 mov	 cl, BYTE PTR [eax+3]
  00879	88 4d f3	 mov	 BYTE PTR _pMsg$[ebp+3], cl

; 298  : 					pMsg.btGuildType = lpMsg->btGuildType;

  0087c	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0087f	8a 48 42	 mov	 cl, BYTE PTR [eax+66]
  00882	88 4d f4	 mov	 BYTE PTR _pMsg$[ebp+4], cl

; 299  : 
; 300  : 					DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  00885	0f b6 45 f1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  00889	50		 push	 eax
  0088a	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0088d	51		 push	 ecx
  0088e	8b 55 f8	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00891	52		 push	 edx
  00892	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  00897	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN6@GDGuildCre:

; 301  : 				}
; 302  : 			}
; 303  : 		}
; 304  : 	}
; 305  : 
; 306  : 	if ( lpMsg->Result == 1 )

  0089a	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0089d	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  008a1	83 f9 01	 cmp	 ecx, 1
  008a4	0f 85 4f 01 00
	00		 jne	 $LN9@GDGuildCre

; 307  : 	{
; 308  : 		lpNode = Guild.AddGuild(lpMsg->GuildNumber, szGuildName, lpMsg->Mark, szMaster, 0);

  008aa	6a 00		 push	 0
  008ac	8d 45 e0	 lea	 eax, DWORD PTR _szMaster$[ebp]
  008af	50		 push	 eax
  008b0	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  008b3	83 c1 22	 add	 ecx, 34			; 00000022H
  008b6	51		 push	 ecx
  008b7	8d 55 d4	 lea	 edx, DWORD PTR _szGuildName$[ebp]
  008ba	52		 push	 edx
  008bb	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  008be	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  008c1	51		 push	 ecx
  008c2	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  008c7	e8 00 00 00 00	 call	 ?AddGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@HPADPAE0H@Z ; CGuildClass::AddGuild
  008cc	89 45 ec	 mov	 DWORD PTR _lpNode$[ebp], eax

; 309  : 
; 310  : 		if ( aIndex >= 0 && lpNode != NULL )

  008cf	83 7d f8 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  008d3	0f 8c 20 01 00
	00		 jl	 $LN9@GDGuildCre
  008d9	83 7d ec 00	 cmp	 DWORD PTR _lpNode$[ebp], 0
  008dd	0f 84 16 01 00
	00		 je	 $LN9@GDGuildCre

; 311  : 		{
; 312  : 			gObj[aIndex].lpGuild = lpNode;

  008e3	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  008e6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  008ec	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  008f2	8b 55 ec	 mov	 edx, DWORD PTR _lpNode$[ebp]
  008f5	89 94 01 38 04
	00 00		 mov	 DWORD PTR [ecx+eax+1080], edx

; 313  : 			gObj[aIndex].GuildNumber = lpMsg->GuildNumber;

  008fc	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  008ff	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00905	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0090b	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  0090e	8b 52 08	 mov	 edx, DWORD PTR [edx+8]
  00911	89 94 01 34 04
	00 00		 mov	 DWORD PTR [ecx+eax+1076], edx

; 314  : 			gObj[aIndex].GuildStatus = G_MASTER;

  00918	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0091b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00921	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00927	c7 84 01 48 04
	00 00 80 00 00
	00		 mov	 DWORD PTR [ecx+eax+1096], 128 ; 00000080H

; 315  : 			lpNode->iGuildRival = 0;

  00932	8b 45 ec	 mov	 eax, DWORD PTR _lpNode$[ebp]
  00935	c7 80 20 07 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+1824], 0

; 316  : 			lpNode->iGuildUnion = 0;

  0093f	8b 45 ec	 mov	 eax, DWORD PTR _lpNode$[ebp]
  00942	c7 80 1c 07 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+1820], 0

; 317  : 			lpNode->iTimeStamp = 0;

  0094c	8b 45 ec	 mov	 eax, DWORD PTR _lpNode$[ebp]
  0094f	c7 80 24 07 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+1828], 0

; 318  : 			gObj[aIndex].iGuildUnionTimeStamp = 0;

  00959	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0095c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00962	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00968	c7 84 01 4c 04
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+1100], 0

; 319  : 
; 320  : 			LogAddTD("[U.System] Guild is Created - Guild : %s / [%s][%s]",
; 321  : 				szGuildName, gObj[aIndex].AccountID, gObj[aIndex].Name);

  00973	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00976	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0097c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00982	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  00986	52		 push	 edx
  00987	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0098a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00990	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00996	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  0099a	52		 push	 edx
  0099b	8d 45 d4	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  0099e	50		 push	 eax
  0099f	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@PMHJKKOP@?$FLU?4System?$FN?5Guild?5is?5Created?5?9?5Gu@
  009a4	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  009aa	83 c4 10	 add	 esp, 16			; 00000010H

; 322  : 
; 323  : 			LogAdd(lMsg.Get(MSGGET(1, 177)), lpNode->WarState, lpNode->WarDeclareState, szGuildName);

  009ad	8d 45 d4	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  009b0	50		 push	 eax
  009b1	8b 4d ec	 mov	 ecx, DWORD PTR _lpNode$[ebp]
  009b4	0f b6 91 90 05
	00 00		 movzx	 edx, BYTE PTR [ecx+1424]
  009bb	52		 push	 edx
  009bc	8b 45 ec	 mov	 eax, DWORD PTR _lpNode$[ebp]
  009bf	0f b6 88 91 05
	00 00		 movzx	 ecx, BYTE PTR [eax+1425]
  009c6	51		 push	 ecx
  009c7	68 b1 01 00 00	 push	 433			; 000001b1H
  009cc	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  009d1	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  009d6	50		 push	 eax
  009d7	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  009dd	83 c4 10	 add	 esp, 16			; 00000010H

; 324  : 			::GCGuildViewportNowPaint(aIndex, szGuildName, lpMsg->Mark, TRUE);

  009e0	6a 01		 push	 1
  009e2	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  009e5	83 c0 22	 add	 eax, 34			; 00000022H
  009e8	50		 push	 eax
  009e9	8d 4d d4	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  009ec	51		 push	 ecx
  009ed	8b 55 f8	 mov	 edx, DWORD PTR _aIndex$[ebp]
  009f0	52		 push	 edx
  009f1	e8 00 00 00 00	 call	 ?GCGuildViewportNowPaint@@YAXHPADPAEH@Z ; GCGuildViewportNowPaint
  009f6	83 c4 10	 add	 esp, 16			; 00000010H
$LN9@GDGuildCre:

; 325  : 		}
; 326  : 	}
; 327  : }

  009f9	5f		 pop	 edi
  009fa	5e		 pop	 esi
  009fb	5b		 pop	 ebx
  009fc	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  009ff	33 cd		 xor	 ecx, ebp
  00a01	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00a06	8b e5		 mov	 esp, ebp
  00a08	5d		 pop	 ebp
  00a09	c3		 ret	 0
?GDGuildCreateRecv@@YAXPAUSDHP_GUILDCREATE_RESULT@@@Z ENDP ; GDGuildCreateRecv
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDGuildDestroySend@@YAXHPAD0@Z			; GDGuildDestroySend
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -28						; size = 23
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_Name$ = 12						; size = 4
_Master$ = 16						; size = 4
?GDGuildDestroySend@@YAXHPAD0@Z PROC			; GDGuildDestroySend

; 339  : {

  00a10	55		 push	 ebp
  00a11	8b ec		 mov	 ebp, esp
  00a13	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00a16	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00a1b	33 c5		 xor	 eax, ebp
  00a1d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00a20	53		 push	 ebx
  00a21	56		 push	 esi
  00a22	57		 push	 edi

; 340  : 	SDHP_GUILDDESTROY pMsg;
; 341  : 
; 342  : 	pMsg.h.c = 0xC1;

  00a23	c6 45 e4 c1	 mov	 BYTE PTR _pMsg$[ebp], 193 ; 000000c1H

; 343  : 	pMsg.h.headcode = 0x31;

  00a27	c6 45 e6 31	 mov	 BYTE PTR _pMsg$[ebp+2], 49 ; 00000031H

; 344  : 	pMsg.h.size = sizeof(pMsg);

  00a2b	c6 45 e5 17	 mov	 BYTE PTR _pMsg$[ebp+1], 23 ; 00000017H

; 345  : 	pMsg.NumberH = SET_NUMBERH(aIndex);

  00a2f	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00a32	c1 e8 08	 shr	 eax, 8
  00a35	88 45 e7	 mov	 BYTE PTR _pMsg$[ebp+3], al

; 346  : 	pMsg.NumberL = SET_NUMBERL(aIndex);

  00a38	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00a3b	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00a40	88 45 e8	 mov	 BYTE PTR _pMsg$[ebp+4], al

; 347  : 	memcpy(pMsg.Master, Master, sizeof(pMsg.Master));

  00a43	6a 0a		 push	 10			; 0000000aH
  00a45	8b 45 10	 mov	 eax, DWORD PTR _Master$[ebp]
  00a48	50		 push	 eax
  00a49	8d 4d f1	 lea	 ecx, DWORD PTR _pMsg$[ebp+13]
  00a4c	51		 push	 ecx
  00a4d	e8 00 00 00 00	 call	 _memcpy
  00a52	83 c4 0c	 add	 esp, 12			; 0000000cH

; 348  : 	memcpy(pMsg.GuildName, Name, sizeof(pMsg.GuildName));

  00a55	6a 08		 push	 8
  00a57	8b 45 0c	 mov	 eax, DWORD PTR _Name$[ebp]
  00a5a	50		 push	 eax
  00a5b	8d 4d e9	 lea	 ecx, DWORD PTR _pMsg$[ebp+5]
  00a5e	51		 push	 ecx
  00a5f	e8 00 00 00 00	 call	 _memcpy
  00a64	83 c4 0c	 add	 esp, 12			; 0000000cH

; 349  : 
; 350  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00a67	0f b6 45 e5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  00a6b	50		 push	 eax
  00a6c	8d 4d e4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  00a6f	51		 push	 ecx
  00a70	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00a75	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 351  : }

  00a7a	5f		 pop	 edi
  00a7b	5e		 pop	 esi
  00a7c	5b		 pop	 ebx
  00a7d	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00a80	33 cd		 xor	 ecx, ebp
  00a82	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00a87	8b e5		 mov	 esp, ebp
  00a89	5d		 pop	 ebp
  00a8a	c3		 ret	 0
?GDGuildDestroySend@@YAXHPAD0@Z ENDP			; GDGuildDestroySend
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	?DeleteGuild@CGuildClass@@QAEHPAD0@Z:PROC	; CGuildClass::DeleteGuild
EXTRN	?DelUnion@TUnion@@QAEHH@Z:PROC			; TUnion::DelUnion
EXTRN	?UnionManager@@3VTUnion@@A:BYTE			; UnionManager
EXTRN	?gObjNotifyUpdateUnionV2@@YAXPAUOBJECTSTRUCT@@@Z:PROC ; gObjNotifyUpdateUnionV2
EXTRN	?gObjNotifyUpdateUnionV1@@YAXPAUOBJECTSTRUCT@@@Z:PROC ; gObjNotifyUpdateUnionV1
EXTRN	?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z:PROC ; CGuildClass::SearchGuild_Number
EXTRN	?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z:PROC ; CGuildClass::SearchGuild
EXTRN	?GCGuildViewportDelNow@@YAXHH@Z:PROC		; GCGuildViewportDelNow
EXTRN	?GCResultSend@@YAXHEE@Z:PROC			; GCResultSend
EXTRN	?GDDelGuildWarehouseList@CGuildBank@@QAEXH@Z:PROC ; CGuildBank::GDDelGuildWarehouseList
EXTRN	?g_GuildBank@@3VCGuildBank@@A:BYTE		; g_GuildBank
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpObj$232066 = -52					; size = 4
_iGuildMemberIndex$232064 = -48				; size = 4
_n$232060 = -44						; size = 4
_lpRival$232058 = -40					; size = 4
_lpGuild$232056 = -36					; size = 4
_szGuildName$ = -32					; size = 9
_szMaster$ = -20					; size = 11
_aIndex$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?GDGuildDestroyRecv@@YAXPAUSDHP_GUILDDESTROY_RESULT@@@Z PROC ; GDGuildDestroyRecv

; 354  : {

  00a90	55		 push	 ebp
  00a91	8b ec		 mov	 ebp, esp
  00a93	83 ec 74	 sub	 esp, 116		; 00000074H
  00a96	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00a9b	33 c5		 xor	 eax, ebp
  00a9d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00aa0	53		 push	 ebx
  00aa1	56		 push	 esi
  00aa2	57		 push	 edi

; 355  : 	int aIndex = -1;

  00aa3	c7 45 f8 ff ff
	ff ff		 mov	 DWORD PTR _aIndex$[ebp], -1

; 356  : 	char szMaster[MAX_ACCOUNT_LEN+1];
; 357  : 	char szGuildName[MAX_GUILD_LEN+1];
; 358  : 	szMaster[MAX_ACCOUNT_LEN] = 0;

  00aaa	c6 45 f6 00	 mov	 BYTE PTR _szMaster$[ebp+10], 0

; 359  : 	szGuildName[MAX_GUILD_LEN] = 0;

  00aae	c6 45 e8 00	 mov	 BYTE PTR _szGuildName$[ebp+8], 0

; 360  : 
; 361  : 	memcpy(szMaster, lpMsg->Master, MAX_ACCOUNT_LEN);

  00ab2	6a 0a		 push	 10			; 0000000aH
  00ab4	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00ab7	83 c0 10	 add	 eax, 16			; 00000010H
  00aba	50		 push	 eax
  00abb	8d 4d ec	 lea	 ecx, DWORD PTR _szMaster$[ebp]
  00abe	51		 push	 ecx
  00abf	e8 00 00 00 00	 call	 _memcpy
  00ac4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 362  : 	memcpy(szGuildName, lpMsg->GuildName, MAX_GUILD_LEN);

  00ac7	6a 08		 push	 8
  00ac9	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00acc	83 c0 07	 add	 eax, 7
  00acf	50		 push	 eax
  00ad0	8d 4d e0	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  00ad3	51		 push	 ecx
  00ad4	e8 00 00 00 00	 call	 _memcpy
  00ad9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 363  : 
; 364  : 	if ( lpMsg->Flag == 1 )

  00adc	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00adf	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  00ae3	83 f9 01	 cmp	 ecx, 1
  00ae6	0f 85 ca 00 00
	00		 jne	 $LN16@GDGuildDes

; 365  : 	{
; 366  : 		aIndex = MAKE_NUMBERW(lpMsg->NumberH, lpMsg->NumberL);

  00aec	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00aef	0f b6 48 06	 movzx	 ecx, BYTE PTR [eax+6]
  00af3	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  00af9	0f b6 d1	 movzx	 edx, cl
  00afc	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00aff	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  00b03	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  00b09	0f b6 c1	 movzx	 eax, cl
  00b0c	c1 e0 08	 shl	 eax, 8
  00b0f	0b d0		 or	 edx, eax
  00b11	0f b7 ca	 movzx	 ecx, dx
  00b14	89 4d f8	 mov	 DWORD PTR _aIndex$[ebp], ecx

; 367  : 
; 368  : 		if ( gObjIsConnected(aIndex) == TRUE )

  00b17	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00b1a	50		 push	 eax
  00b1b	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00b20	83 c4 04	 add	 esp, 4
  00b23	83 f8 01	 cmp	 eax, 1
  00b26	0f 85 8a 00 00
	00		 jne	 $LN16@GDGuildDes

; 369  : 		{
; 370  : 			if ( szMaster[0] == gObj[aIndex].Name[0] )

  00b2c	0f be 45 ec	 movsx	 eax, BYTE PTR _szMaster$[ebp]
  00b30	8b 4d f8	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  00b33	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  00b39	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b3f	0f be 4c 0a 77	 movsx	 ecx, BYTE PTR [edx+ecx+119]
  00b44	3b c1		 cmp	 eax, ecx
  00b46	75 6e		 jne	 SHORT $LN16@GDGuildDes

; 371  : 			{
; 372  : 				if ( strcmp(szMaster, gObj[aIndex].Name) == 0 )

  00b48	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00b4b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00b51	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00b57	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  00b5b	52		 push	 edx
  00b5c	8d 45 ec	 lea	 eax, DWORD PTR _szMaster$[ebp]
  00b5f	50		 push	 eax
  00b60	e8 00 00 00 00	 call	 _strcmp
  00b65	83 c4 08	 add	 esp, 8
  00b68	85 c0		 test	 eax, eax
  00b6a	75 4a		 jne	 SHORT $LN16@GDGuildDes

; 373  : 				{
; 374  : #if(DEV_GUILDBANK)					
; 375  : 					g_GuildBank.GDDelGuildWarehouseList(aIndex);

  00b6c	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00b6f	50		 push	 eax
  00b70	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_GuildBank@@3VCGuildBank@@A ; g_GuildBank
  00b75	e8 00 00 00 00	 call	 ?GDDelGuildWarehouseList@CGuildBank@@QAEXH@Z ; CGuildBank::GDDelGuildWarehouseList

; 376  : #endif					
; 377  : 					GCResultSend(aIndex, 0x53, lpMsg->Result);

  00b7a	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00b7d	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  00b81	51		 push	 ecx
  00b82	6a 53		 push	 83			; 00000053H
  00b84	8b 55 f8	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00b87	52		 push	 edx
  00b88	e8 00 00 00 00	 call	 ?GCResultSend@@YAXHEE@Z	; GCResultSend
  00b8d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 378  : 
; 379  : 					if ( lpMsg->Result == 1 || lpMsg->Result == 4 )

  00b90	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00b93	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  00b97	83 f9 01	 cmp	 ecx, 1
  00b9a	74 0c		 je	 SHORT $LN11@GDGuildDes
  00b9c	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00b9f	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  00ba3	83 f9 04	 cmp	 ecx, 4
  00ba6	75 0e		 jne	 SHORT $LN16@GDGuildDes
$LN11@GDGuildDes:

; 380  : 					{
; 381  : 						GCGuildViewportDelNow(aIndex, TRUE);

  00ba8	6a 01		 push	 1
  00baa	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00bad	50		 push	 eax
  00bae	e8 00 00 00 00	 call	 ?GCGuildViewportDelNow@@YAXHH@Z ; GCGuildViewportDelNow
  00bb3	83 c4 08	 add	 esp, 8
$LN16@GDGuildDes:

; 382  : 					}
; 383  : 				}
; 384  : 			}
; 385  : 		}
; 386  : 	}
; 387  : 
; 388  : 	if ( lpMsg->Result == 1 || lpMsg->Result == 4)

  00bb6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00bb9	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  00bbd	83 f9 01	 cmp	 ecx, 1
  00bc0	74 10		 je	 SHORT $LN9@GDGuildDes
  00bc2	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00bc5	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  00bc9	83 f9 04	 cmp	 ecx, 4
  00bcc	0f 85 bf 01 00
	00		 jne	 $LN17@GDGuildDes
$LN9@GDGuildDes:

; 389  : 	{
; 390  : 		_GUILD_INFO_STRUCT * lpGuild = Guild.SearchGuild(szGuildName);

  00bd2	8d 45 e0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  00bd5	50		 push	 eax
  00bd6	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00bdb	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  00be0	89 45 dc	 mov	 DWORD PTR _lpGuild$232056[ebp], eax

; 391  : 
; 392  : 		if ( lpGuild == NULL )

  00be3	83 7d dc 00	 cmp	 DWORD PTR _lpGuild$232056[ebp], 0
  00be7	75 05		 jne	 SHORT $LN8@GDGuildDes

; 393  : 		{
; 394  : 			return;

  00be9	e9 a3 01 00 00	 jmp	 $LN17@GDGuildDes
$LN8@GDGuildDes:

; 395  : 		}
; 396  : 
; 397  : 		_GUILD_INFO_STRUCT * lpRival = Guild.SearchGuild_Number(lpGuild->iGuildRival);

  00bee	8b 45 dc	 mov	 eax, DWORD PTR _lpGuild$232056[ebp]
  00bf1	8b 88 20 07 00
	00		 mov	 ecx, DWORD PTR [eax+1824]
  00bf7	51		 push	 ecx
  00bf8	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00bfd	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  00c02	89 45 d8	 mov	 DWORD PTR _lpRival$232058[ebp], eax

; 398  : 
; 399  : 		if ( lpRival != NULL )

  00c05	83 7d d8 00	 cmp	 DWORD PTR _lpRival$232058[ebp], 0
  00c09	74 17		 je	 SHORT $LN7@GDGuildDes

; 400  : 		{
; 401  : 			lpRival->iGuildRival = 0;

  00c0b	8b 45 d8	 mov	 eax, DWORD PTR _lpRival$232058[ebp]
  00c0e	c7 80 20 07 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+1824], 0

; 402  : 			lpRival->szGuildRivalName[0] = 0;

  00c18	8b 45 d8	 mov	 eax, DWORD PTR _lpRival$232058[ebp]
  00c1b	c6 80 28 07 00
	00 00		 mov	 BYTE PTR [eax+1832], 0
$LN7@GDGuildDes:

; 403  : 		}
; 404  : 
; 405  : 		lpGuild->iGuildUnion = 0;

  00c22	8b 45 dc	 mov	 eax, DWORD PTR _lpGuild$232056[ebp]
  00c25	c7 80 1c 07 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+1820], 0

; 406  : 		lpGuild->iGuildRival = 0;

  00c2f	8b 45 dc	 mov	 eax, DWORD PTR _lpGuild$232056[ebp]
  00c32	c7 80 20 07 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+1824], 0

; 407  : 
; 408  : 		for ( int n=0;n<MAX_USER_GUILD;n++)

  00c3c	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _n$232060[ebp], 0
  00c43	eb 09		 jmp	 SHORT $LN6@GDGuildDes
$LN5@GDGuildDes:
  00c45	8b 45 d4	 mov	 eax, DWORD PTR _n$232060[ebp]
  00c48	83 c0 01	 add	 eax, 1
  00c4b	89 45 d4	 mov	 DWORD PTR _n$232060[ebp], eax
$LN6@GDGuildDes:
  00c4e	83 7d d4 50	 cmp	 DWORD PTR _n$232060[ebp], 80 ; 00000050H
  00c52	0f 8d f6 00 00
	00		 jge	 $LN4@GDGuildDes

; 409  : 		{
; 410  : 			int iGuildMemberIndex = lpGuild->Index[n];

  00c58	8b 45 d4	 mov	 eax, DWORD PTR _n$232060[ebp]
  00c5b	8b 4d dc	 mov	 ecx, DWORD PTR _lpGuild$232056[ebp]
  00c5e	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  00c66	89 55 d0	 mov	 DWORD PTR _iGuildMemberIndex$232064[ebp], edx

; 411  : 
; 412  : 			if ( lpGuild->Use[n] > 0 && iGuildMemberIndex != -1 )

  00c69	8b 45 dc	 mov	 eax, DWORD PTR _lpGuild$232056[ebp]
  00c6c	03 45 d4	 add	 eax, DWORD PTR _n$232060[ebp]
  00c6f	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  00c76	85 c9		 test	 ecx, ecx
  00c78	0f 8e cb 00 00
	00		 jle	 $LN3@GDGuildDes
  00c7e	83 7d d0 ff	 cmp	 DWORD PTR _iGuildMemberIndex$232064[ebp], -1
  00c82	0f 84 c1 00 00
	00		 je	 $LN3@GDGuildDes

; 413  : 			{
; 414  : 				LPOBJ lpObj = &gObj[iGuildMemberIndex];

  00c88	8b 45 d0	 mov	 eax, DWORD PTR _iGuildMemberIndex$232064[ebp]
  00c8b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00c91	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c97	89 45 cc	 mov	 DWORD PTR _lpObj$232066[ebp], eax

; 415  : 				
; 416  : 				if ( lpObj == NULL )

  00c9a	75 02		 jne	 SHORT $LN2@GDGuildDes

; 417  : 				{
; 418  : 					continue;

  00c9c	eb a7		 jmp	 SHORT $LN5@GDGuildDes
$LN2@GDGuildDes:

; 419  : 				}
; 420  : 
; 421  : 				if ( gObjIsConnected(iGuildMemberIndex) == FALSE )

  00c9e	8b 45 d0	 mov	 eax, DWORD PTR _iGuildMemberIndex$232064[ebp]
  00ca1	50		 push	 eax
  00ca2	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00ca7	83 c4 04	 add	 esp, 4
  00caa	85 c0		 test	 eax, eax
  00cac	75 02		 jne	 SHORT $LN1@GDGuildDes

; 422  : 				{
; 423  : 					continue;

  00cae	eb 95		 jmp	 SHORT $LN5@GDGuildDes
$LN1@GDGuildDes:

; 424  : 				}
; 425  : 
; 426  : 				gObjNotifyUpdateUnionV1(lpObj);

  00cb0	8b 45 cc	 mov	 eax, DWORD PTR _lpObj$232066[ebp]
  00cb3	50		 push	 eax
  00cb4	e8 00 00 00 00	 call	 ?gObjNotifyUpdateUnionV1@@YAXPAUOBJECTSTRUCT@@@Z ; gObjNotifyUpdateUnionV1
  00cb9	83 c4 04	 add	 esp, 4

; 427  : 				gObjNotifyUpdateUnionV2(lpObj);

  00cbc	8b 45 cc	 mov	 eax, DWORD PTR _lpObj$232066[ebp]
  00cbf	50		 push	 eax
  00cc0	e8 00 00 00 00	 call	 ?gObjNotifyUpdateUnionV2@@YAXPAUOBJECTSTRUCT@@@Z ; gObjNotifyUpdateUnionV2
  00cc5	83 c4 04	 add	 esp, 4

; 428  : 				lpObj->lpGuild = NULL;

  00cc8	8b 45 cc	 mov	 eax, DWORD PTR _lpObj$232066[ebp]
  00ccb	c7 80 38 04 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+1080], 0

; 429  : 				lpObj->GuildNumber = 0;

  00cd5	8b 45 cc	 mov	 eax, DWORD PTR _lpObj$232066[ebp]
  00cd8	c7 80 34 04 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+1076], 0

; 430  : 				lpObj->GuildStatus = -1;

  00ce2	8b 45 cc	 mov	 eax, DWORD PTR _lpObj$232066[ebp]
  00ce5	c7 80 48 04 00
	00 ff ff ff ff	 mov	 DWORD PTR [eax+1096], -1

; 431  : 				lpObj->iGuildUnionTimeStamp = 0;

  00cef	8b 45 cc	 mov	 eax, DWORD PTR _lpObj$232066[ebp]
  00cf2	c7 80 4c 04 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+1100], 0

; 432  : 
; 433  : 				GCResultSend(n,0x53, 1);

  00cfc	6a 01		 push	 1
  00cfe	6a 53		 push	 83			; 00000053H
  00d00	8b 45 d4	 mov	 eax, DWORD PTR _n$232060[ebp]
  00d03	50		 push	 eax
  00d04	e8 00 00 00 00	 call	 ?GCResultSend@@YAXHEE@Z	; GCResultSend
  00d09	83 c4 0c	 add	 esp, 12			; 0000000cH

; 434  : 				GCGuildViewportDelNow(lpObj->m_Index, FALSE);

  00d0c	6a 00		 push	 0
  00d0e	8b 45 cc	 mov	 eax, DWORD PTR _lpObj$232066[ebp]
  00d11	8b 08		 mov	 ecx, DWORD PTR [eax]
  00d13	51		 push	 ecx
  00d14	e8 00 00 00 00	 call	 ?GCGuildViewportDelNow@@YAXHH@Z ; GCGuildViewportDelNow
  00d19	83 c4 08	 add	 esp, 8

; 435  : 
; 436  : 				LogAddTD(lMsg.Get(MSGGET(1, 178)), gObj[n].Name);

  00d1c	8b 45 d4	 mov	 eax, DWORD PTR _n$232060[ebp]
  00d1f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00d25	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00d2b	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  00d2f	52		 push	 edx
  00d30	68 b2 01 00 00	 push	 434			; 000001b2H
  00d35	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  00d3a	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  00d3f	50		 push	 eax
  00d40	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00d46	83 c4 08	 add	 esp, 8
$LN3@GDGuildDes:

; 437  : 			}
; 438  : 		}

  00d49	e9 f7 fe ff ff	 jmp	 $LN5@GDGuildDes
$LN4@GDGuildDes:

; 439  : 
; 440  : 		UnionManager.DelUnion(lpGuild->Number);

  00d4e	8b 45 dc	 mov	 eax, DWORD PTR _lpGuild$232056[ebp]
  00d51	8b 08		 mov	 ecx, DWORD PTR [eax]
  00d53	51		 push	 ecx
  00d54	b9 00 00 00 00	 mov	 ecx, OFFSET ?UnionManager@@3VTUnion@@A ; UnionManager
  00d59	e8 00 00 00 00	 call	 ?DelUnion@TUnion@@QAEHH@Z ; TUnion::DelUnion

; 441  : 		Guild.DeleteGuild(szGuildName, szMaster);

  00d5e	8d 45 ec	 lea	 eax, DWORD PTR _szMaster$[ebp]
  00d61	50		 push	 eax
  00d62	8d 4d e0	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  00d65	51		 push	 ecx
  00d66	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00d6b	e8 00 00 00 00	 call	 ?DeleteGuild@CGuildClass@@QAEHPAD0@Z ; CGuildClass::DeleteGuild

; 442  : 
; 443  : 		LogAdd(lMsg.Get(MSGGET(1, 179)), szGuildName, szMaster);

  00d70	8d 45 ec	 lea	 eax, DWORD PTR _szMaster$[ebp]
  00d73	50		 push	 eax
  00d74	8d 4d e0	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  00d77	51		 push	 ecx
  00d78	68 b3 01 00 00	 push	 435			; 000001b3H
  00d7d	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  00d82	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  00d87	50		 push	 eax
  00d88	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00d8e	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN17@GDGuildDes:

; 444  : 	}
; 445  : }

  00d91	5f		 pop	 edi
  00d92	5e		 pop	 esi
  00d93	5b		 pop	 ebx
  00d94	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00d97	33 cd		 xor	 ecx, ebp
  00d99	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00d9e	8b e5		 mov	 esp, ebp
  00da0	5d		 pop	 ebp
  00da1	c3		 ret	 0
?GDGuildDestroyRecv@@YAXPAUSDHP_GUILDDESTROY_RESULT@@@Z ENDP ; GDGuildDestroyRecv
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDGuildMemberAdd@@YAXHPAD0@Z			; GDGuildMemberAdd
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -32						; size = 25
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_Name$ = 12						; size = 4
_MemberId$ = 16						; size = 4
?GDGuildMemberAdd@@YAXHPAD0@Z PROC			; GDGuildMemberAdd

; 457  : {

  00db0	55		 push	 ebp
  00db1	8b ec		 mov	 ebp, esp
  00db3	83 ec 60	 sub	 esp, 96			; 00000060H
  00db6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00dbb	33 c5		 xor	 eax, ebp
  00dbd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00dc0	53		 push	 ebx
  00dc1	56		 push	 esi
  00dc2	57		 push	 edi

; 458  : 	SDHP_GUILDMEMBERADD pMsg;
; 459  : 
; 460  : 	pMsg.h.c = 0xC1;

  00dc3	c6 45 e0 c1	 mov	 BYTE PTR _pMsg$[ebp], 193 ; 000000c1H

; 461  : 	pMsg.h.headcode = 0x32;

  00dc7	c6 45 e2 32	 mov	 BYTE PTR _pMsg$[ebp+2], 50 ; 00000032H

; 462  : 	pMsg.h.size = sizeof(pMsg);

  00dcb	c6 45 e1 19	 mov	 BYTE PTR _pMsg$[ebp+1], 25 ; 00000019H

; 463  : 	pMsg.NumberH = SET_NUMBERH(aIndex);

  00dcf	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00dd2	c1 e8 08	 shr	 eax, 8
  00dd5	88 45 f7	 mov	 BYTE PTR _pMsg$[ebp+23], al

; 464  : 	pMsg.NumberL = SET_NUMBERL(aIndex);

  00dd8	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00ddb	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00de0	88 45 f8	 mov	 BYTE PTR _pMsg$[ebp+24], al

; 465  : 	pMsg.MemberID[MAX_GUILD_LEN] = 0;

  00de3	c6 45 f4 00	 mov	 BYTE PTR _pMsg$[ebp+20], 0

; 466  : 	pMsg.GuildName[MAX_ACCOUNT_LEN] = 0;

  00de7	c6 45 ed 00	 mov	 BYTE PTR _pMsg$[ebp+13], 0

; 467  : 	memcpy(pMsg.MemberID, MemberId, MAX_ACCOUNT_LEN);

  00deb	6a 0a		 push	 10			; 0000000aH
  00ded	8b 45 10	 mov	 eax, DWORD PTR _MemberId$[ebp]
  00df0	50		 push	 eax
  00df1	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$[ebp+12]
  00df4	51		 push	 ecx
  00df5	e8 00 00 00 00	 call	 _memcpy
  00dfa	83 c4 0c	 add	 esp, 12			; 0000000cH

; 468  : 	memcpy(pMsg.GuildName, Name, MAX_GUILD_LEN);

  00dfd	6a 08		 push	 8
  00dff	8b 45 0c	 mov	 eax, DWORD PTR _Name$[ebp]
  00e02	50		 push	 eax
  00e03	8d 4d e3	 lea	 ecx, DWORD PTR _pMsg$[ebp+3]
  00e06	51		 push	 ecx
  00e07	e8 00 00 00 00	 call	 _memcpy
  00e0c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 469  : 
; 470  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00e0f	0f b6 45 e1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  00e13	50		 push	 eax
  00e14	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  00e17	51		 push	 ecx
  00e18	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00e1d	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 471  : }

  00e22	5f		 pop	 edi
  00e23	5e		 pop	 esi
  00e24	5b		 pop	 ebx
  00e25	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00e28	33 cd		 xor	 ecx, ebp
  00e2a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00e2f	8b e5		 mov	 esp, ebp
  00e31	5d		 pop	 ebp
  00e32	c3		 ret	 0
?GDGuildMemberAdd@@YAXHPAD0@Z ENDP			; GDGuildMemberAdd
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	?AddMember@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD0HHHH@Z:PROC ; CGuildClass::AddMember
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_szGuildName$ = -40					; size = 9
_szMember$ = -28					; size = 11
_HereUserIndex$ = -16					; size = 4
_aIndex$ = -12						; size = 4
_lpNode$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?GDGuildMemberAddResult@@YAXPAUSDHP_GUILDMEMBERADD_RESULT@@@Z PROC ; GDGuildMemberAddResult

; 474  : {

  00e40	55		 push	 ebp
  00e41	8b ec		 mov	 ebp, esp
  00e43	83 ec 68	 sub	 esp, 104		; 00000068H
  00e46	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00e4b	33 c5		 xor	 eax, ebp
  00e4d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00e50	53		 push	 ebx
  00e51	56		 push	 esi
  00e52	57		 push	 edi

; 475  : 	_GUILD_INFO_STRUCT * lpNode;
; 476  : 	int aIndex = -1;

  00e53	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _aIndex$[ebp], -1

; 477  : 	int HereUserIndex=-1;

  00e5a	c7 45 f0 ff ff
	ff ff		 mov	 DWORD PTR _HereUserIndex$[ebp], -1

; 478  : 	char szMember[MAX_ACCOUNT_LEN+1];
; 479  : 	char szGuildName[MAX_GUILD_LEN+1];
; 480  : 	szMember[MAX_ACCOUNT_LEN] = 0;

  00e61	c6 45 ee 00	 mov	 BYTE PTR _szMember$[ebp+10], 0

; 481  : 	szGuildName[MAX_GUILD_LEN] = 0;

  00e65	c6 45 e0 00	 mov	 BYTE PTR _szGuildName$[ebp+8], 0

; 482  : 
; 483  : 	memcpy(szMember, lpMsg->MemberID, MAX_ACCOUNT_LEN);

  00e69	6a 0a		 push	 10			; 0000000aH
  00e6b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00e6e	83 c0 10	 add	 eax, 16			; 00000010H
  00e71	50		 push	 eax
  00e72	8d 4d e4	 lea	 ecx, DWORD PTR _szMember$[ebp]
  00e75	51		 push	 ecx
  00e76	e8 00 00 00 00	 call	 _memcpy
  00e7b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 484  : 	memcpy(szGuildName, lpMsg->GuildName, MAX_GUILD_LEN);

  00e7e	6a 08		 push	 8
  00e80	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00e83	83 c0 07	 add	 eax, 7
  00e86	50		 push	 eax
  00e87	8d 4d d8	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  00e8a	51		 push	 ecx
  00e8b	e8 00 00 00 00	 call	 _memcpy
  00e90	83 c4 0c	 add	 esp, 12			; 0000000cH

; 485  : 
; 486  : 	if ( lpMsg->Flag == 1 )

  00e93	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00e96	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  00e9a	83 f9 01	 cmp	 ecx, 1
  00e9d	75 7c		 jne	 SHORT $LN5@GDGuildMem

; 487  : 	{
; 488  : 		aIndex = MAKE_NUMBERW(lpMsg->NumberH, lpMsg->NumberL);

  00e9f	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00ea2	0f b6 48 06	 movzx	 ecx, BYTE PTR [eax+6]
  00ea6	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  00eac	0f b6 d1	 movzx	 edx, cl
  00eaf	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00eb2	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  00eb6	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  00ebc	0f b6 c1	 movzx	 eax, cl
  00ebf	c1 e0 08	 shl	 eax, 8
  00ec2	0b d0		 or	 edx, eax
  00ec4	0f b7 ca	 movzx	 ecx, dx
  00ec7	89 4d f4	 mov	 DWORD PTR _aIndex$[ebp], ecx

; 489  : 
; 490  : 		if ( gObjIsConnected(aIndex) == TRUE )

  00eca	8b 45 f4	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00ecd	50		 push	 eax
  00ece	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00ed3	83 c4 04	 add	 esp, 4
  00ed6	83 f8 01	 cmp	 eax, 1
  00ed9	75 40		 jne	 SHORT $LN5@GDGuildMem

; 491  : 		{
; 492  : 			if ( strcmp(szMember, gObj[aIndex].Name) == 0 )

  00edb	8b 45 f4	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00ede	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00ee4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00eea	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  00eee	52		 push	 edx
  00eef	8d 45 e4	 lea	 eax, DWORD PTR _szMember$[ebp]
  00ef2	50		 push	 eax
  00ef3	e8 00 00 00 00	 call	 _strcmp
  00ef8	83 c4 08	 add	 esp, 8
  00efb	85 c0		 test	 eax, eax
  00efd	75 1c		 jne	 SHORT $LN5@GDGuildMem

; 493  : 			{
; 494  : 				GCResultSend(aIndex, 0x51, lpMsg->Result);

  00eff	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00f02	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  00f06	51		 push	 ecx
  00f07	6a 51		 push	 81			; 00000051H
  00f09	8b 55 f4	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00f0c	52		 push	 edx
  00f0d	e8 00 00 00 00	 call	 ?GCResultSend@@YAXHEE@Z	; GCResultSend
  00f12	83 c4 0c	 add	 esp, 12			; 0000000cH

; 495  : 				HereUserIndex = aIndex;

  00f15	8b 45 f4	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00f18	89 45 f0	 mov	 DWORD PTR _HereUserIndex$[ebp], eax
$LN5@GDGuildMem:

; 496  : 			}
; 497  : 		}
; 498  : 	}
; 499  : 
; 500  : 	if ( lpMsg->Result == 1 )

  00f1b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00f1e	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  00f22	83 f9 01	 cmp	 ecx, 1
  00f25	0f 85 cd 00 00
	00		 jne	 $LN6@GDGuildMem

; 501  : 	{
; 502  : 		lpNode = Guild.AddMember(szGuildName, szMember, HereUserIndex, -1, 0, lpMsg->pServer);

  00f2b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00f2e	0f bf 48 1c	 movsx	 ecx, WORD PTR [eax+28]
  00f32	51		 push	 ecx
  00f33	6a 00		 push	 0
  00f35	6a ff		 push	 -1
  00f37	8b 55 f0	 mov	 edx, DWORD PTR _HereUserIndex$[ebp]
  00f3a	52		 push	 edx
  00f3b	8d 45 e4	 lea	 eax, DWORD PTR _szMember$[ebp]
  00f3e	50		 push	 eax
  00f3f	8d 4d d8	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  00f42	51		 push	 ecx
  00f43	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00f48	e8 00 00 00 00	 call	 ?AddMember@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD0HHHH@Z ; CGuildClass::AddMember
  00f4d	89 45 f8	 mov	 DWORD PTR _lpNode$[ebp], eax

; 503  : 
; 504  : 		if ( aIndex >= 0 && lpNode != NULL )

  00f50	83 7d f4 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  00f54	0f 8c 9e 00 00
	00		 jl	 $LN6@GDGuildMem
  00f5a	83 7d f8 00	 cmp	 DWORD PTR _lpNode$[ebp], 0
  00f5e	0f 84 94 00 00
	00		 je	 $LN6@GDGuildMem

; 505  : 		{
; 506  : 			gObj[aIndex].lpGuild = lpNode;

  00f64	8b 45 f4	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00f67	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00f6d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00f73	8b 55 f8	 mov	 edx, DWORD PTR _lpNode$[ebp]
  00f76	89 94 01 38 04
	00 00		 mov	 DWORD PTR [ecx+eax+1080], edx

; 507  : 			gObj[aIndex].GuildStatus = 0;

  00f7d	8b 45 f4	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00f80	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00f86	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00f8c	c7 84 01 48 04
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+1096], 0

; 508  : 			gObj[aIndex].GuildNumber = lpNode->Number;

  00f97	8b 45 f4	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00f9a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00fa0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00fa6	8b 55 f8	 mov	 edx, DWORD PTR _lpNode$[ebp]
  00fa9	8b 12		 mov	 edx, DWORD PTR [edx]
  00fab	89 94 01 34 04
	00 00		 mov	 DWORD PTR [ecx+eax+1076], edx

; 509  : 			gObj[aIndex].iGuildUnionTimeStamp = 0;

  00fb2	8b 45 f4	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00fb5	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00fbb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00fc1	c7 84 01 4c 04
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+1100], 0

; 510  : 			GCGuildViewportNowPaint(aIndex, szGuildName, gObj[aIndex].lpGuild->Mark, FALSE);

  00fcc	6a 00		 push	 0
  00fce	8b 45 f4	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00fd1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00fd7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00fdd	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  00fe4	83 c2 0d	 add	 edx, 13			; 0000000dH
  00fe7	52		 push	 edx
  00fe8	8d 45 d8	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  00feb	50		 push	 eax
  00fec	8b 4d f4	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  00fef	51		 push	 ecx
  00ff0	e8 00 00 00 00	 call	 ?GCGuildViewportNowPaint@@YAXHPADPAEH@Z ; GCGuildViewportNowPaint
  00ff5	83 c4 10	 add	 esp, 16			; 00000010H
$LN6@GDGuildMem:

; 511  : 		}
; 512  : 	}
; 513  : }

  00ff8	5f		 pop	 edi
  00ff9	5e		 pop	 esi
  00ffa	5b		 pop	 ebx
  00ffb	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00ffe	33 cd		 xor	 ecx, ebp
  01000	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01005	8b e5		 mov	 esp, ebp
  01007	5d		 pop	 ebp
  01008	c3		 ret	 0
?GDGuildMemberAddResult@@YAXPAUSDHP_GUILDMEMBERADD_RESULT@@@Z ENDP ; GDGuildMemberAddResult
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDGuildMemberDel@@YAXHPAD0@Z			; GDGuildMemberDel
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -28						; size = 23
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_Name$ = 12						; size = 4
_MemberId$ = 16						; size = 4
?GDGuildMemberDel@@YAXHPAD0@Z PROC			; GDGuildMemberDel

; 525  : {

  01010	55		 push	 ebp
  01011	8b ec		 mov	 ebp, esp
  01013	83 ec 5c	 sub	 esp, 92			; 0000005cH
  01016	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0101b	33 c5		 xor	 eax, ebp
  0101d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01020	53		 push	 ebx
  01021	56		 push	 esi
  01022	57		 push	 edi

; 526  : 	SDHP_GUILDMEMBERDEL pMsg;
; 527  : 
; 528  : 	pMsg.h.c = 0xC1;

  01023	c6 45 e4 c1	 mov	 BYTE PTR _pMsg$[ebp], 193 ; 000000c1H

; 529  : 	pMsg.h.headcode = 0x33;

  01027	c6 45 e6 33	 mov	 BYTE PTR _pMsg$[ebp+2], 51 ; 00000033H

; 530  : 	pMsg.h.size = sizeof(pMsg);

  0102b	c6 45 e5 17	 mov	 BYTE PTR _pMsg$[ebp+1], 23 ; 00000017H

; 531  : 	pMsg.NumberH = SET_NUMBERH(aIndex);

  0102f	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01032	c1 e8 08	 shr	 eax, 8
  01035	88 45 e7	 mov	 BYTE PTR _pMsg$[ebp+3], al

; 532  : 	pMsg.NumberL = SET_NUMBERL(aIndex);

  01038	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0103b	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  01040	88 45 e8	 mov	 BYTE PTR _pMsg$[ebp+4], al

; 533  : 	memcpy(pMsg.MemberID, MemberId, MAX_ACCOUNT_LEN);

  01043	6a 0a		 push	 10			; 0000000aH
  01045	8b 45 10	 mov	 eax, DWORD PTR _MemberId$[ebp]
  01048	50		 push	 eax
  01049	8d 4d f1	 lea	 ecx, DWORD PTR _pMsg$[ebp+13]
  0104c	51		 push	 ecx
  0104d	e8 00 00 00 00	 call	 _memcpy
  01052	83 c4 0c	 add	 esp, 12			; 0000000cH

; 534  : 	memcpy(pMsg.GuildName, Name, MAX_GUILD_LEN);

  01055	6a 08		 push	 8
  01057	8b 45 0c	 mov	 eax, DWORD PTR _Name$[ebp]
  0105a	50		 push	 eax
  0105b	8d 4d e9	 lea	 ecx, DWORD PTR _pMsg$[ebp+5]
  0105e	51		 push	 ecx
  0105f	e8 00 00 00 00	 call	 _memcpy
  01064	83 c4 0c	 add	 esp, 12			; 0000000cH

; 535  : 
; 536  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  01067	0f b6 45 e5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0106b	50		 push	 eax
  0106c	8d 4d e4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0106f	51		 push	 ecx
  01070	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  01075	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 537  : }

  0107a	5f		 pop	 edi
  0107b	5e		 pop	 esi
  0107c	5b		 pop	 ebx
  0107d	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01080	33 cd		 xor	 ecx, ebp
  01082	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01087	8b e5		 mov	 esp, ebp
  01089	5d		 pop	 ebp
  0108a	c3		 ret	 0
?GDGuildMemberDel@@YAXHPAD0@Z ENDP			; GDGuildMemberDel
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	?DelMember@CGuildClass@@QAEHPAD0@Z:PROC		; CGuildClass::DelMember
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_iMember$232148 = -36					; size = 4
_szGuildName$ = -32					; size = 9
_szMember$ = -20					; size = 11
_aIndex$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?GDGuildMemberDelResult@@YAXPAUSDHP_GUILDMEMBERDEL_RESULT@@@Z PROC ; GDGuildMemberDelResult

; 540  : {

  01090	55		 push	 ebp
  01091	8b ec		 mov	 ebp, esp
  01093	83 ec 64	 sub	 esp, 100		; 00000064H
  01096	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0109b	33 c5		 xor	 eax, ebp
  0109d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  010a0	53		 push	 ebx
  010a1	56		 push	 esi
  010a2	57		 push	 edi

; 541  : 	int aIndex = -1;

  010a3	c7 45 f8 ff ff
	ff ff		 mov	 DWORD PTR _aIndex$[ebp], -1

; 542  : 	char szMember[MAX_ACCOUNT_LEN+1];
; 543  : 	char szGuildName[MAX_GUILD_LEN+1];
; 544  : 	szMember[MAX_ACCOUNT_LEN] = 0;

  010aa	c6 45 f6 00	 mov	 BYTE PTR _szMember$[ebp+10], 0

; 545  : 	szGuildName[MAX_GUILD_LEN] = 0;

  010ae	c6 45 e8 00	 mov	 BYTE PTR _szGuildName$[ebp+8], 0

; 546  : 
; 547  : 	memcpy(szMember, lpMsg->MemberID, MAX_ACCOUNT_LEN);

  010b2	6a 0a		 push	 10			; 0000000aH
  010b4	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  010b7	83 c0 10	 add	 eax, 16			; 00000010H
  010ba	50		 push	 eax
  010bb	8d 4d ec	 lea	 ecx, DWORD PTR _szMember$[ebp]
  010be	51		 push	 ecx
  010bf	e8 00 00 00 00	 call	 _memcpy
  010c4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 548  : 	memcpy(szGuildName, lpMsg->GuildName, MAX_GUILD_LEN);

  010c7	6a 08		 push	 8
  010c9	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  010cc	83 c0 07	 add	 eax, 7
  010cf	50		 push	 eax
  010d0	8d 4d e0	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  010d3	51		 push	 ecx
  010d4	e8 00 00 00 00	 call	 _memcpy
  010d9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 549  : 
; 550  : 	if ( lpMsg->Flag == 1 )

  010dc	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  010df	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  010e3	83 f9 01	 cmp	 ecx, 1
  010e6	0f 85 e4 00 00
	00		 jne	 $LN15@GDGuildMem@2

; 551  : 	{
; 552  : 		aIndex = MAKE_NUMBERW(lpMsg->NumberH, lpMsg->NumberL);

  010ec	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  010ef	0f b6 48 06	 movzx	 ecx, BYTE PTR [eax+6]
  010f3	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  010f9	0f b6 d1	 movzx	 edx, cl
  010fc	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  010ff	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  01103	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  01109	0f b6 c1	 movzx	 eax, cl
  0110c	c1 e0 08	 shl	 eax, 8
  0110f	0b d0		 or	 edx, eax
  01111	0f b7 ca	 movzx	 ecx, dx
  01114	89 4d f8	 mov	 DWORD PTR _aIndex$[ebp], ecx

; 553  : 
; 554  : 		if ( gObjIsConnected(aIndex) == TRUE )

  01117	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0111a	50		 push	 eax
  0111b	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  01120	83 c4 04	 add	 esp, 4
  01123	83 f8 01	 cmp	 eax, 1
  01126	75 7b		 jne	 SHORT $LN14@GDGuildMem@2

; 555  : 		{
; 556  : 			if ( strcmp(szMember, gObj[aIndex].Name) == 0 )

  01128	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0112b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01131	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01137	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  0113b	52		 push	 edx
  0113c	8d 45 ec	 lea	 eax, DWORD PTR _szMember$[ebp]
  0113f	50		 push	 eax
  01140	e8 00 00 00 00	 call	 _strcmp
  01145	83 c4 08	 add	 esp, 8
  01148	85 c0		 test	 eax, eax
  0114a	75 45		 jne	 SHORT $LN13@GDGuildMem@2

; 557  : 			{
; 558  : 				GCResultSend(aIndex, 0x53, lpMsg->Result);

  0114c	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0114f	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  01153	51		 push	 ecx
  01154	6a 53		 push	 83			; 00000053H
  01156	8b 55 f8	 mov	 edx, DWORD PTR _aIndex$[ebp]
  01159	52		 push	 edx
  0115a	e8 00 00 00 00	 call	 ?GCResultSend@@YAXHEE@Z	; GCResultSend
  0115f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 559  : 				LogAdd(lMsg.Get(MSGGET(1, 180)), gObj[aIndex].Name);

  01162	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01165	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0116b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01171	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  01175	52		 push	 edx
  01176	68 b4 01 00 00	 push	 436			; 000001b4H
  0117b	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  01180	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  01185	50		 push	 eax
  01186	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0118c	83 c4 08	 add	 esp, 8

; 560  : 			}
; 561  : 			else

  0118f	eb 10		 jmp	 SHORT $LN12@GDGuildMem@2
$LN13@GDGuildMem@2:

; 562  : 			{
; 563  : 				GCResultSend(aIndex, 0x53, 5);

  01191	6a 05		 push	 5
  01193	6a 53		 push	 83			; 00000053H
  01195	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01198	50		 push	 eax
  01199	e8 00 00 00 00	 call	 ?GCResultSend@@YAXHEE@Z	; GCResultSend
  0119e	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN12@GDGuildMem@2:

; 564  : 			}
; 565  : 		}
; 566  : 		else

  011a1	eb 2d		 jmp	 SHORT $LN15@GDGuildMem@2
$LN14@GDGuildMem@2:

; 567  : 		{
; 568  : 			LogAdd(lMsg.Get(MSGGET(1, 181)), gObj[aIndex].Name);

  011a3	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  011a6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  011ac	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  011b2	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  011b6	52		 push	 edx
  011b7	68 b5 01 00 00	 push	 437			; 000001b5H
  011bc	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  011c1	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  011c6	50		 push	 eax
  011c7	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  011cd	83 c4 08	 add	 esp, 8
$LN15@GDGuildMem@2:

; 569  : 		}
; 570  : 	}
; 571  : 
; 572  : 	if ( lpMsg->Result == 1 )

  011d0	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  011d3	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  011d7	83 f9 01	 cmp	 ecx, 1
  011da	0f 85 89 01 00
	00		 jne	 $LN10@GDGuildMem@2

; 573  : 	{
; 574  : 		int iMember = 0;

  011e0	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _iMember$232148[ebp], 0
$LN9@GDGuildMem@2:

; 575  : 
; 576  : 		while ( true )

  011e7	b8 01 00 00 00	 mov	 eax, 1
  011ec	85 c0		 test	 eax, eax
  011ee	0f 84 61 01 00
	00		 je	 $LN8@GDGuildMem@2

; 577  : 		{
; 578  : 			if ( gObj[iMember].Connected > PLAYER_LOGGED)

  011f4	8b 45 dc	 mov	 eax, DWORD PTR _iMember$232148[ebp]
  011f7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  011fd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01203	83 7c 01 04 02	 cmp	 DWORD PTR [ecx+eax+4], 2
  01208	0f 8e 2c 01 00
	00		 jle	 $LN7@GDGuildMem@2

; 579  : 			{
; 580  : 				if ( gObj[iMember].GuildNumber > 0 )

  0120e	8b 45 dc	 mov	 eax, DWORD PTR _iMember$232148[ebp]
  01211	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01217	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0121d	83 bc 01 34 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1076], 0
  01225	0f 8e 0f 01 00
	00		 jle	 $LN7@GDGuildMem@2

; 581  : 				{
; 582  : 					if ( gObj[iMember].Name[0] == szMember[0] && gObj[iMember].Name[1] == szMember[1] )

  0122b	8b 45 dc	 mov	 eax, DWORD PTR _iMember$232148[ebp]
  0122e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01234	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0123a	0f be 54 01 77	 movsx	 edx, BYTE PTR [ecx+eax+119]
  0123f	0f be 45 ec	 movsx	 eax, BYTE PTR _szMember$[ebp]
  01243	3b d0		 cmp	 edx, eax
  01245	0f 85 ef 00 00
	00		 jne	 $LN7@GDGuildMem@2
  0124b	8b 45 dc	 mov	 eax, DWORD PTR _iMember$232148[ebp]
  0124e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01254	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0125a	0f be 54 01 78	 movsx	 edx, BYTE PTR [ecx+eax+120]
  0125f	0f be 45 ed	 movsx	 eax, BYTE PTR _szMember$[ebp+1]
  01263	3b d0		 cmp	 edx, eax
  01265	0f 85 cf 00 00
	00		 jne	 $LN7@GDGuildMem@2

; 583  : 					{
; 584  : 						if ( strcmp(gObj[iMember].Name, szMember) == 0 )

  0126b	8d 45 ec	 lea	 eax, DWORD PTR _szMember$[ebp]
  0126e	50		 push	 eax
  0126f	8b 4d dc	 mov	 ecx, DWORD PTR _iMember$232148[ebp]
  01272	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01278	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0127e	8d 44 0a 77	 lea	 eax, DWORD PTR [edx+ecx+119]
  01282	50		 push	 eax
  01283	e8 00 00 00 00	 call	 _strcmp
  01288	83 c4 08	 add	 esp, 8
  0128b	85 c0		 test	 eax, eax
  0128d	0f 85 a7 00 00
	00		 jne	 $LN7@GDGuildMem@2

; 585  : 						{
; 586  : 							GCGuildViewportDelNow(iMember, FALSE);

  01293	6a 00		 push	 0
  01295	8b 45 dc	 mov	 eax, DWORD PTR _iMember$232148[ebp]
  01298	50		 push	 eax
  01299	e8 00 00 00 00	 call	 ?GCGuildViewportDelNow@@YAXHH@Z ; GCGuildViewportDelNow
  0129e	83 c4 08	 add	 esp, 8

; 587  : 							gObj[iMember].lpGuild = NULL;

  012a1	8b 45 dc	 mov	 eax, DWORD PTR _iMember$232148[ebp]
  012a4	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  012aa	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  012b0	c7 84 01 38 04
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+1080], 0

; 588  : 							gObj[iMember].GuildNumber = 0;

  012bb	8b 45 dc	 mov	 eax, DWORD PTR _iMember$232148[ebp]
  012be	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  012c4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  012ca	c7 84 01 34 04
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax+1076], 0

; 589  : 							gObj[iMember].GuildStatus = -1;

  012d5	8b 45 dc	 mov	 eax, DWORD PTR _iMember$232148[ebp]
  012d8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  012de	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  012e4	c7 84 01 48 04
	00 00 ff ff ff
	ff		 mov	 DWORD PTR [ecx+eax+1096], -1

; 590  : 							gObjNotifyUpdateUnionV1(&gObj[iMember]);

  012ef	8b 45 dc	 mov	 eax, DWORD PTR _iMember$232148[ebp]
  012f2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  012f8	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  012fe	50		 push	 eax
  012ff	e8 00 00 00 00	 call	 ?gObjNotifyUpdateUnionV1@@YAXPAUOBJECTSTRUCT@@@Z ; gObjNotifyUpdateUnionV1
  01304	83 c4 04	 add	 esp, 4

; 591  : 
; 592  : 							// User is ejected from guild %d %s
; 593  : 							LogAdd(lMsg.Get(MSGGET(1, 182)), aIndex, gObj[iMember].Name);

  01307	8b 45 dc	 mov	 eax, DWORD PTR _iMember$232148[ebp]
  0130a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01310	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01316	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  0131a	52		 push	 edx
  0131b	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0131e	50		 push	 eax
  0131f	68 b6 01 00 00	 push	 438			; 000001b6H
  01324	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  01329	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0132e	50		 push	 eax
  0132f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  01335	83 c4 0c	 add	 esp, 12			; 0000000cH

; 594  : 							break;

  01338	eb 1b		 jmp	 SHORT $LN8@GDGuildMem@2
$LN7@GDGuildMem@2:

; 595  : 						}
; 596  : 					}
; 597  : 				}
; 598  : 			}
; 599  : 
; 600  : 			if ( iMember < OBJMAX-1 )

  0133a	81 7d dc 97 3a
	00 00		 cmp	 DWORD PTR _iMember$232148[ebp], 14999 ; 00003a97H
  01341	7d 0b		 jge	 SHORT $LN3@GDGuildMem@2

; 601  : 			{
; 602  : 				iMember++;

  01343	8b 45 dc	 mov	 eax, DWORD PTR _iMember$232148[ebp]
  01346	83 c0 01	 add	 eax, 1
  01349	89 45 dc	 mov	 DWORD PTR _iMember$232148[ebp], eax

; 603  : 			}
; 604  : 			else

  0134c	eb 02		 jmp	 SHORT $LN2@GDGuildMem@2
$LN3@GDGuildMem@2:

; 605  : 			{
; 606  : 				break;

  0134e	eb 05		 jmp	 SHORT $LN8@GDGuildMem@2
$LN2@GDGuildMem@2:

; 607  : 			}
; 608  : 		}

  01350	e9 92 fe ff ff	 jmp	 $LN9@GDGuildMem@2
$LN8@GDGuildMem@2:

; 609  : 
; 610  : 		Guild.DelMember(szGuildName, szMember);

  01355	8d 45 ec	 lea	 eax, DWORD PTR _szMember$[ebp]
  01358	50		 push	 eax
  01359	8d 4d e0	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  0135c	51		 push	 ecx
  0135d	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  01362	e8 00 00 00 00	 call	 ?DelMember@CGuildClass@@QAEHPAD0@Z ; CGuildClass::DelMember

; 611  : 	}
; 612  : 	else

  01367	eb 25		 jmp	 SHORT $LN16@GDGuildMem@2
$LN10@GDGuildMem@2:

; 613  : 	{
; 614  : 		LogAdd(lMsg.Get(MSGGET(1, 183)), szGuildName, lpMsg->Result);

  01369	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0136c	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  01370	51		 push	 ecx
  01371	8d 55 e0	 lea	 edx, DWORD PTR _szGuildName$[ebp]
  01374	52		 push	 edx
  01375	68 b7 01 00 00	 push	 439			; 000001b7H
  0137a	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  0137f	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  01384	50		 push	 eax
  01385	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0138b	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN16@GDGuildMem@2:

; 615  : 	}
; 616  : }

  0138e	5f		 pop	 edi
  0138f	5e		 pop	 esi
  01390	5b		 pop	 ebx
  01391	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01394	33 cd		 xor	 ecx, ebp
  01396	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0139b	8b e5		 mov	 esp, ebp
  0139d	5d		 pop	 ebp
  0139e	c3		 ret	 0
?GDGuildMemberDelResult@@YAXPAUSDHP_GUILDMEMBERDEL_RESULT@@@Z ENDP ; GDGuildMemberDelResult
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDGuildUpdate@@YAXPAD0QAEHH@Z			; GDGuildUpdate
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -68						; size = 64
__$ArrayPad$ = -4					; size = 4
_Name$ = 8						; size = 4
_Master$ = 12						; size = 4
_Mark$ = 16						; size = 4
_score$ = 20						; size = 4
_count$ = 24						; size = 4
?GDGuildUpdate@@YAXPAD0QAEHH@Z PROC			; GDGuildUpdate

; 619  : {

  013a0	55		 push	 ebp
  013a1	8b ec		 mov	 ebp, esp
  013a3	81 ec 84 00 00
	00		 sub	 esp, 132		; 00000084H
  013a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  013ae	33 c5		 xor	 eax, ebp
  013b0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  013b3	53		 push	 ebx
  013b4	56		 push	 esi
  013b5	57		 push	 edi

; 620  : 	SDHP_GUILDUPDATE pMsg;
; 621  : 
; 622  : 	pMsg.h.c = 0xC1;

  013b6	c6 45 bc c1	 mov	 BYTE PTR _pMsg$[ebp], 193 ; 000000c1H

; 623  : 	pMsg.h.headcode = 0x34;

  013ba	c6 45 be 34	 mov	 BYTE PTR _pMsg$[ebp+2], 52 ; 00000034H

; 624  : 	pMsg.h.size = sizeof(pMsg);

  013be	c6 45 bd 40	 mov	 BYTE PTR _pMsg$[ebp+1], 64 ; 00000040H

; 625  : 	memcpy(pMsg.GuildName, Name, MAX_GUILD_LEN);

  013c2	6a 08		 push	 8
  013c4	8b 45 08	 mov	 eax, DWORD PTR _Name$[ebp]
  013c7	50		 push	 eax
  013c8	8d 4d bf	 lea	 ecx, DWORD PTR _pMsg$[ebp+3]
  013cb	51		 push	 ecx
  013cc	e8 00 00 00 00	 call	 _memcpy
  013d1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 626  : 	memcpy(pMsg.Mark, Mark, sizeof(pMsg.Mark));

  013d4	6a 20		 push	 32			; 00000020H
  013d6	8b 45 10	 mov	 eax, DWORD PTR _Mark$[ebp]
  013d9	50		 push	 eax
  013da	8d 4d d3	 lea	 ecx, DWORD PTR _pMsg$[ebp+23]
  013dd	51		 push	 ecx
  013de	e8 00 00 00 00	 call	 _memcpy
  013e3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 627  : 	memcpy(pMsg.Master, Master, MAX_ACCOUNT_LEN);

  013e6	6a 0a		 push	 10			; 0000000aH
  013e8	8b 45 0c	 mov	 eax, DWORD PTR _Master$[ebp]
  013eb	50		 push	 eax
  013ec	8d 4d c8	 lea	 ecx, DWORD PTR _pMsg$[ebp+12]
  013ef	51		 push	 ecx
  013f0	e8 00 00 00 00	 call	 _memcpy
  013f5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 628  : 	pMsg.Score = score;

  013f8	8b 45 14	 mov	 eax, DWORD PTR _score$[ebp]
  013fb	89 45 f4	 mov	 DWORD PTR _pMsg$[ebp+56], eax

; 629  : 	pMsg.Count = count;

  013fe	8a 45 18	 mov	 al, BYTE PTR _count$[ebp]
  01401	88 45 f8	 mov	 BYTE PTR _pMsg$[ebp+60], al

; 630  : 
; 631  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  01404	0f b6 45 bd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  01408	50		 push	 eax
  01409	8d 4d bc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0140c	51		 push	 ecx
  0140d	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  01412	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 632  : }

  01417	5f		 pop	 edi
  01418	5e		 pop	 esi
  01419	5b		 pop	 ebx
  0141a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0141d	33 cd		 xor	 ecx, ebp
  0141f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01424	8b e5		 mov	 esp, ebp
  01426	5d		 pop	 ebp
  01427	c3		 ret	 0
?GDGuildUpdate@@YAXPAD0QAEHH@Z ENDP			; GDGuildUpdate
_TEXT	ENDS
PUBLIC	?GDGuildUpdateRecv@@YAXPAE@Z			; GDGuildUpdateRecv
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpMsg$ = 8						; size = 4
?GDGuildUpdateRecv@@YAXPAE@Z PROC			; GDGuildUpdateRecv

; 635  : {

  01430	55		 push	 ebp
  01431	8b ec		 mov	 ebp, esp
  01433	83 ec 40	 sub	 esp, 64			; 00000040H
  01436	53		 push	 ebx
  01437	56		 push	 esi
  01438	57		 push	 edi

; 636  : 	return;
; 637  : }

  01439	5f		 pop	 edi
  0143a	5e		 pop	 esi
  0143b	5b		 pop	 ebx
  0143c	8b e5		 mov	 esp, ebp
  0143e	5d		 pop	 ebp
  0143f	c3		 ret	 0
?GDGuildUpdateRecv@@YAXPAE@Z ENDP			; GDGuildUpdateRecv
_TEXT	ENDS
PUBLIC	?set@PBMSG_HEAD@@QAEXPAEEE@Z			; PBMSG_HEAD::set
PUBLIC	__$ArrayPad$
PUBLIC	?DGGuildMemberInfoRequest@@YAXH@Z		; DGGuildMemberInfoRequest
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -20						; size = 15
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?DGGuildMemberInfoRequest@@YAXH@Z PROC			; DGGuildMemberInfoRequest

; 648  : {

  01440	55		 push	 ebp
  01441	8b ec		 mov	 ebp, esp
  01443	83 ec 54	 sub	 esp, 84			; 00000054H
  01446	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0144b	33 c5		 xor	 eax, ebp
  0144d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01450	53		 push	 ebx
  01451	56		 push	 esi
  01452	57		 push	 edi

; 649  : 	SDHP_GUILDMEMBER_INFO_REQUEST pMsg;
; 650  : 
; 651  : 	pMsg.h.set((LPBYTE)&pMsg, 0x35, sizeof(pMsg));

  01453	6a 0f		 push	 15			; 0000000fH
  01455	6a 35		 push	 53			; 00000035H
  01457	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0145a	50		 push	 eax
  0145b	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0145e	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 652  : 	pMsg.NumberH = SET_NUMBERH(aIndex);

  01463	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01466	c1 e8 08	 shr	 eax, 8
  01469	88 45 ef	 mov	 BYTE PTR _pMsg$[ebp+3], al

; 653  : 	pMsg.NumberL = SET_NUMBERL(aIndex);

  0146c	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0146f	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  01474	88 45 f0	 mov	 BYTE PTR _pMsg$[ebp+4], al

; 654  : 	memcpy(pMsg.MemberID, gObj[aIndex].Name, sizeof(pMsg.MemberID));

  01477	6a 0a		 push	 10			; 0000000aH
  01479	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0147c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01482	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01488	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  0148c	52		 push	 edx
  0148d	8d 45 f1	 lea	 eax, DWORD PTR _pMsg$[ebp+5]
  01490	50		 push	 eax
  01491	e8 00 00 00 00	 call	 _memcpy
  01496	83 c4 0c	 add	 esp, 12			; 0000000cH

; 655  : 
; 656  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  01499	0f b6 45 ed	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0149d	50		 push	 eax
  0149e	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  014a1	51		 push	 ecx
  014a2	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  014a7	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 657  : }

  014ac	5f		 pop	 edi
  014ad	5e		 pop	 esi
  014ae	5b		 pop	 ebx
  014af	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  014b2	33 cd		 xor	 ecx, ebp
  014b4	e8 00 00 00 00	 call	 @__security_check_cookie@4
  014b9	8b e5		 mov	 esp, ebp
  014bb	5d		 pop	 ebp
  014bc	c3		 ret	 0
?DGGuildMemberInfoRequest@@YAXH@Z ENDP			; DGGuildMemberInfoRequest
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\include\prodef.h
_TEXT	ENDS
;	COMDAT ?set@PBMSG_HEAD@@QAEXPAEEE@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_lpBuf$ = 8						; size = 4
_head$ = 12						; size = 1
_size$ = 16						; size = 1
?set@PBMSG_HEAD@@QAEXPAEEE@Z PROC			; PBMSG_HEAD::set, COMDAT
; _this$ = ecx

; 80   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 81   : 		lpBuf[0] = 0xC1;

  0000c	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  0000f	c6 00 c1	 mov	 BYTE PTR [eax], 193	; 000000c1H

; 82   : 		lpBuf[1] = size;

  00012	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  00015	8a 4d 10	 mov	 cl, BYTE PTR _size$[ebp]
  00018	88 48 01	 mov	 BYTE PTR [eax+1], cl

; 83   : 		lpBuf[2] = head;

  0001b	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  0001e	8a 4d 0c	 mov	 cl, BYTE PTR _head$[ebp]
  00021	88 48 02	 mov	 BYTE PTR [eax+2], cl

; 84   : 	};	// line : 22

  00024	5f		 pop	 edi
  00025	5e		 pop	 esi
  00026	5b		 pop	 ebx
  00027	8b e5		 mov	 esp, ebp
  00029	5d		 pop	 ebp
  0002a	c2 0c 00	 ret	 12			; 0000000cH
?set@PBMSG_HEAD@@QAEXPAEEE@Z ENDP			; PBMSG_HEAD::set
_TEXT	ENDS
PUBLIC	??_C@_0DK@MKLBBGMP@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLInfo?$FN?5G@ ; `string'
PUBLIC	__$ArrayPad$
EXTRN	?SetServer@CGuildClass@@QAEHPAD0H@Z:PROC	; CGuildClass::SetServer
EXTRN	?GCGuildWarDeclare@@YAXHPAD@Z:PROC		; GCGuildWarDeclare
EXTRN	?GCGuildWarScore@@YAXH@Z:PROC			; GCGuildWarScore
EXTRN	?GCGuildNumber@CDungeonSiege@@QAEXH@Z:PROC	; CDungeonSiege::GCGuildNumber
EXTRN	?g_DungeonSiege@@3VCDungeonSiege@@A:BYTE	; g_DungeonSiege
EXTRN	?CheckCastleOwnerUnionMember@CCastleSiegeSync@@QAEHH@Z:PROC ; CCastleSiegeSync::CheckCastleOwnerUnionMember
EXTRN	?CheckCastleOwnerMember@CCastleSiegeSync@@QAEHH@Z:PROC ; CCastleSiegeSync::CheckCastleOwnerMember
EXTRN	?g_CastleSiegeSync@@3VCCastleSiegeSync@@A:BYTE	; g_CastleSiegeSync
EXTRN	?GCServerMsgStringSend@@YAXPADHE@Z:PROC		; GCServerMsgStringSend
EXTRN	_strlen:PROC
EXTRN	?ConnectUser@CGuildClass@@QAEHPAU_GUILD_INFO_STRUCT@@PAD1HH@Z:PROC ; CGuildClass::ConnectUser
EXTRN	?NotifySelfCsJoinSide@CCastleSiege@@QAEXH@Z:PROC ; CCastleSiege::NotifySelfCsJoinSide
EXTRN	?GetCsJoinSide@CCastleSiege@@QAEHPADPAEPA_N@Z:PROC ; CCastleSiege::GetCsJoinSide
EXTRN	?g_CastleSiege@@3VCCastleSiege@@A:BYTE		; g_CastleSiege
EXTRN	_memset:PROC
;	COMDAT ??_C@_0DK@MKLBBGMP@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLInfo?$FN?5G@
; File d:\projects\exteam6.3\source\gameserver\gameserver\edsprotocol.cpp
CONST	SEGMENT
??_C@_0DK@MKLBBGMP@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLInfo?$FN?5G@ DB '['
	DB	'U.System][Guild Status][Info] Guild : %s / [%s][%s] / %d', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_pGVCount$232229 = -572					; size = 5
_n$232206 = -564					; size = 4
_GuildUserOfs$ = -560					; size = 4
_GuildInfoOfs$ = -556					; size = 4
_szName$ = -552						; size = 11
_szGuildName$ = -540					; size = 9
_pMsg$ = -528						; size = 12
_GuildInfoBuf$ = -516					; size = 256
_GuildUserBuf$ = -260					; size = 256
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGGuildMemberInfo@@YAXPAUSDHP_GUILDMEMBER_INFO@@@Z PROC ; DGGuildMemberInfo

; 660  : {

  014c0	55		 push	 ebp
  014c1	8b ec		 mov	 ebp, esp
  014c3	81 ec 7c 02 00
	00		 sub	 esp, 636		; 0000027cH
  014c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  014ce	33 c5		 xor	 eax, ebp
  014d0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  014d3	53		 push	 ebx
  014d4	56		 push	 esi
  014d5	57		 push	 edi

; 661  : 	BYTE GuildUserBuf[256] = {0};

  014d6	c6 85 fc fe ff
	ff 00		 mov	 BYTE PTR _GuildUserBuf$[ebp], 0
  014dd	68 ff 00 00 00	 push	 255			; 000000ffH
  014e2	6a 00		 push	 0
  014e4	8d 85 fd fe ff
	ff		 lea	 eax, DWORD PTR _GuildUserBuf$[ebp+1]
  014ea	50		 push	 eax
  014eb	e8 00 00 00 00	 call	 _memset
  014f0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 662  : 	BYTE GuildInfoBuf[256] = {0};

  014f3	c6 85 fc fd ff
	ff 00		 mov	 BYTE PTR _GuildInfoBuf$[ebp], 0
  014fa	68 ff 00 00 00	 push	 255			; 000000ffH
  014ff	6a 00		 push	 0
  01501	8d 85 fd fd ff
	ff		 lea	 eax, DWORD PTR _GuildInfoBuf$[ebp+1]
  01507	50		 push	 eax
  01508	e8 00 00 00 00	 call	 _memset
  0150d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 663  : 	PMSG_SIMPLE_GUILDVIEWPORT pMsg;
; 664  : 	char szGuildName[MAX_GUILD_LEN+1];
; 665  : 	char szName[MAX_ACCOUNT_LEN+1];
; 666  : 	
; 667  : 	szGuildName[MAX_GUILD_LEN] = 0;

  01510	c6 85 ec fd ff
	ff 00		 mov	 BYTE PTR _szGuildName$[ebp+8], 0

; 668  : 	szName[MAX_ACCOUNT_LEN] = 0;

  01517	c6 85 e2 fd ff
	ff 00		 mov	 BYTE PTR _szName$[ebp+10], 0

; 669  : 	memcpy(szGuildName, lpMsg->GuildName, MAX_GUILD_LEN);

  0151e	6a 08		 push	 8
  01520	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  01523	83 c0 03	 add	 eax, 3
  01526	50		 push	 eax
  01527	8d 8d e4 fd ff
	ff		 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  0152d	51		 push	 ecx
  0152e	e8 00 00 00 00	 call	 _memcpy
  01533	83 c4 0c	 add	 esp, 12			; 0000000cH

; 670  : 	memcpy(szName, lpMsg->MemberID, MAX_ACCOUNT_LEN);

  01536	6a 0a		 push	 10			; 0000000aH
  01538	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0153b	83 c0 0c	 add	 eax, 12			; 0000000cH
  0153e	50		 push	 eax
  0153f	8d 8d d8 fd ff
	ff		 lea	 ecx, DWORD PTR _szName$[ebp]
  01545	51		 push	 ecx
  01546	e8 00 00 00 00	 call	 _memcpy
  0154b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 671  : 
; 672  : 	int GuildInfoOfs = sizeof(PMSG_SIMPLE_GUILDVIEWPORT_COUNT);

  0154e	c7 85 d4 fd ff
	ff 05 00 00 00	 mov	 DWORD PTR _GuildInfoOfs$[ebp], 5

; 673  : 	int GuildUserOfs = sizeof(PMSG_SIMPLE_GUILDVIEWPORT_COUNT);

  01558	c7 85 d0 fd ff
	ff 05 00 00 00	 mov	 DWORD PTR _GuildUserOfs$[ebp], 5

; 674  : 
; 675  : 	for ( int n=OBJ_STARTUSERINDEX;n<OBJMAX;n++)

  01562	c7 85 cc fd ff
	ff b0 36 00 00	 mov	 DWORD PTR _n$232206[ebp], 14000 ; 000036b0H
  0156c	eb 0f		 jmp	 SHORT $LN16@DGGuildMem
$LN15@DGGuildMem:
  0156e	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01574	83 c0 01	 add	 eax, 1
  01577	89 85 cc fd ff
	ff		 mov	 DWORD PTR _n$232206[ebp], eax
$LN16@DGGuildMem:
  0157d	81 bd cc fd ff
	ff 98 3a 00 00	 cmp	 DWORD PTR _n$232206[ebp], 15000 ; 00003a98H
  01587	0f 8d 99 05 00
	00		 jge	 $LN14@DGGuildMem

; 676  : 	{
; 677  : 		if ( gObj[n].Connected > PLAYER_LOGGED )

  0158d	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01593	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01599	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0159f	83 7c 01 04 02	 cmp	 DWORD PTR [ecx+eax+4], 2
  015a4	0f 8e 77 05 00
	00		 jle	 $LN13@DGGuildMem

; 678  : 		{
; 679  : 			if ( gObj[n].Name[0] == lpMsg->MemberID[0] )

  015aa	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  015b0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  015b6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  015bc	0f be 54 01 77	 movsx	 edx, BYTE PTR [ecx+eax+119]
  015c1	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  015c4	0f be 48 0c	 movsx	 ecx, BYTE PTR [eax+12]
  015c8	3b d1		 cmp	 edx, ecx
  015ca	0f 85 51 05 00
	00		 jne	 $LN13@DGGuildMem

; 680  : 			{
; 681  : 				if ( strcmp(lpMsg->MemberID, gObj[n].Name ) == 0 )

  015d0	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  015d6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  015dc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  015e2	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  015e6	52		 push	 edx
  015e7	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  015ea	83 c0 0c	 add	 eax, 12			; 0000000cH
  015ed	50		 push	 eax
  015ee	e8 00 00 00 00	 call	 _strcmp
  015f3	83 c4 08	 add	 esp, 8
  015f6	85 c0		 test	 eax, eax
  015f8	0f 85 23 05 00
	00		 jne	 $LN13@DGGuildMem

; 682  : 				{
; 683  : //#if(GS_CASTLE==1)
; 684  : 					szGuildName[8] = NULL;

  015fe	c6 85 ec fd ff
	ff 00		 mov	 BYTE PTR _szGuildName$[ebp+8], 0

; 685  : 					g_CastleSiege.GetCsJoinSide(szGuildName,&gObj[n].m_btCsJoinSide,&gObj[n].m_bCsGuildInvolved);

  01605	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  0160b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01611	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01617	8d 94 01 03 1c
	00 00		 lea	 edx, DWORD PTR [ecx+eax+7171]
  0161e	52		 push	 edx
  0161f	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01625	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0162b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01631	8d 94 01 02 1c
	00 00		 lea	 edx, DWORD PTR [ecx+eax+7170]
  01638	52		 push	 edx
  01639	8d 85 e4 fd ff
	ff		 lea	 eax, DWORD PTR _szGuildName$[ebp]
  0163f	50		 push	 eax
  01640	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  01645	e8 00 00 00 00	 call	 ?GetCsJoinSide@CCastleSiege@@QAEHPADPAEPA_N@Z ; CCastleSiege::GetCsJoinSide

; 686  : 					g_CastleSiege.NotifySelfCsJoinSide(n);

  0164a	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01650	50		 push	 eax
  01651	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  01656	e8 00 00 00 00	 call	 ?NotifySelfCsJoinSide@CCastleSiege@@QAEXH@Z ; CCastleSiege::NotifySelfCsJoinSide

; 687  : //#endif
; 688  : 					strcpy(gObj[n].GuildName, szGuildName);

  0165b	8d 85 e4 fd ff
	ff		 lea	 eax, DWORD PTR _szGuildName$[ebp]
  01661	50		 push	 eax
  01662	8b 8d cc fd ff
	ff		 mov	 ecx, DWORD PTR _n$232206[ebp]
  01668	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0166e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01674	8d 84 0a 3c 04
	00 00		 lea	 eax, DWORD PTR [edx+ecx+1084]
  0167b	50		 push	 eax
  0167c	e8 00 00 00 00	 call	 _strcpy
  01681	83 c4 08	 add	 esp, 8

; 689  : 					gObj[n].lpGuild = Guild.SearchGuild(gObj[n].GuildName);

  01684	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  0168a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01690	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01696	8d 94 01 3c 04
	00 00		 lea	 edx, DWORD PTR [ecx+eax+1084]
  0169d	52		 push	 edx
  0169e	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  016a3	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  016a8	8b 8d cc fd ff
	ff		 mov	 ecx, DWORD PTR _n$232206[ebp]
  016ae	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  016b4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  016ba	89 84 0a 38 04
	00 00		 mov	 DWORD PTR [edx+ecx+1080], eax

; 690  : 
; 691  : 					if ( gObj[n].lpGuild != NULL )

  016c1	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  016c7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  016cd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  016d3	83 bc 01 38 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1080], 0
  016db	0f 84 f1 03 00
	00		 je	 $LN10@DGGuildMem

; 692  : 					{
; 693  : 						gObj[n].GuildStatus = lpMsg->btGuildStatus;

  016e1	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  016e4	0f b6 48 17	 movzx	 ecx, BYTE PTR [eax+23]
  016e8	8b 95 cc fd ff
	ff		 mov	 edx, DWORD PTR _n$232206[ebp]
  016ee	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  016f4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  016f9	89 8c 10 48 04
	00 00		 mov	 DWORD PTR [eax+edx+1096], ecx

; 694  : 						gObj[n].GuildNumber = gObj[n].lpGuild->Number;

  01700	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01706	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0170c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01712	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  01719	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  0171f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01725	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0172b	8b 12		 mov	 edx, DWORD PTR [edx]
  0172d	89 94 01 34 04
	00 00		 mov	 DWORD PTR [ecx+eax+1076], edx

; 695  : 						Guild.ConnectUser(gObj[n].lpGuild, lpMsg->GuildName, gObj[n].Name, n,  lpMsg->pServer);

  01734	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  01737	0f bf 48 1a	 movsx	 ecx, WORD PTR [eax+26]
  0173b	51		 push	 ecx
  0173c	8b 95 cc fd ff
	ff		 mov	 edx, DWORD PTR _n$232206[ebp]
  01742	52		 push	 edx
  01743	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01749	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0174f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01755	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  01759	52		 push	 edx
  0175a	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0175d	83 c0 03	 add	 eax, 3
  01760	50		 push	 eax
  01761	8b 8d cc fd ff
	ff		 mov	 ecx, DWORD PTR _n$232206[ebp]
  01767	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0176d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01773	8b 84 0a 38 04
	00 00		 mov	 eax, DWORD PTR [edx+ecx+1080]
  0177a	50		 push	 eax
  0177b	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  01780	e8 00 00 00 00	 call	 ?ConnectUser@CGuildClass@@QAEHPAU_GUILD_INFO_STRUCT@@PAD1HH@Z ; CGuildClass::ConnectUser

; 696  : 	
; 697  : 						if ( strlen(gObj[n].lpGuild->Notice) > 0 )

  01785	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  0178b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01791	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01797	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  0179e	81 c2 9c 05 00
	00		 add	 edx, 1436		; 0000059cH
  017a4	52		 push	 edx
  017a5	e8 00 00 00 00	 call	 _strlen
  017aa	83 c4 04	 add	 esp, 4
  017ad	85 c0		 test	 eax, eax
  017af	76 30		 jbe	 SHORT $LN9@DGGuildMem

; 698  : 						{
; 699  : 							GCServerMsgStringSend(gObj[n].lpGuild->Notice, n, 2);

  017b1	6a 02		 push	 2
  017b3	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  017b9	50		 push	 eax
  017ba	8b 8d cc fd ff
	ff		 mov	 ecx, DWORD PTR _n$232206[ebp]
  017c0	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  017c6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  017cc	8b 84 0a 38 04
	00 00		 mov	 eax, DWORD PTR [edx+ecx+1080]
  017d3	05 9c 05 00 00	 add	 eax, 1436		; 0000059cH
  017d8	50		 push	 eax
  017d9	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  017de	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN9@DGGuildMem:

; 700  : 						}
; 701  : 
; 702  : 						LogAddTD("[U.System][Guild Status][Info] Guild : %s / [%s][%s] / %d", szGuildName, gObj[n].AccountID, szName, gObj[n].GuildStatus);

  017e1	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  017e7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  017ed	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  017f3	8b 94 01 48 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1096]
  017fa	52		 push	 edx
  017fb	8d 85 d8 fd ff
	ff		 lea	 eax, DWORD PTR _szName$[ebp]
  01801	50		 push	 eax
  01802	8b 8d cc fd ff
	ff		 mov	 ecx, DWORD PTR _n$232206[ebp]
  01808	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0180e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01814	8d 44 0a 6c	 lea	 eax, DWORD PTR [edx+ecx+108]
  01818	50		 push	 eax
  01819	8d 8d e4 fd ff
	ff		 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  0181f	51		 push	 ecx
  01820	68 00 00 00 00	 push	 OFFSET ??_C@_0DK@MKLBBGMP@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLInfo?$FN?5G@
  01825	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0182b	83 c4 14	 add	 esp, 20			; 00000014H

; 703  : 
; 704  : 						LogAddTD(lMsg.Get(MSGGET(1, 184)), gObj[n].AccountID, szName, szGuildName);

  0182e	8d 85 e4 fd ff
	ff		 lea	 eax, DWORD PTR _szGuildName$[ebp]
  01834	50		 push	 eax
  01835	8d 8d d8 fd ff
	ff		 lea	 ecx, DWORD PTR _szName$[ebp]
  0183b	51		 push	 ecx
  0183c	8b 95 cc fd ff
	ff		 mov	 edx, DWORD PTR _n$232206[ebp]
  01842	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  01848	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0184d	8d 4c 10 6c	 lea	 ecx, DWORD PTR [eax+edx+108]
  01851	51		 push	 ecx
  01852	68 b8 01 00 00	 push	 440			; 000001b8H
  01857	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  0185c	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  01861	50		 push	 eax
  01862	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01868	83 c4 10	 add	 esp, 16			; 00000010H

; 705  : 
; 706  : 						pMsg.GuildNumber = gObj[n].GuildNumber;

  0186b	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01871	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01877	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0187d	8b 94 01 34 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1076]
  01884	89 95 f0 fd ff
	ff		 mov	 DWORD PTR _pMsg$[ebp], edx

; 707  : 						pMsg.NumberH = SET_NUMBERH(n) & 0x7F;

  0188a	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01890	c1 e8 08	 shr	 eax, 8
  01893	0f b6 c8	 movzx	 ecx, al
  01896	83 e1 7f	 and	 ecx, 127		; 0000007fH
  01899	88 8d f7 fd ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+7], cl

; 708  : 						pMsg.NumberL = SET_NUMBERL(n);

  0189f	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  018a5	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  018aa	88 85 f8 fd ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+8], al

; 709  : 
; 710  : 						if ( strcmp(gObj[n].lpGuild->Names[0], gObj[n].Name) == 0 ) // Case Guild Master

  018b0	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  018b6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  018bc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  018c2	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  018c6	52		 push	 edx
  018c7	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  018cd	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  018d3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  018d9	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  018e0	83 c2 2f	 add	 edx, 47			; 0000002fH
  018e3	52		 push	 edx
  018e4	e8 00 00 00 00	 call	 _strcmp
  018e9	83 c4 08	 add	 esp, 8
  018ec	85 c0		 test	 eax, eax
  018ee	75 12		 jne	 SHORT $LN8@DGGuildMem

; 711  : 						{
; 712  : 							pMsg.NumberH |= 0x80;

  018f0	0f b6 85 f7 fd
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+7]
  018f7	0d 80 00 00 00	 or	 eax, 128		; 00000080H
  018fc	88 85 f7 fd ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+7], al
$LN8@DGGuildMem:

; 713  : 						}
; 714  : 
; 715  : 						pMsg.btGuildStatus = gObj[n].GuildStatus;

  01902	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01908	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0190e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01914	8a 94 01 48 04
	00 00		 mov	 dl, BYTE PTR [ecx+eax+1096]
  0191b	88 95 f4 fd ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+4], dl

; 716  : 
; 717  : 						if ( gObj[n].lpGuild != NULL )

  01921	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01927	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0192d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01933	83 bc 01 38 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1080], 0
  0193b	74 27		 je	 SHORT $LN7@DGGuildMem

; 718  : 						{
; 719  : 							pMsg.btGuildType = gObj[n].lpGuild->btGuildType;

  0193d	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01943	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01949	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0194f	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  01956	8a 82 18 07 00
	00		 mov	 al, BYTE PTR [edx+1816]
  0195c	88 85 f5 fd ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+5], al

; 720  : 						}
; 721  : 						else

  01962	eb 07		 jmp	 SHORT $LN6@DGGuildMem
$LN7@DGGuildMem:

; 722  : 						{
; 723  : 							pMsg.btGuildType = G_TYPE_NONE;

  01964	c6 85 f5 fd ff
	ff ff		 mov	 BYTE PTR _pMsg$[ebp+5], 255 ; 000000ffH
$LN6@DGGuildMem:

; 724  : 						}
; 725  : 
; 726  : 						//Season 4.5 Addon start
; 727  :                         if(g_CastleSiegeSync.CheckCastleOwnerMember(gObj[n].m_Index) == 1 ||
; 728  :                            g_CastleSiegeSync.CheckCastleOwnerUnionMember(gObj[n].m_Index) == 1)

  0196b	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01971	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01977	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0197d	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  01980	52		 push	 edx
  01981	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  01986	e8 00 00 00 00	 call	 ?CheckCastleOwnerMember@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::CheckCastleOwnerMember
  0198b	83 f8 01	 cmp	 eax, 1
  0198e	74 25		 je	 SHORT $LN4@DGGuildMem
  01990	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01996	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0199c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  019a2	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  019a5	52		 push	 edx
  019a6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  019ab	e8 00 00 00 00	 call	 ?CheckCastleOwnerUnionMember@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::CheckCastleOwnerUnionMember
  019b0	83 f8 01	 cmp	 eax, 1
  019b3	75 09		 jne	 SHORT $LN5@DGGuildMem
$LN4@DGGuildMem:

; 729  :                         {
; 730  :                             pMsg.btOwnerStatus = 1;

  019b5	c6 85 f9 fd ff
	ff 01		 mov	 BYTE PTR _pMsg$[ebp+9], 1

; 731  :                         }
; 732  :                         else

  019bc	eb 07		 jmp	 SHORT $LN3@DGGuildMem
$LN5@DGGuildMem:

; 733  :                         {
; 734  :                             pMsg.btOwnerStatus = 0;

  019be	c6 85 f9 fd ff
	ff 00		 mov	 BYTE PTR _pMsg$[ebp+9], 0
$LN3@DGGuildMem:

; 735  :                         }
; 736  :                         //Season 4.5 Addon end
; 737  : 
; 738  : 						memcpy(&GuildInfoBuf[GuildInfoOfs], &pMsg, sizeof(PMSG_SIMPLE_GUILDVIEWPORT));

  019c5	6a 0c		 push	 12			; 0000000cH
  019c7	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  019cd	50		 push	 eax
  019ce	8b 8d d4 fd ff
	ff		 mov	 ecx, DWORD PTR _GuildInfoOfs$[ebp]
  019d4	8d 94 0d fc fd
	ff ff		 lea	 edx, DWORD PTR _GuildInfoBuf$[ebp+ecx]
  019db	52		 push	 edx
  019dc	e8 00 00 00 00	 call	 _memcpy
  019e1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 739  : 						GuildInfoOfs += sizeof(PMSG_SIMPLE_GUILDVIEWPORT);

  019e4	8b 85 d4 fd ff
	ff		 mov	 eax, DWORD PTR _GuildInfoOfs$[ebp]
  019ea	83 c0 0c	 add	 eax, 12			; 0000000cH
  019ed	89 85 d4 fd ff
	ff		 mov	 DWORD PTR _GuildInfoOfs$[ebp], eax

; 740  : 
; 741  : 						PMSG_SIMPLE_GUILDVIEWPORT_COUNT pGVCount;
; 742  : 						
; 743  : 						pGVCount.h.c = 0xC2;

  019f3	c6 85 c4 fd ff
	ff c2		 mov	 BYTE PTR _pGVCount$232229[ebp], 194 ; 000000c2H

; 744  : 						pGVCount.h.headcode = 0x65;

  019fa	c6 85 c7 fd ff
	ff 65		 mov	 BYTE PTR _pGVCount$232229[ebp+3], 101 ; 00000065H

; 745  : 						pGVCount.h.sizeH = SET_NUMBERH(GuildInfoOfs);

  01a01	8b 85 d4 fd ff
	ff		 mov	 eax, DWORD PTR _GuildInfoOfs$[ebp]
  01a07	c1 e8 08	 shr	 eax, 8
  01a0a	88 85 c5 fd ff
	ff		 mov	 BYTE PTR _pGVCount$232229[ebp+1], al

; 746  : 						pGVCount.h.sizeL = SET_NUMBERL(GuildInfoOfs);

  01a10	8b 85 d4 fd ff
	ff		 mov	 eax, DWORD PTR _GuildInfoOfs$[ebp]
  01a16	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  01a1b	88 85 c6 fd ff
	ff		 mov	 BYTE PTR _pGVCount$232229[ebp+2], al

; 747  : 						pGVCount.Count = 0x01;

  01a21	c6 85 c8 fd ff
	ff 01		 mov	 BYTE PTR _pGVCount$232229[ebp+4], 1

; 748  : 						memcpy(GuildInfoBuf, &pGVCount, sizeof(PMSG_SIMPLE_GUILDVIEWPORT_COUNT));

  01a28	6a 05		 push	 5
  01a2a	8d 85 c4 fd ff
	ff		 lea	 eax, DWORD PTR _pGVCount$232229[ebp]
  01a30	50		 push	 eax
  01a31	8d 8d fc fd ff
	ff		 lea	 ecx, DWORD PTR _GuildInfoBuf$[ebp]
  01a37	51		 push	 ecx
  01a38	e8 00 00 00 00	 call	 _memcpy
  01a3d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 749  : 
; 750  : 						DataSend(n, (LPBYTE)GuildInfoBuf, GuildInfoOfs);

  01a40	8b 85 d4 fd ff
	ff		 mov	 eax, DWORD PTR _GuildInfoOfs$[ebp]
  01a46	50		 push	 eax
  01a47	8d 8d fc fd ff
	ff		 lea	 ecx, DWORD PTR _GuildInfoBuf$[ebp]
  01a4d	51		 push	 ecx
  01a4e	8b 95 cc fd ff
	ff		 mov	 edx, DWORD PTR _n$232206[ebp]
  01a54	52		 push	 edx
  01a55	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  01a5a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 751  : #if(EVENT_DUNGEON_SIEGE)
; 752  : 						g_DungeonSiege.GCGuildNumber(n);

  01a5d	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01a63	50		 push	 eax
  01a64	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DungeonSiege@@3VCDungeonSiege@@A ; g_DungeonSiege
  01a69	e8 00 00 00 00	 call	 ?GCGuildNumber@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::GCGuildNumber

; 753  : #endif
; 754  : 
; 755  : 						if ( gObj[n].lpGuild->WarState != 0 )

  01a6e	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01a74	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01a7a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01a80	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  01a87	0f b6 82 91 05
	00 00		 movzx	 eax, BYTE PTR [edx+1425]
  01a8e	85 c0		 test	 eax, eax
  01a90	74 3e		 je	 SHORT $LN2@DGGuildMem

; 756  : 						{
; 757  : 							GCGuildWarScore(n);

  01a92	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01a98	50		 push	 eax
  01a99	e8 00 00 00 00	 call	 ?GCGuildWarScore@@YAXH@Z ; GCGuildWarScore
  01a9e	83 c4 04	 add	 esp, 4

; 758  : 							GCGuildWarDeclare(n, gObj[n].lpGuild->TargetGuildName);

  01aa1	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01aa7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01aad	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01ab3	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  01aba	81 c2 e0 04 00
	00		 add	 edx, 1248		; 000004e0H
  01ac0	52		 push	 edx
  01ac1	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01ac7	50		 push	 eax
  01ac8	e8 00 00 00 00	 call	 ?GCGuildWarDeclare@@YAXHPAD@Z ; GCGuildWarDeclare
  01acd	83 c4 08	 add	 esp, 8
$LN2@DGGuildMem:

; 759  : 						}
; 760  : 					}
; 761  : 					else

  01ad0	eb 4d		 jmp	 SHORT $LN1@DGGuildMem
$LN10@DGGuildMem:

; 762  : 					{
; 763  : //#if(GS_CASTLE==1)
; 764  : 						gObj[n].m_btCsJoinSide = 0;

  01ad2	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01ad8	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01ade	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01ae4	c6 84 01 02 1c
	00 00 00	 mov	 BYTE PTR [ecx+eax+7170], 0

; 765  : 						gObj[n].m_bCsGuildInvolved = 0;

  01aec	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR _n$232206[ebp]
  01af2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01af8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01afe	c6 84 01 03 1c
	00 00 00	 mov	 BYTE PTR [ecx+eax+7171], 0

; 766  : //#endif
; 767  : 						LogAddTD(lMsg.Get(MSGGET(1, 185)));

  01b06	68 b9 01 00 00	 push	 441			; 000001b9H
  01b0b	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  01b10	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  01b15	50		 push	 eax
  01b16	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01b1c	83 c4 04	 add	 esp, 4
$LN1@DGGuildMem:

; 768  : 					}
; 769  : 
; 770  : 					return;

  01b1f	eb 25		 jmp	 SHORT $LN17@DGGuildMem
$LN13@DGGuildMem:

; 771  : 				}
; 772  : 			}
; 773  : 		}
; 774  : 	}

  01b21	e9 48 fa ff ff	 jmp	 $LN15@DGGuildMem
$LN14@DGGuildMem:

; 775  : 
; 776  : 	Guild.SetServer(szGuildName, szName, lpMsg->pServer);

  01b26	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  01b29	0f bf 48 1a	 movsx	 ecx, WORD PTR [eax+26]
  01b2d	51		 push	 ecx
  01b2e	8d 95 d8 fd ff
	ff		 lea	 edx, DWORD PTR _szName$[ebp]
  01b34	52		 push	 edx
  01b35	8d 85 e4 fd ff
	ff		 lea	 eax, DWORD PTR _szGuildName$[ebp]
  01b3b	50		 push	 eax
  01b3c	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  01b41	e8 00 00 00 00	 call	 ?SetServer@CGuildClass@@QAEHPAD0H@Z ; CGuildClass::SetServer
$LN17@DGGuildMem:

; 777  : }

  01b46	5f		 pop	 edi
  01b47	5e		 pop	 esi
  01b48	5b		 pop	 ebx
  01b49	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01b4c	33 cd		 xor	 ecx, ebp
  01b4e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01b53	8b e5		 mov	 esp, ebp
  01b55	5d		 pop	 ebp
  01b56	c3		 ret	 0
?DGGuildMemberInfo@@YAXPAUSDHP_GUILDMEMBER_INFO@@@Z ENDP ; DGGuildMemberInfo
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	?SetGuildType@CGuildClass@@QAEHPADH@Z:PROC	; CGuildClass::SetGuildType
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_n$232281 = -48						; size = 4
_lpGuild$ = -44						; size = 4
_szMasterName$ = -40					; size = 11
_szGuildName$ = -28					; size = 9
_lOfs$ = -16						; size = 4
_lpList$ = -12						; size = 4
_lpCount$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpData$ = 8						; size = 4
?DGGuildMasterListRecv@@YAXPAE@Z PROC			; DGGuildMasterListRecv

; 802  : {

  01b60	55		 push	 ebp
  01b61	8b ec		 mov	 ebp, esp
  01b63	83 ec 70	 sub	 esp, 112		; 00000070H
  01b66	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  01b6b	33 c5		 xor	 eax, ebp
  01b6d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01b70	53		 push	 ebx
  01b71	56		 push	 esi
  01b72	57		 push	 edi

; 803  : 	SDHP_GUILDALL_COUNT * lpCount;
; 804  : 	SDHP_GUILDALL * lpList;
; 805  : 	int lOfs = sizeof(SDHP_GUILDALL_COUNT);

  01b73	c7 45 f0 58 00
	00 00		 mov	 DWORD PTR _lOfs$[ebp], 88 ; 00000058H

; 806  : 	char szGuildName[MAX_GUILD_LEN+1];
; 807  : 	char szMasterName[MAX_ACCOUNT_LEN+1];
; 808  : 
; 809  : 	memset(szMasterName, 0, sizeof(szMasterName));

  01b7a	6a 0b		 push	 11			; 0000000bH
  01b7c	6a 00		 push	 0
  01b7e	8d 45 d8	 lea	 eax, DWORD PTR _szMasterName$[ebp]
  01b81	50		 push	 eax
  01b82	e8 00 00 00 00	 call	 _memset
  01b87	83 c4 0c	 add	 esp, 12			; 0000000cH

; 810  : 	memset(szGuildName, 0, sizeof(szGuildName));

  01b8a	6a 09		 push	 9
  01b8c	6a 00		 push	 0
  01b8e	8d 45 e4	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  01b91	50		 push	 eax
  01b92	e8 00 00 00 00	 call	 _memset
  01b97	83 c4 0c	 add	 esp, 12			; 0000000cH

; 811  : 	lpCount = (SDHP_GUILDALL_COUNT *)lpData;

  01b9a	8b 45 08	 mov	 eax, DWORD PTR _lpData$[ebp]
  01b9d	89 45 f8	 mov	 DWORD PTR _lpCount$[ebp], eax

; 812  : 	memcpy(szGuildName, lpCount->GuildName, sizeof(lpCount->GuildName)-1);

  01ba0	6a 08		 push	 8
  01ba2	8b 45 f8	 mov	 eax, DWORD PTR _lpCount$[ebp]
  01ba5	83 c0 08	 add	 eax, 8
  01ba8	50		 push	 eax
  01ba9	8d 4d e4	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  01bac	51		 push	 ecx
  01bad	e8 00 00 00 00	 call	 _memcpy
  01bb2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 813  : 	memcpy(szMasterName, lpCount->Master, sizeof(lpCount->Master)-1);

  01bb5	6a 0a		 push	 10			; 0000000aH
  01bb7	8b 45 f8	 mov	 eax, DWORD PTR _lpCount$[ebp]
  01bba	83 c0 11	 add	 eax, 17			; 00000011H
  01bbd	50		 push	 eax
  01bbe	8d 4d d8	 lea	 ecx, DWORD PTR _szMasterName$[ebp]
  01bc1	51		 push	 ecx
  01bc2	e8 00 00 00 00	 call	 _memcpy
  01bc7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 814  : 
; 815  : 	if ( strlen(szGuildName) < 1 )

  01bca	8d 45 e4	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  01bcd	50		 push	 eax
  01bce	e8 00 00 00 00	 call	 _strlen
  01bd3	83 c4 04	 add	 esp, 4
  01bd6	83 f8 01	 cmp	 eax, 1
  01bd9	73 05		 jae	 SHORT $LN7@DGGuildMas

; 816  : 	{
; 817  : 		return;

  01bdb	e9 17 01 00 00	 jmp	 $LN8@DGGuildMas
$LN7@DGGuildMas:

; 818  : 	}
; 819  : 
; 820  : 	if ( lpCount->Count < 1 )

  01be0	8b 45 f8	 mov	 eax, DWORD PTR _lpCount$[ebp]
  01be3	0f b6 48 55	 movzx	 ecx, BYTE PTR [eax+85]
  01be7	83 f9 01	 cmp	 ecx, 1
  01bea	7d 05		 jge	 SHORT $LN6@DGGuildMas

; 821  : 	{
; 822  : 		return;

  01bec	e9 06 01 00 00	 jmp	 $LN8@DGGuildMas
$LN6@DGGuildMas:

; 823  : 	}
; 824  : 
; 825  : 	Guild.AddGuild(lpCount->Number, szGuildName, lpCount->Mark, szMasterName, lpCount->score);

  01bf1	8b 45 f8	 mov	 eax, DWORD PTR _lpCount$[ebp]
  01bf4	8b 48 3c	 mov	 ecx, DWORD PTR [eax+60]
  01bf7	51		 push	 ecx
  01bf8	8d 55 d8	 lea	 edx, DWORD PTR _szMasterName$[ebp]
  01bfb	52		 push	 edx
  01bfc	8b 45 f8	 mov	 eax, DWORD PTR _lpCount$[ebp]
  01bff	83 c0 1c	 add	 eax, 28			; 0000001cH
  01c02	50		 push	 eax
  01c03	8d 4d e4	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  01c06	51		 push	 ecx
  01c07	8b 55 f8	 mov	 edx, DWORD PTR _lpCount$[ebp]
  01c0a	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  01c0d	50		 push	 eax
  01c0e	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  01c13	e8 00 00 00 00	 call	 ?AddGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@HPADPAE0H@Z ; CGuildClass::AddGuild

; 826  : 	Guild.SetGuildType(szGuildName, lpCount->btGuildType);

  01c18	8b 45 f8	 mov	 eax, DWORD PTR _lpCount$[ebp]
  01c1b	0f b6 48 40	 movzx	 ecx, BYTE PTR [eax+64]
  01c1f	51		 push	 ecx
  01c20	8d 55 e4	 lea	 edx, DWORD PTR _szGuildName$[ebp]
  01c23	52		 push	 edx
  01c24	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  01c29	e8 00 00 00 00	 call	 ?SetGuildType@CGuildClass@@QAEHPADH@Z ; CGuildClass::SetGuildType

; 827  : 
; 828  : 	_GUILD_INFO_STRUCT * lpGuild = Guild.SearchGuild_Number(lpCount->Number);

  01c2e	8b 45 f8	 mov	 eax, DWORD PTR _lpCount$[ebp]
  01c31	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  01c34	51		 push	 ecx
  01c35	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  01c3a	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  01c3f	89 45 d4	 mov	 DWORD PTR _lpGuild$[ebp], eax

; 829  : 
; 830  : 	if ( lpGuild != NULL )

  01c42	83 7d d4 00	 cmp	 DWORD PTR _lpGuild$[ebp], 0
  01c46	74 39		 je	 SHORT $LN5@DGGuildMas

; 831  : 	{
; 832  : 		lpGuild->iGuildUnion = lpCount->iGuildUnion;

  01c48	8b 45 d4	 mov	 eax, DWORD PTR _lpGuild$[ebp]
  01c4b	8b 4d f8	 mov	 ecx, DWORD PTR _lpCount$[ebp]
  01c4e	8b 51 44	 mov	 edx, DWORD PTR [ecx+68]
  01c51	89 90 1c 07 00
	00		 mov	 DWORD PTR [eax+1820], edx

; 833  : 		lpGuild->iGuildRival = lpCount->iGuildRival;

  01c57	8b 45 d4	 mov	 eax, DWORD PTR _lpGuild$[ebp]
  01c5a	8b 4d f8	 mov	 ecx, DWORD PTR _lpCount$[ebp]
  01c5d	8b 51 48	 mov	 edx, DWORD PTR [ecx+72]
  01c60	89 90 20 07 00
	00		 mov	 DWORD PTR [eax+1824], edx

; 834  : 		memcpy(lpGuild->szGuildRivalName, lpCount->szGuildRivalName, sizeof(lpCount->szGuildRivalName)-1);

  01c66	6a 08		 push	 8
  01c68	8b 45 f8	 mov	 eax, DWORD PTR _lpCount$[ebp]
  01c6b	83 c0 4c	 add	 eax, 76			; 0000004cH
  01c6e	50		 push	 eax
  01c6f	8b 4d d4	 mov	 ecx, DWORD PTR _lpGuild$[ebp]
  01c72	81 c1 28 07 00
	00		 add	 ecx, 1832		; 00000728H
  01c78	51		 push	 ecx
  01c79	e8 00 00 00 00	 call	 _memcpy
  01c7e	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN5@DGGuildMas:

; 835  : 	}
; 836  : 
; 837  : 	for ( int n=0;n<lpCount->Count;n++)

  01c81	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _n$232281[ebp], 0
  01c88	eb 09		 jmp	 SHORT $LN4@DGGuildMas
$LN3@DGGuildMas:
  01c8a	8b 45 d0	 mov	 eax, DWORD PTR _n$232281[ebp]
  01c8d	83 c0 01	 add	 eax, 1
  01c90	89 45 d0	 mov	 DWORD PTR _n$232281[ebp], eax
$LN4@DGGuildMas:
  01c93	8b 45 f8	 mov	 eax, DWORD PTR _lpCount$[ebp]
  01c96	0f b6 48 55	 movzx	 ecx, BYTE PTR [eax+85]
  01c9a	39 4d d0	 cmp	 DWORD PTR _n$232281[ebp], ecx
  01c9d	7d 58		 jge	 SHORT $LN8@DGGuildMas

; 838  : 	{
; 839  : 		lpList = (SDHP_GUILDALL *)&lpData[lOfs];

  01c9f	8b 45 08	 mov	 eax, DWORD PTR _lpData$[ebp]
  01ca2	03 45 f0	 add	 eax, DWORD PTR _lOfs$[ebp]
  01ca5	89 45 f4	 mov	 DWORD PTR _lpList$[ebp], eax

; 840  : 
; 841  : 		memcpy(szMasterName, lpList->MemberID, sizeof(lpList->MemberID)-1);

  01ca8	6a 0a		 push	 10			; 0000000aH
  01caa	8b 45 f4	 mov	 eax, DWORD PTR _lpList$[ebp]
  01cad	50		 push	 eax
  01cae	8d 4d d8	 lea	 ecx, DWORD PTR _szMasterName$[ebp]
  01cb1	51		 push	 ecx
  01cb2	e8 00 00 00 00	 call	 _memcpy
  01cb7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 842  : 		
; 843  : 		if ( Guild.AddMember(szGuildName, szMasterName, -1, lpCount->Count,lpList->btGuildStatus, lpList->pServer) == FALSE )

  01cba	8b 45 f4	 mov	 eax, DWORD PTR _lpList$[ebp]
  01cbd	0f bf 48 0c	 movsx	 ecx, WORD PTR [eax+12]
  01cc1	51		 push	 ecx
  01cc2	8b 55 f4	 mov	 edx, DWORD PTR _lpList$[ebp]
  01cc5	0f b6 42 0b	 movzx	 eax, BYTE PTR [edx+11]
  01cc9	50		 push	 eax
  01cca	8b 4d f8	 mov	 ecx, DWORD PTR _lpCount$[ebp]
  01ccd	0f b6 51 55	 movzx	 edx, BYTE PTR [ecx+85]
  01cd1	52		 push	 edx
  01cd2	6a ff		 push	 -1
  01cd4	8d 45 d8	 lea	 eax, DWORD PTR _szMasterName$[ebp]
  01cd7	50		 push	 eax
  01cd8	8d 4d e4	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  01cdb	51		 push	 ecx
  01cdc	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  01ce1	e8 00 00 00 00	 call	 ?AddMember@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD0HHHH@Z ; CGuildClass::AddMember
  01ce6	85 c0		 test	 eax, eax
  01ce8	75 02		 jne	 SHORT $LN1@DGGuildMas

; 844  : 		{
; 845  : 			break;

  01cea	eb 0b		 jmp	 SHORT $LN8@DGGuildMas
$LN1@DGGuildMas:

; 846  : 		}
; 847  : 
; 848  : 		lOfs += sizeof(SDHP_GUILDALL);

  01cec	8b 45 f0	 mov	 eax, DWORD PTR _lOfs$[ebp]
  01cef	83 c0 0e	 add	 eax, 14			; 0000000eH
  01cf2	89 45 f0	 mov	 DWORD PTR _lOfs$[ebp], eax

; 849  : 	}

  01cf5	eb 93		 jmp	 SHORT $LN3@DGGuildMas
$LN8@DGGuildMas:

; 850  : }

  01cf7	5f		 pop	 edi
  01cf8	5e		 pop	 esi
  01cf9	5b		 pop	 ebx
  01cfa	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01cfd	33 cd		 xor	 ecx, ebp
  01cff	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01d04	8b e5		 mov	 esp, ebp
  01d06	5d		 pop	 ebp
  01d07	c3		 ret	 0
?DGGuildMasterListRecv@@YAXPAE@Z ENDP			; DGGuildMasterListRecv
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?DGGuildScoreUpdate@@YAXPADH@Z			; DGGuildScoreUpdate
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -20						; size = 16
__$ArrayPad$ = -4					; size = 4
_guildname$ = 8						; size = 4
_score$ = 12						; size = 4
?DGGuildScoreUpdate@@YAXPADH@Z PROC			; DGGuildScoreUpdate

; 853  : {

  01d10	55		 push	 ebp
  01d11	8b ec		 mov	 ebp, esp
  01d13	83 ec 54	 sub	 esp, 84			; 00000054H
  01d16	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  01d1b	33 c5		 xor	 eax, ebp
  01d1d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01d20	53		 push	 ebx
  01d21	56		 push	 esi
  01d22	57		 push	 edi

; 854  : 	SDHP_GUILDSCOREUPDATE pMsg;
; 855  : 
; 856  : 	pMsg.h.set((LPBYTE)&pMsg, 0x37, sizeof(SDHP_GUILDSCOREUPDATE));

  01d23	6a 10		 push	 16			; 00000010H
  01d25	6a 37		 push	 55			; 00000037H
  01d27	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$[ebp]
  01d2a	50		 push	 eax
  01d2b	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  01d2e	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 857  : 	pMsg.Score = score;

  01d33	8b 45 0c	 mov	 eax, DWORD PTR _score$[ebp]
  01d36	89 45 f8	 mov	 DWORD PTR _pMsg$[ebp+12], eax

; 858  : 	strcpy(pMsg.GuildName, guildname);

  01d39	8b 45 08	 mov	 eax, DWORD PTR _guildname$[ebp]
  01d3c	50		 push	 eax
  01d3d	8d 4d ef	 lea	 ecx, DWORD PTR _pMsg$[ebp+3]
  01d40	51		 push	 ecx
  01d41	e8 00 00 00 00	 call	 _strcpy
  01d46	83 c4 08	 add	 esp, 8

; 859  : 
; 860  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  01d49	0f b6 45 ed	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  01d4d	50		 push	 eax
  01d4e	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  01d51	51		 push	 ecx
  01d52	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  01d57	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 861  : 
; 862  : 	LogAdd(lMsg.Get(MSGGET(1, 186)), guildname, score);

  01d5c	8b 45 0c	 mov	 eax, DWORD PTR _score$[ebp]
  01d5f	50		 push	 eax
  01d60	8b 4d 08	 mov	 ecx, DWORD PTR _guildname$[ebp]
  01d63	51		 push	 ecx
  01d64	68 ba 01 00 00	 push	 442			; 000001baH
  01d69	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  01d6e	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  01d73	50		 push	 eax
  01d74	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  01d7a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 863  : }

  01d7d	5f		 pop	 edi
  01d7e	5e		 pop	 esi
  01d7f	5b		 pop	 ebx
  01d80	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01d83	33 cd		 xor	 ecx, ebp
  01d85	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01d8a	8b e5		 mov	 esp, ebp
  01d8c	5d		 pop	 ebp
  01d8d	c3		 ret	 0
?DGGuildScoreUpdate@@YAXPADH@Z ENDP			; DGGuildScoreUpdate
; Function compile flags: /Odtp /ZI
_lpNode$ = -4						; size = 4
_lpMsg$ = 8						; size = 4
?GDGuildScoreUpdateRecv@@YAXPAUSDHP_GUILDSCOREUPDATE@@@Z PROC ; GDGuildScoreUpdateRecv

; 866  : {

  01d90	55		 push	 ebp
  01d91	8b ec		 mov	 ebp, esp
  01d93	83 ec 44	 sub	 esp, 68			; 00000044H
  01d96	53		 push	 ebx
  01d97	56		 push	 esi
  01d98	57		 push	 edi

; 867  : 	_GUILD_INFO_STRUCT * lpNode = Guild.SearchGuild(lpMsg->GuildName);

  01d99	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  01d9c	83 c0 03	 add	 eax, 3
  01d9f	50		 push	 eax
  01da0	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  01da5	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  01daa	89 45 fc	 mov	 DWORD PTR _lpNode$[ebp], eax

; 868  : 
; 869  : 	if ( lpNode == NULL )

  01dad	83 7d fc 00	 cmp	 DWORD PTR _lpNode$[ebp], 0
  01db1	75 02		 jne	 SHORT $LN1@GDGuildSco

; 870  : 	{
; 871  : 		return;

  01db3	eb 36		 jmp	 SHORT $LN2@GDGuildSco
$LN1@GDGuildSco:

; 872  : 	}
; 873  : 
; 874  : 	lpNode->TotalScore = lpMsg->Score;

  01db5	8b 45 fc	 mov	 eax, DWORD PTR _lpNode$[ebp]
  01db8	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  01dbb	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  01dbe	89 90 98 05 00
	00		 mov	 DWORD PTR [eax+1432], edx

; 875  : 	LogAdd(lMsg.Get(MSGGET(1, 187)), lpMsg->GuildName, lpMsg->Score);

  01dc4	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  01dc7	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  01dca	51		 push	 ecx
  01dcb	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  01dce	83 c2 03	 add	 edx, 3
  01dd1	52		 push	 edx
  01dd2	68 bb 01 00 00	 push	 443			; 000001bbH
  01dd7	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  01ddc	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  01de1	50		 push	 eax
  01de2	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  01de8	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@GDGuildSco:

; 876  : }

  01deb	5f		 pop	 edi
  01dec	5e		 pop	 esi
  01ded	5b		 pop	 ebx
  01dee	8b e5		 mov	 esp, ebp
  01df0	5d		 pop	 ebp
  01df1	c3		 ret	 0
?GDGuildScoreUpdateRecv@@YAXPAUSDHP_GUILDSCOREUPDATE@@@Z ENDP ; GDGuildScoreUpdateRecv
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDGuildNoticeSave@@YAXPAD0@Z			; GDGuildNoticeSave
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_len$ = -112						; size = 4
_pMsg$ = -108						; size = 101
__$ArrayPad$ = -4					; size = 4
_guild_name$ = 8					; size = 4
_guild_notice$ = 12					; size = 4
?GDGuildNoticeSave@@YAXPAD0@Z PROC			; GDGuildNoticeSave

; 879  : {

  01e00	55		 push	 ebp
  01e01	8b ec		 mov	 ebp, esp
  01e03	81 ec b0 00 00
	00		 sub	 esp, 176		; 000000b0H
  01e09	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  01e0e	33 c5		 xor	 eax, ebp
  01e10	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01e13	53		 push	 ebx
  01e14	56		 push	 esi
  01e15	57		 push	 edi

; 880  : 	SDHP_GUILDNOTICE pMsg;
; 881  : 
; 882  : 	int len = strlen((char*)guild_notice);

  01e16	8b 45 0c	 mov	 eax, DWORD PTR _guild_notice$[ebp]
  01e19	50		 push	 eax
  01e1a	e8 00 00 00 00	 call	 _strlen
  01e1f	83 c4 04	 add	 esp, 4
  01e22	89 45 90	 mov	 DWORD PTR _len$[ebp], eax

; 883  : 
; 884  : 	if ( len < 1 )

  01e25	83 7d 90 01	 cmp	 DWORD PTR _len$[ebp], 1
  01e29	7d 02		 jge	 SHORT $LN2@GDGuildNot

; 885  : 	{
; 886  : 		return;

  01e2b	eb 47		 jmp	 SHORT $LN3@GDGuildNot
$LN2@GDGuildNot:

; 887  : 	}
; 888  : 
; 889  : 	if ( len > MAX_CHAT_LEN-2 )

  01e2d	83 7d 90 57	 cmp	 DWORD PTR _len$[ebp], 87 ; 00000057H
  01e31	7e 02		 jle	 SHORT $LN1@GDGuildNot

; 890  : 	{
; 891  : 		return;

  01e33	eb 3f		 jmp	 SHORT $LN3@GDGuildNot
$LN1@GDGuildNot:

; 892  : 	}
; 893  : 
; 894  : 	pMsg.h.c = 0xC1;

  01e35	c6 45 94 c1	 mov	 BYTE PTR _pMsg$[ebp], 193 ; 000000c1H

; 895  : 	pMsg.h.headcode = 0x38;

  01e39	c6 45 96 38	 mov	 BYTE PTR _pMsg$[ebp+2], 56 ; 00000038H

; 896  : 	pMsg.h.size = sizeof(SDHP_GUILDNOTICE);

  01e3d	c6 45 95 65	 mov	 BYTE PTR _pMsg$[ebp+1], 101 ; 00000065H

; 897  : 	strcpy(pMsg.GuildName, guild_name);

  01e41	8b 45 08	 mov	 eax, DWORD PTR _guild_name$[ebp]
  01e44	50		 push	 eax
  01e45	8d 4d 97	 lea	 ecx, DWORD PTR _pMsg$[ebp+3]
  01e48	51		 push	 ecx
  01e49	e8 00 00 00 00	 call	 _strcpy
  01e4e	83 c4 08	 add	 esp, 8

; 898  : 	//memcpy(pMsg.szGuildNotice, guild_notice, MAX_CHAT_LEN_OLD-1); //for fix some
; 899  : 	strcpy(pMsg.szGuildNotice, guild_notice);

  01e51	8b 45 0c	 mov	 eax, DWORD PTR _guild_notice$[ebp]
  01e54	50		 push	 eax
  01e55	8d 4d a0	 lea	 ecx, DWORD PTR _pMsg$[ebp+12]
  01e58	51		 push	 ecx
  01e59	e8 00 00 00 00	 call	 _strcpy
  01e5e	83 c4 08	 add	 esp, 8

; 900  : 
; 901  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  01e61	0f b6 45 95	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  01e65	50		 push	 eax
  01e66	8d 4d 94	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  01e69	51		 push	 ecx
  01e6a	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  01e6f	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
$LN3@GDGuildNot:

; 902  : }

  01e74	5f		 pop	 edi
  01e75	5e		 pop	 esi
  01e76	5b		 pop	 ebx
  01e77	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01e7a	33 cd		 xor	 ecx, ebp
  01e7c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01e81	8b e5		 mov	 esp, ebp
  01e83	5d		 pop	 ebp
  01e84	c3		 ret	 0
?GDGuildNoticeSave@@YAXPAD0@Z ENDP			; GDGuildNoticeSave
; Function compile flags: /Odtp /ZI
_n$232317 = -8						; size = 4
_lpNode$ = -4						; size = 4
_lpMsg$ = 8						; size = 4
?DGGuildNoticeRecv@@YAXPAUSDHP_GUILDNOTICE@@@Z PROC	; DGGuildNoticeRecv

; 905  : {

  01e90	55		 push	 ebp
  01e91	8b ec		 mov	 ebp, esp
  01e93	83 ec 48	 sub	 esp, 72			; 00000048H
  01e96	53		 push	 ebx
  01e97	56		 push	 esi
  01e98	57		 push	 edi

; 906  : 	_GUILD_INFO_STRUCT * lpNode = Guild.SearchGuild(lpMsg->GuildName);

  01e99	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  01e9c	83 c0 03	 add	 eax, 3
  01e9f	50		 push	 eax
  01ea0	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  01ea5	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  01eaa	89 45 fc	 mov	 DWORD PTR _lpNode$[ebp], eax

; 907  : 
; 908  : 	if ( lpNode == NULL )

  01ead	83 7d fc 00	 cmp	 DWORD PTR _lpNode$[ebp], 0
  01eb1	75 05		 jne	 SHORT $LN5@DGGuildNot@2

; 909  : 	{
; 910  : 		return;

  01eb3	e9 9d 00 00 00	 jmp	 $LN6@DGGuildNot@2
$LN5@DGGuildNot@2:

; 911  : 	}
; 912  : 
; 913  : 	strcpy(lpNode->Notice, lpMsg->szGuildNotice);

  01eb8	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  01ebb	83 c0 0c	 add	 eax, 12			; 0000000cH
  01ebe	50		 push	 eax
  01ebf	8b 4d fc	 mov	 ecx, DWORD PTR _lpNode$[ebp]
  01ec2	81 c1 9c 05 00
	00		 add	 ecx, 1436		; 0000059cH
  01ec8	51		 push	 ecx
  01ec9	e8 00 00 00 00	 call	 _strcpy
  01ece	83 c4 08	 add	 esp, 8

; 914  : 	LogAddTD(lMsg.Get(MSGGET(1, 188)), lpMsg->GuildName, lpMsg->szGuildNotice);

  01ed1	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  01ed4	83 c0 0c	 add	 eax, 12			; 0000000cH
  01ed7	50		 push	 eax
  01ed8	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  01edb	83 c1 03	 add	 ecx, 3
  01ede	51		 push	 ecx
  01edf	68 bc 01 00 00	 push	 444			; 000001bcH
  01ee4	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  01ee9	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  01eee	50		 push	 eax
  01eef	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01ef5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 915  : 
; 916  : 	for ( int n=0;n<MAX_USER_GUILD;n++)

  01ef8	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _n$232317[ebp], 0
  01eff	eb 09		 jmp	 SHORT $LN4@DGGuildNot@2
$LN3@DGGuildNot@2:
  01f01	8b 45 f8	 mov	 eax, DWORD PTR _n$232317[ebp]
  01f04	83 c0 01	 add	 eax, 1
  01f07	89 45 f8	 mov	 DWORD PTR _n$232317[ebp], eax
$LN4@DGGuildNot@2:
  01f0a	83 7d f8 50	 cmp	 DWORD PTR _n$232317[ebp], 80 ; 00000050H
  01f0e	7d 45		 jge	 SHORT $LN6@DGGuildNot@2

; 917  : 	{
; 918  : 		if ( lpNode->Use[n] > 0 && lpNode->Index[n] >= 0 )

  01f10	8b 45 fc	 mov	 eax, DWORD PTR _lpNode$[ebp]
  01f13	03 45 f8	 add	 eax, DWORD PTR _n$232317[ebp]
  01f16	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  01f1d	85 c9		 test	 ecx, ecx
  01f1f	7e 32		 jle	 SHORT $LN1@DGGuildNot@2
  01f21	8b 45 f8	 mov	 eax, DWORD PTR _n$232317[ebp]
  01f24	8b 4d fc	 mov	 ecx, DWORD PTR _lpNode$[ebp]
  01f27	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  01f2f	85 d2		 test	 edx, edx
  01f31	7c 20		 jl	 SHORT $LN1@DGGuildNot@2

; 919  : 		{
; 920  : 			GCServerMsgStringSend(lpMsg->szGuildNotice, lpNode->Index[n], 2);

  01f33	6a 02		 push	 2
  01f35	8b 45 f8	 mov	 eax, DWORD PTR _n$232317[ebp]
  01f38	8b 4d fc	 mov	 ecx, DWORD PTR _lpNode$[ebp]
  01f3b	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  01f43	52		 push	 edx
  01f44	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  01f47	83 c0 0c	 add	 eax, 12			; 0000000cH
  01f4a	50		 push	 eax
  01f4b	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  01f50	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@DGGuildNot@2:

; 921  : 		}
; 922  : 	}

  01f53	eb ac		 jmp	 SHORT $LN3@DGGuildNot@2
$LN6@DGGuildNot@2:

; 923  : }

  01f55	5f		 pop	 edi
  01f56	5e		 pop	 esi
  01f57	5b		 pop	 ebx
  01f58	8b e5		 mov	 esp, ebp
  01f5a	5d		 pop	 ebp
  01f5b	c3		 ret	 0
?DGGuildNoticeRecv@@YAXPAUSDHP_GUILDNOTICE@@@Z ENDP	; DGGuildNoticeRecv
_TEXT	ENDS
PUBLIC	?DGGuildListRequest@@YAXXZ			; DGGuildListRequest
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -4						; size = 3
?DGGuildListRequest@@YAXXZ PROC				; DGGuildListRequest

; 931  : {

  01f60	55		 push	 ebp
  01f61	8b ec		 mov	 ebp, esp
  01f63	83 ec 44	 sub	 esp, 68			; 00000044H
  01f66	53		 push	 ebx
  01f67	56		 push	 esi
  01f68	57		 push	 edi

; 932  : 	SDHP_GUILDLISTREQUEST pMsg;
; 933  : 
; 934  : 	pMsg.h.set((LPBYTE)&pMsg, 0x40, sizeof(SDHP_GUILDLISTREQUEST));

  01f69	6a 03		 push	 3
  01f6b	6a 40		 push	 64			; 00000040H
  01f6d	8d 45 fc	 lea	 eax, DWORD PTR _pMsg$[ebp]
  01f70	50		 push	 eax
  01f71	8d 4d fc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  01f74	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 935  : 
; 936  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  01f79	0f b6 45 fd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  01f7d	50		 push	 eax
  01f7e	8d 4d fc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  01f81	51		 push	 ecx
  01f82	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  01f87	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 937  : }

  01f8c	5f		 pop	 edi
  01f8d	5e		 pop	 esi
  01f8e	5b		 pop	 ebx
  01f8f	8b e5		 mov	 esp, ebp
  01f91	5d		 pop	 ebp
  01f92	c3		 ret	 0
?DGGuildListRequest@@YAXXZ ENDP				; DGGuildListRequest
_TEXT	ENDS
PUBLIC	??_C@_0O@BNCDNIJM@?$CF8s?5?$FL?$CFd?5?1?5?$CFd?$FN?$AA@ ; `string'
PUBLIC	__$ArrayPad$
EXTRN	__imp__SetDlgItemTextA@12:PROC
EXTRN	__imp__wsprintfA:PROC
EXTRN	__imp__SendMessageA@16:PROC
;	COMDAT ??_C@_0O@BNCDNIJM@?$CF8s?5?$FL?$CFd?5?1?5?$CFd?$FN?$AA@
CONST	SEGMENT
??_C@_0O@BNCDNIJM@?$CF8s?5?$FL?$CFd?5?1?5?$CFd?$FN?$AA@ DB '%8s [%d / %d]'
	DB	00H						; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_szTemp$ = -260						; size = 256
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGGuildList@@YAXPAUSDHP_GUILDCREATED@@@Z PROC		; DGGuildList

; 940  : {

  01fa0	55		 push	 ebp
  01fa1	8b ec		 mov	 ebp, esp
  01fa3	81 ec 44 01 00
	00		 sub	 esp, 324		; 00000144H
  01fa9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  01fae	33 c5		 xor	 eax, ebp
  01fb0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01fb3	53		 push	 ebx
  01fb4	56		 push	 esi
  01fb5	57		 push	 edi

; 941  : 	char szTemp[256];
; 942  : 
; 943  : 	Guild.AddGuild(lpMsg->Number, lpMsg->GuildName, lpMsg->Mark, lpMsg->Master, lpMsg->score);

  01fb6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  01fb9	8b 48 3c	 mov	 ecx, DWORD PTR [eax+60]
  01fbc	51		 push	 ecx
  01fbd	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  01fc0	83 c2 0f	 add	 edx, 15			; 0000000fH
  01fc3	52		 push	 edx
  01fc4	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  01fc7	83 c0 1a	 add	 eax, 26			; 0000001aH
  01fca	50		 push	 eax
  01fcb	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  01fce	83 c1 06	 add	 ecx, 6
  01fd1	51		 push	 ecx
  01fd2	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  01fd5	0f b7 42 04	 movzx	 eax, WORD PTR [edx+4]
  01fd9	50		 push	 eax
  01fda	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  01fdf	e8 00 00 00 00	 call	 ?AddGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@HPADPAE0H@Z ; CGuildClass::AddGuild

; 944  : 
; 945  : 	if ( GuildListhDlg != NULL )

  01fe4	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A, 0 ; GuildListhDlg
  01feb	74 69		 je	 SHORT $LN2@DGGuildLis

; 946  : 	{
; 947  : 		SendMessage(::GuildListhPrs, 0x402, gGuildListCount, 0);

  01fed	6a 00		 push	 0
  01fef	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gGuildListCount@@3HA ; gGuildListCount
  01ff4	50		 push	 eax
  01ff5	68 02 04 00 00	 push	 1026			; 00000402H
  01ffa	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?GuildListhPrs@@3PAUHWND__@@A ; GuildListhPrs
  02000	51		 push	 ecx
  02001	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16

; 948  : 		gGuildListCount++;

  02007	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gGuildListCount@@3HA ; gGuildListCount
  0200c	83 c0 01	 add	 eax, 1
  0200f	a3 00 00 00 00	 mov	 DWORD PTR ?gGuildListCount@@3HA, eax ; gGuildListCount

; 949  : 		wsprintf(szTemp, "%8s [%d / %d]", lpMsg->GuildName, gGuildListCount, gGuildListTotal);

  02014	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gGuildListTotal@@3HA ; gGuildListTotal
  02019	50		 push	 eax
  0201a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gGuildListCount@@3HA ; gGuildListCount
  02020	51		 push	 ecx
  02021	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  02024	83 c2 06	 add	 edx, 6
  02027	52		 push	 edx
  02028	68 00 00 00 00	 push	 OFFSET ??_C@_0O@BNCDNIJM@?$CF8s?5?$FL?$CFd?5?1?5?$CFd?$FN?$AA@
  0202d	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _szTemp$[ebp]
  02033	50		 push	 eax
  02034	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA
  0203a	83 c4 14	 add	 esp, 20			; 00000014H

; 950  : 		SetDlgItemText(GuildListhDlg, IDS_CURRENT_GUILD_NAME, szTemp);

  0203d	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _szTemp$[ebp]
  02043	50		 push	 eax
  02044	68 e9 03 00 00	 push	 1001			; 000003e9H
  02049	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A ; GuildListhDlg
  0204f	51		 push	 ecx
  02050	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetDlgItemTextA@12
$LN2@DGGuildLis:

; 951  : 	}
; 952  : }

  02056	5f		 pop	 edi
  02057	5e		 pop	 esi
  02058	5b		 pop	 ebx
  02059	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0205c	33 cd		 xor	 ecx, ebp
  0205e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  02063	8b e5		 mov	 esp, ebp
  02065	5d		 pop	 ebp
  02066	c3		 ret	 0
?DGGuildList@@YAXPAUSDHP_GUILDCREATED@@@Z ENDP		; DGGuildList
_TEXT	ENDS
PUBLIC	?GuildListDlgProc@@YGHPAUHWND__@@IIJ@Z		; GuildListDlgProc
EXTRN	__imp__EndDialog@8:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv65 = -68						; size = 4
tv64 = -68						; size = 4
_hDlg$ = 8						; size = 4
_iMsg$ = 12						; size = 4
_wParam$ = 16						; size = 4
_lParam$ = 20						; size = 4
?GuildListDlgProc@@YGHPAUHWND__@@IIJ@Z PROC		; GuildListDlgProc

; 955  : {

  02070	55		 push	 ebp
  02071	8b ec		 mov	 ebp, esp
  02073	83 ec 44	 sub	 esp, 68			; 00000044H
  02076	53		 push	 ebx
  02077	56		 push	 esi
  02078	57		 push	 edi

; 956  : 	switch (iMsg)

  02079	8b 45 0c	 mov	 eax, DWORD PTR _iMsg$[ebp]
  0207c	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  0207f	81 7d bc 11 01
	00 00		 cmp	 DWORD PTR tv64[ebp], 273 ; 00000111H
  02086	74 02		 je	 SHORT $LN4@GuildListD
  02088	eb 26		 jmp	 SHORT $LN5@GuildListD
$LN4@GuildListD:

; 957  : 	{
; 958  : 		case 273:
; 959  : 
; 960  : 			switch ( wParam )

  0208a	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  0208d	89 45 bc	 mov	 DWORD PTR tv65[ebp], eax
  02090	83 7d bc 02	 cmp	 DWORD PTR tv65[ebp], 2
  02094	74 02		 je	 SHORT $LN1@GuildListD
  02096	eb 18		 jmp	 SHORT $LN5@GuildListD
$LN1@GuildListD:

; 961  : 			{
; 962  : 				case 2:
; 963  : 					EndDialog(GuildListhDlg, 0);

  02098	6a 00		 push	 0
  0209a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A ; GuildListhDlg
  0209f	50		 push	 eax
  020a0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EndDialog@8

; 964  : 					GuildListhDlg = NULL;

  020a6	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A, 0 ; GuildListhDlg
$LN5@GuildListD:

; 965  : 					break;
; 966  : 			}
; 967  : 			break;
; 968  : 	}
; 969  : 
; 970  : 	return 0;

  020b0	33 c0		 xor	 eax, eax

; 971  : }

  020b2	5f		 pop	 edi
  020b3	5e		 pop	 esi
  020b4	5b		 pop	 ebx
  020b5	8b e5		 mov	 esp, ebp
  020b7	5d		 pop	 ebp
  020b8	c2 10 00	 ret	 16			; 00000010H
?GuildListDlgProc@@YGHPAUHWND__@@IIJ@Z ENDP		; GuildListDlgProc
_TEXT	ENDS
EXTRN	?GameServerInfoSendStart@@YAXXZ:PROC		; GameServerInfoSendStart
EXTRN	?GameServerInfoSendStop@@YAXXZ:PROC		; GameServerInfoSendStop
EXTRN	__imp__GetDlgItem@8:PROC
EXTRN	__imp__ShowWindow@8:PROC
EXTRN	__imp__CreateDialogParamA@20:PROC
EXTRN	?ghWnd@@3PAUHWND__@@A:DWORD			; ghWnd
EXTRN	__imp__IsWindow@4:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv66 = -68						; size = 4
_lpMsg$ = 8						; size = 4
?DGGuildListState@@YAXPAUSDHP_GUILDLISTSTATE@@@Z PROC	; DGGuildListState

; 974  : {

  020c0	55		 push	 ebp
  020c1	8b ec		 mov	 ebp, esp
  020c3	83 ec 44	 sub	 esp, 68			; 00000044H
  020c6	53		 push	 ebx
  020c7	56		 push	 esi
  020c8	57		 push	 edi

; 975  : 	switch ( lpMsg->State )

  020c9	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  020cc	8a 48 03	 mov	 cl, BYTE PTR [eax+3]
  020cf	88 4d bc	 mov	 BYTE PTR tv66[ebp], cl
  020d2	80 7d bc 00	 cmp	 BYTE PTR tv66[ebp], 0
  020d6	74 0f		 je	 SHORT $LN4@DGGuildLis@2
  020d8	80 7d bc 01	 cmp	 BYTE PTR tv66[ebp], 1
  020dc	0f 84 b8 00 00
	00		 je	 $LN2@DGGuildLis@2
  020e2	e9 e0 00 00 00	 jmp	 $LN7@DGGuildLis@2
$LN4@DGGuildLis@2:

; 976  : 	{
; 977  : 		case 0:
; 978  : 			if ( IsWindow(GuildListhDlg) == FALSE )

  020e7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A ; GuildListhDlg
  020ec	50		 push	 eax
  020ed	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__IsWindow@4
  020f3	85 c0		 test	 eax, eax
  020f5	0f 85 9d 00 00
	00		 jne	 $LN3@DGGuildLis@2

; 979  : 			{
; 980  : 				GuildListhDlg = CreateDialogParam(NULL, (LPCTSTR)IDD_GUILD_LIST_STATE, ghWnd, (DLGPROC)GuildListDlgProc, 0);

  020fb	6a 00		 push	 0
  020fd	68 00 00 00 00	 push	 OFFSET ?GuildListDlgProc@@YGHPAUHWND__@@IIJ@Z ; GuildListDlgProc
  02102	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ghWnd@@3PAUHWND__@@A ; ghWnd
  02107	50		 push	 eax
  02108	68 8d 00 00 00	 push	 141			; 0000008dH
  0210d	6a 00		 push	 0
  0210f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateDialogParamA@20
  02115	a3 00 00 00 00	 mov	 DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A, eax ; GuildListhDlg

; 981  : 				ShowWindow(GuildListhDlg, SW_SHOW);

  0211a	6a 05		 push	 5
  0211c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A ; GuildListhDlg
  02121	50		 push	 eax
  02122	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ShowWindow@8

; 982  : 				GuildListhPrs = GetDlgItem(GuildListhDlg, IDP_PROGRESS_BAR);

  02128	68 e8 03 00 00	 push	 1000			; 000003e8H
  0212d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A ; GuildListhDlg
  02132	50		 push	 eax
  02133	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDlgItem@8
  02139	a3 00 00 00 00	 mov	 DWORD PTR ?GuildListhPrs@@3PAUHWND__@@A, eax ; GuildListhPrs

; 983  : 				SendMessage(GuildListhPrs, 0x401, 0, (((lpMsg->Count & 0xFFFF)&0xFFFF)<<16));

  0213e	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02141	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  02144	81 e1 ff ff 00
	00		 and	 ecx, 65535		; 0000ffffH
  0214a	81 e1 ff ff 00
	00		 and	 ecx, 65535		; 0000ffffH
  02150	c1 e1 10	 shl	 ecx, 16			; 00000010H
  02153	51		 push	 ecx
  02154	6a 00		 push	 0
  02156	68 01 04 00 00	 push	 1025			; 00000401H
  0215b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?GuildListhPrs@@3PAUHWND__@@A ; GuildListhPrs
  02161	52		 push	 edx
  02162	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16

; 984  : 				gGuildListTotal = lpMsg->Count;

  02168	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0216b	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0216e	89 0d 00 00 00
	00		 mov	 DWORD PTR ?gGuildListTotal@@3HA, ecx ; gGuildListTotal

; 985  : 				SendMessage(GuildListhPrs, 0x404, 1, 0);

  02174	6a 00		 push	 0
  02176	6a 01		 push	 1
  02178	68 04 04 00 00	 push	 1028			; 00000404H
  0217d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?GuildListhPrs@@3PAUHWND__@@A ; GuildListhPrs
  02182	50		 push	 eax
  02183	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16

; 986  : 				gGuildListCount = 0;

  02189	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?gGuildListCount@@3HA, 0 ; gGuildListCount

; 987  : 				GameServerInfoSendStop();

  02193	e8 00 00 00 00	 call	 ?GameServerInfoSendStop@@YAXXZ ; GameServerInfoSendStop
$LN3@DGGuildLis@2:

; 988  : 			}
; 989  : 			break;

  02198	eb 2d		 jmp	 SHORT $LN7@DGGuildLis@2
$LN2@DGGuildLis@2:

; 990  : 
; 991  : 		case 1:
; 992  : 			if ( IsWindow(GuildListhDlg) != FALSE )

  0219a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A ; GuildListhDlg
  0219f	50		 push	 eax
  021a0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__IsWindow@4
  021a6	85 c0		 test	 eax, eax
  021a8	74 1d		 je	 SHORT $LN7@DGGuildLis@2

; 993  : 			{
; 994  : 				EndDialog(GuildListhDlg, 0);

  021aa	6a 00		 push	 0
  021ac	a1 00 00 00 00	 mov	 eax, DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A ; GuildListhDlg
  021b1	50		 push	 eax
  021b2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EndDialog@8

; 995  : 				GameServerInfoSendStart();

  021b8	e8 00 00 00 00	 call	 ?GameServerInfoSendStart@@YAXXZ ; GameServerInfoSendStart

; 996  : 				GuildListhDlg = NULL;

  021bd	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A, 0 ; GuildListhDlg
$LN7@DGGuildLis@2:

; 997  : 			}
; 998  : 			break;
; 999  : 	}
; 1000 : 
; 1001 : }

  021c7	5f		 pop	 edi
  021c8	5e		 pop	 esi
  021c9	5b		 pop	 ebx
  021ca	8b e5		 mov	 esp, ebp
  021cc	5d		 pop	 ebp
  021cd	c3		 ret	 0
?DGGuildListState@@YAXPAUSDHP_GUILDLISTSTATE@@@Z ENDP	; DGGuildListState
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDGuildServerGroupChattingSend@@YAXHPAUPMSG_CHATDATA@@@Z ; GDGuildServerGroupChattingSend
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -84						; size = 80
__$ArrayPad$ = -4					; size = 4
_iGuildNum$ = 8						; size = 4
_lpChatData$ = 12					; size = 4
?GDGuildServerGroupChattingSend@@YAXHPAUPMSG_CHATDATA@@@Z PROC ; GDGuildServerGroupChattingSend

; 1012 : {

  021d0	55		 push	 ebp
  021d1	8b ec		 mov	 ebp, esp
  021d3	81 ec 94 00 00
	00		 sub	 esp, 148		; 00000094H
  021d9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  021de	33 c5		 xor	 eax, ebp
  021e0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  021e3	53		 push	 ebx
  021e4	56		 push	 esi
  021e5	57		 push	 edi

; 1013 : 	EXSDHP_SERVERGROUP_GUILD_CHATTING_SEND pMsg = {0};

  021e6	c6 45 ac 00	 mov	 BYTE PTR _pMsg$[ebp], 0
  021ea	6a 4f		 push	 79			; 0000004fH
  021ec	6a 00		 push	 0
  021ee	8d 45 ad	 lea	 eax, DWORD PTR _pMsg$[ebp+1]
  021f1	50		 push	 eax
  021f2	e8 00 00 00 00	 call	 _memset
  021f7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1014 : 
; 1015 : 	pMsg.h.set((LPBYTE)&pMsg, 0x50, sizeof(EXSDHP_SERVERGROUP_GUILD_CHATTING_SEND));

  021fa	6a 50		 push	 80			; 00000050H
  021fc	6a 50		 push	 80			; 00000050H
  021fe	8d 45 ac	 lea	 eax, DWORD PTR _pMsg$[ebp]
  02201	50		 push	 eax
  02202	8d 4d ac	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  02205	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1016 : 	pMsg.iGuildNum = iGuildNum;

  0220a	8b 45 08	 mov	 eax, DWORD PTR _iGuildNum$[ebp]
  0220d	89 45 b0	 mov	 DWORD PTR _pMsg$[ebp+4], eax

; 1017 : 	memcpy(pMsg.szCharacterName, lpChatData->chatid, sizeof(pMsg.szCharacterName));

  02210	6a 0a		 push	 10			; 0000000aH
  02212	8b 45 0c	 mov	 eax, DWORD PTR _lpChatData$[ebp]
  02215	83 c0 03	 add	 eax, 3
  02218	50		 push	 eax
  02219	8d 4d b4	 lea	 ecx, DWORD PTR _pMsg$[ebp+8]
  0221c	51		 push	 ecx
  0221d	e8 00 00 00 00	 call	 _memcpy
  02222	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1018 : 	memcpy(pMsg.szChattingMsg, lpChatData->chatmsg, sizeof(pMsg.szChattingMsg));

  02225	6a 3c		 push	 60			; 0000003cH
  02227	8b 45 0c	 mov	 eax, DWORD PTR _lpChatData$[ebp]
  0222a	83 c0 0d	 add	 eax, 13			; 0000000dH
  0222d	50		 push	 eax
  0222e	8d 4d be	 lea	 ecx, DWORD PTR _pMsg$[ebp+18]
  02231	51		 push	 ecx
  02232	e8 00 00 00 00	 call	 _memcpy
  02237	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1019 : 
; 1020 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  0223a	0f b6 45 ad	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0223e	50		 push	 eax
  0223f	8d 4d ac	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  02242	51		 push	 ecx
  02243	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  02248	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 1021 : }

  0224d	5f		 pop	 edi
  0224e	5e		 pop	 esi
  0224f	5b		 pop	 ebx
  02250	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02253	33 cd		 xor	 ecx, ebp
  02255	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0225a	8b e5		 mov	 esp, ebp
  0225c	5d		 pop	 ebp
  0225d	c3		 ret	 0
?GDGuildServerGroupChattingSend@@YAXHPAUPMSG_CHATDATA@@@Z ENDP ; GDGuildServerGroupChattingSend
_TEXT	ENDS
PUBLIC	__$ArrayPad$
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_i$232399 = -120					; size = 4
_iUserIndex$ = -116					; size = 4
_lpGuildInfo$ = -112					; size = 4
_pMsg$ = -108						; size = 102
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGGuildServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_GUILD_CHATTING_RECV@@@Z PROC ; DGGuildServerGroupChattingRecv

; 1024 : {

  02260	55		 push	 ebp
  02261	8b ec		 mov	 ebp, esp
  02263	81 ec b8 00 00
	00		 sub	 esp, 184		; 000000b8H
  02269	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0226e	33 c5		 xor	 eax, ebp
  02270	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02273	53		 push	 ebx
  02274	56		 push	 esi
  02275	57		 push	 edi

; 1025 : 	PMSG_CHATDATA pMsg ={0};

  02276	c6 45 94 00	 mov	 BYTE PTR _pMsg$[ebp], 0
  0227a	6a 65		 push	 101			; 00000065H
  0227c	6a 00		 push	 0
  0227e	8d 45 95	 lea	 eax, DWORD PTR _pMsg$[ebp+1]
  02281	50		 push	 eax
  02282	e8 00 00 00 00	 call	 _memset
  02287	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1026 : 
; 1027 : 	pMsg.h.set((LPBYTE)&pMsg, 0x00, sizeof(pMsg));

  0228a	6a 66		 push	 102			; 00000066H
  0228c	6a 00		 push	 0
  0228e	8d 45 94	 lea	 eax, DWORD PTR _pMsg$[ebp]
  02291	50		 push	 eax
  02292	8d 4d 94	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  02295	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1028 : 	memcpy(pMsg.chatid, lpMsg->szCharacterName, sizeof(pMsg.chatid));

  0229a	6a 0a		 push	 10			; 0000000aH
  0229c	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0229f	83 c0 08	 add	 eax, 8
  022a2	50		 push	 eax
  022a3	8d 4d 97	 lea	 ecx, DWORD PTR _pMsg$[ebp+3]
  022a6	51		 push	 ecx
  022a7	e8 00 00 00 00	 call	 _memcpy
  022ac	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1029 : 	memcpy(pMsg.chatmsg, lpMsg->szChattingMsg, sizeof(pMsg.chatmsg));

  022af	6a 59		 push	 89			; 00000059H
  022b1	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  022b4	83 c0 12	 add	 eax, 18			; 00000012H
  022b7	50		 push	 eax
  022b8	8d 4d a1	 lea	 ecx, DWORD PTR _pMsg$[ebp+13]
  022bb	51		 push	 ecx
  022bc	e8 00 00 00 00	 call	 _memcpy
  022c1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1030 : 	_GUILD_INFO_STRUCT * lpGuildInfo = Guild.SearchGuild_Number(lpMsg->iGuildNum);

  022c4	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  022c7	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  022ca	51		 push	 ecx
  022cb	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  022d0	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  022d5	89 45 90	 mov	 DWORD PTR _lpGuildInfo$[ebp], eax

; 1031 : 
; 1032 : 	if ( lpGuildInfo == NULL )

  022d8	83 7d 90 00	 cmp	 DWORD PTR _lpGuildInfo$[ebp], 0
  022dc	75 05		 jne	 SHORT $LN9@DGGuildSer

; 1033 : 		return;

  022de	e9 cc 00 00 00	 jmp	 $LN10@DGGuildSer
$LN9@DGGuildSer:

; 1034 : 
; 1035 : 	int iUserIndex = -1;

  022e3	c7 45 8c ff ff
	ff ff		 mov	 DWORD PTR _iUserIndex$[ebp], -1

; 1036 : 
; 1037 : 	if ( lpGuildInfo->Count >= 0 )

  022ea	8b 45 90	 mov	 eax, DWORD PTR _lpGuildInfo$[ebp]
  022ed	0f b6 48 2d	 movzx	 ecx, BYTE PTR [eax+45]
  022f1	85 c9		 test	 ecx, ecx
  022f3	0f 8c b6 00 00
	00		 jl	 $LN10@DGGuildSer

; 1038 : 	{
; 1039 : 		for ( int i=0;i<MAX_USER_GUILD;i++)

  022f9	c7 45 88 00 00
	00 00		 mov	 DWORD PTR _i$232399[ebp], 0
  02300	eb 09		 jmp	 SHORT $LN7@DGGuildSer
$LN6@DGGuildSer:
  02302	8b 45 88	 mov	 eax, DWORD PTR _i$232399[ebp]
  02305	83 c0 01	 add	 eax, 1
  02308	89 45 88	 mov	 DWORD PTR _i$232399[ebp], eax
$LN7@DGGuildSer:
  0230b	83 7d 88 50	 cmp	 DWORD PTR _i$232399[ebp], 80 ; 00000050H
  0230f	0f 8d 9a 00 00
	00		 jge	 $LN10@DGGuildSer

; 1040 : 		{
; 1041 : 			if ( lpGuildInfo->Use[i] != FALSE )

  02315	8b 45 90	 mov	 eax, DWORD PTR _lpGuildInfo$[ebp]
  02318	03 45 88	 add	 eax, DWORD PTR _i$232399[ebp]
  0231b	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  02322	85 c9		 test	 ecx, ecx
  02324	0f 84 80 00 00
	00		 je	 $LN4@DGGuildSer

; 1042 : 			{
; 1043 : 				iUserIndex = lpGuildInfo->Index[i];

  0232a	8b 45 88	 mov	 eax, DWORD PTR _i$232399[ebp]
  0232d	8b 4d 90	 mov	 ecx, DWORD PTR _lpGuildInfo$[ebp]
  02330	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  02338	89 55 8c	 mov	 DWORD PTR _iUserIndex$[ebp], edx

; 1044 : 
; 1045 : 				if ( iUserIndex >= 0 )

  0233b	83 7d 8c 00	 cmp	 DWORD PTR _iUserIndex$[ebp], 0
  0233f	7c 69		 jl	 SHORT $LN4@DGGuildSer

; 1046 : 				{
; 1047 : 					if ( lpGuildInfo->Names[i][0] == gObj[iUserIndex].Name[0] )

  02341	8b 45 88	 mov	 eax, DWORD PTR _i$232399[ebp]
  02344	6b c0 0b	 imul	 eax, 11			; 0000000bH
  02347	8b 4d 90	 mov	 ecx, DWORD PTR _lpGuildInfo$[ebp]
  0234a	0f be 54 01 2f	 movsx	 edx, BYTE PTR [ecx+eax+47]
  0234f	8b 45 8c	 mov	 eax, DWORD PTR _iUserIndex$[ebp]
  02352	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02358	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0235e	0f be 44 01 77	 movsx	 eax, BYTE PTR [ecx+eax+119]
  02363	3b d0		 cmp	 edx, eax
  02365	75 43		 jne	 SHORT $LN4@DGGuildSer

; 1048 : 					{
; 1049 : 						if ( !strcmp(lpGuildInfo->Names[i], gObj[iUserIndex].Name ))

  02367	8b 45 8c	 mov	 eax, DWORD PTR _iUserIndex$[ebp]
  0236a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02370	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02376	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  0237a	52		 push	 edx
  0237b	8b 45 88	 mov	 eax, DWORD PTR _i$232399[ebp]
  0237e	6b c0 0b	 imul	 eax, 11			; 0000000bH
  02381	8b 4d 90	 mov	 ecx, DWORD PTR _lpGuildInfo$[ebp]
  02384	8d 54 01 2f	 lea	 edx, DWORD PTR [ecx+eax+47]
  02388	52		 push	 edx
  02389	e8 00 00 00 00	 call	 _strcmp
  0238e	83 c4 08	 add	 esp, 8
  02391	85 c0		 test	 eax, eax
  02393	75 15		 jne	 SHORT $LN4@DGGuildSer

; 1050 : 						{
; 1051 : 							DataSend(iUserIndex, (LPBYTE)&pMsg, pMsg.h.size);

  02395	0f b6 45 95	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  02399	50		 push	 eax
  0239a	8d 4d 94	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0239d	51		 push	 ecx
  0239e	8b 55 8c	 mov	 edx, DWORD PTR _iUserIndex$[ebp]
  023a1	52		 push	 edx
  023a2	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  023a7	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@DGGuildSer:

; 1052 : 						}
; 1053 : 					}
; 1054 : 				}
; 1055 : 			}
; 1056 : 		}

  023aa	e9 53 ff ff ff	 jmp	 $LN6@DGGuildSer
$LN10@DGGuildSer:

; 1057 : 	}
; 1058 : }

  023af	5f		 pop	 edi
  023b0	5e		 pop	 esi
  023b1	5b		 pop	 ebx
  023b2	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  023b5	33 cd		 xor	 ecx, ebp
  023b7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  023bc	8b e5		 mov	 esp, ebp
  023be	5d		 pop	 ebp
  023bf	c3		 ret	 0
?DGGuildServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_GUILD_CHATTING_RECV@@@Z ENDP ; DGGuildServerGroupChattingRecv
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDUnionServerGroupChattingSend@@YAXHPAUPMSG_CHATDATA@@@Z ; GDUnionServerGroupChattingSend
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -84						; size = 80
__$ArrayPad$ = -4					; size = 4
_iUnionNum$ = 8						; size = 4
_lpChatData$ = 12					; size = 4
?GDUnionServerGroupChattingSend@@YAXHPAUPMSG_CHATDATA@@@Z PROC ; GDUnionServerGroupChattingSend

; 1069 : {

  023c0	55		 push	 ebp
  023c1	8b ec		 mov	 ebp, esp
  023c3	81 ec 94 00 00
	00		 sub	 esp, 148		; 00000094H
  023c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  023ce	33 c5		 xor	 eax, ebp
  023d0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  023d3	53		 push	 ebx
  023d4	56		 push	 esi
  023d5	57		 push	 edi

; 1070 : 	EXSDHP_SERVERGROUP_UNION_CHATTING_SEND pMsg = {0};

  023d6	c6 45 ac 00	 mov	 BYTE PTR _pMsg$[ebp], 0
  023da	6a 4f		 push	 79			; 0000004fH
  023dc	6a 00		 push	 0
  023de	8d 45 ad	 lea	 eax, DWORD PTR _pMsg$[ebp+1]
  023e1	50		 push	 eax
  023e2	e8 00 00 00 00	 call	 _memset
  023e7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1071 : 
; 1072 : 	pMsg.h.set((LPBYTE)&pMsg, 0x51, sizeof(pMsg));

  023ea	6a 50		 push	 80			; 00000050H
  023ec	6a 51		 push	 81			; 00000051H
  023ee	8d 45 ac	 lea	 eax, DWORD PTR _pMsg$[ebp]
  023f1	50		 push	 eax
  023f2	8d 4d ac	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  023f5	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1073 : 	pMsg.iUnionNum = iUnionNum;

  023fa	8b 45 08	 mov	 eax, DWORD PTR _iUnionNum$[ebp]
  023fd	89 45 b0	 mov	 DWORD PTR _pMsg$[ebp+4], eax

; 1074 : 	memcpy(pMsg.szCharacterName, lpChatData->chatid, sizeof(pMsg.szCharacterName));

  02400	6a 0a		 push	 10			; 0000000aH
  02402	8b 45 0c	 mov	 eax, DWORD PTR _lpChatData$[ebp]
  02405	83 c0 03	 add	 eax, 3
  02408	50		 push	 eax
  02409	8d 4d b4	 lea	 ecx, DWORD PTR _pMsg$[ebp+8]
  0240c	51		 push	 ecx
  0240d	e8 00 00 00 00	 call	 _memcpy
  02412	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1075 : 	memcpy(pMsg.szChattingMsg, lpChatData->chatmsg, sizeof(pMsg.szChattingMsg));

  02415	6a 3c		 push	 60			; 0000003cH
  02417	8b 45 0c	 mov	 eax, DWORD PTR _lpChatData$[ebp]
  0241a	83 c0 0d	 add	 eax, 13			; 0000000dH
  0241d	50		 push	 eax
  0241e	8d 4d be	 lea	 ecx, DWORD PTR _pMsg$[ebp+18]
  02421	51		 push	 ecx
  02422	e8 00 00 00 00	 call	 _memcpy
  02427	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1076 : 
; 1077 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  0242a	0f b6 45 ad	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0242e	50		 push	 eax
  0242f	8d 4d ac	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  02432	51		 push	 ecx
  02433	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  02438	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 1078 : }

  0243d	5f		 pop	 edi
  0243e	5e		 pop	 esi
  0243f	5b		 pop	 ebx
  02440	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02443	33 cd		 xor	 ecx, ebp
  02445	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0244a	8b e5		 mov	 esp, ebp
  0244c	5d		 pop	 ebp
  0244d	c3		 ret	 0
?GDUnionServerGroupChattingSend@@YAXHPAUPMSG_CHATDATA@@@Z ENDP ; GDUnionServerGroupChattingSend
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	?GetGuildUnionMemberList@TUnion@@QAEHHAAHPAH@Z:PROC ; TUnion::GetGuildUnionMemberList
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_n$232442 = -532					; size = 4
_lpGuildInfo$232440 = -528				; size = 4
_i$232436 = -524					; size = 4
_iUserIndex$232435 = -520				; size = 4
_iGuildList$ = -516					; size = 400
_iGuildCount$ = -116					; size = 4
_iUnionNum$ = -112					; size = 4
_pMsg$ = -108						; size = 102
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGUnionServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_UNION_CHATTING_RECV@@@Z PROC ; DGUnionServerGroupChattingRecv

; 1081 : {

  02450	55		 push	 ebp
  02451	8b ec		 mov	 ebp, esp
  02453	81 ec 54 02 00
	00		 sub	 esp, 596		; 00000254H
  02459	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0245e	33 c5		 xor	 eax, ebp
  02460	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02463	53		 push	 ebx
  02464	56		 push	 esi
  02465	57		 push	 edi

; 1082 : 	PMSG_CHATDATA pMsg ={0};

  02466	c6 45 94 00	 mov	 BYTE PTR _pMsg$[ebp], 0
  0246a	6a 65		 push	 101			; 00000065H
  0246c	6a 00		 push	 0
  0246e	8d 45 95	 lea	 eax, DWORD PTR _pMsg$[ebp+1]
  02471	50		 push	 eax
  02472	e8 00 00 00 00	 call	 _memset
  02477	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1083 : 
; 1084 : 	pMsg.h.set((LPBYTE)&pMsg, 0x00, sizeof(pMsg));

  0247a	6a 66		 push	 102			; 00000066H
  0247c	6a 00		 push	 0
  0247e	8d 45 94	 lea	 eax, DWORD PTR _pMsg$[ebp]
  02481	50		 push	 eax
  02482	8d 4d 94	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  02485	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1085 : 	memcpy(pMsg.chatid, lpMsg->szCharacterName, sizeof(pMsg.chatid));

  0248a	6a 0a		 push	 10			; 0000000aH
  0248c	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0248f	83 c0 08	 add	 eax, 8
  02492	50		 push	 eax
  02493	8d 4d 97	 lea	 ecx, DWORD PTR _pMsg$[ebp+3]
  02496	51		 push	 ecx
  02497	e8 00 00 00 00	 call	 _memcpy
  0249c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1086 : 	memcpy(pMsg.chatmsg, lpMsg->szChattingMsg, sizeof(pMsg.chatmsg));

  0249f	6a 59		 push	 89			; 00000059H
  024a1	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  024a4	83 c0 12	 add	 eax, 18			; 00000012H
  024a7	50		 push	 eax
  024a8	8d 4d a1	 lea	 ecx, DWORD PTR _pMsg$[ebp+13]
  024ab	51		 push	 ecx
  024ac	e8 00 00 00 00	 call	 _memcpy
  024b1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1087 : 	int iUnionNum = lpMsg->iUnionNum;

  024b4	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  024b7	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  024ba	89 4d 90	 mov	 DWORD PTR _iUnionNum$[ebp], ecx

; 1088 : 	int iGuildCount =0;

  024bd	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR _iGuildCount$[ebp], 0

; 1089 : 	int iGuildList[100] ={0};

  024c4	c7 85 fc fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _iGuildList$[ebp], 0
  024ce	68 8c 01 00 00	 push	 396			; 0000018cH
  024d3	6a 00		 push	 0
  024d5	8d 85 00 fe ff
	ff		 lea	 eax, DWORD PTR _iGuildList$[ebp+4]
  024db	50		 push	 eax
  024dc	e8 00 00 00 00	 call	 _memset
  024e1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1090 : 
; 1091 : 	if ( UnionManager.GetGuildUnionMemberList(iUnionNum, iGuildCount, iGuildList) == TRUE)

  024e4	8d 85 fc fd ff
	ff		 lea	 eax, DWORD PTR _iGuildList$[ebp]
  024ea	50		 push	 eax
  024eb	8d 4d 8c	 lea	 ecx, DWORD PTR _iGuildCount$[ebp]
  024ee	51		 push	 ecx
  024ef	8b 55 90	 mov	 edx, DWORD PTR _iUnionNum$[ebp]
  024f2	52		 push	 edx
  024f3	b9 00 00 00 00	 mov	 ecx, OFFSET ?UnionManager@@3VTUnion@@A ; UnionManager
  024f8	e8 00 00 00 00	 call	 ?GetGuildUnionMemberList@TUnion@@QAEHHAAHPAH@Z ; TUnion::GetGuildUnionMemberList
  024fd	83 f8 01	 cmp	 eax, 1
  02500	0f 85 4b 01 00
	00		 jne	 $LN13@DGUnionSer

; 1092 : 	{
; 1093 : 		int iUserIndex = -1;

  02506	c7 85 f8 fd ff
	ff ff ff ff ff	 mov	 DWORD PTR _iUserIndex$232435[ebp], -1

; 1094 : 
; 1095 : 		for ( int i=0;i<iGuildCount;i++)

  02510	c7 85 f4 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$232436[ebp], 0
  0251a	eb 0f		 jmp	 SHORT $LN11@DGUnionSer
$LN10@DGUnionSer:
  0251c	8b 85 f4 fd ff
	ff		 mov	 eax, DWORD PTR _i$232436[ebp]
  02522	83 c0 01	 add	 eax, 1
  02525	89 85 f4 fd ff
	ff		 mov	 DWORD PTR _i$232436[ebp], eax
$LN11@DGUnionSer:
  0252b	8b 85 f4 fd ff
	ff		 mov	 eax, DWORD PTR _i$232436[ebp]
  02531	3b 45 8c	 cmp	 eax, DWORD PTR _iGuildCount$[ebp]
  02534	0f 8d 17 01 00
	00		 jge	 $LN13@DGUnionSer

; 1096 : 		{
; 1097 : 			_GUILD_INFO_STRUCT * lpGuildInfo = Guild.SearchGuild_Number(iGuildList[i]);

  0253a	8b 85 f4 fd ff
	ff		 mov	 eax, DWORD PTR _i$232436[ebp]
  02540	8b 8c 85 fc fd
	ff ff		 mov	 ecx, DWORD PTR _iGuildList$[ebp+eax*4]
  02547	51		 push	 ecx
  02548	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0254d	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  02552	89 85 f0 fd ff
	ff		 mov	 DWORD PTR _lpGuildInfo$232440[ebp], eax

; 1098 : 
; 1099 : 			if ( lpGuildInfo == NULL )

  02558	83 bd f0 fd ff
	ff 00		 cmp	 DWORD PTR _lpGuildInfo$232440[ebp], 0
  0255f	75 02		 jne	 SHORT $LN8@DGUnionSer

; 1100 : 				continue;

  02561	eb b9		 jmp	 SHORT $LN10@DGUnionSer
$LN8@DGUnionSer:

; 1101 : 
; 1102 : 			for ( int n=0;n<MAX_USER_GUILD;n++)

  02563	c7 85 ec fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _n$232442[ebp], 0
  0256d	eb 0f		 jmp	 SHORT $LN7@DGUnionSer
$LN6@DGUnionSer:
  0256f	8b 85 ec fd ff
	ff		 mov	 eax, DWORD PTR _n$232442[ebp]
  02575	83 c0 01	 add	 eax, 1
  02578	89 85 ec fd ff
	ff		 mov	 DWORD PTR _n$232442[ebp], eax
$LN7@DGUnionSer:
  0257e	83 bd ec fd ff
	ff 50		 cmp	 DWORD PTR _n$232442[ebp], 80 ; 00000050H
  02585	0f 8d c1 00 00
	00		 jge	 $LN5@DGUnionSer

; 1103 : 			{
; 1104 : 				if ( lpGuildInfo->Use[n] != FALSE )

  0258b	8b 85 f0 fd ff
	ff		 mov	 eax, DWORD PTR _lpGuildInfo$232440[ebp]
  02591	03 85 ec fd ff
	ff		 add	 eax, DWORD PTR _n$232442[ebp]
  02597	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  0259e	85 c9		 test	 ecx, ecx
  025a0	0f 84 a1 00 00
	00		 je	 $LN4@DGUnionSer

; 1105 : 				{
; 1106 : 					iUserIndex = lpGuildInfo->Index[n];

  025a6	8b 85 ec fd ff
	ff		 mov	 eax, DWORD PTR _n$232442[ebp]
  025ac	8b 8d f0 fd ff
	ff		 mov	 ecx, DWORD PTR _lpGuildInfo$232440[ebp]
  025b2	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  025ba	89 95 f8 fd ff
	ff		 mov	 DWORD PTR _iUserIndex$232435[ebp], edx

; 1107 : 
; 1108 : 					if ( iUserIndex >= 0 )

  025c0	83 bd f8 fd ff
	ff 00		 cmp	 DWORD PTR _iUserIndex$232435[ebp], 0
  025c7	7c 7e		 jl	 SHORT $LN4@DGUnionSer

; 1109 : 					{
; 1110 : 						if ( lpGuildInfo->Names[n][0] == gObj[iUserIndex].Name[0] )

  025c9	8b 85 ec fd ff
	ff		 mov	 eax, DWORD PTR _n$232442[ebp]
  025cf	6b c0 0b	 imul	 eax, 11			; 0000000bH
  025d2	8b 8d f0 fd ff
	ff		 mov	 ecx, DWORD PTR _lpGuildInfo$232440[ebp]
  025d8	0f be 54 01 2f	 movsx	 edx, BYTE PTR [ecx+eax+47]
  025dd	8b 85 f8 fd ff
	ff		 mov	 eax, DWORD PTR _iUserIndex$232435[ebp]
  025e3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  025e9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  025ef	0f be 44 01 77	 movsx	 eax, BYTE PTR [ecx+eax+119]
  025f4	3b d0		 cmp	 edx, eax
  025f6	75 4f		 jne	 SHORT $LN4@DGUnionSer

; 1111 : 						{
; 1112 : 							if ( !strcmp(lpGuildInfo->Names[n], gObj[iUserIndex].Name ))

  025f8	8b 85 f8 fd ff
	ff		 mov	 eax, DWORD PTR _iUserIndex$232435[ebp]
  025fe	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02604	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0260a	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  0260e	52		 push	 edx
  0260f	8b 85 ec fd ff
	ff		 mov	 eax, DWORD PTR _n$232442[ebp]
  02615	6b c0 0b	 imul	 eax, 11			; 0000000bH
  02618	8b 8d f0 fd ff
	ff		 mov	 ecx, DWORD PTR _lpGuildInfo$232440[ebp]
  0261e	8d 54 01 2f	 lea	 edx, DWORD PTR [ecx+eax+47]
  02622	52		 push	 edx
  02623	e8 00 00 00 00	 call	 _strcmp
  02628	83 c4 08	 add	 esp, 8
  0262b	85 c0		 test	 eax, eax
  0262d	75 18		 jne	 SHORT $LN4@DGUnionSer

; 1113 : 							{
; 1114 : 								DataSend(iUserIndex, (LPBYTE)&pMsg, pMsg.h.size);

  0262f	0f b6 45 95	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  02633	50		 push	 eax
  02634	8d 4d 94	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  02637	51		 push	 ecx
  02638	8b 95 f8 fd ff
	ff		 mov	 edx, DWORD PTR _iUserIndex$232435[ebp]
  0263e	52		 push	 edx
  0263f	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  02644	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@DGUnionSer:

; 1115 : 							}
; 1116 : 						}
; 1117 : 					}
; 1118 : 				}
; 1119 : 			}

  02647	e9 23 ff ff ff	 jmp	 $LN6@DGUnionSer
$LN5@DGUnionSer:

; 1120 : 		}

  0264c	e9 cb fe ff ff	 jmp	 $LN10@DGUnionSer
$LN13@DGUnionSer:

; 1121 : 	}
; 1122 : }

  02651	5f		 pop	 edi
  02652	5e		 pop	 esi
  02653	5b		 pop	 ebx
  02654	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02657	33 cd		 xor	 ecx, ebp
  02659	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0265e	8b e5		 mov	 esp, ebp
  02660	5d		 pop	 ebp
  02661	c3		 ret	 0
?DGUnionServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_UNION_CHATTING_RECV@@@Z ENDP ; DGUnionServerGroupChattingRecv
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDGuildReqAssignStatus@@YAXHHPADH@Z		; GDGuildReqAssignStatus
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -32						; size = 28
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_iAssignType$ = 12					; size = 4
_szTagetName$ = 16					; size = 4
_iGuildStatus$ = 20					; size = 4
?GDGuildReqAssignStatus@@YAXHHPADH@Z PROC		; GDGuildReqAssignStatus

; 1135 : {

  02670	55		 push	 ebp
  02671	8b ec		 mov	 ebp, esp
  02673	83 ec 60	 sub	 esp, 96			; 00000060H
  02676	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0267b	33 c5		 xor	 eax, ebp
  0267d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02680	53		 push	 ebx
  02681	56		 push	 esi
  02682	57		 push	 edi

; 1136 : 	EXSDHP_GUILD_ASSIGN_STATUS_REQ pMsg = {0};

  02683	c6 45 e0 00	 mov	 BYTE PTR _pMsg$[ebp], 0
  02687	33 c0		 xor	 eax, eax
  02689	89 45 e1	 mov	 DWORD PTR _pMsg$[ebp+1], eax
  0268c	89 45 e5	 mov	 DWORD PTR _pMsg$[ebp+5], eax
  0268f	89 45 e9	 mov	 DWORD PTR _pMsg$[ebp+9], eax
  02692	89 45 ed	 mov	 DWORD PTR _pMsg$[ebp+13], eax
  02695	89 45 f1	 mov	 DWORD PTR _pMsg$[ebp+17], eax
  02698	89 45 f5	 mov	 DWORD PTR _pMsg$[ebp+21], eax
  0269b	66 89 45 f9	 mov	 WORD PTR _pMsg$[ebp+25], ax
  0269f	88 45 fb	 mov	 BYTE PTR _pMsg$[ebp+27], al

; 1137 : 
; 1138 : 	pMsg.h.set((LPBYTE)&pMsg, 0xE1, sizeof(EXSDHP_GUILD_ASSIGN_STATUS_REQ));

  026a2	6a 1c		 push	 28			; 0000001cH
  026a4	68 e1 00 00 00	 push	 225			; 000000e1H
  026a9	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  026ac	50		 push	 eax
  026ad	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  026b0	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1139 : 	pMsg.btType = iAssignType;

  026b5	8a 45 0c	 mov	 al, BYTE PTR _iAssignType$[ebp]
  026b8	88 45 e6	 mov	 BYTE PTR _pMsg$[ebp+6], al

; 1140 : 	pMsg.btGuildStatus = iGuildStatus;

  026bb	8a 45 14	 mov	 al, BYTE PTR _iGuildStatus$[ebp]
  026be	88 45 e7	 mov	 BYTE PTR _pMsg$[ebp+7], al

; 1141 : 	pMsg.wUserIndex = aIndex;

  026c1	66 8b 45 08	 mov	 ax, WORD PTR _aIndex$[ebp]
  026c5	66 89 45 e4	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 1142 : 	pMsg.szGuildName[MAX_GUILD_LEN] = 0;

  026c9	c6 45 f0 00	 mov	 BYTE PTR _pMsg$[ebp+16], 0

; 1143 : 	pMsg.szTargetName[MAX_ACCOUNT_LEN] = 0;

  026cd	c6 45 fb 00	 mov	 BYTE PTR _pMsg$[ebp+27], 0

; 1144 : 	memcpy(pMsg.szGuildName, gObj[aIndex].lpGuild->Name, MAX_GUILD_LEN);

  026d1	6a 08		 push	 8
  026d3	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  026d6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  026dc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  026e2	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  026e9	83 c2 04	 add	 edx, 4
  026ec	52		 push	 edx
  026ed	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp+8]
  026f0	50		 push	 eax
  026f1	e8 00 00 00 00	 call	 _memcpy
  026f6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1145 : 	memcpy(pMsg.szTargetName, szTagetName, MAX_ACCOUNT_LEN);

  026f9	6a 0a		 push	 10			; 0000000aH
  026fb	8b 45 10	 mov	 eax, DWORD PTR _szTagetName$[ebp]
  026fe	50		 push	 eax
  026ff	8d 4d f1	 lea	 ecx, DWORD PTR _pMsg$[ebp+17]
  02702	51		 push	 ecx
  02703	e8 00 00 00 00	 call	 _memcpy
  02708	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1146 : 
; 1147 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  0270b	0f b6 45 e1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0270f	50		 push	 eax
  02710	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  02713	51		 push	 ecx
  02714	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  02719	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 1148 : }

  0271e	5f		 pop	 edi
  0271f	5e		 pop	 esi
  02720	5b		 pop	 ebx
  02721	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02724	33 cd		 xor	 ecx, ebp
  02726	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0272b	8b e5		 mov	 esp, ebp
  0272d	5d		 pop	 ebp
  0272e	c3		 ret	 0
?GDGuildReqAssignStatus@@YAXHHPADH@Z ENDP		; GDGuildReqAssignStatus
_TEXT	ENDS
PUBLIC	??_C@_0FA@EEENHOBM@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLAssign?$FN@ ; `string'
PUBLIC	__$ArrayPad$
EXTRN	?SendToUser@TNotice@@QAAXHPADZZ:PROC		; TNotice::SendToUser
EXTRN	??0TNotice@@QAE@E@Z:PROC			; TNotice::TNotice
EXTRN	?SetGuildMemberStatus@CGuildClass@@QAEHPAD0H@Z:PROC ; CGuildClass::SetGuildMemberStatus
;	COMDAT ??_C@_0FA@EEENHOBM@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLAssign?$FN@
CONST	SEGMENT
??_C@_0FA@EEENHOBM@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLAssign?$FN@ DB '['
	DB	'U.System][Guild Status][Assign] Guild : ( %s ) Member : ( %s '
	DB	') Status : ( %d )', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
__Notice$232506 = -580					; size = 272
_n$232501 = -308					; size = 4
_lpNode$232498 = -304					; size = 4
__Notice$232491 = -300					; size = 272
_i$232486 = -28						; size = 4
_pMsg$232480 = -24					; size = 15
_lpNode$232478 = -8					; size = 4
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGGuildAnsAssignStatus@@YAXPAUEXSDHP_GUILD_ASSIGN_STATUS_RESULT@@@Z PROC ; DGGuildAnsAssignStatus

; 1151 : {

  02730	55		 push	 ebp
  02731	8b ec		 mov	 ebp, esp
  02733	81 ec 84 02 00
	00		 sub	 esp, 644		; 00000284H
  02739	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0273e	33 c5		 xor	 eax, ebp
  02740	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02743	53		 push	 ebx
  02744	56		 push	 esi
  02745	57		 push	 edi

; 1152 : 	if ( lpMsg->btFlag == 1 )

  02746	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02749	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  0274d	83 f9 01	 cmp	 ecx, 1
  02750	0f 85 f1 01 00
	00		 jne	 $LN23@DGGuildAns

; 1153 : 	{
; 1154 : 		_GUILD_INFO_STRUCT * lpNode = Guild.SearchGuild(lpMsg->szGuildName);

  02756	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02759	83 c0 09	 add	 eax, 9
  0275c	50		 push	 eax
  0275d	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  02762	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  02767	89 45 f8	 mov	 DWORD PTR _lpNode$232478[ebp], eax

; 1155 : 
; 1156 : 		if ( lpNode == NULL )

  0276a	83 7d f8 00	 cmp	 DWORD PTR _lpNode$232478[ebp], 0
  0276e	75 07		 jne	 SHORT $LN22@DGGuildAns

; 1157 : 		{
; 1158 : 			lpMsg->btResult = 0;

  02770	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02773	c6 40 07 00	 mov	 BYTE PTR [eax+7], 0
$LN22@DGGuildAns:

; 1159 : 		}
; 1160 : 
; 1161 : 		PMSG_GUILD_ASSIGN_STATUS_RESULT pMsg = {0};

  02777	c6 45 e8 00	 mov	 BYTE PTR _pMsg$232480[ebp], 0
  0277b	33 c0		 xor	 eax, eax
  0277d	89 45 e9	 mov	 DWORD PTR _pMsg$232480[ebp+1], eax
  02780	89 45 ed	 mov	 DWORD PTR _pMsg$232480[ebp+5], eax
  02783	89 45 f1	 mov	 DWORD PTR _pMsg$232480[ebp+9], eax
  02786	66 89 45 f5	 mov	 WORD PTR _pMsg$232480[ebp+13], ax

; 1162 : 
; 1163 : 		pMsg.h.set((LPBYTE)&pMsg, 0xE1, sizeof(PMSG_GUILD_ASSIGN_STATUS_RESULT));

  0278a	6a 0f		 push	 15			; 0000000fH
  0278c	68 e1 00 00 00	 push	 225			; 000000e1H
  02791	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$232480[ebp]
  02794	50		 push	 eax
  02795	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$232480[ebp]
  02798	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1164 : 		pMsg.btType = lpMsg->btType;

  0279d	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  027a0	8a 48 06	 mov	 cl, BYTE PTR [eax+6]
  027a3	88 4d eb	 mov	 BYTE PTR _pMsg$232480[ebp+3], cl

; 1165 : 		pMsg.btResult = lpMsg->btResult;

  027a6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  027a9	8a 48 07	 mov	 cl, BYTE PTR [eax+7]
  027ac	88 4d ec	 mov	 BYTE PTR _pMsg$232480[ebp+4], cl

; 1166 : 		memcpy(pMsg.szTagetName, lpMsg->szTargetName, sizeof(pMsg.szTagetName));

  027af	6a 0a		 push	 10			; 0000000aH
  027b1	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  027b4	83 c0 12	 add	 eax, 18			; 00000012H
  027b7	50		 push	 eax
  027b8	8d 4d ed	 lea	 ecx, DWORD PTR _pMsg$232480[ebp+5]
  027bb	51		 push	 ecx
  027bc	e8 00 00 00 00	 call	 _memcpy
  027c1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1167 : 
; 1168 : 		DataSend(lpMsg->wUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  027c4	6a 0f		 push	 15			; 0000000fH
  027c6	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$232480[ebp]
  027c9	50		 push	 eax
  027ca	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  027cd	0f b7 51 04	 movzx	 edx, WORD PTR [ecx+4]
  027d1	52		 push	 edx
  027d2	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  027d7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1169 : 
; 1170 : 		if ( lpMsg->btResult == 0 )

  027da	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  027dd	0f b6 48 07	 movzx	 ecx, BYTE PTR [eax+7]
  027e1	85 c9		 test	 ecx, ecx
  027e3	75 05		 jne	 SHORT $LN21@DGGuildAns

; 1171 : 		{
; 1172 : 			return;

  027e5	e9 26 03 00 00	 jmp	 $LN24@DGGuildAns
$LN21@DGGuildAns:

; 1173 : 		}
; 1174 : 
; 1175 : 		Guild.SetGuildMemberStatus(lpMsg->szGuildName, lpMsg->szTargetName, lpMsg->btGuildStatus);

  027ea	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  027ed	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  027f1	51		 push	 ecx
  027f2	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  027f5	83 c2 12	 add	 edx, 18			; 00000012H
  027f8	52		 push	 edx
  027f9	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  027fc	83 c0 09	 add	 eax, 9
  027ff	50		 push	 eax
  02800	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  02805	e8 00 00 00 00	 call	 ?SetGuildMemberStatus@CGuildClass@@QAEHPAD0H@Z ; CGuildClass::SetGuildMemberStatus

; 1176 : 
; 1177 : 		LogAddTD("[U.System][Guild Status][Assign] Guild : ( %s ) Member : ( %s ) Status : ( %d )", lpMsg->szGuildName, lpMsg->szTargetName, lpMsg->btGuildStatus);

  0280a	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0280d	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  02811	51		 push	 ecx
  02812	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  02815	83 c2 12	 add	 edx, 18			; 00000012H
  02818	52		 push	 edx
  02819	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0281c	83 c0 09	 add	 eax, 9
  0281f	50		 push	 eax
  02820	68 00 00 00 00	 push	 OFFSET ??_C@_0FA@EEENHOBM@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLAssign?$FN@
  02825	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0282b	83 c4 10	 add	 esp, 16			; 00000010H

; 1178 : 
; 1179 : 		for ( int i=0;i<MAX_USER_GUILD;i++)

  0282e	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _i$232486[ebp], 0
  02835	eb 09		 jmp	 SHORT $LN20@DGGuildAns
$LN19@DGGuildAns:
  02837	8b 45 e4	 mov	 eax, DWORD PTR _i$232486[ebp]
  0283a	83 c0 01	 add	 eax, 1
  0283d	89 45 e4	 mov	 DWORD PTR _i$232486[ebp], eax
$LN20@DGGuildAns:
  02840	83 7d e4 50	 cmp	 DWORD PTR _i$232486[ebp], 80 ; 00000050H
  02844	0f 8d f8 00 00
	00		 jge	 $LN18@DGGuildAns

; 1180 : 		{
; 1181 : 			if ( lpNode->Use[i] > 0 && lpNode->Index[i] >= 0)

  0284a	8b 45 f8	 mov	 eax, DWORD PTR _lpNode$232478[ebp]
  0284d	03 45 e4	 add	 eax, DWORD PTR _i$232486[ebp]
  02850	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  02857	85 c9		 test	 ecx, ecx
  02859	0f 8e de 00 00
	00		 jle	 $LN17@DGGuildAns
  0285f	8b 45 e4	 mov	 eax, DWORD PTR _i$232486[ebp]
  02862	8b 4d f8	 mov	 ecx, DWORD PTR _lpNode$232478[ebp]
  02865	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  0286d	85 d2		 test	 edx, edx
  0286f	0f 8c c8 00 00
	00		 jl	 $LN17@DGGuildAns

; 1182 : 			{
; 1183 : 				TNotice _Notice(0);

  02875	6a 00		 push	 0
  02877	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$232491[ebp]
  0287d	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1184 : 
; 1185 : 				if ( lpMsg->btGuildStatus == GUILD_ASSISTANT )

  02882	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02885	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  02889	83 f9 40	 cmp	 ecx, 64			; 00000040H
  0288c	75 37		 jne	 SHORT $LN16@DGGuildAns

; 1186 : 				{
; 1187 : 					_Notice.SendToUser(lpNode->Index[i], lMsg.Get(MSGGET(6, 184)), lpMsg->szTargetName);

  0288e	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02891	83 c0 12	 add	 eax, 18			; 00000012H
  02894	50		 push	 eax
  02895	68 b8 06 00 00	 push	 1720			; 000006b8H
  0289a	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  0289f	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  028a4	50		 push	 eax
  028a5	8b 4d e4	 mov	 ecx, DWORD PTR _i$232486[ebp]
  028a8	8b 55 f8	 mov	 edx, DWORD PTR _lpNode$232478[ebp]
  028ab	0f bf 84 4a a0
	03 00 00	 movsx	 eax, WORD PTR [edx+ecx*2+928]
  028b3	50		 push	 eax
  028b4	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$232491[ebp]
  028ba	51		 push	 ecx
  028bb	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  028c0	83 c4 10	 add	 esp, 16			; 00000010H
  028c3	eb 78		 jmp	 SHORT $LN17@DGGuildAns
$LN16@DGGuildAns:

; 1188 : 				}
; 1189 : 				else if ( lpMsg->btGuildStatus == GUILD_BATTLE_MASTER )

  028c5	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  028c8	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  028cc	83 f9 20	 cmp	 ecx, 32			; 00000020H
  028cf	75 37		 jne	 SHORT $LN14@DGGuildAns

; 1190 : 				{
; 1191 : 					_Notice.SendToUser(lpNode->Index[i], lMsg.Get(MSGGET(6, 185)), lpMsg->szTargetName);

  028d1	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  028d4	83 c0 12	 add	 eax, 18			; 00000012H
  028d7	50		 push	 eax
  028d8	68 b9 06 00 00	 push	 1721			; 000006b9H
  028dd	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  028e2	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  028e7	50		 push	 eax
  028e8	8b 4d e4	 mov	 ecx, DWORD PTR _i$232486[ebp]
  028eb	8b 55 f8	 mov	 edx, DWORD PTR _lpNode$232478[ebp]
  028ee	0f bf 84 4a a0
	03 00 00	 movsx	 eax, WORD PTR [edx+ecx*2+928]
  028f6	50		 push	 eax
  028f7	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$232491[ebp]
  028fd	51		 push	 ecx
  028fe	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  02903	83 c4 10	 add	 esp, 16			; 00000010H

; 1192 : 				}
; 1193 : 				else

  02906	eb 35		 jmp	 SHORT $LN17@DGGuildAns
$LN14@DGGuildAns:

; 1194 : 				{
; 1195 : 					_Notice.SendToUser(lpNode->Index[i], lMsg.Get(MSGGET(6, 186)), lpMsg->szTargetName);

  02908	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0290b	83 c0 12	 add	 eax, 18			; 00000012H
  0290e	50		 push	 eax
  0290f	68 ba 06 00 00	 push	 1722			; 000006baH
  02914	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  02919	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0291e	50		 push	 eax
  0291f	8b 4d e4	 mov	 ecx, DWORD PTR _i$232486[ebp]
  02922	8b 55 f8	 mov	 edx, DWORD PTR _lpNode$232478[ebp]
  02925	0f bf 84 4a a0
	03 00 00	 movsx	 eax, WORD PTR [edx+ecx*2+928]
  0292d	50		 push	 eax
  0292e	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$232491[ebp]
  02934	51		 push	 ecx
  02935	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  0293a	83 c4 10	 add	 esp, 16			; 00000010H
$LN17@DGGuildAns:

; 1196 : 				}
; 1197 : 			}
; 1198 : 		}

  0293d	e9 f5 fe ff ff	 jmp	 $LN19@DGGuildAns
$LN18@DGGuildAns:

; 1199 : 	}
; 1200 : 	else if ( lpMsg->btFlag == 0 )

  02942	e9 c9 01 00 00	 jmp	 $LN24@DGGuildAns
$LN23@DGGuildAns:
  02947	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0294a	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  0294e	85 c9		 test	 ecx, ecx
  02950	0f 85 ba 01 00
	00		 jne	 $LN24@DGGuildAns

; 1201 : 	{
; 1202 : 		_GUILD_INFO_STRUCT * lpNode = Guild.SearchGuild(lpMsg->szGuildName);

  02956	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02959	83 c0 09	 add	 eax, 9
  0295c	50		 push	 eax
  0295d	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  02962	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  02967	89 85 d0 fe ff
	ff		 mov	 DWORD PTR _lpNode$232498[ebp], eax

; 1203 : 
; 1204 : 		if ( lpNode == NULL )

  0296d	83 bd d0 fe ff
	ff 00		 cmp	 DWORD PTR _lpNode$232498[ebp], 0
  02974	75 05		 jne	 SHORT $LN10@DGGuildAns

; 1205 : 		{
; 1206 : 			return;

  02976	e9 95 01 00 00	 jmp	 $LN24@DGGuildAns
$LN10@DGGuildAns:

; 1207 : 		}
; 1208 : 		
; 1209 : 		Guild.SetGuildMemberStatus(lpMsg->szGuildName, lpMsg->szTargetName, lpMsg->btGuildStatus);

  0297b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0297e	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  02982	51		 push	 ecx
  02983	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  02986	83 c2 12	 add	 edx, 18			; 00000012H
  02989	52		 push	 edx
  0298a	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0298d	83 c0 09	 add	 eax, 9
  02990	50		 push	 eax
  02991	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  02996	e8 00 00 00 00	 call	 ?SetGuildMemberStatus@CGuildClass@@QAEHPAD0H@Z ; CGuildClass::SetGuildMemberStatus

; 1210 : 
; 1211 : 		LogAddTD("[U.System][Guild Status][Assign] Guild : ( %s ) Member : ( %s ) Status : ( %d )", lpMsg->szGuildName, lpMsg->szTargetName, lpMsg->btGuildStatus);

  0299b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0299e	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  029a2	51		 push	 ecx
  029a3	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  029a6	83 c2 12	 add	 edx, 18			; 00000012H
  029a9	52		 push	 edx
  029aa	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  029ad	83 c0 09	 add	 eax, 9
  029b0	50		 push	 eax
  029b1	68 00 00 00 00	 push	 OFFSET ??_C@_0FA@EEENHOBM@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLAssign?$FN@
  029b6	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  029bc	83 c4 10	 add	 esp, 16			; 00000010H

; 1212 : 		
; 1213 : 		if ( lpMsg->btResult == 0 )

  029bf	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  029c2	0f b6 48 07	 movzx	 ecx, BYTE PTR [eax+7]
  029c6	85 c9		 test	 ecx, ecx
  029c8	75 05		 jne	 SHORT $LN9@DGGuildAns

; 1214 : 		{
; 1215 : 			return;

  029ca	e9 41 01 00 00	 jmp	 $LN24@DGGuildAns
$LN9@DGGuildAns:

; 1216 : 		}
; 1217 : 
; 1218 : 		for ( int n=0;n<MAX_USER_GUILD;n++)

  029cf	c7 85 cc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _n$232501[ebp], 0
  029d9	eb 0f		 jmp	 SHORT $LN8@DGGuildAns
$LN7@DGGuildAns:
  029db	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _n$232501[ebp]
  029e1	83 c0 01	 add	 eax, 1
  029e4	89 85 cc fe ff
	ff		 mov	 DWORD PTR _n$232501[ebp], eax
$LN8@DGGuildAns:
  029ea	83 bd cc fe ff
	ff 50		 cmp	 DWORD PTR _n$232501[ebp], 80 ; 00000050H
  029f1	0f 8d 19 01 00
	00		 jge	 $LN24@DGGuildAns

; 1219 : 		{
; 1220 : 			if ( lpNode->Use[n] > 0 && lpNode->Index[n] >= 0)

  029f7	8b 85 d0 fe ff
	ff		 mov	 eax, DWORD PTR _lpNode$232498[ebp]
  029fd	03 85 cc fe ff
	ff		 add	 eax, DWORD PTR _n$232501[ebp]
  02a03	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  02a0a	85 c9		 test	 ecx, ecx
  02a0c	0f 8e f9 00 00
	00		 jle	 $LN5@DGGuildAns
  02a12	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _n$232501[ebp]
  02a18	8b 8d d0 fe ff
	ff		 mov	 ecx, DWORD PTR _lpNode$232498[ebp]
  02a1e	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  02a26	85 d2		 test	 edx, edx
  02a28	0f 8c dd 00 00
	00		 jl	 $LN5@DGGuildAns

; 1221 : 			{
; 1222 : 				TNotice _Notice(0);

  02a2e	6a 00		 push	 0
  02a30	8d 8d bc fd ff
	ff		 lea	 ecx, DWORD PTR __Notice$232506[ebp]
  02a36	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1223 : 
; 1224 : 
; 1225 : 				if ( lpMsg->btGuildStatus == GUILD_ASSISTANT )

  02a3b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02a3e	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  02a42	83 f9 40	 cmp	 ecx, 64			; 00000040H
  02a45	75 40		 jne	 SHORT $LN4@DGGuildAns

; 1226 : 				{
; 1227 : 					_Notice.SendToUser(lpNode->Index[n], lMsg.Get(MSGGET(6, 184)), lpMsg->szTargetName);

  02a47	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02a4a	83 c0 12	 add	 eax, 18			; 00000012H
  02a4d	50		 push	 eax
  02a4e	68 b8 06 00 00	 push	 1720			; 000006b8H
  02a53	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  02a58	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  02a5d	50		 push	 eax
  02a5e	8b 8d cc fe ff
	ff		 mov	 ecx, DWORD PTR _n$232501[ebp]
  02a64	8b 95 d0 fe ff
	ff		 mov	 edx, DWORD PTR _lpNode$232498[ebp]
  02a6a	0f bf 84 4a a0
	03 00 00	 movsx	 eax, WORD PTR [edx+ecx*2+928]
  02a72	50		 push	 eax
  02a73	8d 8d bc fd ff
	ff		 lea	 ecx, DWORD PTR __Notice$232506[ebp]
  02a79	51		 push	 ecx
  02a7a	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  02a7f	83 c4 10	 add	 esp, 16			; 00000010H
  02a82	e9 84 00 00 00	 jmp	 $LN5@DGGuildAns
$LN4@DGGuildAns:

; 1228 : 				}
; 1229 : 				else if ( lpMsg->btGuildStatus == GUILD_BATTLE_MASTER )

  02a87	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02a8a	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  02a8e	83 f9 20	 cmp	 ecx, 32			; 00000020H
  02a91	75 3d		 jne	 SHORT $LN2@DGGuildAns

; 1230 : 				{
; 1231 : 					_Notice.SendToUser(lpNode->Index[n], lMsg.Get(MSGGET(6, 185)), lpMsg->szTargetName);

  02a93	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02a96	83 c0 12	 add	 eax, 18			; 00000012H
  02a99	50		 push	 eax
  02a9a	68 b9 06 00 00	 push	 1721			; 000006b9H
  02a9f	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  02aa4	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  02aa9	50		 push	 eax
  02aaa	8b 8d cc fe ff
	ff		 mov	 ecx, DWORD PTR _n$232501[ebp]
  02ab0	8b 95 d0 fe ff
	ff		 mov	 edx, DWORD PTR _lpNode$232498[ebp]
  02ab6	0f bf 84 4a a0
	03 00 00	 movsx	 eax, WORD PTR [edx+ecx*2+928]
  02abe	50		 push	 eax
  02abf	8d 8d bc fd ff
	ff		 lea	 ecx, DWORD PTR __Notice$232506[ebp]
  02ac5	51		 push	 ecx
  02ac6	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  02acb	83 c4 10	 add	 esp, 16			; 00000010H

; 1232 : 				}
; 1233 : 				else

  02ace	eb 3b		 jmp	 SHORT $LN5@DGGuildAns
$LN2@DGGuildAns:

; 1234 : 				{
; 1235 : 					_Notice.SendToUser(lpNode->Index[n], lMsg.Get(MSGGET(6, 186)), lpMsg->szTargetName);

  02ad0	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02ad3	83 c0 12	 add	 eax, 18			; 00000012H
  02ad6	50		 push	 eax
  02ad7	68 ba 06 00 00	 push	 1722			; 000006baH
  02adc	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  02ae1	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  02ae6	50		 push	 eax
  02ae7	8b 8d cc fe ff
	ff		 mov	 ecx, DWORD PTR _n$232501[ebp]
  02aed	8b 95 d0 fe ff
	ff		 mov	 edx, DWORD PTR _lpNode$232498[ebp]
  02af3	0f bf 84 4a a0
	03 00 00	 movsx	 eax, WORD PTR [edx+ecx*2+928]
  02afb	50		 push	 eax
  02afc	8d 8d bc fd ff
	ff		 lea	 ecx, DWORD PTR __Notice$232506[ebp]
  02b02	51		 push	 ecx
  02b03	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  02b08	83 c4 10	 add	 esp, 16			; 00000010H
$LN5@DGGuildAns:

; 1236 : 				}
; 1237 : 			}
; 1238 : 		}

  02b0b	e9 cb fe ff ff	 jmp	 $LN7@DGGuildAns
$LN24@DGGuildAns:

; 1239 : 	}
; 1240 : }

  02b10	5f		 pop	 edi
  02b11	5e		 pop	 esi
  02b12	5b		 pop	 ebx
  02b13	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02b16	33 cd		 xor	 ecx, ebp
  02b18	e8 00 00 00 00	 call	 @__security_check_cookie@4
  02b1d	8b e5		 mov	 esp, ebp
  02b1f	5d		 pop	 ebp
  02b20	c3		 ret	 0
?DGGuildAnsAssignStatus@@YAXPAUEXSDHP_GUILD_ASSIGN_STATUS_RESULT@@@Z ENDP ; DGGuildAnsAssignStatus
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDGuildReqAssignType@@YAXHH@Z			; GDGuildReqAssignType
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -20						; size = 16
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_iGuildType$ = 12					; size = 4
?GDGuildReqAssignType@@YAXHH@Z PROC			; GDGuildReqAssignType

; 1251 : {

  02b30	55		 push	 ebp
  02b31	8b ec		 mov	 ebp, esp
  02b33	83 ec 54	 sub	 esp, 84			; 00000054H
  02b36	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  02b3b	33 c5		 xor	 eax, ebp
  02b3d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02b40	53		 push	 ebx
  02b41	56		 push	 esi
  02b42	57		 push	 edi

; 1252 : 	EXSDHP_GUILD_ASSIGN_TYPE_REQ pMsg = {0};

  02b43	c6 45 ec 00	 mov	 BYTE PTR _pMsg$[ebp], 0
  02b47	33 c0		 xor	 eax, eax
  02b49	89 45 ed	 mov	 DWORD PTR _pMsg$[ebp+1], eax
  02b4c	89 45 f1	 mov	 DWORD PTR _pMsg$[ebp+5], eax
  02b4f	89 45 f5	 mov	 DWORD PTR _pMsg$[ebp+9], eax
  02b52	66 89 45 f9	 mov	 WORD PTR _pMsg$[ebp+13], ax
  02b56	88 45 fb	 mov	 BYTE PTR _pMsg$[ebp+15], al

; 1253 : 
; 1254 : 	pMsg.h.set((LPBYTE)&pMsg, 0xE2, sizeof(EXSDHP_GUILD_ASSIGN_TYPE_REQ));

  02b59	6a 10		 push	 16			; 00000010H
  02b5b	68 e2 00 00 00	 push	 226			; 000000e2H
  02b60	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$[ebp]
  02b63	50		 push	 eax
  02b64	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  02b67	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1255 : 	pMsg.btGuildType = iGuildType;

  02b6c	8a 45 0c	 mov	 al, BYTE PTR _iGuildType$[ebp]
  02b6f	88 45 f2	 mov	 BYTE PTR _pMsg$[ebp+6], al

; 1256 : 	pMsg.wUserIndex = aIndex;

  02b72	66 8b 45 08	 mov	 ax, WORD PTR _aIndex$[ebp]
  02b76	66 89 45 f0	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 1257 : 	pMsg.szGuildName[MAX_GUILD_LEN] = 0;

  02b7a	c6 45 fb 00	 mov	 BYTE PTR _pMsg$[ebp+15], 0

; 1258 : 	memcpy(pMsg.szGuildName, gObj[aIndex].lpGuild->Name, MAX_GUILD_LEN);

  02b7e	6a 08		 push	 8
  02b80	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02b83	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02b89	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02b8f	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  02b96	83 c2 04	 add	 edx, 4
  02b99	52		 push	 edx
  02b9a	8d 45 f3	 lea	 eax, DWORD PTR _pMsg$[ebp+7]
  02b9d	50		 push	 eax
  02b9e	e8 00 00 00 00	 call	 _memcpy
  02ba3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1259 : 
; 1260 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  02ba6	0f b6 45 ed	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  02baa	50		 push	 eax
  02bab	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  02bae	51		 push	 ecx
  02baf	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  02bb4	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 1261 : }

  02bb9	5f		 pop	 edi
  02bba	5e		 pop	 esi
  02bbb	5b		 pop	 ebx
  02bbc	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02bbf	33 cd		 xor	 ecx, ebp
  02bc1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  02bc6	8b e5		 mov	 esp, ebp
  02bc8	5d		 pop	 ebp
  02bc9	c3		 ret	 0
?GDGuildReqAssignType@@YAXHH@Z ENDP			; GDGuildReqAssignType
_TEXT	ENDS
PUBLIC	__$ArrayPad$
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
__Notice$232573 = -572					; size = 272
_n$232568 = -300					; size = 4
_lpNode$232565 = -296					; size = 4
_pNotice$232562 = -292					; size = 272
_i$232557 = -20						; size = 4
_pMsg$232552 = -16					; size = 5
_lpNode$232550 = -8					; size = 4
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGGuildAnsAssignType@@YAXPAUEXSDHP_GUILD_ASSIGN_TYPE_RESULT@@@Z PROC ; DGGuildAnsAssignType

; 1264 : {

  02bd0	55		 push	 ebp
  02bd1	8b ec		 mov	 ebp, esp
  02bd3	81 ec 7c 02 00
	00		 sub	 esp, 636		; 0000027cH
  02bd9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  02bde	33 c5		 xor	 eax, ebp
  02be0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02be3	53		 push	 ebx
  02be4	56		 push	 esi
  02be5	57		 push	 edi

; 1265 : 	if ( lpMsg->btFlag == G_TYPE_GUARD )

  02be6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02be9	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  02bed	83 f9 01	 cmp	 ecx, 1
  02bf0	0f 85 1a 01 00
	00		 jne	 $LN15@DGGuildAns@2

; 1266 : 	{
; 1267 : 		_GUILD_INFO_STRUCT * lpNode = Guild.SearchGuild(lpMsg->szGuildName);

  02bf6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02bf9	83 c0 08	 add	 eax, 8
  02bfc	50		 push	 eax
  02bfd	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  02c02	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  02c07	89 45 f8	 mov	 DWORD PTR _lpNode$232550[ebp], eax

; 1268 : 
; 1269 : 		if ( lpNode == NULL )

  02c0a	83 7d f8 00	 cmp	 DWORD PTR _lpNode$232550[ebp], 0
  02c0e	75 07		 jne	 SHORT $LN14@DGGuildAns@2

; 1270 : 		{
; 1271 : 			lpMsg->btResult = 0;

  02c10	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02c13	c6 40 07 00	 mov	 BYTE PTR [eax+7], 0
$LN14@DGGuildAns@2:

; 1272 : 		}
; 1273 : 
; 1274 : 		PMSG_GUILD_ASSIGN_TYPE_RESULT pMsg = {0};

  02c17	c6 45 f0 00	 mov	 BYTE PTR _pMsg$232552[ebp], 0
  02c1b	33 c0		 xor	 eax, eax
  02c1d	89 45 f1	 mov	 DWORD PTR _pMsg$232552[ebp+1], eax

; 1275 : 
; 1276 : 		pMsg.h.set((LPBYTE)&pMsg, 0xE2, sizeof(PMSG_GUILD_ASSIGN_TYPE_RESULT));

  02c20	6a 05		 push	 5
  02c22	68 e2 00 00 00	 push	 226			; 000000e2H
  02c27	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$232552[ebp]
  02c2a	50		 push	 eax
  02c2b	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$232552[ebp]
  02c2e	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1277 : 		pMsg.btGuildType = lpMsg->btGuildType;

  02c33	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02c36	8a 48 06	 mov	 cl, BYTE PTR [eax+6]
  02c39	88 4d f3	 mov	 BYTE PTR _pMsg$232552[ebp+3], cl

; 1278 : 		pMsg.btResult = lpMsg->btResult;

  02c3c	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02c3f	8a 48 07	 mov	 cl, BYTE PTR [eax+7]
  02c42	88 4d f4	 mov	 BYTE PTR _pMsg$232552[ebp+4], cl

; 1279 : 
; 1280 : 		DataSend(lpMsg->wUserIndex, (LPBYTE)&pMsg,sizeof(pMsg));

  02c45	6a 05		 push	 5
  02c47	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$232552[ebp]
  02c4a	50		 push	 eax
  02c4b	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  02c4e	0f b7 51 04	 movzx	 edx, WORD PTR [ecx+4]
  02c52	52		 push	 edx
  02c53	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  02c58	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1281 : 
; 1282 : 		if ( lpMsg->btResult == G_ERROR_NONE )

  02c5b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02c5e	0f b6 48 07	 movzx	 ecx, BYTE PTR [eax+7]
  02c62	85 c9		 test	 ecx, ecx
  02c64	75 05		 jne	 SHORT $LN13@DGGuildAns@2

; 1283 : 		{
; 1284 : 			return;

  02c66	e9 ae 01 00 00	 jmp	 $LN16@DGGuildAns@2
$LN13@DGGuildAns@2:

; 1285 : 		}
; 1286 : 
; 1287 : 		Guild.SetGuildType(lpMsg->szGuildName, lpMsg->btGuildType);

  02c6b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02c6e	0f b6 48 06	 movzx	 ecx, BYTE PTR [eax+6]
  02c72	51		 push	 ecx
  02c73	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  02c76	83 c2 08	 add	 edx, 8
  02c79	52		 push	 edx
  02c7a	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  02c7f	e8 00 00 00 00	 call	 ?SetGuildType@CGuildClass@@QAEHPADH@Z ; CGuildClass::SetGuildType

; 1288 : 
; 1289 : 		for ( int i=0;i<MAX_USER_GUILD;i++)

  02c84	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _i$232557[ebp], 0
  02c8b	eb 09		 jmp	 SHORT $LN12@DGGuildAns@2
$LN11@DGGuildAns@2:
  02c8d	8b 45 ec	 mov	 eax, DWORD PTR _i$232557[ebp]
  02c90	83 c0 01	 add	 eax, 1
  02c93	89 45 ec	 mov	 DWORD PTR _i$232557[ebp], eax
$LN12@DGGuildAns@2:
  02c96	83 7d ec 50	 cmp	 DWORD PTR _i$232557[ebp], 80 ; 00000050H
  02c9a	7d 6f		 jge	 SHORT $LN10@DGGuildAns@2

; 1290 : 		{
; 1291 : 			if ( lpNode->Use[i] > 0 && lpNode->Index[i] >= 0)

  02c9c	8b 45 f8	 mov	 eax, DWORD PTR _lpNode$232550[ebp]
  02c9f	03 45 ec	 add	 eax, DWORD PTR _i$232557[ebp]
  02ca2	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  02ca9	85 c9		 test	 ecx, ecx
  02cab	7e 5c		 jle	 SHORT $LN9@DGGuildAns@2
  02cad	8b 45 ec	 mov	 eax, DWORD PTR _i$232557[ebp]
  02cb0	8b 4d f8	 mov	 ecx, DWORD PTR _lpNode$232550[ebp]
  02cb3	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  02cbb	85 d2		 test	 edx, edx
  02cbd	7c 4a		 jl	 SHORT $LN9@DGGuildAns@2

; 1292 : 			{
; 1293 : 				TNotice pNotice(0);

  02cbf	6a 00		 push	 0
  02cc1	8d 8d dc fe ff
	ff		 lea	 ecx, DWORD PTR _pNotice$232562[ebp]
  02cc7	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1294 : 				pNotice.SendToUser(lpNode->Index[i], lMsg.Get(MSGGET(6, 187)), lpMsg->szGuildName, lpMsg->btGuildType);

  02ccc	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02ccf	0f b6 48 06	 movzx	 ecx, BYTE PTR [eax+6]
  02cd3	51		 push	 ecx
  02cd4	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  02cd7	83 c2 08	 add	 edx, 8
  02cda	52		 push	 edx
  02cdb	68 bb 06 00 00	 push	 1723			; 000006bbH
  02ce0	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  02ce5	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  02cea	50		 push	 eax
  02ceb	8b 45 ec	 mov	 eax, DWORD PTR _i$232557[ebp]
  02cee	8b 4d f8	 mov	 ecx, DWORD PTR _lpNode$232550[ebp]
  02cf1	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  02cf9	52		 push	 edx
  02cfa	8d 85 dc fe ff
	ff		 lea	 eax, DWORD PTR _pNotice$232562[ebp]
  02d00	50		 push	 eax
  02d01	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  02d06	83 c4 14	 add	 esp, 20			; 00000014H
$LN9@DGGuildAns@2:

; 1295 : 			}
; 1296 : 		}

  02d09	eb 82		 jmp	 SHORT $LN11@DGGuildAns@2
$LN10@DGGuildAns@2:

; 1297 : 	}
; 1298 : 	else if ( lpMsg->btFlag == G_TYPE_COMMON )

  02d0b	e9 09 01 00 00	 jmp	 $LN16@DGGuildAns@2
$LN15@DGGuildAns@2:
  02d10	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02d13	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  02d17	85 c9		 test	 ecx, ecx
  02d19	0f 85 fa 00 00
	00		 jne	 $LN16@DGGuildAns@2

; 1299 : 	{
; 1300 : 		_GUILD_INFO_STRUCT * lpNode = Guild.SearchGuild(lpMsg->szGuildName);

  02d1f	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02d22	83 c0 08	 add	 eax, 8
  02d25	50		 push	 eax
  02d26	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  02d2b	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  02d30	89 85 d8 fe ff
	ff		 mov	 DWORD PTR _lpNode$232565[ebp], eax

; 1301 : 
; 1302 : 		if ( lpNode == NULL )

  02d36	83 bd d8 fe ff
	ff 00		 cmp	 DWORD PTR _lpNode$232565[ebp], 0
  02d3d	75 05		 jne	 SHORT $LN6@DGGuildAns@2

; 1303 : 		{
; 1304 : 			return;

  02d3f	e9 d5 00 00 00	 jmp	 $LN16@DGGuildAns@2
$LN6@DGGuildAns@2:

; 1305 : 		}
; 1306 : 
; 1307 : 		Guild.SetGuildType(lpMsg->szGuildName, lpMsg->btGuildType);

  02d44	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02d47	0f b6 48 06	 movzx	 ecx, BYTE PTR [eax+6]
  02d4b	51		 push	 ecx
  02d4c	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  02d4f	83 c2 08	 add	 edx, 8
  02d52	52		 push	 edx
  02d53	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  02d58	e8 00 00 00 00	 call	 ?SetGuildType@CGuildClass@@QAEHPADH@Z ; CGuildClass::SetGuildType

; 1308 : 
; 1309 : 		if ( lpMsg->btResult == G_ERROR_NONE )

  02d5d	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02d60	0f b6 48 07	 movzx	 ecx, BYTE PTR [eax+7]
  02d64	85 c9		 test	 ecx, ecx
  02d66	75 05		 jne	 SHORT $LN5@DGGuildAns@2

; 1310 : 		{
; 1311 : 			return;

  02d68	e9 ac 00 00 00	 jmp	 $LN16@DGGuildAns@2
$LN5@DGGuildAns@2:

; 1312 : 		}		
; 1313 : 		
; 1314 : 		for ( int n=0;n<MAX_USER_GUILD;n++)

  02d6d	c7 85 d4 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _n$232568[ebp], 0
  02d77	eb 0f		 jmp	 SHORT $LN4@DGGuildAns@2
$LN3@DGGuildAns@2:
  02d79	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _n$232568[ebp]
  02d7f	83 c0 01	 add	 eax, 1
  02d82	89 85 d4 fe ff
	ff		 mov	 DWORD PTR _n$232568[ebp], eax
$LN4@DGGuildAns@2:
  02d88	83 bd d4 fe ff
	ff 50		 cmp	 DWORD PTR _n$232568[ebp], 80 ; 00000050H
  02d8f	0f 8d 84 00 00
	00		 jge	 $LN16@DGGuildAns@2

; 1315 : 		{
; 1316 : 			if ( lpNode->Use[n] > 0 && lpNode->Index[n] >= 0)

  02d95	8b 85 d8 fe ff
	ff		 mov	 eax, DWORD PTR _lpNode$232565[ebp]
  02d9b	03 85 d4 fe ff
	ff		 add	 eax, DWORD PTR _n$232568[ebp]
  02da1	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  02da8	85 c9		 test	 ecx, ecx
  02daa	7e 68		 jle	 SHORT $LN1@DGGuildAns@2
  02dac	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _n$232568[ebp]
  02db2	8b 8d d8 fe ff
	ff		 mov	 ecx, DWORD PTR _lpNode$232565[ebp]
  02db8	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  02dc0	85 d2		 test	 edx, edx
  02dc2	7c 50		 jl	 SHORT $LN1@DGGuildAns@2

; 1317 : 			{
; 1318 : 				TNotice _Notice(0);

  02dc4	6a 00		 push	 0
  02dc6	8d 8d c4 fd ff
	ff		 lea	 ecx, DWORD PTR __Notice$232573[ebp]
  02dcc	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1319 : 				_Notice.SendToUser(lpNode->Index[n], lMsg.Get(MSGGET(6, 187)), lpMsg->szGuildName, lpMsg->btGuildType);

  02dd1	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02dd4	0f b6 48 06	 movzx	 ecx, BYTE PTR [eax+6]
  02dd8	51		 push	 ecx
  02dd9	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  02ddc	83 c2 08	 add	 edx, 8
  02ddf	52		 push	 edx
  02de0	68 bb 06 00 00	 push	 1723			; 000006bbH
  02de5	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  02dea	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  02def	50		 push	 eax
  02df0	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _n$232568[ebp]
  02df6	8b 8d d8 fe ff
	ff		 mov	 ecx, DWORD PTR _lpNode$232565[ebp]
  02dfc	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  02e04	52		 push	 edx
  02e05	8d 85 c4 fd ff
	ff		 lea	 eax, DWORD PTR __Notice$232573[ebp]
  02e0b	50		 push	 eax
  02e0c	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  02e11	83 c4 14	 add	 esp, 20			; 00000014H
$LN1@DGGuildAns@2:

; 1320 : 			}
; 1321 : 		}

  02e14	e9 60 ff ff ff	 jmp	 $LN3@DGGuildAns@2
$LN16@DGGuildAns@2:

; 1322 : 	}
; 1323 : }

  02e19	5f		 pop	 edi
  02e1a	5e		 pop	 esi
  02e1b	5b		 pop	 ebx
  02e1c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02e1f	33 cd		 xor	 ecx, ebp
  02e21	e8 00 00 00 00	 call	 @__security_check_cookie@4
  02e26	8b e5		 mov	 esp, ebp
  02e28	5d		 pop	 ebp
  02e29	c3		 ret	 0
?DGGuildAnsAssignType@@YAXPAUEXSDHP_GUILD_ASSIGN_TYPE_RESULT@@@Z ENDP ; DGGuildAnsAssignType
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDRelationShipReqJoin@@YAXHHH@Z		; GDRelationShipReqJoin
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -32						; size = 20
_lpTargetGuildInfo$ = -12				; size = 4
_lpGuildInfo$ = -8					; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_iTargetUserIndex$ = 12					; size = 4
_iRelationShipType$ = 16				; size = 4
?GDRelationShipReqJoin@@YAXHHH@Z PROC			; GDRelationShipReqJoin

; 1336 : {

  02e30	55		 push	 ebp
  02e31	8b ec		 mov	 ebp, esp
  02e33	83 ec 60	 sub	 esp, 96			; 00000060H
  02e36	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  02e3b	33 c5		 xor	 eax, ebp
  02e3d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02e40	53		 push	 ebx
  02e41	56		 push	 esi
  02e42	57		 push	 edi

; 1337 : 	_GUILD_INFO_STRUCT * lpGuildInfo = gObj[aIndex].lpGuild;

  02e43	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02e46	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02e4c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02e52	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  02e59	89 55 f8	 mov	 DWORD PTR _lpGuildInfo$[ebp], edx

; 1338 : 	_GUILD_INFO_STRUCT * lpTargetGuildInfo = gObj[iTargetUserIndex].lpGuild;

  02e5c	8b 45 0c	 mov	 eax, DWORD PTR _iTargetUserIndex$[ebp]
  02e5f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02e65	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02e6b	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  02e72	89 55 f4	 mov	 DWORD PTR _lpTargetGuildInfo$[ebp], edx

; 1339 : 
; 1340 : 	if ( !lpGuildInfo || !lpTargetGuildInfo )

  02e75	83 7d f8 00	 cmp	 DWORD PTR _lpGuildInfo$[ebp], 0
  02e79	74 06		 je	 SHORT $LN1@GDRelation
  02e7b	83 7d f4 00	 cmp	 DWORD PTR _lpTargetGuildInfo$[ebp], 0
  02e7f	75 05		 jne	 SHORT $LN2@GDRelation
$LN1@GDRelation:

; 1341 : 	{
; 1342 : 		return;

  02e81	e9 8b 00 00 00	 jmp	 $LN3@GDRelation
$LN2@GDRelation:

; 1343 : 	}
; 1344 : 
; 1345 : 	EXSDHP_RELATIONSHIP_JOIN_REQ pMsg = {0};

  02e86	c6 45 e0 00	 mov	 BYTE PTR _pMsg$[ebp], 0
  02e8a	33 c0		 xor	 eax, eax
  02e8c	89 45 e1	 mov	 DWORD PTR _pMsg$[ebp+1], eax
  02e8f	89 45 e5	 mov	 DWORD PTR _pMsg$[ebp+5], eax
  02e92	89 45 e9	 mov	 DWORD PTR _pMsg$[ebp+9], eax
  02e95	89 45 ed	 mov	 DWORD PTR _pMsg$[ebp+13], eax
  02e98	66 89 45 f1	 mov	 WORD PTR _pMsg$[ebp+17], ax
  02e9c	88 45 f3	 mov	 BYTE PTR _pMsg$[ebp+19], al

; 1346 : 
; 1347 : 	pMsg.h.set((LPBYTE)&pMsg, 0xE5, sizeof(EXSDHP_RELATIONSHIP_JOIN_REQ));

  02e9f	6a 14		 push	 20			; 00000014H
  02ea1	68 e5 00 00 00	 push	 229			; 000000e5H
  02ea6	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  02ea9	50		 push	 eax
  02eaa	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  02ead	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1348 : 	pMsg.wRequestUserIndex = aIndex;

  02eb2	66 8b 45 08	 mov	 ax, WORD PTR _aIndex$[ebp]
  02eb6	66 89 45 e4	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 1349 : 	pMsg.wTargetUserIndex = iTargetUserIndex;

  02eba	66 8b 45 0c	 mov	 ax, WORD PTR _iTargetUserIndex$[ebp]
  02ebe	66 89 45 e6	 mov	 WORD PTR _pMsg$[ebp+6], ax

; 1350 : 	pMsg.btRelationShipType = iRelationShipType;

  02ec2	8a 45 10	 mov	 al, BYTE PTR _iRelationShipType$[ebp]
  02ec5	88 45 e8	 mov	 BYTE PTR _pMsg$[ebp+8], al

; 1351 : 	pMsg.iRequestGuildNum = gObj[aIndex].lpGuild->Number;

  02ec8	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02ecb	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02ed1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02ed7	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  02ede	8b 02		 mov	 eax, DWORD PTR [edx]
  02ee0	89 45 ec	 mov	 DWORD PTR _pMsg$[ebp+12], eax

; 1352 : 	pMsg.iTargetGuildNum = gObj[iTargetUserIndex].lpGuild->Number;

  02ee3	8b 45 0c	 mov	 eax, DWORD PTR _iTargetUserIndex$[ebp]
  02ee6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02eec	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02ef2	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  02ef9	8b 02		 mov	 eax, DWORD PTR [edx]
  02efb	89 45 f0	 mov	 DWORD PTR _pMsg$[ebp+16], eax

; 1353 : 
; 1354 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  02efe	0f b6 45 e1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  02f02	50		 push	 eax
  02f03	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  02f06	51		 push	 ecx
  02f07	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  02f0c	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
$LN3@GDRelation:

; 1355 : }

  02f11	5f		 pop	 edi
  02f12	5e		 pop	 esi
  02f13	5b		 pop	 ebx
  02f14	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02f17	33 cd		 xor	 ecx, ebp
  02f19	e8 00 00 00 00	 call	 @__security_check_cookie@4
  02f1e	8b e5		 mov	 esp, ebp
  02f20	5d		 pop	 ebp
  02f21	c3		 ret	 0
?GDRelationShipReqJoin@@YAXHHH@Z ENDP			; GDRelationShipReqJoin
_TEXT	ENDS
PUBLIC	??_C@_0CK@CDNGEFAB@?$FLU?4System?$FN?$FLRival?$FN?$FLJoin?$FN?5?$CI?5?5?$CFs?5?$CJ?5@ ; `string'
PUBLIC	?SetGuildRival@_GUILD_INFO_STRUCT@@QAEXH@Z	; _GUILD_INFO_STRUCT::SetGuildRival
PUBLIC	??_C@_0EN@PFEKLNHO@?$FLU?4System?$FN?$FLUnion?$FN?$FLJoin?$FN?5?$CI?5Union?5@ ; `string'
PUBLIC	?SetGuildUnion@_GUILD_INFO_STRUCT@@QAEXH@Z	; _GUILD_INFO_STRUCT::SetGuildUnion
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0CK@CDNGEFAB@?$FLU?4System?$FN?$FLRival?$FN?$FLJoin?$FN?5?$CI?5?5?$CFs?5?$CJ?5@
CONST	SEGMENT
??_C@_0CK@CDNGEFAB@?$FLU?4System?$FN?$FLRival?$FN?$FLJoin?$FN?5?$CI?5?5?$CFs?5?$CJ?5@ DB '['
	DB	'U.System][Rival][Join] (  %s ) vs ( %s )', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EN@PFEKLNHO@?$FLU?4System?$FN?$FLUnion?$FN?$FLJoin?$FN?5?$CI?5Union?5@
CONST	SEGMENT
??_C@_0EN@PFEKLNHO@?$FLU?4System?$FN?$FLUnion?$FN?$FLJoin?$FN?5?$CI?5Union?5@ DB '['
	DB	'U.System][Union][Join] ( Union Master Guild: %s ), (Union Mem'
	DB	'ber Guild: %s)', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
__Notice$232651 = -572					; size = 272
_n$232645 = -300					; size = 4
__Notice$232641 = -296					; size = 272
_n$232635 = -24						; size = 4
_pMsg$232608 = -20					; size = 8
_lpTargetGuild$ = -12					; size = 4
_lpReqGuild$ = -8					; size = 4
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGRelationShipAnsJoin@@YAXPAUEXSDHP_RELATIONSHIP_JOIN_RESULT@@@Z PROC ; DGRelationShipAnsJoin

; 1358 : {

  02f30	55		 push	 ebp
  02f31	8b ec		 mov	 ebp, esp
  02f33	81 ec 7c 02 00
	00		 sub	 esp, 636		; 0000027cH
  02f39	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  02f3e	33 c5		 xor	 eax, ebp
  02f40	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02f43	53		 push	 ebx
  02f44	56		 push	 esi
  02f45	57		 push	 edi

; 1359 : 	_GUILD_INFO_STRUCT * lpReqGuild = Guild.SearchGuild_Number(lpMsg->iRequestGuildNum);

  02f46	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02f49	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  02f4c	51		 push	 ecx
  02f4d	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  02f52	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  02f57	89 45 f8	 mov	 DWORD PTR _lpReqGuild$[ebp], eax

; 1360 : 	_GUILD_INFO_STRUCT * lpTargetGuild = Guild.SearchGuild_Number(lpMsg->iTargetGuildNum);

  02f5a	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02f5d	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  02f60	51		 push	 ecx
  02f61	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  02f66	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  02f6b	89 45 f4	 mov	 DWORD PTR _lpTargetGuild$[ebp], eax

; 1361 : 
; 1362 : 	if ( lpMsg->btFlag == 1 )

  02f6e	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02f71	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  02f75	83 f9 01	 cmp	 ecx, 1
  02f78	0f 85 d0 00 00
	00		 jne	 $LN30@DGRelation

; 1363 : 	{
; 1364 : 		if ( !lpReqGuild || !lpTargetGuild )

  02f7e	83 7d f8 00	 cmp	 DWORD PTR _lpReqGuild$[ebp], 0
  02f82	74 06		 je	 SHORT $LN28@DGRelation
  02f84	83 7d f4 00	 cmp	 DWORD PTR _lpTargetGuild$[ebp], 0
  02f88	75 07		 jne	 SHORT $LN29@DGRelation
$LN28@DGRelation:

; 1365 : 		{
; 1366 : 			lpMsg->btResult = 0;

  02f8a	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02f8d	c6 40 08 00	 mov	 BYTE PTR [eax+8], 0
$LN29@DGRelation:

; 1367 : 		}
; 1368 : 
; 1369 : 		PMSG_RELATIONSHIP_JOIN_BREAKOFF_ANS pMsg ={0};

  02f91	c6 45 ec 00	 mov	 BYTE PTR _pMsg$232608[ebp], 0
  02f95	33 c0		 xor	 eax, eax
  02f97	89 45 ed	 mov	 DWORD PTR _pMsg$232608[ebp+1], eax
  02f9a	66 89 45 f1	 mov	 WORD PTR _pMsg$232608[ebp+5], ax
  02f9e	88 45 f3	 mov	 BYTE PTR _pMsg$232608[ebp+7], al

; 1370 : 
; 1371 : 		pMsg.h.set((LPBYTE)&pMsg, 0xE6, sizeof(pMsg));

  02fa1	6a 08		 push	 8
  02fa3	68 e6 00 00 00	 push	 230			; 000000e6H
  02fa8	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$232608[ebp]
  02fab	50		 push	 eax
  02fac	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$232608[ebp]
  02faf	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1372 : 		pMsg.btResult = lpMsg->btResult;

  02fb4	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02fb7	8a 48 08	 mov	 cl, BYTE PTR [eax+8]
  02fba	88 4d f1	 mov	 BYTE PTR _pMsg$232608[ebp+5], cl

; 1373 : 		pMsg.btRequestType = G_RELATION_OPERATION_JOIN;

  02fbd	c6 45 f0 01	 mov	 BYTE PTR _pMsg$232608[ebp+4], 1

; 1374 : 		pMsg.btRelationShipType = lpMsg->btRelationShipType;

  02fc1	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02fc4	8a 48 09	 mov	 cl, BYTE PTR [eax+9]
  02fc7	88 4d ef	 mov	 BYTE PTR _pMsg$232608[ebp+3], cl

; 1375 : 		pMsg.btTargetUserIndexH = SET_NUMBERH(lpMsg->wTargetUserIndex);

  02fca	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02fcd	0f b7 48 06	 movzx	 ecx, WORD PTR [eax+6]
  02fd1	c1 e9 08	 shr	 ecx, 8
  02fd4	88 4d f2	 mov	 BYTE PTR _pMsg$232608[ebp+6], cl

; 1376 : 		pMsg.btTargetUserIndexL = SET_NUMBERL(lpMsg->wTargetUserIndex);

  02fd7	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  02fda	0f b7 48 06	 movzx	 ecx, WORD PTR [eax+6]
  02fde	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  02fe4	88 4d f3	 mov	 BYTE PTR _pMsg$232608[ebp+7], cl

; 1377 : 
; 1378 : 		DataSend(lpMsg->wRequestUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  02fe7	6a 08		 push	 8
  02fe9	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$232608[ebp]
  02fec	50		 push	 eax
  02fed	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  02ff0	0f b7 51 04	 movzx	 edx, WORD PTR [ecx+4]
  02ff4	52		 push	 edx
  02ff5	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  02ffa	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1379 : 
; 1380 : 		pMsg.btTargetUserIndexH = SET_NUMBERH(lpMsg->wRequestUserIndex);

  02ffd	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03000	0f b7 48 04	 movzx	 ecx, WORD PTR [eax+4]
  03004	c1 e9 08	 shr	 ecx, 8
  03007	88 4d f2	 mov	 BYTE PTR _pMsg$232608[ebp+6], cl

; 1381 : 		pMsg.btTargetUserIndexL = SET_NUMBERL(lpMsg->wRequestUserIndex);

  0300a	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0300d	0f b7 48 04	 movzx	 ecx, WORD PTR [eax+4]
  03011	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  03017	88 4d f3	 mov	 BYTE PTR _pMsg$232608[ebp+7], cl

; 1382 : 
; 1383 : 		DataSend(lpMsg->wTargetUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  0301a	6a 08		 push	 8
  0301c	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$232608[ebp]
  0301f	50		 push	 eax
  03020	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  03023	0f b7 51 06	 movzx	 edx, WORD PTR [ecx+6]
  03027	52		 push	 edx
  03028	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0302d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1384 : 
; 1385 : 		if ( lpMsg->btResult == EX_RESULT_FAIL ||lpMsg->btResult == EX_RESULT_FAIL_FOR_CASTLE )

  03030	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03033	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  03037	85 c9		 test	 ecx, ecx
  03039	74 0c		 je	 SHORT $LN26@DGRelation
  0303b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0303e	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  03042	83 f9 10	 cmp	 ecx, 16			; 00000010H
  03045	75 05		 jne	 SHORT $LN27@DGRelation
$LN26@DGRelation:

; 1386 : 			return;

  03047	e9 d3 02 00 00	 jmp	 $LN31@DGRelation
$LN27@DGRelation:

; 1387 : 
; 1388 : 	}

  0304c	eb 38		 jmp	 SHORT $LN25@DGRelation
$LN30@DGRelation:

; 1389 : 	else if ( lpMsg->btFlag == 0 )

  0304e	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03051	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  03055	85 c9		 test	 ecx, ecx
  03057	75 2d		 jne	 SHORT $LN25@DGRelation

; 1390 : 	{
; 1391 : 		if ( !lpReqGuild || !lpTargetGuild )

  03059	83 7d f8 00	 cmp	 DWORD PTR _lpReqGuild$[ebp], 0
  0305d	74 06		 je	 SHORT $LN22@DGRelation
  0305f	83 7d f4 00	 cmp	 DWORD PTR _lpTargetGuild$[ebp], 0
  03063	75 05		 jne	 SHORT $LN23@DGRelation
$LN22@DGRelation:

; 1392 : 			return;

  03065	e9 b5 02 00 00	 jmp	 $LN31@DGRelation
$LN23@DGRelation:

; 1393 : 
; 1394 : 		if ( lpMsg->btResult == EX_RESULT_FAIL ||lpMsg->btResult == EX_RESULT_FAIL_FOR_CASTLE )

  0306a	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0306d	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  03071	85 c9		 test	 ecx, ecx
  03073	74 0c		 je	 SHORT $LN20@DGRelation
  03075	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03078	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  0307c	83 f9 10	 cmp	 ecx, 16			; 00000010H
  0307f	75 05		 jne	 SHORT $LN25@DGRelation
$LN20@DGRelation:

; 1395 : 			return;

  03081	e9 99 02 00 00	 jmp	 $LN31@DGRelation
$LN25@DGRelation:

; 1396 : 
; 1397 : 	}
; 1398 : 
; 1399 : 	if (lpMsg->btRelationShipType == G_RELATIONSHIP_UNION )

  03086	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03089	0f b6 48 09	 movzx	 ecx, BYTE PTR [eax+9]
  0308d	83 f9 01	 cmp	 ecx, 1
  03090	75 3a		 jne	 SHORT $LN19@DGRelation

; 1400 : 	{
; 1401 : 		lpReqGuild->SetGuildUnion(lpTargetGuild->Number);

  03092	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  03095	8b 08		 mov	 ecx, DWORD PTR [eax]
  03097	51		 push	 ecx
  03098	8b 4d f8	 mov	 ecx, DWORD PTR _lpReqGuild$[ebp]
  0309b	e8 00 00 00 00	 call	 ?SetGuildUnion@_GUILD_INFO_STRUCT@@QAEXH@Z ; _GUILD_INFO_STRUCT::SetGuildUnion

; 1402 : 		lpTargetGuild->SetGuildUnion(lpTargetGuild->Number);

  030a0	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  030a3	8b 08		 mov	 ecx, DWORD PTR [eax]
  030a5	51		 push	 ecx
  030a6	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetGuild$[ebp]
  030a9	e8 00 00 00 00	 call	 ?SetGuildUnion@_GUILD_INFO_STRUCT@@QAEXH@Z ; _GUILD_INFO_STRUCT::SetGuildUnion

; 1403 : 
; 1404 : 		LogAddTD("[U.System][Union][Join] ( Union Master Guild: %s ), (Union Member Guild: %s)",
; 1405 : 			lpTargetGuild->Name, lpReqGuild->Name);

  030ae	8b 45 f8	 mov	 eax, DWORD PTR _lpReqGuild$[ebp]
  030b1	83 c0 04	 add	 eax, 4
  030b4	50		 push	 eax
  030b5	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetGuild$[ebp]
  030b8	83 c1 04	 add	 ecx, 4
  030bb	51		 push	 ecx
  030bc	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@PFEKLNHO@?$FLU?4System?$FN?$FLUnion?$FN?$FLJoin?$FN?5?$CI?5Union?5@
  030c1	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  030c7	83 c4 0c	 add	 esp, 12			; 0000000cH
  030ca	eb 7a		 jmp	 SHORT $LN18@DGRelation
$LN19@DGRelation:

; 1406 : 	}
; 1407 : 	else if ( lpMsg->btRelationShipType == G_RELATIONSHIP_RIVAL )

  030cc	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  030cf	0f b6 48 09	 movzx	 ecx, BYTE PTR [eax+9]
  030d3	83 f9 02	 cmp	 ecx, 2
  030d6	75 6e		 jne	 SHORT $LN18@DGRelation

; 1408 : 	{
; 1409 : 		lpReqGuild->SetGuildRival(lpTargetGuild->Number);

  030d8	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  030db	8b 08		 mov	 ecx, DWORD PTR [eax]
  030dd	51		 push	 ecx
  030de	8b 4d f8	 mov	 ecx, DWORD PTR _lpReqGuild$[ebp]
  030e1	e8 00 00 00 00	 call	 ?SetGuildRival@_GUILD_INFO_STRUCT@@QAEXH@Z ; _GUILD_INFO_STRUCT::SetGuildRival

; 1410 : 		lpTargetGuild->SetGuildRival(lpReqGuild->Number);

  030e6	8b 45 f8	 mov	 eax, DWORD PTR _lpReqGuild$[ebp]
  030e9	8b 08		 mov	 ecx, DWORD PTR [eax]
  030eb	51		 push	 ecx
  030ec	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetGuild$[ebp]
  030ef	e8 00 00 00 00	 call	 ?SetGuildRival@_GUILD_INFO_STRUCT@@QAEXH@Z ; _GUILD_INFO_STRUCT::SetGuildRival

; 1411 : 		memcpy(lpReqGuild->szGuildRivalName, lpMsg->szTargetGuildName, MAX_GUILD_LEN);

  030f4	6a 08		 push	 8
  030f6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  030f9	83 c0 1d	 add	 eax, 29			; 0000001dH
  030fc	50		 push	 eax
  030fd	8b 4d f8	 mov	 ecx, DWORD PTR _lpReqGuild$[ebp]
  03100	81 c1 28 07 00
	00		 add	 ecx, 1832		; 00000728H
  03106	51		 push	 ecx
  03107	e8 00 00 00 00	 call	 _memcpy
  0310c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1412 : 		memcpy(lpTargetGuild->szGuildRivalName, lpMsg->szRequestGuildName, MAX_GUILD_LEN);

  0310f	6a 08		 push	 8
  03111	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03114	83 c0 14	 add	 eax, 20			; 00000014H
  03117	50		 push	 eax
  03118	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetGuild$[ebp]
  0311b	81 c1 28 07 00
	00		 add	 ecx, 1832		; 00000728H
  03121	51		 push	 ecx
  03122	e8 00 00 00 00	 call	 _memcpy
  03127	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1413 : 
; 1414 : 		LogAddTD("[U.System][Rival][Join] (  %s ) vs ( %s )",
; 1415 : 			lpReqGuild->Name, lpTargetGuild->Name);

  0312a	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  0312d	83 c0 04	 add	 eax, 4
  03130	50		 push	 eax
  03131	8b 4d f8	 mov	 ecx, DWORD PTR _lpReqGuild$[ebp]
  03134	83 c1 04	 add	 ecx, 4
  03137	51		 push	 ecx
  03138	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@CDNGEFAB@?$FLU?4System?$FN?$FLRival?$FN?$FLJoin?$FN?5?$CI?5?5?$CFs?5?$CJ?5@
  0313d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  03143	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN18@DGRelation:

; 1416 : 	}
; 1417 : 
; 1418 : 	for ( int n=0;n<MAX_USER_GUILD;n++)

  03146	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _n$232635[ebp], 0
  0314d	eb 09		 jmp	 SHORT $LN16@DGRelation
$LN15@DGRelation:
  0314f	8b 45 e8	 mov	 eax, DWORD PTR _n$232635[ebp]
  03152	83 c0 01	 add	 eax, 1
  03155	89 45 e8	 mov	 DWORD PTR _n$232635[ebp], eax
$LN16@DGRelation:
  03158	83 7d e8 50	 cmp	 DWORD PTR _n$232635[ebp], 80 ; 00000050H
  0315c	0f 8d c1 00 00
	00		 jge	 $LN14@DGRelation

; 1419 : 	{
; 1420 : 		if ( lpReqGuild->Use[n] > 0 )

  03162	8b 45 f8	 mov	 eax, DWORD PTR _lpReqGuild$[ebp]
  03165	03 45 e8	 add	 eax, DWORD PTR _n$232635[ebp]
  03168	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  0316f	85 c9		 test	 ecx, ecx
  03171	0f 8e a7 00 00
	00		 jle	 $LN13@DGRelation

; 1421 : 		{
; 1422 : 			if ( lpReqGuild->Index[n] >= 0 )

  03177	8b 45 e8	 mov	 eax, DWORD PTR _n$232635[ebp]
  0317a	8b 4d f8	 mov	 ecx, DWORD PTR _lpReqGuild$[ebp]
  0317d	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  03185	85 d2		 test	 edx, edx
  03187	0f 8c 91 00 00
	00		 jl	 $LN13@DGRelation

; 1423 : 			{
; 1424 : 				TNotice _Notice(1);

  0318d	6a 01		 push	 1
  0318f	8d 8d d8 fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$232641[ebp]
  03195	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1425 : 
; 1426 : 				if ( lpMsg->btRelationShipType == G_RELATIONSHIP_UNION )

  0319a	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0319d	0f b6 48 09	 movzx	 ecx, BYTE PTR [eax+9]
  031a1	83 f9 01	 cmp	 ecx, 1
  031a4	75 37		 jne	 SHORT $LN11@DGRelation

; 1427 : 				{
; 1428 : 					_Notice.SendToUser(lpReqGuild->Index[n], lMsg.Get(MSGGET(6, 165)), lpTargetGuild->Name);

  031a6	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  031a9	83 c0 04	 add	 eax, 4
  031ac	50		 push	 eax
  031ad	68 a5 06 00 00	 push	 1701			; 000006a5H
  031b2	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  031b7	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  031bc	50		 push	 eax
  031bd	8b 4d e8	 mov	 ecx, DWORD PTR _n$232635[ebp]
  031c0	8b 55 f8	 mov	 edx, DWORD PTR _lpReqGuild$[ebp]
  031c3	0f bf 84 4a a0
	03 00 00	 movsx	 eax, WORD PTR [edx+ecx*2+928]
  031cb	50		 push	 eax
  031cc	8d 8d d8 fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$232641[ebp]
  031d2	51		 push	 ecx
  031d3	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  031d8	83 c4 10	 add	 esp, 16			; 00000010H
  031db	eb 41		 jmp	 SHORT $LN13@DGRelation
$LN11@DGRelation:

; 1429 : 				}
; 1430 : 				else if ( lpMsg->btRelationShipType == G_RELATIONSHIP_RIVAL )

  031dd	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  031e0	0f b6 48 09	 movzx	 ecx, BYTE PTR [eax+9]
  031e4	83 f9 02	 cmp	 ecx, 2
  031e7	75 35		 jne	 SHORT $LN13@DGRelation

; 1431 : 				{
; 1432 : 					_Notice.SendToUser(lpReqGuild->Index[n], lMsg.Get(MSGGET(6, 166)), lpTargetGuild->Name);

  031e9	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  031ec	83 c0 04	 add	 eax, 4
  031ef	50		 push	 eax
  031f0	68 a6 06 00 00	 push	 1702			; 000006a6H
  031f5	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  031fa	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  031ff	50		 push	 eax
  03200	8b 4d e8	 mov	 ecx, DWORD PTR _n$232635[ebp]
  03203	8b 55 f8	 mov	 edx, DWORD PTR _lpReqGuild$[ebp]
  03206	0f bf 84 4a a0
	03 00 00	 movsx	 eax, WORD PTR [edx+ecx*2+928]
  0320e	50		 push	 eax
  0320f	8d 8d d8 fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$232641[ebp]
  03215	51		 push	 ecx
  03216	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  0321b	83 c4 10	 add	 esp, 16			; 00000010H
$LN13@DGRelation:

; 1433 : 				}
; 1434 : 			}
; 1435 : 		}
; 1436 : 	}

  0321e	e9 2c ff ff ff	 jmp	 $LN15@DGRelation
$LN14@DGRelation:

; 1437 : 
; 1438 : 	for (int n=0;n<MAX_USER_GUILD;n++)

  03223	c7 85 d4 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _n$232645[ebp], 0
  0322d	eb 0f		 jmp	 SHORT $LN8@DGRelation
$LN7@DGRelation:
  0322f	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _n$232645[ebp]
  03235	83 c0 01	 add	 eax, 1
  03238	89 85 d4 fe ff
	ff		 mov	 DWORD PTR _n$232645[ebp], eax
$LN8@DGRelation:
  0323e	83 bd d4 fe ff
	ff 50		 cmp	 DWORD PTR _n$232645[ebp], 80 ; 00000050H
  03245	0f 8d d4 00 00
	00		 jge	 $LN31@DGRelation

; 1439 : 	{
; 1440 : 		if ( lpTargetGuild->Use[n] > 0 )

  0324b	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  0324e	03 85 d4 fe ff
	ff		 add	 eax, DWORD PTR _n$232645[ebp]
  03254	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  0325b	85 c9		 test	 ecx, ecx
  0325d	0f 8e b7 00 00
	00		 jle	 $LN5@DGRelation

; 1441 : 		{
; 1442 : 			if ( lpTargetGuild->Index[n] >= 0 )

  03263	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _n$232645[ebp]
  03269	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetGuild$[ebp]
  0326c	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  03274	85 d2		 test	 edx, edx
  03276	0f 8c 9e 00 00
	00		 jl	 $LN5@DGRelation

; 1443 : 			{
; 1444 : 				TNotice _Notice(1);

  0327c	6a 01		 push	 1
  0327e	8d 8d c4 fd ff
	ff		 lea	 ecx, DWORD PTR __Notice$232651[ebp]
  03284	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1445 : 
; 1446 : 				if ( lpMsg->btRelationShipType == G_RELATIONSHIP_UNION )

  03289	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0328c	0f b6 48 09	 movzx	 ecx, BYTE PTR [eax+9]
  03290	83 f9 01	 cmp	 ecx, 1
  03293	75 41		 jne	 SHORT $LN3@DGRelation

; 1447 : 				{
; 1448 : 					_Notice.SendToUser(lpTargetGuild->Index[n], lMsg.Get(MSGGET(6, 167)), lpReqGuild->Name, lpTargetGuild->Name);

  03295	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  03298	83 c0 04	 add	 eax, 4
  0329b	50		 push	 eax
  0329c	8b 4d f8	 mov	 ecx, DWORD PTR _lpReqGuild$[ebp]
  0329f	83 c1 04	 add	 ecx, 4
  032a2	51		 push	 ecx
  032a3	68 a7 06 00 00	 push	 1703			; 000006a7H
  032a8	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  032ad	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  032b2	50		 push	 eax
  032b3	8b 95 d4 fe ff
	ff		 mov	 edx, DWORD PTR _n$232645[ebp]
  032b9	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  032bc	0f bf 8c 50 a0
	03 00 00	 movsx	 ecx, WORD PTR [eax+edx*2+928]
  032c4	51		 push	 ecx
  032c5	8d 95 c4 fd ff
	ff		 lea	 edx, DWORD PTR __Notice$232651[ebp]
  032cb	52		 push	 edx
  032cc	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  032d1	83 c4 14	 add	 esp, 20			; 00000014H
  032d4	eb 44		 jmp	 SHORT $LN5@DGRelation
$LN3@DGRelation:

; 1449 : 				}
; 1450 : 				else if ( lpMsg->btRelationShipType == G_RELATIONSHIP_RIVAL )

  032d6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  032d9	0f b6 48 09	 movzx	 ecx, BYTE PTR [eax+9]
  032dd	83 f9 02	 cmp	 ecx, 2
  032e0	75 38		 jne	 SHORT $LN5@DGRelation

; 1451 : 				{
; 1452 : 					_Notice.SendToUser(lpTargetGuild->Index[n], lMsg.Get(MSGGET(6, 166)), lpReqGuild->Name);

  032e2	8b 45 f8	 mov	 eax, DWORD PTR _lpReqGuild$[ebp]
  032e5	83 c0 04	 add	 eax, 4
  032e8	50		 push	 eax
  032e9	68 a6 06 00 00	 push	 1702			; 000006a6H
  032ee	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  032f3	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  032f8	50		 push	 eax
  032f9	8b 8d d4 fe ff
	ff		 mov	 ecx, DWORD PTR _n$232645[ebp]
  032ff	8b 55 f4	 mov	 edx, DWORD PTR _lpTargetGuild$[ebp]
  03302	0f bf 84 4a a0
	03 00 00	 movsx	 eax, WORD PTR [edx+ecx*2+928]
  0330a	50		 push	 eax
  0330b	8d 8d c4 fd ff
	ff		 lea	 ecx, DWORD PTR __Notice$232651[ebp]
  03311	51		 push	 ecx
  03312	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  03317	83 c4 10	 add	 esp, 16			; 00000010H
$LN5@DGRelation:

; 1453 : 				}
; 1454 : 			}
; 1455 : 		}
; 1456 : 	}

  0331a	e9 10 ff ff ff	 jmp	 $LN7@DGRelation
$LN31@DGRelation:

; 1457 : }

  0331f	5f		 pop	 edi
  03320	5e		 pop	 esi
  03321	5b		 pop	 ebx
  03322	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  03325	33 cd		 xor	 ecx, ebp
  03327	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0332c	8b e5		 mov	 esp, ebp
  0332e	5d		 pop	 ebp
  0332f	c3		 ret	 0
?DGRelationShipAnsJoin@@YAXPAUEXSDHP_RELATIONSHIP_JOIN_RESULT@@@Z ENDP ; DGRelationShipAnsJoin
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDUnionBreakOff@@YAXHH@Z			; GDUnionBreakOff
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -28						; size = 20
_lpGuildInfo$ = -8					; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_iUnionNumber$ = 12					; size = 4
?GDUnionBreakOff@@YAXHH@Z PROC				; GDUnionBreakOff

; 1470 : {

  03330	55		 push	 ebp
  03331	8b ec		 mov	 ebp, esp
  03333	83 ec 5c	 sub	 esp, 92			; 0000005cH
  03336	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0333b	33 c5		 xor	 eax, ebp
  0333d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03340	53		 push	 ebx
  03341	56		 push	 esi
  03342	57		 push	 edi

; 1471 : 	_GUILD_INFO_STRUCT * lpGuildInfo = gObj[aIndex].lpGuild;

  03343	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  03346	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0334c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03352	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  03359	89 55 f8	 mov	 DWORD PTR _lpGuildInfo$[ebp], edx

; 1472 : 
; 1473 : 	if ( !lpGuildInfo )

  0335c	83 7d f8 00	 cmp	 DWORD PTR _lpGuildInfo$[ebp], 0
  03360	75 02		 jne	 SHORT $LN1@GDUnionBre

; 1474 : 	{
; 1475 : 		return;

  03362	eb 62		 jmp	 SHORT $LN2@GDUnionBre
$LN1@GDUnionBre:

; 1476 : 	}
; 1477 : 
; 1478 : 	EXSDHP_RELATIONSHIP_BREAKOFF_REQ pMsg = {0};

  03364	c6 45 e4 00	 mov	 BYTE PTR _pMsg$[ebp], 0
  03368	33 c0		 xor	 eax, eax
  0336a	89 45 e5	 mov	 DWORD PTR _pMsg$[ebp+1], eax
  0336d	89 45 e9	 mov	 DWORD PTR _pMsg$[ebp+5], eax
  03370	89 45 ed	 mov	 DWORD PTR _pMsg$[ebp+9], eax
  03373	89 45 f1	 mov	 DWORD PTR _pMsg$[ebp+13], eax
  03376	66 89 45 f5	 mov	 WORD PTR _pMsg$[ebp+17], ax
  0337a	88 45 f7	 mov	 BYTE PTR _pMsg$[ebp+19], al

; 1479 : 
; 1480 : 	pMsg.h.set((LPBYTE)&pMsg, 0xE6, sizeof(EXSDHP_RELATIONSHIP_BREAKOFF_REQ));

  0337d	6a 14		 push	 20			; 00000014H
  0337f	68 e6 00 00 00	 push	 230			; 000000e6H
  03384	8d 45 e4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  03387	50		 push	 eax
  03388	8d 4d e4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0338b	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1481 : 	pMsg.wRequestUserIndex = aIndex;

  03390	66 8b 45 08	 mov	 ax, WORD PTR _aIndex$[ebp]
  03394	66 89 45 e8	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 1482 : 	pMsg.wTargetUserIndex = -1;

  03398	b8 ff ff 00 00	 mov	 eax, 65535		; 0000ffffH
  0339d	66 89 45 ea	 mov	 WORD PTR _pMsg$[ebp+6], ax

; 1483 : 	pMsg.btRelationShipType = G_RELATIONSHIP_UNION;

  033a1	c6 45 ec 01	 mov	 BYTE PTR _pMsg$[ebp+8], 1

; 1484 : 	pMsg.iRequestGuildNum = lpGuildInfo->Number;

  033a5	8b 45 f8	 mov	 eax, DWORD PTR _lpGuildInfo$[ebp]
  033a8	8b 08		 mov	 ecx, DWORD PTR [eax]
  033aa	89 4d f0	 mov	 DWORD PTR _pMsg$[ebp+12], ecx

; 1485 : 	pMsg.iTargetGuildNum = iUnionNumber;

  033ad	8b 45 0c	 mov	 eax, DWORD PTR _iUnionNumber$[ebp]
  033b0	89 45 f4	 mov	 DWORD PTR _pMsg$[ebp+16], eax

; 1486 : 
; 1487 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  033b3	0f b6 45 e5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  033b7	50		 push	 eax
  033b8	8d 4d e4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  033bb	51		 push	 ecx
  033bc	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  033c1	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
$LN2@GDUnionBre:

; 1488 : 
; 1489 : }

  033c6	5f		 pop	 edi
  033c7	5e		 pop	 esi
  033c8	5b		 pop	 ebx
  033c9	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  033cc	33 cd		 xor	 ecx, ebp
  033ce	e8 00 00 00 00	 call	 @__security_check_cookie@4
  033d3	8b e5		 mov	 esp, ebp
  033d5	5d		 pop	 ebp
  033d6	c3		 ret	 0
?GDUnionBreakOff@@YAXHH@Z ENDP				; GDUnionBreakOff
_TEXT	ENDS
PUBLIC	??_C@_0FF@IACINBOG@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@ ; `string'
PUBLIC	??_C@_0EA@EGALHNLI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?DGUnionBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z ; DGUnionBreakOff
;	COMDAT ??_C@_0FF@IACINBOG@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@
CONST	SEGMENT
??_C@_0FF@IACINBOG@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@ DB '['
	DB	'GS][U.System][Union][BreakOff] ( Union Master Guild: %s ), (U'
	DB	'nion Member Guild: %s)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EA@EGALHNLI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@
CONST	SEGMENT
??_C@_0EA@EGALHNLI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@ DB '['
	DB	'GS][U.System][Union][BreakOff] Request Union Member Guild: %s'
	DB	')', 00H					; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
__Notice$232716 = -572					; size = 272
_n$232710 = -300					; size = 4
__Notice$232707 = -296					; size = 272
_n$232701 = -24						; size = 4
_pMsg$232685 = -20					; size = 8
_lpTargetGuild$ = -12					; size = 4
_lpReqGuild$ = -8					; size = 4
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGUnionBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z PROC ; DGUnionBreakOff

; 1492 : {

  033e0	55		 push	 ebp
  033e1	8b ec		 mov	 ebp, esp
  033e3	81 ec 7c 02 00
	00		 sub	 esp, 636		; 0000027cH
  033e9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  033ee	33 c5		 xor	 eax, ebp
  033f0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  033f3	53		 push	 ebx
  033f4	56		 push	 esi
  033f5	57		 push	 edi

; 1493 : 	_GUILD_INFO_STRUCT * lpReqGuild = Guild.SearchGuild_Number(lpMsg->iRequestGuildNum);

  033f6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  033f9	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  033fc	51		 push	 ecx
  033fd	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  03402	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  03407	89 45 f8	 mov	 DWORD PTR _lpReqGuild$[ebp], eax

; 1494 : 	_GUILD_INFO_STRUCT * lpTargetGuild = Guild.SearchGuild_Number(lpMsg->iTargetGuildNum);

  0340a	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0340d	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  03410	51		 push	 ecx
  03411	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  03416	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  0341b	89 45 f4	 mov	 DWORD PTR _lpTargetGuild$[ebp], eax

; 1495 : 
; 1496 : 	if ( lpMsg->btFlag == 1 )

  0341e	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03421	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  03425	83 f9 01	 cmp	 ecx, 1
  03428	0f 85 92 00 00
	00		 jne	 $LN20@DGUnionBre@2

; 1497 : 	{
; 1498 : 		if ( !lpReqGuild )

  0342e	83 7d f8 00	 cmp	 DWORD PTR _lpReqGuild$[ebp], 0
  03432	75 07		 jne	 SHORT $LN19@DGUnionBre@2

; 1499 : 		{
; 1500 : 			lpMsg->btResult = 0;

  03434	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03437	c6 40 08 00	 mov	 BYTE PTR [eax+8], 0
$LN19@DGUnionBre@2:

; 1501 : 		}
; 1502 : 
; 1503 : 		PMSG_RELATIONSHIP_JOIN_BREAKOFF_ANS pMsg ={0};

  0343b	c6 45 ec 00	 mov	 BYTE PTR _pMsg$232685[ebp], 0
  0343f	33 c0		 xor	 eax, eax
  03441	89 45 ed	 mov	 DWORD PTR _pMsg$232685[ebp+1], eax
  03444	66 89 45 f1	 mov	 WORD PTR _pMsg$232685[ebp+5], ax
  03448	88 45 f3	 mov	 BYTE PTR _pMsg$232685[ebp+7], al

; 1504 : 
; 1505 : 		pMsg.h.set((LPBYTE)&pMsg, 0xE6, sizeof(pMsg));

  0344b	6a 08		 push	 8
  0344d	68 e6 00 00 00	 push	 230			; 000000e6H
  03452	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$232685[ebp]
  03455	50		 push	 eax
  03456	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$232685[ebp]
  03459	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1506 : 		pMsg.btResult = lpMsg->btResult;

  0345e	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03461	8a 48 08	 mov	 cl, BYTE PTR [eax+8]
  03464	88 4d f1	 mov	 BYTE PTR _pMsg$232685[ebp+5], cl

; 1507 : 		pMsg.btRequestType = G_RELATION_OPERATION_BREAKOFF;

  03467	c6 45 f0 02	 mov	 BYTE PTR _pMsg$232685[ebp+4], 2

; 1508 : 		pMsg.btRelationShipType = G_RELATIONSHIP_UNION;

  0346b	c6 45 ef 01	 mov	 BYTE PTR _pMsg$232685[ebp+3], 1

; 1509 : 		pMsg.btTargetUserIndexH = SET_NUMBERH(lpMsg->wTargetUserIndex);

  0346f	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03472	0f b7 48 06	 movzx	 ecx, WORD PTR [eax+6]
  03476	c1 e9 08	 shr	 ecx, 8
  03479	88 4d f2	 mov	 BYTE PTR _pMsg$232685[ebp+6], cl

; 1510 : 		pMsg.btTargetUserIndexL = SET_NUMBERL(lpMsg->wTargetUserIndex);

  0347c	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0347f	0f b7 48 06	 movzx	 ecx, WORD PTR [eax+6]
  03483	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  03489	88 4d f3	 mov	 BYTE PTR _pMsg$232685[ebp+7], cl

; 1511 : 
; 1512 : 		DataSend(lpMsg->wRequestUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  0348c	6a 08		 push	 8
  0348e	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$232685[ebp]
  03491	50		 push	 eax
  03492	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  03495	0f b7 51 04	 movzx	 edx, WORD PTR [ecx+4]
  03499	52		 push	 edx
  0349a	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0349f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1513 : 
; 1514 : 		if ( lpMsg->btResult == EX_RESULT_FAIL ||lpMsg->btResult == EX_RESULT_FAIL_FOR_CASTLE )

  034a2	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  034a5	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  034a9	85 c9		 test	 ecx, ecx
  034ab	74 0c		 je	 SHORT $LN17@DGUnionBre@2
  034ad	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  034b0	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  034b4	83 f9 10	 cmp	 ecx, 16			; 00000010H
  034b7	75 05		 jne	 SHORT $LN18@DGUnionBre@2
$LN17@DGUnionBre@2:

; 1515 : 		{
; 1516 : 			return;

  034b9	e9 90 01 00 00	 jmp	 $LN21@DGUnionBre@2
$LN18@DGUnionBre@2:

; 1517 : 		}
; 1518 : 
; 1519 : 	}

  034be	eb 32		 jmp	 SHORT $LN16@DGUnionBre@2
$LN20@DGUnionBre@2:

; 1520 : 	else if ( lpMsg->btFlag == 0 )

  034c0	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  034c3	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  034c7	85 c9		 test	 ecx, ecx
  034c9	75 27		 jne	 SHORT $LN16@DGUnionBre@2

; 1521 : 	{
; 1522 : 		if ( !lpReqGuild )

  034cb	83 7d f8 00	 cmp	 DWORD PTR _lpReqGuild$[ebp], 0
  034cf	75 05		 jne	 SHORT $LN14@DGUnionBre@2

; 1523 : 		{
; 1524 : 			return;

  034d1	e9 78 01 00 00	 jmp	 $LN21@DGUnionBre@2
$LN14@DGUnionBre@2:

; 1525 : 		}
; 1526 : 
; 1527 : 		if ( lpMsg->btResult == EX_RESULT_FAIL ||lpMsg->btResult == EX_RESULT_FAIL_FOR_CASTLE )

  034d6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  034d9	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  034dd	85 c9		 test	 ecx, ecx
  034df	74 0c		 je	 SHORT $LN12@DGUnionBre@2
  034e1	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  034e4	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  034e8	83 f9 10	 cmp	 ecx, 16			; 00000010H
  034eb	75 05		 jne	 SHORT $LN16@DGUnionBre@2
$LN12@DGUnionBre@2:

; 1528 : 		{
; 1529 : 			return;

  034ed	e9 5c 01 00 00	 jmp	 $LN21@DGUnionBre@2
$LN16@DGUnionBre@2:

; 1530 : 		}
; 1531 : 
; 1532 : 	}
; 1533 : 
; 1534 : 	lpReqGuild->SetGuildUnion(0);

  034f2	6a 00		 push	 0
  034f4	8b 4d f8	 mov	 ecx, DWORD PTR _lpReqGuild$[ebp]
  034f7	e8 00 00 00 00	 call	 ?SetGuildUnion@_GUILD_INFO_STRUCT@@QAEXH@Z ; _GUILD_INFO_STRUCT::SetGuildUnion

; 1535 : 
; 1536 : 	LogAddTD("[GS][U.System][Union][BreakOff] Request Union Member Guild: %s)", lpReqGuild->Name);

  034fc	8b 45 f8	 mov	 eax, DWORD PTR _lpReqGuild$[ebp]
  034ff	83 c0 04	 add	 eax, 4
  03502	50		 push	 eax
  03503	68 00 00 00 00	 push	 OFFSET ??_C@_0EA@EGALHNLI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@
  03508	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0350e	83 c4 08	 add	 esp, 8

; 1537 : 
; 1538 : 	for ( int n=0;n<MAX_USER_GUILD;n++)

  03511	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _n$232701[ebp], 0
  03518	eb 09		 jmp	 SHORT $LN11@DGUnionBre@2
$LN10@DGUnionBre@2:
  0351a	8b 45 e8	 mov	 eax, DWORD PTR _n$232701[ebp]
  0351d	83 c0 01	 add	 eax, 1
  03520	89 45 e8	 mov	 DWORD PTR _n$232701[ebp], eax
$LN11@DGUnionBre@2:
  03523	83 7d e8 50	 cmp	 DWORD PTR _n$232701[ebp], 80 ; 00000050H
  03527	7d 60		 jge	 SHORT $LN9@DGUnionBre@2

; 1539 : 	{
; 1540 : 		if ( lpReqGuild->Use[n] > 0 )

  03529	8b 45 f8	 mov	 eax, DWORD PTR _lpReqGuild$[ebp]
  0352c	03 45 e8	 add	 eax, DWORD PTR _n$232701[ebp]
  0352f	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  03536	85 c9		 test	 ecx, ecx
  03538	7e 4d		 jle	 SHORT $LN8@DGUnionBre@2

; 1541 : 		{
; 1542 : 			if ( lpReqGuild->Index[n] >= 0 )

  0353a	8b 45 e8	 mov	 eax, DWORD PTR _n$232701[ebp]
  0353d	8b 4d f8	 mov	 ecx, DWORD PTR _lpReqGuild$[ebp]
  03540	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  03548	85 d2		 test	 edx, edx
  0354a	7c 3b		 jl	 SHORT $LN8@DGUnionBre@2

; 1543 : 			{
; 1544 : 				TNotice _Notice(1);

  0354c	6a 01		 push	 1
  0354e	8d 8d d8 fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$232707[ebp]
  03554	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1545 : 				_Notice.SendToUser(lpReqGuild->Index[n], lMsg.Get(MSGGET(6, 168)));

  03559	68 a8 06 00 00	 push	 1704			; 000006a8H
  0355e	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  03563	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  03568	50		 push	 eax
  03569	8b 45 e8	 mov	 eax, DWORD PTR _n$232701[ebp]
  0356c	8b 4d f8	 mov	 ecx, DWORD PTR _lpReqGuild$[ebp]
  0356f	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  03577	52		 push	 edx
  03578	8d 85 d8 fe ff
	ff		 lea	 eax, DWORD PTR __Notice$232707[ebp]
  0357e	50		 push	 eax
  0357f	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  03584	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN8@DGUnionBre@2:

; 1546 : 			}
; 1547 : 		}
; 1548 : 	}

  03587	eb 91		 jmp	 SHORT $LN10@DGUnionBre@2
$LN9@DGUnionBre@2:

; 1549 : 
; 1550 : 	if ( !lpTargetGuild)

  03589	83 7d f4 00	 cmp	 DWORD PTR _lpTargetGuild$[ebp], 0
  0358d	75 05		 jne	 SHORT $LN6@DGUnionBre@2

; 1551 : 	{
; 1552 : 		return;

  0358f	e9 ba 00 00 00	 jmp	 $LN21@DGUnionBre@2
$LN6@DGUnionBre@2:

; 1553 : 	}
; 1554 : 
; 1555 : 	LogAddTD("[GS][U.System][Union][BreakOff] ( Union Master Guild: %s ), (Union Member Guild: %s)", lpTargetGuild->Name, lpReqGuild->Name);

  03594	8b 45 f8	 mov	 eax, DWORD PTR _lpReqGuild$[ebp]
  03597	83 c0 04	 add	 eax, 4
  0359a	50		 push	 eax
  0359b	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetGuild$[ebp]
  0359e	83 c1 04	 add	 ecx, 4
  035a1	51		 push	 ecx
  035a2	68 00 00 00 00	 push	 OFFSET ??_C@_0FF@IACINBOG@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@
  035a7	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  035ad	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1556 : 
; 1557 : 	for (int n=0;n<MAX_USER_GUILD;n++)

  035b0	c7 85 d4 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _n$232710[ebp], 0
  035ba	eb 0f		 jmp	 SHORT $LN5@DGUnionBre@2
$LN4@DGUnionBre@2:
  035bc	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _n$232710[ebp]
  035c2	83 c0 01	 add	 eax, 1
  035c5	89 85 d4 fe ff
	ff		 mov	 DWORD PTR _n$232710[ebp], eax
$LN5@DGUnionBre@2:
  035cb	83 bd d4 fe ff
	ff 50		 cmp	 DWORD PTR _n$232710[ebp], 80 ; 00000050H
  035d2	7d 7a		 jge	 SHORT $LN21@DGUnionBre@2

; 1558 : 	{
; 1559 : 		if ( lpTargetGuild->Use[n] > 0 )

  035d4	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  035d7	03 85 d4 fe ff
	ff		 add	 eax, DWORD PTR _n$232710[ebp]
  035dd	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  035e4	85 c9		 test	 ecx, ecx
  035e6	7e 61		 jle	 SHORT $LN2@DGUnionBre@2

; 1560 : 		{
; 1561 : 			if ( lpTargetGuild->Index[n] >= 0 )

  035e8	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _n$232710[ebp]
  035ee	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetGuild$[ebp]
  035f1	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  035f9	85 d2		 test	 edx, edx
  035fb	7c 4c		 jl	 SHORT $LN2@DGUnionBre@2

; 1562 : 			{
; 1563 : 				TNotice _Notice(1);

  035fd	6a 01		 push	 1
  035ff	8d 8d c4 fd ff
	ff		 lea	 ecx, DWORD PTR __Notice$232716[ebp]
  03605	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1564 : 				_Notice.SendToUser(lpTargetGuild->Index[n], lMsg.Get(MSGGET(6, 169)), lpReqGuild->Name, lpTargetGuild->Name);

  0360a	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  0360d	83 c0 04	 add	 eax, 4
  03610	50		 push	 eax
  03611	8b 4d f8	 mov	 ecx, DWORD PTR _lpReqGuild$[ebp]
  03614	83 c1 04	 add	 ecx, 4
  03617	51		 push	 ecx
  03618	68 a9 06 00 00	 push	 1705			; 000006a9H
  0361d	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  03622	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  03627	50		 push	 eax
  03628	8b 95 d4 fe ff
	ff		 mov	 edx, DWORD PTR _n$232710[ebp]
  0362e	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  03631	0f bf 8c 50 a0
	03 00 00	 movsx	 ecx, WORD PTR [eax+edx*2+928]
  03639	51		 push	 ecx
  0363a	8d 95 c4 fd ff
	ff		 lea	 edx, DWORD PTR __Notice$232716[ebp]
  03640	52		 push	 edx
  03641	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  03646	83 c4 14	 add	 esp, 20			; 00000014H
$LN2@DGUnionBre@2:

; 1565 : 			}
; 1566 : 		}
; 1567 : 	}

  03649	e9 6e ff ff ff	 jmp	 $LN4@DGUnionBre@2
$LN21@DGUnionBre@2:

; 1568 : }

  0364e	5f		 pop	 edi
  0364f	5e		 pop	 esi
  03650	5b		 pop	 ebx
  03651	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  03654	33 cd		 xor	 ecx, ebp
  03656	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0365b	8b e5		 mov	 esp, ebp
  0365d	5d		 pop	 ebp
  0365e	c3		 ret	 0
?DGUnionBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z ENDP ; DGUnionBreakOff
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDRelationShipReqBreakOff@@YAXHHH@Z		; GDRelationShipReqBreakOff
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -32						; size = 20
_lpTargetGuildInfo$ = -12				; size = 4
_lpGuildInfo$ = -8					; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_iTargetUserIndex$ = 12					; size = 4
_iRelationShipType$ = 16				; size = 4
?GDRelationShipReqBreakOff@@YAXHHH@Z PROC		; GDRelationShipReqBreakOff

; 1571 : {

  03660	55		 push	 ebp
  03661	8b ec		 mov	 ebp, esp
  03663	83 ec 60	 sub	 esp, 96			; 00000060H
  03666	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0366b	33 c5		 xor	 eax, ebp
  0366d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03670	53		 push	 ebx
  03671	56		 push	 esi
  03672	57		 push	 edi

; 1572 : 	_GUILD_INFO_STRUCT * lpGuildInfo = gObj[aIndex].lpGuild;

  03673	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  03676	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0367c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03682	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  03689	89 55 f8	 mov	 DWORD PTR _lpGuildInfo$[ebp], edx

; 1573 : 	_GUILD_INFO_STRUCT * lpTargetGuildInfo = gObj[iTargetUserIndex].lpGuild;

  0368c	8b 45 0c	 mov	 eax, DWORD PTR _iTargetUserIndex$[ebp]
  0368f	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  03695	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0369b	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  036a2	89 55 f4	 mov	 DWORD PTR _lpTargetGuildInfo$[ebp], edx

; 1574 : 
; 1575 : 	if ( !lpGuildInfo || !lpTargetGuildInfo )

  036a5	83 7d f8 00	 cmp	 DWORD PTR _lpGuildInfo$[ebp], 0
  036a9	74 06		 je	 SHORT $LN1@GDRelation@2
  036ab	83 7d f4 00	 cmp	 DWORD PTR _lpTargetGuildInfo$[ebp], 0
  036af	75 02		 jne	 SHORT $LN2@GDRelation@2
$LN1@GDRelation@2:

; 1576 : 		return;

  036b1	eb 65		 jmp	 SHORT $LN3@GDRelation@2
$LN2@GDRelation@2:

; 1577 : 
; 1578 : 	EXSDHP_RELATIONSHIP_BREAKOFF_REQ pMsg = {0};

  036b3	c6 45 e0 00	 mov	 BYTE PTR _pMsg$[ebp], 0
  036b7	33 c0		 xor	 eax, eax
  036b9	89 45 e1	 mov	 DWORD PTR _pMsg$[ebp+1], eax
  036bc	89 45 e5	 mov	 DWORD PTR _pMsg$[ebp+5], eax
  036bf	89 45 e9	 mov	 DWORD PTR _pMsg$[ebp+9], eax
  036c2	89 45 ed	 mov	 DWORD PTR _pMsg$[ebp+13], eax
  036c5	66 89 45 f1	 mov	 WORD PTR _pMsg$[ebp+17], ax
  036c9	88 45 f3	 mov	 BYTE PTR _pMsg$[ebp+19], al

; 1579 : 
; 1580 : 	pMsg.h.set((LPBYTE)&pMsg, 0xE6, sizeof(EXSDHP_RELATIONSHIP_BREAKOFF_REQ));

  036cc	6a 14		 push	 20			; 00000014H
  036ce	68 e6 00 00 00	 push	 230			; 000000e6H
  036d3	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  036d6	50		 push	 eax
  036d7	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  036da	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1581 : 	pMsg.wRequestUserIndex = aIndex;

  036df	66 8b 45 08	 mov	 ax, WORD PTR _aIndex$[ebp]
  036e3	66 89 45 e4	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 1582 : 	pMsg.wTargetUserIndex = iTargetUserIndex;

  036e7	66 8b 45 0c	 mov	 ax, WORD PTR _iTargetUserIndex$[ebp]
  036eb	66 89 45 e6	 mov	 WORD PTR _pMsg$[ebp+6], ax

; 1583 : 	pMsg.btRelationShipType = iRelationShipType;

  036ef	8a 45 10	 mov	 al, BYTE PTR _iRelationShipType$[ebp]
  036f2	88 45 e8	 mov	 BYTE PTR _pMsg$[ebp+8], al

; 1584 : 	pMsg.iRequestGuildNum = lpGuildInfo->Number;

  036f5	8b 45 f8	 mov	 eax, DWORD PTR _lpGuildInfo$[ebp]
  036f8	8b 08		 mov	 ecx, DWORD PTR [eax]
  036fa	89 4d ec	 mov	 DWORD PTR _pMsg$[ebp+12], ecx

; 1585 : 	pMsg.iTargetGuildNum = lpTargetGuildInfo->Number;

  036fd	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuildInfo$[ebp]
  03700	8b 08		 mov	 ecx, DWORD PTR [eax]
  03702	89 4d f0	 mov	 DWORD PTR _pMsg$[ebp+16], ecx

; 1586 : 
; 1587 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  03705	0f b6 45 e1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  03709	50		 push	 eax
  0370a	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0370d	51		 push	 ecx
  0370e	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  03713	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
$LN3@GDRelation@2:

; 1588 : }

  03718	5f		 pop	 edi
  03719	5e		 pop	 esi
  0371a	5b		 pop	 ebx
  0371b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0371e	33 cd		 xor	 ecx, ebp
  03720	e8 00 00 00 00	 call	 @__security_check_cookie@4
  03725	8b e5		 mov	 esp, ebp
  03727	5d		 pop	 ebp
  03728	c3		 ret	 0
?GDRelationShipReqBreakOff@@YAXHHH@Z ENDP		; GDRelationShipReqBreakOff
_TEXT	ENDS
PUBLIC	??_C@_0CO@FKCLICLC@?$FLU?4System?$FN?$FLRival?$FN?$FLBreakOff?$FN?5?$CI?5?5?$CF@ ; `string'
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0CO@FKCLICLC@?$FLU?4System?$FN?$FLRival?$FN?$FLBreakOff?$FN?5?$CI?5?5?$CF@
CONST	SEGMENT
??_C@_0CO@FKCLICLC@?$FLU?4System?$FN?$FLRival?$FN?$FLBreakOff?$FN?5?$CI?5?5?$CF@ DB '['
	DB	'U.System][Rival][BreakOff] (  %s ) vs ( %s )', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
__Notice$232771 = -296					; size = 272
_n$232765 = -24						; size = 4
_pMsg$232739 = -20					; size = 8
_lpTargetGuild$ = -12					; size = 4
_lpReqGuild$ = -8					; size = 4
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGRelationShipAnsBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z PROC ; DGRelationShipAnsBreakOff

; 1591 : {

  03730	55		 push	 ebp
  03731	8b ec		 mov	 ebp, esp
  03733	81 ec 68 01 00
	00		 sub	 esp, 360		; 00000168H
  03739	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0373e	33 c5		 xor	 eax, ebp
  03740	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03743	53		 push	 ebx
  03744	56		 push	 esi
  03745	57		 push	 edi

; 1592 : 	if ( lpMsg->btRelationShipType == G_RELATIONSHIP_UNION )

  03746	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03749	0f b6 48 09	 movzx	 ecx, BYTE PTR [eax+9]
  0374d	83 f9 01	 cmp	 ecx, 1
  03750	75 11		 jne	 SHORT $LN23@DGRelation@2

; 1593 : 	{
; 1594 : 		DGUnionBreakOff(lpMsg);

  03752	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03755	50		 push	 eax
  03756	e8 00 00 00 00	 call	 ?DGUnionBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z ; DGUnionBreakOff
  0375b	83 c4 04	 add	 esp, 4

; 1595 : 		return;

  0375e	e9 85 02 00 00	 jmp	 $LN24@DGRelation@2
$LN23@DGRelation@2:

; 1596 : 	}
; 1597 : 
; 1598 : 	_GUILD_INFO_STRUCT * lpReqGuild = Guild.SearchGuild_Number(lpMsg->iRequestGuildNum);

  03763	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03766	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  03769	51		 push	 ecx
  0376a	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0376f	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  03774	89 45 f8	 mov	 DWORD PTR _lpReqGuild$[ebp], eax

; 1599 : 	_GUILD_INFO_STRUCT * lpTargetGuild = Guild.SearchGuild_Number(lpMsg->iTargetGuildNum);

  03777	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0377a	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  0377d	51		 push	 ecx
  0377e	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  03783	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  03788	89 45 f4	 mov	 DWORD PTR _lpTargetGuild$[ebp], eax

; 1600 : 
; 1601 : 	if ( lpMsg->btFlag == 1 )

  0378b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0378e	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  03792	83 f9 01	 cmp	 ecx, 1
  03795	0f 85 e8 00 00
	00		 jne	 $LN22@DGRelation@2

; 1602 : 	{
; 1603 : 		if ( !lpReqGuild || !lpTargetGuild )

  0379b	83 7d f8 00	 cmp	 DWORD PTR _lpReqGuild$[ebp], 0
  0379f	74 06		 je	 SHORT $LN20@DGRelation@2
  037a1	83 7d f4 00	 cmp	 DWORD PTR _lpTargetGuild$[ebp], 0
  037a5	75 07		 jne	 SHORT $LN21@DGRelation@2
$LN20@DGRelation@2:

; 1604 : 		{
; 1605 : 			lpMsg->btResult = 0;

  037a7	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  037aa	c6 40 08 00	 mov	 BYTE PTR [eax+8], 0
$LN21@DGRelation@2:

; 1606 : 		}
; 1607 : 
; 1608 : 		PMSG_RELATIONSHIP_JOIN_BREAKOFF_ANS pMsg ={0};

  037ae	c6 45 ec 00	 mov	 BYTE PTR _pMsg$232739[ebp], 0
  037b2	33 c0		 xor	 eax, eax
  037b4	89 45 ed	 mov	 DWORD PTR _pMsg$232739[ebp+1], eax
  037b7	66 89 45 f1	 mov	 WORD PTR _pMsg$232739[ebp+5], ax
  037bb	88 45 f3	 mov	 BYTE PTR _pMsg$232739[ebp+7], al

; 1609 : 
; 1610 : 		pMsg.h.set((LPBYTE)&pMsg, 0xE6, sizeof(pMsg));

  037be	6a 08		 push	 8
  037c0	68 e6 00 00 00	 push	 230			; 000000e6H
  037c5	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$232739[ebp]
  037c8	50		 push	 eax
  037c9	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$232739[ebp]
  037cc	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1611 : 		pMsg.btResult = lpMsg->btResult;

  037d1	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  037d4	8a 48 08	 mov	 cl, BYTE PTR [eax+8]
  037d7	88 4d f1	 mov	 BYTE PTR _pMsg$232739[ebp+5], cl

; 1612 : 		pMsg.btRequestType = 2;

  037da	c6 45 f0 02	 mov	 BYTE PTR _pMsg$232739[ebp+4], 2

; 1613 : 		pMsg.btRelationShipType = lpMsg->btRelationShipType;

  037de	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  037e1	8a 48 09	 mov	 cl, BYTE PTR [eax+9]
  037e4	88 4d ef	 mov	 BYTE PTR _pMsg$232739[ebp+3], cl

; 1614 : 		pMsg.btTargetUserIndexH = SET_NUMBERH(lpMsg->wTargetUserIndex);

  037e7	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  037ea	0f b7 48 06	 movzx	 ecx, WORD PTR [eax+6]
  037ee	c1 e9 08	 shr	 ecx, 8
  037f1	88 4d f2	 mov	 BYTE PTR _pMsg$232739[ebp+6], cl

; 1615 : 		pMsg.btTargetUserIndexL = SET_NUMBERL(lpMsg->wTargetUserIndex);

  037f4	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  037f7	0f b7 48 06	 movzx	 ecx, WORD PTR [eax+6]
  037fb	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  03801	88 4d f3	 mov	 BYTE PTR _pMsg$232739[ebp+7], cl

; 1616 : 
; 1617 : 		if ( lpMsg->wRequestUserIndex != -1 )

  03804	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03807	0f b7 48 04	 movzx	 ecx, WORD PTR [eax+4]
  0380b	83 f9 ff	 cmp	 ecx, -1
  0380e	74 16		 je	 SHORT $LN19@DGRelation@2

; 1618 : 			DataSend(lpMsg->wRequestUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  03810	6a 08		 push	 8
  03812	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$232739[ebp]
  03815	50		 push	 eax
  03816	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  03819	0f b7 51 04	 movzx	 edx, WORD PTR [ecx+4]
  0381d	52		 push	 edx
  0381e	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03823	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN19@DGRelation@2:

; 1619 : 
; 1620 : 		pMsg.btTargetUserIndexH = SET_NUMBERH(lpMsg->wRequestUserIndex);

  03826	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03829	0f b7 48 04	 movzx	 ecx, WORD PTR [eax+4]
  0382d	c1 e9 08	 shr	 ecx, 8
  03830	88 4d f2	 mov	 BYTE PTR _pMsg$232739[ebp+6], cl

; 1621 : 		pMsg.btTargetUserIndexL = SET_NUMBERL(lpMsg->wRequestUserIndex);

  03833	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03836	0f b7 48 04	 movzx	 ecx, WORD PTR [eax+4]
  0383a	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  03840	88 4d f3	 mov	 BYTE PTR _pMsg$232739[ebp+7], cl

; 1622 : 
; 1623 : 		if ( lpMsg->wTargetUserIndex != -1 )

  03843	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03846	0f b7 48 06	 movzx	 ecx, WORD PTR [eax+6]
  0384a	83 f9 ff	 cmp	 ecx, -1
  0384d	74 16		 je	 SHORT $LN18@DGRelation@2

; 1624 : 			DataSend(lpMsg->wTargetUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  0384f	6a 08		 push	 8
  03851	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$232739[ebp]
  03854	50		 push	 eax
  03855	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  03858	0f b7 51 06	 movzx	 edx, WORD PTR [ecx+6]
  0385c	52		 push	 edx
  0385d	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03862	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN18@DGRelation@2:

; 1625 : 
; 1626 : 		if ( lpMsg->btResult == EX_RESULT_FAIL ||lpMsg->btResult == EX_RESULT_FAIL_FOR_CASTLE )

  03865	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03868	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  0386c	85 c9		 test	 ecx, ecx
  0386e	74 0c		 je	 SHORT $LN16@DGRelation@2
  03870	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03873	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  03877	83 f9 10	 cmp	 ecx, 16			; 00000010H
  0387a	75 05		 jne	 SHORT $LN17@DGRelation@2
$LN16@DGRelation@2:

; 1627 : 			return;

  0387c	e9 67 01 00 00	 jmp	 $LN24@DGRelation@2
$LN17@DGRelation@2:

; 1628 : 
; 1629 : 	}

  03881	eb 38		 jmp	 SHORT $LN15@DGRelation@2
$LN22@DGRelation@2:

; 1630 : 	else if ( lpMsg->btFlag == 0 )

  03883	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03886	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  0388a	85 c9		 test	 ecx, ecx
  0388c	75 2d		 jne	 SHORT $LN15@DGRelation@2

; 1631 : 	{
; 1632 : 		if ( !lpReqGuild || !lpTargetGuild )

  0388e	83 7d f8 00	 cmp	 DWORD PTR _lpReqGuild$[ebp], 0
  03892	74 06		 je	 SHORT $LN12@DGRelation@2
  03894	83 7d f4 00	 cmp	 DWORD PTR _lpTargetGuild$[ebp], 0
  03898	75 05		 jne	 SHORT $LN13@DGRelation@2
$LN12@DGRelation@2:

; 1633 : 			return;

  0389a	e9 49 01 00 00	 jmp	 $LN24@DGRelation@2
$LN13@DGRelation@2:

; 1634 : 
; 1635 : 		if ( lpMsg->btResult == EX_RESULT_FAIL ||lpMsg->btResult == EX_RESULT_FAIL_FOR_CASTLE )

  0389f	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  038a2	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  038a6	85 c9		 test	 ecx, ecx
  038a8	74 0c		 je	 SHORT $LN10@DGRelation@2
  038aa	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  038ad	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  038b1	83 f9 10	 cmp	 ecx, 16			; 00000010H
  038b4	75 05		 jne	 SHORT $LN15@DGRelation@2
$LN10@DGRelation@2:

; 1636 : 			return;

  038b6	e9 2d 01 00 00	 jmp	 $LN24@DGRelation@2
$LN15@DGRelation@2:

; 1637 : 
; 1638 : 	}
; 1639 : 
; 1640 : 	if ( lpMsg->btRelationShipType == G_RELATIONSHIP_RIVAL )

  038bb	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  038be	0f b6 48 09	 movzx	 ecx, BYTE PTR [eax+9]
  038c2	83 f9 02	 cmp	 ecx, 2
  038c5	75 28		 jne	 SHORT $LN9@DGRelation@2

; 1641 : 	{
; 1642 : 		lpReqGuild->SetGuildRival(0);

  038c7	6a 00		 push	 0
  038c9	8b 4d f8	 mov	 ecx, DWORD PTR _lpReqGuild$[ebp]
  038cc	e8 00 00 00 00	 call	 ?SetGuildRival@_GUILD_INFO_STRUCT@@QAEXH@Z ; _GUILD_INFO_STRUCT::SetGuildRival

; 1643 : 		lpTargetGuild->SetGuildRival(0);

  038d1	6a 00		 push	 0
  038d3	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetGuild$[ebp]
  038d6	e8 00 00 00 00	 call	 ?SetGuildRival@_GUILD_INFO_STRUCT@@QAEXH@Z ; _GUILD_INFO_STRUCT::SetGuildRival

; 1644 : 		lpReqGuild->szGuildRivalName[0]=0;

  038db	8b 45 f8	 mov	 eax, DWORD PTR _lpReqGuild$[ebp]
  038de	c6 80 28 07 00
	00 00		 mov	 BYTE PTR [eax+1832], 0

; 1645 : 		lpTargetGuild->szGuildRivalName[0]=0;

  038e5	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  038e8	c6 80 28 07 00
	00 00		 mov	 BYTE PTR [eax+1832], 0
$LN9@DGRelation@2:

; 1646 : 	}
; 1647 : 
; 1648 : 	LogAddTD("[U.System][Rival][BreakOff] (  %s ) vs ( %s )", lpReqGuild->Name, lpTargetGuild->Name);

  038ef	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  038f2	83 c0 04	 add	 eax, 4
  038f5	50		 push	 eax
  038f6	8b 4d f8	 mov	 ecx, DWORD PTR _lpReqGuild$[ebp]
  038f9	83 c1 04	 add	 ecx, 4
  038fc	51		 push	 ecx
  038fd	68 00 00 00 00	 push	 OFFSET ??_C@_0CO@FKCLICLC@?$FLU?4System?$FN?$FLRival?$FN?$FLBreakOff?$FN?5?$CI?5?5?$CF@
  03902	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  03908	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1649 : 
; 1650 : 	for ( int n=0;n<MAX_USER_GUILD;n++)

  0390b	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _n$232765[ebp], 0
  03912	eb 09		 jmp	 SHORT $LN8@DGRelation@2
$LN7@DGRelation@2:
  03914	8b 45 e8	 mov	 eax, DWORD PTR _n$232765[ebp]
  03917	83 c0 01	 add	 eax, 1
  0391a	89 45 e8	 mov	 DWORD PTR _n$232765[ebp], eax
$LN8@DGRelation@2:
  0391d	83 7d e8 50	 cmp	 DWORD PTR _n$232765[ebp], 80 ; 00000050H
  03921	0f 8d c1 00 00
	00		 jge	 $LN24@DGRelation@2

; 1651 : 	{
; 1652 : 		if ( lpReqGuild->Use[n] > 0 )

  03927	8b 45 f8	 mov	 eax, DWORD PTR _lpReqGuild$[ebp]
  0392a	03 45 e8	 add	 eax, DWORD PTR _n$232765[ebp]
  0392d	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  03934	85 c9		 test	 ecx, ecx
  03936	0f 8e a7 00 00
	00		 jle	 $LN5@DGRelation@2

; 1653 : 		{
; 1654 : 			if ( lpReqGuild->Index[n] >= 0 )

  0393c	8b 45 e8	 mov	 eax, DWORD PTR _n$232765[ebp]
  0393f	8b 4d f8	 mov	 ecx, DWORD PTR _lpReqGuild$[ebp]
  03942	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  0394a	85 d2		 test	 edx, edx
  0394c	0f 8c 91 00 00
	00		 jl	 $LN5@DGRelation@2

; 1655 : 			{
; 1656 : 				TNotice _Notice(1);

  03952	6a 01		 push	 1
  03954	8d 8d d8 fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$232771[ebp]
  0395a	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1657 : 
; 1658 : 				if ( lpMsg->btRelationShipType == G_RELATIONSHIP_UNION )

  0395f	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03962	0f b6 48 09	 movzx	 ecx, BYTE PTR [eax+9]
  03966	83 f9 01	 cmp	 ecx, 1
  03969	75 37		 jne	 SHORT $LN3@DGRelation@2

; 1659 : 				{
; 1660 : 					_Notice.SendToUser(lpReqGuild->Index[n], lMsg.Get(MSGGET(6, 170)), lpTargetGuild->Name);

  0396b	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  0396e	83 c0 04	 add	 eax, 4
  03971	50		 push	 eax
  03972	68 aa 06 00 00	 push	 1706			; 000006aaH
  03977	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  0397c	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  03981	50		 push	 eax
  03982	8b 4d e8	 mov	 ecx, DWORD PTR _n$232765[ebp]
  03985	8b 55 f8	 mov	 edx, DWORD PTR _lpReqGuild$[ebp]
  03988	0f bf 84 4a a0
	03 00 00	 movsx	 eax, WORD PTR [edx+ecx*2+928]
  03990	50		 push	 eax
  03991	8d 8d d8 fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$232771[ebp]
  03997	51		 push	 ecx
  03998	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  0399d	83 c4 10	 add	 esp, 16			; 00000010H
  039a0	eb 41		 jmp	 SHORT $LN5@DGRelation@2
$LN3@DGRelation@2:

; 1661 : 				}
; 1662 : 				else if ( lpMsg->btRelationShipType == G_RELATIONSHIP_RIVAL )

  039a2	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  039a5	0f b6 48 09	 movzx	 ecx, BYTE PTR [eax+9]
  039a9	83 f9 02	 cmp	 ecx, 2
  039ac	75 35		 jne	 SHORT $LN5@DGRelation@2

; 1663 : 				{
; 1664 : 					_Notice.SendToUser(lpReqGuild->Index[n], lMsg.Get(MSGGET(6, 171)), lpTargetGuild->Name);

  039ae	8b 45 f4	 mov	 eax, DWORD PTR _lpTargetGuild$[ebp]
  039b1	83 c0 04	 add	 eax, 4
  039b4	50		 push	 eax
  039b5	68 ab 06 00 00	 push	 1707			; 000006abH
  039ba	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  039bf	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  039c4	50		 push	 eax
  039c5	8b 4d e8	 mov	 ecx, DWORD PTR _n$232765[ebp]
  039c8	8b 55 f8	 mov	 edx, DWORD PTR _lpReqGuild$[ebp]
  039cb	0f bf 84 4a a0
	03 00 00	 movsx	 eax, WORD PTR [edx+ecx*2+928]
  039d3	50		 push	 eax
  039d4	8d 8d d8 fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$232771[ebp]
  039da	51		 push	 ecx
  039db	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  039e0	83 c4 10	 add	 esp, 16			; 00000010H
$LN5@DGRelation@2:

; 1665 : 				}
; 1666 : 			}
; 1667 : 		}
; 1668 : 	}

  039e3	e9 2c ff ff ff	 jmp	 $LN7@DGRelation@2
$LN24@DGRelation@2:

; 1669 : }

  039e8	5f		 pop	 edi
  039e9	5e		 pop	 esi
  039ea	5b		 pop	 ebx
  039eb	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  039ee	33 cd		 xor	 ecx, ebp
  039f0	e8 00 00 00 00	 call	 @__security_check_cookie@4
  039f5	8b e5		 mov	 esp, ebp
  039f7	5d		 pop	 ebp
  039f8	c3		 ret	 0
?DGRelationShipAnsBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z ENDP ; DGRelationShipAnsBreakOff
_TEXT	ENDS
PUBLIC	??_C@_0FG@CCGCMLDE@?$FLU?4System?$FN?$FLUnion?$FN?$FLAuto?5BreakOff?$FN@ ; `string'
PUBLIC	?SetTimeStamp@_GUILD_INFO_STRUCT@@QAEXXZ	; _GUILD_INFO_STRUCT::SetTimeStamp
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0FG@CCGCMLDE@?$FLU?4System?$FN?$FLUnion?$FN?$FLAuto?5BreakOff?$FN@
CONST	SEGMENT
??_C@_0FG@CCGCMLDE@?$FLU?4System?$FN?$FLUnion?$FN?$FLAuto?5BreakOff?$FN@ DB '['
	DB	'U.System][Union][Auto BreakOff] ( Union Master Guild: %s ), ('
	DB	'Union Member Guild: %s)', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_lpGuildInfo$232793 = -292				; size = 4
_i$232789 = -288					; size = 4
__Notice$232788 = -284					; size = 272
_n$232782 = -12						; size = 4
_lpGuildInfo$232779 = -8				; size = 4
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGRelationShipNotificationRecv@@YAXPAUEXSDHP_NOTIFICATION_RELATIONSHIP@@@Z PROC ; DGRelationShipNotificationRecv

; 1672 : {

  03a00	55		 push	 ebp
  03a01	8b ec		 mov	 ebp, esp
  03a03	81 ec 64 01 00
	00		 sub	 esp, 356		; 00000164H
  03a09	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  03a0e	33 c5		 xor	 eax, ebp
  03a10	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03a13	53		 push	 ebx
  03a14	56		 push	 esi
  03a15	57		 push	 edi

; 1673 : 	if ( lpMsg->btUpdateFlag == G_NOTIFICATION_UNION_BREAKOFF )

  03a16	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03a19	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  03a1d	83 f9 10	 cmp	 ecx, 16			; 00000010H
  03a20	0f 85 ce 00 00
	00		 jne	 $LN11@DGRelation@3

; 1674 : 	{
; 1675 : 		_GUILD_INFO_STRUCT * lpGuildInfo = Guild.SearchGuild_Number(lpMsg->iGuildList[0]);

  03a26	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03a29	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  03a2c	51		 push	 ecx
  03a2d	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  03a32	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  03a37	89 45 f8	 mov	 DWORD PTR _lpGuildInfo$232779[ebp], eax

; 1676 : 
; 1677 : 		if ( lpGuildInfo )

  03a3a	83 7d f8 00	 cmp	 DWORD PTR _lpGuildInfo$232779[ebp], 0
  03a3e	0f 84 b0 00 00
	00		 je	 $LN11@DGRelation@3

; 1678 : 		{
; 1679 : 			lpGuildInfo->iGuildUnion = 0;

  03a44	8b 45 f8	 mov	 eax, DWORD PTR _lpGuildInfo$232779[ebp]
  03a47	c7 80 1c 07 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+1820], 0

; 1680 : 			lpGuildInfo->SetTimeStamp();

  03a51	8b 4d f8	 mov	 ecx, DWORD PTR _lpGuildInfo$232779[ebp]
  03a54	e8 00 00 00 00	 call	 ?SetTimeStamp@_GUILD_INFO_STRUCT@@QAEXXZ ; _GUILD_INFO_STRUCT::SetTimeStamp

; 1681 : 
; 1682 : 			LogAddTD("[U.System][Union][Auto BreakOff] ( Union Master Guild: %s ), (Union Member Guild: %s)", lpGuildInfo->Name, lpGuildInfo->Name);

  03a59	8b 45 f8	 mov	 eax, DWORD PTR _lpGuildInfo$232779[ebp]
  03a5c	83 c0 04	 add	 eax, 4
  03a5f	50		 push	 eax
  03a60	8b 4d f8	 mov	 ecx, DWORD PTR _lpGuildInfo$232779[ebp]
  03a63	83 c1 04	 add	 ecx, 4
  03a66	51		 push	 ecx
  03a67	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CCGCMLDE@?$FLU?4System?$FN?$FLUnion?$FN?$FLAuto?5BreakOff?$FN@
  03a6c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  03a72	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1683 : 
; 1684 : 			for ( int n=0;n<MAX_USER_GUILD;n++)

  03a75	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _n$232782[ebp], 0
  03a7c	eb 09		 jmp	 SHORT $LN9@DGRelation@3
$LN8@DGRelation@3:
  03a7e	8b 45 f4	 mov	 eax, DWORD PTR _n$232782[ebp]
  03a81	83 c0 01	 add	 eax, 1
  03a84	89 45 f4	 mov	 DWORD PTR _n$232782[ebp], eax
$LN9@DGRelation@3:
  03a87	83 7d f4 50	 cmp	 DWORD PTR _n$232782[ebp], 80 ; 00000050H
  03a8b	7d 67		 jge	 SHORT $LN11@DGRelation@3

; 1685 : 			{
; 1686 : 				if ( lpGuildInfo->Use[n] > 0 )

  03a8d	8b 45 f8	 mov	 eax, DWORD PTR _lpGuildInfo$232779[ebp]
  03a90	03 45 f4	 add	 eax, DWORD PTR _n$232782[ebp]
  03a93	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  03a9a	85 c9		 test	 ecx, ecx
  03a9c	7e 54		 jle	 SHORT $LN6@DGRelation@3

; 1687 : 				{
; 1688 : 					if ( lpGuildInfo->Index[n] >= 0 )

  03a9e	8b 45 f4	 mov	 eax, DWORD PTR _n$232782[ebp]
  03aa1	8b 4d f8	 mov	 ecx, DWORD PTR _lpGuildInfo$232779[ebp]
  03aa4	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  03aac	85 d2		 test	 edx, edx
  03aae	7c 42		 jl	 SHORT $LN6@DGRelation@3

; 1689 : 					{
; 1690 : 						TNotice _Notice(G_NOTIFICATION_SET);

  03ab0	6a 01		 push	 1
  03ab2	8d 8d e4 fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$232788[ebp]
  03ab8	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1691 : 						_Notice.SendToUser(lpGuildInfo->Index[n], lMsg.Get(MSGGET(6, 172)), lpGuildInfo->Name);

  03abd	8b 45 f8	 mov	 eax, DWORD PTR _lpGuildInfo$232779[ebp]
  03ac0	83 c0 04	 add	 eax, 4
  03ac3	50		 push	 eax
  03ac4	68 ac 06 00 00	 push	 1708			; 000006acH
  03ac9	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  03ace	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  03ad3	50		 push	 eax
  03ad4	8b 4d f4	 mov	 ecx, DWORD PTR _n$232782[ebp]
  03ad7	8b 55 f8	 mov	 edx, DWORD PTR _lpGuildInfo$232779[ebp]
  03ada	0f bf 84 4a a0
	03 00 00	 movsx	 eax, WORD PTR [edx+ecx*2+928]
  03ae2	50		 push	 eax
  03ae3	8d 8d e4 fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$232788[ebp]
  03ae9	51		 push	 ecx
  03aea	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  03aef	83 c4 10	 add	 esp, 16			; 00000010H
$LN6@DGRelation@3:

; 1692 : 					}
; 1693 : 				}
; 1694 : 			}

  03af2	eb 8a		 jmp	 SHORT $LN8@DGRelation@3
$LN11@DGRelation@3:

; 1695 : 		}
; 1696 : 	}
; 1697 : 
; 1698 : 	for ( int i=0;i<lpMsg->btGuildListCount;i++)

  03af4	c7 85 e0 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$232789[ebp], 0
  03afe	eb 0f		 jmp	 SHORT $LN4@DGRelation@3
$LN3@DGRelation@3:
  03b00	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _i$232789[ebp]
  03b06	83 c0 01	 add	 eax, 1
  03b09	89 85 e0 fe ff
	ff		 mov	 DWORD PTR _i$232789[ebp], eax
$LN4@DGRelation@3:
  03b0f	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03b12	0f b6 48 06	 movzx	 ecx, BYTE PTR [eax+6]
  03b16	39 8d e0 fe ff
	ff		 cmp	 DWORD PTR _i$232789[ebp], ecx
  03b1c	7d 34		 jge	 SHORT $LN12@DGRelation@3

; 1699 : 	{
; 1700 : 		_GUILD_INFO_STRUCT * lpGuildInfo = Guild.SearchGuild_Number(lpMsg->iGuildList[i]);

  03b1e	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _i$232789[ebp]
  03b24	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  03b27	8b 54 81 08	 mov	 edx, DWORD PTR [ecx+eax*4+8]
  03b2b	52		 push	 edx
  03b2c	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  03b31	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  03b36	89 85 dc fe ff
	ff		 mov	 DWORD PTR _lpGuildInfo$232793[ebp], eax

; 1701 : 
; 1702 : 		if ( lpGuildInfo )

  03b3c	83 bd dc fe ff
	ff 00		 cmp	 DWORD PTR _lpGuildInfo$232793[ebp], 0
  03b43	74 0b		 je	 SHORT $LN1@DGRelation@3

; 1703 : 		{
; 1704 : 			lpGuildInfo->SetTimeStamp();

  03b45	8b 8d dc fe ff
	ff		 mov	 ecx, DWORD PTR _lpGuildInfo$232793[ebp]
  03b4b	e8 00 00 00 00	 call	 ?SetTimeStamp@_GUILD_INFO_STRUCT@@QAEXXZ ; _GUILD_INFO_STRUCT::SetTimeStamp
$LN1@DGRelation@3:

; 1705 : 		}
; 1706 : 	}

  03b50	eb ae		 jmp	 SHORT $LN3@DGRelation@3
$LN12@DGRelation@3:

; 1707 : }

  03b52	5f		 pop	 edi
  03b53	5e		 pop	 esi
  03b54	5b		 pop	 ebx
  03b55	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  03b58	33 cd		 xor	 ecx, ebp
  03b5a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  03b5f	8b e5		 mov	 esp, ebp
  03b61	5d		 pop	 ebp
  03b62	c3		 ret	 0
?DGRelationShipNotificationRecv@@YAXPAUEXSDHP_NOTIFICATION_RELATIONSHIP@@@Z ENDP ; DGRelationShipNotificationRecv
_TEXT	ENDS
EXTRN	?SetGuildRivalMemberList@TUnion@@QAEHHHPBH@Z:PROC ; TUnion::SetGuildRivalMemberList
EXTRN	?SetGuildUnionMemberList@TUnion@@QAEHHHPBH@Z:PROC ; TUnion::SetGuildUnionMemberList
EXTRN	?AddUnion@TUnion@@QAEHHPAD@Z:PROC		; TUnion::AddUnion
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpMsg$ = 8						; size = 4
?DGRelationShipListRecv@@YAXPAUEXSDHP_UNION_RELATIONSHIP_LIST@@@Z PROC ; DGRelationShipListRecv

; 1710 : {

  03b70	55		 push	 ebp
  03b71	8b ec		 mov	 ebp, esp
  03b73	83 ec 40	 sub	 esp, 64			; 00000040H
  03b76	53		 push	 ebx
  03b77	56		 push	 esi
  03b78	57		 push	 edi

; 1711 : 	if ( lpMsg->btRelationShipType == G_RELATIONSHIP_UNION )

  03b79	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03b7c	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  03b80	83 f9 01	 cmp	 ecx, 1
  03b83	75 3a		 jne	 SHORT $LN3@DGRelation@4

; 1712 : 	{
; 1713 : 		UnionManager.AddUnion(lpMsg->iUnionMasterGuildNumber, lpMsg->szUnionMasterGuildName);

  03b85	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03b88	83 c0 07	 add	 eax, 7
  03b8b	50		 push	 eax
  03b8c	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  03b8f	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  03b92	52		 push	 edx
  03b93	b9 00 00 00 00	 mov	 ecx, OFFSET ?UnionManager@@3VTUnion@@A ; UnionManager
  03b98	e8 00 00 00 00	 call	 ?AddUnion@TUnion@@QAEHHPAD@Z ; TUnion::AddUnion

; 1714 : 		UnionManager.SetGuildUnionMemberList(lpMsg->iUnionMasterGuildNumber, lpMsg->btRelationShipMemberCount, lpMsg->iRelationShipMember);

  03b9d	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03ba0	83 c0 14	 add	 eax, 20			; 00000014H
  03ba3	50		 push	 eax
  03ba4	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  03ba7	0f b6 51 06	 movzx	 edx, BYTE PTR [ecx+6]
  03bab	52		 push	 edx
  03bac	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03baf	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  03bb2	51		 push	 ecx
  03bb3	b9 00 00 00 00	 mov	 ecx, OFFSET ?UnionManager@@3VTUnion@@A ; UnionManager
  03bb8	e8 00 00 00 00	 call	 ?SetGuildUnionMemberList@TUnion@@QAEHHHPBH@Z ; TUnion::SetGuildUnionMemberList
  03bbd	eb 44		 jmp	 SHORT $LN4@DGRelation@4
$LN3@DGRelation@4:

; 1715 : 	}
; 1716 : 	else if ( lpMsg->btRelationShipType == G_RELATIONSHIP_RIVAL )

  03bbf	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03bc2	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  03bc6	83 f9 02	 cmp	 ecx, 2
  03bc9	75 38		 jne	 SHORT $LN4@DGRelation@4

; 1717 : 	{
; 1718 : 		UnionManager.AddUnion(lpMsg->iUnionMasterGuildNumber, lpMsg->szUnionMasterGuildName);

  03bcb	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03bce	83 c0 07	 add	 eax, 7
  03bd1	50		 push	 eax
  03bd2	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  03bd5	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  03bd8	52		 push	 edx
  03bd9	b9 00 00 00 00	 mov	 ecx, OFFSET ?UnionManager@@3VTUnion@@A ; UnionManager
  03bde	e8 00 00 00 00	 call	 ?AddUnion@TUnion@@QAEHHPAD@Z ; TUnion::AddUnion

; 1719 : 		UnionManager.SetGuildRivalMemberList(lpMsg->iUnionMasterGuildNumber, lpMsg->btRelationShipMemberCount, lpMsg->iRelationShipMember);

  03be3	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03be6	83 c0 14	 add	 eax, 20			; 00000014H
  03be9	50		 push	 eax
  03bea	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  03bed	0f b6 51 06	 movzx	 edx, BYTE PTR [ecx+6]
  03bf1	52		 push	 edx
  03bf2	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03bf5	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  03bf8	51		 push	 ecx
  03bf9	b9 00 00 00 00	 mov	 ecx, OFFSET ?UnionManager@@3VTUnion@@A ; UnionManager
  03bfe	e8 00 00 00 00	 call	 ?SetGuildRivalMemberList@TUnion@@QAEHHHPBH@Z ; TUnion::SetGuildRivalMemberList
$LN4@DGRelation@4:

; 1720 : 	}
; 1721 : }

  03c03	5f		 pop	 edi
  03c04	5e		 pop	 esi
  03c05	5b		 pop	 ebx
  03c06	8b e5		 mov	 esp, ebp
  03c08	5d		 pop	 ebp
  03c09	c3		 ret	 0
?DGRelationShipListRecv@@YAXPAUEXSDHP_UNION_RELATIONSHIP_LIST@@@Z ENDP ; DGRelationShipListRecv
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDUnionListSend@@YAXHH@Z			; GDUnionListSend
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -16						; size = 12
__$ArrayPad$ = -4					; size = 4
_iUserIndex$ = 8					; size = 4
_iUnionMasterGuildNumber$ = 12				; size = 4
?GDUnionListSend@@YAXHH@Z PROC				; GDUnionListSend

; 1731 : {

  03c10	55		 push	 ebp
  03c11	8b ec		 mov	 ebp, esp
  03c13	83 ec 50	 sub	 esp, 80			; 00000050H
  03c16	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  03c1b	33 c5		 xor	 eax, ebp
  03c1d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03c20	53		 push	 ebx
  03c21	56		 push	 esi
  03c22	57		 push	 edi

; 1732 : 	EXSDHP_UNION_LIST_REQ pMsg = {0};

  03c23	c6 45 f0 00	 mov	 BYTE PTR _pMsg$[ebp], 0
  03c27	33 c0		 xor	 eax, eax
  03c29	89 45 f1	 mov	 DWORD PTR _pMsg$[ebp+1], eax
  03c2c	89 45 f5	 mov	 DWORD PTR _pMsg$[ebp+5], eax
  03c2f	66 89 45 f9	 mov	 WORD PTR _pMsg$[ebp+9], ax
  03c33	88 45 fb	 mov	 BYTE PTR _pMsg$[ebp+11], al

; 1733 : 
; 1734 : 	pMsg.h.set((LPBYTE)&pMsg, 0xE9, sizeof(EXSDHP_UNION_LIST_REQ));

  03c36	6a 0c		 push	 12			; 0000000cH
  03c38	68 e9 00 00 00	 push	 233			; 000000e9H
  03c3d	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  03c40	50		 push	 eax
  03c41	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  03c44	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1735 : 	pMsg.wRequestUserIndex = iUserIndex;

  03c49	66 8b 45 08	 mov	 ax, WORD PTR _iUserIndex$[ebp]
  03c4d	66 89 45 f4	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 1736 : 	pMsg.iUnionMasterGuildNumber = iUnionMasterGuildNumber;

  03c51	8b 45 0c	 mov	 eax, DWORD PTR _iUnionMasterGuildNumber$[ebp]
  03c54	89 45 f8	 mov	 DWORD PTR _pMsg$[ebp+8], eax

; 1737 : 
; 1738 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  03c57	0f b6 45 f1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  03c5b	50		 push	 eax
  03c5c	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  03c5f	51		 push	 ecx
  03c60	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  03c65	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 1739 : }

  03c6a	5f		 pop	 edi
  03c6b	5e		 pop	 esi
  03c6c	5b		 pop	 ebx
  03c6d	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  03c70	33 cd		 xor	 ecx, ebp
  03c72	e8 00 00 00 00	 call	 @__security_check_cookie@4
  03c77	8b e5		 mov	 esp, ebp
  03c79	5d		 pop	 ebp
  03c7a	c3		 ret	 0
?GDUnionListSend@@YAXHH@Z ENDP				; GDUnionListSend
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	?PHeadSetW@@YAXPAEEH@Z:PROC			; PHeadSetW
EXTRN	__chkstk:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_i$232889 = -6032					; size = 4
_lpMsgBody$ = -6028					; size = 4
_lpMsg$ = -6024						; size = 4
_iBodySize$ = -6020					; size = 4
_iSize$ = -6016						; size = 4
_cBUFFER_V1$ = -6012					; size = 6000
_lpRecvMsgBody$ = -12					; size = 4
_lpRecvMsg$ = -8					; size = 4
__$ArrayPad$ = -4					; size = 4
_aRecv$ = 8						; size = 4
?DGUnionListRecv@@YAXPAE@Z PROC				; DGUnionListRecv

; 1777 : {

  03c80	55		 push	 ebp
  03c81	8b ec		 mov	 ebp, esp
  03c83	b8 d0 17 00 00	 mov	 eax, 6096		; 000017d0H
  03c88	e8 00 00 00 00	 call	 __chkstk
  03c8d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  03c92	33 c5		 xor	 eax, ebp
  03c94	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03c97	53		 push	 ebx
  03c98	56		 push	 esi
  03c99	57		 push	 edi

; 1778 : 	EXSDHP_UNION_LIST_COUNT * lpRecvMsg = (EXSDHP_UNION_LIST_COUNT *)aRecv;

  03c9a	8b 45 08	 mov	 eax, DWORD PTR _aRecv$[ebp]
  03c9d	89 45 f8	 mov	 DWORD PTR _lpRecvMsg$[ebp], eax

; 1779 : 	EXSDHP_UNION_LIST * lpRecvMsgBody = (EXSDHP_UNION_LIST *)((DWORD)aRecv + 0x10 ) ;

  03ca0	8b 45 08	 mov	 eax, DWORD PTR _aRecv$[ebp]
  03ca3	83 c0 10	 add	 eax, 16			; 00000010H
  03ca6	89 45 f4	 mov	 DWORD PTR _lpRecvMsgBody$[ebp], eax

; 1780 : 	char cBUFFER_V1[6000];
; 1781 : 	memset(cBUFFER_V1, 0, sizeof(cBUFFER_V1));

  03ca9	68 70 17 00 00	 push	 6000			; 00001770H
  03cae	6a 00		 push	 0
  03cb0	8d 85 84 e8 ff
	ff		 lea	 eax, DWORD PTR _cBUFFER_V1$[ebp]
  03cb6	50		 push	 eax
  03cb7	e8 00 00 00 00	 call	 _memset
  03cbc	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1782 : 	int iSize = MAKE_NUMBERW(lpRecvMsg->h.sizeH, lpRecvMsg->h.sizeL);

  03cbf	8b 45 f8	 mov	 eax, DWORD PTR _lpRecvMsg$[ebp]
  03cc2	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  03cc6	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  03ccc	0f b6 d1	 movzx	 edx, cl
  03ccf	8b 45 f8	 mov	 eax, DWORD PTR _lpRecvMsg$[ebp]
  03cd2	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  03cd6	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  03cdc	0f b6 c1	 movzx	 eax, cl
  03cdf	c1 e0 08	 shl	 eax, 8
  03ce2	0b d0		 or	 edx, eax
  03ce4	0f b7 ca	 movzx	 ecx, dx
  03ce7	89 8d 80 e8 ff
	ff		 mov	 DWORD PTR _iSize$[ebp], ecx

; 1783 : 	int iBodySize = iSize - 0x10;

  03ced	8b 85 80 e8 ff
	ff		 mov	 eax, DWORD PTR _iSize$[ebp]
  03cf3	83 e8 10	 sub	 eax, 16			; 00000010H
  03cf6	89 85 7c e8 ff
	ff		 mov	 DWORD PTR _iBodySize$[ebp], eax

; 1784 : 
; 1785 : 	if ( iBodySize < 0 )

  03cfc	79 05		 jns	 SHORT $LN7@DGUnionLis

; 1786 : 		return;

  03cfe	e9 a1 01 00 00	 jmp	 $LN8@DGUnionLis
$LN7@DGUnionLis:

; 1787 : 
; 1788 : 	if ( iBodySize > 6000 )

  03d03	81 bd 7c e8 ff
	ff 70 17 00 00	 cmp	 DWORD PTR _iBodySize$[ebp], 6000 ; 00001770H
  03d0d	7e 05		 jle	 SHORT $LN6@DGUnionLis

; 1789 : 		return;

  03d0f	e9 90 01 00 00	 jmp	 $LN8@DGUnionLis
$LN6@DGUnionLis:

; 1790 : 
; 1791 : 	if ( lpRecvMsg->btCount < 0 || lpRecvMsg->btCount > 100 )

  03d14	8b 45 f8	 mov	 eax, DWORD PTR _lpRecvMsg$[ebp]
  03d17	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  03d1b	85 c9		 test	 ecx, ecx
  03d1d	7c 0c		 jl	 SHORT $LN4@DGUnionLis
  03d1f	8b 45 f8	 mov	 eax, DWORD PTR _lpRecvMsg$[ebp]
  03d22	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  03d26	83 f9 64	 cmp	 ecx, 100		; 00000064H
  03d29	7e 05		 jle	 SHORT $LN5@DGUnionLis
$LN4@DGUnionLis:

; 1792 : 		return;

  03d2b	e9 74 01 00 00	 jmp	 $LN8@DGUnionLis
$LN5@DGUnionLis:

; 1793 : 
; 1794 : 	PMSG_UNIONLIST_COUNT * lpMsg = (PMSG_UNIONLIST_COUNT *)cBUFFER_V1;

  03d30	8d 85 84 e8 ff
	ff		 lea	 eax, DWORD PTR _cBUFFER_V1$[ebp]
  03d36	89 85 78 e8 ff
	ff		 mov	 DWORD PTR _lpMsg$[ebp], eax

; 1795 : 	PMSG_UNIONLIST * lpMsgBody = (PMSG_UNIONLIST *)((DWORD)cBUFFER_V1+sizeof(PMSG_UNIONLIST_COUNT));

  03d3c	8d 85 8c e8 ff
	ff		 lea	 eax, DWORD PTR _cBUFFER_V1$[ebp+8]
  03d42	89 85 74 e8 ff
	ff		 mov	 DWORD PTR _lpMsgBody$[ebp], eax

; 1796 : 	lpMsg->btResult = lpRecvMsg->btResult;

  03d48	8b 85 78 e8 ff
	ff		 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03d4e	8b 4d f8	 mov	 ecx, DWORD PTR _lpRecvMsg$[ebp]
  03d51	8a 51 05	 mov	 dl, BYTE PTR [ecx+5]
  03d54	88 50 05	 mov	 BYTE PTR [eax+5], dl

; 1797 : 	lpMsg->btCount = lpRecvMsg->btCount;

  03d57	8b 85 78 e8 ff
	ff		 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03d5d	8b 4d f8	 mov	 ecx, DWORD PTR _lpRecvMsg$[ebp]
  03d60	8a 51 04	 mov	 dl, BYTE PTR [ecx+4]
  03d63	88 50 04	 mov	 BYTE PTR [eax+4], dl

; 1798 : 	lpMsg->btRivalMemberNum = lpRecvMsg->btRivalMemberNum;

  03d66	8b 85 78 e8 ff
	ff		 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03d6c	8b 4d f8	 mov	 ecx, DWORD PTR _lpRecvMsg$[ebp]
  03d6f	8a 51 0c	 mov	 dl, BYTE PTR [ecx+12]
  03d72	88 50 06	 mov	 BYTE PTR [eax+6], dl

; 1799 : 	lpMsg->btUnionMemberNum = lpRecvMsg->btUnionMemberNum;

  03d75	8b 85 78 e8 ff
	ff		 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03d7b	8b 4d f8	 mov	 ecx, DWORD PTR _lpRecvMsg$[ebp]
  03d7e	8a 51 0d	 mov	 dl, BYTE PTR [ecx+13]
  03d81	88 50 07	 mov	 BYTE PTR [eax+7], dl

; 1800 : 
; 1801 : 	for (int i=0;i<lpMsg->btCount;i++)

  03d84	c7 85 70 e8 ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$232889[ebp], 0
  03d8e	eb 0f		 jmp	 SHORT $LN3@DGUnionLis
$LN2@DGUnionLis:
  03d90	8b 85 70 e8 ff
	ff		 mov	 eax, DWORD PTR _i$232889[ebp]
  03d96	83 c0 01	 add	 eax, 1
  03d99	89 85 70 e8 ff
	ff		 mov	 DWORD PTR _i$232889[ebp], eax
$LN3@DGUnionLis:
  03d9f	8b 85 78 e8 ff
	ff		 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03da5	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  03da9	39 8d 70 e8 ff
	ff		 cmp	 DWORD PTR _i$232889[ebp], ecx
  03daf	0f 8d 84 00 00
	00		 jge	 $LN1@DGUnionLis

; 1802 : 	{
; 1803 : 		lpMsgBody[i].btMemberNum = lpRecvMsgBody[i].btMemberNum;

  03db5	8b 85 70 e8 ff
	ff		 mov	 eax, DWORD PTR _i$232889[ebp]
  03dbb	6b c0 29	 imul	 eax, 41			; 00000029H
  03dbe	8b 8d 70 e8 ff
	ff		 mov	 ecx, DWORD PTR _i$232889[ebp]
  03dc4	6b c9 29	 imul	 ecx, 41			; 00000029H
  03dc7	8b 95 74 e8 ff
	ff		 mov	 edx, DWORD PTR _lpMsgBody$[ebp]
  03dcd	8b 75 f4	 mov	 esi, DWORD PTR _lpRecvMsgBody$[ebp]
  03dd0	8a 04 06	 mov	 al, BYTE PTR [esi+eax]
  03dd3	88 04 0a	 mov	 BYTE PTR [edx+ecx], al

; 1804 : 		memcpy(lpMsgBody[i].szGuildName, lpRecvMsgBody[i].szGuildName, sizeof(lpMsgBody->szGuildName));

  03dd6	6a 08		 push	 8
  03dd8	8b 85 70 e8 ff
	ff		 mov	 eax, DWORD PTR _i$232889[ebp]
  03dde	6b c0 29	 imul	 eax, 41			; 00000029H
  03de1	8b 4d f4	 mov	 ecx, DWORD PTR _lpRecvMsgBody$[ebp]
  03de4	8d 54 01 21	 lea	 edx, DWORD PTR [ecx+eax+33]
  03de8	52		 push	 edx
  03de9	8b 85 70 e8 ff
	ff		 mov	 eax, DWORD PTR _i$232889[ebp]
  03def	6b c0 29	 imul	 eax, 41			; 00000029H
  03df2	8b 8d 74 e8 ff
	ff		 mov	 ecx, DWORD PTR _lpMsgBody$[ebp]
  03df8	8d 54 01 21	 lea	 edx, DWORD PTR [ecx+eax+33]
  03dfc	52		 push	 edx
  03dfd	e8 00 00 00 00	 call	 _memcpy
  03e02	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1805 : 		memcpy(lpMsgBody[i].Mark, lpRecvMsgBody[i].Mark, sizeof(lpMsgBody->Mark));

  03e05	6a 20		 push	 32			; 00000020H
  03e07	8b 85 70 e8 ff
	ff		 mov	 eax, DWORD PTR _i$232889[ebp]
  03e0d	6b c0 29	 imul	 eax, 41			; 00000029H
  03e10	8b 4d f4	 mov	 ecx, DWORD PTR _lpRecvMsgBody$[ebp]
  03e13	8d 54 01 01	 lea	 edx, DWORD PTR [ecx+eax+1]
  03e17	52		 push	 edx
  03e18	8b 85 70 e8 ff
	ff		 mov	 eax, DWORD PTR _i$232889[ebp]
  03e1e	6b c0 29	 imul	 eax, 41			; 00000029H
  03e21	8b 8d 74 e8 ff
	ff		 mov	 ecx, DWORD PTR _lpMsgBody$[ebp]
  03e27	8d 54 01 01	 lea	 edx, DWORD PTR [ecx+eax+1]
  03e2b	52		 push	 edx
  03e2c	e8 00 00 00 00	 call	 _memcpy
  03e31	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1806 : 	}

  03e34	e9 57 ff ff ff	 jmp	 $LN2@DGUnionLis
$LN1@DGUnionLis:

; 1807 : 
; 1808 : 	PHeadSetW((LPBYTE)lpMsg, 0xE9, lpMsg->btCount * sizeof(PMSG_UNIONLIST) + 0x10);

  03e39	8b 85 78 e8 ff
	ff		 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03e3f	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  03e43	6b c9 29	 imul	 ecx, 41			; 00000029H
  03e46	83 c1 10	 add	 ecx, 16			; 00000010H
  03e49	51		 push	 ecx
  03e4a	68 e9 00 00 00	 push	 233			; 000000e9H
  03e4f	8b 95 78 e8 ff
	ff		 mov	 edx, DWORD PTR _lpMsg$[ebp]
  03e55	52		 push	 edx
  03e56	e8 00 00 00 00	 call	 ?PHeadSetW@@YAXPAEEH@Z	; PHeadSetW
  03e5b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1809 : 	DataSend(lpRecvMsg->wRequestUserIndex, (LPBYTE)lpMsg, MAKE_NUMBERW(lpMsg->h.sizeH, lpMsg->h.sizeL));

  03e5e	8b 85 78 e8 ff
	ff		 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03e64	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  03e68	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  03e6e	0f b6 d1	 movzx	 edx, cl
  03e71	8b 85 78 e8 ff
	ff		 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03e77	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  03e7b	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  03e81	0f b6 c1	 movzx	 eax, cl
  03e84	c1 e0 08	 shl	 eax, 8
  03e87	0b d0		 or	 edx, eax
  03e89	0f b7 ca	 movzx	 ecx, dx
  03e8c	51		 push	 ecx
  03e8d	8b 95 78 e8 ff
	ff		 mov	 edx, DWORD PTR _lpMsg$[ebp]
  03e93	52		 push	 edx
  03e94	8b 45 f8	 mov	 eax, DWORD PTR _lpRecvMsg$[ebp]
  03e97	0f b7 48 06	 movzx	 ecx, WORD PTR [eax+6]
  03e9b	51		 push	 ecx
  03e9c	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03ea1	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN8@DGUnionLis:

; 1810 : }

  03ea4	5f		 pop	 edi
  03ea5	5e		 pop	 esi
  03ea6	5b		 pop	 ebx
  03ea7	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  03eaa	33 cd		 xor	 ecx, ebp
  03eac	e8 00 00 00 00	 call	 @__security_check_cookie@4
  03eb1	8b e5		 mov	 esp, ebp
  03eb3	5d		 pop	 ebp
  03eb4	c3		 ret	 0
?DGUnionListRecv@@YAXPAE@Z ENDP				; DGUnionListRecv
_TEXT	ENDS
PUBLIC	?set@PBMSG_HEAD2@@QAEXPAEEEE@Z			; PBMSG_HEAD2::set
PUBLIC	__$ArrayPad$
PUBLIC	?GDRelationShipReqKickOutUnionMember@@YAXHPAD@Z	; GDRelationShipReqKickOutUnionMember
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -32						; size = 24
_lpGuildInfo$ = -8					; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_szTargetGuildName$ = 12				; size = 4
?GDRelationShipReqKickOutUnionMember@@YAXHPAD@Z PROC	; GDRelationShipReqKickOutUnionMember

; 1822 : {

  03ec0	55		 push	 ebp
  03ec1	8b ec		 mov	 ebp, esp
  03ec3	83 ec 60	 sub	 esp, 96			; 00000060H
  03ec6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  03ecb	33 c5		 xor	 eax, ebp
  03ecd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03ed0	53		 push	 ebx
  03ed1	56		 push	 esi
  03ed2	57		 push	 edi

; 1823 : 	_GUILD_INFO_STRUCT * lpGuildInfo = gObj[aIndex].lpGuild;

  03ed3	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  03ed6	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  03edc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03ee2	8b 94 01 38 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1080]
  03ee9	89 55 f8	 mov	 DWORD PTR _lpGuildInfo$[ebp], edx

; 1824 : 
; 1825 : 	if ( lpGuildInfo == NULL )

  03eec	83 7d f8 00	 cmp	 DWORD PTR _lpGuildInfo$[ebp], 0
  03ef0	75 02		 jne	 SHORT $LN1@GDRelation@3

; 1826 : 	{
; 1827 : 		return;

  03ef2	eb 77		 jmp	 SHORT $LN2@GDRelation@3
$LN1@GDRelation@3:

; 1828 : 	}
; 1829 : 
; 1830 : 	EXSDHP_KICKOUT_UNIONMEMBER_REQ pMsg = {0};

  03ef4	c6 45 e0 00	 mov	 BYTE PTR _pMsg$[ebp], 0
  03ef8	33 c0		 xor	 eax, eax
  03efa	89 45 e1	 mov	 DWORD PTR _pMsg$[ebp+1], eax
  03efd	89 45 e5	 mov	 DWORD PTR _pMsg$[ebp+5], eax
  03f00	89 45 e9	 mov	 DWORD PTR _pMsg$[ebp+9], eax
  03f03	89 45 ed	 mov	 DWORD PTR _pMsg$[ebp+13], eax
  03f06	89 45 f1	 mov	 DWORD PTR _pMsg$[ebp+17], eax
  03f09	66 89 45 f5	 mov	 WORD PTR _pMsg$[ebp+21], ax
  03f0d	88 45 f7	 mov	 BYTE PTR _pMsg$[ebp+23], al

; 1831 : 	pMsg.h.set((LPBYTE)&pMsg, 0xEB, 0x01, sizeof(EXSDHP_KICKOUT_UNIONMEMBER_REQ));

  03f10	6a 18		 push	 24			; 00000018H
  03f12	6a 01		 push	 1
  03f14	68 eb 00 00 00	 push	 235			; 000000ebH
  03f19	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  03f1c	50		 push	 eax
  03f1d	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  03f20	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 1832 : 	pMsg.wRequestUserIndex = aIndex;

  03f25	66 8b 45 08	 mov	 ax, WORD PTR _aIndex$[ebp]
  03f29	66 89 45 e4	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 1833 : 	pMsg.btRelationShipType = GUILD_RELATION_UNION;

  03f2d	c6 45 e6 01	 mov	 BYTE PTR _pMsg$[ebp+6], 1

; 1834 : 	memcpy(pMsg.szUnionMasterGuildName, lpGuildInfo->Name, sizeof(pMsg.szUnionMasterGuildName));

  03f31	6a 08		 push	 8
  03f33	8b 45 f8	 mov	 eax, DWORD PTR _lpGuildInfo$[ebp]
  03f36	83 c0 04	 add	 eax, 4
  03f39	50		 push	 eax
  03f3a	8d 4d e7	 lea	 ecx, DWORD PTR _pMsg$[ebp+7]
  03f3d	51		 push	 ecx
  03f3e	e8 00 00 00 00	 call	 _memcpy
  03f43	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1835 : 	memcpy(pMsg.szUnionMemberGuildName, szTargetGuildName, sizeof(pMsg.szUnionMemberGuildName));

  03f46	6a 08		 push	 8
  03f48	8b 45 0c	 mov	 eax, DWORD PTR _szTargetGuildName$[ebp]
  03f4b	50		 push	 eax
  03f4c	8d 4d ef	 lea	 ecx, DWORD PTR _pMsg$[ebp+15]
  03f4f	51		 push	 ecx
  03f50	e8 00 00 00 00	 call	 _memcpy
  03f55	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1836 : 
; 1837 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  03f58	0f b6 45 e1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  03f5c	50		 push	 eax
  03f5d	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  03f60	51		 push	 ecx
  03f61	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  03f66	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
$LN2@GDRelation@3:

; 1838 : }

  03f6b	5f		 pop	 edi
  03f6c	5e		 pop	 esi
  03f6d	5b		 pop	 ebx
  03f6e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  03f71	33 cd		 xor	 ecx, ebp
  03f73	e8 00 00 00 00	 call	 @__security_check_cookie@4
  03f78	8b e5		 mov	 esp, ebp
  03f7a	5d		 pop	 ebp
  03f7b	c3		 ret	 0
?GDRelationShipReqKickOutUnionMember@@YAXHPAD@Z ENDP	; GDRelationShipReqKickOutUnionMember
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\include\prodef.h
_TEXT	ENDS
;	COMDAT ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_lpBuf$ = 8						; size = 4
_head$ = 12						; size = 1
_sub$ = 16						; size = 1
_size$ = 20						; size = 1
?set@PBMSG_HEAD2@@QAEXPAEEEE@Z PROC			; PBMSG_HEAD2::set, COMDAT
; _this$ = ecx

; 104  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 105  : 		lpBuf[0] = 0xC1;

  0000c	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  0000f	c6 00 c1	 mov	 BYTE PTR [eax], 193	; 000000c1H

; 106  : 		lpBuf[1] = size;

  00012	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  00015	8a 4d 14	 mov	 cl, BYTE PTR _size$[ebp]
  00018	88 48 01	 mov	 BYTE PTR [eax+1], cl

; 107  : 		lpBuf[2] = head;

  0001b	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  0001e	8a 4d 0c	 mov	 cl, BYTE PTR _head$[ebp]
  00021	88 48 02	 mov	 BYTE PTR [eax+2], cl

; 108  : 		lpBuf[3] = sub;

  00024	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  00027	8a 4d 10	 mov	 cl, BYTE PTR _sub$[ebp]
  0002a	88 48 03	 mov	 BYTE PTR [eax+3], cl

; 109  : 	};

  0002d	5f		 pop	 edi
  0002e	5e		 pop	 esi
  0002f	5b		 pop	 ebx
  00030	8b e5		 mov	 esp, ebp
  00032	5d		 pop	 ebp
  00033	c2 10 00	 ret	 16			; 00000010H
?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ENDP			; PBMSG_HEAD2::set
_TEXT	ENDS
PUBLIC	??_C@_0FE@MHBNIMHI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLKickOut?$FN?5?$CI@ ; `string'
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0FE@MHBNIMHI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLKickOut?$FN?5?$CI@
; File d:\projects\exteam6.3\source\gameserver\gameserver\edsprotocol.cpp
CONST	SEGMENT
??_C@_0FE@MHBNIMHI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLKickOut?$FN?5?$CI@ DB '['
	DB	'GS][U.System][Union][KickOut] ( Union Master Guild: %s ), (Un'
	DB	'ion Member Guild: %s)', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
__Notice$232965 = -572					; size = 272
_n$232959 = -300					; size = 4
__Notice$232956 = -296					; size = 272
_n$232950 = -24						; size = 4
_pMsg$232939 = -20					; size = 7
_lpUnionMemberGuild$ = -12				; size = 4
_lpUnionMasterGuild$ = -8				; size = 4
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGRelationShipAnsKickOutUnionMember@@YAXPAUEXSDHP_KICKOUT_UNIONMEMBER_RESULT@@@Z PROC ; DGRelationShipAnsKickOutUnionMember

; 1849 : {

  03f80	55		 push	 ebp
  03f81	8b ec		 mov	 ebp, esp
  03f83	81 ec 7c 02 00
	00		 sub	 esp, 636		; 0000027cH
  03f89	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  03f8e	33 c5		 xor	 eax, ebp
  03f90	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03f93	53		 push	 ebx
  03f94	56		 push	 esi
  03f95	57		 push	 edi

; 1850 : 
; 1851 : 	_GUILD_INFO_STRUCT * lpUnionMasterGuild = Guild.SearchGuild(lpMsg->szUnionMasterGuildName);

  03f96	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03f99	83 c0 0a	 add	 eax, 10			; 0000000aH
  03f9c	50		 push	 eax
  03f9d	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  03fa2	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  03fa7	89 45 f8	 mov	 DWORD PTR _lpUnionMasterGuild$[ebp], eax

; 1852 : 	_GUILD_INFO_STRUCT * lpUnionMemberGuild = Guild.SearchGuild(lpMsg->szUnionMemberGuildName);

  03faa	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03fad	83 c0 13	 add	 eax, 19			; 00000013H
  03fb0	50		 push	 eax
  03fb1	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  03fb6	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  03fbb	89 45 f4	 mov	 DWORD PTR _lpUnionMemberGuild$[ebp], eax

; 1853 : 
; 1854 : 	if ( lpMsg->btFlag == 1 )

  03fbe	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03fc1	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  03fc5	83 f9 01	 cmp	 ecx, 1
  03fc8	75 74		 jne	 SHORT $LN21@DGRelation@5

; 1855 : 	{
; 1856 : 		if ( !lpUnionMasterGuild )

  03fca	83 7d f8 00	 cmp	 DWORD PTR _lpUnionMasterGuild$[ebp], 0
  03fce	75 07		 jne	 SHORT $LN20@DGRelation@5

; 1857 : 		{
; 1858 : 			lpMsg->btResult = 0;

  03fd0	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03fd3	c6 40 09 00	 mov	 BYTE PTR [eax+9], 0
$LN20@DGRelation@5:

; 1859 : 		}
; 1860 : 
; 1861 : 		PMSG_KICKOUT_UNIONMEMBER_RESULT pMsg ={0};

  03fd7	c6 45 ec 00	 mov	 BYTE PTR _pMsg$232939[ebp], 0
  03fdb	33 c0		 xor	 eax, eax
  03fdd	89 45 ed	 mov	 DWORD PTR _pMsg$232939[ebp+1], eax
  03fe0	66 89 45 f1	 mov	 WORD PTR _pMsg$232939[ebp+5], ax

; 1862 : 
; 1863 : 		pMsg.h.set((LPBYTE)&pMsg, 0xEB, 0x01, sizeof(pMsg));

  03fe4	6a 07		 push	 7
  03fe6	6a 01		 push	 1
  03fe8	68 eb 00 00 00	 push	 235			; 000000ebH
  03fed	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$232939[ebp]
  03ff0	50		 push	 eax
  03ff1	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$232939[ebp]
  03ff4	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 1864 : 		pMsg.btResult = lpMsg->btResult;

  03ff9	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  03ffc	8a 48 09	 mov	 cl, BYTE PTR [eax+9]
  03fff	88 4d f0	 mov	 BYTE PTR _pMsg$232939[ebp+4], cl

; 1865 : 		pMsg.btRequestType = 2;

  04002	c6 45 f1 02	 mov	 BYTE PTR _pMsg$232939[ebp+5], 2

; 1866 : 		pMsg.btRelationShipType = 1;

  04006	c6 45 f2 01	 mov	 BYTE PTR _pMsg$232939[ebp+6], 1

; 1867 : 
; 1868 : 		DataSend(lpMsg->wRequestUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  0400a	6a 07		 push	 7
  0400c	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$232939[ebp]
  0400f	50		 push	 eax
  04010	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  04013	0f b7 51 06	 movzx	 edx, WORD PTR [ecx+6]
  04017	52		 push	 edx
  04018	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0401d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1869 : 
; 1870 : 		if ( lpMsg->btResult == 0 || lpMsg->btResult == 0x10 )

  04020	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04023	0f b6 48 09	 movzx	 ecx, BYTE PTR [eax+9]
  04027	85 c9		 test	 ecx, ecx
  04029	74 0c		 je	 SHORT $LN18@DGRelation@5
  0402b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0402e	0f b6 48 09	 movzx	 ecx, BYTE PTR [eax+9]
  04032	83 f9 10	 cmp	 ecx, 16			; 00000010H
  04035	75 05		 jne	 SHORT $LN19@DGRelation@5
$LN18@DGRelation@5:

; 1871 : 			return;

  04037	e9 85 01 00 00	 jmp	 $LN22@DGRelation@5
$LN19@DGRelation@5:

; 1872 : 	}

  0403c	eb 32		 jmp	 SHORT $LN17@DGRelation@5
$LN21@DGRelation@5:

; 1873 : 	else if ( lpMsg->btFlag == 0 )

  0403e	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04041	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  04045	85 c9		 test	 ecx, ecx
  04047	75 27		 jne	 SHORT $LN17@DGRelation@5

; 1874 : 	{
; 1875 : 		if ( !lpUnionMemberGuild )

  04049	83 7d f4 00	 cmp	 DWORD PTR _lpUnionMemberGuild$[ebp], 0
  0404d	75 05		 jne	 SHORT $LN15@DGRelation@5

; 1876 : 			return;

  0404f	e9 6d 01 00 00	 jmp	 $LN22@DGRelation@5
$LN15@DGRelation@5:

; 1877 : 
; 1878 : 		if ( lpMsg->btResult == 0 || lpMsg->btResult == 0x10 )

  04054	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04057	0f b6 48 09	 movzx	 ecx, BYTE PTR [eax+9]
  0405b	85 c9		 test	 ecx, ecx
  0405d	74 0c		 je	 SHORT $LN13@DGRelation@5
  0405f	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04062	0f b6 48 09	 movzx	 ecx, BYTE PTR [eax+9]
  04066	83 f9 10	 cmp	 ecx, 16			; 00000010H
  04069	75 05		 jne	 SHORT $LN17@DGRelation@5
$LN13@DGRelation@5:

; 1879 : 			return;

  0406b	e9 51 01 00 00	 jmp	 $LN22@DGRelation@5
$LN17@DGRelation@5:

; 1880 : 	}		
; 1881 : 
; 1882 : 	if ( lpUnionMasterGuild )

  04070	83 7d f8 00	 cmp	 DWORD PTR _lpUnionMasterGuild$[ebp], 0
  04074	0f 84 86 00 00
	00		 je	 $LN12@DGRelation@5

; 1883 : 	{
; 1884 : 		for ( int n=0;n<MAX_USER_GUILD;n++)

  0407a	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _n$232950[ebp], 0
  04081	eb 09		 jmp	 SHORT $LN11@DGRelation@5
$LN10@DGRelation@5:
  04083	8b 45 e8	 mov	 eax, DWORD PTR _n$232950[ebp]
  04086	83 c0 01	 add	 eax, 1
  04089	89 45 e8	 mov	 DWORD PTR _n$232950[ebp], eax
$LN11@DGRelation@5:
  0408c	83 7d e8 50	 cmp	 DWORD PTR _n$232950[ebp], 80 ; 00000050H
  04090	7d 6e		 jge	 SHORT $LN12@DGRelation@5

; 1885 : 		{
; 1886 : 			if ( lpUnionMasterGuild->Use[n] > 0 )

  04092	8b 45 f8	 mov	 eax, DWORD PTR _lpUnionMasterGuild$[ebp]
  04095	03 45 e8	 add	 eax, DWORD PTR _n$232950[ebp]
  04098	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  0409f	85 c9		 test	 ecx, ecx
  040a1	7e 5b		 jle	 SHORT $LN8@DGRelation@5

; 1887 : 			{
; 1888 : 				if ( lpUnionMasterGuild->Index[n] >= 0 )

  040a3	8b 45 e8	 mov	 eax, DWORD PTR _n$232950[ebp]
  040a6	8b 4d f8	 mov	 ecx, DWORD PTR _lpUnionMasterGuild$[ebp]
  040a9	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  040b1	85 d2		 test	 edx, edx
  040b3	7c 49		 jl	 SHORT $LN8@DGRelation@5

; 1889 : 				{
; 1890 : 					TNotice _Notice(1);

  040b5	6a 01		 push	 1
  040b7	8d 8d d8 fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$232956[ebp]
  040bd	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1891 : 					_Notice.SendToUser(lpUnionMasterGuild->Index[n], lMsg.Get(MSGGET(6, 169)),
; 1892 : 						lpMsg->szUnionMemberGuildName, lpMsg->szUnionMasterGuildName);

  040c2	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  040c5	83 c0 0a	 add	 eax, 10			; 0000000aH
  040c8	50		 push	 eax
  040c9	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  040cc	83 c1 13	 add	 ecx, 19			; 00000013H
  040cf	51		 push	 ecx
  040d0	68 a9 06 00 00	 push	 1705			; 000006a9H
  040d5	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  040da	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  040df	50		 push	 eax
  040e0	8b 55 e8	 mov	 edx, DWORD PTR _n$232950[ebp]
  040e3	8b 45 f8	 mov	 eax, DWORD PTR _lpUnionMasterGuild$[ebp]
  040e6	0f bf 8c 50 a0
	03 00 00	 movsx	 ecx, WORD PTR [eax+edx*2+928]
  040ee	51		 push	 ecx
  040ef	8d 95 d8 fe ff
	ff		 lea	 edx, DWORD PTR __Notice$232956[ebp]
  040f5	52		 push	 edx
  040f6	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  040fb	83 c4 14	 add	 esp, 20			; 00000014H
$LN8@DGRelation@5:

; 1893 : 				}
; 1894 : 			}
; 1895 : 		}

  040fe	eb 83		 jmp	 SHORT $LN10@DGRelation@5
$LN12@DGRelation@5:

; 1896 : 	}
; 1897 : 
; 1898 : 	LogAddTD("[GS][U.System][Union][KickOut] ( Union Master Guild: %s ), (Union Member Guild: %s)", lpMsg->szUnionMasterGuildName, lpMsg->szUnionMemberGuildName);

  04100	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04103	83 c0 13	 add	 eax, 19			; 00000013H
  04106	50		 push	 eax
  04107	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  0410a	83 c1 0a	 add	 ecx, 10			; 0000000aH
  0410d	51		 push	 ecx
  0410e	68 00 00 00 00	 push	 OFFSET ??_C@_0FE@MHBNIMHI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLKickOut?$FN?5?$CI@
  04113	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04119	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1899 : 
; 1900 : 	if ( !lpUnionMemberGuild )

  0411c	83 7d f4 00	 cmp	 DWORD PTR _lpUnionMemberGuild$[ebp], 0
  04120	75 05		 jne	 SHORT $LN6@DGRelation@5

; 1901 : 		return;

  04122	e9 9a 00 00 00	 jmp	 $LN22@DGRelation@5
$LN6@DGRelation@5:

; 1902 : 
; 1903 : 	lpUnionMemberGuild->SetGuildUnion(0);

  04127	6a 00		 push	 0
  04129	8b 4d f4	 mov	 ecx, DWORD PTR _lpUnionMemberGuild$[ebp]
  0412c	e8 00 00 00 00	 call	 ?SetGuildUnion@_GUILD_INFO_STRUCT@@QAEXH@Z ; _GUILD_INFO_STRUCT::SetGuildUnion

; 1904 : 
; 1905 : 	for ( int n=0;n<MAX_USER_GUILD;n++)

  04131	c7 85 d4 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _n$232959[ebp], 0
  0413b	eb 0f		 jmp	 SHORT $LN5@DGRelation@5
$LN4@DGRelation@5:
  0413d	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _n$232959[ebp]
  04143	83 c0 01	 add	 eax, 1
  04146	89 85 d4 fe ff
	ff		 mov	 DWORD PTR _n$232959[ebp], eax
$LN5@DGRelation@5:
  0414c	83 bd d4 fe ff
	ff 50		 cmp	 DWORD PTR _n$232959[ebp], 80 ; 00000050H
  04153	7d 6c		 jge	 SHORT $LN22@DGRelation@5

; 1906 : 	{
; 1907 : 		if ( lpUnionMemberGuild->Use[n] > 0 )

  04155	8b 45 f4	 mov	 eax, DWORD PTR _lpUnionMemberGuild$[ebp]
  04158	03 85 d4 fe ff
	ff		 add	 eax, DWORD PTR _n$232959[ebp]
  0415e	0f b6 88 40 04
	00 00		 movzx	 ecx, BYTE PTR [eax+1088]
  04165	85 c9		 test	 ecx, ecx
  04167	7e 53		 jle	 SHORT $LN2@DGRelation@5

; 1908 : 		{
; 1909 : 			if ( lpUnionMemberGuild->Index[n] >= 0 )

  04169	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _n$232959[ebp]
  0416f	8b 4d f4	 mov	 ecx, DWORD PTR _lpUnionMemberGuild$[ebp]
  04172	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  0417a	85 d2		 test	 edx, edx
  0417c	7c 3e		 jl	 SHORT $LN2@DGRelation@5

; 1910 : 			{
; 1911 : 				TNotice _Notice(1);

  0417e	6a 01		 push	 1
  04180	8d 8d c4 fd ff
	ff		 lea	 ecx, DWORD PTR __Notice$232965[ebp]
  04186	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1912 : 				_Notice.SendToUser(lpUnionMemberGuild->Index[n], lMsg.Get(MSGGET(6, 168)));

  0418b	68 a8 06 00 00	 push	 1704			; 000006a8H
  04190	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  04195	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0419a	50		 push	 eax
  0419b	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _n$232959[ebp]
  041a1	8b 4d f4	 mov	 ecx, DWORD PTR _lpUnionMemberGuild$[ebp]
  041a4	0f bf 94 41 a0
	03 00 00	 movsx	 edx, WORD PTR [ecx+eax*2+928]
  041ac	52		 push	 edx
  041ad	8d 85 c4 fd ff
	ff		 lea	 eax, DWORD PTR __Notice$232965[ebp]
  041b3	50		 push	 eax
  041b4	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  041b9	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@DGRelation@5:

; 1913 : 			}
; 1914 : 		}
; 1915 : 	}

  041bc	e9 7c ff ff ff	 jmp	 $LN4@DGRelation@5
$LN22@DGRelation@5:

; 1916 : 
; 1917 : }

  041c1	5f		 pop	 edi
  041c2	5e		 pop	 esi
  041c3	5b		 pop	 ebx
  041c4	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  041c7	33 cd		 xor	 ecx, ebp
  041c9	e8 00 00 00 00	 call	 @__security_check_cookie@4
  041ce	8b e5		 mov	 esp, ebp
  041d0	5d		 pop	 ebp
  041d1	c3		 ret	 0
?DGRelationShipAnsKickOutUnionMember@@YAXPAUEXSDHP_KICKOUT_UNIONMEMBER_RESULT@@@Z ENDP ; DGRelationShipAnsKickOutUnionMember
_TEXT	ENDS
PUBLIC	??_C@_0BJ@BDFPCOJL@?$FL?$CFs?$FN?5Friend?5List?5Request?$AA@ ; `string'
PUBLIC	??_C@_0CJ@EJJNCKNG@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@ ; `string'
PUBLIC	??_C@_0DB@ELGELCGP@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@ ; `string'
PUBLIC	??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendListRequest@@YAXH@Z@4JA	; `FriendListRequest'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
PUBLIC	?FriendListRequest@@YAXH@Z			; FriendListRequest
;	COMDAT ??_C@_0BJ@BDFPCOJL@?$FL?$CFs?$FN?5Friend?5List?5Request?$AA@
CONST	SEGMENT
??_C@_0BJ@BDFPCOJL@?$FL?$CFs?$FN?5Friend?5List?5Request?$AA@ DB '[%s] Fri'
	DB	'end List Request', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CJ@EJJNCKNG@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@
CONST	SEGMENT
??_C@_0CJ@EJJNCKNG@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@ DB 'e'
	DB	'rror-L3 : [%s][%s] FriendServer Offline', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DB@ELGELCGP@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@
CONST	SEGMENT
??_C@_0DB@ELGELCGP@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@ DB 'e'
	DB	'rror-L3 : [%s][%s] FriendServer Online Request ', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@ DB 'error-L2 :'
	DB	' Index %s %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
CONST	SEGMENT
??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@ DB 'd:\project'
	DB	's\exteam6.3\source\gameserver\gameserver\edsprotocol.cpp', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendListRequest@@YAXH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendListRequest@@YAXH@Z@4JA DD 0788H	; `FriendListRequest'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_pMsg$ = -24						; size = 18
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?FriendListRequest@@YAXH@Z PROC				; FriendListRequest

; 1928 : {

  041e0	55		 push	 ebp
  041e1	8b ec		 mov	 ebp, esp
  041e3	83 ec 58	 sub	 esp, 88			; 00000058H
  041e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  041eb	33 c5		 xor	 eax, ebp
  041ed	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  041f0	53		 push	 ebx
  041f1	56		 push	 esi
  041f2	57		 push	 edi

; 1929 : 	if ( gObjIsConnectedGP(aIndex) == FALSE )

  041f3	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  041f6	50		 push	 eax
  041f7	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  041fc	83 c4 04	 add	 esp, 4
  041ff	85 c0		 test	 eax, eax
  04201	75 21		 jne	 SHORT $LN3@FriendList

; 1930 : 	{
; 1931 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  04203	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendListRequest@@YAXH@Z@4JA
  04208	83 c0 03	 add	 eax, 3
  0420b	50		 push	 eax
  0420c	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  04211	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  04216	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0421c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1932 : 		return;

  0421f	e9 3c 01 00 00	 jmp	 $LN4@FriendList
$LN3@FriendList:

; 1933 : 	}
; 1934 : 
; 1935 : 	if (gObj[aIndex].m_FriendServerOnline == 2 )

  04224	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04227	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0422d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04233	0f b6 94 01 70
	03 00 00	 movzx	 edx, BYTE PTR [ecx+eax+880]
  0423b	83 fa 02	 cmp	 edx, 2
  0423e	75 3b		 jne	 SHORT $LN2@FriendList

; 1936 : 	{
; 1937 : 		LogAddTD("error-L3 : [%s][%s] FriendServer Online Request ", gObj[aIndex].AccountID, gObj[aIndex].Name);

  04240	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04243	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04249	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0424f	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  04253	52		 push	 edx
  04254	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04257	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0425d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04263	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  04267	52		 push	 edx
  04268	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@ELGELCGP@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@
  0426d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04273	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1938 : 		return;

  04276	e9 e5 00 00 00	 jmp	 $LN4@FriendList
$LN2@FriendList:

; 1939 : 	}
; 1940 : 
; 1941 : 	if (gObj[aIndex].m_FriendServerOnline == FRIEND_SERVER_STATE_OFFLINE )

  0427b	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0427e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04284	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0428a	0f b6 94 01 70
	03 00 00	 movzx	 edx, BYTE PTR [ecx+eax+880]
  04292	83 fa 01	 cmp	 edx, 1
  04295	75 3b		 jne	 SHORT $LN1@FriendList

; 1942 : 	{
; 1943 : 		LogAddTD("error-L3 : [%s][%s] FriendServer Offline", gObj[aIndex].AccountID, gObj[aIndex].Name);

  04297	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0429a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  042a0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  042a6	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  042aa	52		 push	 edx
  042ab	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  042ae	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  042b4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  042ba	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  042be	52		 push	 edx
  042bf	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@EJJNCKNG@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@
  042c4	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  042ca	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1944 : 		return;

  042cd	e9 8e 00 00 00	 jmp	 $LN4@FriendList
$LN1@FriendList:

; 1945 : 	}
; 1946 : 
; 1947 : 	FHP_FRIENDLIST_REQ pMsg;
; 1948 : 
; 1949 : 	pMsg.h.set((LPBYTE)&pMsg, 0x60, sizeof(FHP_FRIENDLIST_REQ));

  042d2	6a 12		 push	 18			; 00000012H
  042d4	6a 60		 push	 96			; 00000060H
  042d6	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  042d9	50		 push	 eax
  042da	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  042dd	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 1950 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  042e2	6a 0a		 push	 10			; 0000000aH
  042e4	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  042e7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  042ed	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  042f3	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  042f7	52		 push	 edx
  042f8	8d 45 ee	 lea	 eax, DWORD PTR _pMsg$[ebp+6]
  042fb	50		 push	 eax
  042fc	e8 00 00 00 00	 call	 _memcpy
  04301	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1951 : 	pMsg.Number = aIndex;

  04304	66 8b 45 08	 mov	 ax, WORD PTR _aIndex$[ebp]
  04308	66 89 45 ec	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 1952 : 	pMsg.pServer = gGameServerCode;

  0430c	a0 00 00 00 00	 mov	 al, BYTE PTR ?gGameServerCode@@3FA
  04311	88 45 f8	 mov	 BYTE PTR _pMsg$[ebp+16], al

; 1953 : 	
; 1954 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  04314	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  04318	50		 push	 eax
  04319	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0431c	51		 push	 ecx
  0431d	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  04322	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 1955 : 
; 1956 : 	LogAdd("[%s] Friend List Request", gObj[aIndex].Name);

  04327	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0432a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04330	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04336	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  0433a	52		 push	 edx
  0433b	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@BDFPCOJL@?$FL?$CFs?$FN?5Friend?5List?5Request?$AA@
  04340	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  04346	83 c4 08	 add	 esp, 8

; 1957 : 
; 1958 : 	gObj[aIndex].m_FriendServerOnline = 2;

  04349	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0434c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04352	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04358	c6 84 01 70 03
	00 00 02	 mov	 BYTE PTR [ecx+eax+880], 2
$LN4@FriendList:

; 1959 : 
; 1960 : }

  04360	5f		 pop	 edi
  04361	5e		 pop	 esi
  04362	5b		 pop	 ebx
  04363	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  04366	33 cd		 xor	 ecx, ebp
  04368	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0436d	8b e5		 mov	 esp, ebp
  0436f	5d		 pop	 ebp
  04370	c3		 ret	 0
?FriendListRequest@@YAXH@Z ENDP				; FriendListRequest
_TEXT	ENDS
PUBLIC	??_C@_0CB@HGMGGPGK@?$FL?$CFs?$FN?5Friend?5List?5Count?5?$CI?$CFd?$CJ?5Send@ ; `string'
PUBLIC	?set@PWMSG_HEAD@@QAEXPAEEH@Z			; PWMSG_HEAD::set
PUBLIC	?__LINE__Var@?1??FriendListResult@@YAXPAE@Z@4JA	; `FriendListResult'::`2'::__LINE__Var
PUBLIC	?GetBuffer@char_ID@@QAEPADXZ			; char_ID::GetBuffer
PUBLIC	??0char_ID@@QAE@PAD@Z				; char_ID::char_ID
PUBLIC	__$ArrayPad$
EXTRN	?gObjIsConnectedGP@@YAHHPAD@Z:PROC		; gObjIsConnectedGP
;	COMDAT ??_C@_0CB@HGMGGPGK@?$FL?$CFs?$FN?5Friend?5List?5Count?5?$CI?$CFd?$CJ?5Send@
CONST	SEGMENT
??_C@_0CB@HGMGGPGK@?$FL?$CFs?$FN?5Friend?5List?5Count?5?$CI?$CFd?$CJ?5Send@ DB '['
	DB	'%s] Friend List Count (%d) Send', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendListResult@@YAXPAE@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendListResult@@YAXPAE@Z@4JA DD 07c2H ; `FriendListResult'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_n$233043 = -2044					; size = 4
_TmpSendBuf$ = -2040					; size = 2000
_Name$ = -40						; size = 11
_pOfs$ = -28						; size = 4
_pCount$ = -24						; size = 7
_lOfs$ = -16						; size = 4
_lpList$ = -12						; size = 4
_lpCount$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendListResult@@YAXPAE@Z PROC			; FriendListResult

; 1986 : {

  04380	55		 push	 ebp
  04381	8b ec		 mov	 ebp, esp
  04383	81 ec 3c 08 00
	00		 sub	 esp, 2108		; 0000083cH
  04389	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0438e	33 c5		 xor	 eax, ebp
  04390	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  04393	53		 push	 ebx
  04394	56		 push	 esi
  04395	57		 push	 edi

; 1987 : 
; 1988 : 	FHP_FRIENDLIST_COUNT * lpCount;
; 1989 : 	FHP_FRIENDLIST * lpList;
; 1990 : 	int lOfs = sizeof(FHP_FRIENDLIST_COUNT);

  04396	c7 45 f0 12 00
	00 00		 mov	 DWORD PTR _lOfs$[ebp], 18 ; 00000012H

; 1991 : 	PMSG_FRIEND_LIST_COUNT pCount;
; 1992 : 	int pOfs = sizeof(PMSG_FRIEND_LIST_COUNT);

  0439d	c7 45 e4 07 00
	00 00		 mov	 DWORD PTR _pOfs$[ebp], 7

; 1993 : 
; 1994 : 	lpCount = (FHP_FRIENDLIST_COUNT *)lpMsg;

  043a4	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  043a7	89 45 f8	 mov	 DWORD PTR _lpCount$[ebp], eax

; 1995 : 	lpList  = (FHP_FRIENDLIST *)(&lpMsg[lOfs * sizeof(FHP_FRIENDLIST)]);

  043aa	8b 45 f0	 mov	 eax, DWORD PTR _lOfs$[ebp]
  043ad	6b c0 0b	 imul	 eax, 11			; 0000000bH
  043b0	03 45 08	 add	 eax, DWORD PTR _lpMsg$[ebp]
  043b3	89 45 f4	 mov	 DWORD PTR _lpList$[ebp], eax

; 1996 : 
; 1997 : 	char_ID Name( lpCount->Name);

  043b6	8b 45 f8	 mov	 eax, DWORD PTR _lpCount$[ebp]
  043b9	83 c0 06	 add	 eax, 6
  043bc	50		 push	 eax
  043bd	8d 4d d8	 lea	 ecx, DWORD PTR _Name$[ebp]
  043c0	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 1998 : 	BYTE TmpSendBuf[2000];
; 1999 : 	
; 2000 : 	if ( !gObjIsConnectedGP(lpCount->Number, Name.GetBuffer()))

  043c5	8d 4d d8	 lea	 ecx, DWORD PTR _Name$[ebp]
  043c8	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  043cd	50		 push	 eax
  043ce	8b 45 f8	 mov	 eax, DWORD PTR _lpCount$[ebp]
  043d1	0f bf 48 04	 movsx	 ecx, WORD PTR [eax+4]
  043d5	51		 push	 ecx
  043d6	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  043db	83 c4 08	 add	 esp, 8
  043de	85 c0		 test	 eax, eax
  043e0	75 21		 jne	 SHORT $LN5@FriendList@2

; 2001 : 	{
; 2002 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  043e2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendListResult@@YAXPAE@Z@4JA
  043e7	83 c0 10	 add	 eax, 16			; 00000010H
  043ea	50		 push	 eax
  043eb	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  043f0	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  043f5	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  043fb	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2003 : 		return;

  043fe	e9 05 01 00 00	 jmp	 $LN6@FriendList@2
$LN5@FriendList@2:

; 2004 : 	}
; 2005 : 
; 2006 : 	gObj[lpCount->Number].m_FriendServerOnline = 0;

  04403	8b 45 f8	 mov	 eax, DWORD PTR _lpCount$[ebp]
  04406	0f bf 48 04	 movsx	 ecx, WORD PTR [eax+4]
  0440a	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  04410	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04416	c6 84 0a 70 03
	00 00 00	 mov	 BYTE PTR [edx+ecx+880], 0

; 2007 : 	pCount.Count = lpCount->Count;

  0441e	8b 45 f8	 mov	 eax, DWORD PTR _lpCount$[ebp]
  04421	8a 48 10	 mov	 cl, BYTE PTR [eax+16]
  04424	88 4d ee	 mov	 BYTE PTR _pCount$[ebp+6], cl

; 2008 : 	pCount.MemoCount = lpCount->MailCount;

  04427	8b 45 f8	 mov	 eax, DWORD PTR _lpCount$[ebp]
  0442a	8a 48 11	 mov	 cl, BYTE PTR [eax+17]
  0442d	88 4d ec	 mov	 BYTE PTR _pCount$[ebp+4], cl

; 2009 : 	pCount.MailTotal = 50;

  04430	c6 45 ed 32	 mov	 BYTE PTR _pCount$[ebp+5], 50 ; 00000032H

; 2010 : 
; 2011 : 	if ( pCount.Count != 0 )

  04434	0f b6 45 ee	 movzx	 eax, BYTE PTR _pCount$[ebp+6]
  04438	85 c0		 test	 eax, eax
  0443a	74 5d		 je	 SHORT $LN4@FriendList@2

; 2012 : 	{
; 2013 : 		for ( int n=0;n<pCount.Count;n++)

  0443c	c7 85 04 f8 ff
	ff 00 00 00 00	 mov	 DWORD PTR _n$233043[ebp], 0
  04446	eb 0f		 jmp	 SHORT $LN3@FriendList@2
$LN2@FriendList@2:
  04448	8b 85 04 f8 ff
	ff		 mov	 eax, DWORD PTR _n$233043[ebp]
  0444e	83 c0 01	 add	 eax, 1
  04451	89 85 04 f8 ff
	ff		 mov	 DWORD PTR _n$233043[ebp], eax
$LN3@FriendList@2:
  04457	0f b6 45 ee	 movzx	 eax, BYTE PTR _pCount$[ebp+6]
  0445b	39 85 04 f8 ff
	ff		 cmp	 DWORD PTR _n$233043[ebp], eax
  04461	7d 36		 jge	 SHORT $LN4@FriendList@2

; 2014 : 		{
; 2015 : 			lpList = (FHP_FRIENDLIST *)&lpMsg[lOfs];

  04463	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04466	03 45 f0	 add	 eax, DWORD PTR _lOfs$[ebp]
  04469	89 45 f4	 mov	 DWORD PTR _lpList$[ebp], eax

; 2016 : 			memcpy(&TmpSendBuf[pOfs], lpList, sizeof(FHP_FRIENDLIST));

  0446c	6a 0b		 push	 11			; 0000000bH
  0446e	8b 45 f4	 mov	 eax, DWORD PTR _lpList$[ebp]
  04471	50		 push	 eax
  04472	8b 4d e4	 mov	 ecx, DWORD PTR _pOfs$[ebp]
  04475	8d 94 0d 08 f8
	ff ff		 lea	 edx, DWORD PTR _TmpSendBuf$[ebp+ecx]
  0447c	52		 push	 edx
  0447d	e8 00 00 00 00	 call	 _memcpy
  04482	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2017 : 			lOfs+=sizeof(FHP_FRIENDLIST);

  04485	8b 45 f0	 mov	 eax, DWORD PTR _lOfs$[ebp]
  04488	83 c0 0b	 add	 eax, 11			; 0000000bH
  0448b	89 45 f0	 mov	 DWORD PTR _lOfs$[ebp], eax

; 2018 : 			pOfs+=sizeof(FHP_FRIENDLIST);

  0448e	8b 45 e4	 mov	 eax, DWORD PTR _pOfs$[ebp]
  04491	83 c0 0b	 add	 eax, 11			; 0000000bH
  04494	89 45 e4	 mov	 DWORD PTR _pOfs$[ebp], eax

; 2019 : 		}

  04497	eb af		 jmp	 SHORT $LN2@FriendList@2
$LN4@FriendList@2:

; 2020 : 	}
; 2021 : 
; 2022 : 	pCount.h.set((LPBYTE)&pCount, 0xC0, pOfs);

  04499	8b 45 e4	 mov	 eax, DWORD PTR _pOfs$[ebp]
  0449c	50		 push	 eax
  0449d	68 c0 00 00 00	 push	 192			; 000000c0H
  044a2	8d 4d e8	 lea	 ecx, DWORD PTR _pCount$[ebp]
  044a5	51		 push	 ecx
  044a6	8d 4d e8	 lea	 ecx, DWORD PTR _pCount$[ebp]
  044a9	e8 00 00 00 00	 call	 ?set@PWMSG_HEAD@@QAEXPAEEH@Z ; PWMSG_HEAD::set

; 2023 : 	memcpy(TmpSendBuf, &pCount, sizeof(PMSG_FRIEND_LIST_COUNT));

  044ae	6a 07		 push	 7
  044b0	8d 45 e8	 lea	 eax, DWORD PTR _pCount$[ebp]
  044b3	50		 push	 eax
  044b4	8d 8d 08 f8 ff
	ff		 lea	 ecx, DWORD PTR _TmpSendBuf$[ebp]
  044ba	51		 push	 ecx
  044bb	e8 00 00 00 00	 call	 _memcpy
  044c0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2024 : 
; 2025 : 	DataSend(lpCount->Number, TmpSendBuf, pOfs);

  044c3	8b 45 e4	 mov	 eax, DWORD PTR _pOfs$[ebp]
  044c6	50		 push	 eax
  044c7	8d 8d 08 f8 ff
	ff		 lea	 ecx, DWORD PTR _TmpSendBuf$[ebp]
  044cd	51		 push	 ecx
  044ce	8b 55 f8	 mov	 edx, DWORD PTR _lpCount$[ebp]
  044d1	0f bf 42 04	 movsx	 eax, WORD PTR [edx+4]
  044d5	50		 push	 eax
  044d6	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  044db	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2026 : 
; 2027 : 	LogAdd("[%s] Friend List Count (%d) Send", gObj[lpCount->Number].Name, pCount.Count);

  044de	0f b6 45 ee	 movzx	 eax, BYTE PTR _pCount$[ebp+6]
  044e2	50		 push	 eax
  044e3	8b 4d f8	 mov	 ecx, DWORD PTR _lpCount$[ebp]
  044e6	0f bf 51 04	 movsx	 edx, WORD PTR [ecx+4]
  044ea	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  044f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  044f5	8d 4c 10 77	 lea	 ecx, DWORD PTR [eax+edx+119]
  044f9	51		 push	 ecx
  044fa	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@HGMGGPGK@?$FL?$CFs?$FN?5Friend?5List?5Count?5?$CI?$CFd?$CJ?5Send@
  044ff	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  04505	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN6@FriendList@2:

; 2028 : }

  04508	5f		 pop	 edi
  04509	5e		 pop	 esi
  0450a	5b		 pop	 ebx
  0450b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0450e	33 cd		 xor	 ecx, ebp
  04510	e8 00 00 00 00	 call	 @__security_check_cookie@4
  04515	8b e5		 mov	 esp, ebp
  04517	5d		 pop	 ebp
  04518	c3		 ret	 0
?FriendListResult@@YAXPAE@Z ENDP			; FriendListResult
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\include\prodef.h
_TEXT	ENDS
;	COMDAT ?set@PWMSG_HEAD@@QAEXPAEEH@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_lpBuf$ = 8						; size = 4
_head$ = 12						; size = 1
_size$ = 16						; size = 4
?set@PWMSG_HEAD@@QAEXPAEEH@Z PROC			; PWMSG_HEAD::set, COMDAT
; _this$ = ecx

; 122  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 123  : 		lpBuf[0] = 0xC2;

  0000c	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  0000f	c6 00 c2	 mov	 BYTE PTR [eax], 194	; 000000c2H

; 124  : 		lpBuf[1] = SET_NUMBERH(size);

  00012	8b 45 10	 mov	 eax, DWORD PTR _size$[ebp]
  00015	c1 e8 08	 shr	 eax, 8
  00018	8b 4d 08	 mov	 ecx, DWORD PTR _lpBuf$[ebp]
  0001b	88 41 01	 mov	 BYTE PTR [ecx+1], al

; 125  : 		lpBuf[2] = SET_NUMBERL(size);

  0001e	8b 45 10	 mov	 eax, DWORD PTR _size$[ebp]
  00021	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00026	8b 4d 08	 mov	 ecx, DWORD PTR _lpBuf$[ebp]
  00029	88 41 02	 mov	 BYTE PTR [ecx+2], al

; 126  : 		lpBuf[3] = head;

  0002c	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  0002f	8a 4d 0c	 mov	 cl, BYTE PTR _head$[ebp]
  00032	88 48 03	 mov	 BYTE PTR [eax+3], cl

; 127  : 	};

  00035	5f		 pop	 edi
  00036	5e		 pop	 esi
  00037	5b		 pop	 ebx
  00038	8b e5		 mov	 esp, ebp
  0003a	5d		 pop	 ebp
  0003b	c2 0c 00	 ret	 12			; 0000000cH
?set@PWMSG_HEAD@@QAEXPAEEH@Z ENDP			; PWMSG_HEAD::set
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\common\winutil.h
_TEXT	ENDS
;	COMDAT ??0char_ID@@QAE@PAD@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_szName$ = 8						; size = 4
??0char_ID@@QAE@PAD@Z PROC				; char_ID::char_ID, COMDAT
; _this$ = ecx

; 31   : 	char_ID(LPSTR szName)	// line : 44

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 32   : 	{
; 33   : 		memset(this->Name, 0, sizeof(this->Name));

  0000c	6a 0b		 push	 11			; 0000000bH
  0000e	6a 00		 push	 0
  00010	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00013	50		 push	 eax
  00014	e8 00 00 00 00	 call	 _memset
  00019	83 c4 0c	 add	 esp, 12			; 0000000cH

; 34   : 
; 35   : 		if ( szName != NULL )

  0001c	83 7d 08 00	 cmp	 DWORD PTR _szName$[ebp], 0
  00020	74 12		 je	 SHORT $LN2@char_ID

; 36   : 		{
; 37   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  00022	6a 0a		 push	 10			; 0000000aH
  00024	8b 45 08	 mov	 eax, DWORD PTR _szName$[ebp]
  00027	50		 push	 eax
  00028	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0002b	51		 push	 ecx
  0002c	e8 00 00 00 00	 call	 _memcpy
  00031	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@char_ID:

; 38   : 		}
; 39   : 	}	// line : 49

  00034	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00037	5f		 pop	 edi
  00038	5e		 pop	 esi
  00039	5b		 pop	 ebx
  0003a	8b e5		 mov	 esp, ebp
  0003c	5d		 pop	 ebp
  0003d	c2 04 00	 ret	 4
??0char_ID@@QAE@PAD@Z ENDP				; char_ID::char_ID
; Function compile flags: /Odtp /ZI
_TEXT	ENDS
;	COMDAT ?GetBuffer@char_ID@@QAEPADXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetBuffer@char_ID@@QAEPADXZ PROC			; char_ID::GetBuffer, COMDAT
; _this$ = ecx

; 42   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 43   : 		return this->Name;

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]

; 44   : 	}	// line : 54

  0000f	5f		 pop	 edi
  00010	5e		 pop	 esi
  00011	5b		 pop	 ebx
  00012	8b e5		 mov	 esp, ebp
  00014	5d		 pop	 ebp
  00015	c3		 ret	 0
?GetBuffer@char_ID@@QAEPADXZ ENDP			; char_ID::GetBuffer
_TEXT	ENDS
PUBLIC	??_C@_0BK@HLHJLCCE@?$FL?$CFs?$FN?5WaitFriend?5List?5?$FL?$CFs?$FN?$AA@ ; `string'
PUBLIC	?GetLength@char_ID@@QAEHXZ			; char_ID::GetLength
PUBLIC	??_C@_0BN@DOMMEPOB@error?9L2?5?3?5?$CI?$CFs?$CJ?5Index?5?$CFs?5?$CFd?5?$AA@ ; `string'
PUBLIC	?__LINE__Var@?1??WaitFriendListResult@@YAXPAUFHP_WAITFRIENDLIST_COUNT@@@Z@4JA ; `WaitFriendListResult'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0BK@HLHJLCCE@?$FL?$CFs?$FN?5WaitFriend?5List?5?$FL?$CFs?$FN?$AA@
; File d:\projects\exteam6.3\source\gameserver\gameserver\edsprotocol.cpp
CONST	SEGMENT
??_C@_0BK@HLHJLCCE@?$FL?$CFs?$FN?5WaitFriend?5List?5?$FL?$CFs?$FN?$AA@ DB '['
	DB	'%s] WaitFriend List [%s]', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BN@DOMMEPOB@error?9L2?5?3?5?$CI?$CFs?$CJ?5Index?5?$CFs?5?$CFd?5?$AA@
CONST	SEGMENT
??_C@_0BN@DOMMEPOB@error?9L2?5?3?5?$CI?$CFs?$CJ?5Index?5?$CFs?5?$CFd?5?$AA@ DB 'e'
	DB	'rror-L2 : (%s) Index %s %d ', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??WaitFriendListResult@@YAXPAUFHP_WAITFRIENDLIST_COUNT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??WaitFriendListResult@@YAXPAUFHP_WAITFRIENDLIST_COUNT@@@Z@4JA DD 07f5H ; `WaitFriendListResult'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_Name$ = -32						; size = 11
_pMsg$ = -20						; size = 13
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?WaitFriendListResult@@YAXPAUFHP_WAITFRIENDLIST_COUNT@@@Z PROC ; WaitFriendListResult

; 2037 : {

  04520	55		 push	 ebp
  04521	8b ec		 mov	 ebp, esp
  04523	83 ec 60	 sub	 esp, 96			; 00000060H
  04526	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0452b	33 c5		 xor	 eax, ebp
  0452d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  04530	53		 push	 ebx
  04531	56		 push	 esi
  04532	57		 push	 edi

; 2038 : 	PMSG_FRIEND_ADD_SIN_REQ pMsg;
; 2039 : 	char_ID Name(lpMsg->Name);

  04533	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04536	83 c0 06	 add	 eax, 6
  04539	50		 push	 eax
  0453a	8d 4d e0	 lea	 ecx, DWORD PTR _Name$[ebp]
  0453d	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2040 : 
; 2041 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  04542	8d 4d e0	 lea	 ecx, DWORD PTR _Name$[ebp]
  04545	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  0454a	50		 push	 eax
  0454b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0454e	0f bf 48 04	 movsx	 ecx, WORD PTR [eax+4]
  04552	51		 push	 ecx
  04553	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  04558	83 c4 08	 add	 esp, 8
  0455b	85 c0		 test	 eax, eax
  0455d	75 27		 jne	 SHORT $LN2@WaitFriend

; 2042 : 	{
; 2043 : 		LogAddTD("error-L2 : (%s) Index %s %d ", Name.GetBuffer(), __FILE__, __LINE__);

  0455f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??WaitFriendListResult@@YAXPAUFHP_WAITFRIENDLIST_COUNT@@@Z@4JA
  04564	83 c0 06	 add	 eax, 6
  04567	50		 push	 eax
  04568	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  0456d	8d 4d e0	 lea	 ecx, DWORD PTR _Name$[ebp]
  04570	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04575	50		 push	 eax
  04576	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@DOMMEPOB@error?9L2?5?3?5?$CI?$CFs?$CJ?5Index?5?$CFs?5?$CFd?5?$AA@
  0457b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04581	83 c4 10	 add	 esp, 16			; 00000010H

; 2044 : 		return;

  04584	eb 7c		 jmp	 SHORT $LN3@WaitFriend
$LN2@WaitFriend:

; 2045 : 	}
; 2046 : 
; 2047 : 	if ( Name.GetLength() < 1 )

  04586	8d 4d e0	 lea	 ecx, DWORD PTR _Name$[ebp]
  04589	e8 00 00 00 00	 call	 ?GetLength@char_ID@@QAEHXZ ; char_ID::GetLength
  0458e	83 f8 01	 cmp	 eax, 1
  04591	7d 02		 jge	 SHORT $LN1@WaitFriend

; 2048 : 		return;

  04593	eb 6d		 jmp	 SHORT $LN3@WaitFriend
$LN1@WaitFriend:

; 2049 : 
; 2050 : 	pMsg.h.set((LPBYTE)&pMsg, 0xC2, sizeof(pMsg));

  04595	6a 0d		 push	 13			; 0000000dH
  04597	68 c2 00 00 00	 push	 194			; 000000c2H
  0459c	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0459f	50		 push	 eax
  045a0	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  045a3	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2051 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  045a8	6a 0a		 push	 10			; 0000000aH
  045aa	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  045ad	83 c0 10	 add	 eax, 16			; 00000010H
  045b0	50		 push	 eax
  045b1	8d 4d ef	 lea	 ecx, DWORD PTR _pMsg$[ebp+3]
  045b4	51		 push	 ecx
  045b5	e8 00 00 00 00	 call	 _memcpy
  045ba	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2052 : 
; 2053 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  045bd	6a 0d		 push	 13			; 0000000dH
  045bf	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$[ebp]
  045c2	50		 push	 eax
  045c3	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  045c6	0f bf 51 04	 movsx	 edx, WORD PTR [ecx+4]
  045ca	52		 push	 edx
  045cb	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  045d0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2054 : 
; 2055 : 	LogAdd("[%s] WaitFriend List [%s]", gObj[lpMsg->Number].Name, Name.GetBuffer());

  045d3	8d 4d e0	 lea	 ecx, DWORD PTR _Name$[ebp]
  045d6	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  045db	50		 push	 eax
  045dc	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  045df	0f bf 48 04	 movsx	 ecx, WORD PTR [eax+4]
  045e3	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  045e9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  045ef	8d 44 0a 77	 lea	 eax, DWORD PTR [edx+ecx+119]
  045f3	50		 push	 eax
  045f4	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@HLHJLCCE@?$FL?$CFs?$FN?5WaitFriend?5List?5?$FL?$CFs?$FN?$AA@
  045f9	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  045ff	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN3@WaitFriend:

; 2056 : }

  04602	5f		 pop	 edi
  04603	5e		 pop	 esi
  04604	5b		 pop	 ebx
  04605	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  04608	33 cd		 xor	 ecx, ebp
  0460a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0460f	8b e5		 mov	 esp, ebp
  04611	5d		 pop	 ebp
  04612	c3		 ret	 0
?WaitFriendListResult@@YAXPAUFHP_WAITFRIENDLIST_COUNT@@@Z ENDP ; WaitFriendListResult
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\common\winutil.h
_TEXT	ENDS
;	COMDAT ?GetLength@char_ID@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetLength@char_ID@@QAEHXZ PROC				; char_ID::GetLength, COMDAT
; _this$ = ecx

; 47   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 48   : 		return strlen(this->Name);

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	50		 push	 eax
  00010	e8 00 00 00 00	 call	 _strlen
  00015	83 c4 04	 add	 esp, 4

; 49   : 	}	// line : 65

  00018	5f		 pop	 edi
  00019	5e		 pop	 esi
  0001a	5b		 pop	 ebx
  0001b	8b e5		 mov	 esp, ebp
  0001d	5d		 pop	 ebp
  0001e	c3		 ret	 0
?GetLength@char_ID@@QAEHXZ ENDP				; char_ID::GetLength
_TEXT	ENDS
PUBLIC	?__LINE__Var@?1??FriendStateClientRecv@@YAXPAUPMSG_FRIEND_STATE_C@@H@Z@4JA ; `FriendStateClientRecv'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
PUBLIC	?FriendStateClientRecv@@YAXPAUPMSG_FRIEND_STATE_C@@H@Z ; FriendStateClientRecv
;	COMDAT ?__LINE__Var@?1??FriendStateClientRecv@@YAXPAUPMSG_FRIEND_STATE_C@@H@Z@4JA
; File d:\projects\exteam6.3\source\gameserver\gameserver\edsprotocol.cpp
_DATA	SEGMENT
?__LINE__Var@?1??FriendStateClientRecv@@YAXPAUPMSG_FRIEND_STATE_C@@H@Z@4JA DD 0813H ; `FriendStateClientRecv'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_pMsg$ = -24						; size = 18
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendStateClientRecv@@YAXPAUPMSG_FRIEND_STATE_C@@H@Z PROC ; FriendStateClientRecv

; 2067 : {

  04620	55		 push	 ebp
  04621	8b ec		 mov	 ebp, esp
  04623	83 ec 58	 sub	 esp, 88			; 00000058H
  04626	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0462b	33 c5		 xor	 eax, ebp
  0462d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  04630	53		 push	 ebx
  04631	56		 push	 esi
  04632	57		 push	 edi

; 2068 : 	if ( !gObjIsConnectedGP(aIndex))

  04633	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04636	50		 push	 eax
  04637	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  0463c	83 c4 04	 add	 esp, 4
  0463f	85 c0		 test	 eax, eax
  04641	75 1e		 jne	 SHORT $LN1@FriendStat

; 2069 : 	{
; 2070 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  04643	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendStateClientRecv@@YAXPAUPMSG_FRIEND_STATE_C@@H@Z@4JA
  04648	83 c0 03	 add	 eax, 3
  0464b	50		 push	 eax
  0464c	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  04651	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  04656	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0465c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2071 : 		return;

  0465f	eb 4e		 jmp	 SHORT $LN2@FriendStat
$LN1@FriendStat:

; 2072 : 	}
; 2073 : 
; 2074 : 	FHP_FRIEND_STATE_C pMsg;
; 2075 : 
; 2076 : 	pMsg.h.set((LPBYTE)&pMsg, 0x62, sizeof(pMsg));

  04661	6a 12		 push	 18			; 00000012H
  04663	6a 62		 push	 98			; 00000062H
  04665	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04668	50		 push	 eax
  04669	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0466c	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2077 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  04671	6a 0a		 push	 10			; 0000000aH
  04673	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04676	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0467c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04682	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  04686	52		 push	 edx
  04687	8d 45 ee	 lea	 eax, DWORD PTR _pMsg$[ebp+6]
  0468a	50		 push	 eax
  0468b	e8 00 00 00 00	 call	 _memcpy
  04690	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2078 : 	pMsg.State = lpMsg->ChatVeto;

  04693	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04696	8a 48 03	 mov	 cl, BYTE PTR [eax+3]
  04699	88 4d f8	 mov	 BYTE PTR _pMsg$[ebp+16], cl

; 2079 : 
; 2080 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  0469c	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  046a0	50		 push	 eax
  046a1	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  046a4	51		 push	 ecx
  046a5	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  046aa	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
$LN2@FriendStat:

; 2081 : }

  046af	5f		 pop	 edi
  046b0	5e		 pop	 esi
  046b1	5b		 pop	 ebx
  046b2	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  046b5	33 cd		 xor	 ecx, ebp
  046b7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  046bc	8b e5		 mov	 esp, ebp
  046be	5d		 pop	 ebp
  046bf	c3		 ret	 0
?FriendStateClientRecv@@YAXPAUPMSG_FRIEND_STATE_C@@H@Z ENDP ; FriendStateClientRecv
_TEXT	ENDS
PUBLIC	??_C@_0BH@OEEJLGGK@?$FL?$CFs?$FN?5Friend?5State?5?$CI?$CFd?$CJ?$AA@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendStateRecv@@YAXPAUFHP_FRIEND_STATE@@@Z@4JA ; `FriendStateRecv'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0BH@OEEJLGGK@?$FL?$CFs?$FN?5Friend?5State?5?$CI?$CFd?$CJ?$AA@
CONST	SEGMENT
??_C@_0BH@OEEJLGGK@?$FL?$CFs?$FN?5Friend?5State?5?$CI?$CFd?$CJ?$AA@ DB '['
	DB	'%s] Friend State (%d)', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendStateRecv@@YAXPAUFHP_FRIEND_STATE@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendStateRecv@@YAXPAUFHP_FRIEND_STATE@@@Z@4JA DD 0824H ; `FriendStateRecv'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_pMsg$ = -32						; size = 14
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendStateRecv@@YAXPAUFHP_FRIEND_STATE@@@Z PROC	; FriendStateRecv

; 2084 : {

  046c0	55		 push	 ebp
  046c1	8b ec		 mov	 ebp, esp
  046c3	83 ec 60	 sub	 esp, 96			; 00000060H
  046c6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  046cb	33 c5		 xor	 eax, ebp
  046cd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  046d0	53		 push	 ebx
  046d1	56		 push	 esi
  046d2	57		 push	 edi

; 2085 : 	char_ID Name(lpMsg->Name);

  046d3	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  046d6	83 c0 06	 add	 eax, 6
  046d9	50		 push	 eax
  046da	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  046dd	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2086 : 
; 2087 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  046e2	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  046e5	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  046ea	50		 push	 eax
  046eb	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  046ee	0f bf 48 04	 movsx	 ecx, WORD PTR [eax+4]
  046f2	51		 push	 ecx
  046f3	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  046f8	83 c4 08	 add	 esp, 8
  046fb	85 c0		 test	 eax, eax
  046fd	75 27		 jne	 SHORT $LN1@FriendStat@2

; 2088 : 	{
; 2089 : 		LogAddTD("error-L2 : (%s) Index %s %d ", Name.GetBuffer(), __FILE__, __LINE__);

  046ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendStateRecv@@YAXPAUFHP_FRIEND_STATE@@@Z@4JA
  04704	83 c0 05	 add	 eax, 5
  04707	50		 push	 eax
  04708	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  0470d	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  04710	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04715	50		 push	 eax
  04716	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@DOMMEPOB@error?9L2?5?3?5?$CI?$CFs?$CJ?5Index?5?$CFs?5?$CFd?5?$AA@
  0471b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04721	83 c4 10	 add	 esp, 16			; 00000010H

; 2090 : 		return;

  04724	eb 75		 jmp	 SHORT $LN2@FriendStat@2
$LN1@FriendStat@2:

; 2091 : 	}
; 2092 : 
; 2093 : 	PMSG_FRIEND_STATE pMsg;
; 2094 : 
; 2095 : 	pMsg.h.set((LPBYTE)&pMsg, 0xC4, sizeof(pMsg));

  04726	6a 0e		 push	 14			; 0000000eH
  04728	68 c4 00 00 00	 push	 196			; 000000c4H
  0472d	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04730	50		 push	 eax
  04731	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04734	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2096 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  04739	6a 0a		 push	 10			; 0000000aH
  0473b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0473e	83 c0 10	 add	 eax, 16			; 00000010H
  04741	50		 push	 eax
  04742	8d 4d e3	 lea	 ecx, DWORD PTR _pMsg$[ebp+3]
  04745	51		 push	 ecx
  04746	e8 00 00 00 00	 call	 _memcpy
  0474b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2097 : 	pMsg.State = lpMsg->State;

  0474e	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04751	8a 48 1a	 mov	 cl, BYTE PTR [eax+26]
  04754	88 4d ed	 mov	 BYTE PTR _pMsg$[ebp+13], cl

; 2098 : 
; 2099 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  04757	6a 0e		 push	 14			; 0000000eH
  04759	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0475c	50		 push	 eax
  0475d	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  04760	0f bf 51 04	 movsx	 edx, WORD PTR [ecx+4]
  04764	52		 push	 edx
  04765	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0476a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2100 : 
; 2101 : 	LogAdd("[%s] Friend State (%d)", gObj[lpMsg->Number].Name, lpMsg->State);

  0476d	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04770	0f b6 48 1a	 movzx	 ecx, BYTE PTR [eax+26]
  04774	51		 push	 ecx
  04775	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  04778	0f bf 42 04	 movsx	 eax, WORD PTR [edx+4]
  0477c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04782	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04788	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  0478c	52		 push	 edx
  0478d	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@OEEJLGGK@?$FL?$CFs?$FN?5Friend?5State?5?$CI?$CFd?$CJ?$AA@
  04792	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  04798	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@FriendStat@2:

; 2102 : }

  0479b	5f		 pop	 edi
  0479c	5e		 pop	 esi
  0479d	5b		 pop	 ebx
  0479e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  047a1	33 cd		 xor	 ecx, ebp
  047a3	e8 00 00 00 00	 call	 @__security_check_cookie@4
  047a8	8b e5		 mov	 esp, ebp
  047aa	5d		 pop	 ebp
  047ab	c3		 ret	 0
?FriendStateRecv@@YAXPAUFHP_FRIEND_STATE@@@Z ENDP	; FriendStateRecv
_TEXT	ENDS
PUBLIC	??_C@_0CG@JNIACLCP@error?9L3?5?3?5?$FL?$CFs?$FN?5Friend?5add?5?3?5Not@ ; `string'
PUBLIC	??_C@_0CD@OOGOJAIC@?$FL?$CFs?$FN?5Friend?5add?5request?5Name?3?5?$FL?$CF@ ; `string'
PUBLIC	??_C@_0EL@ENENOIMK@?$FLHACKTOOL?$FN?5?3?5NPC?9FriendAddReques@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_REQ@@H@Z@4JA ; `FriendAddRequest'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
PUBLIC	?FriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_REQ@@H@Z ; FriendAddRequest
EXTRN	?CloseClient@@YAXH@Z:PROC			; CloseClient
EXTRN	?LogAddC@@3P6AXEPADZZA:DWORD			; LogAddC
EXTRN	?gObjGetIndex@@YAHPAD@Z:PROC			; gObjGetIndex
;	COMDAT ??_C@_0CG@JNIACLCP@error?9L3?5?3?5?$FL?$CFs?$FN?5Friend?5add?5?3?5Not@
CONST	SEGMENT
??_C@_0CG@JNIACLCP@error?9L3?5?3?5?$FL?$CFs?$FN?5Friend?5add?5?3?5Not@ DB 'e'
	DB	'rror-L3 : [%s] Friend add : Not self', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CD@OOGOJAIC@?$FL?$CFs?$FN?5Friend?5add?5request?5Name?3?5?$FL?$CF@
CONST	SEGMENT
??_C@_0CD@OOGOJAIC@?$FL?$CFs?$FN?5Friend?5add?5request?5Name?3?5?$FL?$CF@ DB '['
	DB	'%s] Friend add request Name: [%s]', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0EL@ENENOIMK@?$FLHACKTOOL?$FN?5?3?5NPC?9FriendAddReques@
CONST	SEGMENT
??_C@_0EL@ENENOIMK@?$FLHACKTOOL?$FN?5?3?5NPC?9FriendAddReques@ DB '[HACKT'
	DB	'OOL] : NPC-FriendAddRequest npc:%d ip:%s account:%s name:%s S'
	DB	'tate:%d', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_REQ@@H@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_REQ@@H@Z@4JA DD 084bH ; `FriendAddRequest'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_pResult$233142 = -64					; size = 15
_szFriendName$ = -48					; size = 11
_pMsg$ = -36						; size = 26
_aTargetIndex$ = -8					; size = 4
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_REQ@@H@Z PROC	; FriendAddRequest

; 2123 : {

  047b0	55		 push	 ebp
  047b1	8b ec		 mov	 ebp, esp
  047b3	81 ec 80 00 00
	00		 sub	 esp, 128		; 00000080H
  047b9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  047be	33 c5		 xor	 eax, ebp
  047c0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  047c3	53		 push	 ebx
  047c4	56		 push	 esi
  047c5	57		 push	 edi

; 2124 : 	if ( !gObjIsConnectedGP(aIndex))

  047c6	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  047c9	50		 push	 eax
  047ca	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  047cf	83 c4 04	 add	 esp, 4
  047d2	85 c0		 test	 eax, eax
  047d4	75 21		 jne	 SHORT $LN4@FriendAddR

; 2125 : 	{
; 2126 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  047d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_REQ@@H@Z@4JA
  047db	83 c0 03	 add	 eax, 3
  047de	50		 push	 eax
  047df	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  047e4	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  047e9	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  047ef	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2127 : 		return;

  047f2	e9 fa 01 00 00	 jmp	 $LN5@FriendAddR
$LN4@FriendAddR:

; 2128 : 	}
; 2129 : 
; 2130 : 	//Season 4.5 Addon start
; 2131 :     int aTargetIndex = gObjGetIndex(lpMsg->Name);

  047f7	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  047fa	83 c0 03	 add	 eax, 3
  047fd	50		 push	 eax
  047fe	e8 00 00 00 00	 call	 ?gObjGetIndex@@YAHPAD@Z	; gObjGetIndex
  04803	83 c4 04	 add	 esp, 4
  04806	89 45 f8	 mov	 DWORD PTR _aTargetIndex$[ebp], eax

; 2132 :  
; 2133 :     if(aTargetIndex >= 0 && aTargetIndex <= OBJMAX-1 && gObj[aTargetIndex].Type != 1  )

  04809	83 7d f8 00	 cmp	 DWORD PTR _aTargetIndex$[ebp], 0
  0480d	0f 8c b3 00 00
	00		 jl	 $LN3@FriendAddR
  04813	81 7d f8 97 3a
	00 00		 cmp	 DWORD PTR _aTargetIndex$[ebp], 14999 ; 00003a97H
  0481a	0f 8f a6 00 00
	00		 jg	 $LN3@FriendAddR
  04820	8b 45 f8	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  04823	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04829	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0482f	0f b7 54 01 68	 movzx	 edx, WORD PTR [ecx+eax+104]
  04834	83 fa 01	 cmp	 edx, 1
  04837	0f 84 89 00 00
	00		 je	 $LN3@FriendAddR

; 2134 :     {
; 2135 :         LogAddC(2,"[HACKTOOL] : NPC-FriendAddRequest npc:%d ip:%s account:%s name:%s State:%d",
; 2136 : 			gObj[aTargetIndex].Class,gObj[aIndex].Ip_addr,gObj[aIndex].AccountID,
; 2137 : 			gObj[aIndex].Name,gObj[aIndex].Connected);

  0483d	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04840	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04846	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0484c	8b 54 01 04	 mov	 edx, DWORD PTR [ecx+eax+4]
  04850	52		 push	 edx
  04851	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04854	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0485a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04860	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  04864	52		 push	 edx
  04865	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04868	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0486e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04874	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  04878	52		 push	 edx
  04879	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0487c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04882	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04888	8d 54 01 18	 lea	 edx, DWORD PTR [ecx+eax+24]
  0488c	52		 push	 edx
  0488d	8b 45 f8	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  04890	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04896	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0489c	0f b7 94 01 b8
	00 00 00	 movzx	 edx, WORD PTR [ecx+eax+184]
  048a4	52		 push	 edx
  048a5	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@ENENOIMK@?$FLHACKTOOL?$FN?5?3?5NPC?9FriendAddReques@
  048aa	6a 02		 push	 2
  048ac	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddC@@3P6AXEPADZZA ; LogAddC
  048b2	83 c4 1c	 add	 esp, 28			; 0000001cH

; 2138 :         CloseClient(aIndex);

  048b5	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  048b8	50		 push	 eax
  048b9	e8 00 00 00 00	 call	 ?CloseClient@@YAXH@Z	; CloseClient
  048be	83 c4 04	 add	 esp, 4

; 2139 :         return;

  048c1	e9 2b 01 00 00	 jmp	 $LN5@FriendAddR
$LN3@FriendAddR:

; 2140 :     }
; 2141 :     //Season 4.5 Addon end
; 2142 : 
; 2143 : 	FHP_FRIEND_ADD_REQ pMsg;
; 2144 : 
; 2145 : 	pMsg.h.set((LPBYTE)&pMsg, 0x63, sizeof(pMsg));

  048c6	6a 1a		 push	 26			; 0000001aH
  048c8	6a 63		 push	 99			; 00000063H
  048ca	8d 45 dc	 lea	 eax, DWORD PTR _pMsg$[ebp]
  048cd	50		 push	 eax
  048ce	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  048d1	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2146 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  048d6	6a 0a		 push	 10			; 0000000aH
  048d8	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  048db	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  048e1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  048e7	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  048eb	52		 push	 edx
  048ec	8d 45 e2	 lea	 eax, DWORD PTR _pMsg$[ebp+6]
  048ef	50		 push	 eax
  048f0	e8 00 00 00 00	 call	 _memcpy
  048f5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2147 : 	memcpy(pMsg.FriendName, lpMsg->Name, sizeof(pMsg.FriendName));

  048f8	6a 0a		 push	 10			; 0000000aH
  048fa	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  048fd	83 c0 03	 add	 eax, 3
  04900	50		 push	 eax
  04901	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$[ebp+16]
  04904	51		 push	 ecx
  04905	e8 00 00 00 00	 call	 _memcpy
  0490a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2148 : 	pMsg.Number = aIndex;

  0490d	66 8b 45 0c	 mov	 ax, WORD PTR _aIndex$[ebp]
  04911	66 89 45 e0	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 2149 : 	char_ID szFriendName(lpMsg->Name);

  04915	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04918	83 c0 03	 add	 eax, 3
  0491b	50		 push	 eax
  0491c	8d 4d d0	 lea	 ecx, DWORD PTR _szFriendName$[ebp]
  0491f	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2150 : 	
; 2151 : 	LogAdd("[%s] Friend add request Name: [%s]", gObj[aIndex].Name,	szFriendName.GetBuffer());

  04924	8d 4d d0	 lea	 ecx, DWORD PTR _szFriendName$[ebp]
  04927	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  0492c	50		 push	 eax
  0492d	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04930	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04936	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0493c	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  04940	52		 push	 edx
  04941	68 00 00 00 00	 push	 OFFSET ??_C@_0CD@OOGOJAIC@?$FL?$CFs?$FN?5Friend?5add?5request?5Name?3?5?$FL?$CF@
  04946	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0494c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2152 : 
; 2153 : 	if ( !strcmp(gObj[aIndex].Name, szFriendName.GetBuffer()))

  0494f	8d 4d d0	 lea	 ecx, DWORD PTR _szFriendName$[ebp]
  04952	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04957	50		 push	 eax
  04958	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0495b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04961	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04967	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  0496b	52		 push	 edx
  0496c	e8 00 00 00 00	 call	 _strcmp
  04971	83 c4 08	 add	 esp, 8
  04974	85 c0		 test	 eax, eax
  04976	75 66		 jne	 SHORT $LN2@FriendAddR

; 2154 : 	{
; 2155 : 		LogAdd("error-L3 : [%s] Friend add : Not self", gObj[aIndex].Name);

  04978	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0497b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04981	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04987	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  0498b	52		 push	 edx
  0498c	68 00 00 00 00	 push	 OFFSET ??_C@_0CG@JNIACLCP@error?9L3?5?3?5?$FL?$CFs?$FN?5Friend?5add?5?3?5Not@
  04991	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  04997	83 c4 08	 add	 esp, 8

; 2156 : 		
; 2157 : 		PMSG_FRIEND_ADD_RESULT pResult;
; 2158 : 
; 2159 : 		pResult.h.set((LPBYTE)&pResult, 0xC1, sizeof(pResult));

  0499a	6a 0f		 push	 15			; 0000000fH
  0499c	68 c1 00 00 00	 push	 193			; 000000c1H
  049a1	8d 45 c0	 lea	 eax, DWORD PTR _pResult$233142[ebp]
  049a4	50		 push	 eax
  049a5	8d 4d c0	 lea	 ecx, DWORD PTR _pResult$233142[ebp]
  049a8	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2160 : 		memcpy(pResult.Name, lpMsg->Name, sizeof(pMsg.Name));

  049ad	6a 0a		 push	 10			; 0000000aH
  049af	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  049b2	83 c0 03	 add	 eax, 3
  049b5	50		 push	 eax
  049b6	8d 4d c4	 lea	 ecx, DWORD PTR _pResult$233142[ebp+4]
  049b9	51		 push	 ecx
  049ba	e8 00 00 00 00	 call	 _memcpy
  049bf	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2161 : 		pResult.Result = 5;

  049c2	c6 45 c3 05	 mov	 BYTE PTR _pResult$233142[ebp+3], 5

; 2162 : 		pResult.State = -1;

  049c6	c6 45 ce ff	 mov	 BYTE PTR _pResult$233142[ebp+14], 255 ; 000000ffH

; 2163 : 
; 2164 : 		DataSend(aIndex, (LPBYTE)&pResult, sizeof(pResult));

  049ca	6a 0f		 push	 15			; 0000000fH
  049cc	8d 45 c0	 lea	 eax, DWORD PTR _pResult$233142[ebp]
  049cf	50		 push	 eax
  049d0	8b 4d 0c	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  049d3	51		 push	 ecx
  049d4	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  049d9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2165 : 	}
; 2166 : 	else

  049dc	eb 13		 jmp	 SHORT $LN5@FriendAddR
$LN2@FriendAddR:

; 2167 : 	{
; 2168 : 		wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  049de	0f b6 45 dd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  049e2	50		 push	 eax
  049e3	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  049e6	51		 push	 ecx
  049e7	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  049ec	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
$LN5@FriendAddR:

; 2169 : 	}
; 2170 : }		

  049f1	5f		 pop	 edi
  049f2	5e		 pop	 esi
  049f3	5b		 pop	 ebx
  049f4	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  049f7	33 cd		 xor	 ecx, ebp
  049f9	e8 00 00 00 00	 call	 @__security_check_cookie@4
  049fe	8b e5		 mov	 esp, ebp
  04a00	5d		 pop	 ebp
  04a01	c3		 ret	 0
?FriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_REQ@@H@Z ENDP	; FriendAddRequest
_TEXT	ENDS
PUBLIC	??_C@_0DB@NPDFCIKD@?$FL?$CFs?$FN?5Friend?5add?5result?5?3?5?$CI?$CFd?$CJ?5fr@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendAddResult@@YAXPAUFHP_FRIEND_ADD_RESULT@@@Z@4JA ; `FriendAddResult'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0DB@NPDFCIKD@?$FL?$CFs?$FN?5Friend?5add?5result?5?3?5?$CI?$CFd?$CJ?5fr@
CONST	SEGMENT
??_C@_0DB@NPDFCIKD@?$FL?$CFs?$FN?5Friend?5add?5result?5?3?5?$CI?$CFd?$CJ?5fr@ DB '['
	DB	'%s] Friend add result : (%d) friend Name : (%s)', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendAddResult@@YAXPAUFHP_FRIEND_ADD_RESULT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendAddResult@@YAXPAUFHP_FRIEND_ADD_RESULT@@@Z@4JA DD 087dH ; `FriendAddResult'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_szFriendName$ = -44					; size = 11
_pMsg$ = -32						; size = 15
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendAddResult@@YAXPAUFHP_FRIEND_ADD_RESULT@@@Z PROC	; FriendAddResult

; 2173 : {

  04a10	55		 push	 ebp
  04a11	8b ec		 mov	 ebp, esp
  04a13	83 ec 6c	 sub	 esp, 108		; 0000006cH
  04a16	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  04a1b	33 c5		 xor	 eax, ebp
  04a1d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  04a20	53		 push	 ebx
  04a21	56		 push	 esi
  04a22	57		 push	 edi

; 2174 : 	char_ID Name(lpMsg->Name);

  04a23	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04a26	83 c0 07	 add	 eax, 7
  04a29	50		 push	 eax
  04a2a	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  04a2d	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2175 : 
; 2176 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  04a32	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  04a35	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04a3a	50		 push	 eax
  04a3b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04a3e	0f bf 48 04	 movsx	 ecx, WORD PTR [eax+4]
  04a42	51		 push	 ecx
  04a43	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  04a48	83 c4 08	 add	 esp, 8
  04a4b	85 c0		 test	 eax, eax
  04a4d	75 21		 jne	 SHORT $LN1@FriendAddR@2

; 2177 : 	{
; 2178 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  04a4f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendAddResult@@YAXPAUFHP_FRIEND_ADD_RESULT@@@Z@4JA
  04a54	83 c0 05	 add	 eax, 5
  04a57	50		 push	 eax
  04a58	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  04a5d	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  04a62	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04a68	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2179 : 		return;

  04a6b	e9 87 00 00 00	 jmp	 $LN2@FriendAddR@2
$LN1@FriendAddR@2:

; 2180 : 	}
; 2181 : 
; 2182 : 	PMSG_FRIEND_ADD_RESULT pMsg;
; 2183 : 	char_ID szFriendName(lpMsg->FriendName);

  04a70	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04a73	83 c0 11	 add	 eax, 17			; 00000011H
  04a76	50		 push	 eax
  04a77	8d 4d d4	 lea	 ecx, DWORD PTR _szFriendName$[ebp]
  04a7a	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2184 : 
; 2185 : 	pMsg.h.set((LPBYTE)&pMsg, 0xC1, sizeof(pMsg));

  04a7f	6a 0f		 push	 15			; 0000000fH
  04a81	68 c1 00 00 00	 push	 193			; 000000c1H
  04a86	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04a89	50		 push	 eax
  04a8a	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04a8d	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2186 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  04a92	6a 0a		 push	 10			; 0000000aH
  04a94	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04a97	83 c0 11	 add	 eax, 17			; 00000011H
  04a9a	50		 push	 eax
  04a9b	8d 4d e4	 lea	 ecx, DWORD PTR _pMsg$[ebp+4]
  04a9e	51		 push	 ecx
  04a9f	e8 00 00 00 00	 call	 _memcpy
  04aa4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2187 : 	pMsg.Result = lpMsg->Result;

  04aa7	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04aaa	8a 48 06	 mov	 cl, BYTE PTR [eax+6]
  04aad	88 4d e3	 mov	 BYTE PTR _pMsg$[ebp+3], cl

; 2188 : 	pMsg.State = lpMsg->Server;

  04ab0	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04ab3	8a 48 1b	 mov	 cl, BYTE PTR [eax+27]
  04ab6	88 4d ee	 mov	 BYTE PTR _pMsg$[ebp+14], cl

; 2189 : 
; 2190 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  04ab9	6a 0f		 push	 15			; 0000000fH
  04abb	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04abe	50		 push	 eax
  04abf	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  04ac2	0f bf 51 04	 movsx	 edx, WORD PTR [ecx+4]
  04ac6	52		 push	 edx
  04ac7	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  04acc	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2191 : 
; 2192 : 	LogAdd("[%s] Friend add result : (%d) friend Name : (%s)", Name.GetBuffer(), lpMsg->Result, szFriendName.GetBuffer());

  04acf	8d 4d d4	 lea	 ecx, DWORD PTR _szFriendName$[ebp]
  04ad2	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04ad7	50		 push	 eax
  04ad8	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04adb	0f b6 48 06	 movzx	 ecx, BYTE PTR [eax+6]
  04adf	51		 push	 ecx
  04ae0	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  04ae3	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04ae8	50		 push	 eax
  04ae9	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@NPDFCIKD@?$FL?$CFs?$FN?5Friend?5add?5result?5?3?5?$CI?$CFd?$CJ?5fr@
  04aee	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  04af4	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@FriendAddR@2:

; 2193 : }

  04af7	5f		 pop	 edi
  04af8	5e		 pop	 esi
  04af9	5b		 pop	 ebx
  04afa	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  04afd	33 cd		 xor	 ecx, ebp
  04aff	e8 00 00 00 00	 call	 @__security_check_cookie@4
  04b04	8b e5		 mov	 esp, ebp
  04b06	5d		 pop	 ebp
  04b07	c3		 ret	 0
?FriendAddResult@@YAXPAUFHP_FRIEND_ADD_RESULT@@@Z ENDP	; FriendAddResult
_TEXT	ENDS
PUBLIC	??_C@_0CB@IIBIOFAA@?$FL?$CFs?$FN?5WaitFriend?5add?5request?5?$FL?$CFs?$FN@ ; `string'
PUBLIC	?__LINE__Var@?1??WaitFriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_SIN_RESULT@@H@Z@4JA ; `WaitFriendAddRequest'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
PUBLIC	?WaitFriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_SIN_RESULT@@H@Z ; WaitFriendAddRequest
;	COMDAT ??_C@_0CB@IIBIOFAA@?$FL?$CFs?$FN?5WaitFriend?5add?5request?5?$FL?$CFs?$FN@
CONST	SEGMENT
??_C@_0CB@IIBIOFAA@?$FL?$CFs?$FN?5WaitFriend?5add?5request?5?$FL?$CFs?$FN@ DB '['
	DB	'%s] WaitFriend add request [%s]', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??WaitFriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_SIN_RESULT@@H@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??WaitFriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_SIN_RESULT@@H@Z@4JA DD 089dH ; `WaitFriendAddRequest'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_fname$233179 = -44					; size = 11
_pMsg$ = -32						; size = 26
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?WaitFriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_SIN_RESULT@@H@Z PROC ; WaitFriendAddRequest

; 2205 : {

  04b10	55		 push	 ebp
  04b11	8b ec		 mov	 ebp, esp
  04b13	83 ec 6c	 sub	 esp, 108		; 0000006cH
  04b16	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  04b1b	33 c5		 xor	 eax, ebp
  04b1d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  04b20	53		 push	 ebx
  04b21	56		 push	 esi
  04b22	57		 push	 edi

; 2206 : 	if ( !gObjIsConnectedGP(aIndex))

  04b23	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04b26	50		 push	 eax
  04b27	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  04b2c	83 c4 04	 add	 esp, 4
  04b2f	85 c0		 test	 eax, eax
  04b31	75 21		 jne	 SHORT $LN1@WaitFriend@2

; 2207 : 	{
; 2208 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  04b33	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??WaitFriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_SIN_RESULT@@H@Z@4JA
  04b38	83 c0 03	 add	 eax, 3
  04b3b	50		 push	 eax
  04b3c	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  04b41	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  04b46	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04b4c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2209 : 		return;

  04b4f	e9 a5 00 00 00	 jmp	 $LN2@WaitFriend@2
$LN1@WaitFriend@2:

; 2210 : 	}
; 2211 : 
; 2212 : 	FHP_WAITFRIEND_ADD_REQ pMsg;
; 2213 : 
; 2214 : 	pMsg.h.set((LPBYTE)&pMsg, 0x64, sizeof(pMsg));

  04b54	6a 1a		 push	 26			; 0000001aH
  04b56	6a 64		 push	 100			; 00000064H
  04b58	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04b5b	50		 push	 eax
  04b5c	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04b5f	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2215 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  04b64	6a 0a		 push	 10			; 0000000aH
  04b66	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04b69	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04b6f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04b75	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  04b79	52		 push	 edx
  04b7a	8d 45 e6	 lea	 eax, DWORD PTR _pMsg$[ebp+6]
  04b7d	50		 push	 eax
  04b7e	e8 00 00 00 00	 call	 _memcpy
  04b83	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2216 : 	memcpy(pMsg.FriendName, lpMsg->Name, sizeof(pMsg.FriendName));

  04b86	6a 0a		 push	 10			; 0000000aH
  04b88	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04b8b	83 c0 04	 add	 eax, 4
  04b8e	50		 push	 eax
  04b8f	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$[ebp+16]
  04b92	51		 push	 ecx
  04b93	e8 00 00 00 00	 call	 _memcpy
  04b98	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2217 : 	pMsg.Result = lpMsg->Result;

  04b9b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04b9e	8a 48 03	 mov	 cl, BYTE PTR [eax+3]
  04ba1	88 4d e3	 mov	 BYTE PTR _pMsg$[ebp+3], cl

; 2218 : 	pMsg.Number = aIndex;

  04ba4	66 8b 45 0c	 mov	 ax, WORD PTR _aIndex$[ebp]
  04ba8	66 89 45 e4	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 2219 : 
; 2220 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  04bac	0f b6 45 e1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  04bb0	50		 push	 eax
  04bb1	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04bb4	51		 push	 ecx
  04bb5	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  04bba	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2221 : 
; 2222 : 	{
; 2223 : 		char_ID fname(lpMsg->Name);

  04bbf	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04bc2	83 c0 04	 add	 eax, 4
  04bc5	50		 push	 eax
  04bc6	8d 4d d4	 lea	 ecx, DWORD PTR _fname$233179[ebp]
  04bc9	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2224 : 		LogAdd("[%s] WaitFriend add request [%s]", gObj[aIndex].Name, fname.GetBuffer());

  04bce	8d 4d d4	 lea	 ecx, DWORD PTR _fname$233179[ebp]
  04bd1	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04bd6	50		 push	 eax
  04bd7	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04bda	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04be0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04be6	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  04bea	52		 push	 edx
  04beb	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@IIBIOFAA@?$FL?$CFs?$FN?5WaitFriend?5add?5request?5?$FL?$CFs?$FN@
  04bf0	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  04bf6	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@WaitFriend@2:

; 2225 : 	}
; 2226 : }

  04bf9	5f		 pop	 edi
  04bfa	5e		 pop	 esi
  04bfb	5b		 pop	 ebx
  04bfc	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  04bff	33 cd		 xor	 ecx, ebp
  04c01	e8 00 00 00 00	 call	 @__security_check_cookie@4
  04c06	8b e5		 mov	 esp, ebp
  04c08	5d		 pop	 ebp
  04c09	c3		 ret	 0
?WaitFriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_SIN_RESULT@@H@Z ENDP ; WaitFriendAddRequest
_TEXT	ENDS
PUBLIC	??_C@_0CF@CCKIBLLA@?$FL?$CFs?$FN?5WaitFriend?5add?5result?5?$CI?$CFd?$CJ?5@ ; `string'
PUBLIC	?__LINE__Var@?1??WaitFriendAddResult@@YAXPAUFHP_WAITFRIEND_ADD_RESULT@@@Z@4JA ; `WaitFriendAddResult'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0CF@CCKIBLLA@?$FL?$CFs?$FN?5WaitFriend?5add?5result?5?$CI?$CFd?$CJ?5@
CONST	SEGMENT
??_C@_0CF@CCKIBLLA@?$FL?$CFs?$FN?5WaitFriend?5add?5result?5?$CI?$CFd?$CJ?5@ DB '['
	DB	'%s] WaitFriend add result (%d) [%s]', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??WaitFriendAddResult@@YAXPAUFHP_WAITFRIEND_ADD_RESULT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??WaitFriendAddResult@@YAXPAUFHP_WAITFRIEND_ADD_RESULT@@@Z@4JA DD 08b5H ; `WaitFriendAddResult'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_szFriendName$ = -44					; size = 11
_pMsg$ = -32						; size = 15
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?WaitFriendAddResult@@YAXPAUFHP_WAITFRIEND_ADD_RESULT@@@Z PROC ; WaitFriendAddResult

; 2229 : {

  04c10	55		 push	 ebp
  04c11	8b ec		 mov	 ebp, esp
  04c13	83 ec 6c	 sub	 esp, 108		; 0000006cH
  04c16	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  04c1b	33 c5		 xor	 eax, ebp
  04c1d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  04c20	53		 push	 ebx
  04c21	56		 push	 esi
  04c22	57		 push	 edi

; 2230 : 	char_ID Name(lpMsg->Name);

  04c23	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04c26	83 c0 07	 add	 eax, 7
  04c29	50		 push	 eax
  04c2a	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  04c2d	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2231 : 
; 2232 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  04c32	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  04c35	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04c3a	50		 push	 eax
  04c3b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04c3e	0f bf 48 04	 movsx	 ecx, WORD PTR [eax+4]
  04c42	51		 push	 ecx
  04c43	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  04c48	83 c4 08	 add	 esp, 8
  04c4b	85 c0		 test	 eax, eax
  04c4d	75 21		 jne	 SHORT $LN1@WaitFriend@3

; 2233 : 	{
; 2234 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  04c4f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??WaitFriendAddResult@@YAXPAUFHP_WAITFRIEND_ADD_RESULT@@@Z@4JA
  04c54	83 c0 05	 add	 eax, 5
  04c57	50		 push	 eax
  04c58	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  04c5d	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  04c62	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04c68	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2235 : 		return;

  04c6b	e9 87 00 00 00	 jmp	 $LN2@WaitFriend@3
$LN1@WaitFriend@3:

; 2236 : 	}
; 2237 : 
; 2238 : 	PMSG_FRIEND_ADD_RESULT pMsg;
; 2239 : 
; 2240 : 	pMsg.h.set((LPBYTE)&pMsg, 0xC1, sizeof(pMsg));

  04c70	6a 0f		 push	 15			; 0000000fH
  04c72	68 c1 00 00 00	 push	 193			; 000000c1H
  04c77	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04c7a	50		 push	 eax
  04c7b	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04c7e	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2241 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  04c83	6a 0a		 push	 10			; 0000000aH
  04c85	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04c88	83 c0 11	 add	 eax, 17			; 00000011H
  04c8b	50		 push	 eax
  04c8c	8d 4d e4	 lea	 ecx, DWORD PTR _pMsg$[ebp+4]
  04c8f	51		 push	 ecx
  04c90	e8 00 00 00 00	 call	 _memcpy
  04c95	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2242 : 	pMsg.Result = lpMsg->Result;

  04c98	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04c9b	8a 48 06	 mov	 cl, BYTE PTR [eax+6]
  04c9e	88 4d e3	 mov	 BYTE PTR _pMsg$[ebp+3], cl

; 2243 : 	pMsg.State = lpMsg->pServer;

  04ca1	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04ca4	8a 48 1b	 mov	 cl, BYTE PTR [eax+27]
  04ca7	88 4d ee	 mov	 BYTE PTR _pMsg$[ebp+14], cl

; 2244 : 
; 2245 : 	char_ID szFriendName(lpMsg->FriendName);

  04caa	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04cad	83 c0 11	 add	 eax, 17			; 00000011H
  04cb0	50		 push	 eax
  04cb1	8d 4d d4	 lea	 ecx, DWORD PTR _szFriendName$[ebp]
  04cb4	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2246 : 
; 2247 : 	LogAdd("[%s] WaitFriend add result (%d) [%s]", Name.GetBuffer(), lpMsg->Result, szFriendName.GetBuffer());

  04cb9	8d 4d d4	 lea	 ecx, DWORD PTR _szFriendName$[ebp]
  04cbc	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04cc1	50		 push	 eax
  04cc2	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04cc5	0f b6 48 06	 movzx	 ecx, BYTE PTR [eax+6]
  04cc9	51		 push	 ecx
  04cca	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  04ccd	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04cd2	50		 push	 eax
  04cd3	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@CCKIBLLA@?$FL?$CFs?$FN?5WaitFriend?5add?5result?5?$CI?$CFd?$CJ?5@
  04cd8	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  04cde	83 c4 10	 add	 esp, 16			; 00000010H

; 2248 : 
; 2249 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  04ce1	6a 0f		 push	 15			; 0000000fH
  04ce3	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04ce6	50		 push	 eax
  04ce7	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  04cea	0f bf 51 04	 movsx	 edx, WORD PTR [ecx+4]
  04cee	52		 push	 edx
  04cef	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  04cf4	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@WaitFriend@3:

; 2250 : }

  04cf7	5f		 pop	 edi
  04cf8	5e		 pop	 esi
  04cf9	5b		 pop	 ebx
  04cfa	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  04cfd	33 cd		 xor	 ecx, ebp
  04cff	e8 00 00 00 00	 call	 @__security_check_cookie@4
  04d04	8b e5		 mov	 esp, ebp
  04d06	5d		 pop	 ebp
  04d07	c3		 ret	 0
?WaitFriendAddResult@@YAXPAUFHP_WAITFRIEND_ADD_RESULT@@@Z ENDP ; WaitFriendAddResult
_TEXT	ENDS
PUBLIC	??_C@_0BN@HLFBKLAE@?$FL?$CFs?$FN?5Friend?5del?5request?5?$FL?$CFs?$FN?$AA@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendDelRequest@@YAXPAUPMSG_FRIEND_DEL_REQ@@H@Z@4JA ; `FriendDelRequest'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
PUBLIC	?FriendDelRequest@@YAXPAUPMSG_FRIEND_DEL_REQ@@H@Z ; FriendDelRequest
;	COMDAT ??_C@_0BN@HLFBKLAE@?$FL?$CFs?$FN?5Friend?5del?5request?5?$FL?$CFs?$FN?$AA@
CONST	SEGMENT
??_C@_0BN@HLFBKLAE@?$FL?$CFs?$FN?5Friend?5del?5request?5?$FL?$CFs?$FN?$AA@ DB '['
	DB	'%s] Friend del request [%s]', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendDelRequest@@YAXPAUPMSG_FRIEND_DEL_REQ@@H@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendDelRequest@@YAXPAUPMSG_FRIEND_DEL_REQ@@H@Z@4JA DD 08cdH ; `FriendDelRequest'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_Name$ = -44						; size = 11
_pMsg$ = -32						; size = 26
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendDelRequest@@YAXPAUPMSG_FRIEND_DEL_REQ@@H@Z PROC	; FriendDelRequest

; 2253 : {

  04d10	55		 push	 ebp
  04d11	8b ec		 mov	 ebp, esp
  04d13	83 ec 6c	 sub	 esp, 108		; 0000006cH
  04d16	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  04d1b	33 c5		 xor	 eax, ebp
  04d1d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  04d20	53		 push	 ebx
  04d21	56		 push	 esi
  04d22	57		 push	 edi

; 2254 : 	if ( !gObjIsConnectedGP(aIndex))

  04d23	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04d26	50		 push	 eax
  04d27	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  04d2c	83 c4 04	 add	 esp, 4
  04d2f	85 c0		 test	 eax, eax
  04d31	75 21		 jne	 SHORT $LN1@FriendDelR

; 2255 : 	{
; 2256 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  04d33	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendDelRequest@@YAXPAUPMSG_FRIEND_DEL_REQ@@H@Z@4JA
  04d38	83 c0 03	 add	 eax, 3
  04d3b	50		 push	 eax
  04d3c	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  04d41	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  04d46	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04d4c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2257 : 		return;

  04d4f	e9 9e 00 00 00	 jmp	 $LN2@FriendDelR
$LN1@FriendDelR:

; 2258 : 	}
; 2259 : 
; 2260 : 	FHP_FRIEND_ADD_REQ pMsg;
; 2261 : 	char_ID Name(lpMsg->Name);

  04d54	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04d57	83 c0 03	 add	 eax, 3
  04d5a	50		 push	 eax
  04d5b	8d 4d d4	 lea	 ecx, DWORD PTR _Name$[ebp]
  04d5e	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2262 : 
; 2263 : 	pMsg.h.set((LPBYTE)&pMsg, 0x65, sizeof(pMsg));

  04d63	6a 1a		 push	 26			; 0000001aH
  04d65	6a 65		 push	 101			; 00000065H
  04d67	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04d6a	50		 push	 eax
  04d6b	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04d6e	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2264 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  04d73	6a 0a		 push	 10			; 0000000aH
  04d75	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04d78	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04d7e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04d84	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  04d88	52		 push	 edx
  04d89	8d 45 e6	 lea	 eax, DWORD PTR _pMsg$[ebp+6]
  04d8c	50		 push	 eax
  04d8d	e8 00 00 00 00	 call	 _memcpy
  04d92	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2265 : 	memcpy(pMsg.FriendName, Name.GetBuffer(), sizeof(pMsg.FriendName));

  04d95	6a 0a		 push	 10			; 0000000aH
  04d97	8d 4d d4	 lea	 ecx, DWORD PTR _Name$[ebp]
  04d9a	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04d9f	50		 push	 eax
  04da0	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$[ebp+16]
  04da3	50		 push	 eax
  04da4	e8 00 00 00 00	 call	 _memcpy
  04da9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2266 : 	pMsg.Number = aIndex;

  04dac	66 8b 45 0c	 mov	 ax, WORD PTR _aIndex$[ebp]
  04db0	66 89 45 e4	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 2267 : 
; 2268 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  04db4	0f b6 45 e1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  04db8	50		 push	 eax
  04db9	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04dbc	51		 push	 ecx
  04dbd	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  04dc2	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2269 : 
; 2270 : 	LogAddTD("[%s] Friend del request [%s]", gObj[aIndex].Name, Name.GetBuffer());

  04dc7	8d 4d d4	 lea	 ecx, DWORD PTR _Name$[ebp]
  04dca	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04dcf	50		 push	 eax
  04dd0	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04dd3	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04dd9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04ddf	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  04de3	52		 push	 edx
  04de4	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@HLFBKLAE@?$FL?$CFs?$FN?5Friend?5del?5request?5?$FL?$CFs?$FN?$AA@
  04de9	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04def	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@FriendDelR:

; 2271 : }

  04df2	5f		 pop	 edi
  04df3	5e		 pop	 esi
  04df4	5b		 pop	 ebx
  04df5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  04df8	33 cd		 xor	 ecx, ebp
  04dfa	e8 00 00 00 00	 call	 @__security_check_cookie@4
  04dff	8b e5		 mov	 esp, ebp
  04e01	5d		 pop	 ebp
  04e02	c3		 ret	 0
?FriendDelRequest@@YAXPAUPMSG_FRIEND_DEL_REQ@@H@Z ENDP	; FriendDelRequest
_TEXT	ENDS
PUBLIC	??_C@_0CB@NCMBHLMH@?$FL?$CFs?$FN?5Friend?5del?5result?5?$CI?$CFd?$CJ?5?$FL?$CFs?$FN@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendDelResult@@YAXPAUFHP_FRIEND_DEL_RESULT@@@Z@4JA ; `FriendDelResult'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0CB@NCMBHLMH@?$FL?$CFs?$FN?5Friend?5del?5result?5?$CI?$CFd?$CJ?5?$FL?$CFs?$FN@
CONST	SEGMENT
??_C@_0CB@NCMBHLMH@?$FL?$CFs?$FN?5Friend?5del?5result?5?$CI?$CFd?$CJ?5?$FL?$CFs?$FN@ DB '['
	DB	'%s] Friend del result (%d) [%s]', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendDelResult@@YAXPAUFHP_FRIEND_DEL_RESULT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendDelResult@@YAXPAUFHP_FRIEND_DEL_RESULT@@@Z@4JA DD 08e9H ; `FriendDelResult'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_FriendName$ = -44					; size = 11
_pMsg$ = -32						; size = 14
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendDelResult@@YAXPAUFHP_FRIEND_DEL_RESULT@@@Z PROC	; FriendDelResult

; 2281 : {

  04e10	55		 push	 ebp
  04e11	8b ec		 mov	 ebp, esp
  04e13	83 ec 6c	 sub	 esp, 108		; 0000006cH
  04e16	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  04e1b	33 c5		 xor	 eax, ebp
  04e1d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  04e20	53		 push	 ebx
  04e21	56		 push	 esi
  04e22	57		 push	 edi

; 2282 : 	char_ID Name(lpMsg->Name);

  04e23	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04e26	83 c0 07	 add	 eax, 7
  04e29	50		 push	 eax
  04e2a	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  04e2d	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2283 : 
; 2284 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  04e32	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  04e35	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04e3a	50		 push	 eax
  04e3b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04e3e	0f bf 48 04	 movsx	 ecx, WORD PTR [eax+4]
  04e42	51		 push	 ecx
  04e43	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  04e48	83 c4 08	 add	 esp, 8
  04e4b	85 c0		 test	 eax, eax
  04e4d	75 1e		 jne	 SHORT $LN1@FriendDelR@2

; 2285 : 	{
; 2286 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  04e4f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendDelResult@@YAXPAUFHP_FRIEND_DEL_RESULT@@@Z@4JA
  04e54	83 c0 05	 add	 eax, 5
  04e57	50		 push	 eax
  04e58	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  04e5d	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  04e62	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04e68	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2287 : 		return;

  04e6b	eb 7e		 jmp	 SHORT $LN2@FriendDelR@2
$LN1@FriendDelR@2:

; 2288 : 	}
; 2289 : 
; 2290 : 	PMSG_FRIEND_DEL_RESULT pMsg;
; 2291 : 	char_ID FriendName(lpMsg->FriendName);

  04e6d	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04e70	83 c0 11	 add	 eax, 17			; 00000011H
  04e73	50		 push	 eax
  04e74	8d 4d d4	 lea	 ecx, DWORD PTR _FriendName$[ebp]
  04e77	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2292 : 
; 2293 : 	pMsg.h.set((LPBYTE)&pMsg, 0xC3, sizeof(pMsg));

  04e7c	6a 0e		 push	 14			; 0000000eH
  04e7e	68 c3 00 00 00	 push	 195			; 000000c3H
  04e83	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04e86	50		 push	 eax
  04e87	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04e8a	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2294 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  04e8f	6a 0a		 push	 10			; 0000000aH
  04e91	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04e94	83 c0 11	 add	 eax, 17			; 00000011H
  04e97	50		 push	 eax
  04e98	8d 4d e4	 lea	 ecx, DWORD PTR _pMsg$[ebp+4]
  04e9b	51		 push	 ecx
  04e9c	e8 00 00 00 00	 call	 _memcpy
  04ea1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2295 : 	pMsg.Result = lpMsg->Result;

  04ea4	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04ea7	8a 48 06	 mov	 cl, BYTE PTR [eax+6]
  04eaa	88 4d e3	 mov	 BYTE PTR _pMsg$[ebp+3], cl

; 2296 : 
; 2297 : 	LogAdd("[%s] Friend del result (%d) [%s]",
; 2298 : 		Name.GetBuffer(), lpMsg->Result, FriendName.GetBuffer());

  04ead	8d 4d d4	 lea	 ecx, DWORD PTR _FriendName$[ebp]
  04eb0	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04eb5	50		 push	 eax
  04eb6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04eb9	0f b6 48 06	 movzx	 ecx, BYTE PTR [eax+6]
  04ebd	51		 push	 ecx
  04ebe	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  04ec1	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04ec6	50		 push	 eax
  04ec7	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@NCMBHLMH@?$FL?$CFs?$FN?5Friend?5del?5result?5?$CI?$CFd?$CJ?5?$FL?$CFs?$FN@
  04ecc	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  04ed2	83 c4 10	 add	 esp, 16			; 00000010H

; 2299 : 
; 2300 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  04ed5	6a 0e		 push	 14			; 0000000eH
  04ed7	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04eda	50		 push	 eax
  04edb	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  04ede	0f bf 51 04	 movsx	 edx, WORD PTR [ecx+4]
  04ee2	52		 push	 edx
  04ee3	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  04ee8	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@FriendDelR@2:

; 2301 : }

  04eeb	5f		 pop	 edi
  04eec	5e		 pop	 esi
  04eed	5b		 pop	 ebx
  04eee	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  04ef1	33 cd		 xor	 ecx, ebp
  04ef3	e8 00 00 00 00	 call	 @__security_check_cookie@4
  04ef8	8b e5		 mov	 esp, ebp
  04efa	5d		 pop	 ebp
  04efb	c3		 ret	 0
?FriendDelResult@@YAXPAUFHP_FRIEND_DEL_RESULT@@@Z ENDP	; FriendDelResult
_TEXT	ENDS
PUBLIC	??_C@_0CC@HAGNMCFJ@?$FL?$CFs?$FN?5Chatroom?5create?5request?5?$FL?$CFs@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendChatRoomCreateReq@@YAXPAUPMSG_FRIEND_ROOMCREATE_REQ@@H@Z@4JA ; `FriendChatRoomCreateReq'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
PUBLIC	?FriendChatRoomCreateReq@@YAXPAUPMSG_FRIEND_ROOMCREATE_REQ@@H@Z ; FriendChatRoomCreateReq
;	COMDAT ??_C@_0CC@HAGNMCFJ@?$FL?$CFs?$FN?5Chatroom?5create?5request?5?$FL?$CFs@
CONST	SEGMENT
??_C@_0CC@HAGNMCFJ@?$FL?$CFs?$FN?5Chatroom?5create?5request?5?$FL?$CFs@ DB '['
	DB	'%s] Chatroom create request [%s]', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendChatRoomCreateReq@@YAXPAUPMSG_FRIEND_ROOMCREATE_REQ@@H@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendChatRoomCreateReq@@YAXPAUPMSG_FRIEND_ROOMCREATE_REQ@@H@Z@4JA DD 0908H ; `FriendChatRoomCreateReq'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_szName$ = -44						; size = 11
_pMsg$ = -32						; size = 26
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendChatRoomCreateReq@@YAXPAUPMSG_FRIEND_ROOMCREATE_REQ@@H@Z PROC ; FriendChatRoomCreateReq

; 2312 : {

  04f00	55		 push	 ebp
  04f01	8b ec		 mov	 ebp, esp
  04f03	83 ec 6c	 sub	 esp, 108		; 0000006cH
  04f06	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  04f0b	33 c5		 xor	 eax, ebp
  04f0d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  04f10	53		 push	 ebx
  04f11	56		 push	 esi
  04f12	57		 push	 edi

; 2313 : 	if ( !gObjIsConnectedGP(aIndex))

  04f13	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04f16	50		 push	 eax
  04f17	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  04f1c	83 c4 04	 add	 esp, 4
  04f1f	85 c0		 test	 eax, eax
  04f21	75 21		 jne	 SHORT $LN1@FriendChat

; 2314 : 	{
; 2315 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  04f23	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendChatRoomCreateReq@@YAXPAUPMSG_FRIEND_ROOMCREATE_REQ@@H@Z@4JA
  04f28	83 c0 03	 add	 eax, 3
  04f2b	50		 push	 eax
  04f2c	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  04f31	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  04f36	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04f3c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2316 : 		return;

  04f3f	e9 9c 00 00 00	 jmp	 $LN2@FriendChat
$LN1@FriendChat:

; 2317 : 	}
; 2318 : 
; 2319 : 	FHP_FRIEND_CHATROOM_CREATE_REQ pMsg;
; 2320 : 
; 2321 : 	pMsg.h.set((LPBYTE)&pMsg, 0x66, sizeof(pMsg));

  04f44	6a 1a		 push	 26			; 0000001aH
  04f46	6a 66		 push	 102			; 00000066H
  04f48	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04f4b	50		 push	 eax
  04f4c	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04f4f	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2322 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  04f54	6a 0a		 push	 10			; 0000000aH
  04f56	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04f59	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04f5f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04f65	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  04f69	52		 push	 edx
  04f6a	8d 45 e6	 lea	 eax, DWORD PTR _pMsg$[ebp+6]
  04f6d	50		 push	 eax
  04f6e	e8 00 00 00 00	 call	 _memcpy
  04f73	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2323 : 	pMsg.Number = aIndex;

  04f76	66 8b 45 0c	 mov	 ax, WORD PTR _aIndex$[ebp]
  04f7a	66 89 45 e4	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 2324 : 	memcpy(pMsg.fName, lpMsg->Name, sizeof(pMsg.fName));

  04f7e	6a 0a		 push	 10			; 0000000aH
  04f80	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04f83	83 c0 03	 add	 eax, 3
  04f86	50		 push	 eax
  04f87	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$[ebp+16]
  04f8a	51		 push	 ecx
  04f8b	e8 00 00 00 00	 call	 _memcpy
  04f90	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2325 : 	
; 2326 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  04f93	0f b6 45 e1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  04f97	50		 push	 eax
  04f98	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04f9b	51		 push	 ecx
  04f9c	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  04fa1	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2327 : 
; 2328 : 	char_ID szName(lpMsg->Name);

  04fa6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  04fa9	83 c0 03	 add	 eax, 3
  04fac	50		 push	 eax
  04fad	8d 4d d4	 lea	 ecx, DWORD PTR _szName$[ebp]
  04fb0	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2329 : 
; 2330 : 	LogAdd("[%s] Chatroom create request [%s]", gObj[aIndex].Name, szName.GetBuffer());

  04fb5	8d 4d d4	 lea	 ecx, DWORD PTR _szName$[ebp]
  04fb8	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  04fbd	50		 push	 eax
  04fbe	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04fc1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04fc7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04fcd	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  04fd1	52		 push	 edx
  04fd2	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@HAGNMCFJ@?$FL?$CFs?$FN?5Chatroom?5create?5request?5?$FL?$CFs@
  04fd7	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  04fdd	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@FriendChat:

; 2331 : }

  04fe0	5f		 pop	 edi
  04fe1	5e		 pop	 esi
  04fe2	5b		 pop	 ebx
  04fe3	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  04fe6	33 cd		 xor	 ecx, ebp
  04fe8	e8 00 00 00 00	 call	 @__security_check_cookie@4
  04fed	8b e5		 mov	 esp, ebp
  04fef	5d		 pop	 ebp
  04ff0	c3		 ret	 0
?FriendChatRoomCreateReq@@YAXPAUPMSG_FRIEND_ROOMCREATE_REQ@@H@Z ENDP ; FriendChatRoomCreateReq
_TEXT	ENDS
PUBLIC	??_C@_0CN@LPLKDCJE@?$FL?$CFs?$FN?5Chatroom?5create?5result?5?$CI?$CFd?$CJ@ ; `string'
PUBLIC	?setE@PBMSG_HEAD@@QAEXPAEEE@Z			; PBMSG_HEAD::setE
PUBLIC	??_C@_0BM@JEKCBGDH@error?9L2?5?3?5Index?5?$CFs?5?$CFd?5?$CI?$CFs?$CJ?$AA@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendChatRoomCreateResult@@YAXPAUFHP_FRIEND_CHATROOM_CREATE_RESULT@@@Z@4JA ; `FriendChatRoomCreateResult'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0CN@LPLKDCJE@?$FL?$CFs?$FN?5Chatroom?5create?5result?5?$CI?$CFd?$CJ@
CONST	SEGMENT
??_C@_0CN@LPLKDCJE@?$FL?$CFs?$FN?5Chatroom?5create?5result?5?$CI?$CFd?$CJ@ DB '['
	DB	'%s] Chatroom create result (%d) ticket:(%d)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BM@JEKCBGDH@error?9L2?5?3?5Index?5?$CFs?5?$CFd?5?$CI?$CFs?$CJ?$AA@
CONST	SEGMENT
??_C@_0BM@JEKCBGDH@error?9L2?5?3?5Index?5?$CFs?5?$CFd?5?$CI?$CFs?$CJ?$AA@ DB 'e'
	DB	'rror-L2 : Index %s %d (%s)', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendChatRoomCreateResult@@YAXPAUFHP_FRIEND_CHATROOM_CREATE_RESULT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendChatRoomCreateResult@@YAXPAUFHP_FRIEND_CHATROOM_CREATE_RESULT@@@Z@4JA DD 0929H ; `FriendChatRoomCreateResult'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_pMsg$ = -52						; size = 36
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendChatRoomCreateResult@@YAXPAUFHP_FRIEND_CHATROOM_CREATE_RESULT@@@Z PROC ; FriendChatRoomCreateResult

; 2345 : {

  05000	55		 push	 ebp
  05001	8b ec		 mov	 ebp, esp
  05003	83 ec 74	 sub	 esp, 116		; 00000074H
  05006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0500b	33 c5		 xor	 eax, ebp
  0500d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  05010	53		 push	 ebx
  05011	56		 push	 esi
  05012	57		 push	 edi

; 2346 : 	char_ID Name(lpMsg->Name);

  05013	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05016	83 c0 06	 add	 eax, 6
  05019	50		 push	 eax
  0501a	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  0501d	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2347 : 
; 2348 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  05022	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  05025	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  0502a	50		 push	 eax
  0502b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0502e	0f bf 48 04	 movsx	 ecx, WORD PTR [eax+4]
  05032	51		 push	 ecx
  05033	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  05038	83 c4 08	 add	 esp, 8
  0503b	85 c0		 test	 eax, eax
  0503d	75 2a		 jne	 SHORT $LN1@FriendChat@2

; 2349 : 	{
; 2350 : 		LogAddTD("error-L2 : Index %s %d (%s)", __FILE__, __LINE__, Name.GetBuffer());

  0503f	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  05042	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  05047	50		 push	 eax
  05048	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendChatRoomCreateResult@@YAXPAUFHP_FRIEND_CHATROOM_CREATE_RESULT@@@Z@4JA
  0504d	83 c0 05	 add	 eax, 5
  05050	50		 push	 eax
  05051	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  05056	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@JEKCBGDH@error?9L2?5?3?5Index?5?$CFs?5?$CFd?5?$CI?$CFs?$CJ?$AA@
  0505b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05061	83 c4 10	 add	 esp, 16			; 00000010H

; 2351 : 		return;

  05064	e9 ad 00 00 00	 jmp	 $LN2@FriendChat@2
$LN1@FriendChat@2:

; 2352 : 	}
; 2353 : 
; 2354 : 	PMSG_FRIEND_ROOMCREATE_RESULT pMsg;
; 2355 : 
; 2356 : 	pMsg.h.setE((LPBYTE)&pMsg, 0xCA, sizeof(pMsg));

  05069	6a 24		 push	 36			; 00000024H
  0506b	68 ca 00 00 00	 push	 202			; 000000caH
  05070	8d 45 cc	 lea	 eax, DWORD PTR _pMsg$[ebp]
  05073	50		 push	 eax
  05074	8d 4d cc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05077	e8 00 00 00 00	 call	 ?setE@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::setE

; 2357 : 	memcpy(pMsg.ServerIp, lpMsg->ServerIp, sizeof(pMsg.ServerIp));

  0507c	6a 0f		 push	 15			; 0000000fH
  0507e	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05081	83 c0 1a	 add	 eax, 26			; 0000001aH
  05084	50		 push	 eax
  05085	8d 4d cf	 lea	 ecx, DWORD PTR _pMsg$[ebp+3]
  05088	51		 push	 ecx
  05089	e8 00 00 00 00	 call	 _memcpy
  0508e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2358 : 	pMsg.RoomNumber = lpMsg->RoomNumber;

  05091	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05094	66 8b 48 2a	 mov	 cx, WORD PTR [eax+42]
  05098	66 89 4d de	 mov	 WORD PTR _pMsg$[ebp+18], cx

; 2359 : 	pMsg.Ticket = lpMsg->Ticket;

  0509c	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0509f	8b 48 2c	 mov	 ecx, DWORD PTR [eax+44]
  050a2	89 4d e0	 mov	 DWORD PTR _pMsg$[ebp+20], ecx

; 2360 : 	pMsg.Type = lpMsg->Type;

  050a5	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  050a8	8a 48 30	 mov	 cl, BYTE PTR [eax+48]
  050ab	88 4d e4	 mov	 BYTE PTR _pMsg$[ebp+24], cl

; 2361 : 	pMsg.Result = lpMsg->Result;

  050ae	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  050b1	8a 48 03	 mov	 cl, BYTE PTR [eax+3]
  050b4	88 4d ef	 mov	 BYTE PTR _pMsg$[ebp+35], cl

; 2362 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  050b7	6a 0a		 push	 10			; 0000000aH
  050b9	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  050bc	83 c0 10	 add	 eax, 16			; 00000010H
  050bf	50		 push	 eax
  050c0	8d 4d e5	 lea	 ecx, DWORD PTR _pMsg$[ebp+25]
  050c3	51		 push	 ecx
  050c4	e8 00 00 00 00	 call	 _memcpy
  050c9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2363 : 
; 2364 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  050cc	6a 24		 push	 36			; 00000024H
  050ce	8d 45 cc	 lea	 eax, DWORD PTR _pMsg$[ebp]
  050d1	50		 push	 eax
  050d2	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  050d5	0f bf 51 04	 movsx	 edx, WORD PTR [ecx+4]
  050d9	52		 push	 edx
  050da	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  050df	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2365 : 
; 2366 : 	LogAdd("[%s] Chatroom create result (%d) ticket:(%d)", gObj[lpMsg->Number].Name, lpMsg->Result, lpMsg->Ticket);

  050e2	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  050e5	8b 48 2c	 mov	 ecx, DWORD PTR [eax+44]
  050e8	51		 push	 ecx
  050e9	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  050ec	0f b6 42 03	 movzx	 eax, BYTE PTR [edx+3]
  050f0	50		 push	 eax
  050f1	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  050f4	0f bf 51 04	 movsx	 edx, WORD PTR [ecx+4]
  050f8	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  050fe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05103	8d 4c 10 77	 lea	 ecx, DWORD PTR [eax+edx+119]
  05107	51		 push	 ecx
  05108	68 00 00 00 00	 push	 OFFSET ??_C@_0CN@LPLKDCJE@?$FL?$CFs?$FN?5Chatroom?5create?5result?5?$CI?$CFd?$CJ@
  0510d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  05113	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@FriendChat@2:

; 2367 : }

  05116	5f		 pop	 edi
  05117	5e		 pop	 esi
  05118	5b		 pop	 ebx
  05119	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0511c	33 cd		 xor	 ecx, ebp
  0511e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  05123	8b e5		 mov	 esp, ebp
  05125	5d		 pop	 ebp
  05126	c3		 ret	 0
?FriendChatRoomCreateResult@@YAXPAUFHP_FRIEND_CHATROOM_CREATE_RESULT@@@Z ENDP ; FriendChatRoomCreateResult
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\include\prodef.h
_TEXT	ENDS
;	COMDAT ?setE@PBMSG_HEAD@@QAEXPAEEE@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_lpBuf$ = 8						; size = 4
_head$ = 12						; size = 1
_size$ = 16						; size = 1
?setE@PBMSG_HEAD@@QAEXPAEEE@Z PROC			; PBMSG_HEAD::setE, COMDAT
; _this$ = ecx

; 87   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 88   : 		lpBuf[0] = 0xC3;

  0000c	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  0000f	c6 00 c3	 mov	 BYTE PTR [eax], 195	; 000000c3H

; 89   : 		lpBuf[1] = size;

  00012	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  00015	8a 4d 10	 mov	 cl, BYTE PTR _size$[ebp]
  00018	88 48 01	 mov	 BYTE PTR [eax+1], cl

; 90   : 		lpBuf[2] = head;

  0001b	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  0001e	8a 4d 0c	 mov	 cl, BYTE PTR _head$[ebp]
  00021	88 48 02	 mov	 BYTE PTR [eax+2], cl

; 91   : 	};	// line : 29

  00024	5f		 pop	 edi
  00025	5e		 pop	 esi
  00026	5b		 pop	 ebx
  00027	8b e5		 mov	 esp, ebp
  00029	5d		 pop	 ebp
  0002a	c2 0c 00	 ret	 12			; 0000000cH
?setE@PBMSG_HEAD@@QAEXPAEEE@Z ENDP			; PBMSG_HEAD::setE
_TEXT	ENDS
PUBLIC	??_C@_0CD@HIFGHJCH@?$FL?$CFs?$FN?5Friend?5mail?5send?5?$CFs?5?$CISize?3?$CF@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendMemoSend@@YAXPAUPMSG_FRIEND_MEMO@@H@Z@4JA ; `FriendMemoSend'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
PUBLIC	?FriendMemoSend@@YAXPAUPMSG_FRIEND_MEMO@@H@Z	; FriendMemoSend
;	COMDAT ??_C@_0CD@HIFGHJCH@?$FL?$CFs?$FN?5Friend?5mail?5send?5?$CFs?5?$CISize?3?$CF@
; File d:\projects\exteam6.3\source\gameserver\gameserver\edsprotocol.cpp
CONST	SEGMENT
??_C@_0CD@HIFGHJCH@?$FL?$CFs?$FN?5Friend?5mail?5send?5?$CFs?5?$CISize?3?$CF@ DB '['
	DB	'%s] Friend mail send %s (Size:%d)', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendMemoSend@@YAXPAUPMSG_FRIEND_MEMO@@H@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendMemoSend@@YAXPAUPMSG_FRIEND_MEMO@@H@Z@4JA DD 0951H ; `FriendMemoSend'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_bsize$ = -1180						; size = 4
_pMsg$ = -1176						; size = 1088
_pResult$233302 = -88					; size = 24
_pResult$233300 = -64					; size = 24
_pResult$233297 = -40					; size = 24
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendMemoSend@@YAXPAUPMSG_FRIEND_MEMO@@H@Z PROC	; FriendMemoSend

; 2385 : {

  05130	55		 push	 ebp
  05131	8b ec		 mov	 ebp, esp
  05133	81 ec dc 04 00
	00		 sub	 esp, 1244		; 000004dcH
  05139	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0513e	33 c5		 xor	 eax, ebp
  05140	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  05143	53		 push	 ebx
  05144	56		 push	 esi
  05145	57		 push	 edi

; 2386 : 	if ( !gObjIsConnectedGP(aIndex))

  05146	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05149	50		 push	 eax
  0514a	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  0514f	83 c4 04	 add	 esp, 4
  05152	85 c0		 test	 eax, eax
  05154	75 21		 jne	 SHORT $LN5@FriendMemo

; 2387 : 	{
; 2388 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  05156	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendMemoSend@@YAXPAUPMSG_FRIEND_MEMO@@H@Z@4JA
  0515b	83 c0 03	 add	 eax, 3
  0515e	50		 push	 eax
  0515f	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  05164	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  05169	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0516f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2389 : 		return;

  05172	e9 77 02 00 00	 jmp	 $LN6@FriendMemo
$LN5@FriendMemo:

; 2390 : 	}
; 2391 : 
; 2392 : 	char_ID Name(lpMsg->Name);

  05177	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0517a	83 c0 08	 add	 eax, 8
  0517d	50		 push	 eax
  0517e	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  05181	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2393 : 
; 2394 : 	if ( gObj[aIndex].Money < 1000 )

  05186	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05189	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0518f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05195	81 bc 01 f0 00
	00 00 e8 03 00
	00		 cmp	 DWORD PTR [ecx+eax+240], 1000 ; 000003e8H
  051a0	7d 48		 jge	 SHORT $LN4@FriendMemo

; 2395 : 	{
; 2396 : 		FHP_FRIEND_MEMO_SEND_RESULT pResult;
; 2397 : 
; 2398 : 		pResult.Number = aIndex;

  051a2	66 8b 45 0c	 mov	 ax, WORD PTR _aIndex$[ebp]
  051a6	66 89 45 dc	 mov	 WORD PTR _pResult$233297[ebp+4], ax

; 2399 : 		pResult.Result = 7;

  051aa	c6 45 e8 07	 mov	 BYTE PTR _pResult$233297[ebp+16], 7

; 2400 : 		pResult.WindowGuid = lpMsg->WindowGuid;

  051ae	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  051b1	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  051b4	89 4d ec	 mov	 DWORD PTR _pResult$233297[ebp+20], ecx

; 2401 : 		memcpy(pResult.Name, gObj[aIndex].Name, sizeof(pResult.Name));

  051b7	6a 0a		 push	 10			; 0000000aH
  051b9	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  051bc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  051c2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  051c8	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  051cc	52		 push	 edx
  051cd	8d 45 de	 lea	 eax, DWORD PTR _pResult$233297[ebp+6]
  051d0	50		 push	 eax
  051d1	e8 00 00 00 00	 call	 _memcpy
  051d6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2402 : 
; 2403 : 		FriendMemoSendResult(&pResult);

  051d9	8d 45 d8	 lea	 eax, DWORD PTR _pResult$233297[ebp]
  051dc	50		 push	 eax
  051dd	e8 00 00 00 00	 call	 ?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z ; FriendMemoSendResult
  051e2	83 c4 04	 add	 esp, 4

; 2404 : 
; 2405 : 		return;

  051e5	e9 04 02 00 00	 jmp	 $LN6@FriendMemo
$LN4@FriendMemo:

; 2406 : 	}
; 2407 : 
; 2408 : 	//lpMsg->MemoSize = strlen(lpMsg->Memo);
; 2409 : 
; 2410 : 	if ( lpMsg->MemoSize < 0 || lpMsg->MemoSize > 1000 )

  051ea	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  051ed	0f bf 48 50	 movsx	 ecx, WORD PTR [eax+80]
  051f1	85 c9		 test	 ecx, ecx
  051f3	7c 0f		 jl	 SHORT $LN2@FriendMemo
  051f5	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  051f8	0f bf 48 50	 movsx	 ecx, WORD PTR [eax+80]
  051fc	81 f9 e8 03 00
	00		 cmp	 ecx, 1000		; 000003e8H
  05202	7e 48		 jle	 SHORT $LN3@FriendMemo
$LN2@FriendMemo:

; 2411 : 	{
; 2412 : 		FHP_FRIEND_MEMO_SEND_RESULT pResult;
; 2413 : 
; 2414 : 		pResult.Number = aIndex;

  05204	66 8b 45 0c	 mov	 ax, WORD PTR _aIndex$[ebp]
  05208	66 89 45 c4	 mov	 WORD PTR _pResult$233300[ebp+4], ax

; 2415 : 		pResult.Result = 0;

  0520c	c6 45 d0 00	 mov	 BYTE PTR _pResult$233300[ebp+16], 0

; 2416 : 		pResult.WindowGuid = lpMsg->WindowGuid;

  05210	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05213	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  05216	89 4d d4	 mov	 DWORD PTR _pResult$233300[ebp+20], ecx

; 2417 : 		memcpy(pResult.Name, gObj[aIndex].Name, sizeof(pResult.Name));

  05219	6a 0a		 push	 10			; 0000000aH
  0521b	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0521e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05224	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0522a	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  0522e	52		 push	 edx
  0522f	8d 45 c6	 lea	 eax, DWORD PTR _pResult$233300[ebp+6]
  05232	50		 push	 eax
  05233	e8 00 00 00 00	 call	 _memcpy
  05238	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2418 : 		FriendMemoSendResult(&pResult);

  0523b	8d 45 c0	 lea	 eax, DWORD PTR _pResult$233300[ebp]
  0523e	50		 push	 eax
  0523f	e8 00 00 00 00	 call	 ?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z ; FriendMemoSendResult
  05244	83 c4 04	 add	 esp, 4

; 2419 : 		return;

  05247	e9 a2 01 00 00	 jmp	 $LN6@FriendMemo
$LN3@FriendMemo:

; 2420 : 	}
; 2421 : 
; 2422 : 	if ( Name.GetLength() < 1 )

  0524c	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  0524f	e8 00 00 00 00	 call	 ?GetLength@char_ID@@QAEHXZ ; char_ID::GetLength
  05254	83 f8 01	 cmp	 eax, 1
  05257	7d 48		 jge	 SHORT $LN1@FriendMemo

; 2423 : 	{
; 2424 : 		FHP_FRIEND_MEMO_SEND_RESULT pResult;
; 2425 : 
; 2426 : 		pResult.Number = aIndex;

  05259	66 8b 45 0c	 mov	 ax, WORD PTR _aIndex$[ebp]
  0525d	66 89 45 ac	 mov	 WORD PTR _pResult$233302[ebp+4], ax

; 2427 : 		pResult.Result = 0;

  05261	c6 45 b8 00	 mov	 BYTE PTR _pResult$233302[ebp+16], 0

; 2428 : 		pResult.WindowGuid = lpMsg->WindowGuid;

  05265	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05268	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0526b	89 4d bc	 mov	 DWORD PTR _pResult$233302[ebp+20], ecx

; 2429 : 		memcpy(pResult.Name, gObj[aIndex].Name, sizeof(pResult.Name));

  0526e	6a 0a		 push	 10			; 0000000aH
  05270	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05273	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05279	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0527f	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  05283	52		 push	 edx
  05284	8d 45 ae	 lea	 eax, DWORD PTR _pResult$233302[ebp+6]
  05287	50		 push	 eax
  05288	e8 00 00 00 00	 call	 _memcpy
  0528d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2430 : 		FriendMemoSendResult(&pResult);

  05290	8d 45 a8	 lea	 eax, DWORD PTR _pResult$233302[ebp]
  05293	50		 push	 eax
  05294	e8 00 00 00 00	 call	 ?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z ; FriendMemoSendResult
  05299	83 c4 04	 add	 esp, 4

; 2431 : 		return;

  0529c	e9 4d 01 00 00	 jmp	 $LN6@FriendMemo
$LN1@FriendMemo:

; 2432 : 	}
; 2433 : 
; 2434 : 	FHP_FRIEND_MEMO_SEND pMsg;
; 2435 : 	int bsize = lpMsg->MemoSize + sizeof(pMsg) - sizeof(pMsg.Memo);

  052a1	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  052a4	0f bf 48 50	 movsx	 ecx, WORD PTR [eax+80]
  052a8	83 c1 58	 add	 ecx, 88			; 00000058H
  052ab	89 8d 64 fb ff
	ff		 mov	 DWORD PTR _bsize$[ebp], ecx

; 2436 : 
; 2437 : 	pMsg.h.set((LPBYTE)&pMsg, 0x70, bsize);

  052b1	8b 85 64 fb ff
	ff		 mov	 eax, DWORD PTR _bsize$[ebp]
  052b7	50		 push	 eax
  052b8	6a 70		 push	 112			; 00000070H
  052ba	8d 8d 68 fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  052c0	51		 push	 ecx
  052c1	8d 8d 68 fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  052c7	e8 00 00 00 00	 call	 ?set@PWMSG_HEAD@@QAEXPAEEH@Z ; PWMSG_HEAD::set

; 2438 : 	pMsg.WindowGuid = lpMsg->WindowGuid;

  052cc	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  052cf	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  052d2	89 8d 70 fb ff
	ff		 mov	 DWORD PTR _pMsg$[ebp+8], ecx

; 2439 : 	pMsg.MemoSize = lpMsg->MemoSize;

  052d8	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  052db	66 8b 48 50	 mov	 cx, WORD PTR [eax+80]
  052df	66 89 8d aa fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+66], cx

; 2440 : 	pMsg.Number = aIndex;

  052e6	66 8b 45 0c	 mov	 ax, WORD PTR _aIndex$[ebp]
  052ea	66 89 85 6c fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+4], ax

; 2441 : 	pMsg.Dir = lpMsg->Dir;

  052f1	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  052f4	8a 48 4e	 mov	 cl, BYTE PTR [eax+78]
  052f7	88 8d a8 fb ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+64], cl

; 2442 : 	pMsg.Action = lpMsg->Action;

  052fd	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05300	8a 48 4f	 mov	 cl, BYTE PTR [eax+79]
  05303	88 8d a9 fb ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+65], cl

; 2443 : 
; 2444 : 	memcpy(pMsg.Subject, lpMsg->Subject, sizeof(pMsg.Subject));

  05309	6a 20		 push	 32			; 00000020H
  0530b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0530e	83 c0 12	 add	 eax, 18			; 00000012H
  05311	50		 push	 eax
  05312	8d 8d 88 fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp+32]
  05318	51		 push	 ecx
  05319	e8 00 00 00 00	 call	 _memcpy
  0531e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2445 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  05321	6a 0a		 push	 10			; 0000000aH
  05323	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05326	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0532c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05332	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  05336	52		 push	 edx
  05337	8d 85 74 fb ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp+12]
  0533d	50		 push	 eax
  0533e	e8 00 00 00 00	 call	 _memcpy
  05343	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2446 : 	memcpy(pMsg.Photo, gObj[aIndex].CharSet, sizeof(pMsg.Photo));

  05346	6a 12		 push	 18			; 00000012H
  05348	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0534b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05351	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05357	8d 94 01 e6 04
	00 00		 lea	 edx, DWORD PTR [ecx+eax+1254]
  0535e	52		 push	 edx
  0535f	8d 85 ac fb ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp+68]
  05365	50		 push	 eax
  05366	e8 00 00 00 00	 call	 _memcpy
  0536b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2447 : 	memcpy(pMsg.ToName, lpMsg->Name, sizeof(pMsg.ToName));

  0536e	6a 0a		 push	 10			; 0000000aH
  05370	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05373	83 c0 08	 add	 eax, 8
  05376	50		 push	 eax
  05377	8d 8d 7e fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp+22]
  0537d	51		 push	 ecx
  0537e	e8 00 00 00 00	 call	 _memcpy
  05383	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2448 : 	memcpy(pMsg.Memo, lpMsg->Memo, lpMsg->MemoSize);

  05386	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05389	0f bf 48 50	 movsx	 ecx, WORD PTR [eax+80]
  0538d	51		 push	 ecx
  0538e	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  05391	83 c2 52	 add	 edx, 82			; 00000052H
  05394	52		 push	 edx
  05395	8d 85 be fb ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp+86]
  0539b	50		 push	 eax
  0539c	e8 00 00 00 00	 call	 _memcpy
  053a1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2449 : 
; 2450 : 	wsExDbCli.DataSend((char*)&pMsg, bsize);

  053a4	8b 85 64 fb ff
	ff		 mov	 eax, DWORD PTR _bsize$[ebp]
  053aa	50		 push	 eax
  053ab	8d 8d 68 fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  053b1	51		 push	 ecx
  053b2	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  053b7	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2451 : 
; 2452 : 	LogAdd("[%s] Friend mail send %s (Size:%d)", gObj[aIndex].Name, Name.GetBuffer(), bsize);

  053bc	8b 85 64 fb ff
	ff		 mov	 eax, DWORD PTR _bsize$[ebp]
  053c2	50		 push	 eax
  053c3	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  053c6	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  053cb	50		 push	 eax
  053cc	8b 4d 0c	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  053cf	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  053d5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  053db	8d 44 0a 77	 lea	 eax, DWORD PTR [edx+ecx+119]
  053df	50		 push	 eax
  053e0	68 00 00 00 00	 push	 OFFSET ??_C@_0CD@HIFGHJCH@?$FL?$CFs?$FN?5Friend?5mail?5send?5?$CFs?5?$CISize?3?$CF@
  053e5	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  053eb	83 c4 10	 add	 esp, 16			; 00000010H
$LN6@FriendMemo:

; 2453 : }

  053ee	5f		 pop	 edi
  053ef	5e		 pop	 esi
  053f0	5b		 pop	 ebx
  053f1	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  053f4	33 cd		 xor	 ecx, ebp
  053f6	e8 00 00 00 00	 call	 @__security_check_cookie@4
  053fb	8b e5		 mov	 esp, ebp
  053fd	5d		 pop	 ebp
  053fe	c3		 ret	 0
?FriendMemoSend@@YAXPAUPMSG_FRIEND_MEMO@@H@Z ENDP	; FriendMemoSend
_TEXT	ENDS
PUBLIC	?__LINE__Var@?1??FriendMemoSendEx@@YAXPAUPMSG_FRIEND_MEMO@@H@Z@4JA ; `FriendMemoSendEx'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
PUBLIC	?FriendMemoSendEx@@YAXPAUPMSG_FRIEND_MEMO@@H@Z	; FriendMemoSendEx
;	COMDAT ?__LINE__Var@?1??FriendMemoSendEx@@YAXPAUPMSG_FRIEND_MEMO@@H@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendMemoSendEx@@YAXPAUPMSG_FRIEND_MEMO@@H@Z@4JA DD 0999H ; `FriendMemoSendEx'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_bsize$ = -1156						; size = 4
_pMsg$ = -1152						; size = 1088
_pResult$233319 = -64					; size = 24
_pResult$233317 = -40					; size = 24
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendMemoSendEx@@YAXPAUPMSG_FRIEND_MEMO@@H@Z PROC	; FriendMemoSendEx

; 2457 : {

  05400	55		 push	 ebp
  05401	8b ec		 mov	 ebp, esp
  05403	81 ec c4 04 00
	00		 sub	 esp, 1220		; 000004c4H
  05409	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0540e	33 c5		 xor	 eax, ebp
  05410	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  05413	53		 push	 ebx
  05414	56		 push	 esi
  05415	57		 push	 edi

; 2458 : 	if ( !gObjIsConnectedGP(aIndex))

  05416	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05419	50		 push	 eax
  0541a	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  0541f	83 c4 04	 add	 esp, 4
  05422	85 c0		 test	 eax, eax
  05424	75 21		 jne	 SHORT $LN4@FriendMemo@2

; 2459 : 	{
; 2460 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  05426	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendMemoSendEx@@YAXPAUPMSG_FRIEND_MEMO@@H@Z@4JA
  0542b	83 c0 03	 add	 eax, 3
  0542e	50		 push	 eax
  0542f	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  05434	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  05439	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0543f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2461 : 		return;

  05442	e9 13 02 00 00	 jmp	 $LN5@FriendMemo@2
$LN4@FriendMemo@2:

; 2462 : 	}
; 2463 : 
; 2464 : 	char_ID Name(lpMsg->Name);

  05447	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0544a	83 c0 08	 add	 eax, 8
  0544d	50		 push	 eax
  0544e	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  05451	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2465 : 
; 2466 : 	/*
; 2467 : 	if ( gObj[aIndex].Money < 1000 )
; 2468 : 	{
; 2469 : 		FHP_FRIEND_MEMO_SEND_RESULT pResult;
; 2470 : 
; 2471 : 		pResult.Number = aIndex;
; 2472 : 		pResult.Result = 7;
; 2473 : 		pResult.WindowGuid = lpMsg->WindowGuid;
; 2474 : 		memcpy(pResult.Name, gObj[aIndex].Name, sizeof(pResult.Name));
; 2475 : 
; 2476 : 		FriendMemoSendResult(&pResult);
; 2477 : 
; 2478 : 		return;
; 2479 : 	}
; 2480 : 	*/
; 2481 : 
; 2482 : 	//lpMsg->MemoSize = strlen(lpMsg->Memo);
; 2483 : 
; 2484 : 	if ( lpMsg->MemoSize < 0 || lpMsg->MemoSize > 1000 )

  05456	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05459	0f bf 48 50	 movsx	 ecx, WORD PTR [eax+80]
  0545d	85 c9		 test	 ecx, ecx
  0545f	7c 0f		 jl	 SHORT $LN2@FriendMemo@2
  05461	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05464	0f bf 48 50	 movsx	 ecx, WORD PTR [eax+80]
  05468	81 f9 e8 03 00
	00		 cmp	 ecx, 1000		; 000003e8H
  0546e	7e 48		 jle	 SHORT $LN3@FriendMemo@2
$LN2@FriendMemo@2:

; 2485 : 	{
; 2486 : 		FHP_FRIEND_MEMO_SEND_RESULT pResult;
; 2487 : 
; 2488 : 		pResult.Number = aIndex;

  05470	66 8b 45 0c	 mov	 ax, WORD PTR _aIndex$[ebp]
  05474	66 89 45 dc	 mov	 WORD PTR _pResult$233317[ebp+4], ax

; 2489 : 		pResult.Result = 0;

  05478	c6 45 e8 00	 mov	 BYTE PTR _pResult$233317[ebp+16], 0

; 2490 : 		pResult.WindowGuid = lpMsg->WindowGuid;

  0547c	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0547f	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  05482	89 4d ec	 mov	 DWORD PTR _pResult$233317[ebp+20], ecx

; 2491 : 		memcpy(pResult.Name, gObj[aIndex].Name, sizeof(pResult.Name));

  05485	6a 0a		 push	 10			; 0000000aH
  05487	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0548a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05490	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05496	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  0549a	52		 push	 edx
  0549b	8d 45 de	 lea	 eax, DWORD PTR _pResult$233317[ebp+6]
  0549e	50		 push	 eax
  0549f	e8 00 00 00 00	 call	 _memcpy
  054a4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2492 : 		FriendMemoSendResult(&pResult);

  054a7	8d 45 d8	 lea	 eax, DWORD PTR _pResult$233317[ebp]
  054aa	50		 push	 eax
  054ab	e8 00 00 00 00	 call	 ?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z ; FriendMemoSendResult
  054b0	83 c4 04	 add	 esp, 4

; 2493 : 		return;

  054b3	e9 a2 01 00 00	 jmp	 $LN5@FriendMemo@2
$LN3@FriendMemo@2:

; 2494 : 	}
; 2495 : 
; 2496 : 	if ( Name.GetLength() < 1 )

  054b8	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  054bb	e8 00 00 00 00	 call	 ?GetLength@char_ID@@QAEHXZ ; char_ID::GetLength
  054c0	83 f8 01	 cmp	 eax, 1
  054c3	7d 48		 jge	 SHORT $LN1@FriendMemo@2

; 2497 : 	{
; 2498 : 		FHP_FRIEND_MEMO_SEND_RESULT pResult;
; 2499 : 
; 2500 : 		pResult.Number = aIndex;

  054c5	66 8b 45 0c	 mov	 ax, WORD PTR _aIndex$[ebp]
  054c9	66 89 45 c4	 mov	 WORD PTR _pResult$233319[ebp+4], ax

; 2501 : 		pResult.Result = 0;

  054cd	c6 45 d0 00	 mov	 BYTE PTR _pResult$233319[ebp+16], 0

; 2502 : 		pResult.WindowGuid = lpMsg->WindowGuid;

  054d1	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  054d4	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  054d7	89 4d d4	 mov	 DWORD PTR _pResult$233319[ebp+20], ecx

; 2503 : 		memcpy(pResult.Name, gObj[aIndex].Name, sizeof(pResult.Name));

  054da	6a 0a		 push	 10			; 0000000aH
  054dc	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  054df	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  054e5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  054eb	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  054ef	52		 push	 edx
  054f0	8d 45 c6	 lea	 eax, DWORD PTR _pResult$233319[ebp+6]
  054f3	50		 push	 eax
  054f4	e8 00 00 00 00	 call	 _memcpy
  054f9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2504 : 		FriendMemoSendResult(&pResult);

  054fc	8d 45 c0	 lea	 eax, DWORD PTR _pResult$233319[ebp]
  054ff	50		 push	 eax
  05500	e8 00 00 00 00	 call	 ?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z ; FriendMemoSendResult
  05505	83 c4 04	 add	 esp, 4

; 2505 : 		return;

  05508	e9 4d 01 00 00	 jmp	 $LN5@FriendMemo@2
$LN1@FriendMemo@2:

; 2506 : 	}
; 2507 : 
; 2508 : 	FHP_FRIEND_MEMO_SEND pMsg;
; 2509 : 	int bsize = lpMsg->MemoSize + sizeof(pMsg) - sizeof(pMsg.Memo);

  0550d	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05510	0f bf 48 50	 movsx	 ecx, WORD PTR [eax+80]
  05514	83 c1 58	 add	 ecx, 88			; 00000058H
  05517	89 8d 7c fb ff
	ff		 mov	 DWORD PTR _bsize$[ebp], ecx

; 2510 : 
; 2511 : 	pMsg.h.set((LPBYTE)&pMsg, 0x70, bsize);

  0551d	8b 85 7c fb ff
	ff		 mov	 eax, DWORD PTR _bsize$[ebp]
  05523	50		 push	 eax
  05524	6a 70		 push	 112			; 00000070H
  05526	8d 8d 80 fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0552c	51		 push	 ecx
  0552d	8d 8d 80 fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05533	e8 00 00 00 00	 call	 ?set@PWMSG_HEAD@@QAEXPAEEH@Z ; PWMSG_HEAD::set

; 2512 : 	pMsg.WindowGuid = lpMsg->WindowGuid;

  05538	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0553b	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0553e	89 8d 88 fb ff
	ff		 mov	 DWORD PTR _pMsg$[ebp+8], ecx

; 2513 : 	pMsg.MemoSize = lpMsg->MemoSize;

  05544	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05547	66 8b 48 50	 mov	 cx, WORD PTR [eax+80]
  0554b	66 89 8d c2 fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+66], cx

; 2514 : 	pMsg.Number = aIndex;

  05552	66 8b 45 0c	 mov	 ax, WORD PTR _aIndex$[ebp]
  05556	66 89 85 84 fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+4], ax

; 2515 : 	pMsg.Dir = lpMsg->Dir;

  0555d	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05560	8a 48 4e	 mov	 cl, BYTE PTR [eax+78]
  05563	88 8d c0 fb ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+64], cl

; 2516 : 	pMsg.Action = lpMsg->Action;

  05569	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0556c	8a 48 4f	 mov	 cl, BYTE PTR [eax+79]
  0556f	88 8d c1 fb ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+65], cl

; 2517 : 
; 2518 : 	memcpy(pMsg.Subject, lpMsg->Subject, sizeof(pMsg.Subject));

  05575	6a 20		 push	 32			; 00000020H
  05577	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0557a	83 c0 12	 add	 eax, 18			; 00000012H
  0557d	50		 push	 eax
  0557e	8d 8d a0 fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp+32]
  05584	51		 push	 ecx
  05585	e8 00 00 00 00	 call	 _memcpy
  0558a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2519 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  0558d	6a 0a		 push	 10			; 0000000aH
  0558f	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05592	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05598	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0559e	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  055a2	52		 push	 edx
  055a3	8d 85 8c fb ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp+12]
  055a9	50		 push	 eax
  055aa	e8 00 00 00 00	 call	 _memcpy
  055af	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2520 : 	memcpy(pMsg.Photo, gObj[aIndex].CharSet, sizeof(pMsg.Photo));

  055b2	6a 12		 push	 18			; 00000012H
  055b4	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  055b7	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  055bd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  055c3	8d 94 01 e6 04
	00 00		 lea	 edx, DWORD PTR [ecx+eax+1254]
  055ca	52		 push	 edx
  055cb	8d 85 c4 fb ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp+68]
  055d1	50		 push	 eax
  055d2	e8 00 00 00 00	 call	 _memcpy
  055d7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2521 : 	memcpy(pMsg.ToName, lpMsg->Name, sizeof(pMsg.ToName));

  055da	6a 0a		 push	 10			; 0000000aH
  055dc	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  055df	83 c0 08	 add	 eax, 8
  055e2	50		 push	 eax
  055e3	8d 8d 96 fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp+22]
  055e9	51		 push	 ecx
  055ea	e8 00 00 00 00	 call	 _memcpy
  055ef	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2522 : 	memcpy(pMsg.Memo, lpMsg->Memo, lpMsg->MemoSize);

  055f2	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  055f5	0f bf 48 50	 movsx	 ecx, WORD PTR [eax+80]
  055f9	51		 push	 ecx
  055fa	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  055fd	83 c2 52	 add	 edx, 82			; 00000052H
  05600	52		 push	 edx
  05601	8d 85 d6 fb ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp+86]
  05607	50		 push	 eax
  05608	e8 00 00 00 00	 call	 _memcpy
  0560d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2523 : 
; 2524 : 	wsExDbCli.DataSend((char*)&pMsg, bsize);

  05610	8b 85 7c fb ff
	ff		 mov	 eax, DWORD PTR _bsize$[ebp]
  05616	50		 push	 eax
  05617	8d 8d 80 fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0561d	51		 push	 ecx
  0561e	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  05623	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2525 : 
; 2526 : 	LogAdd("[%s] Friend mail send %s (Size:%d)", gObj[aIndex].Name, Name.GetBuffer(), bsize);

  05628	8b 85 7c fb ff
	ff		 mov	 eax, DWORD PTR _bsize$[ebp]
  0562e	50		 push	 eax
  0562f	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  05632	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  05637	50		 push	 eax
  05638	8b 4d 0c	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0563b	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  05641	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05647	8d 44 0a 77	 lea	 eax, DWORD PTR [edx+ecx+119]
  0564b	50		 push	 eax
  0564c	68 00 00 00 00	 push	 OFFSET ??_C@_0CD@HIFGHJCH@?$FL?$CFs?$FN?5Friend?5mail?5send?5?$CFs?5?$CISize?3?$CF@
  05651	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  05657	83 c4 10	 add	 esp, 16			; 00000010H
$LN5@FriendMemo@2:

; 2527 : }

  0565a	5f		 pop	 edi
  0565b	5e		 pop	 esi
  0565c	5b		 pop	 ebx
  0565d	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  05660	33 cd		 xor	 ecx, ebp
  05662	e8 00 00 00 00	 call	 @__security_check_cookie@4
  05667	8b e5		 mov	 esp, ebp
  05669	5d		 pop	 ebp
  0566a	c3		 ret	 0
?FriendMemoSendEx@@YAXPAUPMSG_FRIEND_MEMO@@H@Z ENDP	; FriendMemoSendEx
_TEXT	ENDS
PUBLIC	??_C@_0CC@MFFMGDDE@JoinServer?5mail?5send?5?$CFs?5?$CISize?3?$CFd@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?MngFriendMemoSend@@YAXPAUPMSG_JG_MEMO_SEND@@@Z	; MngFriendMemoSend
;	COMDAT ??_C@_0CC@MFFMGDDE@JoinServer?5mail?5send?5?$CFs?5?$CISize?3?$CFd@
CONST	SEGMENT
??_C@_0CC@MFFMGDDE@JoinServer?5mail?5send?5?$CFs?5?$CISize?3?$CFd@ DB 'Jo'
	DB	'inServer mail send %s (Size:%d)', 00H	; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_bsize$ = -1108						; size = 4
_pMsg$ = -1104						; size = 1088
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?MngFriendMemoSend@@YAXPAUPMSG_JG_MEMO_SEND@@@Z PROC	; MngFriendMemoSend

; 2531 : {

  05670	55		 push	 ebp
  05671	8b ec		 mov	 ebp, esp
  05673	81 ec 94 04 00
	00		 sub	 esp, 1172		; 00000494H
  05679	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0567e	33 c5		 xor	 eax, ebp
  05680	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  05683	53		 push	 ebx
  05684	56		 push	 esi
  05685	57		 push	 edi

; 2532 : 	char_ID Name(lpMsg->Name);

  05686	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05689	83 c0 04	 add	 eax, 4
  0568c	50		 push	 eax
  0568d	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  05690	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2533 : 
; 2534 : 	if ( lpMsg->MemoSize < 0 || lpMsg->MemoSize > 1000 )

  05695	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05698	0f bf 48 38	 movsx	 ecx, WORD PTR [eax+56]
  0569c	85 c9		 test	 ecx, ecx
  0569e	7c 0f		 jl	 SHORT $LN2@MngFriendM
  056a0	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  056a3	0f bf 48 38	 movsx	 ecx, WORD PTR [eax+56]
  056a7	81 f9 e8 03 00
	00		 cmp	 ecx, 1000		; 000003e8H
  056ad	7e 05		 jle	 SHORT $LN3@MngFriendM
$LN2@MngFriendM:

; 2535 : 		return;

  056af	e9 1c 01 00 00	 jmp	 $LN4@MngFriendM
$LN3@MngFriendM:

; 2536 : 
; 2537 : 	if ( Name.GetLength() < 1 )

  056b4	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  056b7	e8 00 00 00 00	 call	 ?GetLength@char_ID@@QAEHXZ ; char_ID::GetLength
  056bc	83 f8 01	 cmp	 eax, 1
  056bf	7d 05		 jge	 SHORT $LN1@MngFriendM

; 2538 : 		return;

  056c1	e9 0a 01 00 00	 jmp	 $LN4@MngFriendM
$LN1@MngFriendM:

; 2539 : 
; 2540 : 	FHP_FRIEND_MEMO_SEND pMsg;
; 2541 : 
; 2542 : 	int bsize = lpMsg->MemoSize + sizeof(pMsg) - sizeof(pMsg.Memo);

  056c6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  056c9	0f bf 48 38	 movsx	 ecx, WORD PTR [eax+56]
  056cd	83 c1 58	 add	 ecx, 88			; 00000058H
  056d0	89 8d ac fb ff
	ff		 mov	 DWORD PTR _bsize$[ebp], ecx

; 2543 : 
; 2544 : 	pMsg.h.set((LPBYTE)&pMsg, 0x70, bsize);

  056d6	8b 85 ac fb ff
	ff		 mov	 eax, DWORD PTR _bsize$[ebp]
  056dc	50		 push	 eax
  056dd	6a 70		 push	 112			; 00000070H
  056df	8d 8d b0 fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  056e5	51		 push	 ecx
  056e6	8d 8d b0 fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  056ec	e8 00 00 00 00	 call	 ?set@PWMSG_HEAD@@QAEXPAEEH@Z ; PWMSG_HEAD::set

; 2545 : 	pMsg.WindowGuid = 0;

  056f1	c7 85 b8 fb ff
	ff 00 00 00 00	 mov	 DWORD PTR _pMsg$[ebp+8], 0

; 2546 : 	pMsg.MemoSize = lpMsg->MemoSize;

  056fb	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  056fe	66 8b 48 38	 mov	 cx, WORD PTR [eax+56]
  05702	66 89 8d f2 fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+66], cx

; 2547 : 	pMsg.Number = -1;

  05709	83 c8 ff	 or	 eax, -1
  0570c	66 89 85 b4 fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+4], ax

; 2548 : 	pMsg.Dir = 0;

  05713	c6 85 f0 fb ff
	ff 00		 mov	 BYTE PTR _pMsg$[ebp+64], 0

; 2549 : 	pMsg.Action = 0;

  0571a	c6 85 f1 fb ff
	ff 00		 mov	 BYTE PTR _pMsg$[ebp+65], 0

; 2550 : 	memcpy(pMsg.Subject, lpMsg->Subject, sizeof(pMsg.Subject));

  05721	6a 20		 push	 32			; 00000020H
  05723	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05726	83 c0 18	 add	 eax, 24			; 00000018H
  05729	50		 push	 eax
  0572a	8d 8d d0 fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp+32]
  05730	51		 push	 ecx
  05731	e8 00 00 00 00	 call	 _memcpy
  05736	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2551 : 	memcpy(pMsg.Name, lpMsg->Name , sizeof(pMsg.Name));

  05739	6a 0a		 push	 10			; 0000000aH
  0573b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0573e	83 c0 04	 add	 eax, 4
  05741	50		 push	 eax
  05742	8d 8d bc fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp+12]
  05748	51		 push	 ecx
  05749	e8 00 00 00 00	 call	 _memcpy
  0574e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2552 : 	memset(pMsg.Photo, 0, sizeof(pMsg.Photo));

  05751	6a 12		 push	 18			; 00000012H
  05753	6a 00		 push	 0
  05755	8d 85 f4 fb ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp+68]
  0575b	50		 push	 eax
  0575c	e8 00 00 00 00	 call	 _memset
  05761	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2553 : 	memcpy(pMsg.ToName, lpMsg->TargetName, sizeof(pMsg.ToName));

  05764	6a 0a		 push	 10			; 0000000aH
  05766	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05769	83 c0 0e	 add	 eax, 14			; 0000000eH
  0576c	50		 push	 eax
  0576d	8d 8d c6 fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp+22]
  05773	51		 push	 ecx
  05774	e8 00 00 00 00	 call	 _memcpy
  05779	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2554 : 	memcpy(pMsg.Memo, lpMsg->Memo, lpMsg->MemoSize);

  0577c	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0577f	0f bf 48 38	 movsx	 ecx, WORD PTR [eax+56]
  05783	51		 push	 ecx
  05784	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  05787	83 c2 3a	 add	 edx, 58			; 0000003aH
  0578a	52		 push	 edx
  0578b	8d 85 06 fc ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp+86]
  05791	50		 push	 eax
  05792	e8 00 00 00 00	 call	 _memcpy
  05797	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2555 : 
; 2556 : 	wsExDbCli.DataSend((char*)&pMsg, bsize);

  0579a	8b 85 ac fb ff
	ff		 mov	 eax, DWORD PTR _bsize$[ebp]
  057a0	50		 push	 eax
  057a1	8d 8d b0 fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  057a7	51		 push	 ecx
  057a8	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  057ad	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2557 : 
; 2558 : 	LogAdd("JoinServer mail send %s (Size:%d)", Name.GetBuffer(), bsize);

  057b2	8b 85 ac fb ff
	ff		 mov	 eax, DWORD PTR _bsize$[ebp]
  057b8	50		 push	 eax
  057b9	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  057bc	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  057c1	50		 push	 eax
  057c2	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@MFFMGDDE@JoinServer?5mail?5send?5?$CFs?5?$CISize?3?$CFd@
  057c7	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  057cd	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@MngFriendM:

; 2559 : }

  057d0	5f		 pop	 edi
  057d1	5e		 pop	 esi
  057d2	5b		 pop	 ebx
  057d3	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  057d6	33 cd		 xor	 ecx, ebp
  057d8	e8 00 00 00 00	 call	 @__security_check_cookie@4
  057dd	8b e5		 mov	 esp, ebp
  057df	5d		 pop	 ebp
  057e0	c3		 ret	 0
?MngFriendMemoSend@@YAXPAUPMSG_JG_MEMO_SEND@@@Z ENDP	; MngFriendMemoSend
_TEXT	ENDS
PUBLIC	??_C@_0DF@HMMPGHMB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CI?$CFs?$CJ?5Pay?5Money?$CIIn?5Inven@ ; `string'
PUBLIC	?WithdrawUserMoney@@YAHPADPAUOBJECTSTRUCT@@H@Z	; WithdrawUserMoney
EXTRN	?GCMoneySend@@YAXHK@Z:PROC			; GCMoneySend
;	COMDAT ??_C@_0DF@HMMPGHMB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CI?$CFs?$CJ?5Pay?5Money?$CIIn?5Inven@
CONST	SEGMENT
??_C@_0DF@HMMPGHMB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CI?$CFs?$CJ?5Pay?5Money?$CIIn?5Inven@ DB '['
	DB	'%s][%s] (%s) Pay Money(In Inventory) : %d - %d = %d', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_oldmoney$ = -4						; size = 4
_Type$ = 8						; size = 4
_lpObj$ = 12						; size = 4
_Withdraw_Money$ = 16					; size = 4
?WithdrawUserMoney@@YAHPADPAUOBJECTSTRUCT@@H@Z PROC	; WithdrawUserMoney

; 2562 : {

  057f0	55		 push	 ebp
  057f1	8b ec		 mov	 ebp, esp
  057f3	83 ec 44	 sub	 esp, 68			; 00000044H
  057f6	53		 push	 ebx
  057f7	56		 push	 esi
  057f8	57		 push	 edi

; 2563 : 	int oldmoney;
; 2564 : 
; 2565 : 	if ( (lpObj->Money - Withdraw_Money) >= 0 )

  057f9	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  057fc	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  05802	2b 4d 10	 sub	 ecx, DWORD PTR _Withdraw_Money$[ebp]
  05805	78 72		 js	 SHORT $LN1@WithdrawUs

; 2566 : 	{
; 2567 : 		oldmoney = lpObj->Money;

  05807	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0580a	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  05810	89 4d fc	 mov	 DWORD PTR _oldmoney$[ebp], ecx

; 2568 : 		lpObj->Money -= Withdraw_Money;

  05813	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05816	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0581c	2b 4d 10	 sub	 ecx, DWORD PTR _Withdraw_Money$[ebp]
  0581f	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05822	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 2569 : 		GCMoneySend(lpObj->m_Index, lpObj->Money);

  05828	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0582b	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  05831	51		 push	 ecx
  05832	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05835	8b 02		 mov	 eax, DWORD PTR [edx]
  05837	50		 push	 eax
  05838	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  0583d	83 c4 08	 add	 esp, 8

; 2570 : 		LogAdd("[%s][%s] (%s) Pay Money(In Inventory) : %d - %d = %d", lpObj->AccountID, lpObj->Name, Type, oldmoney, Withdraw_Money, lpObj->Money);

  05840	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05843	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  05849	51		 push	 ecx
  0584a	8b 55 10	 mov	 edx, DWORD PTR _Withdraw_Money$[ebp]
  0584d	52		 push	 edx
  0584e	8b 45 fc	 mov	 eax, DWORD PTR _oldmoney$[ebp]
  05851	50		 push	 eax
  05852	8b 4d 08	 mov	 ecx, DWORD PTR _Type$[ebp]
  05855	51		 push	 ecx
  05856	8b 55 0c	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05859	83 c2 77	 add	 edx, 119		; 00000077H
  0585c	52		 push	 edx
  0585d	8b 45 0c	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05860	83 c0 6c	 add	 eax, 108		; 0000006cH
  05863	50		 push	 eax
  05864	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@HMMPGHMB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CI?$CFs?$CJ?5Pay?5Money?$CIIn?5Inven@
  05869	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0586f	83 c4 1c	 add	 esp, 28			; 0000001cH

; 2571 : 		return TRUE;

  05872	b8 01 00 00 00	 mov	 eax, 1
  05877	eb 02		 jmp	 SHORT $LN2@WithdrawUs
$LN1@WithdrawUs:

; 2572 : 	}
; 2573 : 
; 2574 : 	return FALSE;

  05879	33 c0		 xor	 eax, eax
$LN2@WithdrawUs:

; 2575 : }

  0587b	5f		 pop	 edi
  0587c	5e		 pop	 esi
  0587d	5b		 pop	 ebx
  0587e	8b e5		 mov	 esp, ebp
  05880	5d		 pop	 ebp
  05881	c3		 ret	 0
?WithdrawUserMoney@@YAHPADPAUOBJECTSTRUCT@@H@Z ENDP	; WithdrawUserMoney
_TEXT	ENDS
PUBLIC	??_C@_04JEGKNAHI@Mail?$AA@			; `string'
PUBLIC	??_C@_0CO@FGOJBJPG@?$FL?$CFs?$FN?5Friend?5mail?5Send?5result?5?3?5?$CI@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z@4JA ; `FriendMemoSendResult'::`2'::__LINE__Var
PUBLIC	??_C@_0CD@EFIPOPHK@JoinServer?5Send?5Mail?5result?5?3?5?$CI?$CF@ ; `string'
PUBLIC	??_C@_06EBHHHLPK@webzen?$AA@			; `string'
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_04JEGKNAHI@Mail?$AA@
CONST	SEGMENT
??_C@_04JEGKNAHI@Mail?$AA@ DB 'Mail', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CO@FGOJBJPG@?$FL?$CFs?$FN?5Friend?5mail?5Send?5result?5?3?5?$CI@
CONST	SEGMENT
??_C@_0CO@FGOJBJPG@?$FL?$CFs?$FN?5Friend?5mail?5Send?5result?5?3?5?$CI@ DB '['
	DB	'%s] Friend mail Send result : (%d) guid:(%d)', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z@4JA DD 0a19H ; `FriendMemoSendResult'::`2'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CD@EFIPOPHK@JoinServer?5Send?5Mail?5result?5?3?5?$CI?$CF@
CONST	SEGMENT
??_C@_0CD@EFIPOPHK@JoinServer?5Send?5Mail?5result?5?3?5?$CI?$CF@ DB 'Join'
	DB	'Server Send Mail result : (%d)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_06EBHHHLPK@webzen?$AA@
CONST	SEGMENT
??_C@_06EBHHHLPK@webzen?$AA@ DB 'webzen', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_pMsg$ = -24						; size = 8
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z PROC ; FriendMemoSendResult

; 2585 : {

  05890	55		 push	 ebp
  05891	8b ec		 mov	 ebp, esp
  05893	83 ec 58	 sub	 esp, 88			; 00000058H
  05896	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0589b	33 c5		 xor	 eax, ebp
  0589d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  058a0	53		 push	 ebx
  058a1	56		 push	 esi
  058a2	57		 push	 edi

; 2586 : 	char_ID Name(lpMsg->Name);

  058a3	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  058a6	83 c0 06	 add	 eax, 6
  058a9	50		 push	 eax
  058aa	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  058ad	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2587 : 
; 2588 : 	if ( !strcmp(Name.GetBuffer(), "webzen"))

  058b2	68 00 00 00 00	 push	 OFFSET ??_C@_06EBHHHLPK@webzen?$AA@
  058b7	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  058ba	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  058bf	50		 push	 eax
  058c0	e8 00 00 00 00	 call	 _strcmp
  058c5	83 c4 08	 add	 esp, 8
  058c8	85 c0		 test	 eax, eax
  058ca	75 1b		 jne	 SHORT $LN3@FriendMemo@3

; 2589 : 	{
; 2590 : 		LogAdd("JoinServer Send Mail result : (%d)", lpMsg->Result);

  058cc	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  058cf	0f b6 48 10	 movzx	 ecx, BYTE PTR [eax+16]
  058d3	51		 push	 ecx
  058d4	68 00 00 00 00	 push	 OFFSET ??_C@_0CD@EFIPOPHK@JoinServer?5Send?5Mail?5result?5?3?5?$CI?$CF@
  058d9	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  058df	83 c4 08	 add	 esp, 8

; 2591 : 		return;

  058e2	e9 dc 00 00 00	 jmp	 $LN4@FriendMemo@3
$LN3@FriendMemo@3:

; 2592 : 	}
; 2593 : 
; 2594 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  058e7	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  058ea	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  058ef	50		 push	 eax
  058f0	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  058f3	0f bf 48 04	 movsx	 ecx, WORD PTR [eax+4]
  058f7	51		 push	 ecx
  058f8	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  058fd	83 c4 08	 add	 esp, 8
  05900	85 c0		 test	 eax, eax
  05902	75 21		 jne	 SHORT $LN2@FriendMemo@3

; 2595 : 	{
; 2596 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  05904	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z@4JA
  05909	83 c0 0b	 add	 eax, 11			; 0000000bH
  0590c	50		 push	 eax
  0590d	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  05912	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  05917	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0591d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2597 : 		return;

  05920	e9 9e 00 00 00	 jmp	 $LN4@FriendMemo@3
$LN2@FriendMemo@3:

; 2598 : 	}
; 2599 : 
; 2600 : 	PMSG_FRIEND_MEMO_RESULT pMsg;
; 2601 : 
; 2602 : 	pMsg.h.set((LPBYTE)&pMsg, 0xC5, sizeof(pMsg));

  05925	6a 08		 push	 8
  05927	68 c5 00 00 00	 push	 197			; 000000c5H
  0592c	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0592f	50		 push	 eax
  05930	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05933	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2603 : 	pMsg.Result = lpMsg->Result;

  05938	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0593b	8a 48 10	 mov	 cl, BYTE PTR [eax+16]
  0593e	88 4d eb	 mov	 BYTE PTR _pMsg$[ebp+3], cl

; 2604 : 	pMsg.WindowGuid = lpMsg->WindowGuid;

  05941	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05944	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]
  05947	89 4d ec	 mov	 DWORD PTR _pMsg$[ebp+4], ecx

; 2605 : 
; 2606 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  0594a	6a 08		 push	 8
  0594c	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0594f	50		 push	 eax
  05950	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  05953	0f bf 51 04	 movsx	 edx, WORD PTR [ecx+4]
  05957	52		 push	 edx
  05958	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0595d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2607 : 
; 2608 : 	LogAdd("[%s] Friend mail Send result : (%d) guid:(%d)", gObj[lpMsg->Number].Name, lpMsg->Result, lpMsg->WindowGuid);

  05960	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05963	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]
  05966	51		 push	 ecx
  05967	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  0596a	0f b6 42 10	 movzx	 eax, BYTE PTR [edx+16]
  0596e	50		 push	 eax
  0596f	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  05972	0f bf 51 04	 movsx	 edx, WORD PTR [ecx+4]
  05976	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0597c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05981	8d 4c 10 77	 lea	 ecx, DWORD PTR [eax+edx+119]
  05985	51		 push	 ecx
  05986	68 00 00 00 00	 push	 OFFSET ??_C@_0CO@FGOJBJPG@?$FL?$CFs?$FN?5Friend?5mail?5Send?5result?5?3?5?$CI@
  0598b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  05991	83 c4 10	 add	 esp, 16			; 00000010H

; 2609 : 
; 2610 : 	if ( pMsg.Result == 1 )

  05994	0f b6 45 eb	 movzx	 eax, BYTE PTR _pMsg$[ebp+3]
  05998	83 f8 01	 cmp	 eax, 1
  0599b	75 26		 jne	 SHORT $LN4@FriendMemo@3

; 2611 : 	{
; 2612 : 		WithdrawUserMoney("Mail", &gObj[lpMsg->Number], 1000);

  0599d	68 e8 03 00 00	 push	 1000			; 000003e8H
  059a2	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  059a5	0f bf 48 04	 movsx	 ecx, WORD PTR [eax+4]
  059a9	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  059af	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  059b5	51		 push	 ecx
  059b6	68 00 00 00 00	 push	 OFFSET ??_C@_04JEGKNAHI@Mail?$AA@
  059bb	e8 00 00 00 00	 call	 ?WithdrawUserMoney@@YAHPADPAUOBJECTSTRUCT@@H@Z ; WithdrawUserMoney
  059c0	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@FriendMemo@3:

; 2613 : 	}
; 2614 : }

  059c3	5f		 pop	 edi
  059c4	5e		 pop	 esi
  059c5	5b		 pop	 ebx
  059c6	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  059c9	33 cd		 xor	 ecx, ebp
  059cb	e8 00 00 00 00	 call	 @__security_check_cookie@4
  059d0	8b e5		 mov	 esp, ebp
  059d2	5d		 pop	 ebp
  059d3	c3		 ret	 0
?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z ENDP ; FriendMemoSendResult
_TEXT	ENDS
PUBLIC	??_C@_0BO@BLCCADHK@?$FL?$CFs?$FN?5Friend?5mail?5list?5request?$AA@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendMemoListReq@@YAXH@Z@4JA	; `FriendMemoListReq'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
PUBLIC	?FriendMemoListReq@@YAXH@Z			; FriendMemoListReq
;	COMDAT ??_C@_0BO@BLCCADHK@?$FL?$CFs?$FN?5Friend?5mail?5list?5request?$AA@
CONST	SEGMENT
??_C@_0BO@BLCCADHK@?$FL?$CFs?$FN?5Friend?5mail?5list?5request?$AA@ DB '[%'
	DB	's] Friend mail list request', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendMemoListReq@@YAXH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendMemoListReq@@YAXH@Z@4JA DD 0a40H	; `FriendMemoListReq'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_pMsg$ = -20						; size = 16
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?FriendMemoListReq@@YAXH@Z PROC				; FriendMemoListReq

; 2624 : {

  059e0	55		 push	 ebp
  059e1	8b ec		 mov	 ebp, esp
  059e3	83 ec 54	 sub	 esp, 84			; 00000054H
  059e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  059eb	33 c5		 xor	 eax, ebp
  059ed	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  059f0	53		 push	 ebx
  059f1	56		 push	 esi
  059f2	57		 push	 edi

; 2625 : 	if ( !gObjIsConnectedGP(aIndex))

  059f3	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  059f6	50		 push	 eax
  059f7	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  059fc	83 c4 04	 add	 esp, 4
  059ff	85 c0		 test	 eax, eax
  05a01	75 1e		 jne	 SHORT $LN1@FriendMemo@4

; 2626 : 	{
; 2627 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  05a03	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendMemoListReq@@YAXH@Z@4JA
  05a08	83 c0 03	 add	 eax, 3
  05a0b	50		 push	 eax
  05a0c	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  05a11	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  05a16	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05a1c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2628 : 		return;

  05a1f	eb 6f		 jmp	 SHORT $LN2@FriendMemo@4
$LN1@FriendMemo@4:

; 2629 : 	}
; 2630 : 
; 2631 : 	FHP_FRIEND_MEMO_LIST_REQ pMsg;
; 2632 : 
; 2633 : 	pMsg.h.set((LPBYTE)&pMsg, 0x71, sizeof(pMsg));

  05a21	6a 10		 push	 16			; 00000010H
  05a23	6a 71		 push	 113			; 00000071H
  05a25	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$[ebp]
  05a28	50		 push	 eax
  05a29	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05a2c	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2634 : 	pMsg.Number = aIndex;

  05a31	66 8b 45 08	 mov	 ax, WORD PTR _aIndex$[ebp]
  05a35	66 89 45 f0	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 2635 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  05a39	6a 0a		 push	 10			; 0000000aH
  05a3b	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05a3e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05a44	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05a4a	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  05a4e	52		 push	 edx
  05a4f	8d 45 f2	 lea	 eax, DWORD PTR _pMsg$[ebp+6]
  05a52	50		 push	 eax
  05a53	e8 00 00 00 00	 call	 _memcpy
  05a58	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2636 : 
; 2637 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  05a5b	0f b6 45 ed	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  05a5f	50		 push	 eax
  05a60	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05a63	51		 push	 ecx
  05a64	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  05a69	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2638 : 
; 2639 : 	LogAdd("[%s] Friend mail list request", gObj[aIndex].Name);

  05a6e	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05a71	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05a77	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05a7d	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  05a81	52		 push	 edx
  05a82	68 00 00 00 00	 push	 OFFSET ??_C@_0BO@BLCCADHK@?$FL?$CFs?$FN?5Friend?5mail?5list?5request?$AA@
  05a87	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  05a8d	83 c4 08	 add	 esp, 8
$LN2@FriendMemo@4:

; 2640 : }

  05a90	5f		 pop	 edi
  05a91	5e		 pop	 esi
  05a92	5b		 pop	 ebx
  05a93	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  05a96	33 cd		 xor	 ecx, ebp
  05a98	e8 00 00 00 00	 call	 @__security_check_cookie@4
  05a9d	8b e5		 mov	 esp, ebp
  05a9f	5d		 pop	 ebp
  05aa0	c3		 ret	 0
?FriendMemoListReq@@YAXH@Z ENDP				; FriendMemoListReq
_TEXT	ENDS
PUBLIC	??_C@_0CI@INBOEHDN@?$FL?$CFs?$FN?5Friend?5Mail?5list?5?3?5?$CI?$CFd?3?$CF10s@ ; `string'
PUBLIC	??_C@_00CNPNBAHC@?$AA@				; `string'
PUBLIC	?__LINE__Var@?1??FriendMemoList@@YAXPAUFHP_FRIEND_MEMO_LIST@@@Z@4JA ; `FriendMemoList'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0CI@INBOEHDN@?$FL?$CFs?$FN?5Friend?5Mail?5list?5?3?5?$CI?$CFd?3?$CF10s@
CONST	SEGMENT
??_C@_0CI@INBOEHDN@?$FL?$CFs?$FN?5Friend?5Mail?5list?5?3?5?$CI?$CFd?3?$CF10s@ DB '['
	DB	'%s] Friend Mail list : (%d:%10s:%s:%s)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_00CNPNBAHC@?$AA@
CONST	SEGMENT
??_C@_00CNPNBAHC@?$AA@ DB 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendMemoList@@YAXPAUFHP_FRIEND_MEMO_LIST@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendMemoList@@YAXPAUFHP_FRIEND_MEMO_LIST@@@Z@4JA DD 0a5fH ; `FriendMemoList'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_pMsg$ = -208						; size = 108
_date$ = -100						; size = 31
_subject$ = -68						; size = 33
_memoindex$ = -32					; size = 4
_RecvName$ = -28					; size = 11
_SendName$ = -16					; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendMemoList@@YAXPAUFHP_FRIEND_MEMO_LIST@@@Z PROC	; FriendMemoList

; 2655 : {

  05ab0	55		 push	 ebp
  05ab1	8b ec		 mov	 ebp, esp
  05ab3	81 ec 10 01 00
	00		 sub	 esp, 272		; 00000110H
  05ab9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  05abe	33 c5		 xor	 eax, ebp
  05ac0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  05ac3	53		 push	 ebx
  05ac4	56		 push	 esi
  05ac5	57		 push	 edi

; 2656 : 	char_ID SendName(lpMsg->SendName);

  05ac6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05ac9	83 c0 08	 add	 eax, 8
  05acc	50		 push	 eax
  05acd	8d 4d f0	 lea	 ecx, DWORD PTR _SendName$[ebp]
  05ad0	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2657 : 	char_ID RecvName(lpMsg->RecvName);

  05ad5	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05ad8	83 c0 12	 add	 eax, 18			; 00000012H
  05adb	50		 push	 eax
  05adc	8d 4d e4	 lea	 ecx, DWORD PTR _RecvName$[ebp]
  05adf	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2658 : 
; 2659 : 	if ( !gObjIsConnectedGP(lpMsg->Number, RecvName.GetBuffer()))

  05ae4	8d 4d e4	 lea	 ecx, DWORD PTR _RecvName$[ebp]
  05ae7	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  05aec	50		 push	 eax
  05aed	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05af0	0f b7 48 04	 movzx	 ecx, WORD PTR [eax+4]
  05af4	51		 push	 ecx
  05af5	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  05afa	83 c4 08	 add	 esp, 8
  05afd	85 c0		 test	 eax, eax
  05aff	75 21		 jne	 SHORT $LN1@FriendMemo@5

; 2660 : 	{
; 2661 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  05b01	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendMemoList@@YAXPAUFHP_FRIEND_MEMO_LIST@@@Z@4JA
  05b06	83 c0 06	 add	 eax, 6
  05b09	50		 push	 eax
  05b0a	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  05b0f	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  05b14	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05b1a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2662 : 		return;

  05b1d	e9 33 01 00 00	 jmp	 $LN2@FriendMemo@5
$LN1@FriendMemo@5:

; 2663 : 	}
; 2664 : 
; 2665 : 	int memoindex;
; 2666 : 	char subject[33]="";

  05b22	a0 00 00 00 00	 mov	 al, BYTE PTR ??_C@_00CNPNBAHC@?$AA@
  05b27	88 45 bc	 mov	 BYTE PTR _subject$[ebp], al
  05b2a	33 c0		 xor	 eax, eax
  05b2c	89 45 bd	 mov	 DWORD PTR _subject$[ebp+1], eax
  05b2f	89 45 c1	 mov	 DWORD PTR _subject$[ebp+5], eax
  05b32	89 45 c5	 mov	 DWORD PTR _subject$[ebp+9], eax
  05b35	89 45 c9	 mov	 DWORD PTR _subject$[ebp+13], eax
  05b38	89 45 cd	 mov	 DWORD PTR _subject$[ebp+17], eax
  05b3b	89 45 d1	 mov	 DWORD PTR _subject$[ebp+21], eax
  05b3e	89 45 d5	 mov	 DWORD PTR _subject$[ebp+25], eax
  05b41	89 45 d9	 mov	 DWORD PTR _subject$[ebp+29], eax

; 2667 : 	char date[31]="";

  05b44	a0 00 00 00 00	 mov	 al, BYTE PTR ??_C@_00CNPNBAHC@?$AA@
  05b49	88 45 9c	 mov	 BYTE PTR _date$[ebp], al
  05b4c	33 c0		 xor	 eax, eax
  05b4e	89 45 9d	 mov	 DWORD PTR _date$[ebp+1], eax
  05b51	89 45 a1	 mov	 DWORD PTR _date$[ebp+5], eax
  05b54	89 45 a5	 mov	 DWORD PTR _date$[ebp+9], eax
  05b57	89 45 a9	 mov	 DWORD PTR _date$[ebp+13], eax
  05b5a	89 45 ad	 mov	 DWORD PTR _date$[ebp+17], eax
  05b5d	89 45 b1	 mov	 DWORD PTR _date$[ebp+21], eax
  05b60	89 45 b5	 mov	 DWORD PTR _date$[ebp+25], eax
  05b63	66 89 45 b9	 mov	 WORD PTR _date$[ebp+29], ax

; 2668 : 
; 2669 : 	memoindex = lpMsg->MemoIndex;

  05b67	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05b6a	0f b7 48 06	 movzx	 ecx, WORD PTR [eax+6]
  05b6e	89 4d e0	 mov	 DWORD PTR _memoindex$[ebp], ecx

; 2670 : 	memcpy(subject, lpMsg->Subject, sizeof(lpMsg->Subject));

  05b71	6a 20		 push	 32			; 00000020H
  05b73	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05b76	83 c0 3a	 add	 eax, 58			; 0000003aH
  05b79	50		 push	 eax
  05b7a	8d 4d bc	 lea	 ecx, DWORD PTR _subject$[ebp]
  05b7d	51		 push	 ecx
  05b7e	e8 00 00 00 00	 call	 _memcpy
  05b83	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2671 : 	memcpy(date, lpMsg->Date, sizeof(lpMsg->Date));

  05b86	6a 1e		 push	 30			; 0000001eH
  05b88	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05b8b	83 c0 1c	 add	 eax, 28			; 0000001cH
  05b8e	50		 push	 eax
  05b8f	8d 4d 9c	 lea	 ecx, DWORD PTR _date$[ebp]
  05b92	51		 push	 ecx
  05b93	e8 00 00 00 00	 call	 _memcpy
  05b98	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2672 : 
; 2673 : 	PMSG_FRIEND_MEMO_LIST pMsg;
; 2674 : 
; 2675 : 	pMsg.h.setE((LPBYTE)&pMsg, 0xC6, sizeof(pMsg));

  05b9b	6a 6c		 push	 108			; 0000006cH
  05b9d	68 c6 00 00 00	 push	 198			; 000000c6H
  05ba2	8d 85 30 ff ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  05ba8	50		 push	 eax
  05ba9	8d 8d 30 ff ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05baf	e8 00 00 00 00	 call	 ?setE@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::setE

; 2676 : 	memcpy(pMsg.Date, lpMsg->Date, sizeof(pMsg.Date));

  05bb4	6a 1e		 push	 30			; 0000001eH
  05bb6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05bb9	83 c0 1c	 add	 eax, 28			; 0000001cH
  05bbc	50		 push	 eax
  05bbd	8d 8d 40 ff ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp+16]
  05bc3	51		 push	 ecx
  05bc4	e8 00 00 00 00	 call	 _memcpy
  05bc9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2677 : 	memcpy(pMsg.Name, lpMsg->SendName, sizeof(pMsg.Name));

  05bcc	6a 0a		 push	 10			; 0000000aH
  05bce	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05bd1	83 c0 08	 add	 eax, 8
  05bd4	50		 push	 eax
  05bd5	8d 8d 36 ff ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp+6]
  05bdb	51		 push	 ecx
  05bdc	e8 00 00 00 00	 call	 _memcpy
  05be1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2678 : 	memcpy(pMsg.Subject, lpMsg->Subject, sizeof(pMsg.Subject));

  05be4	6a 3c		 push	 60			; 0000003cH
  05be6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05be9	83 c0 3a	 add	 eax, 58			; 0000003aH
  05bec	50		 push	 eax
  05bed	8d 8d 5e ff ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp+46]
  05bf3	51		 push	 ecx
  05bf4	e8 00 00 00 00	 call	 _memcpy
  05bf9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2679 : 	pMsg.Number = memoindex;

  05bfc	66 8b 45 e0	 mov	 ax, WORD PTR _memoindex$[ebp]
  05c00	66 89 85 34 ff
	ff ff		 mov	 WORD PTR _pMsg$[ebp+4], ax

; 2680 : 	pMsg.read = lpMsg->read;

  05c07	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05c0a	8a 48 5a	 mov	 cl, BYTE PTR [eax+90]
  05c0d	88 4d 9a	 mov	 BYTE PTR _pMsg$[ebp+106], cl

; 2681 : 
; 2682 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  05c10	6a 6c		 push	 108			; 0000006cH
  05c12	8d 85 30 ff ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  05c18	50		 push	 eax
  05c19	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  05c1c	0f b7 51 04	 movzx	 edx, WORD PTR [ecx+4]
  05c20	52		 push	 edx
  05c21	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  05c26	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2683 : 	
; 2684 : 	LogAdd("[%s] Friend Mail list : (%d:%10s:%s:%s)", SendName.GetBuffer(), memoindex, date, RecvName.GetBuffer(), subject);

  05c29	8d 45 bc	 lea	 eax, DWORD PTR _subject$[ebp]
  05c2c	50		 push	 eax
  05c2d	8d 4d e4	 lea	 ecx, DWORD PTR _RecvName$[ebp]
  05c30	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  05c35	50		 push	 eax
  05c36	8d 4d 9c	 lea	 ecx, DWORD PTR _date$[ebp]
  05c39	51		 push	 ecx
  05c3a	8b 55 e0	 mov	 edx, DWORD PTR _memoindex$[ebp]
  05c3d	52		 push	 edx
  05c3e	8d 4d f0	 lea	 ecx, DWORD PTR _SendName$[ebp]
  05c41	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  05c46	50		 push	 eax
  05c47	68 00 00 00 00	 push	 OFFSET ??_C@_0CI@INBOEHDN@?$FL?$CFs?$FN?5Friend?5Mail?5list?5?3?5?$CI?$CFd?3?$CF10s@
  05c4c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  05c52	83 c4 18	 add	 esp, 24			; 00000018H
$LN2@FriendMemo@5:

; 2685 : }

  05c55	5f		 pop	 edi
  05c56	5e		 pop	 esi
  05c57	5b		 pop	 ebx
  05c58	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  05c5b	33 cd		 xor	 ecx, ebp
  05c5d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  05c62	8b e5		 mov	 esp, ebp
  05c64	5d		 pop	 ebp
  05c65	c3		 ret	 0
?FriendMemoList@@YAXPAUFHP_FRIEND_MEMO_LIST@@@Z ENDP	; FriendMemoList
_TEXT	ENDS
PUBLIC	??_C@_0BP@DKLEPGIB@?$FL?$CFs?$FN?5Friend?5Mail?5read?5Index?3?$CFd?$AA@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendMemoReadReq@@YAXPAUPMSG_FRIEND_READ_MEMO_REQ@@H@Z@4JA ; `FriendMemoReadReq'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
PUBLIC	?FriendMemoReadReq@@YAXPAUPMSG_FRIEND_READ_MEMO_REQ@@H@Z ; FriendMemoReadReq
;	COMDAT ??_C@_0BP@DKLEPGIB@?$FL?$CFs?$FN?5Friend?5Mail?5read?5Index?3?$CFd?$AA@
CONST	SEGMENT
??_C@_0BP@DKLEPGIB@?$FL?$CFs?$FN?5Friend?5Mail?5read?5Index?3?$CFd?$AA@ DB '['
	DB	'%s] Friend Mail read Index:%d', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendMemoReadReq@@YAXPAUPMSG_FRIEND_READ_MEMO_REQ@@H@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendMemoReadReq@@YAXPAUPMSG_FRIEND_READ_MEMO_REQ@@H@Z@4JA DD 0a88H ; `FriendMemoReadReq'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_pMsg$ = -24						; size = 18
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendMemoReadReq@@YAXPAUPMSG_FRIEND_READ_MEMO_REQ@@H@Z PROC ; FriendMemoReadReq

; 2696 : {

  05c70	55		 push	 ebp
  05c71	8b ec		 mov	 ebp, esp
  05c73	83 ec 58	 sub	 esp, 88			; 00000058H
  05c76	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  05c7b	33 c5		 xor	 eax, ebp
  05c7d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  05c80	53		 push	 ebx
  05c81	56		 push	 esi
  05c82	57		 push	 edi

; 2697 : 	if ( !gObjIsConnectedGP(aIndex))

  05c83	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05c86	50		 push	 eax
  05c87	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  05c8c	83 c4 04	 add	 esp, 4
  05c8f	85 c0		 test	 eax, eax
  05c91	75 21		 jne	 SHORT $LN1@FriendMemo@6

; 2698 : 	{
; 2699 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  05c93	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendMemoReadReq@@YAXPAUPMSG_FRIEND_READ_MEMO_REQ@@H@Z@4JA
  05c98	83 c0 03	 add	 eax, 3
  05c9b	50		 push	 eax
  05c9c	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  05ca1	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  05ca6	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05cac	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2700 : 		return;

  05caf	e9 81 00 00 00	 jmp	 $LN2@FriendMemo@6
$LN1@FriendMemo@6:

; 2701 : 	}
; 2702 : 
; 2703 : 	FHP_FRIEND_MEMO_RECV_REQ pMsg;
; 2704 : 
; 2705 : 	pMsg.h.set((LPBYTE)&pMsg, 0x72, sizeof(pMsg));

  05cb4	6a 12		 push	 18			; 00000012H
  05cb6	6a 72		 push	 114			; 00000072H
  05cb8	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  05cbb	50		 push	 eax
  05cbc	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05cbf	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2706 : 	pMsg.MemoIndex = lpMsg->MemoIndex;

  05cc4	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05cc7	66 8b 48 04	 mov	 cx, WORD PTR [eax+4]
  05ccb	66 89 4d ee	 mov	 WORD PTR _pMsg$[ebp+6], cx

; 2707 : 	pMsg.Number = aIndex;

  05ccf	66 8b 45 0c	 mov	 ax, WORD PTR _aIndex$[ebp]
  05cd3	66 89 45 ec	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 2708 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  05cd7	6a 0a		 push	 10			; 0000000aH
  05cd9	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05cdc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05ce2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05ce8	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  05cec	52		 push	 edx
  05ced	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$[ebp+8]
  05cf0	50		 push	 eax
  05cf1	e8 00 00 00 00	 call	 _memcpy
  05cf6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2709 : 
; 2710 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  05cf9	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  05cfd	50		 push	 eax
  05cfe	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05d01	51		 push	 ecx
  05d02	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  05d07	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2711 : 
; 2712 : 	LogAdd("[%s] Friend Mail read Index:%d", gObj[aIndex].Name, lpMsg->MemoIndex);

  05d0c	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05d0f	0f b7 48 04	 movzx	 ecx, WORD PTR [eax+4]
  05d13	51		 push	 ecx
  05d14	8b 55 0c	 mov	 edx, DWORD PTR _aIndex$[ebp]
  05d17	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  05d1d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05d22	8d 4c 10 77	 lea	 ecx, DWORD PTR [eax+edx+119]
  05d26	51		 push	 ecx
  05d27	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@DKLEPGIB@?$FL?$CFs?$FN?5Friend?5Mail?5read?5Index?3?$CFd?$AA@
  05d2c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  05d32	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@FriendMemo@6:

; 2713 : 
; 2714 : }

  05d35	5f		 pop	 edi
  05d36	5e		 pop	 esi
  05d37	5b		 pop	 ebx
  05d38	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  05d3b	33 cd		 xor	 ecx, ebp
  05d3d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  05d42	8b e5		 mov	 esp, ebp
  05d44	5d		 pop	 ebp
  05d45	c3		 ret	 0
?FriendMemoReadReq@@YAXPAUPMSG_FRIEND_READ_MEMO_REQ@@H@Z ENDP ; FriendMemoReadReq
; Function compile flags: /Odtp /ZI
_this$ = -4						; size = 4
_iGuildNumber$ = 8					; size = 4
?SetGuildUnion@_GUILD_INFO_STRUCT@@QAEXH@Z PROC		; _GUILD_INFO_STRUCT::SetGuildUnion
; _this$ = ecx

; 2718 : {

  05d50	55		 push	 ebp
  05d51	8b ec		 mov	 ebp, esp
  05d53	83 ec 44	 sub	 esp, 68			; 00000044H
  05d56	53		 push	 ebx
  05d57	56		 push	 esi
  05d58	57		 push	 edi
  05d59	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2719 : 	this->iGuildUnion = iGuildNumber;

  05d5c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  05d5f	8b 4d 08	 mov	 ecx, DWORD PTR _iGuildNumber$[ebp]
  05d62	89 88 1c 07 00
	00		 mov	 DWORD PTR [eax+1820], ecx

; 2720 : 	this->SetTimeStamp();

  05d68	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  05d6b	e8 00 00 00 00	 call	 ?SetTimeStamp@_GUILD_INFO_STRUCT@@QAEXXZ ; _GUILD_INFO_STRUCT::SetTimeStamp

; 2721 : };	

  05d70	5f		 pop	 edi
  05d71	5e		 pop	 esi
  05d72	5b		 pop	 ebx
  05d73	8b e5		 mov	 esp, ebp
  05d75	5d		 pop	 ebp
  05d76	c2 04 00	 ret	 4
?SetGuildUnion@_GUILD_INFO_STRUCT@@QAEXH@Z ENDP		; _GUILD_INFO_STRUCT::SetGuildUnion
; Function compile flags: /Odtp /ZI
_this$ = -4						; size = 4
_iGuildNumber$ = 8					; size = 4
?SetGuildRival@_GUILD_INFO_STRUCT@@QAEXH@Z PROC		; _GUILD_INFO_STRUCT::SetGuildRival
; _this$ = ecx

; 2724 : {

  05d80	55		 push	 ebp
  05d81	8b ec		 mov	 ebp, esp
  05d83	83 ec 44	 sub	 esp, 68			; 00000044H
  05d86	53		 push	 ebx
  05d87	56		 push	 esi
  05d88	57		 push	 edi
  05d89	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2725 : 	this->iGuildRival = iGuildNumber;

  05d8c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  05d8f	8b 4d 08	 mov	 ecx, DWORD PTR _iGuildNumber$[ebp]
  05d92	89 88 20 07 00
	00		 mov	 DWORD PTR [eax+1824], ecx

; 2726 : 	this->SetTimeStamp();

  05d98	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  05d9b	e8 00 00 00 00	 call	 ?SetTimeStamp@_GUILD_INFO_STRUCT@@QAEXXZ ; _GUILD_INFO_STRUCT::SetTimeStamp

; 2727 : };

  05da0	5f		 pop	 edi
  05da1	5e		 pop	 esi
  05da2	5b		 pop	 ebx
  05da3	8b e5		 mov	 esp, ebp
  05da5	5d		 pop	 ebp
  05da6	c2 04 00	 ret	 4
?SetGuildRival@_GUILD_INFO_STRUCT@@QAEXH@Z ENDP		; _GUILD_INFO_STRUCT::SetGuildRival
; Function compile flags: /Odtp /ZI
_this$ = -4						; size = 4
?SetTimeStamp@_GUILD_INFO_STRUCT@@QAEXXZ PROC		; _GUILD_INFO_STRUCT::SetTimeStamp
; _this$ = ecx

; 2730 : {

  05db0	55		 push	 ebp
  05db1	8b ec		 mov	 ebp, esp
  05db3	83 ec 44	 sub	 esp, 68			; 00000044H
  05db6	53		 push	 ebx
  05db7	56		 push	 esi
  05db8	57		 push	 edi
  05db9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2731 : 	this->iTimeStamp++;

  05dbc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  05dbf	8b 88 24 07 00
	00		 mov	 ecx, DWORD PTR [eax+1828]
  05dc5	83 c1 01	 add	 ecx, 1
  05dc8	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  05dcb	89 8a 24 07 00
	00		 mov	 DWORD PTR [edx+1828], ecx

; 2732 : };

  05dd1	5f		 pop	 edi
  05dd2	5e		 pop	 esi
  05dd3	5b		 pop	 ebx
  05dd4	8b e5		 mov	 esp, ebp
  05dd6	5d		 pop	 ebp
  05dd7	c3		 ret	 0
?SetTimeStamp@_GUILD_INFO_STRUCT@@QAEXXZ ENDP		; _GUILD_INFO_STRUCT::SetTimeStamp
_TEXT	ENDS
PUBLIC	??_C@_0BL@NKLNIHDF@?$FL?$CFs?$FN?5Friend?5Mail?5read?5?$CI?$CFd?$CJ?$AA@ ; `string'
PUBLIC	?setE@PWMSG_HEAD@@QAEXPAEEH@Z			; PWMSG_HEAD::setE
PUBLIC	??_C@_0CB@LDOIFNPP@error?9L2?5?3?5Friend?5Memo?5Max?5?$CFs?5?$CFd@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendMemoRead@@YAXPAUFHP_FRIEND_MEMO_RECV@@@Z@4JA ; `FriendMemoRead'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0BL@NKLNIHDF@?$FL?$CFs?$FN?5Friend?5Mail?5read?5?$CI?$CFd?$CJ?$AA@
CONST	SEGMENT
??_C@_0BL@NKLNIHDF@?$FL?$CFs?$FN?5Friend?5Mail?5read?5?$CI?$CFd?$CJ?$AA@ DB '['
	DB	'%s] Friend Mail read (%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CB@LDOIFNPP@error?9L2?5?3?5Friend?5Memo?5Max?5?$CFs?5?$CFd@
CONST	SEGMENT
??_C@_0CB@LDOIFNPP@error?9L2?5?3?5Friend?5Memo?5Max?5?$CFs?5?$CFd@ DB 'er'
	DB	'ror-L2 : Friend Memo Max %s %d', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendMemoRead@@YAXPAUFHP_FRIEND_MEMO_RECV@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendMemoRead@@YAXPAUFHP_FRIEND_MEMO_RECV@@@Z@4JA DD 0abaH ; `FriendMemoRead'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_nsize$ = -1048						; size = 4
_pMsg$ = -1044						; size = 1028
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendMemoRead@@YAXPAUFHP_FRIEND_MEMO_RECV@@@Z PROC	; FriendMemoRead

; 2746 : {

  05de0	55		 push	 ebp
  05de1	8b ec		 mov	 ebp, esp
  05de3	81 ec 58 04 00
	00		 sub	 esp, 1112		; 00000458H
  05de9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  05dee	33 c5		 xor	 eax, ebp
  05df0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  05df3	53		 push	 ebx
  05df4	56		 push	 esi
  05df5	57		 push	 edi

; 2747 : 	char_ID Name(lpMsg->Name);

  05df6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05df9	83 c0 06	 add	 eax, 6
  05dfc	50		 push	 eax
  05dfd	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  05e00	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2748 : 
; 2749 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  05e05	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  05e08	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  05e0d	50		 push	 eax
  05e0e	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05e11	0f bf 48 04	 movsx	 ecx, WORD PTR [eax+4]
  05e15	51		 push	 ecx
  05e16	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  05e1b	83 c4 08	 add	 esp, 8
  05e1e	85 c0		 test	 eax, eax
  05e20	75 21		 jne	 SHORT $LN2@FriendMemo@7

; 2750 : 	{
; 2751 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  05e22	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendMemoRead@@YAXPAUFHP_FRIEND_MEMO_RECV@@@Z@4JA
  05e27	83 c0 05	 add	 eax, 5
  05e2a	50		 push	 eax
  05e2b	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  05e30	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  05e35	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05e3b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2752 : 		return;

  05e3e	e9 21 01 00 00	 jmp	 $LN3@FriendMemo@7
$LN2@FriendMemo@7:

; 2753 : 	}
; 2754 : 
; 2755 : 	PMSG_FRIEND_READ_MEMO pMsg;
; 2756 : 
; 2757 : 	int nsize = sizeof(pMsg)-1000;

  05e43	c7 85 e8 fb ff
	ff 1c 00 00 00	 mov	 DWORD PTR _nsize$[ebp], 28 ; 0000001cH

; 2758 : 
; 2759 : 	if ( lpMsg->MemoSize > 1000 )

  05e4d	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05e50	0f bf 48 12	 movsx	 ecx, WORD PTR [eax+18]
  05e54	81 f9 e8 03 00
	00		 cmp	 ecx, 1000		; 000003e8H
  05e5a	7e 21		 jle	 SHORT $LN1@FriendMemo@7

; 2760 : 	{
; 2761 : 		LogAddTD("error-L2 : Friend Memo Max %s %d", __FILE__, __LINE__);

  05e5c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendMemoRead@@YAXPAUFHP_FRIEND_MEMO_RECV@@@Z@4JA
  05e61	83 c0 0f	 add	 eax, 15			; 0000000fH
  05e64	50		 push	 eax
  05e65	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  05e6a	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@LDOIFNPP@error?9L2?5?3?5Friend?5Memo?5Max?5?$CFs?5?$CFd@
  05e6f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05e75	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2762 : 		return;

  05e78	e9 e7 00 00 00	 jmp	 $LN3@FriendMemo@7
$LN1@FriendMemo@7:

; 2763 : 	}
; 2764 : 
; 2765 : 	nsize += lpMsg->MemoSize;

  05e7d	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05e80	0f bf 48 12	 movsx	 ecx, WORD PTR [eax+18]
  05e84	03 8d e8 fb ff
	ff		 add	 ecx, DWORD PTR _nsize$[ebp]
  05e8a	89 8d e8 fb ff
	ff		 mov	 DWORD PTR _nsize$[ebp], ecx

; 2766 : 
; 2767 : 	pMsg.h.setE((LPBYTE)&pMsg, 0xC7, nsize);

  05e90	8b 85 e8 fb ff
	ff		 mov	 eax, DWORD PTR _nsize$[ebp]
  05e96	50		 push	 eax
  05e97	68 c7 00 00 00	 push	 199			; 000000c7H
  05e9c	8d 8d ec fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05ea2	51		 push	 ecx
  05ea3	8d 8d ec fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05ea9	e8 00 00 00 00	 call	 ?setE@PWMSG_HEAD@@QAEXPAEEH@Z ; PWMSG_HEAD::setE

; 2768 : 	pMsg.MemoIndex = lpMsg->MemoIndex;

  05eae	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05eb1	66 8b 48 10	 mov	 cx, WORD PTR [eax+16]
  05eb5	66 89 8d f0 fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+4], cx

; 2769 : 	pMsg.MemoSize = lpMsg->MemoSize;

  05ebc	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05ebf	66 8b 48 12	 mov	 cx, WORD PTR [eax+18]
  05ec3	66 89 8d f2 fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+6], cx

; 2770 : 	pMsg.Dir = lpMsg->Dir;

  05eca	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05ecd	8a 48 26	 mov	 cl, BYTE PTR [eax+38]
  05ed0	88 8d 06 fc ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+26], cl

; 2771 : 	pMsg.Action = lpMsg->Action;

  05ed6	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05ed9	8a 48 27	 mov	 cl, BYTE PTR [eax+39]
  05edc	88 8d 07 fc ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+27], cl

; 2772 : 	memcpy(pMsg.Photo, lpMsg->Photo,sizeof(pMsg.Photo));

  05ee2	6a 12		 push	 18			; 00000012H
  05ee4	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05ee7	83 c0 14	 add	 eax, 20			; 00000014H
  05eea	50		 push	 eax
  05eeb	8d 8d f4 fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp+8]
  05ef1	51		 push	 ecx
  05ef2	e8 00 00 00 00	 call	 _memcpy
  05ef7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2773 : 	memcpy(pMsg.Memo, lpMsg->Memo, lpMsg->MemoSize);

  05efa	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05efd	0f bf 48 12	 movsx	 ecx, WORD PTR [eax+18]
  05f01	51		 push	 ecx
  05f02	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  05f05	83 c2 28	 add	 edx, 40			; 00000028H
  05f08	52		 push	 edx
  05f09	8d 85 08 fc ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp+28]
  05f0f	50		 push	 eax
  05f10	e8 00 00 00 00	 call	 _memcpy
  05f15	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2774 : 
; 2775 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, nsize);

  05f18	8b 85 e8 fb ff
	ff		 mov	 eax, DWORD PTR _nsize$[ebp]
  05f1e	50		 push	 eax
  05f1f	8d 8d ec fb ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05f25	51		 push	 ecx
  05f26	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  05f29	0f bf 42 04	 movsx	 eax, WORD PTR [edx+4]
  05f2d	50		 push	 eax
  05f2e	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  05f33	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2776 : 
; 2777 : 	LogAdd("[%s] Friend Mail read (%d)", gObj[lpMsg->Number].Name, lpMsg->MemoIndex);

  05f36	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05f39	0f b7 48 10	 movzx	 ecx, WORD PTR [eax+16]
  05f3d	51		 push	 ecx
  05f3e	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  05f41	0f bf 42 04	 movsx	 eax, WORD PTR [edx+4]
  05f45	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05f4b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05f51	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  05f55	52		 push	 edx
  05f56	68 00 00 00 00	 push	 OFFSET ??_C@_0BL@NKLNIHDF@?$FL?$CFs?$FN?5Friend?5Mail?5read?5?$CI?$CFd?$CJ?$AA@
  05f5b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  05f61	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN3@FriendMemo@7:

; 2778 : }

  05f64	5f		 pop	 edi
  05f65	5e		 pop	 esi
  05f66	5b		 pop	 ebx
  05f67	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  05f6a	33 cd		 xor	 ecx, ebp
  05f6c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  05f71	8b e5		 mov	 esp, ebp
  05f73	5d		 pop	 ebp
  05f74	c3		 ret	 0
?FriendMemoRead@@YAXPAUFHP_FRIEND_MEMO_RECV@@@Z ENDP	; FriendMemoRead
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\include\prodef.h
_TEXT	ENDS
;	COMDAT ?setE@PWMSG_HEAD@@QAEXPAEEH@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_lpBuf$ = 8						; size = 4
_head$ = 12						; size = 1
_size$ = 16						; size = 4
?setE@PWMSG_HEAD@@QAEXPAEEH@Z PROC			; PWMSG_HEAD::setE, COMDAT
; _this$ = ecx

; 130  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 131  : 		lpBuf[0] = 0xC4;

  0000c	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  0000f	c6 00 c4	 mov	 BYTE PTR [eax], 196	; 000000c4H

; 132  : 		lpBuf[1] = SET_NUMBERH(size);

  00012	8b 45 10	 mov	 eax, DWORD PTR _size$[ebp]
  00015	c1 e8 08	 shr	 eax, 8
  00018	8b 4d 08	 mov	 ecx, DWORD PTR _lpBuf$[ebp]
  0001b	88 41 01	 mov	 BYTE PTR [ecx+1], al

; 133  : 		lpBuf[2] = SET_NUMBERL(size);

  0001e	8b 45 10	 mov	 eax, DWORD PTR _size$[ebp]
  00021	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00026	8b 4d 08	 mov	 ecx, DWORD PTR _lpBuf$[ebp]
  00029	88 41 02	 mov	 BYTE PTR [ecx+2], al

; 134  : 		lpBuf[3] = head;

  0002c	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  0002f	8a 4d 0c	 mov	 cl, BYTE PTR _head$[ebp]
  00032	88 48 03	 mov	 BYTE PTR [eax+3], cl

; 135  : 	};

  00035	5f		 pop	 edi
  00036	5e		 pop	 esi
  00037	5b		 pop	 ebx
  00038	8b e5		 mov	 esp, ebp
  0003a	5d		 pop	 ebp
  0003b	c2 0c 00	 ret	 12			; 0000000cH
?setE@PWMSG_HEAD@@QAEXPAEEH@Z ENDP			; PWMSG_HEAD::setE
_TEXT	ENDS
PUBLIC	??_C@_0CL@CONIHEEP@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendMemoDelReq@@YAXPAUPMSG_FRIEND_MEMO_DEL_REQ@@H@Z@4JA ; `FriendMemoDelReq'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
PUBLIC	?FriendMemoDelReq@@YAXPAUPMSG_FRIEND_MEMO_DEL_REQ@@H@Z ; FriendMemoDelReq
;	COMDAT ??_C@_0CL@CONIHEEP@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@
; File d:\projects\exteam6.3\source\gameserver\gameserver\edsprotocol.cpp
CONST	SEGMENT
??_C@_0CL@CONIHEEP@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@ DB '[%'
	DB	's] Friend mail delete request Index:(%d)', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendMemoDelReq@@YAXPAUPMSG_FRIEND_MEMO_DEL_REQ@@H@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendMemoDelReq@@YAXPAUPMSG_FRIEND_MEMO_DEL_REQ@@H@Z@4JA DD 0ae5H ; `FriendMemoDelReq'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_pMsg$ = -24						; size = 18
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendMemoDelReq@@YAXPAUPMSG_FRIEND_MEMO_DEL_REQ@@H@Z PROC ; FriendMemoDelReq

; 2789 : {

  05f80	55		 push	 ebp
  05f81	8b ec		 mov	 ebp, esp
  05f83	83 ec 58	 sub	 esp, 88			; 00000058H
  05f86	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  05f8b	33 c5		 xor	 eax, ebp
  05f8d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  05f90	53		 push	 ebx
  05f91	56		 push	 esi
  05f92	57		 push	 edi

; 2790 : 	if ( !gObjIsConnectedGP(aIndex))

  05f93	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05f96	50		 push	 eax
  05f97	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  05f9c	83 c4 04	 add	 esp, 4
  05f9f	85 c0		 test	 eax, eax
  05fa1	75 21		 jne	 SHORT $LN1@FriendMemo@8

; 2791 : 	{
; 2792 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  05fa3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendMemoDelReq@@YAXPAUPMSG_FRIEND_MEMO_DEL_REQ@@H@Z@4JA
  05fa8	83 c0 03	 add	 eax, 3
  05fab	50		 push	 eax
  05fac	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  05fb1	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  05fb6	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05fbc	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2793 : 		return;

  05fbf	e9 81 00 00 00	 jmp	 $LN2@FriendMemo@8
$LN1@FriendMemo@8:

; 2794 : 	}
; 2795 : 
; 2796 : 	FHP_FRIEND_MEMO_DEL_REQ pMsg;
; 2797 : 
; 2798 : 	pMsg.h.set((LPBYTE)&pMsg, 0x73, sizeof(pMsg));

  05fc4	6a 12		 push	 18			; 00000012H
  05fc6	6a 73		 push	 115			; 00000073H
  05fc8	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  05fcb	50		 push	 eax
  05fcc	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05fcf	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2799 : 	pMsg.MemoIndex = lpMsg->MemoIndex;

  05fd4	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  05fd7	66 8b 48 04	 mov	 cx, WORD PTR [eax+4]
  05fdb	66 89 4d ee	 mov	 WORD PTR _pMsg$[ebp+6], cx

; 2800 : 	pMsg.Number = aIndex;

  05fdf	66 8b 45 0c	 mov	 ax, WORD PTR _aIndex$[ebp]
  05fe3	66 89 45 ec	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 2801 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  05fe7	6a 0a		 push	 10			; 0000000aH
  05fe9	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  05fec	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  05ff2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  05ff8	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  05ffc	52		 push	 edx
  05ffd	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$[ebp+8]
  06000	50		 push	 eax
  06001	e8 00 00 00 00	 call	 _memcpy
  06006	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2802 : 
; 2803 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  06009	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0600d	50		 push	 eax
  0600e	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  06011	51		 push	 ecx
  06012	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  06017	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2804 : 
; 2805 : 	LogAdd("[%s] Friend mail delete request Index:(%d)", gObj[aIndex].Name, lpMsg->MemoIndex);

  0601c	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0601f	0f b7 48 04	 movzx	 ecx, WORD PTR [eax+4]
  06023	51		 push	 ecx
  06024	8b 55 0c	 mov	 edx, DWORD PTR _aIndex$[ebp]
  06027	69 d2 38 2b 00
	00		 imul	 edx, 11064		; 00002b38H
  0602d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06032	8d 4c 10 77	 lea	 ecx, DWORD PTR [eax+edx+119]
  06036	51		 push	 ecx
  06037	68 00 00 00 00	 push	 OFFSET ??_C@_0CL@CONIHEEP@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@
  0603c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  06042	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@FriendMemo@8:

; 2806 : }

  06045	5f		 pop	 edi
  06046	5e		 pop	 esi
  06047	5b		 pop	 ebx
  06048	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0604b	33 cd		 xor	 ecx, ebp
  0604d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  06052	8b e5		 mov	 esp, ebp
  06054	5d		 pop	 ebp
  06055	c3		 ret	 0
?FriendMemoDelReq@@YAXPAUPMSG_FRIEND_MEMO_DEL_REQ@@H@Z ENDP ; FriendMemoDelReq
_TEXT	ENDS
PUBLIC	??_C@_0DA@BCDIIKMO@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendMemoDelResult@@YAXPAUFHP_FRIEND_MEMO_DEL_RESULT@@@Z@4JA ; `FriendMemoDelResult'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0DA@BCDIIKMO@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@
CONST	SEGMENT
??_C@_0DA@BCDIIKMO@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@ DB '[%'
	DB	's] Friend mail delete request (%d) index:(%d)', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendMemoDelResult@@YAXPAUFHP_FRIEND_MEMO_DEL_RESULT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendMemoDelResult@@YAXPAUFHP_FRIEND_MEMO_DEL_RESULT@@@Z@4JA DD 0b00H ; `FriendMemoDelResult'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_pMsg$ = -24						; size = 6
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendMemoDelResult@@YAXPAUFHP_FRIEND_MEMO_DEL_RESULT@@@Z PROC ; FriendMemoDelResult

; 2816 : {

  06060	55		 push	 ebp
  06061	8b ec		 mov	 ebp, esp
  06063	83 ec 58	 sub	 esp, 88			; 00000058H
  06066	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0606b	33 c5		 xor	 eax, ebp
  0606d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  06070	53		 push	 ebx
  06071	56		 push	 esi
  06072	57		 push	 edi

; 2817 : 	char_ID Name(lpMsg->Name);

  06073	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  06076	83 c0 08	 add	 eax, 8
  06079	50		 push	 eax
  0607a	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  0607d	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2818 : 
; 2819 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  06082	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  06085	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  0608a	50		 push	 eax
  0608b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0608e	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  06092	51		 push	 ecx
  06093	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  06098	83 c4 08	 add	 esp, 8
  0609b	85 c0		 test	 eax, eax
  0609d	75 1e		 jne	 SHORT $LN1@FriendMemo@9

; 2820 : 	{
; 2821 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  0609f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendMemoDelResult@@YAXPAUFHP_FRIEND_MEMO_DEL_RESULT@@@Z@4JA
  060a4	83 c0 05	 add	 eax, 5
  060a7	50		 push	 eax
  060a8	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  060ad	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  060b2	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  060b8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2822 : 		return;

  060bb	eb 64		 jmp	 SHORT $LN2@FriendMemo@9
$LN1@FriendMemo@9:

; 2823 : 	}
; 2824 : 
; 2825 : 	PMSG_FRIEND_MEMO_DEL_RESULT pMsg;
; 2826 : 
; 2827 : 	pMsg.h.set((LPBYTE)&pMsg, 0xC8, sizeof(pMsg));

  060bd	6a 06		 push	 6
  060bf	68 c8 00 00 00	 push	 200			; 000000c8H
  060c4	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  060c7	50		 push	 eax
  060c8	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  060cb	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2828 : 	pMsg.MemoIndex = lpMsg->MemoIndex;

  060d0	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  060d3	66 8b 48 04	 mov	 cx, WORD PTR [eax+4]
  060d7	66 89 4d ec	 mov	 WORD PTR _pMsg$[ebp+4], cx

; 2829 : 	pMsg.Result = lpMsg->Result;

  060db	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  060de	8a 48 03	 mov	 cl, BYTE PTR [eax+3]
  060e1	88 4d eb	 mov	 BYTE PTR _pMsg$[ebp+3], cl

; 2830 : 
; 2831 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  060e4	6a 06		 push	 6
  060e6	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  060e9	50		 push	 eax
  060ea	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  060ed	0f bf 51 06	 movsx	 edx, WORD PTR [ecx+6]
  060f1	52		 push	 edx
  060f2	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  060f7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2832 : 
; 2833 : 	LogAdd("[%s] Friend mail delete request (%d) index:(%d)", Name.GetBuffer(), lpMsg->Result, lpMsg->MemoIndex);

  060fa	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  060fd	0f b7 48 04	 movzx	 ecx, WORD PTR [eax+4]
  06101	51		 push	 ecx
  06102	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  06105	0f b6 42 03	 movzx	 eax, BYTE PTR [edx+3]
  06109	50		 push	 eax
  0610a	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  0610d	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  06112	50		 push	 eax
  06113	68 00 00 00 00	 push	 OFFSET ??_C@_0DA@BCDIIKMO@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@
  06118	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0611e	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@FriendMemo@9:

; 2834 : }

  06121	5f		 pop	 edi
  06122	5e		 pop	 esi
  06123	5b		 pop	 ebx
  06124	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  06127	33 cd		 xor	 ecx, ebp
  06129	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0612e	8b e5		 mov	 esp, ebp
  06130	5d		 pop	 ebp
  06131	c3		 ret	 0
?FriendMemoDelResult@@YAXPAUFHP_FRIEND_MEMO_DEL_RESULT@@@Z ENDP ; FriendMemoDelResult
_TEXT	ENDS
PUBLIC	??_C@_0DD@OCMMINHH@?$FL?$CFs?$FN?5Friend?5Invistation?5request?5@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendRoomInvitationReq@@YAXPAUPMSG_ROOM_INVITATION@@H@Z@4JA ; `FriendRoomInvitationReq'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
PUBLIC	?FriendRoomInvitationReq@@YAXPAUPMSG_ROOM_INVITATION@@H@Z ; FriendRoomInvitationReq
;	COMDAT ??_C@_0DD@OCMMINHH@?$FL?$CFs?$FN?5Friend?5Invistation?5request?5@
CONST	SEGMENT
??_C@_0DD@OCMMINHH@?$FL?$CFs?$FN?5Friend?5Invistation?5request?5@ DB '[%s'
	DB	'] Friend Invistation request room:%d winguid:%d', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendRoomInvitationReq@@YAXPAUPMSG_ROOM_INVITATION@@H@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendRoomInvitationReq@@YAXPAUPMSG_ROOM_INVITATION@@H@Z@4JA DD 0b1fH ; `FriendRoomInvitationReq'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_pMsg$ = -36						; size = 32
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendRoomInvitationReq@@YAXPAUPMSG_ROOM_INVITATION@@H@Z PROC ; FriendRoomInvitationReq

; 2847 : {

  06140	55		 push	 ebp
  06141	8b ec		 mov	 ebp, esp
  06143	83 ec 64	 sub	 esp, 100		; 00000064H
  06146	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0614b	33 c5		 xor	 eax, ebp
  0614d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  06150	53		 push	 ebx
  06151	56		 push	 esi
  06152	57		 push	 edi

; 2848 : 	if ( !gObjIsConnectedGP(aIndex))

  06153	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  06156	50		 push	 eax
  06157	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  0615c	83 c4 04	 add	 esp, 4
  0615f	85 c0		 test	 eax, eax
  06161	75 21		 jne	 SHORT $LN1@FriendRoom

; 2849 : 	{
; 2850 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  06163	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendRoomInvitationReq@@YAXPAUPMSG_ROOM_INVITATION@@H@Z@4JA
  06168	83 c0 03	 add	 eax, 3
  0616b	50		 push	 eax
  0616c	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  06171	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  06176	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0617c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2851 : 		return;

  0617f	e9 a7 00 00 00	 jmp	 $LN2@FriendRoom
$LN1@FriendRoom:

; 2852 : 	}
; 2853 : 
; 2854 : 	FHP_FRIEND_INVITATION_REQ pMsg;
; 2855 : 
; 2856 : 	pMsg.h.set((LPBYTE)&pMsg, 0x74, sizeof(pMsg));

  06184	6a 20		 push	 32			; 00000020H
  06186	6a 74		 push	 116			; 00000074H
  06188	8d 45 dc	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0618b	50		 push	 eax
  0618c	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0618f	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2857 : 	pMsg.Number = aIndex;

  06194	66 8b 45 0c	 mov	 ax, WORD PTR _aIndex$[ebp]
  06198	66 89 45 e0	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 2858 : 	pMsg.RoomNumber = lpMsg->RoomNumber;

  0619c	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0619f	66 8b 48 0e	 mov	 cx, WORD PTR [eax+14]
  061a3	66 89 4d f6	 mov	 WORD PTR _pMsg$[ebp+26], cx

; 2859 : 	pMsg.WindowGuid = lpMsg->WindowGuid;

  061a7	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  061aa	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  061ad	89 4d f8	 mov	 DWORD PTR _pMsg$[ebp+28], ecx

; 2860 : 	memcpy(pMsg.FriendName, lpMsg->Name, sizeof(pMsg.FriendName));

  061b0	6a 0a		 push	 10			; 0000000aH
  061b2	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  061b5	83 c0 03	 add	 eax, 3
  061b8	50		 push	 eax
  061b9	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$[ebp+16]
  061bc	51		 push	 ecx
  061bd	e8 00 00 00 00	 call	 _memcpy
  061c2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2861 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  061c5	6a 0a		 push	 10			; 0000000aH
  061c7	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  061ca	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  061d0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  061d6	8d 54 01 77	 lea	 edx, DWORD PTR [ecx+eax+119]
  061da	52		 push	 edx
  061db	8d 45 e2	 lea	 eax, DWORD PTR _pMsg$[ebp+6]
  061de	50		 push	 eax
  061df	e8 00 00 00 00	 call	 _memcpy
  061e4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2862 : 
; 2863 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  061e7	0f b6 45 dd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  061eb	50		 push	 eax
  061ec	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  061ef	51		 push	 ecx
  061f0	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  061f5	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2864 : 
; 2865 : 	LogAdd("[%s] Friend Invistation request room:%d winguid:%d", gObj[aIndex].Name, lpMsg->RoomNumber, lpMsg->WindowGuid);

  061fa	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  061fd	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  06200	51		 push	 ecx
  06201	8b 55 08	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  06204	0f b7 42 0e	 movzx	 eax, WORD PTR [edx+14]
  06208	50		 push	 eax
  06209	8b 4d 0c	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0620c	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  06212	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  06218	8d 44 0a 77	 lea	 eax, DWORD PTR [edx+ecx+119]
  0621c	50		 push	 eax
  0621d	68 00 00 00 00	 push	 OFFSET ??_C@_0DD@OCMMINHH@?$FL?$CFs?$FN?5Friend?5Invistation?5request?5@
  06222	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  06228	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@FriendRoom:

; 2866 : }

  0622b	5f		 pop	 edi
  0622c	5e		 pop	 esi
  0622d	5b		 pop	 ebx
  0622e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  06231	33 cd		 xor	 ecx, ebp
  06233	e8 00 00 00 00	 call	 @__security_check_cookie@4
  06238	8b e5		 mov	 esp, ebp
  0623a	5d		 pop	 ebp
  0623b	c3		 ret	 0
?FriendRoomInvitationReq@@YAXPAUPMSG_ROOM_INVITATION@@H@Z ENDP ; FriendRoomInvitationReq
_TEXT	ENDS
PUBLIC	??_C@_0CC@LIINHIPA@?$FL?$CFs?$FN?5Friend?5Invitation?5result?5?3?$CF@ ; `string'
PUBLIC	?__LINE__Var@?1??FriendRoomInvitationRecv@@YAXPAUFHP_FRIEND_INVITATION_RET@@@Z@4JA ; `FriendRoomInvitationRecv'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0CC@LIINHIPA@?$FL?$CFs?$FN?5Friend?5Invitation?5result?5?3?$CF@
CONST	SEGMENT
??_C@_0CC@LIINHIPA@?$FL?$CFs?$FN?5Friend?5Invitation?5result?5?3?$CF@ DB '['
	DB	'%s] Friend Invitation result :%d', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??FriendRoomInvitationRecv@@YAXPAUFHP_FRIEND_INVITATION_RET@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??FriendRoomInvitationRecv@@YAXPAUFHP_FRIEND_INVITATION_RET@@@Z@4JA DD 0b3cH ; `FriendRoomInvitationRecv'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_pMsg$ = -24						; size = 8
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendRoomInvitationRecv@@YAXPAUFHP_FRIEND_INVITATION_RET@@@Z PROC ; FriendRoomInvitationRecv

; 2876 : {

  06240	55		 push	 ebp
  06241	8b ec		 mov	 ebp, esp
  06243	83 ec 58	 sub	 esp, 88			; 00000058H
  06246	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0624b	33 c5		 xor	 eax, ebp
  0624d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  06250	53		 push	 ebx
  06251	56		 push	 esi
  06252	57		 push	 edi

; 2877 : 	char_ID Name(lpMsg->Name);

  06253	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  06256	83 c0 06	 add	 eax, 6
  06259	50		 push	 eax
  0625a	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  0625d	e8 00 00 00 00	 call	 ??0char_ID@@QAE@PAD@Z	; char_ID::char_ID

; 2878 : 
; 2879 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  06262	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  06265	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  0626a	50		 push	 eax
  0626b	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0626e	0f bf 48 04	 movsx	 ecx, WORD PTR [eax+4]
  06272	51		 push	 ecx
  06273	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  06278	83 c4 08	 add	 esp, 8
  0627b	85 c0		 test	 eax, eax
  0627d	75 1e		 jne	 SHORT $LN1@FriendRoom@2

; 2880 : 	{
; 2881 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  0627f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??FriendRoomInvitationRecv@@YAXPAUFHP_FRIEND_INVITATION_RET@@@Z@4JA
  06284	83 c0 05	 add	 eax, 5
  06287	50		 push	 eax
  06288	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@BHPCBDNN@d?3?2projects?2exteam6?43?2source?2gam@
  0628d	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  06292	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  06298	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2882 : 		return;

  0629b	eb 57		 jmp	 SHORT $LN2@FriendRoom@2
$LN1@FriendRoom@2:

; 2883 : 	}
; 2884 : 
; 2885 : 	PMSG_ROOM_INVITATION_RESULT pMsg;
; 2886 : 
; 2887 : 	pMsg.h.set((LPBYTE)&pMsg, 0xCB, sizeof(pMsg));

  0629d	6a 08		 push	 8
  0629f	68 cb 00 00 00	 push	 203			; 000000cbH
  062a4	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  062a7	50		 push	 eax
  062a8	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  062ab	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD@@QAEXPAEEE@Z ; PBMSG_HEAD::set

; 2888 : 	pMsg.Result = lpMsg->Result;

  062b0	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  062b3	8a 48 03	 mov	 cl, BYTE PTR [eax+3]
  062b6	88 4d eb	 mov	 BYTE PTR _pMsg$[ebp+3], cl

; 2889 : 	pMsg.WindowGuid = lpMsg->WindowGuid;

  062b9	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  062bc	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  062bf	89 4d ec	 mov	 DWORD PTR _pMsg$[ebp+4], ecx

; 2890 : 
; 2891 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  062c2	6a 08		 push	 8
  062c4	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  062c7	50		 push	 eax
  062c8	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  062cb	0f bf 51 04	 movsx	 edx, WORD PTR [ecx+4]
  062cf	52		 push	 edx
  062d0	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  062d5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2892 : 
; 2893 : 	LogAdd("[%s] Friend Invitation result :%d", Name.GetBuffer(), pMsg.Result);

  062d8	0f b6 45 eb	 movzx	 eax, BYTE PTR _pMsg$[ebp+3]
  062dc	50		 push	 eax
  062dd	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  062e0	e8 00 00 00 00	 call	 ?GetBuffer@char_ID@@QAEPADXZ ; char_ID::GetBuffer
  062e5	50		 push	 eax
  062e6	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@LIINHIPA@?$FL?$CFs?$FN?5Friend?5Invitation?5result?5?3?$CF@
  062eb	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  062f1	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@FriendRoom@2:

; 2894 : }

  062f4	5f		 pop	 edi
  062f5	5e		 pop	 esi
  062f6	5b		 pop	 ebx
  062f7	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  062fa	33 cd		 xor	 ecx, ebp
  062fc	e8 00 00 00 00	 call	 @__security_check_cookie@4
  06301	8b e5		 mov	 esp, ebp
  06303	5d		 pop	 ebp
  06304	c3		 ret	 0
?FriendRoomInvitationRecv@@YAXPAUFHP_FRIEND_INVITATION_RET@@@Z ENDP ; FriendRoomInvitationRecv
_TEXT	ENDS
END
