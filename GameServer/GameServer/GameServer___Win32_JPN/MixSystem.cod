; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\MixSystem.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

_DATA	SEGMENT
_g_iNpcUpDfLevel_CGATE DD 01H
	DD	02H
	DD	02dc6c0H
	DD	02H
	DD	03H
	DD	02dc6c0H
	DD	03H
	DD	04H
	DD	02dc6c0H
_g_iNpcUpDfLevel_CSTATUE DD 01H
	DD	03H
	DD	02dc6c0H
	DD	02H
	DD	05H
	DD	02dc6c0H
	DD	03H
	DD	07H
	DD	02dc6c0H
_g_iNpcUpMaxHP_CGATE DD 02625a0H
	DD	02H
	DD	0f4240H
	DD	03567e0H
	DD	03H
	DD	0f4240H
	DD	04f5880H
	DD	04H
	DD	0f4240H
_g_iNpcUpMaxHP_CSTATUE DD 02191c0H
	DD	03H
	DD	0f4240H
	DD	033e140H
	DD	05H
	DD	0f4240H
	DD	04c4b40H
	DD	07H
	DD	0f4240H
_g_iNpcUpRgLevel_CSTATUE DD 01H
	DD	03H
	DD	04c4b40H
	DD	02H
	DD	05H
	DD	04c4b40H
	DD	03H
	DD	07H
	DD	04c4b40H
_g_iCsUserReSpawnArea DD 023H
	DD	011H
	DD	090H
	DD	030H
	DD	04aH
	DD	090H
	DD	073H
	DD	09aH
	DD	023H
	DD	011H
	DD	090H
	DD	030H
_g_iNpcDefense_CGATE DD 064H
	DD	0b4H
	DD	012cH
	DD	0208H
_g_iNpcDefense_CSTATUE DD 050H
	DD	0b4H
	DD	0154H
	DD	0226H
_g_iCastleWallStepAxisY DD 071H
	DD	0a0H
	DD	0cbH
_g_sttBLOODCASTLE_LEVEL DD 0fH
	DD	050H
	DD	0aH
	DD	03cH
	DD	051H
	DD	082H
	DD	03dH
	DD	06eH
	DD	083H
	DD	0b4H
	DD	06fH
	DD	0a0H
	DD	0b5H
	DD	0e6H
	DD	0a1H
	DD	0d2H
	DD	0e7H
	DD	0118H
	DD	0d3H
	DD	0104H
	DD	0119H
	DD	014aH
	DD	0105H
	DD	0136H
	DD	014bH
	DD	0190H
	DD	0137H
	DD	0190H
	DD	0fH
	DD	0257H
	DD	0aH
	DD	0257H
_DATA	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	83 e8 01	 sub	 eax, 1
  0000f	89 45 10	 mov	 DWORD PTR ___n$[ebp], eax
  00012	78 11		 js	 SHORT $LN3@vector
  00014	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00017	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  0001a	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  0001d	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  00020	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  00023	eb e4		 jmp	 SHORT $LN2@vector
$LN3@vector:
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	??_7CMixSystem@@6B@				; CMixSystem::`vftable'
PUBLIC	??0CMixSystem@@QAE@XZ				; CMixSystem::CMixSystem
PUBLIC	??_R4CMixSystem@@6B@				; CMixSystem::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCMixSystem@@@8				; CMixSystem `RTTI Type Descriptor'
PUBLIC	??_R3CMixSystem@@8				; CMixSystem::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CMixSystem@@8				; CMixSystem::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CMixSystem@@8			; CMixSystem::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	??_ECMixSystem@@UAEPAXI@Z:PROC			; CMixSystem::`vector deleting destructor'
;	COMDAT ??_R1A@?0A@EA@CMixSystem@@8
; File d:\projects\exteam6.3\source\gameserver\gameserver\mixsystem.cpp
rdata$r	SEGMENT
??_R1A@?0A@EA@CMixSystem@@8 DD FLAT:??_R0?AVCMixSystem@@@8 ; CMixSystem::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CMixSystem@@8
rdata$r	ENDS
;	COMDAT ??_R2CMixSystem@@8
rdata$r	SEGMENT
??_R2CMixSystem@@8 DD FLAT:??_R1A@?0A@EA@CMixSystem@@8	; CMixSystem::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CMixSystem@@8
rdata$r	SEGMENT
??_R3CMixSystem@@8 DD 00H				; CMixSystem::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CMixSystem@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCMixSystem@@@8
_DATA	SEGMENT
??_R0?AVCMixSystem@@@8 DD FLAT:??_7type_info@@6B@	; CMixSystem `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCMixSystem@@', 00H
_DATA	ENDS
;	COMDAT ??_R4CMixSystem@@6B@
rdata$r	SEGMENT
??_R4CMixSystem@@6B@ DD 00H				; CMixSystem::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCMixSystem@@@8
	DD	FLAT:??_R3CMixSystem@@8
rdata$r	ENDS
;	COMDAT ??_7CMixSystem@@6B@
CONST	SEGMENT
??_7CMixSystem@@6B@ DD FLAT:??_R4CMixSystem@@6B@	; CMixSystem::`vftable'
	DD	FLAT:??_ECMixSystem@@UAEPAXI@Z
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0CMixSystem@@QAE@XZ PROC				; CMixSystem::CMixSystem
; _this$ = ecx

; 27   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CMixSystem@@6B@

; 28   : 	this->iJewelofChaos = ITEMGET(12,15);

  00015	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00018	c7 40 04 0f 18
	00 00		 mov	 DWORD PTR [eax+4], 6159	; 0000180fH

; 29   : 	this->iJewelofBless = ITEMGET(14,13);

  0001f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00022	c7 40 08 0d 1c
	00 00		 mov	 DWORD PTR [eax+8], 7181	; 00001c0dH

; 30   : 	this->iJewelofSoul = ITEMGET(14,14);

  00029	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002c	c7 40 0c 0e 1c
	00 00		 mov	 DWORD PTR [eax+12], 7182 ; 00001c0eH

; 31   : 	this->iJewelofCreation = ITEMGET(14,22);

  00033	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00036	c7 40 10 16 1c
	00 00		 mov	 DWORD PTR [eax+16], 7190 ; 00001c16H

; 32   : 	this->iBundleofBless = ITEMGET(12,30);

  0003d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00040	c7 40 14 1e 18
	00 00		 mov	 DWORD PTR [eax+20], 6174 ; 0000181eH

; 33   : 	this->iBundleofSoul = ITEMGET(12,31);

  00047	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0004a	c7 40 18 1f 18
	00 00		 mov	 DWORD PTR [eax+24], 6175 ; 0000181fH

; 34   : 	this->iCondorFeather = ITEMGET(13,53);

  00051	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00054	c7 40 1c 35 1a
	00 00		 mov	 DWORD PTR [eax+28], 6709 ; 00001a35H

; 35   : 	this->iCondorFlame = ITEMGET(13,52);

  0005b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0005e	c7 40 20 34 1a
	00 00		 mov	 DWORD PTR [eax+32], 6708 ; 00001a34H

; 36   : 	this->iWingofStorm = ITEMGET(12,36);

  00065	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00068	c7 40 24 24 18
	00 00		 mov	 DWORD PTR [eax+36], 6180 ; 00001824H

; 37   : 	this->iWingofEternal = ITEMGET(12,37);

  0006f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00072	c7 40 28 25 18
	00 00		 mov	 DWORD PTR [eax+40], 6181 ; 00001825H

; 38   : 	this->iWingofIllusion = ITEMGET(12,38);

  00079	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0007c	c7 40 2c 26 18
	00 00		 mov	 DWORD PTR [eax+44], 6182 ; 00001826H

; 39   : 	this->iWingofRuin = ITEMGET(12,39);

  00083	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00086	c7 40 30 27 18
	00 00		 mov	 DWORD PTR [eax+48], 6183 ; 00001827H

; 40   : 	this->iCapeofLord = ITEMGET(12,40);

  0008d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00090	c7 40 34 28 18
	00 00		 mov	 DWORD PTR [eax+52], 6184 ; 00001828H

; 41   : 	this->iWingofDimension = ITEMGET(12,43);

  00097	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0009a	c7 40 38 2b 18
	00 00		 mov	 DWORD PTR [eax+56], 6187 ; 0000182bH

; 42   : 	this->CAPE_OF_OVERRULE_ITEMINDEX	= ITEMGET(12, 50);	//OK, +60

  000a1	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000a4	c7 40 3c 32 18
	00 00		 mov	 DWORD PTR [eax+60], 6194 ; 00001832H

; 43   : 
; 44   : 	this->i3rdWingLuckRate = 50;

  000ab	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000ae	c7 40 40 32 00
	00 00		 mov	 DWORD PTR [eax+64], 50	; 00000032H

; 45   : }

  000b5	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000b8	5f		 pop	 edi
  000b9	5e		 pop	 esi
  000ba	5b		 pop	 ebx
  000bb	8b e5		 mov	 esp, ebp
  000bd	5d		 pop	 ebp
  000be	c3		 ret	 0
??0CMixSystem@@QAE@XZ ENDP				; CMixSystem::CMixSystem
_TEXT	ENDS
PUBLIC	??1CMixSystem@@UAE@XZ				; CMixSystem::~CMixSystem
EXTRN	??3@YAXPAX@Z:PROC				; operator delete
; Function compile flags: /Odtp /ZI
;	COMDAT ??_GCMixSystem@@UAEPAXI@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___flags$ = 8						; size = 4
??_GCMixSystem@@UAEPAXI@Z PROC				; CMixSystem::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ??1CMixSystem@@UAE@XZ	; CMixSystem::~CMixSystem
  00014	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00017	83 e0 01	 and	 eax, 1
  0001a	74 0c		 je	 SHORT $LN1@scalar
  0001c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001f	50		 push	 eax
  00020	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00025	83 c4 04	 add	 esp, 4
$LN1@scalar:
  00028	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002b	5f		 pop	 edi
  0002c	5e		 pop	 esi
  0002d	5b		 pop	 ebx
  0002e	8b e5		 mov	 esp, ebp
  00030	5d		 pop	 ebp
  00031	c2 04 00	 ret	 4
??_GCMixSystem@@UAEPAXI@Z ENDP				; CMixSystem::`scalar deleting destructor'
; Function compile flags: /Odtp /ZI
_TEXT	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
??1CMixSystem@@UAE@XZ PROC				; CMixSystem::~CMixSystem
; _this$ = ecx

; 48   : {

  000c0	55		 push	 ebp
  000c1	8b ec		 mov	 ebp, esp
  000c3	83 ec 44	 sub	 esp, 68			; 00000044H
  000c6	53		 push	 ebx
  000c7	56		 push	 esi
  000c8	57		 push	 edi
  000c9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  000cc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000cf	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CMixSystem@@6B@

; 49   : 
; 50   : }

  000d5	5f		 pop	 edi
  000d6	5e		 pop	 esi
  000d7	5b		 pop	 ebx
  000d8	8b e5		 mov	 esp, ebp
  000da	5d		 pop	 ebp
  000db	c3		 ret	 0
??1CMixSystem@@UAE@XZ ENDP				; CMixSystem::~CMixSystem
_TEXT	ENDS
PUBLIC	?ChaosBoxCheck@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxCheck
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
?ChaosBoxCheck@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z PROC	; CMixSystem::ChaosBoxCheck
; _this$ = ecx

; 53   : {

  000e0	55		 push	 ebp
  000e1	8b ec		 mov	 ebp, esp
  000e3	83 ec 44	 sub	 esp, 68			; 00000044H
  000e6	53		 push	 ebx
  000e7	56		 push	 esi
  000e8	57		 push	 edi
  000e9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 54   : 	if ( lpObj->pChaosBox == NULL )

  000ec	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  000ef	83 b8 78 0e 00
	00 00		 cmp	 DWORD PTR [eax+3704], 0
  000f6	75 04		 jne	 SHORT $LN1@ChaosBoxCh

; 55   : 	{
; 56   : 		return false;

  000f8	33 c0		 xor	 eax, eax
  000fa	eb 05		 jmp	 SHORT $LN2@ChaosBoxCh
$LN1@ChaosBoxCh:

; 57   : 	}
; 58   : 
; 59   : 	return true;

  000fc	b8 01 00 00 00	 mov	 eax, 1
$LN2@ChaosBoxCh:

; 60   : }

  00101	5f		 pop	 edi
  00102	5e		 pop	 esi
  00103	5b		 pop	 ebx
  00104	8b e5		 mov	 esp, ebp
  00106	5d		 pop	 ebp
  00107	c2 04 00	 ret	 4
?ChaosBoxCheck@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ENDP	; CMixSystem::ChaosBoxCheck
_TEXT	ENDS
PUBLIC	?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit
EXTRN	??_V@YAXPAX@Z:PROC				; operator delete[]
EXTRN	??0CItem@@QAE@XZ:PROC				; CItem::CItem
EXTRN	??_U@YAPAXI@Z:PROC				; operator new[]
EXTRN	?Clear@CItem@@QAEXXZ:PROC			; CItem::Clear
EXTRN	___security_cookie:DWORD
EXTRN	___CxxFrameHandler3:PROC
EXTRN	@__security_check_cookie@4:PROC
xdata$x	SEGMENT
__unwindtable$?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z$0
__ehfuncinfo$?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
; Function compile flags: /Odtp /ZI
xdata$x	ENDS
_TEXT	SEGMENT
tv86 = -104						; size = 4
$T238527 = -100						; size = 4
$T238528 = -96						; size = 4
$T238531 = -92						; size = 4
$T238532 = -88						; size = 4
_n$ = -20						; size = 4
_this$ = -16						; size = 4
__$EHRec$ = -12						; size = 12
_lpObj$ = 8						; size = 4
?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z PROC	; CMixSystem::ChaosBoxInit
; _this$ = ecx

; 63   : {

  00110	55		 push	 ebp
  00111	8b ec		 mov	 ebp, esp
  00113	6a ff		 push	 -1
  00115	68 00 00 00 00	 push	 __ehhandler$?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z
  0011a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00120	50		 push	 eax
  00121	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00124	53		 push	 ebx
  00125	56		 push	 esi
  00126	57		 push	 edi
  00127	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0012c	33 c5		 xor	 eax, ebp
  0012e	50		 push	 eax
  0012f	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00132	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00138	89 4d f0	 mov	 DWORD PTR _this$[ebp], ecx

; 64   : 	int n;
; 65   : 
; 66   : 	if ( lpObj->pChaosBox != NULL )

  0013b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0013e	83 b8 78 0e 00
	00 00		 cmp	 DWORD PTR [eax+3704], 0
  00145	74 65		 je	 SHORT $LN12@ChaosBoxIn

; 67   : 	{
; 68   : 		for (n=0;n<CHAOS_BOX_SIZE;n++)

  00147	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _n$[ebp], 0
  0014e	eb 09		 jmp	 SHORT $LN11@ChaosBoxIn
$LN10@ChaosBoxIn:
  00150	8b 45 ec	 mov	 eax, DWORD PTR _n$[ebp]
  00153	83 c0 01	 add	 eax, 1
  00156	89 45 ec	 mov	 DWORD PTR _n$[ebp], eax
$LN11@ChaosBoxIn:
  00159	83 7d ec 20	 cmp	 DWORD PTR _n$[ebp], 32	; 00000020H
  0015d	7d 19		 jge	 SHORT $LN9@ChaosBoxIn

; 69   : 		{
; 70   : 			lpObj->pChaosBox[n].Clear();

  0015f	8b 4d ec	 mov	 ecx, DWORD PTR _n$[ebp]
  00162	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  00168	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0016b	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  00171	e8 00 00 00 00	 call	 ?Clear@CItem@@QAEXXZ	; CItem::Clear

; 71   : 		}

  00176	eb d8		 jmp	 SHORT $LN10@ChaosBoxIn
$LN9@ChaosBoxIn:

; 72   : 
; 73   : 		for (n=0;n<CHAOS_BOX_SIZE;n++)

  00178	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _n$[ebp], 0
  0017f	eb 09		 jmp	 SHORT $LN8@ChaosBoxIn
$LN7@ChaosBoxIn:
  00181	8b 45 ec	 mov	 eax, DWORD PTR _n$[ebp]
  00184	83 c0 01	 add	 eax, 1
  00187	89 45 ec	 mov	 DWORD PTR _n$[ebp], eax
$LN8@ChaosBoxIn:
  0018a	83 7d ec 20	 cmp	 DWORD PTR _n$[ebp], 32	; 00000020H
  0018e	7d 12		 jge	 SHORT $LN6@ChaosBoxIn

; 74   : 		{
; 75   : 			lpObj->pChaosBoxMap[n] = -1;

  00190	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00193	8b 88 7c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3708]
  00199	8b 55 ec	 mov	 edx, DWORD PTR _n$[ebp]
  0019c	c6 04 11 ff	 mov	 BYTE PTR [ecx+edx], 255	; 000000ffH

; 76   : 		}

  001a0	eb df		 jmp	 SHORT $LN7@ChaosBoxIn
$LN6@ChaosBoxIn:

; 77   : 		return true;

  001a2	b8 01 00 00 00	 mov	 eax, 1
  001a7	e9 da 00 00 00	 jmp	 $LN13@ChaosBoxIn
$LN12@ChaosBoxIn:

; 78   : 	}
; 79   : 
; 80   : 	lpObj->pChaosBox = new CItem[CHAOS_BOX_SIZE];

  001ac	68 80 1a 00 00	 push	 6784			; 00001a80H
  001b1	e8 00 00 00 00	 call	 ??_U@YAPAXI@Z		; operator new[]
  001b6	83 c4 04	 add	 esp, 4
  001b9	89 45 a0	 mov	 DWORD PTR $T238528[ebp], eax
  001bc	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
  001c3	83 7d a0 00	 cmp	 DWORD PTR $T238528[ebp], 0
  001c7	74 1d		 je	 SHORT $LN15@ChaosBoxIn
  001c9	68 00 00 00 00	 push	 OFFSET ??0CItem@@QAE@XZ	; CItem::CItem
  001ce	6a 20		 push	 32			; 00000020H
  001d0	68 d4 00 00 00	 push	 212			; 000000d4H
  001d5	8b 45 a0	 mov	 eax, DWORD PTR $T238528[ebp]
  001d8	50		 push	 eax
  001d9	e8 00 00 00 00	 call	 ??_H@YGXPAXIHP6EPAX0@Z@Z
  001de	8b 4d a0	 mov	 ecx, DWORD PTR $T238528[ebp]
  001e1	89 4d 98	 mov	 DWORD PTR tv86[ebp], ecx
  001e4	eb 07		 jmp	 SHORT $LN16@ChaosBoxIn
$LN15@ChaosBoxIn:
  001e6	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv86[ebp], 0
$LN16@ChaosBoxIn:
  001ed	8b 55 98	 mov	 edx, DWORD PTR tv86[ebp]
  001f0	89 55 9c	 mov	 DWORD PTR $T238527[ebp], edx
  001f3	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
  001fa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  001fd	8b 4d 9c	 mov	 ecx, DWORD PTR $T238527[ebp]
  00200	89 88 78 0e 00
	00		 mov	 DWORD PTR [eax+3704], ecx

; 81   : 
; 82   : 	if ( lpObj->pChaosBox == NULL )

  00206	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00209	83 b8 78 0e 00
	00 00		 cmp	 DWORD PTR [eax+3704], 0
  00210	75 04		 jne	 SHORT $LN5@ChaosBoxIn

; 83   : 	{
; 84   : 		return false;

  00212	33 c0		 xor	 eax, eax
  00214	eb 70		 jmp	 SHORT $LN13@ChaosBoxIn
$LN5@ChaosBoxIn:

; 85   : 	}
; 86   : 
; 87   : 	lpObj->pChaosBoxMap = new BYTE[CHAOS_BOX_SIZE];

  00216	6a 20		 push	 32			; 00000020H
  00218	e8 00 00 00 00	 call	 ??_U@YAPAXI@Z		; operator new[]
  0021d	83 c4 04	 add	 esp, 4
  00220	89 45 a4	 mov	 DWORD PTR $T238531[ebp], eax
  00223	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00226	8b 4d a4	 mov	 ecx, DWORD PTR $T238531[ebp]
  00229	89 88 7c 0e 00
	00		 mov	 DWORD PTR [eax+3708], ecx

; 88   : 
; 89   : 	if ( lpObj->pChaosBoxMap == NULL )

  0022f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00232	83 b8 7c 0e 00
	00 00		 cmp	 DWORD PTR [eax+3708], 0
  00239	75 1c		 jne	 SHORT $LN4@ChaosBoxIn

; 90   : 	{
; 91   : 		delete lpObj->pChaosBox;

  0023b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0023e	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  00244	89 4d a8	 mov	 DWORD PTR $T238532[ebp], ecx
  00247	8b 55 a8	 mov	 edx, DWORD PTR $T238532[ebp]
  0024a	52		 push	 edx
  0024b	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00250	83 c4 04	 add	 esp, 4

; 92   : 		return false;

  00253	33 c0		 xor	 eax, eax
  00255	eb 2f		 jmp	 SHORT $LN13@ChaosBoxIn
$LN4@ChaosBoxIn:

; 93   : 	}
; 94   : 
; 95   : 	for (n=0;n<CHAOS_BOX_SIZE;n++)

  00257	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _n$[ebp], 0
  0025e	eb 09		 jmp	 SHORT $LN3@ChaosBoxIn
$LN2@ChaosBoxIn:
  00260	8b 45 ec	 mov	 eax, DWORD PTR _n$[ebp]
  00263	83 c0 01	 add	 eax, 1
  00266	89 45 ec	 mov	 DWORD PTR _n$[ebp], eax
$LN3@ChaosBoxIn:
  00269	83 7d ec 20	 cmp	 DWORD PTR _n$[ebp], 32	; 00000020H
  0026d	7d 12		 jge	 SHORT $LN1@ChaosBoxIn

; 96   : 	{
; 97   : 		lpObj->pChaosBoxMap[n] = -1;

  0026f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00272	8b 88 7c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3708]
  00278	8b 55 ec	 mov	 edx, DWORD PTR _n$[ebp]
  0027b	c6 04 11 ff	 mov	 BYTE PTR [ecx+edx], 255	; 000000ffH

; 98   : 	}

  0027f	eb df		 jmp	 SHORT $LN2@ChaosBoxIn
$LN1@ChaosBoxIn:

; 99   : 
; 100  : 	return true;

  00281	b8 01 00 00 00	 mov	 eax, 1
$LN13@ChaosBoxIn:

; 101  : }

  00286	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00289	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00290	59		 pop	 ecx
  00291	5f		 pop	 edi
  00292	5e		 pop	 esi
  00293	5b		 pop	 ebx
  00294	8b e5		 mov	 esp, ebp
  00296	5d		 pop	 ebp
  00297	c2 04 00	 ret	 4
_TEXT	ENDS
text$x	SEGMENT
__unwindfunclet$?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z$0:
  00000	8b 45 a0	 mov	 eax, DWORD PTR $T238528[ebp]
  00003	50		 push	 eax
  00004	e8 00 00 00 00	 call	 ??_V@YAXPAX@Z		; operator delete[]
  00009	59		 pop	 ecx
  0000a	c3		 ret	 0
__ehhandler$?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z:
  0000b	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  0000f	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00012	8b 4a 94	 mov	 ecx, DWORD PTR [edx-108]
  00015	33 c8		 xor	 ecx, eax
  00017	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0001c	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z
  00021	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ENDP	; CMixSystem::ChaosBoxInit
PUBLIC	?ChaosBoxItemDown@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxItemDown
EXTRN	?Convert@CItem@@QAEXHEEEEEEPAEEEE@Z:PROC	; CItem::Convert
EXTRN	?ItemGetDurability@@YAHHHHH@Z:PROC		; ItemGetDurability
EXTRN	?IsExtItem@CItem@@QAEHXZ:PROC			; CItem::IsExtItem
EXTRN	?IsSetItem@CItem@@QAEHXZ:PROC			; CItem::IsSetItem
EXTRN	_rand:PROC
EXTRN	__fltused:DWORD
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv431 = -84						; size = 4
_dur$235425 = -16					; size = 4
_op$235419 = -12					; size = 4
_n$235412 = -8						; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
?ChaosBoxItemDown@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::ChaosBoxItemDown
; _this$ = ecx

; 104  : {

  002a0	55		 push	 ebp
  002a1	8b ec		 mov	 ebp, esp
  002a3	83 ec 54	 sub	 esp, 84			; 00000054H
  002a6	53		 push	 ebx
  002a7	56		 push	 esi
  002a8	57		 push	 edi
  002a9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 105  : 	if ( lpObj->pChaosBox == NULL )

  002ac	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  002af	83 b8 78 0e 00
	00 00		 cmp	 DWORD PTR [eax+3704], 0
  002b6	75 07		 jne	 SHORT $LN12@ChaosBoxIt

; 106  : 	{
; 107  : 		return FALSE;

  002b8	33 c0		 xor	 eax, eax
  002ba	e9 a7 04 00 00	 jmp	 $LN13@ChaosBoxIt
$LN12@ChaosBoxIt:

; 108  : 	}
; 109  : 
; 110  : 	for (int n=0;n<CHAOS_BOX_SIZE;n++)

  002bf	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _n$235412[ebp], 0
  002c6	eb 09		 jmp	 SHORT $LN11@ChaosBoxIt
$LN10@ChaosBoxIt:
  002c8	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  002cb	83 c0 01	 add	 eax, 1
  002ce	89 45 f8	 mov	 DWORD PTR _n$235412[ebp], eax
$LN11@ChaosBoxIt:
  002d1	83 7d f8 20	 cmp	 DWORD PTR _n$235412[ebp], 32 ; 00000020H
  002d5	0f 8d 86 04 00
	00		 jge	 $LN9@ChaosBoxIt

; 111  : 	{
; 112  : 		if (lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) || lpObj->pChaosBox[n].m_Type == ITEMGET(14,13) || lpObj->pChaosBox[n].m_Type == ITEMGET(14,14) ||
; 113  : 			//Season4.5 add-on (Talisman of Wing)
; 114  : 			lpObj->pChaosBox[n].m_Type == ITEMGET(13,83) || lpObj->pChaosBox[n].m_Type == ITEMGET(13,84) ||
; 115  : 			lpObj->pChaosBox[n].m_Type == ITEMGET(13,85) ||	lpObj->pChaosBox[n].m_Type == ITEMGET(13,86) ||
; 116  : 			lpObj->pChaosBox[n].m_Type == ITEMGET(13,87) || lpObj->pChaosBox[n].m_Type == ITEMGET(13,88) ||
; 117  : 			lpObj->pChaosBox[n].m_Type == ITEMGET(13,89) || lpObj->pChaosBox[n].m_Type == ITEMGET(13,90) ||
; 118  : 			lpObj->pChaosBox[n].m_Type == ITEMGET(13,91) ||	lpObj->pChaosBox[n].m_Type == ITEMGET(13,92) ||
; 119  : 			lpObj->pChaosBox[n].m_Type == ITEMGET(14,53))

  002db	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  002de	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  002e4	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  002e7	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  002ed	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  002f2	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  002f7	0f 84 a6 01 00
	00		 je	 $LN7@ChaosBoxIt
  002fd	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  00300	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00306	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00309	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0030f	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00314	3d 0d 1c 00 00	 cmp	 eax, 7181		; 00001c0dH
  00319	0f 84 84 01 00
	00		 je	 $LN7@ChaosBoxIt
  0031f	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  00322	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00328	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0032b	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00331	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00336	3d 0e 1c 00 00	 cmp	 eax, 7182		; 00001c0eH
  0033b	0f 84 62 01 00
	00		 je	 $LN7@ChaosBoxIt
  00341	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  00344	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0034a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0034d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00353	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00358	3d 53 1a 00 00	 cmp	 eax, 6739		; 00001a53H
  0035d	0f 84 40 01 00
	00		 je	 $LN7@ChaosBoxIt
  00363	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  00366	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0036c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0036f	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00375	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0037a	3d 54 1a 00 00	 cmp	 eax, 6740		; 00001a54H
  0037f	0f 84 1e 01 00
	00		 je	 $LN7@ChaosBoxIt
  00385	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  00388	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0038e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00391	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00397	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0039c	3d 55 1a 00 00	 cmp	 eax, 6741		; 00001a55H
  003a1	0f 84 fc 00 00
	00		 je	 $LN7@ChaosBoxIt
  003a7	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  003aa	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  003b0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  003b3	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  003b9	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  003be	3d 56 1a 00 00	 cmp	 eax, 6742		; 00001a56H
  003c3	0f 84 da 00 00
	00		 je	 $LN7@ChaosBoxIt
  003c9	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  003cc	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  003d2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  003d5	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  003db	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  003e0	3d 57 1a 00 00	 cmp	 eax, 6743		; 00001a57H
  003e5	0f 84 b8 00 00
	00		 je	 $LN7@ChaosBoxIt
  003eb	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  003ee	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  003f4	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  003f7	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  003fd	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00402	3d 58 1a 00 00	 cmp	 eax, 6744		; 00001a58H
  00407	0f 84 96 00 00
	00		 je	 $LN7@ChaosBoxIt
  0040d	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  00410	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00416	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00419	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0041f	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00424	3d 59 1a 00 00	 cmp	 eax, 6745		; 00001a59H
  00429	74 78		 je	 SHORT $LN7@ChaosBoxIt
  0042b	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  0042e	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00434	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00437	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0043d	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00442	3d 5a 1a 00 00	 cmp	 eax, 6746		; 00001a5aH
  00447	74 5a		 je	 SHORT $LN7@ChaosBoxIt
  00449	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  0044c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00452	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00455	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0045b	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00460	3d 5b 1a 00 00	 cmp	 eax, 6747		; 00001a5bH
  00465	74 3c		 je	 SHORT $LN7@ChaosBoxIt
  00467	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  0046a	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00470	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00473	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00479	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0047e	3d 5c 1a 00 00	 cmp	 eax, 6748		; 00001a5cH
  00483	74 1e		 je	 SHORT $LN7@ChaosBoxIt
  00485	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  00488	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0048e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00491	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00497	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0049c	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  004a1	75 1c		 jne	 SHORT $LN8@ChaosBoxIt
$LN7@ChaosBoxIt:

; 120  : 		{
; 121  : 			lpObj->pChaosBox[n].Clear();

  004a3	8b 4d f8	 mov	 ecx, DWORD PTR _n$235412[ebp]
  004a6	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  004ac	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  004af	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  004b5	e8 00 00 00 00	 call	 ?Clear@CItem@@QAEXXZ	; CItem::Clear

; 122  : 		}
; 123  : 		else

  004ba	e9 9d 02 00 00	 jmp	 $LN6@ChaosBoxIt
$LN8@ChaosBoxIt:

; 124  : 		{
; 125  : 			int op = lpObj->pChaosBox[n].m_Option1;

  004bf	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  004c2	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  004c8	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  004cb	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  004d1	0f b6 84 02 94
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+148]
  004d9	89 45 f4	 mov	 DWORD PTR _op$235419[ebp], eax

; 126  : 
; 127  : 			if ( op > 0 )

  004dc	83 7d f4 00	 cmp	 DWORD PTR _op$235419[ebp], 0
  004e0	7e 1e		 jle	 SHORT $LN4@ChaosBoxIt

; 128  : 			{
; 129  : 				if ( (rand() % 2) == 0 )

  004e2	e8 00 00 00 00	 call	 _rand
  004e7	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  004ec	79 05		 jns	 SHORT $LN15@ChaosBoxIt
  004ee	48		 dec	 eax
  004ef	83 c8 fe	 or	 eax, -2			; fffffffeH
  004f2	40		 inc	 eax
$LN15@ChaosBoxIt:
  004f3	85 c0		 test	 eax, eax
  004f5	75 09		 jne	 SHORT $LN4@ChaosBoxIt

; 130  : 				{
; 131  : 					op--;

  004f7	8b 45 f4	 mov	 eax, DWORD PTR _op$235419[ebp]
  004fa	83 e8 01	 sub	 eax, 1
  004fd	89 45 f4	 mov	 DWORD PTR _op$235419[ebp], eax
$LN4@ChaosBoxIt:

; 132  : 				}
; 133  : 			}
; 134  : 
; 135  : 			lpObj->pChaosBox[n].m_Option1 = op;

  00500	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  00503	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00509	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0050c	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00512	8a 4d f4	 mov	 cl, BYTE PTR _op$235419[ebp]
  00515	88 8c 02 94 00
	00 00		 mov	 BYTE PTR [edx+eax+148], cl

; 136  : 			op = lpObj->pChaosBox[n].m_Option3;

  0051c	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  0051f	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00525	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00528	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0052e	0f b6 84 02 96
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+150]
  00536	89 45 f4	 mov	 DWORD PTR _op$235419[ebp], eax

; 137  : 
; 138  : 			if ( op > 0 )

  00539	83 7d f4 00	 cmp	 DWORD PTR _op$235419[ebp], 0
  0053d	7e 1e		 jle	 SHORT $LN2@ChaosBoxIt

; 139  : 			{
; 140  : 				if ( (rand() % 2) == 0 )

  0053f	e8 00 00 00 00	 call	 _rand
  00544	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00549	79 05		 jns	 SHORT $LN16@ChaosBoxIt
  0054b	48		 dec	 eax
  0054c	83 c8 fe	 or	 eax, -2			; fffffffeH
  0054f	40		 inc	 eax
$LN16@ChaosBoxIt:
  00550	85 c0		 test	 eax, eax
  00552	75 09		 jne	 SHORT $LN2@ChaosBoxIt

; 141  : 				{
; 142  : 					op--;

  00554	8b 45 f4	 mov	 eax, DWORD PTR _op$235419[ebp]
  00557	83 e8 01	 sub	 eax, 1
  0055a	89 45 f4	 mov	 DWORD PTR _op$235419[ebp], eax
$LN2@ChaosBoxIt:

; 143  : 				}
; 144  : 			}
; 145  : 
; 146  : 			lpObj->pChaosBox[n].m_Option3 = op;

  0055d	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  00560	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00566	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00569	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0056f	8a 4d f4	 mov	 cl, BYTE PTR _op$235419[ebp]
  00572	88 8c 02 96 00
	00 00		 mov	 BYTE PTR [edx+eax+150], cl

; 147  : 
; 148  : 			if ( lpObj->pChaosBox[n].m_Level > 0 )

  00579	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  0057c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00582	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00585	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0058b	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  00590	85 c0		 test	 eax, eax
  00592	7e 36		 jle	 SHORT $LN1@ChaosBoxIt

; 149  : 			{
; 150  : 				lpObj->pChaosBox[n].m_Level = rand() % lpObj->pChaosBox[n].m_Level;

  00594	e8 00 00 00 00	 call	 _rand
  00599	8b 4d f8	 mov	 ecx, DWORD PTR _n$235412[ebp]
  0059c	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  005a2	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  005a5	8b 92 78 0e 00
	00		 mov	 edx, DWORD PTR [edx+3704]
  005ab	0f bf 4c 0a 08	 movsx	 ecx, WORD PTR [edx+ecx+8]
  005b0	99		 cdq
  005b1	f7 f9		 idiv	 ecx
  005b3	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  005b6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  005bc	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  005bf	8b 89 78 0e 00
	00		 mov	 ecx, DWORD PTR [ecx+3704]
  005c5	66 89 54 01 08	 mov	 WORD PTR [ecx+eax+8], dx
$LN1@ChaosBoxIt:

; 151  : 			}
; 152  : 
; 153  : 			float dur = (float)ItemGetDurability(lpObj->pChaosBox[n].m_Type, lpObj->pChaosBox[n].m_Level, lpObj->pChaosBox[n].IsExtItem(), lpObj->pChaosBox[n].IsSetItem());

  005ca	8b 4d f8	 mov	 ecx, DWORD PTR _n$235412[ebp]
  005cd	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  005d3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  005d6	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  005dc	e8 00 00 00 00	 call	 ?IsSetItem@CItem@@QAEHXZ ; CItem::IsSetItem
  005e1	50		 push	 eax
  005e2	8b 4d f8	 mov	 ecx, DWORD PTR _n$235412[ebp]
  005e5	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  005eb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  005ee	03 8a 78 0e 00
	00		 add	 ecx, DWORD PTR [edx+3704]
  005f4	e8 00 00 00 00	 call	 ?IsExtItem@CItem@@QAEHXZ ; CItem::IsExtItem
  005f9	50		 push	 eax
  005fa	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  005fd	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00603	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00606	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0060c	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  00611	50		 push	 eax
  00612	8b 4d f8	 mov	 ecx, DWORD PTR _n$235412[ebp]
  00615	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0061b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0061e	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  00624	0f bf 4c 08 06	 movsx	 ecx, WORD PTR [eax+ecx+6]
  00629	51		 push	 ecx
  0062a	e8 00 00 00 00	 call	 ?ItemGetDurability@@YAHHHHH@Z ; ItemGetDurability
  0062f	83 c4 10	 add	 esp, 16			; 00000010H
  00632	89 45 ac	 mov	 DWORD PTR tv431[ebp], eax
  00635	db 45 ac	 fild	 DWORD PTR tv431[ebp]
  00638	d9 5d f0	 fstp	 DWORD PTR _dur$235425[ebp]

; 154  : 			
; 155  : 			lpObj->pChaosBox[n].m_Durability =  dur * lpObj->pChaosBox[n].m_Durability / lpObj->pChaosBox[n].m_BaseDurability;

  0063b	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  0063e	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00644	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00647	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0064d	d9 45 f0	 fld	 DWORD PTR _dur$235425[ebp]
  00650	d8 4c 02 24	 fmul	 DWORD PTR [edx+eax+36]
  00654	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  00657	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0065d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00660	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00666	d8 74 02 2c	 fdiv	 DWORD PTR [edx+eax+44]
  0066a	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  0066d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00673	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00676	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0067c	d9 5c 02 24	 fstp	 DWORD PTR [edx+eax+36]

; 156  : 			lpObj->pChaosBox[n].Convert(lpObj->pChaosBox[n].m_Type, lpObj->pChaosBox[n].m_Option1,
; 157  : 				lpObj->pChaosBox[n].m_Option2, lpObj->pChaosBox[n].m_Option3, lpObj->pChaosBox[n].m_NewOption,
; 158  : 				lpObj->pChaosBox[n].m_SetOption, lpObj->pChaosBox[n].m_ItemOptionEx, NULL, 0xFF, 0, CURRENT_DB_VERSION);

  00680	6a 03		 push	 3
  00682	6a 00		 push	 0
  00684	68 ff 00 00 00	 push	 255			; 000000ffH
  00689	6a 00		 push	 0
  0068b	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  0068e	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00694	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00697	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0069d	0f b6 84 02 ca
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+202]
  006a5	50		 push	 eax
  006a6	8b 4d f8	 mov	 ecx, DWORD PTR _n$235412[ebp]
  006a9	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  006af	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  006b2	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  006b8	0f b6 8c 08 ae
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+174]
  006c0	51		 push	 ecx
  006c1	8b 55 f8	 mov	 edx, DWORD PTR _n$235412[ebp]
  006c4	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  006ca	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  006cd	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  006d3	0f b6 94 11 97
	00 00 00	 movzx	 edx, BYTE PTR [ecx+edx+151]
  006db	52		 push	 edx
  006dc	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  006df	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  006e5	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  006e8	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  006ee	0f b6 84 02 96
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+150]
  006f6	50		 push	 eax
  006f7	8b 4d f8	 mov	 ecx, DWORD PTR _n$235412[ebp]
  006fa	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  00700	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00703	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  00709	0f b6 8c 08 95
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+149]
  00711	51		 push	 ecx
  00712	8b 55 f8	 mov	 edx, DWORD PTR _n$235412[ebp]
  00715	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  0071b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0071e	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  00724	0f b6 94 11 94
	00 00 00	 movzx	 edx, BYTE PTR [ecx+edx+148]
  0072c	52		 push	 edx
  0072d	8b 45 f8	 mov	 eax, DWORD PTR _n$235412[ebp]
  00730	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00736	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00739	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0073f	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00744	50		 push	 eax
  00745	8b 4d f8	 mov	 ecx, DWORD PTR _n$235412[ebp]
  00748	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0074e	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00751	03 8a 78 0e 00
	00		 add	 ecx, DWORD PTR [edx+3704]
  00757	e8 00 00 00 00	 call	 ?Convert@CItem@@QAEXHEEEEEEPAEEEE@Z ; CItem::Convert
$LN6@ChaosBoxIt:

; 159  : 		}
; 160  : 	}

  0075c	e9 67 fb ff ff	 jmp	 $LN10@ChaosBoxIt
$LN9@ChaosBoxIt:

; 161  : 
; 162  : 	return TRUE;

  00761	b8 01 00 00 00	 mov	 eax, 1
$LN13@ChaosBoxIt:

; 163  : }

  00766	5f		 pop	 edi
  00767	5e		 pop	 esi
  00768	5b		 pop	 ebx
  00769	8b e5		 mov	 esp, ebp
  0076b	5d		 pop	 ebp
  0076c	c2 04 00	 ret	 4
?ChaosBoxItemDown@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::ChaosBoxItemDown
_TEXT	ENDS
PUBLIC	??_C@_0DK@EKDAKNF@?$FLMixSystem?$FN?5WingCharmItemNum?5?$DN?$DO?5@ ; `string'
PUBLIC	??_C@_0DO@PLIHJFD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5need?5Zen?5?3?5?$CFd?5Suc@ ; `string'
PUBLIC	??_C@_0FA@FKHLLHEC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5?$FL?$CFd?0?$CFs?0?$CFd?0?$CFd?0?$CFd?0?$CF@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?ChaosBoxMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@AAH1@Z ; CMixSystem::ChaosBoxMix
EXTRN	?ExConfig@@3VcExConfigs@@A:BYTE			; ExConfig
EXTRN	?LogAddTD@@3P6AXPADZZA:DWORD			; LogAddTD
EXTRN	?LogAdd@@3P6AXPADZZA:DWORD			; LogAdd
EXTRN	?GetName@CItem@@QAEPADXZ:PROC			; CItem::GetName
EXTRN	?ItemIsBufExOption@@YAXPAEPAVCItem@@@Z:PROC	; ItemIsBufExOption
EXTRN	?IsLuckyItemEquipment@LuckyItemManager@@QAEHH@Z:PROC ; LuckyItemManager::IsLuckyItemEquipment
EXTRN	?g_LuckyItemManager@@3ULuckyItemManager@@A:BYTE	; g_LuckyItemManager
EXTRN	?OldValue@CItem@@QAEXXZ:PROC			; CItem::OldValue
EXTRN	?IsItem@CItem@@QAEHXZ:PROC			; CItem::IsItem
EXTRN	__ftol2_sse:PROC
;	COMDAT ??_C@_0DK@EKDAKNF@?$FLMixSystem?$FN?5WingCharmItemNum?5?$DN?$DO?5@
CONST	SEGMENT
??_C@_0DK@EKDAKNF@?$FLMixSystem?$FN?5WingCharmItemNum?5?$DN?$DO?5@ DB '[M'
	DB	'ixSystem] WingCharmItemNum => %d , WingCharmIndex => %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DO@PLIHJFD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5need?5Zen?5?3?5?$CFd?5Suc@
CONST	SEGMENT
??_C@_0DO@PLIHJFD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5need?5Zen?5?3?5?$CFd?5Suc@ DB '['
	DB	'%s][%s] CBMix need Zen : %d SuccessRate : %d, CharmRate : %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0FA@FKHLLHEC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5?$FL?$CFd?0?$CFs?0?$CFd?0?$CFd?0?$CFd?0?$CF@
CONST	SEGMENT
??_C@_0FA@FKHLLHEC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5?$FL?$CFd?0?$CFs?0?$CFd?0?$CFd?0?$CFd?0?$CF@ DB '['
	DB	'%s][%s] CBMix [%d,%s,%d,%d,%d,%d]serial:[%u][%d][%d] Ex:[%d,%'
	DB	'd,%d,%d,%d,%d,%d]', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv361 = -120						; size = 4
_WingCharmIndex$235469 = -52				; size = 4
_n$235442 = -48						; size = 4
_iCharmOfLuckCount$ = -44				; size = 4
_WingCharmItemNum$ = -40				; size = 4
_nv$ = -36						; size = 4
_add$ = -32						; size = 4
_value$ = -28						; size = 4
_ChaosItems$ = -24					; size = 4
_ChaosDiamond$ = -20					; size = 4
_ExOption$ = -16					; size = 8
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_Result2$ = 12						; size = 4
_Result3$ = 16						; size = 4
?ChaosBoxMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@AAH1@Z PROC ; CMixSystem::ChaosBoxMix
; _this$ = ecx

; 166  : {

  00770	55		 push	 ebp
  00771	8b ec		 mov	 ebp, esp
  00773	83 ec 78	 sub	 esp, 120		; 00000078H
  00776	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0077b	33 c5		 xor	 eax, ebp
  0077d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00780	53		 push	 ebx
  00781	56		 push	 esi
  00782	57		 push	 edi
  00783	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 167  : 	BYTE ExOption[8];
; 168  : 	int ChaosDiamond = 0;

  00786	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _ChaosDiamond$[ebp], 0

; 169  : 	int ChaosItems = 0;

  0078d	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _ChaosItems$[ebp], 0

; 170  : 
; 171  : 	if ( lpObj->pChaosBox == NULL )

  00794	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00797	83 b8 78 0e 00
	00 00		 cmp	 DWORD PTR [eax+3704], 0
  0079e	75 07		 jne	 SHORT $LN33@ChaosBoxMi

; 172  : 	{
; 173  : 		return 0;

  007a0	33 c0		 xor	 eax, eax
  007a2	e9 75 06 00 00	 jmp	 $LN34@ChaosBoxMi
$LN33@ChaosBoxMi:

; 174  : 	}
; 175  : 
; 176  : 	int value = 0;

  007a7	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _value$[ebp], 0

; 177  : 	int add = 0;

  007ae	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _add$[ebp], 0

; 178  : 	int nv = 0;

  007b5	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _nv$[ebp], 0

; 179  : 	
; 180  : 	Result2 = 0;

  007bc	8b 45 0c	 mov	 eax, DWORD PTR _Result2$[ebp]
  007bf	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 181  : 	Result3 = -1; //season4 add-on

  007c5	8b 45 10	 mov	 eax, DWORD PTR _Result3$[ebp]
  007c8	c7 00 ff ff ff
	ff		 mov	 DWORD PTR [eax], -1

; 182  : 
; 183  : 	int WingCharmItemNum = -1; //season4.5 add-on

  007ce	c7 45 d8 ff ff
	ff ff		 mov	 DWORD PTR _WingCharmItemNum$[ebp], -1

; 184  : 
; 185  : 	lpObj->ChaosSuccessRate = 0;

  007d5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  007d8	c7 80 84 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3716], 0

; 186  : 	lpObj->ChaosMoney = 0;

  007e2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  007e5	c7 80 80 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3712], 0

; 187  : 	int iCharmOfLuckCount = 0;

  007ef	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 188  : 
; 189  : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  007f6	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _n$235442[ebp], 0
  007fd	eb 09		 jmp	 SHORT $LN32@ChaosBoxMi
$LN31@ChaosBoxMi:
  007ff	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00802	83 c0 01	 add	 eax, 1
  00805	89 45 d0	 mov	 DWORD PTR _n$235442[ebp], eax
$LN32@ChaosBoxMi:
  00808	83 7d d0 20	 cmp	 DWORD PTR _n$235442[ebp], 32 ; 00000020H
  0080c	0f 8d a2 04 00
	00		 jge	 $LN30@ChaosBoxMi

; 190  : 	{
; 191  : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  00812	8b 4d d0	 mov	 ecx, DWORD PTR _n$235442[ebp]
  00815	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0081b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0081e	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  00824	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  00829	83 f8 01	 cmp	 eax, 1
  0082c	0f 85 7d 04 00
	00		 jne	 $LN29@ChaosBoxMi

; 192  : 		{
; 193  : 			lpObj->pChaosBox[n].OldValue();

  00832	8b 4d d0	 mov	 ecx, DWORD PTR _n$235442[ebp]
  00835	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0083b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0083e	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  00844	e8 00 00 00 00	 call	 ?OldValue@CItem@@QAEXXZ	; CItem::OldValue

; 194  : 			add = 0;

  00849	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _add$[ebp], 0

; 195  : 			nv = 0;

  00850	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _nv$[ebp], 0

; 196  : 
; 197  : #ifdef LUCKYITEM
; 198  : 			if( g_LuckyItemManager.IsLuckyItemEquipment(lpObj->pChaosBox[n].m_Type) )	//1.01.00

  00857	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  0085a	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00860	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00863	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00869	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0086e	50		 push	 eax
  0086f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_LuckyItemManager@@3ULuckyItemManager@@A ; g_LuckyItemManager
  00874	e8 00 00 00 00	 call	 ?IsLuckyItemEquipment@LuckyItemManager@@QAEHH@Z ; LuckyItemManager::IsLuckyItemEquipment
  00879	85 c0		 test	 eax, eax
  0087b	74 07		 je	 SHORT $LN28@ChaosBoxMi

; 199  : 			{
; 200  : 				return false;

  0087d	33 c0		 xor	 eax, eax
  0087f	e9 98 05 00 00	 jmp	 $LN34@ChaosBoxMi
$LN28@ChaosBoxMi:

; 201  : 			}
; 202  : #endif
; 203  : 
; 204  : 			if ( lpObj->pChaosBox[n].m_Level >= MIN_CHAOS_ITEM_LEVEL && (lpObj->pChaosBox[n].m_Option3 *4) >= MIN_CHAOS_ITEM_LEVEL )

  00884	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00887	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0088d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00890	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00896	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  0089b	83 f8 04	 cmp	 eax, 4
  0089e	0f 8c cb 00 00
	00		 jl	 $LN26@ChaosBoxMi
  008a4	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  008a7	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  008ad	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  008b0	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  008b6	0f b6 84 02 96
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+150]
  008be	c1 e0 02	 shl	 eax, 2
  008c1	83 f8 04	 cmp	 eax, 4
  008c4	0f 8c a5 00 00
	00		 jl	 $LN26@ChaosBoxMi

; 205  : 			{
; 206  : 				nv = lpObj->pChaosBox[n].m_OldBuyMoney;

  008ca	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  008cd	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  008d3	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  008d6	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  008dc	8b 84 02 90 00
	00 00		 mov	 eax, DWORD PTR [edx+eax+144]
  008e3	89 45 dc	 mov	 DWORD PTR _nv$[ebp], eax

; 207  : 				value += lpObj->pChaosBox[n].m_OldBuyMoney;

  008e6	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  008e9	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  008ef	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  008f2	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  008f8	8b 4d e4	 mov	 ecx, DWORD PTR _value$[ebp]
  008fb	03 8c 02 90 00
	00 00		 add	 ecx, DWORD PTR [edx+eax+144]
  00902	89 4d e4	 mov	 DWORD PTR _value$[ebp], ecx

; 208  : 				add = 1;

  00905	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _add$[ebp], 1

; 209  : 
; 210  : 				if ( lpObj->pChaosBox[n].m_Type == ITEMGET(2,6) || lpObj->pChaosBox[n].m_Type == ITEMGET(4,6) || lpObj->pChaosBox[n].m_Type == ITEMGET(5,7) )	// Chaos Items

  0090c	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  0090f	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00915	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00918	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0091e	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00923	3d 06 04 00 00	 cmp	 eax, 1030		; 00000406H
  00928	74 3c		 je	 SHORT $LN25@ChaosBoxMi
  0092a	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  0092d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00933	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00936	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0093c	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00941	3d 06 08 00 00	 cmp	 eax, 2054		; 00000806H
  00946	74 1e		 je	 SHORT $LN25@ChaosBoxMi
  00948	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  0094b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00951	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00954	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0095a	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0095f	3d 07 0a 00 00	 cmp	 eax, 2567		; 00000a07H
  00964	75 09		 jne	 SHORT $LN26@ChaosBoxMi
$LN25@ChaosBoxMi:

; 211  : 				{
; 212  : 					Result2 = 1;

  00966	8b 45 0c	 mov	 eax, DWORD PTR _Result2$[ebp]
  00969	c7 00 01 00 00
	00		 mov	 DWORD PTR [eax], 1
$LN26@ChaosBoxMi:

; 213  : 				}
; 214  : 			}
; 215  : 
; 216  : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) )

  0096f	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00972	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00978	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0097b	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00981	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00986	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  0098b	75 4d		 jne	 SHORT $LN24@ChaosBoxMi

; 217  : 			{
; 218  : 				value += lpObj->pChaosBox[n].m_OldBuyMoney;

  0098d	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00990	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00996	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00999	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0099f	8b 4d e4	 mov	 ecx, DWORD PTR _value$[ebp]
  009a2	03 8c 02 90 00
	00 00		 add	 ecx, DWORD PTR [edx+eax+144]
  009a9	89 4d e4	 mov	 DWORD PTR _value$[ebp], ecx

; 219  : 				nv = lpObj->pChaosBox[n].m_OldBuyMoney;

  009ac	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  009af	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  009b5	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  009b8	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  009be	8b 84 02 90 00
	00 00		 mov	 eax, DWORD PTR [edx+eax+144]
  009c5	89 45 dc	 mov	 DWORD PTR _nv$[ebp], eax

; 220  : 				ChaosDiamond++;

  009c8	8b 45 ec	 mov	 eax, DWORD PTR _ChaosDiamond$[ebp]
  009cb	83 c0 01	 add	 eax, 1
  009ce	89 45 ec	 mov	 DWORD PTR _ChaosDiamond$[ebp], eax

; 221  : 				add = 1;

  009d1	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _add$[ebp], 1
  009d8	eb 7e		 jmp	 SHORT $LN22@ChaosBoxMi
$LN24@ChaosBoxMi:

; 222  : 			}
; 223  : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,13) || lpObj->pChaosBox[n].m_Type == ITEMGET(14,14) )	// Jewel of Bless, Jewel of Soul

  009da	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  009dd	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  009e3	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  009e6	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  009ec	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  009f1	3d 0d 1c 00 00	 cmp	 eax, 7181		; 00001c0dH
  009f6	74 1e		 je	 SHORT $LN21@ChaosBoxMi
  009f8	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  009fb	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00a01	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00a04	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00a0a	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00a0f	3d 0e 1c 00 00	 cmp	 eax, 7182		; 00001c0eH
  00a14	75 42		 jne	 SHORT $LN22@ChaosBoxMi
$LN21@ChaosBoxMi:

; 224  : 			{
; 225  : 				value += lpObj->pChaosBox[n].m_OldBuyMoney;

  00a16	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00a19	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00a1f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00a22	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00a28	8b 4d e4	 mov	 ecx, DWORD PTR _value$[ebp]
  00a2b	03 8c 02 90 00
	00 00		 add	 ecx, DWORD PTR [edx+eax+144]
  00a32	89 4d e4	 mov	 DWORD PTR _value$[ebp], ecx

; 226  : 				nv = lpObj->pChaosBox[n].m_OldBuyMoney;

  00a35	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00a38	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00a3e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00a41	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00a47	8b 84 02 90 00
	00 00		 mov	 eax, DWORD PTR [edx+eax+144]
  00a4e	89 45 dc	 mov	 DWORD PTR _nv$[ebp], eax

; 227  : 				add = 1;

  00a51	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _add$[ebp], 1
$LN22@ChaosBoxMi:

; 228  : 			}
; 229  : 
; 230  : 			//season4.5 add-on
; 231  : 			if( lpObj->pChaosBox[n].m_Type == ITEMGET(13,83) ||
; 232  : 				lpObj->pChaosBox[n].m_Type == ITEMGET(13,84) ||
; 233  : 				lpObj->pChaosBox[n].m_Type == ITEMGET(13,85) ||
; 234  : 				lpObj->pChaosBox[n].m_Type == ITEMGET(13,86) ||
; 235  : 				lpObj->pChaosBox[n].m_Type == ITEMGET(13,87) )

  00a58	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00a5b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00a61	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00a64	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00a6a	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00a6f	3d 53 1a 00 00	 cmp	 eax, 6739		; 00001a53H
  00a74	74 78		 je	 SHORT $LN19@ChaosBoxMi
  00a76	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00a79	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00a7f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00a82	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00a88	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00a8d	3d 54 1a 00 00	 cmp	 eax, 6740		; 00001a54H
  00a92	74 5a		 je	 SHORT $LN19@ChaosBoxMi
  00a94	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00a97	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00a9d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00aa0	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00aa6	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00aab	3d 55 1a 00 00	 cmp	 eax, 6741		; 00001a55H
  00ab0	74 3c		 je	 SHORT $LN19@ChaosBoxMi
  00ab2	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00ab5	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00abb	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00abe	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00ac4	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00ac9	3d 56 1a 00 00	 cmp	 eax, 6742		; 00001a56H
  00ace	74 1e		 je	 SHORT $LN19@ChaosBoxMi
  00ad0	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00ad3	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00ad9	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00adc	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00ae2	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00ae7	3d 57 1a 00 00	 cmp	 eax, 6743		; 00001a57H
  00aec	75 1a		 jne	 SHORT $LN20@ChaosBoxMi
$LN19@ChaosBoxMi:

; 236  : 			{
; 237  : 				WingCharmItemNum = lpObj->pChaosBox[n].m_Type;

  00aee	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00af1	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00af7	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00afa	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00b00	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00b05	89 45 d8	 mov	 DWORD PTR _WingCharmItemNum$[ebp], eax
$LN20@ChaosBoxMi:

; 238  : 			}
; 239  : 
; 240  : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(13,14) ) // Loch Feather

  00b08	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00b0b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00b11	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00b14	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00b1a	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00b1f	3d 0e 1a 00 00	 cmp	 eax, 6670		; 00001a0eH
  00b24	75 07		 jne	 SHORT $LN18@ChaosBoxMi

; 241  : 			{
; 242  : 				return FALSE;

  00b26	33 c0		 xor	 eax, eax
  00b28	e9 ef 02 00 00	 jmp	 $LN34@ChaosBoxMi
$LN18@ChaosBoxMi:

; 243  : 			}
; 244  : 
; 245  : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )	// Charm Of Luck

  00b2d	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00b30	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00b36	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00b39	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00b3f	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  00b44	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  00b49	75 21		 jne	 SHORT $LN17@ChaosBoxMi

; 246  : 			{
; 247  : 				iCharmOfLuckCount += (int)lpObj->pChaosBox[n].m_Durability;

  00b4b	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00b4e	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00b54	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00b57	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00b5d	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  00b61	e8 00 00 00 00	 call	 __ftol2_sse
  00b66	03 45 d4	 add	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  00b69	89 45 d4	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], eax
$LN17@ChaosBoxMi:

; 248  : 			}
; 249  : 
; 250  : 			if ( add != 0  )

  00b6c	83 7d e0 00	 cmp	 DWORD PTR _add$[ebp], 0
  00b70	74 09		 je	 SHORT $LN16@ChaosBoxMi

; 251  : 			{
; 252  : 				ChaosItems++;

  00b72	8b 45 e8	 mov	 eax, DWORD PTR _ChaosItems$[ebp]
  00b75	83 c0 01	 add	 eax, 1
  00b78	89 45 e8	 mov	 DWORD PTR _ChaosItems$[ebp], eax
$LN16@ChaosBoxMi:

; 253  : 			}
; 254  : 
; 255  : 			ItemIsBufExOption(ExOption, &lpObj->pChaosBox[n]);

  00b7b	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00b7e	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00b84	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00b87	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  00b8d	50		 push	 eax
  00b8e	8d 55 f0	 lea	 edx, DWORD PTR _ExOption$[ebp]
  00b91	52		 push	 edx
  00b92	e8 00 00 00 00	 call	 ?ItemIsBufExOption@@YAXPAEPAVCItem@@@Z ; ItemIsBufExOption
  00b97	83 c4 08	 add	 esp, 8

; 256  : 			LogAdd("[%s][%s] CBMix [%d,%s,%d,%d,%d,%d]serial:[%u][%d][%d] Ex:[%d,%d,%d,%d,%d,%d,%d]",
; 257  : 				lpObj->AccountID, lpObj->Name, n, lpObj->pChaosBox[n].GetName(),
; 258  : 				lpObj->pChaosBox[n].m_Level, lpObj->pChaosBox[n].m_Option1,
; 259  : 				lpObj->pChaosBox[n].m_Option2, lpObj->pChaosBox[n].m_Option3,
; 260  : 				lpObj->pChaosBox[n].m_Number, (int)lpObj->pChaosBox[n].m_Durability,
; 261  : 				nv, ExOption[0], ExOption[1], ExOption[2], ExOption[3], ExOption[4], ExOption[5],
; 262  : 				ExOption[6], lpObj->pChaosBox[n].m_SetOption);

  00b9a	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00b9d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00ba3	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00ba6	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00bac	0f b6 84 02 ae
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+174]
  00bb4	50		 push	 eax
  00bb5	0f b6 4d f6	 movzx	 ecx, BYTE PTR _ExOption$[ebp+6]
  00bb9	51		 push	 ecx
  00bba	0f b6 55 f5	 movzx	 edx, BYTE PTR _ExOption$[ebp+5]
  00bbe	52		 push	 edx
  00bbf	0f b6 45 f4	 movzx	 eax, BYTE PTR _ExOption$[ebp+4]
  00bc3	50		 push	 eax
  00bc4	0f b6 4d f3	 movzx	 ecx, BYTE PTR _ExOption$[ebp+3]
  00bc8	51		 push	 ecx
  00bc9	0f b6 55 f2	 movzx	 edx, BYTE PTR _ExOption$[ebp+2]
  00bcd	52		 push	 edx
  00bce	0f b6 45 f1	 movzx	 eax, BYTE PTR _ExOption$[ebp+1]
  00bd2	50		 push	 eax
  00bd3	0f b6 4d f0	 movzx	 ecx, BYTE PTR _ExOption$[ebp]
  00bd7	51		 push	 ecx
  00bd8	8b 55 dc	 mov	 edx, DWORD PTR _nv$[ebp]
  00bdb	52		 push	 edx
  00bdc	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00bdf	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00be5	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00be8	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00bee	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  00bf2	e8 00 00 00 00	 call	 __ftol2_sse
  00bf7	50		 push	 eax
  00bf8	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00bfb	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00c01	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00c04	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00c0a	8b 04 02	 mov	 eax, DWORD PTR [edx+eax]
  00c0d	50		 push	 eax
  00c0e	8b 4d d0	 mov	 ecx, DWORD PTR _n$235442[ebp]
  00c11	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  00c17	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00c1a	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  00c20	0f b6 8c 08 96
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+150]
  00c28	51		 push	 ecx
  00c29	8b 55 d0	 mov	 edx, DWORD PTR _n$235442[ebp]
  00c2c	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  00c32	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00c35	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  00c3b	0f b6 94 11 95
	00 00 00	 movzx	 edx, BYTE PTR [ecx+edx+149]
  00c43	52		 push	 edx
  00c44	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00c47	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  00c4d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00c50	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  00c56	0f b6 84 02 94
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+148]
  00c5e	50		 push	 eax
  00c5f	8b 4d d0	 mov	 ecx, DWORD PTR _n$235442[ebp]
  00c62	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  00c68	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00c6b	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  00c71	0f bf 4c 08 08	 movsx	 ecx, WORD PTR [eax+ecx+8]
  00c76	51		 push	 ecx
  00c77	8b 4d d0	 mov	 ecx, DWORD PTR _n$235442[ebp]
  00c7a	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  00c80	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00c83	03 8a 78 0e 00
	00		 add	 ecx, DWORD PTR [edx+3704]
  00c89	e8 00 00 00 00	 call	 ?GetName@CItem@@QAEPADXZ ; CItem::GetName
  00c8e	50		 push	 eax
  00c8f	8b 45 d0	 mov	 eax, DWORD PTR _n$235442[ebp]
  00c92	50		 push	 eax
  00c93	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00c96	83 c1 77	 add	 ecx, 119		; 00000077H
  00c99	51		 push	 ecx
  00c9a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00c9d	83 c2 6c	 add	 edx, 108		; 0000006cH
  00ca0	52		 push	 edx
  00ca1	68 00 00 00 00	 push	 OFFSET ??_C@_0FA@FKHLLHEC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5?$FL?$CFd?0?$CFs?0?$CFd?0?$CFd?0?$CFd?0?$CF@
  00ca6	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00cac	83 c4 50	 add	 esp, 80			; 00000050H
$LN29@ChaosBoxMi:

; 263  : 		}
; 264  : 	}

  00caf	e9 4b fb ff ff	 jmp	 $LN31@ChaosBoxMi
$LN30@ChaosBoxMi:

; 265  : 
; 266  : 	if ( ChaosDiamond == 0 )

  00cb4	83 7d ec 00	 cmp	 DWORD PTR _ChaosDiamond$[ebp], 0
  00cb8	75 07		 jne	 SHORT $LN15@ChaosBoxMi

; 267  : 	{
; 268  : 		value = 0;

  00cba	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _value$[ebp], 0
$LN15@ChaosBoxMi:

; 269  : 	}
; 270  : 
; 271  : 	if ( ChaosItems < 2 )

  00cc1	83 7d e8 02	 cmp	 DWORD PTR _ChaosItems$[ebp], 2
  00cc5	7d 07		 jge	 SHORT $LN14@ChaosBoxMi

; 272  : 	{
; 273  : 		value = 0;

  00cc7	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _value$[ebp], 0
$LN14@ChaosBoxMi:

; 274  : 	}
; 275  : 
; 276  : 	if ( iCharmOfLuckCount > 10 )

  00cce	83 7d d4 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  00cd2	7e 07		 jle	 SHORT $LN13@ChaosBoxMi

; 277  : 		return FALSE;

  00cd4	33 c0		 xor	 eax, eax
  00cd6	e9 41 01 00 00	 jmp	 $LN34@ChaosBoxMi
$LN13@ChaosBoxMi:

; 278  : 	
; 279  : 	lpObj->ChaosSuccessRate = value / 20000;

  00cdb	8b 45 e4	 mov	 eax, DWORD PTR _value$[ebp]
  00cde	99		 cdq
  00cdf	b9 20 4e 00 00	 mov	 ecx, 20000		; 00004e20H
  00ce4	f7 f9		 idiv	 ecx
  00ce6	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00ce9	89 82 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], eax

; 280  : 	lpObj->ChaosSuccessRate += iCharmOfLuckCount;

  00cef	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00cf2	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  00cf8	03 4d d4	 add	 ecx, DWORD PTR _iCharmOfLuckCount$[ebp]
  00cfb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00cfe	89 8a 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], ecx

; 281  : 
; 282  : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  00d04	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d07	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  00d0d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00d10	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  00d16	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d19	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 283  : 
; 284  : 	if ( lpObj->ChaosSuccessRate  > 100 )

  00d1f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d22	83 b8 84 0e 00
	00 64		 cmp	 DWORD PTR [eax+3716], 100 ; 00000064H
  00d29	7e 0d		 jle	 SHORT $LN12@ChaosBoxMi

; 285  : 	{
; 286  : 		lpObj->ChaosSuccessRate = 100;

  00d2b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d2e	c7 80 84 0e 00
	00 64 00 00 00	 mov	 DWORD PTR [eax+3716], 100 ; 00000064H
$LN12@ChaosBoxMi:

; 287  : 	}
; 288  : 
; 289  : 	lpObj->ChaosMoney = lpObj->ChaosSuccessRate * 10000;

  00d38	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d3b	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  00d41	69 c9 10 27 00
	00		 imul	 ecx, 10000		; 00002710H
  00d47	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00d4a	89 8a 80 0e 00
	00		 mov	 DWORD PTR [edx+3712], ecx

; 290  : 
; 291  : 	LogAddTD("[%s][%s] CBMix need Zen : %d SuccessRate : %d, CharmRate : %d", lpObj->AccountID, lpObj->Name, lpObj->ChaosMoney, lpObj->ChaosSuccessRate, iCharmOfLuckCount);

  00d50	8b 45 d4	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  00d53	50		 push	 eax
  00d54	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00d57	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  00d5d	52		 push	 edx
  00d5e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d61	8b 88 80 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3712]
  00d67	51		 push	 ecx
  00d68	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00d6b	83 c2 77	 add	 edx, 119		; 00000077H
  00d6e	52		 push	 edx
  00d6f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00d72	83 c0 6c	 add	 eax, 108		; 0000006cH
  00d75	50		 push	 eax
  00d76	68 00 00 00 00	 push	 OFFSET ??_C@_0DO@PLIHJFD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5need?5Zen?5?3?5?$CFd?5Suc@
  00d7b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00d81	83 c4 18	 add	 esp, 24			; 00000018H

; 292  : 
; 293  : 	if(WingCharmItemNum > -1) //season4.5 add-on

  00d84	83 7d d8 ff	 cmp	 DWORD PTR _WingCharmItemNum$[ebp], -1
  00d88	0f 8e 8b 00 00
	00		 jle	 $LN9@ChaosBoxMi

; 294  : 	{
; 295  : 		int WingCharmIndex = WingCharmItemNum ^ ITEMGET(13,0);

  00d8e	8b 45 d8	 mov	 eax, DWORD PTR _WingCharmItemNum$[ebp]
  00d91	35 00 1a 00 00	 xor	 eax, 6656		; 00001a00H
  00d96	89 45 cc	 mov	 DWORD PTR _WingCharmIndex$235469[ebp], eax

; 296  : 
; 297  : 		switch(WingCharmIndex)

  00d99	8b 45 cc	 mov	 eax, DWORD PTR _WingCharmIndex$235469[ebp]
  00d9c	89 45 88	 mov	 DWORD PTR tv361[ebp], eax
  00d9f	8b 4d 88	 mov	 ecx, DWORD PTR tv361[ebp]
  00da2	83 e9 53	 sub	 ecx, 83			; 00000053H
  00da5	89 4d 88	 mov	 DWORD PTR tv361[ebp], ecx
  00da8	83 7d 88 04	 cmp	 DWORD PTR tv361[ebp], 4
  00dac	77 55		 ja	 SHORT $LN1@ChaosBoxMi
  00dae	8b 55 88	 mov	 edx, DWORD PTR tv361[ebp]
  00db1	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN36@ChaosBoxMi[edx*4]
$LN8@ChaosBoxMi:

; 298  : 		{
; 299  : 		case 83:
; 300  : 			Result3 = 2;

  00db8	8b 45 10	 mov	 eax, DWORD PTR _Result3$[ebp]
  00dbb	c7 00 02 00 00
	00		 mov	 DWORD PTR [eax], 2

; 301  : 			break;

  00dc1	eb 56		 jmp	 SHORT $LN9@ChaosBoxMi
$LN7@ChaosBoxMi:

; 302  : 		case 84:
; 303  : 			Result3 = 1;

  00dc3	8b 45 10	 mov	 eax, DWORD PTR _Result3$[ebp]
  00dc6	c7 00 01 00 00
	00		 mov	 DWORD PTR [eax], 1

; 304  : 			break;

  00dcc	eb 4b		 jmp	 SHORT $LN9@ChaosBoxMi
$LN6@ChaosBoxMi:

; 305  : 		case 85:
; 306  : 			Result3 = 0;

  00dce	8b 45 10	 mov	 eax, DWORD PTR _Result3$[ebp]
  00dd1	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 307  : 			break;

  00dd7	eb 40		 jmp	 SHORT $LN9@ChaosBoxMi
$LN5@ChaosBoxMi:

; 308  : 		case 86:
; 309  : 			if(ExConfig.ExCustom.SwitchChar == 2)

  00dd9	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A, 2
  00de0	75 0b		 jne	 SHORT $LN4@ChaosBoxMi

; 310  : 			{
; 311  : 				Result3 = 0;

  00de2	8b 45 10	 mov	 eax, DWORD PTR _Result3$[ebp]
  00de5	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 312  : 			}
; 313  : 			else

  00deb	eb 09		 jmp	 SHORT $LN3@ChaosBoxMi
$LN4@ChaosBoxMi:

; 314  : 			{
; 315  : 				Result3 = 41;

  00ded	8b 45 10	 mov	 eax, DWORD PTR _Result3$[ebp]
  00df0	c7 00 29 00 00
	00		 mov	 DWORD PTR [eax], 41	; 00000029H
$LN3@ChaosBoxMi:

; 316  : 			}
; 317  : 			break;

  00df6	eb 21		 jmp	 SHORT $LN9@ChaosBoxMi
$LN2@ChaosBoxMi:

; 318  : 		case 87://updated 1.01.00
; 319  : 			Result3 = 30;//40;

  00df8	8b 45 10	 mov	 eax, DWORD PTR _Result3$[ebp]
  00dfb	c7 00 1e 00 00
	00		 mov	 DWORD PTR [eax], 30	; 0000001eH

; 320  : 			break;

  00e01	eb 16		 jmp	 SHORT $LN9@ChaosBoxMi
$LN1@ChaosBoxMi:

; 321  : 		default:
; 322  : 			LogAddTD("[MixSystem] WingCharmItemNum => %d , WingCharmIndex => %d", WingCharmItemNum, WingCharmIndex);

  00e03	8b 45 cc	 mov	 eax, DWORD PTR _WingCharmIndex$235469[ebp]
  00e06	50		 push	 eax
  00e07	8b 4d d8	 mov	 ecx, DWORD PTR _WingCharmItemNum$[ebp]
  00e0a	51		 push	 ecx
  00e0b	68 00 00 00 00	 push	 OFFSET ??_C@_0DK@EKDAKNF@?$FLMixSystem?$FN?5WingCharmItemNum?5?$DN?$DO?5@
  00e10	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00e16	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN9@ChaosBoxMi:

; 323  : 		}
; 324  : 	}
; 325  : 
; 326  : 	return value;

  00e19	8b 45 e4	 mov	 eax, DWORD PTR _value$[ebp]
$LN34@ChaosBoxMi:

; 327  : }

  00e1c	5f		 pop	 edi
  00e1d	5e		 pop	 esi
  00e1e	5b		 pop	 ebx
  00e1f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00e22	33 cd		 xor	 ecx, ebp
  00e24	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00e29	8b e5		 mov	 esp, ebp
  00e2b	5d		 pop	 ebp
  00e2c	c2 0c 00	 ret	 12			; 0000000cH
  00e2f	90		 npad	 1
$LN36@ChaosBoxMi:
  00e30	00 00 00 00	 DD	 $LN8@ChaosBoxMi
  00e34	00 00 00 00	 DD	 $LN7@ChaosBoxMi
  00e38	00 00 00 00	 DD	 $LN6@ChaosBoxMi
  00e3c	00 00 00 00	 DD	 $LN5@ChaosBoxMi
  00e40	00 00 00 00	 DD	 $LN2@ChaosBoxMi
?ChaosBoxMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@AAH1@Z ENDP ; CMixSystem::ChaosBoxMix
_TEXT	ENDS
PUBLIC	?CBUPS_ItemRequest@CMixSystem@@QAEXHPAD0@Z	; CMixSystem::CBUPS_ItemRequest
PUBLIC	??_C@_0CK@IKEPLJDI@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Success?5Rate?3?$CFd?5M@ ; `string'
PUBLIC	??_C@_0CF@NPEOFJKC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail?5?$CFd?5Money?5?3?5?$CF@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?DefaultChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::DefaultChaosMix
EXTRN	?gObjInventoryCommit@@YAHH@Z:PROC		; gObjInventoryCommit
EXTRN	?gChaosEvent@@3HA:DWORD				; gChaosEvent
EXTRN	?FailedChaosMix@CAchievements@@QAEXH@Z:PROC	; CAchievements::FailedChaosMix
EXTRN	?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z:PROC ; GCUserChaosBoxSend
EXTRN	?GCMoneySend@@YAXHK@Z:PROC			; GCMoneySend
EXTRN	?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z:PROC	; CCastleSiegeSync::AddTributeMoney
EXTRN	?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z:PROC	; ItemSerialCreateSend
EXTRN	?SuccessChaosMix@CAchievements@@QAEXH@Z:PROC	; CAchievements::SuccessChaosMix
EXTRN	?g_Achievements@@3VCAchievements@@A:BYTE	; g_Achievements
EXTRN	?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z:PROC	; CCastleSiegeSync::GetTaxRateChaos
EXTRN	?g_CastleSiegeSync@@3VCCastleSiegeSync@@A:BYTE	; g_CastleSiegeSync
EXTRN	?DataSend@@YAHHPAEK@Z:PROC			; DataSend
EXTRN	?PHeadSetB@@YAXPAEEH@Z:PROC			; PHeadSetB
EXTRN	__alldiv:PROC
EXTRN	__allmul:PROC
;	COMDAT ??_C@_0CK@IKEPLJDI@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Success?5Rate?3?$CFd?5M@
CONST	SEGMENT
??_C@_0CK@IKEPLJDI@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Success?5Rate?3?$CFd?5M@ DB '['
	DB	'%s][%s] CBMix Success Rate:%d Money : %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CF@NPEOFJKC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail?5?$CFd?5Money?5?3?5?$CF@
CONST	SEGMENT
??_C@_0CF@NPEOFJKC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail?5?$CFd?5Money?5?3?5?$CF@ DB '['
	DB	'%s][%s] CBMix Fail %d Money : %d-%d', 00H	; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv163 = -156						; size = 4
_ChaosItemNum$235548 = -88				; size = 4
_ChaosItemType$235547 = -84				; size = 4
_WingNum$235531 = -80					; size = 4
_WingType$235530 = -76					; size = 4
_MaxRandomMix$235528 = -72				; size = 4
_OpType$235516 = -68					; size = 4
_OpProb$235515 = -64					; size = 4
_Option3$235512 = -60					; size = 4
_Option2$235511 = -56					; size = 4
_Option1$235510 = -52					; size = 4
_Level$235509 = -48					; size = 4
_iChaosTaxMoney$ = -44					; size = 4
_WingCharmIndex$ = -40					; size = 4
_MixResult2$ = -36					; size = 4
_fail$ = -32						; size = 4
_aIndex$ = -28						; size = 4
_pMsg$ = -24						; size = 16
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?DefaultChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::DefaultChaosMix
; _this$ = ecx

; 330  : {

  00e50	55		 push	 ebp
  00e51	8b ec		 mov	 ebp, esp
  00e53	81 ec 9c 00 00
	00		 sub	 esp, 156		; 0000009cH
  00e59	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00e5e	33 c5		 xor	 eax, ebp
  00e60	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00e63	53		 push	 ebx
  00e64	56		 push	 esi
  00e65	57		 push	 edi
  00e66	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 331  : 	PMSG_CHAOSMIXRESULT pMsg;
; 332  : 
; 333  : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  00e69	6a 10		 push	 16			; 00000010H
  00e6b	68 86 00 00 00	 push	 134			; 00000086H
  00e70	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00e73	50		 push	 eax
  00e74	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  00e79	83 c4 0c	 add	 esp, 12			; 0000000cH

; 334  : 	pMsg.Result = CB_ERROR;

  00e7c	c6 45 eb 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 335  : 	int aIndex = lpObj->m_Index;

  00e80	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e83	8b 08		 mov	 ecx, DWORD PTR [eax]
  00e85	89 4d e4	 mov	 DWORD PTR _aIndex$[ebp], ecx

; 336  : 	BOOL fail = TRUE;

  00e88	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _fail$[ebp], 1

; 337  : 	int MixResult2;
; 338  : 	lpObj->ChaosLock = TRUE;

  00e8f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00e92	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 339  : 	int WingCharmIndex = -1; //season4.5 add-on

  00e9c	c7 45 d8 ff ff
	ff ff		 mov	 DWORD PTR _WingCharmIndex$[ebp], -1

; 340  : 
; 341  : 	if ( ChaosBoxMix(lpObj, MixResult2, WingCharmIndex) == 0 )

  00ea3	8d 45 d8	 lea	 eax, DWORD PTR _WingCharmIndex$[ebp]
  00ea6	50		 push	 eax
  00ea7	8d 4d dc	 lea	 ecx, DWORD PTR _MixResult2$[ebp]
  00eaa	51		 push	 ecx
  00eab	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00eae	52		 push	 edx
  00eaf	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00eb2	e8 00 00 00 00	 call	 ?ChaosBoxMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@AAH1@Z ; CMixSystem::ChaosBoxMix
  00eb7	85 c0		 test	 eax, eax
  00eb9	75 2b		 jne	 SHORT $LN40@DefaultCha

; 342  : 	{
; 343  : 		pMsg.Result = CB_INCORRECT_MIX_ITEMS;

  00ebb	c6 45 eb 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 344  : 		DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  00ebf	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  00ec3	50		 push	 eax
  00ec4	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  00ec7	51		 push	 ecx
  00ec8	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00ecb	52		 push	 edx
  00ecc	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  00ed1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 345  : 		lpObj->ChaosLock = FALSE;

  00ed4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00ed7	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 346  : 		return;

  00ee1	e9 d1 04 00 00	 jmp	 $LN41@DefaultCha
$LN40@DefaultCha:

; 347  : 	}
; 348  : 
; 349  : 	int iChaosTaxMoney = (int)((__int64)lpObj->ChaosMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  00ee6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00ee9	8b 80 80 0e 00
	00		 mov	 eax, DWORD PTR [eax+3712]
  00eef	99		 cdq
  00ef0	8b f0		 mov	 esi, eax
  00ef2	8b fa		 mov	 edi, edx
  00ef4	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00ef7	8b 11		 mov	 edx, DWORD PTR [ecx]
  00ef9	52		 push	 edx
  00efa	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  00eff	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  00f04	99		 cdq
  00f05	52		 push	 edx
  00f06	50		 push	 eax
  00f07	57		 push	 edi
  00f08	56		 push	 esi
  00f09	e8 00 00 00 00	 call	 __allmul
  00f0e	6a 00		 push	 0
  00f10	6a 64		 push	 100			; 00000064H
  00f12	52		 push	 edx
  00f13	50		 push	 eax
  00f14	e8 00 00 00 00	 call	 __alldiv
  00f19	89 45 d4	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 350  : 
; 351  : 	if ( iChaosTaxMoney < 0 )

  00f1c	83 7d d4 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  00f20	7d 07		 jge	 SHORT $LN39@DefaultCha

; 352  : 	{
; 353  : 		iChaosTaxMoney = 0;

  00f22	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN39@DefaultCha:

; 354  : 	}
; 355  : 
; 356  : 	lpObj->ChaosMoney += iChaosTaxMoney;

  00f29	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00f2c	8b 88 80 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3712]
  00f32	03 4d d4	 add	 ecx, DWORD PTR _iChaosTaxMoney$[ebp]
  00f35	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00f38	89 8a 80 0e 00
	00		 mov	 DWORD PTR [edx+3712], ecx

; 357  : 
; 358  : 	if ( lpObj->ChaosMoney < 0 )

  00f3e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00f41	83 b8 80 0e 00
	00 00		 cmp	 DWORD PTR [eax+3712], 0
  00f48	7d 0d		 jge	 SHORT $LN38@DefaultCha

; 359  : 	{
; 360  : 		lpObj->ChaosMoney = 0;

  00f4a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00f4d	c7 80 80 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3712], 0
$LN38@DefaultCha:

; 361  : 	}
; 362  : 
; 363  : 	if ( lpObj->Money < lpObj->ChaosMoney )

  00f57	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00f5a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00f5d	8b 90 f0 00 00
	00		 mov	 edx, DWORD PTR [eax+240]
  00f63	3b 91 80 0e 00
	00		 cmp	 edx, DWORD PTR [ecx+3712]
  00f69	7d 2b		 jge	 SHORT $LN37@DefaultCha

; 364  : 	{
; 365  : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  00f6b	c6 45 eb 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 366  : 		
; 367  : 		DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  00f6f	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  00f73	50		 push	 eax
  00f74	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  00f77	51		 push	 ecx
  00f78	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00f7b	52		 push	 edx
  00f7c	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  00f81	83 c4 0c	 add	 esp, 12			; 0000000cH

; 368  : 		lpObj->ChaosLock = FALSE;

  00f84	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00f87	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 369  : 	}
; 370  : 	else 

  00f91	e9 13 04 00 00	 jmp	 $LN36@DefaultCha
$LN37@DefaultCha:

; 371  : 	{
; 372  : 		if ( lpObj->ChaosSuccessRate > 0 )

  00f96	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00f99	83 b8 84 0e 00
	00 00		 cmp	 DWORD PTR [eax+3716], 0
  00fa0	0f 8e db 02 00
	00		 jle	 $LN35@DefaultCha

; 373  : 		{
; 374  : 			if ( lpObj->ChaosSuccessRate >= 100 )

  00fa6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00fa9	83 b8 84 0e 00
	00 64		 cmp	 DWORD PTR [eax+3716], 100 ; 00000064H
  00fb0	7c 0d		 jl	 SHORT $LN34@DefaultCha

; 375  : 			{
; 376  : 				lpObj->ChaosSuccessRate = 100;

  00fb2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00fb5	c7 80 84 0e 00
	00 64 00 00 00	 mov	 DWORD PTR [eax+3716], 100 ; 00000064H
$LN34@DefaultCha:

; 377  : 			}
; 378  : 
; 379  : 			if ( (rand()%100) <= (lpObj->ChaosSuccessRate-1) ) 

  00fbf	e8 00 00 00 00	 call	 _rand
  00fc4	99		 cdq
  00fc5	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  00fca	f7 f9		 idiv	 ecx
  00fcc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00fcf	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  00fd5	83 e9 01	 sub	 ecx, 1
  00fd8	3b d1		 cmp	 edx, ecx
  00fda	0f 8f a1 02 00
	00		 jg	 $LN35@DefaultCha

; 380  : 			{
; 381  : 				fail = FALSE;

  00fe0	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _fail$[ebp], 0

; 382  : 				pMsg.Result = CB_SUCCESS;

  00fe7	c6 45 eb 01	 mov	 BYTE PTR _pMsg$[ebp+3], 1

; 383  : 
; 384  : 				int Level = rand()%5;

  00feb	e8 00 00 00 00	 call	 _rand
  00ff0	99		 cdq
  00ff1	b9 05 00 00 00	 mov	 ecx, 5
  00ff6	f7 f9		 idiv	 ecx
  00ff8	89 55 d0	 mov	 DWORD PTR _Level$235509[ebp], edx

; 385  : 				int Option1 = 0;

  00ffb	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _Option1$235510[ebp], 0

; 386  : 				int Option2 = 0;

  01002	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _Option2$235511[ebp], 0

; 387  : 				int Option3 = 0;

  01009	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _Option3$235512[ebp], 0

; 388  : 
; 389  : 				if ( (rand()%100)< (lpObj->ChaosSuccessRate/5 + 6) )

  01010	e8 00 00 00 00	 call	 _rand
  01015	99		 cdq
  01016	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0101b	f7 f9		 idiv	 ecx
  0101d	8b ca		 mov	 ecx, edx
  0101f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01022	8b 82 84 0e 00
	00		 mov	 eax, DWORD PTR [edx+3716]
  01028	99		 cdq
  01029	be 05 00 00 00	 mov	 esi, 5
  0102e	f7 fe		 idiv	 esi
  01030	83 c0 06	 add	 eax, 6
  01033	3b c8		 cmp	 ecx, eax
  01035	7d 07		 jge	 SHORT $LN32@DefaultCha

; 390  : 				{
; 391  : 					Option1 = 1;

  01037	c7 45 cc 01 00
	00 00		 mov	 DWORD PTR _Option1$235510[ebp], 1
$LN32@DefaultCha:

; 392  : 				}
; 393  : 
; 394  : 				if ( (rand()%100)< (lpObj->ChaosSuccessRate/5 + 4) )

  0103e	e8 00 00 00 00	 call	 _rand
  01043	99		 cdq
  01044	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  01049	f7 f9		 idiv	 ecx
  0104b	8b ca		 mov	 ecx, edx
  0104d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01050	8b 82 84 0e 00
	00		 mov	 eax, DWORD PTR [edx+3716]
  01056	99		 cdq
  01057	be 05 00 00 00	 mov	 esi, 5
  0105c	f7 fe		 idiv	 esi
  0105e	83 c0 04	 add	 eax, 4
  01061	3b c8		 cmp	 ecx, eax
  01063	7d 07		 jge	 SHORT $LN31@DefaultCha

; 395  : 				{
; 396  : 					Option2 = 1;

  01065	c7 45 c8 01 00
	00 00		 mov	 DWORD PTR _Option2$235511[ebp], 1
$LN31@DefaultCha:

; 397  : 				}
; 398  : 
; 399  : 				int OpProb;
; 400  : 				int OpType = rand()%3;

  0106c	e8 00 00 00 00	 call	 _rand
  01071	99		 cdq
  01072	b9 03 00 00 00	 mov	 ecx, 3
  01077	f7 f9		 idiv	 ecx
  01079	89 55 bc	 mov	 DWORD PTR _OpType$235516[ebp], edx

; 401  : 				OpProb = rand()%100;

  0107c	e8 00 00 00 00	 call	 _rand
  01081	99		 cdq
  01082	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  01087	f7 f9		 idiv	 ecx
  01089	89 55 c0	 mov	 DWORD PTR _OpProb$235515[ebp], edx

; 402  : 
; 403  : 				switch ( OpType )

  0108c	8b 45 bc	 mov	 eax, DWORD PTR _OpType$235516[ebp]
  0108f	89 85 64 ff ff
	ff		 mov	 DWORD PTR tv163[ebp], eax
  01095	83 bd 64 ff ff
	ff 00		 cmp	 DWORD PTR tv163[ebp], 0
  0109c	74 14		 je	 SHORT $LN28@DefaultCha
  0109e	83 bd 64 ff ff
	ff 01		 cmp	 DWORD PTR tv163[ebp], 1
  010a5	74 2d		 je	 SHORT $LN26@DefaultCha
  010a7	83 bd 64 ff ff
	ff 02		 cmp	 DWORD PTR tv163[ebp], 2
  010ae	74 46		 je	 SHORT $LN24@DefaultCha
  010b0	eb 64		 jmp	 SHORT $LN29@DefaultCha
$LN28@DefaultCha:

; 404  : 				{
; 405  : 					case 0:
; 406  : 						if ( OpProb < (lpObj->ChaosSuccessRate / 5 + 4) ) 

  010b2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  010b5	8b 80 84 0e 00
	00		 mov	 eax, DWORD PTR [eax+3716]
  010bb	99		 cdq
  010bc	b9 05 00 00 00	 mov	 ecx, 5
  010c1	f7 f9		 idiv	 ecx
  010c3	83 c0 04	 add	 eax, 4
  010c6	39 45 c0	 cmp	 DWORD PTR _OpProb$235515[ebp], eax
  010c9	7d 07		 jge	 SHORT $LN27@DefaultCha

; 407  : 						{
; 408  : 							Option3 = 3;

  010cb	c7 45 c4 03 00
	00 00		 mov	 DWORD PTR _Option3$235512[ebp], 3
$LN27@DefaultCha:

; 409  : 						}
; 410  : 						break;

  010d2	eb 42		 jmp	 SHORT $LN29@DefaultCha
$LN26@DefaultCha:

; 411  : 
; 412  : 					case 1:
; 413  : 						if ( OpProb < (lpObj->ChaosSuccessRate / 5 + 8) ) 

  010d4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  010d7	8b 80 84 0e 00
	00		 mov	 eax, DWORD PTR [eax+3716]
  010dd	99		 cdq
  010de	b9 05 00 00 00	 mov	 ecx, 5
  010e3	f7 f9		 idiv	 ecx
  010e5	83 c0 08	 add	 eax, 8
  010e8	39 45 c0	 cmp	 DWORD PTR _OpProb$235515[ebp], eax
  010eb	7d 07		 jge	 SHORT $LN25@DefaultCha

; 414  : 						{
; 415  : 							Option3 = 2;

  010ed	c7 45 c4 02 00
	00 00		 mov	 DWORD PTR _Option3$235512[ebp], 2
$LN25@DefaultCha:

; 416  : 						}
; 417  : 						break;

  010f4	eb 20		 jmp	 SHORT $LN29@DefaultCha
$LN24@DefaultCha:

; 418  : 
; 419  : 					case 2:
; 420  : 						if ( OpProb < (lpObj->ChaosSuccessRate / 5 + 12) ) 

  010f6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  010f9	8b 80 84 0e 00
	00		 mov	 eax, DWORD PTR [eax+3716]
  010ff	99		 cdq
  01100	b9 05 00 00 00	 mov	 ecx, 5
  01105	f7 f9		 idiv	 ecx
  01107	83 c0 0c	 add	 eax, 12			; 0000000cH
  0110a	39 45 c0	 cmp	 DWORD PTR _OpProb$235515[ebp], eax
  0110d	7d 07		 jge	 SHORT $LN29@DefaultCha

; 421  : 						{
; 422  : 							Option3 = 1;

  0110f	c7 45 c4 01 00
	00 00		 mov	 DWORD PTR _Option3$235512[ebp], 1
$LN29@DefaultCha:

; 423  : 						}
; 424  : 						break;
; 425  : 				}
; 426  : 
; 427  : 				if ( MixResult2 == 1 )

  01116	83 7d dc 01	 cmp	 DWORD PTR _MixResult2$[ebp], 1
  0111a	0f 85 d5 00 00
	00		 jne	 $LN22@DefaultCha

; 428  : 				{
; 429  : 					int MaxRandomMix = 4;

  01120	c7 45 b8 04 00
	00 00		 mov	 DWORD PTR _MaxRandomMix$235528[ebp], 4

; 430  : 					if(ExConfig.ExCustom.SwitchChar == 2)

  01127	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A, 2
  0112e	75 07		 jne	 SHORT $LN21@DefaultCha

; 431  : 					{
; 432  : 						MaxRandomMix = 3;

  01130	c7 45 b8 03 00
	00 00		 mov	 DWORD PTR _MaxRandomMix$235528[ebp], 3
$LN21@DefaultCha:

; 433  : 					}
; 434  : 					int WingType = rand()%MaxRandomMix;

  01137	e8 00 00 00 00	 call	 _rand
  0113c	99		 cdq
  0113d	f7 7d b8	 idiv	 DWORD PTR _MaxRandomMix$235528[ebp]
  01140	89 55 b4	 mov	 DWORD PTR _WingType$235530[ebp], edx

; 435  : 					int WingNum = 0;

  01143	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _WingNum$235531[ebp], 0

; 436  : 
; 437  : 					if(WingCharmIndex > -1) //season4.5 add-on

  0114a	83 7d d8 ff	 cmp	 DWORD PTR _WingCharmIndex$[ebp], -1
  0114e	7e 0d		 jle	 SHORT $LN20@DefaultCha

; 438  : 					{
; 439  : 						WingNum = WingCharmIndex + ITEMGET(12,0);

  01150	8b 45 d8	 mov	 eax, DWORD PTR _WingCharmIndex$[ebp]
  01153	05 00 18 00 00	 add	 eax, 6144		; 00001800H
  01158	89 45 b0	 mov	 DWORD PTR _WingNum$235531[ebp], eax
  0115b	eb 4c		 jmp	 SHORT $LN19@DefaultCha
$LN20@DefaultCha:

; 440  : 					}
; 441  : 					else if ( WingType == 0 )

  0115d	83 7d b4 00	 cmp	 DWORD PTR _WingType$235530[ebp], 0
  01161	75 09		 jne	 SHORT $LN18@DefaultCha

; 442  : 					{
; 443  : 						WingNum = ITEMGET(12,0);

  01163	c7 45 b0 00 18
	00 00		 mov	 DWORD PTR _WingNum$235531[ebp], 6144 ; 00001800H
  0116a	eb 3d		 jmp	 SHORT $LN19@DefaultCha
$LN18@DefaultCha:

; 444  : 					}
; 445  : 					else if ( WingType == 1 )

  0116c	83 7d b4 01	 cmp	 DWORD PTR _WingType$235530[ebp], 1
  01170	75 09		 jne	 SHORT $LN16@DefaultCha

; 446  : 					{
; 447  : 						WingNum = ITEMGET(12,1);

  01172	c7 45 b0 01 18
	00 00		 mov	 DWORD PTR _WingNum$235531[ebp], 6145 ; 00001801H
  01179	eb 2e		 jmp	 SHORT $LN19@DefaultCha
$LN16@DefaultCha:

; 448  : 					}
; 449  : 					else if ( WingType == 2 )

  0117b	83 7d b4 02	 cmp	 DWORD PTR _WingType$235530[ebp], 2
  0117f	75 09		 jne	 SHORT $LN14@DefaultCha

; 450  : 					{
; 451  : 						WingNum = ITEMGET(12,2);

  01181	c7 45 b0 02 18
	00 00		 mov	 DWORD PTR _WingNum$235531[ebp], 6146 ; 00001802H
  01188	eb 1f		 jmp	 SHORT $LN19@DefaultCha
$LN14@DefaultCha:

; 452  : 					}
; 453  : 					else if ( WingType == 3 ) //season3 add-on

  0118a	83 7d b4 03	 cmp	 DWORD PTR _WingType$235530[ebp], 3
  0118e	75 19		 jne	 SHORT $LN19@DefaultCha

; 454  : 					{
; 455  : 						if(ExConfig.ExCustom.SwitchChar == 2)

  01190	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A, 2
  01197	75 09		 jne	 SHORT $LN11@DefaultCha

; 456  : 						{
; 457  : 							WingNum = ITEMGET(12,0);

  01199	c7 45 b0 00 18
	00 00		 mov	 DWORD PTR _WingNum$235531[ebp], 6144 ; 00001800H

; 458  : 						}
; 459  : 						else

  011a0	eb 07		 jmp	 SHORT $LN19@DefaultCha
$LN11@DefaultCha:

; 460  : 						{
; 461  : 							WingNum = ITEMGET(12,41);

  011a2	c7 45 b0 29 18
	00 00		 mov	 DWORD PTR _WingNum$235531[ebp], 6185 ; 00001829H
$LN19@DefaultCha:

; 462  : 						}
; 463  : 					}
; 464  : #if(SYSTEM_ACHIEVEMENTS)
; 465  : 					g_Achievements.SuccessChaosMix(lpObj->m_Index);

  011a9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  011ac	8b 08		 mov	 ecx, DWORD PTR [eax]
  011ae	51		 push	 ecx
  011af	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  011b4	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 466  : #endif
; 467  : 					::ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, WingNum, 0, 255, (BYTE)Option1, (BYTE)Option2, (BYTE)Option3, -1, 0, 0);

  011b9	6a 00		 push	 0
  011bb	6a 00		 push	 0
  011bd	6a ff		 push	 -1
  011bf	0f b6 45 c4	 movzx	 eax, BYTE PTR _Option3$235512[ebp]
  011c3	50		 push	 eax
  011c4	0f b6 4d c8	 movzx	 ecx, BYTE PTR _Option2$235511[ebp]
  011c8	51		 push	 ecx
  011c9	0f b6 55 cc	 movzx	 edx, BYTE PTR _Option1$235510[ebp]
  011cd	52		 push	 edx
  011ce	68 ff 00 00 00	 push	 255			; 000000ffH
  011d3	6a 00		 push	 0
  011d5	8b 45 b0	 mov	 eax, DWORD PTR _WingNum$235531[ebp]
  011d8	50		 push	 eax
  011d9	6a 00		 push	 0
  011db	6a 00		 push	 0
  011dd	68 ff 00 00 00	 push	 255			; 000000ffH
  011e2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  011e5	8b 11		 mov	 edx, DWORD PTR [ecx]
  011e7	52		 push	 edx
  011e8	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  011ed	83 c4 34	 add	 esp, 52			; 00000034H

; 468  : 				}
; 469  : 				else

  011f0	e9 8c 00 00 00	 jmp	 $LN35@DefaultCha
$LN22@DefaultCha:

; 470  : 				{
; 471  : 					int ChaosItemType = rand()%3;

  011f5	e8 00 00 00 00	 call	 _rand
  011fa	99		 cdq
  011fb	b9 03 00 00 00	 mov	 ecx, 3
  01200	f7 f9		 idiv	 ecx
  01202	89 55 ac	 mov	 DWORD PTR _ChaosItemType$235547[ebp], edx

; 472  : 					int ChaosItemNum = 0;

  01205	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR _ChaosItemNum$235548[ebp], 0

; 473  : 
; 474  : 					if ( ChaosItemType == 0 )	// Chaos Dragon Axe

  0120c	83 7d ac 00	 cmp	 DWORD PTR _ChaosItemType$235547[ebp], 0
  01210	75 09		 jne	 SHORT $LN8@DefaultCha

; 475  : 					{
; 476  : 						ChaosItemNum = ITEMGET(2,6);

  01212	c7 45 a8 06 04
	00 00		 mov	 DWORD PTR _ChaosItemNum$235548[ebp], 1030 ; 00000406H
  01219	eb 1c		 jmp	 SHORT $LN7@DefaultCha
$LN8@DefaultCha:

; 477  : 					}
; 478  : 					else if ( ChaosItemType == 1 )	// Chaos Nature Bow

  0121b	83 7d ac 01	 cmp	 DWORD PTR _ChaosItemType$235547[ebp], 1
  0121f	75 09		 jne	 SHORT $LN6@DefaultCha

; 479  : 					{
; 480  : 						ChaosItemNum = ITEMGET(4,6);

  01221	c7 45 a8 06 08
	00 00		 mov	 DWORD PTR _ChaosItemNum$235548[ebp], 2054 ; 00000806H
  01228	eb 0d		 jmp	 SHORT $LN7@DefaultCha
$LN6@DefaultCha:

; 481  : 					}
; 482  : 					else if ( ChaosItemType == 2 )	// Chaos Lighting Staff

  0122a	83 7d ac 02	 cmp	 DWORD PTR _ChaosItemType$235547[ebp], 2
  0122e	75 07		 jne	 SHORT $LN7@DefaultCha

; 483  : 					{
; 484  : 						ChaosItemNum = ITEMGET(5,7);

  01230	c7 45 a8 07 0a
	00 00		 mov	 DWORD PTR _ChaosItemNum$235548[ebp], 2567 ; 00000a07H
$LN7@DefaultCha:

; 485  : 					}
; 486  : #if(SYSTEM_ACHIEVEMENTS)
; 487  : 					g_Achievements.SuccessChaosMix(lpObj->m_Index);

  01237	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0123a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0123c	51		 push	 ecx
  0123d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  01242	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 488  : #endif
; 489  : 					::ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, ChaosItemNum, (BYTE)Level, 255, (BYTE)Option1, (BYTE)Option2, (BYTE)Option3, -1, 0, 0);

  01247	6a 00		 push	 0
  01249	6a 00		 push	 0
  0124b	6a ff		 push	 -1
  0124d	0f b6 45 c4	 movzx	 eax, BYTE PTR _Option3$235512[ebp]
  01251	50		 push	 eax
  01252	0f b6 4d c8	 movzx	 ecx, BYTE PTR _Option2$235511[ebp]
  01256	51		 push	 ecx
  01257	0f b6 55 cc	 movzx	 edx, BYTE PTR _Option1$235510[ebp]
  0125b	52		 push	 edx
  0125c	68 ff 00 00 00	 push	 255			; 000000ffH
  01261	0f b6 45 d0	 movzx	 eax, BYTE PTR _Level$235509[ebp]
  01265	50		 push	 eax
  01266	8b 4d a8	 mov	 ecx, DWORD PTR _ChaosItemNum$235548[ebp]
  01269	51		 push	 ecx
  0126a	6a 00		 push	 0
  0126c	6a 00		 push	 0
  0126e	68 ff 00 00 00	 push	 255			; 000000ffH
  01273	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01276	8b 02		 mov	 eax, DWORD PTR [edx]
  01278	50		 push	 eax
  01279	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0127e	83 c4 34	 add	 esp, 52			; 00000034H
$LN35@DefaultCha:

; 490  : 				}
; 491  : 			}
; 492  : 		}
; 493  : 
; 494  : 
; 495  : 		lpObj->Money -= lpObj->ChaosMoney;

  01281	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01284	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01287	8b 90 f0 00 00
	00		 mov	 edx, DWORD PTR [eax+240]
  0128d	2b 91 80 0e 00
	00		 sub	 edx, DWORD PTR [ecx+3712]
  01293	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01296	89 90 f0 00 00
	00		 mov	 DWORD PTR [eax+240], edx

; 496  : 		g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  0129c	8b 45 d4	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0129f	50		 push	 eax
  012a0	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  012a5	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 497  : 		GCMoneySend(lpObj->m_Index, lpObj->Money);

  012aa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  012ad	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  012b3	51		 push	 ecx
  012b4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  012b7	8b 02		 mov	 eax, DWORD PTR [edx]
  012b9	50		 push	 eax
  012ba	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  012bf	83 c4 08	 add	 esp, 8

; 498  : 
; 499  : 		if ( fail == TRUE )

  012c2	83 7d e0 01	 cmp	 DWORD PTR _fail$[ebp], 1
  012c6	0f 85 88 00 00
	00		 jne	 $LN3@DefaultCha

; 500  : 		{
; 501  : 			ChaosBoxItemDown(lpObj);

  012cc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  012cf	50		 push	 eax
  012d0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  012d3	e8 00 00 00 00	 call	 ?ChaosBoxItemDown@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxItemDown

; 502  : 			GCUserChaosBoxSend(lpObj, 0);

  012d8	6a 00		 push	 0
  012da	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  012dd	50		 push	 eax
  012de	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  012e3	83 c4 08	 add	 esp, 8

; 503  : 			DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  012e6	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  012ea	50		 push	 eax
  012eb	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  012ee	51		 push	 ecx
  012ef	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$[ebp]
  012f2	52		 push	 edx
  012f3	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  012f8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 504  : 			LogAddTD("[%s][%s] CBMix Fail %d Money : %d-%d", lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, lpObj->ChaosMoney);

  012fb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  012fe	8b 88 80 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3712]
  01304	51		 push	 ecx
  01305	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01308	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  0130e	50		 push	 eax
  0130f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01312	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  01318	52		 push	 edx
  01319	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0131c	83 c0 77	 add	 eax, 119		; 00000077H
  0131f	50		 push	 eax
  01320	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01323	83 c1 6c	 add	 ecx, 108		; 0000006cH
  01326	51		 push	 ecx
  01327	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@NPEOFJKC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail?5?$CFd?5Money?5?3?5?$CF@
  0132c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01332	83 c4 18	 add	 esp, 24			; 00000018H

; 505  : 			lpObj->ChaosLock = FALSE;

  01335	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01338	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 506  : #if(SYSTEM_ACHIEVEMENTS)
; 507  : 			g_Achievements.FailedChaosMix(lpObj->m_Index);

  01342	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01345	8b 08		 mov	 ecx, DWORD PTR [eax]
  01347	51		 push	 ecx
  01348	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0134d	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix

; 508  : #endif
; 509  : 		}
; 510  : 		else

  01352	eb 30		 jmp	 SHORT $LN2@DefaultCha
$LN3@DefaultCha:

; 511  : 		{
; 512  : 			LogAddTD("[%s][%s] CBMix Success Rate:%d Money : %d", lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->ChaosMoney);

  01354	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01357	8b 88 80 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3712]
  0135d	51		 push	 ecx
  0135e	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01361	8b 82 84 0e 00
	00		 mov	 eax, DWORD PTR [edx+3716]
  01367	50		 push	 eax
  01368	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0136b	83 c1 77	 add	 ecx, 119		; 00000077H
  0136e	51		 push	 ecx
  0136f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01372	83 c2 6c	 add	 edx, 108		; 0000006cH
  01375	52		 push	 edx
  01376	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@IKEPLJDI@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Success?5Rate?3?$CFd?5M@
  0137b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01381	83 c4 14	 add	 esp, 20			; 00000014H
$LN2@DefaultCha:

; 513  : 		}
; 514  : 
; 515  : 		if ( gChaosEvent != FALSE )

  01384	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gChaosEvent@@3HA, 0 ; gChaosEvent
  0138b	74 1c		 je	 SHORT $LN36@DefaultCha

; 516  : 		{
; 517  : 			CBUPS_ItemRequest(lpObj->m_Index, lpObj->AccountID, lpObj->Name);

  0138d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01390	83 c0 77	 add	 eax, 119		; 00000077H
  01393	50		 push	 eax
  01394	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01397	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0139a	51		 push	 ecx
  0139b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0139e	8b 02		 mov	 eax, DWORD PTR [edx]
  013a0	50		 push	 eax
  013a1	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  013a4	e8 00 00 00 00	 call	 ?CBUPS_ItemRequest@CMixSystem@@QAEXHPAD0@Z ; CMixSystem::CBUPS_ItemRequest
$LN36@DefaultCha:

; 518  : 		}
; 519  : 	}
; 520  : 
; 521  : 	::gObjInventoryCommit(lpObj->m_Index);

  013a9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  013ac	8b 08		 mov	 ecx, DWORD PTR [eax]
  013ae	51		 push	 ecx
  013af	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  013b4	83 c4 04	 add	 esp, 4
$LN41@DefaultCha:

; 522  : }

  013b7	5f		 pop	 edi
  013b8	5e		 pop	 esi
  013b9	5b		 pop	 ebx
  013ba	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  013bd	33 cd		 xor	 ecx, ebp
  013bf	e8 00 00 00 00	 call	 @__security_check_cookie@4
  013c4	8b e5		 mov	 esp, ebp
  013c6	5d		 pop	 ebp
  013c7	c2 04 00	 ret	 4
?DefaultChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::DefaultChaosMix
_TEXT	ENDS
PUBLIC	??_C@_0HL@DJPNJNMN@?$FLDevilSquare?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?LogDQChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::LogDQChaosItem
EXTRN	?GetItemStrengthenOption@CJewelOfHarmonySystem@@QAEEPAVCItem@@@Z:PROC ; CJewelOfHarmonySystem::GetItemStrengthenOption
EXTRN	?GetItemOptionLevel@CJewelOfHarmonySystem@@QAEEPAVCItem@@@Z:PROC ; CJewelOfHarmonySystem::GetItemOptionLevel
EXTRN	?g_kJewelOfHarmonySystem@@3VCJewelOfHarmonySystem@@A:BYTE ; g_kJewelOfHarmonySystem
;	COMDAT ??_C@_0HL@DJPNJNMN@?$FLDevilSquare?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@
CONST	SEGMENT
??_C@_0HL@DJPNJNMN@?$FLDevilSquare?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@ DB '['
	DB	'DevilSquare,%d] [%s][%s] CBMix [%d,%s,%d,%d,%d,%d]serial:[%u]'
	DB	'[%d] Ex:[%d,%d,%d,%d,%d,%d,%d] Set:[%d] 380Ex[%d] HO:[%d,%d]', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_n$235569 = -20						; size = 4
_ExOption$ = -16					; size = 8
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?LogDQChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::LogDQChaosItem
; _this$ = ecx

; 525  : {

  013d0	55		 push	 ebp
  013d1	8b ec		 mov	 ebp, esp
  013d3	83 ec 54	 sub	 esp, 84			; 00000054H
  013d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  013db	33 c5		 xor	 eax, ebp
  013dd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  013e0	53		 push	 ebx
  013e1	56		 push	 esi
  013e2	57		 push	 edi
  013e3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 526  : 	BYTE ExOption[MAX_EXOPTION_SIZE];
; 527  : 
; 528  : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  013e6	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _n$235569[ebp], 0
  013ed	eb 09		 jmp	 SHORT $LN4@LogDQChaos
$LN3@LogDQChaos:
  013ef	8b 45 ec	 mov	 eax, DWORD PTR _n$235569[ebp]
  013f2	83 c0 01	 add	 eax, 1
  013f5	89 45 ec	 mov	 DWORD PTR _n$235569[ebp], eax
$LN4@LogDQChaos:
  013f8	83 7d ec 20	 cmp	 DWORD PTR _n$235569[ebp], 32 ; 00000020H
  013fc	0f 8d cd 01 00
	00		 jge	 $LN2@LogDQChaos

; 529  : 	{
; 530  : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  01402	8b 4d ec	 mov	 ecx, DWORD PTR _n$235569[ebp]
  01405	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0140b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0140e	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  01414	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  01419	83 f8 01	 cmp	 eax, 1
  0141c	0f 85 a8 01 00
	00		 jne	 $LN1@LogDQChaos

; 531  : 		{
; 532  : 			::ItemIsBufExOption(ExOption, &lpObj->pChaosBox[n] );

  01422	8b 45 ec	 mov	 eax, DWORD PTR _n$235569[ebp]
  01425	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0142b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0142e	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  01434	50		 push	 eax
  01435	8d 55 f0	 lea	 edx, DWORD PTR _ExOption$[ebp]
  01438	52		 push	 edx
  01439	e8 00 00 00 00	 call	 ?ItemIsBufExOption@@YAXPAEPAVCItem@@@Z ; ItemIsBufExOption
  0143e	83 c4 08	 add	 esp, 8

; 533  : 
; 534  : 			LogAddTD("[DevilSquare,%d] [%s][%s] CBMix [%d,%s,%d,%d,%d,%d]serial:[%u][%d] Ex:[%d,%d,%d,%d,%d,%d,%d] Set:[%d] 380Ex[%d] HO:[%d,%d]",
; 535  : 				lpObj->pChaosBox[n].m_Level,
; 536  : 				lpObj->AccountID, lpObj->Name, n, lpObj->pChaosBox[n].GetName(), lpObj->pChaosBox[n].m_Level,
; 537  : 				lpObj->pChaosBox[n].m_Option1, lpObj->pChaosBox[n].m_Option2, lpObj->pChaosBox[n].m_Option3, 
; 538  : 				lpObj->pChaosBox[n].m_Number, (int)lpObj->pChaosBox[n].m_Durability, 
; 539  : 				ExOption[0], ExOption[1], ExOption[2], ExOption[3], ExOption[4], ExOption[5], ExOption[6],
; 540  : 				lpObj->pChaosBox[n].m_SetOption, lpObj->pChaosBox[n].m_ItemOptionEx >> 7,
; 541  : 				g_kJewelOfHarmonySystem.GetItemStrengthenOption(&lpObj->pChaosBox[n]),
; 542  : 				g_kJewelOfHarmonySystem.GetItemOptionLevel(&lpObj->pChaosBox[n]));

  01441	8b 45 ec	 mov	 eax, DWORD PTR _n$235569[ebp]
  01444	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0144a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0144d	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  01453	50		 push	 eax
  01454	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_kJewelOfHarmonySystem@@3VCJewelOfHarmonySystem@@A ; g_kJewelOfHarmonySystem
  01459	e8 00 00 00 00	 call	 ?GetItemOptionLevel@CJewelOfHarmonySystem@@QAEEPAVCItem@@@Z ; CJewelOfHarmonySystem::GetItemOptionLevel
  0145e	0f b6 d0	 movzx	 edx, al
  01461	52		 push	 edx
  01462	8b 45 ec	 mov	 eax, DWORD PTR _n$235569[ebp]
  01465	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0146b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0146e	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  01474	50		 push	 eax
  01475	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_kJewelOfHarmonySystem@@3VCJewelOfHarmonySystem@@A ; g_kJewelOfHarmonySystem
  0147a	e8 00 00 00 00	 call	 ?GetItemStrengthenOption@CJewelOfHarmonySystem@@QAEEPAVCItem@@@Z ; CJewelOfHarmonySystem::GetItemStrengthenOption
  0147f	0f b6 d0	 movzx	 edx, al
  01482	52		 push	 edx
  01483	8b 45 ec	 mov	 eax, DWORD PTR _n$235569[ebp]
  01486	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0148c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0148f	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  01495	0f b6 84 02 ca
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+202]
  0149d	c1 f8 07	 sar	 eax, 7
  014a0	50		 push	 eax
  014a1	8b 4d ec	 mov	 ecx, DWORD PTR _n$235569[ebp]
  014a4	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  014aa	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  014ad	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  014b3	0f b6 8c 08 ae
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+174]
  014bb	51		 push	 ecx
  014bc	0f b6 55 f6	 movzx	 edx, BYTE PTR _ExOption$[ebp+6]
  014c0	52		 push	 edx
  014c1	0f b6 45 f5	 movzx	 eax, BYTE PTR _ExOption$[ebp+5]
  014c5	50		 push	 eax
  014c6	0f b6 4d f4	 movzx	 ecx, BYTE PTR _ExOption$[ebp+4]
  014ca	51		 push	 ecx
  014cb	0f b6 55 f3	 movzx	 edx, BYTE PTR _ExOption$[ebp+3]
  014cf	52		 push	 edx
  014d0	0f b6 45 f2	 movzx	 eax, BYTE PTR _ExOption$[ebp+2]
  014d4	50		 push	 eax
  014d5	0f b6 4d f1	 movzx	 ecx, BYTE PTR _ExOption$[ebp+1]
  014d9	51		 push	 ecx
  014da	0f b6 55 f0	 movzx	 edx, BYTE PTR _ExOption$[ebp]
  014de	52		 push	 edx
  014df	8b 45 ec	 mov	 eax, DWORD PTR _n$235569[ebp]
  014e2	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  014e8	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  014eb	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  014f1	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  014f5	e8 00 00 00 00	 call	 __ftol2_sse
  014fa	50		 push	 eax
  014fb	8b 45 ec	 mov	 eax, DWORD PTR _n$235569[ebp]
  014fe	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  01504	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01507	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0150d	8b 04 02	 mov	 eax, DWORD PTR [edx+eax]
  01510	50		 push	 eax
  01511	8b 4d ec	 mov	 ecx, DWORD PTR _n$235569[ebp]
  01514	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0151a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0151d	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  01523	0f b6 8c 08 96
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+150]
  0152b	51		 push	 ecx
  0152c	8b 55 ec	 mov	 edx, DWORD PTR _n$235569[ebp]
  0152f	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  01535	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01538	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  0153e	0f b6 94 11 95
	00 00 00	 movzx	 edx, BYTE PTR [ecx+edx+149]
  01546	52		 push	 edx
  01547	8b 45 ec	 mov	 eax, DWORD PTR _n$235569[ebp]
  0154a	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  01550	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01553	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  01559	0f b6 84 02 94
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+148]
  01561	50		 push	 eax
  01562	8b 4d ec	 mov	 ecx, DWORD PTR _n$235569[ebp]
  01565	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0156b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0156e	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  01574	0f bf 4c 08 08	 movsx	 ecx, WORD PTR [eax+ecx+8]
  01579	51		 push	 ecx
  0157a	8b 4d ec	 mov	 ecx, DWORD PTR _n$235569[ebp]
  0157d	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  01583	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01586	03 8a 78 0e 00
	00		 add	 ecx, DWORD PTR [edx+3704]
  0158c	e8 00 00 00 00	 call	 ?GetName@CItem@@QAEPADXZ ; CItem::GetName
  01591	50		 push	 eax
  01592	8b 45 ec	 mov	 eax, DWORD PTR _n$235569[ebp]
  01595	50		 push	 eax
  01596	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01599	83 c1 77	 add	 ecx, 119		; 00000077H
  0159c	51		 push	 ecx
  0159d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  015a0	83 c2 6c	 add	 edx, 108		; 0000006cH
  015a3	52		 push	 edx
  015a4	8b 45 ec	 mov	 eax, DWORD PTR _n$235569[ebp]
  015a7	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  015ad	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  015b0	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  015b6	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  015bb	50		 push	 eax
  015bc	68 00 00 00 00	 push	 OFFSET ??_C@_0HL@DJPNJNMN@?$FLDevilSquare?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@
  015c1	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  015c7	83 c4 5c	 add	 esp, 92			; 0000005cH
$LN1@LogDQChaos:

; 543  : 		}
; 544  : 	}

  015ca	e9 20 fe ff ff	 jmp	 $LN3@LogDQChaos
$LN2@LogDQChaos:

; 545  : }

  015cf	5f		 pop	 edi
  015d0	5e		 pop	 esi
  015d1	5b		 pop	 ebx
  015d2	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  015d5	33 cd		 xor	 ecx, ebp
  015d7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  015dc	8b e5		 mov	 esp, ebp
  015de	5d		 pop	 ebp
  015df	c2 04 00	 ret	 4
?LogDQChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::LogDQChaosItem
_TEXT	ENDS
PUBLIC	??_C@_0CA@IANBADIL@?$FLDevilSquare?$FN?5DQItems?5Not?5Found?$AA@ ; `string'
PUBLIC	??_C@_0CH@EJJKJEAB@?$FLDevilSquare?$FN?5Charm?5Of?5Luck?5Coun@ ; `string'
PUBLIC	??_C@_0CG@FFFDDFEO@?$FLDevilSquare?$FN?5DiffLevel?5DQItems?5@ ; `string'
PUBLIC	??_C@_0CC@LINAPAPC@?$FLDevilSquare?$FN?5Other?5DQItems?5Foun@ ; `string'
PUBLIC	??_C@_0CF@MGDMILOL@?$FLDevilSquare?$FN?5Search?5DevilSquare@ ; `string'
PUBLIC	?CheckDevilSquareItem@CMixSystem@@QAEHPAUOBJECTSTRUCT@@AAH1@Z ; CMixSystem::CheckDevilSquareItem
;	COMDAT ??_C@_0CA@IANBADIL@?$FLDevilSquare?$FN?5DQItems?5Not?5Found?$AA@
CONST	SEGMENT
??_C@_0CA@IANBADIL@?$FLDevilSquare?$FN?5DQItems?5Not?5Found?$AA@ DB '[Dev'
	DB	'ilSquare] DQItems Not Found', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CH@EJJKJEAB@?$FLDevilSquare?$FN?5Charm?5Of?5Luck?5Coun@
CONST	SEGMENT
??_C@_0CH@EJJKJEAB@?$FLDevilSquare?$FN?5Charm?5Of?5Luck?5Coun@ DB '[Devil'
	DB	'Square] Charm Of Luck Count Over', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CG@FFFDDFEO@?$FLDevilSquare?$FN?5DiffLevel?5DQItems?5@
CONST	SEGMENT
??_C@_0CG@FFFDDFEO@?$FLDevilSquare?$FN?5DiffLevel?5DQItems?5@ DB '[DevilS'
	DB	'quare] DiffLevel DQItems Found', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CC@LINAPAPC@?$FLDevilSquare?$FN?5Other?5DQItems?5Foun@
CONST	SEGMENT
??_C@_0CC@LINAPAPC@?$FLDevilSquare?$FN?5Other?5DQItems?5Foun@ DB '[DevilS'
	DB	'quare] Other DQItems Found', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CF@MGDMILOL@?$FLDevilSquare?$FN?5Search?5DevilSquare@
CONST	SEGMENT
??_C@_0CF@MGDMILOL@?$FLDevilSquare?$FN?5Search?5DevilSquare@ DB '[DevilSq'
	DB	'uare] Search DevilSquareItem', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_n$235591 = -40						; size = 4
_bCharmOfLuckOver$ = -36				; size = 4
_iCharmOfLuckCount$ = -32				; size = 4
_bLevelCheck$ = -28					; size = 4
_level$ = -24						; size = 4
_FoundOtherItem$ = -20					; size = 4
_bKeyOfDevil$ = -16					; size = 4
_bEyeOfDevil$ = -12					; size = 4
_bChaoseGem$ = -8					; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
_eventitemcount$ = 12					; size = 4
_itemlevel$ = 16					; size = 4
?CheckDevilSquareItem@CMixSystem@@QAEHPAUOBJECTSTRUCT@@AAH1@Z PROC ; CMixSystem::CheckDevilSquareItem
; _this$ = ecx

; 548  : {

  015f0	55		 push	 ebp
  015f1	8b ec		 mov	 ebp, esp
  015f3	83 ec 68	 sub	 esp, 104		; 00000068H
  015f6	53		 push	 ebx
  015f7	56		 push	 esi
  015f8	57		 push	 edi
  015f9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 549  : 	BOOL bChaoseGem = FALSE;

  015fc	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _bChaoseGem$[ebp], 0

; 550  : 	BOOL bEyeOfDevil = FALSE;

  01603	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _bEyeOfDevil$[ebp], 0

; 551  : 	BOOL bKeyOfDevil = FALSE;

  0160a	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _bKeyOfDevil$[ebp], 0

; 552  : 	eventitemcount = 0;

  01611	8b 45 0c	 mov	 eax, DWORD PTR _eventitemcount$[ebp]
  01614	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 553  : 	BOOL FoundOtherItem = FALSE;

  0161a	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _FoundOtherItem$[ebp], 0

; 554  : 	int level = -1;

  01621	c7 45 e8 ff ff
	ff ff		 mov	 DWORD PTR _level$[ebp], -1

; 555  : 	BOOL bLevelCheck = FALSE;

  01628	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _bLevelCheck$[ebp], 0

; 556  : 	int iCharmOfLuckCount = 0;

  0162f	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 557  : 	BOOL bCharmOfLuckOver = FALSE;

  01636	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _bCharmOfLuckOver$[ebp], 0

; 558  : 
; 559  : 	LogAdd("[DevilSquare] Search DevilSquareItem");

  0163d	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@MGDMILOL@?$FLDevilSquare?$FN?5Search?5DevilSquare@
  01642	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  01648	83 c4 04	 add	 esp, 4

; 560  : 
; 561  : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  0164b	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _n$235591[ebp], 0
  01652	eb 09		 jmp	 SHORT $LN24@CheckDevil
$LN23@CheckDevil:
  01654	8b 45 d8	 mov	 eax, DWORD PTR _n$235591[ebp]
  01657	83 c0 01	 add	 eax, 1
  0165a	89 45 d8	 mov	 DWORD PTR _n$235591[ebp], eax
$LN24@CheckDevil:
  0165d	83 7d d8 20	 cmp	 DWORD PTR _n$235591[ebp], 32 ; 00000020H
  01661	0f 8d 99 01 00
	00		 jge	 $LN22@CheckDevil

; 562  : 	{
; 563  : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  01667	8b 4d d8	 mov	 ecx, DWORD PTR _n$235591[ebp]
  0166a	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  01670	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01673	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  01679	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0167e	83 f8 01	 cmp	 eax, 1
  01681	0f 85 74 01 00
	00		 jne	 $LN6@CheckDevil

; 564  : 		{
; 565  : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) )	// Chaos

  01687	8b 45 d8	 mov	 eax, DWORD PTR _n$235591[ebp]
  0168a	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  01690	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01693	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  01699	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0169e	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  016a3	75 0c		 jne	 SHORT $LN20@CheckDevil

; 566  : 			{
; 567  : 				bChaoseGem = TRUE;

  016a5	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _bChaoseGem$[ebp], 1
  016ac	e9 4a 01 00 00	 jmp	 $LN6@CheckDevil
$LN20@CheckDevil:

; 568  : 			}
; 569  : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,17) )	// Eye

  016b1	8b 45 d8	 mov	 eax, DWORD PTR _n$235591[ebp]
  016b4	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  016ba	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  016bd	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  016c3	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  016c8	3d 11 1c 00 00	 cmp	 eax, 7185		; 00001c11H
  016cd	75 5e		 jne	 SHORT $LN18@CheckDevil

; 570  : 			{
; 571  : 				eventitemcount +=1;

  016cf	8b 45 0c	 mov	 eax, DWORD PTR _eventitemcount$[ebp]
  016d2	8b 08		 mov	 ecx, DWORD PTR [eax]
  016d4	83 c1 01	 add	 ecx, 1
  016d7	8b 55 0c	 mov	 edx, DWORD PTR _eventitemcount$[ebp]
  016da	89 0a		 mov	 DWORD PTR [edx], ecx

; 572  : 				bEyeOfDevil = TRUE;

  016dc	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _bEyeOfDevil$[ebp], 1

; 573  : 
; 574  : 				if ( level != lpObj->pChaosBox[n].m_Level )

  016e3	8b 45 d8	 mov	 eax, DWORD PTR _n$235591[ebp]
  016e6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  016ec	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  016ef	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  016f5	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  016fa	39 45 e8	 cmp	 DWORD PTR _level$[ebp], eax
  016fd	74 29		 je	 SHORT $LN15@CheckDevil

; 575  : 				{
; 576  : 					if ( level == -1 )

  016ff	83 7d e8 ff	 cmp	 DWORD PTR _level$[ebp], -1
  01703	75 1c		 jne	 SHORT $LN16@CheckDevil

; 577  : 					{
; 578  : 						level = lpObj->pChaosBox[n].m_Level;

  01705	8b 45 d8	 mov	 eax, DWORD PTR _n$235591[ebp]
  01708	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0170e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01711	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  01717	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  0171c	89 45 e8	 mov	 DWORD PTR _level$[ebp], eax

; 579  : 					}
; 580  : 					else

  0171f	eb 07		 jmp	 SHORT $LN15@CheckDevil
$LN16@CheckDevil:

; 581  : 					{
; 582  : 						bLevelCheck = TRUE;

  01721	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bLevelCheck$[ebp], 1
$LN15@CheckDevil:

; 583  : 					}
; 584  : 				}
; 585  : 			}

  01728	e9 ce 00 00 00	 jmp	 $LN6@CheckDevil
$LN18@CheckDevil:

; 586  : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,18) )	// Key

  0172d	8b 45 d8	 mov	 eax, DWORD PTR _n$235591[ebp]
  01730	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  01736	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01739	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0173f	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  01744	3d 12 1c 00 00	 cmp	 eax, 7186		; 00001c12H
  01749	75 5b		 jne	 SHORT $LN13@CheckDevil

; 587  : 			{
; 588  : 				eventitemcount +=1;

  0174b	8b 45 0c	 mov	 eax, DWORD PTR _eventitemcount$[ebp]
  0174e	8b 08		 mov	 ecx, DWORD PTR [eax]
  01750	83 c1 01	 add	 ecx, 1
  01753	8b 55 0c	 mov	 edx, DWORD PTR _eventitemcount$[ebp]
  01756	89 0a		 mov	 DWORD PTR [edx], ecx

; 589  : 				bKeyOfDevil = TRUE;

  01758	c7 45 f0 01 00
	00 00		 mov	 DWORD PTR _bKeyOfDevil$[ebp], 1

; 590  : 
; 591  : 				if ( level != lpObj->pChaosBox[n].m_Level )

  0175f	8b 45 d8	 mov	 eax, DWORD PTR _n$235591[ebp]
  01762	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  01768	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0176b	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  01771	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  01776	39 45 e8	 cmp	 DWORD PTR _level$[ebp], eax
  01779	74 29		 je	 SHORT $LN10@CheckDevil

; 592  : 				{
; 593  : 					if ( level == -1 )

  0177b	83 7d e8 ff	 cmp	 DWORD PTR _level$[ebp], -1
  0177f	75 1c		 jne	 SHORT $LN11@CheckDevil

; 594  : 					{
; 595  : 						level = lpObj->pChaosBox[n].m_Level;

  01781	8b 45 d8	 mov	 eax, DWORD PTR _n$235591[ebp]
  01784	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0178a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0178d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  01793	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  01798	89 45 e8	 mov	 DWORD PTR _level$[ebp], eax

; 596  : 					}
; 597  : 					else

  0179b	eb 07		 jmp	 SHORT $LN10@CheckDevil
$LN11@CheckDevil:

; 598  : 					{
; 599  : 						bLevelCheck = TRUE;

  0179d	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bLevelCheck$[ebp], 1
$LN10@CheckDevil:

; 600  : 					}
; 601  : 				}
; 602  : 			}

  017a4	eb 55		 jmp	 SHORT $LN6@CheckDevil
$LN13@CheckDevil:

; 603  : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )	// Charm Of Luck

  017a6	8b 45 d8	 mov	 eax, DWORD PTR _n$235591[ebp]
  017a9	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  017af	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  017b2	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  017b8	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  017bd	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  017c2	75 30		 jne	 SHORT $LN8@CheckDevil

; 604  : 			{
; 605  : 				iCharmOfLuckCount += (int)lpObj->pChaosBox[n].m_Durability;

  017c4	8b 45 d8	 mov	 eax, DWORD PTR _n$235591[ebp]
  017c7	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  017cd	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  017d0	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  017d6	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  017da	e8 00 00 00 00	 call	 __ftol2_sse
  017df	03 45 e0	 add	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  017e2	89 45 e0	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], eax

; 606  : 
; 607  : 				if ( iCharmOfLuckCount > 10 )

  017e5	83 7d e0 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  017e9	7e 07		 jle	 SHORT $LN7@CheckDevil

; 608  : 				{
; 609  : 					bCharmOfLuckOver = TRUE;

  017eb	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _bCharmOfLuckOver$[ebp], 1
$LN7@CheckDevil:

; 610  : 				}
; 611  : 			}
; 612  : 			else

  017f2	eb 07		 jmp	 SHORT $LN6@CheckDevil
$LN8@CheckDevil:

; 613  : 			{
; 614  : 				FoundOtherItem = TRUE;

  017f4	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _FoundOtherItem$[ebp], 1
$LN6@CheckDevil:

; 615  : 			}
; 616  : 		}
; 617  : 	}

  017fb	e9 54 fe ff ff	 jmp	 $LN23@CheckDevil
$LN22@CheckDevil:

; 618  : 
; 619  : 	itemlevel = level;

  01800	8b 45 10	 mov	 eax, DWORD PTR _itemlevel$[ebp]
  01803	8b 4d e8	 mov	 ecx, DWORD PTR _level$[ebp]
  01806	89 08		 mov	 DWORD PTR [eax], ecx

; 620  : 	lpObj->ChaosSuccessRate = iCharmOfLuckCount;

  01808	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0180b	8b 4d e0	 mov	 ecx, DWORD PTR _iCharmOfLuckCount$[ebp]
  0180e	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 621  : 
; 622  : 	if ( FoundOtherItem != FALSE )

  01814	83 7d ec 00	 cmp	 DWORD PTR _FoundOtherItem$[ebp], 0
  01818	74 15		 je	 SHORT $LN5@CheckDevil

; 623  : 	{
; 624  : 		LogAdd("[DevilSquare] Other DQItems Found");

  0181a	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@LINAPAPC@?$FLDevilSquare?$FN?5Other?5DQItems?5Foun@
  0181f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  01825	83 c4 04	 add	 esp, 4

; 625  : 		return 0;

  01828	33 c0		 xor	 eax, eax
  0182a	e9 8a 00 00 00	 jmp	 $LN25@CheckDevil
$LN5@CheckDevil:

; 626  : 	}
; 627  : 
; 628  : 	if ( bLevelCheck != FALSE )

  0182f	83 7d e4 00	 cmp	 DWORD PTR _bLevelCheck$[ebp], 0
  01833	74 15		 je	 SHORT $LN4@CheckDevil

; 629  : 	{
; 630  : 		LogAdd("[DevilSquare] DiffLevel DQItems Found");

  01835	68 00 00 00 00	 push	 OFFSET ??_C@_0CG@FFFDDFEO@?$FLDevilSquare?$FN?5DiffLevel?5DQItems?5@
  0183a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  01840	83 c4 04	 add	 esp, 4

; 631  : 		return 3;

  01843	b8 03 00 00 00	 mov	 eax, 3
  01848	eb 6f		 jmp	 SHORT $LN25@CheckDevil
$LN4@CheckDevil:

; 632  : 	}
; 633  : 
; 634  : 	if ( bCharmOfLuckOver == TRUE )

  0184a	83 7d dc 01	 cmp	 DWORD PTR _bCharmOfLuckOver$[ebp], 1
  0184e	75 15		 jne	 SHORT $LN3@CheckDevil

; 635  : 	{
; 636  : 		LogAdd("[DevilSquare] Charm Of Luck Count Over");

  01850	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@EJJKJEAB@?$FLDevilSquare?$FN?5Charm?5Of?5Luck?5Coun@
  01855	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0185b	83 c4 04	 add	 esp, 4

; 637  : 		return 4;

  0185e	b8 04 00 00 00	 mov	 eax, 4
  01863	eb 54		 jmp	 SHORT $LN25@CheckDevil
$LN3@CheckDevil:

; 638  : 	}
; 639  : 
; 640  : 	if ( bChaoseGem != FALSE && bEyeOfDevil != FALSE && bKeyOfDevil != FALSE )

  01865	83 7d f8 00	 cmp	 DWORD PTR _bChaoseGem$[ebp], 0
  01869	74 1f		 je	 SHORT $LN2@CheckDevil
  0186b	83 7d f4 00	 cmp	 DWORD PTR _bEyeOfDevil$[ebp], 0
  0186f	74 19		 je	 SHORT $LN2@CheckDevil
  01871	83 7d f0 00	 cmp	 DWORD PTR _bKeyOfDevil$[ebp], 0
  01875	74 13		 je	 SHORT $LN2@CheckDevil

; 641  : 	{
; 642  : 		LogDQChaosItem(lpObj);

  01877	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0187a	50		 push	 eax
  0187b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0187e	e8 00 00 00 00	 call	 ?LogDQChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::LogDQChaosItem

; 643  : 		return 1;

  01883	b8 01 00 00 00	 mov	 eax, 1
  01888	eb 2f		 jmp	 SHORT $LN25@CheckDevil
$LN2@CheckDevil:

; 644  : 	}
; 645  : 
; 646  : 	if ( bEyeOfDevil != FALSE && bKeyOfDevil != FALSE )

  0188a	83 7d f4 00	 cmp	 DWORD PTR _bEyeOfDevil$[ebp], 0
  0188e	74 19		 je	 SHORT $LN1@CheckDevil
  01890	83 7d f0 00	 cmp	 DWORD PTR _bKeyOfDevil$[ebp], 0
  01894	74 13		 je	 SHORT $LN1@CheckDevil

; 647  : 	{
; 648  : 		LogDQChaosItem(lpObj);

  01896	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01899	50		 push	 eax
  0189a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0189d	e8 00 00 00 00	 call	 ?LogDQChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::LogDQChaosItem

; 649  : 		return 2;

  018a2	b8 02 00 00 00	 mov	 eax, 2
  018a7	eb 10		 jmp	 SHORT $LN25@CheckDevil
$LN1@CheckDevil:

; 650  : 	}
; 651  : 
; 652  : 	LogAdd("[DevilSquare] DQItems Not Found");

  018a9	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@IANBADIL@?$FLDevilSquare?$FN?5DQItems?5Not?5Found?$AA@
  018ae	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  018b4	83 c4 04	 add	 esp, 4

; 653  : 
; 654  : 	return 0;

  018b7	33 c0		 xor	 eax, eax
$LN25@CheckDevil:

; 655  : }

  018b9	5f		 pop	 edi
  018ba	5e		 pop	 esi
  018bb	5b		 pop	 ebx
  018bc	8b e5		 mov	 esp, ebp
  018be	5d		 pop	 ebp
  018bf	c2 0c 00	 ret	 12			; 0000000cH
?CheckDevilSquareItem@CMixSystem@@QAEHPAUOBJECTSTRUCT@@AAH1@Z ENDP ; CMixSystem::CheckDevilSquareItem
_TEXT	ENDS
PUBLIC	??_C@_0DL@ODHCGDBD@?$FLDevilSquare?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@ ; `string'
PUBLIC	??_C@_0DG@KKBIIBFP@?$FLDevilSquare?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@ ; `string'
PUBLIC	??_C@_0EB@HHHNMGIM@?$FLDevilSquare?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Not@ ; `string'
PUBLIC	??_C@_0DB@BMAIOAHL@?$FLDevilSquare?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Invalid?5D@ ; `string'
PUBLIC	??_C@_0BO@MDACFBLC@?$FLDevilSquare?$FN?5Chaos?5Mix?5Start?$AA@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?DevilSquareEventChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@HH@Z ; CMixSystem::DevilSquareEventChaosMix
EXTRN	?DestroyGIocp@@YAXXZ:PROC			; DestroyGIocp
EXTRN	?szAuthKey@@3PADA:BYTE				; szAuthKey
EXTRN	?GetPlusChaosRate@CCrywolfSync@@QAEHXZ:PROC	; CCrywolfSync::GetPlusChaosRate
EXTRN	?g_iCrywolfApplyMvpBenefit@@3HA:DWORD		; g_iCrywolfApplyMvpBenefit
EXTRN	?GetOccupationState@CCrywolfSync@@QAEHXZ:PROC	; CCrywolfSync::GetOccupationState
EXTRN	?g_CrywolfSync@@3VCCrywolfSync@@A:BYTE		; g_CrywolfSync
EXTRN	?gDQChaosSuccessRateLevel7@@3HA:DWORD		; gDQChaosSuccessRateLevel7
EXTRN	?gDQChaosSuccessRateLevel6@@3HA:DWORD		; gDQChaosSuccessRateLevel6
EXTRN	?gDQChaosSuccessRateLevel5@@3HA:DWORD		; gDQChaosSuccessRateLevel5
EXTRN	?gDQChaosSuccessRateLevel4@@3HA:DWORD		; gDQChaosSuccessRateLevel4
EXTRN	?gDQChaosSuccessRateLevel3@@3HA:DWORD		; gDQChaosSuccessRateLevel3
EXTRN	?gDQChaosSuccessRateLevel2@@3HA:DWORD		; gDQChaosSuccessRateLevel2
EXTRN	?gDQChaosSuccessRateLevel1@@3HA:DWORD		; gDQChaosSuccessRateLevel1
;	COMDAT ??_C@_0DL@ODHCGDBD@?$FLDevilSquare?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@
CONST	SEGMENT
??_C@_0DL@ODHCGDBD@?$FLDevilSquare?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@ DB '['
	DB	'DevilSquare,%d] [%s][%s] CBMix Success Rate:%d Money : %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DG@KKBIIBFP@?$FLDevilSquare?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@
CONST	SEGMENT
??_C@_0DG@KKBIIBFP@?$FLDevilSquare?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@ DB '['
	DB	'DevilSquare,%d] [%s][%s] CBMix Fail %d Money : %d-%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EB@HHHNMGIM@?$FLDevilSquare?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Not@
CONST	SEGMENT
??_C@_0EB@HHHNMGIM@?$FLDevilSquare?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Not@ DB '['
	DB	'DevilSquare] [%s][%s] CBMix Not Enough Money [%d] need zen [%'
	DB	'd]', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0DB@BMAIOAHL@?$FLDevilSquare?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Invalid?5D@
CONST	SEGMENT
??_C@_0DB@BMAIOAHL@?$FLDevilSquare?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Invalid?5D@ DB '['
	DB	'DevilSquare] [%s][%s] Invalid DQItem Level [%d]', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BO@MDACFBLC@?$FLDevilSquare?$FN?5Chaos?5Mix?5Start?$AA@
CONST	SEGMENT
??_C@_0BO@MDACFBLC@?$FLDevilSquare?$FN?5Chaos?5Mix?5Start?$AA@ DB '[Devil'
	DB	'Square] Chaos Mix Start', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv72 = -120						; size = 4
_DevilInv$235666 = -52					; size = 4
_iRate$ = -48						; size = 4
_iChaosTaxMoney$ = -44					; size = 4
_iCharmOfLuckCount$ = -40				; size = 4
_nChaosNeedMoney$ = -36					; size = 4
_pMsg$ = -32						; size = 16
_aIndex$ = -16						; size = 4
_fail$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_bCheckType$ = 12					; size = 4
_iItemLevel$ = 16					; size = 4
?DevilSquareEventChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@HH@Z PROC ; CMixSystem::DevilSquareEventChaosMix
; _this$ = ecx

; 658  : {

  018d0	55		 push	 ebp
  018d1	8b ec		 mov	 ebp, esp
  018d3	83 ec 78	 sub	 esp, 120		; 00000078H
  018d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  018db	33 c5		 xor	 eax, ebp
  018dd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  018e0	53		 push	 ebx
  018e1	56		 push	 esi
  018e2	57		 push	 edi
  018e3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 659  : 	BOOL fail = TRUE;

  018e6	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _fail$[ebp], 1

; 660  : 	int aIndex = lpObj->m_Index;

  018ed	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  018f0	8b 08		 mov	 ecx, DWORD PTR [eax]
  018f2	89 4d f0	 mov	 DWORD PTR _aIndex$[ebp], ecx

; 661  : 	PMSG_CHAOSMIXRESULT pMsg;
; 662  : 
; 663  : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  018f5	6a 10		 push	 16			; 00000010H
  018f7	68 86 00 00 00	 push	 134			; 00000086H
  018fc	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  018ff	50		 push	 eax
  01900	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  01905	83 c4 0c	 add	 esp, 12			; 0000000cH

; 664  : 	pMsg.Result = CB_ERROR;

  01908	c6 45 e3 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 665  : 	lpObj->ChaosLock = TRUE;

  0190c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0190f	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 666  : 
; 667  : 	LogAddTD("[DevilSquare] Chaos Mix Start");

  01919	68 00 00 00 00	 push	 OFFSET ??_C@_0BO@MDACFBLC@?$FLDevilSquare?$FN?5Chaos?5Mix?5Start?$AA@
  0191e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01924	83 c4 04	 add	 esp, 4

; 668  : 
; 669  : 	INT nChaosNeedMoney = 0;

  01927	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0

; 670  : 
; 671  : 	int iCharmOfLuckCount = 0;

  0192e	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 672  : 	iCharmOfLuckCount = lpObj->ChaosSuccessRate;

  01935	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01938	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  0193e	89 4d d8	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], ecx

; 673  : 
; 674  : 	if ( iCharmOfLuckCount > 10 )

  01941	83 7d d8 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  01945	7e 26		 jle	 SHORT $LN21@DevilSquar

; 675  : 	{
; 676  : 		pMsg.Result = 0xF0;

  01947	c6 45 e3 f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 677  : 		lpObj->ChaosLock = FALSE;

  0194b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0194e	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 678  : 		DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  01958	0f b6 45 e1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0195c	50		 push	 eax
  0195d	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  01960	51		 push	 ecx
  01961	8b 55 f0	 mov	 edx, DWORD PTR _aIndex$[ebp]
  01964	52		 push	 edx
  01965	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0196a	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN21@DevilSquar:

; 679  : 	}
; 680  : 
; 681  : 	switch ( iItemLevel )

  0196d	8b 45 10	 mov	 eax, DWORD PTR _iItemLevel$[ebp]
  01970	89 45 88	 mov	 DWORD PTR tv72[ebp], eax
  01973	83 7d 88 07	 cmp	 DWORD PTR tv72[ebp], 7
  01977	0f 87 da 00 00
	00		 ja	 $LN10@DevilSquar
  0197d	8b 4d 88	 mov	 ecx, DWORD PTR tv72[ebp]
  01980	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN24@DevilSquar[ecx*4]
$LN18@DevilSquar:

; 682  : 	{
; 683  : 		case 0:
; 684  : 			lpObj->ChaosSuccessRate = 60;

  01987	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0198a	c7 80 84 0e 00
	00 3c 00 00 00	 mov	 DWORD PTR [eax+3716], 60 ; 0000003cH

; 685  : 			nChaosNeedMoney = 100000;

  01994	c7 45 dc a0 86
	01 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 100000 ; 000186a0H

; 686  : 			break;

  0199b	e9 07 01 00 00	 jmp	 $LN19@DevilSquar
$LN17@DevilSquar:

; 687  : 
; 688  : 		case 1:
; 689  : 			lpObj->ChaosSuccessRate = gDQChaosSuccessRateLevel1;

  019a0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  019a3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gDQChaosSuccessRateLevel1@@3HA ; gDQChaosSuccessRateLevel1
  019a9	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 690  : 			nChaosNeedMoney = 100000;

  019af	c7 45 dc a0 86
	01 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 100000 ; 000186a0H

; 691  : 			break;

  019b6	e9 ec 00 00 00	 jmp	 $LN19@DevilSquar
$LN16@DevilSquar:

; 692  : 
; 693  : 		case 2:
; 694  : 			lpObj->ChaosSuccessRate = gDQChaosSuccessRateLevel2;

  019bb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  019be	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gDQChaosSuccessRateLevel2@@3HA ; gDQChaosSuccessRateLevel2
  019c4	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 695  : 			nChaosNeedMoney = 200000;

  019ca	c7 45 dc 40 0d
	03 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 200000 ; 00030d40H

; 696  : 			break;

  019d1	e9 d1 00 00 00	 jmp	 $LN19@DevilSquar
$LN15@DevilSquar:

; 697  : 
; 698  : 		case 3:
; 699  : 			lpObj->ChaosSuccessRate = gDQChaosSuccessRateLevel3;

  019d6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  019d9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gDQChaosSuccessRateLevel3@@3HA ; gDQChaosSuccessRateLevel3
  019df	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 700  : 			nChaosNeedMoney = 400000;

  019e5	c7 45 dc 80 1a
	06 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 400000 ; 00061a80H

; 701  : 			break;

  019ec	e9 b6 00 00 00	 jmp	 $LN19@DevilSquar
$LN14@DevilSquar:

; 702  : 
; 703  : 		case 4:
; 704  : 			lpObj->ChaosSuccessRate = gDQChaosSuccessRateLevel4;

  019f1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  019f4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gDQChaosSuccessRateLevel4@@3HA ; gDQChaosSuccessRateLevel4
  019fa	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 705  : 			nChaosNeedMoney = 700000;

  01a00	c7 45 dc 60 ae
	0a 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 700000 ; 000aae60H

; 706  : 			break;

  01a07	e9 9b 00 00 00	 jmp	 $LN19@DevilSquar
$LN13@DevilSquar:

; 707  : 
; 708  : 		case 5:
; 709  : 			lpObj->ChaosSuccessRate = gDQChaosSuccessRateLevel5;

  01a0c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01a0f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gDQChaosSuccessRateLevel5@@3HA ; gDQChaosSuccessRateLevel5
  01a15	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 710  : 			nChaosNeedMoney = 1100000;

  01a1b	c7 45 dc e0 c8
	10 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 1100000 ; 0010c8e0H

; 711  : 			break;

  01a22	e9 80 00 00 00	 jmp	 $LN19@DevilSquar
$LN12@DevilSquar:

; 712  : 
; 713  : 		case 6:
; 714  : 			lpObj->ChaosSuccessRate = gDQChaosSuccessRateLevel6;

  01a27	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01a2a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gDQChaosSuccessRateLevel6@@3HA ; gDQChaosSuccessRateLevel6
  01a30	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 715  : 			nChaosNeedMoney = 1600000;

  01a36	c7 45 dc 00 6a
	18 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 1600000 ; 00186a00H

; 716  : 			break;

  01a3d	eb 68		 jmp	 SHORT $LN19@DevilSquar
$LN11@DevilSquar:

; 717  : 
; 718  : 		case 7: //Master
; 719  : 			lpObj->ChaosSuccessRate = gDQChaosSuccessRateLevel7;

  01a3f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01a42	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gDQChaosSuccessRateLevel7@@3HA ; gDQChaosSuccessRateLevel7
  01a48	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 720  : 			nChaosNeedMoney = 2000000;

  01a4e	c7 45 dc 80 84
	1e 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 2000000 ; 001e8480H

; 721  : 			break;

  01a55	eb 50		 jmp	 SHORT $LN19@DevilSquar
$LN10@DevilSquar:

; 722  : 
; 723  : 		default:
; 724  : 			LogAdd("[DevilSquare] [%s][%s] Invalid DQItem Level [%d]", lpObj->AccountID, lpObj->Name, iItemLevel);

  01a57	8b 45 10	 mov	 eax, DWORD PTR _iItemLevel$[ebp]
  01a5a	50		 push	 eax
  01a5b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01a5e	83 c1 77	 add	 ecx, 119		; 00000077H
  01a61	51		 push	 ecx
  01a62	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01a65	83 c2 6c	 add	 edx, 108		; 0000006cH
  01a68	52		 push	 edx
  01a69	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@BMAIOAHL@?$FLDevilSquare?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Invalid?5D@
  01a6e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  01a74	83 c4 10	 add	 esp, 16			; 00000010H

; 725  : 
; 726  : 			pMsg.Result = CB_INVALID_ITEM_LEVEL;

  01a77	c6 45 e3 08	 mov	 BYTE PTR _pMsg$[ebp+3], 8

; 727  : 			DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  01a7b	0f b6 45 e1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  01a7f	50		 push	 eax
  01a80	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  01a83	51		 push	 ecx
  01a84	8b 55 f0	 mov	 edx, DWORD PTR _aIndex$[ebp]
  01a87	52		 push	 edx
  01a88	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  01a8d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 728  : 			lpObj->ChaosLock = FALSE;

  01a90	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01a93	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 729  : 			return 1;

  01a9d	b8 01 00 00 00	 mov	 eax, 1
  01aa2	e9 b6 02 00 00	 jmp	 $LN22@DevilSquar
$LN19@DevilSquar:

; 730  : 			break;
; 731  : 	}
; 732  : 
; 733  : 	int iChaosTaxMoney = (int)((__int64)nChaosNeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  01aa7	8b 45 dc	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  01aaa	99		 cdq
  01aab	8b f0		 mov	 esi, eax
  01aad	8b fa		 mov	 edi, edx
  01aaf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01ab2	8b 08		 mov	 ecx, DWORD PTR [eax]
  01ab4	51		 push	 ecx
  01ab5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  01aba	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  01abf	99		 cdq
  01ac0	52		 push	 edx
  01ac1	50		 push	 eax
  01ac2	57		 push	 edi
  01ac3	56		 push	 esi
  01ac4	e8 00 00 00 00	 call	 __allmul
  01ac9	6a 00		 push	 0
  01acb	6a 64		 push	 100			; 00000064H
  01acd	52		 push	 edx
  01ace	50		 push	 eax
  01acf	e8 00 00 00 00	 call	 __alldiv
  01ad4	89 45 d4	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 734  : 
; 735  : 	if ( iChaosTaxMoney < 0 )

  01ad7	83 7d d4 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  01adb	7d 07		 jge	 SHORT $LN9@DevilSquar

; 736  : 	{
; 737  : 		iChaosTaxMoney = 0;

  01add	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN9@DevilSquar:

; 738  : 	}
; 739  : 
; 740  : 	nChaosNeedMoney += iChaosTaxMoney;

  01ae4	8b 45 dc	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  01ae7	03 45 d4	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  01aea	89 45 dc	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], eax

; 741  : 
; 742  : 		nChaosNeedMoney += lpObj->m_AddMixMoney;

  01aed	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01af0	8b 4d dc	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  01af3	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  01af9	89 4d dc	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 743  : 
; 744  : 	if ( nChaosNeedMoney < 0 )

  01afc	79 07		 jns	 SHORT $LN8@DevilSquar

; 745  : 	{
; 746  : 		nChaosNeedMoney = 0;

  01afe	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0
$LN8@DevilSquar:

; 747  : 	}
; 748  : 
; 749  : 	if ( (lpObj->Money - nChaosNeedMoney) < 0 )

  01b05	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01b08	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  01b0e	2b 4d dc	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  01b11	79 5a		 jns	 SHORT $LN7@DevilSquar

; 750  : 	{
; 751  : 		LogAddTD("[DevilSquare] [%s][%s] CBMix Not Enough Money [%d] need zen [%d]", lpObj->AccountID, lpObj->Name, lpObj->Money, nChaosNeedMoney);

  01b13	8b 45 dc	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  01b16	50		 push	 eax
  01b17	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01b1a	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  01b20	52		 push	 edx
  01b21	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01b24	83 c0 77	 add	 eax, 119		; 00000077H
  01b27	50		 push	 eax
  01b28	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01b2b	83 c1 6c	 add	 ecx, 108		; 0000006cH
  01b2e	51		 push	 ecx
  01b2f	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@HHHNMGIM@?$FLDevilSquare?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Not@
  01b34	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01b3a	83 c4 14	 add	 esp, 20			; 00000014H

; 752  : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  01b3d	c6 45 e3 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 753  : 		DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  01b41	0f b6 45 e1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  01b45	50		 push	 eax
  01b46	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  01b49	51		 push	 ecx
  01b4a	8b 55 f0	 mov	 edx, DWORD PTR _aIndex$[ebp]
  01b4d	52		 push	 edx
  01b4e	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  01b53	83 c4 0c	 add	 esp, 12			; 0000000cH

; 754  : 		lpObj->ChaosLock = FALSE;

  01b56	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01b59	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 755  : 		return 1;

  01b63	b8 01 00 00 00	 mov	 eax, 1
  01b68	e9 f0 01 00 00	 jmp	 $LN22@DevilSquar
$LN7@DevilSquar:

; 756  : 
; 757  : 	}
; 758  : 
; 759  : 	if ( g_CrywolfSync.GetOccupationState() == 0 && g_iCrywolfApplyMvpBenefit )

  01b6d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  01b72	e8 00 00 00 00	 call	 ?GetOccupationState@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetOccupationState
  01b77	85 c0		 test	 eax, eax
  01b79	75 25		 jne	 SHORT $LN6@DevilSquar
  01b7b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_iCrywolfApplyMvpBenefit@@3HA, 0 ; g_iCrywolfApplyMvpBenefit
  01b82	74 1c		 je	 SHORT $LN6@DevilSquar

; 760  : 	{	
; 761  : 		lpObj->ChaosSuccessRate += g_CrywolfSync.GetPlusChaosRate();

  01b84	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  01b89	e8 00 00 00 00	 call	 ?GetPlusChaosRate@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetPlusChaosRate
  01b8e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01b91	03 81 84 0e 00
	00		 add	 eax, DWORD PTR [ecx+3716]
  01b97	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01b9a	89 82 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], eax
$LN6@DevilSquar:

; 762  : 	}
; 763  : 
; 764  : 	lpObj->ChaosSuccessRate += iCharmOfLuckCount;

  01ba0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01ba3	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  01ba9	03 4d d8	 add	 ecx, DWORD PTR _iCharmOfLuckCount$[ebp]
  01bac	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01baf	89 8a 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], ecx

; 765  : 
; 766  : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  01bb5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01bb8	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  01bbe	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01bc1	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  01bc7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01bca	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 767  : 
; 768  : 
; 769  : 	int iRate = rand() % 100;

  01bd0	e8 00 00 00 00	 call	 _rand
  01bd5	99		 cdq
  01bd6	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  01bdb	f7 f9		 idiv	 ecx
  01bdd	89 55 d0	 mov	 DWORD PTR _iRate$[ebp], edx

; 770  : 
; 771  : 	if ( bCheckType == TRUE )

  01be0	83 7d 0c 01	 cmp	 DWORD PTR _bCheckType$[ebp], 1
  01be4	75 5a		 jne	 SHORT $LN5@DevilSquar

; 772  : 	{
; 773  : 		if ( iRate < lpObj->ChaosSuccessRate )

  01be6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01be9	8b 4d d0	 mov	 ecx, DWORD PTR _iRate$[ebp]
  01bec	3b 88 84 0e 00
	00		 cmp	 ecx, DWORD PTR [eax+3716]
  01bf2	7d 4c		 jge	 SHORT $LN5@DevilSquar

; 774  : 		{
; 775  : 			int DevilInv = ITEMGET(14,19);	// Devil Ticket

  01bf4	c7 45 cc 13 1c
	00 00		 mov	 DWORD PTR _DevilInv$235666[ebp], 7187 ; 00001c13H

; 776  : 			ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, DevilInv, (BYTE)iItemLevel, 0, 0, 0, 0, -1, 0, 0);

  01bfb	6a 00		 push	 0
  01bfd	6a 00		 push	 0
  01bff	6a ff		 push	 -1
  01c01	6a 00		 push	 0
  01c03	6a 00		 push	 0
  01c05	6a 00		 push	 0
  01c07	6a 00		 push	 0
  01c09	0f b6 45 10	 movzx	 eax, BYTE PTR _iItemLevel$[ebp]
  01c0d	50		 push	 eax
  01c0e	8b 4d cc	 mov	 ecx, DWORD PTR _DevilInv$235666[ebp]
  01c11	51		 push	 ecx
  01c12	6a 00		 push	 0
  01c14	6a 00		 push	 0
  01c16	68 ff 00 00 00	 push	 255			; 000000ffH
  01c1b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01c1e	8b 02		 mov	 eax, DWORD PTR [edx]
  01c20	50		 push	 eax
  01c21	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  01c26	83 c4 34	 add	 esp, 52			; 00000034H

; 777  : #if(SYSTEM_ACHIEVEMENTS)
; 778  : 			g_Achievements.SuccessChaosMix(lpObj->m_Index);

  01c29	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01c2c	8b 08		 mov	 ecx, DWORD PTR [eax]
  01c2e	51		 push	 ecx
  01c2f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  01c34	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 779  : #endif
; 780  : 			fail = FALSE;

  01c39	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _fail$[ebp], 0
$LN5@DevilSquar:

; 781  : 		}
; 782  : 	}
; 783  : 
; 784  : 	lpObj->Money -= nChaosNeedMoney;

  01c40	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01c43	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  01c49	2b 4d dc	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  01c4c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01c4f	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 785  : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  01c55	8b 45 d4	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  01c58	50		 push	 eax
  01c59	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  01c5e	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 786  : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  01c63	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01c66	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  01c6c	51		 push	 ecx
  01c6d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01c70	8b 02		 mov	 eax, DWORD PTR [edx]
  01c72	50		 push	 eax
  01c73	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  01c78	83 c4 08	 add	 esp, 8

; 787  : 
; 788  : 	if ( szAuthKey[17] != AUTHKEY17 )

  01c7b	0f be 05 11 00
	00 00		 movsx	 eax, BYTE PTR ?szAuthKey@@3PADA+17
  01c82	83 f8 a6	 cmp	 eax, -90		; ffffffa6H
  01c85	74 05		 je	 SHORT $LN3@DevilSquar

; 789  : 	{
; 790  : 		::DestroyGIocp();

  01c87	e8 00 00 00 00	 call	 ?DestroyGIocp@@YAXXZ	; DestroyGIocp
$LN3@DevilSquar:

; 791  : 	}
; 792  : 
; 793  : 	if ( fail == TRUE )

  01c8c	83 7d f4 01	 cmp	 DWORD PTR _fail$[ebp], 1
  01c90	0f 85 86 00 00
	00		 jne	 $LN2@DevilSquar

; 794  : 	{
; 795  : 		this->ChaosBoxInit(lpObj);

  01c96	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01c99	50		 push	 eax
  01c9a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01c9d	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 796  : 		GCUserChaosBoxSend(lpObj, 0);

  01ca2	6a 00		 push	 0
  01ca4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01ca7	50		 push	 eax
  01ca8	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  01cad	83 c4 08	 add	 esp, 8

; 797  : 		DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  01cb0	0f b6 45 e1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  01cb4	50		 push	 eax
  01cb5	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  01cb8	51		 push	 ecx
  01cb9	8b 55 f0	 mov	 edx, DWORD PTR _aIndex$[ebp]
  01cbc	52		 push	 edx
  01cbd	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  01cc2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 798  : #if(SYSTEM_ACHIEVEMENTS)
; 799  : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  01cc5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01cc8	8b 08		 mov	 ecx, DWORD PTR [eax]
  01cca	51		 push	 ecx
  01ccb	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  01cd0	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix

; 800  : #endif
; 801  : 		LogAddTD("[DevilSquare,%d] [%s][%s] CBMix Fail %d Money : %d-%d", iItemLevel, lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney);

  01cd5	8b 45 dc	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  01cd8	50		 push	 eax
  01cd9	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01cdc	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  01ce2	52		 push	 edx
  01ce3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01ce6	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  01cec	51		 push	 ecx
  01ced	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01cf0	83 c2 77	 add	 edx, 119		; 00000077H
  01cf3	52		 push	 edx
  01cf4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01cf7	83 c0 6c	 add	 eax, 108		; 0000006cH
  01cfa	50		 push	 eax
  01cfb	8b 4d 10	 mov	 ecx, DWORD PTR _iItemLevel$[ebp]
  01cfe	51		 push	 ecx
  01cff	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@KKBIIBFP@?$FLDevilSquare?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@
  01d04	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01d0a	83 c4 1c	 add	 esp, 28			; 0000001cH

; 802  : 		lpObj->ChaosLock = FALSE;

  01d0d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01d10	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 803  : 	}
; 804  : 	else

  01d1a	eb 2e		 jmp	 SHORT $LN1@DevilSquar
$LN2@DevilSquar:

; 805  : 	{
; 806  : 		LogAddTD("[DevilSquare,%d] [%s][%s] CBMix Success Rate:%d Money : %d", iItemLevel, lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, nChaosNeedMoney);

  01d1c	8b 45 dc	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  01d1f	50		 push	 eax
  01d20	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01d23	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  01d29	52		 push	 edx
  01d2a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01d2d	83 c0 77	 add	 eax, 119		; 00000077H
  01d30	50		 push	 eax
  01d31	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  01d34	83 c1 6c	 add	 ecx, 108		; 0000006cH
  01d37	51		 push	 ecx
  01d38	8b 55 10	 mov	 edx, DWORD PTR _iItemLevel$[ebp]
  01d3b	52		 push	 edx
  01d3c	68 00 00 00 00	 push	 OFFSET ??_C@_0DL@ODHCGDBD@?$FLDevilSquare?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@
  01d41	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  01d47	83 c4 18	 add	 esp, 24			; 00000018H
$LN1@DevilSquar:

; 807  : 	}
; 808  : 
; 809  : 	::gObjInventoryCommit(lpObj->m_Index);

  01d4a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01d4d	8b 08		 mov	 ecx, DWORD PTR [eax]
  01d4f	51		 push	 ecx
  01d50	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  01d55	83 c4 04	 add	 esp, 4

; 810  : 
; 811  : 	return TRUE;

  01d58	b8 01 00 00 00	 mov	 eax, 1
$LN22@DevilSquar:

; 812  : }

  01d5d	5f		 pop	 edi
  01d5e	5e		 pop	 esi
  01d5f	5b		 pop	 ebx
  01d60	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01d63	33 cd		 xor	 ecx, ebp
  01d65	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01d6a	8b e5		 mov	 esp, ebp
  01d6c	5d		 pop	 ebp
  01d6d	c2 0c 00	 ret	 12			; 0000000cH
$LN24@DevilSquar:
  01d70	00 00 00 00	 DD	 $LN18@DevilSquar
  01d74	00 00 00 00	 DD	 $LN17@DevilSquar
  01d78	00 00 00 00	 DD	 $LN16@DevilSquar
  01d7c	00 00 00 00	 DD	 $LN15@DevilSquar
  01d80	00 00 00 00	 DD	 $LN14@DevilSquar
  01d84	00 00 00 00	 DD	 $LN13@DevilSquar
  01d88	00 00 00 00	 DD	 $LN12@DevilSquar
  01d8c	00 00 00 00	 DD	 $LN11@DevilSquar
?DevilSquareEventChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@HH@Z ENDP ; CMixSystem::DevilSquareEventChaosMix
_TEXT	ENDS
PUBLIC	??_C@_0DA@FMJGNMLI@?$FLDevilSquare?$FN?5Too?5many?5Devil?8s?5K@ ; `string'
PUBLIC	??_C@_0CK@JNMMBAIA@?$FLDevilSquare?$FN?5Charm?5Of?5Luck?5Over@ ; `string'
PUBLIC	??_C@_0CH@NMBMOEEC@?$FLDevilSquare?$FN?5Not?5Found?5Chaos?5Ge@ ; `string'
PUBLIC	??_C@_0DB@DMIHKADD@?$FLDevilSquare?$FN?5DiffLevel?5Devil?8s?5@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?DevilSquareItemChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::DevilSquareItemChaosMix
EXTRN	?gDevilSquareEvent@@3HA:DWORD			; gDevilSquareEvent
;	COMDAT ??_C@_0DA@FMJGNMLI@?$FLDevilSquare?$FN?5Too?5many?5Devil?8s?5K@
CONST	SEGMENT
??_C@_0DA@FMJGNMLI@?$FLDevilSquare?$FN?5Too?5many?5Devil?8s?5K@ DB '[Devi'
	DB	'lSquare] Too many Devil''s Key or Eyes [%d]', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CK@JNMMBAIA@?$FLDevilSquare?$FN?5Charm?5Of?5Luck?5Over@
CONST	SEGMENT
??_C@_0CK@JNMMBAIA@?$FLDevilSquare?$FN?5Charm?5Of?5Luck?5Over@ DB '[Devil'
	DB	'Square] Charm Of Luck Over 10% [%d]', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CH@NMBMOEEC@?$FLDevilSquare?$FN?5Not?5Found?5Chaos?5Ge@
CONST	SEGMENT
??_C@_0CH@NMBMOEEC@?$FLDevilSquare?$FN?5Not?5Found?5Chaos?5Ge@ DB '[Devil'
	DB	'Square] Not Found Chaos Gem [%d]', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0DB@DMIHKADD@?$FLDevilSquare?$FN?5DiffLevel?5Devil?8s?5@
CONST	SEGMENT
??_C@_0DB@DMIHKADD@?$FLDevilSquare?$FN?5DiffLevel?5Devil?8s?5@ DB '[Devil'
	DB	'Square] DiffLevel Devil''s Key or Eyes [%d]', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_Ret$235685 = -40					; size = 4
_itemlevel$235684 = -36					; size = 4
_eventitemcount$235683 = -32				; size = 4
_aIndex$235682 = -28					; size = 4
_pMsg$235679 = -24					; size = 16
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?DevilSquareItemChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::DevilSquareItemChaosMix
; _this$ = ecx

; 815  : {

  01d90	55		 push	 ebp
  01d91	8b ec		 mov	 ebp, esp
  01d93	83 ec 68	 sub	 esp, 104		; 00000068H
  01d96	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  01d9b	33 c5		 xor	 eax, ebp
  01d9d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01da0	53		 push	 ebx
  01da1	56		 push	 esi
  01da2	57		 push	 edi
  01da3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 816  : 	lpObj->ChaosLock = TRUE;

  01da6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01da9	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 817  : //#if(GS_CASTLE==0)
; 818  : 	if ( gDevilSquareEvent != FALSE )

  01db3	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gDevilSquareEvent@@3HA, 0 ; gDevilSquareEvent
  01dba	0f 84 c7 01 00
	00		 je	 $LN8@DevilSquar@2

; 819  : //#endif
; 820  : 	{
; 821  : 		PMSG_CHAOSMIXRESULT pMsg;
; 822  : 		PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  01dc0	6a 10		 push	 16			; 00000010H
  01dc2	68 86 00 00 00	 push	 134			; 00000086H
  01dc7	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$235679[ebp]
  01dca	50		 push	 eax
  01dcb	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  01dd0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 823  : 		pMsg.Result = CB_ERROR;

  01dd3	c6 45 eb 00	 mov	 BYTE PTR _pMsg$235679[ebp+3], 0

; 824  : 		int aIndex = lpObj->m_Index;

  01dd7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01dda	8b 08		 mov	 ecx, DWORD PTR [eax]
  01ddc	89 4d e4	 mov	 DWORD PTR _aIndex$235682[ebp], ecx

; 825  : 		int eventitemcount;
; 826  : 		int itemlevel;
; 827  : 		int Ret = this->CheckDevilSquareItem(lpObj, eventitemcount, itemlevel);

  01ddf	8d 45 dc	 lea	 eax, DWORD PTR _itemlevel$235684[ebp]
  01de2	50		 push	 eax
  01de3	8d 4d e0	 lea	 ecx, DWORD PTR _eventitemcount$235683[ebp]
  01de6	51		 push	 ecx
  01de7	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01dea	52		 push	 edx
  01deb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01dee	e8 00 00 00 00	 call	 ?CheckDevilSquareItem@CMixSystem@@QAEHPAUOBJECTSTRUCT@@AAH1@Z ; CMixSystem::CheckDevilSquareItem
  01df3	89 45 d8	 mov	 DWORD PTR _Ret$235685[ebp], eax

; 828  : 
; 829  : 		if ( Ret != FALSE )

  01df6	83 7d d8 00	 cmp	 DWORD PTR _Ret$235685[ebp], 0
  01dfa	0f 84 59 01 00
	00		 je	 $LN7@DevilSquar@2

; 830  : 		{
; 831  : 			if ( Ret == 3 )

  01e00	83 7d d8 03	 cmp	 DWORD PTR _Ret$235685[ebp], 3
  01e04	75 3d		 jne	 SHORT $LN6@DevilSquar@2

; 832  : 			{
; 833  : 				pMsg.Result = CB_INCORRECT_MIX_ITEMS;

  01e06	c6 45 eb 07	 mov	 BYTE PTR _pMsg$235679[ebp+3], 7

; 834  : 				DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  01e0a	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$235679[ebp+1]
  01e0e	50		 push	 eax
  01e0f	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$235679[ebp]
  01e12	51		 push	 ecx
  01e13	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$235682[ebp]
  01e16	52		 push	 edx
  01e17	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  01e1c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 835  : 				LogAdd("[DevilSquare] DiffLevel Devil's Key or Eyes [%d]", eventitemcount);

  01e1f	8b 45 e0	 mov	 eax, DWORD PTR _eventitemcount$235683[ebp]
  01e22	50		 push	 eax
  01e23	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@DMIHKADD@?$FLDevilSquare?$FN?5DiffLevel?5Devil?8s?5@
  01e28	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  01e2e	83 c4 08	 add	 esp, 8

; 836  : 				lpObj->ChaosLock = FALSE;

  01e31	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01e34	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 837  : 
; 838  : 				return;

  01e3e	e9 51 01 00 00	 jmp	 $LN9@DevilSquar@2
$LN6@DevilSquar@2:

; 839  : 			}
; 840  : 			
; 841  : 			if ( Ret == 2 )

  01e43	83 7d d8 02	 cmp	 DWORD PTR _Ret$235685[ebp], 2
  01e47	75 3d		 jne	 SHORT $LN5@DevilSquar@2

; 842  : 			{
; 843  : 				pMsg.Result = CB_INCORRECT_MIX_ITEMS;

  01e49	c6 45 eb 07	 mov	 BYTE PTR _pMsg$235679[ebp+3], 7

; 844  : 				DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  01e4d	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$235679[ebp+1]
  01e51	50		 push	 eax
  01e52	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$235679[ebp]
  01e55	51		 push	 ecx
  01e56	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$235682[ebp]
  01e59	52		 push	 edx
  01e5a	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  01e5f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 845  : 				LogAdd("[DevilSquare] Not Found Chaos Gem [%d]", eventitemcount);

  01e62	8b 45 e0	 mov	 eax, DWORD PTR _eventitemcount$235683[ebp]
  01e65	50		 push	 eax
  01e66	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@NMBMOEEC@?$FLDevilSquare?$FN?5Not?5Found?5Chaos?5Ge@
  01e6b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  01e71	83 c4 08	 add	 esp, 8

; 846  : 				lpObj->ChaosLock = FALSE;

  01e74	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01e77	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 847  : 				
; 848  : 				return;

  01e81	e9 0e 01 00 00	 jmp	 $LN9@DevilSquar@2
$LN5@DevilSquar@2:

; 849  : 			}
; 850  : 
; 851  : 			if ( Ret == 4 )

  01e86	83 7d d8 04	 cmp	 DWORD PTR _Ret$235685[ebp], 4
  01e8a	75 3d		 jne	 SHORT $LN4@DevilSquar@2

; 852  : 			{
; 853  : 				pMsg.Result = 0xF0;

  01e8c	c6 45 eb f0	 mov	 BYTE PTR _pMsg$235679[ebp+3], 240 ; 000000f0H

; 854  : 				DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  01e90	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$235679[ebp+1]
  01e94	50		 push	 eax
  01e95	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$235679[ebp]
  01e98	51		 push	 ecx
  01e99	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$235682[ebp]
  01e9c	52		 push	 edx
  01e9d	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  01ea2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 855  : 				LogAdd("[DevilSquare] Charm Of Luck Over 10% [%d]", eventitemcount);

  01ea5	8b 45 e0	 mov	 eax, DWORD PTR _eventitemcount$235683[ebp]
  01ea8	50		 push	 eax
  01ea9	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@JNMMBAIA@?$FLDevilSquare?$FN?5Charm?5Of?5Luck?5Over@
  01eae	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  01eb4	83 c4 08	 add	 esp, 8

; 856  : 				lpObj->ChaosLock = FALSE;

  01eb7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01eba	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 857  : 				
; 858  : 				return;

  01ec4	e9 cb 00 00 00	 jmp	 $LN9@DevilSquar@2
$LN4@DevilSquar@2:

; 859  : 			}
; 860  : 
; 861  : 			
; 862  : 			if ( eventitemcount > 2 )

  01ec9	83 7d e0 02	 cmp	 DWORD PTR _eventitemcount$235683[ebp], 2
  01ecd	7e 3d		 jle	 SHORT $LN3@DevilSquar@2

; 863  : 			{
; 864  : 				pMsg.Result = CB_TOO_MANY_ITEMS;

  01ecf	c6 45 eb 03	 mov	 BYTE PTR _pMsg$235679[ebp+3], 3

; 865  : 				DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  01ed3	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$235679[ebp+1]
  01ed7	50		 push	 eax
  01ed8	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$235679[ebp]
  01edb	51		 push	 ecx
  01edc	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$235682[ebp]
  01edf	52		 push	 edx
  01ee0	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  01ee5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 866  : 				LogAdd("[DevilSquare] Too many Devil's Key or Eyes [%d]", eventitemcount);

  01ee8	8b 45 e0	 mov	 eax, DWORD PTR _eventitemcount$235683[ebp]
  01eeb	50		 push	 eax
  01eec	68 00 00 00 00	 push	 OFFSET ??_C@_0DA@FMJGNMLI@?$FLDevilSquare?$FN?5Too?5many?5Devil?8s?5K@
  01ef1	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  01ef7	83 c4 08	 add	 esp, 8

; 867  : 				lpObj->ChaosLock = FALSE;

  01efa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01efd	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 868  : 
; 869  : 				return;

  01f07	e9 88 00 00 00	 jmp	 $LN9@DevilSquar@2
$LN3@DevilSquar@2:

; 870  : 			}
; 871  : 
; 872  : 			if ( lpObj->Level < 10 )

  01f0c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01f0f	0f bf 88 be 00
	00 00		 movsx	 ecx, WORD PTR [eax+190]
  01f16	83 f9 0a	 cmp	 ecx, 10			; 0000000aH
  01f19	7d 28		 jge	 SHORT $LN2@DevilSquar@2

; 873  : 			{
; 874  : 				pMsg.Result = CB_LOW_LEVEL_USER;

  01f1b	c6 45 eb 04	 mov	 BYTE PTR _pMsg$235679[ebp+3], 4

; 875  : 				DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  01f1f	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$235679[ebp+1]
  01f23	50		 push	 eax
  01f24	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$235679[ebp]
  01f27	51		 push	 ecx
  01f28	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$235682[ebp]
  01f2b	52		 push	 edx
  01f2c	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  01f31	83 c4 0c	 add	 esp, 12			; 0000000cH

; 876  : 				lpObj->ChaosLock = FALSE;

  01f34	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01f37	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 877  : 
; 878  : 				return;

  01f41	eb 51		 jmp	 SHORT $LN9@DevilSquar@2
$LN2@DevilSquar@2:

; 879  : 			}
; 880  : 
; 881  : 			this->DevilSquareEventChaosMix(lpObj, Ret, itemlevel);

  01f43	8b 45 dc	 mov	 eax, DWORD PTR _itemlevel$235684[ebp]
  01f46	50		 push	 eax
  01f47	8b 4d d8	 mov	 ecx, DWORD PTR _Ret$235685[ebp]
  01f4a	51		 push	 ecx
  01f4b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  01f4e	52		 push	 edx
  01f4f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01f52	e8 00 00 00 00	 call	 ?DevilSquareEventChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@HH@Z ; CMixSystem::DevilSquareEventChaosMix

; 882  : 			return;

  01f57	eb 3b		 jmp	 SHORT $LN9@DevilSquar@2
$LN7@DevilSquar@2:

; 883  : 		}
; 884  : 		
; 885  : 		if ( eventitemcount > 1 )

  01f59	83 7d e0 01	 cmp	 DWORD PTR _eventitemcount$235683[ebp], 1
  01f5d	7e 28		 jle	 SHORT $LN8@DevilSquar@2

; 886  : 		{
; 887  : 			pMsg.Result = CB_LACKING_MIX_ITEMS;

  01f5f	c6 45 eb 06	 mov	 BYTE PTR _pMsg$235679[ebp+3], 6

; 888  : 			DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  01f63	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$235679[ebp+1]
  01f67	50		 push	 eax
  01f68	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$235679[ebp]
  01f6b	51		 push	 ecx
  01f6c	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$235682[ebp]
  01f6f	52		 push	 edx
  01f70	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  01f75	83 c4 0c	 add	 esp, 12			; 0000000cH

; 889  : 			lpObj->ChaosLock = FALSE;

  01f78	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01f7b	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 890  : 
; 891  : 			return;

  01f85	eb 0d		 jmp	 SHORT $LN9@DevilSquar@2
$LN8@DevilSquar@2:

; 892  : 		}
; 893  : 	}
; 894  : 
; 895  : 	lpObj->ChaosLock = FALSE;

  01f87	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01f8a	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN9@DevilSquar@2:

; 896  : }

  01f94	5f		 pop	 edi
  01f95	5e		 pop	 esi
  01f96	5b		 pop	 ebx
  01f97	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01f9a	33 cd		 xor	 ecx, ebp
  01f9c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01fa1	8b e5		 mov	 esp, ebp
  01fa3	5d		 pop	 ebp
  01fa4	c2 04 00	 ret	 4
?DevilSquareItemChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::DevilSquareItemChaosMix
_TEXT	ENDS
PUBLIC	??_C@_0HO@CHNLGIIN@?$FLPlusItemLevel?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMi@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?LogPlusItemLevelChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@H@Z ; CMixSystem::LogPlusItemLevelChaosItem
;	COMDAT ??_C@_0HO@CHNLGIIN@?$FLPlusItemLevel?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMi@
CONST	SEGMENT
??_C@_0HO@CHNLGIIN@?$FLPlusItemLevel?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMi@ DB '['
	DB	'PlusItemLevel,%d] [%s][%s] CBMix [%d,%s,%d,%d,%d,%d]serial:[%'
	DB	'u][%d] Ex:[%d,%d,%d,%d,%d,%d,%d] Set:[%d] 380Ex:[%d] HO:[%d,%'
	DB	'd]', 00H					; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_n$235710 = -24						; size = 4
_ExOption$ = -20					; size = 8
_iMixLevel$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_iPlusMixLevel$ = 12					; size = 4
?LogPlusItemLevelChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@H@Z PROC ; CMixSystem::LogPlusItemLevelChaosItem
; _this$ = ecx

; 899  : {

  01fb0	55		 push	 ebp
  01fb1	8b ec		 mov	 ebp, esp
  01fb3	83 ec 58	 sub	 esp, 88			; 00000058H
  01fb6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  01fbb	33 c5		 xor	 eax, ebp
  01fbd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01fc0	53		 push	 ebx
  01fc1	56		 push	 esi
  01fc2	57		 push	 edi
  01fc3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 900  : 	int iMixLevel = 0;

  01fc6	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iMixLevel$[ebp], 0

; 901  : 	BYTE ExOption[MAX_EXOPTION_SIZE];
; 902  : 
; 903  : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  01fcd	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _n$235710[ebp], 0
  01fd4	eb 09		 jmp	 SHORT $LN15@LogPlusIte
$LN14@LogPlusIte:
  01fd6	8b 45 e8	 mov	 eax, DWORD PTR _n$235710[ebp]
  01fd9	83 c0 01	 add	 eax, 1
  01fdc	89 45 e8	 mov	 DWORD PTR _n$235710[ebp], eax
$LN15@LogPlusIte:
  01fdf	83 7d e8 20	 cmp	 DWORD PTR _n$235710[ebp], 32 ; 00000020H
  01fe3	0f 8d 11 02 00
	00		 jge	 $LN13@LogPlusIte

; 904  : 	{
; 905  : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  01fe9	8b 4d e8	 mov	 ecx, DWORD PTR _n$235710[ebp]
  01fec	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  01ff2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  01ff5	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  01ffb	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  02000	83 f8 01	 cmp	 eax, 1
  02003	0f 85 ec 01 00
	00		 jne	 $LN12@LogPlusIte

; 906  : 		{
; 907  : 			::ItemIsBufExOption(ExOption, &lpObj->pChaosBox[n]);

  02009	8b 45 e8	 mov	 eax, DWORD PTR _n$235710[ebp]
  0200c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02012	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02015	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0201b	50		 push	 eax
  0201c	8d 55 ec	 lea	 edx, DWORD PTR _ExOption$[ebp]
  0201f	52		 push	 edx
  02020	e8 00 00 00 00	 call	 ?ItemIsBufExOption@@YAXPAEPAVCItem@@@Z ; ItemIsBufExOption
  02025	83 c4 08	 add	 esp, 8

; 908  : 
; 909  : 			if ( iPlusMixLevel == 3 )

  02028	83 7d 0c 03	 cmp	 DWORD PTR _iPlusMixLevel$[ebp], 3
  0202c	75 09		 jne	 SHORT $LN11@LogPlusIte

; 910  : 				iMixLevel = 1;

  0202e	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _iMixLevel$[ebp], 1
  02035	eb 49		 jmp	 SHORT $LN1@LogPlusIte
$LN11@LogPlusIte:

; 911  : 			else if ( iPlusMixLevel == 4 )

  02037	83 7d 0c 04	 cmp	 DWORD PTR _iPlusMixLevel$[ebp], 4
  0203b	75 09		 jne	 SHORT $LN9@LogPlusIte

; 912  : 				iMixLevel = 2;

  0203d	c7 45 f4 02 00
	00 00		 mov	 DWORD PTR _iMixLevel$[ebp], 2
  02044	eb 3a		 jmp	 SHORT $LN1@LogPlusIte
$LN9@LogPlusIte:

; 913  : 			else if ( iPlusMixLevel == 22 )

  02046	83 7d 0c 16	 cmp	 DWORD PTR _iPlusMixLevel$[ebp], 22 ; 00000016H
  0204a	75 09		 jne	 SHORT $LN7@LogPlusIte

; 914  : 				iMixLevel = 3;

  0204c	c7 45 f4 03 00
	00 00		 mov	 DWORD PTR _iMixLevel$[ebp], 3
  02053	eb 2b		 jmp	 SHORT $LN1@LogPlusIte
$LN7@LogPlusIte:

; 915  : 			else if ( iPlusMixLevel == 23 )

  02055	83 7d 0c 17	 cmp	 DWORD PTR _iPlusMixLevel$[ebp], 23 ; 00000017H
  02059	75 09		 jne	 SHORT $LN5@LogPlusIte

; 916  : 				iMixLevel = 4;

  0205b	c7 45 f4 04 00
	00 00		 mov	 DWORD PTR _iMixLevel$[ebp], 4
  02062	eb 1c		 jmp	 SHORT $LN1@LogPlusIte
$LN5@LogPlusIte:

; 917  : 			else if ( iPlusMixLevel == 49 )	//updated 1.01.00

  02064	83 7d 0c 31	 cmp	 DWORD PTR _iPlusMixLevel$[ebp], 49 ; 00000031H
  02068	75 09		 jne	 SHORT $LN3@LogPlusIte

; 918  : 				iMixLevel = 5;

  0206a	c7 45 f4 05 00
	00 00		 mov	 DWORD PTR _iMixLevel$[ebp], 5
  02071	eb 0d		 jmp	 SHORT $LN1@LogPlusIte
$LN3@LogPlusIte:

; 919  : 			else if ( iPlusMixLevel == 50 )

  02073	83 7d 0c 32	 cmp	 DWORD PTR _iPlusMixLevel$[ebp], 50 ; 00000032H
  02077	75 07		 jne	 SHORT $LN1@LogPlusIte

; 920  : 				iMixLevel = 6;

  02079	c7 45 f4 06 00
	00 00		 mov	 DWORD PTR _iMixLevel$[ebp], 6
$LN1@LogPlusIte:

; 921  : 
; 922  : 			LogAddTD("[PlusItemLevel,%d] [%s][%s] CBMix [%d,%s,%d,%d,%d,%d]serial:[%u][%d] Ex:[%d,%d,%d,%d,%d,%d,%d] Set:[%d] 380Ex:[%d] HO:[%d,%d]", iMixLevel,
; 923  : 				lpObj->AccountID, lpObj->Name, n, lpObj->pChaosBox[n].GetName(), lpObj->pChaosBox[n].m_Level,
; 924  : 				lpObj->pChaosBox[n].m_Option1, lpObj->pChaosBox[n].m_Option2, lpObj->pChaosBox[n].m_Option3, 
; 925  : 				lpObj->pChaosBox[n].m_Number, (int)lpObj->pChaosBox[n].m_Durability, 
; 926  : 				ExOption[0], ExOption[1], ExOption[2], ExOption[3], ExOption[4], ExOption[5], ExOption[6], lpObj->pChaosBox[n].m_SetOption,
; 927  : 				lpObj->pChaosBox[n].m_ItemOptionEx >> 7,
; 928  : 				g_kJewelOfHarmonySystem.GetItemOptionLevel(&lpObj->pChaosBox[n]),
; 929  : 				g_kJewelOfHarmonySystem.GetItemStrengthenOption(&lpObj->pChaosBox[n]));

  02080	8b 45 e8	 mov	 eax, DWORD PTR _n$235710[ebp]
  02083	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02089	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0208c	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  02092	50		 push	 eax
  02093	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_kJewelOfHarmonySystem@@3VCJewelOfHarmonySystem@@A ; g_kJewelOfHarmonySystem
  02098	e8 00 00 00 00	 call	 ?GetItemStrengthenOption@CJewelOfHarmonySystem@@QAEEPAVCItem@@@Z ; CJewelOfHarmonySystem::GetItemStrengthenOption
  0209d	0f b6 d0	 movzx	 edx, al
  020a0	52		 push	 edx
  020a1	8b 45 e8	 mov	 eax, DWORD PTR _n$235710[ebp]
  020a4	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  020aa	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  020ad	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  020b3	50		 push	 eax
  020b4	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_kJewelOfHarmonySystem@@3VCJewelOfHarmonySystem@@A ; g_kJewelOfHarmonySystem
  020b9	e8 00 00 00 00	 call	 ?GetItemOptionLevel@CJewelOfHarmonySystem@@QAEEPAVCItem@@@Z ; CJewelOfHarmonySystem::GetItemOptionLevel
  020be	0f b6 d0	 movzx	 edx, al
  020c1	52		 push	 edx
  020c2	8b 45 e8	 mov	 eax, DWORD PTR _n$235710[ebp]
  020c5	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  020cb	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  020ce	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  020d4	0f b6 84 02 ca
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+202]
  020dc	c1 f8 07	 sar	 eax, 7
  020df	50		 push	 eax
  020e0	8b 4d e8	 mov	 ecx, DWORD PTR _n$235710[ebp]
  020e3	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  020e9	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  020ec	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  020f2	0f b6 8c 08 ae
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+174]
  020fa	51		 push	 ecx
  020fb	0f b6 55 f2	 movzx	 edx, BYTE PTR _ExOption$[ebp+6]
  020ff	52		 push	 edx
  02100	0f b6 45 f1	 movzx	 eax, BYTE PTR _ExOption$[ebp+5]
  02104	50		 push	 eax
  02105	0f b6 4d f0	 movzx	 ecx, BYTE PTR _ExOption$[ebp+4]
  02109	51		 push	 ecx
  0210a	0f b6 55 ef	 movzx	 edx, BYTE PTR _ExOption$[ebp+3]
  0210e	52		 push	 edx
  0210f	0f b6 45 ee	 movzx	 eax, BYTE PTR _ExOption$[ebp+2]
  02113	50		 push	 eax
  02114	0f b6 4d ed	 movzx	 ecx, BYTE PTR _ExOption$[ebp+1]
  02118	51		 push	 ecx
  02119	0f b6 55 ec	 movzx	 edx, BYTE PTR _ExOption$[ebp]
  0211d	52		 push	 edx
  0211e	8b 45 e8	 mov	 eax, DWORD PTR _n$235710[ebp]
  02121	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02127	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0212a	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02130	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  02134	e8 00 00 00 00	 call	 __ftol2_sse
  02139	50		 push	 eax
  0213a	8b 45 e8	 mov	 eax, DWORD PTR _n$235710[ebp]
  0213d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02143	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02146	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0214c	8b 04 02	 mov	 eax, DWORD PTR [edx+eax]
  0214f	50		 push	 eax
  02150	8b 4d e8	 mov	 ecx, DWORD PTR _n$235710[ebp]
  02153	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  02159	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0215c	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  02162	0f b6 8c 08 96
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+150]
  0216a	51		 push	 ecx
  0216b	8b 55 e8	 mov	 edx, DWORD PTR _n$235710[ebp]
  0216e	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  02174	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02177	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  0217d	0f b6 94 11 95
	00 00 00	 movzx	 edx, BYTE PTR [ecx+edx+149]
  02185	52		 push	 edx
  02186	8b 45 e8	 mov	 eax, DWORD PTR _n$235710[ebp]
  02189	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0218f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02192	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02198	0f b6 84 02 94
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+148]
  021a0	50		 push	 eax
  021a1	8b 4d e8	 mov	 ecx, DWORD PTR _n$235710[ebp]
  021a4	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  021aa	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  021ad	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  021b3	0f bf 4c 08 08	 movsx	 ecx, WORD PTR [eax+ecx+8]
  021b8	51		 push	 ecx
  021b9	8b 4d e8	 mov	 ecx, DWORD PTR _n$235710[ebp]
  021bc	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  021c2	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  021c5	03 8a 78 0e 00
	00		 add	 ecx, DWORD PTR [edx+3704]
  021cb	e8 00 00 00 00	 call	 ?GetName@CItem@@QAEPADXZ ; CItem::GetName
  021d0	50		 push	 eax
  021d1	8b 45 e8	 mov	 eax, DWORD PTR _n$235710[ebp]
  021d4	50		 push	 eax
  021d5	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  021d8	83 c1 77	 add	 ecx, 119		; 00000077H
  021db	51		 push	 ecx
  021dc	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  021df	83 c2 6c	 add	 edx, 108		; 0000006cH
  021e2	52		 push	 edx
  021e3	8b 45 f4	 mov	 eax, DWORD PTR _iMixLevel$[ebp]
  021e6	50		 push	 eax
  021e7	68 00 00 00 00	 push	 OFFSET ??_C@_0HO@CHNLGIIN@?$FLPlusItemLevel?0?$CFd?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMi@
  021ec	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  021f2	83 c4 5c	 add	 esp, 92			; 0000005cH
$LN12@LogPlusIte:

; 930  : 		}
; 931  : 	}

  021f5	e9 dc fd ff ff	 jmp	 $LN14@LogPlusIte
$LN13@LogPlusIte:

; 932  : }

  021fa	5f		 pop	 edi
  021fb	5e		 pop	 esi
  021fc	5b		 pop	 ebx
  021fd	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02200	33 cd		 xor	 ecx, ebp
  02202	e8 00 00 00 00	 call	 @__security_check_cookie@4
  02207	8b e5		 mov	 esp, ebp
  02209	5d		 pop	 ebp
  0220a	c2 08 00	 ret	 8
?LogPlusItemLevelChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@H@Z ENDP ; CMixSystem::LogPlusItemLevelChaosItem
_TEXT	ENDS
PUBLIC	??_C@_0IF@FONACAKJ@?$FL?$CFs?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5?$FL?$CFd?0?$CFs?0?$CFd?0?$CFd@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem
;	COMDAT ??_C@_0IF@FONACAKJ@?$FL?$CFs?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5?$FL?$CFd?0?$CFs?0?$CFd?0?$CFd@
CONST	SEGMENT
??_C@_0IF@FONACAKJ@?$FL?$CFs?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5?$FL?$CFd?0?$CFs?0?$CFd?0?$CFd@ DB '['
	DB	'%s] [%s][%s] CBMix [%d,%s,%d,%d,%d,%d]serial:[%u][%d] Ex:[%d,'
	DB	'%d,%d,%d,%d,%d,%d] Set:[%d] 380:[%d] HO:[%d,%d] Socket[%d,%d,'
	DB	'%d,%d,%d]', 00H				; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_n$235734 = -20						; size = 4
_ExOption$ = -16					; size = 8
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_sLogType$ = 12						; size = 4
?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z PROC ; CMixSystem::LogChaosItem
; _this$ = ecx

; 935  : {

  02210	55		 push	 ebp
  02211	8b ec		 mov	 ebp, esp
  02213	83 ec 54	 sub	 esp, 84			; 00000054H
  02216	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0221b	33 c5		 xor	 eax, ebp
  0221d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02220	53		 push	 ebx
  02221	56		 push	 esi
  02222	57		 push	 edi
  02223	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 936  : 	BYTE ExOption[MAX_EXOPTION_SIZE];
; 937  : 
; 938  : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  02226	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _n$235734[ebp], 0
  0222d	eb 09		 jmp	 SHORT $LN4@LogChaosIt
$LN3@LogChaosIt:
  0222f	8b 45 ec	 mov	 eax, DWORD PTR _n$235734[ebp]
  02232	83 c0 01	 add	 eax, 1
  02235	89 45 ec	 mov	 DWORD PTR _n$235734[ebp], eax
$LN4@LogChaosIt:
  02238	83 7d ec 20	 cmp	 DWORD PTR _n$235734[ebp], 32 ; 00000020H
  0223c	0f 8d 40 02 00
	00		 jge	 $LN2@LogChaosIt

; 939  : 	{
; 940  : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  02242	8b 4d ec	 mov	 ecx, DWORD PTR _n$235734[ebp]
  02245	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0224b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0224e	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  02254	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  02259	83 f8 01	 cmp	 eax, 1
  0225c	0f 85 1b 02 00
	00		 jne	 $LN1@LogChaosIt

; 941  : 		{
; 942  : 			::ItemIsBufExOption(ExOption, &lpObj->pChaosBox[n]);

  02262	8b 45 ec	 mov	 eax, DWORD PTR _n$235734[ebp]
  02265	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0226b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0226e	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  02274	50		 push	 eax
  02275	8d 55 f0	 lea	 edx, DWORD PTR _ExOption$[ebp]
  02278	52		 push	 edx
  02279	e8 00 00 00 00	 call	 ?ItemIsBufExOption@@YAXPAEPAVCItem@@@Z ; ItemIsBufExOption
  0227e	83 c4 08	 add	 esp, 8

; 943  : 
; 944  : 			LogAddTD("[%s] [%s][%s] CBMix [%d,%s,%d,%d,%d,%d]serial:[%u][%d] Ex:[%d,%d,%d,%d,%d,%d,%d] Set:[%d] 380:[%d] HO:[%d,%d] Socket[%d,%d,%d,%d,%d]",
; 945  : 				sLogType, lpObj->AccountID, lpObj->Name, n, lpObj->pChaosBox[n].GetName(), lpObj->pChaosBox[n].m_Level,
; 946  : 				lpObj->pChaosBox[n].m_Option1, lpObj->pChaosBox[n].m_Option2, lpObj->pChaosBox[n].m_Option3, 
; 947  : 				lpObj->pChaosBox[n].m_Number, (int)lpObj->pChaosBox[n].m_Durability, 
; 948  : 				ExOption[0], ExOption[1], ExOption[2], ExOption[3], ExOption[4], ExOption[5], ExOption[6], lpObj->pChaosBox[n].m_SetOption,
; 949  : 				lpObj->pChaosBox[n].m_ItemOptionEx >> 7,
; 950  : 				g_kJewelOfHarmonySystem.GetItemStrengthenOption(&lpObj->pChaosBox[n]),
; 951  : 				g_kJewelOfHarmonySystem.GetItemOptionLevel(&lpObj->pChaosBox[n]),
; 952  : 				//season4 add-on
; 953  : 				lpObj->pChaosBox[n].m_SocketOption[0],
; 954  : 				lpObj->pChaosBox[n].m_SocketOption[1],
; 955  : 				lpObj->pChaosBox[n].m_SocketOption[2],
; 956  : 				lpObj->pChaosBox[n].m_SocketOption[3],
; 957  : 				lpObj->pChaosBox[n].m_SocketOption[4]);

  02281	8b 45 ec	 mov	 eax, DWORD PTR _n$235734[ebp]
  02284	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0228a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0228d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02293	0f b6 84 02 d0
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+208]
  0229b	50		 push	 eax
  0229c	8b 4d ec	 mov	 ecx, DWORD PTR _n$235734[ebp]
  0229f	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  022a5	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  022a8	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  022ae	0f b6 8c 08 cf
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+207]
  022b6	51		 push	 ecx
  022b7	8b 55 ec	 mov	 edx, DWORD PTR _n$235734[ebp]
  022ba	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  022c0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  022c3	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  022c9	0f b6 94 11 ce
	00 00 00	 movzx	 edx, BYTE PTR [ecx+edx+206]
  022d1	52		 push	 edx
  022d2	8b 45 ec	 mov	 eax, DWORD PTR _n$235734[ebp]
  022d5	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  022db	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  022de	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  022e4	0f b6 84 02 cd
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+205]
  022ec	50		 push	 eax
  022ed	8b 4d ec	 mov	 ecx, DWORD PTR _n$235734[ebp]
  022f0	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  022f6	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  022f9	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  022ff	0f b6 8c 08 cc
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+204]
  02307	51		 push	 ecx
  02308	8b 55 ec	 mov	 edx, DWORD PTR _n$235734[ebp]
  0230b	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  02311	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02314	03 90 78 0e 00
	00		 add	 edx, DWORD PTR [eax+3704]
  0231a	52		 push	 edx
  0231b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_kJewelOfHarmonySystem@@3VCJewelOfHarmonySystem@@A ; g_kJewelOfHarmonySystem
  02320	e8 00 00 00 00	 call	 ?GetItemOptionLevel@CJewelOfHarmonySystem@@QAEEPAVCItem@@@Z ; CJewelOfHarmonySystem::GetItemOptionLevel
  02325	0f b6 c8	 movzx	 ecx, al
  02328	51		 push	 ecx
  02329	8b 55 ec	 mov	 edx, DWORD PTR _n$235734[ebp]
  0232c	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  02332	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02335	03 90 78 0e 00
	00		 add	 edx, DWORD PTR [eax+3704]
  0233b	52		 push	 edx
  0233c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_kJewelOfHarmonySystem@@3VCJewelOfHarmonySystem@@A ; g_kJewelOfHarmonySystem
  02341	e8 00 00 00 00	 call	 ?GetItemStrengthenOption@CJewelOfHarmonySystem@@QAEEPAVCItem@@@Z ; CJewelOfHarmonySystem::GetItemStrengthenOption
  02346	0f b6 c8	 movzx	 ecx, al
  02349	51		 push	 ecx
  0234a	8b 55 ec	 mov	 edx, DWORD PTR _n$235734[ebp]
  0234d	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  02353	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02356	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  0235c	0f b6 94 11 ca
	00 00 00	 movzx	 edx, BYTE PTR [ecx+edx+202]
  02364	c1 fa 07	 sar	 edx, 7
  02367	52		 push	 edx
  02368	8b 45 ec	 mov	 eax, DWORD PTR _n$235734[ebp]
  0236b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02371	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02374	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0237a	0f b6 84 02 ae
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+174]
  02382	50		 push	 eax
  02383	0f b6 4d f6	 movzx	 ecx, BYTE PTR _ExOption$[ebp+6]
  02387	51		 push	 ecx
  02388	0f b6 55 f5	 movzx	 edx, BYTE PTR _ExOption$[ebp+5]
  0238c	52		 push	 edx
  0238d	0f b6 45 f4	 movzx	 eax, BYTE PTR _ExOption$[ebp+4]
  02391	50		 push	 eax
  02392	0f b6 4d f3	 movzx	 ecx, BYTE PTR _ExOption$[ebp+3]
  02396	51		 push	 ecx
  02397	0f b6 55 f2	 movzx	 edx, BYTE PTR _ExOption$[ebp+2]
  0239b	52		 push	 edx
  0239c	0f b6 45 f1	 movzx	 eax, BYTE PTR _ExOption$[ebp+1]
  023a0	50		 push	 eax
  023a1	0f b6 4d f0	 movzx	 ecx, BYTE PTR _ExOption$[ebp]
  023a5	51		 push	 ecx
  023a6	8b 55 ec	 mov	 edx, DWORD PTR _n$235734[ebp]
  023a9	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  023af	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  023b2	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  023b8	d9 44 11 24	 fld	 DWORD PTR [ecx+edx+36]
  023bc	e8 00 00 00 00	 call	 __ftol2_sse
  023c1	50		 push	 eax
  023c2	8b 55 ec	 mov	 edx, DWORD PTR _n$235734[ebp]
  023c5	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  023cb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  023ce	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  023d4	8b 14 11	 mov	 edx, DWORD PTR [ecx+edx]
  023d7	52		 push	 edx
  023d8	8b 45 ec	 mov	 eax, DWORD PTR _n$235734[ebp]
  023db	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  023e1	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  023e4	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  023ea	0f b6 84 02 96
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+150]
  023f2	50		 push	 eax
  023f3	8b 4d ec	 mov	 ecx, DWORD PTR _n$235734[ebp]
  023f6	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  023fc	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  023ff	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  02405	0f b6 8c 08 95
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+149]
  0240d	51		 push	 ecx
  0240e	8b 55 ec	 mov	 edx, DWORD PTR _n$235734[ebp]
  02411	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  02417	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0241a	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  02420	0f b6 94 11 94
	00 00 00	 movzx	 edx, BYTE PTR [ecx+edx+148]
  02428	52		 push	 edx
  02429	8b 45 ec	 mov	 eax, DWORD PTR _n$235734[ebp]
  0242c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02432	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02435	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0243b	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  02440	50		 push	 eax
  02441	8b 4d ec	 mov	 ecx, DWORD PTR _n$235734[ebp]
  02444	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0244a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0244d	03 8a 78 0e 00
	00		 add	 ecx, DWORD PTR [edx+3704]
  02453	e8 00 00 00 00	 call	 ?GetName@CItem@@QAEPADXZ ; CItem::GetName
  02458	50		 push	 eax
  02459	8b 45 ec	 mov	 eax, DWORD PTR _n$235734[ebp]
  0245c	50		 push	 eax
  0245d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02460	83 c1 77	 add	 ecx, 119		; 00000077H
  02463	51		 push	 ecx
  02464	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02467	83 c2 6c	 add	 edx, 108		; 0000006cH
  0246a	52		 push	 edx
  0246b	8b 45 0c	 mov	 eax, DWORD PTR _sLogType$[ebp]
  0246e	50		 push	 eax
  0246f	68 00 00 00 00	 push	 OFFSET ??_C@_0IF@FONACAKJ@?$FL?$CFs?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5?$FL?$CFd?0?$CFs?0?$CFd?0?$CFd@
  02474	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0247a	83 c4 70	 add	 esp, 112		; 00000070H
$LN1@LogChaosIt:

; 958  : 		}
; 959  : 	}

  0247d	e9 ad fd ff ff	 jmp	 $LN3@LogChaosIt
$LN2@LogChaosIt:

; 960  : }

  02482	5f		 pop	 edi
  02483	5e		 pop	 esi
  02484	5b		 pop	 ebx
  02485	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02488	33 cd		 xor	 ecx, ebp
  0248a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0248f	8b e5		 mov	 esp, ebp
  02491	5d		 pop	 ebp
  02492	c2 08 00	 ret	 8
?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ENDP ; CMixSystem::LogChaosItem
_TEXT	ENDS
PUBLIC	??_C@_0EK@JJBHLEGP@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@ ; `string'
PUBLIC	?BreakItemOption@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::BreakItemOption
PUBLIC	??_C@_0EN@NDGFLPHI@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@ ; `string'
PUBLIC	??_C@_0ED@HJNGDDFB@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5N@ ; `string'
PUBLIC	??_C@_0CA@BGIGBHFB@?$FLPlusItemLevel?$FN?5Chaos?5Mix?5Start?$AA@ ; `string'
PUBLIC	??_C@_0DL@KGOODEAG@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5C@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?PlusItemLevelChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@H@Z ; CMixSystem::PlusItemLevelChaosMix
EXTRN	?gObjChaosItemSet@@YAXHHE@Z:PROC		; gObjChaosItemSet
EXTRN	?gObjChaosBoxInsertItemPos@@YAEHVCItem@@HH@Z:PROC ; gObjChaosBoxInsertItemPos
EXTRN	?ItemByteConvert@@YAXPAEVCItem@@@Z:PROC		; ItemByteConvert
EXTRN	?GetActiveSocketOption@CSocketOption@@QAEXPAVCItem@@PAEAAE@Z:PROC ; CSocketOption::GetActiveSocketOption
EXTRN	?IsSocketOption@CSocketOption@@QAEEPAVCItem@@@Z:PROC ; CSocketOption::IsSocketOption
EXTRN	?g_SocketOption@@3VCSocketOption@@A:BYTE	; g_SocketOption
EXTRN	?Is380Item@CItemSystemFor380@@QAEHPBVCItem@@@Z:PROC ; CItemSystemFor380::Is380Item
EXTRN	?g_kItemSystemFor380@@3VCItemSystemFor380@@A:BYTE ; g_kItemSystemFor380
;	COMDAT ??_C@_0EK@JJBHLEGP@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@
CONST	SEGMENT
??_C@_0EK@JJBHLEGP@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@ DB '['
	DB	'PlusItemLevel] [%s][%s] CBMix Fail %d Money : %d-%d [%d], Cha'
	DB	'rmRate : %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0EN@NDGFLPHI@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@
CONST	SEGMENT
??_C@_0EN@NDGFLPHI@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@ DB '['
	DB	'PlusItemLevel] [%s][%s] CBMix Success %d Money : %d-%d [%d], '
	DB	'CharmRate : %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0ED@HJNGDDFB@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5N@
CONST	SEGMENT
??_C@_0ED@HJNGDDFB@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5N@ DB '['
	DB	'PlusItemLevel] [%s][%s] CBMix Not Enough Money [%d] need zen '
	DB	'[%d]', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0CA@BGIGBHFB@?$FLPlusItemLevel?$FN?5Chaos?5Mix?5Start?$AA@
CONST	SEGMENT
??_C@_0CA@BGIGBHFB@?$FLPlusItemLevel?$FN?5Chaos?5Mix?5Start?$AA@ DB '[Plu'
	DB	'sItemLevel] Chaos Mix Start', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0DL@KGOODEAG@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5C@
CONST	SEGMENT
??_C@_0DL@KGOODEAG@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5C@ DB '['
	DB	'PlusItemLevel] [%s][%s] CBMix Charm of luck over 10% (%d)', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv1189 = -440						; size = 4
tv474 = -440						; size = 4
tv459 = -440						; size = 4
tv444 = -440						; size = 4
tv429 = -440						; size = 4
_FailLevel$235897 = -372				; size = 4
_SocketIndex$235891 = -365				; size = 1
_SocketOption$235890 = -364				; size = 5
_Dur$235888 = -356					; size = 4
_Item$235887 = -352					; size = 212
_btMixLevel$ = -137					; size = 1
_iChaosTaxMoney$ = -136					; size = 4
_pMsg$ = -132						; size = 16
_MixType$ = -116					; size = 4
_pResult$235798 = -112					; size = 16
_pResult$235792 = -96					; size = 16
_n$235763 = -80						; size = 4
_btItemLuckValue$ = -73					; size = 1
_iCharmOfLuckCount$ = -72				; size = 4
_iCharmOfAssemblyCount$ = -68				; size = 4
_ExtraSoulGemCount$ = -64				; size = 4
_ExtraBlessGemCount$ = -60				; size = 4
_Plus15ItemCount$ = -56					; size = 4
_Plus14ItemCount$ = -52					; size = 4
_Plus13ItemCount$ = -48					; size = 4
_Plus12ItemCount$ = -44					; size = 4
_Plus11ItemCount$ = -40					; size = 4
_OtherItemFound$ = -36					; size = 4
_PlusItemPos$ = -32					; size = 4
_Plus10ItemCount$ = -28					; size = 4
_Plus9ItemCount$ = -24					; size = 4
_SoulGemCount$ = -20					; size = 4
_BlessGemCount$ = -16					; size = 4
_ChaosGemCount$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_mixType$ = 12						; size = 4
?PlusItemLevelChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@H@Z PROC ; CMixSystem::PlusItemLevelChaosMix
; _this$ = ecx

; 963  : {

  024a0	55		 push	 ebp
  024a1	8b ec		 mov	 ebp, esp
  024a3	81 ec b8 01 00
	00		 sub	 esp, 440		; 000001b8H
  024a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  024ae	33 c5		 xor	 eax, ebp
  024b0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  024b3	53		 push	 ebx
  024b4	56		 push	 esi
  024b5	57		 push	 edi
  024b6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 964  : 	int ChaosGemCount = 0;

  024b9	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _ChaosGemCount$[ebp], 0

; 965  : 	int BlessGemCount = 0;

  024c0	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _BlessGemCount$[ebp], 0

; 966  : 	int SoulGemCount = 0;

  024c7	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _SoulGemCount$[ebp], 0

; 967  : 	int Plus9ItemCount = 0;

  024ce	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _Plus9ItemCount$[ebp], 0

; 968  : 	int Plus10ItemCount = 0;

  024d5	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _Plus10ItemCount$[ebp], 0

; 969  : 	int PlusItemPos = -1;

  024dc	c7 45 e0 ff ff
	ff ff		 mov	 DWORD PTR _PlusItemPos$[ebp], -1

; 970  : 	int OtherItemFound = 0;

  024e3	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _OtherItemFound$[ebp], 0

; 971  : 	int Plus11ItemCount = 0;

  024ea	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _Plus11ItemCount$[ebp], 0

; 972  : 	int Plus12ItemCount = 0;

  024f1	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _Plus12ItemCount$[ebp], 0

; 973  : 	int Plus13ItemCount = 0;	//Season 5 +15 Items

  024f8	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _Plus13ItemCount$[ebp], 0

; 974  : 	int Plus14ItemCount = 0;	//Season 5 +15 Items

  024ff	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _Plus14ItemCount$[ebp], 0

; 975  : 	int Plus15ItemCount = 0;	//Season 5 +15 Items

  02506	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _Plus15ItemCount$[ebp], 0

; 976  : 	int ExtraBlessGemCount = 0;

  0250d	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _ExtraBlessGemCount$[ebp], 0

; 977  : 	int ExtraSoulGemCount = 0;

  02514	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _ExtraSoulGemCount$[ebp], 0

; 978  : 
; 979  : 	int iCharmOfAssemblyCount = 0; //season3.5 add-on

  0251b	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _iCharmOfAssemblyCount$[ebp], 0

; 980  : 	int iCharmOfLuckCount = 0;

  02522	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 981  : 	
; 982  : 	BYTE btItemLuckValue = 0;

  02529	c6 45 b7 00	 mov	 BYTE PTR _btItemLuckValue$[ebp], 0

; 983  : 
; 984  : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  0252d	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _n$235763[ebp], 0
  02534	eb 09		 jmp	 SHORT $LN109@PlusItemLe
$LN108@PlusItemLe:
  02536	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  02539	83 c0 01	 add	 eax, 1
  0253c	89 45 b0	 mov	 DWORD PTR _n$235763[ebp], eax
$LN109@PlusItemLe:
  0253f	83 7d b0 20	 cmp	 DWORD PTR _n$235763[ebp], 32 ; 00000020H
  02543	0f 8d 39 02 00
	00		 jge	 $LN107@PlusItemLe

; 985  : 	{
; 986  : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  02549	8b 4d b0	 mov	 ecx, DWORD PTR _n$235763[ebp]
  0254c	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  02552	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02555	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0255b	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  02560	83 f8 01	 cmp	 eax, 1
  02563	0f 85 14 02 00
	00		 jne	 $LN84@PlusItemLe

; 987  : 		{
; 988  : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) )

  02569	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  0256c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02572	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02575	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0257b	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02580	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  02585	75 0e		 jne	 SHORT $LN105@PlusItemLe

; 989  : 			{
; 990  : 				ChaosGemCount++;

  02587	8b 45 f4	 mov	 eax, DWORD PTR _ChaosGemCount$[ebp]
  0258a	83 c0 01	 add	 eax, 1
  0258d	89 45 f4	 mov	 DWORD PTR _ChaosGemCount$[ebp], eax
  02590	e9 e8 01 00 00	 jmp	 $LN84@PlusItemLe
$LN105@PlusItemLe:

; 991  : 			}
; 992  : 			else if (  lpObj->pChaosBox[n].m_Type == ITEMGET(14,13) )

  02595	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  02598	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0259e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  025a1	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  025a7	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  025ac	3d 0d 1c 00 00	 cmp	 eax, 7181		; 00001c0dH
  025b1	75 0e		 jne	 SHORT $LN103@PlusItemLe

; 993  : 			{
; 994  : 				BlessGemCount++;

  025b3	8b 45 f0	 mov	 eax, DWORD PTR _BlessGemCount$[ebp]
  025b6	83 c0 01	 add	 eax, 1
  025b9	89 45 f0	 mov	 DWORD PTR _BlessGemCount$[ebp], eax
  025bc	e9 bc 01 00 00	 jmp	 $LN84@PlusItemLe
$LN103@PlusItemLe:

; 995  : 			}
; 996  : 			else if (  lpObj->pChaosBox[n].m_Type == ITEMGET(14,14) )

  025c1	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  025c4	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  025ca	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  025cd	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  025d3	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  025d8	3d 0e 1c 00 00	 cmp	 eax, 7182		; 00001c0eH
  025dd	75 0e		 jne	 SHORT $LN101@PlusItemLe

; 997  : 			{
; 998  : 				SoulGemCount++;

  025df	8b 45 ec	 mov	 eax, DWORD PTR _SoulGemCount$[ebp]
  025e2	83 c0 01	 add	 eax, 1
  025e5	89 45 ec	 mov	 DWORD PTR _SoulGemCount$[ebp], eax
  025e8	e9 90 01 00 00	 jmp	 $LN84@PlusItemLe
$LN101@PlusItemLe:

; 999  : 			}
; 1000 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )	// Charm Of Luck

  025ed	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  025f0	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  025f6	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  025f9	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  025ff	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02604	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  02609	75 26		 jne	 SHORT $LN99@PlusItemLe

; 1001 : 			{
; 1002 : 				iCharmOfLuckCount += (int)lpObj->pChaosBox[n].m_Durability;

  0260b	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  0260e	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02614	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02617	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0261d	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  02621	e8 00 00 00 00	 call	 __ftol2_sse
  02626	03 45 b8	 add	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  02629	89 45 b8	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], eax
  0262c	e9 4c 01 00 00	 jmp	 $LN84@PlusItemLe
$LN99@PlusItemLe:

; 1003 : 			}
; 1004 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,96) )	// Charm Of Assembly

  02631	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  02634	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0263a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0263d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02643	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02648	3d 60 1c 00 00	 cmp	 eax, 7264		; 00001c60H
  0264d	75 0e		 jne	 SHORT $LN97@PlusItemLe

; 1005 : 			{
; 1006 : 				iCharmOfAssemblyCount++;

  0264f	8b 45 bc	 mov	 eax, DWORD PTR _iCharmOfAssemblyCount$[ebp]
  02652	83 c0 01	 add	 eax, 1
  02655	89 45 bc	 mov	 DWORD PTR _iCharmOfAssemblyCount$[ebp], eax
  02658	e9 20 01 00 00	 jmp	 $LN84@PlusItemLe
$LN97@PlusItemLe:

; 1007 : 			}
; 1008 : 			else if ( lpObj->pChaosBox[n].m_Level == 9 )

  0265d	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  02660	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02666	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02669	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0266f	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  02674	83 f8 09	 cmp	 eax, 9
  02677	75 14		 jne	 SHORT $LN95@PlusItemLe

; 1009 : 			{
; 1010 : 				Plus9ItemCount++;

  02679	8b 45 e8	 mov	 eax, DWORD PTR _Plus9ItemCount$[ebp]
  0267c	83 c0 01	 add	 eax, 1
  0267f	89 45 e8	 mov	 DWORD PTR _Plus9ItemCount$[ebp], eax

; 1011 : 				PlusItemPos = n;

  02682	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  02685	89 45 e0	 mov	 DWORD PTR _PlusItemPos$[ebp], eax
  02688	e9 f0 00 00 00	 jmp	 $LN84@PlusItemLe
$LN95@PlusItemLe:

; 1012 : 			}
; 1013 : 			else if ( lpObj->pChaosBox[n].m_Level == 10 )

  0268d	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  02690	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02696	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02699	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0269f	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  026a4	83 f8 0a	 cmp	 eax, 10			; 0000000aH
  026a7	75 14		 jne	 SHORT $LN93@PlusItemLe

; 1014 : 			{
; 1015 : 				Plus10ItemCount++;

  026a9	8b 45 e4	 mov	 eax, DWORD PTR _Plus10ItemCount$[ebp]
  026ac	83 c0 01	 add	 eax, 1
  026af	89 45 e4	 mov	 DWORD PTR _Plus10ItemCount$[ebp], eax

; 1016 : 				PlusItemPos = n;

  026b2	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  026b5	89 45 e0	 mov	 DWORD PTR _PlusItemPos$[ebp], eax
  026b8	e9 c0 00 00 00	 jmp	 $LN84@PlusItemLe
$LN93@PlusItemLe:

; 1017 : 			}
; 1018 : 			else if ( lpObj->pChaosBox[n].m_Level == 11 )

  026bd	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  026c0	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  026c6	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  026c9	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  026cf	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  026d4	83 f8 0b	 cmp	 eax, 11			; 0000000bH
  026d7	75 14		 jne	 SHORT $LN91@PlusItemLe

; 1019 : 			{
; 1020 : 				Plus11ItemCount++;

  026d9	8b 45 d8	 mov	 eax, DWORD PTR _Plus11ItemCount$[ebp]
  026dc	83 c0 01	 add	 eax, 1
  026df	89 45 d8	 mov	 DWORD PTR _Plus11ItemCount$[ebp], eax

; 1021 : 				PlusItemPos = n;

  026e2	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  026e5	89 45 e0	 mov	 DWORD PTR _PlusItemPos$[ebp], eax
  026e8	e9 90 00 00 00	 jmp	 $LN84@PlusItemLe
$LN91@PlusItemLe:

; 1022 : 			}
; 1023 : 			else if ( lpObj->pChaosBox[n].m_Level == 12 )

  026ed	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  026f0	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  026f6	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  026f9	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  026ff	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  02704	83 f8 0c	 cmp	 eax, 12			; 0000000cH
  02707	75 11		 jne	 SHORT $LN89@PlusItemLe

; 1024 : 			{
; 1025 : 				Plus12ItemCount++;

  02709	8b 45 d4	 mov	 eax, DWORD PTR _Plus12ItemCount$[ebp]
  0270c	83 c0 01	 add	 eax, 1
  0270f	89 45 d4	 mov	 DWORD PTR _Plus12ItemCount$[ebp], eax

; 1026 : 				PlusItemPos = n;

  02712	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  02715	89 45 e0	 mov	 DWORD PTR _PlusItemPos$[ebp], eax
  02718	eb 63		 jmp	 SHORT $LN84@PlusItemLe
$LN89@PlusItemLe:

; 1027 : 			}
; 1028 : 			//Season 5 +15 Items
; 1029 : 			else if ( lpObj->pChaosBox[n].m_Level == 13 )

  0271a	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  0271d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02723	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02726	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0272c	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  02731	83 f8 0d	 cmp	 eax, 13			; 0000000dH
  02734	75 11		 jne	 SHORT $LN87@PlusItemLe

; 1030 : 			{
; 1031 : 				Plus13ItemCount++;

  02736	8b 45 d0	 mov	 eax, DWORD PTR _Plus13ItemCount$[ebp]
  02739	83 c0 01	 add	 eax, 1
  0273c	89 45 d0	 mov	 DWORD PTR _Plus13ItemCount$[ebp], eax

; 1032 : 				PlusItemPos = n;

  0273f	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  02742	89 45 e0	 mov	 DWORD PTR _PlusItemPos$[ebp], eax
  02745	eb 36		 jmp	 SHORT $LN84@PlusItemLe
$LN87@PlusItemLe:

; 1033 : 			}
; 1034 : 			else if ( lpObj->pChaosBox[n].m_Level == 14 )

  02747	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  0274a	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02750	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02753	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02759	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  0275e	83 f8 0e	 cmp	 eax, 14			; 0000000eH
  02761	75 11		 jne	 SHORT $LN85@PlusItemLe

; 1035 : 			{
; 1036 : 				Plus14ItemCount++;

  02763	8b 45 cc	 mov	 eax, DWORD PTR _Plus14ItemCount$[ebp]
  02766	83 c0 01	 add	 eax, 1
  02769	89 45 cc	 mov	 DWORD PTR _Plus14ItemCount$[ebp], eax

; 1037 : 				PlusItemPos = n;

  0276c	8b 45 b0	 mov	 eax, DWORD PTR _n$235763[ebp]
  0276f	89 45 e0	 mov	 DWORD PTR _PlusItemPos$[ebp], eax

; 1038 : 			}
; 1039 : 			else

  02772	eb 09		 jmp	 SHORT $LN84@PlusItemLe
$LN85@PlusItemLe:

; 1040 : 			{
; 1041 : 				OtherItemFound ++;

  02774	8b 45 dc	 mov	 eax, DWORD PTR _OtherItemFound$[ebp]
  02777	83 c0 01	 add	 eax, 1
  0277a	89 45 dc	 mov	 DWORD PTR _OtherItemFound$[ebp], eax
$LN84@PlusItemLe:

; 1042 : 			}
; 1043 : 		}
; 1044 : 	}

  0277d	e9 b4 fd ff ff	 jmp	 $LN108@PlusItemLe
$LN107@PlusItemLe:

; 1045 : 
; 1046 : 	if ( iCharmOfLuckCount > 10 )

  02782	83 7d b8 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  02786	7e 62		 jle	 SHORT $LN83@PlusItemLe

; 1047 : 	{
; 1048 : 		PMSG_CHAOSMIXRESULT pResult;
; 1049 : 		PHeadSetB((LPBYTE)&pResult, 0x86, sizeof(pResult));

  02788	6a 10		 push	 16			; 00000010H
  0278a	68 86 00 00 00	 push	 134			; 00000086H
  0278f	8d 45 a0	 lea	 eax, DWORD PTR _pResult$235792[ebp]
  02792	50		 push	 eax
  02793	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  02798	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1050 : 		LogAddTD("[PlusItemLevel] [%s][%s] CBMix Charm of luck over 10% (%d)", lpObj->AccountID, lpObj->Name, iCharmOfLuckCount);

  0279b	8b 45 b8	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  0279e	50		 push	 eax
  0279f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  027a2	83 c1 77	 add	 ecx, 119		; 00000077H
  027a5	51		 push	 ecx
  027a6	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  027a9	83 c2 6c	 add	 edx, 108		; 0000006cH
  027ac	52		 push	 edx
  027ad	68 00 00 00 00	 push	 OFFSET ??_C@_0DL@KGOODEAG@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5C@
  027b2	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  027b8	83 c4 10	 add	 esp, 16			; 00000010H

; 1051 : 		pResult.Result = 0xF0;

  027bb	c6 45 a3 f0	 mov	 BYTE PTR _pResult$235792[ebp+3], 240 ; 000000f0H

; 1052 : 		DataSend(lpObj->m_Index, (LPBYTE)&pResult, pResult.h.size);

  027bf	0f b6 45 a1	 movzx	 eax, BYTE PTR _pResult$235792[ebp+1]
  027c3	50		 push	 eax
  027c4	8d 4d a0	 lea	 ecx, DWORD PTR _pResult$235792[ebp]
  027c7	51		 push	 ecx
  027c8	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  027cb	8b 02		 mov	 eax, DWORD PTR [edx]
  027cd	50		 push	 eax
  027ce	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  027d3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1053 : 		lpObj->ChaosLock = FALSE;

  027d6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  027d9	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1054 : 		return 0;

  027e3	33 c0		 xor	 eax, eax
  027e5	e9 18 0f 00 00	 jmp	 $LN110@PlusItemLe
$LN83@PlusItemLe:

; 1055 : 	}
; 1056 : 
; 1057 : 	if ( OtherItemFound != FALSE )

  027ea	83 7d dc 00	 cmp	 DWORD PTR _OtherItemFound$[ebp], 0
  027ee	74 07		 je	 SHORT $LN82@PlusItemLe

; 1058 : 	{
; 1059 : 		return FALSE;

  027f0	33 c0		 xor	 eax, eax
  027f2	e9 0b 0f 00 00	 jmp	 $LN110@PlusItemLe
$LN82@PlusItemLe:

; 1060 : 	}
; 1061 : 
; 1062 : 	if(iCharmOfAssemblyCount > 1)

  027f7	83 7d bc 01	 cmp	 DWORD PTR _iCharmOfAssemblyCount$[ebp], 1
  027fb	7e 42		 jle	 SHORT $LN81@PlusItemLe

; 1063 : 	{
; 1064 : 		PMSG_CHAOSMIXRESULT pResult;
; 1065 : 		PHeadSetB((LPBYTE)&pResult, 0x86, sizeof(pResult));

  027fd	6a 10		 push	 16			; 00000010H
  027ff	68 86 00 00 00	 push	 134			; 00000086H
  02804	8d 45 90	 lea	 eax, DWORD PTR _pResult$235798[ebp]
  02807	50		 push	 eax
  02808	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0280d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1066 : 		pResult.Result = CB_INCORRECT_MIX_ITEMS;

  02810	c6 45 93 07	 mov	 BYTE PTR _pResult$235798[ebp+3], 7

; 1067 : 		DataSend(lpObj->m_Index, (LPBYTE)&pResult, pResult.h.size);

  02814	0f b6 45 91	 movzx	 eax, BYTE PTR _pResult$235798[ebp+1]
  02818	50		 push	 eax
  02819	8d 4d 90	 lea	 ecx, DWORD PTR _pResult$235798[ebp]
  0281c	51		 push	 ecx
  0281d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02820	8b 02		 mov	 eax, DWORD PTR [edx]
  02822	50		 push	 eax
  02823	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  02828	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1068 : 		lpObj->ChaosLock = FALSE;

  0282b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0282e	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1069 : 		return 0;

  02838	33 c0		 xor	 eax, eax
  0283a	e9 c3 0e 00 00	 jmp	 $LN110@PlusItemLe
$LN81@PlusItemLe:

; 1070 : 	}
; 1071 : 
; 1072 : 	lpObj->ChaosMoney = 0;

  0283f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02842	c7 80 80 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3712], 0

; 1073 : 	int MixType = 0;

  0284c	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR _MixType$[ebp], 0

; 1074 : 
; 1075 : 	if ( Plus9ItemCount == 1 && ChaosGemCount == 1 && BlessGemCount == 1 && SoulGemCount == 1 && Plus10ItemCount == 0 && Plus11ItemCount == 0 && Plus12ItemCount == 0 )

  02853	83 7d e8 01	 cmp	 DWORD PTR _Plus9ItemCount$[ebp], 1
  02857	75 4f		 jne	 SHORT $LN80@PlusItemLe
  02859	83 7d f4 01	 cmp	 DWORD PTR _ChaosGemCount$[ebp], 1
  0285d	75 49		 jne	 SHORT $LN80@PlusItemLe
  0285f	83 7d f0 01	 cmp	 DWORD PTR _BlessGemCount$[ebp], 1
  02863	75 43		 jne	 SHORT $LN80@PlusItemLe
  02865	83 7d ec 01	 cmp	 DWORD PTR _SoulGemCount$[ebp], 1
  02869	75 3d		 jne	 SHORT $LN80@PlusItemLe
  0286b	83 7d e4 00	 cmp	 DWORD PTR _Plus10ItemCount$[ebp], 0
  0286f	75 37		 jne	 SHORT $LN80@PlusItemLe
  02871	83 7d d8 00	 cmp	 DWORD PTR _Plus11ItemCount$[ebp], 0
  02875	75 31		 jne	 SHORT $LN80@PlusItemLe
  02877	83 7d d4 00	 cmp	 DWORD PTR _Plus12ItemCount$[ebp], 0
  0287b	75 2b		 jne	 SHORT $LN80@PlusItemLe

; 1076 : 	{
; 1077 : 		MixType = 3;

  0287d	c7 45 8c 03 00
	00 00		 mov	 DWORD PTR _MixType$[ebp], 3

; 1078 : 		lpObj->ChaosMoney = 2000000;

  02884	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02887	c7 80 80 0e 00
	00 80 84 1e 00	 mov	 DWORD PTR [eax+3712], 2000000 ; 001e8480H

; 1079 : 		ExtraBlessGemCount = BlessGemCount - 1;

  02891	8b 45 f0	 mov	 eax, DWORD PTR _BlessGemCount$[ebp]
  02894	83 e8 01	 sub	 eax, 1
  02897	89 45 c4	 mov	 DWORD PTR _ExtraBlessGemCount$[ebp], eax

; 1080 : 		ExtraSoulGemCount = SoulGemCount - 1;

  0289a	8b 45 ec	 mov	 eax, DWORD PTR _SoulGemCount$[ebp]
  0289d	83 e8 01	 sub	 eax, 1
  028a0	89 45 c0	 mov	 DWORD PTR _ExtraSoulGemCount$[ebp], eax
  028a3	e9 ad 01 00 00	 jmp	 $LN70@PlusItemLe
$LN80@PlusItemLe:

; 1081 : 	}
; 1082 : 	else if ( Plus10ItemCount == 1 && ChaosGemCount == 1 && BlessGemCount == 2 && SoulGemCount == 2 && Plus9ItemCount == 0 && Plus11ItemCount == 0 && Plus12ItemCount == 0 )

  028a8	83 7d e4 01	 cmp	 DWORD PTR _Plus10ItemCount$[ebp], 1
  028ac	75 4f		 jne	 SHORT $LN78@PlusItemLe
  028ae	83 7d f4 01	 cmp	 DWORD PTR _ChaosGemCount$[ebp], 1
  028b2	75 49		 jne	 SHORT $LN78@PlusItemLe
  028b4	83 7d f0 02	 cmp	 DWORD PTR _BlessGemCount$[ebp], 2
  028b8	75 43		 jne	 SHORT $LN78@PlusItemLe
  028ba	83 7d ec 02	 cmp	 DWORD PTR _SoulGemCount$[ebp], 2
  028be	75 3d		 jne	 SHORT $LN78@PlusItemLe
  028c0	83 7d e8 00	 cmp	 DWORD PTR _Plus9ItemCount$[ebp], 0
  028c4	75 37		 jne	 SHORT $LN78@PlusItemLe
  028c6	83 7d d8 00	 cmp	 DWORD PTR _Plus11ItemCount$[ebp], 0
  028ca	75 31		 jne	 SHORT $LN78@PlusItemLe
  028cc	83 7d d4 00	 cmp	 DWORD PTR _Plus12ItemCount$[ebp], 0
  028d0	75 2b		 jne	 SHORT $LN78@PlusItemLe

; 1083 : 	{
; 1084 : 		MixType = 4;

  028d2	c7 45 8c 04 00
	00 00		 mov	 DWORD PTR _MixType$[ebp], 4

; 1085 : 		lpObj->ChaosMoney = 4000000;

  028d9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  028dc	c7 80 80 0e 00
	00 00 09 3d 00	 mov	 DWORD PTR [eax+3712], 4000000 ; 003d0900H

; 1086 : 		ExtraBlessGemCount = BlessGemCount - 2;

  028e6	8b 45 f0	 mov	 eax, DWORD PTR _BlessGemCount$[ebp]
  028e9	83 e8 02	 sub	 eax, 2
  028ec	89 45 c4	 mov	 DWORD PTR _ExtraBlessGemCount$[ebp], eax

; 1087 : 		ExtraSoulGemCount = SoulGemCount - 2;

  028ef	8b 45 ec	 mov	 eax, DWORD PTR _SoulGemCount$[ebp]
  028f2	83 e8 02	 sub	 eax, 2
  028f5	89 45 c0	 mov	 DWORD PTR _ExtraSoulGemCount$[ebp], eax
  028f8	e9 58 01 00 00	 jmp	 $LN70@PlusItemLe
$LN78@PlusItemLe:

; 1088 : 	}
; 1089 : 	else if ( Plus11ItemCount == 1 && ChaosGemCount == 1 && BlessGemCount == 3 && SoulGemCount == 3 && Plus9ItemCount == 0 && Plus10ItemCount == 0 && Plus12ItemCount == 0 )

  028fd	83 7d d8 01	 cmp	 DWORD PTR _Plus11ItemCount$[ebp], 1
  02901	75 4f		 jne	 SHORT $LN76@PlusItemLe
  02903	83 7d f4 01	 cmp	 DWORD PTR _ChaosGemCount$[ebp], 1
  02907	75 49		 jne	 SHORT $LN76@PlusItemLe
  02909	83 7d f0 03	 cmp	 DWORD PTR _BlessGemCount$[ebp], 3
  0290d	75 43		 jne	 SHORT $LN76@PlusItemLe
  0290f	83 7d ec 03	 cmp	 DWORD PTR _SoulGemCount$[ebp], 3
  02913	75 3d		 jne	 SHORT $LN76@PlusItemLe
  02915	83 7d e8 00	 cmp	 DWORD PTR _Plus9ItemCount$[ebp], 0
  02919	75 37		 jne	 SHORT $LN76@PlusItemLe
  0291b	83 7d e4 00	 cmp	 DWORD PTR _Plus10ItemCount$[ebp], 0
  0291f	75 31		 jne	 SHORT $LN76@PlusItemLe
  02921	83 7d d4 00	 cmp	 DWORD PTR _Plus12ItemCount$[ebp], 0
  02925	75 2b		 jne	 SHORT $LN76@PlusItemLe

; 1090 : 	{
; 1091 : 		MixType = 22;

  02927	c7 45 8c 16 00
	00 00		 mov	 DWORD PTR _MixType$[ebp], 22 ; 00000016H

; 1092 : 		lpObj->ChaosMoney = 6000000;

  0292e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02931	c7 80 80 0e 00
	00 80 8d 5b 00	 mov	 DWORD PTR [eax+3712], 6000000 ; 005b8d80H

; 1093 : 		ExtraBlessGemCount = BlessGemCount - 3;

  0293b	8b 45 f0	 mov	 eax, DWORD PTR _BlessGemCount$[ebp]
  0293e	83 e8 03	 sub	 eax, 3
  02941	89 45 c4	 mov	 DWORD PTR _ExtraBlessGemCount$[ebp], eax

; 1094 : 		ExtraSoulGemCount = SoulGemCount - 3;

  02944	8b 45 ec	 mov	 eax, DWORD PTR _SoulGemCount$[ebp]
  02947	83 e8 03	 sub	 eax, 3
  0294a	89 45 c0	 mov	 DWORD PTR _ExtraSoulGemCount$[ebp], eax
  0294d	e9 03 01 00 00	 jmp	 $LN70@PlusItemLe
$LN76@PlusItemLe:

; 1095 : 	}
; 1096 : 	else if ( Plus12ItemCount == 1 && ChaosGemCount == 1 && BlessGemCount == 4 && SoulGemCount == 4 && Plus9ItemCount == 0 && Plus10ItemCount == 0 && Plus11ItemCount == 0 )

  02952	83 7d d4 01	 cmp	 DWORD PTR _Plus12ItemCount$[ebp], 1
  02956	75 4f		 jne	 SHORT $LN74@PlusItemLe
  02958	83 7d f4 01	 cmp	 DWORD PTR _ChaosGemCount$[ebp], 1
  0295c	75 49		 jne	 SHORT $LN74@PlusItemLe
  0295e	83 7d f0 04	 cmp	 DWORD PTR _BlessGemCount$[ebp], 4
  02962	75 43		 jne	 SHORT $LN74@PlusItemLe
  02964	83 7d ec 04	 cmp	 DWORD PTR _SoulGemCount$[ebp], 4
  02968	75 3d		 jne	 SHORT $LN74@PlusItemLe
  0296a	83 7d e8 00	 cmp	 DWORD PTR _Plus9ItemCount$[ebp], 0
  0296e	75 37		 jne	 SHORT $LN74@PlusItemLe
  02970	83 7d e4 00	 cmp	 DWORD PTR _Plus10ItemCount$[ebp], 0
  02974	75 31		 jne	 SHORT $LN74@PlusItemLe
  02976	83 7d d8 00	 cmp	 DWORD PTR _Plus11ItemCount$[ebp], 0
  0297a	75 2b		 jne	 SHORT $LN74@PlusItemLe

; 1097 : 	{
; 1098 : 		MixType = 23;

  0297c	c7 45 8c 17 00
	00 00		 mov	 DWORD PTR _MixType$[ebp], 23 ; 00000017H

; 1099 : 		lpObj->ChaosMoney = 8000000;

  02983	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02986	c7 80 80 0e 00
	00 00 12 7a 00	 mov	 DWORD PTR [eax+3712], 8000000 ; 007a1200H

; 1100 : 		ExtraBlessGemCount = BlessGemCount - 4;

  02990	8b 45 f0	 mov	 eax, DWORD PTR _BlessGemCount$[ebp]
  02993	83 e8 04	 sub	 eax, 4
  02996	89 45 c4	 mov	 DWORD PTR _ExtraBlessGemCount$[ebp], eax

; 1101 : 		ExtraSoulGemCount = SoulGemCount - 4;

  02999	8b 45 ec	 mov	 eax, DWORD PTR _SoulGemCount$[ebp]
  0299c	83 e8 04	 sub	 eax, 4
  0299f	89 45 c0	 mov	 DWORD PTR _ExtraSoulGemCount$[ebp], eax
  029a2	e9 ae 00 00 00	 jmp	 $LN70@PlusItemLe
$LN74@PlusItemLe:

; 1102 : 	}
; 1103 : 	//Season 5 +15 Items
; 1104 : 	else if ( Plus13ItemCount == 1 && ChaosGemCount == 1 && BlessGemCount == 5 && SoulGemCount == 5 && Plus9ItemCount == 0 && Plus10ItemCount == 0 && Plus11ItemCount == 0 && Plus14ItemCount == 0)

  029a7	83 7d d0 01	 cmp	 DWORD PTR _Plus13ItemCount$[ebp], 1
  029ab	75 52		 jne	 SHORT $LN72@PlusItemLe
  029ad	83 7d f4 01	 cmp	 DWORD PTR _ChaosGemCount$[ebp], 1
  029b1	75 4c		 jne	 SHORT $LN72@PlusItemLe
  029b3	83 7d f0 05	 cmp	 DWORD PTR _BlessGemCount$[ebp], 5
  029b7	75 46		 jne	 SHORT $LN72@PlusItemLe
  029b9	83 7d ec 05	 cmp	 DWORD PTR _SoulGemCount$[ebp], 5
  029bd	75 40		 jne	 SHORT $LN72@PlusItemLe
  029bf	83 7d e8 00	 cmp	 DWORD PTR _Plus9ItemCount$[ebp], 0
  029c3	75 3a		 jne	 SHORT $LN72@PlusItemLe
  029c5	83 7d e4 00	 cmp	 DWORD PTR _Plus10ItemCount$[ebp], 0
  029c9	75 34		 jne	 SHORT $LN72@PlusItemLe
  029cb	83 7d d8 00	 cmp	 DWORD PTR _Plus11ItemCount$[ebp], 0
  029cf	75 2e		 jne	 SHORT $LN72@PlusItemLe
  029d1	83 7d cc 00	 cmp	 DWORD PTR _Plus14ItemCount$[ebp], 0
  029d5	75 28		 jne	 SHORT $LN72@PlusItemLe

; 1105 : 	{
; 1106 : 		MixType = 49;

  029d7	c7 45 8c 31 00
	00 00		 mov	 DWORD PTR _MixType$[ebp], 49 ; 00000031H

; 1107 : 		lpObj->ChaosMoney = 10000000;

  029de	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  029e1	c7 80 80 0e 00
	00 80 96 98 00	 mov	 DWORD PTR [eax+3712], 10000000 ; 00989680H

; 1108 : 		ExtraBlessGemCount = BlessGemCount - 5;

  029eb	8b 45 f0	 mov	 eax, DWORD PTR _BlessGemCount$[ebp]
  029ee	83 e8 05	 sub	 eax, 5
  029f1	89 45 c4	 mov	 DWORD PTR _ExtraBlessGemCount$[ebp], eax

; 1109 : 		ExtraSoulGemCount = SoulGemCount - 5;

  029f4	8b 45 ec	 mov	 eax, DWORD PTR _SoulGemCount$[ebp]
  029f7	83 e8 05	 sub	 eax, 5
  029fa	89 45 c0	 mov	 DWORD PTR _ExtraSoulGemCount$[ebp], eax
  029fd	eb 56		 jmp	 SHORT $LN70@PlusItemLe
$LN72@PlusItemLe:

; 1110 : 	}
; 1111 : 	else if ( Plus14ItemCount == 1 && ChaosGemCount == 1 && BlessGemCount == 6 && SoulGemCount == 6 && Plus9ItemCount == 0 && Plus10ItemCount == 0 && Plus11ItemCount == 0 && Plus15ItemCount == 0)

  029ff	83 7d cc 01	 cmp	 DWORD PTR _Plus14ItemCount$[ebp], 1
  02a03	75 50		 jne	 SHORT $LN70@PlusItemLe
  02a05	83 7d f4 01	 cmp	 DWORD PTR _ChaosGemCount$[ebp], 1
  02a09	75 4a		 jne	 SHORT $LN70@PlusItemLe
  02a0b	83 7d f0 06	 cmp	 DWORD PTR _BlessGemCount$[ebp], 6
  02a0f	75 44		 jne	 SHORT $LN70@PlusItemLe
  02a11	83 7d ec 06	 cmp	 DWORD PTR _SoulGemCount$[ebp], 6
  02a15	75 3e		 jne	 SHORT $LN70@PlusItemLe
  02a17	83 7d e8 00	 cmp	 DWORD PTR _Plus9ItemCount$[ebp], 0
  02a1b	75 38		 jne	 SHORT $LN70@PlusItemLe
  02a1d	83 7d e4 00	 cmp	 DWORD PTR _Plus10ItemCount$[ebp], 0
  02a21	75 32		 jne	 SHORT $LN70@PlusItemLe
  02a23	83 7d d8 00	 cmp	 DWORD PTR _Plus11ItemCount$[ebp], 0
  02a27	75 2c		 jne	 SHORT $LN70@PlusItemLe
  02a29	83 7d c8 00	 cmp	 DWORD PTR _Plus15ItemCount$[ebp], 0
  02a2d	75 26		 jne	 SHORT $LN70@PlusItemLe

; 1112 : 	{
; 1113 : 		MixType = 50;

  02a2f	c7 45 8c 32 00
	00 00		 mov	 DWORD PTR _MixType$[ebp], 50 ; 00000032H

; 1114 : 		lpObj->ChaosMoney = 12000000;

  02a36	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02a39	c7 80 80 0e 00
	00 00 1b b7 00	 mov	 DWORD PTR [eax+3712], 12000000 ; 00b71b00H

; 1115 : 		ExtraBlessGemCount = BlessGemCount - 6;

  02a43	8b 45 f0	 mov	 eax, DWORD PTR _BlessGemCount$[ebp]
  02a46	83 e8 06	 sub	 eax, 6
  02a49	89 45 c4	 mov	 DWORD PTR _ExtraBlessGemCount$[ebp], eax

; 1116 : 		ExtraSoulGemCount = SoulGemCount - 6;

  02a4c	8b 45 ec	 mov	 eax, DWORD PTR _SoulGemCount$[ebp]
  02a4f	83 e8 06	 sub	 eax, 6
  02a52	89 45 c0	 mov	 DWORD PTR _ExtraSoulGemCount$[ebp], eax
$LN70@PlusItemLe:

; 1117 : 	}
; 1118 : 
; 1119 : 	if ( MixType != mixType )

  02a55	8b 45 8c	 mov	 eax, DWORD PTR _MixType$[ebp]
  02a58	3b 45 0c	 cmp	 eax, DWORD PTR _mixType$[ebp]
  02a5b	74 07		 je	 SHORT $LN69@PlusItemLe

; 1120 : 	{
; 1121 : 		MixType = 0;

  02a5d	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR _MixType$[ebp], 0
$LN69@PlusItemLe:

; 1122 : 	}
; 1123 : 
; 1124 : 	if ( MixType == 0 )

  02a64	83 7d 8c 00	 cmp	 DWORD PTR _MixType$[ebp], 0
  02a68	75 07		 jne	 SHORT $LN68@PlusItemLe

; 1125 : 	{
; 1126 : 		return FALSE;

  02a6a	33 c0		 xor	 eax, eax
  02a6c	e9 91 0c 00 00	 jmp	 $LN110@PlusItemLe
$LN68@PlusItemLe:

; 1127 : 	}
; 1128 : 
; 1129 : 	PMSG_CHAOSMIXRESULT pMsg;
; 1130 : 
; 1131 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  02a71	6a 10		 push	 16			; 00000010H
  02a73	68 86 00 00 00	 push	 134			; 00000086H
  02a78	8d 85 7c ff ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  02a7e	50		 push	 eax
  02a7f	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  02a84	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1132 : 	pMsg.Result = CB_ERROR;

  02a87	c6 85 7f ff ff
	ff 00		 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 1133 : 	lpObj->ChaosLock = TRUE;

  02a8e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02a91	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 1134 : 	this->LogPlusItemLevelChaosItem(lpObj, MixType);

  02a9b	8b 45 8c	 mov	 eax, DWORD PTR _MixType$[ebp]
  02a9e	50		 push	 eax
  02a9f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02aa2	51		 push	 ecx
  02aa3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  02aa6	e8 00 00 00 00	 call	 ?LogPlusItemLevelChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@H@Z ; CMixSystem::LogPlusItemLevelChaosItem

; 1135 : 	LogAddTD("[PlusItemLevel] Chaos Mix Start");

  02aab	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@BGIGBHFB@?$FLPlusItemLevel?$FN?5Chaos?5Mix?5Start?$AA@
  02ab0	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  02ab6	83 c4 04	 add	 esp, 4

; 1136 : 
; 1137 : 	int iChaosTaxMoney = (int)((__int64)lpObj->ChaosMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  02ab9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02abc	8b 80 80 0e 00
	00		 mov	 eax, DWORD PTR [eax+3712]
  02ac2	99		 cdq
  02ac3	8b f0		 mov	 esi, eax
  02ac5	8b fa		 mov	 edi, edx
  02ac7	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02aca	8b 11		 mov	 edx, DWORD PTR [ecx]
  02acc	52		 push	 edx
  02acd	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  02ad2	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  02ad7	99		 cdq
  02ad8	52		 push	 edx
  02ad9	50		 push	 eax
  02ada	57		 push	 edi
  02adb	56		 push	 esi
  02adc	e8 00 00 00 00	 call	 __allmul
  02ae1	6a 00		 push	 0
  02ae3	6a 64		 push	 100			; 00000064H
  02ae5	52		 push	 edx
  02ae6	50		 push	 eax
  02ae7	e8 00 00 00 00	 call	 __alldiv
  02aec	89 85 78 ff ff
	ff		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 1138 : 
; 1139 : 	if ( iChaosTaxMoney < 0 )

  02af2	83 bd 78 ff ff
	ff 00		 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  02af9	7d 0a		 jge	 SHORT $LN67@PlusItemLe

; 1140 : 	{
; 1141 : 		iChaosTaxMoney = 0;

  02afb	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN67@PlusItemLe:

; 1142 : 	}
; 1143 : 
; 1144 : 	lpObj->ChaosMoney += iChaosTaxMoney;

  02b05	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02b08	8b 88 80 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3712]
  02b0e	03 8d 78 ff ff
	ff		 add	 ecx, DWORD PTR _iChaosTaxMoney$[ebp]
  02b14	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02b17	89 8a 80 0e 00
	00		 mov	 DWORD PTR [edx+3712], ecx

; 1145 : 
; 1146 : 	if ( lpObj->ChaosMoney < 0 )

  02b1d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02b20	83 b8 80 0e 00
	00 00		 cmp	 DWORD PTR [eax+3712], 0
  02b27	7d 0d		 jge	 SHORT $LN66@PlusItemLe

; 1147 : 	{
; 1148 : 		lpObj->ChaosMoney = 0;

  02b29	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02b2c	c7 80 80 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3712], 0
$LN66@PlusItemLe:

; 1149 : 	}
; 1150 : 
; 1151 : 	if ( lpObj->Money < lpObj->ChaosMoney )

  02b36	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02b39	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02b3c	8b 90 f0 00 00
	00		 mov	 edx, DWORD PTR [eax+240]
  02b42	3b 91 80 0e 00
	00		 cmp	 edx, DWORD PTR [ecx+3712]
  02b48	7d 6b		 jge	 SHORT $LN65@PlusItemLe

; 1152 : 	{
; 1153 : 		LogAddTD("[PlusItemLevel] [%s][%s] CBMix Not Enough Money [%d] need zen [%d]", lpObj->AccountID, lpObj->Name, lpObj->Money, lpObj->ChaosMoney);

  02b4a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02b4d	8b 88 80 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3712]
  02b53	51		 push	 ecx
  02b54	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02b57	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  02b5d	50		 push	 eax
  02b5e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02b61	83 c1 77	 add	 ecx, 119		; 00000077H
  02b64	51		 push	 ecx
  02b65	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02b68	83 c2 6c	 add	 edx, 108		; 0000006cH
  02b6b	52		 push	 edx
  02b6c	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@HJNGDDFB@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5N@
  02b71	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  02b77	83 c4 14	 add	 esp, 20			; 00000014H

; 1154 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  02b7a	c6 85 7f ff ff
	ff 02		 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 1155 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  02b81	0f b6 85 7d ff
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  02b88	50		 push	 eax
  02b89	8d 8d 7c ff ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  02b8f	51		 push	 ecx
  02b90	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02b93	8b 02		 mov	 eax, DWORD PTR [edx]
  02b95	50		 push	 eax
  02b96	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  02b9b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1156 : 		lpObj->ChaosLock = FALSE;

  02b9e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02ba1	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1157 : 		return TRUE;

  02bab	b8 01 00 00 00	 mov	 eax, 1
  02bb0	e9 4d 0b 00 00	 jmp	 $LN110@PlusItemLe
$LN65@PlusItemLe:

; 1158 : 	}
; 1159 : 
; 1160 : 	lpObj->Money -= lpObj->ChaosMoney;

  02bb5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02bb8	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02bbb	8b 90 f0 00 00
	00		 mov	 edx, DWORD PTR [eax+240]
  02bc1	2b 91 80 0e 00
	00		 sub	 edx, DWORD PTR [ecx+3712]
  02bc7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02bca	89 90 f0 00 00
	00		 mov	 DWORD PTR [eax+240], edx

; 1161 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  02bd0	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  02bd6	50		 push	 eax
  02bd7	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  02bdc	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 1162 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  02be1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02be4	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  02bea	51		 push	 ecx
  02beb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02bee	8b 02		 mov	 eax, DWORD PTR [edx]
  02bf0	50		 push	 eax
  02bf1	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  02bf6	83 c4 08	 add	 esp, 8

; 1163 : 
; 1164 : 	BYTE btMixLevel = 0; //season4.5 add-on (local31 ebp7c)

  02bf9	c6 85 77 ff ff
	ff 00		 mov	 BYTE PTR _btMixLevel$[ebp], 0

; 1165 : 	if( lpObj->pChaosBox[PlusItemPos].IsExtItem() == 1 ||
; 1166 : 		lpObj->pChaosBox[PlusItemPos].IsSetItem() == 1 ||
; 1167 : 		g_kItemSystemFor380.Is380Item(&lpObj->pChaosBox[PlusItemPos]) == 1)

  02c00	8b 4d e0	 mov	 ecx, DWORD PTR _PlusItemPos$[ebp]
  02c03	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  02c09	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02c0c	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  02c12	e8 00 00 00 00	 call	 ?IsExtItem@CItem@@QAEHXZ ; CItem::IsExtItem
  02c17	83 f8 01	 cmp	 eax, 1
  02c1a	74 3e		 je	 SHORT $LN63@PlusItemLe
  02c1c	8b 4d e0	 mov	 ecx, DWORD PTR _PlusItemPos$[ebp]
  02c1f	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  02c25	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02c28	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  02c2e	e8 00 00 00 00	 call	 ?IsSetItem@CItem@@QAEHXZ ; CItem::IsSetItem
  02c33	83 f8 01	 cmp	 eax, 1
  02c36	74 22		 je	 SHORT $LN63@PlusItemLe
  02c38	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  02c3b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02c41	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02c44	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  02c4a	50		 push	 eax
  02c4b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_kItemSystemFor380@@3VCItemSystemFor380@@A ; g_kItemSystemFor380
  02c50	e8 00 00 00 00	 call	 ?Is380Item@CItemSystemFor380@@QAEHPBVCItem@@@Z ; CItemSystemFor380::Is380Item
  02c55	83 f8 01	 cmp	 eax, 1
  02c58	75 09		 jne	 SHORT $LN64@PlusItemLe
$LN63@PlusItemLe:

; 1168 : 	{
; 1169 : 		btMixLevel = 2;

  02c5a	c6 85 77 ff ff
	ff 02		 mov	 BYTE PTR _btMixLevel$[ebp], 2

; 1170 : 	}
; 1171 : 	else

  02c61	eb 07		 jmp	 SHORT $LN62@PlusItemLe
$LN64@PlusItemLe:

; 1172 : 	{
; 1173 : 		btMixLevel = 1;

  02c63	c6 85 77 ff ff
	ff 01		 mov	 BYTE PTR _btMixLevel$[ebp], 1
$LN62@PlusItemLe:

; 1174 : 	}
; 1175 : 
; 1176 : 	//season4.5 add-on
; 1177 : 	if(g_SocketOption.IsSocketOption(&lpObj->pChaosBox[PlusItemPos]) == 1)

  02c6a	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  02c6d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02c73	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02c76	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  02c7c	50		 push	 eax
  02c7d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  02c82	e8 00 00 00 00	 call	 ?IsSocketOption@CSocketOption@@QAEEPAVCItem@@@Z ; CSocketOption::IsSocketOption
  02c87	0f b6 d0	 movzx	 edx, al
  02c8a	83 fa 01	 cmp	 edx, 1
  02c8d	75 07		 jne	 SHORT $LN61@PlusItemLe

; 1178 : 	{
; 1179 : 		btMixLevel = 3;

  02c8f	c6 85 77 ff ff
	ff 03		 mov	 BYTE PTR _btMixLevel$[ebp], 3
$LN61@PlusItemLe:

; 1180 : 	}
; 1181 : 
; 1182 : 	//season4.5 add-on
; 1183 : 	if( (lpObj->pChaosBox[PlusItemPos].m_Type >= ITEMGET(12,0) && lpObj->pChaosBox[PlusItemPos].m_Type <= ITEMGET(12,6)) || 
; 1184 : 		(lpObj->pChaosBox[PlusItemPos].m_Type >= ITEMGET(12,36) && lpObj->pChaosBox[PlusItemPos].m_Type <= ITEMGET(12,43)) || 
; 1185 : 		lpObj->pChaosBox[PlusItemPos].m_Type == ITEMGET(13,30))

  02c96	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  02c99	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02c9f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02ca2	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02ca8	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02cad	3d 00 18 00 00	 cmp	 eax, 6144		; 00001800H
  02cb2	7c 1e		 jl	 SHORT $LN58@PlusItemLe
  02cb4	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  02cb7	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02cbd	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02cc0	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02cc6	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02ccb	3d 06 18 00 00	 cmp	 eax, 6150		; 00001806H
  02cd0	7e 5a		 jle	 SHORT $LN59@PlusItemLe
$LN58@PlusItemLe:
  02cd2	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  02cd5	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02cdb	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02cde	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02ce4	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02ce9	3d 24 18 00 00	 cmp	 eax, 6180		; 00001824H
  02cee	7c 1e		 jl	 SHORT $LN57@PlusItemLe
  02cf0	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  02cf3	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02cf9	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02cfc	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02d02	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02d07	3d 2b 18 00 00	 cmp	 eax, 6187		; 0000182bH
  02d0c	7e 1e		 jle	 SHORT $LN59@PlusItemLe
$LN57@PlusItemLe:
  02d0e	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  02d11	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02d17	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02d1a	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02d20	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02d25	3d 1e 1a 00 00	 cmp	 eax, 6686		; 00001a1eH
  02d2a	75 07		 jne	 SHORT $LN60@PlusItemLe
$LN59@PlusItemLe:

; 1186 : 	{
; 1187 : 		btMixLevel = 1;

  02d2c	c6 85 77 ff ff
	ff 01		 mov	 BYTE PTR _btMixLevel$[ebp], 1
$LN60@PlusItemLe:

; 1188 : 	}
; 1189 : 
; 1190 : #ifdef NEWWINGS_2_5
; 1191 : 	if( IS_NEWWINGS_2_5(lpObj->pChaosBox[PlusItemPos].m_Type) )

  02d33	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  02d36	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02d3c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02d3f	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02d45	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02d4a	3d ba 18 00 00	 cmp	 eax, 6330		; 000018baH
  02d4f	7d 0c		 jge	 SHORT $LN112@PlusItemLe
  02d51	c7 85 48 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv429[ebp], 0
  02d5b	eb 28		 jmp	 SHORT $LN113@PlusItemLe
$LN112@PlusItemLe:
  02d5d	8b 4d e0	 mov	 ecx, DWORD PTR _PlusItemPos$[ebp]
  02d60	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  02d66	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02d69	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  02d6f	0f bf 4c 08 06	 movsx	 ecx, WORD PTR [eax+ecx+6]
  02d74	33 d2		 xor	 edx, edx
  02d76	81 f9 bc 18 00
	00		 cmp	 ecx, 6332		; 000018bcH
  02d7c	0f 9e c2	 setle	 dl
  02d7f	89 95 48 fe ff
	ff		 mov	 DWORD PTR tv429[ebp], edx
$LN113@PlusItemLe:
  02d85	83 bd 48 fe ff
	ff 00		 cmp	 DWORD PTR tv429[ebp], 0
  02d8c	74 07		 je	 SHORT $LN56@PlusItemLe

; 1192 : 	{
; 1193 : 		btMixLevel = 1;

  02d8e	c6 85 77 ff ff
	ff 01		 mov	 BYTE PTR _btMixLevel$[ebp], 1
$LN56@PlusItemLe:

; 1194 : 	}
; 1195 : #endif
; 1196 : 
; 1197 : #ifdef NEWWINGS_4
; 1198 : 	if( IS_NEWWINGS_4(lpObj->pChaosBox[PlusItemPos].m_Type) )

  02d95	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  02d98	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02d9e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02da1	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02da7	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02dac	3d b4 18 00 00	 cmp	 eax, 6324		; 000018b4H
  02db1	7d 0c		 jge	 SHORT $LN114@PlusItemLe
  02db3	c7 85 48 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv444[ebp], 0
  02dbd	eb 28		 jmp	 SHORT $LN115@PlusItemLe
$LN114@PlusItemLe:
  02dbf	8b 4d e0	 mov	 ecx, DWORD PTR _PlusItemPos$[ebp]
  02dc2	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  02dc8	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02dcb	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  02dd1	0f bf 4c 08 06	 movsx	 ecx, WORD PTR [eax+ecx+6]
  02dd6	33 d2		 xor	 edx, edx
  02dd8	81 f9 b9 18 00
	00		 cmp	 ecx, 6329		; 000018b9H
  02dde	0f 9e c2	 setle	 dl
  02de1	89 95 48 fe ff
	ff		 mov	 DWORD PTR tv444[ebp], edx
$LN115@PlusItemLe:
  02de7	83 bd 48 fe ff
	ff 00		 cmp	 DWORD PTR tv444[ebp], 0
  02dee	74 07		 je	 SHORT $LN55@PlusItemLe

; 1199 : 	{
; 1200 : 		btMixLevel = 1;

  02df0	c6 85 77 ff ff
	ff 01		 mov	 BYTE PTR _btMixLevel$[ebp], 1
$LN55@PlusItemLe:

; 1201 : 	}
; 1202 : #endif
; 1203 : 
; 1204 : #ifdef NEWWINGS_5
; 1205 : 	if( IS_NEWWINGS_5(lpObj->pChaosBox[PlusItemPos].m_Type) )

  02df7	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  02dfa	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02e00	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02e03	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02e09	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02e0e	3d bd 18 00 00	 cmp	 eax, 6333		; 000018bdH
  02e13	7d 0c		 jge	 SHORT $LN116@PlusItemLe
  02e15	c7 85 48 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv459[ebp], 0
  02e1f	eb 28		 jmp	 SHORT $LN117@PlusItemLe
$LN116@PlusItemLe:
  02e21	8b 4d e0	 mov	 ecx, DWORD PTR _PlusItemPos$[ebp]
  02e24	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  02e2a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02e2d	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  02e33	0f bf 4c 08 06	 movsx	 ecx, WORD PTR [eax+ecx+6]
  02e38	33 d2		 xor	 edx, edx
  02e3a	81 f9 c2 18 00
	00		 cmp	 ecx, 6338		; 000018c2H
  02e40	0f 9e c2	 setle	 dl
  02e43	89 95 48 fe ff
	ff		 mov	 DWORD PTR tv459[ebp], edx
$LN117@PlusItemLe:
  02e49	83 bd 48 fe ff
	ff 00		 cmp	 DWORD PTR tv459[ebp], 0
  02e50	74 07		 je	 SHORT $LN54@PlusItemLe

; 1206 : 	{
; 1207 : 		btMixLevel = 1;

  02e52	c6 85 77 ff ff
	ff 01		 mov	 BYTE PTR _btMixLevel$[ebp], 1
$LN54@PlusItemLe:

; 1208 : 	}
; 1209 : #endif
; 1210 : #ifdef NEWWINGS_6
; 1211 : 	if( IS_NEWWINGS_6(lpObj->pChaosBox[PlusItemPos].m_Type) )

  02e59	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  02e5c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02e62	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02e65	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02e6b	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  02e70	3d c3 18 00 00	 cmp	 eax, 6339		; 000018c3H
  02e75	7d 0c		 jge	 SHORT $LN118@PlusItemLe
  02e77	c7 85 48 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv474[ebp], 0
  02e81	eb 28		 jmp	 SHORT $LN119@PlusItemLe
$LN118@PlusItemLe:
  02e83	8b 4d e0	 mov	 ecx, DWORD PTR _PlusItemPos$[ebp]
  02e86	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  02e8c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  02e8f	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  02e95	0f bf 4c 08 06	 movsx	 ecx, WORD PTR [eax+ecx+6]
  02e9a	33 d2		 xor	 edx, edx
  02e9c	81 f9 dc 18 00
	00		 cmp	 ecx, 6364		; 000018dcH
  02ea2	0f 9e c2	 setle	 dl
  02ea5	89 95 48 fe ff
	ff		 mov	 DWORD PTR tv474[ebp], edx
$LN119@PlusItemLe:
  02eab	83 bd 48 fe ff
	ff 00		 cmp	 DWORD PTR tv474[ebp], 0
  02eb2	74 07		 je	 SHORT $LN53@PlusItemLe

; 1212 : 	{
; 1213 : 		btMixLevel = 1;

  02eb4	c6 85 77 ff ff
	ff 01		 mov	 BYTE PTR _btMixLevel$[ebp], 1
$LN53@PlusItemLe:

; 1214 : 	}
; 1215 : #endif
; 1216 : 	if ( lpObj->pChaosBox[PlusItemPos].m_Level == 9 )

  02ebb	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  02ebe	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02ec4	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02ec7	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02ecd	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  02ed2	83 f8 09	 cmp	 eax, 9
  02ed5	75 5a		 jne	 SHORT $LN52@PlusItemLe

; 1217 : 	{
; 1218 : 		if(btMixLevel == 1) //season4.5 add-on

  02ed7	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  02ede	83 f8 01	 cmp	 eax, 1
  02ee1	75 11		 jne	 SHORT $LN51@PlusItemLe

; 1219 : 		{
; 1220 : 			//int ExMixNormal10SuccessRate = GetPrivateProfileInt("ChaosMix","MixNormal10SuccessRate",60,"..\\Data\\ExData\\CommonServer.ini");
; 1221 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMixNormal10SuccessRate;

  02ee3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02ee6	8b 0d 2c 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+44
  02eec	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
  02ef2	eb 38		 jmp	 SHORT $LN47@PlusItemLe
$LN51@PlusItemLe:

; 1222 : 		}
; 1223 : 		else if(btMixLevel == 2) //season4.5 add-on

  02ef4	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  02efb	83 f8 02	 cmp	 eax, 2
  02efe	75 11		 jne	 SHORT $LN49@PlusItemLe

; 1224 : 		{
; 1225 : 			//int ExMix380AncExc10SuccessRate = GetPrivateProfileInt("ChaosMix","Mix380AncExc10SuccessRate",50,"..\\Data\\ExData\\CommonServer.ini");
; 1226 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMix380AncExc10SuccessRate;

  02f00	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02f03	8b 0d 30 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+48
  02f09	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
  02f0f	eb 1b		 jmp	 SHORT $LN47@PlusItemLe
$LN49@PlusItemLe:

; 1227 : 		}
; 1228 : 		else if(btMixLevel == 3) //season4.5 add-on

  02f11	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  02f18	83 f8 03	 cmp	 eax, 3
  02f1b	75 0f		 jne	 SHORT $LN47@PlusItemLe

; 1229 : 		{
; 1230 : 			//int ExMixSocket10SuccessRate = GetPrivateProfileInt("ChaosMix","MixSocket10SuccessRate",40,"..\\Data\\ExData\\CommonServer.ini");
; 1231 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMixSocket10SuccessRate;

  02f1d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02f20	8b 0d 34 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+52
  02f26	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
$LN47@PlusItemLe:

; 1232 : 		}
; 1233 : 	}

  02f2c	e9 58 02 00 00	 jmp	 $LN11@PlusItemLe
$LN52@PlusItemLe:

; 1234 : 	else if ( lpObj->pChaosBox[PlusItemPos].m_Level == 10) //season4 changed

  02f31	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  02f34	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02f3a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02f3d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02f43	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  02f48	83 f8 0a	 cmp	 eax, 10			; 0000000aH
  02f4b	75 5a		 jne	 SHORT $LN45@PlusItemLe

; 1235 : 	{
; 1236 : 		if(btMixLevel == 1) //season4.5 add-on

  02f4d	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  02f54	83 f8 01	 cmp	 eax, 1
  02f57	75 11		 jne	 SHORT $LN44@PlusItemLe

; 1237 : 		{
; 1238 : 			//int ExMixNormal11SuccessRate = GetPrivateProfileInt("ChaosMix","MixNormal11SuccessRate",60,"..\\Data\\ExData\\CommonServer.ini");
; 1239 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMixNormal11SuccessRate;

  02f59	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02f5c	8b 0d 38 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+56
  02f62	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
  02f68	eb 38		 jmp	 SHORT $LN40@PlusItemLe
$LN44@PlusItemLe:

; 1240 : 		}
; 1241 : 		else if(btMixLevel == 2) //season4.5 add-on

  02f6a	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  02f71	83 f8 02	 cmp	 eax, 2
  02f74	75 11		 jne	 SHORT $LN42@PlusItemLe

; 1242 : 		{
; 1243 : 			//int ExMix380AncExc11SuccessRate = GetPrivateProfileInt("ChaosMix","Mix380AncExc11SuccessRate",50,"..\\Data\\ExData\\CommonServer.ini");
; 1244 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMix380AncExc11SuccessRate;

  02f76	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02f79	8b 0d 3c 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+60
  02f7f	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
  02f85	eb 1b		 jmp	 SHORT $LN40@PlusItemLe
$LN42@PlusItemLe:

; 1245 : 		}
; 1246 : 		else if(btMixLevel == 3) //season4.5 add-on

  02f87	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  02f8e	83 f8 03	 cmp	 eax, 3
  02f91	75 0f		 jne	 SHORT $LN40@PlusItemLe

; 1247 : 		{
; 1248 : 			//int ExMixSocket11SuccessRate = GetPrivateProfileInt("ChaosMix","MixSocket11SuccessRate",40,"..\\Data\\ExData\\CommonServer.ini");
; 1249 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMixSocket11SuccessRate;

  02f93	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02f96	8b 0d 40 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+64
  02f9c	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
$LN40@PlusItemLe:

; 1250 : 		}
; 1251 : 	}

  02fa2	e9 e2 01 00 00	 jmp	 $LN11@PlusItemLe
$LN45@PlusItemLe:

; 1252 : 	else if (lpObj->pChaosBox[PlusItemPos].m_Level == 11) //season4 changed

  02fa7	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  02faa	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  02fb0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  02fb3	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  02fb9	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  02fbe	83 f8 0b	 cmp	 eax, 11			; 0000000bH
  02fc1	75 5a		 jne	 SHORT $LN38@PlusItemLe

; 1253 : 	{
; 1254 : 		if(btMixLevel == 1) //season4.5 add-on

  02fc3	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  02fca	83 f8 01	 cmp	 eax, 1
  02fcd	75 11		 jne	 SHORT $LN37@PlusItemLe

; 1255 : 		{
; 1256 : 			//int ExMixNormal12SuccessRate = GetPrivateProfileInt("ChaosMix","MixNormal12SuccessRate",60,"..\\Data\\ExData\\CommonServer.ini");
; 1257 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMixNormal12SuccessRate;

  02fcf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02fd2	8b 0d 44 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+68
  02fd8	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
  02fde	eb 38		 jmp	 SHORT $LN33@PlusItemLe
$LN37@PlusItemLe:

; 1258 : 		}
; 1259 : 		else if(btMixLevel == 2) //season4.5 add-on

  02fe0	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  02fe7	83 f8 02	 cmp	 eax, 2
  02fea	75 11		 jne	 SHORT $LN35@PlusItemLe

; 1260 : 		{
; 1261 : 			//int ExMix380AncExc12SuccessRate = GetPrivateProfileInt("ChaosMix","Mix380AncExc12SuccessRate",50,"..\\Data\\ExData\\CommonServer.ini");
; 1262 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMix380AncExc12SuccessRate;

  02fec	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  02fef	8b 0d 48 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+72
  02ff5	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
  02ffb	eb 1b		 jmp	 SHORT $LN33@PlusItemLe
$LN35@PlusItemLe:

; 1263 : 		}
; 1264 : 		else if(btMixLevel == 3) //season4.5 add-on

  02ffd	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  03004	83 f8 03	 cmp	 eax, 3
  03007	75 0f		 jne	 SHORT $LN33@PlusItemLe

; 1265 : 		{
; 1266 : 			//int ExMixSocket12SuccessRate = GetPrivateProfileInt("ChaosMix","MixSocket12SuccessRate",40,"..\\Data\\ExData\\CommonServer.ini");
; 1267 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMixSocket12SuccessRate;

  03009	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0300c	8b 0d 4c 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+76
  03012	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
$LN33@PlusItemLe:

; 1268 : 		}
; 1269 : 	}

  03018	e9 6c 01 00 00	 jmp	 $LN11@PlusItemLe
$LN38@PlusItemLe:

; 1270 : 	else if ( lpObj->pChaosBox[PlusItemPos].m_Level == 12) //season4 changed

  0301d	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  03020	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  03026	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03029	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0302f	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  03034	83 f8 0c	 cmp	 eax, 12			; 0000000cH
  03037	75 5a		 jne	 SHORT $LN31@PlusItemLe

; 1271 : 	{
; 1272 : 		if(btMixLevel == 1) //season4.5 add-on

  03039	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  03040	83 f8 01	 cmp	 eax, 1
  03043	75 11		 jne	 SHORT $LN30@PlusItemLe

; 1273 : 		{
; 1274 : 			//int ExMixNormal13SuccessRate = GetPrivateProfileInt("ChaosMix","MixNormal13SuccessRate",55,"..\\Data\\ExData\\CommonServer.ini");
; 1275 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMixNormal13SuccessRate;

  03045	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03048	8b 0d 50 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+80
  0304e	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
  03054	eb 38		 jmp	 SHORT $LN26@PlusItemLe
$LN30@PlusItemLe:

; 1276 : 		}
; 1277 : 		else if(btMixLevel == 2) //season4.5 add-on

  03056	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  0305d	83 f8 02	 cmp	 eax, 2
  03060	75 11		 jne	 SHORT $LN28@PlusItemLe

; 1278 : 		{
; 1279 : 			//int ExMix380AncExc13SuccessRate = GetPrivateProfileInt("ChaosMix","Mix380AncExc13SuccessRate",50,"..\\Data\\ExData\\CommonServer.ini");
; 1280 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMix380AncExc13SuccessRate;

  03062	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03065	8b 0d 54 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+84
  0306b	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
  03071	eb 1b		 jmp	 SHORT $LN26@PlusItemLe
$LN28@PlusItemLe:

; 1281 : 		}
; 1282 : 		else if(btMixLevel == 3) //season4.5 add-on

  03073	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  0307a	83 f8 03	 cmp	 eax, 3
  0307d	75 0f		 jne	 SHORT $LN26@PlusItemLe

; 1283 : 		{
; 1284 : 			//int ExMixSocket13SuccessRate = GetPrivateProfileInt("ChaosMix","MixSocket13SuccessRate",35,"..\\Data\\ExData\\CommonServer.ini");
; 1285 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMixSocket13SuccessRate;

  0307f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03082	8b 0d 58 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+88
  03088	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
$LN26@PlusItemLe:

; 1286 : 		}
; 1287 : 	}

  0308e	e9 f6 00 00 00	 jmp	 $LN11@PlusItemLe
$LN31@PlusItemLe:

; 1288 : 	else if ( lpObj->pChaosBox[PlusItemPos].m_Level == 13) //Season 5 +15 Items

  03093	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  03096	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0309c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0309f	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  030a5	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  030aa	83 f8 0d	 cmp	 eax, 13			; 0000000dH
  030ad	75 5a		 jne	 SHORT $LN24@PlusItemLe

; 1289 : 	{
; 1290 : 		if(btMixLevel == 1) 

  030af	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  030b6	83 f8 01	 cmp	 eax, 1
  030b9	75 11		 jne	 SHORT $LN23@PlusItemLe

; 1291 : 		{
; 1292 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMixNormal14SuccessRate;

  030bb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  030be	8b 0d 5c 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+92
  030c4	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
  030ca	eb 38		 jmp	 SHORT $LN19@PlusItemLe
$LN23@PlusItemLe:

; 1293 : 		}
; 1294 : 		else if(btMixLevel == 2)

  030cc	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  030d3	83 f8 02	 cmp	 eax, 2
  030d6	75 11		 jne	 SHORT $LN21@PlusItemLe

; 1295 : 		{
; 1296 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMix380AncExc14SuccessRate;

  030d8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  030db	8b 0d 60 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+96
  030e1	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
  030e7	eb 1b		 jmp	 SHORT $LN19@PlusItemLe
$LN21@PlusItemLe:

; 1297 : 		}
; 1298 : 		else if(btMixLevel == 3) 

  030e9	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  030f0	83 f8 03	 cmp	 eax, 3
  030f3	75 0f		 jne	 SHORT $LN19@PlusItemLe

; 1299 : 		{
; 1300 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMixSocket14SuccessRate;

  030f5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  030f8	8b 0d 64 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+100
  030fe	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
$LN19@PlusItemLe:

; 1301 : 		}
; 1302 : 	}

  03104	e9 80 00 00 00	 jmp	 $LN11@PlusItemLe
$LN24@PlusItemLe:

; 1303 : 	else if ( lpObj->pChaosBox[PlusItemPos].m_Level == 14) //Season 5 +15 Items

  03109	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  0310c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  03112	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03115	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0311b	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  03120	83 f8 0e	 cmp	 eax, 14			; 0000000eH
  03123	75 57		 jne	 SHORT $LN17@PlusItemLe

; 1304 : 	{
; 1305 : 		if(btMixLevel == 1) 

  03125	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  0312c	83 f8 01	 cmp	 eax, 1
  0312f	75 11		 jne	 SHORT $LN16@PlusItemLe

; 1306 : 		{
; 1307 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMixNormal15SuccessRate;

  03131	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03134	8b 0d 68 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+104
  0313a	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
  03140	eb 38		 jmp	 SHORT $LN12@PlusItemLe
$LN16@PlusItemLe:

; 1308 : 		}
; 1309 : 		else if(btMixLevel == 2)

  03142	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  03149	83 f8 02	 cmp	 eax, 2
  0314c	75 11		 jne	 SHORT $LN14@PlusItemLe

; 1310 : 		{
; 1311 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMix380AncExc15SuccessRate;

  0314e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03151	8b 0d 6c 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+108
  03157	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
  0315d	eb 1b		 jmp	 SHORT $LN12@PlusItemLe
$LN14@PlusItemLe:

; 1312 : 		}
; 1313 : 		else if(btMixLevel == 3) 

  0315f	0f b6 85 77 ff
	ff ff		 movzx	 eax, BYTE PTR _btMixLevel$[ebp]
  03166	83 f8 03	 cmp	 eax, 3
  03169	75 0f		 jne	 SHORT $LN12@PlusItemLe

; 1314 : 		{
; 1315 : 			lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMixSocket15SuccessRate;

  0316b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0316e	8b 0d 70 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+112
  03174	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
$LN12@PlusItemLe:

; 1316 : 		}
; 1317 : 	}
; 1318 : 	else

  0317a	eb 0d		 jmp	 SHORT $LN11@PlusItemLe
$LN17@PlusItemLe:

; 1319 : 	{
; 1320 : 		lpObj->ChaosSuccessRate = 45;

  0317c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0317f	c7 80 84 0e 00
	00 2d 00 00 00	 mov	 DWORD PTR [eax+3716], 45 ; 0000002dH
$LN11@PlusItemLe:

; 1321 : 	}
; 1322 : 
; 1323 : 	if(lpObj->pChaosBox[PlusItemPos].m_Option2 != 0) //season4.5 add-on

  03189	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  0318c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  03192	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03195	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0319b	0f b6 84 02 95
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+149]
  031a3	85 c0		 test	 eax, eax
  031a5	74 18		 je	 SHORT $LN10@PlusItemLe

; 1324 : 	{
; 1325 : 		//int ExMixLuckOptRateAdd = GetPrivateProfileInt("ChaosMix","MixLuckOptRateAdd",20,"..\\Data\\ExData\\CommonServer.ini");
; 1326 : 		lpObj->ChaosSuccessRate += ExConfig.CommonServer.ExMixLuckOptRateAdd;

  031a7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  031aa	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  031b0	03 0d 74 00 00
	00		 add	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+116
  031b6	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  031b9	89 8a 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], ecx
$LN10@PlusItemLe:

; 1327 : 	}
; 1328 : 
; 1329 : 	if ( lpObj->ChaosSuccessRate > ExConfig.CommonServer.ExMixMaxSuccessRate )

  031bf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  031c2	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  031c8	3b 0d 78 00 00
	00		 cmp	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+120
  031ce	7e 0f		 jle	 SHORT $LN9@PlusItemLe

; 1330 : 	{
; 1331 : 		//int ExMixMaxSuccessRate = GetPrivateProfileInt("ChaosMix","MixMaxSuccessRate",75,"..\\Data\\ExData\\CommonServer.ini");
; 1332 : 		lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExMixMaxSuccessRate;

  031d0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  031d3	8b 0d 78 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+120
  031d9	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
$LN9@PlusItemLe:

; 1333 : 	}
; 1334 : 
; 1335 : 	lpObj->ChaosSuccessRate += iCharmOfLuckCount;

  031df	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  031e2	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  031e8	03 4d b8	 add	 ecx, DWORD PTR _iCharmOfLuckCount$[ebp]
  031eb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  031ee	89 8a 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], ecx

; 1336 : 
; 1337 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  031f4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  031f7	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  031fd	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03200	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  03206	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03209	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 1338 : 
; 1339 : 	if ( (rand()%100) < lpObj->ChaosSuccessRate )

  0320f	e8 00 00 00 00	 call	 _rand
  03214	99		 cdq
  03215	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0321a	f7 f9		 idiv	 ecx
  0321c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0321f	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  03225	0f 8d 88 03 00
	00		 jge	 $LN8@PlusItemLe

; 1340 : 	{
; 1341 : 		lpObj->pChaosBox[PlusItemPos].m_Level++;

  0322b	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  0322e	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  03234	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03237	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0323d	66 8b 44 02 08	 mov	 ax, WORD PTR [edx+eax+8]
  03242	66 83 c0 01	 add	 ax, 1
  03246	8b 4d e0	 mov	 ecx, DWORD PTR _PlusItemPos$[ebp]
  03249	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0324f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03252	8b 92 78 0e 00
	00		 mov	 edx, DWORD PTR [edx+3704]
  03258	66 89 44 0a 08	 mov	 WORD PTR [edx+ecx+8], ax

; 1342 : 		pMsg.Result = CB_SUCCESS;

  0325d	c6 85 7f ff ff
	ff 01		 mov	 BYTE PTR _pMsg$[ebp+3], 1

; 1343 : 
; 1344 : 		CItem Item;

  03264	8d 8d a0 fe ff
	ff		 lea	 ecx, DWORD PTR _Item$235887[ebp]
  0326a	e8 00 00 00 00	 call	 ??0CItem@@QAE@XZ	; CItem::CItem

; 1345 : 
; 1346 : 		float Dur = (float)ItemGetDurability(lpObj->pChaosBox[PlusItemPos].m_Type, lpObj->pChaosBox[PlusItemPos].m_Level,
; 1347 : 			lpObj->pChaosBox[PlusItemPos].IsExtItem(), lpObj->pChaosBox[PlusItemPos].IsSetItem());

  0326f	8b 4d e0	 mov	 ecx, DWORD PTR _PlusItemPos$[ebp]
  03272	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  03278	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0327b	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  03281	e8 00 00 00 00	 call	 ?IsSetItem@CItem@@QAEHXZ ; CItem::IsSetItem
  03286	50		 push	 eax
  03287	8b 4d e0	 mov	 ecx, DWORD PTR _PlusItemPos$[ebp]
  0328a	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  03290	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03293	03 8a 78 0e 00
	00		 add	 ecx, DWORD PTR [edx+3704]
  03299	e8 00 00 00 00	 call	 ?IsExtItem@CItem@@QAEHXZ ; CItem::IsExtItem
  0329e	50		 push	 eax
  0329f	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  032a2	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  032a8	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  032ab	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  032b1	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  032b6	50		 push	 eax
  032b7	8b 4d e0	 mov	 ecx, DWORD PTR _PlusItemPos$[ebp]
  032ba	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  032c0	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  032c3	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  032c9	0f bf 4c 08 06	 movsx	 ecx, WORD PTR [eax+ecx+6]
  032ce	51		 push	 ecx
  032cf	e8 00 00 00 00	 call	 ?ItemGetDurability@@YAHHHHH@Z ; ItemGetDurability
  032d4	83 c4 10	 add	 esp, 16			; 00000010H
  032d7	89 85 48 fe ff
	ff		 mov	 DWORD PTR tv1189[ebp], eax
  032dd	db 85 48 fe ff
	ff		 fild	 DWORD PTR tv1189[ebp]
  032e3	d9 9d 9c fe ff
	ff		 fstp	 DWORD PTR _Dur$235888[ebp]

; 1348 : 
; 1349 : 		Item.m_Level = lpObj->pChaosBox[PlusItemPos].m_Level;

  032e9	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  032ec	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  032f2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  032f5	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  032fb	66 8b 44 02 08	 mov	 ax, WORD PTR [edx+eax+8]
  03300	66 89 85 a8 fe
	ff ff		 mov	 WORD PTR _Item$235887[ebp+8], ax

; 1350 : 		Item.m_Durability = Dur * lpObj->pChaosBox[PlusItemPos].m_Durability / lpObj->pChaosBox[PlusItemPos].m_BaseDurability;

  03307	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  0330a	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  03310	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03313	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  03319	d9 85 9c fe ff
	ff		 fld	 DWORD PTR _Dur$235888[ebp]
  0331f	d8 4c 02 24	 fmul	 DWORD PTR [edx+eax+36]
  03323	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  03326	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0332c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0332f	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  03335	d8 74 02 2c	 fdiv	 DWORD PTR [edx+eax+44]
  03339	d9 9d c4 fe ff
	ff		 fstp	 DWORD PTR _Item$235887[ebp+36]

; 1351 : 		Item.m_JewelOfHarmonyOption = lpObj->pChaosBox[PlusItemPos].m_JewelOfHarmonyOption;

  0333f	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  03342	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  03348	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0334b	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  03351	8a 84 02 c4 00
	00 00		 mov	 al, BYTE PTR [edx+eax+196]
  03358	88 85 64 ff ff
	ff		 mov	 BYTE PTR _Item$235887[ebp+196], al

; 1352 : 		
; 1353 : 		//season4 add-on
; 1354 : 		BYTE SocketOption[5];
; 1355 : 		BYTE SocketIndex;
; 1356 : 		g_SocketOption.GetActiveSocketOption(&lpObj->pChaosBox[PlusItemPos],SocketOption,SocketIndex);

  0335e	8d 85 93 fe ff
	ff		 lea	 eax, DWORD PTR _SocketIndex$235891[ebp]
  03364	50		 push	 eax
  03365	8d 8d 94 fe ff
	ff		 lea	 ecx, DWORD PTR _SocketOption$235890[ebp]
  0336b	51		 push	 ecx
  0336c	8b 55 e0	 mov	 edx, DWORD PTR _PlusItemPos$[ebp]
  0336f	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  03375	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03378	03 90 78 0e 00
	00		 add	 edx, DWORD PTR [eax+3704]
  0337e	52		 push	 edx
  0337f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  03384	e8 00 00 00 00	 call	 ?GetActiveSocketOption@CSocketOption@@QAEXPAVCItem@@PAEAAE@Z ; CSocketOption::GetActiveSocketOption

; 1357 : 
; 1358 : 		Item.Convert(lpObj->pChaosBox[PlusItemPos].m_Type, lpObj->pChaosBox[PlusItemPos].m_Option1, lpObj->pChaosBox[PlusItemPos].m_Option2,
; 1359 : 			lpObj->pChaosBox[PlusItemPos].m_Option3, lpObj->pChaosBox[PlusItemPos].m_NewOption, 
; 1360 : 			lpObj->pChaosBox[PlusItemPos].m_SetOption, lpObj->pChaosBox[PlusItemPos].m_ItemOptionEx, SocketOption, SocketIndex, 0, CURRENT_DB_VERSION);

  03389	6a 03		 push	 3
  0338b	6a 00		 push	 0
  0338d	0f b6 85 93 fe
	ff ff		 movzx	 eax, BYTE PTR _SocketIndex$235891[ebp]
  03394	50		 push	 eax
  03395	8d 8d 94 fe ff
	ff		 lea	 ecx, DWORD PTR _SocketOption$235890[ebp]
  0339b	51		 push	 ecx
  0339c	8b 55 e0	 mov	 edx, DWORD PTR _PlusItemPos$[ebp]
  0339f	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  033a5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  033a8	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  033ae	0f b6 94 11 ca
	00 00 00	 movzx	 edx, BYTE PTR [ecx+edx+202]
  033b6	52		 push	 edx
  033b7	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  033ba	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  033c0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  033c3	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  033c9	0f b6 84 02 ae
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+174]
  033d1	50		 push	 eax
  033d2	8b 4d e0	 mov	 ecx, DWORD PTR _PlusItemPos$[ebp]
  033d5	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  033db	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  033de	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  033e4	0f b6 8c 08 97
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+151]
  033ec	51		 push	 ecx
  033ed	8b 55 e0	 mov	 edx, DWORD PTR _PlusItemPos$[ebp]
  033f0	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  033f6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  033f9	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  033ff	0f b6 94 11 96
	00 00 00	 movzx	 edx, BYTE PTR [ecx+edx+150]
  03407	52		 push	 edx
  03408	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  0340b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  03411	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03414	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0341a	0f b6 84 02 95
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+149]
  03422	50		 push	 eax
  03423	8b 4d e0	 mov	 ecx, DWORD PTR _PlusItemPos$[ebp]
  03426	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0342c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0342f	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  03435	0f b6 8c 08 94
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+148]
  0343d	51		 push	 ecx
  0343e	8b 55 e0	 mov	 edx, DWORD PTR _PlusItemPos$[ebp]
  03441	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  03447	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0344a	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  03450	0f bf 54 11 06	 movsx	 edx, WORD PTR [ecx+edx+6]
  03455	52		 push	 edx
  03456	8d 8d a0 fe ff
	ff		 lea	 ecx, DWORD PTR _Item$235887[ebp]
  0345c	e8 00 00 00 00	 call	 ?Convert@CItem@@QAEXHEEEEEEPAEEEE@Z ; CItem::Convert

; 1361 : 
; 1362 : 		Item.m_Number = lpObj->pChaosBox[PlusItemPos].m_Number;

  03461	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  03464	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0346a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0346d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  03473	8b 04 10	 mov	 eax, DWORD PTR [eax+edx]
  03476	89 85 a0 fe ff
	ff		 mov	 DWORD PTR _Item$235887[ebp], eax

; 1363 : 
; 1364 : 		ItemByteConvert(pMsg.ItemInfo, Item);

  0347c	81 ec d4 00 00
	00		 sub	 esp, 212		; 000000d4H
  03482	b9 35 00 00 00	 mov	 ecx, 53			; 00000035H
  03487	8d b5 a0 fe ff
	ff		 lea	 esi, DWORD PTR _Item$235887[ebp]
  0348d	8b fc		 mov	 edi, esp
  0348f	f3 a5		 rep movsd
  03491	8d 45 80	 lea	 eax, DWORD PTR _pMsg$[ebp+4]
  03494	50		 push	 eax
  03495	e8 00 00 00 00	 call	 ?ItemByteConvert@@YAXPAEVCItem@@@Z ; ItemByteConvert
  0349a	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H

; 1365 : 		this->ChaosBoxInit(lpObj);

  034a0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  034a3	50		 push	 eax
  034a4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  034a7	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 1366 : 		::gObjChaosBoxInsertItemPos(lpObj->m_Index, Item, 0, -1);

  034ac	6a ff		 push	 -1
  034ae	6a 00		 push	 0
  034b0	81 ec d4 00 00
	00		 sub	 esp, 212		; 000000d4H
  034b6	b9 35 00 00 00	 mov	 ecx, 53			; 00000035H
  034bb	8d b5 a0 fe ff
	ff		 lea	 esi, DWORD PTR _Item$235887[ebp]
  034c1	8b fc		 mov	 edi, esp
  034c3	f3 a5		 rep movsd
  034c5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  034c8	8b 08		 mov	 ecx, DWORD PTR [eax]
  034ca	51		 push	 ecx
  034cb	e8 00 00 00 00	 call	 ?gObjChaosBoxInsertItemPos@@YAEHVCItem@@HH@Z ; gObjChaosBoxInsertItemPos
  034d0	81 c4 e0 00 00
	00		 add	 esp, 224		; 000000e0H

; 1367 : 		gObjChaosItemSet(lpObj->m_Index, 0, 1);

  034d6	6a 01		 push	 1
  034d8	6a 00		 push	 0
  034da	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  034dd	8b 08		 mov	 ecx, DWORD PTR [eax]
  034df	51		 push	 ecx
  034e0	e8 00 00 00 00	 call	 ?gObjChaosItemSet@@YAXHHE@Z ; gObjChaosItemSet
  034e5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1368 : 
; 1369 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  034e8	0f b6 85 7d ff
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  034ef	50		 push	 eax
  034f0	8d 8d 7c ff ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  034f6	51		 push	 ecx
  034f7	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  034fa	8b 02		 mov	 eax, DWORD PTR [edx]
  034fc	50		 push	 eax
  034fd	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03502	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1370 : 
; 1371 : 		if ( btItemLuckValue )

  03505	0f b6 45 b7	 movzx	 eax, BYTE PTR _btItemLuckValue$[ebp]
  03509	85 c0		 test	 eax, eax
  0350b	74 4b		 je	 SHORT $LN7@PlusItemLe

; 1372 : 		{
; 1373 : 			LogAddTD("[PlusItemLevel] [%s][%s] CBMix Success %d Money : %d-%d [%d], CharmRate : %d",
; 1374 : 				lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate+5, lpObj->Money,
; 1375 : 				lpObj->ChaosMoney, Item.m_Level, iCharmOfLuckCount);

  0350d	8b 45 b8	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  03510	50		 push	 eax
  03511	0f bf 8d a8 fe
	ff ff		 movsx	 ecx, WORD PTR _Item$235887[ebp+8]
  03518	51		 push	 ecx
  03519	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0351c	8b 82 80 0e 00
	00		 mov	 eax, DWORD PTR [edx+3712]
  03522	50		 push	 eax
  03523	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03526	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  0352c	52		 push	 edx
  0352d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03530	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  03536	83 c1 05	 add	 ecx, 5
  03539	51		 push	 ecx
  0353a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0353d	83 c2 77	 add	 edx, 119		; 00000077H
  03540	52		 push	 edx
  03541	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03544	83 c0 6c	 add	 eax, 108		; 0000006cH
  03547	50		 push	 eax
  03548	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@NDGFLPHI@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@
  0354d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  03553	83 c4 20	 add	 esp, 32			; 00000020H

; 1376 : 		}
; 1377 : 		else

  03556	eb 46		 jmp	 SHORT $LN6@PlusItemLe
$LN7@PlusItemLe:

; 1378 : 		{
; 1379 : 			LogAddTD("[PlusItemLevel] [%s][%s] CBMix Success %d Money : %d-%d [%d], CharmRate : %d",
; 1380 : 				lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money,
; 1381 : 				lpObj->ChaosMoney, Item.m_Level, iCharmOfLuckCount);

  03558	8b 45 b8	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  0355b	50		 push	 eax
  0355c	0f bf 8d a8 fe
	ff ff		 movsx	 ecx, WORD PTR _Item$235887[ebp+8]
  03563	51		 push	 ecx
  03564	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03567	8b 82 80 0e 00
	00		 mov	 eax, DWORD PTR [edx+3712]
  0356d	50		 push	 eax
  0356e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03571	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  03577	52		 push	 edx
  03578	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0357b	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  03581	51		 push	 ecx
  03582	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03585	83 c2 77	 add	 edx, 119		; 00000077H
  03588	52		 push	 edx
  03589	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0358c	83 c0 6c	 add	 eax, 108		; 0000006cH
  0358f	50		 push	 eax
  03590	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@NDGFLPHI@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@
  03595	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0359b	83 c4 20	 add	 esp, 32			; 00000020H
$LN6@PlusItemLe:

; 1382 : 		}
; 1383 : #if(SYSTEM_ACHIEVEMENTS)
; 1384 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  0359e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  035a1	8b 08		 mov	 ecx, DWORD PTR [eax]
  035a3	51		 push	 ecx
  035a4	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  035a9	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 1385 : #endif
; 1386 : 	}
; 1387 : 	else

  035ae	e9 3d 01 00 00	 jmp	 $LN5@PlusItemLe
$LN8@PlusItemLe:

; 1388 : 	{
; 1389 : 		int FailLevel = lpObj->pChaosBox[PlusItemPos].m_Level+1;

  035b3	8b 45 e0	 mov	 eax, DWORD PTR _PlusItemPos$[ebp]
  035b6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  035bc	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  035bf	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  035c5	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  035ca	83 c0 01	 add	 eax, 1
  035cd	89 85 8c fe ff
	ff		 mov	 DWORD PTR _FailLevel$235897[ebp], eax

; 1390 : 
; 1391 : 		if(iCharmOfAssemblyCount != 0)

  035d3	83 7d bc 00	 cmp	 DWORD PTR _iCharmOfAssemblyCount$[ebp], 0
  035d7	74 39		 je	 SHORT $LN4@PlusItemLe

; 1392 : 		{
; 1393 : 			this->BreakItemOption(lpObj);

  035d9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  035dc	50		 push	 eax
  035dd	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  035e0	e8 00 00 00 00	 call	 ?BreakItemOption@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::BreakItemOption

; 1394 : 			GCUserChaosBoxSend(lpObj, 0);

  035e5	6a 00		 push	 0
  035e7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  035ea	50		 push	 eax
  035eb	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  035f0	83 c4 08	 add	 esp, 8

; 1395 : 			DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  035f3	0f b6 85 7d ff
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  035fa	50		 push	 eax
  035fb	8d 8d 7c ff ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  03601	51		 push	 ecx
  03602	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03605	8b 02		 mov	 eax, DWORD PTR [edx]
  03607	50		 push	 eax
  03608	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0360d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1396 : 		}
; 1397 : 		else

  03610	eb 37		 jmp	 SHORT $LN3@PlusItemLe
$LN4@PlusItemLe:

; 1398 : 		{
; 1399 : 			this->ChaosBoxInit(lpObj);

  03612	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03615	50		 push	 eax
  03616	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  03619	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 1400 : 			GCUserChaosBoxSend(lpObj, 0);

  0361e	6a 00		 push	 0
  03620	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03623	50		 push	 eax
  03624	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  03629	83 c4 08	 add	 esp, 8

; 1401 : 			DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0362c	0f b6 85 7d ff
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  03633	50		 push	 eax
  03634	8d 8d 7c ff ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0363a	51		 push	 ecx
  0363b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0363e	8b 02		 mov	 eax, DWORD PTR [edx]
  03640	50		 push	 eax
  03641	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03646	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN3@PlusItemLe:

; 1402 : 		}
; 1403 : 
; 1404 : 		if ( btItemLuckValue )

  03649	0f b6 45 b7	 movzx	 eax, BYTE PTR _btItemLuckValue$[ebp]
  0364d	85 c0		 test	 eax, eax
  0364f	74 4a		 je	 SHORT $LN2@PlusItemLe

; 1405 : 		{
; 1406 : 			LogAddTD("[PlusItemLevel] [%s][%s] CBMix Fail %d Money : %d-%d [%d], CharmRate : %d",
; 1407 : 				lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate+5, lpObj->Money,
; 1408 : 				lpObj->ChaosMoney, FailLevel, iCharmOfLuckCount);

  03651	8b 45 b8	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  03654	50		 push	 eax
  03655	8b 8d 8c fe ff
	ff		 mov	 ecx, DWORD PTR _FailLevel$235897[ebp]
  0365b	51		 push	 ecx
  0365c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0365f	8b 82 80 0e 00
	00		 mov	 eax, DWORD PTR [edx+3712]
  03665	50		 push	 eax
  03666	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03669	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  0366f	52		 push	 edx
  03670	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03673	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  03679	83 c1 05	 add	 ecx, 5
  0367c	51		 push	 ecx
  0367d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03680	83 c2 77	 add	 edx, 119		; 00000077H
  03683	52		 push	 edx
  03684	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03687	83 c0 6c	 add	 eax, 108		; 0000006cH
  0368a	50		 push	 eax
  0368b	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@JJBHLEGP@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@
  03690	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  03696	83 c4 20	 add	 esp, 32			; 00000020H

; 1409 : 		}
; 1410 : 		else

  03699	eb 45		 jmp	 SHORT $LN1@PlusItemLe
$LN2@PlusItemLe:

; 1411 : 		{
; 1412 : 			LogAddTD("[PlusItemLevel] [%s][%s] CBMix Fail %d Money : %d-%d [%d], CharmRate : %d",
; 1413 : 				lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money,
; 1414 : 				lpObj->ChaosMoney, FailLevel, iCharmOfLuckCount);

  0369b	8b 45 b8	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  0369e	50		 push	 eax
  0369f	8b 8d 8c fe ff
	ff		 mov	 ecx, DWORD PTR _FailLevel$235897[ebp]
  036a5	51		 push	 ecx
  036a6	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  036a9	8b 82 80 0e 00
	00		 mov	 eax, DWORD PTR [edx+3712]
  036af	50		 push	 eax
  036b0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  036b3	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  036b9	52		 push	 edx
  036ba	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  036bd	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  036c3	51		 push	 ecx
  036c4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  036c7	83 c2 77	 add	 edx, 119		; 00000077H
  036ca	52		 push	 edx
  036cb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  036ce	83 c0 6c	 add	 eax, 108		; 0000006cH
  036d1	50		 push	 eax
  036d2	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@JJBHLEGP@?$FLPlusItemLevel?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@
  036d7	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  036dd	83 c4 20	 add	 esp, 32			; 00000020H
$LN1@PlusItemLe:

; 1415 : 		}
; 1416 : #if(SYSTEM_ACHIEVEMENTS)
; 1417 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  036e0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  036e3	8b 08		 mov	 ecx, DWORD PTR [eax]
  036e5	51		 push	 ecx
  036e6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  036eb	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN5@PlusItemLe:

; 1418 : #endif
; 1419 : 	}
; 1420 : 
; 1421 : 	lpObj->ChaosLock = FALSE;

  036f0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  036f3	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1422 : 	return TRUE;

  036fd	b8 01 00 00 00	 mov	 eax, 1
$LN110@PlusItemLe:

; 1423 : }

  03702	5f		 pop	 edi
  03703	5e		 pop	 esi
  03704	5b		 pop	 ebx
  03705	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  03708	33 cd		 xor	 ecx, ebp
  0370a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0370f	8b e5		 mov	 esp, ebp
  03711	5d		 pop	 ebp
  03712	c2 08 00	 ret	 8
?PlusItemLevelChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@H@Z ENDP ; CMixSystem::PlusItemLevelChaosMix
_TEXT	ENDS
PUBLIC	?IsMixPossibleItem@CMixSystem@@QAEHH@Z		; CMixSystem::IsMixPossibleItem
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_iItemCode$235914 = -12					; size = 4
_n$235909 = -8						; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
?BreakItemOption@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::BreakItemOption
; _this$ = ecx

; 1427 : {

  03720	55		 push	 ebp
  03721	8b ec		 mov	 ebp, esp
  03723	83 ec 4c	 sub	 esp, 76			; 0000004cH
  03726	53		 push	 ebx
  03727	56		 push	 esi
  03728	57		 push	 edi
  03729	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1428 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  0372c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _n$235909[ebp], 0
  03733	eb 09		 jmp	 SHORT $LN5@BreakItemO
$LN4@BreakItemO:
  03735	8b 45 f8	 mov	 eax, DWORD PTR _n$235909[ebp]
  03738	83 c0 01	 add	 eax, 1
  0373b	89 45 f8	 mov	 DWORD PTR _n$235909[ebp], eax
$LN5@BreakItemO:
  0373e	83 7d f8 20	 cmp	 DWORD PTR _n$235909[ebp], 32 ; 00000020H
  03742	0f 8d 8c 00 00
	00		 jge	 $LN6@BreakItemO

; 1429 : 	{
; 1430 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  03748	8b 4d f8	 mov	 ecx, DWORD PTR _n$235909[ebp]
  0374b	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  03751	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03754	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0375a	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0375f	83 f8 01	 cmp	 eax, 1
  03762	75 6b		 jne	 SHORT $LN2@BreakItemO

; 1431 : 		{
; 1432 : 			lpObj->pChaosBox[n].m_Level = 0;

  03764	8b 45 f8	 mov	 eax, DWORD PTR _n$235909[ebp]
  03767	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0376d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03770	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  03776	33 c9		 xor	 ecx, ecx
  03778	66 89 4c 02 08	 mov	 WORD PTR [edx+eax+8], cx

; 1433 : 
; 1434 : 			int iItemCode = lpObj->pChaosBox[n].m_Type;

  0377d	8b 45 f8	 mov	 eax, DWORD PTR _n$235909[ebp]
  03780	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  03786	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03789	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0378f	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  03794	89 45 f4	 mov	 DWORD PTR _iItemCode$235914[ebp], eax

; 1435 : 
; 1436 : 			if(this->IsMixPossibleItem(iItemCode) == TRUE)

  03797	8b 45 f4	 mov	 eax, DWORD PTR _iItemCode$235914[ebp]
  0379a	50		 push	 eax
  0379b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0379e	e8 00 00 00 00	 call	 ?IsMixPossibleItem@CMixSystem@@QAEHH@Z ; CMixSystem::IsMixPossibleItem
  037a3	83 f8 01	 cmp	 eax, 1
  037a6	75 27		 jne	 SHORT $LN2@BreakItemO

; 1437 : 			{
; 1438 : 				lpObj->pChaosBox[n].Clear();

  037a8	8b 4d f8	 mov	 ecx, DWORD PTR _n$235909[ebp]
  037ab	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  037b1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  037b4	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  037ba	e8 00 00 00 00	 call	 ?Clear@CItem@@QAEXXZ	; CItem::Clear

; 1439 : 				lpObj->pChaosBoxMap[n] = -1;

  037bf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  037c2	8b 88 7c 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3708]
  037c8	8b 55 f8	 mov	 edx, DWORD PTR _n$235909[ebp]
  037cb	c6 04 11 ff	 mov	 BYTE PTR [ecx+edx], 255	; 000000ffH
$LN2@BreakItemO:

; 1440 : 			}
; 1441 : 		}
; 1442 : 	}

  037cf	e9 61 ff ff ff	 jmp	 $LN4@BreakItemO
$LN6@BreakItemO:

; 1443 : }

  037d4	5f		 pop	 edi
  037d5	5e		 pop	 esi
  037d6	5b		 pop	 ebx
  037d7	8b e5		 mov	 esp, ebp
  037d9	5d		 pop	 ebp
  037da	c2 04 00	 ret	 4
?BreakItemOption@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::BreakItemOption
; Function compile flags: /Odtp /ZI
tv64 = -72						; size = 4
_this$ = -4						; size = 4
_iItemCode$ = 8						; size = 4
?IsMixPossibleItem@CMixSystem@@QAEHH@Z PROC		; CMixSystem::IsMixPossibleItem
; _this$ = ecx

; 1446 : {

  037e0	55		 push	 ebp
  037e1	8b ec		 mov	 ebp, esp
  037e3	83 ec 48	 sub	 esp, 72			; 00000048H
  037e6	53		 push	 ebx
  037e7	56		 push	 esi
  037e8	57		 push	 edi
  037e9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1447 : 	switch(iItemCode)

  037ec	8b 45 08	 mov	 eax, DWORD PTR _iItemCode$[ebp]
  037ef	89 45 b8	 mov	 DWORD PTR tv64[ebp], eax
  037f2	81 7d b8 35 1c
	00 00		 cmp	 DWORD PTR tv64[ebp], 7221 ; 00001c35H
  037f9	7f 26		 jg	 SHORT $LN6@IsMixPossi
  037fb	81 7d b8 35 1c
	00 00		 cmp	 DWORD PTR tv64[ebp], 7221 ; 00001c35H
  03802	74 28		 je	 SHORT $LN1@IsMixPossi
  03804	81 7d b8 0f 18
	00 00		 cmp	 DWORD PTR tv64[ebp], 6159 ; 0000180fH
  0380b	74 1f		 je	 SHORT $LN1@IsMixPossi
  0380d	81 7d b8 0c 1c
	00 00		 cmp	 DWORD PTR tv64[ebp], 7180 ; 00001c0cH
  03814	7e 1d		 jle	 SHORT $LN2@IsMixPossi
  03816	81 7d b8 0e 1c
	00 00		 cmp	 DWORD PTR tv64[ebp], 7182 ; 00001c0eH
  0381d	7e 0d		 jle	 SHORT $LN1@IsMixPossi
  0381f	eb 12		 jmp	 SHORT $LN2@IsMixPossi
$LN6@IsMixPossi:
  03821	81 7d b8 60 1c
	00 00		 cmp	 DWORD PTR tv64[ebp], 7264 ; 00001c60H
  03828	74 02		 je	 SHORT $LN1@IsMixPossi
  0382a	eb 07		 jmp	 SHORT $LN2@IsMixPossi
$LN1@IsMixPossi:

; 1448 : 	{
; 1449 : 	case ITEMGET(14,53):
; 1450 : 	case ITEMGET(12,15):
; 1451 : 	case ITEMGET(14,13):
; 1452 : 	case ITEMGET(14,14):
; 1453 : 	case ITEMGET(14,96):
; 1454 : 		return TRUE;

  0382c	b8 01 00 00 00	 mov	 eax, 1
  03831	eb 02		 jmp	 SHORT $LN4@IsMixPossi
$LN2@IsMixPossi:

; 1455 : 	}
; 1456 : 
; 1457 : 	return FALSE;

  03833	33 c0		 xor	 eax, eax
$LN4@IsMixPossi:

; 1458 : }

  03835	5f		 pop	 edi
  03836	5e		 pop	 esi
  03837	5b		 pop	 ebx
  03838	8b e5		 mov	 esp, ebp
  0383a	5d		 pop	 ebp
  0383b	c2 04 00	 ret	 4
?IsMixPossibleItem@CMixSystem@@QAEHH@Z ENDP		; CMixSystem::IsMixPossibleItem
_TEXT	ENDS
PUBLIC	??_C@_0ED@JKKAJEKA@?$FLDinorantMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fai@ ; `string'
PUBLIC	??_C@_0EG@BMPMHKIC@?$FLDinorantMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Suc@ ; `string'
PUBLIC	??_C@_0BO@BKFHPCAO@?$FLDinorantMix?$FN?5Chaos?5Mix?5Start?$AA@ ; `string'
PUBLIC	??_C@_0M@OEKEBNDM@DinorantMix?$AA@		; `string'
PUBLIC	__real@406fe00000000000
PUBLIC	__$ArrayPad$
PUBLIC	?PegasiaChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::PegasiaChaosMix
;	COMDAT ??_C@_0ED@JKKAJEKA@?$FLDinorantMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fai@
CONST	SEGMENT
??_C@_0ED@JKKAJEKA@?$FLDinorantMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fai@ DB '['
	DB	'DinorantMix] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate '
	DB	': %d', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0EG@BMPMHKIC@?$FLDinorantMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Suc@
CONST	SEGMENT
??_C@_0EG@BMPMHKIC@?$FLDinorantMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Suc@ DB '['
	DB	'DinorantMix] [%s][%s] CBMix Success %d Money : %d-%d, CharmRa'
	DB	'te : %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BO@BKFHPCAO@?$FLDinorantMix?$FN?5Chaos?5Mix?5Start?$AA@
CONST	SEGMENT
??_C@_0BO@BKFHPCAO@?$FLDinorantMix?$FN?5Chaos?5Mix?5Start?$AA@ DB '[Dinor'
	DB	'antMix] Chaos Mix Start', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@OEKEBNDM@DinorantMix?$AA@
CONST	SEGMENT
??_C@_0M@OEKEBNDM@DinorantMix?$AA@ DB 'DinorantMix', 00H ; `string'
CONST	ENDS
;	COMDAT __real@406fe00000000000
CONST	SEGMENT
__real@406fe00000000000 DQ 0406fe00000000000r	; 255
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_Option3$235964 = -56					; size = 4
_Dinorant$235963 = -52					; size = 4
_iChaosTaxMoney$ = -48					; size = 4
_nChaosNeedMoney$ = -44					; size = 4
_pMsg$ = -40						; size = 16
_n$235932 = -24						; size = 4
_iCharmOfLuckCount$ = -20				; size = 4
_ChoasGemCount$ = -16					; size = 4
_UniriaCount$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?PegasiaChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::PegasiaChaosMix
; _this$ = ecx

; 1462 : {

  03840	55		 push	 ebp
  03841	8b ec		 mov	 ebp, esp
  03843	83 ec 78	 sub	 esp, 120		; 00000078H
  03846	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0384b	33 c5		 xor	 eax, ebp
  0384d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03850	53		 push	 ebx
  03851	56		 push	 esi
  03852	57		 push	 edi
  03853	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1463 : 	lpObj->ChaosLock = TRUE;

  03856	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03859	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 1464 : 	int UniriaCount = 0;

  03863	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _UniriaCount$[ebp], 0

; 1465 : 	int ChoasGemCount = 0;

  0386a	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _ChoasGemCount$[ebp], 0

; 1466 : 	int iCharmOfLuckCount = 0;

  03871	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 1467 : 
; 1468 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  03878	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _n$235932[ebp], 0
  0387f	eb 09		 jmp	 SHORT $LN19@PegasiaCha
$LN18@PegasiaCha:
  03881	8b 45 e8	 mov	 eax, DWORD PTR _n$235932[ebp]
  03884	83 c0 01	 add	 eax, 1
  03887	89 45 e8	 mov	 DWORD PTR _n$235932[ebp], eax
$LN19@PegasiaCha:
  0388a	83 7d e8 20	 cmp	 DWORD PTR _n$235932[ebp], 32 ; 00000020H
  0388e	0f 8d db 00 00
	00		 jge	 $LN17@PegasiaCha

; 1469 : 	{
; 1470 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  03894	8b 4d e8	 mov	 ecx, DWORD PTR _n$235932[ebp]
  03897	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0389d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  038a0	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  038a6	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  038ab	83 f8 01	 cmp	 eax, 1
  038ae	0f 85 b6 00 00
	00		 jne	 $LN11@PegasiaCha

; 1471 : 		{
; 1472 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(13,2) && lpObj->pChaosBox[n].m_Durability == 255.0f )	// Uniria

  038b4	8b 45 e8	 mov	 eax, DWORD PTR _n$235932[ebp]
  038b7	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  038bd	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  038c0	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  038c6	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  038cb	3d 02 1a 00 00	 cmp	 eax, 6658		; 00001a02H
  038d0	75 30		 jne	 SHORT $LN15@PegasiaCha
  038d2	8b 45 e8	 mov	 eax, DWORD PTR _n$235932[ebp]
  038d5	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  038db	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  038de	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  038e4	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  038e8	dd 05 00 00 00
	00		 fld	 QWORD PTR __real@406fe00000000000
  038ee	da e9		 fucompp
  038f0	df e0		 fnstsw	 ax
  038f2	f6 c4 44	 test	 ah, 68			; 00000044H
  038f5	7a 0b		 jp	 SHORT $LN15@PegasiaCha

; 1473 : 			{
; 1474 : 				UniriaCount++;

  038f7	8b 45 f4	 mov	 eax, DWORD PTR _UniriaCount$[ebp]
  038fa	83 c0 01	 add	 eax, 1
  038fd	89 45 f4	 mov	 DWORD PTR _UniriaCount$[ebp], eax
  03900	eb 68		 jmp	 SHORT $LN11@PegasiaCha
$LN15@PegasiaCha:

; 1475 : 			}
; 1476 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) ) // Chaos Gem

  03902	8b 45 e8	 mov	 eax, DWORD PTR _n$235932[ebp]
  03905	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0390b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0390e	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  03914	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  03919	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  0391e	75 0b		 jne	 SHORT $LN13@PegasiaCha

; 1477 : 			{
; 1478 : 				ChoasGemCount++;

  03920	8b 45 f0	 mov	 eax, DWORD PTR _ChoasGemCount$[ebp]
  03923	83 c0 01	 add	 eax, 1
  03926	89 45 f0	 mov	 DWORD PTR _ChoasGemCount$[ebp], eax
  03929	eb 3f		 jmp	 SHORT $LN11@PegasiaCha
$LN13@PegasiaCha:

; 1479 : 			}
; 1480 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )	// Charm Of Luck

  0392b	8b 45 e8	 mov	 eax, DWORD PTR _n$235932[ebp]
  0392e	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  03934	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03937	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0393d	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  03942	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  03947	75 21		 jne	 SHORT $LN11@PegasiaCha

; 1481 : 			{
; 1482 : 				iCharmOfLuckCount += (int)lpObj->pChaosBox[n].m_Durability;

  03949	8b 45 e8	 mov	 eax, DWORD PTR _n$235932[ebp]
  0394c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  03952	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03955	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0395b	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  0395f	e8 00 00 00 00	 call	 __ftol2_sse
  03964	03 45 ec	 add	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  03967	89 45 ec	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], eax
$LN11@PegasiaCha:

; 1483 : 			}
; 1484 : 		}
; 1485 : 	}

  0396a	e9 12 ff ff ff	 jmp	 $LN18@PegasiaCha
$LN17@PegasiaCha:

; 1486 : 
; 1487 : 	if ( UniriaCount != 10 || ChoasGemCount != 1 )

  0396f	83 7d f4 0a	 cmp	 DWORD PTR _UniriaCount$[ebp], 10 ; 0000000aH
  03973	75 06		 jne	 SHORT $LN9@PegasiaCha
  03975	83 7d f0 01	 cmp	 DWORD PTR _ChoasGemCount$[ebp], 1
  03979	74 14		 je	 SHORT $LN10@PegasiaCha
$LN9@PegasiaCha:

; 1488 : 	{
; 1489 : 		lpObj->ChaosLock = FALSE;

  0397b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0397e	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1490 : 		return FALSE;

  03988	33 c0		 xor	 eax, eax
  0398a	e9 37 03 00 00	 jmp	 $LN1@PegasiaCha
$LN10@PegasiaCha:

; 1491 : 	}
; 1492 : 
; 1493 : 	PMSG_CHAOSMIXRESULT pMsg;
; 1494 : 
; 1495 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0398f	6a 10		 push	 16			; 00000010H
  03991	68 86 00 00 00	 push	 134			; 00000086H
  03996	8d 45 d8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  03999	50		 push	 eax
  0399a	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0399f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1496 : 	pMsg.Result = CB_ERROR;

  039a2	c6 45 db 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 1497 : 
; 1498 : 	if ( iCharmOfLuckCount > 10 )

  039a6	83 7d ec 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  039aa	7e 2f		 jle	 SHORT $LN8@PegasiaCha

; 1499 : 	{
; 1500 : 		lpObj->ChaosLock = FALSE;

  039ac	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  039af	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1501 : 		pMsg.Result = 0xF0;

  039b9	c6 45 db f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 1502 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  039bd	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  039c1	50		 push	 eax
  039c2	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  039c5	51		 push	 ecx
  039c6	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  039c9	8b 02		 mov	 eax, DWORD PTR [edx]
  039cb	50		 push	 eax
  039cc	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  039d1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1503 : 
; 1504 : 		return 0;

  039d4	33 c0		 xor	 eax, eax
  039d6	e9 eb 02 00 00	 jmp	 $LN1@PegasiaCha
$LN8@PegasiaCha:

; 1505 : 	}
; 1506 : 
; 1507 : 	int nChaosNeedMoney = 500000;

  039db	c7 45 d4 20 a1
	07 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 500000 ; 0007a120H

; 1508 : 	int iChaosTaxMoney = (int)((__int64)nChaosNeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  039e2	8b 45 d4	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  039e5	99		 cdq
  039e6	8b f0		 mov	 esi, eax
  039e8	8b fa		 mov	 edi, edx
  039ea	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  039ed	8b 08		 mov	 ecx, DWORD PTR [eax]
  039ef	51		 push	 ecx
  039f0	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  039f5	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  039fa	99		 cdq
  039fb	52		 push	 edx
  039fc	50		 push	 eax
  039fd	57		 push	 edi
  039fe	56		 push	 esi
  039ff	e8 00 00 00 00	 call	 __allmul
  03a04	6a 00		 push	 0
  03a06	6a 64		 push	 100			; 00000064H
  03a08	52		 push	 edx
  03a09	50		 push	 eax
  03a0a	e8 00 00 00 00	 call	 __alldiv
  03a0f	89 45 d0	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 1509 : 
; 1510 : 		nChaosNeedMoney += lpObj->m_AddMixMoney;

  03a12	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a15	8b 4d d4	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  03a18	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  03a1e	89 4d d4	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 1511 : 
; 1512 : 	if ( iChaosTaxMoney < 0 )

  03a21	83 7d d0 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  03a25	7d 07		 jge	 SHORT $LN7@PegasiaCha

; 1513 : 	{
; 1514 : 		iChaosTaxMoney = 0;

  03a27	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN7@PegasiaCha:

; 1515 : 	}
; 1516 : 
; 1517 : 	nChaosNeedMoney += iChaosTaxMoney;

  03a2e	8b 45 d4	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  03a31	03 45 d0	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  03a34	89 45 d4	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], eax

; 1518 : 
; 1519 : 	if ( nChaosNeedMoney < 0 )

  03a37	79 07		 jns	 SHORT $LN6@PegasiaCha

; 1520 : 	{
; 1521 : 		nChaosNeedMoney = 0;

  03a39	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0
$LN6@PegasiaCha:

; 1522 : 	}
; 1523 : 
; 1524 : 	if ( lpObj->Money < nChaosNeedMoney )

  03a40	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a43	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  03a49	3b 4d d4	 cmp	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  03a4c	7d 3f		 jge	 SHORT $LN5@PegasiaCha

; 1525 : 	{
; 1526 : 		lpObj->ChaosLock = FALSE;

  03a4e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a51	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1527 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  03a5b	c6 45 db 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 1528 : 		
; 1529 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  03a5f	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  03a63	50		 push	 eax
  03a64	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  03a67	51		 push	 ecx
  03a68	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03a6b	8b 02		 mov	 eax, DWORD PTR [edx]
  03a6d	50		 push	 eax
  03a6e	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03a73	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1530 : 		lpObj->ChaosLock = FALSE;

  03a76	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a79	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1531 : 
; 1532 : 		return TRUE;

  03a83	b8 01 00 00 00	 mov	 eax, 1
  03a88	e9 39 02 00 00	 jmp	 $LN1@PegasiaCha
$LN5@PegasiaCha:

; 1533 : 	}
; 1534 : 
; 1535 : 	LogChaosItem(lpObj, "DinorantMix");

  03a8d	68 00 00 00 00	 push	 OFFSET ??_C@_0M@OEKEBNDM@DinorantMix?$AA@
  03a92	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03a95	50		 push	 eax
  03a96	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  03a99	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 1536 : 	LogAddTD("[DinorantMix] Chaos Mix Start");

  03a9e	68 00 00 00 00	 push	 OFFSET ??_C@_0BO@BKFHPCAO@?$FLDinorantMix?$FN?5Chaos?5Mix?5Start?$AA@
  03aa3	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  03aa9	83 c4 04	 add	 esp, 4

; 1537 : 	//int ExDinorantMixRate = GetPrivateProfileInt("ChaosMix","DinorantMixRate",70,"..\\Data\\ExData\\CommonServer.ini");
; 1538 : 	lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExDinorantMixRate;	// Succes Rate for Dinorant

  03aac	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03aaf	8b 0d 90 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+144
  03ab5	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 1539 : 	lpObj->ChaosSuccessRate += iCharmOfLuckCount;

  03abb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03abe	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  03ac4	03 4d ec	 add	 ecx, DWORD PTR _iCharmOfLuckCount$[ebp]
  03ac7	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03aca	89 8a 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], ecx

; 1540 : 
; 1541 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  03ad0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03ad3	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  03ad9	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03adc	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  03ae2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03ae5	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 1542 : 
; 1543 : 
; 1544 : 
; 1545 : 	lpObj->Money -= nChaosNeedMoney;

  03aeb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03aee	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  03af4	2b 4d d4	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  03af7	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03afa	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 1546 : 
; 1547 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  03b00	8b 45 d0	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  03b03	50		 push	 eax
  03b04	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  03b09	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 1548 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  03b0e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03b11	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  03b17	51		 push	 ecx
  03b18	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03b1b	8b 02		 mov	 eax, DWORD PTR [edx]
  03b1d	50		 push	 eax
  03b1e	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  03b23	83 c4 08	 add	 esp, 8

; 1549 : 
; 1550 : 	if ( (rand()%100 ) < lpObj->ChaosSuccessRate )

  03b26	e8 00 00 00 00	 call	 _rand
  03b2b	99		 cdq
  03b2c	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  03b31	f7 f9		 idiv	 ecx
  03b33	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03b36	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  03b3c	0f 8d fc 00 00
	00		 jge	 $LN4@PegasiaCha

; 1551 : 	{
; 1552 : 		int Dinorant = ITEMGET(13,3);

  03b42	c7 45 cc 03 1a
	00 00		 mov	 DWORD PTR _Dinorant$235963[ebp], 6659 ; 00001a03H

; 1553 : 		int Option3 = 0;

  03b49	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _Option3$235964[ebp], 0

; 1554 : 
; 1555 : 		if ( (rand()% 100) < 30 )

  03b50	e8 00 00 00 00	 call	 _rand
  03b55	99		 cdq
  03b56	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  03b5b	f7 f9		 idiv	 ecx
  03b5d	83 fa 1e	 cmp	 edx, 30			; 0000001eH
  03b60	7d 46		 jge	 SHORT $LN2@PegasiaCha

; 1556 : 		{
; 1557 : 			Option3 = 1 <<  ((rand()%3)) ;

  03b62	e8 00 00 00 00	 call	 _rand
  03b67	99		 cdq
  03b68	b9 03 00 00 00	 mov	 ecx, 3
  03b6d	f7 f9		 idiv	 ecx
  03b6f	b8 01 00 00 00	 mov	 eax, 1
  03b74	8b ca		 mov	 ecx, edx
  03b76	d3 e0		 shl	 eax, cl
  03b78	89 45 c8	 mov	 DWORD PTR _Option3$235964[ebp], eax

; 1558 : 
; 1559 : 			if ( (rand()%5) == 0 )

  03b7b	e8 00 00 00 00	 call	 _rand
  03b80	99		 cdq
  03b81	b9 05 00 00 00	 mov	 ecx, 5
  03b86	f7 f9		 idiv	 ecx
  03b88	85 d2		 test	 edx, edx
  03b8a	75 1c		 jne	 SHORT $LN2@PegasiaCha

; 1560 : 			{
; 1561 : 				Option3 |= 1 << (rand()%3);

  03b8c	e8 00 00 00 00	 call	 _rand
  03b91	99		 cdq
  03b92	b9 03 00 00 00	 mov	 ecx, 3
  03b97	f7 f9		 idiv	 ecx
  03b99	b8 01 00 00 00	 mov	 eax, 1
  03b9e	8b ca		 mov	 ecx, edx
  03ba0	d3 e0		 shl	 eax, cl
  03ba2	0b 45 c8	 or	 eax, DWORD PTR _Option3$235964[ebp]
  03ba5	89 45 c8	 mov	 DWORD PTR _Option3$235964[ebp], eax
$LN2@PegasiaCha:

; 1562 : 			}
; 1563 : 		}
; 1564 : 
; 1565 : 		::ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, Dinorant, 0, 255, 1, 0, (BYTE)Option3, -1, 0, 0);

  03ba8	6a 00		 push	 0
  03baa	6a 00		 push	 0
  03bac	6a ff		 push	 -1
  03bae	0f b6 45 c8	 movzx	 eax, BYTE PTR _Option3$235964[ebp]
  03bb2	50		 push	 eax
  03bb3	6a 00		 push	 0
  03bb5	6a 01		 push	 1
  03bb7	68 ff 00 00 00	 push	 255			; 000000ffH
  03bbc	6a 00		 push	 0
  03bbe	8b 4d cc	 mov	 ecx, DWORD PTR _Dinorant$235963[ebp]
  03bc1	51		 push	 ecx
  03bc2	6a 00		 push	 0
  03bc4	6a 00		 push	 0
  03bc6	68 ff 00 00 00	 push	 255			; 000000ffH
  03bcb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03bce	8b 02		 mov	 eax, DWORD PTR [edx]
  03bd0	50		 push	 eax
  03bd1	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  03bd6	83 c4 34	 add	 esp, 52			; 00000034H

; 1566 : 		::gObjInventoryCommit(lpObj->m_Index);

  03bd9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03bdc	8b 08		 mov	 ecx, DWORD PTR [eax]
  03bde	51		 push	 ecx
  03bdf	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  03be4	83 c4 04	 add	 esp, 4

; 1567 : #if(SYSTEM_ACHIEVEMENTS)
; 1568 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  03be7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03bea	8b 08		 mov	 ecx, DWORD PTR [eax]
  03bec	51		 push	 ecx
  03bed	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  03bf2	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 1569 : #endif
; 1570 : 		LogAddTD("[DinorantMix] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate : %d",
; 1571 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney, iCharmOfLuckCount);

  03bf7	8b 45 ec	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  03bfa	50		 push	 eax
  03bfb	8b 4d d4	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  03bfe	51		 push	 ecx
  03bff	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03c02	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  03c08	50		 push	 eax
  03c09	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03c0c	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  03c12	52		 push	 edx
  03c13	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03c16	83 c0 77	 add	 eax, 119		; 00000077H
  03c19	50		 push	 eax
  03c1a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03c1d	83 c1 6c	 add	 ecx, 108		; 0000006cH
  03c20	51		 push	 ecx
  03c21	68 00 00 00 00	 push	 OFFSET ??_C@_0EG@BMPMHKIC@?$FLDinorantMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Suc@
  03c26	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  03c2c	83 c4 1c	 add	 esp, 28			; 0000001cH

; 1572 : 
; 1573 : 		return TRUE;

  03c2f	b8 01 00 00 00	 mov	 eax, 1
  03c34	e9 8d 00 00 00	 jmp	 $LN1@PegasiaCha

; 1574 : 	}
; 1575 : 	else

  03c39	e9 88 00 00 00	 jmp	 $LN1@PegasiaCha
$LN4@PegasiaCha:

; 1576 : 	{
; 1577 : 		this->ChaosBoxInit(lpObj);	// Errase Chaos Box

  03c3e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03c41	50		 push	 eax
  03c42	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  03c45	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 1578 : 		GCUserChaosBoxSend(lpObj, 0);

  03c4a	6a 00		 push	 0
  03c4c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03c4f	50		 push	 eax
  03c50	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  03c55	83 c4 08	 add	 esp, 8

; 1579 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  03c58	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  03c5c	50		 push	 eax
  03c5d	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  03c60	51		 push	 ecx
  03c61	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03c64	8b 02		 mov	 eax, DWORD PTR [edx]
  03c66	50		 push	 eax
  03c67	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03c6c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1580 : 
; 1581 : 		LogAddTD("[DinorantMix] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : %d",
; 1582 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney, iCharmOfLuckCount);

  03c6f	8b 45 ec	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  03c72	50		 push	 eax
  03c73	8b 4d d4	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  03c76	51		 push	 ecx
  03c77	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03c7a	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  03c80	50		 push	 eax
  03c81	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03c84	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  03c8a	52		 push	 edx
  03c8b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03c8e	83 c0 77	 add	 eax, 119		; 00000077H
  03c91	50		 push	 eax
  03c92	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03c95	83 c1 6c	 add	 ecx, 108		; 0000006cH
  03c98	51		 push	 ecx
  03c99	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@JKKAJEKA@?$FLDinorantMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fai@
  03c9e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  03ca4	83 c4 1c	 add	 esp, 28			; 0000001cH

; 1583 : #if(SYSTEM_ACHIEVEMENTS)
; 1584 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  03ca7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03caa	8b 08		 mov	 ecx, DWORD PTR [eax]
  03cac	51		 push	 ecx
  03cad	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  03cb2	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix

; 1585 : #endif
; 1586 : 		lpObj->ChaosLock = FALSE;

  03cb7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03cba	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1587 : 		return FALSE;

  03cc4	33 c0		 xor	 eax, eax
$LN1@PegasiaCha:

; 1588 : 	}
; 1589 : }

  03cc6	5f		 pop	 edi
  03cc7	5e		 pop	 esi
  03cc8	5b		 pop	 ebx
  03cc9	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  03ccc	33 cd		 xor	 ecx, ebp
  03cce	e8 00 00 00 00	 call	 @__security_check_cookie@4
  03cd3	8b e5		 mov	 esp, ebp
  03cd5	5d		 pop	 ebp
  03cd6	c2 04 00	 ret	 4
?PegasiaChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::PegasiaChaosMix
_TEXT	ENDS
PUBLIC	??_C@_0EB@FKBAIBLL@?$FLCircleMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail?5@ ; `string'
PUBLIC	??_C@_0EE@PAFLGDEL@?$FLCircleMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Succe@ ; `string'
PUBLIC	??_C@_0BM@EFIHICLO@?$FLCircleMix?$FN?5Chaos?5Mix?5Start?$AA@ ; `string'
PUBLIC	??_C@_09CKGJGION@CircleMix?$AA@			; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?CircleChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::CircleChaosMix
;	COMDAT ??_C@_0EB@FKBAIBLL@?$FLCircleMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail?5@
CONST	SEGMENT
??_C@_0EB@FKBAIBLL@?$FLCircleMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail?5@ DB '['
	DB	'CircleMix] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : '
	DB	'%d', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0EE@PAFLGDEL@?$FLCircleMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Succe@
CONST	SEGMENT
??_C@_0EE@PAFLGDEL@?$FLCircleMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Succe@ DB '['
	DB	'CircleMix] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate'
	DB	' : %d', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0BM@EFIHICLO@?$FLCircleMix?$FN?5Chaos?5Mix?5Start?$AA@
CONST	SEGMENT
??_C@_0BM@EFIHICLO@?$FLCircleMix?$FN?5Chaos?5Mix?5Start?$AA@ DB '[CircleM'
	DB	'ix] Chaos Mix Start', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_09CKGJGION@CircleMix?$AA@
CONST	SEGMENT
??_C@_09CKGJGION@CircleMix?$AA@ DB 'CircleMix', 00H	; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_RandonValue$236014 = -60				; size = 4
_FruitType$236013 = -56					; size = 4
_Fruit$236012 = -52					; size = 4
_iChaosTaxMoney$ = -48					; size = 4
_nChaosNeedMoney$ = -44					; size = 4
_pMsg$ = -40						; size = 16
_n$235979 = -24						; size = 4
_iCharmOfLuckCount$ = -20				; size = 4
_ChoasGemCount$ = -16					; size = 4
_CreatureGemCount$ = -12				; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?CircleChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::CircleChaosMix
; _this$ = ecx

; 1592 : {

  03ce0	55		 push	 ebp
  03ce1	8b ec		 mov	 ebp, esp
  03ce3	83 ec 7c	 sub	 esp, 124		; 0000007cH
  03ce6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  03ceb	33 c5		 xor	 eax, ebp
  03ced	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03cf0	53		 push	 ebx
  03cf1	56		 push	 esi
  03cf2	57		 push	 edi
  03cf3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1593 : 	lpObj->ChaosLock = TRUE;

  03cf6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03cf9	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 1594 : 
; 1595 : 	int CreatureGemCount = 0;

  03d03	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _CreatureGemCount$[ebp], 0

; 1596 : 	int ChoasGemCount = 0;

  03d0a	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _ChoasGemCount$[ebp], 0

; 1597 : 	int iCharmOfLuckCount = 0;

  03d11	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 1598 : 
; 1599 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  03d18	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _n$235979[ebp], 0
  03d1f	eb 09		 jmp	 SHORT $LN26@CircleChao
$LN25@CircleChao:
  03d21	8b 45 e8	 mov	 eax, DWORD PTR _n$235979[ebp]
  03d24	83 c0 01	 add	 eax, 1
  03d27	89 45 e8	 mov	 DWORD PTR _n$235979[ebp], eax
$LN26@CircleChao:
  03d2a	83 7d e8 20	 cmp	 DWORD PTR _n$235979[ebp], 32 ; 00000020H
  03d2e	0f 8d b6 00 00
	00		 jge	 $LN24@CircleChao

; 1600 : 	{
; 1601 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  03d34	8b 4d e8	 mov	 ecx, DWORD PTR _n$235979[ebp]
  03d37	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  03d3d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03d40	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  03d46	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  03d4b	83 f8 01	 cmp	 eax, 1
  03d4e	0f 85 91 00 00
	00		 jne	 $LN18@CircleChao

; 1602 : 		{
; 1603 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,22) )	// Jewel of Creation

  03d54	8b 45 e8	 mov	 eax, DWORD PTR _n$235979[ebp]
  03d57	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  03d5d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03d60	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  03d66	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  03d6b	3d 16 1c 00 00	 cmp	 eax, 7190		; 00001c16H
  03d70	75 0b		 jne	 SHORT $LN22@CircleChao

; 1604 : 			{
; 1605 : 				CreatureGemCount++;

  03d72	8b 45 f4	 mov	 eax, DWORD PTR _CreatureGemCount$[ebp]
  03d75	83 c0 01	 add	 eax, 1
  03d78	89 45 f4	 mov	 DWORD PTR _CreatureGemCount$[ebp], eax
  03d7b	eb 68		 jmp	 SHORT $LN18@CircleChao
$LN22@CircleChao:

; 1606 : 			}
; 1607 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) ) // Chaos Gem

  03d7d	8b 45 e8	 mov	 eax, DWORD PTR _n$235979[ebp]
  03d80	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  03d86	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03d89	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  03d8f	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  03d94	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  03d99	75 0b		 jne	 SHORT $LN20@CircleChao

; 1608 : 			{
; 1609 : 				ChoasGemCount++;

  03d9b	8b 45 f0	 mov	 eax, DWORD PTR _ChoasGemCount$[ebp]
  03d9e	83 c0 01	 add	 eax, 1
  03da1	89 45 f0	 mov	 DWORD PTR _ChoasGemCount$[ebp], eax
  03da4	eb 3f		 jmp	 SHORT $LN18@CircleChao
$LN20@CircleChao:

; 1610 : 			}
; 1611 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )	// Charm Of Luck

  03da6	8b 45 e8	 mov	 eax, DWORD PTR _n$235979[ebp]
  03da9	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  03daf	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03db2	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  03db8	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  03dbd	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  03dc2	75 21		 jne	 SHORT $LN18@CircleChao

; 1612 : 			{
; 1613 : 				iCharmOfLuckCount += (int)lpObj->pChaosBox[n].m_Durability;

  03dc4	8b 45 e8	 mov	 eax, DWORD PTR _n$235979[ebp]
  03dc7	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  03dcd	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  03dd0	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  03dd6	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  03dda	e8 00 00 00 00	 call	 __ftol2_sse
  03ddf	03 45 ec	 add	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  03de2	89 45 ec	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], eax
$LN18@CircleChao:

; 1614 : 			}
; 1615 : 		}
; 1616 : 	}

  03de5	e9 37 ff ff ff	 jmp	 $LN25@CircleChao
$LN24@CircleChao:

; 1617 : 
; 1618 : 	if ( CreatureGemCount != 1 || ChoasGemCount != 1 )

  03dea	83 7d f4 01	 cmp	 DWORD PTR _CreatureGemCount$[ebp], 1
  03dee	75 06		 jne	 SHORT $LN16@CircleChao
  03df0	83 7d f0 01	 cmp	 DWORD PTR _ChoasGemCount$[ebp], 1
  03df4	74 07		 je	 SHORT $LN17@CircleChao
$LN16@CircleChao:

; 1619 : 	{
; 1620 : 		return FALSE;

  03df6	33 c0		 xor	 eax, eax
  03df8	e9 6d 03 00 00	 jmp	 $LN1@CircleChao
$LN17@CircleChao:

; 1621 : 	}
; 1622 : 
; 1623 : 	PMSG_CHAOSMIXRESULT pMsg;
; 1624 : 
; 1625 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  03dfd	6a 10		 push	 16			; 00000010H
  03dff	68 86 00 00 00	 push	 134			; 00000086H
  03e04	8d 45 d8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  03e07	50		 push	 eax
  03e08	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  03e0d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1626 : 	pMsg.Result = CB_ERROR;

  03e10	c6 45 db 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 1627 : 
; 1628 : 	if ( iCharmOfLuckCount > 10 )

  03e14	83 7d ec 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  03e18	7e 32		 jle	 SHORT $LN15@CircleChao

; 1629 : 	{
; 1630 : 		lpObj->ChaosLock = FALSE;

  03e1a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03e1d	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1631 : 		pMsg.Result = 0xF0;

  03e27	c6 45 db f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 1632 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  03e2b	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  03e2f	50		 push	 eax
  03e30	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  03e33	51		 push	 ecx
  03e34	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03e37	8b 02		 mov	 eax, DWORD PTR [edx]
  03e39	50		 push	 eax
  03e3a	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03e3f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1633 : 
; 1634 : 		return 1;

  03e42	b8 01 00 00 00	 mov	 eax, 1
  03e47	e9 1e 03 00 00	 jmp	 $LN1@CircleChao
$LN15@CircleChao:

; 1635 : 	}
; 1636 : 
; 1637 : 	if ( lpObj->Level < 10 )

  03e4c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03e4f	0f bf 88 be 00
	00 00		 movsx	 ecx, WORD PTR [eax+190]
  03e56	83 f9 0a	 cmp	 ecx, 10			; 0000000aH
  03e59	7d 32		 jge	 SHORT $LN14@CircleChao

; 1638 : 	{
; 1639 : 		pMsg.Result = CB_LOW_LEVEL_USER;

  03e5b	c6 45 db 04	 mov	 BYTE PTR _pMsg$[ebp+3], 4

; 1640 : 
; 1641 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  03e5f	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  03e63	50		 push	 eax
  03e64	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  03e67	51		 push	 ecx
  03e68	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03e6b	8b 02		 mov	 eax, DWORD PTR [edx]
  03e6d	50		 push	 eax
  03e6e	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03e73	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1642 : 		lpObj->ChaosLock = FALSE;

  03e76	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03e79	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1643 : 
; 1644 : 		return TRUE;

  03e83	b8 01 00 00 00	 mov	 eax, 1
  03e88	e9 dd 02 00 00	 jmp	 $LN1@CircleChao
$LN14@CircleChao:

; 1645 : 	}
; 1646 : 
; 1647 : 	int nChaosNeedMoney = 3000000;

  03e8d	c7 45 d4 c0 c6
	2d 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 3000000 ; 002dc6c0H

; 1648 : 	int iChaosTaxMoney = (int)((__int64)nChaosNeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  03e94	8b 45 d4	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  03e97	99		 cdq
  03e98	8b f0		 mov	 esi, eax
  03e9a	8b fa		 mov	 edi, edx
  03e9c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03e9f	8b 08		 mov	 ecx, DWORD PTR [eax]
  03ea1	51		 push	 ecx
  03ea2	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  03ea7	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  03eac	99		 cdq
  03ead	52		 push	 edx
  03eae	50		 push	 eax
  03eaf	57		 push	 edi
  03eb0	56		 push	 esi
  03eb1	e8 00 00 00 00	 call	 __allmul
  03eb6	6a 00		 push	 0
  03eb8	6a 64		 push	 100			; 00000064H
  03eba	52		 push	 edx
  03ebb	50		 push	 eax
  03ebc	e8 00 00 00 00	 call	 __alldiv
  03ec1	89 45 d0	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 1649 : 
; 1650 : 	if ( iChaosTaxMoney < 0 )

  03ec4	83 7d d0 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  03ec8	7d 07		 jge	 SHORT $LN13@CircleChao

; 1651 : 	{
; 1652 : 		iChaosTaxMoney = 0;

  03eca	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN13@CircleChao:

; 1653 : 	}
; 1654 : 
; 1655 : 	nChaosNeedMoney += iChaosTaxMoney;

  03ed1	8b 45 d4	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  03ed4	03 45 d0	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  03ed7	89 45 d4	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], eax

; 1656 : 
; 1657 : 	nChaosNeedMoney += lpObj->m_AddMixMoney;

  03eda	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03edd	8b 4d d4	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  03ee0	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  03ee6	89 4d d4	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 1658 : 
; 1659 : 	if ( nChaosNeedMoney < 0 )

  03ee9	79 07		 jns	 SHORT $LN12@CircleChao

; 1660 : 	{
; 1661 : 		nChaosNeedMoney = 0;

  03eeb	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0
$LN12@CircleChao:

; 1662 : 	}
; 1663 : 
; 1664 : 	if ( lpObj->Money < nChaosNeedMoney )

  03ef2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03ef5	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  03efb	3b 4d d4	 cmp	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  03efe	7d 3f		 jge	 SHORT $LN11@CircleChao

; 1665 : 	{
; 1666 : 		lpObj->ChaosLock = FALSE;

  03f00	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03f03	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1667 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  03f0d	c6 45 db 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 1668 : 		
; 1669 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  03f11	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  03f15	50		 push	 eax
  03f16	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  03f19	51		 push	 ecx
  03f1a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03f1d	8b 02		 mov	 eax, DWORD PTR [edx]
  03f1f	50		 push	 eax
  03f20	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  03f25	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1670 : 		lpObj->ChaosLock = FALSE;

  03f28	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03f2b	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1671 : 
; 1672 : 		return TRUE;

  03f35	b8 01 00 00 00	 mov	 eax, 1
  03f3a	e9 2b 02 00 00	 jmp	 $LN1@CircleChao
$LN11@CircleChao:

; 1673 : 	}
; 1674 : 
; 1675 : 	LogChaosItem(lpObj, "CircleMix");

  03f3f	68 00 00 00 00	 push	 OFFSET ??_C@_09CKGJGION@CircleMix?$AA@
  03f44	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03f47	50		 push	 eax
  03f48	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  03f4b	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 1676 : 	LogAddTD("[CircleMix] Chaos Mix Start");

  03f50	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@EFIHICLO@?$FLCircleMix?$FN?5Chaos?5Mix?5Start?$AA@
  03f55	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  03f5b	83 c4 04	 add	 esp, 4

; 1677 : 	lpObj->ChaosSuccessRate = 90;	// Succes Rate for Fruit

  03f5e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03f61	c7 80 84 0e 00
	00 5a 00 00 00	 mov	 DWORD PTR [eax+3716], 90 ; 0000005aH

; 1678 : 	lpObj->ChaosSuccessRate += iCharmOfLuckCount;

  03f6b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03f6e	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  03f74	03 4d ec	 add	 ecx, DWORD PTR _iCharmOfLuckCount$[ebp]
  03f77	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03f7a	89 8a 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], ecx

; 1679 : 
; 1680 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  03f80	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03f83	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  03f89	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03f8c	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  03f92	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03f95	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 1681 : 	
; 1682 : 
; 1683 : 	lpObj->Money -= nChaosNeedMoney;

  03f9b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03f9e	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  03fa4	2b 4d d4	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  03fa7	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03faa	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 1684 : 
; 1685 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  03fb0	8b 45 d0	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  03fb3	50		 push	 eax
  03fb4	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  03fb9	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 1686 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  03fbe	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03fc1	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  03fc7	51		 push	 ecx
  03fc8	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  03fcb	8b 02		 mov	 eax, DWORD PTR [edx]
  03fcd	50		 push	 eax
  03fce	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  03fd3	83 c4 08	 add	 esp, 8

; 1687 : 
; 1688 : 	if ( (rand()%100 ) < lpObj->ChaosSuccessRate )

  03fd6	e8 00 00 00 00	 call	 _rand
  03fdb	99		 cdq
  03fdc	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  03fe1	f7 f9		 idiv	 ecx
  03fe3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  03fe6	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  03fec	0f 8d f0 00 00
	00		 jge	 $LN10@CircleChao

; 1689 : 	{
; 1690 : 		int Fruit = ITEMGET(13,15);	// Fruit

  03ff2	c7 45 cc 0f 1a
	00 00		 mov	 DWORD PTR _Fruit$236012[ebp], 6671 ; 00001a0fH

; 1691 : 		int FruitType;
; 1692 : 		int RandonValue = rand() % 100;

  03ff9	e8 00 00 00 00	 call	 _rand
  03ffe	99		 cdq
  03fff	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  04004	f7 f9		 idiv	 ecx
  04006	89 55 c4	 mov	 DWORD PTR _RandonValue$236014[ebp], edx

; 1693 : 
; 1694 : 		if ( RandonValue < 30 )

  04009	83 7d c4 1e	 cmp	 DWORD PTR _RandonValue$236014[ebp], 30 ; 0000001eH
  0400d	7d 09		 jge	 SHORT $LN9@CircleChao

; 1695 : 		{
; 1696 : 			FruitType = 0;

  0400f	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _FruitType$236013[ebp], 0
  04016	eb 34		 jmp	 SHORT $LN2@CircleChao
$LN9@CircleChao:

; 1697 : 		}
; 1698 : 		else if ( RandonValue < 55 )

  04018	83 7d c4 37	 cmp	 DWORD PTR _RandonValue$236014[ebp], 55 ; 00000037H
  0401c	7d 09		 jge	 SHORT $LN7@CircleChao

; 1699 : 		{
; 1700 : 			FruitType = 1;

  0401e	c7 45 c8 01 00
	00 00		 mov	 DWORD PTR _FruitType$236013[ebp], 1
  04025	eb 25		 jmp	 SHORT $LN2@CircleChao
$LN7@CircleChao:

; 1701 : 		}
; 1702 : 		else if ( RandonValue < 75 )

  04027	83 7d c4 4b	 cmp	 DWORD PTR _RandonValue$236014[ebp], 75 ; 0000004bH
  0402b	7d 09		 jge	 SHORT $LN5@CircleChao

; 1703 : 		{
; 1704 : 			FruitType = 2;

  0402d	c7 45 c8 02 00
	00 00		 mov	 DWORD PTR _FruitType$236013[ebp], 2
  04034	eb 16		 jmp	 SHORT $LN2@CircleChao
$LN5@CircleChao:

; 1705 : 		}
; 1706 : 		else if ( RandonValue < 95 )

  04036	83 7d c4 5f	 cmp	 DWORD PTR _RandonValue$236014[ebp], 95 ; 0000005fH
  0403a	7d 09		 jge	 SHORT $LN3@CircleChao

; 1707 : 		{
; 1708 : 			FruitType = 3;

  0403c	c7 45 c8 03 00
	00 00		 mov	 DWORD PTR _FruitType$236013[ebp], 3

; 1709 : 		}
; 1710 : 		else

  04043	eb 07		 jmp	 SHORT $LN2@CircleChao
$LN3@CircleChao:

; 1711 : 		{
; 1712 : 			FruitType = 4;

  04045	c7 45 c8 04 00
	00 00		 mov	 DWORD PTR _FruitType$236013[ebp], 4
$LN2@CircleChao:

; 1713 : 		}
; 1714 : 
; 1715 : 		::ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, Fruit, (BYTE)FruitType, 255, 1, 0, 0, -1, 0, 0);

  0404c	6a 00		 push	 0
  0404e	6a 00		 push	 0
  04050	6a ff		 push	 -1
  04052	6a 00		 push	 0
  04054	6a 00		 push	 0
  04056	6a 01		 push	 1
  04058	68 ff 00 00 00	 push	 255			; 000000ffH
  0405d	0f b6 45 c8	 movzx	 eax, BYTE PTR _FruitType$236013[ebp]
  04061	50		 push	 eax
  04062	8b 4d cc	 mov	 ecx, DWORD PTR _Fruit$236012[ebp]
  04065	51		 push	 ecx
  04066	6a 00		 push	 0
  04068	6a 00		 push	 0
  0406a	68 ff 00 00 00	 push	 255			; 000000ffH
  0406f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04072	8b 02		 mov	 eax, DWORD PTR [edx]
  04074	50		 push	 eax
  04075	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0407a	83 c4 34	 add	 esp, 52			; 00000034H

; 1716 : 		::gObjInventoryCommit(lpObj->m_Index);

  0407d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04080	8b 08		 mov	 ecx, DWORD PTR [eax]
  04082	51		 push	 ecx
  04083	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  04088	83 c4 04	 add	 esp, 4

; 1717 : #if(SYSTEM_ACHIEVEMENTS)
; 1718 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  0408b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0408e	8b 08		 mov	 ecx, DWORD PTR [eax]
  04090	51		 push	 ecx
  04091	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  04096	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 1719 : #endif
; 1720 : 		LogAddTD("[CircleMix] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate : %d",
; 1721 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney, iCharmOfLuckCount);

  0409b	8b 45 ec	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  0409e	50		 push	 eax
  0409f	8b 4d d4	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  040a2	51		 push	 ecx
  040a3	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  040a6	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  040ac	50		 push	 eax
  040ad	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  040b0	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  040b6	52		 push	 edx
  040b7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  040ba	83 c0 77	 add	 eax, 119		; 00000077H
  040bd	50		 push	 eax
  040be	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  040c1	83 c1 6c	 add	 ecx, 108		; 0000006cH
  040c4	51		 push	 ecx
  040c5	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@PAFLGDEL@?$FLCircleMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Succe@
  040ca	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  040d0	83 c4 1c	 add	 esp, 28			; 0000001cH

; 1722 : 
; 1723 : 		return TRUE;

  040d3	b8 01 00 00 00	 mov	 eax, 1
  040d8	e9 8d 00 00 00	 jmp	 $LN1@CircleChao

; 1724 : 	}
; 1725 : 	else

  040dd	e9 88 00 00 00	 jmp	 $LN1@CircleChao
$LN10@CircleChao:

; 1726 : 	{
; 1727 : 		this->ChaosBoxInit(lpObj);

  040e2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  040e5	50		 push	 eax
  040e6	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  040e9	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 1728 : 		GCUserChaosBoxSend(lpObj, 0);

  040ee	6a 00		 push	 0
  040f0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  040f3	50		 push	 eax
  040f4	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  040f9	83 c4 08	 add	 esp, 8

; 1729 : 
; 1730 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  040fc	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  04100	50		 push	 eax
  04101	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04104	51		 push	 ecx
  04105	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04108	8b 02		 mov	 eax, DWORD PTR [edx]
  0410a	50		 push	 eax
  0410b	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  04110	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1731 : 		LogAddTD("[CircleMix] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : %d",
; 1732 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney, iCharmOfLuckCount);

  04113	8b 45 ec	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  04116	50		 push	 eax
  04117	8b 4d d4	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  0411a	51		 push	 ecx
  0411b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0411e	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  04124	50		 push	 eax
  04125	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04128	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  0412e	52		 push	 edx
  0412f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04132	83 c0 77	 add	 eax, 119		; 00000077H
  04135	50		 push	 eax
  04136	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04139	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0413c	51		 push	 ecx
  0413d	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@FKBAIBLL@?$FLCircleMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail?5@
  04142	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04148	83 c4 1c	 add	 esp, 28			; 0000001cH

; 1733 : 		lpObj->ChaosLock = FALSE;

  0414b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0414e	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1734 : #if(SYSTEM_ACHIEVEMENTS)
; 1735 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  04158	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0415b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0415d	51		 push	 ecx
  0415e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  04163	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix

; 1736 : #endif
; 1737 : 		return FALSE;

  04168	33 c0		 xor	 eax, eax
$LN1@CircleChao:

; 1738 : 	}
; 1739 : }

  0416a	5f		 pop	 edi
  0416b	5e		 pop	 esi
  0416c	5b		 pop	 ebx
  0416d	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  04170	33 cd		 xor	 ecx, ebp
  04172	e8 00 00 00 00	 call	 @__security_check_cookie@4
  04177	8b e5		 mov	 esp, ebp
  04179	5d		 pop	 ebp
  0417a	c2 04 00	 ret	 4
?CircleChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::CircleChaosMix
_TEXT	ENDS
PUBLIC	??_C@_0EB@GCGNBAFG@?$FLWingMix?02?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail?5@ ; `string'
PUBLIC	??_C@_0EE@BHIPJGFK@?$FLWingMix?02?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Succe@ ; `string'
PUBLIC	??_C@_0EI@LFGBMPMJ@?$FLMixSystem?$FN?$FLWingChaosMix?$FN?5WingCh@ ; `string'
PUBLIC	??_C@_0BM@JPABEGNL@?$FLWingMix?02?$FN?5Chaos?5Mix?5Start?$AA@ ; `string'
PUBLIC	??_C@_09GJEFJCKN@WingMix?02?$AA@		; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?WingChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::WingChaosMix
EXTRN	_srand:PROC
;	COMDAT ??_C@_0EB@GCGNBAFG@?$FLWingMix?02?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail?5@
CONST	SEGMENT
??_C@_0EB@GCGNBAFG@?$FLWingMix?02?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail?5@ DB '['
	DB	'WingMix,2] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : '
	DB	'%d', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0EE@BHIPJGFK@?$FLWingMix?02?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Succe@
CONST	SEGMENT
??_C@_0EE@BHIPJGFK@?$FLWingMix?02?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Succe@ DB '['
	DB	'WingMix,2] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate'
	DB	' : %d', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0EI@LFGBMPMJ@?$FLMixSystem?$FN?$FLWingChaosMix?$FN?5WingCh@
CONST	SEGMENT
??_C@_0EI@LFGBMPMJ@?$FLMixSystem?$FN?$FLWingChaosMix?$FN?5WingCh@ DB '[Mi'
	DB	'xSystem][WingChaosMix] WingCharmItemNum => %d , WingCharmInde'
	DB	'x => %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BM@JPABEGNL@?$FLWingMix?02?$FN?5Chaos?5Mix?5Start?$AA@
CONST	SEGMENT
??_C@_0BM@JPABEGNL@?$FLWingMix?02?$FN?5Chaos?5Mix?5Start?$AA@ DB '[WingMi'
	DB	'x,2] Chaos Mix Start', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_09GJEFJCKN@WingMix?02?$AA@
CONST	SEGMENT
??_C@_09GJEFJCKN@WingMix?02?$AA@ DB 'WingMix,2', 00H	; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv378 = -196						; size = 4
tv359 = -196						; size = 4
_n$236164 = -128					; size = 4
_iRandomValue2$236138 = -124				; size = 4
_iRandomValue$236137 = -120				; size = 4
_iOption3$236135 = -116					; size = 4
_iOption2$236134 = -112					; size = 4
_iOption1$236133 = -108					; size = 4
_iWingNum$236132 = -104					; size = 4
_iRand$236127 = -100					; size = 4
_WingCharmIndex$236117 = -96				; size = 4
_iRand$236113 = -92					; size = 4
_iItemSubType$236105 = -88				; size = 4
_iItemType$236104 = -84					; size = 4
_iWingLevel$236103 = -80				; size = 4
_pWing$ = -76						; size = 4
_iChaosTaxMoney$ = -72					; size = 4
_nChaosNeedMoney$ = -68					; size = 4
_pMsg$ = -64						; size = 16
_n$236041 = -48						; size = 4
_iCharmOfLuckCount$ = -44				; size = 4
_iSleeveOfLord$ = -40					; size = 4
_iWingChaosMoney$ = -36					; size = 4
_WingCharmItemNum$ = -32				; size = 4
_iChaosMoney$ = -28					; size = 4
_WingIndex$ = -24					; size = 4
_LokesFeathersCount$ = -20				; size = 4
_ChoasGemCount$ = -16					; size = 4
_WingCount$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?WingChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z PROC	; CMixSystem::WingChaosMix
; _this$ = ecx

; 1742 : {

  04180	55		 push	 ebp
  04181	8b ec		 mov	 ebp, esp
  04183	81 ec c4 00 00
	00		 sub	 esp, 196		; 000000c4H
  04189	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0418e	33 c5		 xor	 eax, ebp
  04190	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  04193	53		 push	 ebx
  04194	56		 push	 esi
  04195	57		 push	 edi
  04196	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1743 : 	lpObj->ChaosLock = TRUE;

  04199	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0419c	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 1744 : 
; 1745 : 	int WingCount = 0;

  041a6	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _WingCount$[ebp], 0

; 1746 : 	int ChoasGemCount = 0;

  041ad	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _ChoasGemCount$[ebp], 0

; 1747 : 	int LokesFeathersCount = 0;

  041b4	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _LokesFeathersCount$[ebp], 0

; 1748 : 	int WingIndex = -1;

  041bb	c7 45 e8 ff ff
	ff ff		 mov	 DWORD PTR _WingIndex$[ebp], -1

; 1749 : 	int iChaosMoney = 0;

  041c2	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 0

; 1750 : 	int WingCharmItemNum = -1; //season4.5 add-on

  041c9	c7 45 e0 ff ff
	ff ff		 mov	 DWORD PTR _WingCharmItemNum$[ebp], -1

; 1751 : 	int iWingChaosMoney = 0;

  041d0	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _iWingChaosMoney$[ebp], 0

; 1752 : 	int iSleeveOfLord = 0;

  041d7	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _iSleeveOfLord$[ebp], 0

; 1753 : 	int iCharmOfLuckCount = 0;

  041de	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 1754 : 
; 1755 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  041e5	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _n$236041[ebp], 0
  041ec	eb 09		 jmp	 SHORT $LN81@WingChaosM
$LN80@WingChaosM:
  041ee	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  041f1	83 c0 01	 add	 eax, 1
  041f4	89 45 d0	 mov	 DWORD PTR _n$236041[ebp], eax
$LN81@WingChaosM:
  041f7	83 7d d0 20	 cmp	 DWORD PTR _n$236041[ebp], 32 ; 00000020H
  041fb	0f 8d 27 03 00
	00		 jge	 $LN79@WingChaosM

; 1756 : 	{
; 1757 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  04201	8b 4d d0	 mov	 ecx, DWORD PTR _n$236041[ebp]
  04204	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0420a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0420d	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  04213	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  04218	83 f8 01	 cmp	 eax, 1
  0421b	0f 85 02 03 00
	00		 jne	 $LN59@WingChaosM

; 1758 : 		{
; 1759 : 			if ( (lpObj->pChaosBox[n].m_Type >= ITEMGET(12,3) && lpObj->pChaosBox[n].m_Type <= ITEMGET(12,6)) || lpObj->pChaosBox[n].m_Type == ITEMGET(12,42) || lpObj->pChaosBox[n].m_Type == ITEMGET(14,30) )	

  04221	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  04224	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0422a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0422d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  04233	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  04238	3d 03 18 00 00	 cmp	 eax, 6147		; 00001803H
  0423d	7c 1e		 jl	 SHORT $LN75@WingChaosM
  0423f	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  04242	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  04248	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0424b	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  04251	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  04256	3d 06 18 00 00	 cmp	 eax, 6150		; 00001806H
  0425b	7e 3c		 jle	 SHORT $LN76@WingChaosM
$LN75@WingChaosM:
  0425d	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  04260	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  04266	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04269	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0426f	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  04274	3d 2a 18 00 00	 cmp	 eax, 6186		; 0000182aH
  04279	74 1e		 je	 SHORT $LN76@WingChaosM
  0427b	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  0427e	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  04284	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04287	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0428d	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  04292	3d 1e 1c 00 00	 cmp	 eax, 7198		; 00001c1eH
  04297	75 14		 jne	 SHORT $LN77@WingChaosM
$LN76@WingChaosM:

; 1760 : 			{
; 1761 : 				lpObj->ChaosLock = FALSE;

  04299	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0429c	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1762 : 
; 1763 : 				return FALSE;

  042a6	33 c0		 xor	 eax, eax
  042a8	e9 c7 09 00 00	 jmp	 $LN4@WingChaosM
$LN77@WingChaosM:

; 1764 : 			}
; 1765 : 			if ( lpObj->pChaosBox[n].m_Type >= ITEMGET(12,0) && lpObj->pChaosBox[n].m_Type <= ITEMGET(12,2) ) 

  042ad	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  042b0	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  042b6	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  042b9	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  042bf	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  042c4	3d 00 18 00 00	 cmp	 eax, 6144		; 00001800H
  042c9	7c 46		 jl	 SHORT $LN74@WingChaosM
  042cb	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  042ce	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  042d4	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  042d7	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  042dd	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  042e2	3d 02 18 00 00	 cmp	 eax, 6146		; 00001802H
  042e7	7f 28		 jg	 SHORT $LN74@WingChaosM

; 1766 : 			{
; 1767 : 				WingCount++;

  042e9	8b 45 f4	 mov	 eax, DWORD PTR _WingCount$[ebp]
  042ec	83 c0 01	 add	 eax, 1
  042ef	89 45 f4	 mov	 DWORD PTR _WingCount$[ebp], eax

; 1768 : 				WingIndex = n;

  042f2	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  042f5	89 45 e8	 mov	 DWORD PTR _WingIndex$[ebp], eax

; 1769 : 				iWingChaosMoney = lpObj->pChaosBox[n].m_BuyMoney;

  042f8	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  042fb	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  04301	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04304	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0430a	8b 44 02 70	 mov	 eax, DWORD PTR [edx+eax+112]
  0430e	89 45 dc	 mov	 DWORD PTR _iWingChaosMoney$[ebp], eax
$LN74@WingChaosM:

; 1770 : 			}
; 1771 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,41) ) //season3 add-on

  04311	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  04314	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0431a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0431d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  04323	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  04328	3d 29 18 00 00	 cmp	 eax, 6185		; 00001829H
  0432d	75 2d		 jne	 SHORT $LN73@WingChaosM

; 1772 : 			{
; 1773 : 				WingCount++;

  0432f	8b 45 f4	 mov	 eax, DWORD PTR _WingCount$[ebp]
  04332	83 c0 01	 add	 eax, 1
  04335	89 45 f4	 mov	 DWORD PTR _WingCount$[ebp], eax

; 1774 : 				WingIndex = n;

  04338	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  0433b	89 45 e8	 mov	 DWORD PTR _WingIndex$[ebp], eax

; 1775 : 				iWingChaosMoney = lpObj->pChaosBox[n].m_BuyMoney;

  0433e	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  04341	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  04347	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0434a	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  04350	8b 44 02 70	 mov	 eax, DWORD PTR [edx+eax+112]
  04354	89 45 dc	 mov	 DWORD PTR _iWingChaosMoney$[ebp], eax
  04357	e9 c7 01 00 00	 jmp	 $LN59@WingChaosM
$LN73@WingChaosM:

; 1776 : 			}
; 1777 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) ) // Chaos

  0435c	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  0435f	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  04365	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04368	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0436e	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  04373	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  04378	75 0e		 jne	 SHORT $LN71@WingChaosM

; 1778 : 			{
; 1779 : 				ChoasGemCount++;

  0437a	8b 45 f0	 mov	 eax, DWORD PTR _ChoasGemCount$[ebp]
  0437d	83 c0 01	 add	 eax, 1
  04380	89 45 f0	 mov	 DWORD PTR _ChoasGemCount$[ebp], eax
  04383	e9 9b 01 00 00	 jmp	 $LN59@WingChaosM
$LN71@WingChaosM:

; 1780 : 			}
; 1781 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(13,14) ) // Feather

  04388	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  0438b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  04391	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04394	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0439a	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0439f	3d 0e 1a 00 00	 cmp	 eax, 6670		; 00001a0eH
  043a4	75 34		 jne	 SHORT $LN69@WingChaosM

; 1782 : 			{
; 1783 : 				if ( lpObj->pChaosBox[n].m_Level == 0 ) // Feather

  043a6	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  043a9	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  043af	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  043b2	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  043b8	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  043bd	85 c0		 test	 eax, eax
  043bf	75 0b		 jne	 SHORT $LN68@WingChaosM

; 1784 : 				{
; 1785 : 					LokesFeathersCount++;

  043c1	8b 45 ec	 mov	 eax, DWORD PTR _LokesFeathersCount$[ebp]
  043c4	83 c0 01	 add	 eax, 1
  043c7	89 45 ec	 mov	 DWORD PTR _LokesFeathersCount$[ebp], eax

; 1786 : 				}
; 1787 : 				else

  043ca	eb 09		 jmp	 SHORT $LN67@WingChaosM
$LN68@WingChaosM:

; 1788 : 				{
; 1789 : 					iSleeveOfLord ++;

  043cc	8b 45 d8	 mov	 eax, DWORD PTR _iSleeveOfLord$[ebp]
  043cf	83 c0 01	 add	 eax, 1
  043d2	89 45 d8	 mov	 DWORD PTR _iSleeveOfLord$[ebp], eax
$LN67@WingChaosM:

; 1790 : 				}

  043d5	e9 49 01 00 00	 jmp	 $LN59@WingChaosM
$LN69@WingChaosM:

; 1791 : 			}
; 1792 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )	// Charm Of Luck

  043da	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  043dd	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  043e3	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  043e6	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  043ec	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  043f1	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  043f6	75 26		 jne	 SHORT $LN65@WingChaosM

; 1793 : 			{
; 1794 : 				iCharmOfLuckCount += (int)lpObj->pChaosBox[n].m_Durability;

  043f8	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  043fb	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  04401	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04404	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0440a	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  0440e	e8 00 00 00 00	 call	 __ftol2_sse
  04413	03 45 d4	 add	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  04416	89 45 d4	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], eax

; 1795 : 			}
; 1796 : 			else if(lpObj->pChaosBox[n].m_Type == ITEMGET(13,88) || //season4.5 add-on

  04419	e9 05 01 00 00	 jmp	 $LN59@WingChaosM
$LN65@WingChaosM:

; 1797 : 					lpObj->pChaosBox[n].m_Type == ITEMGET(13,89) ||
; 1798 : 					lpObj->pChaosBox[n].m_Type == ITEMGET(13,90) ||
; 1799 : 					lpObj->pChaosBox[n].m_Type == ITEMGET(13,91) ||
; 1800 : 					lpObj->pChaosBox[n].m_Type == ITEMGET(13,92) )

  0441e	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  04421	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  04427	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0442a	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  04430	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  04435	3d 58 1a 00 00	 cmp	 eax, 6744		; 00001a58H
  0443a	74 78		 je	 SHORT $LN62@WingChaosM
  0443c	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  0443f	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  04445	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04448	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0444e	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  04453	3d 59 1a 00 00	 cmp	 eax, 6745		; 00001a59H
  04458	74 5a		 je	 SHORT $LN62@WingChaosM
  0445a	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  0445d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  04463	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04466	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0446c	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  04471	3d 5a 1a 00 00	 cmp	 eax, 6746		; 00001a5aH
  04476	74 3c		 je	 SHORT $LN62@WingChaosM
  04478	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  0447b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  04481	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04484	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0448a	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0448f	3d 5b 1a 00 00	 cmp	 eax, 6747		; 00001a5bH
  04494	74 1e		 je	 SHORT $LN62@WingChaosM
  04496	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  04499	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0449f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  044a2	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  044a8	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  044ad	3d 5c 1a 00 00	 cmp	 eax, 6748		; 00001a5cH
  044b2	75 1c		 jne	 SHORT $LN63@WingChaosM
$LN62@WingChaosM:

; 1801 : 			{
; 1802 : 				WingCharmItemNum = lpObj->pChaosBox[n].m_Type;

  044b4	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  044b7	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  044bd	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  044c0	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  044c6	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  044cb	89 45 e0	 mov	 DWORD PTR _WingCharmItemNum$[ebp], eax
  044ce	eb 53		 jmp	 SHORT $LN59@WingChaosM
$LN63@WingChaosM:

; 1803 : 			}
; 1804 : 			else if ( lpObj->pChaosBox[n].IsExtItem() != FALSE )

  044d0	8b 4d d0	 mov	 ecx, DWORD PTR _n$236041[ebp]
  044d3	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  044d9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  044dc	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  044e2	e8 00 00 00 00	 call	 ?IsExtItem@CItem@@QAEHXZ ; CItem::IsExtItem
  044e7	85 c0		 test	 eax, eax
  044e9	74 38		 je	 SHORT $LN59@WingChaosM

; 1805 : 			{
; 1806 : 				if ( lpObj->pChaosBox[n].m_Level >= 4 )

  044eb	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  044ee	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  044f4	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  044f7	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  044fd	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  04502	83 f8 04	 cmp	 eax, 4
  04505	7c 1c		 jl	 SHORT $LN59@WingChaosM

; 1807 : 				{
; 1808 : 					iChaosMoney += lpObj->pChaosBox[n].m_BuyMoney;

  04507	8b 45 d0	 mov	 eax, DWORD PTR _n$236041[ebp]
  0450a	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  04510	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04513	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  04519	8b 4d e4	 mov	 ecx, DWORD PTR _iChaosMoney$[ebp]
  0451c	03 4c 02 70	 add	 ecx, DWORD PTR [edx+eax+112]
  04520	89 4d e4	 mov	 DWORD PTR _iChaosMoney$[ebp], ecx
$LN59@WingChaosM:

; 1809 : 				}
; 1810 : 			}
; 1811 : 		}
; 1812 : 	}

  04523	e9 c6 fc ff ff	 jmp	 $LN80@WingChaosM
$LN79@WingChaosM:

; 1813 : 
; 1814 : 	PMSG_CHAOSMIXRESULT pMsg;
; 1815 : 
; 1816 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  04528	6a 10		 push	 16			; 00000010H
  0452a	68 86 00 00 00	 push	 134			; 00000086H
  0452f	8d 45 c0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04532	50		 push	 eax
  04533	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  04538	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1817 : 	pMsg.Result = CB_ERROR;

  0453b	c6 45 c3 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 1818 : 
; 1819 : 	if ( iSleeveOfLord == 1 )

  0453f	83 7d d8 01	 cmp	 DWORD PTR _iSleeveOfLord$[ebp], 1
  04543	75 43		 jne	 SHORT $LN58@WingChaosM

; 1820 : 	{
; 1821 : 		if ( WingCount != 1 || ChoasGemCount != 1 || LokesFeathersCount != 0 )

  04545	83 7d f4 01	 cmp	 DWORD PTR _WingCount$[ebp], 1
  04549	75 0c		 jne	 SHORT $LN56@WingChaosM
  0454b	83 7d f0 01	 cmp	 DWORD PTR _ChoasGemCount$[ebp], 1
  0454f	75 06		 jne	 SHORT $LN56@WingChaosM
  04551	83 7d ec 00	 cmp	 DWORD PTR _LokesFeathersCount$[ebp], 0
  04555	74 2f		 je	 SHORT $LN57@WingChaosM
$LN56@WingChaosM:

; 1822 : 		{
; 1823 : 			lpObj->ChaosLock = FALSE;

  04557	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0455a	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1824 : 			pMsg.Result = CB_INCORRECT_MIX_ITEMS;

  04564	c6 45 c3 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 1825 : 			DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  04568	0f b6 45 c1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0456c	50		 push	 eax
  0456d	8d 4d c0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04570	51		 push	 ecx
  04571	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04574	8b 02		 mov	 eax, DWORD PTR [edx]
  04576	50		 push	 eax
  04577	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0457c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1826 : 			return FALSE;

  0457f	33 c0		 xor	 eax, eax
  04581	e9 ee 06 00 00	 jmp	 $LN4@WingChaosM
$LN57@WingChaosM:

; 1827 : 		}
; 1828 : 	}

  04586	eb 78		 jmp	 SHORT $LN51@WingChaosM
$LN58@WingChaosM:

; 1829 : 	else if ( LokesFeathersCount == 1 )

  04588	83 7d ec 01	 cmp	 DWORD PTR _LokesFeathersCount$[ebp], 1
  0458c	75 43		 jne	 SHORT $LN54@WingChaosM

; 1830 : 	{
; 1831 : 		if ( WingCount != 1 || ChoasGemCount != 1 || iSleeveOfLord != 0 )

  0458e	83 7d f4 01	 cmp	 DWORD PTR _WingCount$[ebp], 1
  04592	75 0c		 jne	 SHORT $LN52@WingChaosM
  04594	83 7d f0 01	 cmp	 DWORD PTR _ChoasGemCount$[ebp], 1
  04598	75 06		 jne	 SHORT $LN52@WingChaosM
  0459a	83 7d d8 00	 cmp	 DWORD PTR _iSleeveOfLord$[ebp], 0
  0459e	74 2f		 je	 SHORT $LN53@WingChaosM
$LN52@WingChaosM:

; 1832 : 		{
; 1833 : 			pMsg.Result = CB_INCORRECT_MIX_ITEMS;

  045a0	c6 45 c3 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 1834 : 			DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  045a4	0f b6 45 c1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  045a8	50		 push	 eax
  045a9	8d 4d c0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  045ac	51		 push	 ecx
  045ad	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  045b0	8b 02		 mov	 eax, DWORD PTR [edx]
  045b2	50		 push	 eax
  045b3	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  045b8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1835 : 			lpObj->ChaosLock = FALSE;

  045bb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  045be	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1836 : 
; 1837 : 			return FALSE;

  045c8	33 c0		 xor	 eax, eax
  045ca	e9 a5 06 00 00	 jmp	 $LN4@WingChaosM
$LN53@WingChaosM:

; 1838 : 		}
; 1839 : 	}
; 1840 : 	else

  045cf	eb 2f		 jmp	 SHORT $LN51@WingChaosM
$LN54@WingChaosM:

; 1841 : 	{
; 1842 : 		lpObj->ChaosLock = FALSE;

  045d1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  045d4	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1843 : 		pMsg.Result = CB_INCORRECT_MIX_ITEMS;

  045de	c6 45 c3 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 1844 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  045e2	0f b6 45 c1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  045e6	50		 push	 eax
  045e7	8d 4d c0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  045ea	51		 push	 ecx
  045eb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  045ee	8b 02		 mov	 eax, DWORD PTR [edx]
  045f0	50		 push	 eax
  045f1	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  045f6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1845 : 
; 1846 : 		return FALSE;

  045f9	33 c0		 xor	 eax, eax
  045fb	e9 74 06 00 00	 jmp	 $LN4@WingChaosM
$LN51@WingChaosM:

; 1847 : 	}
; 1848 : 
; 1849 : 	if ( iCharmOfLuckCount > 10 )

  04600	83 7d d4 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  04604	7e 28		 jle	 SHORT $LN50@WingChaosM

; 1850 : 	{
; 1851 : 		lpObj->ChaosLock = FALSE;

  04606	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04609	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1852 : 		pMsg.Result = 0xF0;

  04613	c6 45 c3 f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 1853 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  04617	0f b6 45 c1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0461b	50		 push	 eax
  0461c	8d 4d c0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0461f	51		 push	 ecx
  04620	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04623	8b 02		 mov	 eax, DWORD PTR [edx]
  04625	50		 push	 eax
  04626	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0462b	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN50@WingChaosM:

; 1854 : 	}
; 1855 : 
; 1856 : 	int nChaosNeedMoney = 5000000;

  0462e	c7 45 bc 40 4b
	4c 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 5000000 ; 004c4b40H

; 1857 : 	int iChaosTaxMoney = (int)((__int64)nChaosNeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  04635	8b 45 bc	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  04638	99		 cdq
  04639	8b f0		 mov	 esi, eax
  0463b	8b fa		 mov	 edi, edx
  0463d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04640	8b 08		 mov	 ecx, DWORD PTR [eax]
  04642	51		 push	 ecx
  04643	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  04648	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  0464d	99		 cdq
  0464e	52		 push	 edx
  0464f	50		 push	 eax
  04650	57		 push	 edi
  04651	56		 push	 esi
  04652	e8 00 00 00 00	 call	 __allmul
  04657	6a 00		 push	 0
  04659	6a 64		 push	 100			; 00000064H
  0465b	52		 push	 edx
  0465c	50		 push	 eax
  0465d	e8 00 00 00 00	 call	 __alldiv
  04662	89 45 b8	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 1858 : 
; 1859 : 	if ( iChaosTaxMoney < 0 )

  04665	83 7d b8 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  04669	7d 07		 jge	 SHORT $LN49@WingChaosM

; 1860 : 	{
; 1861 : 		iChaosTaxMoney = 0;

  0466b	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN49@WingChaosM:

; 1862 : 	}
; 1863 : 
; 1864 : 	nChaosNeedMoney += iChaosTaxMoney;

  04672	8b 45 bc	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  04675	03 45 b8	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  04678	89 45 bc	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], eax

; 1865 : 
; 1866 : 		nChaosNeedMoney += lpObj->m_AddMixMoney;

  0467b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0467e	8b 4d bc	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  04681	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  04687	89 4d bc	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 1867 : 
; 1868 : 	if ( nChaosNeedMoney < 0 )

  0468a	79 07		 jns	 SHORT $LN48@WingChaosM

; 1869 : 	{
; 1870 : 		nChaosNeedMoney = 0;

  0468c	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0
$LN48@WingChaosM:

; 1871 : 	}
; 1872 : 
; 1873 : 	if ( lpObj->Money < nChaosNeedMoney )

  04693	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04696	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0469c	3b 4d bc	 cmp	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  0469f	7d 32		 jge	 SHORT $LN47@WingChaosM

; 1874 : 	{
; 1875 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  046a1	c6 45 c3 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 1876 : 		
; 1877 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  046a5	0f b6 45 c1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  046a9	50		 push	 eax
  046aa	8d 4d c0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  046ad	51		 push	 ecx
  046ae	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  046b1	8b 02		 mov	 eax, DWORD PTR [edx]
  046b3	50		 push	 eax
  046b4	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  046b9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1878 : 		lpObj->ChaosLock = FALSE;

  046bc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  046bf	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1879 : 
; 1880 : 		return TRUE;

  046c9	b8 01 00 00 00	 mov	 eax, 1
  046ce	e9 a1 05 00 00	 jmp	 $LN4@WingChaosM
$LN47@WingChaosM:

; 1881 : 	}
; 1882 : 
; 1883 : 	CItem * pWing = &lpObj->pChaosBox[WingIndex];

  046d3	8b 45 e8	 mov	 eax, DWORD PTR _WingIndex$[ebp]
  046d6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  046dc	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  046df	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  046e5	89 45 b4	 mov	 DWORD PTR _pWing$[ebp], eax

; 1884 : 	lpObj->ChaosSuccessRate = (DWORD)((DWORD)iWingChaosMoney / (DWORD)4000000);

  046e8	8b 45 dc	 mov	 eax, DWORD PTR _iWingChaosMoney$[ebp]
  046eb	33 d2		 xor	 edx, edx
  046ed	b9 00 09 3d 00	 mov	 ecx, 4000000		; 003d0900H
  046f2	f7 f1		 div	 ecx
  046f4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  046f7	89 82 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], eax

; 1885 : 	lpObj->ChaosSuccessRate += iChaosMoney / 40000;

  046fd	8b 45 e4	 mov	 eax, DWORD PTR _iChaosMoney$[ebp]
  04700	99		 cdq
  04701	b9 40 9c 00 00	 mov	 ecx, 40000		; 00009c40H
  04706	f7 f9		 idiv	 ecx
  04708	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0470b	03 82 84 0e 00
	00		 add	 eax, DWORD PTR [edx+3716]
  04711	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04714	89 81 84 0e 00
	00		 mov	 DWORD PTR [ecx+3716], eax

; 1886 : 
; 1887 : 	if ( lpObj->ChaosSuccessRate < 0 ) //season 2.5 fix

  0471a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0471d	83 b8 84 0e 00
	00 00		 cmp	 DWORD PTR [eax+3716], 0
  04724	7d 0d		 jge	 SHORT $LN46@WingChaosM

; 1888 : 	{
; 1889 : 		lpObj->ChaosSuccessRate =  100;

  04726	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04729	c7 80 84 0e 00
	00 64 00 00 00	 mov	 DWORD PTR [eax+3716], 100 ; 00000064H
$LN46@WingChaosM:

; 1890 : 	}
; 1891 : 
; 1892 : 	if ( lpObj->ChaosSuccessRate == 0 )

  04733	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04736	83 b8 84 0e 00
	00 00		 cmp	 DWORD PTR [eax+3716], 0
  0473d	75 2f		 jne	 SHORT $LN45@WingChaosM

; 1893 : 	{
; 1894 : 		pMsg.Result = CB_INCORRECT_MIX_ITEMS;

  0473f	c6 45 c3 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 1895 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  04743	0f b6 45 c1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  04747	50		 push	 eax
  04748	8d 4d c0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0474b	51		 push	 ecx
  0474c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0474f	8b 02		 mov	 eax, DWORD PTR [edx]
  04751	50		 push	 eax
  04752	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  04757	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1896 : 		lpObj->ChaosLock = FALSE;

  0475a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0475d	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 1897 : 
; 1898 : 		return FALSE;

  04767	33 c0		 xor	 eax, eax
  04769	e9 06 05 00 00	 jmp	 $LN4@WingChaosM
$LN45@WingChaosM:

; 1899 : 	}
; 1900 : 
; 1901 : 	LogChaosItem(lpObj, "WingMix,2");

  0476e	68 00 00 00 00	 push	 OFFSET ??_C@_09GJEFJCKN@WingMix?02?$AA@
  04773	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04776	50		 push	 eax
  04777	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0477a	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 1902 : 	LogAddTD("[WingMix,2] Chaos Mix Start");

  0477f	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@JPABEGNL@?$FLWingMix?02?$FN?5Chaos?5Mix?5Start?$AA@
  04784	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0478a	83 c4 04	 add	 esp, 4

; 1903 : 	//int ExWing2MaxSuccessRate = GetPrivateProfileInt("ChaosMix","Wing2MaxSuccessRate",90,"..\\Data\\ExData\\CommonServer.ini");
; 1904 : 	if(lpObj->ChaosSuccessRate > ExConfig.CommonServer.ExWing2MaxSuccessRate)

  0478d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04790	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  04796	3b 0d 7c 00 00
	00		 cmp	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+124
  0479c	7e 0f		 jle	 SHORT $LN44@WingChaosM

; 1905 : 	{
; 1906 : 		lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExWing2MaxSuccessRate;

  0479e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  047a1	8b 0d 7c 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+124
  047a7	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
$LN44@WingChaosM:

; 1907 : 	}
; 1908 : 
; 1909 : 	lpObj->ChaosSuccessRate += iCharmOfLuckCount;

  047ad	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  047b0	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  047b6	03 4d d4	 add	 ecx, DWORD PTR _iCharmOfLuckCount$[ebp]
  047b9	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  047bc	89 8a 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], ecx

; 1910 : 
; 1911 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  047c2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  047c5	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  047cb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  047ce	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  047d4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  047d7	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 1912 : 
; 1913 : 
; 1914 : 	lpObj->Money  -= nChaosNeedMoney;

  047dd	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  047e0	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  047e6	2b 4d bc	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  047e9	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  047ec	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 1915 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  047f2	8b 45 b8	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  047f5	50		 push	 eax
  047f6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  047fb	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 1916 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  04800	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04803	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  04809	51		 push	 ecx
  0480a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0480d	8b 02		 mov	 eax, DWORD PTR [edx]
  0480f	50		 push	 eax
  04810	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  04815	83 c4 08	 add	 esp, 8

; 1917 : 
; 1918 : 	srand(time(NULL));

  04818	6a 00		 push	 0
  0481a	e8 00 00 00 00	 call	 _time
  0481f	83 c4 04	 add	 esp, 4
  04822	50		 push	 eax
  04823	e8 00 00 00 00	 call	 _srand
  04828	83 c4 04	 add	 esp, 4

; 1919 : 
; 1920 : 	if ( (rand()%100) < lpObj->ChaosSuccessRate )

  0482b	e8 00 00 00 00	 call	 _rand
  04830	99		 cdq
  04831	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  04836	f7 f9		 idiv	 ecx
  04838	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0483b	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  04841	0f 8d 80 03 00
	00		 jge	 $LN43@WingChaosM

; 1921 : 	{
; 1922 : 		int iWingLevel = 0;

  04847	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _iWingLevel$236103[ebp], 0

; 1923 : 		int iItemType;
; 1924 : 		int iItemSubType;
; 1925 : 
; 1926 : 		if ( iSleeveOfLord != 0 )

  0484e	83 7d d8 00	 cmp	 DWORD PTR _iSleeveOfLord$[ebp], 0
  04852	74 57		 je	 SHORT $LN42@WingChaosM

; 1927 : 		{
; 1928 : 
; 1929 : 			if(ExConfig.ExCustom.SwitchChar == 1 || ExConfig.ExCustom.SwitchChar == 2)

  04854	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A, 1
  0485b	74 09		 je	 SHORT $LN40@WingChaosM
  0485d	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A, 2
  04864	75 10		 jne	 SHORT $LN41@WingChaosM
$LN40@WingChaosM:

; 1930 : 			{
; 1931 : 				iItemType		= 13;

  04866	c7 45 ac 0d 00
	00 00		 mov	 DWORD PTR _iItemType$236104[ebp], 13 ; 0000000dH

; 1932 : 				iItemSubType	= 30;

  0486d	c7 45 a8 1e 00
	00 00		 mov	 DWORD PTR _iItemSubType$236105[ebp], 30 ; 0000001eH

; 1933 : 			}
; 1934 : 			else

  04874	eb 33		 jmp	 SHORT $LN37@WingChaosM
$LN41@WingChaosM:

; 1935 : 			{
; 1936 : 				if( rand() % 2 )

  04876	e8 00 00 00 00	 call	 _rand
  0487b	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  04880	79 05		 jns	 SHORT $LN84@WingChaosM
  04882	48		 dec	 eax
  04883	83 c8 fe	 or	 eax, -2			; fffffffeH
  04886	40		 inc	 eax
$LN84@WingChaosM:
  04887	85 c0		 test	 eax, eax
  04889	74 10		 je	 SHORT $LN38@WingChaosM

; 1937 : 				{
; 1938 : 					iItemType		= 13;

  0488b	c7 45 ac 0d 00
	00 00		 mov	 DWORD PTR _iItemType$236104[ebp], 13 ; 0000000dH

; 1939 : 					iItemSubType	= 30;

  04892	c7 45 a8 1e 00
	00 00		 mov	 DWORD PTR _iItemSubType$236105[ebp], 30 ; 0000001eH

; 1940 : 				}
; 1941 : 				else

  04899	eb 0e		 jmp	 SHORT $LN37@WingChaosM
$LN38@WingChaosM:

; 1942 : 				{
; 1943 : 					iItemType		= 12;

  0489b	c7 45 ac 0c 00
	00 00		 mov	 DWORD PTR _iItemType$236104[ebp], 12 ; 0000000cH

; 1944 : 					iItemSubType	= 49;

  048a2	c7 45 a8 31 00
	00 00		 mov	 DWORD PTR _iItemSubType$236105[ebp], 49 ; 00000031H
$LN37@WingChaosM:

; 1945 : 				}
; 1946 : 			}
; 1947 : 
; 1948 : 
; 1949 : 
; 1950 : 		}
; 1951 : 		else

  048a9	eb 4c		 jmp	 SHORT $LN34@WingChaosM
$LN42@WingChaosM:

; 1952 : 		{
; 1953 : 			iItemType = 12;

  048ab	c7 45 ac 0c 00
	00 00		 mov	 DWORD PTR _iItemType$236104[ebp], 12 ; 0000000cH

; 1954 : #ifdef MART_FIX
; 1955 : 			int iRand = rand()%5;

  048b2	e8 00 00 00 00	 call	 _rand
  048b7	99		 cdq
  048b8	b9 05 00 00 00	 mov	 ecx, 5
  048bd	f7 f9		 idiv	 ecx
  048bf	89 55 a4	 mov	 DWORD PTR _iRand$236113[ebp], edx

; 1956 : #else
; 1957 : 			int iRand = rand()%4;
; 1958 : #endif // MART_FIX
; 1959 : 
; 1960 : 			if(iRand == 4 && ExConfig.ExCustom.SwitchChar != 2)//Conflict //See DangeR

  048c2	83 7d a4 04	 cmp	 DWORD PTR _iRand$236113[ebp], 4
  048c6	75 12		 jne	 SHORT $LN35@WingChaosM
  048c8	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A, 2
  048cf	74 09		 je	 SHORT $LN35@WingChaosM

; 1961 : 			{
; 1962 : 				iItemSubType = 42;

  048d1	c7 45 a8 2a 00
	00 00		 mov	 DWORD PTR _iItemSubType$236105[ebp], 42 ; 0000002aH

; 1963 : 			}
; 1964 : 			else

  048d8	eb 1d		 jmp	 SHORT $LN34@WingChaosM
$LN35@WingChaosM:

; 1965 : 			{
; 1966 : 				iRand = rand()%4;

  048da	e8 00 00 00 00	 call	 _rand
  048df	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  048e4	79 05		 jns	 SHORT $LN85@WingChaosM
  048e6	48		 dec	 eax
  048e7	83 c8 fc	 or	 eax, -4			; fffffffcH
  048ea	40		 inc	 eax
$LN85@WingChaosM:
  048eb	89 45 a4	 mov	 DWORD PTR _iRand$236113[ebp], eax

; 1967 : 				iItemSubType = iRand + 3;//twister slash

  048ee	8b 45 a4	 mov	 eax, DWORD PTR _iRand$236113[ebp]
  048f1	83 c0 03	 add	 eax, 3
  048f4	89 45 a8	 mov	 DWORD PTR _iItemSubType$236105[ebp], eax
$LN34@WingChaosM:

; 1968 : 			}
; 1969 : 		}
; 1970 : 
; 1971 : 		if(WingCharmItemNum > -1) //season4.5 add-on

  048f7	83 7d e0 ff	 cmp	 DWORD PTR _WingCharmItemNum$[ebp], -1
  048fb	0f 8e a4 00 00
	00		 jle	 $LN31@WingChaosM

; 1972 : 		{
; 1973 : 			int WingCharmIndex = WingCharmItemNum ^ ITEMGET(13,0);

  04901	8b 45 e0	 mov	 eax, DWORD PTR _WingCharmItemNum$[ebp]
  04904	35 00 1a 00 00	 xor	 eax, 6656		; 00001a00H
  04909	89 45 a0	 mov	 DWORD PTR _WingCharmIndex$236117[ebp], eax

; 1974 : 
; 1975 : 			switch(WingCharmIndex)

  0490c	8b 45 a0	 mov	 eax, DWORD PTR _WingCharmIndex$236117[ebp]
  0490f	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv359[ebp], eax
  04915	8b 8d 3c ff ff
	ff		 mov	 ecx, DWORD PTR tv359[ebp]
  0491b	83 e9 58	 sub	 ecx, 88			; 00000058H
  0491e	89 8d 3c ff ff
	ff		 mov	 DWORD PTR tv359[ebp], ecx
  04924	83 bd 3c ff ff
	ff 04		 cmp	 DWORD PTR tv359[ebp], 4
  0492b	77 62		 ja	 SHORT $LN23@WingChaosM
  0492d	8b 95 3c ff ff
	ff		 mov	 edx, DWORD PTR tv359[ebp]
  04933	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN90@WingChaosM[edx*4]
$LN30@WingChaosM:

; 1976 : 			{
; 1977 : 			case 88:
; 1978 : 				iItemSubType = 5;

  0493a	c7 45 a8 05 00
	00 00		 mov	 DWORD PTR _iItemSubType$236105[ebp], 5

; 1979 : 				break;

  04941	eb 62		 jmp	 SHORT $LN31@WingChaosM
$LN29@WingChaosM:

; 1980 : 			case 89:
; 1981 : 				iItemSubType = 4;

  04943	c7 45 a8 04 00
	00 00		 mov	 DWORD PTR _iItemSubType$236105[ebp], 4

; 1982 : 				break;

  0494a	eb 59		 jmp	 SHORT $LN31@WingChaosM
$LN28@WingChaosM:

; 1983 : 			case 90:
; 1984 : 				iItemSubType = 3;

  0494c	c7 45 a8 03 00
	00 00		 mov	 DWORD PTR _iItemSubType$236105[ebp], 3

; 1985 : 				break;

  04953	eb 50		 jmp	 SHORT $LN31@WingChaosM
$LN27@WingChaosM:

; 1986 : 			case 91:
; 1987 : 				{
; 1988 : 					if(ExConfig.ExCustom.SwitchChar == 2)

  04955	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A, 2
  0495c	75 1f		 jne	 SHORT $LN26@WingChaosM

; 1989 : 					{
; 1990 : 						int iRand = rand()%4;

  0495e	e8 00 00 00 00	 call	 _rand
  04963	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  04968	79 05		 jns	 SHORT $LN86@WingChaosM
  0496a	48		 dec	 eax
  0496b	83 c8 fc	 or	 eax, -4			; fffffffcH
  0496e	40		 inc	 eax
$LN86@WingChaosM:
  0496f	89 45 9c	 mov	 DWORD PTR _iRand$236127[ebp], eax

; 1991 : 						iItemSubType = iRand + 3;

  04972	8b 45 9c	 mov	 eax, DWORD PTR _iRand$236127[ebp]
  04975	83 c0 03	 add	 eax, 3
  04978	89 45 a8	 mov	 DWORD PTR _iItemSubType$236105[ebp], eax

; 1992 : 					}
; 1993 : 					else

  0497b	eb 07		 jmp	 SHORT $LN25@WingChaosM
$LN26@WingChaosM:

; 1994 : 					{
; 1995 : 						iItemSubType = 42;

  0497d	c7 45 a8 2a 00
	00 00		 mov	 DWORD PTR _iItemSubType$236105[ebp], 42 ; 0000002aH
$LN25@WingChaosM:

; 1996 : 					}
; 1997 : 				}	
; 1998 : 				break;

  04984	eb 1f		 jmp	 SHORT $LN31@WingChaosM
$LN24@WingChaosM:

; 1999 : 			case 92:
; 2000 : 				iItemSubType = 6;

  04986	c7 45 a8 06 00
	00 00		 mov	 DWORD PTR _iItemSubType$236105[ebp], 6

; 2001 : 				break;

  0498d	eb 16		 jmp	 SHORT $LN31@WingChaosM
$LN23@WingChaosM:

; 2002 : 			default:
; 2003 : 				LogAddTD("[MixSystem][WingChaosMix] WingCharmItemNum => %d , WingCharmIndex => %d", WingCharmItemNum, WingCharmIndex);

  0498f	8b 45 a0	 mov	 eax, DWORD PTR _WingCharmIndex$236117[ebp]
  04992	50		 push	 eax
  04993	8b 4d e0	 mov	 ecx, DWORD PTR _WingCharmItemNum$[ebp]
  04996	51		 push	 ecx
  04997	68 00 00 00 00	 push	 OFFSET ??_C@_0EI@LFGBMPMJ@?$FLMixSystem?$FN?$FLWingChaosMix?$FN?5WingCh@
  0499c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  049a2	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN31@WingChaosM:

; 2004 : 			}
; 2005 : 		}
; 2006 : 
; 2007 : 		int iWingNum = ITEMGET(iItemType, iItemSubType);

  049a5	8b 45 ac	 mov	 eax, DWORD PTR _iItemType$236104[ebp]
  049a8	c1 e0 09	 shl	 eax, 9
  049ab	03 45 a8	 add	 eax, DWORD PTR _iItemSubType$236105[ebp]
  049ae	89 45 98	 mov	 DWORD PTR _iWingNum$236132[ebp], eax

; 2008 : 		int iOption1 = 0;

  049b1	c7 45 94 00 00
	00 00		 mov	 DWORD PTR _iOption1$236133[ebp], 0

; 2009 : 		int iOption2 = 0;

  049b8	c7 45 90 00 00
	00 00		 mov	 DWORD PTR _iOption2$236134[ebp], 0

; 2010 : 		int iOption3 = 0;

  049bf	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR _iOption3$236135[ebp], 0

; 2011 : 
; 2012 : 		if ( (rand()%5) == 0 )

  049c6	e8 00 00 00 00	 call	 _rand
  049cb	99		 cdq
  049cc	b9 05 00 00 00	 mov	 ecx, 5
  049d1	f7 f9		 idiv	 ecx
  049d3	85 d2		 test	 edx, edx
  049d5	75 07		 jne	 SHORT $LN22@WingChaosM

; 2013 : 		{
; 2014 : 			iOption1 = 1;

  049d7	c7 45 94 01 00
	00 00		 mov	 DWORD PTR _iOption1$236133[ebp], 1
$LN22@WingChaosM:

; 2015 : 		}
; 2016 : 
; 2017 : 		int iRandomValue = rand() % 100;

  049de	e8 00 00 00 00	 call	 _rand
  049e3	99		 cdq
  049e4	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  049e9	f7 f9		 idiv	 ecx
  049eb	89 55 88	 mov	 DWORD PTR _iRandomValue$236137[ebp], edx

; 2018 : 		int iRandomValue2 = rand() % 3;

  049ee	e8 00 00 00 00	 call	 _rand
  049f3	99		 cdq
  049f4	b9 03 00 00 00	 mov	 ecx, 3
  049f9	f7 f9		 idiv	 ecx
  049fb	89 55 84	 mov	 DWORD PTR _iRandomValue2$236138[ebp], edx

; 2019 : 
; 2020 : 		switch ( iRandomValue2 )

  049fe	8b 45 84	 mov	 eax, DWORD PTR _iRandomValue2$236138[ebp]
  04a01	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv378[ebp], eax
  04a07	83 bd 3c ff ff
	ff 00		 cmp	 DWORD PTR tv378[ebp], 0
  04a0e	74 14		 je	 SHORT $LN19@WingChaosM
  04a10	83 bd 3c ff ff
	ff 01		 cmp	 DWORD PTR tv378[ebp], 1
  04a17	74 1a		 je	 SHORT $LN17@WingChaosM
  04a19	83 bd 3c ff ff
	ff 02		 cmp	 DWORD PTR tv378[ebp], 2
  04a20	74 20		 je	 SHORT $LN15@WingChaosM
  04a22	eb 2b		 jmp	 SHORT $LN20@WingChaosM
$LN19@WingChaosM:

; 2021 : 		{
; 2022 : 			case 0:
; 2023 : 				if ( iRandomValue < 4 )

  04a24	83 7d 88 04	 cmp	 DWORD PTR _iRandomValue$236137[ebp], 4
  04a28	7d 07		 jge	 SHORT $LN18@WingChaosM

; 2024 : 				{
; 2025 : 					iOption2 = 3;	// +12

  04a2a	c7 45 90 03 00
	00 00		 mov	 DWORD PTR _iOption2$236134[ebp], 3
$LN18@WingChaosM:

; 2026 : 				}
; 2027 : 				break;

  04a31	eb 1c		 jmp	 SHORT $LN20@WingChaosM
$LN17@WingChaosM:

; 2028 : 
; 2029 : 			case 1:
; 2030 : 				if ( iRandomValue < 10 )

  04a33	83 7d 88 0a	 cmp	 DWORD PTR _iRandomValue$236137[ebp], 10 ; 0000000aH
  04a37	7d 07		 jge	 SHORT $LN16@WingChaosM

; 2031 : 				{
; 2032 : 					iOption2 = 2;	// +8

  04a39	c7 45 90 02 00
	00 00		 mov	 DWORD PTR _iOption2$236134[ebp], 2
$LN16@WingChaosM:

; 2033 : 				}
; 2034 : 				break;

  04a40	eb 0d		 jmp	 SHORT $LN20@WingChaosM
$LN15@WingChaosM:

; 2035 : 
; 2036 : 			case 2:
; 2037 : 				if ( iRandomValue < 20 )

  04a42	83 7d 88 14	 cmp	 DWORD PTR _iRandomValue$236137[ebp], 20 ; 00000014H
  04a46	7d 07		 jge	 SHORT $LN14@WingChaosM

; 2038 : 				{
; 2039 : 					iOption2 = 1;	// +4;

  04a48	c7 45 90 01 00
	00 00		 mov	 DWORD PTR _iOption2$236134[ebp], 1
$LN14@WingChaosM:
$LN20@WingChaosM:

; 2040 : 				}
; 2041 : 		}
; 2042 : 
; 2043 : 		if ( iSleeveOfLord != FALSE )

  04a4f	83 7d d8 00	 cmp	 DWORD PTR _iSleeveOfLord$[ebp], 0
  04a53	0f 84 8a 00 00
	00		 je	 $LN13@WingChaosM

; 2044 : 		{
; 2045 : 			if( (rand()%5) == 0 )

  04a59	e8 00 00 00 00	 call	 _rand
  04a5e	99		 cdq
  04a5f	b9 05 00 00 00	 mov	 ecx, 5
  04a64	f7 f9		 idiv	 ecx
  04a66	85 d2		 test	 edx, edx
  04a68	75 62		 jne	 SHORT $LN9@WingChaosM

; 2046 : 			{
; 2047 : 				if( iItemType == 12 && iItemSubType == 49 )

  04a6a	83 7d ac 0c	 cmp	 DWORD PTR _iItemType$236104[ebp], 12 ; 0000000cH
  04a6e	75 3f		 jne	 SHORT $LN11@WingChaosM
  04a70	83 7d a8 31	 cmp	 DWORD PTR _iItemSubType$236105[ebp], 49 ; 00000031H
  04a74	75 39		 jne	 SHORT $LN11@WingChaosM

; 2048 : 				{
; 2049 : 					iOption3 = 1 << (rand()%3);

  04a76	e8 00 00 00 00	 call	 _rand
  04a7b	99		 cdq
  04a7c	b9 03 00 00 00	 mov	 ecx, 3
  04a81	f7 f9		 idiv	 ecx
  04a83	b8 01 00 00 00	 mov	 eax, 1
  04a88	8b ca		 mov	 ecx, edx
  04a8a	d3 e0		 shl	 eax, cl
  04a8c	89 45 8c	 mov	 DWORD PTR _iOption3$236135[ebp], eax

; 2050 : 					if ( (rand()%2) != 0 )

  04a8f	e8 00 00 00 00	 call	 _rand
  04a94	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  04a99	79 05		 jns	 SHORT $LN87@WingChaosM
  04a9b	48		 dec	 eax
  04a9c	83 c8 fe	 or	 eax, -2			; fffffffeH
  04a9f	40		 inc	 eax
$LN87@WingChaosM:
  04aa0	85 c0		 test	 eax, eax
  04aa2	74 09		 je	 SHORT $LN10@WingChaosM

; 2051 : 					{
; 2052 : 						iOption3 |= 0x20;

  04aa4	8b 45 8c	 mov	 eax, DWORD PTR _iOption3$236135[ebp]
  04aa7	83 c8 20	 or	 eax, 32			; 00000020H
  04aaa	89 45 8c	 mov	 DWORD PTR _iOption3$236135[ebp], eax
$LN10@WingChaosM:

; 2053 : 					}
; 2054 : 				}
; 2055 : 				else

  04aad	eb 1d		 jmp	 SHORT $LN9@WingChaosM
$LN11@WingChaosM:

; 2056 : 				{
; 2057 : 					iOption3 = 1 << (rand()%4);

  04aaf	e8 00 00 00 00	 call	 _rand
  04ab4	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  04ab9	79 05		 jns	 SHORT $LN88@WingChaosM
  04abb	48		 dec	 eax
  04abc	83 c8 fc	 or	 eax, -4			; fffffffcH
  04abf	40		 inc	 eax
$LN88@WingChaosM:
  04ac0	ba 01 00 00 00	 mov	 edx, 1
  04ac5	8b c8		 mov	 ecx, eax
  04ac7	d3 e2		 shl	 edx, cl
  04ac9	89 55 8c	 mov	 DWORD PTR _iOption3$236135[ebp], edx
$LN9@WingChaosM:

; 2058 : 				}			
; 2059 : 			}
; 2060 : 			// ----
; 2061 : 			if( iItemType == 13 && iItemSubType == 30 )

  04acc	83 7d ac 0d	 cmp	 DWORD PTR _iItemType$236104[ebp], 13 ; 0000000dH
  04ad0	75 0f		 jne	 SHORT $LN8@WingChaosM
  04ad2	83 7d a8 1e	 cmp	 DWORD PTR _iItemSubType$236105[ebp], 30 ; 0000001eH
  04ad6	75 09		 jne	 SHORT $LN8@WingChaosM

; 2062 : 			{
; 2063 : 				iOption3 |= 0x20;

  04ad8	8b 45 8c	 mov	 eax, DWORD PTR _iOption3$236135[ebp]
  04adb	83 c8 20	 or	 eax, 32			; 00000020H
  04ade	89 45 8c	 mov	 DWORD PTR _iOption3$236135[ebp], eax
$LN8@WingChaosM:

; 2064 : 			}
; 2065 : 		}
; 2066 : 		else

  04ae1	eb 48		 jmp	 SHORT $LN5@WingChaosM
$LN13@WingChaosM:

; 2067 : 		{
; 2068 : 			if ( (rand()%5) == 0 )

  04ae3	e8 00 00 00 00	 call	 _rand
  04ae8	99		 cdq
  04ae9	b9 05 00 00 00	 mov	 ecx, 5
  04aee	f7 f9		 idiv	 ecx
  04af0	85 d2		 test	 edx, edx
  04af2	75 19		 jne	 SHORT $LN6@WingChaosM

; 2069 : 			{
; 2070 : 				iOption3 = 1 << (rand()%3);

  04af4	e8 00 00 00 00	 call	 _rand
  04af9	99		 cdq
  04afa	b9 03 00 00 00	 mov	 ecx, 3
  04aff	f7 f9		 idiv	 ecx
  04b01	b8 01 00 00 00	 mov	 eax, 1
  04b06	8b ca		 mov	 ecx, edx
  04b08	d3 e0		 shl	 eax, cl
  04b0a	89 45 8c	 mov	 DWORD PTR _iOption3$236135[ebp], eax
$LN6@WingChaosM:

; 2071 : 			}
; 2072 : 
; 2073 : 			if ( (rand()%2) != 0 )

  04b0d	e8 00 00 00 00	 call	 _rand
  04b12	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  04b17	79 05		 jns	 SHORT $LN89@WingChaosM
  04b19	48		 dec	 eax
  04b1a	83 c8 fe	 or	 eax, -2			; fffffffeH
  04b1d	40		 inc	 eax
$LN89@WingChaosM:
  04b1e	85 c0		 test	 eax, eax
  04b20	74 09		 je	 SHORT $LN5@WingChaosM

; 2074 : 			{
; 2075 : 				iOption3 |= 0x20;

  04b22	8b 45 8c	 mov	 eax, DWORD PTR _iOption3$236135[ebp]
  04b25	83 c8 20	 or	 eax, 32			; 00000020H
  04b28	89 45 8c	 mov	 DWORD PTR _iOption3$236135[ebp], eax
$LN5@WingChaosM:

; 2076 : 			}
; 2077 : 		
; 2078 : 		}
; 2079 : 
; 2080 : 		::ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, iWingNum, (BYTE)iWingLevel, 0, 0, (BYTE)iOption1, (BYTE)iOption2, -1, (BYTE)iOption3, 0);

  04b2b	6a 00		 push	 0
  04b2d	0f b6 45 8c	 movzx	 eax, BYTE PTR _iOption3$236135[ebp]
  04b31	50		 push	 eax
  04b32	6a ff		 push	 -1
  04b34	0f b6 4d 90	 movzx	 ecx, BYTE PTR _iOption2$236134[ebp]
  04b38	51		 push	 ecx
  04b39	0f b6 55 94	 movzx	 edx, BYTE PTR _iOption1$236133[ebp]
  04b3d	52		 push	 edx
  04b3e	6a 00		 push	 0
  04b40	6a 00		 push	 0
  04b42	0f b6 45 b0	 movzx	 eax, BYTE PTR _iWingLevel$236103[ebp]
  04b46	50		 push	 eax
  04b47	8b 4d 98	 mov	 ecx, DWORD PTR _iWingNum$236132[ebp]
  04b4a	51		 push	 ecx
  04b4b	6a 00		 push	 0
  04b4d	6a 00		 push	 0
  04b4f	68 ff 00 00 00	 push	 255			; 000000ffH
  04b54	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04b57	8b 02		 mov	 eax, DWORD PTR [edx]
  04b59	50		 push	 eax
  04b5a	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  04b5f	83 c4 34	 add	 esp, 52			; 00000034H

; 2081 : 		::gObjInventoryCommit(lpObj->m_Index);

  04b62	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04b65	8b 08		 mov	 ecx, DWORD PTR [eax]
  04b67	51		 push	 ecx
  04b68	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  04b6d	83 c4 04	 add	 esp, 4

; 2082 : #if(SYSTEM_ACHIEVEMENTS)
; 2083 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  04b70	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04b73	8b 08		 mov	 ecx, DWORD PTR [eax]
  04b75	51		 push	 ecx
  04b76	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  04b7b	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 2084 : #endif
; 2085 : 		::LogAddTD("[WingMix,2] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate : %d", lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney, iCharmOfLuckCount);

  04b80	8b 45 d4	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  04b83	50		 push	 eax
  04b84	8b 4d bc	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  04b87	51		 push	 ecx
  04b88	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04b8b	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  04b91	50		 push	 eax
  04b92	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04b95	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  04b9b	52		 push	 edx
  04b9c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04b9f	83 c0 77	 add	 eax, 119		; 00000077H
  04ba2	50		 push	 eax
  04ba3	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04ba6	83 c1 6c	 add	 ecx, 108		; 0000006cH
  04ba9	51		 push	 ecx
  04baa	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BHIPJGFK@?$FLWingMix?02?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Succe@
  04baf	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04bb5	83 c4 1c	 add	 esp, 28			; 0000001cH

; 2086 : 		return TRUE;

  04bb8	b8 01 00 00 00	 mov	 eax, 1
  04bbd	e9 b2 00 00 00	 jmp	 $LN4@WingChaosM

; 2087 : 	}
; 2088 : 	else

  04bc2	e9 ad 00 00 00	 jmp	 $LN4@WingChaosM
$LN43@WingChaosM:

; 2089 : 	{
; 2090 : 		for (int n=0;n<CHAOS_BOX_SIZE;n++)

  04bc7	c7 45 80 00 00
	00 00		 mov	 DWORD PTR _n$236164[ebp], 0
  04bce	eb 09		 jmp	 SHORT $LN3@WingChaosM
$LN2@WingChaosM:
  04bd0	8b 45 80	 mov	 eax, DWORD PTR _n$236164[ebp]
  04bd3	83 c0 01	 add	 eax, 1
  04bd6	89 45 80	 mov	 DWORD PTR _n$236164[ebp], eax
$LN3@WingChaosM:
  04bd9	83 7d 80 20	 cmp	 DWORD PTR _n$236164[ebp], 32 ; 00000020H
  04bdd	7d 19		 jge	 SHORT $LN1@WingChaosM

; 2091 : 		{
; 2092 : 			lpObj->pChaosBox[n].Clear();

  04bdf	8b 4d 80	 mov	 ecx, DWORD PTR _n$236164[ebp]
  04be2	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  04be8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04beb	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  04bf1	e8 00 00 00 00	 call	 ?Clear@CItem@@QAEXXZ	; CItem::Clear

; 2093 : 		}

  04bf6	eb d8		 jmp	 SHORT $LN2@WingChaosM
$LN1@WingChaosM:

; 2094 : 
; 2095 : 		GCUserChaosBoxSend(lpObj, 0);

  04bf8	6a 00		 push	 0
  04bfa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04bfd	50		 push	 eax
  04bfe	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  04c03	83 c4 08	 add	 esp, 8

; 2096 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  04c06	0f b6 45 c1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  04c0a	50		 push	 eax
  04c0b	8d 4d c0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04c0e	51		 push	 ecx
  04c0f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04c12	8b 02		 mov	 eax, DWORD PTR [edx]
  04c14	50		 push	 eax
  04c15	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  04c1a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2097 : 		::LogAddTD("[WingMix,2] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : %d", lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney, iCharmOfLuckCount);

  04c1d	8b 45 d4	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  04c20	50		 push	 eax
  04c21	8b 4d bc	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  04c24	51		 push	 ecx
  04c25	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  04c28	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  04c2e	50		 push	 eax
  04c2f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04c32	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  04c38	52		 push	 edx
  04c39	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04c3c	83 c0 77	 add	 eax, 119		; 00000077H
  04c3f	50		 push	 eax
  04c40	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04c43	83 c1 6c	 add	 ecx, 108		; 0000006cH
  04c46	51		 push	 ecx
  04c47	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GCGNBAFG@?$FLWingMix?02?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail?5@
  04c4c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  04c52	83 c4 1c	 add	 esp, 28			; 0000001cH

; 2098 : 		lpObj->ChaosLock = FALSE;

  04c55	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04c58	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2099 : #if(SYSTEM_ACHIEVEMENTS)
; 2100 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  04c62	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04c65	8b 08		 mov	 ecx, DWORD PTR [eax]
  04c67	51		 push	 ecx
  04c68	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  04c6d	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix

; 2101 : #endif
; 2102 : 		return FALSE;

  04c72	33 c0		 xor	 eax, eax
$LN4@WingChaosM:

; 2103 : 	}
; 2104 : }

  04c74	5f		 pop	 edi
  04c75	5e		 pop	 esi
  04c76	5b		 pop	 ebx
  04c77	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  04c7a	33 cd		 xor	 ecx, ebp
  04c7c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  04c81	8b e5		 mov	 esp, ebp
  04c83	5d		 pop	 ebp
  04c84	c2 04 00	 ret	 4
  04c87	90		 npad	 1
$LN90@WingChaosM:
  04c88	00 00 00 00	 DD	 $LN30@WingChaosM
  04c8c	00 00 00 00	 DD	 $LN29@WingChaosM
  04c90	00 00 00 00	 DD	 $LN28@WingChaosM
  04c94	00 00 00 00	 DD	 $LN27@WingChaosM
  04c98	00 00 00 00	 DD	 $LN24@WingChaosM
?WingChaosMix@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ENDP	; CMixSystem::WingChaosMix
_TEXT	ENDS
EXTRN	__time64:PROC
; Function compile flags: /Odtp /ZI
; File d:\microsoft visual studio 10.0\vc\include\time.inl
_TEXT	SEGMENT
__Time$ = 8						; size = 4
_time	PROC

; 132  : {

  04ca0	55		 push	 ebp
  04ca1	8b ec		 mov	 ebp, esp
  04ca3	83 ec 40	 sub	 esp, 64			; 00000040H
  04ca6	53		 push	 ebx
  04ca7	56		 push	 esi
  04ca8	57		 push	 edi

; 133  :     return _time64(_Time);

  04ca9	8b 45 08	 mov	 eax, DWORD PTR __Time$[ebp]
  04cac	50		 push	 eax
  04cad	e8 00 00 00 00	 call	 __time64
  04cb2	83 c4 04	 add	 esp, 4

; 134  : }

  04cb5	5f		 pop	 edi
  04cb6	5e		 pop	 esi
  04cb7	5b		 pop	 ebx
  04cb8	8b e5		 mov	 esp, ebp
  04cba	5d		 pop	 ebp
  04cbb	c3		 ret	 0
_time	ENDP
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?BloodCastleItemChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::BloodCastleItemChaosMix
EXTRN	?BloodCastleChaosMix@CBloodCastle@@QAE_NHH@Z:PROC ; CBloodCastle::BloodCastleChaosMix
EXTRN	?GetBridgeMapNumber@CBloodCastle@@QAEHH@Z:PROC	; CBloodCastle::GetBridgeMapNumber
EXTRN	?CheckChoasMixItem@CBloodCastle@@QAEHH@Z:PROC	; CBloodCastle::CheckChoasMixItem
EXTRN	?g_BloodCastle@@3VCBloodCastle@@A:BYTE		; g_BloodCastle
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\mixsystem.cpp
_TEXT	SEGMENT
tv79 = -108						; size = 4
tv89 = -104						; size = 4
tv80 = -104						; size = 4
_iMapNumber$ = -36					; size = 4
_iRET_VAL$ = -32					; size = 4
_aIndex$ = -28						; size = 4
_pMsg$ = -24						; size = 16
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?BloodCastleItemChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::BloodCastleItemChaosMix
; _this$ = ecx

; 2107 : {

  04cc0	55		 push	 ebp
  04cc1	8b ec		 mov	 ebp, esp
  04cc3	83 ec 6c	 sub	 esp, 108		; 0000006cH
  04cc6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  04ccb	33 c5		 xor	 eax, ebp
  04ccd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  04cd0	53		 push	 ebx
  04cd1	56		 push	 esi
  04cd2	57		 push	 edi
  04cd3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 2108 : 	lpObj->ChaosLock = TRUE;

  04cd6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04cd9	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 2109 : 	
; 2110 : 	PMSG_CHAOSMIXRESULT pMsg;
; 2111 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  04ce3	6a 10		 push	 16			; 00000010H
  04ce5	68 86 00 00 00	 push	 134			; 00000086H
  04cea	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04ced	50		 push	 eax
  04cee	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  04cf3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2112 : 	pMsg.Result = CB_ERROR;

  04cf6	c6 45 eb 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 2113 : 
; 2114 : 	int aIndex = lpObj->m_Index;

  04cfa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04cfd	8b 08		 mov	 ecx, DWORD PTR [eax]
  04cff	89 4d e4	 mov	 DWORD PTR _aIndex$[ebp], ecx

; 2115 : 
; 2116 : 	int iRET_VAL = g_BloodCastle.CheckChoasMixItem(aIndex);

  04d02	8b 45 e4	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04d05	50		 push	 eax
  04d06	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  04d0b	e8 00 00 00 00	 call	 ?CheckChoasMixItem@CBloodCastle@@QAEHH@Z ; CBloodCastle::CheckChoasMixItem
  04d10	89 45 e0	 mov	 DWORD PTR _iRET_VAL$[ebp], eax

; 2117 : 
; 2118 : 	int iMapNumber = g_BloodCastle.GetBridgeMapNumber(iRET_VAL-1);

  04d13	8b 45 e0	 mov	 eax, DWORD PTR _iRET_VAL$[ebp]
  04d16	83 e8 01	 sub	 eax, 1
  04d19	50		 push	 eax
  04d1a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  04d1f	e8 00 00 00 00	 call	 ?GetBridgeMapNumber@CBloodCastle@@QAEHH@Z ; CBloodCastle::GetBridgeMapNumber
  04d24	89 45 dc	 mov	 DWORD PTR _iMapNumber$[ebp], eax

; 2119 : 
; 2120 : 	if ( BC_MAP_RANGE(iMapNumber) != FALSE )

  04d27	83 7d dc 34	 cmp	 DWORD PTR _iMapNumber$[ebp], 52 ; 00000034H
  04d2b	75 09		 jne	 SHORT $LN17@BloodCastl
  04d2d	c7 45 98 01 00
	00 00		 mov	 DWORD PTR tv80[ebp], 1
  04d34	eb 21		 jmp	 SHORT $LN18@BloodCastl
$LN17@BloodCastl:
  04d36	83 7d dc 0b	 cmp	 DWORD PTR _iMapNumber$[ebp], 11 ; 0000000bH
  04d3a	7d 09		 jge	 SHORT $LN15@BloodCastl
  04d3c	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv79[ebp], 0
  04d43	eb 0c		 jmp	 SHORT $LN16@BloodCastl
$LN15@BloodCastl:
  04d45	33 c0		 xor	 eax, eax
  04d47	83 7d dc 11	 cmp	 DWORD PTR _iMapNumber$[ebp], 17 ; 00000011H
  04d4b	0f 9e c0	 setle	 al
  04d4e	89 45 94	 mov	 DWORD PTR tv79[ebp], eax
$LN16@BloodCastl:
  04d51	8b 4d 94	 mov	 ecx, DWORD PTR tv79[ebp]
  04d54	89 4d 98	 mov	 DWORD PTR tv80[ebp], ecx
$LN18@BloodCastl:
  04d57	83 7d 98 00	 cmp	 DWORD PTR tv80[ebp], 0
  04d5b	74 2b		 je	 SHORT $LN12@BloodCastl

; 2121 : 	{
; 2122 : 		if ( g_BloodCastle.BloodCastleChaosMix(aIndex, iRET_VAL) == false )

  04d5d	8b 45 e0	 mov	 eax, DWORD PTR _iRET_VAL$[ebp]
  04d60	50		 push	 eax
  04d61	8b 4d e4	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  04d64	51		 push	 ecx
  04d65	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  04d6a	e8 00 00 00 00	 call	 ?BloodCastleChaosMix@CBloodCastle@@QAE_NHH@Z ; CBloodCastle::BloodCastleChaosMix
  04d6f	0f b6 d0	 movzx	 edx, al
  04d72	85 d2		 test	 edx, edx
  04d74	75 0d		 jne	 SHORT $LN11@BloodCastl

; 2123 : 		{
; 2124 : 			lpObj->ChaosLock = FALSE;

  04d76	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04d79	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN11@BloodCastl:

; 2125 : 		}
; 2126 : 		return;

  04d83	e9 54 01 00 00	 jmp	 $LN13@BloodCastl
$LN12@BloodCastl:

; 2127 : 	}
; 2128 : 
; 2129 : 	switch ( iRET_VAL )

  04d88	8b 45 e0	 mov	 eax, DWORD PTR _iRET_VAL$[ebp]
  04d8b	89 45 98	 mov	 DWORD PTR tv89[ebp], eax
  04d8e	8b 4d 98	 mov	 ecx, DWORD PTR tv89[ebp]
  04d91	83 e9 09	 sub	 ecx, 9
  04d94	89 4d 98	 mov	 DWORD PTR tv89[ebp], ecx
  04d97	83 7d 98 06	 cmp	 DWORD PTR tv89[ebp], 6
  04d9b	0f 87 2e 01 00
	00		 ja	 $LN1@BloodCastl
  04da1	8b 55 98	 mov	 edx, DWORD PTR tv89[ebp]
  04da4	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN19@BloodCastl[edx*4]
$LN8@BloodCastl:

; 2130 : 	{
; 2131 : 		case 9:
; 2132 : 			pMsg.Result = CB_NO_BC_CORRECT_ITEMS;

  04dab	c6 45 eb 0a	 mov	 BYTE PTR _pMsg$[ebp+3], 10 ; 0000000aH

; 2133 : 			DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  04daf	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  04db3	50		 push	 eax
  04db4	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04db7	51		 push	 ecx
  04db8	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$[ebp]
  04dbb	52		 push	 edx
  04dbc	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  04dc1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2134 : 			lpObj->m_Index;
; 2135 : 			lpObj->ChaosLock = FALSE;

  04dc4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04dc7	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2136 : 			break;

  04dd1	e9 06 01 00 00	 jmp	 $LN13@BloodCastl
$LN7@BloodCastl:

; 2137 : 
; 2138 : 		case 10:
; 2139 : 			pMsg.Result = CB_NO_BC_CORRECT_ITEMS;

  04dd6	c6 45 eb 0a	 mov	 BYTE PTR _pMsg$[ebp+3], 10 ; 0000000aH

; 2140 : 			DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  04dda	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  04dde	50		 push	 eax
  04ddf	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04de2	51		 push	 ecx
  04de3	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$[ebp]
  04de6	52		 push	 edx
  04de7	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  04dec	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2141 : 			lpObj->m_Index;
; 2142 : 			lpObj->ChaosLock = FALSE;

  04def	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04df2	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2143 : 			break;

  04dfc	e9 db 00 00 00	 jmp	 $LN13@BloodCastl
$LN6@BloodCastl:

; 2144 : 
; 2145 : 		case 11:
; 2146 : 			pMsg.Result = CB_NO_BC_CORRECT_ITEMS;

  04e01	c6 45 eb 0a	 mov	 BYTE PTR _pMsg$[ebp+3], 10 ; 0000000aH

; 2147 : 			DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  04e05	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  04e09	50		 push	 eax
  04e0a	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04e0d	51		 push	 ecx
  04e0e	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$[ebp]
  04e11	52		 push	 edx
  04e12	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  04e17	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2148 : 			lpObj->m_Index;
; 2149 : 			lpObj->ChaosLock = FALSE;

  04e1a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04e1d	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2150 : 			break;

  04e27	e9 b0 00 00 00	 jmp	 $LN13@BloodCastl
$LN5@BloodCastl:

; 2151 : 
; 2152 : 		case 12:
; 2153 : 			pMsg.Result = CB_INVALID_ITEM_LEVEL;

  04e2c	c6 45 eb 08	 mov	 BYTE PTR _pMsg$[ebp+3], 8

; 2154 : 			DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  04e30	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  04e34	50		 push	 eax
  04e35	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04e38	51		 push	 ecx
  04e39	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$[ebp]
  04e3c	52		 push	 edx
  04e3d	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  04e42	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2155 : 			lpObj->m_Index;
; 2156 : 			lpObj->ChaosLock = FALSE;

  04e45	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04e48	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2157 : 			break;

  04e52	e9 85 00 00 00	 jmp	 $LN13@BloodCastl
$LN4@BloodCastl:

; 2158 : 
; 2159 : 		case 13:
; 2160 : 			pMsg.Result = CB_BC_NOT_ENOUGH_ZEN;

  04e57	c6 45 eb 0b	 mov	 BYTE PTR _pMsg$[ebp+3], 11 ; 0000000bH

; 2161 : 			DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  04e5b	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  04e5f	50		 push	 eax
  04e60	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04e63	51		 push	 ecx
  04e64	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$[ebp]
  04e67	52		 push	 edx
  04e68	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  04e6d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2162 : 			lpObj->m_Index;
; 2163 : 			lpObj->ChaosLock = FALSE;

  04e70	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04e73	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2164 : 			break;

  04e7d	eb 5d		 jmp	 SHORT $LN13@BloodCastl
$LN3@BloodCastl:

; 2165 : 
; 2166 : 		case 14:
; 2167 : 			pMsg.Result = CB_USER_CLASS_LOW_LEVEL;

  04e7f	c6 45 eb 09	 mov	 BYTE PTR _pMsg$[ebp+3], 9

; 2168 : 			DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  04e83	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  04e87	50		 push	 eax
  04e88	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04e8b	51		 push	 ecx
  04e8c	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$[ebp]
  04e8f	52		 push	 edx
  04e90	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  04e95	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2169 : 			lpObj->m_Index;
; 2170 : 			lpObj->ChaosLock = FALSE;

  04e98	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04e9b	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2171 : 			break;

  04ea5	eb 35		 jmp	 SHORT $LN13@BloodCastl
$LN2@BloodCastl:

; 2172 : 		case 15:
; 2173 : 			pMsg.Result = 0xF0;

  04ea7	c6 45 eb f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 2174 : 			DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  04eab	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  04eaf	50		 push	 eax
  04eb0	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  04eb3	51		 push	 ecx
  04eb4	8b 55 e4	 mov	 edx, DWORD PTR _aIndex$[ebp]
  04eb7	52		 push	 edx
  04eb8	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  04ebd	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2175 : 			lpObj->ChaosLock = FALSE;

  04ec0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04ec3	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2176 : 			break;

  04ecd	eb 0d		 jmp	 SHORT $LN13@BloodCastl
$LN1@BloodCastl:

; 2177 : 		default:
; 2178 : 			lpObj->ChaosLock = FALSE;

  04ecf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04ed2	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN13@BloodCastl:

; 2179 : 	}
; 2180 : 
; 2181 : }

  04edc	5f		 pop	 edi
  04edd	5e		 pop	 esi
  04ede	5b		 pop	 ebx
  04edf	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  04ee2	33 cd		 xor	 ecx, ebp
  04ee4	e8 00 00 00 00	 call	 @__security_check_cookie@4
  04ee9	8b e5		 mov	 esp, ebp
  04eeb	5d		 pop	 ebp
  04eec	c2 04 00	 ret	 4
  04eef	90		 npad	 1
$LN19@BloodCastl:
  04ef0	00 00 00 00	 DD	 $LN8@BloodCastl
  04ef4	00 00 00 00	 DD	 $LN7@BloodCastl
  04ef8	00 00 00 00	 DD	 $LN6@BloodCastl
  04efc	00 00 00 00	 DD	 $LN5@BloodCastl
  04f00	00 00 00 00	 DD	 $LN4@BloodCastl
  04f04	00 00 00 00	 DD	 $LN3@BloodCastl
  04f08	00 00 00 00	 DD	 $LN2@BloodCastl
?BloodCastleItemChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::BloodCastleItemChaosMix
_TEXT	ENDS
PUBLIC	??_C@_0EE@MAGJAMAN@?$FLDarkHorseMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fa@ ; `string'
PUBLIC	??_C@_0EH@JGHMMOON@?$FLDarkHorseMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Su@ ; `string'
PUBLIC	??_C@_0BP@IMILBLLO@?$FLDarkHorseMix?$FN?5Chaos?5Mix?5Start?$AA@ ; `string'
PUBLIC	??_C@_0N@LDINKAHL@DarkHorseMix?$AA@		; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?DarkHorseChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::DarkHorseChaosMix
EXTRN	?PetItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z:PROC ; PetItemSerialCreateSend
;	COMDAT ??_C@_0EE@MAGJAMAN@?$FLDarkHorseMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fa@
CONST	SEGMENT
??_C@_0EE@MAGJAMAN@?$FLDarkHorseMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fa@ DB '['
	DB	'DarkHorseMix] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate'
	DB	' : %d', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0EH@JGHMMOON@?$FLDarkHorseMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Su@
CONST	SEGMENT
??_C@_0EH@JGHMMOON@?$FLDarkHorseMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Su@ DB '['
	DB	'DarkHorseMix] [%s][%s] CBMix Success %d Money : %d-%d, CharmR'
	DB	'ate : %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BP@IMILBLLO@?$FLDarkHorseMix?$FN?5Chaos?5Mix?5Start?$AA@
CONST	SEGMENT
??_C@_0BP@IMILBLLO@?$FLDarkHorseMix?$FN?5Chaos?5Mix?5Start?$AA@ DB '[Dark'
	DB	'HorseMix] Chaos Mix Start', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@LDINKAHL@DarkHorseMix?$AA@
CONST	SEGMENT
??_C@_0N@LDINKAHL@DarkHorseMix?$AA@ DB 'DarkHorseMix', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv238 = -176						; size = 4
_lc23$236263 = -108					; size = 4
_lc22$236262 = -104					; size = 4
_Add$236259 = -100					; size = 4
_Option3$236258 = -96					; size = 4
_Option2$236257 = -92					; size = 4
_Option1$236256 = -88					; size = 4
_ItemNum$236255 = -84					; size = 4
_ItemSubType$236254 = -80				; size = 4
_ItemType$236253 = -76					; size = 4
_Level$236252 = -72					; size = 4
_iChaosTaxMoney$ = -68					; size = 4
_nChaosNeedMoney$ = -64					; size = 4
_n$236216 = -60						; size = 4
_iInvalidItemCount$ = -56				; size = 4
_iCharmOfLuckCount$ = -52				; size = 4
_pMsg$ = -48						; size = 16
_iChaosMoney$ = -32					; size = 4
_SoulOfDarkHorse$ = -28					; size = 4
_CreatureGemCount$ = -24				; size = 4
_SoulGemCount$ = -20					; size = 4
_BlessGemCount$ = -16					; size = 4
_ChoasGemCount$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?DarkHorseChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::DarkHorseChaosMix
; _this$ = ecx

; 2184 : {

  04f10	55		 push	 ebp
  04f11	8b ec		 mov	 ebp, esp
  04f13	81 ec b0 00 00
	00		 sub	 esp, 176		; 000000b0H
  04f19	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  04f1e	33 c5		 xor	 eax, ebp
  04f20	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  04f23	53		 push	 ebx
  04f24	56		 push	 esi
  04f25	57		 push	 edi
  04f26	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 2185 : 	lpObj->ChaosLock = TRUE;

  04f29	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04f2c	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 2186 : 	int ChoasGemCount = 0;

  04f36	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _ChoasGemCount$[ebp], 0

; 2187 : 	int BlessGemCount = 0;

  04f3d	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _BlessGemCount$[ebp], 0

; 2188 : 	int SoulGemCount = 0;

  04f44	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _SoulGemCount$[ebp], 0

; 2189 : 	int CreatureGemCount = 0;

  04f4b	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _CreatureGemCount$[ebp], 0

; 2190 : 	int SoulOfDarkHorse = 0;

  04f52	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _SoulOfDarkHorse$[ebp], 0

; 2191 : 	int iChaosMoney = 0;

  04f59	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 0

; 2192 : 
; 2193 : 	PMSG_CHAOSMIXRESULT pMsg;
; 2194 : 
; 2195 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  04f60	6a 10		 push	 16			; 00000010H
  04f62	68 86 00 00 00	 push	 134			; 00000086H
  04f67	8d 45 d0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04f6a	50		 push	 eax
  04f6b	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  04f70	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2196 : 	pMsg.Result = CB_ERROR;

  04f73	c6 45 d3 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 2197 : 	int iCharmOfLuckCount = 0;

  04f77	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 2198 : 	int iInvalidItemCount = 0;

  04f7e	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 2199 : 
; 2200 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  04f85	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _n$236216[ebp], 0
  04f8c	eb 09		 jmp	 SHORT $LN34@DarkHorseC
$LN33@DarkHorseC:
  04f8e	8b 45 c4	 mov	 eax, DWORD PTR _n$236216[ebp]
  04f91	83 c0 01	 add	 eax, 1
  04f94	89 45 c4	 mov	 DWORD PTR _n$236216[ebp], eax
$LN34@DarkHorseC:
  04f97	83 7d c4 20	 cmp	 DWORD PTR _n$236216[ebp], 32 ; 00000020H
  04f9b	0f 8d 63 01 00
	00		 jge	 $LN32@DarkHorseC

; 2201 : 	{
; 2202 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  04fa1	8b 4d c4	 mov	 ecx, DWORD PTR _n$236216[ebp]
  04fa4	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  04faa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  04fad	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  04fb3	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  04fb8	83 f8 01	 cmp	 eax, 1
  04fbb	0f 85 3e 01 00
	00		 jne	 $LN19@DarkHorseC

; 2203 : 		{
; 2204 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,13) )

  04fc1	8b 45 c4	 mov	 eax, DWORD PTR _n$236216[ebp]
  04fc4	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  04fca	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04fcd	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  04fd3	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  04fd8	3d 0d 1c 00 00	 cmp	 eax, 7181		; 00001c0dH
  04fdd	75 0e		 jne	 SHORT $LN30@DarkHorseC

; 2205 : 			{
; 2206 : 				BlessGemCount++;

  04fdf	8b 45 f0	 mov	 eax, DWORD PTR _BlessGemCount$[ebp]
  04fe2	83 c0 01	 add	 eax, 1
  04fe5	89 45 f0	 mov	 DWORD PTR _BlessGemCount$[ebp], eax
  04fe8	e9 12 01 00 00	 jmp	 $LN19@DarkHorseC
$LN30@DarkHorseC:

; 2207 : 			}
; 2208 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,14) )

  04fed	8b 45 c4	 mov	 eax, DWORD PTR _n$236216[ebp]
  04ff0	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  04ff6	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  04ff9	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  04fff	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  05004	3d 0e 1c 00 00	 cmp	 eax, 7182		; 00001c0eH
  05009	75 0e		 jne	 SHORT $LN28@DarkHorseC

; 2209 : 			{
; 2210 : 				SoulGemCount++;

  0500b	8b 45 ec	 mov	 eax, DWORD PTR _SoulGemCount$[ebp]
  0500e	83 c0 01	 add	 eax, 1
  05011	89 45 ec	 mov	 DWORD PTR _SoulGemCount$[ebp], eax
  05014	e9 e6 00 00 00	 jmp	 $LN19@DarkHorseC
$LN28@DarkHorseC:

; 2211 : 			}
; 2212 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,22) )

  05019	8b 45 c4	 mov	 eax, DWORD PTR _n$236216[ebp]
  0501c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  05022	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05025	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0502b	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  05030	3d 16 1c 00 00	 cmp	 eax, 7190		; 00001c16H
  05035	75 0e		 jne	 SHORT $LN26@DarkHorseC

; 2213 : 			{
; 2214 : 				CreatureGemCount++;

  05037	8b 45 e8	 mov	 eax, DWORD PTR _CreatureGemCount$[ebp]
  0503a	83 c0 01	 add	 eax, 1
  0503d	89 45 e8	 mov	 DWORD PTR _CreatureGemCount$[ebp], eax
  05040	e9 ba 00 00 00	 jmp	 $LN19@DarkHorseC
$LN26@DarkHorseC:

; 2215 : 			}
; 2216 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) )

  05045	8b 45 c4	 mov	 eax, DWORD PTR _n$236216[ebp]
  05048	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0504e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05051	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  05057	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0505c	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  05061	75 0e		 jne	 SHORT $LN24@DarkHorseC

; 2217 : 			{
; 2218 : 				ChoasGemCount++;

  05063	8b 45 f4	 mov	 eax, DWORD PTR _ChoasGemCount$[ebp]
  05066	83 c0 01	 add	 eax, 1
  05069	89 45 f4	 mov	 DWORD PTR _ChoasGemCount$[ebp], eax
  0506c	e9 8e 00 00 00	 jmp	 $LN19@DarkHorseC
$LN24@DarkHorseC:

; 2219 : 			}
; 2220 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(13,31) && lpObj->pChaosBox[n].m_Level == 0 )

  05071	8b 45 c4	 mov	 eax, DWORD PTR _n$236216[ebp]
  05074	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0507a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0507d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  05083	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  05088	3d 1f 1a 00 00	 cmp	 eax, 6687		; 00001a1fH
  0508d	75 26		 jne	 SHORT $LN22@DarkHorseC
  0508f	8b 45 c4	 mov	 eax, DWORD PTR _n$236216[ebp]
  05092	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  05098	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0509b	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  050a1	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  050a6	85 c0		 test	 eax, eax
  050a8	75 0b		 jne	 SHORT $LN22@DarkHorseC

; 2221 : 			{
; 2222 : 				SoulOfDarkHorse++;

  050aa	8b 45 e4	 mov	 eax, DWORD PTR _SoulOfDarkHorse$[ebp]
  050ad	83 c0 01	 add	 eax, 1
  050b0	89 45 e4	 mov	 DWORD PTR _SoulOfDarkHorse$[ebp], eax
  050b3	eb 4a		 jmp	 SHORT $LN19@DarkHorseC
$LN22@DarkHorseC:

; 2223 : 			}
; 2224 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )

  050b5	8b 45 c4	 mov	 eax, DWORD PTR _n$236216[ebp]
  050b8	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  050be	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  050c1	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  050c7	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  050cc	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  050d1	75 23		 jne	 SHORT $LN20@DarkHorseC

; 2225 : 			{
; 2226 : 				iCharmOfLuckCount += (int)lpObj->pChaosBox[n].m_Durability;

  050d3	8b 45 c4	 mov	 eax, DWORD PTR _n$236216[ebp]
  050d6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  050dc	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  050df	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  050e5	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  050e9	e8 00 00 00 00	 call	 __ftol2_sse
  050ee	03 45 cc	 add	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  050f1	89 45 cc	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], eax

; 2227 : 			}
; 2228 : 			else

  050f4	eb 09		 jmp	 SHORT $LN19@DarkHorseC
$LN20@DarkHorseC:

; 2229 : 			{
; 2230 : 				iInvalidItemCount++;

  050f6	8b 45 c8	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  050f9	83 c0 01	 add	 eax, 1
  050fc	89 45 c8	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN19@DarkHorseC:

; 2231 : 			}
; 2232 : 			
; 2233 : 
; 2234 : 		}
; 2235 : 	}

  050ff	e9 8a fe ff ff	 jmp	 $LN33@DarkHorseC
$LN32@DarkHorseC:

; 2236 : 
; 2237 : 	if ( ChoasGemCount != 1 || BlessGemCount != 5 || SoulGemCount != 5 || CreatureGemCount != 1 || SoulOfDarkHorse != 1 || iInvalidItemCount > 0 )

  05104	83 7d f4 01	 cmp	 DWORD PTR _ChoasGemCount$[ebp], 1
  05108	75 1e		 jne	 SHORT $LN17@DarkHorseC
  0510a	83 7d f0 05	 cmp	 DWORD PTR _BlessGemCount$[ebp], 5
  0510e	75 18		 jne	 SHORT $LN17@DarkHorseC
  05110	83 7d ec 05	 cmp	 DWORD PTR _SoulGemCount$[ebp], 5
  05114	75 12		 jne	 SHORT $LN17@DarkHorseC
  05116	83 7d e8 01	 cmp	 DWORD PTR _CreatureGemCount$[ebp], 1
  0511a	75 0c		 jne	 SHORT $LN17@DarkHorseC
  0511c	83 7d e4 01	 cmp	 DWORD PTR _SoulOfDarkHorse$[ebp], 1
  05120	75 06		 jne	 SHORT $LN17@DarkHorseC
  05122	83 7d c8 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  05126	7e 29		 jle	 SHORT $LN18@DarkHorseC
$LN17@DarkHorseC:

; 2238 : 	{
; 2239 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  05128	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0512c	50		 push	 eax
  0512d	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05130	51		 push	 ecx
  05131	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05134	8b 02		 mov	 eax, DWORD PTR [edx]
  05136	50		 push	 eax
  05137	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0513c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2240 : 		lpObj->ChaosLock = FALSE;

  0513f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05142	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2241 : 
; 2242 : 		return;

  0514c	e9 94 03 00 00	 jmp	 $LN35@DarkHorseC
$LN18@DarkHorseC:

; 2243 : 	}
; 2244 : 
; 2245 : 	if ( iCharmOfLuckCount > 10 )

  05151	83 7d cc 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  05155	7e 2d		 jle	 SHORT $LN16@DarkHorseC

; 2246 : 	{
; 2247 : 		pMsg.Result = 0xF0;

  05157	c6 45 d3 f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 2248 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0515b	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0515f	50		 push	 eax
  05160	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05163	51		 push	 ecx
  05164	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05167	8b 02		 mov	 eax, DWORD PTR [edx]
  05169	50		 push	 eax
  0516a	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0516f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2249 : 		lpObj->ChaosLock = FALSE;

  05172	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05175	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2250 : 
; 2251 : 		return ;

  0517f	e9 61 03 00 00	 jmp	 $LN35@DarkHorseC
$LN16@DarkHorseC:

; 2252 : 	}
; 2253 : 
; 2254 : 	LogChaosItem(lpObj, "DarkHorseMix");

  05184	68 00 00 00 00	 push	 OFFSET ??_C@_0N@LDINKAHL@DarkHorseMix?$AA@
  05189	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0518c	50		 push	 eax
  0518d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  05190	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 2255 : 	LogAddTD("[DarkHorseMix] Chaos Mix Start");

  05195	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@IMILBLLO@?$FLDarkHorseMix?$FN?5Chaos?5Mix?5Start?$AA@
  0519a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  051a0	83 c4 04	 add	 esp, 4

; 2256 : 	//int ExDarkHorseMixSuccessRate = GetPrivateProfileInt("ChaosMix","DarkHorseMixSuccessRate",60,"..\\Data\\ExData\\CommonServer.ini");
; 2257 : 	lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExDarkHorseMixSuccessRate;

  051a3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  051a6	8b 0d 80 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+128
  051ac	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 2258 : 	lpObj->ChaosSuccessRate += iCharmOfLuckCount;

  051b2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  051b5	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  051bb	03 4d cc	 add	 ecx, DWORD PTR _iCharmOfLuckCount$[ebp]
  051be	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  051c1	89 8a 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], ecx

; 2259 : 
; 2260 : 	int nChaosNeedMoney = 5000000;

  051c7	c7 45 c0 40 4b
	4c 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 5000000 ; 004c4b40H

; 2261 : 
; 2262 : 	int iChaosTaxMoney = (int)((__int64)nChaosNeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  051ce	8b 45 c0	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  051d1	99		 cdq
  051d2	8b f0		 mov	 esi, eax
  051d4	8b fa		 mov	 edi, edx
  051d6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  051d9	8b 08		 mov	 ecx, DWORD PTR [eax]
  051db	51		 push	 ecx
  051dc	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  051e1	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  051e6	99		 cdq
  051e7	52		 push	 edx
  051e8	50		 push	 eax
  051e9	57		 push	 edi
  051ea	56		 push	 esi
  051eb	e8 00 00 00 00	 call	 __allmul
  051f0	6a 00		 push	 0
  051f2	6a 64		 push	 100			; 00000064H
  051f4	52		 push	 edx
  051f5	50		 push	 eax
  051f6	e8 00 00 00 00	 call	 __alldiv
  051fb	89 45 bc	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 2263 : 
; 2264 : 	if ( iChaosTaxMoney < 0 )

  051fe	83 7d bc 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  05202	7d 07		 jge	 SHORT $LN15@DarkHorseC

; 2265 : 	{
; 2266 : 		iChaosTaxMoney = 0;

  05204	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN15@DarkHorseC:

; 2267 : 	}
; 2268 : 
; 2269 : 	nChaosNeedMoney += iChaosTaxMoney;

  0520b	8b 45 c0	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  0520e	03 45 bc	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  05211	89 45 c0	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], eax

; 2270 : 
; 2271 : 		nChaosNeedMoney += lpObj->m_AddMixMoney;

  05214	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05217	8b 4d c0	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  0521a	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  05220	89 4d c0	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 2272 : 
; 2273 : 	if ( nChaosNeedMoney < 0 )

  05223	79 07		 jns	 SHORT $LN14@DarkHorseC

; 2274 : 	{
; 2275 : 		nChaosNeedMoney = 0;

  05225	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0
$LN14@DarkHorseC:

; 2276 : 	}
; 2277 : 
; 2278 : 	if ( lpObj->Money < nChaosNeedMoney )

  0522c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0522f	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  05235	3b 4d c0	 cmp	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  05238	7d 2d		 jge	 SHORT $LN13@DarkHorseC

; 2279 : 	{
; 2280 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  0523a	c6 45 d3 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 2281 : 		
; 2282 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0523e	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  05242	50		 push	 eax
  05243	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05246	51		 push	 ecx
  05247	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0524a	8b 02		 mov	 eax, DWORD PTR [edx]
  0524c	50		 push	 eax
  0524d	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  05252	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2283 : 		lpObj->ChaosLock = FALSE;

  05255	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05258	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2284 : 
; 2285 : 		return;

  05262	e9 7e 02 00 00	 jmp	 $LN35@DarkHorseC
$LN13@DarkHorseC:

; 2286 : 	}
; 2287 : 
; 2288 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  05267	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0526a	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  05270	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05273	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  05279	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0527c	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 2289 : 
; 2290 : 
; 2291 : 
; 2292 : 	lpObj->Money -= nChaosNeedMoney;

  05282	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05285	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0528b	2b 4d c0	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  0528e	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05291	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 2293 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  05297	8b 45 bc	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0529a	50		 push	 eax
  0529b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  052a0	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 2294 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  052a5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  052a8	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  052ae	51		 push	 ecx
  052af	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  052b2	8b 02		 mov	 eax, DWORD PTR [edx]
  052b4	50		 push	 eax
  052b5	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  052ba	83 c4 08	 add	 esp, 8

; 2295 : 
; 2296 : 	if ( (rand()%100) < lpObj->ChaosSuccessRate )

  052bd	e8 00 00 00 00	 call	 _rand
  052c2	99		 cdq
  052c3	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  052c8	f7 f9		 idiv	 ecx
  052ca	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  052cd	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  052d3	0f 8d 86 01 00
	00		 jge	 $LN12@DarkHorseC

; 2297 : 	{
; 2298 : 		int Level = 0;

  052d9	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _Level$236252[ebp], 0

; 2299 : 		int ItemType = 13;

  052e0	c7 45 b4 0d 00
	00 00		 mov	 DWORD PTR _ItemType$236253[ebp], 13 ; 0000000dH

; 2300 : 		int ItemSubType = 4;

  052e7	c7 45 b0 04 00
	00 00		 mov	 DWORD PTR _ItemSubType$236254[ebp], 4

; 2301 : 		int ItemNum = ITEMGET(ItemType, ItemSubType);

  052ee	8b 45 b4	 mov	 eax, DWORD PTR _ItemType$236253[ebp]
  052f1	c1 e0 09	 shl	 eax, 9
  052f4	03 45 b0	 add	 eax, DWORD PTR _ItemSubType$236254[ebp]
  052f7	89 45 ac	 mov	 DWORD PTR _ItemNum$236255[ebp], eax

; 2302 : 		int Option1 = 0;

  052fa	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR _Option1$236256[ebp], 0

; 2303 : 		int Option2 = 0;

  05301	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _Option2$236257[ebp], 0

; 2304 : 		int Option3 = 0;

  05308	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _Option3$236258[ebp], 0

; 2305 : 
; 2306 : 		int Add = 0;

  0530f	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR _Add$236259[ebp], 0

; 2307 : 
; 2308 : 		if ( (rand()%100) < (lpObj->ChaosSuccessRate/5+6) )

  05316	e8 00 00 00 00	 call	 _rand
  0531b	99		 cdq
  0531c	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  05321	f7 f9		 idiv	 ecx
  05323	8b ca		 mov	 ecx, edx
  05325	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05328	8b 82 84 0e 00
	00		 mov	 eax, DWORD PTR [edx+3716]
  0532e	99		 cdq
  0532f	be 05 00 00 00	 mov	 esi, 5
  05334	f7 fe		 idiv	 esi
  05336	83 c0 06	 add	 eax, 6
  05339	3b c8		 cmp	 ecx, eax
  0533b	7d 07		 jge	 SHORT $LN11@DarkHorseC

; 2309 : 		{
; 2310 : 			Add = 1;

  0533d	c7 45 9c 01 00
	00 00		 mov	 DWORD PTR _Add$236259[ebp], 1
$LN11@DarkHorseC:

; 2311 : 		}
; 2312 : 
; 2313 : 		if ( (rand()%5) == 0 )

  05344	e8 00 00 00 00	 call	 _rand
  05349	99		 cdq
  0534a	b9 05 00 00 00	 mov	 ecx, 5
  0534f	f7 f9		 idiv	 ecx
  05351	85 d2		 test	 edx, edx
  05353	75 07		 jne	 SHORT $LN10@DarkHorseC

; 2314 : 		{
; 2315 : 			Option1 = 1;

  05355	c7 45 a8 01 00
	00 00		 mov	 DWORD PTR _Option1$236256[ebp], 1
$LN10@DarkHorseC:

; 2316 : 		}
; 2317 : 
; 2318 : 		int lc22 = rand()%100;	

  0535c	e8 00 00 00 00	 call	 _rand
  05361	99		 cdq
  05362	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  05367	f7 f9		 idiv	 ecx
  05369	89 55 98	 mov	 DWORD PTR _lc22$236262[ebp], edx

; 2319 : 		int lc23 = rand()%3;

  0536c	e8 00 00 00 00	 call	 _rand
  05371	99		 cdq
  05372	b9 03 00 00 00	 mov	 ecx, 3
  05377	f7 f9		 idiv	 ecx
  05379	89 55 94	 mov	 DWORD PTR _lc23$236263[ebp], edx

; 2320 : 
; 2321 : 		switch ( lc23 )

  0537c	8b 45 94	 mov	 eax, DWORD PTR _lc23$236263[ebp]
  0537f	89 85 50 ff ff
	ff		 mov	 DWORD PTR tv238[ebp], eax
  05385	83 bd 50 ff ff
	ff 00		 cmp	 DWORD PTR tv238[ebp], 0
  0538c	74 14		 je	 SHORT $LN7@DarkHorseC
  0538e	83 bd 50 ff ff
	ff 01		 cmp	 DWORD PTR tv238[ebp], 1
  05395	74 1a		 je	 SHORT $LN5@DarkHorseC
  05397	83 bd 50 ff ff
	ff 02		 cmp	 DWORD PTR tv238[ebp], 2
  0539e	74 20		 je	 SHORT $LN3@DarkHorseC
  053a0	eb 2b		 jmp	 SHORT $LN8@DarkHorseC
$LN7@DarkHorseC:

; 2322 : 		{
; 2323 : 			case 0:
; 2324 : 				if ( lc22 <  4 )

  053a2	83 7d 98 04	 cmp	 DWORD PTR _lc22$236262[ebp], 4
  053a6	7d 07		 jge	 SHORT $LN6@DarkHorseC

; 2325 : 				{
; 2326 : 					Option2 = 3;

  053a8	c7 45 a4 03 00
	00 00		 mov	 DWORD PTR _Option2$236257[ebp], 3
$LN6@DarkHorseC:

; 2327 : 				}
; 2328 : 				break;

  053af	eb 1c		 jmp	 SHORT $LN8@DarkHorseC
$LN5@DarkHorseC:

; 2329 : 
; 2330 : 			case 1:
; 2331 : 				if ( lc22 <  10 )

  053b1	83 7d 98 0a	 cmp	 DWORD PTR _lc22$236262[ebp], 10 ; 0000000aH
  053b5	7d 07		 jge	 SHORT $LN4@DarkHorseC

; 2332 : 				{
; 2333 : 					Option2 = 2;

  053b7	c7 45 a4 02 00
	00 00		 mov	 DWORD PTR _Option2$236257[ebp], 2
$LN4@DarkHorseC:

; 2334 : 				}
; 2335 : 				break;

  053be	eb 0d		 jmp	 SHORT $LN8@DarkHorseC
$LN3@DarkHorseC:

; 2336 : 
; 2337 : 			case 2:
; 2338 : 				if ( lc22 <  20 )

  053c0	83 7d 98 14	 cmp	 DWORD PTR _lc22$236262[ebp], 20 ; 00000014H
  053c4	7d 07		 jge	 SHORT $LN2@DarkHorseC

; 2339 : 				{
; 2340 : 					Option2 = 1;

  053c6	c7 45 a4 01 00
	00 00		 mov	 DWORD PTR _Option2$236257[ebp], 1
$LN2@DarkHorseC:
$LN8@DarkHorseC:

; 2341 : 				}
; 2342 : 				break;
; 2343 : 		}
; 2344 : 
; 2345 : 		::PetItemSerialCreateSend(lpObj->m_Index, -2, 0, 0, ItemNum, Level, 0,Add,  Option1, Option2, -1, 0, 0); 

  053cd	6a 00		 push	 0
  053cf	6a 00		 push	 0
  053d1	6a ff		 push	 -1
  053d3	0f b6 45 a4	 movzx	 eax, BYTE PTR _Option2$236257[ebp]
  053d7	50		 push	 eax
  053d8	0f b6 4d a8	 movzx	 ecx, BYTE PTR _Option1$236256[ebp]
  053dc	51		 push	 ecx
  053dd	0f b6 55 9c	 movzx	 edx, BYTE PTR _Add$236259[ebp]
  053e1	52		 push	 edx
  053e2	6a 00		 push	 0
  053e4	0f b6 45 b8	 movzx	 eax, BYTE PTR _Level$236252[ebp]
  053e8	50		 push	 eax
  053e9	8b 4d ac	 mov	 ecx, DWORD PTR _ItemNum$236255[ebp]
  053ec	51		 push	 ecx
  053ed	6a 00		 push	 0
  053ef	6a 00		 push	 0
  053f1	68 fe 00 00 00	 push	 254			; 000000feH
  053f6	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  053f9	8b 02		 mov	 eax, DWORD PTR [edx]
  053fb	50		 push	 eax
  053fc	e8 00 00 00 00	 call	 ?PetItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; PetItemSerialCreateSend
  05401	83 c4 34	 add	 esp, 52			; 00000034H

; 2346 : 		::gObjInventoryCommit(lpObj->m_Index);

  05404	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05407	8b 08		 mov	 ecx, DWORD PTR [eax]
  05409	51		 push	 ecx
  0540a	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0540f	83 c4 04	 add	 esp, 4

; 2347 : 		LogAddTD("[DarkHorseMix] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate : %d",
; 2348 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate,
; 2349 : 			lpObj->Money, nChaosNeedMoney, iCharmOfLuckCount);

  05412	8b 45 cc	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  05415	50		 push	 eax
  05416	8b 4d c0	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  05419	51		 push	 ecx
  0541a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0541d	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  05423	50		 push	 eax
  05424	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05427	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  0542d	52		 push	 edx
  0542e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05431	83 c0 77	 add	 eax, 119		; 00000077H
  05434	50		 push	 eax
  05435	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05438	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0543b	51		 push	 ecx
  0543c	68 00 00 00 00	 push	 OFFSET ??_C@_0EH@JGHMMOON@?$FLDarkHorseMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Su@
  05441	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05447	83 c4 1c	 add	 esp, 28			; 0000001cH

; 2350 : #if(SYSTEM_ACHIEVEMENTS)
; 2351 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  0544a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0544d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0544f	51		 push	 ecx
  05450	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  05455	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 2352 : #endif
; 2353 : 	}
; 2354 : 	else

  0545a	e9 86 00 00 00	 jmp	 $LN1@DarkHorseC
$LN12@DarkHorseC:

; 2355 : 	{
; 2356 : 		this->ChaosBoxInit(lpObj);

  0545f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05462	50		 push	 eax
  05463	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  05466	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 2357 : 		GCUserChaosBoxSend(lpObj, 1);

  0546b	6a 01		 push	 1
  0546d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05470	50		 push	 eax
  05471	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  05476	83 c4 08	 add	 esp, 8

; 2358 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  05479	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0547d	50		 push	 eax
  0547e	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05481	51		 push	 ecx
  05482	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05485	8b 02		 mov	 eax, DWORD PTR [edx]
  05487	50		 push	 eax
  05488	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0548d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2359 : 
; 2360 : 		LogAddTD("[DarkHorseMix] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : %d",
; 2361 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate,
; 2362 : 			lpObj->Money, nChaosNeedMoney, iCharmOfLuckCount);

  05490	8b 45 cc	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  05493	50		 push	 eax
  05494	8b 4d c0	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  05497	51		 push	 ecx
  05498	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0549b	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  054a1	50		 push	 eax
  054a2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  054a5	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  054ab	52		 push	 edx
  054ac	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  054af	83 c0 77	 add	 eax, 119		; 00000077H
  054b2	50		 push	 eax
  054b3	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  054b6	83 c1 6c	 add	 ecx, 108		; 0000006cH
  054b9	51		 push	 ecx
  054ba	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@MAGJAMAN@?$FLDarkHorseMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fa@
  054bf	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  054c5	83 c4 1c	 add	 esp, 28			; 0000001cH

; 2363 : 		lpObj->ChaosLock = FALSE;

  054c8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  054cb	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2364 : #if(SYSTEM_ACHIEVEMENTS)
; 2365 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  054d5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  054d8	8b 08		 mov	 ecx, DWORD PTR [eax]
  054da	51		 push	 ecx
  054db	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  054e0	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN1@DarkHorseC:
$LN35@DarkHorseC:

; 2366 : #endif
; 2367 : 	}
; 2368 : }

  054e5	5f		 pop	 edi
  054e6	5e		 pop	 esi
  054e7	5b		 pop	 ebx
  054e8	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  054eb	33 cd		 xor	 ecx, ebp
  054ed	e8 00 00 00 00	 call	 @__security_check_cookie@4
  054f2	8b e5		 mov	 esp, ebp
  054f4	5d		 pop	 ebp
  054f5	c2 04 00	 ret	 4
?DarkHorseChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::DarkHorseChaosMix
_TEXT	ENDS
PUBLIC	??_C@_0EF@ENJLGEHL@?$FLDarkSpiritMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@ ; `string'
PUBLIC	??_C@_0EI@DIJHKIBN@?$FLDarkSpiritMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@ ; `string'
PUBLIC	??_C@_0CA@HOBPNGGO@?$FLDarkSpiritMix?$FN?5Chaos?5Mix?5Start?$AA@ ; `string'
PUBLIC	??_C@_0O@OCFEOMDO@DarkSpiritMix?$AA@		; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?DarkSpiritChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::DarkSpiritChaosMix
;	COMDAT ??_C@_0EF@ENJLGEHL@?$FLDarkSpiritMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@
CONST	SEGMENT
??_C@_0EF@ENJLGEHL@?$FLDarkSpiritMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@ DB '['
	DB	'DarkSpiritMix] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRat'
	DB	'e : %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0EI@DIJHKIBN@?$FLDarkSpiritMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@
CONST	SEGMENT
??_C@_0EI@DIJHKIBN@?$FLDarkSpiritMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@ DB '['
	DB	'DarkSpiritMix] [%s][%s] CBMix Success %d Money : %d-%d, Charm'
	DB	'Rate : %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0CA@HOBPNGGO@?$FLDarkSpiritMix?$FN?5Chaos?5Mix?5Start?$AA@
CONST	SEGMENT
??_C@_0CA@HOBPNGGO@?$FLDarkSpiritMix?$FN?5Chaos?5Mix?5Start?$AA@ DB '[Dar'
	DB	'kSpiritMix] Chaos Mix Start', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@OCFEOMDO@DarkSpiritMix?$AA@
CONST	SEGMENT
??_C@_0O@OCFEOMDO@DarkSpiritMix?$AA@ DB 'DarkSpiritMix', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv238 = -176						; size = 4
_lc23$236340 = -108					; size = 4
_lc22$236339 = -104					; size = 4
_Add$236336 = -100					; size = 4
_Option3$236335 = -96					; size = 4
_Option2$236334 = -92					; size = 4
_Option1$236333 = -88					; size = 4
_ItemNum$236332 = -84					; size = 4
_ItemSubType$236331 = -80				; size = 4
_ItemType$236330 = -76					; size = 4
_Level$236329 = -72					; size = 4
_iChaosTaxMoney$ = -68					; size = 4
_nChaosNeedMoney$ = -64					; size = 4
_n$236293 = -60						; size = 4
_iInvalidItemCount$ = -56				; size = 4
_iCharmOfLuckCount$ = -52				; size = 4
_pMsg$ = -48						; size = 16
_iChaosMoney$ = -32					; size = 4
_SoulOfSpirit$ = -28					; size = 4
_CreatureGemCount$ = -24				; size = 4
_SoulGemCount$ = -20					; size = 4
_BlessGemCount$ = -16					; size = 4
_ChoasGemCount$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?DarkSpiritChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::DarkSpiritChaosMix
; _this$ = ecx

; 2371 : {

  05500	55		 push	 ebp
  05501	8b ec		 mov	 ebp, esp
  05503	81 ec b0 00 00
	00		 sub	 esp, 176		; 000000b0H
  05509	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0550e	33 c5		 xor	 eax, ebp
  05510	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  05513	53		 push	 ebx
  05514	56		 push	 esi
  05515	57		 push	 edi
  05516	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 2372 : 	lpObj->ChaosLock = TRUE;

  05519	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0551c	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 2373 : 	int ChoasGemCount = 0;

  05526	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _ChoasGemCount$[ebp], 0

; 2374 : 	int BlessGemCount = 0;

  0552d	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _BlessGemCount$[ebp], 0

; 2375 : 	int SoulGemCount = 0;

  05534	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _SoulGemCount$[ebp], 0

; 2376 : 	int CreatureGemCount = 0;

  0553b	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _CreatureGemCount$[ebp], 0

; 2377 : 	int SoulOfSpirit = 0;

  05542	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _SoulOfSpirit$[ebp], 0

; 2378 : 	int iChaosMoney = 0;

  05549	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 0

; 2379 : 
; 2380 : 	PMSG_CHAOSMIXRESULT pMsg;
; 2381 : 
; 2382 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  05550	6a 10		 push	 16			; 00000010H
  05552	68 86 00 00 00	 push	 134			; 00000086H
  05557	8d 45 d0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0555a	50		 push	 eax
  0555b	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  05560	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2383 : 	pMsg.Result = CB_ERROR;

  05563	c6 45 d3 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 2384 : 	int iCharmOfLuckCount = 0;

  05567	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 2385 : 	int iInvalidItemCount = 0;

  0556e	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 2386 : 
; 2387 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  05575	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _n$236293[ebp], 0
  0557c	eb 09		 jmp	 SHORT $LN34@DarkSpirit
$LN33@DarkSpirit:
  0557e	8b 45 c4	 mov	 eax, DWORD PTR _n$236293[ebp]
  05581	83 c0 01	 add	 eax, 1
  05584	89 45 c4	 mov	 DWORD PTR _n$236293[ebp], eax
$LN34@DarkSpirit:
  05587	83 7d c4 20	 cmp	 DWORD PTR _n$236293[ebp], 32 ; 00000020H
  0558b	0f 8d 64 01 00
	00		 jge	 $LN32@DarkSpirit

; 2388 : 	{
; 2389 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  05591	8b 4d c4	 mov	 ecx, DWORD PTR _n$236293[ebp]
  05594	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0559a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0559d	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  055a3	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  055a8	83 f8 01	 cmp	 eax, 1
  055ab	0f 85 3f 01 00
	00		 jne	 $LN19@DarkSpirit

; 2390 : 		{
; 2391 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,13) )

  055b1	8b 45 c4	 mov	 eax, DWORD PTR _n$236293[ebp]
  055b4	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  055ba	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  055bd	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  055c3	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  055c8	3d 0d 1c 00 00	 cmp	 eax, 7181		; 00001c0dH
  055cd	75 0e		 jne	 SHORT $LN30@DarkSpirit

; 2392 : 			{
; 2393 : 				BlessGemCount++;

  055cf	8b 45 f0	 mov	 eax, DWORD PTR _BlessGemCount$[ebp]
  055d2	83 c0 01	 add	 eax, 1
  055d5	89 45 f0	 mov	 DWORD PTR _BlessGemCount$[ebp], eax
  055d8	e9 13 01 00 00	 jmp	 $LN19@DarkSpirit
$LN30@DarkSpirit:

; 2394 : 			}
; 2395 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,14) )

  055dd	8b 45 c4	 mov	 eax, DWORD PTR _n$236293[ebp]
  055e0	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  055e6	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  055e9	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  055ef	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  055f4	3d 0e 1c 00 00	 cmp	 eax, 7182		; 00001c0eH
  055f9	75 0e		 jne	 SHORT $LN28@DarkSpirit

; 2396 : 			{
; 2397 : 				SoulGemCount++;

  055fb	8b 45 ec	 mov	 eax, DWORD PTR _SoulGemCount$[ebp]
  055fe	83 c0 01	 add	 eax, 1
  05601	89 45 ec	 mov	 DWORD PTR _SoulGemCount$[ebp], eax
  05604	e9 e7 00 00 00	 jmp	 $LN19@DarkSpirit
$LN28@DarkSpirit:

; 2398 : 			}
; 2399 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,22) )

  05609	8b 45 c4	 mov	 eax, DWORD PTR _n$236293[ebp]
  0560c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  05612	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05615	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0561b	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  05620	3d 16 1c 00 00	 cmp	 eax, 7190		; 00001c16H
  05625	75 0e		 jne	 SHORT $LN26@DarkSpirit

; 2400 : 			{
; 2401 : 				CreatureGemCount++;

  05627	8b 45 e8	 mov	 eax, DWORD PTR _CreatureGemCount$[ebp]
  0562a	83 c0 01	 add	 eax, 1
  0562d	89 45 e8	 mov	 DWORD PTR _CreatureGemCount$[ebp], eax
  05630	e9 bb 00 00 00	 jmp	 $LN19@DarkSpirit
$LN26@DarkSpirit:

; 2402 : 			}
; 2403 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) )

  05635	8b 45 c4	 mov	 eax, DWORD PTR _n$236293[ebp]
  05638	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0563e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05641	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  05647	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0564c	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  05651	75 0e		 jne	 SHORT $LN24@DarkSpirit

; 2404 : 			{
; 2405 : 				ChoasGemCount++;

  05653	8b 45 f4	 mov	 eax, DWORD PTR _ChoasGemCount$[ebp]
  05656	83 c0 01	 add	 eax, 1
  05659	89 45 f4	 mov	 DWORD PTR _ChoasGemCount$[ebp], eax
  0565c	e9 8f 00 00 00	 jmp	 $LN19@DarkSpirit
$LN24@DarkSpirit:

; 2406 : 			}
; 2407 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(13,31) && lpObj->pChaosBox[n].m_Level == 1 )

  05661	8b 45 c4	 mov	 eax, DWORD PTR _n$236293[ebp]
  05664	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0566a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0566d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  05673	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  05678	3d 1f 1a 00 00	 cmp	 eax, 6687		; 00001a1fH
  0567d	75 27		 jne	 SHORT $LN22@DarkSpirit
  0567f	8b 45 c4	 mov	 eax, DWORD PTR _n$236293[ebp]
  05682	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  05688	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0568b	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  05691	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  05696	83 f8 01	 cmp	 eax, 1
  05699	75 0b		 jne	 SHORT $LN22@DarkSpirit

; 2408 : 			{
; 2409 : 				SoulOfSpirit++;

  0569b	8b 45 e4	 mov	 eax, DWORD PTR _SoulOfSpirit$[ebp]
  0569e	83 c0 01	 add	 eax, 1
  056a1	89 45 e4	 mov	 DWORD PTR _SoulOfSpirit$[ebp], eax
  056a4	eb 4a		 jmp	 SHORT $LN19@DarkSpirit
$LN22@DarkSpirit:

; 2410 : 			}
; 2411 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )

  056a6	8b 45 c4	 mov	 eax, DWORD PTR _n$236293[ebp]
  056a9	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  056af	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  056b2	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  056b8	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  056bd	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  056c2	75 23		 jne	 SHORT $LN20@DarkSpirit

; 2412 : 			{
; 2413 : 				iCharmOfLuckCount += (int)lpObj->pChaosBox[n].m_Durability;

  056c4	8b 45 c4	 mov	 eax, DWORD PTR _n$236293[ebp]
  056c7	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  056cd	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  056d0	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  056d6	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  056da	e8 00 00 00 00	 call	 __ftol2_sse
  056df	03 45 cc	 add	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  056e2	89 45 cc	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], eax

; 2414 : 			}
; 2415 : 			else

  056e5	eb 09		 jmp	 SHORT $LN19@DarkSpirit
$LN20@DarkSpirit:

; 2416 : 			{
; 2417 : 				iInvalidItemCount++;

  056e7	8b 45 c8	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  056ea	83 c0 01	 add	 eax, 1
  056ed	89 45 c8	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN19@DarkSpirit:

; 2418 : 			}
; 2419 : 		}
; 2420 : 	}

  056f0	e9 89 fe ff ff	 jmp	 $LN33@DarkSpirit
$LN32@DarkSpirit:

; 2421 : 
; 2422 : 	if ( ChoasGemCount != 1 || BlessGemCount != 2 || SoulGemCount != 2 || CreatureGemCount != 1 || SoulOfSpirit != 1 || iInvalidItemCount > 0 )

  056f5	83 7d f4 01	 cmp	 DWORD PTR _ChoasGemCount$[ebp], 1
  056f9	75 1e		 jne	 SHORT $LN17@DarkSpirit
  056fb	83 7d f0 02	 cmp	 DWORD PTR _BlessGemCount$[ebp], 2
  056ff	75 18		 jne	 SHORT $LN17@DarkSpirit
  05701	83 7d ec 02	 cmp	 DWORD PTR _SoulGemCount$[ebp], 2
  05705	75 12		 jne	 SHORT $LN17@DarkSpirit
  05707	83 7d e8 01	 cmp	 DWORD PTR _CreatureGemCount$[ebp], 1
  0570b	75 0c		 jne	 SHORT $LN17@DarkSpirit
  0570d	83 7d e4 01	 cmp	 DWORD PTR _SoulOfSpirit$[ebp], 1
  05711	75 06		 jne	 SHORT $LN17@DarkSpirit
  05713	83 7d c8 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  05717	7e 29		 jle	 SHORT $LN18@DarkSpirit
$LN17@DarkSpirit:

; 2423 : 	{
; 2424 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  05719	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0571d	50		 push	 eax
  0571e	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05721	51		 push	 ecx
  05722	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05725	8b 02		 mov	 eax, DWORD PTR [edx]
  05727	50		 push	 eax
  05728	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0572d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2425 : 		lpObj->ChaosLock = FALSE;

  05730	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05733	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2426 : 
; 2427 : 		return;

  0573d	e9 94 03 00 00	 jmp	 $LN35@DarkSpirit
$LN18@DarkSpirit:

; 2428 : 	}
; 2429 : 
; 2430 : 	if ( iCharmOfLuckCount > 10 )

  05742	83 7d cc 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  05746	7e 2d		 jle	 SHORT $LN16@DarkSpirit

; 2431 : 	{
; 2432 : 		pMsg.Result = 0xF0;

  05748	c6 45 d3 f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 2433 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0574c	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  05750	50		 push	 eax
  05751	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05754	51		 push	 ecx
  05755	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05758	8b 02		 mov	 eax, DWORD PTR [edx]
  0575a	50		 push	 eax
  0575b	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  05760	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2434 : 		lpObj->ChaosLock = FALSE;

  05763	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05766	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2435 : 
; 2436 : 		return ;

  05770	e9 61 03 00 00	 jmp	 $LN35@DarkSpirit
$LN16@DarkSpirit:

; 2437 : 	}
; 2438 : 
; 2439 : 	LogChaosItem(lpObj, "DarkSpiritMix");

  05775	68 00 00 00 00	 push	 OFFSET ??_C@_0O@OCFEOMDO@DarkSpiritMix?$AA@
  0577a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0577d	50		 push	 eax
  0577e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  05781	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 2440 : 	LogAddTD("[DarkSpiritMix] Chaos Mix Start");

  05786	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@HOBPNGGO@?$FLDarkSpiritMix?$FN?5Chaos?5Mix?5Start?$AA@
  0578b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05791	83 c4 04	 add	 esp, 4

; 2441 : 	//int ExDarkSpiritMixSuccessRate = GetPrivateProfileInt("ChaosMix","DarkSpiritMixSuccessRate",60,"..\\Data\\ExData\\CommonServer.ini");
; 2442 : 	lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExDarkSpiritMixSuccessRate;

  05794	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05797	8b 0d 84 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+132
  0579d	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 2443 : 	lpObj->ChaosSuccessRate += iCharmOfLuckCount;

  057a3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  057a6	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  057ac	03 4d cc	 add	 ecx, DWORD PTR _iCharmOfLuckCount$[ebp]
  057af	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  057b2	89 8a 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], ecx

; 2444 : 
; 2445 : 	int nChaosNeedMoney = 1000000;

  057b8	c7 45 c0 40 42
	0f 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 1000000 ; 000f4240H

; 2446 : 
; 2447 : 	int iChaosTaxMoney = (int)((__int64)nChaosNeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  057bf	8b 45 c0	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  057c2	99		 cdq
  057c3	8b f0		 mov	 esi, eax
  057c5	8b fa		 mov	 edi, edx
  057c7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  057ca	8b 08		 mov	 ecx, DWORD PTR [eax]
  057cc	51		 push	 ecx
  057cd	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  057d2	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  057d7	99		 cdq
  057d8	52		 push	 edx
  057d9	50		 push	 eax
  057da	57		 push	 edi
  057db	56		 push	 esi
  057dc	e8 00 00 00 00	 call	 __allmul
  057e1	6a 00		 push	 0
  057e3	6a 64		 push	 100			; 00000064H
  057e5	52		 push	 edx
  057e6	50		 push	 eax
  057e7	e8 00 00 00 00	 call	 __alldiv
  057ec	89 45 bc	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 2448 : 
; 2449 : 	if ( iChaosTaxMoney < 0 )

  057ef	83 7d bc 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  057f3	7d 07		 jge	 SHORT $LN15@DarkSpirit

; 2450 : 	{
; 2451 : 		iChaosTaxMoney = 0;

  057f5	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN15@DarkSpirit:

; 2452 : 	}
; 2453 : 
; 2454 : 	nChaosNeedMoney += iChaosTaxMoney;

  057fc	8b 45 c0	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  057ff	03 45 bc	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  05802	89 45 c0	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], eax

; 2455 : 
; 2456 : 		nChaosNeedMoney += lpObj->m_AddMixMoney;

  05805	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05808	8b 4d c0	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  0580b	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  05811	89 4d c0	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 2457 : 
; 2458 : 	if ( nChaosNeedMoney < 0 )

  05814	79 07		 jns	 SHORT $LN14@DarkSpirit

; 2459 : 	{
; 2460 : 		nChaosNeedMoney = 0;

  05816	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0
$LN14@DarkSpirit:

; 2461 : 	}
; 2462 : 
; 2463 : 	if ( lpObj->Money < nChaosNeedMoney )

  0581d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05820	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  05826	3b 4d c0	 cmp	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  05829	7d 2d		 jge	 SHORT $LN13@DarkSpirit

; 2464 : 	{
; 2465 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  0582b	c6 45 d3 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 2466 : 		
; 2467 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0582f	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  05833	50		 push	 eax
  05834	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05837	51		 push	 ecx
  05838	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0583b	8b 02		 mov	 eax, DWORD PTR [edx]
  0583d	50		 push	 eax
  0583e	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  05843	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2468 : 		lpObj->ChaosLock = FALSE;

  05846	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05849	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2469 : 
; 2470 : 		return;

  05853	e9 7e 02 00 00	 jmp	 $LN35@DarkSpirit
$LN13@DarkSpirit:

; 2471 : 	}
; 2472 : 
; 2473 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  05858	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0585b	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  05861	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05864	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  0586a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0586d	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 2474 : 
; 2475 : 
; 2476 : 	lpObj->Money -= nChaosNeedMoney;

  05873	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05876	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0587c	2b 4d c0	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  0587f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05882	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 2477 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  05888	8b 45 bc	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0588b	50		 push	 eax
  0588c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  05891	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 2478 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  05896	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05899	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0589f	51		 push	 ecx
  058a0	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  058a3	8b 02		 mov	 eax, DWORD PTR [edx]
  058a5	50		 push	 eax
  058a6	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  058ab	83 c4 08	 add	 esp, 8

; 2479 : 
; 2480 : 	if ( (rand()%100) < lpObj->ChaosSuccessRate )

  058ae	e8 00 00 00 00	 call	 _rand
  058b3	99		 cdq
  058b4	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  058b9	f7 f9		 idiv	 ecx
  058bb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  058be	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  058c4	0f 8d 86 01 00
	00		 jge	 $LN12@DarkSpirit

; 2481 : 	{
; 2482 : 		int Level = 0;

  058ca	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _Level$236329[ebp], 0

; 2483 : 		int ItemType = 13;

  058d1	c7 45 b4 0d 00
	00 00		 mov	 DWORD PTR _ItemType$236330[ebp], 13 ; 0000000dH

; 2484 : 		int ItemSubType = 5;

  058d8	c7 45 b0 05 00
	00 00		 mov	 DWORD PTR _ItemSubType$236331[ebp], 5

; 2485 : 		int ItemNum = ITEMGET(ItemType, ItemSubType);

  058df	8b 45 b4	 mov	 eax, DWORD PTR _ItemType$236330[ebp]
  058e2	c1 e0 09	 shl	 eax, 9
  058e5	03 45 b0	 add	 eax, DWORD PTR _ItemSubType$236331[ebp]
  058e8	89 45 ac	 mov	 DWORD PTR _ItemNum$236332[ebp], eax

; 2486 : 		int Option1 = 0;

  058eb	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR _Option1$236333[ebp], 0

; 2487 : 		int Option2 = 0;

  058f2	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _Option2$236334[ebp], 0

; 2488 : 		int Option3 = 0;

  058f9	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _Option3$236335[ebp], 0

; 2489 : 
; 2490 : 		int Add = 0;

  05900	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR _Add$236336[ebp], 0

; 2491 : 
; 2492 : 		if ( (rand()%100) < (lpObj->ChaosSuccessRate/5+6) )

  05907	e8 00 00 00 00	 call	 _rand
  0590c	99		 cdq
  0590d	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  05912	f7 f9		 idiv	 ecx
  05914	8b ca		 mov	 ecx, edx
  05916	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05919	8b 82 84 0e 00
	00		 mov	 eax, DWORD PTR [edx+3716]
  0591f	99		 cdq
  05920	be 05 00 00 00	 mov	 esi, 5
  05925	f7 fe		 idiv	 esi
  05927	83 c0 06	 add	 eax, 6
  0592a	3b c8		 cmp	 ecx, eax
  0592c	7d 07		 jge	 SHORT $LN11@DarkSpirit

; 2493 : 		{
; 2494 : 			Add = 1;

  0592e	c7 45 9c 01 00
	00 00		 mov	 DWORD PTR _Add$236336[ebp], 1
$LN11@DarkSpirit:

; 2495 : 		}
; 2496 : 
; 2497 : 		if ( (rand()%5) == 0 )

  05935	e8 00 00 00 00	 call	 _rand
  0593a	99		 cdq
  0593b	b9 05 00 00 00	 mov	 ecx, 5
  05940	f7 f9		 idiv	 ecx
  05942	85 d2		 test	 edx, edx
  05944	75 07		 jne	 SHORT $LN10@DarkSpirit

; 2498 : 		{
; 2499 : 			Option1 = 1;

  05946	c7 45 a8 01 00
	00 00		 mov	 DWORD PTR _Option1$236333[ebp], 1
$LN10@DarkSpirit:

; 2500 : 		}
; 2501 : 
; 2502 : 		int lc22 = rand()%100;	

  0594d	e8 00 00 00 00	 call	 _rand
  05952	99		 cdq
  05953	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  05958	f7 f9		 idiv	 ecx
  0595a	89 55 98	 mov	 DWORD PTR _lc22$236339[ebp], edx

; 2503 : 		int lc23 = rand()%3;

  0595d	e8 00 00 00 00	 call	 _rand
  05962	99		 cdq
  05963	b9 03 00 00 00	 mov	 ecx, 3
  05968	f7 f9		 idiv	 ecx
  0596a	89 55 94	 mov	 DWORD PTR _lc23$236340[ebp], edx

; 2504 : 
; 2505 : 		switch ( lc23 )

  0596d	8b 45 94	 mov	 eax, DWORD PTR _lc23$236340[ebp]
  05970	89 85 50 ff ff
	ff		 mov	 DWORD PTR tv238[ebp], eax
  05976	83 bd 50 ff ff
	ff 00		 cmp	 DWORD PTR tv238[ebp], 0
  0597d	74 14		 je	 SHORT $LN7@DarkSpirit
  0597f	83 bd 50 ff ff
	ff 01		 cmp	 DWORD PTR tv238[ebp], 1
  05986	74 1a		 je	 SHORT $LN5@DarkSpirit
  05988	83 bd 50 ff ff
	ff 02		 cmp	 DWORD PTR tv238[ebp], 2
  0598f	74 20		 je	 SHORT $LN3@DarkSpirit
  05991	eb 2b		 jmp	 SHORT $LN8@DarkSpirit
$LN7@DarkSpirit:

; 2506 : 		{
; 2507 : 			case 0:
; 2508 : 				if ( lc22 <  4 )

  05993	83 7d 98 04	 cmp	 DWORD PTR _lc22$236339[ebp], 4
  05997	7d 07		 jge	 SHORT $LN6@DarkSpirit

; 2509 : 				{
; 2510 : 					Option2 = 3;

  05999	c7 45 a4 03 00
	00 00		 mov	 DWORD PTR _Option2$236334[ebp], 3
$LN6@DarkSpirit:

; 2511 : 				}
; 2512 : 				break;

  059a0	eb 1c		 jmp	 SHORT $LN8@DarkSpirit
$LN5@DarkSpirit:

; 2513 : 
; 2514 : 			case 1:
; 2515 : 				if ( lc22 <  10 )

  059a2	83 7d 98 0a	 cmp	 DWORD PTR _lc22$236339[ebp], 10 ; 0000000aH
  059a6	7d 07		 jge	 SHORT $LN4@DarkSpirit

; 2516 : 				{
; 2517 : 					Option2 = 2;

  059a8	c7 45 a4 02 00
	00 00		 mov	 DWORD PTR _Option2$236334[ebp], 2
$LN4@DarkSpirit:

; 2518 : 				}
; 2519 : 				break;

  059af	eb 0d		 jmp	 SHORT $LN8@DarkSpirit
$LN3@DarkSpirit:

; 2520 : 
; 2521 : 			case 2:
; 2522 : 				if ( lc22 <  20 )

  059b1	83 7d 98 14	 cmp	 DWORD PTR _lc22$236339[ebp], 20 ; 00000014H
  059b5	7d 07		 jge	 SHORT $LN2@DarkSpirit

; 2523 : 				{
; 2524 : 					Option2 = 1;

  059b7	c7 45 a4 01 00
	00 00		 mov	 DWORD PTR _Option2$236334[ebp], 1
$LN2@DarkSpirit:
$LN8@DarkSpirit:

; 2525 : 				}
; 2526 : 				break;
; 2527 : 		}
; 2528 : 
; 2529 : 		::PetItemSerialCreateSend(lpObj->m_Index, -2, 0, 0, ItemNum, Level, 0, Add, Option1, Option2, -1, 0, 0); 

  059be	6a 00		 push	 0
  059c0	6a 00		 push	 0
  059c2	6a ff		 push	 -1
  059c4	0f b6 45 a4	 movzx	 eax, BYTE PTR _Option2$236334[ebp]
  059c8	50		 push	 eax
  059c9	0f b6 4d a8	 movzx	 ecx, BYTE PTR _Option1$236333[ebp]
  059cd	51		 push	 ecx
  059ce	0f b6 55 9c	 movzx	 edx, BYTE PTR _Add$236336[ebp]
  059d2	52		 push	 edx
  059d3	6a 00		 push	 0
  059d5	0f b6 45 b8	 movzx	 eax, BYTE PTR _Level$236329[ebp]
  059d9	50		 push	 eax
  059da	8b 4d ac	 mov	 ecx, DWORD PTR _ItemNum$236332[ebp]
  059dd	51		 push	 ecx
  059de	6a 00		 push	 0
  059e0	6a 00		 push	 0
  059e2	68 fe 00 00 00	 push	 254			; 000000feH
  059e7	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  059ea	8b 02		 mov	 eax, DWORD PTR [edx]
  059ec	50		 push	 eax
  059ed	e8 00 00 00 00	 call	 ?PetItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; PetItemSerialCreateSend
  059f2	83 c4 34	 add	 esp, 52			; 00000034H

; 2530 : 		::gObjInventoryCommit(lpObj->m_Index);

  059f5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  059f8	8b 08		 mov	 ecx, DWORD PTR [eax]
  059fa	51		 push	 ecx
  059fb	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  05a00	83 c4 04	 add	 esp, 4

; 2531 : 		LogAddTD("[DarkSpiritMix] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate : %d",
; 2532 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate,
; 2533 : 			lpObj->Money, nChaosNeedMoney, iCharmOfLuckCount);

  05a03	8b 45 cc	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  05a06	50		 push	 eax
  05a07	8b 4d c0	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  05a0a	51		 push	 ecx
  05a0b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05a0e	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  05a14	50		 push	 eax
  05a15	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05a18	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  05a1e	52		 push	 edx
  05a1f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05a22	83 c0 77	 add	 eax, 119		; 00000077H
  05a25	50		 push	 eax
  05a26	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05a29	83 c1 6c	 add	 ecx, 108		; 0000006cH
  05a2c	51		 push	 ecx
  05a2d	68 00 00 00 00	 push	 OFFSET ??_C@_0EI@DIJHKIBN@?$FLDarkSpiritMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@
  05a32	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05a38	83 c4 1c	 add	 esp, 28			; 0000001cH

; 2534 : #if(SYSTEM_ACHIEVEMENTS)
; 2535 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  05a3b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05a3e	8b 08		 mov	 ecx, DWORD PTR [eax]
  05a40	51		 push	 ecx
  05a41	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  05a46	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 2536 : #endif
; 2537 : 	}
; 2538 : 	else

  05a4b	e9 86 00 00 00	 jmp	 $LN1@DarkSpirit
$LN12@DarkSpirit:

; 2539 : 	{
; 2540 : 		this->ChaosBoxInit(lpObj);

  05a50	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05a53	50		 push	 eax
  05a54	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  05a57	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 2541 : 		GCUserChaosBoxSend(lpObj, 1);

  05a5c	6a 01		 push	 1
  05a5e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05a61	50		 push	 eax
  05a62	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  05a67	83 c4 08	 add	 esp, 8

; 2542 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  05a6a	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  05a6e	50		 push	 eax
  05a6f	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05a72	51		 push	 ecx
  05a73	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05a76	8b 02		 mov	 eax, DWORD PTR [edx]
  05a78	50		 push	 eax
  05a79	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  05a7e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2543 : 
; 2544 : 		LogAddTD("[DarkSpiritMix] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : %d",
; 2545 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate,
; 2546 : 			lpObj->Money, nChaosNeedMoney, iCharmOfLuckCount);

  05a81	8b 45 cc	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  05a84	50		 push	 eax
  05a85	8b 4d c0	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  05a88	51		 push	 ecx
  05a89	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05a8c	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  05a92	50		 push	 eax
  05a93	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05a96	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  05a9c	52		 push	 edx
  05a9d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05aa0	83 c0 77	 add	 eax, 119		; 00000077H
  05aa3	50		 push	 eax
  05aa4	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05aa7	83 c1 6c	 add	 ecx, 108		; 0000006cH
  05aaa	51		 push	 ecx
  05aab	68 00 00 00 00	 push	 OFFSET ??_C@_0EF@ENJLGEHL@?$FLDarkSpiritMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@
  05ab0	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05ab6	83 c4 1c	 add	 esp, 28			; 0000001cH

; 2547 : 		lpObj->ChaosLock = FALSE;

  05ab9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05abc	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2548 : #if(SYSTEM_ACHIEVEMENTS)
; 2549 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  05ac6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05ac9	8b 08		 mov	 ecx, DWORD PTR [eax]
  05acb	51		 push	 ecx
  05acc	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  05ad1	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN1@DarkSpirit:
$LN35@DarkSpirit:

; 2550 : #endif
; 2551 : 	}
; 2552 : }

  05ad6	5f		 pop	 edi
  05ad7	5e		 pop	 esi
  05ad8	5b		 pop	 ebx
  05ad9	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  05adc	33 cd		 xor	 ecx, ebp
  05ade	e8 00 00 00 00	 call	 @__security_check_cookie@4
  05ae3	8b e5		 mov	 esp, ebp
  05ae5	5d		 pop	 ebp
  05ae6	c2 04 00	 ret	 4
?DarkSpiritChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::DarkSpiritChaosMix
_TEXT	ENDS
PUBLIC	??_C@_0DG@ECHLAENJ@?$FLBlessPotionMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@ ; `string'
PUBLIC	??_C@_0DJ@CHGCMDK@?$FLBlessPotionMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@ ; `string'
PUBLIC	??_C@_0CB@EBJOJCKF@?$FLBlessPotionMix?$FN?5Chaos?5Mix?5Start@ ; `string'
PUBLIC	??_C@_0P@NBHFIPDI@BlessPotionMix?$AA@		; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?BlessPotionChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::BlessPotionChaosMix
EXTRN	?MsgOutput@@YAXHPADZZ:PROC			; MsgOutput
EXTRN	?Get@CMsg@@QAEPADH@Z:PROC			; CMsg::Get
EXTRN	?lMsg@@3VCMsg@@A:BYTE				; lMsg
;	COMDAT ??_C@_0DG@ECHLAENJ@?$FLBlessPotionMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@
CONST	SEGMENT
??_C@_0DG@ECHLAENJ@?$FLBlessPotionMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@ DB '['
	DB	'BlessPotionMix] [%s][%s] CBMix Fail %d Money : %d-%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DJ@CHGCMDK@?$FLBlessPotionMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@
CONST	SEGMENT
??_C@_0DJ@CHGCMDK@?$FLBlessPotionMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@ DB '['
	DB	'BlessPotionMix] [%s][%s] CBMix Success %d Money : %d-%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CB@EBJOJCKF@?$FLBlessPotionMix?$FN?5Chaos?5Mix?5Start@
CONST	SEGMENT
??_C@_0CB@EBJOJCKF@?$FLBlessPotionMix?$FN?5Chaos?5Mix?5Start@ DB '[BlessP'
	DB	'otionMix] Chaos Mix Start', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@NBHFIPDI@BlessPotionMix?$AA@
CONST	SEGMENT
??_C@_0P@NBHFIPDI@BlessPotionMix?$AA@ DB 'BlessPotionMix', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_Dur$236394 = -60					; size = 4
_Level$236393 = -56					; size = 4
_ItemNum$236392 = -52					; size = 4
_iChaosTaxMoney$ = -48					; size = 4
_nChaosNeedMoney$ = -44					; size = 4
_n$236365 = -40						; size = 4
_pMsg$ = -36						; size = 16
_iInvalidItemCount$ = -20				; size = 4
_iChaosMoney$ = -16					; size = 4
_iBlessGemCount$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?BlessPotionChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::BlessPotionChaosMix
; _this$ = ecx

; 2555 : {

  05af0	55		 push	 ebp
  05af1	8b ec		 mov	 ebp, esp
  05af3	83 ec 7c	 sub	 esp, 124		; 0000007cH
  05af6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  05afb	33 c5		 xor	 eax, ebp
  05afd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  05b00	53		 push	 ebx
  05b01	56		 push	 esi
  05b02	57		 push	 edi
  05b03	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 2556 : 	lpObj->ChaosLock = TRUE;

  05b06	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05b09	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 2557 : 	int iBlessGemCount = 0; //loc2

  05b13	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iBlessGemCount$[ebp], 0

; 2558 : 	int iChaosMoney = 0; //loc3

  05b1a	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 0

; 2559 : 	int iInvalidItemCount = 0; //loc4

  05b21	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 2560 : 
; 2561 : 	PMSG_CHAOSMIXRESULT pMsg;
; 2562 : 
; 2563 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  05b28	6a 10		 push	 16			; 00000010H
  05b2a	68 86 00 00 00	 push	 134			; 00000086H
  05b2f	8d 45 dc	 lea	 eax, DWORD PTR _pMsg$[ebp]
  05b32	50		 push	 eax
  05b33	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  05b38	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2564 : 	pMsg.Result = CB_ERROR;

  05b3b	c6 45 df 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 2565 : 
; 2566 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++) //loc8

  05b3f	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _n$236365[ebp], 0
  05b46	eb 09		 jmp	 SHORT $LN16@BlessPotio
$LN15@BlessPotio:
  05b48	8b 45 d8	 mov	 eax, DWORD PTR _n$236365[ebp]
  05b4b	83 c0 01	 add	 eax, 1
  05b4e	89 45 d8	 mov	 DWORD PTR _n$236365[ebp], eax
$LN16@BlessPotio:
  05b51	83 7d d8 20	 cmp	 DWORD PTR _n$236365[ebp], 32 ; 00000020H
  05b55	7d 50		 jge	 SHORT $LN14@BlessPotio

; 2567 : 	{
; 2568 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  05b57	8b 4d d8	 mov	 ecx, DWORD PTR _n$236365[ebp]
  05b5a	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  05b60	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05b63	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  05b69	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  05b6e	83 f8 01	 cmp	 eax, 1
  05b71	75 32		 jne	 SHORT $LN13@BlessPotio

; 2569 : 		{
; 2570 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,13) )

  05b73	8b 45 d8	 mov	 eax, DWORD PTR _n$236365[ebp]
  05b76	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  05b7c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05b7f	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  05b85	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  05b8a	3d 0d 1c 00 00	 cmp	 eax, 7181		; 00001c0dH
  05b8f	75 0b		 jne	 SHORT $LN12@BlessPotio

; 2571 : 			{
; 2572 : 				iBlessGemCount++;

  05b91	8b 45 f4	 mov	 eax, DWORD PTR _iBlessGemCount$[ebp]
  05b94	83 c0 01	 add	 eax, 1
  05b97	89 45 f4	 mov	 DWORD PTR _iBlessGemCount$[ebp], eax

; 2573 : 			}
; 2574 : 			else

  05b9a	eb 09		 jmp	 SHORT $LN13@BlessPotio
$LN12@BlessPotio:

; 2575 : 			{
; 2576 : 				iInvalidItemCount++;

  05b9c	8b 45 ec	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  05b9f	83 c0 01	 add	 eax, 1
  05ba2	89 45 ec	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN13@BlessPotio:

; 2577 : 			}
; 2578 : 		}
; 2579 : 	}

  05ba5	eb a1		 jmp	 SHORT $LN15@BlessPotio
$LN14@BlessPotio:

; 2580 : 
; 2581 : 	if(iBlessGemCount == 0)

  05ba7	83 7d f4 00	 cmp	 DWORD PTR _iBlessGemCount$[ebp], 0
  05bab	75 05		 jne	 SHORT $LN10@BlessPotio

; 2582 : 	{
; 2583 : 		return;

  05bad	e9 ec 02 00 00	 jmp	 $LN17@BlessPotio
$LN10@BlessPotio:

; 2584 : 	}
; 2585 : 
; 2586 : 	if(iInvalidItemCount > 0)

  05bb2	83 7d ec 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  05bb6	7e 05		 jle	 SHORT $LN9@BlessPotio

; 2587 : 	{
; 2588 : 		return;

  05bb8	e9 e1 02 00 00	 jmp	 $LN17@BlessPotio
$LN9@BlessPotio:

; 2589 : 	}
; 2590 : 
; 2591 : 	if ( iBlessGemCount == 0 || iInvalidItemCount > 0)

  05bbd	83 7d f4 00	 cmp	 DWORD PTR _iBlessGemCount$[ebp], 0
  05bc1	74 06		 je	 SHORT $LN7@BlessPotio
  05bc3	83 7d ec 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  05bc7	7e 29		 jle	 SHORT $LN8@BlessPotio
$LN7@BlessPotio:

; 2592 : 	{
; 2593 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  05bc9	0f b6 45 dd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  05bcd	50		 push	 eax
  05bce	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05bd1	51		 push	 ecx
  05bd2	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05bd5	8b 02		 mov	 eax, DWORD PTR [edx]
  05bd7	50		 push	 eax
  05bd8	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  05bdd	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2594 : 		lpObj->ChaosLock = FALSE;

  05be0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05be3	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2595 : 		return;

  05bed	e9 ac 02 00 00	 jmp	 $LN17@BlessPotio
$LN8@BlessPotio:

; 2596 : 	}
; 2597 : 
; 2598 : 	if ( iBlessGemCount > 25 )

  05bf2	83 7d f4 19	 cmp	 DWORD PTR _iBlessGemCount$[ebp], 25 ; 00000019H
  05bf6	7e 47		 jle	 SHORT $LN6@BlessPotio

; 2599 : 	{
; 2600 : 		MsgOutput(lpObj->m_Index, lMsg.Get(MSGGET(6,201)));

  05bf8	68 c9 06 00 00	 push	 1737			; 000006c9H
  05bfd	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  05c02	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  05c07	50		 push	 eax
  05c08	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05c0b	8b 08		 mov	 ecx, DWORD PTR [eax]
  05c0d	51		 push	 ecx
  05c0e	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  05c13	83 c4 08	 add	 esp, 8

; 2601 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  05c16	0f b6 45 dd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  05c1a	50		 push	 eax
  05c1b	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05c1e	51		 push	 ecx
  05c1f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05c22	8b 02		 mov	 eax, DWORD PTR [edx]
  05c24	50		 push	 eax
  05c25	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  05c2a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2602 : 		lpObj->ChaosLock = FALSE;

  05c2d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05c30	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2603 : 
; 2604 : 		return;

  05c3a	e9 5f 02 00 00	 jmp	 $LN17@BlessPotio
$LN6@BlessPotio:

; 2605 : 	}
; 2606 : 
; 2607 : 	LogChaosItem(lpObj, "BlessPotionMix");

  05c3f	68 00 00 00 00	 push	 OFFSET ??_C@_0P@NBHFIPDI@BlessPotionMix?$AA@
  05c44	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05c47	50		 push	 eax
  05c48	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  05c4b	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 2608 : 	LogAddTD("[BlessPotionMix] Chaos Mix Start");

  05c50	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@EBJOJCKF@?$FLBlessPotionMix?$FN?5Chaos?5Mix?5Start@
  05c55	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05c5b	83 c4 04	 add	 esp, 4

; 2609 : 	lpObj->ChaosSuccessRate = 100;

  05c5e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05c61	c7 80 84 0e 00
	00 64 00 00 00	 mov	 DWORD PTR [eax+3716], 100 ; 00000064H

; 2610 : 
; 2611 : 	int nChaosNeedMoney = 100000;

  05c6b	c7 45 d4 a0 86
	01 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 100000 ; 000186a0H

; 2612 : 
; 2613 : 	int iChaosTaxMoney = (int)((__int64)nChaosNeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  05c72	8b 45 d4	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  05c75	99		 cdq
  05c76	8b f0		 mov	 esi, eax
  05c78	8b fa		 mov	 edi, edx
  05c7a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05c7d	8b 08		 mov	 ecx, DWORD PTR [eax]
  05c7f	51		 push	 ecx
  05c80	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  05c85	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  05c8a	99		 cdq
  05c8b	52		 push	 edx
  05c8c	50		 push	 eax
  05c8d	57		 push	 edi
  05c8e	56		 push	 esi
  05c8f	e8 00 00 00 00	 call	 __allmul
  05c94	6a 00		 push	 0
  05c96	6a 64		 push	 100			; 00000064H
  05c98	52		 push	 edx
  05c99	50		 push	 eax
  05c9a	e8 00 00 00 00	 call	 __alldiv
  05c9f	89 45 d0	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 2614 : 
; 2615 : 	if ( iChaosTaxMoney < 0 )

  05ca2	83 7d d0 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  05ca6	7d 07		 jge	 SHORT $LN5@BlessPotio

; 2616 : 	{
; 2617 : 		iChaosTaxMoney = 0;

  05ca8	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN5@BlessPotio:

; 2618 : 	}
; 2619 : 
; 2620 : 	nChaosNeedMoney += iChaosTaxMoney;

  05caf	8b 45 d4	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  05cb2	03 45 d0	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  05cb5	89 45 d4	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], eax

; 2621 : 
; 2622 : 		nChaosNeedMoney += lpObj->m_AddMixMoney;

  05cb8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05cbb	8b 4d d4	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  05cbe	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  05cc4	89 4d d4	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 2623 : 
; 2624 : 	if ( nChaosNeedMoney < 0 )

  05cc7	79 07		 jns	 SHORT $LN4@BlessPotio

; 2625 : 	{
; 2626 : 		nChaosNeedMoney = 0;

  05cc9	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0
$LN4@BlessPotio:

; 2627 : 	}
; 2628 : 
; 2629 : 	if ( lpObj->Money < nChaosNeedMoney )

  05cd0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05cd3	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  05cd9	3b 4d d4	 cmp	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  05cdc	7d 2d		 jge	 SHORT $LN3@BlessPotio

; 2630 : 	{
; 2631 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  05cde	c6 45 df 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 2632 : 		
; 2633 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  05ce2	0f b6 45 dd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  05ce6	50		 push	 eax
  05ce7	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05cea	51		 push	 ecx
  05ceb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05cee	8b 02		 mov	 eax, DWORD PTR [edx]
  05cf0	50		 push	 eax
  05cf1	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  05cf6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2634 : 		lpObj->ChaosLock = FALSE;

  05cf9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05cfc	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2635 : 
; 2636 : 		return;

  05d06	e9 93 01 00 00	 jmp	 $LN17@BlessPotio
$LN3@BlessPotio:

; 2637 : 	}
; 2638 : 
; 2639 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  05d0b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05d0e	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  05d14	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05d17	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  05d1d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05d20	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 2640 : 
; 2641 : 
; 2642 : 	lpObj->Money -= nChaosNeedMoney;

  05d26	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05d29	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  05d2f	2b 4d d4	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  05d32	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05d35	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 2643 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  05d3b	8b 45 d0	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  05d3e	50		 push	 eax
  05d3f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  05d44	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 2644 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  05d49	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05d4c	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  05d52	51		 push	 ecx
  05d53	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05d56	8b 02		 mov	 eax, DWORD PTR [edx]
  05d58	50		 push	 eax
  05d59	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  05d5e	83 c4 08	 add	 esp, 8

; 2645 : 
; 2646 : 	if ( (rand()%100) < lpObj->ChaosSuccessRate )

  05d61	e8 00 00 00 00	 call	 _rand
  05d66	99		 cdq
  05d67	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  05d6c	f7 f9		 idiv	 ecx
  05d6e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05d71	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  05d77	0f 8d 9f 00 00
	00		 jge	 $LN2@BlessPotio

; 2647 : 	{
; 2648 : 		int ItemNum = ITEMGET(14,7);

  05d7d	c7 45 cc 07 1c
	00 00		 mov	 DWORD PTR _ItemNum$236392[ebp], 7175 ; 00001c07H

; 2649 : 		int Level = 0;

  05d84	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _Level$236393[ebp], 0

; 2650 : 		int Dur = iBlessGemCount * 10;

  05d8b	8b 45 f4	 mov	 eax, DWORD PTR _iBlessGemCount$[ebp]
  05d8e	6b c0 0a	 imul	 eax, 10			; 0000000aH
  05d91	89 45 c4	 mov	 DWORD PTR _Dur$236394[ebp], eax

; 2651 : 
; 2652 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, ItemNum, (BYTE)Level, (BYTE)Dur, 0, 0, 0, -1, 0, 0);

  05d94	6a 00		 push	 0
  05d96	6a 00		 push	 0
  05d98	6a ff		 push	 -1
  05d9a	6a 00		 push	 0
  05d9c	6a 00		 push	 0
  05d9e	6a 00		 push	 0
  05da0	0f b6 45 c4	 movzx	 eax, BYTE PTR _Dur$236394[ebp]
  05da4	50		 push	 eax
  05da5	0f b6 4d c8	 movzx	 ecx, BYTE PTR _Level$236393[ebp]
  05da9	51		 push	 ecx
  05daa	8b 55 cc	 mov	 edx, DWORD PTR _ItemNum$236392[ebp]
  05dad	52		 push	 edx
  05dae	6a 00		 push	 0
  05db0	6a 00		 push	 0
  05db2	68 ff 00 00 00	 push	 255			; 000000ffH
  05db7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05dba	8b 08		 mov	 ecx, DWORD PTR [eax]
  05dbc	51		 push	 ecx
  05dbd	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  05dc2	83 c4 34	 add	 esp, 52			; 00000034H

; 2653 : 		::gObjInventoryCommit(lpObj->m_Index);

  05dc5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05dc8	8b 08		 mov	 ecx, DWORD PTR [eax]
  05dca	51		 push	 ecx
  05dcb	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  05dd0	83 c4 04	 add	 esp, 4

; 2654 : 
; 2655 : 		LogAddTD("[BlessPotionMix] [%s][%s] CBMix Success %d Money : %d-%d",
; 2656 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, 
; 2657 : 			lpObj->Money, nChaosNeedMoney);

  05dd3	8b 45 d4	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  05dd6	50		 push	 eax
  05dd7	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05dda	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  05de0	52		 push	 edx
  05de1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05de4	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  05dea	51		 push	 ecx
  05deb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05dee	83 c2 77	 add	 edx, 119		; 00000077H
  05df1	52		 push	 edx
  05df2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05df5	83 c0 6c	 add	 eax, 108		; 0000006cH
  05df8	50		 push	 eax
  05df9	68 00 00 00 00	 push	 OFFSET ??_C@_0DJ@CHGCMDK@?$FLBlessPotionMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@
  05dfe	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05e04	83 c4 18	 add	 esp, 24			; 00000018H

; 2658 : #if(SYSTEM_ACHIEVEMENTS)
; 2659 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  05e07	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05e0a	8b 08		 mov	 ecx, DWORD PTR [eax]
  05e0c	51		 push	 ecx
  05e0d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  05e12	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 2660 : #endif
; 2661 : 	}
; 2662 : 	else

  05e17	e9 82 00 00 00	 jmp	 $LN17@BlessPotio
$LN2@BlessPotio:

; 2663 : 	{
; 2664 : 		this->ChaosBoxInit(lpObj);

  05e1c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05e1f	50		 push	 eax
  05e20	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  05e23	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 2665 : 		::GCUserChaosBoxSend(lpObj, 1);

  05e28	6a 01		 push	 1
  05e2a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05e2d	50		 push	 eax
  05e2e	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  05e33	83 c4 08	 add	 esp, 8

; 2666 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  05e36	0f b6 45 dd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  05e3a	50		 push	 eax
  05e3b	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05e3e	51		 push	 ecx
  05e3f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05e42	8b 02		 mov	 eax, DWORD PTR [edx]
  05e44	50		 push	 eax
  05e45	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  05e4a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2667 : 
; 2668 : 		LogAddTD("[BlessPotionMix] [%s][%s] CBMix Fail %d Money : %d-%d",
; 2669 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, 
; 2670 : 			lpObj->Money, nChaosNeedMoney);

  05e4d	8b 45 d4	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  05e50	50		 push	 eax
  05e51	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05e54	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  05e5a	52		 push	 edx
  05e5b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05e5e	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  05e64	51		 push	 ecx
  05e65	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05e68	83 c2 77	 add	 edx, 119		; 00000077H
  05e6b	52		 push	 edx
  05e6c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05e6f	83 c0 6c	 add	 eax, 108		; 0000006cH
  05e72	50		 push	 eax
  05e73	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@ECHLAENJ@?$FLBlessPotionMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@
  05e78	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05e7e	83 c4 18	 add	 esp, 24			; 00000018H

; 2671 : #if(SYSTEM_ACHIEVEMENTS)
; 2672 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  05e81	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05e84	8b 08		 mov	 ecx, DWORD PTR [eax]
  05e86	51		 push	 ecx
  05e87	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  05e8c	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix

; 2673 : #endif
; 2674 : 		lpObj->ChaosLock = FALSE;

  05e91	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05e94	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN17@BlessPotio:

; 2675 : 	}
; 2676 : }

  05e9e	5f		 pop	 edi
  05e9f	5e		 pop	 esi
  05ea0	5b		 pop	 ebx
  05ea1	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  05ea4	33 cd		 xor	 ecx, ebp
  05ea6	e8 00 00 00 00	 call	 @__security_check_cookie@4
  05eab	8b e5		 mov	 esp, ebp
  05ead	5d		 pop	 ebp
  05eae	c2 04 00	 ret	 4
?BlessPotionChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::BlessPotionChaosMix
_TEXT	ENDS
PUBLIC	??_C@_0DF@MJBBEIMO@?$FLSoulPotionMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@ ; `string'
PUBLIC	??_C@_0CA@GHNNBMIL@?$FLSoulPotionMix?$FN?5Chaos?5Mix?5Start?$AA@ ; `string'
PUBLIC	??_C@_0O@KAEODMHN@SoulPotionMix?$AA@		; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?SoulPotionChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::SoulPotionChaosMix
;	COMDAT ??_C@_0DF@MJBBEIMO@?$FLSoulPotionMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@
CONST	SEGMENT
??_C@_0DF@MJBBEIMO@?$FLSoulPotionMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@ DB '['
	DB	'SoulPotionMix] [%s][%s] CBMix Fail %d Money : %d-%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CA@GHNNBMIL@?$FLSoulPotionMix?$FN?5Chaos?5Mix?5Start?$AA@
CONST	SEGMENT
??_C@_0CA@GHNNBMIL@?$FLSoulPotionMix?$FN?5Chaos?5Mix?5Start?$AA@ DB '[Sou'
	DB	'lPotionMix] Chaos Mix Start', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@KAEODMHN@SoulPotionMix?$AA@
CONST	SEGMENT
??_C@_0O@KAEODMHN@SoulPotionMix?$AA@ DB 'SoulPotionMix', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_Dur$236437 = -60					; size = 4
_Level$236436 = -56					; size = 4
_ItemNum$236435 = -52					; size = 4
_iChaosTaxMoney$ = -48					; size = 4
_nChaosNeedMoney$ = -44					; size = 4
_n$236411 = -40						; size = 4
_pMsg$ = -36						; size = 16
_iInvalidItemCount$ = -20				; size = 4
_iChaosMoney$ = -16					; size = 4
_iSoulGemCount$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?SoulPotionChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::SoulPotionChaosMix
; _this$ = ecx

; 2679 : {

  05ec0	55		 push	 ebp
  05ec1	8b ec		 mov	 ebp, esp
  05ec3	83 ec 7c	 sub	 esp, 124		; 0000007cH
  05ec6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  05ecb	33 c5		 xor	 eax, ebp
  05ecd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  05ed0	53		 push	 ebx
  05ed1	56		 push	 esi
  05ed2	57		 push	 edi
  05ed3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 2680 : 	lpObj->ChaosLock = TRUE;

  05ed6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05ed9	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 2681 : 	int iSoulGemCount = 0;

  05ee3	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iSoulGemCount$[ebp], 0

; 2682 : 	int iChaosMoney = 0;

  05eea	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 0

; 2683 : 	int iInvalidItemCount = 0;

  05ef1	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 2684 : 
; 2685 : 	PMSG_CHAOSMIXRESULT pMsg;
; 2686 : 
; 2687 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  05ef8	6a 10		 push	 16			; 00000010H
  05efa	68 86 00 00 00	 push	 134			; 00000086H
  05eff	8d 45 dc	 lea	 eax, DWORD PTR _pMsg$[ebp]
  05f02	50		 push	 eax
  05f03	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  05f08	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2688 : 	pMsg.Result = CB_ERROR;

  05f0b	c6 45 df 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 2689 : 
; 2690 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  05f0f	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _n$236411[ebp], 0
  05f16	eb 09		 jmp	 SHORT $LN14@SoulPotion
$LN13@SoulPotion:
  05f18	8b 45 d8	 mov	 eax, DWORD PTR _n$236411[ebp]
  05f1b	83 c0 01	 add	 eax, 1
  05f1e	89 45 d8	 mov	 DWORD PTR _n$236411[ebp], eax
$LN14@SoulPotion:
  05f21	83 7d d8 20	 cmp	 DWORD PTR _n$236411[ebp], 32 ; 00000020H
  05f25	7d 50		 jge	 SHORT $LN12@SoulPotion

; 2691 : 	{
; 2692 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  05f27	8b 4d d8	 mov	 ecx, DWORD PTR _n$236411[ebp]
  05f2a	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  05f30	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05f33	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  05f39	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  05f3e	83 f8 01	 cmp	 eax, 1
  05f41	75 32		 jne	 SHORT $LN11@SoulPotion

; 2693 : 		{
; 2694 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,14) )

  05f43	8b 45 d8	 mov	 eax, DWORD PTR _n$236411[ebp]
  05f46	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  05f4c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  05f4f	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  05f55	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  05f5a	3d 0e 1c 00 00	 cmp	 eax, 7182		; 00001c0eH
  05f5f	75 0b		 jne	 SHORT $LN10@SoulPotion

; 2695 : 			{
; 2696 : 				iSoulGemCount++;

  05f61	8b 45 f4	 mov	 eax, DWORD PTR _iSoulGemCount$[ebp]
  05f64	83 c0 01	 add	 eax, 1
  05f67	89 45 f4	 mov	 DWORD PTR _iSoulGemCount$[ebp], eax

; 2697 : 			}
; 2698 : 			else

  05f6a	eb 09		 jmp	 SHORT $LN11@SoulPotion
$LN10@SoulPotion:

; 2699 : 			{
; 2700 : 				iInvalidItemCount++;

  05f6c	8b 45 ec	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  05f6f	83 c0 01	 add	 eax, 1
  05f72	89 45 ec	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN11@SoulPotion:

; 2701 : 			}
; 2702 : 		}
; 2703 : 	}

  05f75	eb a1		 jmp	 SHORT $LN13@SoulPotion
$LN12@SoulPotion:

; 2704 : 
; 2705 : 	if ( iSoulGemCount == 0 )

  05f77	83 7d f4 00	 cmp	 DWORD PTR _iSoulGemCount$[ebp], 0
  05f7b	75 05		 jne	 SHORT $LN8@SoulPotion

; 2706 : 		return;

  05f7d	e9 b7 02 00 00	 jmp	 $LN15@SoulPotion
$LN8@SoulPotion:

; 2707 : 
; 2708 : 	if ( iInvalidItemCount > 0 )

  05f82	83 7d ec 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  05f86	7e 05		 jle	 SHORT $LN7@SoulPotion

; 2709 : 		return;

  05f88	e9 ac 02 00 00	 jmp	 $LN15@SoulPotion
$LN7@SoulPotion:

; 2710 : 
; 2711 : 	if ( iSoulGemCount > 25 )

  05f8d	83 7d f4 19	 cmp	 DWORD PTR _iSoulGemCount$[ebp], 25 ; 00000019H
  05f91	7e 47		 jle	 SHORT $LN6@SoulPotion

; 2712 : 	{
; 2713 : 		MsgOutput(lpObj->m_Index, lMsg.Get(MSGGET(6,201)));

  05f93	68 c9 06 00 00	 push	 1737			; 000006c9H
  05f98	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  05f9d	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  05fa2	50		 push	 eax
  05fa3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05fa6	8b 08		 mov	 ecx, DWORD PTR [eax]
  05fa8	51		 push	 ecx
  05fa9	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  05fae	83 c4 08	 add	 esp, 8

; 2714 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  05fb1	0f b6 45 dd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  05fb5	50		 push	 eax
  05fb6	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  05fb9	51		 push	 ecx
  05fba	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  05fbd	8b 02		 mov	 eax, DWORD PTR [edx]
  05fbf	50		 push	 eax
  05fc0	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  05fc5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2715 : 		lpObj->ChaosLock = FALSE;

  05fc8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05fcb	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2716 : 
; 2717 : 		return;

  05fd5	e9 5f 02 00 00	 jmp	 $LN15@SoulPotion
$LN6@SoulPotion:

; 2718 : 	}
; 2719 : 
; 2720 : 	LogChaosItem(lpObj, "SoulPotionMix");

  05fda	68 00 00 00 00	 push	 OFFSET ??_C@_0O@KAEODMHN@SoulPotionMix?$AA@
  05fdf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05fe2	50		 push	 eax
  05fe3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  05fe6	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 2721 : 	LogAddTD("[SoulPotionMix] Chaos Mix Start");

  05feb	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@GHNNBMIL@?$FLSoulPotionMix?$FN?5Chaos?5Mix?5Start?$AA@
  05ff0	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  05ff6	83 c4 04	 add	 esp, 4

; 2722 : 	lpObj->ChaosSuccessRate = 100;

  05ff9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  05ffc	c7 80 84 0e 00
	00 64 00 00 00	 mov	 DWORD PTR [eax+3716], 100 ; 00000064H

; 2723 : 
; 2724 : 	int nChaosNeedMoney = 50000;

  06006	c7 45 d4 50 c3
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 50000 ; 0000c350H

; 2725 : 
; 2726 : 	int iChaosTaxMoney = (int)((__int64)nChaosNeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  0600d	8b 45 d4	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  06010	99		 cdq
  06011	8b f0		 mov	 esi, eax
  06013	8b fa		 mov	 edi, edx
  06015	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06018	8b 08		 mov	 ecx, DWORD PTR [eax]
  0601a	51		 push	 ecx
  0601b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  06020	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  06025	99		 cdq
  06026	52		 push	 edx
  06027	50		 push	 eax
  06028	57		 push	 edi
  06029	56		 push	 esi
  0602a	e8 00 00 00 00	 call	 __allmul
  0602f	6a 00		 push	 0
  06031	6a 64		 push	 100			; 00000064H
  06033	52		 push	 edx
  06034	50		 push	 eax
  06035	e8 00 00 00 00	 call	 __alldiv
  0603a	89 45 d0	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 2727 : 
; 2728 : 	if ( iChaosTaxMoney < 0 )

  0603d	83 7d d0 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  06041	7d 07		 jge	 SHORT $LN5@SoulPotion

; 2729 : 	{
; 2730 : 		iChaosTaxMoney = 0;

  06043	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN5@SoulPotion:

; 2731 : 	}
; 2732 : 
; 2733 : 	nChaosNeedMoney += iChaosTaxMoney;

  0604a	8b 45 d4	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  0604d	03 45 d0	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  06050	89 45 d4	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], eax

; 2734 : 
; 2735 : 		nChaosNeedMoney += lpObj->m_AddMixMoney;

  06053	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06056	8b 4d d4	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  06059	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  0605f	89 4d d4	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 2736 : 
; 2737 : 	if ( nChaosNeedMoney < 0 )

  06062	79 07		 jns	 SHORT $LN4@SoulPotion

; 2738 : 	{
; 2739 : 		nChaosNeedMoney = 0;

  06064	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0
$LN4@SoulPotion:

; 2740 : 	}
; 2741 : 
; 2742 : 	if ( lpObj->Money < nChaosNeedMoney )

  0606b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0606e	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  06074	3b 4d d4	 cmp	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  06077	7d 2d		 jge	 SHORT $LN3@SoulPotion

; 2743 : 	{
; 2744 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  06079	c6 45 df 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 2745 : 		
; 2746 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0607d	0f b6 45 dd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  06081	50		 push	 eax
  06082	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  06085	51		 push	 ecx
  06086	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06089	8b 02		 mov	 eax, DWORD PTR [edx]
  0608b	50		 push	 eax
  0608c	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  06091	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2747 : 		lpObj->ChaosLock = FALSE;

  06094	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06097	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2748 : 
; 2749 : 		return;

  060a1	e9 93 01 00 00	 jmp	 $LN15@SoulPotion
$LN3@SoulPotion:

; 2750 : 	}
; 2751 : 
; 2752 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  060a6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  060a9	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  060af	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  060b2	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  060b8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  060bb	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 2753 : 
; 2754 : 
; 2755 : 	lpObj->Money -= nChaosNeedMoney;

  060c1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  060c4	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  060ca	2b 4d d4	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  060cd	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  060d0	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 2756 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  060d6	8b 45 d0	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  060d9	50		 push	 eax
  060da	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  060df	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 2757 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  060e4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  060e7	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  060ed	51		 push	 ecx
  060ee	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  060f1	8b 02		 mov	 eax, DWORD PTR [edx]
  060f3	50		 push	 eax
  060f4	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  060f9	83 c4 08	 add	 esp, 8

; 2758 : 
; 2759 : 	if ( (rand()%100) < lpObj->ChaosSuccessRate )

  060fc	e8 00 00 00 00	 call	 _rand
  06101	99		 cdq
  06102	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  06107	f7 f9		 idiv	 ecx
  06109	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0610c	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  06112	0f 8d 9f 00 00
	00		 jge	 $LN2@SoulPotion

; 2760 : 	{
; 2761 : 		int ItemNum = ITEMGET(14,7);

  06118	c7 45 cc 07 1c
	00 00		 mov	 DWORD PTR _ItemNum$236435[ebp], 7175 ; 00001c07H

; 2762 : 		int Level = 1;

  0611f	c7 45 c8 01 00
	00 00		 mov	 DWORD PTR _Level$236436[ebp], 1

; 2763 : 		int Dur = iSoulGemCount * 10;

  06126	8b 45 f4	 mov	 eax, DWORD PTR _iSoulGemCount$[ebp]
  06129	6b c0 0a	 imul	 eax, 10			; 0000000aH
  0612c	89 45 c4	 mov	 DWORD PTR _Dur$236437[ebp], eax

; 2764 : 
; 2765 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, ItemNum, (BYTE)Level, (BYTE)Dur, 0, 0, 0, -1, 0, 0);

  0612f	6a 00		 push	 0
  06131	6a 00		 push	 0
  06133	6a ff		 push	 -1
  06135	6a 00		 push	 0
  06137	6a 00		 push	 0
  06139	6a 00		 push	 0
  0613b	0f b6 45 c4	 movzx	 eax, BYTE PTR _Dur$236437[ebp]
  0613f	50		 push	 eax
  06140	0f b6 4d c8	 movzx	 ecx, BYTE PTR _Level$236436[ebp]
  06144	51		 push	 ecx
  06145	8b 55 cc	 mov	 edx, DWORD PTR _ItemNum$236435[ebp]
  06148	52		 push	 edx
  06149	6a 00		 push	 0
  0614b	6a 00		 push	 0
  0614d	68 ff 00 00 00	 push	 255			; 000000ffH
  06152	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06155	8b 08		 mov	 ecx, DWORD PTR [eax]
  06157	51		 push	 ecx
  06158	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0615d	83 c4 34	 add	 esp, 52			; 00000034H

; 2766 : 		::gObjInventoryCommit(lpObj->m_Index);

  06160	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06163	8b 08		 mov	 ecx, DWORD PTR [eax]
  06165	51		 push	 ecx
  06166	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0616b	83 c4 04	 add	 esp, 4

; 2767 : 
; 2768 : 		LogAddTD("[BlessPotionMix] [%s][%s] CBMix Success %d Money : %d-%d",	// #error Change to SoulPotionMix
; 2769 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, 
; 2770 : 			lpObj->Money, nChaosNeedMoney);

  0616e	8b 45 d4	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  06171	50		 push	 eax
  06172	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06175	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  0617b	52		 push	 edx
  0617c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0617f	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  06185	51		 push	 ecx
  06186	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06189	83 c2 77	 add	 edx, 119		; 00000077H
  0618c	52		 push	 edx
  0618d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06190	83 c0 6c	 add	 eax, 108		; 0000006cH
  06193	50		 push	 eax
  06194	68 00 00 00 00	 push	 OFFSET ??_C@_0DJ@CHGCMDK@?$FLBlessPotionMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5@
  06199	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0619f	83 c4 18	 add	 esp, 24			; 00000018H

; 2771 : #if(SYSTEM_ACHIEVEMENTS)
; 2772 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  061a2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  061a5	8b 08		 mov	 ecx, DWORD PTR [eax]
  061a7	51		 push	 ecx
  061a8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  061ad	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 2773 : #endif
; 2774 : 	}
; 2775 : 	else

  061b2	e9 82 00 00 00	 jmp	 $LN15@SoulPotion
$LN2@SoulPotion:

; 2776 : 	{
; 2777 : 		this->ChaosBoxInit(lpObj);

  061b7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  061ba	50		 push	 eax
  061bb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  061be	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 2778 : 		::GCUserChaosBoxSend(lpObj, 1);

  061c3	6a 01		 push	 1
  061c5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  061c8	50		 push	 eax
  061c9	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  061ce	83 c4 08	 add	 esp, 8

; 2779 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  061d1	0f b6 45 dd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  061d5	50		 push	 eax
  061d6	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  061d9	51		 push	 ecx
  061da	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  061dd	8b 02		 mov	 eax, DWORD PTR [edx]
  061df	50		 push	 eax
  061e0	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  061e5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2780 : 
; 2781 : 		LogAddTD("[SoulPotionMix] [%s][%s] CBMix Fail %d Money : %d-%d",
; 2782 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, 
; 2783 : 			lpObj->Money, nChaosNeedMoney);

  061e8	8b 45 d4	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  061eb	50		 push	 eax
  061ec	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  061ef	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  061f5	52		 push	 edx
  061f6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  061f9	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  061ff	51		 push	 ecx
  06200	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06203	83 c2 77	 add	 edx, 119		; 00000077H
  06206	52		 push	 edx
  06207	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0620a	83 c0 6c	 add	 eax, 108		; 0000006cH
  0620d	50		 push	 eax
  0620e	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@MJBBEIMO@?$FLSoulPotionMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@
  06213	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  06219	83 c4 18	 add	 esp, 24			; 00000018H

; 2784 : #if(SYSTEM_ACHIEVEMENTS)
; 2785 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  0621c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0621f	8b 08		 mov	 ecx, DWORD PTR [eax]
  06221	51		 push	 ecx
  06222	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  06227	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix

; 2786 : #endif
; 2787 : 		lpObj->ChaosLock = FALSE;

  0622c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0622f	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN15@SoulPotion:

; 2788 : 	}
; 2789 : }

  06239	5f		 pop	 edi
  0623a	5e		 pop	 esi
  0623b	5b		 pop	 ebx
  0623c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0623f	33 cd		 xor	 ecx, ebp
  06241	e8 00 00 00 00	 call	 @__security_check_cookie@4
  06246	8b e5		 mov	 esp, ebp
  06248	5d		 pop	 ebp
  06249	c2 04 00	 ret	 4
?SoulPotionChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::SoulPotionChaosMix
_TEXT	ENDS
PUBLIC	??_C@_0DE@PMLDDIAP@?$FLLifeStoneMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fa@ ; `string'
PUBLIC	??_C@_0DH@GNDOFGHL@?$FLLifeStoneMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Su@ ; `string'
PUBLIC	??_C@_0BP@OKAOMBJE@?$FLLifeStoneMix?$FN?5Chaos?5Mix?5Start?$AA@ ; `string'
PUBLIC	??_C@_0N@FJGBJPII@LifeStoneMix?$AA@		; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?LifeStoneChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::LifeStoneChaosMix
;	COMDAT ??_C@_0DE@PMLDDIAP@?$FLLifeStoneMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fa@
CONST	SEGMENT
??_C@_0DE@PMLDDIAP@?$FLLifeStoneMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fa@ DB '['
	DB	'LifeStoneMix] [%s][%s] CBMix Fail %d Money : %d-%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DH@GNDOFGHL@?$FLLifeStoneMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Su@
CONST	SEGMENT
??_C@_0DH@GNDOFGHL@?$FLLifeStoneMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Su@ DB '['
	DB	'LifeStoneMix] [%s][%s] CBMix Success %d Money : %d-%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BP@OKAOMBJE@?$FLLifeStoneMix?$FN?5Chaos?5Mix?5Start?$AA@
CONST	SEGMENT
??_C@_0BP@OKAOMBJE@?$FLLifeStoneMix?$FN?5Chaos?5Mix?5Start?$AA@ DB '[Life'
	DB	'StoneMix] Chaos Mix Start', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@FJGBJPII@LifeStoneMix?$AA@
CONST	SEGMENT
??_C@_0N@FJGBJPII@LifeStoneMix?$AA@ DB 'LifeStoneMix', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_iChaosTaxMoney$ = -60					; size = 4
_nChaosNeedMoney$ = -56					; size = 4
_n$236456 = -52						; size = 4
_pMsg$ = -48						; size = 16
_iChaosMoney$ = -32					; size = 4
_iInvalidItemCount$ = -28				; size = 4
_iProtectionGemCount$ = -24				; size = 4
_iSoulGemCount$ = -20					; size = 4
_iBlessGemCount$ = -16					; size = 4
_iChoasGemCount$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?LifeStoneChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::LifeStoneChaosMix
; _this$ = ecx

; 2792 : {

  06250	55		 push	 ebp
  06251	8b ec		 mov	 ebp, esp
  06253	83 ec 7c	 sub	 esp, 124		; 0000007cH
  06256	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0625b	33 c5		 xor	 eax, ebp
  0625d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  06260	53		 push	 ebx
  06261	56		 push	 esi
  06262	57		 push	 edi
  06263	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 2793 : 	lpObj->ChaosLock = TRUE;

  06266	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06269	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 2794 : 	int iChoasGemCount = 0;

  06273	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iChoasGemCount$[ebp], 0

; 2795 : 	int iBlessGemCount = 0;

  0627a	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iBlessGemCount$[ebp], 0

; 2796 : 	int iSoulGemCount = 0;

  06281	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iSoulGemCount$[ebp], 0

; 2797 : 	int iProtectionGemCount = 0;

  06288	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iProtectionGemCount$[ebp], 0

; 2798 : 	int iInvalidItemCount = 0;

  0628f	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 2799 : 	int iChaosMoney = 0;

  06296	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 0

; 2800 : 
; 2801 : 	PMSG_CHAOSMIXRESULT pMsg;
; 2802 : 
; 2803 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0629d	6a 10		 push	 16			; 00000010H
  0629f	68 86 00 00 00	 push	 134			; 00000086H
  062a4	8d 45 d0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  062a7	50		 push	 eax
  062a8	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  062ad	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2804 : 	pMsg.Result = CB_ERROR;

  062b0	c6 45 d3 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 2805 : 
; 2806 : 
; 2807 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  062b4	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _n$236456[ebp], 0
  062bb	eb 09		 jmp	 SHORT $LN19@LifeStoneC
$LN18@LifeStoneC:
  062bd	8b 45 cc	 mov	 eax, DWORD PTR _n$236456[ebp]
  062c0	83 c0 01	 add	 eax, 1
  062c3	89 45 cc	 mov	 DWORD PTR _n$236456[ebp], eax
$LN19@LifeStoneC:
  062c6	83 7d cc 20	 cmp	 DWORD PTR _n$236456[ebp], 32 ; 00000020H
  062ca	0f 8d d5 00 00
	00		 jge	 $LN17@LifeStoneC

; 2808 : 	{
; 2809 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  062d0	8b 4d cc	 mov	 ecx, DWORD PTR _n$236456[ebp]
  062d3	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  062d9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  062dc	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  062e2	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  062e7	83 f8 01	 cmp	 eax, 1
  062ea	0f 85 b0 00 00
	00		 jne	 $LN16@LifeStoneC

; 2810 : 		{
; 2811 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,13) )

  062f0	8b 45 cc	 mov	 eax, DWORD PTR _n$236456[ebp]
  062f3	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  062f9	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  062fc	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  06302	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  06307	3d 0d 1c 00 00	 cmp	 eax, 7181		; 00001c0dH
  0630c	75 0e		 jne	 SHORT $LN15@LifeStoneC

; 2812 : 			{
; 2813 : 				iBlessGemCount++;

  0630e	8b 45 f0	 mov	 eax, DWORD PTR _iBlessGemCount$[ebp]
  06311	83 c0 01	 add	 eax, 1
  06314	89 45 f0	 mov	 DWORD PTR _iBlessGemCount$[ebp], eax
  06317	e9 84 00 00 00	 jmp	 $LN16@LifeStoneC
$LN15@LifeStoneC:

; 2814 : 			}
; 2815 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,14) )

  0631c	8b 45 cc	 mov	 eax, DWORD PTR _n$236456[ebp]
  0631f	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  06325	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06328	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0632e	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  06333	3d 0e 1c 00 00	 cmp	 eax, 7182		; 00001c0eH
  06338	75 0b		 jne	 SHORT $LN13@LifeStoneC

; 2816 : 			{
; 2817 : 				iSoulGemCount++;

  0633a	8b 45 ec	 mov	 eax, DWORD PTR _iSoulGemCount$[ebp]
  0633d	83 c0 01	 add	 eax, 1
  06340	89 45 ec	 mov	 DWORD PTR _iSoulGemCount$[ebp], eax
  06343	eb 5b		 jmp	 SHORT $LN16@LifeStoneC
$LN13@LifeStoneC:

; 2818 : 			}
; 2819 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,31) )	// Guardian Jewel

  06345	8b 45 cc	 mov	 eax, DWORD PTR _n$236456[ebp]
  06348	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0634e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06351	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  06357	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0635c	3d 1f 1c 00 00	 cmp	 eax, 7199		; 00001c1fH
  06361	75 0b		 jne	 SHORT $LN11@LifeStoneC

; 2820 : 			{
; 2821 : 				iProtectionGemCount++;

  06363	8b 45 e8	 mov	 eax, DWORD PTR _iProtectionGemCount$[ebp]
  06366	83 c0 01	 add	 eax, 1
  06369	89 45 e8	 mov	 DWORD PTR _iProtectionGemCount$[ebp], eax
  0636c	eb 32		 jmp	 SHORT $LN16@LifeStoneC
$LN11@LifeStoneC:

; 2822 : 			}
; 2823 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) )	// Habla pe super CHOAS

  0636e	8b 45 cc	 mov	 eax, DWORD PTR _n$236456[ebp]
  06371	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  06377	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0637a	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  06380	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  06385	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  0638a	75 0b		 jne	 SHORT $LN9@LifeStoneC

; 2824 : 			{
; 2825 : 				iChoasGemCount++;

  0638c	8b 45 f4	 mov	 eax, DWORD PTR _iChoasGemCount$[ebp]
  0638f	83 c0 01	 add	 eax, 1
  06392	89 45 f4	 mov	 DWORD PTR _iChoasGemCount$[ebp], eax

; 2826 : 			}
; 2827 : 			else 

  06395	eb 09		 jmp	 SHORT $LN16@LifeStoneC
$LN9@LifeStoneC:

; 2828 : 			{
; 2829 : 				iInvalidItemCount++;

  06397	8b 45 e4	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  0639a	83 c0 01	 add	 eax, 1
  0639d	89 45 e4	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN16@LifeStoneC:

; 2830 : 			}
; 2831 : 		}
; 2832 : 	}

  063a0	e9 18 ff ff ff	 jmp	 $LN18@LifeStoneC
$LN17@LifeStoneC:

; 2833 : 
; 2834 : 	if ( iChoasGemCount != 1 || iBlessGemCount != 5 || iSoulGemCount != 5 || iProtectionGemCount != 1 || iInvalidItemCount > 0 )

  063a5	83 7d f4 01	 cmp	 DWORD PTR _iChoasGemCount$[ebp], 1
  063a9	75 18		 jne	 SHORT $LN6@LifeStoneC
  063ab	83 7d f0 05	 cmp	 DWORD PTR _iBlessGemCount$[ebp], 5
  063af	75 12		 jne	 SHORT $LN6@LifeStoneC
  063b1	83 7d ec 05	 cmp	 DWORD PTR _iSoulGemCount$[ebp], 5
  063b5	75 0c		 jne	 SHORT $LN6@LifeStoneC
  063b7	83 7d e8 01	 cmp	 DWORD PTR _iProtectionGemCount$[ebp], 1
  063bb	75 06		 jne	 SHORT $LN6@LifeStoneC
  063bd	83 7d e4 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  063c1	7e 29		 jle	 SHORT $LN7@LifeStoneC
$LN6@LifeStoneC:

; 2835 : 	{
; 2836 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  063c3	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  063c7	50		 push	 eax
  063c8	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  063cb	51		 push	 ecx
  063cc	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  063cf	8b 02		 mov	 eax, DWORD PTR [edx]
  063d1	50		 push	 eax
  063d2	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  063d7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2837 : 		lpObj->ChaosLock = FALSE;

  063da	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  063dd	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2838 : 
; 2839 : 		return;

  063e7	e9 43 02 00 00	 jmp	 $LN20@LifeStoneC
$LN7@LifeStoneC:

; 2840 : 	}
; 2841 : 
; 2842 : 	LogChaosItem(lpObj, "LifeStoneMix");

  063ec	68 00 00 00 00	 push	 OFFSET ??_C@_0N@FJGBJPII@LifeStoneMix?$AA@
  063f1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  063f4	50		 push	 eax
  063f5	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  063f8	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 2843 : 	LogAddTD("[LifeStoneMix] Chaos Mix Start");

  063fd	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@OKAOMBJE@?$FLLifeStoneMix?$FN?5Chaos?5Mix?5Start?$AA@
  06402	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  06408	83 c4 04	 add	 esp, 4

; 2844 : 	lpObj->ChaosSuccessRate = 100;

  0640b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0640e	c7 80 84 0e 00
	00 64 00 00 00	 mov	 DWORD PTR [eax+3716], 100 ; 00000064H

; 2845 : 
; 2846 : 	int nChaosNeedMoney = 5000000;

  06418	c7 45 c8 40 4b
	4c 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 5000000 ; 004c4b40H

; 2847 : 
; 2848 : 	int iChaosTaxMoney = (int)((__int64)nChaosNeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  0641f	8b 45 c8	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  06422	99		 cdq
  06423	8b f0		 mov	 esi, eax
  06425	8b fa		 mov	 edi, edx
  06427	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0642a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0642c	51		 push	 ecx
  0642d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  06432	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  06437	99		 cdq
  06438	52		 push	 edx
  06439	50		 push	 eax
  0643a	57		 push	 edi
  0643b	56		 push	 esi
  0643c	e8 00 00 00 00	 call	 __allmul
  06441	6a 00		 push	 0
  06443	6a 64		 push	 100			; 00000064H
  06445	52		 push	 edx
  06446	50		 push	 eax
  06447	e8 00 00 00 00	 call	 __alldiv
  0644c	89 45 c4	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 2849 : 
; 2850 : 	if ( iChaosTaxMoney < 0 )

  0644f	83 7d c4 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  06453	7d 07		 jge	 SHORT $LN5@LifeStoneC

; 2851 : 	{
; 2852 : 		iChaosTaxMoney = 0;

  06455	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN5@LifeStoneC:

; 2853 : 	}
; 2854 : 
; 2855 : 	nChaosNeedMoney += iChaosTaxMoney;

  0645c	8b 45 c8	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  0645f	03 45 c4	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  06462	89 45 c8	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], eax

; 2856 : 
; 2857 : 		nChaosNeedMoney += lpObj->m_AddMixMoney;

  06465	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06468	8b 4d c8	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  0646b	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  06471	89 4d c8	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 2858 : 
; 2859 : 	if ( nChaosNeedMoney < 0 )

  06474	79 07		 jns	 SHORT $LN4@LifeStoneC

; 2860 : 	{
; 2861 : 		nChaosNeedMoney = 0;

  06476	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0
$LN4@LifeStoneC:

; 2862 : 	}
; 2863 : 
; 2864 : 	if ( lpObj->Money < nChaosNeedMoney )

  0647d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06480	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  06486	3b 4d c8	 cmp	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  06489	7d 2d		 jge	 SHORT $LN3@LifeStoneC

; 2865 : 	{
; 2866 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  0648b	c6 45 d3 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 2867 : 		
; 2868 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0648f	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  06493	50		 push	 eax
  06494	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  06497	51		 push	 ecx
  06498	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0649b	8b 02		 mov	 eax, DWORD PTR [edx]
  0649d	50		 push	 eax
  0649e	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  064a3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2869 : 		lpObj->ChaosLock = FALSE;

  064a6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  064a9	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2870 : 
; 2871 : 		return;

  064b3	e9 77 01 00 00	 jmp	 $LN20@LifeStoneC
$LN3@LifeStoneC:

; 2872 : 	}
; 2873 : 
; 2874 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  064b8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  064bb	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  064c1	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  064c4	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  064ca	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  064cd	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 2875 : 
; 2876 : 
; 2877 : 	lpObj->Money -= nChaosNeedMoney;

  064d3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  064d6	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  064dc	2b 4d c8	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  064df	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  064e2	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 2878 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  064e8	8b 45 c4	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  064eb	50		 push	 eax
  064ec	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  064f1	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 2879 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  064f6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  064f9	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  064ff	51		 push	 ecx
  06500	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06503	8b 02		 mov	 eax, DWORD PTR [edx]
  06505	50		 push	 eax
  06506	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  0650b	83 c4 08	 add	 esp, 8

; 2880 : 
; 2881 : 	if ( (rand()%100) < lpObj->ChaosSuccessRate )

  0650e	e8 00 00 00 00	 call	 _rand
  06513	99		 cdq
  06514	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  06519	f7 f9		 idiv	 ecx
  0651b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0651e	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  06524	0f 8d 83 00 00
	00		 jge	 $LN2@LifeStoneC

; 2882 : 	{
; 2883 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, ITEMGET(13,11) , 1, 0, 0, 0, 0, -1, 0, 0);

  0652a	6a 00		 push	 0
  0652c	6a 00		 push	 0
  0652e	6a ff		 push	 -1
  06530	6a 00		 push	 0
  06532	6a 00		 push	 0
  06534	6a 00		 push	 0
  06536	6a 00		 push	 0
  06538	6a 01		 push	 1
  0653a	68 0b 1a 00 00	 push	 6667			; 00001a0bH
  0653f	6a 00		 push	 0
  06541	6a 00		 push	 0
  06543	68 ff 00 00 00	 push	 255			; 000000ffH
  06548	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0654b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0654d	51		 push	 ecx
  0654e	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  06553	83 c4 34	 add	 esp, 52			; 00000034H

; 2884 : 		::gObjInventoryCommit(lpObj->m_Index);

  06556	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06559	8b 08		 mov	 ecx, DWORD PTR [eax]
  0655b	51		 push	 ecx
  0655c	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  06561	83 c4 04	 add	 esp, 4

; 2885 : 
; 2886 : 		LogAddTD("[LifeStoneMix] [%s][%s] CBMix Success %d Money : %d-%d",
; 2887 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, 
; 2888 : 			lpObj->Money, nChaosNeedMoney);

  06564	8b 45 c8	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  06567	50		 push	 eax
  06568	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0656b	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  06571	52		 push	 edx
  06572	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06575	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  0657b	51		 push	 ecx
  0657c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0657f	83 c2 77	 add	 edx, 119		; 00000077H
  06582	52		 push	 edx
  06583	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06586	83 c0 6c	 add	 eax, 108		; 0000006cH
  06589	50		 push	 eax
  0658a	68 00 00 00 00	 push	 OFFSET ??_C@_0DH@GNDOFGHL@?$FLLifeStoneMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Su@
  0658f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  06595	83 c4 18	 add	 esp, 24			; 00000018H

; 2889 : 
; 2890 : #if(SYSTEM_ACHIEVEMENTS)
; 2891 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  06598	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0659b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0659d	51		 push	 ecx
  0659e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  065a3	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 2892 : #endif
; 2893 : 	}
; 2894 : 	else

  065a8	e9 82 00 00 00	 jmp	 $LN20@LifeStoneC
$LN2@LifeStoneC:

; 2895 : 	{
; 2896 : 		this->ChaosBoxInit(lpObj);

  065ad	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  065b0	50		 push	 eax
  065b1	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  065b4	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 2897 : 		::GCUserChaosBoxSend(lpObj, 1);

  065b9	6a 01		 push	 1
  065bb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  065be	50		 push	 eax
  065bf	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  065c4	83 c4 08	 add	 esp, 8

; 2898 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  065c7	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  065cb	50		 push	 eax
  065cc	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  065cf	51		 push	 ecx
  065d0	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  065d3	8b 02		 mov	 eax, DWORD PTR [edx]
  065d5	50		 push	 eax
  065d6	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  065db	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2899 : 
; 2900 : 		LogAddTD("[LifeStoneMix] [%s][%s] CBMix Fail %d Money : %d-%d",
; 2901 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, 
; 2902 : 			lpObj->Money, nChaosNeedMoney);

  065de	8b 45 c8	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  065e1	50		 push	 eax
  065e2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  065e5	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  065eb	52		 push	 edx
  065ec	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  065ef	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  065f5	51		 push	 ecx
  065f6	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  065f9	83 c2 77	 add	 edx, 119		; 00000077H
  065fc	52		 push	 edx
  065fd	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06600	83 c0 6c	 add	 eax, 108		; 0000006cH
  06603	50		 push	 eax
  06604	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@PMLDDIAP@?$FLLifeStoneMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fa@
  06609	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0660f	83 c4 18	 add	 esp, 24			; 00000018H

; 2903 : 
; 2904 : 		lpObj->ChaosLock = FALSE;

  06612	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06615	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2905 : 
; 2906 : #if(SYSTEM_ACHIEVEMENTS)
; 2907 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  0661f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06622	8b 08		 mov	 ecx, DWORD PTR [eax]
  06624	51		 push	 ecx
  06625	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0662a	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN20@LifeStoneC:

; 2908 : #endif
; 2909 : 	}
; 2910 : }

  0662f	5f		 pop	 edi
  06630	5e		 pop	 esi
  06631	5b		 pop	 ebx
  06632	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  06635	33 cd		 xor	 ecx, ebp
  06637	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0663c	8b e5		 mov	 esp, ebp
  0663e	5d		 pop	 ebp
  0663f	c2 04 00	 ret	 4
?LifeStoneChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::LifeStoneChaosMix
_TEXT	ENDS
PUBLIC	??_C@_0DI@EGPAKGJE@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMi@ ; `string'
PUBLIC	??_C@_0DL@JMGPLGGO@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMi@ ; `string'
PUBLIC	??_C@_0DP@OGFNFCIN@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@ ; `string'
PUBLIC	??_C@_0DK@BAMJGCNM@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@ ; `string'
PUBLIC	??_C@_0EE@GIAICFLK@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@ ; `string'
PUBLIC	??_C@_0CM@BFLNDPMH@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Chao@ ; `string'
PUBLIC	??_C@_0BD@DBGJDJHA@Castle?5Special?5Mix?$AA@	; `string'
PUBLIC	??_C@_0FP@MMBGDNIO@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@ ; `string'
PUBLIC	??_C@_0ED@INAPNAEI@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@ ; `string'
PUBLIC	??_C@_0DG@INONCDCO@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@ ; `string'
PUBLIC	??_C@_0EJ@JJHJEOOJ@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?CastleSpecialItemMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::CastleSpecialItemMix
EXTRN	?GetMinLevel@CItemBagEx@@QAEEH@Z:PROC		; CItemBagEx::GetMinLevel
EXTRN	?PickItem@CItemBagEx@@QAEHAAVCItem@@AAH@Z:PROC	; CItemBagEx::PickItem
EXTRN	?CastleItemMixItemBag@@3PAVCItemBagEx@@A:DWORD	; CastleItemMixItemBag
EXTRN	?g_iCastleItemMixLimit@@3HA:DWORD		; g_iCastleItemMixLimit
EXTRN	?CheckCastleOwnerMember@CCastleSiegeSync@@QAEHH@Z:PROC ; CCastleSiegeSync::CheckCastleOwnerMember
;	COMDAT ??_C@_0DI@EGPAKGJE@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMi@
CONST	SEGMENT
??_C@_0DI@EGPAKGJE@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMi@ DB '['
	DB	'CastleSpecialMix] [%s][%s] CBMix Fail %d Money : %d-%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DL@JMGPLGGO@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMi@
CONST	SEGMENT
??_C@_0DL@JMGPLGGO@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMi@ DB '['
	DB	'CastleSpecialMix] [%s][%s] CBMix Success %d Money : %d-%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DP@OGFNFCIN@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@
CONST	SEGMENT
??_C@_0DP@OGFNFCIN@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@ DB '['
	DB	'CastleSpecialMix] [%s][%s] Item Pick Failed - Loop Count Over'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0DK@BAMJGCNM@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@
CONST	SEGMENT
??_C@_0DK@BAMJGCNM@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@ DB '['
	DB	'CastleSpecialMix] [%s][%s] Item Pick Failed - Data Error', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EE@GIAICFLK@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@
CONST	SEGMENT
??_C@_0EE@GIAICFLK@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@ DB '['
	DB	'CastleSpecialMix] [%s][%s] Item Mix Failed - Lack of Money (%'
	DB	'd/%d)', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0CM@BFLNDPMH@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Chao@
CONST	SEGMENT
??_C@_0CM@BFLNDPMH@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Chao@ DB '['
	DB	'CastleSpecialMix] [%s][%s] Chaos Mix Start', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@DBGJDJHA@Castle?5Special?5Mix?$AA@
CONST	SEGMENT
??_C@_0BD@DBGJDJHA@Castle?5Special?5Mix?$AA@ DB 'Castle Special Mix', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0FP@MMBGDNIO@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@
CONST	SEGMENT
??_C@_0FP@MMBGDNIO@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@ DB '['
	DB	'CastleSpecialMix] [%s][%s] Item Mix Failed - Item Error (DG:%'
	DB	'd, BGx10:%d, SGx10:%d, Other:%d)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0ED@INAPNAEI@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@
CONST	SEGMENT
??_C@_0ED@INAPNAEI@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@ DB '['
	DB	'CastleSpecialMix] [%s][%s] Item Mix Failed - Mix Count Limit '
	DB	'Over', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0DG@INONCDCO@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@
CONST	SEGMENT
??_C@_0DG@INONCDCO@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@ DB '['
	DB	'CastleSpecialMix] [%s][%s] Item Mix Failed - No Auth', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EJ@JJHJEOOJ@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@
CONST	SEGMENT
??_C@_0EJ@JJHJEOOJ@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@ DB '['
	DB	'CastleSpecialMix] [%s][%s] Item Mix Failed - No Auth( Not Gui'
	DB	'ldMaster )', 00H				; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv539 = -364						; size = 4
tv537 = -360						; size = 4
tv515 = -360						; size = 4
tv534 = -356						; size = 2
_btOption$236553 = -289					; size = 1
_iRandOp$236552 = -288					; size = 4
_iOptionLoop$236548 = -284				; size = 4
_iRand$236542 = -280					; size = 4
_nItemIndex$ = -276					; size = 4
_bItemPickSuccess$ = -269				; size = 1
_iPickLoopCount$ = -268					; size = 4
_objTempItem$ = -264					; size = 212
_nChaosNeedMoney$ = -52					; size = 4
_n$236511 = -48						; size = 4
_pMsg$ = -44						; size = 16
_iChaosMoney$ = -28					; size = 4
_iInvalidItemCount$ = -24				; size = 4
_iSoulGemMixCount$ = -20				; size = 4
_iBlessGemMixCount$ = -16				; size = 4
_iDefendGemCount$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?CastleSpecialItemMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::CastleSpecialItemMix
; _this$ = ecx

; 2915 : {

  06650	55		 push	 ebp
  06651	8b ec		 mov	 ebp, esp
  06653	81 ec 6c 01 00
	00		 sub	 esp, 364		; 0000016cH
  06659	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0665e	33 c5		 xor	 eax, ebp
  06660	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  06663	53		 push	 ebx
  06664	56		 push	 esi
  06665	57		 push	 edi
  06666	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 2916 : 	lpObj->ChaosLock = TRUE;

  06669	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0666c	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 2917 : 
; 2918 : 	int iDefendGemCount = 0;

  06676	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iDefendGemCount$[ebp], 0

; 2919 : 	int iBlessGemMixCount = 0;

  0667d	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iBlessGemMixCount$[ebp], 0

; 2920 : 	int iSoulGemMixCount = 0;

  06684	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iSoulGemMixCount$[ebp], 0

; 2921 : 	int iInvalidItemCount = 0;

  0668b	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 2922 : 	int iChaosMoney = 0;

  06692	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 0

; 2923 : 
; 2924 : 	PMSG_CHAOSMIXRESULT pMsg;
; 2925 : 
; 2926 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  06699	6a 10		 push	 16			; 00000010H
  0669b	68 86 00 00 00	 push	 134			; 00000086H
  066a0	8d 45 d4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  066a3	50		 push	 eax
  066a4	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  066a9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2927 : 	pMsg.Result = CB_ERROR;

  066ac	c6 45 d7 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 2928 : 
; 2929 : 	if( g_CastleSiegeSync.CheckCastleOwnerMember(lpObj->m_Index)  )

  066b0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  066b3	8b 08		 mov	 ecx, DWORD PTR [eax]
  066b5	51		 push	 ecx
  066b6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  066bb	e8 00 00 00 00	 call	 ?CheckCastleOwnerMember@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::CheckCastleOwnerMember
  066c0	85 c0		 test	 eax, eax
  066c2	74 56		 je	 SHORT $LN31@CastleSpec

; 2930 : 	{
; 2931 : 		if( lpObj->GuildStatus != GUILD_MASTER )

  066c4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  066c7	81 b8 48 04 00
	00 80 00 00 00	 cmp	 DWORD PTR [eax+1096], 128 ; 00000080H
  066d1	74 45		 je	 SHORT $LN30@CastleSpec

; 2932 : 		{
; 2933 : 			LogAddTD("[CastleSpecialMix] [%s][%s] Item Mix Failed - No Auth( Not GuildMaster )",
; 2934 : 				lpObj->AccountID, lpObj->Name);

  066d3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  066d6	83 c0 77	 add	 eax, 119		; 00000077H
  066d9	50		 push	 eax
  066da	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  066dd	83 c1 6c	 add	 ecx, 108		; 0000006cH
  066e0	51		 push	 ecx
  066e1	68 00 00 00 00	 push	 OFFSET ??_C@_0EJ@JJHJEOOJ@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@
  066e6	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  066ec	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2935 : 
; 2936 : 			DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  066ef	0f b6 45 d5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  066f3	50		 push	 eax
  066f4	8d 4d d4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  066f7	51		 push	 ecx
  066f8	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  066fb	8b 02		 mov	 eax, DWORD PTR [edx]
  066fd	50		 push	 eax
  066fe	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  06703	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2937 : 
; 2938 : 			lpObj->ChaosLock = FALSE;

  06706	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06709	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2939 : 
; 2940 : 			return;

  06713	e9 7b 06 00 00	 jmp	 $LN32@CastleSpec
$LN30@CastleSpec:

; 2941 : 		}
; 2942 : 	}
; 2943 : 	else

  06718	eb 45		 jmp	 SHORT $LN29@CastleSpec
$LN31@CastleSpec:

; 2944 : 	{
; 2945 : 		LogAddTD("[CastleSpecialMix] [%s][%s] Item Mix Failed - No Auth",
; 2946 : 			lpObj->AccountID, lpObj->Name);

  0671a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0671d	83 c0 77	 add	 eax, 119		; 00000077H
  06720	50		 push	 eax
  06721	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06724	83 c1 6c	 add	 ecx, 108		; 0000006cH
  06727	51		 push	 ecx
  06728	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@INONCDCO@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@
  0672d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  06733	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2947 : 
; 2948 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  06736	0f b6 45 d5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0673a	50		 push	 eax
  0673b	8d 4d d4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0673e	51		 push	 ecx
  0673f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06742	8b 02		 mov	 eax, DWORD PTR [edx]
  06744	50		 push	 eax
  06745	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0674a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2949 : 
; 2950 : 		lpObj->ChaosLock = FALSE;

  0674d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06750	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2951 : 
; 2952 : 		return;	

  0675a	e9 34 06 00 00	 jmp	 $LN32@CastleSpec
$LN29@CastleSpec:

; 2953 : 	}
; 2954 : 
; 2955 : 	if( g_iCastleItemMixLimit <= 0 )

  0675f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_iCastleItemMixLimit@@3HA, 0 ; g_iCastleItemMixLimit
  06766	7f 45		 jg	 SHORT $LN28@CastleSpec

; 2956 : 	{
; 2957 : 		LogAddTD("[CastleSpecialMix] [%s][%s] Item Mix Failed - Mix Count Limit Over",
; 2958 : 			lpObj->AccountID, lpObj->Name);

  06768	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0676b	83 c0 77	 add	 eax, 119		; 00000077H
  0676e	50		 push	 eax
  0676f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06772	83 c1 6c	 add	 ecx, 108		; 0000006cH
  06775	51		 push	 ecx
  06776	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@INAPNAEI@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@
  0677b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  06781	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2959 : 
; 2960 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  06784	0f b6 45 d5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  06788	50		 push	 eax
  06789	8d 4d d4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0678c	51		 push	 ecx
  0678d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06790	8b 02		 mov	 eax, DWORD PTR [edx]
  06792	50		 push	 eax
  06793	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  06798	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2961 : 
; 2962 : 		lpObj->ChaosLock = FALSE;

  0679b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0679e	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2963 : 
; 2964 : 		return;		

  067a8	e9 e6 05 00 00	 jmp	 $LN32@CastleSpec
$LN28@CastleSpec:

; 2965 : 	}
; 2966 : 
; 2967 : 	for( int n = 0; n < CHAOS_BOX_SIZE; n++ )

  067ad	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _n$236511[ebp], 0
  067b4	eb 09		 jmp	 SHORT $LN27@CastleSpec
$LN26@CastleSpec:
  067b6	8b 45 d0	 mov	 eax, DWORD PTR _n$236511[ebp]
  067b9	83 c0 01	 add	 eax, 1
  067bc	89 45 d0	 mov	 DWORD PTR _n$236511[ebp], eax
$LN27@CastleSpec:
  067bf	83 7d d0 20	 cmp	 DWORD PTR _n$236511[ebp], 32 ; 00000020H
  067c3	0f 8d d9 00 00
	00		 jge	 $LN25@CastleSpec

; 2968 : 	{
; 2969 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  067c9	8b 4d d0	 mov	 ecx, DWORD PTR _n$236511[ebp]
  067cc	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  067d2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  067d5	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  067db	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  067e0	83 f8 01	 cmp	 eax, 1
  067e3	0f 85 b4 00 00
	00		 jne	 $LN18@CastleSpec

; 2970 : 		{
; 2971 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,30) )

  067e9	8b 45 d0	 mov	 eax, DWORD PTR _n$236511[ebp]
  067ec	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  067f2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  067f5	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  067fb	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  06800	3d 1e 18 00 00	 cmp	 eax, 6174		; 0000181eH
  06805	75 23		 jne	 SHORT $LN23@CastleSpec

; 2972 : 			{
; 2973 : 				iBlessGemMixCount += lpObj->pChaosBox[n].m_Level + 1;

  06807	8b 45 d0	 mov	 eax, DWORD PTR _n$236511[ebp]
  0680a	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  06810	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06813	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  06819	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  0681e	8b 4d f0	 mov	 ecx, DWORD PTR _iBlessGemMixCount$[ebp]
  06821	8d 54 01 01	 lea	 edx, DWORD PTR [ecx+eax+1]
  06825	89 55 f0	 mov	 DWORD PTR _iBlessGemMixCount$[ebp], edx
  06828	eb 73		 jmp	 SHORT $LN18@CastleSpec
$LN23@CastleSpec:

; 2974 : 			}
; 2975 : 			else if( lpObj->pChaosBox[n].m_Type == ITEMGET(12,31) )

  0682a	8b 45 d0	 mov	 eax, DWORD PTR _n$236511[ebp]
  0682d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  06833	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06836	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0683c	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  06841	3d 1f 18 00 00	 cmp	 eax, 6175		; 0000181fH
  06846	75 23		 jne	 SHORT $LN21@CastleSpec

; 2976 : 			{
; 2977 : 				iSoulGemMixCount += lpObj->pChaosBox[n].m_Level + 1;

  06848	8b 45 d0	 mov	 eax, DWORD PTR _n$236511[ebp]
  0684b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  06851	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06854	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0685a	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  0685f	8b 4d ec	 mov	 ecx, DWORD PTR _iSoulGemMixCount$[ebp]
  06862	8d 54 01 01	 lea	 edx, DWORD PTR [ecx+eax+1]
  06866	89 55 ec	 mov	 DWORD PTR _iSoulGemMixCount$[ebp], edx
  06869	eb 32		 jmp	 SHORT $LN18@CastleSpec
$LN21@CastleSpec:

; 2978 : 			}
; 2979 : 			else if( lpObj->pChaosBox[n].m_Type == ITEMGET(14,31) )

  0686b	8b 45 d0	 mov	 eax, DWORD PTR _n$236511[ebp]
  0686e	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  06874	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06877	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0687d	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  06882	3d 1f 1c 00 00	 cmp	 eax, 7199		; 00001c1fH
  06887	75 0b		 jne	 SHORT $LN19@CastleSpec

; 2980 : 			{
; 2981 : 				iDefendGemCount++;

  06889	8b 45 f4	 mov	 eax, DWORD PTR _iDefendGemCount$[ebp]
  0688c	83 c0 01	 add	 eax, 1
  0688f	89 45 f4	 mov	 DWORD PTR _iDefendGemCount$[ebp], eax

; 2982 : 			}
; 2983 : 			else

  06892	eb 09		 jmp	 SHORT $LN18@CastleSpec
$LN19@CastleSpec:

; 2984 : 			{
; 2985 : 				iInvalidItemCount++;

  06894	8b 45 e8	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  06897	83 c0 01	 add	 eax, 1
  0689a	89 45 e8	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN18@CastleSpec:

; 2986 : 			}
; 2987 : 		}
; 2988 : 	}

  0689d	e9 14 ff ff ff	 jmp	 $LN26@CastleSpec
$LN25@CastleSpec:

; 2989 : 
; 2990 : 	if( iBlessGemMixCount != 3 || iSoulGemMixCount != 3 || iDefendGemCount != 30 || iInvalidItemCount > 0 )

  068a2	83 7d f0 03	 cmp	 DWORD PTR _iBlessGemMixCount$[ebp], 3
  068a6	75 12		 jne	 SHORT $LN16@CastleSpec
  068a8	83 7d ec 03	 cmp	 DWORD PTR _iSoulGemMixCount$[ebp], 3
  068ac	75 0c		 jne	 SHORT $LN16@CastleSpec
  068ae	83 7d f4 1e	 cmp	 DWORD PTR _iDefendGemCount$[ebp], 30 ; 0000001eH
  068b2	75 06		 jne	 SHORT $LN16@CastleSpec
  068b4	83 7d e8 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  068b8	7e 55		 jle	 SHORT $LN17@CastleSpec
$LN16@CastleSpec:

; 2991 : 	{
; 2992 : 		LogAddTD("[CastleSpecialMix] [%s][%s] Item Mix Failed - Item Error (DG:%d, BGx10:%d, SGx10:%d, Other:%d)",
; 2993 : 			lpObj->AccountID, lpObj->Name, iBlessGemMixCount, iSoulGemMixCount, iDefendGemCount, iInvalidItemCount);

  068ba	8b 45 e8	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  068bd	50		 push	 eax
  068be	8b 4d f4	 mov	 ecx, DWORD PTR _iDefendGemCount$[ebp]
  068c1	51		 push	 ecx
  068c2	8b 55 ec	 mov	 edx, DWORD PTR _iSoulGemMixCount$[ebp]
  068c5	52		 push	 edx
  068c6	8b 45 f0	 mov	 eax, DWORD PTR _iBlessGemMixCount$[ebp]
  068c9	50		 push	 eax
  068ca	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  068cd	83 c1 77	 add	 ecx, 119		; 00000077H
  068d0	51		 push	 ecx
  068d1	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  068d4	83 c2 6c	 add	 edx, 108		; 0000006cH
  068d7	52		 push	 edx
  068d8	68 00 00 00 00	 push	 OFFSET ??_C@_0FP@MMBGDNIO@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@
  068dd	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  068e3	83 c4 1c	 add	 esp, 28			; 0000001cH

; 2994 : 
; 2995 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  068e6	0f b6 45 d5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  068ea	50		 push	 eax
  068eb	8d 4d d4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  068ee	51		 push	 ecx
  068ef	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  068f2	8b 02		 mov	 eax, DWORD PTR [edx]
  068f4	50		 push	 eax
  068f5	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  068fa	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2996 : 
; 2997 : 		lpObj->ChaosLock = FALSE;

  068fd	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06900	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 2998 : 
; 2999 : 		return;	

  0690a	e9 84 04 00 00	 jmp	 $LN32@CastleSpec
$LN17@CastleSpec:

; 3000 : 	}
; 3001 : 
; 3002 : 	LogChaosItem(lpObj, "Castle Special Mix");

  0690f	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@DBGJDJHA@Castle?5Special?5Mix?$AA@
  06914	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06917	50		 push	 eax
  06918	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0691b	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 3003 : 	LogAddTD("[CastleSpecialMix] [%s][%s] Chaos Mix Start", lpObj->AccountID, lpObj->Name);

  06920	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06923	83 c0 77	 add	 eax, 119		; 00000077H
  06926	50		 push	 eax
  06927	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0692a	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0692d	51		 push	 ecx
  0692e	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@BFLNDPMH@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Chao@
  06933	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  06939	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3004 : 
; 3005 : 	lpObj->ChaosSuccessRate = 100;

  0693c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0693f	c7 80 84 0e 00
	00 64 00 00 00	 mov	 DWORD PTR [eax+3716], 100 ; 00000064H

; 3006 : 
; 3007 : 	int nChaosNeedMoney = 1000000000;

  06949	c7 45 cc 00 ca
	9a 3b		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 1000000000 ; 3b9aca00H

; 3008 : 
; 3009 : 	nChaosNeedMoney += lpObj->m_AddMixMoney;

  06950	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06953	8b 4d cc	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  06956	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  0695c	89 4d cc	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 3010 : 
; 3011 : 	if( lpObj->Money < nChaosNeedMoney )

  0695f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06962	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  06968	3b 4d cc	 cmp	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  0696b	7d 57		 jge	 SHORT $LN15@CastleSpec

; 3012 : 	{
; 3013 : 		LogAddTD("[CastleSpecialMix] [%s][%s] Item Mix Failed - Lack of Money (%d/%d)",
; 3014 : 			lpObj->AccountID, lpObj->Name, lpObj->Money, nChaosNeedMoney);

  0696d	8b 45 cc	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  06970	50		 push	 eax
  06971	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06974	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  0697a	52		 push	 edx
  0697b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0697e	83 c0 77	 add	 eax, 119		; 00000077H
  06981	50		 push	 eax
  06982	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06985	83 c1 6c	 add	 ecx, 108		; 0000006cH
  06988	51		 push	 ecx
  06989	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@GIAICFLK@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@
  0698e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  06994	83 c4 14	 add	 esp, 20			; 00000014H

; 3015 : 
; 3016 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  06997	c6 45 d7 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 3017 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0699b	0f b6 45 d5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0699f	50		 push	 eax
  069a0	8d 4d d4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  069a3	51		 push	 ecx
  069a4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  069a7	8b 02		 mov	 eax, DWORD PTR [edx]
  069a9	50		 push	 eax
  069aa	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  069af	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3018 : 
; 3019 : 		lpObj->ChaosLock = FALSE;

  069b2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  069b5	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3020 : 
; 3021 : 		return;	

  069bf	e9 cf 03 00 00	 jmp	 $LN32@CastleSpec
$LN15@CastleSpec:

; 3022 : 	}
; 3023 : 
; 3024 : 	CItem objTempItem;

  069c4	8d 8d f8 fe ff
	ff		 lea	 ecx, DWORD PTR _objTempItem$[ebp]
  069ca	e8 00 00 00 00	 call	 ??0CItem@@QAE@XZ	; CItem::CItem

; 3025 : 
; 3026 : 	int iPickLoopCount = 500; //HermeX Fix

  069cf	c7 85 f4 fe ff
	ff f4 01 00 00	 mov	 DWORD PTR _iPickLoopCount$[ebp], 500 ; 000001f4H

; 3027 : 	bool bItemPickSuccess = false;

  069d9	c6 85 f3 fe ff
	ff 00		 mov	 BYTE PTR _bItemPickSuccess$[ebp], 0
$LN14@CastleSpec:

; 3028 : 	int nItemIndex;
; 3029 : 
; 3030 : 	while( iPickLoopCount-- )

  069e0	8b 85 f4 fe ff
	ff		 mov	 eax, DWORD PTR _iPickLoopCount$[ebp]
  069e6	8b 8d f4 fe ff
	ff		 mov	 ecx, DWORD PTR _iPickLoopCount$[ebp]
  069ec	83 e9 01	 sub	 ecx, 1
  069ef	89 8d f4 fe ff
	ff		 mov	 DWORD PTR _iPickLoopCount$[ebp], ecx
  069f5	85 c0		 test	 eax, eax
  069f7	0f 84 a0 00 00
	00		 je	 $LN13@CastleSpec

; 3031 : 	{
; 3032 : 		if( CastleItemMixItemBag->PickItem(objTempItem, nItemIndex) == FALSE )

  069fd	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _nItemIndex$[ebp]
  06a03	50		 push	 eax
  06a04	8d 8d f8 fe ff
	ff		 lea	 ecx, DWORD PTR _objTempItem$[ebp]
  06a0a	51		 push	 ecx
  06a0b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?CastleItemMixItemBag@@3PAVCItemBagEx@@A ; CastleItemMixItemBag
  06a11	e8 00 00 00 00	 call	 ?PickItem@CItemBagEx@@QAEHAAVCItem@@AAH@Z ; CItemBagEx::PickItem
  06a16	85 c0		 test	 eax, eax
  06a18	75 45		 jne	 SHORT $LN12@CastleSpec

; 3033 : 		{
; 3034 : 			LogAddTD("[CastleSpecialMix] [%s][%s] Item Pick Failed - Data Error",
; 3035 : 				lpObj->AccountID, lpObj->Name);

  06a1a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06a1d	83 c0 77	 add	 eax, 119		; 00000077H
  06a20	50		 push	 eax
  06a21	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06a24	83 c1 6c	 add	 ecx, 108		; 0000006cH
  06a27	51		 push	 ecx
  06a28	68 00 00 00 00	 push	 OFFSET ??_C@_0DK@BAMJGCNM@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@
  06a2d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  06a33	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3036 : 
; 3037 : 			DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  06a36	0f b6 45 d5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  06a3a	50		 push	 eax
  06a3b	8d 4d d4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  06a3e	51		 push	 ecx
  06a3f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06a42	8b 02		 mov	 eax, DWORD PTR [edx]
  06a44	50		 push	 eax
  06a45	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  06a4a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3038 : 
; 3039 : 			lpObj->ChaosLock = FALSE;

  06a4d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06a50	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3040 : 
; 3041 : 			return;

  06a5a	e9 34 03 00 00	 jmp	 $LN32@CastleSpec
$LN12@CastleSpec:

; 3042 : 		}
; 3043 : 		
; 3044 : 		int iRand = CastleItemMixItemBag->GetMinLevel(nItemIndex);

  06a5f	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _nItemIndex$[ebp]
  06a65	50		 push	 eax
  06a66	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?CastleItemMixItemBag@@3PAVCItemBagEx@@A ; CastleItemMixItemBag
  06a6c	e8 00 00 00 00	 call	 ?GetMinLevel@CItemBagEx@@QAEEH@Z ; CItemBagEx::GetMinLevel
  06a71	0f b6 c8	 movzx	 ecx, al
  06a74	89 8d e8 fe ff
	ff		 mov	 DWORD PTR _iRand$236542[ebp], ecx

; 3045 : 		
; 3046 : 		if( iRand < rand() % 100 )

  06a7a	e8 00 00 00 00	 call	 _rand
  06a7f	99		 cdq
  06a80	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  06a85	f7 f9		 idiv	 ecx
  06a87	39 95 e8 fe ff
	ff		 cmp	 DWORD PTR _iRand$236542[ebp], edx
  06a8d	7d 09		 jge	 SHORT $LN11@CastleSpec

; 3047 : 		{
; 3048 : 			bItemPickSuccess = true;

  06a8f	c6 85 f3 fe ff
	ff 01		 mov	 BYTE PTR _bItemPickSuccess$[ebp], 1

; 3049 : 
; 3050 : 			break;

  06a96	eb 05		 jmp	 SHORT $LN13@CastleSpec
$LN11@CastleSpec:

; 3051 : 		}
; 3052 : 	}

  06a98	e9 43 ff ff ff	 jmp	 $LN14@CastleSpec
$LN13@CastleSpec:

; 3053 : 
; 3054 : 	if( bItemPickSuccess == false )

  06a9d	0f b6 85 f3 fe
	ff ff		 movzx	 eax, BYTE PTR _bItemPickSuccess$[ebp]
  06aa4	85 c0		 test	 eax, eax
  06aa6	75 45		 jne	 SHORT $LN10@CastleSpec

; 3055 : 	{
; 3056 : 		LogAddTD("[CastleSpecialMix] [%s][%s] Item Pick Failed - Loop Count Over",
; 3057 : 			lpObj->AccountID, lpObj->Name);

  06aa8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06aab	83 c0 77	 add	 eax, 119		; 00000077H
  06aae	50		 push	 eax
  06aaf	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06ab2	83 c1 6c	 add	 ecx, 108		; 0000006cH
  06ab5	51		 push	 ecx
  06ab6	68 00 00 00 00	 push	 OFFSET ??_C@_0DP@OGFNFCIN@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Item@
  06abb	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  06ac1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3058 : 
; 3059 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  06ac4	0f b6 45 d5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  06ac8	50		 push	 eax
  06ac9	8d 4d d4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  06acc	51		 push	 ecx
  06acd	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06ad0	8b 02		 mov	 eax, DWORD PTR [edx]
  06ad2	50		 push	 eax
  06ad3	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  06ad8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3060 : 
; 3061 : 		lpObj->ChaosLock = FALSE;

  06adb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06ade	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3062 : 
; 3063 : 		return;

  06ae8	e9 a6 02 00 00	 jmp	 $LN32@CastleSpec
$LN10@CastleSpec:

; 3064 : 	}
; 3065 : 
; 3066 : 	objTempItem.m_Level = 0;

  06aed	33 c0		 xor	 eax, eax
  06aef	66 89 85 00 ff
	ff ff		 mov	 WORD PTR _objTempItem$[ebp+8], ax

; 3067 : 
; 3068 : 	if( objTempItem.m_NewOption )

  06af6	0f b6 45 8f	 movzx	 eax, BYTE PTR _objTempItem$[ebp+151]
  06afa	85 c0		 test	 eax, eax
  06afc	0f 84 9b 00 00
	00		 je	 $LN9@CastleSpec

; 3069 : 	{
; 3070 : 		objTempItem.m_NewOption = 0;

  06b02	c6 45 8f 00	 mov	 BYTE PTR _objTempItem$[ebp+151], 0

; 3071 : 
; 3072 : 		int iOptionLoop = (rand()%3) + 2;

  06b06	e8 00 00 00 00	 call	 _rand
  06b0b	99		 cdq
  06b0c	b9 03 00 00 00	 mov	 ecx, 3
  06b11	f7 f9		 idiv	 ecx
  06b13	83 c2 02	 add	 edx, 2
  06b16	89 95 e4 fe ff
	ff		 mov	 DWORD PTR _iOptionLoop$236548[ebp], edx
$LN8@CastleSpec:

; 3073 : 
; 3074 : 		while( iOptionLoop )

  06b1c	83 bd e4 fe ff
	ff 00		 cmp	 DWORD PTR _iOptionLoop$236548[ebp], 0
  06b23	74 56		 je	 SHORT $LN7@CastleSpec

; 3075 : 		{
; 3076 : 			int iRandOp = rand()%6;

  06b25	e8 00 00 00 00	 call	 _rand
  06b2a	99		 cdq
  06b2b	b9 06 00 00 00	 mov	 ecx, 6
  06b30	f7 f9		 idiv	 ecx
  06b32	89 95 e0 fe ff
	ff		 mov	 DWORD PTR _iRandOp$236552[ebp], edx

; 3077 : 
; 3078 : 			BYTE btOption = 1 << iRandOp; 

  06b38	b8 01 00 00 00	 mov	 eax, 1
  06b3d	8b 8d e0 fe ff
	ff		 mov	 ecx, DWORD PTR _iRandOp$236552[ebp]
  06b43	d3 e0		 shl	 eax, cl
  06b45	88 85 df fe ff
	ff		 mov	 BYTE PTR _btOption$236553[ebp], al

; 3079 : 
; 3080 : 			if( (objTempItem.m_NewOption & btOption) == 0 )

  06b4b	0f b6 45 8f	 movzx	 eax, BYTE PTR _objTempItem$[ebp+151]
  06b4f	0f b6 8d df fe
	ff ff		 movzx	 ecx, BYTE PTR _btOption$236553[ebp]
  06b56	23 c1		 and	 eax, ecx
  06b58	75 1f		 jne	 SHORT $LN6@CastleSpec

; 3081 : 			{
; 3082 : 				objTempItem.m_NewOption |= btOption;

  06b5a	0f b6 85 df fe
	ff ff		 movzx	 eax, BYTE PTR _btOption$236553[ebp]
  06b61	0f b6 4d 8f	 movzx	 ecx, BYTE PTR _objTempItem$[ebp+151]
  06b65	0b c8		 or	 ecx, eax
  06b67	88 4d 8f	 mov	 BYTE PTR _objTempItem$[ebp+151], cl

; 3083 : 				iOptionLoop--; //HermeX Fix

  06b6a	8b 85 e4 fe ff
	ff		 mov	 eax, DWORD PTR _iOptionLoop$236548[ebp]
  06b70	83 e8 01	 sub	 eax, 1
  06b73	89 85 e4 fe ff
	ff		 mov	 DWORD PTR _iOptionLoop$236548[ebp], eax
$LN6@CastleSpec:

; 3084 : 			}
; 3085 : 					
; 3086 : 		}

  06b79	eb a1		 jmp	 SHORT $LN8@CastleSpec
$LN7@CastleSpec:

; 3087 : 		objTempItem.m_Option1 = 1;

  06b7b	c6 45 8c 01	 mov	 BYTE PTR _objTempItem$[ebp+148], 1

; 3088 : 
; 3089 : 		if( (rand()%100) < 20 )

  06b7f	e8 00 00 00 00	 call	 _rand
  06b84	99		 cdq
  06b85	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  06b8a	f7 f9		 idiv	 ecx
  06b8c	83 fa 14	 cmp	 edx, 20			; 00000014H
  06b8f	7d 06		 jge	 SHORT $LN5@CastleSpec

; 3090 : 		{
; 3091 : 			objTempItem.m_Option2 = 1;

  06b91	c6 45 8d 01	 mov	 BYTE PTR _objTempItem$[ebp+149], 1

; 3092 : 		}
; 3093 : 		else

  06b95	eb 04		 jmp	 SHORT $LN4@CastleSpec
$LN5@CastleSpec:

; 3094 : 		{
; 3095 : 			objTempItem.m_Option2 = 0;

  06b97	c6 45 8d 00	 mov	 BYTE PTR _objTempItem$[ebp+149], 0
$LN4@CastleSpec:

; 3096 : 		}
; 3097 : 	}
; 3098 : 	else

  06b9b	eb 04		 jmp	 SHORT $LN3@CastleSpec
$LN9@CastleSpec:

; 3099 : 	{
; 3100 : 		objTempItem.m_Option2 = 1;

  06b9d	c6 45 8d 01	 mov	 BYTE PTR _objTempItem$[ebp+149], 1
$LN3@CastleSpec:

; 3101 : 	}
; 3102 : 
; 3103 : 	objTempItem.m_Durability = ItemGetDurability(objTempItem.m_Type, objTempItem.m_Level, objTempItem.m_NewOption, 0);

  06ba1	6a 00		 push	 0
  06ba3	0f b6 45 8f	 movzx	 eax, BYTE PTR _objTempItem$[ebp+151]
  06ba7	50		 push	 eax
  06ba8	0f bf 8d 00 ff
	ff ff		 movsx	 ecx, WORD PTR _objTempItem$[ebp+8]
  06baf	51		 push	 ecx
  06bb0	0f bf 95 fe fe
	ff ff		 movsx	 edx, WORD PTR _objTempItem$[ebp+6]
  06bb7	52		 push	 edx
  06bb8	e8 00 00 00 00	 call	 ?ItemGetDurability@@YAHHHHH@Z ; ItemGetDurability
  06bbd	83 c4 10	 add	 esp, 16			; 00000010H
  06bc0	89 85 98 fe ff
	ff		 mov	 DWORD PTR tv515[ebp], eax
  06bc6	db 85 98 fe ff
	ff		 fild	 DWORD PTR tv515[ebp]
  06bcc	d9 9d 1c ff ff
	ff		 fstp	 DWORD PTR _objTempItem$[ebp+36]

; 3104 : 
; 3105 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  06bd2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06bd5	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  06bdb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06bde	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  06be4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06be7	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 3106 : 
; 3107 : 	lpObj->Money -= nChaosNeedMoney;

  06bed	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06bf0	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  06bf6	2b 4d cc	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  06bf9	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06bfc	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 3108 : 
; 3109 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  06c02	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06c05	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  06c0b	51		 push	 ecx
  06c0c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06c0f	8b 02		 mov	 eax, DWORD PTR [edx]
  06c11	50		 push	 eax
  06c12	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  06c17	83 c4 08	 add	 esp, 8

; 3110 : 
; 3111 : 	if( (rand()%100) < lpObj->ChaosSuccessRate )

  06c1a	e8 00 00 00 00	 call	 _rand
  06c1f	99		 cdq
  06c20	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  06c25	f7 f9		 idiv	 ecx
  06c27	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06c2a	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  06c30	0f 8d db 00 00
	00		 jge	 $LN2@CastleSpec

; 3112 : 	{
; 3113 : 		ItemSerialCreateSend(lpObj->m_Index, 255, 0, 0, objTempItem.m_Type,	(BYTE)objTempItem.m_Level, (BYTE)objTempItem.m_Durability, (BYTE)objTempItem.m_Option1, (BYTE)objTempItem.m_Option2, (BYTE)objTempItem.m_Option3, -1, (BYTE)objTempItem.m_NewOption, 0);

  06c36	6a 00		 push	 0
  06c38	0f b6 45 8f	 movzx	 eax, BYTE PTR _objTempItem$[ebp+151]
  06c3c	50		 push	 eax
  06c3d	6a ff		 push	 -1
  06c3f	0f b6 4d 8e	 movzx	 ecx, BYTE PTR _objTempItem$[ebp+150]
  06c43	51		 push	 ecx
  06c44	0f b6 55 8d	 movzx	 edx, BYTE PTR _objTempItem$[ebp+149]
  06c48	52		 push	 edx
  06c49	0f b6 45 8c	 movzx	 eax, BYTE PTR _objTempItem$[ebp+148]
  06c4d	50		 push	 eax
  06c4e	d9 85 1c ff ff
	ff		 fld	 DWORD PTR _objTempItem$[ebp+36]
  06c54	d9 bd 9c fe ff
	ff		 fnstcw	 WORD PTR tv534[ebp]
  06c5a	0f b7 85 9c fe
	ff ff		 movzx	 eax, WORD PTR tv534[ebp]
  06c61	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  06c66	89 85 98 fe ff
	ff		 mov	 DWORD PTR tv537[ebp], eax
  06c6c	d9 ad 98 fe ff
	ff		 fldcw	 WORD PTR tv537[ebp]
  06c72	db 9d 94 fe ff
	ff		 fistp	 DWORD PTR tv539[ebp]
  06c78	d9 ad 9c fe ff
	ff		 fldcw	 WORD PTR tv534[ebp]
  06c7e	0f b6 8d 94 fe
	ff ff		 movzx	 ecx, BYTE PTR tv539[ebp]
  06c85	51		 push	 ecx
  06c86	0f b6 95 00 ff
	ff ff		 movzx	 edx, BYTE PTR _objTempItem$[ebp+8]
  06c8d	52		 push	 edx
  06c8e	0f bf 85 fe fe
	ff ff		 movsx	 eax, WORD PTR _objTempItem$[ebp+6]
  06c95	50		 push	 eax
  06c96	6a 00		 push	 0
  06c98	6a 00		 push	 0
  06c9a	68 ff 00 00 00	 push	 255			; 000000ffH
  06c9f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06ca2	8b 11		 mov	 edx, DWORD PTR [ecx]
  06ca4	52		 push	 edx
  06ca5	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  06caa	83 c4 34	 add	 esp, 52			; 00000034H

; 3114 : 		gObjInventoryCommit(lpObj->m_Index);

  06cad	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06cb0	8b 08		 mov	 ecx, DWORD PTR [eax]
  06cb2	51		 push	 ecx
  06cb3	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  06cb8	83 c4 04	 add	 esp, 4

; 3115 : 		LogAddTD("[CastleSpecialMix] [%s][%s] CBMix Success %d Money : %d-%d", lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney);

  06cbb	8b 45 cc	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  06cbe	50		 push	 eax
  06cbf	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06cc2	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  06cc8	52		 push	 edx
  06cc9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06ccc	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  06cd2	51		 push	 ecx
  06cd3	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06cd6	83 c2 77	 add	 edx, 119		; 00000077H
  06cd9	52		 push	 edx
  06cda	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06cdd	83 c0 6c	 add	 eax, 108		; 0000006cH
  06ce0	50		 push	 eax
  06ce1	68 00 00 00 00	 push	 OFFSET ??_C@_0DL@JMGPLGGO@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMi@
  06ce6	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  06cec	83 c4 18	 add	 esp, 24			; 00000018H

; 3116 : 		g_iCastleItemMixLimit--;

  06cef	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_iCastleItemMixLimit@@3HA ; g_iCastleItemMixLimit
  06cf4	83 e8 01	 sub	 eax, 1
  06cf7	a3 00 00 00 00	 mov	 DWORD PTR ?g_iCastleItemMixLimit@@3HA, eax ; g_iCastleItemMixLimit

; 3117 : #if(SYSTEM_ACHIEVEMENTS)
; 3118 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  06cfc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06cff	8b 08		 mov	 ecx, DWORD PTR [eax]
  06d01	51		 push	 ecx
  06d02	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  06d07	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 3119 : #endif
; 3120 : 	}
; 3121 : 	else

  06d0c	e9 82 00 00 00	 jmp	 $LN1@CastleSpec
$LN2@CastleSpec:

; 3122 : 	{
; 3123 : 		this->ChaosBoxInit(lpObj);

  06d11	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06d14	50		 push	 eax
  06d15	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  06d18	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 3124 : 		GCUserChaosBoxSend(lpObj, 1);

  06d1d	6a 01		 push	 1
  06d1f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06d22	50		 push	 eax
  06d23	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  06d28	83 c4 08	 add	 esp, 8

; 3125 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  06d2b	0f b6 45 d5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  06d2f	50		 push	 eax
  06d30	8d 4d d4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  06d33	51		 push	 ecx
  06d34	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06d37	8b 02		 mov	 eax, DWORD PTR [edx]
  06d39	50		 push	 eax
  06d3a	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  06d3f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3126 : 		LogAddTD("[CastleSpecialMix] [%s][%s] CBMix Fail %d Money : %d-%d", lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney);

  06d42	8b 45 cc	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  06d45	50		 push	 eax
  06d46	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06d49	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  06d4f	52		 push	 edx
  06d50	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06d53	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  06d59	51		 push	 ecx
  06d5a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06d5d	83 c2 77	 add	 edx, 119		; 00000077H
  06d60	52		 push	 edx
  06d61	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06d64	83 c0 6c	 add	 eax, 108		; 0000006cH
  06d67	50		 push	 eax
  06d68	68 00 00 00 00	 push	 OFFSET ??_C@_0DI@EGPAKGJE@?$FLCastleSpecialMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMi@
  06d6d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  06d73	83 c4 18	 add	 esp, 24			; 00000018H

; 3127 : 		lpObj->ChaosLock = FALSE;

  06d76	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06d79	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3128 : #if(SYSTEM_ACHIEVEMENTS)
; 3129 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  06d83	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06d86	8b 08		 mov	 ecx, DWORD PTR [eax]
  06d88	51		 push	 ecx
  06d89	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  06d8e	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN1@CastleSpec:
$LN32@CastleSpec:

; 3130 : #endif
; 3131 : 	}
; 3132 : }

  06d93	5f		 pop	 edi
  06d94	5e		 pop	 esi
  06d95	5b		 pop	 ebx
  06d96	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  06d99	33 cd		 xor	 ecx, ebp
  06d9b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  06da0	8b e5		 mov	 esp, ebp
  06da2	5d		 pop	 ebp
  06da3	c2 04 00	 ret	 4
?CastleSpecialItemMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::CastleSpecialItemMix
_TEXT	ENDS
PUBLIC	??_C@_0DH@JBMEKCLH@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@ ; `string'
PUBLIC	??_C@_0DN@CFIDABAI@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@ ; `string'
PUBLIC	??_C@_0FB@PDPGCOFM@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@ ; `string'
PUBLIC	??_C@_0DE@FILNLJPO@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@ ; `string'
PUBLIC	??_C@_0BH@FJMEBBCF@Hidden?5TreasureBox?5Mix?$AA@ ; `string'
PUBLIC	??_C@_0DE@OHGHLCDC@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?HiddenTreasureBoxItemMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::HiddenTreasureBoxItemMix
;	COMDAT ??_C@_0DH@JBMEKCLH@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@
CONST	SEGMENT
??_C@_0DH@JBMEKCLH@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@ DB '['
	DB	'Hidden TreasureBox Event] [%s][%s] CBMix Fail Rate:%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DN@CFIDABAI@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@
CONST	SEGMENT
??_C@_0DN@CFIDABAI@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@ DB '['
	DB	'Hidden TreasureBox Event] [%s][%s] CBMix Success:%d Type:%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0FB@PDPGCOFM@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@
CONST	SEGMENT
??_C@_0FB@PDPGCOFM@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@ DB '['
	DB	'Hidden TreasureBox Event] [%s][%s] CBMix Failed - iCrystalMix'
	DB	'Type is wrong : %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0DE@FILNLJPO@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@
CONST	SEGMENT
??_C@_0DE@FILNLJPO@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@ DB '['
	DB	'Hidden TreasureBox Event] [%s][%s] Chaos Mix Start', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@FJMEBBCF@Hidden?5TreasureBox?5Mix?$AA@
CONST	SEGMENT
??_C@_0BH@FJMEBBCF@Hidden?5TreasureBox?5Mix?$AA@ DB 'Hidden TreasureBox M'
	DB	'ix', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0DE@OHGHLCDC@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@
CONST	SEGMENT
??_C@_0DE@OHGHLCDC@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@ DB '['
	DB	'Hidden TreasureBox Event] [%s][%s] Item Mix Failed', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv180 = -120						; size = 4
tv87 = -120						; size = 4
_iCrystalMixType$ = -52					; size = 4
_n$236581 = -48						; size = 4
_pMsg$ = -44						; size = 16
_iChaosMoney$ = -28					; size = 4
_iInvalidItemCount$ = -24				; size = 4
_iBlackCrystal$ = -20					; size = 4
_iRedCrystal$ = -16					; size = 4
_iBlueCrystal$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?HiddenTreasureBoxItemMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::HiddenTreasureBoxItemMix
; _this$ = ecx

; 3137 : {

  06db0	55		 push	 ebp
  06db1	8b ec		 mov	 ebp, esp
  06db3	83 ec 78	 sub	 esp, 120		; 00000078H
  06db6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  06dbb	33 c5		 xor	 eax, ebp
  06dbd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  06dc0	53		 push	 ebx
  06dc1	56		 push	 esi
  06dc2	57		 push	 edi
  06dc3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 3138 : 	lpObj->ChaosLock = TRUE;

  06dc6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06dc9	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 3139 : 	int iBlueCrystal = 0;

  06dd3	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iBlueCrystal$[ebp], 0

; 3140 : 	int iRedCrystal = 0;

  06dda	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iRedCrystal$[ebp], 0

; 3141 : 	int iBlackCrystal = 0;

  06de1	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iBlackCrystal$[ebp], 0

; 3142 : 	int iInvalidItemCount = 0;

  06de8	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 3143 : 	int iChaosMoney = 0;

  06def	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 0

; 3144 : 
; 3145 : 	PMSG_CHAOSMIXRESULT pMsg;
; 3146 : 
; 3147 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  06df6	6a 10		 push	 16			; 00000010H
  06df8	68 86 00 00 00	 push	 134			; 00000086H
  06dfd	8d 45 d4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  06e00	50		 push	 eax
  06e01	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  06e06	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3148 : 	pMsg.Result = CB_ERROR;

  06e09	c6 45 d7 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 3149 : 
; 3150 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  06e0d	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _n$236581[ebp], 0
  06e14	eb 09		 jmp	 SHORT $LN31@HiddenTrea
$LN30@HiddenTrea:
  06e16	8b 45 d0	 mov	 eax, DWORD PTR _n$236581[ebp]
  06e19	83 c0 01	 add	 eax, 1
  06e1c	89 45 d0	 mov	 DWORD PTR _n$236581[ebp], eax
$LN31@HiddenTrea:
  06e1f	83 7d d0 20	 cmp	 DWORD PTR _n$236581[ebp], 32 ; 00000020H
  06e23	0f 8d 97 00 00
	00		 jge	 $LN29@HiddenTrea

; 3151 : 	{
; 3152 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  06e29	8b 4d d0	 mov	 ecx, DWORD PTR _n$236581[ebp]
  06e2c	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  06e32	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06e35	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  06e3b	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  06e40	83 f8 01	 cmp	 eax, 1
  06e43	75 76		 jne	 SHORT $LN28@HiddenTrea

; 3153 : 		{
; 3154 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,26) )

  06e45	8b 45 d0	 mov	 eax, DWORD PTR _n$236581[ebp]
  06e48	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  06e4e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06e51	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  06e57	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  06e5c	3d 1a 18 00 00	 cmp	 eax, 6170		; 0000181aH
  06e61	75 4f		 jne	 SHORT $LN27@HiddenTrea

; 3155 : 			{
; 3156 : 				switch ( lpObj->pChaosBox[n].m_Level )

  06e63	8b 45 d0	 mov	 eax, DWORD PTR _n$236581[ebp]
  06e66	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  06e6c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06e6f	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  06e75	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  06e7a	89 45 88	 mov	 DWORD PTR tv87[ebp], eax
  06e7d	83 7d 88 01	 cmp	 DWORD PTR tv87[ebp], 1
  06e81	74 0e		 je	 SHORT $LN24@HiddenTrea
  06e83	83 7d 88 02	 cmp	 DWORD PTR tv87[ebp], 2
  06e87	74 13		 je	 SHORT $LN23@HiddenTrea
  06e89	83 7d 88 03	 cmp	 DWORD PTR tv87[ebp], 3
  06e8d	74 18		 je	 SHORT $LN22@HiddenTrea
  06e8f	eb 1f		 jmp	 SHORT $LN25@HiddenTrea
$LN24@HiddenTrea:

; 3157 : 				{
; 3158 : 					case 1:
; 3159 : 						iRedCrystal++;

  06e91	8b 45 f0	 mov	 eax, DWORD PTR _iRedCrystal$[ebp]
  06e94	83 c0 01	 add	 eax, 1
  06e97	89 45 f0	 mov	 DWORD PTR _iRedCrystal$[ebp], eax

; 3160 : 						break;

  06e9a	eb 14		 jmp	 SHORT $LN25@HiddenTrea
$LN23@HiddenTrea:

; 3161 : 					case 2:
; 3162 : 						iBlueCrystal++;

  06e9c	8b 45 f4	 mov	 eax, DWORD PTR _iBlueCrystal$[ebp]
  06e9f	83 c0 01	 add	 eax, 1
  06ea2	89 45 f4	 mov	 DWORD PTR _iBlueCrystal$[ebp], eax

; 3163 : 						break;

  06ea5	eb 09		 jmp	 SHORT $LN25@HiddenTrea
$LN22@HiddenTrea:

; 3164 : 					case 3:
; 3165 : 						iBlackCrystal++;

  06ea7	8b 45 ec	 mov	 eax, DWORD PTR _iBlackCrystal$[ebp]
  06eaa	83 c0 01	 add	 eax, 1
  06ead	89 45 ec	 mov	 DWORD PTR _iBlackCrystal$[ebp], eax
$LN25@HiddenTrea:

; 3166 : 						break;
; 3167 : 				}
; 3168 : 			}
; 3169 : 			else

  06eb0	eb 09		 jmp	 SHORT $LN28@HiddenTrea
$LN27@HiddenTrea:

; 3170 : 			{
; 3171 : 				iInvalidItemCount++;

  06eb2	8b 45 e8	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  06eb5	83 c0 01	 add	 eax, 1
  06eb8	89 45 e8	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN28@HiddenTrea:

; 3172 : 			}
; 3173 : 		}
; 3174 : 	}

  06ebb	e9 56 ff ff ff	 jmp	 $LN30@HiddenTrea
$LN29@HiddenTrea:

; 3175 : 
; 3176 : 	int iCrystalMixType = -1;

  06ec0	c7 45 cc ff ff
	ff ff		 mov	 DWORD PTR _iCrystalMixType$[ebp], -1

; 3177 : 
; 3178 : 	if ( iInvalidItemCount == 0 )

  06ec7	83 7d e8 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  06ecb	0f 85 e8 00 00
	00		 jne	 $LN20@HiddenTrea

; 3179 : 	{
; 3180 : 		if ( iBlueCrystal == 7 )

  06ed1	83 7d f4 07	 cmp	 DWORD PTR _iBlueCrystal$[ebp], 7
  06ed5	75 25		 jne	 SHORT $LN19@HiddenTrea

; 3181 : 		{
; 3182 : 			if ( iRedCrystal == 0 && iBlackCrystal == 0 )

  06ed7	83 7d f0 00	 cmp	 DWORD PTR _iRedCrystal$[ebp], 0
  06edb	75 1a		 jne	 SHORT $LN18@HiddenTrea
  06edd	83 7d ec 00	 cmp	 DWORD PTR _iBlackCrystal$[ebp], 0
  06ee1	75 14		 jne	 SHORT $LN18@HiddenTrea

; 3183 : 			{
; 3184 : 				iCrystalMixType = 0;

  06ee3	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _iCrystalMixType$[ebp], 0

; 3185 : 				lpObj->ChaosSuccessRate = 100;

  06eea	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06eed	c7 80 84 0e 00
	00 64 00 00 00	 mov	 DWORD PTR [eax+3716], 100 ; 00000064H
$LN18@HiddenTrea:

; 3186 : 			}
; 3187 : 		}

  06ef7	e9 bb 00 00 00	 jmp	 $LN17@HiddenTrea
$LN19@HiddenTrea:

; 3188 : 		else if ( iRedCrystal == 5 )

  06efc	83 7d f0 05	 cmp	 DWORD PTR _iRedCrystal$[ebp], 5
  06f00	75 25		 jne	 SHORT $LN16@HiddenTrea

; 3189 : 		{
; 3190 : 			if ( iBlueCrystal == 0 && iBlackCrystal == 0 )

  06f02	83 7d f4 00	 cmp	 DWORD PTR _iBlueCrystal$[ebp], 0
  06f06	75 1a		 jne	 SHORT $LN15@HiddenTrea
  06f08	83 7d ec 00	 cmp	 DWORD PTR _iBlackCrystal$[ebp], 0
  06f0c	75 14		 jne	 SHORT $LN15@HiddenTrea

; 3191 : 			{
; 3192 : 				iCrystalMixType = 1;

  06f0e	c7 45 cc 01 00
	00 00		 mov	 DWORD PTR _iCrystalMixType$[ebp], 1

; 3193 : 				lpObj->ChaosSuccessRate = 100;

  06f15	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06f18	c7 80 84 0e 00
	00 64 00 00 00	 mov	 DWORD PTR [eax+3716], 100 ; 00000064H
$LN15@HiddenTrea:

; 3194 : 			}
; 3195 : 		}

  06f22	e9 90 00 00 00	 jmp	 $LN17@HiddenTrea
$LN16@HiddenTrea:

; 3196 : 		else if ( iBlackCrystal == 3 )

  06f27	83 7d ec 03	 cmp	 DWORD PTR _iBlackCrystal$[ebp], 3
  06f2b	75 22		 jne	 SHORT $LN13@HiddenTrea

; 3197 : 		{
; 3198 : 			if ( iRedCrystal == 0 && iBlueCrystal == 0 )

  06f2d	83 7d f0 00	 cmp	 DWORD PTR _iRedCrystal$[ebp], 0
  06f31	75 1a		 jne	 SHORT $LN12@HiddenTrea
  06f33	83 7d f4 00	 cmp	 DWORD PTR _iBlueCrystal$[ebp], 0
  06f37	75 14		 jne	 SHORT $LN12@HiddenTrea

; 3199 : 			{
; 3200 : 				iCrystalMixType = 2;

  06f39	c7 45 cc 02 00
	00 00		 mov	 DWORD PTR _iCrystalMixType$[ebp], 2

; 3201 : 				lpObj->ChaosSuccessRate = 100;

  06f40	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06f43	c7 80 84 0e 00
	00 64 00 00 00	 mov	 DWORD PTR [eax+3716], 100 ; 00000064H
$LN12@HiddenTrea:

; 3202 : 			}
; 3203 : 		}

  06f4d	eb 68		 jmp	 SHORT $LN17@HiddenTrea
$LN13@HiddenTrea:

; 3204 : 		else if ( iBlueCrystal == 1 && iRedCrystal == 1 && iBlackCrystal == 1 )

  06f4f	83 7d f4 01	 cmp	 DWORD PTR _iBlueCrystal$[ebp], 1
  06f53	75 22		 jne	 SHORT $LN10@HiddenTrea
  06f55	83 7d f0 01	 cmp	 DWORD PTR _iRedCrystal$[ebp], 1
  06f59	75 1c		 jne	 SHORT $LN10@HiddenTrea
  06f5b	83 7d ec 01	 cmp	 DWORD PTR _iBlackCrystal$[ebp], 1
  06f5f	75 16		 jne	 SHORT $LN10@HiddenTrea

; 3205 : 		{
; 3206 : 			{
; 3207 : 				iCrystalMixType = 3;

  06f61	c7 45 cc 03 00
	00 00		 mov	 DWORD PTR _iCrystalMixType$[ebp], 3

; 3208 : 				lpObj->ChaosSuccessRate = 100;

  06f68	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06f6b	c7 80 84 0e 00
	00 64 00 00 00	 mov	 DWORD PTR [eax+3716], 100 ; 00000064H

; 3209 : 			}
; 3210 : 		}
; 3211 : 		else

  06f75	eb 40		 jmp	 SHORT $LN17@HiddenTrea
$LN10@HiddenTrea:

; 3212 : 		{
; 3213 : 			LogAddTD("[Hidden TreasureBox Event] [%s][%s] Item Mix Failed",	lpObj->AccountID, lpObj->Name);

  06f77	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06f7a	83 c0 77	 add	 eax, 119		; 00000077H
  06f7d	50		 push	 eax
  06f7e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06f81	83 c1 6c	 add	 ecx, 108		; 0000006cH
  06f84	51		 push	 ecx
  06f85	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@OHGHLCDC@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@
  06f8a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  06f90	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3214 : 			DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  06f93	0f b6 45 d5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  06f97	50		 push	 eax
  06f98	8d 4d d4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  06f9b	51		 push	 ecx
  06f9c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06f9f	8b 02		 mov	 eax, DWORD PTR [edx]
  06fa1	50		 push	 eax
  06fa2	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  06fa7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3215 : 			lpObj->ChaosLock = FALSE;

  06faa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06fad	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN17@HiddenTrea:

; 3216 : 		}
; 3217 : 	}
; 3218 : 	else

  06fb7	eb 45		 jmp	 SHORT $LN8@HiddenTrea
$LN20@HiddenTrea:

; 3219 : 	{
; 3220 : 		LogAddTD("[Hidden TreasureBox Event] [%s][%s] Item Mix Failed",	lpObj->AccountID, lpObj->Name);

  06fb9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06fbc	83 c0 77	 add	 eax, 119		; 00000077H
  06fbf	50		 push	 eax
  06fc0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  06fc3	83 c1 6c	 add	 ecx, 108		; 0000006cH
  06fc6	51		 push	 ecx
  06fc7	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@OHGHLCDC@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@
  06fcc	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  06fd2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3221 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  06fd5	0f b6 45 d5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  06fd9	50		 push	 eax
  06fda	8d 4d d4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  06fdd	51		 push	 ecx
  06fde	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  06fe1	8b 02		 mov	 eax, DWORD PTR [edx]
  06fe3	50		 push	 eax
  06fe4	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  06fe9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3222 : 		lpObj->ChaosLock = FALSE;

  06fec	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  06fef	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3223 : 		return;

  06ff9	e9 ee 01 00 00	 jmp	 $LN32@HiddenTrea
$LN8@HiddenTrea:

; 3224 : 	}
; 3225 : 
; 3226 : 	LogChaosItem(lpObj, "Hidden TreasureBox Mix");

  06ffe	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@FJMEBBCF@Hidden?5TreasureBox?5Mix?$AA@
  07003	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07006	50		 push	 eax
  07007	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0700a	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 3227 : 	LogAddTD("[Hidden TreasureBox Event] [%s][%s] Chaos Mix Start", lpObj->AccountID, lpObj->Name);

  0700f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07012	83 c0 77	 add	 eax, 119		; 00000077H
  07015	50		 push	 eax
  07016	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07019	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0701c	51		 push	 ecx
  0701d	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@FILNLJPO@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@
  07022	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  07028	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3228 : 
; 3229 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  0702b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0702e	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  07034	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07037	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  0703d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07040	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 3230 : 
; 3231 : 	if ( (rand()%100) < lpObj->ChaosSuccessRate )

  07046	e8 00 00 00 00	 call	 _rand
  0704b	99		 cdq
  0704c	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  07051	f7 f9		 idiv	 ecx
  07053	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07056	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  0705c	0f 8d 09 01 00
	00		 jge	 $LN7@HiddenTrea

; 3232 : 	{
; 3233 : 		switch ( iCrystalMixType )

  07062	8b 45 cc	 mov	 eax, DWORD PTR _iCrystalMixType$[ebp]
  07065	89 45 88	 mov	 DWORD PTR tv180[ebp], eax
  07068	83 7d 88 00	 cmp	 DWORD PTR tv180[ebp], 0
  0706c	7c 6a		 jl	 SHORT $LN2@HiddenTrea
  0706e	83 7d 88 02	 cmp	 DWORD PTR tv180[ebp], 2
  07072	7e 08		 jle	 SHORT $LN4@HiddenTrea
  07074	83 7d 88 03	 cmp	 DWORD PTR tv180[ebp], 3
  07078	74 30		 je	 SHORT $LN3@HiddenTrea
  0707a	eb 5c		 jmp	 SHORT $LN2@HiddenTrea
$LN4@HiddenTrea:

; 3234 : 		{
; 3235 : 			case 0:	case 1:	case 2:
; 3236 : 				ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, ITEMGET(12,26) , 4, 1, 0, 0, 0, -1, 0, 0);

  0707c	6a 00		 push	 0
  0707e	6a 00		 push	 0
  07080	6a ff		 push	 -1
  07082	6a 00		 push	 0
  07084	6a 00		 push	 0
  07086	6a 00		 push	 0
  07088	6a 01		 push	 1
  0708a	6a 04		 push	 4
  0708c	68 1a 18 00 00	 push	 6170			; 0000181aH
  07091	6a 00		 push	 0
  07093	6a 00		 push	 0
  07095	68 ff 00 00 00	 push	 255			; 000000ffH
  0709a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0709d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0709f	51		 push	 ecx
  070a0	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  070a5	83 c4 34	 add	 esp, 52			; 00000034H

; 3237 : 				break;

  070a8	eb 77		 jmp	 SHORT $LN5@HiddenTrea
$LN3@HiddenTrea:

; 3238 : 			case 3:
; 3239 : 				ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, ITEMGET(12,26) , 5, 1, 0, 0, 0, -1, 0, 0);

  070aa	6a 00		 push	 0
  070ac	6a 00		 push	 0
  070ae	6a ff		 push	 -1
  070b0	6a 00		 push	 0
  070b2	6a 00		 push	 0
  070b4	6a 00		 push	 0
  070b6	6a 01		 push	 1
  070b8	6a 05		 push	 5
  070ba	68 1a 18 00 00	 push	 6170			; 0000181aH
  070bf	6a 00		 push	 0
  070c1	6a 00		 push	 0
  070c3	68 ff 00 00 00	 push	 255			; 000000ffH
  070c8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  070cb	8b 08		 mov	 ecx, DWORD PTR [eax]
  070cd	51		 push	 ecx
  070ce	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  070d3	83 c4 34	 add	 esp, 52			; 00000034H

; 3240 : 				break;

  070d6	eb 49		 jmp	 SHORT $LN5@HiddenTrea
$LN2@HiddenTrea:

; 3241 : 			default:
; 3242 : 				LogAddTD("[Hidden TreasureBox Event] [%s][%s] CBMix Failed - iCrystalMixType is wrong : %d",
; 3243 : 					lpObj->AccountID, lpObj->Name, iCrystalMixType);

  070d8	8b 45 cc	 mov	 eax, DWORD PTR _iCrystalMixType$[ebp]
  070db	50		 push	 eax
  070dc	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  070df	83 c1 77	 add	 ecx, 119		; 00000077H
  070e2	51		 push	 ecx
  070e3	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  070e6	83 c2 6c	 add	 edx, 108		; 0000006cH
  070e9	52		 push	 edx
  070ea	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@PDPGCOFM@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@
  070ef	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  070f5	83 c4 10	 add	 esp, 16			; 00000010H

; 3244 : 				DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  070f8	0f b6 45 d5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  070fc	50		 push	 eax
  070fd	8d 4d d4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  07100	51		 push	 ecx
  07101	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07104	8b 02		 mov	 eax, DWORD PTR [edx]
  07106	50		 push	 eax
  07107	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0710c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3245 : 				lpObj->ChaosLock = FALSE;

  0710f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07112	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3246 : 				return;

  0711c	e9 cb 00 00 00	 jmp	 $LN32@HiddenTrea
$LN5@HiddenTrea:

; 3247 : 		}
; 3248 : 
; 3249 : 		::gObjInventoryCommit(lpObj->m_Index);

  07121	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07124	8b 08		 mov	 ecx, DWORD PTR [eax]
  07126	51		 push	 ecx
  07127	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0712c	83 c4 04	 add	 esp, 4

; 3250 : 		LogAddTD("[Hidden TreasureBox Event] [%s][%s] CBMix Success:%d Type:%d", lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, iCrystalMixType);

  0712f	8b 45 cc	 mov	 eax, DWORD PTR _iCrystalMixType$[ebp]
  07132	50		 push	 eax
  07133	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07136	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  0713c	52		 push	 edx
  0713d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07140	83 c0 77	 add	 eax, 119		; 00000077H
  07143	50		 push	 eax
  07144	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07147	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0714a	51		 push	 ecx
  0714b	68 00 00 00 00	 push	 OFFSET ??_C@_0DN@CFIDABAI@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@
  07150	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  07156	83 c4 14	 add	 esp, 20			; 00000014H

; 3251 : #if(SYSTEM_ACHIEVEMENTS)
; 3252 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  07159	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0715c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0715e	51		 push	 ecx
  0715f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  07164	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 3253 : #endif
; 3254 : 	}
; 3255 : 	else

  07169	eb 74		 jmp	 SHORT $LN1@HiddenTrea
$LN7@HiddenTrea:

; 3256 : 	{
; 3257 : 		LogAddTD("[Hidden TreasureBox Event] [%s][%s] CBMix Fail Rate:%d", lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate);

  0716b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0716e	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  07174	51		 push	 ecx
  07175	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07178	83 c2 77	 add	 edx, 119		; 00000077H
  0717b	52		 push	 edx
  0717c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0717f	83 c0 6c	 add	 eax, 108		; 0000006cH
  07182	50		 push	 eax
  07183	68 00 00 00 00	 push	 OFFSET ??_C@_0DH@JBMEKCLH@?$FLHidden?5TreasureBox?5Event?$FN?5?$FL?$CFs?$FN?$FL@
  07188	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0718e	83 c4 10	 add	 esp, 16			; 00000010H

; 3258 : 		this->ChaosBoxInit(lpObj);

  07191	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07194	50		 push	 eax
  07195	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  07198	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 3259 : 		::GCUserChaosBoxSend(lpObj, 1);

  0719d	6a 01		 push	 1
  0719f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  071a2	50		 push	 eax
  071a3	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  071a8	83 c4 08	 add	 esp, 8

; 3260 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  071ab	0f b6 45 d5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  071af	50		 push	 eax
  071b0	8d 4d d4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  071b3	51		 push	 ecx
  071b4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  071b7	8b 02		 mov	 eax, DWORD PTR [edx]
  071b9	50		 push	 eax
  071ba	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  071bf	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3261 : 		lpObj->ChaosLock = FALSE;

  071c2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  071c5	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3262 : #if(SYSTEM_ACHIEVEMENTS)
; 3263 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  071cf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  071d2	8b 08		 mov	 ecx, DWORD PTR [eax]
  071d4	51		 push	 ecx
  071d5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  071da	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN1@HiddenTrea:

; 3264 : #endif
; 3265 : 	}
; 3266 : 
; 3267 : 	lpObj->ChaosLock = FALSE;

  071df	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  071e2	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN32@HiddenTrea:

; 3268 : }

  071ec	5f		 pop	 edi
  071ed	5e		 pop	 esi
  071ee	5b		 pop	 ebx
  071ef	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  071f2	33 cd		 xor	 ecx, ebp
  071f4	e8 00 00 00 00	 call	 @__security_check_cookie@4
  071f9	8b e5		 mov	 esp, ebp
  071fb	5d		 pop	 ebp
  071fc	c2 04 00	 ret	 4
?HiddenTreasureBoxItemMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::HiddenTreasureBoxItemMix
_TEXT	ENDS
PUBLIC	??_C@_0EM@IAKFEJP@?$FLFenrir?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ ; `string'
PUBLIC	??_C@_0EP@MODCEFAF@?$FLFenrir?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ ; `string'
PUBLIC	??_C@_0CH@FLCJIMPD@?$FLFenrir?5Mix?$FN?$FLLevel?501?$FN?5Chaos?5Mix@ ; `string'
PUBLIC	??_C@_0BD@FNEHOIBM@Fenrir_01Level_Mix?$AA@	; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?Fenrir_01Level_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::Fenrir_01Level_Mix
EXTRN	?g_iFenrir_01Level_MixRate@@3HA:DWORD		; g_iFenrir_01Level_MixRate
;	COMDAT ??_C@_0EM@IAKFEJP@?$FLFenrir?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
CONST	SEGMENT
??_C@_0EM@IAKFEJP@?$FLFenrir?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ DB '['
	DB	'Fenrir Mix][Level 01] [%s][%s] CBMix Fail %d Money : %d-%d, C'
	DB	'harmRate : %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0EP@MODCEFAF@?$FLFenrir?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
CONST	SEGMENT
??_C@_0EP@MODCEFAF@?$FLFenrir?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ DB '['
	DB	'Fenrir Mix][Level 01] [%s][%s] CBMix Success %d Money : %d-%d'
	DB	', CharmRate : %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CH@FLCJIMPD@?$FLFenrir?5Mix?$FN?$FLLevel?501?$FN?5Chaos?5Mix@
CONST	SEGMENT
??_C@_0CH@FLCJIMPD@?$FLFenrir?5Mix?$FN?$FLLevel?501?$FN?5Chaos?5Mix@ DB '['
	DB	'Fenrir Mix][Level 01] Chaos Mix Start', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@FNEHOIBM@Fenrir_01Level_Mix?$AA@
CONST	SEGMENT
??_C@_0BD@FNEHOIBM@Fenrir_01Level_Mix?$AA@ DB 'Fenrir_01Level_Mix', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_dur$236677 = -72					; size = 4
_level$236676 = -68					; size = 4
_type$236675 = -64					; size = 4
_iChaosTaxMoney$ = -60					; size = 4
_nChaosNeedMoney$ = -56					; size = 4
_n$236641 = -52						; size = 4
_pMsg$ = -48						; size = 16
_iCharmOfLuckCount$ = -32				; size = 4
_iChaosMoney$ = -28					; size = 4
_iInvalidItemCount$ = -24				; size = 4
_iChaosGemCount$ = -20					; size = 4
_iStuffCount_02$ = -16					; size = 4
_iStuffCount_01$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?Fenrir_01Level_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::Fenrir_01Level_Mix
; _this$ = ecx

; 3271 : {

  07200	55		 push	 ebp
  07201	8b ec		 mov	 ebp, esp
  07203	81 ec 88 00 00
	00		 sub	 esp, 136		; 00000088H
  07209	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0720e	33 c5		 xor	 eax, ebp
  07210	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  07213	53		 push	 ebx
  07214	56		 push	 esi
  07215	57		 push	 edi
  07216	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 3272 : 	lpObj->ChaosLock = TRUE;

  07219	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0721c	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 3273 : 	int iStuffCount_01 = 0;

  07226	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iStuffCount_01$[ebp], 0

; 3274 : 	int iStuffCount_02 = 0;

  0722d	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iStuffCount_02$[ebp], 0

; 3275 : 	int iChaosGemCount = 0;

  07234	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iChaosGemCount$[ebp], 0

; 3276 : 	int iInvalidItemCount = 0;

  0723b	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 3277 : 	int iChaosMoney = 0;

  07242	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 0

; 3278 : 	int iCharmOfLuckCount = 0;

  07249	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 3279 : 
; 3280 : 	PMSG_CHAOSMIXRESULT pMsg;
; 3281 : 
; 3282 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  07250	6a 10		 push	 16			; 00000010H
  07252	68 86 00 00 00	 push	 134			; 00000086H
  07257	8d 45 d0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0725a	50		 push	 eax
  0725b	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  07260	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3283 : 	pMsg.Result = CB_ERROR;

  07263	c6 45 d3 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 3284 : 
; 3285 : 
; 3286 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  07267	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _n$236641[ebp], 0
  0726e	eb 09		 jmp	 SHORT $LN20@Fenrir_01L
$LN19@Fenrir_01L:
  07270	8b 45 cc	 mov	 eax, DWORD PTR _n$236641[ebp]
  07273	83 c0 01	 add	 eax, 1
  07276	89 45 cc	 mov	 DWORD PTR _n$236641[ebp], eax
$LN20@Fenrir_01L:
  07279	83 7d cc 20	 cmp	 DWORD PTR _n$236641[ebp], 32 ; 00000020H
  0727d	0f 8d 1d 01 00
	00		 jge	 $LN18@Fenrir_01L

; 3287 : 	{
; 3288 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  07283	8b 4d cc	 mov	 ecx, DWORD PTR _n$236641[ebp]
  07286	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0728c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0728f	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  07295	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0729a	83 f8 01	 cmp	 eax, 1
  0729d	0f 85 f8 00 00
	00		 jne	 $LN9@Fenrir_01L

; 3289 : 		{
; 3290 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(13,32) )

  072a3	8b 45 cc	 mov	 eax, DWORD PTR _n$236641[ebp]
  072a6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  072ac	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  072af	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  072b5	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  072ba	3d 20 1a 00 00	 cmp	 eax, 6688		; 00001a20H
  072bf	75 26		 jne	 SHORT $LN16@Fenrir_01L

; 3291 : 			{
; 3292 : 				iStuffCount_01 += (int)lpObj->pChaosBox[n].m_Durability;

  072c1	8b 45 cc	 mov	 eax, DWORD PTR _n$236641[ebp]
  072c4	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  072ca	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  072cd	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  072d3	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  072d7	e8 00 00 00 00	 call	 __ftol2_sse
  072dc	03 45 f4	 add	 eax, DWORD PTR _iStuffCount_01$[ebp]
  072df	89 45 f4	 mov	 DWORD PTR _iStuffCount_01$[ebp], eax
  072e2	e9 b4 00 00 00	 jmp	 $LN9@Fenrir_01L
$LN16@Fenrir_01L:

; 3293 : 			}
; 3294 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(13,33) )

  072e7	8b 45 cc	 mov	 eax, DWORD PTR _n$236641[ebp]
  072ea	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  072f0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  072f3	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  072f9	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  072fe	3d 21 1a 00 00	 cmp	 eax, 6689		; 00001a21H
  07303	75 23		 jne	 SHORT $LN14@Fenrir_01L

; 3295 : 			{
; 3296 : 				iStuffCount_02 += (int)lpObj->pChaosBox[n].m_Durability;

  07305	8b 45 cc	 mov	 eax, DWORD PTR _n$236641[ebp]
  07308	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0730e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07311	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  07317	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  0731b	e8 00 00 00 00	 call	 __ftol2_sse
  07320	03 45 f0	 add	 eax, DWORD PTR _iStuffCount_02$[ebp]
  07323	89 45 f0	 mov	 DWORD PTR _iStuffCount_02$[ebp], eax
  07326	eb 73		 jmp	 SHORT $LN9@Fenrir_01L
$LN14@Fenrir_01L:

; 3297 : 			}
; 3298 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) )

  07328	8b 45 cc	 mov	 eax, DWORD PTR _n$236641[ebp]
  0732b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  07331	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07334	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0733a	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0733f	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  07344	75 0b		 jne	 SHORT $LN12@Fenrir_01L

; 3299 : 			{
; 3300 : 				iChaosGemCount++;

  07346	8b 45 ec	 mov	 eax, DWORD PTR _iChaosGemCount$[ebp]
  07349	83 c0 01	 add	 eax, 1
  0734c	89 45 ec	 mov	 DWORD PTR _iChaosGemCount$[ebp], eax
  0734f	eb 4a		 jmp	 SHORT $LN9@Fenrir_01L
$LN12@Fenrir_01L:

; 3301 : 			}
; 3302 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )	// Charm Of Luck

  07351	8b 45 cc	 mov	 eax, DWORD PTR _n$236641[ebp]
  07354	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0735a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0735d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  07363	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  07368	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  0736d	75 23		 jne	 SHORT $LN10@Fenrir_01L

; 3303 : 			{
; 3304 : 				iCharmOfLuckCount += (int)lpObj->pChaosBox[n].m_Durability;

  0736f	8b 45 cc	 mov	 eax, DWORD PTR _n$236641[ebp]
  07372	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  07378	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0737b	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  07381	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  07385	e8 00 00 00 00	 call	 __ftol2_sse
  0738a	03 45 e0	 add	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  0738d	89 45 e0	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], eax

; 3305 : 			}
; 3306 : 			else

  07390	eb 09		 jmp	 SHORT $LN9@Fenrir_01L
$LN10@Fenrir_01L:

; 3307 : 			{
; 3308 : 				iInvalidItemCount++;

  07392	8b 45 e8	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  07395	83 c0 01	 add	 eax, 1
  07398	89 45 e8	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN9@Fenrir_01L:

; 3309 : 			}
; 3310 : 		}
; 3311 : 	}

  0739b	e9 d0 fe ff ff	 jmp	 $LN19@Fenrir_01L
$LN18@Fenrir_01L:

; 3312 : 
; 3313 : 	if ( iStuffCount_01 != 20 || iStuffCount_02 != 20 || iChaosGemCount != 1 || iInvalidItemCount > 0 )

  073a0	83 7d f4 14	 cmp	 DWORD PTR _iStuffCount_01$[ebp], 20 ; 00000014H
  073a4	75 12		 jne	 SHORT $LN7@Fenrir_01L
  073a6	83 7d f0 14	 cmp	 DWORD PTR _iStuffCount_02$[ebp], 20 ; 00000014H
  073aa	75 0c		 jne	 SHORT $LN7@Fenrir_01L
  073ac	83 7d ec 01	 cmp	 DWORD PTR _iChaosGemCount$[ebp], 1
  073b0	75 06		 jne	 SHORT $LN7@Fenrir_01L
  073b2	83 7d e8 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  073b6	7e 29		 jle	 SHORT $LN8@Fenrir_01L
$LN7@Fenrir_01L:

; 3314 : 	{
; 3315 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  073b8	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  073bc	50		 push	 eax
  073bd	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  073c0	51		 push	 ecx
  073c1	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  073c4	8b 02		 mov	 eax, DWORD PTR [edx]
  073c6	50		 push	 eax
  073c7	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  073cc	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3316 : 		lpObj->ChaosLock = FALSE;

  073cf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  073d2	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3317 : 		return;

  073dc	e9 af 02 00 00	 jmp	 $LN21@Fenrir_01L
$LN8@Fenrir_01L:

; 3318 : 	}
; 3319 : 	
; 3320 : 	if ( iCharmOfLuckCount > 10 )

  073e1	83 7d e0 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  073e5	7e 2d		 jle	 SHORT $LN6@Fenrir_01L

; 3321 : 	{
; 3322 : 		pMsg.Result = 0xF0;

  073e7	c6 45 d3 f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 3323 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  073eb	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  073ef	50		 push	 eax
  073f0	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  073f3	51		 push	 ecx
  073f4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  073f7	8b 02		 mov	 eax, DWORD PTR [edx]
  073f9	50		 push	 eax
  073fa	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  073ff	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3324 : 		lpObj->ChaosLock = FALSE;

  07402	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07405	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3325 : 		return;

  0740f	e9 7c 02 00 00	 jmp	 $LN21@Fenrir_01L
$LN6@Fenrir_01L:

; 3326 : 	}
; 3327 : 
; 3328 : 	LogChaosItem(lpObj, "Fenrir_01Level_Mix");

  07414	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@FNEHOIBM@Fenrir_01Level_Mix?$AA@
  07419	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0741c	50		 push	 eax
  0741d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  07420	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 3329 : 	LogAddTD("[Fenrir Mix][Level 01] Chaos Mix Start");

  07425	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@FLCJIMPD@?$FLFenrir?5Mix?$FN?$FLLevel?501?$FN?5Chaos?5Mix@
  0742a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  07430	83 c4 04	 add	 esp, 4

; 3330 : 
; 3331 : 	lpObj->ChaosSuccessRate = g_iFenrir_01Level_MixRate;

  07433	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07436	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_iFenrir_01Level_MixRate@@3HA ; g_iFenrir_01Level_MixRate
  0743c	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 3332 : 	lpObj->ChaosSuccessRate += iCharmOfLuckCount;

  07442	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07445	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  0744b	03 4d e0	 add	 ecx, DWORD PTR _iCharmOfLuckCount$[ebp]
  0744e	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07451	89 8a 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], ecx

; 3333 : 	int nChaosNeedMoney = 0;

  07457	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0

; 3334 : 
; 3335 : 	int iChaosTaxMoney = (int)((__int64)nChaosNeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  0745e	8b 45 c8	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  07461	99		 cdq
  07462	8b f0		 mov	 esi, eax
  07464	8b fa		 mov	 edi, edx
  07466	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07469	8b 08		 mov	 ecx, DWORD PTR [eax]
  0746b	51		 push	 ecx
  0746c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  07471	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  07476	99		 cdq
  07477	52		 push	 edx
  07478	50		 push	 eax
  07479	57		 push	 edi
  0747a	56		 push	 esi
  0747b	e8 00 00 00 00	 call	 __allmul
  07480	6a 00		 push	 0
  07482	6a 64		 push	 100			; 00000064H
  07484	52		 push	 edx
  07485	50		 push	 eax
  07486	e8 00 00 00 00	 call	 __alldiv
  0748b	89 45 c4	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 3336 : 
; 3337 : 	if ( iChaosTaxMoney < 0 )

  0748e	83 7d c4 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  07492	7d 07		 jge	 SHORT $LN5@Fenrir_01L

; 3338 : 	{
; 3339 : 		iChaosTaxMoney = 0;

  07494	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN5@Fenrir_01L:

; 3340 : 	}
; 3341 : 
; 3342 : 	nChaosNeedMoney += iChaosTaxMoney;

  0749b	8b 45 c8	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  0749e	03 45 c4	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  074a1	89 45 c8	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], eax

; 3343 : 
; 3344 : 	nChaosNeedMoney += lpObj->m_AddMixMoney;

  074a4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  074a7	8b 4d c8	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  074aa	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  074b0	89 4d c8	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 3345 : 
; 3346 : 	if ( nChaosNeedMoney < 0 )

  074b3	79 07		 jns	 SHORT $LN4@Fenrir_01L

; 3347 : 	{
; 3348 : 		nChaosNeedMoney = 0;

  074b5	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0
$LN4@Fenrir_01L:

; 3349 : 	}
; 3350 : 
; 3351 : 	if ( lpObj->Money < nChaosNeedMoney )

  074bc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  074bf	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  074c5	3b 4d c8	 cmp	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  074c8	7d 2d		 jge	 SHORT $LN3@Fenrir_01L

; 3352 : 	{
; 3353 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  074ca	c6 45 d3 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 3354 : 		
; 3355 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  074ce	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  074d2	50		 push	 eax
  074d3	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  074d6	51		 push	 ecx
  074d7	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  074da	8b 02		 mov	 eax, DWORD PTR [edx]
  074dc	50		 push	 eax
  074dd	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  074e2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3356 : 		lpObj->ChaosLock = FALSE;

  074e5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  074e8	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3357 : 
; 3358 : 		return;

  074f2	e9 99 01 00 00	 jmp	 $LN21@Fenrir_01L
$LN3@Fenrir_01L:

; 3359 : 	}
; 3360 : 
; 3361 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  074f7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  074fa	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  07500	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07503	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  07509	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0750c	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 3362 : 
; 3363 : 	lpObj->Money -= nChaosNeedMoney;

  07512	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07515	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0751b	2b 4d c8	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  0751e	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07521	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 3364 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  07527	8b 45 c4	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0752a	50		 push	 eax
  0752b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  07530	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 3365 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  07535	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07538	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0753e	51		 push	 ecx
  0753f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07542	8b 02		 mov	 eax, DWORD PTR [edx]
  07544	50		 push	 eax
  07545	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  0754a	83 c4 08	 add	 esp, 8

; 3366 : 
; 3367 : 	if ( (rand()%100) < lpObj->ChaosSuccessRate )

  0754d	e8 00 00 00 00	 call	 _rand
  07552	99		 cdq
  07553	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  07558	f7 f9		 idiv	 ecx
  0755a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0755d	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  07563	0f 8d a1 00 00
	00		 jge	 $LN2@Fenrir_01L

; 3368 : 	{
; 3369 : 		int type = ITEMGET(13,35);

  07569	c7 45 c0 23 1a
	00 00		 mov	 DWORD PTR _type$236675[ebp], 6691 ; 00001a23H

; 3370 : 		int level = 0;

  07570	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _level$236676[ebp], 0

; 3371 : 		int dur = 1;

  07577	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR _dur$236677[ebp], 1

; 3372 : 
; 3373 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, type , (BYTE)level, (BYTE)dur, 0, 0, 0, -1, 0, 0);

  0757e	6a 00		 push	 0
  07580	6a 00		 push	 0
  07582	6a ff		 push	 -1
  07584	6a 00		 push	 0
  07586	6a 00		 push	 0
  07588	6a 00		 push	 0
  0758a	0f b6 45 b8	 movzx	 eax, BYTE PTR _dur$236677[ebp]
  0758e	50		 push	 eax
  0758f	0f b6 4d bc	 movzx	 ecx, BYTE PTR _level$236676[ebp]
  07593	51		 push	 ecx
  07594	8b 55 c0	 mov	 edx, DWORD PTR _type$236675[ebp]
  07597	52		 push	 edx
  07598	6a 00		 push	 0
  0759a	6a 00		 push	 0
  0759c	68 ff 00 00 00	 push	 255			; 000000ffH
  075a1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  075a4	8b 08		 mov	 ecx, DWORD PTR [eax]
  075a6	51		 push	 ecx
  075a7	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  075ac	83 c4 34	 add	 esp, 52			; 00000034H

; 3374 : 		::gObjInventoryCommit(lpObj->m_Index);

  075af	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  075b2	8b 08		 mov	 ecx, DWORD PTR [eax]
  075b4	51		 push	 ecx
  075b5	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  075ba	83 c4 04	 add	 esp, 4

; 3375 : 		LogAddTD("[Fenrir Mix][Level 01] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate : %d", lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney, iCharmOfLuckCount);

  075bd	8b 45 e0	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  075c0	50		 push	 eax
  075c1	8b 4d c8	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  075c4	51		 push	 ecx
  075c5	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  075c8	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  075ce	50		 push	 eax
  075cf	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  075d2	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  075d8	52		 push	 edx
  075d9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  075dc	83 c0 77	 add	 eax, 119		; 00000077H
  075df	50		 push	 eax
  075e0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  075e3	83 c1 6c	 add	 ecx, 108		; 0000006cH
  075e6	51		 push	 ecx
  075e7	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@MODCEFAF@?$FLFenrir?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
  075ec	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  075f2	83 c4 1c	 add	 esp, 28			; 0000001cH

; 3376 : #if(SYSTEM_ACHIEVEMENTS)
; 3377 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  075f5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  075f8	8b 08		 mov	 ecx, DWORD PTR [eax]
  075fa	51		 push	 ecx
  075fb	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  07600	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 3378 : #endif
; 3379 : 	}
; 3380 : 	else

  07605	e9 86 00 00 00	 jmp	 $LN1@Fenrir_01L
$LN2@Fenrir_01L:

; 3381 : 	{
; 3382 : 		this->ChaosBoxInit(lpObj);

  0760a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0760d	50		 push	 eax
  0760e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  07611	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 3383 : 		::GCUserChaosBoxSend(lpObj, 0);

  07616	6a 00		 push	 0
  07618	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0761b	50		 push	 eax
  0761c	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  07621	83 c4 08	 add	 esp, 8

; 3384 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  07624	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  07628	50		 push	 eax
  07629	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0762c	51		 push	 ecx
  0762d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07630	8b 02		 mov	 eax, DWORD PTR [edx]
  07632	50		 push	 eax
  07633	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  07638	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3385 : 		LogAddTD("[Fenrir Mix][Level 01] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : %d", lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney, iCharmOfLuckCount);

  0763b	8b 45 e0	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  0763e	50		 push	 eax
  0763f	8b 4d c8	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  07642	51		 push	 ecx
  07643	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07646	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  0764c	50		 push	 eax
  0764d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07650	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  07656	52		 push	 edx
  07657	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0765a	83 c0 77	 add	 eax, 119		; 00000077H
  0765d	50		 push	 eax
  0765e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07661	83 c1 6c	 add	 ecx, 108		; 0000006cH
  07664	51		 push	 ecx
  07665	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@IAKFEJP@?$FLFenrir?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
  0766a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  07670	83 c4 1c	 add	 esp, 28			; 0000001cH

; 3386 : 		lpObj->ChaosLock = FALSE;

  07673	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07676	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3387 : #if(SYSTEM_ACHIEVEMENTS)
; 3388 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  07680	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07683	8b 08		 mov	 ecx, DWORD PTR [eax]
  07685	51		 push	 ecx
  07686	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0768b	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN1@Fenrir_01L:
$LN21@Fenrir_01L:

; 3389 : #endif
; 3390 : 	}
; 3391 : }

  07690	5f		 pop	 edi
  07691	5e		 pop	 esi
  07692	5b		 pop	 ebx
  07693	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  07696	33 cd		 xor	 ecx, ebp
  07698	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0769d	8b e5		 mov	 esp, ebp
  0769f	5d		 pop	 ebp
  076a0	c2 04 00	 ret	 4
?Fenrir_01Level_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::Fenrir_01Level_Mix
_TEXT	ENDS
PUBLIC	??_C@_0EM@COLFGAOG@?$FLFenrir?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ ; `string'
PUBLIC	??_C@_0EP@HFOGELBG@?$FLFenrir?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ ; `string'
PUBLIC	??_C@_0CH@PIHPAKFK@?$FLFenrir?5Mix?$FN?$FLLevel?502?$FN?5Chaos?5Mix@ ; `string'
PUBLIC	??_C@_0BD@MEKFIOBN@Fenrir_02Level_Mix?$AA@	; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?Fenrir_02Level_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::Fenrir_02Level_Mix
EXTRN	?g_iFenrir_02Level_MixRate@@3HA:DWORD		; g_iFenrir_02Level_MixRate
;	COMDAT ??_C@_0EM@COLFGAOG@?$FLFenrir?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
CONST	SEGMENT
??_C@_0EM@COLFGAOG@?$FLFenrir?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ DB '['
	DB	'Fenrir Mix][Level 02] [%s][%s] CBMix Fail %d Money : %d-%d, C'
	DB	'harmRate : %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0EP@HFOGELBG@?$FLFenrir?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
CONST	SEGMENT
??_C@_0EP@HFOGELBG@?$FLFenrir?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ DB '['
	DB	'Fenrir Mix][Level 02] [%s][%s] CBMix Success %d Money : %d-%d'
	DB	', CharmRate : %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CH@PIHPAKFK@?$FLFenrir?5Mix?$FN?$FLLevel?502?$FN?5Chaos?5Mix@
CONST	SEGMENT
??_C@_0CH@PIHPAKFK@?$FLFenrir?5Mix?$FN?$FLLevel?502?$FN?5Chaos?5Mix@ DB '['
	DB	'Fenrir Mix][Level 02] Chaos Mix Start', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@MEKFIOBN@Fenrir_02Level_Mix?$AA@
CONST	SEGMENT
??_C@_0BD@MEKFIOBN@Fenrir_02Level_Mix?$AA@ DB 'Fenrir_02Level_Mix', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_dur$236732 = -72					; size = 4
_level$236731 = -68					; size = 4
_type$236730 = -64					; size = 4
_iChaosTaxMoney$ = -60					; size = 4
_nChaosNeedMoney$ = -56					; size = 4
_n$236697 = -52						; size = 4
_pMsg$ = -48						; size = 16
_iCharmOfLuckCount$ = -32				; size = 4
_iChaosMoney$ = -28					; size = 4
_iInvalidItemCount$ = -24				; size = 4
_iChaosGemCount$ = -20					; size = 4
_iStuffCount_02$ = -16					; size = 4
_iStuffCount_01$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?Fenrir_02Level_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::Fenrir_02Level_Mix
; _this$ = ecx

; 3395 : {

  076b0	55		 push	 ebp
  076b1	8b ec		 mov	 ebp, esp
  076b3	81 ec 88 00 00
	00		 sub	 esp, 136		; 00000088H
  076b9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  076be	33 c5		 xor	 eax, ebp
  076c0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  076c3	53		 push	 ebx
  076c4	56		 push	 esi
  076c5	57		 push	 edi
  076c6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 3396 : 	lpObj->ChaosLock = TRUE;

  076c9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  076cc	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 3397 : 	int iStuffCount_01 = 0;

  076d6	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iStuffCount_01$[ebp], 0

; 3398 : 	int iStuffCount_02 = 0;

  076dd	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iStuffCount_02$[ebp], 0

; 3399 : 	int iChaosGemCount = 0;

  076e4	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iChaosGemCount$[ebp], 0

; 3400 : 	int iInvalidItemCount = 0;

  076eb	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 3401 : 	int iChaosMoney = 0;

  076f2	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 0

; 3402 : 	int iCharmOfLuckCount = 0;

  076f9	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 3403 : 
; 3404 : 	PMSG_CHAOSMIXRESULT pMsg;
; 3405 : 
; 3406 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  07700	6a 10		 push	 16			; 00000010H
  07702	68 86 00 00 00	 push	 134			; 00000086H
  07707	8d 45 d0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0770a	50		 push	 eax
  0770b	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  07710	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3407 : 	pMsg.Result = CB_ERROR;

  07713	c6 45 d3 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 3408 : 
; 3409 : 
; 3410 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  07717	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _n$236697[ebp], 0
  0771e	eb 09		 jmp	 SHORT $LN20@Fenrir_02L
$LN19@Fenrir_02L:
  07720	8b 45 cc	 mov	 eax, DWORD PTR _n$236697[ebp]
  07723	83 c0 01	 add	 eax, 1
  07726	89 45 cc	 mov	 DWORD PTR _n$236697[ebp], eax
$LN20@Fenrir_02L:
  07729	83 7d cc 20	 cmp	 DWORD PTR _n$236697[ebp], 32 ; 00000020H
  0772d	0f 8d 05 01 00
	00		 jge	 $LN18@Fenrir_02L

; 3411 : 	{
; 3412 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  07733	8b 4d cc	 mov	 ecx, DWORD PTR _n$236697[ebp]
  07736	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0773c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0773f	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  07745	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0774a	83 f8 01	 cmp	 eax, 1
  0774d	0f 85 e0 00 00
	00		 jne	 $LN9@Fenrir_02L

; 3413 : 		{
; 3414 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(13,34) )

  07753	8b 45 cc	 mov	 eax, DWORD PTR _n$236697[ebp]
  07756	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0775c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0775f	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  07765	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0776a	3d 22 1a 00 00	 cmp	 eax, 6690		; 00001a22H
  0776f	75 26		 jne	 SHORT $LN16@Fenrir_02L

; 3415 : 			{
; 3416 : 				iStuffCount_01 += (int)lpObj->pChaosBox[n].m_Durability;

  07771	8b 45 cc	 mov	 eax, DWORD PTR _n$236697[ebp]
  07774	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0777a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0777d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  07783	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  07787	e8 00 00 00 00	 call	 __ftol2_sse
  0778c	03 45 f4	 add	 eax, DWORD PTR _iStuffCount_01$[ebp]
  0778f	89 45 f4	 mov	 DWORD PTR _iStuffCount_01$[ebp], eax
  07792	e9 9c 00 00 00	 jmp	 $LN9@Fenrir_02L
$LN16@Fenrir_02L:

; 3417 : 			}
; 3418 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(13,35) )

  07797	8b 45 cc	 mov	 eax, DWORD PTR _n$236697[ebp]
  0779a	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  077a0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  077a3	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  077a9	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  077ae	3d 23 1a 00 00	 cmp	 eax, 6691		; 00001a23H
  077b3	75 0b		 jne	 SHORT $LN14@Fenrir_02L

; 3419 : 			{
; 3420 : 				iStuffCount_02 ++;

  077b5	8b 45 f0	 mov	 eax, DWORD PTR _iStuffCount_02$[ebp]
  077b8	83 c0 01	 add	 eax, 1
  077bb	89 45 f0	 mov	 DWORD PTR _iStuffCount_02$[ebp], eax
  077be	eb 73		 jmp	 SHORT $LN9@Fenrir_02L
$LN14@Fenrir_02L:

; 3421 : 			}
; 3422 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) )

  077c0	8b 45 cc	 mov	 eax, DWORD PTR _n$236697[ebp]
  077c3	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  077c9	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  077cc	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  077d2	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  077d7	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  077dc	75 0b		 jne	 SHORT $LN12@Fenrir_02L

; 3423 : 			{
; 3424 : 				iChaosGemCount++;

  077de	8b 45 ec	 mov	 eax, DWORD PTR _iChaosGemCount$[ebp]
  077e1	83 c0 01	 add	 eax, 1
  077e4	89 45 ec	 mov	 DWORD PTR _iChaosGemCount$[ebp], eax
  077e7	eb 4a		 jmp	 SHORT $LN9@Fenrir_02L
$LN12@Fenrir_02L:

; 3425 : 			}
; 3426 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )	// Charm Of Luck

  077e9	8b 45 cc	 mov	 eax, DWORD PTR _n$236697[ebp]
  077ec	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  077f2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  077f5	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  077fb	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  07800	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  07805	75 23		 jne	 SHORT $LN10@Fenrir_02L

; 3427 : 			{
; 3428 : 				iCharmOfLuckCount += (int)lpObj->pChaosBox[n].m_Durability;

  07807	8b 45 cc	 mov	 eax, DWORD PTR _n$236697[ebp]
  0780a	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  07810	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07813	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  07819	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  0781d	e8 00 00 00 00	 call	 __ftol2_sse
  07822	03 45 e0	 add	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  07825	89 45 e0	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], eax

; 3429 : 			}
; 3430 : 			else

  07828	eb 09		 jmp	 SHORT $LN9@Fenrir_02L
$LN10@Fenrir_02L:

; 3431 : 			{
; 3432 : 				iInvalidItemCount++;

  0782a	8b 45 e8	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  0782d	83 c0 01	 add	 eax, 1
  07830	89 45 e8	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN9@Fenrir_02L:

; 3433 : 			}
; 3434 : 		}
; 3435 : 	}

  07833	e9 e8 fe ff ff	 jmp	 $LN19@Fenrir_02L
$LN18@Fenrir_02L:

; 3436 : 
; 3437 : 	if ( iStuffCount_01 != 10 || iStuffCount_02 != 5 || iChaosGemCount != 1 || iInvalidItemCount > 0 )

  07838	83 7d f4 0a	 cmp	 DWORD PTR _iStuffCount_01$[ebp], 10 ; 0000000aH
  0783c	75 12		 jne	 SHORT $LN7@Fenrir_02L
  0783e	83 7d f0 05	 cmp	 DWORD PTR _iStuffCount_02$[ebp], 5
  07842	75 0c		 jne	 SHORT $LN7@Fenrir_02L
  07844	83 7d ec 01	 cmp	 DWORD PTR _iChaosGemCount$[ebp], 1
  07848	75 06		 jne	 SHORT $LN7@Fenrir_02L
  0784a	83 7d e8 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  0784e	7e 29		 jle	 SHORT $LN8@Fenrir_02L
$LN7@Fenrir_02L:

; 3438 : 	{
; 3439 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  07850	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  07854	50		 push	 eax
  07855	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  07858	51		 push	 ecx
  07859	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0785c	8b 02		 mov	 eax, DWORD PTR [edx]
  0785e	50		 push	 eax
  0785f	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  07864	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3440 : 		lpObj->ChaosLock = FALSE;

  07867	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0786a	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3441 : 
; 3442 : 		return;

  07874	e9 af 02 00 00	 jmp	 $LN21@Fenrir_02L
$LN8@Fenrir_02L:

; 3443 : 	}
; 3444 : 	
; 3445 : 	if ( iCharmOfLuckCount > 10 )

  07879	83 7d e0 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  0787d	7e 2d		 jle	 SHORT $LN6@Fenrir_02L

; 3446 : 	{
; 3447 : 		pMsg.Result = 0xF0;

  0787f	c6 45 d3 f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 3448 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  07883	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  07887	50		 push	 eax
  07888	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0788b	51		 push	 ecx
  0788c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0788f	8b 02		 mov	 eax, DWORD PTR [edx]
  07891	50		 push	 eax
  07892	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  07897	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3449 : 		lpObj->ChaosLock = FALSE;

  0789a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0789d	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3450 : 
; 3451 : 		return;

  078a7	e9 7c 02 00 00	 jmp	 $LN21@Fenrir_02L
$LN6@Fenrir_02L:

; 3452 : 	}
; 3453 : 
; 3454 : 	LogChaosItem(lpObj, "Fenrir_02Level_Mix");

  078ac	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@MEKFIOBN@Fenrir_02Level_Mix?$AA@
  078b1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  078b4	50		 push	 eax
  078b5	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  078b8	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 3455 : 	LogAddTD("[Fenrir Mix][Level 02] Chaos Mix Start");

  078bd	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@PIHPAKFK@?$FLFenrir?5Mix?$FN?$FLLevel?502?$FN?5Chaos?5Mix@
  078c2	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  078c8	83 c4 04	 add	 esp, 4

; 3456 : 
; 3457 : 	lpObj->ChaosSuccessRate = g_iFenrir_02Level_MixRate;

  078cb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  078ce	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_iFenrir_02Level_MixRate@@3HA ; g_iFenrir_02Level_MixRate
  078d4	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 3458 : 	lpObj->ChaosSuccessRate += iCharmOfLuckCount;

  078da	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  078dd	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  078e3	03 4d e0	 add	 ecx, DWORD PTR _iCharmOfLuckCount$[ebp]
  078e6	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  078e9	89 8a 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], ecx

; 3459 : 	int nChaosNeedMoney = 0;

  078ef	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0

; 3460 : 
; 3461 : 	int iChaosTaxMoney = (int)((__int64)nChaosNeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  078f6	8b 45 c8	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  078f9	99		 cdq
  078fa	8b f0		 mov	 esi, eax
  078fc	8b fa		 mov	 edi, edx
  078fe	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07901	8b 08		 mov	 ecx, DWORD PTR [eax]
  07903	51		 push	 ecx
  07904	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  07909	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  0790e	99		 cdq
  0790f	52		 push	 edx
  07910	50		 push	 eax
  07911	57		 push	 edi
  07912	56		 push	 esi
  07913	e8 00 00 00 00	 call	 __allmul
  07918	6a 00		 push	 0
  0791a	6a 64		 push	 100			; 00000064H
  0791c	52		 push	 edx
  0791d	50		 push	 eax
  0791e	e8 00 00 00 00	 call	 __alldiv
  07923	89 45 c4	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 3462 : 
; 3463 : 	if ( iChaosTaxMoney < 0 )

  07926	83 7d c4 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  0792a	7d 07		 jge	 SHORT $LN5@Fenrir_02L

; 3464 : 	{
; 3465 : 		iChaosTaxMoney = 0;

  0792c	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN5@Fenrir_02L:

; 3466 : 	}
; 3467 : 
; 3468 : 	nChaosNeedMoney += iChaosTaxMoney;

  07933	8b 45 c8	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  07936	03 45 c4	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  07939	89 45 c8	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], eax

; 3469 : 
; 3470 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  0793c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0793f	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  07945	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07948	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  0794e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07951	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 3471 : 	nChaosNeedMoney += lpObj->m_AddMixMoney;

  07957	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0795a	8b 4d c8	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  0795d	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  07963	89 4d c8	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 3472 : 
; 3473 : 	if ( nChaosNeedMoney < 0 )

  07966	79 07		 jns	 SHORT $LN4@Fenrir_02L

; 3474 : 	{
; 3475 : 		nChaosNeedMoney = 0;

  07968	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0
$LN4@Fenrir_02L:

; 3476 : 	}
; 3477 : 
; 3478 : 	if ( lpObj->Money < nChaosNeedMoney )

  0796f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07972	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  07978	3b 4d c8	 cmp	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  0797b	7d 2d		 jge	 SHORT $LN3@Fenrir_02L

; 3479 : 	{
; 3480 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  0797d	c6 45 d3 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 3481 : 		
; 3482 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  07981	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  07985	50		 push	 eax
  07986	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  07989	51		 push	 ecx
  0798a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0798d	8b 02		 mov	 eax, DWORD PTR [edx]
  0798f	50		 push	 eax
  07990	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  07995	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3483 : 		lpObj->ChaosLock = FALSE;

  07998	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0799b	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3484 : 
; 3485 : 		return;

  079a5	e9 7e 01 00 00	 jmp	 $LN21@Fenrir_02L
$LN3@Fenrir_02L:

; 3486 : 	}
; 3487 : 
; 3488 : 	lpObj->Money -= nChaosNeedMoney;

  079aa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  079ad	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  079b3	2b 4d c8	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  079b6	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  079b9	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 3489 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  079bf	8b 45 c4	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  079c2	50		 push	 eax
  079c3	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  079c8	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 3490 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  079cd	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  079d0	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  079d6	51		 push	 ecx
  079d7	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  079da	8b 02		 mov	 eax, DWORD PTR [edx]
  079dc	50		 push	 eax
  079dd	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  079e2	83 c4 08	 add	 esp, 8

; 3491 : 
; 3492 : 	if ( (rand()%100) < lpObj->ChaosSuccessRate )

  079e5	e8 00 00 00 00	 call	 _rand
  079ea	99		 cdq
  079eb	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  079f0	f7 f9		 idiv	 ecx
  079f2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  079f5	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  079fb	0f 8d a1 00 00
	00		 jge	 $LN2@Fenrir_02L

; 3493 : 	{
; 3494 : 		int type = ITEMGET(13,36);

  07a01	c7 45 c0 24 1a
	00 00		 mov	 DWORD PTR _type$236730[ebp], 6692 ; 00001a24H

; 3495 : 		int level = 0;

  07a08	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _level$236731[ebp], 0

; 3496 : 		int dur = 1;

  07a0f	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR _dur$236732[ebp], 1

; 3497 : 
; 3498 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, type , (BYTE)level, (BYTE)dur, 0, 0, 0, -1, 0, 0);

  07a16	6a 00		 push	 0
  07a18	6a 00		 push	 0
  07a1a	6a ff		 push	 -1
  07a1c	6a 00		 push	 0
  07a1e	6a 00		 push	 0
  07a20	6a 00		 push	 0
  07a22	0f b6 45 b8	 movzx	 eax, BYTE PTR _dur$236732[ebp]
  07a26	50		 push	 eax
  07a27	0f b6 4d bc	 movzx	 ecx, BYTE PTR _level$236731[ebp]
  07a2b	51		 push	 ecx
  07a2c	8b 55 c0	 mov	 edx, DWORD PTR _type$236730[ebp]
  07a2f	52		 push	 edx
  07a30	6a 00		 push	 0
  07a32	6a 00		 push	 0
  07a34	68 ff 00 00 00	 push	 255			; 000000ffH
  07a39	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07a3c	8b 08		 mov	 ecx, DWORD PTR [eax]
  07a3e	51		 push	 ecx
  07a3f	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  07a44	83 c4 34	 add	 esp, 52			; 00000034H

; 3499 : 		::gObjInventoryCommit(lpObj->m_Index);

  07a47	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07a4a	8b 08		 mov	 ecx, DWORD PTR [eax]
  07a4c	51		 push	 ecx
  07a4d	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  07a52	83 c4 04	 add	 esp, 4

; 3500 : 
; 3501 : 		LogAddTD("[Fenrir Mix][Level 02] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate : %d",
; 3502 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney,
; 3503 : 			iCharmOfLuckCount);

  07a55	8b 45 e0	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  07a58	50		 push	 eax
  07a59	8b 4d c8	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  07a5c	51		 push	 ecx
  07a5d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07a60	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  07a66	50		 push	 eax
  07a67	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07a6a	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  07a70	52		 push	 edx
  07a71	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07a74	83 c0 77	 add	 eax, 119		; 00000077H
  07a77	50		 push	 eax
  07a78	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07a7b	83 c1 6c	 add	 ecx, 108		; 0000006cH
  07a7e	51		 push	 ecx
  07a7f	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HFOGELBG@?$FLFenrir?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
  07a84	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  07a8a	83 c4 1c	 add	 esp, 28			; 0000001cH

; 3504 : #if(SYSTEM_ACHIEVEMENTS)
; 3505 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  07a8d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07a90	8b 08		 mov	 ecx, DWORD PTR [eax]
  07a92	51		 push	 ecx
  07a93	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  07a98	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 3506 : #endif
; 3507 : 	}
; 3508 : 	else

  07a9d	e9 86 00 00 00	 jmp	 $LN1@Fenrir_02L
$LN2@Fenrir_02L:

; 3509 : 	{
; 3510 : 		this->ChaosBoxInit(lpObj);

  07aa2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07aa5	50		 push	 eax
  07aa6	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  07aa9	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 3511 : 		::GCUserChaosBoxSend(lpObj, 0);

  07aae	6a 00		 push	 0
  07ab0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07ab3	50		 push	 eax
  07ab4	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  07ab9	83 c4 08	 add	 esp, 8

; 3512 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  07abc	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  07ac0	50		 push	 eax
  07ac1	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  07ac4	51		 push	 ecx
  07ac5	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07ac8	8b 02		 mov	 eax, DWORD PTR [edx]
  07aca	50		 push	 eax
  07acb	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  07ad0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3513 : 
; 3514 : 		LogAddTD("[Fenrir Mix][Level 02] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : %d",
; 3515 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney,
; 3516 : 			iCharmOfLuckCount);

  07ad3	8b 45 e0	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  07ad6	50		 push	 eax
  07ad7	8b 4d c8	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  07ada	51		 push	 ecx
  07adb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07ade	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  07ae4	50		 push	 eax
  07ae5	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07ae8	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  07aee	52		 push	 edx
  07aef	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07af2	83 c0 77	 add	 eax, 119		; 00000077H
  07af5	50		 push	 eax
  07af6	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07af9	83 c1 6c	 add	 ecx, 108		; 0000006cH
  07afc	51		 push	 ecx
  07afd	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@COLFGAOG@?$FLFenrir?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
  07b02	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  07b08	83 c4 1c	 add	 esp, 28			; 0000001cH

; 3517 : #if(SYSTEM_ACHIEVEMENTS)
; 3518 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  07b0b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07b0e	8b 08		 mov	 ecx, DWORD PTR [eax]
  07b10	51		 push	 ecx
  07b11	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  07b16	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix

; 3519 : #endif
; 3520 : 		lpObj->ChaosLock = FALSE;

  07b1b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07b1e	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN1@Fenrir_02L:
$LN21@Fenrir_02L:

; 3521 : 	}
; 3522 : }

  07b28	5f		 pop	 edi
  07b29	5e		 pop	 esi
  07b2a	5b		 pop	 ebx
  07b2b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  07b2e	33 cd		 xor	 ecx, ebp
  07b30	e8 00 00 00 00	 call	 @__security_check_cookie@4
  07b35	8b e5		 mov	 esp, ebp
  07b37	5d		 pop	 ebp
  07b38	c2 04 00	 ret	 4
?Fenrir_02Level_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::Fenrir_02Level_Mix
_TEXT	ENDS
PUBLIC	??_C@_0EM@DDCAHDDB@?$FLFenrir?5Mix?$FN?$FLLevel?503?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ ; `string'
PUBLIC	??_C@_0EP@BMKKEOOH@?$FLFenrir?5Mix?$FN?$FLLevel?503?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ ; `string'
PUBLIC	??_C@_0CH@CPJNIKAC@?$FLFenrir?5Mix?$FN?$FLLevel?503?$FN?5Chaos?5Mix@ ; `string'
PUBLIC	??_C@_0BD@FCLFBNN@Fenrir_03Level_Mix?$AA@	; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?Fenrir_03Level_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::Fenrir_03Level_Mix
EXTRN	?g_iFenrir_03Level_MixRate@@3HA:DWORD		; g_iFenrir_03Level_MixRate
;	COMDAT ??_C@_0EM@DDCAHDDB@?$FLFenrir?5Mix?$FN?$FLLevel?503?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
CONST	SEGMENT
??_C@_0EM@DDCAHDDB@?$FLFenrir?5Mix?$FN?$FLLevel?503?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ DB '['
	DB	'Fenrir Mix][Level 03] [%s][%s] CBMix Fail %d Money : %d-%d, C'
	DB	'harmRate : %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0EP@BMKKEOOH@?$FLFenrir?5Mix?$FN?$FLLevel?503?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
CONST	SEGMENT
??_C@_0EP@BMKKEOOH@?$FLFenrir?5Mix?$FN?$FLLevel?503?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ DB '['
	DB	'Fenrir Mix][Level 03] [%s][%s] CBMix Success %d Money : %d-%d'
	DB	', CharmRate : %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CH@CPJNIKAC@?$FLFenrir?5Mix?$FN?$FLLevel?503?$FN?5Chaos?5Mix@
CONST	SEGMENT
??_C@_0CH@CPJNIKAC@?$FLFenrir?5Mix?$FN?$FLLevel?503?$FN?5Chaos?5Mix@ DB '['
	DB	'Fenrir Mix][Level 03] Chaos Mix Start', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@FCLFBNN@Fenrir_03Level_Mix?$AA@
CONST	SEGMENT
??_C@_0BD@FCLFBNN@Fenrir_03Level_Mix?$AA@ DB 'Fenrir_03Level_Mix', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_op1$236787 = -76					; size = 4
_dur$236786 = -72					; size = 4
_level$236785 = -68					; size = 4
_type$236784 = -64					; size = 4
_iChaosTaxMoney$ = -60					; size = 4
_nChaosNeedMoney$ = -56					; size = 4
_n$236752 = -52						; size = 4
_pMsg$ = -48						; size = 16
_iCharmOfLuckCount$ = -32				; size = 4
_iChaosMoney$ = -28					; size = 4
_iInvalidItemCount$ = -24				; size = 4
_iChaosGemCount$ = -20					; size = 4
_iLifeGemCount$ = -16					; size = 4
_iStuffCount_01$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?Fenrir_03Level_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::Fenrir_03Level_Mix
; _this$ = ecx

; 3525 : {

  07b40	55		 push	 ebp
  07b41	8b ec		 mov	 ebp, esp
  07b43	81 ec 8c 00 00
	00		 sub	 esp, 140		; 0000008cH
  07b49	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  07b4e	33 c5		 xor	 eax, ebp
  07b50	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  07b53	53		 push	 ebx
  07b54	56		 push	 esi
  07b55	57		 push	 edi
  07b56	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 3526 : 	lpObj->ChaosLock = TRUE;

  07b59	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07b5c	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 3527 : 	int iStuffCount_01 = 0;

  07b66	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iStuffCount_01$[ebp], 0

; 3528 : 	int iLifeGemCount = 0;

  07b6d	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iLifeGemCount$[ebp], 0

; 3529 : 	int iChaosGemCount = 0;

  07b74	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iChaosGemCount$[ebp], 0

; 3530 : 	int iInvalidItemCount = 0;

  07b7b	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 3531 : 	int iChaosMoney = 0;

  07b82	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 0

; 3532 : 	int iCharmOfLuckCount = 0;

  07b89	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 3533 : 
; 3534 : 	PMSG_CHAOSMIXRESULT pMsg;
; 3535 : 
; 3536 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  07b90	6a 10		 push	 16			; 00000010H
  07b92	68 86 00 00 00	 push	 134			; 00000086H
  07b97	8d 45 d0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  07b9a	50		 push	 eax
  07b9b	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  07ba0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3537 : 	pMsg.Result = CB_ERROR;

  07ba3	c6 45 d3 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 3538 : 
; 3539 : 
; 3540 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  07ba7	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _n$236752[ebp], 0
  07bae	eb 09		 jmp	 SHORT $LN20@Fenrir_03L
$LN19@Fenrir_03L:
  07bb0	8b 45 cc	 mov	 eax, DWORD PTR _n$236752[ebp]
  07bb3	83 c0 01	 add	 eax, 1
  07bb6	89 45 cc	 mov	 DWORD PTR _n$236752[ebp], eax
$LN20@Fenrir_03L:
  07bb9	83 7d cc 20	 cmp	 DWORD PTR _n$236752[ebp], 32 ; 00000020H
  07bbd	0f 8d ed 00 00
	00		 jge	 $LN18@Fenrir_03L

; 3541 : 	{
; 3542 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  07bc3	8b 4d cc	 mov	 ecx, DWORD PTR _n$236752[ebp]
  07bc6	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  07bcc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07bcf	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  07bd5	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  07bda	83 f8 01	 cmp	 eax, 1
  07bdd	0f 85 c8 00 00
	00		 jne	 $LN9@Fenrir_03L

; 3543 : 		{
; 3544 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(13,36) )

  07be3	8b 45 cc	 mov	 eax, DWORD PTR _n$236752[ebp]
  07be6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  07bec	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07bef	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  07bf5	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  07bfa	3d 24 1a 00 00	 cmp	 eax, 6692		; 00001a24H
  07bff	75 0e		 jne	 SHORT $LN16@Fenrir_03L

; 3545 : 			{
; 3546 : 				iStuffCount_01 ++;

  07c01	8b 45 f4	 mov	 eax, DWORD PTR _iStuffCount_01$[ebp]
  07c04	83 c0 01	 add	 eax, 1
  07c07	89 45 f4	 mov	 DWORD PTR _iStuffCount_01$[ebp], eax
  07c0a	e9 9c 00 00 00	 jmp	 $LN9@Fenrir_03L
$LN16@Fenrir_03L:

; 3547 : 			}
; 3548 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,16) )

  07c0f	8b 45 cc	 mov	 eax, DWORD PTR _n$236752[ebp]
  07c12	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  07c18	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07c1b	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  07c21	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  07c26	3d 10 1c 00 00	 cmp	 eax, 7184		; 00001c10H
  07c2b	75 0b		 jne	 SHORT $LN14@Fenrir_03L

; 3549 : 			{
; 3550 : 				iLifeGemCount ++;

  07c2d	8b 45 f0	 mov	 eax, DWORD PTR _iLifeGemCount$[ebp]
  07c30	83 c0 01	 add	 eax, 1
  07c33	89 45 f0	 mov	 DWORD PTR _iLifeGemCount$[ebp], eax
  07c36	eb 73		 jmp	 SHORT $LN9@Fenrir_03L
$LN14@Fenrir_03L:

; 3551 : 			}
; 3552 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) )

  07c38	8b 45 cc	 mov	 eax, DWORD PTR _n$236752[ebp]
  07c3b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  07c41	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07c44	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  07c4a	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  07c4f	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  07c54	75 0b		 jne	 SHORT $LN12@Fenrir_03L

; 3553 : 			{
; 3554 : 				iChaosGemCount++;

  07c56	8b 45 ec	 mov	 eax, DWORD PTR _iChaosGemCount$[ebp]
  07c59	83 c0 01	 add	 eax, 1
  07c5c	89 45 ec	 mov	 DWORD PTR _iChaosGemCount$[ebp], eax
  07c5f	eb 4a		 jmp	 SHORT $LN9@Fenrir_03L
$LN12@Fenrir_03L:

; 3555 : 			}
; 3556 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )	// Charm Of Luck

  07c61	8b 45 cc	 mov	 eax, DWORD PTR _n$236752[ebp]
  07c64	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  07c6a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07c6d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  07c73	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  07c78	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  07c7d	75 23		 jne	 SHORT $LN10@Fenrir_03L

; 3557 : 			{
; 3558 : 				iCharmOfLuckCount += (int)lpObj->pChaosBox[n].m_Durability;

  07c7f	8b 45 cc	 mov	 eax, DWORD PTR _n$236752[ebp]
  07c82	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  07c88	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07c8b	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  07c91	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  07c95	e8 00 00 00 00	 call	 __ftol2_sse
  07c9a	03 45 e0	 add	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  07c9d	89 45 e0	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], eax

; 3559 : 			}
; 3560 : 			else

  07ca0	eb 09		 jmp	 SHORT $LN9@Fenrir_03L
$LN10@Fenrir_03L:

; 3561 : 			{
; 3562 : 				iInvalidItemCount++;

  07ca2	8b 45 e8	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  07ca5	83 c0 01	 add	 eax, 1
  07ca8	89 45 e8	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN9@Fenrir_03L:

; 3563 : 			}
; 3564 : 		}
; 3565 : 	}

  07cab	e9 00 ff ff ff	 jmp	 $LN19@Fenrir_03L
$LN18@Fenrir_03L:

; 3566 : 
; 3567 : 	if ( iStuffCount_01 != 1 || iLifeGemCount != 3 || iChaosGemCount != 1 || iInvalidItemCount > 0 )

  07cb0	83 7d f4 01	 cmp	 DWORD PTR _iStuffCount_01$[ebp], 1
  07cb4	75 12		 jne	 SHORT $LN7@Fenrir_03L
  07cb6	83 7d f0 03	 cmp	 DWORD PTR _iLifeGemCount$[ebp], 3
  07cba	75 0c		 jne	 SHORT $LN7@Fenrir_03L
  07cbc	83 7d ec 01	 cmp	 DWORD PTR _iChaosGemCount$[ebp], 1
  07cc0	75 06		 jne	 SHORT $LN7@Fenrir_03L
  07cc2	83 7d e8 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  07cc6	7e 29		 jle	 SHORT $LN8@Fenrir_03L
$LN7@Fenrir_03L:

; 3568 : 	{
; 3569 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  07cc8	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  07ccc	50		 push	 eax
  07ccd	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  07cd0	51		 push	 ecx
  07cd1	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07cd4	8b 02		 mov	 eax, DWORD PTR [edx]
  07cd6	50		 push	 eax
  07cd7	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  07cdc	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3570 : 		lpObj->ChaosLock = FALSE;

  07cdf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07ce2	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3571 : 
; 3572 : 		return;

  07cec	e9 b9 02 00 00	 jmp	 $LN21@Fenrir_03L
$LN8@Fenrir_03L:

; 3573 : 	}
; 3574 : 	
; 3575 : 	if ( iCharmOfLuckCount > 10 )

  07cf1	83 7d e0 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  07cf5	7e 2d		 jle	 SHORT $LN6@Fenrir_03L

; 3576 : 	{
; 3577 : 		pMsg.Result = 0xF0;

  07cf7	c6 45 d3 f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 3578 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  07cfb	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  07cff	50		 push	 eax
  07d00	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  07d03	51		 push	 ecx
  07d04	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07d07	8b 02		 mov	 eax, DWORD PTR [edx]
  07d09	50		 push	 eax
  07d0a	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  07d0f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3579 : 		lpObj->ChaosLock = FALSE;

  07d12	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07d15	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3580 : 
; 3581 : 		return;

  07d1f	e9 86 02 00 00	 jmp	 $LN21@Fenrir_03L
$LN6@Fenrir_03L:

; 3582 : 	}
; 3583 : 
; 3584 : 	LogChaosItem(lpObj, "Fenrir_03Level_Mix");

  07d24	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@FCLFBNN@Fenrir_03Level_Mix?$AA@
  07d29	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07d2c	50		 push	 eax
  07d2d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  07d30	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 3585 : 	LogAddTD("[Fenrir Mix][Level 03] Chaos Mix Start");

  07d35	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@CPJNIKAC@?$FLFenrir?5Mix?$FN?$FLLevel?503?$FN?5Chaos?5Mix@
  07d3a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  07d40	83 c4 04	 add	 esp, 4

; 3586 : 
; 3587 : 	lpObj->ChaosSuccessRate = g_iFenrir_03Level_MixRate;

  07d43	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07d46	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_iFenrir_03Level_MixRate@@3HA ; g_iFenrir_03Level_MixRate
  07d4c	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 3588 : 	lpObj->ChaosSuccessRate += iCharmOfLuckCount;

  07d52	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07d55	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  07d5b	03 4d e0	 add	 ecx, DWORD PTR _iCharmOfLuckCount$[ebp]
  07d5e	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07d61	89 8a 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], ecx

; 3589 : 	int nChaosNeedMoney = 10000000;

  07d67	c7 45 c8 80 96
	98 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 10000000 ; 00989680H

; 3590 : 
; 3591 : 	int iChaosTaxMoney = (int)((__int64)nChaosNeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  07d6e	8b 45 c8	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  07d71	99		 cdq
  07d72	8b f0		 mov	 esi, eax
  07d74	8b fa		 mov	 edi, edx
  07d76	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07d79	8b 08		 mov	 ecx, DWORD PTR [eax]
  07d7b	51		 push	 ecx
  07d7c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  07d81	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  07d86	99		 cdq
  07d87	52		 push	 edx
  07d88	50		 push	 eax
  07d89	57		 push	 edi
  07d8a	56		 push	 esi
  07d8b	e8 00 00 00 00	 call	 __allmul
  07d90	6a 00		 push	 0
  07d92	6a 64		 push	 100			; 00000064H
  07d94	52		 push	 edx
  07d95	50		 push	 eax
  07d96	e8 00 00 00 00	 call	 __alldiv
  07d9b	89 45 c4	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 3592 : 
; 3593 : 	if ( iChaosTaxMoney < 0 )

  07d9e	83 7d c4 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  07da2	7d 07		 jge	 SHORT $LN5@Fenrir_03L

; 3594 : 	{
; 3595 : 		iChaosTaxMoney = 0;

  07da4	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN5@Fenrir_03L:

; 3596 : 	}
; 3597 : 
; 3598 : 	nChaosNeedMoney += iChaosTaxMoney;

  07dab	8b 45 c8	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  07dae	03 45 c4	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  07db1	89 45 c8	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], eax

; 3599 : 
; 3600 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  07db4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07db7	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  07dbd	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07dc0	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  07dc6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07dc9	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 3601 : 	nChaosNeedMoney += lpObj->m_AddMixMoney;

  07dcf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07dd2	8b 4d c8	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  07dd5	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  07ddb	89 4d c8	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 3602 : 
; 3603 : 	if ( nChaosNeedMoney < 0 )

  07dde	79 07		 jns	 SHORT $LN4@Fenrir_03L

; 3604 : 	{
; 3605 : 		nChaosNeedMoney = 0;

  07de0	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0
$LN4@Fenrir_03L:

; 3606 : 	}
; 3607 : 
; 3608 : 	if ( lpObj->Money < nChaosNeedMoney )

  07de7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07dea	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  07df0	3b 4d c8	 cmp	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  07df3	7d 2d		 jge	 SHORT $LN3@Fenrir_03L

; 3609 : 	{
; 3610 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  07df5	c6 45 d3 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 3611 : 		
; 3612 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  07df9	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  07dfd	50		 push	 eax
  07dfe	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  07e01	51		 push	 ecx
  07e02	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07e05	8b 02		 mov	 eax, DWORD PTR [edx]
  07e07	50		 push	 eax
  07e08	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  07e0d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3613 : 		lpObj->ChaosLock = FALSE;

  07e10	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07e13	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3614 : 
; 3615 : 		return;

  07e1d	e9 88 01 00 00	 jmp	 $LN21@Fenrir_03L
$LN3@Fenrir_03L:

; 3616 : 	}
; 3617 : 
; 3618 : 	lpObj->Money -= nChaosNeedMoney;

  07e22	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07e25	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  07e2b	2b 4d c8	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  07e2e	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07e31	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 3619 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  07e37	8b 45 c4	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  07e3a	50		 push	 eax
  07e3b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  07e40	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 3620 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  07e45	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07e48	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  07e4e	51		 push	 ecx
  07e4f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07e52	8b 02		 mov	 eax, DWORD PTR [edx]
  07e54	50		 push	 eax
  07e55	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  07e5a	83 c4 08	 add	 esp, 8

; 3621 : 
; 3622 : 	if ( (rand()%100) < lpObj->ChaosSuccessRate )

  07e5d	e8 00 00 00 00	 call	 _rand
  07e62	99		 cdq
  07e63	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  07e68	f7 f9		 idiv	 ecx
  07e6a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07e6d	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  07e73	0f 8d ab 00 00
	00		 jge	 $LN2@Fenrir_03L

; 3623 : 	{
; 3624 : 		int type = ITEMGET(13,37);

  07e79	c7 45 c0 25 1a
	00 00		 mov	 DWORD PTR _type$236784[ebp], 6693 ; 00001a25H

; 3625 : 		int level = 0;

  07e80	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _level$236785[ebp], 0

; 3626 : 		int dur = 255;

  07e87	c7 45 b8 ff 00
	00 00		 mov	 DWORD PTR _dur$236786[ebp], 255 ; 000000ffH

; 3627 : 		int op1 = 1;

  07e8e	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR _op1$236787[ebp], 1

; 3628 : 
; 3629 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, type , (BYTE)level, (BYTE)dur, (BYTE)op1, 0, 0, -1, 0, 0);

  07e95	6a 00		 push	 0
  07e97	6a 00		 push	 0
  07e99	6a ff		 push	 -1
  07e9b	6a 00		 push	 0
  07e9d	6a 00		 push	 0
  07e9f	0f b6 45 b4	 movzx	 eax, BYTE PTR _op1$236787[ebp]
  07ea3	50		 push	 eax
  07ea4	0f b6 4d b8	 movzx	 ecx, BYTE PTR _dur$236786[ebp]
  07ea8	51		 push	 ecx
  07ea9	0f b6 55 bc	 movzx	 edx, BYTE PTR _level$236785[ebp]
  07ead	52		 push	 edx
  07eae	8b 45 c0	 mov	 eax, DWORD PTR _type$236784[ebp]
  07eb1	50		 push	 eax
  07eb2	6a 00		 push	 0
  07eb4	6a 00		 push	 0
  07eb6	68 ff 00 00 00	 push	 255			; 000000ffH
  07ebb	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07ebe	8b 11		 mov	 edx, DWORD PTR [ecx]
  07ec0	52		 push	 edx
  07ec1	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  07ec6	83 c4 34	 add	 esp, 52			; 00000034H

; 3630 : 		::gObjInventoryCommit(lpObj->m_Index);

  07ec9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07ecc	8b 08		 mov	 ecx, DWORD PTR [eax]
  07ece	51		 push	 ecx
  07ecf	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  07ed4	83 c4 04	 add	 esp, 4

; 3631 : 
; 3632 : 		LogAddTD("[Fenrir Mix][Level 03] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate : %d",
; 3633 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney,
; 3634 : 			iCharmOfLuckCount);

  07ed7	8b 45 e0	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  07eda	50		 push	 eax
  07edb	8b 4d c8	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  07ede	51		 push	 ecx
  07edf	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07ee2	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  07ee8	50		 push	 eax
  07ee9	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07eec	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  07ef2	52		 push	 edx
  07ef3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07ef6	83 c0 77	 add	 eax, 119		; 00000077H
  07ef9	50		 push	 eax
  07efa	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07efd	83 c1 6c	 add	 ecx, 108		; 0000006cH
  07f00	51		 push	 ecx
  07f01	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@BMKKEOOH@?$FLFenrir?5Mix?$FN?$FLLevel?503?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
  07f06	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  07f0c	83 c4 1c	 add	 esp, 28			; 0000001cH

; 3635 : #if(SYSTEM_ACHIEVEMENTS)
; 3636 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  07f0f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07f12	8b 08		 mov	 ecx, DWORD PTR [eax]
  07f14	51		 push	 ecx
  07f15	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  07f1a	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 3637 : #endif
; 3638 : 	}
; 3639 : 	else

  07f1f	e9 86 00 00 00	 jmp	 $LN1@Fenrir_03L
$LN2@Fenrir_03L:

; 3640 : 	{
; 3641 : 		this->ChaosBoxInit(lpObj);

  07f24	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07f27	50		 push	 eax
  07f28	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  07f2b	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 3642 : 		::GCUserChaosBoxSend(lpObj, 0);

  07f30	6a 00		 push	 0
  07f32	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07f35	50		 push	 eax
  07f36	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  07f3b	83 c4 08	 add	 esp, 8

; 3643 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  07f3e	0f b6 45 d1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  07f42	50		 push	 eax
  07f43	8d 4d d0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  07f46	51		 push	 ecx
  07f47	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07f4a	8b 02		 mov	 eax, DWORD PTR [edx]
  07f4c	50		 push	 eax
  07f4d	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  07f52	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3644 : 
; 3645 : 		LogAddTD("[Fenrir Mix][Level 03] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : %d",
; 3646 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney,
; 3647 : 			iCharmOfLuckCount);

  07f55	8b 45 e0	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  07f58	50		 push	 eax
  07f59	8b 4d c8	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  07f5c	51		 push	 ecx
  07f5d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  07f60	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  07f66	50		 push	 eax
  07f67	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07f6a	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  07f70	52		 push	 edx
  07f71	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07f74	83 c0 77	 add	 eax, 119		; 00000077H
  07f77	50		 push	 eax
  07f78	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  07f7b	83 c1 6c	 add	 ecx, 108		; 0000006cH
  07f7e	51		 push	 ecx
  07f7f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DDCAHDDB@?$FLFenrir?5Mix?$FN?$FLLevel?503?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
  07f84	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  07f8a	83 c4 1c	 add	 esp, 28			; 0000001cH

; 3648 : #if(SYSTEM_ACHIEVEMENTS)
; 3649 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  07f8d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07f90	8b 08		 mov	 ecx, DWORD PTR [eax]
  07f92	51		 push	 ecx
  07f93	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  07f98	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix

; 3650 : #endif
; 3651 : 		lpObj->ChaosLock = FALSE;

  07f9d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07fa0	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN1@Fenrir_03L:
$LN21@Fenrir_03L:

; 3652 : 	}
; 3653 : }

  07faa	5f		 pop	 edi
  07fab	5e		 pop	 esi
  07fac	5b		 pop	 ebx
  07fad	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  07fb0	33 cd		 xor	 ecx, ebp
  07fb2	e8 00 00 00 00	 call	 @__security_check_cookie@4
  07fb7	8b e5		 mov	 esp, ebp
  07fb9	5d		 pop	 ebp
  07fba	c2 04 00	 ret	 4
?Fenrir_03Level_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::Fenrir_03Level_Mix
_TEXT	ENDS
PUBLIC	??_C@_0EM@GDMLAIBE@?$FLFenrir?5Mix?$FN?$FLLevel?504?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ ; `string'
PUBLIC	??_C@_0EP@NJDPFBHB@?$FLFenrir?5Mix?$FN?$FLLevel?504?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ ; `string'
PUBLIC	??_C@_0CH@GFKDABEJ@?$FLFenrir?5Mix?$FN?$FLLevel?504?$FN?5Chaos?5Mix@ ; `string'
PUBLIC	??_C@_0BD@CMBAEEFO@Fenrir_04Level_Mix?$AA@	; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?Fenrir_04Upgrade_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::Fenrir_04Upgrade_Mix
;	COMDAT ??_C@_0EM@GDMLAIBE@?$FLFenrir?5Mix?$FN?$FLLevel?504?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
CONST	SEGMENT
??_C@_0EM@GDMLAIBE@?$FLFenrir?5Mix?$FN?$FLLevel?504?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ DB '['
	DB	'Fenrir Mix][Level 04] [%s][%s] CBMix Fail %d Money : %d-%d, C'
	DB	'harmRate : %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0EP@NJDPFBHB@?$FLFenrir?5Mix?$FN?$FLLevel?504?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
CONST	SEGMENT
??_C@_0EP@NJDPFBHB@?$FLFenrir?5Mix?$FN?$FLLevel?504?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@ DB '['
	DB	'Fenrir Mix][Level 04] [%s][%s] CBMix Success %d Money : %d-%d'
	DB	', CharmRate : %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CH@GFKDABEJ@?$FLFenrir?5Mix?$FN?$FLLevel?504?$FN?5Chaos?5Mix@
CONST	SEGMENT
??_C@_0CH@GFKDABEJ@?$FLFenrir?5Mix?$FN?$FLLevel?504?$FN?5Chaos?5Mix@ DB '['
	DB	'Fenrir Mix][Level 04] Chaos Mix Start', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@CMBAEEFO@Fenrir_04Level_Mix?$AA@
CONST	SEGMENT
??_C@_0BD@CMBAEEFO@Fenrir_04Level_Mix?$AA@ DB 'Fenrir_04Level_Mix', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_nop$236863 = -104					; size = 4
_op1$236862 = -100					; size = 4
_dur$236861 = -96					; size = 4
_level$236860 = -92					; size = 4
_type$236859 = -88					; size = 4
_iChaosTaxMoney$ = -84					; size = 4
_nChaosNeedMoney$ = -80					; size = 4
_n$236814 = -76						; size = 4
_pMsg$ = -72						; size = 16
_iCharmOfLuckCount$ = -56				; size = 4
_bFenrirDamageDec$ = -52				; size = 4
_bFenrirDamageInc$ = -48				; size = 4
_iChaosMoney$ = -44					; size = 4
_iInvalidItemCount$ = -40				; size = 4
_iDefendStuffPrice$ = -36				; size = 4
_iAttackStuffPrice$ = -32				; size = 4
_iDefendStuffCount$ = -28				; size = 4
_iAttackStuffCount$ = -24				; size = 4
_iChaosGemCount$ = -20					; size = 4
_iLifeGemCount$ = -16					; size = 4
_iStuffCount_01$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?Fenrir_04Upgrade_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::Fenrir_04Upgrade_Mix
; _this$ = ecx

; 3656 : {

  07fc0	55		 push	 ebp
  07fc1	8b ec		 mov	 ebp, esp
  07fc3	81 ec a8 00 00
	00		 sub	 esp, 168		; 000000a8H
  07fc9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  07fce	33 c5		 xor	 eax, ebp
  07fd0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  07fd3	53		 push	 ebx
  07fd4	56		 push	 esi
  07fd5	57		 push	 edi
  07fd6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 3657 : 	lpObj->ChaosLock = TRUE;

  07fd9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  07fdc	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 3658 : 	int iStuffCount_01 = 0;

  07fe6	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iStuffCount_01$[ebp], 0

; 3659 : 	int iLifeGemCount = 0;

  07fed	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iLifeGemCount$[ebp], 0

; 3660 : 	int iChaosGemCount = 0;

  07ff4	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iChaosGemCount$[ebp], 0

; 3661 : 	int iAttackStuffCount = 0;

  07ffb	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iAttackStuffCount$[ebp], 0

; 3662 : 	int iDefendStuffCount = 0;

  08002	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _iDefendStuffCount$[ebp], 0

; 3663 : 	int iAttackStuffPrice = 0;

  08009	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _iAttackStuffPrice$[ebp], 0

; 3664 : 	int iDefendStuffPrice = 0;

  08010	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _iDefendStuffPrice$[ebp], 0

; 3665 : 	int iInvalidItemCount = 0;

  08017	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 3666 : 	int iChaosMoney = 0;

  0801e	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 0

; 3667 : 	BOOL bFenrirDamageInc = FALSE;

  08025	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _bFenrirDamageInc$[ebp], 0

; 3668 : 	BOOL bFenrirDamageDec = FALSE;

  0802c	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _bFenrirDamageDec$[ebp], 0

; 3669 : 	int iCharmOfLuckCount = 0;

  08033	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 3670 : 
; 3671 : 	PMSG_CHAOSMIXRESULT pMsg;
; 3672 : 
; 3673 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0803a	6a 10		 push	 16			; 00000010H
  0803c	68 86 00 00 00	 push	 134			; 00000086H
  08041	8d 45 b8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  08044	50		 push	 eax
  08045	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0804a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3674 : 	pMsg.Result = CB_ERROR;

  0804d	c6 45 bb 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 3675 : 
; 3676 : 
; 3677 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  08051	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR _n$236814[ebp], 0
  08058	eb 09		 jmp	 SHORT $LN33@Fenrir_04U
$LN32@Fenrir_04U:
  0805a	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  0805d	83 c0 01	 add	 eax, 1
  08060	89 45 b4	 mov	 DWORD PTR _n$236814[ebp], eax
$LN33@Fenrir_04U:
  08063	83 7d b4 20	 cmp	 DWORD PTR _n$236814[ebp], 32 ; 00000020H
  08067	0f 8d 37 02 00
	00		 jge	 $LN31@Fenrir_04U

; 3678 : 	{
; 3679 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  0806d	8b 4d b4	 mov	 ecx, DWORD PTR _n$236814[ebp]
  08070	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  08076	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08079	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0807f	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  08084	83 f8 01	 cmp	 eax, 1
  08087	0f 85 12 02 00
	00		 jne	 $LN18@Fenrir_04U

; 3680 : 		{
; 3681 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(13,37) )

  0808d	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  08090	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  08096	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08099	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0809f	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  080a4	3d 25 1a 00 00	 cmp	 eax, 6693		; 00001a25H
  080a9	75 0e		 jne	 SHORT $LN29@Fenrir_04U

; 3682 : 			{
; 3683 : 				iStuffCount_01 ++;

  080ab	8b 45 f4	 mov	 eax, DWORD PTR _iStuffCount_01$[ebp]
  080ae	83 c0 01	 add	 eax, 1
  080b1	89 45 f4	 mov	 DWORD PTR _iStuffCount_01$[ebp], eax
  080b4	e9 e6 01 00 00	 jmp	 $LN18@Fenrir_04U
$LN29@Fenrir_04U:

; 3684 : 			}
; 3685 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,16) )

  080b9	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  080bc	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  080c2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  080c5	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  080cb	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  080d0	3d 10 1c 00 00	 cmp	 eax, 7184		; 00001c10H
  080d5	75 0e		 jne	 SHORT $LN27@Fenrir_04U

; 3686 : 			{
; 3687 : 				iLifeGemCount ++;

  080d7	8b 45 f0	 mov	 eax, DWORD PTR _iLifeGemCount$[ebp]
  080da	83 c0 01	 add	 eax, 1
  080dd	89 45 f0	 mov	 DWORD PTR _iLifeGemCount$[ebp], eax
  080e0	e9 ba 01 00 00	 jmp	 $LN18@Fenrir_04U
$LN27@Fenrir_04U:

; 3688 : 			}
; 3689 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) )

  080e5	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  080e8	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  080ee	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  080f1	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  080f7	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  080fc	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  08101	75 0e		 jne	 SHORT $LN25@Fenrir_04U

; 3690 : 			{
; 3691 : 				iChaosGemCount++;

  08103	8b 45 ec	 mov	 eax, DWORD PTR _iChaosGemCount$[ebp]
  08106	83 c0 01	 add	 eax, 1
  08109	89 45 ec	 mov	 DWORD PTR _iChaosGemCount$[ebp], eax

; 3692 : 			}
; 3693 : 			else if ( lpObj->pChaosBox[n].m_Type >= ITEMGET(0,0) &&

  0810c	e9 8e 01 00 00	 jmp	 $LN18@Fenrir_04U
$LN25@Fenrir_04U:

; 3694 : 					  lpObj->pChaosBox[n].m_Type < ITEMGET(6,0) &&
; 3695 : 					  lpObj->pChaosBox[n].m_Level >= 4 &&
; 3696 : 					  lpObj->pChaosBox[n].m_Option3 >= 1)

  08111	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  08114	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0811a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0811d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08123	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  08128	85 c0		 test	 eax, eax
  0812a	0f 8c 83 00 00
	00		 jl	 $LN23@Fenrir_04U
  08130	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  08133	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  08139	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0813c	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08142	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  08147	3d 00 0c 00 00	 cmp	 eax, 3072		; 00000c00H
  0814c	7d 65		 jge	 SHORT $LN23@Fenrir_04U
  0814e	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  08151	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  08157	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0815a	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08160	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  08165	83 f8 04	 cmp	 eax, 4
  08168	7c 49		 jl	 SHORT $LN23@Fenrir_04U
  0816a	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  0816d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  08173	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08176	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0817c	0f b6 84 02 96
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+150]
  08184	83 f8 01	 cmp	 eax, 1
  08187	7c 2a		 jl	 SHORT $LN23@Fenrir_04U

; 3697 : 			{
; 3698 : 				iAttackStuffCount++;

  08189	8b 45 e8	 mov	 eax, DWORD PTR _iAttackStuffCount$[ebp]
  0818c	83 c0 01	 add	 eax, 1
  0818f	89 45 e8	 mov	 DWORD PTR _iAttackStuffCount$[ebp], eax

; 3699 : 				iAttackStuffPrice += lpObj->pChaosBox[n].m_BuyMoney;

  08192	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  08195	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0819b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0819e	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  081a4	8b 4d e0	 mov	 ecx, DWORD PTR _iAttackStuffPrice$[ebp]
  081a7	03 4c 02 70	 add	 ecx, DWORD PTR [edx+eax+112]
  081ab	89 4d e0	 mov	 DWORD PTR _iAttackStuffPrice$[ebp], ecx

; 3700 : 			}
; 3701 : 			else if ( lpObj->pChaosBox[n].m_Type >= ITEMGET(6,0) &&

  081ae	e9 ec 00 00 00	 jmp	 $LN18@Fenrir_04U
$LN23@Fenrir_04U:

; 3702 : 					  lpObj->pChaosBox[n].m_Type < ITEMGET(12,0) &&
; 3703 : 					  lpObj->pChaosBox[n].m_Level >= 4 &&
; 3704 : 					  lpObj->pChaosBox[n].m_Option3 >= 1)

  081b3	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  081b6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  081bc	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  081bf	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  081c5	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  081ca	3d 00 0c 00 00	 cmp	 eax, 3072		; 00000c00H
  081cf	0f 8c 80 00 00
	00		 jl	 $LN21@Fenrir_04U
  081d5	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  081d8	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  081de	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  081e1	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  081e7	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  081ec	3d 00 18 00 00	 cmp	 eax, 6144		; 00001800H
  081f1	7d 62		 jge	 SHORT $LN21@Fenrir_04U
  081f3	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  081f6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  081fc	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  081ff	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08205	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  0820a	83 f8 04	 cmp	 eax, 4
  0820d	7c 46		 jl	 SHORT $LN21@Fenrir_04U
  0820f	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  08212	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  08218	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0821b	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08221	0f b6 84 02 96
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+150]
  08229	83 f8 01	 cmp	 eax, 1
  0822c	7c 27		 jl	 SHORT $LN21@Fenrir_04U

; 3705 : 			{
; 3706 : 				iDefendStuffCount++;

  0822e	8b 45 e4	 mov	 eax, DWORD PTR _iDefendStuffCount$[ebp]
  08231	83 c0 01	 add	 eax, 1
  08234	89 45 e4	 mov	 DWORD PTR _iDefendStuffCount$[ebp], eax

; 3707 : 				iDefendStuffPrice += lpObj->pChaosBox[n].m_BuyMoney;

  08237	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  0823a	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  08240	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08243	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08249	8b 4d dc	 mov	 ecx, DWORD PTR _iDefendStuffPrice$[ebp]
  0824c	03 4c 02 70	 add	 ecx, DWORD PTR [edx+eax+112]
  08250	89 4d dc	 mov	 DWORD PTR _iDefendStuffPrice$[ebp], ecx
  08253	eb 4a		 jmp	 SHORT $LN18@Fenrir_04U
$LN21@Fenrir_04U:

; 3708 : 			}
; 3709 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )

  08255	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  08258	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0825e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08261	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08267	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0826c	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  08271	75 23		 jne	 SHORT $LN19@Fenrir_04U

; 3710 : 			{
; 3711 : 				iCharmOfLuckCount += (int)lpObj->pChaosBox[n].m_Durability;

  08273	8b 45 b4	 mov	 eax, DWORD PTR _n$236814[ebp]
  08276	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0827c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0827f	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08285	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  08289	e8 00 00 00 00	 call	 __ftol2_sse
  0828e	03 45 c8	 add	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  08291	89 45 c8	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], eax

; 3712 : 			}
; 3713 : 			else

  08294	eb 09		 jmp	 SHORT $LN18@Fenrir_04U
$LN19@Fenrir_04U:

; 3714 : 			{
; 3715 : 				iInvalidItemCount++;

  08296	8b 45 d8	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  08299	83 c0 01	 add	 eax, 1
  0829c	89 45 d8	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN18@Fenrir_04U:

; 3716 : 			}
; 3717 : 		}
; 3718 : 	}

  0829f	e9 b6 fd ff ff	 jmp	 $LN32@Fenrir_04U
$LN31@Fenrir_04U:

; 3719 : 
; 3720 : 	if ( iStuffCount_01 != 1 || iLifeGemCount != 5 || iChaosGemCount != 1 || ( iAttackStuffCount == 0 && iDefendStuffCount == 0 ) || iInvalidItemCount > 0 )

  082a4	83 7d f4 01	 cmp	 DWORD PTR _iStuffCount_01$[ebp], 1
  082a8	75 1e		 jne	 SHORT $LN16@Fenrir_04U
  082aa	83 7d f0 05	 cmp	 DWORD PTR _iLifeGemCount$[ebp], 5
  082ae	75 18		 jne	 SHORT $LN16@Fenrir_04U
  082b0	83 7d ec 01	 cmp	 DWORD PTR _iChaosGemCount$[ebp], 1
  082b4	75 12		 jne	 SHORT $LN16@Fenrir_04U
  082b6	83 7d e8 00	 cmp	 DWORD PTR _iAttackStuffCount$[ebp], 0
  082ba	75 06		 jne	 SHORT $LN15@Fenrir_04U
  082bc	83 7d e4 00	 cmp	 DWORD PTR _iDefendStuffCount$[ebp], 0
  082c0	74 06		 je	 SHORT $LN16@Fenrir_04U
$LN15@Fenrir_04U:
  082c2	83 7d d8 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  082c6	7e 29		 jle	 SHORT $LN17@Fenrir_04U
$LN16@Fenrir_04U:

; 3721 : 	{
; 3722 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  082c8	0f b6 45 b9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  082cc	50		 push	 eax
  082cd	8d 4d b8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  082d0	51		 push	 ecx
  082d1	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  082d4	8b 02		 mov	 eax, DWORD PTR [edx]
  082d6	50		 push	 eax
  082d7	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  082dc	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3723 : 		lpObj->ChaosLock = FALSE;

  082df	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  082e2	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3724 : 
; 3725 : 		return;

  082ec	e9 a2 03 00 00	 jmp	 $LN34@Fenrir_04U
$LN17@Fenrir_04U:

; 3726 : 	}
; 3727 : 	
; 3728 : 	if ( iCharmOfLuckCount > 10 )

  082f1	83 7d c8 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  082f5	7e 2d		 jle	 SHORT $LN14@Fenrir_04U

; 3729 : 	{
; 3730 : 		pMsg.Result = 0xF0;

  082f7	c6 45 bb f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 3731 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  082fb	0f b6 45 b9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  082ff	50		 push	 eax
  08300	8d 4d b8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  08303	51		 push	 ecx
  08304	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08307	8b 02		 mov	 eax, DWORD PTR [edx]
  08309	50		 push	 eax
  0830a	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0830f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3732 : 		lpObj->ChaosLock = FALSE;

  08312	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08315	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3733 : 
; 3734 : 		return;

  0831f	e9 6f 03 00 00	 jmp	 $LN34@Fenrir_04U
$LN14@Fenrir_04U:

; 3735 : 	}
; 3736 : 
; 3737 : 	if ( iAttackStuffCount > 0 )

  08324	83 7d e8 00	 cmp	 DWORD PTR _iAttackStuffCount$[ebp], 0
  08328	7e 0d		 jle	 SHORT $LN13@Fenrir_04U

; 3738 : 	{
; 3739 : 		bFenrirDamageInc = TRUE;

  0832a	c7 45 d0 01 00
	00 00		 mov	 DWORD PTR _bFenrirDamageInc$[ebp], 1

; 3740 : 		iChaosMoney = iAttackStuffPrice;

  08331	8b 45 e0	 mov	 eax, DWORD PTR _iAttackStuffPrice$[ebp]
  08334	89 45 d4	 mov	 DWORD PTR _iChaosMoney$[ebp], eax
$LN13@Fenrir_04U:

; 3741 : 	}
; 3742 : 
; 3743 : 	if ( iDefendStuffCount > 0 )

  08337	83 7d e4 00	 cmp	 DWORD PTR _iDefendStuffCount$[ebp], 0
  0833b	7e 0d		 jle	 SHORT $LN12@Fenrir_04U

; 3744 : 	{
; 3745 : 		bFenrirDamageDec = TRUE;

  0833d	c7 45 cc 01 00
	00 00		 mov	 DWORD PTR _bFenrirDamageDec$[ebp], 1

; 3746 : 		iChaosMoney = iDefendStuffPrice;

  08344	8b 45 dc	 mov	 eax, DWORD PTR _iDefendStuffPrice$[ebp]
  08347	89 45 d4	 mov	 DWORD PTR _iChaosMoney$[ebp], eax
$LN12@Fenrir_04U:

; 3747 : 	}
; 3748 : 
; 3749 : 	if ( bFenrirDamageInc && bFenrirDamageDec )

  0834a	83 7d d0 00	 cmp	 DWORD PTR _bFenrirDamageInc$[ebp], 0
  0834e	74 2f		 je	 SHORT $LN11@Fenrir_04U
  08350	83 7d cc 00	 cmp	 DWORD PTR _bFenrirDamageDec$[ebp], 0
  08354	74 29		 je	 SHORT $LN11@Fenrir_04U

; 3750 : 	{
; 3751 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  08356	0f b6 45 b9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0835a	50		 push	 eax
  0835b	8d 4d b8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0835e	51		 push	 ecx
  0835f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08362	8b 02		 mov	 eax, DWORD PTR [edx]
  08364	50		 push	 eax
  08365	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0836a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3752 : 		lpObj->ChaosLock = FALSE;

  0836d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08370	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3753 : 
; 3754 : 		return;

  0837a	e9 14 03 00 00	 jmp	 $LN34@Fenrir_04U
$LN11@Fenrir_04U:

; 3755 : 	}
; 3756 : 
; 3757 : 	if ( !bFenrirDamageInc && !bFenrirDamageDec )

  0837f	83 7d d0 00	 cmp	 DWORD PTR _bFenrirDamageInc$[ebp], 0
  08383	75 2f		 jne	 SHORT $LN10@Fenrir_04U
  08385	83 7d cc 00	 cmp	 DWORD PTR _bFenrirDamageDec$[ebp], 0
  08389	75 29		 jne	 SHORT $LN10@Fenrir_04U

; 3758 : 	{
; 3759 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0838b	0f b6 45 b9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0838f	50		 push	 eax
  08390	8d 4d b8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  08393	51		 push	 ecx
  08394	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08397	8b 02		 mov	 eax, DWORD PTR [edx]
  08399	50		 push	 eax
  0839a	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0839f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3760 : 		lpObj->ChaosLock = FALSE;

  083a2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  083a5	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3761 : 
; 3762 : 		return;

  083af	e9 df 02 00 00	 jmp	 $LN34@Fenrir_04U
$LN10@Fenrir_04U:

; 3763 : 	}
; 3764 : 
; 3765 : 	LogChaosItem(lpObj, "Fenrir_04Level_Mix");

  083b4	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@CMBAEEFO@Fenrir_04Level_Mix?$AA@
  083b9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  083bc	50		 push	 eax
  083bd	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  083c0	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 3766 : 	LogAddTD("[Fenrir Mix][Level 04] Chaos Mix Start");

  083c5	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@GFKDABEJ@?$FLFenrir?5Mix?$FN?$FLLevel?504?$FN?5Chaos?5Mix@
  083ca	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  083d0	83 c4 04	 add	 esp, 4

; 3767 : 
; 3768 : 	int nChaosNeedMoney = 10000000;

  083d3	c7 45 b0 80 96
	98 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 10000000 ; 00989680H

; 3769 : 
; 3770 : 	int iChaosTaxMoney = (int)((__int64)nChaosNeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  083da	8b 45 b0	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  083dd	99		 cdq
  083de	8b f0		 mov	 esi, eax
  083e0	8b fa		 mov	 edi, edx
  083e2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  083e5	8b 08		 mov	 ecx, DWORD PTR [eax]
  083e7	51		 push	 ecx
  083e8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  083ed	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  083f2	99		 cdq
  083f3	52		 push	 edx
  083f4	50		 push	 eax
  083f5	57		 push	 edi
  083f6	56		 push	 esi
  083f7	e8 00 00 00 00	 call	 __allmul
  083fc	6a 00		 push	 0
  083fe	6a 64		 push	 100			; 00000064H
  08400	52		 push	 edx
  08401	50		 push	 eax
  08402	e8 00 00 00 00	 call	 __alldiv
  08407	89 45 ac	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 3771 : 
; 3772 : 	if ( iChaosTaxMoney < 0 )

  0840a	83 7d ac 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  0840e	7d 07		 jge	 SHORT $LN9@Fenrir_04U

; 3773 : 	{
; 3774 : 		iChaosTaxMoney = 0;

  08410	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN9@Fenrir_04U:

; 3775 : 	}
; 3776 : 
; 3777 : 	nChaosNeedMoney += iChaosTaxMoney;

  08417	8b 45 b0	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  0841a	03 45 ac	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0841d	89 45 b0	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], eax

; 3778 : 
; 3779 : 	nChaosNeedMoney += lpObj->m_AddMixMoney;

  08420	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08423	8b 4d b0	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  08426	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  0842c	89 4d b0	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 3780 : 
; 3781 : 	if ( nChaosNeedMoney < 0 )

  0842f	79 07		 jns	 SHORT $LN8@Fenrir_04U

; 3782 : 	{
; 3783 : 		nChaosNeedMoney = 0;

  08431	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _nChaosNeedMoney$[ebp], 0
$LN8@Fenrir_04U:

; 3784 : 	}
; 3785 : 
; 3786 : 	if ( lpObj->Money < nChaosNeedMoney )

  08438	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0843b	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  08441	3b 4d b0	 cmp	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  08444	7d 2d		 jge	 SHORT $LN7@Fenrir_04U

; 3787 : 	{
; 3788 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  08446	c6 45 bb 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 3789 : 		
; 3790 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0844a	0f b6 45 b9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0844e	50		 push	 eax
  0844f	8d 4d b8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  08452	51		 push	 ecx
  08453	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08456	8b 02		 mov	 eax, DWORD PTR [edx]
  08458	50		 push	 eax
  08459	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0845e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3791 : 		lpObj->ChaosLock = FALSE;

  08461	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08464	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3792 : 
; 3793 : 		return;

  0846e	e9 20 02 00 00	 jmp	 $LN34@Fenrir_04U
$LN7@Fenrir_04U:

; 3794 : 	}
; 3795 : 
; 3796 : 	lpObj->Money -= nChaosNeedMoney;

  08473	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08476	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0847c	2b 4d b0	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  0847f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08482	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 3797 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  08488	8b 45 ac	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0848b	50		 push	 eax
  0848c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  08491	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 3798 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  08496	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08499	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0849f	51		 push	 ecx
  084a0	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  084a3	8b 02		 mov	 eax, DWORD PTR [edx]
  084a5	50		 push	 eax
  084a6	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  084ab	83 c4 08	 add	 esp, 8

; 3799 : 
; 3800 : 	if ( iChaosMoney > 1000000 )

  084ae	81 7d d4 40 42
	0f 00		 cmp	 DWORD PTR _iChaosMoney$[ebp], 1000000 ; 000f4240H
  084b5	7e 07		 jle	 SHORT $LN6@Fenrir_04U

; 3801 : 		iChaosMoney = 1000000;

  084b7	c7 45 d4 40 42
	0f 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 1000000 ; 000f4240H
$LN6@Fenrir_04U:

; 3802 : 
; 3803 : 	lpObj->ChaosSuccessRate = iChaosMoney * 100 / 1000000;

  084be	8b 45 d4	 mov	 eax, DWORD PTR _iChaosMoney$[ebp]
  084c1	6b c0 64	 imul	 eax, 100		; 00000064H
  084c4	99		 cdq
  084c5	b9 40 42 0f 00	 mov	 ecx, 1000000		; 000f4240H
  084ca	f7 f9		 idiv	 ecx
  084cc	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  084cf	89 82 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], eax

; 3804 : 
; 3805 : 	if ( lpObj->ChaosSuccessRate > 79 )

  084d5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  084d8	83 b8 84 0e 00
	00 4f		 cmp	 DWORD PTR [eax+3716], 79 ; 0000004fH
  084df	7e 0d		 jle	 SHORT $LN5@Fenrir_04U

; 3806 : 		lpObj->ChaosSuccessRate = 79;

  084e1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  084e4	c7 80 84 0e 00
	00 4f 00 00 00	 mov	 DWORD PTR [eax+3716], 79 ; 0000004fH
$LN5@Fenrir_04U:

; 3807 : 
; 3808 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  084ee	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  084f1	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  084f7	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  084fa	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  08500	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08503	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 3809 : 
; 3810 : 	lpObj->ChaosSuccessRate += iCharmOfLuckCount;

  08509	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0850c	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  08512	03 4d c8	 add	 ecx, DWORD PTR _iCharmOfLuckCount$[ebp]
  08515	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08518	89 8a 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], ecx

; 3811 : 
; 3812 : 	if ( (rand()%100) < lpObj->ChaosSuccessRate )

  0851e	e8 00 00 00 00	 call	 _rand
  08523	99		 cdq
  08524	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  08529	f7 f9		 idiv	 ecx
  0852b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0852e	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  08534	0f 8d d3 00 00
	00		 jge	 $LN4@Fenrir_04U

; 3813 : 	{
; 3814 : 		int type = ITEMGET(13,37);

  0853a	c7 45 a8 25 1a
	00 00		 mov	 DWORD PTR _type$236859[ebp], 6693 ; 00001a25H

; 3815 : 		int level = 0;

  08541	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _level$236860[ebp], 0

; 3816 : 		int dur = 255;

  08548	c7 45 a0 ff 00
	00 00		 mov	 DWORD PTR _dur$236861[ebp], 255 ; 000000ffH

; 3817 : 		int op1 = 1;

  0854f	c7 45 9c 01 00
	00 00		 mov	 DWORD PTR _op1$236862[ebp], 1

; 3818 : 		int nop = 0;

  08556	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _nop$236863[ebp], 0

; 3819 : 
; 3820 : 		if ( bFenrirDamageInc )

  0855d	83 7d d0 00	 cmp	 DWORD PTR _bFenrirDamageInc$[ebp], 0
  08561	74 09		 je	 SHORT $LN3@Fenrir_04U

; 3821 : 		{
; 3822 : 			nop |= 1;

  08563	8b 45 98	 mov	 eax, DWORD PTR _nop$236863[ebp]
  08566	83 c8 01	 or	 eax, 1
  08569	89 45 98	 mov	 DWORD PTR _nop$236863[ebp], eax
$LN3@Fenrir_04U:

; 3823 : 		}
; 3824 : 
; 3825 : 		if ( bFenrirDamageDec )

  0856c	83 7d cc 00	 cmp	 DWORD PTR _bFenrirDamageDec$[ebp], 0
  08570	74 09		 je	 SHORT $LN2@Fenrir_04U

; 3826 : 		{
; 3827 : 			nop |= 2;

  08572	8b 45 98	 mov	 eax, DWORD PTR _nop$236863[ebp]
  08575	83 c8 02	 or	 eax, 2
  08578	89 45 98	 mov	 DWORD PTR _nop$236863[ebp], eax
$LN2@Fenrir_04U:

; 3828 : 		}
; 3829 : 
; 3830 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, type , (BYTE)level, (BYTE)dur, (BYTE)op1, 0, 0, -1, (BYTE)nop, 0);

  0857b	6a 00		 push	 0
  0857d	0f b6 45 98	 movzx	 eax, BYTE PTR _nop$236863[ebp]
  08581	50		 push	 eax
  08582	6a ff		 push	 -1
  08584	6a 00		 push	 0
  08586	6a 00		 push	 0
  08588	0f b6 4d 9c	 movzx	 ecx, BYTE PTR _op1$236862[ebp]
  0858c	51		 push	 ecx
  0858d	0f b6 55 a0	 movzx	 edx, BYTE PTR _dur$236861[ebp]
  08591	52		 push	 edx
  08592	0f b6 45 a4	 movzx	 eax, BYTE PTR _level$236860[ebp]
  08596	50		 push	 eax
  08597	8b 4d a8	 mov	 ecx, DWORD PTR _type$236859[ebp]
  0859a	51		 push	 ecx
  0859b	6a 00		 push	 0
  0859d	6a 00		 push	 0
  0859f	68 ff 00 00 00	 push	 255			; 000000ffH
  085a4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  085a7	8b 02		 mov	 eax, DWORD PTR [edx]
  085a9	50		 push	 eax
  085aa	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  085af	83 c4 34	 add	 esp, 52			; 00000034H

; 3831 : 		::gObjInventoryCommit(lpObj->m_Index);

  085b2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  085b5	8b 08		 mov	 ecx, DWORD PTR [eax]
  085b7	51		 push	 ecx
  085b8	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  085bd	83 c4 04	 add	 esp, 4

; 3832 : 
; 3833 : 		LogAddTD("[Fenrir Mix][Level 04] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate : %d",
; 3834 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney,
; 3835 : 			iCharmOfLuckCount);

  085c0	8b 45 c8	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  085c3	50		 push	 eax
  085c4	8b 4d b0	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  085c7	51		 push	 ecx
  085c8	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  085cb	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  085d1	50		 push	 eax
  085d2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  085d5	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  085db	52		 push	 edx
  085dc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  085df	83 c0 77	 add	 eax, 119		; 00000077H
  085e2	50		 push	 eax
  085e3	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  085e6	83 c1 6c	 add	 ecx, 108		; 0000006cH
  085e9	51		 push	 ecx
  085ea	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@NJDPFBHB@?$FLFenrir?5Mix?$FN?$FLLevel?504?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
  085ef	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  085f5	83 c4 1c	 add	 esp, 28			; 0000001cH

; 3836 : #if(SYSTEM_ACHIEVEMENTS)
; 3837 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  085f8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  085fb	8b 08		 mov	 ecx, DWORD PTR [eax]
  085fd	51		 push	 ecx
  085fe	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  08603	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 3838 : #endif
; 3839 : 	}
; 3840 : 	else

  08608	e9 86 00 00 00	 jmp	 $LN1@Fenrir_04U
$LN4@Fenrir_04U:

; 3841 : 	{
; 3842 : 		this->ChaosBoxInit(lpObj);

  0860d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08610	50		 push	 eax
  08611	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  08614	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 3843 : 		::GCUserChaosBoxSend(lpObj, 0);

  08619	6a 00		 push	 0
  0861b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0861e	50		 push	 eax
  0861f	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  08624	83 c4 08	 add	 esp, 8

; 3844 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  08627	0f b6 45 b9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0862b	50		 push	 eax
  0862c	8d 4d b8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0862f	51		 push	 ecx
  08630	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08633	8b 02		 mov	 eax, DWORD PTR [edx]
  08635	50		 push	 eax
  08636	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0863b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3845 : 
; 3846 : 		LogAddTD("[Fenrir Mix][Level 04] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : %d",
; 3847 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, nChaosNeedMoney,
; 3848 : 			iCharmOfLuckCount);

  0863e	8b 45 c8	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  08641	50		 push	 eax
  08642	8b 4d b0	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  08645	51		 push	 ecx
  08646	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08649	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  0864f	50		 push	 eax
  08650	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08653	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  08659	52		 push	 edx
  0865a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0865d	83 c0 77	 add	 eax, 119		; 00000077H
  08660	50		 push	 eax
  08661	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08664	83 c1 6c	 add	 ecx, 108		; 0000006cH
  08667	51		 push	 ecx
  08668	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@GDMLAIBE@?$FLFenrir?5Mix?$FN?$FLLevel?504?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5@
  0866d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  08673	83 c4 1c	 add	 esp, 28			; 0000001cH

; 3849 : #if(SYSTEM_ACHIEVEMENTS)
; 3850 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  08676	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08679	8b 08		 mov	 ecx, DWORD PTR [eax]
  0867b	51		 push	 ecx
  0867c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  08681	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix

; 3851 : #endif
; 3852 : 		lpObj->ChaosLock = FALSE;

  08686	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08689	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN1@Fenrir_04U:
$LN34@Fenrir_04U:

; 3853 : 	}
; 3854 : }

  08693	5f		 pop	 edi
  08694	5e		 pop	 esi
  08695	5b		 pop	 ebx
  08696	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  08699	33 cd		 xor	 ecx, ebp
  0869b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  086a0	8b e5		 mov	 esp, ebp
  086a2	5d		 pop	 ebp
  086a3	c2 04 00	 ret	 4
?Fenrir_04Upgrade_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::Fenrir_04Upgrade_Mix
_TEXT	ENDS
PUBLIC	??_C@_0FO@MOBDMAKD@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv1?5Po@ ; `string'
PUBLIC	??_C@_0FI@CLIKDBCN@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv1?5Po@ ; `string'
PUBLIC	??_C@_0CO@IFFECFCD@?$FLPotionMix?$FN?$FLShieldPotion?5Lv1?5Mix@ ; `string'
PUBLIC	??_C@_0CA@MBDGDKKM@PotionMix?$FN?$FLShieldPotion?5Lv1?5Mix?$AA@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?ShieldPotionLv1_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::ShieldPotionLv1_Mix
EXTRN	?g_iShieldPotionLv1MixSuccessRate@@3HA:DWORD	; g_iShieldPotionLv1MixSuccessRate
EXTRN	?g_iShieldPotionLv1MixMoney@@3HA:DWORD		; g_iShieldPotionLv1MixMoney
EXTRN	?g_ShieldSystemOn@@3HA:DWORD			; g_ShieldSystemOn
;	COMDAT ??_C@_0FO@MOBDMAKD@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv1?5Po@
CONST	SEGMENT
??_C@_0FO@MOBDMAKD@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv1?5Po@ DB '['
	DB	'ChaosMix][Shield Potion] Lv1 Potion Mix [%s][%s] CBMix Fail %'
	DB	'd Money : %d-%d, CharmRate : %d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0FI@CLIKDBCN@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv1?5Po@
CONST	SEGMENT
??_C@_0FI@CLIKDBCN@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv1?5Po@ DB '['
	DB	'ChaosMix][Shield Potion] Lv1 Potion Mix Success [%s][%s], Mon'
	DB	'ey(%d-%d), CharmRate : %d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CO@IFFECFCD@?$FLPotionMix?$FN?$FLShieldPotion?5Lv1?5Mix@
CONST	SEGMENT
??_C@_0CO@IFFECFCD@?$FLPotionMix?$FN?$FLShieldPotion?5Lv1?5Mix@ DB '[Poti'
	DB	'onMix][ShieldPotion Lv1 Mix] - Mix Start', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CA@MBDGDKKM@PotionMix?$FN?$FLShieldPotion?5Lv1?5Mix?$AA@
CONST	SEGMENT
??_C@_0CA@MBDGDKKM@PotionMix?$FN?$FLShieldPotion?5Lv1?5Mix?$AA@ DB 'Potio'
	DB	'nMix][ShieldPotion Lv1 Mix', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_ItemNum$236911 = -56					; size = 4
_iRate$ = -52						; size = 4
_iChaosTaxMoney$ = -48					; size = 4
_n$236886 = -44						; size = 4
_pMsg$ = -40						; size = 16
_iCharmOfLuckCount$ = -24				; size = 4
_iChaosMixPrice$ = -20					; size = 4
_iInvalidItemCount$ = -16				; size = 4
_iHealthPotionCount$ = -12				; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?ShieldPotionLv1_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::ShieldPotionLv1_Mix
; _this$ = ecx

; 3857 : {

  086b0	55		 push	 ebp
  086b1	8b ec		 mov	 ebp, esp
  086b3	83 ec 78	 sub	 esp, 120		; 00000078H
  086b6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  086bb	33 c5		 xor	 eax, ebp
  086bd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  086c0	53		 push	 ebx
  086c1	56		 push	 esi
  086c2	57		 push	 edi
  086c3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 3858 : 	int iHealthPotionCount = 0;

  086c6	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iHealthPotionCount$[ebp], 0

; 3859 : 	int iInvalidItemCount = 0;

  086cd	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 3860 : 	int iChaosMixPrice = 0;

  086d4	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iChaosMixPrice$[ebp], 0

; 3861 : 	int iCharmOfLuckCount = 0;

  086db	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 3862 : 
; 3863 : 	if ( g_ShieldSystemOn == FALSE )

  086e2	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_ShieldSystemOn@@3HA, 0 ; g_ShieldSystemOn
  086e9	75 05		 jne	 SHORT $LN17@ShieldPoti

; 3864 : 		return;

  086eb	e9 55 03 00 00	 jmp	 $LN18@ShieldPoti
$LN17@ShieldPoti:

; 3865 : 
; 3866 : 	PMSG_CHAOSMIXRESULT pMsg;
; 3867 : 
; 3868 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  086f0	6a 10		 push	 16			; 00000010H
  086f2	68 86 00 00 00	 push	 134			; 00000086H
  086f7	8d 45 d8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  086fa	50		 push	 eax
  086fb	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  08700	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3869 : 	pMsg.Result = CB_ERROR;

  08703	c6 45 db 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 3870 : 
; 3871 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  08707	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _n$236886[ebp], 0
  0870e	eb 09		 jmp	 SHORT $LN16@ShieldPoti
$LN15@ShieldPoti:
  08710	8b 45 d4	 mov	 eax, DWORD PTR _n$236886[ebp]
  08713	83 c0 01	 add	 eax, 1
  08716	89 45 d4	 mov	 DWORD PTR _n$236886[ebp], eax
$LN16@ShieldPoti:
  08719	83 7d d4 20	 cmp	 DWORD PTR _n$236886[ebp], 32 ; 00000020H
  0871d	0f 8d b0 00 00
	00		 jge	 $LN14@ShieldPoti

; 3872 : 	{
; 3873 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  08723	8b 4d d4	 mov	 ecx, DWORD PTR _n$236886[ebp]
  08726	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0872c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0872f	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  08735	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0873a	83 f8 01	 cmp	 eax, 1
  0873d	0f 85 8b 00 00
	00		 jne	 $LN9@ShieldPoti

; 3874 : 		{
; 3875 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,3) )

  08743	8b 45 d4	 mov	 eax, DWORD PTR _n$236886[ebp]
  08746	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0874c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0874f	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08755	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0875a	3d 03 1c 00 00	 cmp	 eax, 7171		; 00001c03H
  0875f	75 23		 jne	 SHORT $LN12@ShieldPoti

; 3876 : 			{
; 3877 : 				iHealthPotionCount+=(int)lpObj->pChaosBox[n].m_Durability;

  08761	8b 45 d4	 mov	 eax, DWORD PTR _n$236886[ebp]
  08764	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0876a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0876d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08773	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  08777	e8 00 00 00 00	 call	 __ftol2_sse
  0877c	03 45 f4	 add	 eax, DWORD PTR _iHealthPotionCount$[ebp]
  0877f	89 45 f4	 mov	 DWORD PTR _iHealthPotionCount$[ebp], eax
  08782	eb 4a		 jmp	 SHORT $LN9@ShieldPoti
$LN12@ShieldPoti:

; 3878 : 			}
; 3879 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )	// Charm Of Luck

  08784	8b 45 d4	 mov	 eax, DWORD PTR _n$236886[ebp]
  08787	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0878d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08790	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08796	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0879b	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  087a0	75 23		 jne	 SHORT $LN10@ShieldPoti

; 3880 : 			{
; 3881 : 				iCharmOfLuckCount += (int)lpObj->pChaosBox[n].m_Durability;

  087a2	8b 45 d4	 mov	 eax, DWORD PTR _n$236886[ebp]
  087a5	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  087ab	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  087ae	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  087b4	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  087b8	e8 00 00 00 00	 call	 __ftol2_sse
  087bd	03 45 e8	 add	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  087c0	89 45 e8	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], eax

; 3882 : 			}
; 3883 : 			else

  087c3	eb 09		 jmp	 SHORT $LN9@ShieldPoti
$LN10@ShieldPoti:

; 3884 : 			{
; 3885 : 				iInvalidItemCount++;

  087c5	8b 45 f0	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  087c8	83 c0 01	 add	 eax, 1
  087cb	89 45 f0	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN9@ShieldPoti:

; 3886 : 			}
; 3887 : 		}
; 3888 : 	}

  087ce	e9 3d ff ff ff	 jmp	 $LN15@ShieldPoti
$LN14@ShieldPoti:

; 3889 : 
; 3890 : 	if ( iInvalidItemCount > 0 || iHealthPotionCount != 3 )

  087d3	83 7d f0 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  087d7	7f 06		 jg	 SHORT $LN7@ShieldPoti
  087d9	83 7d f4 03	 cmp	 DWORD PTR _iHealthPotionCount$[ebp], 3
  087dd	74 29		 je	 SHORT $LN8@ShieldPoti
$LN7@ShieldPoti:

; 3891 : 	{
; 3892 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  087df	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  087e3	50		 push	 eax
  087e4	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  087e7	51		 push	 ecx
  087e8	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  087eb	8b 02		 mov	 eax, DWORD PTR [edx]
  087ed	50		 push	 eax
  087ee	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  087f3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3893 : 		lpObj->ChaosLock = FALSE;

  087f6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  087f9	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3894 : 
; 3895 : 		return;

  08803	e9 3d 02 00 00	 jmp	 $LN18@ShieldPoti
$LN8@ShieldPoti:

; 3896 : 	}
; 3897 : 
; 3898 : 	if ( iCharmOfLuckCount > 10 )

  08808	83 7d e8 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  0880c	7e 2d		 jle	 SHORT $LN6@ShieldPoti

; 3899 : 	{
; 3900 : 		pMsg.Result = 0xF0;

  0880e	c6 45 db f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 3901 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  08812	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  08816	50		 push	 eax
  08817	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0881a	51		 push	 ecx
  0881b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0881e	8b 02		 mov	 eax, DWORD PTR [edx]
  08820	50		 push	 eax
  08821	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  08826	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3902 : 		lpObj->ChaosLock = FALSE;

  08829	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0882c	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3903 : 
; 3904 : 		return;

  08836	e9 0a 02 00 00	 jmp	 $LN18@ShieldPoti
$LN6@ShieldPoti:

; 3905 : 	}
; 3906 : 
; 3907 : 	iChaosMixPrice = g_iShieldPotionLv1MixMoney;

  0883b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_iShieldPotionLv1MixMoney@@3HA ; g_iShieldPotionLv1MixMoney
  08840	89 45 ec	 mov	 DWORD PTR _iChaosMixPrice$[ebp], eax

; 3908 : 	int iChaosTaxMoney = iChaosMixPrice * g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / 100;

  08843	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08846	8b 08		 mov	 ecx, DWORD PTR [eax]
  08848	51		 push	 ecx
  08849	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0884e	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  08853	0f af 45 ec	 imul	 eax, DWORD PTR _iChaosMixPrice$[ebp]
  08857	99		 cdq
  08858	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0885d	f7 f9		 idiv	 ecx
  0885f	89 45 d0	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 3909 : 
; 3910 : 	if ( iChaosTaxMoney < 0 )

  08862	83 7d d0 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  08866	7d 07		 jge	 SHORT $LN5@ShieldPoti

; 3911 : 	{
; 3912 : 		iChaosTaxMoney = 0;

  08868	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN5@ShieldPoti:

; 3913 : 	}
; 3914 : 
; 3915 : 	iChaosMixPrice += iChaosTaxMoney;

  0886f	8b 45 ec	 mov	 eax, DWORD PTR _iChaosMixPrice$[ebp]
  08872	03 45 d0	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  08875	89 45 ec	 mov	 DWORD PTR _iChaosMixPrice$[ebp], eax

; 3916 : 
; 3917 : 	if ( iChaosMixPrice < 0 )

  08878	79 07		 jns	 SHORT $LN4@ShieldPoti

; 3918 : 	{
; 3919 : 		iChaosMixPrice = 0;

  0887a	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iChaosMixPrice$[ebp], 0
$LN4@ShieldPoti:

; 3920 : 	}
; 3921 : 
; 3922 : 	if ( lpObj->Money < iChaosMixPrice )

  08881	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08884	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0888a	3b 4d ec	 cmp	 ecx, DWORD PTR _iChaosMixPrice$[ebp]
  0888d	7d 2d		 jge	 SHORT $LN3@ShieldPoti

; 3923 : 	{
; 3924 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  0888f	c6 45 db 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 3925 : 		
; 3926 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  08893	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  08897	50		 push	 eax
  08898	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0889b	51		 push	 ecx
  0889c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0889f	8b 02		 mov	 eax, DWORD PTR [edx]
  088a1	50		 push	 eax
  088a2	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  088a7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3927 : 		lpObj->ChaosLock = FALSE;

  088aa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  088ad	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 3928 : 
; 3929 : 		return;

  088b7	e9 89 01 00 00	 jmp	 $LN18@ShieldPoti
$LN3@ShieldPoti:

; 3930 : 	}
; 3931 : 
; 3932 : 	lpObj->Money -= iChaosMixPrice;

  088bc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  088bf	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  088c5	2b 4d ec	 sub	 ecx, DWORD PTR _iChaosMixPrice$[ebp]
  088c8	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  088cb	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 3933 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  088d1	8b 45 d0	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  088d4	50		 push	 eax
  088d5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  088da	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 3934 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  088df	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  088e2	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  088e8	51		 push	 ecx
  088e9	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  088ec	8b 02		 mov	 eax, DWORD PTR [edx]
  088ee	50		 push	 eax
  088ef	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  088f4	83 c4 08	 add	 esp, 8

; 3935 : 
; 3936 : 	LogChaosItem(lpObj, "PotionMix][ShieldPotion Lv1 Mix");

  088f7	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@MBDGDKKM@PotionMix?$FN?$FLShieldPotion?5Lv1?5Mix?$AA@
  088fc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  088ff	50		 push	 eax
  08900	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  08903	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 3937 : 	LogAddTD("[PotionMix][ShieldPotion Lv1 Mix] - Mix Start");

  08908	68 00 00 00 00	 push	 OFFSET ??_C@_0CO@IFFECFCD@?$FLPotionMix?$FN?$FLShieldPotion?5Lv1?5Mix@
  0890d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  08913	83 c4 04	 add	 esp, 4

; 3938 : 	
; 3939 : 	int iRate = rand() % 100;

  08916	e8 00 00 00 00	 call	 _rand
  0891b	99		 cdq
  0891c	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  08921	f7 f9		 idiv	 ecx
  08923	89 55 cc	 mov	 DWORD PTR _iRate$[ebp], edx

; 3940 : 	iRate -= iCharmOfLuckCount;

  08926	8b 45 cc	 mov	 eax, DWORD PTR _iRate$[ebp]
  08929	2b 45 e8	 sub	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  0892c	89 45 cc	 mov	 DWORD PTR _iRate$[ebp], eax

; 3941 : 
; 3942 : 	if ( iRate < g_iShieldPotionLv1MixSuccessRate )

  0892f	8b 45 cc	 mov	 eax, DWORD PTR _iRate$[ebp]
  08932	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iShieldPotionLv1MixSuccessRate@@3HA ; g_iShieldPotionLv1MixSuccessRate
  08938	0f 8d 84 00 00
	00		 jge	 $LN2@ShieldPoti

; 3943 : 	{
; 3944 : 		int ItemNum = ITEMGET(14,35);

  0893e	c7 45 c8 23 1c
	00 00		 mov	 DWORD PTR _ItemNum$236911[ebp], 7203 ; 00001c23H

; 3945 : 
; 3946 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, ItemNum, 0, 1, 0, 0, 0, lpObj->m_Index, 0, 0);

  08945	6a 00		 push	 0
  08947	6a 00		 push	 0
  08949	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0894c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0894e	51		 push	 ecx
  0894f	6a 00		 push	 0
  08951	6a 00		 push	 0
  08953	6a 00		 push	 0
  08955	6a 01		 push	 1
  08957	6a 00		 push	 0
  08959	8b 55 c8	 mov	 edx, DWORD PTR _ItemNum$236911[ebp]
  0895c	52		 push	 edx
  0895d	6a 00		 push	 0
  0895f	6a 00		 push	 0
  08961	68 ff 00 00 00	 push	 255			; 000000ffH
  08966	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08969	8b 08		 mov	 ecx, DWORD PTR [eax]
  0896b	51		 push	 ecx
  0896c	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  08971	83 c4 34	 add	 esp, 52			; 00000034H

; 3947 : 		::gObjInventoryCommit(lpObj->m_Index);

  08974	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08977	8b 08		 mov	 ecx, DWORD PTR [eax]
  08979	51		 push	 ecx
  0897a	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0897f	83 c4 04	 add	 esp, 4

; 3948 : 
; 3949 : 		LogAddTD("[ChaosMix][Shield Potion] Lv1 Potion Mix Success [%s][%s], Money(%d-%d), CharmRate : %d",
; 3950 : 			lpObj->AccountID, lpObj->Name, 	lpObj->Money, iChaosMixPrice, iCharmOfLuckCount);

  08982	8b 45 e8	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  08985	50		 push	 eax
  08986	8b 4d ec	 mov	 ecx, DWORD PTR _iChaosMixPrice$[ebp]
  08989	51		 push	 ecx
  0898a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0898d	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  08993	50		 push	 eax
  08994	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08997	83 c1 77	 add	 ecx, 119		; 00000077H
  0899a	51		 push	 ecx
  0899b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0899e	83 c2 6c	 add	 edx, 108		; 0000006cH
  089a1	52		 push	 edx
  089a2	68 00 00 00 00	 push	 OFFSET ??_C@_0FI@CLIKDBCN@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv1?5Po@
  089a7	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  089ad	83 c4 18	 add	 esp, 24			; 00000018H

; 3951 : 
; 3952 : #if(SYSTEM_ACHIEVEMENTS)
; 3953 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  089b0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  089b3	8b 08		 mov	 ecx, DWORD PTR [eax]
  089b5	51		 push	 ecx
  089b6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  089bb	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 3954 : #endif
; 3955 : 	}
; 3956 : 	else

  089c0	eb 76		 jmp	 SHORT $LN1@ShieldPoti
$LN2@ShieldPoti:

; 3957 : 	{
; 3958 : 		this->ChaosBoxInit(lpObj);

  089c2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  089c5	50		 push	 eax
  089c6	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  089c9	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 3959 : 		::GCUserChaosBoxSend(lpObj, 0);

  089ce	6a 00		 push	 0
  089d0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  089d3	50		 push	 eax
  089d4	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  089d9	83 c4 08	 add	 esp, 8

; 3960 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  089dc	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  089e0	50		 push	 eax
  089e1	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  089e4	51		 push	 ecx
  089e5	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  089e8	8b 02		 mov	 eax, DWORD PTR [edx]
  089ea	50		 push	 eax
  089eb	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  089f0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3961 : 
; 3962 : 		LogAddTD("[ChaosMix][Shield Potion] Lv1 Potion Mix [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : %d",
; 3963 : 			lpObj->AccountID, lpObj->Name, 	g_iShieldPotionLv1MixSuccessRate,
; 3964 : 			lpObj->Money, iChaosMixPrice, iCharmOfLuckCount);

  089f3	8b 45 e8	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  089f6	50		 push	 eax
  089f7	8b 4d ec	 mov	 ecx, DWORD PTR _iChaosMixPrice$[ebp]
  089fa	51		 push	 ecx
  089fb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  089fe	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  08a04	50		 push	 eax
  08a05	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_iShieldPotionLv1MixSuccessRate@@3HA ; g_iShieldPotionLv1MixSuccessRate
  08a0b	51		 push	 ecx
  08a0c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08a0f	83 c2 77	 add	 edx, 119		; 00000077H
  08a12	52		 push	 edx
  08a13	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08a16	83 c0 6c	 add	 eax, 108		; 0000006cH
  08a19	50		 push	 eax
  08a1a	68 00 00 00 00	 push	 OFFSET ??_C@_0FO@MOBDMAKD@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv1?5Po@
  08a1f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  08a25	83 c4 1c	 add	 esp, 28			; 0000001cH

; 3965 : 
; 3966 : #if(SYSTEM_ACHIEVEMENTS)
; 3967 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  08a28	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08a2b	8b 08		 mov	 ecx, DWORD PTR [eax]
  08a2d	51		 push	 ecx
  08a2e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  08a33	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN1@ShieldPoti:

; 3968 : #endif
; 3969 : 	}
; 3970 : 
; 3971 : 	lpObj->ChaosLock = FALSE;

  08a38	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08a3b	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN18@ShieldPoti:

; 3972 : }

  08a45	5f		 pop	 edi
  08a46	5e		 pop	 esi
  08a47	5b		 pop	 ebx
  08a48	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  08a4b	33 cd		 xor	 ecx, ebp
  08a4d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  08a52	8b e5		 mov	 esp, ebp
  08a54	5d		 pop	 ebp
  08a55	c2 04 00	 ret	 4
?ShieldPotionLv1_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::ShieldPotionLv1_Mix
_TEXT	ENDS
PUBLIC	??_C@_0FO@BECJDHIC@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv2?5Po@ ; `string'
PUBLIC	??_C@_0FI@KPIPKEPN@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv2?5Po@ ; `string'
PUBLIC	??_C@_0CO@CGACKDIK@?$FLPotionMix?$FN?$FLShieldPotion?5Lv2?5Mix@ ; `string'
PUBLIC	??_C@_0CA@EHKCEIAC@PotionMix?$FN?$FLShieldPotion?5Lv2?5Mix?$AA@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?ShieldPotionLv2_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::ShieldPotionLv2_Mix
EXTRN	?g_iShieldPotionLv2MixSuccessRate@@3HA:DWORD	; g_iShieldPotionLv2MixSuccessRate
EXTRN	?g_iShieldPotionLv2MixMoney@@3HA:DWORD		; g_iShieldPotionLv2MixMoney
;	COMDAT ??_C@_0FO@BECJDHIC@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv2?5Po@
CONST	SEGMENT
??_C@_0FO@BECJDHIC@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv2?5Po@ DB '['
	DB	'ChaosMix][Shield Potion] Lv2 Potion Mix [%s][%s] CBMix Fail %'
	DB	'd Money : %d-%d, CharmRate : %d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0FI@KPIPKEPN@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv2?5Po@
CONST	SEGMENT
??_C@_0FI@KPIPKEPN@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv2?5Po@ DB '['
	DB	'ChaosMix][Shield Potion] Lv2 Potion Mix Success [%s][%s], Mon'
	DB	'ey(%d-%d), CharmRate : %d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CO@CGACKDIK@?$FLPotionMix?$FN?$FLShieldPotion?5Lv2?5Mix@
CONST	SEGMENT
??_C@_0CO@CGACKDIK@?$FLPotionMix?$FN?$FLShieldPotion?5Lv2?5Mix@ DB '[Poti'
	DB	'onMix][ShieldPotion Lv2 Mix] - Mix Start', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CA@EHKCEIAC@PotionMix?$FN?$FLShieldPotion?5Lv2?5Mix?$AA@
CONST	SEGMENT
??_C@_0CA@EHKCEIAC@PotionMix?$FN?$FLShieldPotion?5Lv2?5Mix?$AA@ DB 'Potio'
	DB	'nMix][ShieldPotion Lv2 Mix', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_ItemNum$236952 = -56					; size = 4
_iRate$ = -52						; size = 4
_iChaosTaxMoney$ = -48					; size = 4
_n$236927 = -44						; size = 4
_pMsg$ = -40						; size = 16
_iCharmOfLuckCount$ = -24				; size = 4
_iChaosMixPrice$ = -20					; size = 4
_iInvalidItemCount$ = -16				; size = 4
_iHealthPotionCount$ = -12				; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?ShieldPotionLv2_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::ShieldPotionLv2_Mix
; _this$ = ecx

; 3975 : {

  08a60	55		 push	 ebp
  08a61	8b ec		 mov	 ebp, esp
  08a63	83 ec 78	 sub	 esp, 120		; 00000078H
  08a66	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  08a6b	33 c5		 xor	 eax, ebp
  08a6d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  08a70	53		 push	 ebx
  08a71	56		 push	 esi
  08a72	57		 push	 edi
  08a73	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 3976 : 	int iHealthPotionCount = 0;

  08a76	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iHealthPotionCount$[ebp], 0

; 3977 : 	int iInvalidItemCount = 0;

  08a7d	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 3978 : 	int iChaosMixPrice = 0;

  08a84	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iChaosMixPrice$[ebp], 0

; 3979 : 	int iCharmOfLuckCount = 0;

  08a8b	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 3980 : 
; 3981 : 	PMSG_CHAOSMIXRESULT pMsg;
; 3982 : 
; 3983 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  08a92	6a 10		 push	 16			; 00000010H
  08a94	68 86 00 00 00	 push	 134			; 00000086H
  08a99	8d 45 d8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  08a9c	50		 push	 eax
  08a9d	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  08aa2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3984 : 	pMsg.Result = CB_ERROR;

  08aa5	c6 45 db 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 3985 : 
; 3986 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  08aa9	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _n$236927[ebp], 0
  08ab0	eb 09		 jmp	 SHORT $LN16@ShieldPoti@2
$LN15@ShieldPoti@2:
  08ab2	8b 45 d4	 mov	 eax, DWORD PTR _n$236927[ebp]
  08ab5	83 c0 01	 add	 eax, 1
  08ab8	89 45 d4	 mov	 DWORD PTR _n$236927[ebp], eax
$LN16@ShieldPoti@2:
  08abb	83 7d d4 20	 cmp	 DWORD PTR _n$236927[ebp], 32 ; 00000020H
  08abf	0f 8d b0 00 00
	00		 jge	 $LN14@ShieldPoti@2

; 3987 : 	{
; 3988 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  08ac5	8b 4d d4	 mov	 ecx, DWORD PTR _n$236927[ebp]
  08ac8	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  08ace	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08ad1	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  08ad7	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  08adc	83 f8 01	 cmp	 eax, 1
  08adf	0f 85 8b 00 00
	00		 jne	 $LN9@ShieldPoti@2

; 3989 : 		{
; 3990 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,38) )

  08ae5	8b 45 d4	 mov	 eax, DWORD PTR _n$236927[ebp]
  08ae8	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  08aee	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08af1	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08af7	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  08afc	3d 26 1c 00 00	 cmp	 eax, 7206		; 00001c26H
  08b01	75 23		 jne	 SHORT $LN12@ShieldPoti@2

; 3991 : 			{
; 3992 : 				iHealthPotionCount+=(int)lpObj->pChaosBox[n].m_Durability;

  08b03	8b 45 d4	 mov	 eax, DWORD PTR _n$236927[ebp]
  08b06	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  08b0c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08b0f	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08b15	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  08b19	e8 00 00 00 00	 call	 __ftol2_sse
  08b1e	03 45 f4	 add	 eax, DWORD PTR _iHealthPotionCount$[ebp]
  08b21	89 45 f4	 mov	 DWORD PTR _iHealthPotionCount$[ebp], eax
  08b24	eb 4a		 jmp	 SHORT $LN9@ShieldPoti@2
$LN12@ShieldPoti@2:

; 3993 : 			}
; 3994 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )	// Charm Of Luck

  08b26	8b 45 d4	 mov	 eax, DWORD PTR _n$236927[ebp]
  08b29	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  08b2f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08b32	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08b38	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  08b3d	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  08b42	75 23		 jne	 SHORT $LN10@ShieldPoti@2

; 3995 : 			{
; 3996 : 				iCharmOfLuckCount += (int)lpObj->pChaosBox[n].m_Durability;

  08b44	8b 45 d4	 mov	 eax, DWORD PTR _n$236927[ebp]
  08b47	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  08b4d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08b50	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08b56	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  08b5a	e8 00 00 00 00	 call	 __ftol2_sse
  08b5f	03 45 e8	 add	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  08b62	89 45 e8	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], eax

; 3997 : 			}
; 3998 : 			else

  08b65	eb 09		 jmp	 SHORT $LN9@ShieldPoti@2
$LN10@ShieldPoti@2:

; 3999 : 			{
; 4000 : 				iInvalidItemCount++;

  08b67	8b 45 f0	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  08b6a	83 c0 01	 add	 eax, 1
  08b6d	89 45 f0	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN9@ShieldPoti@2:

; 4001 : 			}
; 4002 : 		}
; 4003 : 	}

  08b70	e9 3d ff ff ff	 jmp	 $LN15@ShieldPoti@2
$LN14@ShieldPoti@2:

; 4004 : 
; 4005 : 	if ( iInvalidItemCount > 0 || iHealthPotionCount != 3 )

  08b75	83 7d f0 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  08b79	7f 06		 jg	 SHORT $LN7@ShieldPoti@2
  08b7b	83 7d f4 03	 cmp	 DWORD PTR _iHealthPotionCount$[ebp], 3
  08b7f	74 29		 je	 SHORT $LN8@ShieldPoti@2
$LN7@ShieldPoti@2:

; 4006 : 	{
; 4007 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  08b81	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  08b85	50		 push	 eax
  08b86	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  08b89	51		 push	 ecx
  08b8a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08b8d	8b 02		 mov	 eax, DWORD PTR [edx]
  08b8f	50		 push	 eax
  08b90	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  08b95	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4008 : 		lpObj->ChaosLock = FALSE;

  08b98	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08b9b	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4009 : 
; 4010 : 		return;

  08ba5	e9 3d 02 00 00	 jmp	 $LN17@ShieldPoti@2
$LN8@ShieldPoti@2:

; 4011 : 	}
; 4012 : 
; 4013 : 	if ( iCharmOfLuckCount > 10 )

  08baa	83 7d e8 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  08bae	7e 2d		 jle	 SHORT $LN6@ShieldPoti@2

; 4014 : 	{
; 4015 : 		pMsg.Result = 0xF0;

  08bb0	c6 45 db f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 4016 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  08bb4	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  08bb8	50		 push	 eax
  08bb9	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  08bbc	51		 push	 ecx
  08bbd	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08bc0	8b 02		 mov	 eax, DWORD PTR [edx]
  08bc2	50		 push	 eax
  08bc3	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  08bc8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4017 : 		lpObj->ChaosLock = FALSE;

  08bcb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08bce	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4018 : 
; 4019 : 		return;

  08bd8	e9 0a 02 00 00	 jmp	 $LN17@ShieldPoti@2
$LN6@ShieldPoti@2:

; 4020 : 	}
; 4021 : 
; 4022 : 	iChaosMixPrice = g_iShieldPotionLv2MixMoney;

  08bdd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_iShieldPotionLv2MixMoney@@3HA ; g_iShieldPotionLv2MixMoney
  08be2	89 45 ec	 mov	 DWORD PTR _iChaosMixPrice$[ebp], eax

; 4023 : 	int iChaosTaxMoney = iChaosMixPrice * g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / 100;

  08be5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08be8	8b 08		 mov	 ecx, DWORD PTR [eax]
  08bea	51		 push	 ecx
  08beb	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  08bf0	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  08bf5	0f af 45 ec	 imul	 eax, DWORD PTR _iChaosMixPrice$[ebp]
  08bf9	99		 cdq
  08bfa	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  08bff	f7 f9		 idiv	 ecx
  08c01	89 45 d0	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 4024 : 
; 4025 : 	if ( iChaosTaxMoney < 0 )

  08c04	83 7d d0 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  08c08	7d 07		 jge	 SHORT $LN5@ShieldPoti@2

; 4026 : 	{
; 4027 : 		iChaosTaxMoney = 0;

  08c0a	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN5@ShieldPoti@2:

; 4028 : 	}
; 4029 : 
; 4030 : 	iChaosMixPrice += iChaosTaxMoney;

  08c11	8b 45 ec	 mov	 eax, DWORD PTR _iChaosMixPrice$[ebp]
  08c14	03 45 d0	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  08c17	89 45 ec	 mov	 DWORD PTR _iChaosMixPrice$[ebp], eax

; 4031 : 
; 4032 : 	if ( iChaosMixPrice < 0 )

  08c1a	79 07		 jns	 SHORT $LN4@ShieldPoti@2

; 4033 : 	{
; 4034 : 		iChaosMixPrice = 0;

  08c1c	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iChaosMixPrice$[ebp], 0
$LN4@ShieldPoti@2:

; 4035 : 	}
; 4036 : 
; 4037 : 	if ( lpObj->Money < iChaosMixPrice )

  08c23	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08c26	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  08c2c	3b 4d ec	 cmp	 ecx, DWORD PTR _iChaosMixPrice$[ebp]
  08c2f	7d 2d		 jge	 SHORT $LN3@ShieldPoti@2

; 4038 : 	{
; 4039 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  08c31	c6 45 db 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 4040 : 		
; 4041 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  08c35	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  08c39	50		 push	 eax
  08c3a	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  08c3d	51		 push	 ecx
  08c3e	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08c41	8b 02		 mov	 eax, DWORD PTR [edx]
  08c43	50		 push	 eax
  08c44	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  08c49	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4042 : 		lpObj->ChaosLock = FALSE;

  08c4c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08c4f	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4043 : 
; 4044 : 		return;

  08c59	e9 89 01 00 00	 jmp	 $LN17@ShieldPoti@2
$LN3@ShieldPoti@2:

; 4045 : 	}
; 4046 : 
; 4047 : 	lpObj->Money -= iChaosMixPrice;

  08c5e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08c61	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  08c67	2b 4d ec	 sub	 ecx, DWORD PTR _iChaosMixPrice$[ebp]
  08c6a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08c6d	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 4048 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  08c73	8b 45 d0	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  08c76	50		 push	 eax
  08c77	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  08c7c	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 4049 : 	
; 4050 : 	LogChaosItem(lpObj, "PotionMix][ShieldPotion Lv2 Mix");

  08c81	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@EHKCEIAC@PotionMix?$FN?$FLShieldPotion?5Lv2?5Mix?$AA@
  08c86	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08c89	50		 push	 eax
  08c8a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  08c8d	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 4051 : 	LogAddTD("[PotionMix][ShieldPotion Lv2 Mix] - Mix Start");

  08c92	68 00 00 00 00	 push	 OFFSET ??_C@_0CO@CGACKDIK@?$FLPotionMix?$FN?$FLShieldPotion?5Lv2?5Mix@
  08c97	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  08c9d	83 c4 04	 add	 esp, 4

; 4052 : 
; 4053 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  08ca0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08ca3	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  08ca9	51		 push	 ecx
  08caa	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08cad	8b 02		 mov	 eax, DWORD PTR [edx]
  08caf	50		 push	 eax
  08cb0	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  08cb5	83 c4 08	 add	 esp, 8

; 4054 : 	int iRate = rand() % 100;

  08cb8	e8 00 00 00 00	 call	 _rand
  08cbd	99		 cdq
  08cbe	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  08cc3	f7 f9		 idiv	 ecx
  08cc5	89 55 cc	 mov	 DWORD PTR _iRate$[ebp], edx

; 4055 : 	iRate -= iCharmOfLuckCount;

  08cc8	8b 45 cc	 mov	 eax, DWORD PTR _iRate$[ebp]
  08ccb	2b 45 e8	 sub	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  08cce	89 45 cc	 mov	 DWORD PTR _iRate$[ebp], eax

; 4056 : 
; 4057 : 	if ( iRate < g_iShieldPotionLv2MixSuccessRate )

  08cd1	8b 45 cc	 mov	 eax, DWORD PTR _iRate$[ebp]
  08cd4	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iShieldPotionLv2MixSuccessRate@@3HA ; g_iShieldPotionLv2MixSuccessRate
  08cda	0f 8d 84 00 00
	00		 jge	 $LN2@ShieldPoti@2

; 4058 : 	{
; 4059 : 		int ItemNum = ITEMGET(14,36);

  08ce0	c7 45 c8 24 1c
	00 00		 mov	 DWORD PTR _ItemNum$236952[ebp], 7204 ; 00001c24H

; 4060 : 
; 4061 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, ItemNum, 0, 1, 0, 0, 0, lpObj->m_Index, 0, 0);

  08ce7	6a 00		 push	 0
  08ce9	6a 00		 push	 0
  08ceb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08cee	8b 08		 mov	 ecx, DWORD PTR [eax]
  08cf0	51		 push	 ecx
  08cf1	6a 00		 push	 0
  08cf3	6a 00		 push	 0
  08cf5	6a 00		 push	 0
  08cf7	6a 01		 push	 1
  08cf9	6a 00		 push	 0
  08cfb	8b 55 c8	 mov	 edx, DWORD PTR _ItemNum$236952[ebp]
  08cfe	52		 push	 edx
  08cff	6a 00		 push	 0
  08d01	6a 00		 push	 0
  08d03	68 ff 00 00 00	 push	 255			; 000000ffH
  08d08	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08d0b	8b 08		 mov	 ecx, DWORD PTR [eax]
  08d0d	51		 push	 ecx
  08d0e	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  08d13	83 c4 34	 add	 esp, 52			; 00000034H

; 4062 : 		::gObjInventoryCommit(lpObj->m_Index);

  08d16	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08d19	8b 08		 mov	 ecx, DWORD PTR [eax]
  08d1b	51		 push	 ecx
  08d1c	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  08d21	83 c4 04	 add	 esp, 4

; 4063 : 
; 4064 : 		LogAddTD("[ChaosMix][Shield Potion] Lv2 Potion Mix Success [%s][%s], Money(%d-%d), CharmRate : %d",
; 4065 : 			lpObj->AccountID, lpObj->Name, 	lpObj->Money, iChaosMixPrice, iCharmOfLuckCount);

  08d24	8b 45 e8	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  08d27	50		 push	 eax
  08d28	8b 4d ec	 mov	 ecx, DWORD PTR _iChaosMixPrice$[ebp]
  08d2b	51		 push	 ecx
  08d2c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08d2f	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  08d35	50		 push	 eax
  08d36	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08d39	83 c1 77	 add	 ecx, 119		; 00000077H
  08d3c	51		 push	 ecx
  08d3d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08d40	83 c2 6c	 add	 edx, 108		; 0000006cH
  08d43	52		 push	 edx
  08d44	68 00 00 00 00	 push	 OFFSET ??_C@_0FI@KPIPKEPN@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv2?5Po@
  08d49	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  08d4f	83 c4 18	 add	 esp, 24			; 00000018H

; 4066 : 
; 4067 : #if(SYSTEM_ACHIEVEMENTS)
; 4068 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  08d52	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08d55	8b 08		 mov	 ecx, DWORD PTR [eax]
  08d57	51		 push	 ecx
  08d58	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  08d5d	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 4069 : #endif
; 4070 : 	}
; 4071 : 	else

  08d62	eb 76		 jmp	 SHORT $LN1@ShieldPoti@2
$LN2@ShieldPoti@2:

; 4072 : 	{
; 4073 : 		this->ChaosBoxInit(lpObj);

  08d64	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08d67	50		 push	 eax
  08d68	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  08d6b	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 4074 : 		::GCUserChaosBoxSend(lpObj, 0);

  08d70	6a 00		 push	 0
  08d72	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08d75	50		 push	 eax
  08d76	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  08d7b	83 c4 08	 add	 esp, 8

; 4075 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  08d7e	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  08d82	50		 push	 eax
  08d83	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  08d86	51		 push	 ecx
  08d87	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08d8a	8b 02		 mov	 eax, DWORD PTR [edx]
  08d8c	50		 push	 eax
  08d8d	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  08d92	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4076 : #if(SYSTEM_ACHIEVEMENTS)
; 4077 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  08d95	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08d98	8b 08		 mov	 ecx, DWORD PTR [eax]
  08d9a	51		 push	 ecx
  08d9b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  08da0	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix

; 4078 : #endif
; 4079 : 		LogAddTD("[ChaosMix][Shield Potion] Lv2 Potion Mix [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : %d",
; 4080 : 			lpObj->AccountID, lpObj->Name, 	g_iShieldPotionLv2MixSuccessRate,
; 4081 : 			lpObj->Money, iChaosMixPrice, iCharmOfLuckCount);

  08da5	8b 45 e8	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  08da8	50		 push	 eax
  08da9	8b 4d ec	 mov	 ecx, DWORD PTR _iChaosMixPrice$[ebp]
  08dac	51		 push	 ecx
  08dad	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08db0	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  08db6	50		 push	 eax
  08db7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_iShieldPotionLv2MixSuccessRate@@3HA ; g_iShieldPotionLv2MixSuccessRate
  08dbd	51		 push	 ecx
  08dbe	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08dc1	83 c2 77	 add	 edx, 119		; 00000077H
  08dc4	52		 push	 edx
  08dc5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08dc8	83 c0 6c	 add	 eax, 108		; 0000006cH
  08dcb	50		 push	 eax
  08dcc	68 00 00 00 00	 push	 OFFSET ??_C@_0FO@BECJDHIC@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv2?5Po@
  08dd1	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  08dd7	83 c4 1c	 add	 esp, 28			; 0000001cH
$LN1@ShieldPoti@2:

; 4082 : 	}
; 4083 : 
; 4084 : 	lpObj->ChaosLock = FALSE;

  08dda	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08ddd	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN17@ShieldPoti@2:

; 4085 : }

  08de7	5f		 pop	 edi
  08de8	5e		 pop	 esi
  08de9	5b		 pop	 ebx
  08dea	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  08ded	33 cd		 xor	 ecx, ebp
  08def	e8 00 00 00 00	 call	 @__security_check_cookie@4
  08df4	8b e5		 mov	 esp, ebp
  08df6	5d		 pop	 ebp
  08df7	c2 04 00	 ret	 4
?ShieldPotionLv2_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::ShieldPotionLv2_Mix
_TEXT	ENDS
PUBLIC	??_C@_0FO@FNMAJKJN@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv3?5Po@ ; `string'
PUBLIC	??_C@_0FI@GFFMCKHC@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv3?5Po@ ; `string'
PUBLIC	??_C@_0CO@PBOACDNC@?$FLPotionMix?$FN?$FLShieldPotion?5Lv3?5Mix@ ; `string'
PUBLIC	??_C@_0CA@IMPOJLKH@PotionMix?$FN?$FLShieldPotion?5Lv3?5Mix?$AA@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?ShieldPotionLv3_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::ShieldPotionLv3_Mix
EXTRN	?g_iShieldPotionLv3MixSuccessRate@@3HA:DWORD	; g_iShieldPotionLv3MixSuccessRate
EXTRN	?g_iShieldPotionLv3MixMoney@@3HA:DWORD		; g_iShieldPotionLv3MixMoney
;	COMDAT ??_C@_0FO@FNMAJKJN@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv3?5Po@
CONST	SEGMENT
??_C@_0FO@FNMAJKJN@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv3?5Po@ DB '['
	DB	'ChaosMix][Shield Potion] Lv3 Potion Mix [%s][%s] CBMix Fail %'
	DB	'd Money : %d-%d, CharmRate : %d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0FI@GFFMCKHC@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv3?5Po@
CONST	SEGMENT
??_C@_0FI@GFFMCKHC@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv3?5Po@ DB '['
	DB	'ChaosMix][Shield Potion] Lv3 Potion Mix Success [%s][%s], Mon'
	DB	'ey(%d-%d), CharmRate : %d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CO@PBOACDNC@?$FLPotionMix?$FN?$FLShieldPotion?5Lv3?5Mix@
CONST	SEGMENT
??_C@_0CO@PBOACDNC@?$FLPotionMix?$FN?$FLShieldPotion?5Lv3?5Mix@ DB '[Poti'
	DB	'onMix][ShieldPotion Lv3 Mix] - Mix Start', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CA@IMPOJLKH@PotionMix?$FN?$FLShieldPotion?5Lv3?5Mix?$AA@
CONST	SEGMENT
??_C@_0CA@IMPOJLKH@PotionMix?$FN?$FLShieldPotion?5Lv3?5Mix?$AA@ DB 'Potio'
	DB	'nMix][ShieldPotion Lv3 Mix', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_ItemNum$236993 = -56					; size = 4
_iRate$ = -52						; size = 4
_iChaosTaxMoney$ = -48					; size = 4
_n$236968 = -44						; size = 4
_pMsg$ = -40						; size = 16
_iCharmOfLuckCount$ = -24				; size = 4
_iChaosMixPrice$ = -20					; size = 4
_iInvalidItemCount$ = -16				; size = 4
_iHealthPotionCount$ = -12				; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?ShieldPotionLv3_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::ShieldPotionLv3_Mix
; _this$ = ecx

; 4088 : {

  08e00	55		 push	 ebp
  08e01	8b ec		 mov	 ebp, esp
  08e03	83 ec 78	 sub	 esp, 120		; 00000078H
  08e06	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  08e0b	33 c5		 xor	 eax, ebp
  08e0d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  08e10	53		 push	 ebx
  08e11	56		 push	 esi
  08e12	57		 push	 edi
  08e13	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 4089 : 	int iHealthPotionCount = 0;

  08e16	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iHealthPotionCount$[ebp], 0

; 4090 : 	int iInvalidItemCount = 0;

  08e1d	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 4091 : 	int iChaosMixPrice = 0;

  08e24	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iChaosMixPrice$[ebp], 0

; 4092 : 	int iCharmOfLuckCount = 0;

  08e2b	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], 0

; 4093 : 
; 4094 : 	PMSG_CHAOSMIXRESULT pMsg;
; 4095 : 
; 4096 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  08e32	6a 10		 push	 16			; 00000010H
  08e34	68 86 00 00 00	 push	 134			; 00000086H
  08e39	8d 45 d8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  08e3c	50		 push	 eax
  08e3d	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  08e42	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4097 : 	pMsg.Result = CB_ERROR;

  08e45	c6 45 db 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 4098 : 
; 4099 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  08e49	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _n$236968[ebp], 0
  08e50	eb 09		 jmp	 SHORT $LN16@ShieldPoti@3
$LN15@ShieldPoti@3:
  08e52	8b 45 d4	 mov	 eax, DWORD PTR _n$236968[ebp]
  08e55	83 c0 01	 add	 eax, 1
  08e58	89 45 d4	 mov	 DWORD PTR _n$236968[ebp], eax
$LN16@ShieldPoti@3:
  08e5b	83 7d d4 20	 cmp	 DWORD PTR _n$236968[ebp], 32 ; 00000020H
  08e5f	0f 8d b0 00 00
	00		 jge	 $LN14@ShieldPoti@3

; 4100 : 	{
; 4101 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  08e65	8b 4d d4	 mov	 ecx, DWORD PTR _n$236968[ebp]
  08e68	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  08e6e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08e71	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  08e77	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  08e7c	83 f8 01	 cmp	 eax, 1
  08e7f	0f 85 8b 00 00
	00		 jne	 $LN9@ShieldPoti@3

; 4102 : 		{
; 4103 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,39) )

  08e85	8b 45 d4	 mov	 eax, DWORD PTR _n$236968[ebp]
  08e88	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  08e8e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08e91	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08e97	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  08e9c	3d 27 1c 00 00	 cmp	 eax, 7207		; 00001c27H
  08ea1	75 23		 jne	 SHORT $LN12@ShieldPoti@3

; 4104 : 			{
; 4105 : 				iHealthPotionCount+=(int)lpObj->pChaosBox[n].m_Durability;

  08ea3	8b 45 d4	 mov	 eax, DWORD PTR _n$236968[ebp]
  08ea6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  08eac	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08eaf	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08eb5	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  08eb9	e8 00 00 00 00	 call	 __ftol2_sse
  08ebe	03 45 f4	 add	 eax, DWORD PTR _iHealthPotionCount$[ebp]
  08ec1	89 45 f4	 mov	 DWORD PTR _iHealthPotionCount$[ebp], eax
  08ec4	eb 4a		 jmp	 SHORT $LN9@ShieldPoti@3
$LN12@ShieldPoti@3:

; 4106 : 			}
; 4107 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )	// Charm Of Luck

  08ec6	8b 45 d4	 mov	 eax, DWORD PTR _n$236968[ebp]
  08ec9	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  08ecf	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08ed2	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08ed8	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  08edd	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  08ee2	75 23		 jne	 SHORT $LN10@ShieldPoti@3

; 4108 : 			{
; 4109 : 				iCharmOfLuckCount += (int)lpObj->pChaosBox[n].m_Durability;

  08ee4	8b 45 d4	 mov	 eax, DWORD PTR _n$236968[ebp]
  08ee7	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  08eed	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  08ef0	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  08ef6	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  08efa	e8 00 00 00 00	 call	 __ftol2_sse
  08eff	03 45 e8	 add	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  08f02	89 45 e8	 mov	 DWORD PTR _iCharmOfLuckCount$[ebp], eax

; 4110 : 			}
; 4111 : 			else

  08f05	eb 09		 jmp	 SHORT $LN9@ShieldPoti@3
$LN10@ShieldPoti@3:

; 4112 : 			{
; 4113 : 				iInvalidItemCount++;

  08f07	8b 45 f0	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  08f0a	83 c0 01	 add	 eax, 1
  08f0d	89 45 f0	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN9@ShieldPoti@3:

; 4114 : 			}
; 4115 : 		}
; 4116 : 	}

  08f10	e9 3d ff ff ff	 jmp	 $LN15@ShieldPoti@3
$LN14@ShieldPoti@3:

; 4117 : 
; 4118 : 	if ( iInvalidItemCount > 0 || iHealthPotionCount != 3 )

  08f15	83 7d f0 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  08f19	7f 06		 jg	 SHORT $LN7@ShieldPoti@3
  08f1b	83 7d f4 03	 cmp	 DWORD PTR _iHealthPotionCount$[ebp], 3
  08f1f	74 29		 je	 SHORT $LN8@ShieldPoti@3
$LN7@ShieldPoti@3:

; 4119 : 	{
; 4120 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  08f21	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  08f25	50		 push	 eax
  08f26	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  08f29	51		 push	 ecx
  08f2a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08f2d	8b 02		 mov	 eax, DWORD PTR [edx]
  08f2f	50		 push	 eax
  08f30	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  08f35	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4121 : 		lpObj->ChaosLock = FALSE;

  08f38	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08f3b	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4122 : 
; 4123 : 		return;

  08f45	e9 3d 02 00 00	 jmp	 $LN17@ShieldPoti@3
$LN8@ShieldPoti@3:

; 4124 : 	}
; 4125 : 
; 4126 : 	if ( iCharmOfLuckCount > 10 )

  08f4a	83 7d e8 0a	 cmp	 DWORD PTR _iCharmOfLuckCount$[ebp], 10 ; 0000000aH
  08f4e	7e 2d		 jle	 SHORT $LN6@ShieldPoti@3

; 4127 : 	{
; 4128 : 		pMsg.Result = 0xF0;

  08f50	c6 45 db f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 4129 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  08f54	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  08f58	50		 push	 eax
  08f59	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  08f5c	51		 push	 ecx
  08f5d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08f60	8b 02		 mov	 eax, DWORD PTR [edx]
  08f62	50		 push	 eax
  08f63	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  08f68	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4130 : 		lpObj->ChaosLock = FALSE;

  08f6b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08f6e	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4131 : 
; 4132 : 		return;

  08f78	e9 0a 02 00 00	 jmp	 $LN17@ShieldPoti@3
$LN6@ShieldPoti@3:

; 4133 : 	}
; 4134 : 
; 4135 : 	iChaosMixPrice = g_iShieldPotionLv3MixMoney;

  08f7d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_iShieldPotionLv3MixMoney@@3HA ; g_iShieldPotionLv3MixMoney
  08f82	89 45 ec	 mov	 DWORD PTR _iChaosMixPrice$[ebp], eax

; 4136 : 	int iChaosTaxMoney = iChaosMixPrice * g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / 100;

  08f85	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08f88	8b 08		 mov	 ecx, DWORD PTR [eax]
  08f8a	51		 push	 ecx
  08f8b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  08f90	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  08f95	0f af 45 ec	 imul	 eax, DWORD PTR _iChaosMixPrice$[ebp]
  08f99	99		 cdq
  08f9a	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  08f9f	f7 f9		 idiv	 ecx
  08fa1	89 45 d0	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 4137 : 
; 4138 : 	if ( iChaosTaxMoney < 0 )

  08fa4	83 7d d0 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  08fa8	7d 07		 jge	 SHORT $LN5@ShieldPoti@3

; 4139 : 	{
; 4140 : 		iChaosTaxMoney = 0;

  08faa	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN5@ShieldPoti@3:

; 4141 : 	}
; 4142 : 
; 4143 : 	iChaosMixPrice += iChaosTaxMoney;

  08fb1	8b 45 ec	 mov	 eax, DWORD PTR _iChaosMixPrice$[ebp]
  08fb4	03 45 d0	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  08fb7	89 45 ec	 mov	 DWORD PTR _iChaosMixPrice$[ebp], eax

; 4144 : 
; 4145 : 	if ( iChaosMixPrice < 0 )

  08fba	79 07		 jns	 SHORT $LN4@ShieldPoti@3

; 4146 : 	{
; 4147 : 		iChaosMixPrice = 0;

  08fbc	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iChaosMixPrice$[ebp], 0
$LN4@ShieldPoti@3:

; 4148 : 	}
; 4149 : 
; 4150 : 	if ( lpObj->Money < iChaosMixPrice )

  08fc3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08fc6	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  08fcc	3b 4d ec	 cmp	 ecx, DWORD PTR _iChaosMixPrice$[ebp]
  08fcf	7d 2d		 jge	 SHORT $LN3@ShieldPoti@3

; 4151 : 	{
; 4152 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  08fd1	c6 45 db 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 4153 : 		
; 4154 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  08fd5	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  08fd9	50		 push	 eax
  08fda	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  08fdd	51		 push	 ecx
  08fde	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  08fe1	8b 02		 mov	 eax, DWORD PTR [edx]
  08fe3	50		 push	 eax
  08fe4	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  08fe9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4155 : 		lpObj->ChaosLock = FALSE;

  08fec	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  08fef	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4156 : 
; 4157 : 		return;

  08ff9	e9 89 01 00 00	 jmp	 $LN17@ShieldPoti@3
$LN3@ShieldPoti@3:

; 4158 : 	}
; 4159 : 
; 4160 : 	lpObj->Money -= iChaosMixPrice;

  08ffe	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09001	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  09007	2b 4d ec	 sub	 ecx, DWORD PTR _iChaosMixPrice$[ebp]
  0900a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0900d	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 4161 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  09013	8b 45 d0	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  09016	50		 push	 eax
  09017	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0901c	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 4162 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  09021	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09024	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0902a	51		 push	 ecx
  0902b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0902e	8b 02		 mov	 eax, DWORD PTR [edx]
  09030	50		 push	 eax
  09031	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  09036	83 c4 08	 add	 esp, 8

; 4163 : 	
; 4164 : 	LogChaosItem(lpObj, "PotionMix][ShieldPotion Lv3 Mix");

  09039	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@IMPOJLKH@PotionMix?$FN?$FLShieldPotion?5Lv3?5Mix?$AA@
  0903e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09041	50		 push	 eax
  09042	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  09045	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 4165 : 	LogAddTD("[PotionMix][ShieldPotion Lv3 Mix] - Mix Start");

  0904a	68 00 00 00 00	 push	 OFFSET ??_C@_0CO@PBOACDNC@?$FLPotionMix?$FN?$FLShieldPotion?5Lv3?5Mix@
  0904f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  09055	83 c4 04	 add	 esp, 4

; 4166 : 
; 4167 : 	int iRate = rand() % 100;

  09058	e8 00 00 00 00	 call	 _rand
  0905d	99		 cdq
  0905e	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  09063	f7 f9		 idiv	 ecx
  09065	89 55 cc	 mov	 DWORD PTR _iRate$[ebp], edx

; 4168 : 	iRate -= iCharmOfLuckCount;

  09068	8b 45 cc	 mov	 eax, DWORD PTR _iRate$[ebp]
  0906b	2b 45 e8	 sub	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  0906e	89 45 cc	 mov	 DWORD PTR _iRate$[ebp], eax

; 4169 : 
; 4170 : 	if ( iRate < g_iShieldPotionLv3MixSuccessRate )

  09071	8b 45 cc	 mov	 eax, DWORD PTR _iRate$[ebp]
  09074	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iShieldPotionLv3MixSuccessRate@@3HA ; g_iShieldPotionLv3MixSuccessRate
  0907a	0f 8d 84 00 00
	00		 jge	 $LN2@ShieldPoti@3

; 4171 : 	{
; 4172 : 		int ItemNum = ITEMGET(14,37);

  09080	c7 45 c8 25 1c
	00 00		 mov	 DWORD PTR _ItemNum$236993[ebp], 7205 ; 00001c25H

; 4173 : 
; 4174 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, ItemNum, 0, 1, 0, 0, 0, lpObj->m_Index, 0, 0);

  09087	6a 00		 push	 0
  09089	6a 00		 push	 0
  0908b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0908e	8b 08		 mov	 ecx, DWORD PTR [eax]
  09090	51		 push	 ecx
  09091	6a 00		 push	 0
  09093	6a 00		 push	 0
  09095	6a 00		 push	 0
  09097	6a 01		 push	 1
  09099	6a 00		 push	 0
  0909b	8b 55 c8	 mov	 edx, DWORD PTR _ItemNum$236993[ebp]
  0909e	52		 push	 edx
  0909f	6a 00		 push	 0
  090a1	6a 00		 push	 0
  090a3	68 ff 00 00 00	 push	 255			; 000000ffH
  090a8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  090ab	8b 08		 mov	 ecx, DWORD PTR [eax]
  090ad	51		 push	 ecx
  090ae	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  090b3	83 c4 34	 add	 esp, 52			; 00000034H

; 4175 : 		::gObjInventoryCommit(lpObj->m_Index);

  090b6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  090b9	8b 08		 mov	 ecx, DWORD PTR [eax]
  090bb	51		 push	 ecx
  090bc	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  090c1	83 c4 04	 add	 esp, 4

; 4176 : 
; 4177 : 		LogAddTD("[ChaosMix][Shield Potion] Lv3 Potion Mix Success [%s][%s], Money(%d-%d), CharmRate : %d",
; 4178 : 			lpObj->AccountID, lpObj->Name, 	lpObj->Money, iChaosMixPrice, iCharmOfLuckCount);

  090c4	8b 45 e8	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  090c7	50		 push	 eax
  090c8	8b 4d ec	 mov	 ecx, DWORD PTR _iChaosMixPrice$[ebp]
  090cb	51		 push	 ecx
  090cc	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  090cf	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  090d5	50		 push	 eax
  090d6	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  090d9	83 c1 77	 add	 ecx, 119		; 00000077H
  090dc	51		 push	 ecx
  090dd	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  090e0	83 c2 6c	 add	 edx, 108		; 0000006cH
  090e3	52		 push	 edx
  090e4	68 00 00 00 00	 push	 OFFSET ??_C@_0FI@GFFMCKHC@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv3?5Po@
  090e9	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  090ef	83 c4 18	 add	 esp, 24			; 00000018H

; 4179 : 
; 4180 : #if(SYSTEM_ACHIEVEMENTS)
; 4181 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  090f2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  090f5	8b 08		 mov	 ecx, DWORD PTR [eax]
  090f7	51		 push	 ecx
  090f8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  090fd	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 4182 : #endif
; 4183 : 	}
; 4184 : 	else

  09102	eb 76		 jmp	 SHORT $LN1@ShieldPoti@3
$LN2@ShieldPoti@3:

; 4185 : 	{
; 4186 : 		this->ChaosBoxInit(lpObj);

  09104	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09107	50		 push	 eax
  09108	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0910b	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 4187 : 		::GCUserChaosBoxSend(lpObj, 0);

  09110	6a 00		 push	 0
  09112	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09115	50		 push	 eax
  09116	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0911b	83 c4 08	 add	 esp, 8

; 4188 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0911e	0f b6 45 d9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  09122	50		 push	 eax
  09123	8d 4d d8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  09126	51		 push	 ecx
  09127	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0912a	8b 02		 mov	 eax, DWORD PTR [edx]
  0912c	50		 push	 eax
  0912d	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  09132	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4189 : 
; 4190 : 		LogAddTD("[ChaosMix][Shield Potion] Lv3 Potion Mix [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : %d",
; 4191 : 			lpObj->AccountID, lpObj->Name, 	g_iShieldPotionLv3MixSuccessRate,
; 4192 : 			lpObj->Money, iChaosMixPrice, iCharmOfLuckCount);

  09135	8b 45 e8	 mov	 eax, DWORD PTR _iCharmOfLuckCount$[ebp]
  09138	50		 push	 eax
  09139	8b 4d ec	 mov	 ecx, DWORD PTR _iChaosMixPrice$[ebp]
  0913c	51		 push	 ecx
  0913d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09140	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  09146	50		 push	 eax
  09147	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_iShieldPotionLv3MixSuccessRate@@3HA ; g_iShieldPotionLv3MixSuccessRate
  0914d	51		 push	 ecx
  0914e	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09151	83 c2 77	 add	 edx, 119		; 00000077H
  09154	52		 push	 edx
  09155	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09158	83 c0 6c	 add	 eax, 108		; 0000006cH
  0915b	50		 push	 eax
  0915c	68 00 00 00 00	 push	 OFFSET ??_C@_0FO@FNMAJKJN@?$FLChaosMix?$FN?$FLShield?5Potion?$FN?5Lv3?5Po@
  09161	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  09167	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4193 : 
; 4194 : #if(SYSTEM_ACHIEVEMENTS)
; 4195 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  0916a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0916d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0916f	51		 push	 ecx
  09170	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  09175	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN1@ShieldPoti@3:

; 4196 : #endif
; 4197 : 	}
; 4198 : 
; 4199 : 	lpObj->ChaosLock = FALSE;

  0917a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0917d	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN17@ShieldPoti@3:

; 4200 : }

  09187	5f		 pop	 edi
  09188	5e		 pop	 esi
  09189	5b		 pop	 ebx
  0918a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0918d	33 cd		 xor	 ecx, ebp
  0918f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  09194	8b e5		 mov	 esp, ebp
  09196	5d		 pop	 ebp
  09197	c2 04 00	 ret	 4
?ShieldPotionLv3_Mix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::ShieldPotionLv3_Mix
_TEXT	ENDS
PUBLIC	?IsCondorItemCheck@CMixSystem@@QAEHH@Z		; CMixSystem::IsCondorItemCheck
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
_iItemCode$ = 8						; size = 4
?IsCondorItemCheck@CMixSystem@@QAEHH@Z PROC		; CMixSystem::IsCondorItemCheck
; _this$ = ecx

; 4204 : {

  091a0	55		 push	 ebp
  091a1	8b ec		 mov	 ebp, esp
  091a3	83 ec 44	 sub	 esp, 68			; 00000044H
  091a6	53		 push	 ebx
  091a7	56		 push	 esi
  091a8	57		 push	 edi
  091a9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4205 : 	if(iItemCode == this->iCondorFeather || iItemCode == this->iCondorFlame)

  091ac	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  091af	8b 4d 08	 mov	 ecx, DWORD PTR _iItemCode$[ebp]
  091b2	3b 48 1c	 cmp	 ecx, DWORD PTR [eax+28]
  091b5	74 0b		 je	 SHORT $LN1@IsCondorIt
  091b7	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  091ba	8b 4d 08	 mov	 ecx, DWORD PTR _iItemCode$[ebp]
  091bd	3b 48 20	 cmp	 ecx, DWORD PTR [eax+32]
  091c0	75 07		 jne	 SHORT $LN2@IsCondorIt
$LN1@IsCondorIt:

; 4206 : 	{
; 4207 : 		return TRUE;

  091c2	b8 01 00 00 00	 mov	 eax, 1
  091c7	eb 02		 jmp	 SHORT $LN3@IsCondorIt
$LN2@IsCondorIt:

; 4208 : 	}
; 4209 : 	return FALSE;

  091c9	33 c0		 xor	 eax, eax
$LN3@IsCondorIt:

; 4210 : }

  091cb	5f		 pop	 edi
  091cc	5e		 pop	 esi
  091cd	5b		 pop	 ebx
  091ce	8b e5		 mov	 esp, ebp
  091d0	5d		 pop	 ebp
  091d1	c2 04 00	 ret	 4
?IsCondorItemCheck@CMixSystem@@QAEHH@Z ENDP		; CMixSystem::IsCondorItemCheck
_TEXT	ENDS
PUBLIC	?CheckLevel1WingItem@CMixSystem@@QAEHH@Z	; CMixSystem::CheckLevel1WingItem
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
_iItemCode$ = 8						; size = 4
?CheckLevel1WingItem@CMixSystem@@QAEHH@Z PROC		; CMixSystem::CheckLevel1WingItem
; _this$ = ecx

; 4214 : {

  091e0	55		 push	 ebp
  091e1	8b ec		 mov	 ebp, esp
  091e3	83 ec 44	 sub	 esp, 68			; 00000044H
  091e6	53		 push	 ebx
  091e7	56		 push	 esi
  091e8	57		 push	 edi
  091e9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4215 : 	if( iItemCode == ITEMGET(12,0) || 
; 4216 : 		iItemCode == ITEMGET(12,1) || 
; 4217 : 		iItemCode == ITEMGET(12,2) ||
; 4218 : 		iItemCode == ITEMGET(12,41)) //season3 addon

  091ec	81 7d 08 00 18
	00 00		 cmp	 DWORD PTR _iItemCode$[ebp], 6144 ; 00001800H
  091f3	74 1b		 je	 SHORT $LN1@CheckLevel
  091f5	81 7d 08 01 18
	00 00		 cmp	 DWORD PTR _iItemCode$[ebp], 6145 ; 00001801H
  091fc	74 12		 je	 SHORT $LN1@CheckLevel
  091fe	81 7d 08 02 18
	00 00		 cmp	 DWORD PTR _iItemCode$[ebp], 6146 ; 00001802H
  09205	74 09		 je	 SHORT $LN1@CheckLevel
  09207	81 7d 08 29 18
	00 00		 cmp	 DWORD PTR _iItemCode$[ebp], 6185 ; 00001829H
  0920e	75 07		 jne	 SHORT $LN2@CheckLevel
$LN1@CheckLevel:

; 4219 : 	{
; 4220 : 		return TRUE;

  09210	b8 01 00 00 00	 mov	 eax, 1
  09215	eb 02		 jmp	 SHORT $LN3@CheckLevel
$LN2@CheckLevel:

; 4221 : 	}
; 4222 : 	return FALSE;

  09217	33 c0		 xor	 eax, eax
$LN3@CheckLevel:

; 4223 : }

  09219	5f		 pop	 edi
  0921a	5e		 pop	 esi
  0921b	5b		 pop	 ebx
  0921c	8b e5		 mov	 esp, ebp
  0921e	5d		 pop	 ebp
  0921f	c2 04 00	 ret	 4
?CheckLevel1WingItem@CMixSystem@@QAEHH@Z ENDP		; CMixSystem::CheckLevel1WingItem
_TEXT	ENDS
PUBLIC	?CheckLevel2WingItem@CMixSystem@@QAEHH@Z	; CMixSystem::CheckLevel2WingItem
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
_iItemCode$ = 8						; size = 4
?CheckLevel2WingItem@CMixSystem@@QAEHH@Z PROC		; CMixSystem::CheckLevel2WingItem
; _this$ = ecx

; 4227 : {

  09230	55		 push	 ebp
  09231	8b ec		 mov	 ebp, esp
  09233	83 ec 44	 sub	 esp, 68			; 00000044H
  09236	53		 push	 ebx
  09237	56		 push	 esi
  09238	57		 push	 edi
  09239	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4228 : 	if( iItemCode == ITEMGET(12,3) || 
; 4229 : 		iItemCode == ITEMGET(12,4) || 
; 4230 : 		iItemCode == ITEMGET(12,5) ||
; 4231 : 		iItemCode == ITEMGET(12,6) ||
; 4232 : 		iItemCode == ITEMGET(13,30) ||
; 4233 : #ifdef FIX_MIX_CONDOR
; 4234 : 			iItemCode == ITEMGET(12,49) ||
; 4235 : #endif
; 4236 : 		iItemCode == ITEMGET(12,42)) //season3 addon

  0923c	81 7d 08 03 18
	00 00		 cmp	 DWORD PTR _iItemCode$[ebp], 6147 ; 00001803H
  09243	74 36		 je	 SHORT $LN1@CheckLevel@2
  09245	81 7d 08 04 18
	00 00		 cmp	 DWORD PTR _iItemCode$[ebp], 6148 ; 00001804H
  0924c	74 2d		 je	 SHORT $LN1@CheckLevel@2
  0924e	81 7d 08 05 18
	00 00		 cmp	 DWORD PTR _iItemCode$[ebp], 6149 ; 00001805H
  09255	74 24		 je	 SHORT $LN1@CheckLevel@2
  09257	81 7d 08 06 18
	00 00		 cmp	 DWORD PTR _iItemCode$[ebp], 6150 ; 00001806H
  0925e	74 1b		 je	 SHORT $LN1@CheckLevel@2
  09260	81 7d 08 1e 1a
	00 00		 cmp	 DWORD PTR _iItemCode$[ebp], 6686 ; 00001a1eH
  09267	74 12		 je	 SHORT $LN1@CheckLevel@2
  09269	81 7d 08 31 18
	00 00		 cmp	 DWORD PTR _iItemCode$[ebp], 6193 ; 00001831H
  09270	74 09		 je	 SHORT $LN1@CheckLevel@2
  09272	81 7d 08 2a 18
	00 00		 cmp	 DWORD PTR _iItemCode$[ebp], 6186 ; 0000182aH
  09279	75 07		 jne	 SHORT $LN2@CheckLevel@2
$LN1@CheckLevel@2:

; 4237 : 	{
; 4238 : 		return TRUE;

  0927b	b8 01 00 00 00	 mov	 eax, 1
  09280	eb 02		 jmp	 SHORT $LN3@CheckLevel@2
$LN2@CheckLevel@2:

; 4239 : 	}
; 4240 : 	return FALSE;

  09282	33 c0		 xor	 eax, eax
$LN3@CheckLevel@2:

; 4241 : }

  09284	5f		 pop	 edi
  09285	5e		 pop	 esi
  09286	5b		 pop	 ebx
  09287	8b e5		 mov	 esp, ebp
  09289	5d		 pop	 ebp
  0928a	c2 04 00	 ret	 4
?CheckLevel2WingItem@CMixSystem@@QAEHH@Z ENDP		; CMixSystem::CheckLevel2WingItem
_TEXT	ENDS
PUBLIC	?CheckLevel3WingItem@CMixSystem@@QAEHH@Z	; CMixSystem::CheckLevel3WingItem
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
_iItemCode$ = 8						; size = 4
?CheckLevel3WingItem@CMixSystem@@QAEHH@Z PROC		; CMixSystem::CheckLevel3WingItem
; _this$ = ecx

; 4245 : {

  09290	55		 push	 ebp
  09291	8b ec		 mov	 ebp, esp
  09293	83 ec 44	 sub	 esp, 68			; 00000044H
  09296	53		 push	 ebx
  09297	56		 push	 esi
  09298	57		 push	 edi
  09299	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4246 : 	if( iItemCode == this->iWingofStorm || 
; 4247 : 		iItemCode == this->iWingofEternal || 
; 4248 : 		iItemCode == this->iWingofIllusion ||
; 4249 : 		iItemCode == this->iWingofRuin ||
; 4250 : 		iItemCode == this->iCapeofLord ||
; 4251 : 		iItemCode == this->iWingofDimension
; 4252 : 		|| iItemCode == this->CAPE_OF_OVERRULE_ITEMINDEX 
; 4253 : 		)	//1.01.00 updated)

  0929c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0929f	8b 4d 08	 mov	 ecx, DWORD PTR _iItemCode$[ebp]
  092a2	3b 48 24	 cmp	 ecx, DWORD PTR [eax+36]
  092a5	74 42		 je	 SHORT $LN1@CheckLevel@3
  092a7	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  092aa	8b 4d 08	 mov	 ecx, DWORD PTR _iItemCode$[ebp]
  092ad	3b 48 28	 cmp	 ecx, DWORD PTR [eax+40]
  092b0	74 37		 je	 SHORT $LN1@CheckLevel@3
  092b2	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  092b5	8b 4d 08	 mov	 ecx, DWORD PTR _iItemCode$[ebp]
  092b8	3b 48 2c	 cmp	 ecx, DWORD PTR [eax+44]
  092bb	74 2c		 je	 SHORT $LN1@CheckLevel@3
  092bd	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  092c0	8b 4d 08	 mov	 ecx, DWORD PTR _iItemCode$[ebp]
  092c3	3b 48 30	 cmp	 ecx, DWORD PTR [eax+48]
  092c6	74 21		 je	 SHORT $LN1@CheckLevel@3
  092c8	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  092cb	8b 4d 08	 mov	 ecx, DWORD PTR _iItemCode$[ebp]
  092ce	3b 48 34	 cmp	 ecx, DWORD PTR [eax+52]
  092d1	74 16		 je	 SHORT $LN1@CheckLevel@3
  092d3	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  092d6	8b 4d 08	 mov	 ecx, DWORD PTR _iItemCode$[ebp]
  092d9	3b 48 38	 cmp	 ecx, DWORD PTR [eax+56]
  092dc	74 0b		 je	 SHORT $LN1@CheckLevel@3
  092de	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  092e1	8b 4d 08	 mov	 ecx, DWORD PTR _iItemCode$[ebp]
  092e4	3b 48 3c	 cmp	 ecx, DWORD PTR [eax+60]
  092e7	75 07		 jne	 SHORT $LN2@CheckLevel@3
$LN1@CheckLevel@3:

; 4254 : 	{
; 4255 : 		return TRUE;

  092e9	b8 01 00 00 00	 mov	 eax, 1
  092ee	eb 02		 jmp	 SHORT $LN3@CheckLevel@3
$LN2@CheckLevel@3:

; 4256 : 	}
; 4257 : 	return FALSE;

  092f0	33 c0		 xor	 eax, eax
$LN3@CheckLevel@3:

; 4258 : }

  092f2	5f		 pop	 edi
  092f3	5e		 pop	 esi
  092f4	5b		 pop	 ebx
  092f5	8b e5		 mov	 esp, ebp
  092f7	5d		 pop	 ebp
  092f8	c2 04 00	 ret	 4
?CheckLevel3WingItem@CMixSystem@@QAEHH@Z ENDP		; CMixSystem::CheckLevel3WingItem
_TEXT	ENDS
PUBLIC	?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
_lpItem$ = 8						; size = 4
_Level$ = 12						; size = 2
_Op1$ = 16						; size = 1
_Op2$ = 20						; size = 1
_Op3$ = 24						; size = 1
_SetOption$ = 28					; size = 1
_NewOption$ = 32					; size = 1
?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z PROC ; CMixSystem::CheckItemCondition
; _this$ = ecx

; 4262 : {

  09300	55		 push	 ebp
  09301	8b ec		 mov	 ebp, esp
  09303	83 ec 44	 sub	 esp, 68			; 00000044H
  09306	53		 push	 ebx
  09307	56		 push	 esi
  09308	57		 push	 edi
  09309	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4263 : 	if(lpItem == NULL){return FALSE;}

  0930c	83 7d 08 00	 cmp	 DWORD PTR _lpItem$[ebp], 0
  09310	75 07		 jne	 SHORT $LN13@CheckItemC
  09312	33 c0		 xor	 eax, eax
  09314	e9 b1 00 00 00	 jmp	 $LN14@CheckItemC
$LN13@CheckItemC:

; 4264 : 	if(Level != FALSE){if(lpItem->m_Level < Level){return FALSE;}}

  09319	0f bf 45 0c	 movsx	 eax, WORD PTR _Level$[ebp]
  0931d	85 c0		 test	 eax, eax
  0931f	74 16		 je	 SHORT $LN12@CheckItemC
  09321	8b 45 08	 mov	 eax, DWORD PTR _lpItem$[ebp]
  09324	0f bf 48 08	 movsx	 ecx, WORD PTR [eax+8]
  09328	0f bf 55 0c	 movsx	 edx, WORD PTR _Level$[ebp]
  0932c	3b ca		 cmp	 ecx, edx
  0932e	7d 07		 jge	 SHORT $LN12@CheckItemC
  09330	33 c0		 xor	 eax, eax
  09332	e9 93 00 00 00	 jmp	 $LN14@CheckItemC
$LN12@CheckItemC:

; 4265 : 	if(Op1 != FALSE){if(lpItem->m_Option1 < Op1){return FALSE;}}

  09337	0f b6 45 10	 movzx	 eax, BYTE PTR _Op1$[ebp]
  0933b	85 c0		 test	 eax, eax
  0933d	74 16		 je	 SHORT $LN10@CheckItemC
  0933f	8b 45 08	 mov	 eax, DWORD PTR _lpItem$[ebp]
  09342	0f b6 88 94 00
	00 00		 movzx	 ecx, BYTE PTR [eax+148]
  09349	0f b6 55 10	 movzx	 edx, BYTE PTR _Op1$[ebp]
  0934d	3b ca		 cmp	 ecx, edx
  0934f	7d 04		 jge	 SHORT $LN10@CheckItemC
  09351	33 c0		 xor	 eax, eax
  09353	eb 75		 jmp	 SHORT $LN14@CheckItemC
$LN10@CheckItemC:

; 4266 : 	if(Op2 != FALSE){if(lpItem->m_Option2 < Op2){return FALSE;}}

  09355	0f b6 45 14	 movzx	 eax, BYTE PTR _Op2$[ebp]
  09359	85 c0		 test	 eax, eax
  0935b	74 16		 je	 SHORT $LN8@CheckItemC
  0935d	8b 45 08	 mov	 eax, DWORD PTR _lpItem$[ebp]
  09360	0f b6 88 95 00
	00 00		 movzx	 ecx, BYTE PTR [eax+149]
  09367	0f b6 55 14	 movzx	 edx, BYTE PTR _Op2$[ebp]
  0936b	3b ca		 cmp	 ecx, edx
  0936d	7d 04		 jge	 SHORT $LN8@CheckItemC
  0936f	33 c0		 xor	 eax, eax
  09371	eb 57		 jmp	 SHORT $LN14@CheckItemC
$LN8@CheckItemC:

; 4267 : 	if(Op3 != FALSE){if(lpItem->m_Option3 < Op3){return FALSE;}}

  09373	0f b6 45 18	 movzx	 eax, BYTE PTR _Op3$[ebp]
  09377	85 c0		 test	 eax, eax
  09379	74 16		 je	 SHORT $LN6@CheckItemC
  0937b	8b 45 08	 mov	 eax, DWORD PTR _lpItem$[ebp]
  0937e	0f b6 88 96 00
	00 00		 movzx	 ecx, BYTE PTR [eax+150]
  09385	0f b6 55 18	 movzx	 edx, BYTE PTR _Op3$[ebp]
  09389	3b ca		 cmp	 ecx, edx
  0938b	7d 04		 jge	 SHORT $LN6@CheckItemC
  0938d	33 c0		 xor	 eax, eax
  0938f	eb 39		 jmp	 SHORT $LN14@CheckItemC
$LN6@CheckItemC:

; 4268 : 	if(SetOption != FALSE){if(!lpItem->m_SetOption){return FALSE;}}

  09391	0f b6 45 1c	 movzx	 eax, BYTE PTR _SetOption$[ebp]
  09395	85 c0		 test	 eax, eax
  09397	74 12		 je	 SHORT $LN4@CheckItemC
  09399	8b 45 08	 mov	 eax, DWORD PTR _lpItem$[ebp]
  0939c	0f b6 88 ae 00
	00 00		 movzx	 ecx, BYTE PTR [eax+174]
  093a3	85 c9		 test	 ecx, ecx
  093a5	75 04		 jne	 SHORT $LN4@CheckItemC
  093a7	33 c0		 xor	 eax, eax
  093a9	eb 1f		 jmp	 SHORT $LN14@CheckItemC
$LN4@CheckItemC:

; 4269 : 	if(NewOption != FALSE){if(!lpItem->m_NewOption){return FALSE;}}

  093ab	0f b6 45 20	 movzx	 eax, BYTE PTR _NewOption$[ebp]
  093af	85 c0		 test	 eax, eax
  093b1	74 12		 je	 SHORT $LN2@CheckItemC
  093b3	8b 45 08	 mov	 eax, DWORD PTR _lpItem$[ebp]
  093b6	0f b6 88 97 00
	00 00		 movzx	 ecx, BYTE PTR [eax+151]
  093bd	85 c9		 test	 ecx, ecx
  093bf	75 04		 jne	 SHORT $LN2@CheckItemC
  093c1	33 c0		 xor	 eax, eax
  093c3	eb 05		 jmp	 SHORT $LN14@CheckItemC
$LN2@CheckItemC:

; 4270 : 	return TRUE;

  093c5	b8 01 00 00 00	 mov	 eax, 1
$LN14@CheckItemC:

; 4271 : }

  093ca	5f		 pop	 edi
  093cb	5e		 pop	 esi
  093cc	5b		 pop	 ebx
  093cd	8b e5		 mov	 esp, ebp
  093cf	5d		 pop	 ebp
  093d0	c2 1c 00	 ret	 28			; 0000001cH
?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ENDP ; CMixSystem::CheckItemCondition
_TEXT	ENDS
PUBLIC	??_C@_0EP@LDCANMLN@?$FLThirdWing?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CF@ ; `string'
PUBLIC	?ThirdWingMixItemDown@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::ThirdWingMixItemDown
PUBLIC	??_C@_0FC@NNBKAMKF@?$FLThirdWing?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CF@ ; `string'
PUBLIC	??_C@_0CK@EPOMFGLB@?$FLThirdWing?5Mix?$FN?$FLLevel?501?$FN?5Chaos?5@ ; `string'
PUBLIC	??_C@_0BE@NEOLPNCO@ThirdWingLevel1_Mix?$AA@	; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?ThirdWingMix1@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::ThirdWingMix1
;	COMDAT ??_C@_0EP@LDCANMLN@?$FLThirdWing?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CF@
CONST	SEGMENT
??_C@_0EP@LDCANMLN@?$FLThirdWing?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CF@ DB '['
	DB	'ThirdWing Mix][Level 01] [%s][%s] CBMix Fail %d Money : %d-%d'
	DB	', CharmRate : %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0FC@NNBKAMKF@?$FLThirdWing?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CF@
CONST	SEGMENT
??_C@_0FC@NNBKAMKF@?$FLThirdWing?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CF@ DB '['
	DB	'ThirdWing Mix][Level 01] [%s][%s] CBMix Success %d Money : %d'
	DB	'-%d, CharmRate : %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CK@EPOMFGLB@?$FLThirdWing?5Mix?$FN?$FLLevel?501?$FN?5Chaos?5@
CONST	SEGMENT
??_C@_0CK@EPOMFGLB@?$FLThirdWing?5Mix?$FN?$FLLevel?501?$FN?5Chaos?5@ DB '['
	DB	'ThirdWing Mix][Level 01] Chaos Mix Start', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@NEOLPNCO@ThirdWingLevel1_Mix?$AA@
CONST	SEGMENT
??_C@_0BE@NEOLPNCO@ThirdWingLevel1_Mix?$AA@ DB 'ThirdWingLevel1_Mix', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_dur$237103 = -80					; size = 4
_level$237102 = -76					; size = 4
_type$237101 = -72					; size = 4
_iChaosTaxMoney$ = -68					; size = 4
_n$237061 = -64						; size = 4
_pMsg$ = -60						; size = 16
_loc10$ = -44						; size = 4
_loc9$ = -40						; size = 4
_loc8$ = -36						; size = 4
_loc7$ = -32						; size = 4
_loc6$ = -28						; size = 4
_loc5$ = -24						; size = 4
_loc4$ = -20						; size = 4
_loc3$ = -16						; size = 4
_loc2$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?ThirdWingMix1@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC	; CMixSystem::ThirdWingMix1
; _this$ = ecx

; 4275 : {

  093e0	55		 push	 ebp
  093e1	8b ec		 mov	 ebp, esp
  093e3	81 ec 90 00 00
	00		 sub	 esp, 144		; 00000090H
  093e9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  093ee	33 c5		 xor	 eax, ebp
  093f0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  093f3	53		 push	 ebx
  093f4	56		 push	 esi
  093f5	57		 push	 edi
  093f6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 4276 : 	lpObj->ChaosLock = TRUE;

  093f9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  093fc	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 4277 : 	
; 4278 : 	int loc2 = 0;

  09406	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _loc2$[ebp], 0

; 4279 : 	int loc3 = 0;

  0940d	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _loc3$[ebp], 0

; 4280 : 	int loc4 = 0;

  09414	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _loc4$[ebp], 0

; 4281 : 	int loc5 = 0;

  0941b	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _loc5$[ebp], 0

; 4282 : 	int loc6 = 0;

  09422	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _loc6$[ebp], 0

; 4283 : 	int loc7 = 0;

  09429	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _loc7$[ebp], 0

; 4284 : 	int loc8 = 0;

  09430	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _loc8$[ebp], 0

; 4285 : 	int loc9 = 0;

  09437	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _loc9$[ebp], 0

; 4286 : 	int loc10 = 0;

  0943e	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _loc10$[ebp], 0

; 4287 : 
; 4288 : 	PMSG_CHAOSMIXRESULT pMsg;
; 4289 : 
; 4290 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  09445	6a 10		 push	 16			; 00000010H
  09447	68 86 00 00 00	 push	 134			; 00000086H
  0944c	8d 45 c4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0944f	50		 push	 eax
  09450	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  09455	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4291 : 	pMsg.Result = CB_ERROR;

  09458	c6 45 c7 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 4292 : 
; 4293 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++) //loc14

  0945c	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _n$237061[ebp], 0
  09463	eb 09		 jmp	 SHORT $LN29@ThirdWingM
$LN28@ThirdWingM:
  09465	8b 45 c0	 mov	 eax, DWORD PTR _n$237061[ebp]
  09468	83 c0 01	 add	 eax, 1
  0946b	89 45 c0	 mov	 DWORD PTR _n$237061[ebp], eax
$LN29@ThirdWingM:
  0946e	83 7d c0 20	 cmp	 DWORD PTR _n$237061[ebp], 32 ; 00000020H
  09472	0f 8d a2 01 00
	00		 jge	 $LN27@ThirdWingM

; 4294 : 	{
; 4295 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  09478	8b 4d c0	 mov	 ecx, DWORD PTR _n$237061[ebp]
  0947b	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  09481	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09484	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0948a	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0948f	83 f8 01	 cmp	 eax, 1
  09492	0f 85 7d 01 00
	00		 jne	 $LN13@ThirdWingM

; 4296 : 		{
; 4297 : 			if ( this->CheckLevel2WingItem(lpObj->pChaosBox[n].m_Type) != FALSE )

  09498	8b 45 c0	 mov	 eax, DWORD PTR _n$237061[ebp]
  0949b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  094a1	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  094a4	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  094aa	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  094af	50		 push	 eax
  094b0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  094b3	e8 00 00 00 00	 call	 ?CheckLevel2WingItem@CMixSystem@@QAEHH@Z ; CMixSystem::CheckLevel2WingItem
  094b8	85 c0		 test	 eax, eax
  094ba	74 39		 je	 SHORT $LN25@ThirdWingM

; 4298 : 			{
; 4299 : 				if( this->CheckItemCondition(&lpObj->pChaosBox[n],9,0,0,1,0,0) != FALSE )

  094bc	6a 00		 push	 0
  094be	6a 00		 push	 0
  094c0	6a 01		 push	 1
  094c2	6a 00		 push	 0
  094c4	6a 00		 push	 0
  094c6	6a 09		 push	 9
  094c8	8b 45 c0	 mov	 eax, DWORD PTR _n$237061[ebp]
  094cb	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  094d1	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  094d4	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  094da	50		 push	 eax
  094db	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  094de	e8 00 00 00 00	 call	 ?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
  094e3	85 c0		 test	 eax, eax
  094e5	74 09		 je	 SHORT $LN24@ThirdWingM

; 4300 : 				{
; 4301 : 					loc2++;

  094e7	8b 45 f4	 mov	 eax, DWORD PTR _loc2$[ebp]
  094ea	83 c0 01	 add	 eax, 1
  094ed	89 45 f4	 mov	 DWORD PTR _loc2$[ebp], eax
$LN24@ThirdWingM:

; 4302 : 				}
; 4303 : 			}

  094f0	e9 20 01 00 00	 jmp	 $LN13@ThirdWingM
$LN25@ThirdWingM:

; 4304 : 			else if( this->CheckItemCondition(&lpObj->pChaosBox[n],7,0,0,1,1,0) != FALSE )

  094f5	6a 00		 push	 0
  094f7	6a 01		 push	 1
  094f9	6a 01		 push	 1
  094fb	6a 00		 push	 0
  094fd	6a 00		 push	 0
  094ff	6a 07		 push	 7
  09501	8b 45 c0	 mov	 eax, DWORD PTR _n$237061[ebp]
  09504	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0950a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0950d	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  09513	50		 push	 eax
  09514	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  09517	e8 00 00 00 00	 call	 ?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
  0951c	85 c0		 test	 eax, eax
  0951e	74 2a		 je	 SHORT $LN22@ThirdWingM

; 4305 : 			{
; 4306 : 				loc3++;

  09520	8b 45 f0	 mov	 eax, DWORD PTR _loc3$[ebp]
  09523	83 c0 01	 add	 eax, 1
  09526	89 45 f0	 mov	 DWORD PTR _loc3$[ebp], eax

; 4307 : 				loc8 += lpObj->pChaosBox[n].m_BuyMoney;

  09529	8b 45 c0	 mov	 eax, DWORD PTR _n$237061[ebp]
  0952c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  09532	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09535	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0953b	8b 4d dc	 mov	 ecx, DWORD PTR _loc8$[ebp]
  0953e	03 4c 02 70	 add	 ecx, DWORD PTR [edx+eax+112]
  09542	89 4d dc	 mov	 DWORD PTR _loc8$[ebp], ecx
  09545	e9 cb 00 00 00	 jmp	 $LN13@ThirdWingM
$LN22@ThirdWingM:

; 4308 : 			}
; 4309 : 			else if( lpObj->pChaosBox[n].m_Type == this->iJewelofChaos)

  0954a	8b 45 c0	 mov	 eax, DWORD PTR _n$237061[ebp]
  0954d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  09553	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09556	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0955c	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  09561	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  09564	3b 41 04	 cmp	 eax, DWORD PTR [ecx+4]
  09567	75 0e		 jne	 SHORT $LN20@ThirdWingM

; 4310 : 			{
; 4311 : 				loc4++;

  09569	8b 45 ec	 mov	 eax, DWORD PTR _loc4$[ebp]
  0956c	83 c0 01	 add	 eax, 1
  0956f	89 45 ec	 mov	 DWORD PTR _loc4$[ebp], eax
  09572	e9 9e 00 00 00	 jmp	 $LN13@ThirdWingM
$LN20@ThirdWingM:

; 4312 : 			}
; 4313 : 			else if( lpObj->pChaosBox[n].m_Type == this->iBundleofSoul)

  09577	8b 45 c0	 mov	 eax, DWORD PTR _n$237061[ebp]
  0957a	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  09580	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09583	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  09589	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0958e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  09591	3b 41 18	 cmp	 eax, DWORD PTR [ecx+24]
  09594	75 0b		 jne	 SHORT $LN18@ThirdWingM

; 4314 : 			{
; 4315 : 				loc5++;

  09596	8b 45 e8	 mov	 eax, DWORD PTR _loc5$[ebp]
  09599	83 c0 01	 add	 eax, 1
  0959c	89 45 e8	 mov	 DWORD PTR _loc5$[ebp], eax
  0959f	eb 74		 jmp	 SHORT $LN13@ThirdWingM
$LN18@ThirdWingM:

; 4316 : 			}
; 4317 : 			else if( lpObj->pChaosBox[n].m_Type == this->iJewelofCreation)

  095a1	8b 45 c0	 mov	 eax, DWORD PTR _n$237061[ebp]
  095a4	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  095aa	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  095ad	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  095b3	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  095b8	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  095bb	3b 41 10	 cmp	 eax, DWORD PTR [ecx+16]
  095be	75 0b		 jne	 SHORT $LN16@ThirdWingM

; 4318 : 			{
; 4319 : 				loc6++;

  095c0	8b 45 e4	 mov	 eax, DWORD PTR _loc6$[ebp]
  095c3	83 c0 01	 add	 eax, 1
  095c6	89 45 e4	 mov	 DWORD PTR _loc6$[ebp], eax
  095c9	eb 4a		 jmp	 SHORT $LN13@ThirdWingM
$LN16@ThirdWingM:

; 4320 : 			}
; 4321 : 			else if( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )

  095cb	8b 45 c0	 mov	 eax, DWORD PTR _n$237061[ebp]
  095ce	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  095d4	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  095d7	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  095dd	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  095e2	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  095e7	75 23		 jne	 SHORT $LN14@ThirdWingM

; 4322 : 			{
; 4323 : 				loc10+= (int)lpObj->pChaosBox[n].m_Durability;

  095e9	8b 45 c0	 mov	 eax, DWORD PTR _n$237061[ebp]
  095ec	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  095f2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  095f5	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  095fb	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  095ff	e8 00 00 00 00	 call	 __ftol2_sse
  09604	03 45 d4	 add	 eax, DWORD PTR _loc10$[ebp]
  09607	89 45 d4	 mov	 DWORD PTR _loc10$[ebp], eax

; 4324 : 			}
; 4325 : 			else

  0960a	eb 09		 jmp	 SHORT $LN13@ThirdWingM
$LN14@ThirdWingM:

; 4326 : 			{
; 4327 : 				loc7++;

  0960c	8b 45 e0	 mov	 eax, DWORD PTR _loc7$[ebp]
  0960f	83 c0 01	 add	 eax, 1
  09612	89 45 e0	 mov	 DWORD PTR _loc7$[ebp], eax
$LN13@ThirdWingM:

; 4328 : 			}
; 4329 : 		}
; 4330 : 	}

  09615	e9 4b fe ff ff	 jmp	 $LN28@ThirdWingM
$LN27@ThirdWingM:

; 4331 : 
; 4332 : 	if(loc10 > 10)

  0961a	83 7d d4 0a	 cmp	 DWORD PTR _loc10$[ebp], 10 ; 0000000aH
  0961e	7e 2d		 jle	 SHORT $LN12@ThirdWingM

; 4333 : 	{
; 4334 : 		pMsg.Result = 0xF0; //new macro

  09620	c6 45 c7 f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 4335 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  09624	0f b6 45 c5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  09628	50		 push	 eax
  09629	8d 4d c4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0962c	51		 push	 ecx
  0962d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09630	8b 02		 mov	 eax, DWORD PTR [edx]
  09632	50		 push	 eax
  09633	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  09638	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4336 : 		lpObj->ChaosLock = FALSE;

  0963b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0963e	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4337 : 		return;

  09648	e9 30 03 00 00	 jmp	 $LN30@ThirdWingM
$LN12@ThirdWingM:

; 4338 : 	}
; 4339 : 
; 4340 : 	if(loc2 != 1 || loc3 < 1 || loc4 != 1 || loc5 != 1 || loc6 != 1 || loc7 > 0)

  0964d	83 7d f4 01	 cmp	 DWORD PTR _loc2$[ebp], 1
  09651	75 1e		 jne	 SHORT $LN10@ThirdWingM
  09653	83 7d f0 01	 cmp	 DWORD PTR _loc3$[ebp], 1
  09657	7c 18		 jl	 SHORT $LN10@ThirdWingM
  09659	83 7d ec 01	 cmp	 DWORD PTR _loc4$[ebp], 1
  0965d	75 12		 jne	 SHORT $LN10@ThirdWingM
  0965f	83 7d e8 01	 cmp	 DWORD PTR _loc5$[ebp], 1
  09663	75 0c		 jne	 SHORT $LN10@ThirdWingM
  09665	83 7d e4 01	 cmp	 DWORD PTR _loc6$[ebp], 1
  09669	75 06		 jne	 SHORT $LN10@ThirdWingM
  0966b	83 7d e0 00	 cmp	 DWORD PTR _loc7$[ebp], 0
  0966f	7e 2d		 jle	 SHORT $LN11@ThirdWingM
$LN10@ThirdWingM:

; 4341 : 	{
; 4342 : 		pMsg.Result = CB_INCORRECT_MIX_ITEMS;

  09671	c6 45 c7 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 4343 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  09675	0f b6 45 c5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  09679	50		 push	 eax
  0967a	8d 4d c4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0967d	51		 push	 ecx
  0967e	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09681	8b 02		 mov	 eax, DWORD PTR [edx]
  09683	50		 push	 eax
  09684	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  09689	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4344 : 		lpObj->ChaosLock = FALSE;

  0968c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0968f	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4345 : 		return;

  09699	e9 df 02 00 00	 jmp	 $LN30@ThirdWingM
$LN11@ThirdWingM:

; 4346 : 	}
; 4347 : 
; 4348 : 	LogChaosItem(lpObj, "ThirdWingLevel1_Mix");

  0969e	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@NEOLPNCO@ThirdWingLevel1_Mix?$AA@
  096a3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  096a6	50		 push	 eax
  096a7	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  096aa	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 4349 : 	LogAddTD("[ThirdWing Mix][Level 01] Chaos Mix Start");

  096af	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@EPOMFGLB@?$FLThirdWing?5Mix?$FN?$FLLevel?501?$FN?5Chaos?5@
  096b4	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  096ba	83 c4 04	 add	 esp, 4

; 4350 : 
; 4351 : 	if(loc8 > 0)

  096bd	83 7d dc 00	 cmp	 DWORD PTR _loc8$[ebp], 0
  096c1	7e 14		 jle	 SHORT $LN9@ThirdWingM

; 4352 : 	{
; 4353 : 		lpObj->ChaosSuccessRate = loc8 / 300000;

  096c3	8b 45 dc	 mov	 eax, DWORD PTR _loc8$[ebp]
  096c6	99		 cdq
  096c7	b9 e0 93 04 00	 mov	 ecx, 300000		; 000493e0H
  096cc	f7 f9		 idiv	 ecx
  096ce	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  096d1	89 82 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], eax
$LN9@ThirdWingM:

; 4354 : 	}
; 4355 : 	//int ExFeatherofCondorMixMaxPercent = GetPrivateProfileInt("ChaosMix","FeatherofCondorMixMaxPercent",60,"..\\Data\\ExData\\CommonServer.ini");
; 4356 : 	if(lpObj->ChaosSuccessRate > ExConfig.CommonServer.ExFeatherofCondorMixMaxPercent)

  096d7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  096da	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  096e0	3b 0d 88 00 00
	00		 cmp	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+136
  096e6	7e 11		 jle	 SHORT $LN8@ThirdWingM

; 4357 : 	{
; 4358 : 		lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExFeatherofCondorMixMaxPercent;

  096e8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  096eb	8b 0d 88 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+136
  096f1	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
  096f7	eb 19		 jmp	 SHORT $LN6@ThirdWingM
$LN8@ThirdWingM:

; 4359 : 	}
; 4360 : 	else if( lpObj->ChaosSuccessRate < 1)

  096f9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  096fc	83 b8 84 0e 00
	00 01		 cmp	 DWORD PTR [eax+3716], 1
  09703	7d 0d		 jge	 SHORT $LN6@ThirdWingM

; 4361 : 	{
; 4362 : 		lpObj->ChaosSuccessRate = 1;

  09705	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09708	c7 80 84 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3716], 1
$LN6@ThirdWingM:

; 4363 : 	}
; 4364 : 
; 4365 : 	loc9 = lpObj->ChaosSuccessRate * 200000;

  09712	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09715	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  0971b	69 c9 40 0d 03
	00		 imul	 ecx, 200000		; 00030d40H
  09721	89 4d d8	 mov	 DWORD PTR _loc9$[ebp], ecx

; 4366 : 
; 4367 : 	lpObj->ChaosSuccessRate += loc10;

  09724	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09727	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  0972d	03 4d d4	 add	 ecx, DWORD PTR _loc10$[ebp]
  09730	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09733	89 8a 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], ecx

; 4368 : 
; 4369 : 	loc9 = lpObj->ChaosSuccessRate * 200000; //why double? maybe inside some if

  09739	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0973c	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  09742	69 c9 40 0d 03
	00		 imul	 ecx, 200000		; 00030d40H
  09748	89 4d d8	 mov	 DWORD PTR _loc9$[ebp], ecx

; 4370 : 
; 4371 : 	int iChaosTaxMoney = (int)((__int64)loc9 * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  0974b	8b 45 d8	 mov	 eax, DWORD PTR _loc9$[ebp]
  0974e	99		 cdq
  0974f	8b f0		 mov	 esi, eax
  09751	8b fa		 mov	 edi, edx
  09753	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09756	8b 08		 mov	 ecx, DWORD PTR [eax]
  09758	51		 push	 ecx
  09759	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0975e	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  09763	99		 cdq
  09764	52		 push	 edx
  09765	50		 push	 eax
  09766	57		 push	 edi
  09767	56		 push	 esi
  09768	e8 00 00 00 00	 call	 __allmul
  0976d	6a 00		 push	 0
  0976f	6a 64		 push	 100			; 00000064H
  09771	52		 push	 edx
  09772	50		 push	 eax
  09773	e8 00 00 00 00	 call	 __alldiv
  09778	89 45 bc	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 4372 : 
; 4373 : 	if(iChaosTaxMoney < 0)

  0977b	83 7d bc 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  0977f	7d 07		 jge	 SHORT $LN5@ThirdWingM

; 4374 : 	{
; 4375 : 		iChaosTaxMoney = 0;

  09781	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN5@ThirdWingM:

; 4376 : 	}
; 4377 : 
; 4378 : 	loc9 += iChaosTaxMoney;

  09788	8b 45 d8	 mov	 eax, DWORD PTR _loc9$[ebp]
  0978b	03 45 bc	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0978e	89 45 d8	 mov	 DWORD PTR _loc9$[ebp], eax

; 4379 : 
; 4380 : 	loc9 += lpObj->m_AddMixMoney;

  09791	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09794	8b 4d d8	 mov	 ecx, DWORD PTR _loc9$[ebp]
  09797	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  0979d	89 4d d8	 mov	 DWORD PTR _loc9$[ebp], ecx

; 4381 : 
; 4382 : 	if(loc9 < 0)

  097a0	79 07		 jns	 SHORT $LN4@ThirdWingM

; 4383 : 	{
; 4384 : 		loc9 = 0;

  097a2	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _loc9$[ebp], 0
$LN4@ThirdWingM:

; 4385 : 	}
; 4386 : 
; 4387 : 	if ( lpObj->Money < loc9 )

  097a9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  097ac	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  097b2	3b 4d d8	 cmp	 ecx, DWORD PTR _loc9$[ebp]
  097b5	7d 2d		 jge	 SHORT $LN3@ThirdWingM

; 4388 : 	{
; 4389 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  097b7	c6 45 c7 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 4390 : 		
; 4391 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  097bb	0f b6 45 c5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  097bf	50		 push	 eax
  097c0	8d 4d c4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  097c3	51		 push	 ecx
  097c4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  097c7	8b 02		 mov	 eax, DWORD PTR [edx]
  097c9	50		 push	 eax
  097ca	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  097cf	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4392 : 		lpObj->ChaosLock = FALSE;

  097d2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  097d5	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4393 : 
; 4394 : 		return;

  097df	e9 99 01 00 00	 jmp	 $LN30@ThirdWingM
$LN3@ThirdWingM:

; 4395 : 	}
; 4396 : 
; 4397 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  097e4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  097e7	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  097ed	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  097f0	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  097f6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  097f9	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 4398 : 
; 4399 : 	lpObj->Money -= loc9;

  097ff	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09802	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  09808	2b 4d d8	 sub	 ecx, DWORD PTR _loc9$[ebp]
  0980b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0980e	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 4400 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  09814	8b 45 bc	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  09817	50		 push	 eax
  09818	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0981d	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 4401 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  09822	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09825	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0982b	51		 push	 ecx
  0982c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0982f	8b 02		 mov	 eax, DWORD PTR [edx]
  09831	50		 push	 eax
  09832	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  09837	83 c4 08	 add	 esp, 8

; 4402 : 
; 4403 : 	if ( (rand()%100) < lpObj->ChaosSuccessRate )

  0983a	e8 00 00 00 00	 call	 _rand
  0983f	99		 cdq
  09840	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  09845	f7 f9		 idiv	 ecx
  09847	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0984a	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  09850	0f 8d a1 00 00
	00		 jge	 $LN2@ThirdWingM

; 4404 : 	{
; 4405 : 		int type = ITEMGET(13,53);

  09856	c7 45 b8 35 1a
	00 00		 mov	 DWORD PTR _type$237101[ebp], 6709 ; 00001a35H

; 4406 : 		int level = 0;

  0985d	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR _level$237102[ebp], 0

; 4407 : 		int dur = 1;

  09864	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR _dur$237103[ebp], 1

; 4408 : 
; 4409 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, type , (BYTE)level, (BYTE)dur, 0, 0, 0, -1, 0, 0);

  0986b	6a 00		 push	 0
  0986d	6a 00		 push	 0
  0986f	6a ff		 push	 -1
  09871	6a 00		 push	 0
  09873	6a 00		 push	 0
  09875	6a 00		 push	 0
  09877	0f b6 45 b0	 movzx	 eax, BYTE PTR _dur$237103[ebp]
  0987b	50		 push	 eax
  0987c	0f b6 4d b4	 movzx	 ecx, BYTE PTR _level$237102[ebp]
  09880	51		 push	 ecx
  09881	8b 55 b8	 mov	 edx, DWORD PTR _type$237101[ebp]
  09884	52		 push	 edx
  09885	6a 00		 push	 0
  09887	6a 00		 push	 0
  09889	68 ff 00 00 00	 push	 255			; 000000ffH
  0988e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09891	8b 08		 mov	 ecx, DWORD PTR [eax]
  09893	51		 push	 ecx
  09894	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  09899	83 c4 34	 add	 esp, 52			; 00000034H

; 4410 : 		::gObjInventoryCommit(lpObj->m_Index);

  0989c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0989f	8b 08		 mov	 ecx, DWORD PTR [eax]
  098a1	51		 push	 ecx
  098a2	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  098a7	83 c4 04	 add	 esp, 4

; 4411 : 
; 4412 : 		LogAddTD("[ThirdWing Mix][Level 01] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate : %d",
; 4413 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate,	lpObj->Money, loc9, loc10);

  098aa	8b 45 d4	 mov	 eax, DWORD PTR _loc10$[ebp]
  098ad	50		 push	 eax
  098ae	8b 4d d8	 mov	 ecx, DWORD PTR _loc9$[ebp]
  098b1	51		 push	 ecx
  098b2	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  098b5	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  098bb	50		 push	 eax
  098bc	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  098bf	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  098c5	52		 push	 edx
  098c6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  098c9	83 c0 77	 add	 eax, 119		; 00000077H
  098cc	50		 push	 eax
  098cd	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  098d0	83 c1 6c	 add	 ecx, 108		; 0000006cH
  098d3	51		 push	 ecx
  098d4	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@NNBKAMKF@?$FLThirdWing?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CF@
  098d9	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  098df	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4414 : #if(SYSTEM_ACHIEVEMENTS)
; 4415 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  098e2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  098e5	8b 08		 mov	 ecx, DWORD PTR [eax]
  098e7	51		 push	 ecx
  098e8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  098ed	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 4416 : #endif
; 4417 : 	}
; 4418 : 	else

  098f2	e9 86 00 00 00	 jmp	 $LN1@ThirdWingM
$LN2@ThirdWingM:

; 4419 : 	{
; 4420 : 		this->ThirdWingMixItemDown(lpObj);

  098f7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  098fa	50		 push	 eax
  098fb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  098fe	e8 00 00 00 00	 call	 ?ThirdWingMixItemDown@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::ThirdWingMixItemDown

; 4421 : 		::GCUserChaosBoxSend(lpObj, 0);

  09903	6a 00		 push	 0
  09905	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09908	50		 push	 eax
  09909	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0990e	83 c4 08	 add	 esp, 8

; 4422 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  09911	0f b6 45 c5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  09915	50		 push	 eax
  09916	8d 4d c4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  09919	51		 push	 ecx
  0991a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0991d	8b 02		 mov	 eax, DWORD PTR [edx]
  0991f	50		 push	 eax
  09920	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  09925	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4423 : 
; 4424 : 		LogAddTD("[ThirdWing Mix][Level 01] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : %d",
; 4425 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate,	lpObj->Money, loc9, loc10);

  09928	8b 45 d4	 mov	 eax, DWORD PTR _loc10$[ebp]
  0992b	50		 push	 eax
  0992c	8b 4d d8	 mov	 ecx, DWORD PTR _loc9$[ebp]
  0992f	51		 push	 ecx
  09930	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09933	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  09939	50		 push	 eax
  0993a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0993d	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  09943	52		 push	 edx
  09944	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09947	83 c0 77	 add	 eax, 119		; 00000077H
  0994a	50		 push	 eax
  0994b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0994e	83 c1 6c	 add	 ecx, 108		; 0000006cH
  09951	51		 push	 ecx
  09952	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@LDCANMLN@?$FLThirdWing?5Mix?$FN?$FLLevel?501?$FN?5?$FL?$CFs?$FN?$FL?$CF@
  09957	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0995d	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4426 : 		lpObj->ChaosLock = FALSE;

  09960	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09963	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4427 : #if(SYSTEM_ACHIEVEMENTS)
; 4428 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  0996d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09970	8b 08		 mov	 ecx, DWORD PTR [eax]
  09972	51		 push	 ecx
  09973	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  09978	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN1@ThirdWingM:
$LN30@ThirdWingM:

; 4429 : #endif
; 4430 : 	}
; 4431 : }

  0997d	5f		 pop	 edi
  0997e	5e		 pop	 esi
  0997f	5b		 pop	 ebx
  09980	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  09983	33 cd		 xor	 ecx, ebp
  09985	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0998a	8b e5		 mov	 esp, ebp
  0998c	5d		 pop	 ebp
  0998d	c2 04 00	 ret	 4
?ThirdWingMix1@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP	; CMixSystem::ThirdWingMix1
_TEXT	ENDS
PUBLIC	??_C@_0EP@JFJPOIME@?$FLThirdWing?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@ ; `string'
PUBLIC	??_C@_0FC@GGMOACLG@?$FLThirdWing?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@ ; `string'
PUBLIC	??_C@_0CK@OMLKNABI@?$FLThirdWing?5Mix?$FN?$FLLevel?502?$FN?5Chaos?5@ ; `string'
PUBLIC	??_C@_0BE@FCHPIPIA@ThirdWingLevel2_Mix?$AA@	; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?ThirdWingMix2@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::ThirdWingMix2
;	COMDAT ??_C@_0EP@JFJPOIME@?$FLThirdWing?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@
CONST	SEGMENT
??_C@_0EP@JFJPOIME@?$FLThirdWing?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@ DB '['
	DB	'ThirdWing Mix][Level 02] [%s][%s] CBMix Fail %d Money : %d-%d'
	DB	', CharmRate : %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0FC@GGMOACLG@?$FLThirdWing?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@
CONST	SEGMENT
??_C@_0FC@GGMOACLG@?$FLThirdWing?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@ DB '['
	DB	'ThirdWing Mix][Level 02] [%s][%s] CBMix Success %d Money : %d'
	DB	'-%d, CharmRate : %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CK@OMLKNABI@?$FLThirdWing?5Mix?$FN?$FLLevel?502?$FN?5Chaos?5@
CONST	SEGMENT
??_C@_0CK@OMLKNABI@?$FLThirdWing?5Mix?$FN?$FLLevel?502?$FN?5Chaos?5@ DB '['
	DB	'ThirdWing Mix][Level 02] Chaos Mix Start', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@FCHPIPIA@ThirdWingLevel2_Mix?$AA@
CONST	SEGMENT
??_C@_0BE@FCHPIPIA@ThirdWingLevel2_Mix?$AA@ DB 'ThirdWingLevel2_Mix', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv313 = -196						; size = 4
tv302 = -196						; size = 4
tv287 = -196						; size = 4
_loc29$237200 = -128					; size = 4
_loc28$237199 = -124					; size = 4
_loc27$237198 = -120					; size = 4
_loc26$237197 = -116					; size = 4
_loc25$237196 = -112					; size = 4
_loc24$237195 = -108					; size = 4
_loc23$237194 = -104					; size = 4
_loc22$237193 = -100					; size = 4
_loc21$237191 = -96					; size = 4
_loc20$237190 = -92					; size = 4
_loc19$237176 = -88					; size = 4
_loc18$237175 = -84					; size = 4
_CharItemCount$237171 = -80				; size = 4
_iChaosTaxMoney$ = -76					; size = 4
_n$237128 = -72						; size = 4
_pMsg$ = -68						; size = 16
_loc12$ = -52						; size = 4
_loc11$ = -48						; size = 4
_loc10$ = -44						; size = 4
_loc9$ = -40						; size = 4
_loc8$ = -36						; size = 4
_loc7$ = -32						; size = 4
_loc6$ = -28						; size = 4
_loc5$ = -24						; size = 4
_loc4$ = -20						; size = 4
_loc3$ = -16						; size = 4
_loc2$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?ThirdWingMix2@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC	; CMixSystem::ThirdWingMix2
; _this$ = ecx

; 4435 : {	

  09990	55		 push	 ebp
  09991	8b ec		 mov	 ebp, esp
  09993	81 ec c4 00 00
	00		 sub	 esp, 196		; 000000c4H
  09999	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0999e	33 c5		 xor	 eax, ebp
  099a0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  099a3	53		 push	 ebx
  099a4	56		 push	 esi
  099a5	57		 push	 edi
  099a6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 4436 : 	lpObj->ChaosLock = TRUE;

  099a9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  099ac	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 4437 : 	
; 4438 : 	int loc2 = 0;

  099b6	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _loc2$[ebp], 0

; 4439 : 	int loc3 = 0;

  099bd	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _loc3$[ebp], 0

; 4440 : 	int loc4 = 0;

  099c4	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _loc4$[ebp], 0

; 4441 : 	int loc5 = 0;

  099cb	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _loc5$[ebp], 0

; 4442 : 	int loc6 = 0;

  099d2	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _loc6$[ebp], 0

; 4443 : 	int loc7 = 0;

  099d9	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _loc7$[ebp], 0

; 4444 : 	int loc8 = 0;

  099e0	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _loc8$[ebp], 0

; 4445 : 	int loc9 = 0;

  099e7	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _loc9$[ebp], 0

; 4446 : 	int loc10 = 0;

  099ee	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _loc10$[ebp], 0

; 4447 : 	int loc11 = 0;

  099f5	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _loc11$[ebp], 0

; 4448 : 	int loc12 = 0;

  099fc	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _loc12$[ebp], 0

; 4449 : 
; 4450 : 	PMSG_CHAOSMIXRESULT pMsg;
; 4451 : 
; 4452 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  09a03	6a 10		 push	 16			; 00000010H
  09a05	68 86 00 00 00	 push	 134			; 00000086H
  09a0a	8d 45 bc	 lea	 eax, DWORD PTR _pMsg$[ebp]
  09a0d	50		 push	 eax
  09a0e	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  09a13	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4453 : 	pMsg.Result = CB_ERROR;

  09a16	c6 45 bf 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 4454 : 
; 4455 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++) //loc16

  09a1a	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _n$237128[ebp], 0
  09a21	eb 09		 jmp	 SHORT $LN73@ThirdWingM@2
$LN72@ThirdWingM@2:
  09a23	8b 45 b8	 mov	 eax, DWORD PTR _n$237128[ebp]
  09a26	83 c0 01	 add	 eax, 1
  09a29	89 45 b8	 mov	 DWORD PTR _n$237128[ebp], eax
$LN73@ThirdWingM@2:
  09a2c	83 7d b8 20	 cmp	 DWORD PTR _n$237128[ebp], 32 ; 00000020H
  09a30	0f 8d cc 01 00
	00		 jge	 $LN71@ThirdWingM@2

; 4456 : 	{
; 4457 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  09a36	8b 4d b8	 mov	 ecx, DWORD PTR _n$237128[ebp]
  09a39	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  09a3f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09a42	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  09a48	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  09a4d	83 f8 01	 cmp	 eax, 1
  09a50	0f 85 a7 01 00
	00		 jne	 $LN54@ThirdWingM@2

; 4458 : 		{
; 4459 : 			if( this->CheckItemCondition(&lpObj->pChaosBox[n],7,0,0,1,0,1) != FALSE )

  09a56	6a 01		 push	 1
  09a58	6a 00		 push	 0
  09a5a	6a 01		 push	 1
  09a5c	6a 00		 push	 0
  09a5e	6a 00		 push	 0
  09a60	6a 07		 push	 7
  09a62	8b 45 b8	 mov	 eax, DWORD PTR _n$237128[ebp]
  09a65	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  09a6b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09a6e	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  09a74	50		 push	 eax
  09a75	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  09a78	e8 00 00 00 00	 call	 ?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
  09a7d	85 c0		 test	 eax, eax
  09a7f	74 2a		 je	 SHORT $LN69@ThirdWingM@2

; 4460 : 			{
; 4461 : 				loc2++;

  09a81	8b 45 f4	 mov	 eax, DWORD PTR _loc2$[ebp]
  09a84	83 c0 01	 add	 eax, 1
  09a87	89 45 f4	 mov	 DWORD PTR _loc2$[ebp], eax

; 4462 : 				loc10 += lpObj->pChaosBox[n].m_BuyMoney;

  09a8a	8b 45 b8	 mov	 eax, DWORD PTR _n$237128[ebp]
  09a8d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  09a93	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09a96	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  09a9c	8b 4d d4	 mov	 ecx, DWORD PTR _loc10$[ebp]
  09a9f	03 4c 02 70	 add	 ecx, DWORD PTR [edx+eax+112]
  09aa3	89 4d d4	 mov	 DWORD PTR _loc10$[ebp], ecx
  09aa6	e9 52 01 00 00	 jmp	 $LN54@ThirdWingM@2
$LN69@ThirdWingM@2:

; 4463 : 			}
; 4464 : 			else if( lpObj->pChaosBox[n].m_Type == this->iCondorFeather)

  09aab	8b 45 b8	 mov	 eax, DWORD PTR _n$237128[ebp]
  09aae	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  09ab4	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09ab7	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  09abd	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  09ac2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  09ac5	3b 41 1c	 cmp	 eax, DWORD PTR [ecx+28]
  09ac8	75 0e		 jne	 SHORT $LN67@ThirdWingM@2

; 4465 : 			{
; 4466 : 				loc3++;

  09aca	8b 45 f0	 mov	 eax, DWORD PTR _loc3$[ebp]
  09acd	83 c0 01	 add	 eax, 1
  09ad0	89 45 f0	 mov	 DWORD PTR _loc3$[ebp], eax
  09ad3	e9 25 01 00 00	 jmp	 $LN54@ThirdWingM@2
$LN67@ThirdWingM@2:

; 4467 : 			}
; 4468 : 			else if( lpObj->pChaosBox[n].m_Type == this->iCondorFlame)

  09ad8	8b 45 b8	 mov	 eax, DWORD PTR _n$237128[ebp]
  09adb	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  09ae1	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09ae4	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  09aea	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  09aef	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  09af2	3b 41 20	 cmp	 eax, DWORD PTR [ecx+32]
  09af5	75 0e		 jne	 SHORT $LN65@ThirdWingM@2

; 4469 : 			{
; 4470 : 				loc4++;

  09af7	8b 45 ec	 mov	 eax, DWORD PTR _loc4$[ebp]
  09afa	83 c0 01	 add	 eax, 1
  09afd	89 45 ec	 mov	 DWORD PTR _loc4$[ebp], eax
  09b00	e9 f8 00 00 00	 jmp	 $LN54@ThirdWingM@2
$LN65@ThirdWingM@2:

; 4471 : 			}
; 4472 : 			else if( lpObj->pChaosBox[n].m_Type == this->iJewelofChaos)

  09b05	8b 45 b8	 mov	 eax, DWORD PTR _n$237128[ebp]
  09b08	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  09b0e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09b11	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  09b17	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  09b1c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  09b1f	3b 41 04	 cmp	 eax, DWORD PTR [ecx+4]
  09b22	75 0e		 jne	 SHORT $LN63@ThirdWingM@2

; 4473 : 			{
; 4474 : 				loc5++;

  09b24	8b 45 e8	 mov	 eax, DWORD PTR _loc5$[ebp]
  09b27	83 c0 01	 add	 eax, 1
  09b2a	89 45 e8	 mov	 DWORD PTR _loc5$[ebp], eax
  09b2d	e9 cb 00 00 00	 jmp	 $LN54@ThirdWingM@2
$LN63@ThirdWingM@2:

; 4475 : 			}
; 4476 : 			else if( lpObj->pChaosBox[n].m_Type == this->iBundleofBless)

  09b32	8b 45 b8	 mov	 eax, DWORD PTR _n$237128[ebp]
  09b35	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  09b3b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09b3e	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  09b44	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  09b49	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  09b4c	3b 41 14	 cmp	 eax, DWORD PTR [ecx+20]
  09b4f	75 0e		 jne	 SHORT $LN61@ThirdWingM@2

; 4477 : 			{
; 4478 : 				loc7++;

  09b51	8b 45 e0	 mov	 eax, DWORD PTR _loc7$[ebp]
  09b54	83 c0 01	 add	 eax, 1
  09b57	89 45 e0	 mov	 DWORD PTR _loc7$[ebp], eax
  09b5a	e9 9e 00 00 00	 jmp	 $LN54@ThirdWingM@2
$LN61@ThirdWingM@2:

; 4479 : 			}
; 4480 : 			else if( lpObj->pChaosBox[n].m_Type == this->iBundleofSoul)

  09b5f	8b 45 b8	 mov	 eax, DWORD PTR _n$237128[ebp]
  09b62	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  09b68	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09b6b	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  09b71	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  09b76	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  09b79	3b 41 18	 cmp	 eax, DWORD PTR [ecx+24]
  09b7c	75 0b		 jne	 SHORT $LN59@ThirdWingM@2

; 4481 : 			{
; 4482 : 				loc6++;

  09b7e	8b 45 e4	 mov	 eax, DWORD PTR _loc6$[ebp]
  09b81	83 c0 01	 add	 eax, 1
  09b84	89 45 e4	 mov	 DWORD PTR _loc6$[ebp], eax
  09b87	eb 74		 jmp	 SHORT $LN54@ThirdWingM@2
$LN59@ThirdWingM@2:

; 4483 : 			}
; 4484 : 			else if( lpObj->pChaosBox[n].m_Type == this->iJewelofCreation)

  09b89	8b 45 b8	 mov	 eax, DWORD PTR _n$237128[ebp]
  09b8c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  09b92	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09b95	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  09b9b	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  09ba0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  09ba3	3b 41 10	 cmp	 eax, DWORD PTR [ecx+16]
  09ba6	75 0b		 jne	 SHORT $LN57@ThirdWingM@2

; 4485 : 			{
; 4486 : 				loc8++;

  09ba8	8b 45 dc	 mov	 eax, DWORD PTR _loc8$[ebp]
  09bab	83 c0 01	 add	 eax, 1
  09bae	89 45 dc	 mov	 DWORD PTR _loc8$[ebp], eax
  09bb1	eb 4a		 jmp	 SHORT $LN54@ThirdWingM@2
$LN57@ThirdWingM@2:

; 4487 : 			}
; 4488 : 			else if( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )

  09bb3	8b 45 b8	 mov	 eax, DWORD PTR _n$237128[ebp]
  09bb6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  09bbc	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09bbf	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  09bc5	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  09bca	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  09bcf	75 23		 jne	 SHORT $LN55@ThirdWingM@2

; 4489 : 			{
; 4490 : 				loc12+= (int)lpObj->pChaosBox[n].m_Durability;

  09bd1	8b 45 b8	 mov	 eax, DWORD PTR _n$237128[ebp]
  09bd4	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  09bda	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  09bdd	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  09be3	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  09be7	e8 00 00 00 00	 call	 __ftol2_sse
  09bec	03 45 cc	 add	 eax, DWORD PTR _loc12$[ebp]
  09bef	89 45 cc	 mov	 DWORD PTR _loc12$[ebp], eax

; 4491 : 			}
; 4492 : 			else

  09bf2	eb 09		 jmp	 SHORT $LN54@ThirdWingM@2
$LN55@ThirdWingM@2:

; 4493 : 			{
; 4494 : 				loc9++;

  09bf4	8b 45 d8	 mov	 eax, DWORD PTR _loc9$[ebp]
  09bf7	83 c0 01	 add	 eax, 1
  09bfa	89 45 d8	 mov	 DWORD PTR _loc9$[ebp], eax
$LN54@ThirdWingM@2:

; 4495 : 			}
; 4496 : 		}
; 4497 : 	}

  09bfd	e9 21 fe ff ff	 jmp	 $LN72@ThirdWingM@2
$LN71@ThirdWingM@2:

; 4498 : 
; 4499 : 	if(loc12 > 10)

  09c02	83 7d cc 0a	 cmp	 DWORD PTR _loc12$[ebp], 10 ; 0000000aH
  09c06	7e 2d		 jle	 SHORT $LN53@ThirdWingM@2

; 4500 : 	{
; 4501 : 		pMsg.Result = 0xF0; //new macro

  09c08	c6 45 bf f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 4502 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  09c0c	0f b6 45 bd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  09c10	50		 push	 eax
  09c11	8d 4d bc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  09c14	51		 push	 ecx
  09c15	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09c18	8b 02		 mov	 eax, DWORD PTR [edx]
  09c1a	50		 push	 eax
  09c1b	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  09c20	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4503 : 		lpObj->ChaosLock = FALSE;

  09c23	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09c26	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4504 : 		return;

  09c30	e9 8e 05 00 00	 jmp	 $LN74@ThirdWingM@2
$LN53@ThirdWingM@2:

; 4505 : 	}
; 4506 : 
; 4507 : 	if(loc2 < 1 || loc3 != 1 || loc4 != 1 || loc5 != 1 || loc7 != 1 || loc6 != 1 || loc8 != 1 || loc9 > 0)

  09c35	83 7d f4 01	 cmp	 DWORD PTR _loc2$[ebp], 1
  09c39	7c 2a		 jl	 SHORT $LN51@ThirdWingM@2
  09c3b	83 7d f0 01	 cmp	 DWORD PTR _loc3$[ebp], 1
  09c3f	75 24		 jne	 SHORT $LN51@ThirdWingM@2
  09c41	83 7d ec 01	 cmp	 DWORD PTR _loc4$[ebp], 1
  09c45	75 1e		 jne	 SHORT $LN51@ThirdWingM@2
  09c47	83 7d e8 01	 cmp	 DWORD PTR _loc5$[ebp], 1
  09c4b	75 18		 jne	 SHORT $LN51@ThirdWingM@2
  09c4d	83 7d e0 01	 cmp	 DWORD PTR _loc7$[ebp], 1
  09c51	75 12		 jne	 SHORT $LN51@ThirdWingM@2
  09c53	83 7d e4 01	 cmp	 DWORD PTR _loc6$[ebp], 1
  09c57	75 0c		 jne	 SHORT $LN51@ThirdWingM@2
  09c59	83 7d dc 01	 cmp	 DWORD PTR _loc8$[ebp], 1
  09c5d	75 06		 jne	 SHORT $LN51@ThirdWingM@2
  09c5f	83 7d d8 00	 cmp	 DWORD PTR _loc9$[ebp], 0
  09c63	7e 2d		 jle	 SHORT $LN52@ThirdWingM@2
$LN51@ThirdWingM@2:

; 4508 : 	{
; 4509 : 		pMsg.Result = CB_INCORRECT_MIX_ITEMS;

  09c65	c6 45 bf 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 4510 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  09c69	0f b6 45 bd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  09c6d	50		 push	 eax
  09c6e	8d 4d bc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  09c71	51		 push	 ecx
  09c72	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09c75	8b 02		 mov	 eax, DWORD PTR [edx]
  09c77	50		 push	 eax
  09c78	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  09c7d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4511 : 		lpObj->ChaosLock = FALSE;

  09c80	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09c83	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4512 : 		return;

  09c8d	e9 31 05 00 00	 jmp	 $LN74@ThirdWingM@2
$LN52@ThirdWingM@2:

; 4513 : 	}
; 4514 : 
; 4515 : 	LogChaosItem(lpObj, "ThirdWingLevel2_Mix");

  09c92	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@FCHPIPIA@ThirdWingLevel2_Mix?$AA@
  09c97	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09c9a	50		 push	 eax
  09c9b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  09c9e	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 4516 : 	LogAddTD("[ThirdWing Mix][Level 02] Chaos Mix Start");

  09ca3	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@OMLKNABI@?$FLThirdWing?5Mix?$FN?$FLLevel?502?$FN?5Chaos?5@
  09ca8	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  09cae	83 c4 04	 add	 esp, 4

; 4517 : 
; 4518 : 	if(loc10 > 0)

  09cb1	83 7d d4 00	 cmp	 DWORD PTR _loc10$[ebp], 0
  09cb5	7e 14		 jle	 SHORT $LN50@ThirdWingM@2

; 4519 : 	{
; 4520 : 		lpObj->ChaosSuccessRate = loc10 / 3000000;

  09cb7	8b 45 d4	 mov	 eax, DWORD PTR _loc10$[ebp]
  09cba	99		 cdq
  09cbb	b9 c0 c6 2d 00	 mov	 ecx, 3000000		; 002dc6c0H
  09cc0	f7 f9		 idiv	 ecx
  09cc2	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09cc5	89 82 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], eax
$LN50@ThirdWingM@2:

; 4521 : 	}
; 4522 : 	//int ExWingLv3MixMaxPercent = GetPrivateProfileInt("ChaosMix","WingLv3MixMaxPercent",40,"..\\Data\\ExData\\CommonServer.ini");
; 4523 : 	if(lpObj->ChaosSuccessRate > ExConfig.CommonServer.ExWingLv3MixMaxPercent)

  09ccb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09cce	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  09cd4	3b 0d 8c 00 00
	00		 cmp	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+140
  09cda	7e 11		 jle	 SHORT $LN49@ThirdWingM@2

; 4524 : 	{
; 4525 : 		lpObj->ChaosSuccessRate = ExConfig.CommonServer.ExWingLv3MixMaxPercent;

  09cdc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09cdf	8b 0d 8c 00 00
	00		 mov	 ecx, DWORD PTR ?ExConfig@@3VcExConfigs@@A+140
  09ce5	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx
  09ceb	eb 19		 jmp	 SHORT $LN47@ThirdWingM@2
$LN49@ThirdWingM@2:

; 4526 : 	}
; 4527 : 	else if( lpObj->ChaosSuccessRate < 1)

  09ced	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09cf0	83 b8 84 0e 00
	00 01		 cmp	 DWORD PTR [eax+3716], 1
  09cf7	7d 0d		 jge	 SHORT $LN47@ThirdWingM@2

; 4528 : 	{
; 4529 : 		lpObj->ChaosSuccessRate = 1;

  09cf9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09cfc	c7 80 84 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3716], 1
$LN47@ThirdWingM@2:

; 4530 : 	}
; 4531 : 
; 4532 : 	loc11 = lpObj->ChaosSuccessRate * 200000;

  09d06	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09d09	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  09d0f	69 c9 40 0d 03
	00		 imul	 ecx, 200000		; 00030d40H
  09d15	89 4d d0	 mov	 DWORD PTR _loc11$[ebp], ecx

; 4533 : 
; 4534 : 	lpObj->ChaosSuccessRate += loc12;

  09d18	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09d1b	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  09d21	03 4d cc	 add	 ecx, DWORD PTR _loc12$[ebp]
  09d24	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09d27	89 8a 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], ecx

; 4535 : 
; 4536 : 	loc11 = lpObj->ChaosSuccessRate * 200000;

  09d2d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09d30	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  09d36	69 c9 40 0d 03
	00		 imul	 ecx, 200000		; 00030d40H
  09d3c	89 4d d0	 mov	 DWORD PTR _loc11$[ebp], ecx

; 4537 : 
; 4538 : 	int iChaosTaxMoney = (int)((__int64)loc11 * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  09d3f	8b 45 d0	 mov	 eax, DWORD PTR _loc11$[ebp]
  09d42	99		 cdq
  09d43	8b f0		 mov	 esi, eax
  09d45	8b fa		 mov	 edi, edx
  09d47	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09d4a	8b 08		 mov	 ecx, DWORD PTR [eax]
  09d4c	51		 push	 ecx
  09d4d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  09d52	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  09d57	99		 cdq
  09d58	52		 push	 edx
  09d59	50		 push	 eax
  09d5a	57		 push	 edi
  09d5b	56		 push	 esi
  09d5c	e8 00 00 00 00	 call	 __allmul
  09d61	6a 00		 push	 0
  09d63	6a 64		 push	 100			; 00000064H
  09d65	52		 push	 edx
  09d66	50		 push	 eax
  09d67	e8 00 00 00 00	 call	 __alldiv
  09d6c	89 45 b4	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 4539 : 
; 4540 : 	if(iChaosTaxMoney < 0)

  09d6f	83 7d b4 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  09d73	7d 07		 jge	 SHORT $LN46@ThirdWingM@2

; 4541 : 	{
; 4542 : 		iChaosTaxMoney = 0;

  09d75	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN46@ThirdWingM@2:

; 4543 : 	}
; 4544 : 
; 4545 : 	loc11 += iChaosTaxMoney;

  09d7c	8b 45 d0	 mov	 eax, DWORD PTR _loc11$[ebp]
  09d7f	03 45 b4	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  09d82	89 45 d0	 mov	 DWORD PTR _loc11$[ebp], eax

; 4546 : 
; 4547 : 	loc11 += lpObj->m_AddMixMoney;

  09d85	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09d88	8b 4d d0	 mov	 ecx, DWORD PTR _loc11$[ebp]
  09d8b	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  09d91	89 4d d0	 mov	 DWORD PTR _loc11$[ebp], ecx

; 4548 : 
; 4549 : 	if(loc11 < 0)

  09d94	79 07		 jns	 SHORT $LN45@ThirdWingM@2

; 4550 : 	{
; 4551 : 		loc11 = 0;

  09d96	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _loc11$[ebp], 0
$LN45@ThirdWingM@2:

; 4552 : 	}
; 4553 : 
; 4554 : 	if ( lpObj->Money < loc11 )

  09d9d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09da0	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  09da6	3b 4d d0	 cmp	 ecx, DWORD PTR _loc11$[ebp]
  09da9	7d 2d		 jge	 SHORT $LN44@ThirdWingM@2

; 4555 : 	{
; 4556 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  09dab	c6 45 bf 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 4557 : 		
; 4558 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  09daf	0f b6 45 bd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  09db3	50		 push	 eax
  09db4	8d 4d bc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  09db7	51		 push	 ecx
  09db8	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09dbb	8b 02		 mov	 eax, DWORD PTR [edx]
  09dbd	50		 push	 eax
  09dbe	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  09dc3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4559 : 		lpObj->ChaosLock = FALSE;

  09dc6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09dc9	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4560 : 
; 4561 : 		return;

  09dd3	e9 eb 03 00 00	 jmp	 $LN74@ThirdWingM@2
$LN44@ThirdWingM@2:

; 4562 : 	}
; 4563 : 
; 4564 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  09dd8	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09ddb	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  09de1	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09de4	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  09dea	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09ded	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 4565 : 
; 4566 : 	lpObj->Money -= loc11;

  09df3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09df6	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  09dfc	2b 4d d0	 sub	 ecx, DWORD PTR _loc11$[ebp]
  09dff	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09e02	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 4567 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  09e08	8b 45 b4	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  09e0b	50		 push	 eax
  09e0c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  09e11	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 4568 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  09e16	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09e19	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  09e1f	51		 push	 ecx
  09e20	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  09e23	8b 02		 mov	 eax, DWORD PTR [edx]
  09e25	50		 push	 eax
  09e26	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  09e2b	83 c4 08	 add	 esp, 8

; 4569 : 
; 4570 : 	if ( (rand()%100) < lpObj->ChaosSuccessRate )

  09e2e	e8 00 00 00 00	 call	 _rand
  09e33	99		 cdq
  09e34	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  09e39	f7 f9		 idiv	 ecx
  09e3b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  09e3e	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  09e44	0f 8d f3 02 00
	00		 jge	 $LN43@ThirdWingM@2

; 4571 : 	{
; 4572 : 		int CharItemCount = 7;

  09e4a	c7 45 b0 07 00
	00 00		 mov	 DWORD PTR _CharItemCount$237171[ebp], 7

; 4573 : 
; 4574 : 		if(ExConfig.ExCustom.SwitchChar == 1)

  09e51	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A, 1
  09e58	75 09		 jne	 SHORT $LN42@ThirdWingM@2

; 4575 : 		{
; 4576 : 			CharItemCount = 6;

  09e5a	c7 45 b0 06 00
	00 00		 mov	 DWORD PTR _CharItemCount$237171[ebp], 6
  09e61	eb 10		 jmp	 SHORT $LN40@ThirdWingM@2
$LN42@ThirdWingM@2:

; 4577 : 		}
; 4578 : 		else if(ExConfig.ExCustom.SwitchChar == 2)

  09e63	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A, 2
  09e6a	75 07		 jne	 SHORT $LN40@ThirdWingM@2

; 4579 : 		{
; 4580 : 			CharItemCount = 5;

  09e6c	c7 45 b0 05 00
	00 00		 mov	 DWORD PTR _CharItemCount$237171[ebp], 5
$LN40@ThirdWingM@2:

; 4581 : 		}
; 4582 : 
; 4583 : 		int loc18 = rand()%CharItemCount;	//1.01.00 updated

  09e73	e8 00 00 00 00	 call	 _rand
  09e78	99		 cdq
  09e79	f7 7d b0	 idiv	 DWORD PTR _CharItemCount$237171[ebp]
  09e7c	89 55 ac	 mov	 DWORD PTR _loc18$237175[ebp], edx

; 4584 : 
; 4585 : 		int loc19 = 0;

  09e7f	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR _loc19$237176[ebp], 0

; 4586 : 
; 4587 : 		if(loc18 == 0)

  09e86	83 7d ac 00	 cmp	 DWORD PTR _loc18$237175[ebp], 0
  09e8a	75 0b		 jne	 SHORT $LN39@ThirdWingM@2

; 4588 : 		{
; 4589 : 			loc19 = this->iWingofStorm;

  09e8c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  09e8f	8b 48 24	 mov	 ecx, DWORD PTR [eax+36]
  09e92	89 4d a8	 mov	 DWORD PTR _loc19$237176[ebp], ecx
  09e95	eb 64		 jmp	 SHORT $LN27@ThirdWingM@2
$LN39@ThirdWingM@2:

; 4590 : 		}
; 4591 : 		else if( loc18 == 1)

  09e97	83 7d ac 01	 cmp	 DWORD PTR _loc18$237175[ebp], 1
  09e9b	75 0b		 jne	 SHORT $LN37@ThirdWingM@2

; 4592 : 		{
; 4593 : 			loc19 = this->iWingofEternal;

  09e9d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  09ea0	8b 48 28	 mov	 ecx, DWORD PTR [eax+40]
  09ea3	89 4d a8	 mov	 DWORD PTR _loc19$237176[ebp], ecx
  09ea6	eb 53		 jmp	 SHORT $LN27@ThirdWingM@2
$LN37@ThirdWingM@2:

; 4594 : 		}
; 4595 : 		else if( loc18 == 2)

  09ea8	83 7d ac 02	 cmp	 DWORD PTR _loc18$237175[ebp], 2
  09eac	75 0b		 jne	 SHORT $LN35@ThirdWingM@2

; 4596 : 		{
; 4597 : 			loc19 = this->iWingofIllusion;

  09eae	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  09eb1	8b 48 2c	 mov	 ecx, DWORD PTR [eax+44]
  09eb4	89 4d a8	 mov	 DWORD PTR _loc19$237176[ebp], ecx
  09eb7	eb 42		 jmp	 SHORT $LN27@ThirdWingM@2
$LN35@ThirdWingM@2:

; 4598 : 		}
; 4599 : 		else if( loc18 == 3)

  09eb9	83 7d ac 03	 cmp	 DWORD PTR _loc18$237175[ebp], 3
  09ebd	75 0b		 jne	 SHORT $LN33@ThirdWingM@2

; 4600 : 		{
; 4601 : 			loc19 = this->iWingofRuin;

  09ebf	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  09ec2	8b 48 30	 mov	 ecx, DWORD PTR [eax+48]
  09ec5	89 4d a8	 mov	 DWORD PTR _loc19$237176[ebp], ecx
  09ec8	eb 31		 jmp	 SHORT $LN27@ThirdWingM@2
$LN33@ThirdWingM@2:

; 4602 : 		}
; 4603 : 		else if( loc18 == 4)

  09eca	83 7d ac 04	 cmp	 DWORD PTR _loc18$237175[ebp], 4
  09ece	75 0b		 jne	 SHORT $LN31@ThirdWingM@2

; 4604 : 		{
; 4605 : 			loc19 = this->iCapeofLord;

  09ed0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  09ed3	8b 48 34	 mov	 ecx, DWORD PTR [eax+52]
  09ed6	89 4d a8	 mov	 DWORD PTR _loc19$237176[ebp], ecx
  09ed9	eb 20		 jmp	 SHORT $LN27@ThirdWingM@2
$LN31@ThirdWingM@2:

; 4606 : 		}
; 4607 : 		else if( loc18 == 5)

  09edb	83 7d ac 05	 cmp	 DWORD PTR _loc18$237175[ebp], 5
  09edf	75 0b		 jne	 SHORT $LN29@ThirdWingM@2

; 4608 : 		{
; 4609 : 			loc19 = this->iWingofDimension;

  09ee1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  09ee4	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  09ee7	89 4d a8	 mov	 DWORD PTR _loc19$237176[ebp], ecx
  09eea	eb 0f		 jmp	 SHORT $LN27@ThirdWingM@2
$LN29@ThirdWingM@2:

; 4610 : 		}
; 4611 : 
; 4612 : 		else if( loc18 == 6)	//1.01.00 updated

  09eec	83 7d ac 06	 cmp	 DWORD PTR _loc18$237175[ebp], 6
  09ef0	75 09		 jne	 SHORT $LN27@ThirdWingM@2

; 4613 : 		{
; 4614 : 			loc19 = this->CAPE_OF_OVERRULE_ITEMINDEX;

  09ef2	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  09ef5	8b 48 3c	 mov	 ecx, DWORD PTR [eax+60]
  09ef8	89 4d a8	 mov	 DWORD PTR _loc19$237176[ebp], ecx
$LN27@ThirdWingM@2:

; 4615 : 		}
; 4616 : 
; 4617 : 		int loc20 = 0;

  09efb	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _loc20$237190[ebp], 0

; 4618 : 		int loc21 = 0;

  09f02	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _loc21$237191[ebp], 0

; 4619 : 		
; 4620 : 		if( (rand()%1000) <= this->i3rdWingLuckRate )

  09f09	e8 00 00 00 00	 call	 _rand
  09f0e	99		 cdq
  09f0f	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  09f14	f7 f9		 idiv	 ecx
  09f16	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  09f19	3b 50 40	 cmp	 edx, DWORD PTR [eax+64]
  09f1c	7f 07		 jg	 SHORT $LN26@ThirdWingM@2

; 4621 : 		{
; 4622 : 			loc21 = 1;

  09f1e	c7 45 a0 01 00
	00 00		 mov	 DWORD PTR _loc21$237191[ebp], 1
$LN26@ThirdWingM@2:

; 4623 : 		}
; 4624 : 
; 4625 : 		int loc22 = 0;

  09f25	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR _loc22$237193[ebp], 0

; 4626 : 		int loc23 = 0;

  09f2c	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _loc23$237194[ebp], 0

; 4627 : 		int loc24 = rand()%2;

  09f33	e8 00 00 00 00	 call	 _rand
  09f38	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  09f3d	79 05		 jns	 SHORT $LN76@ThirdWingM@2
  09f3f	48		 dec	 eax
  09f40	83 c8 fe	 or	 eax, -2			; fffffffeH
  09f43	40		 inc	 eax
$LN76@ThirdWingM@2:
  09f44	89 45 94	 mov	 DWORD PTR _loc24$237195[ebp], eax

; 4628 : 		int loc25;
; 4629 : 		int loc26;
; 4630 : 		int loc27;
; 4631 : 		int loc28;
; 4632 : 		int loc29;
; 4633 : 
; 4634 : 		switch ( loc24 )

  09f47	8b 45 94	 mov	 eax, DWORD PTR _loc24$237195[ebp]
  09f4a	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv287[ebp], eax
  09f50	83 bd 3c ff ff
	ff 00		 cmp	 DWORD PTR tv287[ebp], 0
  09f57	74 0b		 je	 SHORT $LN23@ThirdWingM@2
  09f59	83 bd 3c ff ff
	ff 01		 cmp	 DWORD PTR tv287[ebp], 1
  09f60	74 26		 je	 SHORT $LN21@ThirdWingM@2
  09f62	eb 46		 jmp	 SHORT $LN24@ThirdWingM@2
$LN23@ThirdWingM@2:

; 4635 : 		{
; 4636 : 			case 0:
; 4637 : 				loc25 = rand()%1000;

  09f64	e8 00 00 00 00	 call	 _rand
  09f69	99		 cdq
  09f6a	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  09f6f	f7 f9		 idiv	 ecx
  09f71	89 55 90	 mov	 DWORD PTR _loc25$237196[ebp], edx

; 4638 : 				if(loc25 < 400)

  09f74	81 7d 90 90 01
	00 00		 cmp	 DWORD PTR _loc25$237196[ebp], 400 ; 00000190H
  09f7b	7d 09		 jge	 SHORT $LN22@ThirdWingM@2

; 4639 : 				{
; 4640 : 					loc23 |= 0x10;

  09f7d	8b 45 98	 mov	 eax, DWORD PTR _loc23$237194[ebp]
  09f80	83 c8 10	 or	 eax, 16			; 00000010H
  09f83	89 45 98	 mov	 DWORD PTR _loc23$237194[ebp], eax
$LN22@ThirdWingM@2:

; 4641 : 				}
; 4642 : 				break;

  09f86	eb 22		 jmp	 SHORT $LN24@ThirdWingM@2
$LN21@ThirdWingM@2:

; 4643 : 
; 4644 : 			case 1:
; 4645 : 				loc25 = rand()%1000;

  09f88	e8 00 00 00 00	 call	 _rand
  09f8d	99		 cdq
  09f8e	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  09f93	f7 f9		 idiv	 ecx
  09f95	89 55 90	 mov	 DWORD PTR _loc25$237196[ebp], edx

; 4646 : 				if(loc24 < 300)

  09f98	81 7d 94 2c 01
	00 00		 cmp	 DWORD PTR _loc24$237195[ebp], 300 ; 0000012cH
  09f9f	7d 09		 jge	 SHORT $LN20@ThirdWingM@2

; 4647 : 				{
; 4648 : 					loc23 |= 0x20;

  09fa1	8b 45 98	 mov	 eax, DWORD PTR _loc23$237194[ebp]
  09fa4	83 c8 20	 or	 eax, 32			; 00000020H
  09fa7	89 45 98	 mov	 DWORD PTR _loc23$237194[ebp], eax
$LN20@ThirdWingM@2:
$LN24@ThirdWingM@2:

; 4649 : 				}
; 4650 : 				break;
; 4651 : 		}
; 4652 : 
; 4653 : 		loc26 = rand()%4;

  09faa	e8 00 00 00 00	 call	 _rand
  09faf	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  09fb4	79 05		 jns	 SHORT $LN77@ThirdWingM@2
  09fb6	48		 dec	 eax
  09fb7	83 c8 fc	 or	 eax, -4			; fffffffcH
  09fba	40		 inc	 eax
$LN77@ThirdWingM@2:
  09fbb	89 45 8c	 mov	 DWORD PTR _loc26$237197[ebp], eax

; 4654 : 		loc27 = rand()%1000;

  09fbe	e8 00 00 00 00	 call	 _rand
  09fc3	99		 cdq
  09fc4	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  09fc9	f7 f9		 idiv	 ecx
  09fcb	89 55 88	 mov	 DWORD PTR _loc27$237198[ebp], edx

; 4655 : 		loc22 = 0;

  09fce	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR _loc22$237193[ebp], 0

; 4656 : 
; 4657 : 		switch( loc26 )

  09fd5	8b 45 8c	 mov	 eax, DWORD PTR _loc26$237197[ebp]
  09fd8	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv302[ebp], eax
  09fde	83 bd 3c ff ff
	ff 01		 cmp	 DWORD PTR tv302[ebp], 1
  09fe5	74 14		 je	 SHORT $LN17@ThirdWingM@2
  09fe7	83 bd 3c ff ff
	ff 02		 cmp	 DWORD PTR tv302[ebp], 2
  09fee	74 1a		 je	 SHORT $LN15@ThirdWingM@2
  09ff0	83 bd 3c ff ff
	ff 03		 cmp	 DWORD PTR tv302[ebp], 3
  09ff7	74 20		 je	 SHORT $LN13@ThirdWingM@2
  09ff9	eb 2b		 jmp	 SHORT $LN18@ThirdWingM@2
$LN17@ThirdWingM@2:

; 4658 : 		{
; 4659 : 			case 1:
; 4660 : 				{
; 4661 : 					if(loc27 < 120)

  09ffb	83 7d 88 78	 cmp	 DWORD PTR _loc27$237198[ebp], 120 ; 00000078H
  09fff	7d 07		 jge	 SHORT $LN16@ThirdWingM@2

; 4662 : 					{
; 4663 : 						loc22 = 1;

  0a001	c7 45 9c 01 00
	00 00		 mov	 DWORD PTR _loc22$237193[ebp], 1
$LN16@ThirdWingM@2:

; 4664 : 					}
; 4665 : 				}
; 4666 : 				break;

  0a008	eb 1c		 jmp	 SHORT $LN18@ThirdWingM@2
$LN15@ThirdWingM@2:

; 4667 : 
; 4668 : 			case 2:
; 4669 : 				{
; 4670 : 					if(loc27 < 60)

  0a00a	83 7d 88 3c	 cmp	 DWORD PTR _loc27$237198[ebp], 60 ; 0000003cH
  0a00e	7d 07		 jge	 SHORT $LN14@ThirdWingM@2

; 4671 : 					{
; 4672 : 						loc22 = 2;

  0a010	c7 45 9c 02 00
	00 00		 mov	 DWORD PTR _loc22$237193[ebp], 2
$LN14@ThirdWingM@2:

; 4673 : 					}
; 4674 : 				}
; 4675 : 				break;

  0a017	eb 0d		 jmp	 SHORT $LN18@ThirdWingM@2
$LN13@ThirdWingM@2:

; 4676 : 
; 4677 : 			case 3:
; 4678 : 				{
; 4679 : 					if(loc27 < 30)

  0a019	83 7d 88 1e	 cmp	 DWORD PTR _loc27$237198[ebp], 30 ; 0000001eH
  0a01d	7d 07		 jge	 SHORT $LN12@ThirdWingM@2

; 4680 : 					{
; 4681 : 						loc22 = 3;

  0a01f	c7 45 9c 03 00
	00 00		 mov	 DWORD PTR _loc22$237193[ebp], 3
$LN12@ThirdWingM@2:
$LN18@ThirdWingM@2:

; 4682 : 					}
; 4683 : 				}
; 4684 : 				break;
; 4685 : 		}
; 4686 : 
; 4687 : 		loc28 = rand()%4;

  0a026	e8 00 00 00 00	 call	 _rand
  0a02b	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  0a030	79 05		 jns	 SHORT $LN78@ThirdWingM@2
  0a032	48		 dec	 eax
  0a033	83 c8 fc	 or	 eax, -4			; fffffffcH
  0a036	40		 inc	 eax
$LN78@ThirdWingM@2:
  0a037	89 45 84	 mov	 DWORD PTR _loc28$237199[ebp], eax

; 4688 : 		loc29 = rand()%1000;

  0a03a	e8 00 00 00 00	 call	 _rand
  0a03f	99		 cdq
  0a040	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0a045	f7 f9		 idiv	 ecx
  0a047	89 55 80	 mov	 DWORD PTR _loc29$237200[ebp], edx

; 4689 : 
; 4690 : 		switch( loc28 )

  0a04a	8b 45 84	 mov	 eax, DWORD PTR _loc28$237199[ebp]
  0a04d	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv313[ebp], eax
  0a053	83 bd 3c ff ff
	ff 03		 cmp	 DWORD PTR tv313[ebp], 3
  0a05a	77 4f		 ja	 SHORT $LN10@ThirdWingM@2
  0a05c	8b 8d 3c ff ff
	ff		 mov	 ecx, DWORD PTR tv313[ebp]
  0a062	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN79@ThirdWingM@2[ecx*4]
$LN9@ThirdWingM@2:

; 4691 : 		{
; 4692 : 			case 0:
; 4693 : 				{
; 4694 : 					if(loc29 < 40)

  0a069	83 7d 80 28	 cmp	 DWORD PTR _loc29$237200[ebp], 40 ; 00000028H
  0a06d	7d 09		 jge	 SHORT $LN8@ThirdWingM@2

; 4695 : 					{
; 4696 : 						loc23 |= 1;

  0a06f	8b 45 98	 mov	 eax, DWORD PTR _loc23$237194[ebp]
  0a072	83 c8 01	 or	 eax, 1
  0a075	89 45 98	 mov	 DWORD PTR _loc23$237194[ebp], eax
$LN8@ThirdWingM@2:

; 4697 : 					}
; 4698 : 				}
; 4699 : 				break;

  0a078	eb 31		 jmp	 SHORT $LN10@ThirdWingM@2
$LN7@ThirdWingM@2:

; 4700 : 			case 1:
; 4701 : 				{
; 4702 : 					if(loc29 < 20)

  0a07a	83 7d 80 14	 cmp	 DWORD PTR _loc29$237200[ebp], 20 ; 00000014H
  0a07e	7d 09		 jge	 SHORT $LN6@ThirdWingM@2

; 4703 : 					{
; 4704 : 						loc23 |= 2;

  0a080	8b 45 98	 mov	 eax, DWORD PTR _loc23$237194[ebp]
  0a083	83 c8 02	 or	 eax, 2
  0a086	89 45 98	 mov	 DWORD PTR _loc23$237194[ebp], eax
$LN6@ThirdWingM@2:

; 4705 : 					}
; 4706 : 				}
; 4707 : 				break;

  0a089	eb 20		 jmp	 SHORT $LN10@ThirdWingM@2
$LN5@ThirdWingM@2:

; 4708 : 
; 4709 : 			case 2:
; 4710 : 				{
; 4711 : 					if(loc29 < 70)

  0a08b	83 7d 80 46	 cmp	 DWORD PTR _loc29$237200[ebp], 70 ; 00000046H
  0a08f	7d 09		 jge	 SHORT $LN4@ThirdWingM@2

; 4712 : 					{
; 4713 : 						loc23 |= 4;

  0a091	8b 45 98	 mov	 eax, DWORD PTR _loc23$237194[ebp]
  0a094	83 c8 04	 or	 eax, 4
  0a097	89 45 98	 mov	 DWORD PTR _loc23$237194[ebp], eax
$LN4@ThirdWingM@2:

; 4714 : 					}
; 4715 : 				}
; 4716 : 				break;

  0a09a	eb 0f		 jmp	 SHORT $LN10@ThirdWingM@2
$LN3@ThirdWingM@2:

; 4717 : 			case 3:
; 4718 : 				{
; 4719 : 					if(loc29 < 70)

  0a09c	83 7d 80 46	 cmp	 DWORD PTR _loc29$237200[ebp], 70 ; 00000046H
  0a0a0	7d 09		 jge	 SHORT $LN2@ThirdWingM@2

; 4720 : 					{
; 4721 : 						loc23 |= 8;

  0a0a2	8b 45 98	 mov	 eax, DWORD PTR _loc23$237194[ebp]
  0a0a5	83 c8 08	 or	 eax, 8
  0a0a8	89 45 98	 mov	 DWORD PTR _loc23$237194[ebp], eax
$LN2@ThirdWingM@2:
$LN10@ThirdWingM@2:

; 4722 : 					}
; 4723 : 				}
; 4724 : 				break;
; 4725 : 		}
; 4726 : 
; 4727 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, loc19 , 0, 0, (BYTE)loc20, (BYTE)loc21, (BYTE)loc22, -1, (BYTE)loc23, 0);

  0a0ab	6a 00		 push	 0
  0a0ad	0f b6 45 98	 movzx	 eax, BYTE PTR _loc23$237194[ebp]
  0a0b1	50		 push	 eax
  0a0b2	6a ff		 push	 -1
  0a0b4	0f b6 4d 9c	 movzx	 ecx, BYTE PTR _loc22$237193[ebp]
  0a0b8	51		 push	 ecx
  0a0b9	0f b6 55 a0	 movzx	 edx, BYTE PTR _loc21$237191[ebp]
  0a0bd	52		 push	 edx
  0a0be	0f b6 45 a4	 movzx	 eax, BYTE PTR _loc20$237190[ebp]
  0a0c2	50		 push	 eax
  0a0c3	6a 00		 push	 0
  0a0c5	6a 00		 push	 0
  0a0c7	8b 4d a8	 mov	 ecx, DWORD PTR _loc19$237176[ebp]
  0a0ca	51		 push	 ecx
  0a0cb	6a 00		 push	 0
  0a0cd	6a 00		 push	 0
  0a0cf	68 ff 00 00 00	 push	 255			; 000000ffH
  0a0d4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a0d7	8b 02		 mov	 eax, DWORD PTR [edx]
  0a0d9	50		 push	 eax
  0a0da	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0a0df	83 c4 34	 add	 esp, 52			; 00000034H

; 4728 : 		::gObjInventoryCommit(lpObj->m_Index);

  0a0e2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a0e5	8b 08		 mov	 ecx, DWORD PTR [eax]
  0a0e7	51		 push	 ecx
  0a0e8	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0a0ed	83 c4 04	 add	 esp, 4

; 4729 : 
; 4730 : 		LogAddTD("[ThirdWing Mix][Level 02] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate : %d",
; 4731 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate,	lpObj->Money, loc11, loc12);

  0a0f0	8b 45 cc	 mov	 eax, DWORD PTR _loc12$[ebp]
  0a0f3	50		 push	 eax
  0a0f4	8b 4d d0	 mov	 ecx, DWORD PTR _loc11$[ebp]
  0a0f7	51		 push	 ecx
  0a0f8	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a0fb	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  0a101	50		 push	 eax
  0a102	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a105	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  0a10b	52		 push	 edx
  0a10c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a10f	83 c0 77	 add	 eax, 119		; 00000077H
  0a112	50		 push	 eax
  0a113	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a116	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0a119	51		 push	 ecx
  0a11a	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@GGMOACLG@?$FLThirdWing?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@
  0a11f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0a125	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4732 : 
; 4733 : #if(SYSTEM_ACHIEVEMENTS)
; 4734 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  0a128	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a12b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0a12d	51		 push	 ecx
  0a12e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0a133	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 4735 : #endif
; 4736 : 	}
; 4737 : 	else

  0a138	e9 86 00 00 00	 jmp	 $LN1@ThirdWingM@2
$LN43@ThirdWingM@2:

; 4738 : 	{
; 4739 : 		this->ThirdWingMixItemDown(lpObj);

  0a13d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a140	50		 push	 eax
  0a141	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0a144	e8 00 00 00 00	 call	 ?ThirdWingMixItemDown@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::ThirdWingMixItemDown

; 4740 : 		::GCUserChaosBoxSend(lpObj, 0);

  0a149	6a 00		 push	 0
  0a14b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a14e	50		 push	 eax
  0a14f	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0a154	83 c4 08	 add	 esp, 8

; 4741 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0a157	0f b6 45 bd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0a15b	50		 push	 eax
  0a15c	8d 4d bc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0a15f	51		 push	 ecx
  0a160	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a163	8b 02		 mov	 eax, DWORD PTR [edx]
  0a165	50		 push	 eax
  0a166	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0a16b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4742 : 
; 4743 : 		LogAddTD("[ThirdWing Mix][Level 02] [%s][%s] CBMix Fail %d Money : %d-%d, CharmRate : %d",
; 4744 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate,	lpObj->Money, loc11, loc12);

  0a16e	8b 45 cc	 mov	 eax, DWORD PTR _loc12$[ebp]
  0a171	50		 push	 eax
  0a172	8b 4d d0	 mov	 ecx, DWORD PTR _loc11$[ebp]
  0a175	51		 push	 ecx
  0a176	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a179	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  0a17f	50		 push	 eax
  0a180	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a183	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  0a189	52		 push	 edx
  0a18a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a18d	83 c0 77	 add	 eax, 119		; 00000077H
  0a190	50		 push	 eax
  0a191	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a194	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0a197	51		 push	 ecx
  0a198	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JFJPOIME@?$FLThirdWing?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@
  0a19d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0a1a3	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4745 : 		lpObj->ChaosLock = FALSE;

  0a1a6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a1a9	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4746 : #if(SYSTEM_ACHIEVEMENTS)
; 4747 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  0a1b3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a1b6	8b 08		 mov	 ecx, DWORD PTR [eax]
  0a1b8	51		 push	 ecx
  0a1b9	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0a1be	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN1@ThirdWingM@2:
$LN74@ThirdWingM@2:

; 4748 : #endif
; 4749 : 	}
; 4750 : }

  0a1c3	5f		 pop	 edi
  0a1c4	5e		 pop	 esi
  0a1c5	5b		 pop	 ebx
  0a1c6	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0a1c9	33 cd		 xor	 ecx, ebp
  0a1cb	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0a1d0	8b e5		 mov	 esp, ebp
  0a1d2	5d		 pop	 ebp
  0a1d3	c2 04 00	 ret	 4
  0a1d6	8b ff		 npad	 2
$LN79@ThirdWingM@2:
  0a1d8	00 00 00 00	 DD	 $LN9@ThirdWingM@2
  0a1dc	00 00 00 00	 DD	 $LN7@ThirdWingM@2
  0a1e0	00 00 00 00	 DD	 $LN5@ThirdWingM@2
  0a1e4	00 00 00 00	 DD	 $LN3@ThirdWingM@2
?ThirdWingMix2@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP	; CMixSystem::ThirdWingMix2
_TEXT	ENDS
PUBLIC	?ThirdWingMixItemDown2@CMixSystem@@QAEXPAVCItem@@@Z ; CMixSystem::ThirdWingMixItemDown2
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_n$237244 = -8						; size = 4
_this$ = -4						; size = 4
_lpObj$ = 8						; size = 4
?ThirdWingMixItemDown@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::ThirdWingMixItemDown
; _this$ = ecx

; 4754 : {

  0a1f0	55		 push	 ebp
  0a1f1	8b ec		 mov	 ebp, esp
  0a1f3	83 ec 48	 sub	 esp, 72			; 00000048H
  0a1f6	53		 push	 ebx
  0a1f7	56		 push	 esi
  0a1f8	57		 push	 edi
  0a1f9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4755 : 	if(lpObj->pChaosBox == NULL)

  0a1fc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a1ff	83 b8 78 0e 00
	00 00		 cmp	 DWORD PTR [eax+3704], 0
  0a206	75 05		 jne	 SHORT $LN11@ThirdWingM@3

; 4756 : 	{
; 4757 : 		return;

  0a208	e9 2c 01 00 00	 jmp	 $LN12@ThirdWingM@3
$LN11@ThirdWingM@3:

; 4758 : 	}
; 4759 : 
; 4760 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++) //loc2

  0a20d	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _n$237244[ebp], 0
  0a214	eb 09		 jmp	 SHORT $LN10@ThirdWingM@3
$LN9@ThirdWingM@3:
  0a216	8b 45 f8	 mov	 eax, DWORD PTR _n$237244[ebp]
  0a219	83 c0 01	 add	 eax, 1
  0a21c	89 45 f8	 mov	 DWORD PTR _n$237244[ebp], eax
$LN10@ThirdWingM@3:
  0a21f	83 7d f8 20	 cmp	 DWORD PTR _n$237244[ebp], 32 ; 00000020H
  0a223	0f 8d 10 01 00
	00		 jge	 $LN12@ThirdWingM@3

; 4761 : 	{
; 4762 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  0a229	8b 4d f8	 mov	 ecx, DWORD PTR _n$237244[ebp]
  0a22c	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0a232	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a235	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0a23b	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0a240	83 f8 01	 cmp	 eax, 1
  0a243	0f 85 eb 00 00
	00		 jne	 $LN7@ThirdWingM@3

; 4763 : 		{
; 4764 : 			if(CheckLevel2WingItem(lpObj->pChaosBox[n].m_Type) != FALSE)

  0a249	8b 45 f8	 mov	 eax, DWORD PTR _n$237244[ebp]
  0a24c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a252	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a255	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a25b	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0a260	50		 push	 eax
  0a261	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0a264	e8 00 00 00 00	 call	 ?CheckLevel2WingItem@CMixSystem@@QAEHH@Z ; CMixSystem::CheckLevel2WingItem
  0a269	85 c0		 test	 eax, eax
  0a26b	74 20		 je	 SHORT $LN6@ThirdWingM@3

; 4765 : 			{
; 4766 : 				ThirdWingMixItemDown2(&lpObj->pChaosBox[n]);

  0a26d	8b 45 f8	 mov	 eax, DWORD PTR _n$237244[ebp]
  0a270	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a276	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a279	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0a27f	50		 push	 eax
  0a280	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0a283	e8 00 00 00 00	 call	 ?ThirdWingMixItemDown2@CMixSystem@@QAEXPAVCItem@@@Z ; CMixSystem::ThirdWingMixItemDown2
  0a288	e9 a7 00 00 00	 jmp	 $LN7@ThirdWingM@3
$LN6@ThirdWingM@3:

; 4767 : 			}
; 4768 : 			else if(CheckItemCondition(&lpObj->pChaosBox[n], 0,0,0,0,1,0) != FALSE)

  0a28d	6a 00		 push	 0
  0a28f	6a 01		 push	 1
  0a291	6a 00		 push	 0
  0a293	6a 00		 push	 0
  0a295	6a 00		 push	 0
  0a297	6a 00		 push	 0
  0a299	8b 45 f8	 mov	 eax, DWORD PTR _n$237244[ebp]
  0a29c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a2a2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a2a5	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0a2ab	50		 push	 eax
  0a2ac	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0a2af	e8 00 00 00 00	 call	 ?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
  0a2b4	85 c0		 test	 eax, eax
  0a2b6	74 1d		 je	 SHORT $LN4@ThirdWingM@3

; 4769 : 			{
; 4770 : 				ThirdWingMixItemDown2(&lpObj->pChaosBox[n]);

  0a2b8	8b 45 f8	 mov	 eax, DWORD PTR _n$237244[ebp]
  0a2bb	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a2c1	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a2c4	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0a2ca	50		 push	 eax
  0a2cb	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0a2ce	e8 00 00 00 00	 call	 ?ThirdWingMixItemDown2@CMixSystem@@QAEXPAVCItem@@@Z ; CMixSystem::ThirdWingMixItemDown2
  0a2d3	eb 5f		 jmp	 SHORT $LN7@ThirdWingM@3
$LN4@ThirdWingM@3:

; 4771 : 			}
; 4772 : 			else if(CheckItemCondition(&lpObj->pChaosBox[n], 0,0,0,0,0,1) != FALSE)

  0a2d5	6a 01		 push	 1
  0a2d7	6a 00		 push	 0
  0a2d9	6a 00		 push	 0
  0a2db	6a 00		 push	 0
  0a2dd	6a 00		 push	 0
  0a2df	6a 00		 push	 0
  0a2e1	8b 45 f8	 mov	 eax, DWORD PTR _n$237244[ebp]
  0a2e4	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a2ea	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a2ed	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0a2f3	50		 push	 eax
  0a2f4	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0a2f7	e8 00 00 00 00	 call	 ?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
  0a2fc	85 c0		 test	 eax, eax
  0a2fe	74 1d		 je	 SHORT $LN2@ThirdWingM@3

; 4773 : 			{
; 4774 : 				ThirdWingMixItemDown2(&lpObj->pChaosBox[n]);

  0a300	8b 45 f8	 mov	 eax, DWORD PTR _n$237244[ebp]
  0a303	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a309	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a30c	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0a312	50		 push	 eax
  0a313	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0a316	e8 00 00 00 00	 call	 ?ThirdWingMixItemDown2@CMixSystem@@QAEXPAVCItem@@@Z ; CMixSystem::ThirdWingMixItemDown2

; 4775 : 			}
; 4776 : 			else

  0a31b	eb 17		 jmp	 SHORT $LN7@ThirdWingM@3
$LN2@ThirdWingM@3:

; 4777 : 			{
; 4778 : 				lpObj->pChaosBox[n].Clear();

  0a31d	8b 4d f8	 mov	 ecx, DWORD PTR _n$237244[ebp]
  0a320	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0a326	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a329	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0a32f	e8 00 00 00 00	 call	 ?Clear@CItem@@QAEXXZ	; CItem::Clear
$LN7@ThirdWingM@3:

; 4779 : 			}
; 4780 : 		}
; 4781 : 	}

  0a334	e9 dd fe ff ff	 jmp	 $LN9@ThirdWingM@3
$LN12@ThirdWingM@3:

; 4782 : }

  0a339	5f		 pop	 edi
  0a33a	5e		 pop	 esi
  0a33b	5b		 pop	 ebx
  0a33c	8b e5		 mov	 esp, ebp
  0a33e	5d		 pop	 ebp
  0a33f	c2 04 00	 ret	 4
?ThirdWingMixItemDown@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::ThirdWingMixItemDown
; Function compile flags: /Odtp /ZI
_this$ = -4						; size = 4
_lpItem$ = 8						; size = 4
?ThirdWingMixItemDown2@CMixSystem@@QAEXPAVCItem@@@Z PROC ; CMixSystem::ThirdWingMixItemDown2
; _this$ = ecx

; 4786 : {

  0a350	55		 push	 ebp
  0a351	8b ec		 mov	 ebp, esp
  0a353	83 ec 44	 sub	 esp, 68			; 00000044H
  0a356	53		 push	 ebx
  0a357	56		 push	 esi
  0a358	57		 push	 edi
  0a359	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 4787 : 	if(lpItem == NULL)

  0a35c	83 7d 08 00	 cmp	 DWORD PTR _lpItem$[ebp], 0
  0a360	75 05		 jne	 SHORT $LN3@ThirdWingM@4

; 4788 : 	{
; 4789 : 		return;

  0a362	e9 af 00 00 00	 jmp	 $LN4@ThirdWingM@4
$LN3@ThirdWingM@4:

; 4790 : 	}
; 4791 : 
; 4792 : 	if((rand()%2) < 1)

  0a367	e8 00 00 00 00	 call	 _rand
  0a36c	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0a371	79 05		 jns	 SHORT $LN6@ThirdWingM@4
  0a373	48		 dec	 eax
  0a374	83 c8 fe	 or	 eax, -2			; fffffffeH
  0a377	40		 inc	 eax
$LN6@ThirdWingM@4:
  0a378	83 f8 01	 cmp	 eax, 1
  0a37b	7d 13		 jge	 SHORT $LN2@ThirdWingM@4

; 4793 : 	{
; 4794 : 		lpItem->m_Level -= 2;

  0a37d	8b 45 08	 mov	 eax, DWORD PTR _lpItem$[ebp]
  0a380	0f bf 48 08	 movsx	 ecx, WORD PTR [eax+8]
  0a384	83 e9 02	 sub	 ecx, 2
  0a387	8b 55 08	 mov	 edx, DWORD PTR _lpItem$[ebp]
  0a38a	66 89 4a 08	 mov	 WORD PTR [edx+8], cx

; 4795 : 	}
; 4796 : 	else

  0a38e	eb 11		 jmp	 SHORT $LN1@ThirdWingM@4
$LN2@ThirdWingM@4:

; 4797 : 	{
; 4798 : 		lpItem->m_Level -= 3;

  0a390	8b 45 08	 mov	 eax, DWORD PTR _lpItem$[ebp]
  0a393	0f bf 48 08	 movsx	 ecx, WORD PTR [eax+8]
  0a397	83 e9 03	 sub	 ecx, 3
  0a39a	8b 55 08	 mov	 edx, DWORD PTR _lpItem$[ebp]
  0a39d	66 89 4a 08	 mov	 WORD PTR [edx+8], cx
$LN1@ThirdWingM@4:

; 4799 : 	}
; 4800 : 
; 4801 : 	lpItem->m_Option3 = 0;

  0a3a1	8b 45 08	 mov	 eax, DWORD PTR _lpItem$[ebp]
  0a3a4	c6 80 96 00 00
	00 00		 mov	 BYTE PTR [eax+150], 0

; 4802 : 	lpItem->Convert(lpItem->m_Type, lpItem->m_Option1, lpItem->m_Option2, lpItem->m_Option3, lpItem->m_NewOption, lpItem->m_SetOption, lpItem->m_ItemOptionEx, lpItem->m_SocketOption, lpItem->m_SocketOptionIndex, 0, 3);

  0a3ab	6a 03		 push	 3
  0a3ad	6a 00		 push	 0
  0a3af	8b 45 08	 mov	 eax, DWORD PTR _lpItem$[ebp]
  0a3b2	0f b6 88 cb 00
	00 00		 movzx	 ecx, BYTE PTR [eax+203]
  0a3b9	51		 push	 ecx
  0a3ba	8b 55 08	 mov	 edx, DWORD PTR _lpItem$[ebp]
  0a3bd	81 c2 cc 00 00
	00		 add	 edx, 204		; 000000ccH
  0a3c3	52		 push	 edx
  0a3c4	8b 45 08	 mov	 eax, DWORD PTR _lpItem$[ebp]
  0a3c7	0f b6 88 ca 00
	00 00		 movzx	 ecx, BYTE PTR [eax+202]
  0a3ce	51		 push	 ecx
  0a3cf	8b 55 08	 mov	 edx, DWORD PTR _lpItem$[ebp]
  0a3d2	0f b6 82 ae 00
	00 00		 movzx	 eax, BYTE PTR [edx+174]
  0a3d9	50		 push	 eax
  0a3da	8b 4d 08	 mov	 ecx, DWORD PTR _lpItem$[ebp]
  0a3dd	0f b6 91 97 00
	00 00		 movzx	 edx, BYTE PTR [ecx+151]
  0a3e4	52		 push	 edx
  0a3e5	8b 45 08	 mov	 eax, DWORD PTR _lpItem$[ebp]
  0a3e8	0f b6 88 96 00
	00 00		 movzx	 ecx, BYTE PTR [eax+150]
  0a3ef	51		 push	 ecx
  0a3f0	8b 55 08	 mov	 edx, DWORD PTR _lpItem$[ebp]
  0a3f3	0f b6 82 95 00
	00 00		 movzx	 eax, BYTE PTR [edx+149]
  0a3fa	50		 push	 eax
  0a3fb	8b 4d 08	 mov	 ecx, DWORD PTR _lpItem$[ebp]
  0a3fe	0f b6 91 94 00
	00 00		 movzx	 edx, BYTE PTR [ecx+148]
  0a405	52		 push	 edx
  0a406	8b 45 08	 mov	 eax, DWORD PTR _lpItem$[ebp]
  0a409	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  0a40d	51		 push	 ecx
  0a40e	8b 4d 08	 mov	 ecx, DWORD PTR _lpItem$[ebp]
  0a411	e8 00 00 00 00	 call	 ?Convert@CItem@@QAEXHEEEEEEPAEEEE@Z ; CItem::Convert
$LN4@ThirdWingM@4:

; 4803 : }

  0a416	5f		 pop	 edi
  0a417	5e		 pop	 esi
  0a418	5b		 pop	 ebx
  0a419	8b e5		 mov	 esp, ebp
  0a41b	5d		 pop	 ebp
  0a41c	c2 04 00	 ret	 4
?ThirdWingMixItemDown2@CMixSystem@@QAEXPAVCItem@@@Z ENDP ; CMixSystem::ThirdWingMixItemDown2
_TEXT	ENDS
PUBLIC	??_C@_0DC@ILPOEBCF@?$FLSetItemMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail@ ; `string'
PUBLIC	??_C@_0EC@BFAACIGE@?$FLSetItemMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Succ@ ; `string'
PUBLIC	??_C@_0BN@JHMGADIL@?$FLSetItemMix?$FN?5Chaos?5Mix?5Start?$AA@ ; `string'
PUBLIC	??_C@_0L@DBFFCLIB@SetItemMix?$AA@		; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?SetItemChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::SetItemChaosMix
EXTRN	?GetSetOptionName@CSetItemOption@@QAEPADHH@Z:PROC ; CSetItemOption::GetSetOptionName
EXTRN	?MakeSetOption@CSetItemOption@@QAEHHH@Z:PROC	; CSetItemOption::MakeSetOption
EXTRN	?CheckMixContition@CSetItemOption@@QAEHHH@Z:PROC ; CSetItemOption::CheckMixContition
EXTRN	?IsSetItem@CSetItemOption@@QAEHH@Z:PROC		; CSetItemOption::IsSetItem
EXTRN	?gSetItemOption@@3VCSetItemOption@@A:BYTE	; gSetItemOption
;	COMDAT ??_C@_0DC@ILPOEBCF@?$FLSetItemMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail@
CONST	SEGMENT
??_C@_0DC@ILPOEBCF@?$FLSetItemMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail@ DB '['
	DB	'SetItemMix] [%s][%s] CBMix Fail %d Money : %d-%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EC@BFAACIGE@?$FLSetItemMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Succ@
CONST	SEGMENT
??_C@_0EC@BFAACIGE@?$FLSetItemMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Succ@ DB '['
	DB	'SetItemMix] [%s][%s] CBMix Success %d Money : %d-%d (SetName:'
	DB	'%s)', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0BN@JHMGADIL@?$FLSetItemMix?$FN?5Chaos?5Mix?5Start?$AA@
CONST	SEGMENT
??_C@_0BN@JHMGADIL@?$FLSetItemMix?$FN?5Chaos?5Mix?5Start?$AA@ DB '[SetIte'
	DB	'mMix] Chaos Mix Start', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@DBFFCLIB@SetItemMix?$AA@
CONST	SEGMENT
??_C@_0L@DBFFCLIB@SetItemMix?$AA@ DB 'SetItemMix', 00H	; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv727 = -356						; size = 4
_Dur$237320 = -288					; size = 4
_Item$237319 = -284					; size = 212
_setoption$ = -72					; size = 4
_nChaosNeedMoney$ = -68					; size = 4
_n$237278 = -64						; size = 4
_pMsg$ = -60						; size = 16
_iMetalOfAncientItemLevel$ = -44			; size = 4
_iChaosMoney$ = -40					; size = 4
_iMixItemChaosMoney$ = -36				; size = 4
_MixSetItemIndex$ = -32					; size = 4
_MixItemCount$ = -28					; size = 4
_MetalOfAncientCount$ = -24				; size = 4
_SoulGemCount$ = -20					; size = 4
_BlessGemCount$ = -16					; size = 4
_ChoasGemCount$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?SetItemChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::SetItemChaosMix
; _this$ = ecx

; 4806 : {

  0a420	55		 push	 ebp
  0a421	8b ec		 mov	 ebp, esp
  0a423	81 ec 64 01 00
	00		 sub	 esp, 356		; 00000164H
  0a429	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0a42e	33 c5		 xor	 eax, ebp
  0a430	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0a433	53		 push	 ebx
  0a434	56		 push	 esi
  0a435	57		 push	 edi
  0a436	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 4807 : 	lpObj->ChaosLock = TRUE;

  0a439	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a43c	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 4808 : 
; 4809 : 	int ChoasGemCount = 0;

  0a446	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _ChoasGemCount$[ebp], 0

; 4810 : 	int BlessGemCount = 0;

  0a44d	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _BlessGemCount$[ebp], 0

; 4811 : 	int SoulGemCount = 0;

  0a454	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _SoulGemCount$[ebp], 0

; 4812 : 	int MetalOfAncientCount = 0;

  0a45b	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _MetalOfAncientCount$[ebp], 0

; 4813 : 	int MixItemCount = 0;

  0a462	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _MixItemCount$[ebp], 0

; 4814 : 	int MixSetItemIndex = 0;

  0a469	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _MixSetItemIndex$[ebp], 0

; 4815 : 	int iMixItemChaosMoney = 0;

  0a470	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _iMixItemChaosMoney$[ebp], 0

; 4816 : 	int iChaosMoney = 0;

  0a477	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 0

; 4817 : 	int iMetalOfAncientItemLevel = -1;

  0a47e	c7 45 d4 ff ff
	ff ff		 mov	 DWORD PTR _iMetalOfAncientItemLevel$[ebp], -1

; 4818 : 
; 4819 : 	PMSG_CHAOSMIXRESULT pMsg;
; 4820 : 
; 4821 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0a485	6a 10		 push	 16			; 00000010H
  0a487	68 86 00 00 00	 push	 134			; 00000086H
  0a48c	8d 45 c4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0a48f	50		 push	 eax
  0a490	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0a495	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4822 : 	pMsg.Result = CB_ERROR;

  0a498	c6 45 c7 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 4823 : 
; 4824 : 
; 4825 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  0a49c	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _n$237278[ebp], 0
  0a4a3	eb 09		 jmp	 SHORT $LN32@SetItemCha
$LN31@SetItemCha:
  0a4a5	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a4a8	83 c0 01	 add	 eax, 1
  0a4ab	89 45 c0	 mov	 DWORD PTR _n$237278[ebp], eax
$LN32@SetItemCha:
  0a4ae	83 7d c0 20	 cmp	 DWORD PTR _n$237278[ebp], 32 ; 00000020H
  0a4b2	0f 8d 24 03 00
	00		 jge	 $LN30@SetItemCha

; 4826 : 	{
; 4827 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  0a4b8	8b 4d c0	 mov	 ecx, DWORD PTR _n$237278[ebp]
  0a4bb	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0a4c1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a4c4	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0a4ca	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0a4cf	83 f8 01	 cmp	 eax, 1
  0a4d2	0f 85 ff 02 00
	00		 jne	 $LN11@SetItemCha

; 4828 : 		{
; 4829 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,13) )

  0a4d8	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a4db	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a4e1	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a4e4	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a4ea	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0a4ef	3d 0d 1c 00 00	 cmp	 eax, 7181		; 00001c0dH
  0a4f4	75 2b		 jne	 SHORT $LN27@SetItemCha

; 4830 : 			{
; 4831 : 				BlessGemCount++;

  0a4f6	8b 45 f0	 mov	 eax, DWORD PTR _BlessGemCount$[ebp]
  0a4f9	83 c0 01	 add	 eax, 1
  0a4fc	89 45 f0	 mov	 DWORD PTR _BlessGemCount$[ebp], eax

; 4832 : 
; 4833 : 				if ( BlessGemCount > 3 )

  0a4ff	83 7d f0 03	 cmp	 DWORD PTR _BlessGemCount$[ebp], 3
  0a503	7e 1c		 jle	 SHORT $LN27@SetItemCha

; 4834 : 				{
; 4835 : 					iChaosMoney += lpObj->pChaosBox[n].m_BuyMoney;

  0a505	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a508	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a50e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a511	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a517	8b 4d d8	 mov	 ecx, DWORD PTR _iChaosMoney$[ebp]
  0a51a	03 4c 02 70	 add	 ecx, DWORD PTR [edx+eax+112]
  0a51e	89 4d d8	 mov	 DWORD PTR _iChaosMoney$[ebp], ecx
$LN27@SetItemCha:

; 4836 : 				}
; 4837 : 			}
; 4838 : 
; 4839 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,14) )

  0a521	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a524	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a52a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a52d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a533	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0a538	3d 0e 1c 00 00	 cmp	 eax, 7182		; 00001c0eH
  0a53d	75 2b		 jne	 SHORT $LN25@SetItemCha

; 4840 : 			{
; 4841 : 				SoulGemCount++;

  0a53f	8b 45 ec	 mov	 eax, DWORD PTR _SoulGemCount$[ebp]
  0a542	83 c0 01	 add	 eax, 1
  0a545	89 45 ec	 mov	 DWORD PTR _SoulGemCount$[ebp], eax

; 4842 : 
; 4843 : 				if ( SoulGemCount > 3 )

  0a548	83 7d ec 03	 cmp	 DWORD PTR _SoulGemCount$[ebp], 3
  0a54c	7e 1c		 jle	 SHORT $LN25@SetItemCha

; 4844 : 				{
; 4845 : 					iChaosMoney += lpObj->pChaosBox[n].m_BuyMoney;

  0a54e	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a551	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a557	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a55a	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a560	8b 4d d8	 mov	 ecx, DWORD PTR _iChaosMoney$[ebp]
  0a563	03 4c 02 70	 add	 ecx, DWORD PTR [edx+eax+112]
  0a567	89 4d d8	 mov	 DWORD PTR _iChaosMoney$[ebp], ecx
$LN25@SetItemCha:

; 4846 : 				}
; 4847 : 			}
; 4848 : 
; 4849 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,16) )

  0a56a	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a56d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a573	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a576	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a57c	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0a581	3d 10 1c 00 00	 cmp	 eax, 7184		; 00001c10H
  0a586	75 21		 jne	 SHORT $LN24@SetItemCha

; 4850 : 			{
; 4851 : 				iChaosMoney += lpObj->pChaosBox[n].m_BuyMoney;

  0a588	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a58b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a591	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a594	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a59a	8b 4d d8	 mov	 ecx, DWORD PTR _iChaosMoney$[ebp]
  0a59d	03 4c 02 70	 add	 ecx, DWORD PTR [edx+eax+112]
  0a5a1	89 4d d8	 mov	 DWORD PTR _iChaosMoney$[ebp], ecx
  0a5a4	e9 2e 02 00 00	 jmp	 $LN11@SetItemCha
$LN24@SetItemCha:

; 4852 : 			}
; 4853 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) )

  0a5a9	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a5ac	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a5b2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a5b5	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a5bb	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0a5c0	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  0a5c5	75 0e		 jne	 SHORT $LN22@SetItemCha

; 4854 : 			{
; 4855 : 				ChoasGemCount++;

  0a5c7	8b 45 f4	 mov	 eax, DWORD PTR _ChoasGemCount$[ebp]
  0a5ca	83 c0 01	 add	 eax, 1
  0a5cd	89 45 f4	 mov	 DWORD PTR _ChoasGemCount$[ebp], eax
  0a5d0	e9 02 02 00 00	 jmp	 $LN11@SetItemCha
$LN22@SetItemCha:

; 4856 : 			}
; 4857 : 			else if ( lpObj->pChaosBox[n].m_Level >= 6 && lpObj->pChaosBox[n].IsExtItem() != FALSE)

  0a5d5	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a5d8	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a5de	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a5e1	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a5e7	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  0a5ec	83 f8 06	 cmp	 eax, 6
  0a5ef	7c 71		 jl	 SHORT $LN20@SetItemCha
  0a5f1	8b 4d c0	 mov	 ecx, DWORD PTR _n$237278[ebp]
  0a5f4	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0a5fa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a5fd	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0a603	e8 00 00 00 00	 call	 ?IsExtItem@CItem@@QAEHXZ ; CItem::IsExtItem
  0a608	85 c0		 test	 eax, eax
  0a60a	74 56		 je	 SHORT $LN20@SetItemCha

; 4858 : 			{
; 4859 : 				if ( gSetItemOption.IsSetItem(lpObj->pChaosBox[n].m_Type) != FALSE )

  0a60c	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a60f	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a615	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a618	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a61e	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0a623	50		 push	 eax
  0a624	b9 00 00 00 00	 mov	 ecx, OFFSET ?gSetItemOption@@3VCSetItemOption@@A ; gSetItemOption
  0a629	e8 00 00 00 00	 call	 ?IsSetItem@CSetItemOption@@QAEHH@Z ; CSetItemOption::IsSetItem
  0a62e	85 c0		 test	 eax, eax
  0a630	74 2b		 je	 SHORT $LN19@SetItemCha

; 4860 : 				{
; 4861 : 					MixItemCount++;

  0a632	8b 45 e4	 mov	 eax, DWORD PTR _MixItemCount$[ebp]
  0a635	83 c0 01	 add	 eax, 1
  0a638	89 45 e4	 mov	 DWORD PTR _MixItemCount$[ebp], eax

; 4862 : 					MixSetItemIndex = n;

  0a63b	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a63e	89 45 e0	 mov	 DWORD PTR _MixSetItemIndex$[ebp], eax

; 4863 : 					iMixItemChaosMoney += lpObj->pChaosBox[n].m_BuyMoney;

  0a641	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a644	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a64a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a64d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a653	8b 4d dc	 mov	 ecx, DWORD PTR _iMixItemChaosMoney$[ebp]
  0a656	03 4c 02 70	 add	 ecx, DWORD PTR [edx+eax+112]
  0a65a	89 4d dc	 mov	 DWORD PTR _iMixItemChaosMoney$[ebp], ecx
$LN19@SetItemCha:

; 4864 : 				}
; 4865 : 			}

  0a65d	e9 75 01 00 00	 jmp	 $LN11@SetItemCha
$LN20@SetItemCha:

; 4866 : 			else if ( ((lpObj->pChaosBox[n].m_Type >= ITEMGET(13,8) && lpObj->pChaosBox[n].m_Type < ITEMGET(13,14)) || (lpObj->pChaosBox[n].m_Type >= ITEMGET(13,20) && lpObj->pChaosBox[n].m_Type < ITEMGET(13,28) ) ) && ( lpObj->pChaosBox[n].m_Option3 >= 2  && lpObj->pChaosBox[n].m_Level >= 3 ) )	

  0a662	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a665	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a66b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a66e	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a674	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0a679	3d 08 1a 00 00	 cmp	 eax, 6664		; 00001a08H
  0a67e	7c 1e		 jl	 SHORT $LN15@SetItemCha
  0a680	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a683	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a689	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a68c	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a692	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0a697	3d 0e 1a 00 00	 cmp	 eax, 6670		; 00001a0eH
  0a69c	7c 44		 jl	 SHORT $LN16@SetItemCha
$LN15@SetItemCha:
  0a69e	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a6a1	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a6a7	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a6aa	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a6b0	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0a6b5	3d 14 1a 00 00	 cmp	 eax, 6676		; 00001a14H
  0a6ba	0f 8c b0 00 00
	00		 jl	 $LN17@SetItemCha
  0a6c0	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a6c3	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a6c9	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a6cc	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a6d2	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0a6d7	3d 1c 1a 00 00	 cmp	 eax, 6684		; 00001a1cH
  0a6dc	0f 8d 8e 00 00
	00		 jge	 $LN17@SetItemCha
$LN16@SetItemCha:
  0a6e2	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a6e5	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a6eb	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a6ee	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a6f4	0f b6 84 02 96
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+150]
  0a6fc	83 f8 02	 cmp	 eax, 2
  0a6ff	7c 6f		 jl	 SHORT $LN17@SetItemCha
  0a701	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a704	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a70a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a70d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a713	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  0a718	83 f8 03	 cmp	 eax, 3
  0a71b	7c 53		 jl	 SHORT $LN17@SetItemCha

; 4867 : 			{
; 4868 : 				if ( gSetItemOption.IsSetItem(lpObj->pChaosBox[n].m_Type ) != FALSE )

  0a71d	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a720	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a726	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a729	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a72f	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0a734	50		 push	 eax
  0a735	b9 00 00 00 00	 mov	 ecx, OFFSET ?gSetItemOption@@3VCSetItemOption@@A ; gSetItemOption
  0a73a	e8 00 00 00 00	 call	 ?IsSetItem@CSetItemOption@@QAEHH@Z ; CSetItemOption::IsSetItem
  0a73f	85 c0		 test	 eax, eax
  0a741	74 2b		 je	 SHORT $LN14@SetItemCha

; 4869 : 				{
; 4870 : 					MixItemCount++;

  0a743	8b 45 e4	 mov	 eax, DWORD PTR _MixItemCount$[ebp]
  0a746	83 c0 01	 add	 eax, 1
  0a749	89 45 e4	 mov	 DWORD PTR _MixItemCount$[ebp], eax

; 4871 : 					MixSetItemIndex = n;

  0a74c	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a74f	89 45 e0	 mov	 DWORD PTR _MixSetItemIndex$[ebp], eax

; 4872 : 					iMixItemChaosMoney += lpObj->pChaosBox[n].m_BuyMoney;

  0a752	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a755	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a75b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a75e	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a764	8b 4d dc	 mov	 ecx, DWORD PTR _iMixItemChaosMoney$[ebp]
  0a767	03 4c 02 70	 add	 ecx, DWORD PTR [edx+eax+112]
  0a76b	89 4d dc	 mov	 DWORD PTR _iMixItemChaosMoney$[ebp], ecx
$LN14@SetItemCha:

; 4873 : 				}
; 4874 : 			}

  0a76e	eb 67		 jmp	 SHORT $LN11@SetItemCha
$LN17@SetItemCha:

; 4875 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,27) )

  0a770	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a773	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a779	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a77c	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a782	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0a787	3d 1b 1c 00 00	 cmp	 eax, 7195		; 00001c1bH
  0a78c	75 25		 jne	 SHORT $LN12@SetItemCha

; 4876 : 			{
; 4877 : 				MetalOfAncientCount++;

  0a78e	8b 45 e8	 mov	 eax, DWORD PTR _MetalOfAncientCount$[ebp]
  0a791	83 c0 01	 add	 eax, 1
  0a794	89 45 e8	 mov	 DWORD PTR _MetalOfAncientCount$[ebp], eax

; 4878 : 				iMetalOfAncientItemLevel = lpObj->pChaosBox[n].m_Level;

  0a797	8b 45 c0	 mov	 eax, DWORD PTR _n$237278[ebp]
  0a79a	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a7a0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0a7a3	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0a7a9	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  0a7ae	89 45 d4	 mov	 DWORD PTR _iMetalOfAncientItemLevel$[ebp], eax

; 4879 : 			}
; 4880 : 			else

  0a7b1	eb 24		 jmp	 SHORT $LN11@SetItemCha
$LN12@SetItemCha:

; 4881 : 			{
; 4882 : 				DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0a7b3	0f b6 45 c5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0a7b7	50		 push	 eax
  0a7b8	8d 4d c4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0a7bb	51		 push	 ecx
  0a7bc	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a7bf	8b 02		 mov	 eax, DWORD PTR [edx]
  0a7c1	50		 push	 eax
  0a7c2	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0a7c7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4883 : 				lpObj->ChaosLock = FALSE;

  0a7ca	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a7cd	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN11@SetItemCha:

; 4884 : 			}
; 4885 : 		}
; 4886 : 	}

  0a7d7	e9 c9 fc ff ff	 jmp	 $LN31@SetItemCha
$LN30@SetItemCha:

; 4887 : 
; 4888 : 
; 4889 : 	if ( ChoasGemCount < 1 || BlessGemCount < 3 || SoulGemCount < 3 || MetalOfAncientCount != 1 || MixItemCount != 1 )

  0a7dc	83 7d f4 01	 cmp	 DWORD PTR _ChoasGemCount$[ebp], 1
  0a7e0	7c 18		 jl	 SHORT $LN9@SetItemCha
  0a7e2	83 7d f0 03	 cmp	 DWORD PTR _BlessGemCount$[ebp], 3
  0a7e6	7c 12		 jl	 SHORT $LN9@SetItemCha
  0a7e8	83 7d ec 03	 cmp	 DWORD PTR _SoulGemCount$[ebp], 3
  0a7ec	7c 0c		 jl	 SHORT $LN9@SetItemCha
  0a7ee	83 7d e8 01	 cmp	 DWORD PTR _MetalOfAncientCount$[ebp], 1
  0a7f2	75 06		 jne	 SHORT $LN9@SetItemCha
  0a7f4	83 7d e4 01	 cmp	 DWORD PTR _MixItemCount$[ebp], 1
  0a7f8	74 29		 je	 SHORT $LN10@SetItemCha
$LN9@SetItemCha:

; 4890 : 	{
; 4891 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0a7fa	0f b6 45 c5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0a7fe	50		 push	 eax
  0a7ff	8d 4d c4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0a802	51		 push	 ecx
  0a803	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a806	8b 02		 mov	 eax, DWORD PTR [edx]
  0a808	50		 push	 eax
  0a809	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0a80e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4892 : 		lpObj->ChaosLock = FALSE;

  0a811	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a814	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4893 : 		return;

  0a81e	e9 fd 05 00 00	 jmp	 $LN33@SetItemCha
$LN10@SetItemCha:

; 4894 : 	}
; 4895 : 
; 4896 : 	LogChaosItem(lpObj, "SetItemMix");

  0a823	68 00 00 00 00	 push	 OFFSET ??_C@_0L@DBFFCLIB@SetItemMix?$AA@
  0a828	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a82b	50		 push	 eax
  0a82c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0a82f	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 4897 : 	LogAddTD("[SetItemMix] Chaos Mix Start");

  0a834	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@JHMGADIL@?$FLSetItemMix?$FN?5Chaos?5Mix?5Start?$AA@
  0a839	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0a83f	83 c4 04	 add	 esp, 4

; 4898 : 
; 4899 : 	if ( gSetItemOption.CheckMixContition(lpObj->pChaosBox[MixSetItemIndex].m_Type, iMetalOfAncientItemLevel ) == FALSE )

  0a842	8b 45 d4	 mov	 eax, DWORD PTR _iMetalOfAncientItemLevel$[ebp]
  0a845	50		 push	 eax
  0a846	8b 4d e0	 mov	 ecx, DWORD PTR _MixSetItemIndex$[ebp]
  0a849	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0a84f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a852	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  0a858	0f bf 4c 08 06	 movsx	 ecx, WORD PTR [eax+ecx+6]
  0a85d	51		 push	 ecx
  0a85e	b9 00 00 00 00	 mov	 ecx, OFFSET ?gSetItemOption@@3VCSetItemOption@@A ; gSetItemOption
  0a863	e8 00 00 00 00	 call	 ?CheckMixContition@CSetItemOption@@QAEHHH@Z ; CSetItemOption::CheckMixContition
  0a868	85 c0		 test	 eax, eax
  0a86a	75 29		 jne	 SHORT $LN8@SetItemCha

; 4900 : 	{
; 4901 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0a86c	0f b6 45 c5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0a870	50		 push	 eax
  0a871	8d 4d c4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0a874	51		 push	 ecx
  0a875	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a878	8b 02		 mov	 eax, DWORD PTR [edx]
  0a87a	50		 push	 eax
  0a87b	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0a880	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4902 : 		lpObj->ChaosLock = FALSE;

  0a883	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a886	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4903 : 
; 4904 : 		return;

  0a890	e9 8b 05 00 00	 jmp	 $LN33@SetItemCha
$LN8@SetItemCha:

; 4905 : 	}
; 4906 : 
; 4907 : 	lpObj->ChaosSuccessRate = iMixItemChaosMoney / 40000;

  0a895	8b 45 dc	 mov	 eax, DWORD PTR _iMixItemChaosMoney$[ebp]
  0a898	99		 cdq
  0a899	b9 40 9c 00 00	 mov	 ecx, 40000		; 00009c40H
  0a89e	f7 f9		 idiv	 ecx
  0a8a0	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a8a3	89 82 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], eax

; 4908 : 	lpObj->ChaosSuccessRate = iChaosMoney / 400000;

  0a8a9	8b 45 d8	 mov	 eax, DWORD PTR _iChaosMoney$[ebp]
  0a8ac	99		 cdq
  0a8ad	b9 80 1a 06 00	 mov	 ecx, 400000		; 00061a80H
  0a8b2	f7 f9		 idiv	 ecx
  0a8b4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a8b7	89 82 84 0e 00
	00		 mov	 DWORD PTR [edx+3716], eax

; 4909 : 
; 4910 : 	if ( lpObj->ChaosSuccessRate > 80 )

  0a8bd	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a8c0	83 b8 84 0e 00
	00 50		 cmp	 DWORD PTR [eax+3716], 80 ; 00000050H
  0a8c7	7e 0d		 jle	 SHORT $LN7@SetItemCha

; 4911 : 	{
; 4912 : 		lpObj->ChaosSuccessRate = 80;

  0a8c9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a8cc	c7 80 84 0e 00
	00 50 00 00 00	 mov	 DWORD PTR [eax+3716], 80 ; 00000050H
$LN7@SetItemCha:

; 4913 : 	}
; 4914 : 
; 4915 : 	int nChaosNeedMoney = (lpObj->ChaosSuccessRate - 50 ) * 1000000;

  0a8d6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a8d9	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  0a8df	83 e9 32	 sub	 ecx, 50			; 00000032H
  0a8e2	69 c9 40 42 0f
	00		 imul	 ecx, 1000000		; 000f4240H
  0a8e8	89 4d bc	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 4916 : 
; 4917 : 	nChaosNeedMoney += lpObj->m_AddMixMoney;

  0a8eb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a8ee	8b 4d bc	 mov	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  0a8f1	03 88 1c 28 00
	00		 add	 ecx, DWORD PTR [eax+10268]
  0a8f7	89 4d bc	 mov	 DWORD PTR _nChaosNeedMoney$[ebp], ecx

; 4918 : 
; 4919 : 	if ( lpObj->Money < nChaosNeedMoney )

  0a8fa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a8fd	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0a903	3b 4d bc	 cmp	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  0a906	7d 2d		 jge	 SHORT $LN6@SetItemCha

; 4920 : 	{
; 4921 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  0a908	c6 45 c7 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 4922 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0a90c	0f b6 45 c5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0a910	50		 push	 eax
  0a911	8d 4d c4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0a914	51		 push	 ecx
  0a915	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a918	8b 02		 mov	 eax, DWORD PTR [edx]
  0a91a	50		 push	 eax
  0a91b	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0a920	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4923 : 		lpObj->ChaosLock = FALSE;

  0a923	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a926	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4924 : 
; 4925 : 		return;

  0a930	e9 eb 04 00 00	 jmp	 $LN33@SetItemCha
$LN6@SetItemCha:

; 4926 : 	}
; 4927 : 
; 4928 : 	int setoption = gSetItemOption.MakeSetOption(lpObj->pChaosBox[MixSetItemIndex].m_Type, iMetalOfAncientItemLevel);

  0a935	8b 45 d4	 mov	 eax, DWORD PTR _iMetalOfAncientItemLevel$[ebp]
  0a938	50		 push	 eax
  0a939	8b 4d e0	 mov	 ecx, DWORD PTR _MixSetItemIndex$[ebp]
  0a93c	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0a942	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a945	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  0a94b	0f bf 4c 08 06	 movsx	 ecx, WORD PTR [eax+ecx+6]
  0a950	51		 push	 ecx
  0a951	b9 00 00 00 00	 mov	 ecx, OFFSET ?gSetItemOption@@3VCSetItemOption@@A ; gSetItemOption
  0a956	e8 00 00 00 00	 call	 ?MakeSetOption@CSetItemOption@@QAEHHH@Z ; CSetItemOption::MakeSetOption
  0a95b	89 45 b8	 mov	 DWORD PTR _setoption$[ebp], eax

; 4929 : 
; 4930 : 	if ( setoption == 0 )

  0a95e	83 7d b8 00	 cmp	 DWORD PTR _setoption$[ebp], 0
  0a962	75 2d		 jne	 SHORT $LN5@SetItemCha

; 4931 : 	{
; 4932 : 		pMsg.Result = CB_ERROR;

  0a964	c6 45 c7 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 4933 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0a968	0f b6 45 c5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0a96c	50		 push	 eax
  0a96d	8d 4d c4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0a970	51		 push	 ecx
  0a971	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a974	8b 02		 mov	 eax, DWORD PTR [edx]
  0a976	50		 push	 eax
  0a977	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0a97c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4934 : 		lpObj->ChaosLock = FALSE;

  0a97f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a982	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 4935 : 
; 4936 : 		return;

  0a98c	e9 8f 04 00 00	 jmp	 $LN33@SetItemCha
$LN5@SetItemCha:

; 4937 : 	}
; 4938 : 
; 4939 : 	lpObj->ChaosSuccessRate += lpObj->m_AddMixSuccessRate;

  0a991	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a994	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  0a99a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a99d	03 8a 20 28 00
	00		 add	 ecx, DWORD PTR [edx+10272]
  0a9a3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a9a6	89 88 84 0e 00
	00		 mov	 DWORD PTR [eax+3716], ecx

; 4940 : 
; 4941 : 	lpObj->Money -= nChaosNeedMoney;

  0a9ac	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a9af	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0a9b5	2b 4d bc	 sub	 ecx, DWORD PTR _nChaosNeedMoney$[ebp]
  0a9b8	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a9bb	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 4942 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  0a9c1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a9c4	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0a9ca	51		 push	 ecx
  0a9cb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0a9ce	8b 02		 mov	 eax, DWORD PTR [edx]
  0a9d0	50		 push	 eax
  0a9d1	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  0a9d6	83 c4 08	 add	 esp, 8

; 4943 : 
; 4944 : 	if ( (rand()%100) < lpObj->ChaosSuccessRate )

  0a9d9	e8 00 00 00 00	 call	 _rand
  0a9de	99		 cdq
  0a9df	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0a9e4	f7 f9		 idiv	 ecx
  0a9e6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0a9e9	3b 90 84 0e 00
	00		 cmp	 edx, DWORD PTR [eax+3716]
  0a9ef	0f 8d a9 03 00
	00		 jge	 $LN4@SetItemCha

; 4945 : 	{
; 4946 : 		lpObj->pChaosBox[MixSetItemIndex].m_SetOption = setoption;

  0a9f5	8b 45 e0	 mov	 eax, DWORD PTR _MixSetItemIndex$[ebp]
  0a9f8	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0a9fe	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0aa01	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0aa07	8a 4d b8	 mov	 cl, BYTE PTR _setoption$[ebp]
  0aa0a	88 8c 02 ae 00
	00 00		 mov	 BYTE PTR [edx+eax+174], cl

; 4947 : 
; 4948 : 		if ( (rand()%100 ) < 80 )

  0aa11	e8 00 00 00 00	 call	 _rand
  0aa16	99		 cdq
  0aa17	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0aa1c	f7 f9		 idiv	 ecx
  0aa1e	83 fa 50	 cmp	 edx, 80			; 00000050H
  0aa21	7d 38		 jge	 SHORT $LN3@SetItemCha

; 4949 : 		{
; 4950 : 			lpObj->pChaosBox[MixSetItemIndex].m_SetOption |= 4;

  0aa23	8b 45 e0	 mov	 eax, DWORD PTR _MixSetItemIndex$[ebp]
  0aa26	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0aa2c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0aa2f	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0aa35	0f b6 84 02 ae
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+174]
  0aa3d	83 c8 04	 or	 eax, 4
  0aa40	8b 4d e0	 mov	 ecx, DWORD PTR _MixSetItemIndex$[ebp]
  0aa43	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0aa49	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0aa4c	8b 92 78 0e 00
	00		 mov	 edx, DWORD PTR [edx+3704]
  0aa52	88 84 0a ae 00
	00 00		 mov	 BYTE PTR [edx+ecx+174], al

; 4951 : 		}
; 4952 : 		else

  0aa59	eb 36		 jmp	 SHORT $LN2@SetItemCha
$LN3@SetItemCha:

; 4953 : 		{
; 4954 : 			lpObj->pChaosBox[MixSetItemIndex].m_SetOption |= 8;

  0aa5b	8b 45 e0	 mov	 eax, DWORD PTR _MixSetItemIndex$[ebp]
  0aa5e	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0aa64	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0aa67	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0aa6d	0f b6 84 02 ae
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+174]
  0aa75	83 c8 08	 or	 eax, 8
  0aa78	8b 4d e0	 mov	 ecx, DWORD PTR _MixSetItemIndex$[ebp]
  0aa7b	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0aa81	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0aa84	8b 92 78 0e 00
	00		 mov	 edx, DWORD PTR [edx+3704]
  0aa8a	88 84 0a ae 00
	00 00		 mov	 BYTE PTR [edx+ecx+174], al
$LN2@SetItemCha:

; 4955 : 		}
; 4956 : 
; 4957 : 		pMsg.Result = CB_SUCCESS;

  0aa91	c6 45 c7 01	 mov	 BYTE PTR _pMsg$[ebp+3], 1

; 4958 : 		CItem Item;

  0aa95	8d 8d e4 fe ff
	ff		 lea	 ecx, DWORD PTR _Item$237319[ebp]
  0aa9b	e8 00 00 00 00	 call	 ??0CItem@@QAE@XZ	; CItem::CItem

; 4959 : 
; 4960 : 		float Dur = (float)ItemGetDurability(lpObj->pChaosBox[MixSetItemIndex].m_Type, lpObj->pChaosBox[MixSetItemIndex].m_Level,
; 4961 : 			lpObj->pChaosBox[MixSetItemIndex].IsExtItem(), lpObj->pChaosBox[MixSetItemIndex].IsSetItem());

  0aaa0	8b 4d e0	 mov	 ecx, DWORD PTR _MixSetItemIndex$[ebp]
  0aaa3	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0aaa9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0aaac	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0aab2	e8 00 00 00 00	 call	 ?IsSetItem@CItem@@QAEHXZ ; CItem::IsSetItem
  0aab7	50		 push	 eax
  0aab8	8b 4d e0	 mov	 ecx, DWORD PTR _MixSetItemIndex$[ebp]
  0aabb	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0aac1	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0aac4	03 8a 78 0e 00
	00		 add	 ecx, DWORD PTR [edx+3704]
  0aaca	e8 00 00 00 00	 call	 ?IsExtItem@CItem@@QAEHXZ ; CItem::IsExtItem
  0aacf	50		 push	 eax
  0aad0	8b 45 e0	 mov	 eax, DWORD PTR _MixSetItemIndex$[ebp]
  0aad3	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0aad9	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0aadc	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0aae2	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  0aae7	50		 push	 eax
  0aae8	8b 4d e0	 mov	 ecx, DWORD PTR _MixSetItemIndex$[ebp]
  0aaeb	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0aaf1	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0aaf4	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  0aafa	0f bf 4c 08 06	 movsx	 ecx, WORD PTR [eax+ecx+6]
  0aaff	51		 push	 ecx
  0ab00	e8 00 00 00 00	 call	 ?ItemGetDurability@@YAHHHHH@Z ; ItemGetDurability
  0ab05	83 c4 10	 add	 esp, 16			; 00000010H
  0ab08	89 85 9c fe ff
	ff		 mov	 DWORD PTR tv727[ebp], eax
  0ab0e	db 85 9c fe ff
	ff		 fild	 DWORD PTR tv727[ebp]
  0ab14	d9 9d e0 fe ff
	ff		 fstp	 DWORD PTR _Dur$237320[ebp]

; 4962 : 
; 4963 : 		Item.m_Level = lpObj->pChaosBox[MixSetItemIndex].m_Level;

  0ab1a	8b 45 e0	 mov	 eax, DWORD PTR _MixSetItemIndex$[ebp]
  0ab1d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ab23	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ab26	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ab2c	66 8b 44 02 08	 mov	 ax, WORD PTR [edx+eax+8]
  0ab31	66 89 85 ec fe
	ff ff		 mov	 WORD PTR _Item$237319[ebp+8], ax

; 4964 : 		Item.m_Durability = Dur * lpObj->pChaosBox[MixSetItemIndex].m_Durability / lpObj->pChaosBox[MixSetItemIndex].m_BaseDurability;

  0ab38	8b 45 e0	 mov	 eax, DWORD PTR _MixSetItemIndex$[ebp]
  0ab3b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ab41	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ab44	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ab4a	d9 85 e0 fe ff
	ff		 fld	 DWORD PTR _Dur$237320[ebp]
  0ab50	d8 4c 02 24	 fmul	 DWORD PTR [edx+eax+36]
  0ab54	8b 45 e0	 mov	 eax, DWORD PTR _MixSetItemIndex$[ebp]
  0ab57	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ab5d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ab60	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ab66	d8 74 02 2c	 fdiv	 DWORD PTR [edx+eax+44]
  0ab6a	d9 9d 08 ff ff
	ff		 fstp	 DWORD PTR _Item$237319[ebp+36]

; 4965 : 		Item.m_JewelOfHarmonyOption = lpObj->pChaosBox[MixSetItemIndex].m_JewelOfHarmonyOption;

  0ab70	8b 45 e0	 mov	 eax, DWORD PTR _MixSetItemIndex$[ebp]
  0ab73	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ab79	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ab7c	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ab82	8a 84 02 c4 00
	00 00		 mov	 al, BYTE PTR [edx+eax+196]
  0ab89	88 45 a8	 mov	 BYTE PTR _Item$237319[ebp+196], al

; 4966 : 
; 4967 : 		Item.Convert(lpObj->pChaosBox[MixSetItemIndex].m_Type, lpObj->pChaosBox[MixSetItemIndex].m_Option1, lpObj->pChaosBox[MixSetItemIndex].m_Option2,
; 4968 : 			lpObj->pChaosBox[MixSetItemIndex].m_Option3, lpObj->pChaosBox[MixSetItemIndex].m_NewOption, 
; 4969 : 			lpObj->pChaosBox[MixSetItemIndex].m_SetOption, lpObj->pChaosBox[MixSetItemIndex].m_ItemOptionEx, lpObj->pChaosBox[MixSetItemIndex].m_SocketOption, lpObj->pChaosBox[MixSetItemIndex].m_SocketOptionIndex, 0, CURRENT_DB_VERSION);

  0ab8c	6a 03		 push	 3
  0ab8e	6a 00		 push	 0
  0ab90	8b 45 e0	 mov	 eax, DWORD PTR _MixSetItemIndex$[ebp]
  0ab93	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ab99	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ab9c	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0aba2	0f b6 84 02 cb
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+203]
  0abaa	50		 push	 eax
  0abab	8b 4d e0	 mov	 ecx, DWORD PTR _MixSetItemIndex$[ebp]
  0abae	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0abb4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0abb7	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  0abbd	8d 8c 08 cc 00
	00 00		 lea	 ecx, DWORD PTR [eax+ecx+204]
  0abc4	51		 push	 ecx
  0abc5	8b 55 e0	 mov	 edx, DWORD PTR _MixSetItemIndex$[ebp]
  0abc8	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  0abce	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0abd1	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  0abd7	0f b6 94 11 ca
	00 00 00	 movzx	 edx, BYTE PTR [ecx+edx+202]
  0abdf	52		 push	 edx
  0abe0	8b 45 e0	 mov	 eax, DWORD PTR _MixSetItemIndex$[ebp]
  0abe3	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0abe9	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0abec	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0abf2	0f b6 84 02 ae
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+174]
  0abfa	50		 push	 eax
  0abfb	8b 4d e0	 mov	 ecx, DWORD PTR _MixSetItemIndex$[ebp]
  0abfe	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0ac04	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ac07	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  0ac0d	0f b6 8c 08 97
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+151]
  0ac15	51		 push	 ecx
  0ac16	8b 55 e0	 mov	 edx, DWORD PTR _MixSetItemIndex$[ebp]
  0ac19	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  0ac1f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ac22	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  0ac28	0f b6 94 11 96
	00 00 00	 movzx	 edx, BYTE PTR [ecx+edx+150]
  0ac30	52		 push	 edx
  0ac31	8b 45 e0	 mov	 eax, DWORD PTR _MixSetItemIndex$[ebp]
  0ac34	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ac3a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ac3d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ac43	0f b6 84 02 95
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+149]
  0ac4b	50		 push	 eax
  0ac4c	8b 4d e0	 mov	 ecx, DWORD PTR _MixSetItemIndex$[ebp]
  0ac4f	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0ac55	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ac58	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  0ac5e	0f b6 8c 08 94
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+148]
  0ac66	51		 push	 ecx
  0ac67	8b 55 e0	 mov	 edx, DWORD PTR _MixSetItemIndex$[ebp]
  0ac6a	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  0ac70	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ac73	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  0ac79	0f bf 54 11 06	 movsx	 edx, WORD PTR [ecx+edx+6]
  0ac7e	52		 push	 edx
  0ac7f	8d 8d e4 fe ff
	ff		 lea	 ecx, DWORD PTR _Item$237319[ebp]
  0ac85	e8 00 00 00 00	 call	 ?Convert@CItem@@QAEXHEEEEEEPAEEEE@Z ; CItem::Convert

; 4970 : 
; 4971 : 		Item.m_Number = lpObj->pChaosBox[MixSetItemIndex].m_Number;

  0ac8a	8b 45 e0	 mov	 eax, DWORD PTR _MixSetItemIndex$[ebp]
  0ac8d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ac93	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ac96	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ac9c	8b 04 10	 mov	 eax, DWORD PTR [eax+edx]
  0ac9f	89 85 e4 fe ff
	ff		 mov	 DWORD PTR _Item$237319[ebp], eax

; 4972 : 
; 4973 : 		ItemByteConvert(pMsg.ItemInfo, Item);

  0aca5	81 ec d4 00 00
	00		 sub	 esp, 212		; 000000d4H
  0acab	b9 35 00 00 00	 mov	 ecx, 53			; 00000035H
  0acb0	8d b5 e4 fe ff
	ff		 lea	 esi, DWORD PTR _Item$237319[ebp]
  0acb6	8b fc		 mov	 edi, esp
  0acb8	f3 a5		 rep movsd
  0acba	8d 45 c8	 lea	 eax, DWORD PTR _pMsg$[ebp+4]
  0acbd	50		 push	 eax
  0acbe	e8 00 00 00 00	 call	 ?ItemByteConvert@@YAXPAEVCItem@@@Z ; ItemByteConvert
  0acc3	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H

; 4974 : 		this->ChaosBoxInit(lpObj);

  0acc9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0accc	50		 push	 eax
  0accd	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0acd0	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 4975 : 		::gObjChaosBoxInsertItemPos(lpObj->m_Index, Item, 0, -1);

  0acd5	6a ff		 push	 -1
  0acd7	6a 00		 push	 0
  0acd9	81 ec d4 00 00
	00		 sub	 esp, 212		; 000000d4H
  0acdf	b9 35 00 00 00	 mov	 ecx, 53			; 00000035H
  0ace4	8d b5 e4 fe ff
	ff		 lea	 esi, DWORD PTR _Item$237319[ebp]
  0acea	8b fc		 mov	 edi, esp
  0acec	f3 a5		 rep movsd
  0acee	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0acf1	8b 08		 mov	 ecx, DWORD PTR [eax]
  0acf3	51		 push	 ecx
  0acf4	e8 00 00 00 00	 call	 ?gObjChaosBoxInsertItemPos@@YAEHVCItem@@HH@Z ; gObjChaosBoxInsertItemPos
  0acf9	81 c4 e0 00 00
	00		 add	 esp, 224		; 000000e0H

; 4976 : 		gObjChaosItemSet(lpObj->m_Index, 0, 1);

  0acff	6a 01		 push	 1
  0ad01	6a 00		 push	 0
  0ad03	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ad06	8b 08		 mov	 ecx, DWORD PTR [eax]
  0ad08	51		 push	 ecx
  0ad09	e8 00 00 00 00	 call	 ?gObjChaosItemSet@@YAXHHE@Z ; gObjChaosItemSet
  0ad0e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4977 : 
; 4978 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0ad11	0f b6 45 c5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0ad15	50		 push	 eax
  0ad16	8d 4d c4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0ad19	51		 push	 ecx
  0ad1a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ad1d	8b 02		 mov	 eax, DWORD PTR [edx]
  0ad1f	50		 push	 eax
  0ad20	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0ad25	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4979 : 
; 4980 : 		LogAddTD("[SetItemMix] [%s][%s] CBMix Success %d Money : %d-%d (SetName:%s)", lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate,
; 4981 : 			lpObj->Money, lpObj->ChaosMoney, gSetItemOption.GetSetOptionName(lpObj->pChaosBox[MixSetItemIndex].m_Type, setoption));

  0ad28	8b 45 b8	 mov	 eax, DWORD PTR _setoption$[ebp]
  0ad2b	50		 push	 eax
  0ad2c	8b 4d e0	 mov	 ecx, DWORD PTR _MixSetItemIndex$[ebp]
  0ad2f	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0ad35	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ad38	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  0ad3e	0f bf 4c 08 06	 movsx	 ecx, WORD PTR [eax+ecx+6]
  0ad43	51		 push	 ecx
  0ad44	b9 00 00 00 00	 mov	 ecx, OFFSET ?gSetItemOption@@3VCSetItemOption@@A ; gSetItemOption
  0ad49	e8 00 00 00 00	 call	 ?GetSetOptionName@CSetItemOption@@QAEPADHH@Z ; CSetItemOption::GetSetOptionName
  0ad4e	50		 push	 eax
  0ad4f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ad52	8b 82 80 0e 00
	00		 mov	 eax, DWORD PTR [edx+3712]
  0ad58	50		 push	 eax
  0ad59	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ad5c	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  0ad62	52		 push	 edx
  0ad63	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ad66	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  0ad6c	51		 push	 ecx
  0ad6d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ad70	83 c2 77	 add	 edx, 119		; 00000077H
  0ad73	52		 push	 edx
  0ad74	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ad77	83 c0 6c	 add	 eax, 108		; 0000006cH
  0ad7a	50		 push	 eax
  0ad7b	68 00 00 00 00	 push	 OFFSET ??_C@_0EC@BFAACIGE@?$FLSetItemMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Succ@
  0ad80	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0ad86	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4982 : 
; 4983 : #if(SYSTEM_ACHIEVEMENTS)
; 4984 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  0ad89	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ad8c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0ad8e	51		 push	 ecx
  0ad8f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0ad94	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 4985 : #endif
; 4986 : 	}
; 4987 : 	else

  0ad99	e9 82 00 00 00	 jmp	 $LN1@SetItemCha
$LN4@SetItemCha:

; 4988 : 	{
; 4989 : 		this->ChaosBoxInit(lpObj);

  0ad9e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ada1	50		 push	 eax
  0ada2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0ada5	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 4990 : 		GCUserChaosBoxSend(lpObj, 0);

  0adaa	6a 00		 push	 0
  0adac	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0adaf	50		 push	 eax
  0adb0	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0adb5	83 c4 08	 add	 esp, 8

; 4991 : 
; 4992 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0adb8	0f b6 45 c5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0adbc	50		 push	 eax
  0adbd	8d 4d c4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0adc0	51		 push	 ecx
  0adc1	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0adc4	8b 02		 mov	 eax, DWORD PTR [edx]
  0adc6	50		 push	 eax
  0adc7	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0adcc	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4993 : 
; 4994 : 		LogAddTD("[SetItemMix] [%s][%s] CBMix Fail %d Money : %d-%d",
; 4995 : 			lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money,
; 4996 : 			nChaosNeedMoney);

  0adcf	8b 45 bc	 mov	 eax, DWORD PTR _nChaosNeedMoney$[ebp]
  0add2	50		 push	 eax
  0add3	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0add6	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  0addc	52		 push	 edx
  0addd	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ade0	8b 88 84 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3716]
  0ade6	51		 push	 ecx
  0ade7	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0adea	83 c2 77	 add	 edx, 119		; 00000077H
  0aded	52		 push	 edx
  0adee	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0adf1	83 c0 6c	 add	 eax, 108		; 0000006cH
  0adf4	50		 push	 eax
  0adf5	68 00 00 00 00	 push	 OFFSET ??_C@_0DC@ILPOEBCF@?$FLSetItemMix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5Fail@
  0adfa	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0ae00	83 c4 18	 add	 esp, 24			; 00000018H

; 4997 : 
; 4998 : #if(SYSTEM_ACHIEVEMENTS)
; 4999 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  0ae03	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ae06	8b 08		 mov	 ecx, DWORD PTR [eax]
  0ae08	51		 push	 ecx
  0ae09	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0ae0e	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix

; 5000 : #endif
; 5001 : 
; 5002 : 		lpObj->ChaosLock = FALSE;

  0ae13	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ae16	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN1@SetItemCha:
$LN33@SetItemCha:

; 5003 : 	}
; 5004 : }

  0ae20	5f		 pop	 edi
  0ae21	5e		 pop	 esi
  0ae22	5b		 pop	 ebx
  0ae23	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0ae26	33 cd		 xor	 ecx, ebp
  0ae28	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0ae2d	8b e5		 mov	 esp, ebp
  0ae2f	5d		 pop	 ebp
  0ae30	c2 04 00	 ret	 4
?SetItemChaosMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::SetItemChaosMix
_TEXT	ENDS
PUBLIC	??_C@_0CI@FBGJBFGF@?$FLDevilSquare?$FN?5?$MA?L?$LK?$KF?F?$KO?5?$LA?f?G?$LA?5?$LP?d?C?$LL?5?$FL@ ; `string'
PUBLIC	__$ArrayPad$
EXTRN	_memcpy:PROC
;	COMDAT ??_C@_0CI@FBGJBFGF@?$FLDevilSquare?$FN?5?$MA?L?$LK?$KF?F?$KO?5?$LA?f?G?$LA?5?$LP?d?C?$LL?5?$FL@
CONST	SEGMENT
??_C@_0CI@FBGJBFGF@?$FLDevilSquare?$FN?5?$MA?L?$LK?$KF?F?$KO?5?$LA?f?G?$LA?5?$LP?d?C?$LL?5?$FL@ DB '['
	DB	'DevilSquare] ', 0c0H, 0ccH, 0baH, 0a5H, 0c6H, 0aeH, ' ', 0b0H
	DB	0e6H, 0c7H, 0b0H, ' ', 0bfH, 0e4H, 0c3H, 0bbH, ' [%s][%s]', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_pMsg$ = -36						; size = 28
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_AccountId$ = 12					; size = 4
_Name$ = 16						; size = 4
?CBUPS_ItemRequest@CMixSystem@@QAEXHPAD0@Z PROC		; CMixSystem::CBUPS_ItemRequest
; _this$ = ecx

; 5015 : {

  0ae40	55		 push	 ebp
  0ae41	8b ec		 mov	 ebp, esp
  0ae43	83 ec 64	 sub	 esp, 100		; 00000064H
  0ae46	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0ae4b	33 c5		 xor	 eax, ebp
  0ae4d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0ae50	53		 push	 ebx
  0ae51	56		 push	 esi
  0ae52	57		 push	 edi
  0ae53	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 5016 : 	LogAddTD("[DevilSquare]    [%s][%s]", AccountId, Name);

  0ae56	8b 45 10	 mov	 eax, DWORD PTR _Name$[ebp]
  0ae59	50		 push	 eax
  0ae5a	8b 4d 0c	 mov	 ecx, DWORD PTR _AccountId$[ebp]
  0ae5d	51		 push	 ecx
  0ae5e	68 00 00 00 00	 push	 OFFSET ??_C@_0CI@FBGJBFGF@?$FLDevilSquare?$FN?5?$MA?L?$LK?$KF?F?$KO?5?$LA?f?G?$LA?5?$LP?d?C?$LL?5?$FL@
  0ae63	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0ae69	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5017 : 
; 5018 : 	CB_PMSG_REQ_PRESENT pMsg;
; 5019 : 
; 5020 : 	pMsg.h.c = 0xC1;

  0ae6c	c6 45 dc c1	 mov	 BYTE PTR _pMsg$[ebp], 193 ; 000000c1H

; 5021 : 	pMsg.h.headcode = 0x01;

  0ae70	c6 45 de 01	 mov	 BYTE PTR _pMsg$[ebp+2], 1

; 5022 : 	pMsg.h.size = sizeof(pMsg);

  0ae74	c6 45 dd 1c	 mov	 BYTE PTR _pMsg$[ebp+1], 28 ; 0000001cH

; 5023 : 	pMsg.Sequence = aIndex;

  0ae78	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0ae7b	89 45 f4	 mov	 DWORD PTR _pMsg$[ebp+24], eax

; 5024 : 	memcpy(pMsg.AccountId, AccountId, sizeof(pMsg.AccountId));

  0ae7e	6a 0a		 push	 10			; 0000000aH
  0ae80	8b 45 0c	 mov	 eax, DWORD PTR _AccountId$[ebp]
  0ae83	50		 push	 eax
  0ae84	8d 4d df	 lea	 ecx, DWORD PTR _pMsg$[ebp+3]
  0ae87	51		 push	 ecx
  0ae88	e8 00 00 00 00	 call	 _memcpy
  0ae8d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5025 : 	memcpy(pMsg.GameId, Name, sizeof(pMsg.GameId));

  0ae90	6a 0a		 push	 10			; 0000000aH
  0ae92	8b 45 10	 mov	 eax, DWORD PTR _Name$[ebp]
  0ae95	50		 push	 eax
  0ae96	8d 4d e9	 lea	 ecx, DWORD PTR _pMsg$[ebp+13]
  0ae99	51		 push	 ecx
  0ae9a	e8 00 00 00 00	 call	 _memcpy
  0ae9f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5026 : #if(ENABLE_UPPSOCCER)
; 5027 : 	gUdpSocCE.SendData((LPBYTE)&pMsg, pMsg.h.size);
; 5028 : #endif
; 5029 : }

  0aea2	5f		 pop	 edi
  0aea3	5e		 pop	 esi
  0aea4	5b		 pop	 ebx
  0aea5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0aea8	33 cd		 xor	 ecx, ebp
  0aeaa	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0aeaf	8b e5		 mov	 esp, ebp
  0aeb1	5d		 pop	 ebp
  0aeb2	c2 0c 00	 ret	 12			; 0000000cH
?CBUPS_ItemRequest@CMixSystem@@QAEXHPAD0@Z ENDP		; CMixSystem::CBUPS_ItemRequest
_TEXT	ENDS
PUBLIC	?ChaosEventProtocolCore@@YAXEPAEH@Z		; ChaosEventProtocolCore
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv65 = -68						; size = 4
_protoNum$ = 8						; size = 1
_aRecv$ = 12						; size = 4
_aLen$ = 16						; size = 4
?ChaosEventProtocolCore@@YAXEPAEH@Z PROC		; ChaosEventProtocolCore

; 5032 : {

  0aec0	55		 push	 ebp
  0aec1	8b ec		 mov	 ebp, esp
  0aec3	83 ec 44	 sub	 esp, 68			; 00000044H
  0aec6	53		 push	 ebx
  0aec7	56		 push	 esi
  0aec8	57		 push	 edi

; 5033 : 	switch ( protoNum )

  0aec9	0f b6 45 08	 movzx	 eax, BYTE PTR _protoNum$[ebp]
  0aecd	89 45 bc	 mov	 DWORD PTR tv65[ebp], eax

; 5034 : 	{
; 5035 : 		case 0x01:
; 5036 : 			//g_MixSystem.CBUPR_ItemRequestRecv( (CB_PMSG_REQ_PRESENT_RESULT *)aRecv);
; 5037 : 			break;
; 5038 : 	}
; 5039 : }

  0aed0	5f		 pop	 edi
  0aed1	5e		 pop	 esi
  0aed2	5b		 pop	 ebx
  0aed3	8b e5		 mov	 esp, ebp
  0aed5	5d		 pop	 ebp
  0aed6	c3		 ret	 0
?ChaosEventProtocolCore@@YAXEPAEH@Z ENDP		; ChaosEventProtocolCore
_TEXT	ENDS
PUBLIC	??_C@_0IK@DOPMBJCB@?$FLCashShop?$FN?$FLChaosCardMix?$FN?5?9?5User?$CI@ ; `string'
PUBLIC	??_C@_0DO@IIKCCCHD@?$FLChaosMix?$FN?$FLChaosCardMix?$FN?5Chaos?5C@ ; `string'
PUBLIC	??_C@_0EO@BNKLGMLJ@?$FLChaosMix?$FN?$FLLotteryItemMix?$FN?5Lotte@ ; `string'
PUBLIC	??_C@_0O@CJDOCADP@ChaosCardMini?$AA@		; `string'
PUBLIC	??_C@_0O@LHLDBNJL@ChaosCardRare?$AA@		; `string'
PUBLIC	??_C@_0O@PAMPMNGB@ChaosCardGold?$AA@		; `string'
PUBLIC	??_C@_09KIGHELLC@ChaosCard?$AA@			; `string'
PUBLIC	??_C@_0M@JCBFJDIJ@CashLottery?$AA@		; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?LotteryItemMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::LotteryItemMix
EXTRN	?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A:BYTE	; ItemAttribute
EXTRN	?CheckChaosCardInfo@CChaosCard@@QAEHPADPAVCItem@@@Z:PROC ; CChaosCard::CheckChaosCardInfo
EXTRN	?g_ChaosCard@@3VCChaosCard@@A:BYTE		; g_ChaosCard
EXTRN	?CheckLotteryInventoryEmptySpace@@YAHPAUOBJECTSTRUCT@@HH@Z:PROC ; CheckLotteryInventoryEmptySpace
;	COMDAT ??_C@_0IK@DOPMBJCB@?$FLCashShop?$FN?$FLChaosCardMix?$FN?5?9?5User?$CI@
CONST	SEGMENT
??_C@_0IK@DOPMBJCB@?$FLCashShop?$FN?$FLChaosCardMix?$FN?5?9?5User?$CI@ DB '['
	DB	'CashShop][ChaosCardMix] - User(ID:%s,Name:%s) Item(Name:%s,Ty'
	DB	'pe:%d,Level:%d,Dur:%d,Skill:%d,Luck:%d,AddOption:%d,Ex:(%d,%d'
	DB	',%d,%d,%d,%d))', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0DO@IIKCCCHD@?$FLChaosMix?$FN?$FLChaosCardMix?$FN?5Chaos?5C@
CONST	SEGMENT
??_C@_0DO@IIKCCCHD@?$FLChaosMix?$FN?$FLChaosCardMix?$FN?5Chaos?5C@ DB '[C'
	DB	'haosMix][ChaosCardMix] Chaos Card Item Mix Success [%s][%s]', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EO@BNKLGMLJ@?$FLChaosMix?$FN?$FLLotteryItemMix?$FN?5Lotte@
CONST	SEGMENT
??_C@_0EO@BNKLGMLJ@?$FLChaosMix?$FN?$FLLotteryItemMix?$FN?5Lotte@ DB '[Ch'
	DB	'aosMix][LotteryItemMix] Lottery Item Mix Failed. Can''t Get I'
	DB	'tem from List.', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@CJDOCADP@ChaosCardMini?$AA@
CONST	SEGMENT
??_C@_0O@CJDOCADP@ChaosCardMini?$AA@ DB 'ChaosCardMini', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@LHLDBNJL@ChaosCardRare?$AA@
CONST	SEGMENT
??_C@_0O@LHLDBNJL@ChaosCardRare?$AA@ DB 'ChaosCardRare', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@PAMPMNGB@ChaosCardGold?$AA@
CONST	SEGMENT
??_C@_0O@PAMPMNGB@ChaosCardGold?$AA@ DB 'ChaosCardGold', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_09KIGHELLC@ChaosCard?$AA@
CONST	SEGMENT
??_C@_09KIGHELLC@ChaosCard?$AA@ DB 'ChaosCard', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@JCBFJDIJ@CashLottery?$AA@
CONST	SEGMENT
??_C@_0M@JCBFJDIJ@CashLottery?$AA@ DB 'CashLottery', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv336 = -344						; size = 4
tv334 = -340						; size = 4
tv331 = -334						; size = 2
_btExOption$ = -268					; size = 8
_LotteryItem$ = -260					; size = 212
_n$237368 = -48						; size = 4
_iChaosCardId$ = -44					; size = 4
_iItemWidth$ = -40					; size = 4
_iItemHeight$ = -36					; size = 4
_iInvalidItemCount$ = -32				; size = 4
_iLotteryItemCount$ = -28				; size = 4
_pMsg$ = -24						; size = 16
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?LotteryItemMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::LotteryItemMix
; _this$ = ecx

; 5042 : {

  0aee0	55		 push	 ebp
  0aee1	8b ec		 mov	 ebp, esp
  0aee3	81 ec 58 01 00
	00		 sub	 esp, 344		; 00000158H
  0aee9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0aeee	33 c5		 xor	 eax, ebp
  0aef0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0aef3	53		 push	 ebx
  0aef4	56		 push	 esi
  0aef5	57		 push	 edi
  0aef6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 5043 : 	PMSG_CHAOSMIXRESULT pMsg;
; 5044 : 
; 5045 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0aef9	6a 10		 push	 16			; 00000010H
  0aefb	68 86 00 00 00	 push	 134			; 00000086H
  0af00	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0af03	50		 push	 eax
  0af04	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0af09	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5046 : 	pMsg.Result = CB_ERROR;

  0af0c	c6 45 eb 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 5047 : 
; 5048 : 	int iLotteryItemCount = 0;

  0af10	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _iLotteryItemCount$[ebp], 0

; 5049 : 	int iInvalidItemCount = 0;

  0af17	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 5050 : 	int iItemHeight = 0;

  0af1e	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _iItemHeight$[ebp], 0

; 5051 : 	int iItemWidth = 0;

  0af25	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _iItemWidth$[ebp], 0

; 5052 : 
; 5053 : 	int iChaosCardId = 0; //loc9

  0af2c	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _iChaosCardId$[ebp], 0

; 5054 : 
; 5055 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++)

  0af33	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _n$237368[ebp], 0
  0af3a	eb 09		 jmp	 SHORT $LN24@LotteryIte
$LN23@LotteryIte:
  0af3c	8b 45 d0	 mov	 eax, DWORD PTR _n$237368[ebp]
  0af3f	83 c0 01	 add	 eax, 1
  0af42	89 45 d0	 mov	 DWORD PTR _n$237368[ebp], eax
$LN24@LotteryIte:
  0af45	83 7d d0 20	 cmp	 DWORD PTR _n$237368[ebp], 32 ; 00000020H
  0af49	0f 8d f1 00 00
	00		 jge	 $LN22@LotteryIte

; 5056 : 	{
; 5057 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  0af4f	8b 4d d0	 mov	 ecx, DWORD PTR _n$237368[ebp]
  0af52	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0af58	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0af5b	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0af61	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0af66	83 f8 01	 cmp	 eax, 1
  0af69	0f 85 cc 00 00
	00		 jne	 $LN13@LotteryIte

; 5058 : 		{
; 5059 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,54) )

  0af6f	8b 45 d0	 mov	 eax, DWORD PTR _n$237368[ebp]
  0af72	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0af78	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0af7b	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0af81	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0af86	3d 36 1c 00 00	 cmp	 eax, 7222		; 00001c36H
  0af8b	75 15		 jne	 SHORT $LN20@LotteryIte

; 5060 : 			{
; 5061 : 				iChaosCardId = 1;

  0af8d	c7 45 d4 01 00
	00 00		 mov	 DWORD PTR _iChaosCardId$[ebp], 1

; 5062 : 				iLotteryItemCount++;

  0af94	8b 45 e4	 mov	 eax, DWORD PTR _iLotteryItemCount$[ebp]
  0af97	83 c0 01	 add	 eax, 1
  0af9a	89 45 e4	 mov	 DWORD PTR _iLotteryItemCount$[ebp], eax
  0af9d	e9 99 00 00 00	 jmp	 $LN13@LotteryIte
$LN20@LotteryIte:

; 5063 : 			}
; 5064 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,92) )

  0afa2	8b 45 d0	 mov	 eax, DWORD PTR _n$237368[ebp]
  0afa5	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0afab	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0afae	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0afb4	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0afb9	3d 5c 1c 00 00	 cmp	 eax, 7260		; 00001c5cH
  0afbe	75 12		 jne	 SHORT $LN18@LotteryIte

; 5065 : 			{
; 5066 : 				iChaosCardId = 2;

  0afc0	c7 45 d4 02 00
	00 00		 mov	 DWORD PTR _iChaosCardId$[ebp], 2

; 5067 : 				iLotteryItemCount++;

  0afc7	8b 45 e4	 mov	 eax, DWORD PTR _iLotteryItemCount$[ebp]
  0afca	83 c0 01	 add	 eax, 1
  0afcd	89 45 e4	 mov	 DWORD PTR _iLotteryItemCount$[ebp], eax
  0afd0	eb 69		 jmp	 SHORT $LN13@LotteryIte
$LN18@LotteryIte:

; 5068 : 			}
; 5069 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,93) )

  0afd2	8b 45 d0	 mov	 eax, DWORD PTR _n$237368[ebp]
  0afd5	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0afdb	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0afde	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0afe4	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0afe9	3d 5d 1c 00 00	 cmp	 eax, 7261		; 00001c5dH
  0afee	75 12		 jne	 SHORT $LN16@LotteryIte

; 5070 : 			{
; 5071 : 				iChaosCardId = 3;

  0aff0	c7 45 d4 03 00
	00 00		 mov	 DWORD PTR _iChaosCardId$[ebp], 3

; 5072 : 				iLotteryItemCount++;

  0aff7	8b 45 e4	 mov	 eax, DWORD PTR _iLotteryItemCount$[ebp]
  0affa	83 c0 01	 add	 eax, 1
  0affd	89 45 e4	 mov	 DWORD PTR _iLotteryItemCount$[ebp], eax
  0b000	eb 39		 jmp	 SHORT $LN13@LotteryIte
$LN16@LotteryIte:

; 5073 : 			}
; 5074 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,95) )

  0b002	8b 45 d0	 mov	 eax, DWORD PTR _n$237368[ebp]
  0b005	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0b00b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b00e	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0b014	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0b019	3d 5f 1c 00 00	 cmp	 eax, 7263		; 00001c5fH
  0b01e	75 12		 jne	 SHORT $LN14@LotteryIte

; 5075 : 			{
; 5076 : 				iChaosCardId = 4;

  0b020	c7 45 d4 04 00
	00 00		 mov	 DWORD PTR _iChaosCardId$[ebp], 4

; 5077 : 				iLotteryItemCount++;

  0b027	8b 45 e4	 mov	 eax, DWORD PTR _iLotteryItemCount$[ebp]
  0b02a	83 c0 01	 add	 eax, 1
  0b02d	89 45 e4	 mov	 DWORD PTR _iLotteryItemCount$[ebp], eax

; 5078 : 			}
; 5079 : 			else

  0b030	eb 09		 jmp	 SHORT $LN13@LotteryIte
$LN14@LotteryIte:

; 5080 : 			{
; 5081 : 				iInvalidItemCount++;

  0b032	8b 45 e0	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  0b035	83 c0 01	 add	 eax, 1
  0b038	89 45 e0	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN13@LotteryIte:

; 5082 : 			}
; 5083 : 		}
; 5084 : 	}

  0b03b	e9 fc fe ff ff	 jmp	 $LN23@LotteryIte
$LN22@LotteryIte:

; 5085 : 
; 5086 : 	if ( iInvalidItemCount > 0 || iLotteryItemCount != 1 ) //season 2.5 fix

  0b040	83 7d e0 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  0b044	7f 06		 jg	 SHORT $LN11@LotteryIte
  0b046	83 7d e4 01	 cmp	 DWORD PTR _iLotteryItemCount$[ebp], 1
  0b04a	74 29		 je	 SHORT $LN12@LotteryIte
$LN11@LotteryIte:

; 5087 : 	{
; 5088 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0b04c	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0b050	50		 push	 eax
  0b051	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0b054	51		 push	 ecx
  0b055	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b058	8b 02		 mov	 eax, DWORD PTR [edx]
  0b05a	50		 push	 eax
  0b05b	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0b060	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5089 : 		lpObj->ChaosLock = FALSE;

  0b063	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b066	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5090 : 		return;

  0b070	e9 9d 02 00 00	 jmp	 $LN25@LotteryIte
$LN12@LotteryIte:

; 5091 : 	}
; 5092 : 
; 5093 : 	if ( iChaosCardId == 0 )

  0b075	83 7d d4 00	 cmp	 DWORD PTR _iChaosCardId$[ebp], 0
  0b079	75 29		 jne	 SHORT $LN10@LotteryIte

; 5094 : 	{
; 5095 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0b07b	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0b07f	50		 push	 eax
  0b080	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0b083	51		 push	 ecx
  0b084	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b087	8b 02		 mov	 eax, DWORD PTR [edx]
  0b089	50		 push	 eax
  0b08a	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0b08f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5096 : 		lpObj->ChaosLock = FALSE;

  0b092	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b095	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5097 : 		return;

  0b09f	e9 6e 02 00 00	 jmp	 $LN25@LotteryIte
$LN10@LotteryIte:

; 5098 : 	}
; 5099 : 
; 5100 : 	LogChaosItem(lpObj, "CashLottery");

  0b0a4	68 00 00 00 00	 push	 OFFSET ??_C@_0M@JCBFJDIJ@CashLottery?$AA@
  0b0a9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b0ac	50		 push	 eax
  0b0ad	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0b0b0	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 5101 : 	iItemHeight = 4;

  0b0b5	c7 45 dc 04 00
	00 00		 mov	 DWORD PTR _iItemHeight$[ebp], 4

; 5102 : 	iItemWidth = 2;

  0b0bc	c7 45 d8 02 00
	00 00		 mov	 DWORD PTR _iItemWidth$[ebp], 2

; 5103 : 
; 5104 : 	if ( !CheckLotteryInventoryEmptySpace(lpObj, iItemHeight, iItemWidth))

  0b0c3	8b 45 d8	 mov	 eax, DWORD PTR _iItemWidth$[ebp]
  0b0c6	50		 push	 eax
  0b0c7	8b 4d dc	 mov	 ecx, DWORD PTR _iItemHeight$[ebp]
  0b0ca	51		 push	 ecx
  0b0cb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b0ce	52		 push	 edx
  0b0cf	e8 00 00 00 00	 call	 ?CheckLotteryInventoryEmptySpace@@YAHPAUOBJECTSTRUCT@@HH@Z ; CheckLotteryInventoryEmptySpace
  0b0d4	83 c4 0c	 add	 esp, 12			; 0000000cH
  0b0d7	85 c0		 test	 eax, eax
  0b0d9	75 2d		 jne	 SHORT $LN9@LotteryIte

; 5105 : 	{
; 5106 : 		pMsg.Result = 0xF1;

  0b0db	c6 45 eb f1	 mov	 BYTE PTR _pMsg$[ebp+3], 241 ; 000000f1H

; 5107 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0b0df	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0b0e3	50		 push	 eax
  0b0e4	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0b0e7	51		 push	 ecx
  0b0e8	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b0eb	8b 02		 mov	 eax, DWORD PTR [edx]
  0b0ed	50		 push	 eax
  0b0ee	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0b0f3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5108 : 		lpObj->ChaosLock = FALSE;

  0b0f6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b0f9	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5109 : 		return;

  0b103	e9 0a 02 00 00	 jmp	 $LN25@LotteryIte
$LN9@LotteryIte:

; 5110 : 	}
; 5111 : 
; 5112 : 	CItem LotteryItem;

  0b108	8d 8d fc fe ff
	ff		 lea	 ecx, DWORD PTR _LotteryItem$[ebp]
  0b10e	e8 00 00 00 00	 call	 ??0CItem@@QAE@XZ	; CItem::CItem

; 5113 : 
; 5114 : 	if(iChaosCardId == 1)

  0b113	83 7d d4 01	 cmp	 DWORD PTR _iChaosCardId$[ebp], 1
  0b117	75 18		 jne	 SHORT $LN8@LotteryIte

; 5115 : 	{
; 5116 : 		g_ChaosCard.CheckChaosCardInfo("ChaosCard", &LotteryItem);

  0b119	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _LotteryItem$[ebp]
  0b11f	50		 push	 eax
  0b120	68 00 00 00 00	 push	 OFFSET ??_C@_09KIGHELLC@ChaosCard?$AA@
  0b125	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ChaosCard@@3VCChaosCard@@A ; g_ChaosCard
  0b12a	e8 00 00 00 00	 call	 ?CheckChaosCardInfo@CChaosCard@@QAEHPADPAVCItem@@@Z ; CChaosCard::CheckChaosCardInfo
  0b12f	eb 58		 jmp	 SHORT $LN2@LotteryIte
$LN8@LotteryIte:

; 5117 : 	}
; 5118 : 	else if(iChaosCardId == 2)

  0b131	83 7d d4 02	 cmp	 DWORD PTR _iChaosCardId$[ebp], 2
  0b135	75 18		 jne	 SHORT $LN6@LotteryIte

; 5119 : 	{
; 5120 : 		g_ChaosCard.CheckChaosCardInfo("ChaosCardGold", &LotteryItem);

  0b137	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _LotteryItem$[ebp]
  0b13d	50		 push	 eax
  0b13e	68 00 00 00 00	 push	 OFFSET ??_C@_0O@PAMPMNGB@ChaosCardGold?$AA@
  0b143	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ChaosCard@@3VCChaosCard@@A ; g_ChaosCard
  0b148	e8 00 00 00 00	 call	 ?CheckChaosCardInfo@CChaosCard@@QAEHPADPAVCItem@@@Z ; CChaosCard::CheckChaosCardInfo
  0b14d	eb 3a		 jmp	 SHORT $LN2@LotteryIte
$LN6@LotteryIte:

; 5121 : 	}
; 5122 : 	else if(iChaosCardId == 3)

  0b14f	83 7d d4 03	 cmp	 DWORD PTR _iChaosCardId$[ebp], 3
  0b153	75 18		 jne	 SHORT $LN4@LotteryIte

; 5123 : 	{
; 5124 : 		g_ChaosCard.CheckChaosCardInfo("ChaosCardRare", &LotteryItem);

  0b155	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _LotteryItem$[ebp]
  0b15b	50		 push	 eax
  0b15c	68 00 00 00 00	 push	 OFFSET ??_C@_0O@LHLDBNJL@ChaosCardRare?$AA@
  0b161	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ChaosCard@@3VCChaosCard@@A ; g_ChaosCard
  0b166	e8 00 00 00 00	 call	 ?CheckChaosCardInfo@CChaosCard@@QAEHPADPAVCItem@@@Z ; CChaosCard::CheckChaosCardInfo
  0b16b	eb 1c		 jmp	 SHORT $LN2@LotteryIte
$LN4@LotteryIte:

; 5125 : 	}
; 5126 : 	else if(iChaosCardId == 4)

  0b16d	83 7d d4 04	 cmp	 DWORD PTR _iChaosCardId$[ebp], 4
  0b171	75 16		 jne	 SHORT $LN2@LotteryIte

; 5127 : 	{
; 5128 : 		g_ChaosCard.CheckChaosCardInfo("ChaosCardMini", &LotteryItem);

  0b173	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _LotteryItem$[ebp]
  0b179	50		 push	 eax
  0b17a	68 00 00 00 00	 push	 OFFSET ??_C@_0O@CJDOCADP@ChaosCardMini?$AA@
  0b17f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ChaosCard@@3VCChaosCard@@A ; g_ChaosCard
  0b184	e8 00 00 00 00	 call	 ?CheckChaosCardInfo@CChaosCard@@QAEHPADPAVCItem@@@Z ; CChaosCard::CheckChaosCardInfo
$LN2@LotteryIte:

; 5129 : 	}
; 5130 : 
; 5131 : 	if ( LotteryItem.IsItem() == FALSE )

  0b189	8d 8d fc fe ff
	ff		 lea	 ecx, DWORD PTR _LotteryItem$[ebp]
  0b18f	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0b194	85 c0		 test	 eax, eax
  0b196	75 37		 jne	 SHORT $LN1@LotteryIte

; 5132 : 	{
; 5133 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0b198	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0b19c	50		 push	 eax
  0b19d	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0b1a0	51		 push	 ecx
  0b1a1	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b1a4	8b 02		 mov	 eax, DWORD PTR [edx]
  0b1a6	50		 push	 eax
  0b1a7	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0b1ac	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5134 : 		lpObj->ChaosLock = FALSE;

  0b1af	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b1b2	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5135 : 		LogAddTD("[ChaosMix][LotteryItemMix] Lottery Item Mix Failed. Can't Get Item from List.");

  0b1bc	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNKLGMLJ@?$FLChaosMix?$FN?$FLLotteryItemMix?$FN?5Lotte@
  0b1c1	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0b1c7	83 c4 04	 add	 esp, 4

; 5136 : 
; 5137 : 		return;

  0b1ca	e9 43 01 00 00	 jmp	 $LN25@LotteryIte
$LN1@LotteryIte:

; 5138 : 	}
; 5139 : 
; 5140 : 	ItemSerialCreateSend(lpObj->m_Index, 255, 0, 0, LotteryItem.m_Type, (BYTE)LotteryItem.m_Level, (BYTE)LotteryItem.m_Durability, (BYTE)LotteryItem.m_Option1, (BYTE)LotteryItem.m_Option2, (BYTE)LotteryItem.m_Option3, lpObj->m_Index, (BYTE)LotteryItem.m_NewOption, 0);

  0b1cf	6a 00		 push	 0
  0b1d1	0f b6 45 93	 movzx	 eax, BYTE PTR _LotteryItem$[ebp+151]
  0b1d5	50		 push	 eax
  0b1d6	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b1d9	8b 11		 mov	 edx, DWORD PTR [ecx]
  0b1db	52		 push	 edx
  0b1dc	0f b6 45 92	 movzx	 eax, BYTE PTR _LotteryItem$[ebp+150]
  0b1e0	50		 push	 eax
  0b1e1	0f b6 4d 91	 movzx	 ecx, BYTE PTR _LotteryItem$[ebp+149]
  0b1e5	51		 push	 ecx
  0b1e6	0f b6 55 90	 movzx	 edx, BYTE PTR _LotteryItem$[ebp+148]
  0b1ea	52		 push	 edx
  0b1eb	d9 85 20 ff ff
	ff		 fld	 DWORD PTR _LotteryItem$[ebp+36]
  0b1f1	d9 bd b2 fe ff
	ff		 fnstcw	 WORD PTR tv331[ebp]
  0b1f7	0f b7 85 b2 fe
	ff ff		 movzx	 eax, WORD PTR tv331[ebp]
  0b1fe	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  0b203	89 85 ac fe ff
	ff		 mov	 DWORD PTR tv334[ebp], eax
  0b209	d9 ad ac fe ff
	ff		 fldcw	 WORD PTR tv334[ebp]
  0b20f	db 9d a8 fe ff
	ff		 fistp	 DWORD PTR tv336[ebp]
  0b215	d9 ad b2 fe ff
	ff		 fldcw	 WORD PTR tv331[ebp]
  0b21b	0f b6 85 a8 fe
	ff ff		 movzx	 eax, BYTE PTR tv336[ebp]
  0b222	50		 push	 eax
  0b223	0f b6 8d 04 ff
	ff ff		 movzx	 ecx, BYTE PTR _LotteryItem$[ebp+8]
  0b22a	51		 push	 ecx
  0b22b	0f bf 95 02 ff
	ff ff		 movsx	 edx, WORD PTR _LotteryItem$[ebp+6]
  0b232	52		 push	 edx
  0b233	6a 00		 push	 0
  0b235	6a 00		 push	 0
  0b237	68 ff 00 00 00	 push	 255			; 000000ffH
  0b23c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b23f	8b 08		 mov	 ecx, DWORD PTR [eax]
  0b241	51		 push	 ecx
  0b242	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0b247	83 c4 34	 add	 esp, 52			; 00000034H

; 5141 : 
; 5142 : 	gObjInventoryCommit(lpObj->m_Index);

  0b24a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b24d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0b24f	51		 push	 ecx
  0b250	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0b255	83 c4 04	 add	 esp, 4

; 5143 : 
; 5144 : 	LogAddTD("[ChaosMix][ChaosCardMix] Chaos Card Item Mix Success [%s][%s]", lpObj->AccountID, lpObj->Name);

  0b258	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b25b	83 c0 77	 add	 eax, 119		; 00000077H
  0b25e	50		 push	 eax
  0b25f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b262	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0b265	51		 push	 ecx
  0b266	68 00 00 00 00	 push	 OFFSET ??_C@_0DO@IIKCCCHD@?$FLChaosMix?$FN?$FLChaosCardMix?$FN?5Chaos?5C@
  0b26b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0b271	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5145 : 
; 5146 : 	BYTE btExOption[MAX_EXOPTION_SIZE];
; 5147 : 
; 5148 : 	ItemIsBufExOption(btExOption, &LotteryItem);

  0b274	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _LotteryItem$[ebp]
  0b27a	50		 push	 eax
  0b27b	8d 8d f4 fe ff
	ff		 lea	 ecx, DWORD PTR _btExOption$[ebp]
  0b281	51		 push	 ecx
  0b282	e8 00 00 00 00	 call	 ?ItemIsBufExOption@@YAXPAEPAVCItem@@@Z ; ItemIsBufExOption
  0b287	83 c4 08	 add	 esp, 8

; 5149 : 	
; 5150 : 	LogAddTD("[CashShop][ChaosCardMix] - User(ID:%s,Name:%s) Item(Name:%s,Type:%d,Level:%d,Dur:%d,Skill:%d,Luck:%d,AddOption:%d,Ex:(%d,%d,%d,%d,%d,%d))",
; 5151 : 		lpObj->AccountID, lpObj->Name, ItemAttribute[LotteryItem.m_Type].Name,
; 5152 : 		LotteryItem.m_Type, LotteryItem.m_Level, (int)LotteryItem.m_Durability,
; 5153 : 		LotteryItem.m_Option1, LotteryItem.m_Option2, LotteryItem.m_Option3,
; 5154 : 		btExOption[0], btExOption[1], btExOption[2], btExOption[3], btExOption[4], btExOption[5]);

  0b28a	0f b6 85 f9 fe
	ff ff		 movzx	 eax, BYTE PTR _btExOption$[ebp+5]
  0b291	50		 push	 eax
  0b292	0f b6 8d f8 fe
	ff ff		 movzx	 ecx, BYTE PTR _btExOption$[ebp+4]
  0b299	51		 push	 ecx
  0b29a	0f b6 95 f7 fe
	ff ff		 movzx	 edx, BYTE PTR _btExOption$[ebp+3]
  0b2a1	52		 push	 edx
  0b2a2	0f b6 85 f6 fe
	ff ff		 movzx	 eax, BYTE PTR _btExOption$[ebp+2]
  0b2a9	50		 push	 eax
  0b2aa	0f b6 8d f5 fe
	ff ff		 movzx	 ecx, BYTE PTR _btExOption$[ebp+1]
  0b2b1	51		 push	 ecx
  0b2b2	0f b6 95 f4 fe
	ff ff		 movzx	 edx, BYTE PTR _btExOption$[ebp]
  0b2b9	52		 push	 edx
  0b2ba	0f b6 45 92	 movzx	 eax, BYTE PTR _LotteryItem$[ebp+150]
  0b2be	50		 push	 eax
  0b2bf	0f b6 4d 91	 movzx	 ecx, BYTE PTR _LotteryItem$[ebp+149]
  0b2c3	51		 push	 ecx
  0b2c4	0f b6 55 90	 movzx	 edx, BYTE PTR _LotteryItem$[ebp+148]
  0b2c8	52		 push	 edx
  0b2c9	d9 85 20 ff ff
	ff		 fld	 DWORD PTR _LotteryItem$[ebp+36]
  0b2cf	e8 00 00 00 00	 call	 __ftol2_sse
  0b2d4	50		 push	 eax
  0b2d5	0f bf 85 04 ff
	ff ff		 movsx	 eax, WORD PTR _LotteryItem$[ebp+8]
  0b2dc	50		 push	 eax
  0b2dd	0f bf 8d 02 ff
	ff ff		 movsx	 ecx, WORD PTR _LotteryItem$[ebp+6]
  0b2e4	51		 push	 ecx
  0b2e5	0f bf 95 02 ff
	ff ff		 movsx	 edx, WORD PTR _LotteryItem$[ebp+6]
  0b2ec	6b d2 70	 imul	 edx, 112		; 00000070H
  0b2ef	81 c2 00 00 00
	00		 add	 edx, OFFSET ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A ; ItemAttribute
  0b2f5	52		 push	 edx
  0b2f6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b2f9	83 c0 77	 add	 eax, 119		; 00000077H
  0b2fc	50		 push	 eax
  0b2fd	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b300	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0b303	51		 push	 ecx
  0b304	68 00 00 00 00	 push	 OFFSET ??_C@_0IK@DOPMBJCB@?$FLCashShop?$FN?$FLChaosCardMix?$FN?5?9?5User?$CI@
  0b309	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0b30f	83 c4 40	 add	 esp, 64			; 00000040H
$LN25@LotteryIte:

; 5155 : }

  0b312	5f		 pop	 edi
  0b313	5e		 pop	 esi
  0b314	5b		 pop	 ebx
  0b315	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0b318	33 cd		 xor	 ecx, ebp
  0b31a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0b31f	8b e5		 mov	 esp, ebp
  0b321	5d		 pop	 ebp
  0b322	c2 04 00	 ret	 4
?LotteryItemMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::LotteryItemMix
_TEXT	ENDS
PUBLIC	??_C@_0DA@CJGOEHL@?$FL?$CFs?$FN?5Overflow?5Zen?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$FL?$CFd?1?$CF@ ; `string'
PUBLIC	??_C@_0BB@DIJAHHC@CherryBlossomMix?$AA@		; `string'
PUBLIC	??_C@_0DF@MIOBBHIN@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CherryBlossomMix?5Succes@ ; `string'
PUBLIC	??_C@_0DA@LOGFDBNL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CherryBlossomMix?5Fail?5?$CF@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?CherryBlossomMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::CherryBlossomMix
EXTRN	_memset:PROC
EXTRN	?CheckInventoryEmptySpace@@YAHPAUOBJECTSTRUCT@@HH@Z:PROC ; CheckInventoryEmptySpace
EXTRN	?CherryBlossomEventItemBoxCOpen@@YAHPAUOBJECTSTRUCT@@EEEPAH@Z:PROC ; CherryBlossomEventItemBoxCOpen
EXTRN	?CherryBlossomEventItemBoxBOpen@@YAHPAUOBJECTSTRUCT@@EEEPAH@Z:PROC ; CherryBlossomEventItemBoxBOpen
EXTRN	?CherryBlossomEventItemBoxAOpen@@YAHPAUOBJECTSTRUCT@@EEEPAH@Z:PROC ; CherryBlossomEventItemBoxAOpen
;	COMDAT ??_C@_0DA@CJGOEHL@?$FL?$CFs?$FN?5Overflow?5Zen?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$FL?$CFd?1?$CF@
CONST	SEGMENT
??_C@_0DA@CJGOEHL@?$FL?$CFs?$FN?5Overflow?5Zen?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$FL?$CFd?1?$CF@ DB '['
	DB	'%s] Overflow Zen [%s][%s] [%d/%d User Zen/Zen]', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@DIJAHHC@CherryBlossomMix?$AA@
CONST	SEGMENT
??_C@_0BB@DIJAHHC@CherryBlossomMix?$AA@ DB 'CherryBlossomMix', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DF@MIOBBHIN@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CherryBlossomMix?5Succes@
CONST	SEGMENT
??_C@_0DF@MIOBBHIN@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CherryBlossomMix?5Succes@ DB '['
	DB	'%s][%s] CherryBlossomMix Success Rate:%d Money : %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DA@LOGFDBNL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CherryBlossomMix?5Fail?5?$CF@
CONST	SEGMENT
??_C@_0DA@LOGFDBNL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CherryBlossomMix?5Fail?5?$CF@ DB '['
	DB	'%s][%s] CherryBlossomMix Fail %d Money : %d-%d', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv268 = -136						; size = 4
tv266 = -132						; size = 4
tv263 = -126						; size = 2
tv259 = -124						; size = 4
_bCherryBlossomBoxOpen$ = -56				; size = 4
_iDropZen$ = -52					; size = 4
_iItemWidth$ = -48					; size = 4
_iItemHeight$ = -44					; size = 4
_n$237440 = -40						; size = 4
_CherryBlossomData$ = -36				; size = 12
_pMsg$ = -24						; size = 16
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?CherryBlossomMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::CherryBlossomMix
; _this$ = ecx

; 5169 : {

  0b330	55		 push	 ebp
  0b331	8b ec		 mov	 ebp, esp
  0b333	81 ec 88 00 00
	00		 sub	 esp, 136		; 00000088H
  0b339	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0b33e	33 c5		 xor	 eax, ebp
  0b340	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0b343	53		 push	 ebx
  0b344	56		 push	 esi
  0b345	57		 push	 edi
  0b346	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 5170 : 	PMSG_CHAOSMIXRESULT pMsg; //loc3 and 4
; 5171 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0b349	6a 10		 push	 16			; 00000010H
  0b34b	68 86 00 00 00	 push	 134			; 00000086H
  0b350	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0b353	50		 push	 eax
  0b354	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0b359	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5172 : 	pMsg.Result = CB_ERROR;

  0b35c	c6 45 eb 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 5173 : 	lpObj->ChaosLock = TRUE;

  0b360	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b363	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 5174 : 
; 5175 : 	ST_CHERRYBLOSSOM_MIX	CherryBlossomData = {0}; //nice wz

  0b36d	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _CherryBlossomData$[ebp], 0
  0b374	33 c0		 xor	 eax, eax
  0b376	89 45 e0	 mov	 DWORD PTR _CherryBlossomData$[ebp+4], eax
  0b379	89 45 e4	 mov	 DWORD PTR _CherryBlossomData$[ebp+8], eax

; 5176 : 
; 5177 : 	for (int n=0;n<CHAOS_BOX_SIZE;n++) // loc8 -> ebp 20

  0b37c	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _n$237440[ebp], 0
  0b383	eb 09		 jmp	 SHORT $LN22@CherryBlos
$LN21@CherryBlos:
  0b385	8b 45 d8	 mov	 eax, DWORD PTR _n$237440[ebp]
  0b388	83 c0 01	 add	 eax, 1
  0b38b	89 45 d8	 mov	 DWORD PTR _n$237440[ebp], eax
$LN22@CherryBlos:
  0b38e	83 7d d8 20	 cmp	 DWORD PTR _n$237440[ebp], 32 ; 00000020H
  0b392	0f 8d 02 01 00
	00		 jge	 $LN20@CherryBlos

; 5178 : 	{
; 5179 : 		if ( lpObj->pChaosBox[n].IsItem() == FALSE )

  0b398	8b 4d d8	 mov	 ecx, DWORD PTR _n$237440[ebp]
  0b39b	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0b3a1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b3a4	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0b3aa	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0b3af	85 c0		 test	 eax, eax
  0b3b1	75 02		 jne	 SHORT $LN19@CherryBlos

; 5180 : 		{
; 5181 : 			continue;

  0b3b3	eb d0		 jmp	 SHORT $LN21@CherryBlos
$LN19@CherryBlos:

; 5182 : 		}
; 5183 : 
; 5184 : 		if(CherryBlossomData.iBranchId == 0)

  0b3b5	83 7d dc 00	 cmp	 DWORD PTR _CherryBlossomData$[ebp], 0
  0b3b9	75 6c		 jne	 SHORT $LN18@CherryBlos

; 5185 : 		{
; 5186 : 			CherryBlossomData.iBranchId = lpObj->pChaosBox[n].m_Type; //loc7

  0b3bb	8b 45 d8	 mov	 eax, DWORD PTR _n$237440[ebp]
  0b3be	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0b3c4	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b3c7	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0b3cd	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0b3d2	89 45 dc	 mov	 DWORD PTR _CherryBlossomData$[ebp], eax

; 5187 : 
; 5188 : 			if(CherryBlossomData.iBranchId == ITEMGET(14,88))

  0b3d5	81 7d dc 58 1c
	00 00		 cmp	 DWORD PTR _CherryBlossomData$[ebp], 7256 ; 00001c58H
  0b3dc	75 0d		 jne	 SHORT $LN17@CherryBlos

; 5189 : 			{
; 5190 : 				CherryBlossomData.btBranchCount = 10;

  0b3de	c6 45 e1 0a	 mov	 BYTE PTR _CherryBlossomData$[ebp+5], 10 ; 0000000aH

; 5191 : 				CherryBlossomData.CherryBlossomItemList = CherryBlossomEventItemBoxAOpen; //loc5

  0b3e2	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _CherryBlossomData$[ebp+8], OFFSET ?CherryBlossomEventItemBoxAOpen@@YAHPAUOBJECTSTRUCT@@EEEPAH@Z ; CherryBlossomEventItemBoxAOpen
  0b3e9	eb 38		 jmp	 SHORT $LN12@CherryBlos
$LN17@CherryBlos:

; 5192 : 			}
; 5193 : 			else if(CherryBlossomData.iBranchId == ITEMGET(14,89))

  0b3eb	81 7d dc 59 1c
	00 00		 cmp	 DWORD PTR _CherryBlossomData$[ebp], 7257 ; 00001c59H
  0b3f2	75 0d		 jne	 SHORT $LN15@CherryBlos

; 5194 : 			{
; 5195 : 				CherryBlossomData.btBranchCount = 30;

  0b3f4	c6 45 e1 1e	 mov	 BYTE PTR _CherryBlossomData$[ebp+5], 30 ; 0000001eH

; 5196 : 				CherryBlossomData.CherryBlossomItemList = CherryBlossomEventItemBoxBOpen; //loc5

  0b3f8	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _CherryBlossomData$[ebp+8], OFFSET ?CherryBlossomEventItemBoxBOpen@@YAHPAUOBJECTSTRUCT@@EEEPAH@Z ; CherryBlossomEventItemBoxBOpen
  0b3ff	eb 22		 jmp	 SHORT $LN12@CherryBlos
$LN15@CherryBlos:

; 5197 : 			}
; 5198 : 			else if(CherryBlossomData.iBranchId == ITEMGET(14,90))

  0b401	81 7d dc 5a 1c
	00 00		 cmp	 DWORD PTR _CherryBlossomData$[ebp], 7258 ; 00001c5aH
  0b408	75 0d		 jne	 SHORT $LN13@CherryBlos

; 5199 : 			{
; 5200 : 				CherryBlossomData.btBranchCount = 255;

  0b40a	c6 45 e1 ff	 mov	 BYTE PTR _CherryBlossomData$[ebp+5], 255 ; 000000ffH

; 5201 : 				CherryBlossomData.CherryBlossomItemList = CherryBlossomEventItemBoxCOpen; //loc5

  0b40e	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _CherryBlossomData$[ebp+8], OFFSET ?CherryBlossomEventItemBoxCOpen@@YAHPAUOBJECTSTRUCT@@EEEPAH@Z ; CherryBlossomEventItemBoxCOpen

; 5202 : 			}
; 5203 : 			else

  0b415	eb 0c		 jmp	 SHORT $LN12@CherryBlos
$LN13@CherryBlos:

; 5204 : 			{
; 5205 : 				CherryBlossomData.iBranchId = 0;

  0b417	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _CherryBlossomData$[ebp], 0

; 5206 : 				continue;

  0b41e	e9 62 ff ff ff	 jmp	 $LN21@CherryBlos
$LN12@CherryBlos:

; 5207 : 			}
; 5208 : 			CherryBlossomData.LoadItemInfo = true; //ebp-18			

  0b423	c6 45 e0 01	 mov	 BYTE PTR _CherryBlossomData$[ebp+4], 1
$LN18@CherryBlos:

; 5209 : 		}
; 5210 : 
; 5211 : 		if(CherryBlossomData.iBranchId == lpObj->pChaosBox[n].m_Type)

  0b427	8b 45 d8	 mov	 eax, DWORD PTR _n$237440[ebp]
  0b42a	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0b430	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b433	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0b439	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0b43e	39 45 dc	 cmp	 DWORD PTR _CherryBlossomData$[ebp], eax
  0b441	75 4c		 jne	 SHORT $LN11@CherryBlos

; 5212 : 		{
; 5213 :             CherryBlossomData.ItemDur = (BYTE)((float)CherryBlossomData.ItemDur + lpObj->pChaosBox[n].m_Durability);

  0b443	0f b6 45 e2	 movzx	 eax, BYTE PTR _CherryBlossomData$[ebp+6]
  0b447	89 45 84	 mov	 DWORD PTR tv259[ebp], eax
  0b44a	db 45 84	 fild	 DWORD PTR tv259[ebp]
  0b44d	8b 4d d8	 mov	 ecx, DWORD PTR _n$237440[ebp]
  0b450	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0b456	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b459	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  0b45f	d8 44 08 24	 fadd	 DWORD PTR [eax+ecx+36]
  0b463	d9 7d 82	 fnstcw	 WORD PTR tv263[ebp]
  0b466	0f b7 45 82	 movzx	 eax, WORD PTR tv263[ebp]
  0b46a	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  0b46f	89 85 7c ff ff
	ff		 mov	 DWORD PTR tv266[ebp], eax
  0b475	d9 ad 7c ff ff
	ff		 fldcw	 WORD PTR tv266[ebp]
  0b47b	db 9d 78 ff ff
	ff		 fistp	 DWORD PTR tv268[ebp]
  0b481	d9 6d 82	 fldcw	 WORD PTR tv263[ebp]
  0b484	8a 8d 78 ff ff
	ff		 mov	 cl, BYTE PTR tv268[ebp]
  0b48a	88 4d e2	 mov	 BYTE PTR _CherryBlossomData$[ebp+6], cl

; 5214 : 		}
; 5215 : 		else

  0b48d	eb 06		 jmp	 SHORT $LN10@CherryBlos
$LN11@CherryBlos:

; 5216 : 		{
; 5217 : 			CherryBlossomData.LoadItemInfo = false;

  0b48f	c6 45 e0 00	 mov	 BYTE PTR _CherryBlossomData$[ebp+4], 0

; 5218 :             break;

  0b493	eb 05		 jmp	 SHORT $LN20@CherryBlos
$LN10@CherryBlos:

; 5219 : 		}
; 5220 : 	}

  0b495	e9 eb fe ff ff	 jmp	 $LN21@CherryBlos
$LN20@CherryBlos:

; 5221 : 
; 5222 : 	if( CherryBlossomData.ItemDur != CherryBlossomData.btBranchCount )

  0b49a	0f b6 45 e2	 movzx	 eax, BYTE PTR _CherryBlossomData$[ebp+6]
  0b49e	0f b6 4d e1	 movzx	 ecx, BYTE PTR _CherryBlossomData$[ebp+5]
  0b4a2	3b c1		 cmp	 eax, ecx
  0b4a4	74 04		 je	 SHORT $LN9@CherryBlos

; 5223 : 	{
; 5224 : 		CherryBlossomData.LoadItemInfo = false;

  0b4a6	c6 45 e0 00	 mov	 BYTE PTR _CherryBlossomData$[ebp+4], 0
$LN9@CherryBlos:

; 5225 : 	}
; 5226 : 
; 5227 : 	if( CherryBlossomData.iBranchId == 0 || CherryBlossomData.LoadItemInfo == false )

  0b4aa	83 7d dc 00	 cmp	 DWORD PTR _CherryBlossomData$[ebp], 0
  0b4ae	74 08		 je	 SHORT $LN7@CherryBlos
  0b4b0	0f b6 45 e0	 movzx	 eax, BYTE PTR _CherryBlossomData$[ebp+4]
  0b4b4	85 c0		 test	 eax, eax
  0b4b6	75 2d		 jne	 SHORT $LN8@CherryBlos
$LN7@CherryBlos:

; 5228 : 	{
; 5229 : 		pMsg.Result = CB_ERROR;

  0b4b8	c6 45 eb 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 5230 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0b4bc	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0b4c0	50		 push	 eax
  0b4c1	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0b4c4	51		 push	 ecx
  0b4c5	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b4c8	8b 02		 mov	 eax, DWORD PTR [edx]
  0b4ca	50		 push	 eax
  0b4cb	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0b4d0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5231 : 		lpObj->ChaosLock = FALSE;

  0b4d3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b4d6	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5232 : 		return;

  0b4e0	e9 8a 02 00 00	 jmp	 $LN23@CherryBlos
$LN8@CherryBlos:

; 5233 : 	}
; 5234 : 
; 5235 : 	int iItemHeight = 4;

  0b4e5	c7 45 d4 04 00
	00 00		 mov	 DWORD PTR _iItemHeight$[ebp], 4

; 5236 : 	int iItemWidth = 2;

  0b4ec	c7 45 d0 02 00
	00 00		 mov	 DWORD PTR _iItemWidth$[ebp], 2

; 5237 : 
; 5238 : 	if ( !CheckInventoryEmptySpace(lpObj, iItemHeight, iItemWidth))

  0b4f3	8b 45 d0	 mov	 eax, DWORD PTR _iItemWidth$[ebp]
  0b4f6	50		 push	 eax
  0b4f7	8b 4d d4	 mov	 ecx, DWORD PTR _iItemHeight$[ebp]
  0b4fa	51		 push	 ecx
  0b4fb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b4fe	52		 push	 edx
  0b4ff	e8 00 00 00 00	 call	 ?CheckInventoryEmptySpace@@YAHPAUOBJECTSTRUCT@@HH@Z ; CheckInventoryEmptySpace
  0b504	83 c4 0c	 add	 esp, 12			; 0000000cH
  0b507	85 c0		 test	 eax, eax
  0b509	75 2d		 jne	 SHORT $LN6@CherryBlos

; 5239 : 	{
; 5240 : 		pMsg.Result = 0xF1;

  0b50b	c6 45 eb f1	 mov	 BYTE PTR _pMsg$[ebp+3], 241 ; 000000f1H

; 5241 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0b50f	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0b513	50		 push	 eax
  0b514	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0b517	51		 push	 ecx
  0b518	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b51b	8b 02		 mov	 eax, DWORD PTR [edx]
  0b51d	50		 push	 eax
  0b51e	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0b523	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5242 : 		lpObj->ChaosLock = FALSE;

  0b526	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b529	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5243 : 		return;

  0b533	e9 37 02 00 00	 jmp	 $LN23@CherryBlos
$LN6@CherryBlos:

; 5244 : 	}
; 5245 : 
; 5246 : 	if( CherryBlossomData.CherryBlossomItemList == NULL )

  0b538	83 7d e4 00	 cmp	 DWORD PTR _CherryBlossomData$[ebp+8], 0
  0b53c	75 2d		 jne	 SHORT $LN5@CherryBlos

; 5247 : 	{
; 5248 : 		pMsg.Result = 0xF1;

  0b53e	c6 45 eb f1	 mov	 BYTE PTR _pMsg$[ebp+3], 241 ; 000000f1H

; 5249 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0b542	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0b546	50		 push	 eax
  0b547	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0b54a	51		 push	 ecx
  0b54b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b54e	8b 02		 mov	 eax, DWORD PTR [edx]
  0b550	50		 push	 eax
  0b551	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0b556	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5250 : 		lpObj->ChaosLock = FALSE;

  0b559	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b55c	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5251 : 		return;

  0b566	e9 04 02 00 00	 jmp	 $LN23@CherryBlos
$LN5@CherryBlos:

; 5252 : 	}
; 5253 : 
; 5254 : 	int iDropZen = 0;

  0b56b	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _iDropZen$[ebp], 0

; 5255 : 
; 5256 : 	BOOL bCherryBlossomBoxOpen = CherryBlossomData.CherryBlossomItemList(lpObj, -1, 0, 0, &iDropZen); //

  0b572	8d 45 cc	 lea	 eax, DWORD PTR _iDropZen$[ebp]
  0b575	50		 push	 eax
  0b576	6a 00		 push	 0
  0b578	6a 00		 push	 0
  0b57a	68 ff 00 00 00	 push	 255			; 000000ffH
  0b57f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b582	51		 push	 ecx
  0b583	ff 55 e4	 call	 DWORD PTR _CherryBlossomData$[ebp+8]
  0b586	83 c4 14	 add	 esp, 20			; 00000014H
  0b589	89 45 c8	 mov	 DWORD PTR _bCherryBlossomBoxOpen$[ebp], eax

; 5257 : 
; 5258 : 	if( bCherryBlossomBoxOpen == FALSE )

  0b58c	83 7d c8 00	 cmp	 DWORD PTR _bCherryBlossomBoxOpen$[ebp], 0
  0b590	0f 85 8d 00 00
	00		 jne	 $LN4@CherryBlos

; 5259 : 	{
; 5260 : 		this->ChaosBoxInit(lpObj);

  0b596	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b599	50		 push	 eax
  0b59a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0b59d	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 5261 : 		GCUserChaosBoxSend(lpObj, 0);

  0b5a2	6a 00		 push	 0
  0b5a4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b5a7	50		 push	 eax
  0b5a8	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0b5ad	83 c4 08	 add	 esp, 8

; 5262 : 
; 5263 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0b5b0	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0b5b4	50		 push	 eax
  0b5b5	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0b5b8	51		 push	 ecx
  0b5b9	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b5bc	8b 02		 mov	 eax, DWORD PTR [edx]
  0b5be	50		 push	 eax
  0b5bf	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0b5c4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5264 : 
; 5265 : 		LogAddTD("[%s][%s] CherryBlossomMix Fail %d Money : %d-%d", lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->Money, lpObj->ChaosMoney);

  0b5c7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b5ca	8b 88 80 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3712]
  0b5d0	51		 push	 ecx
  0b5d1	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b5d4	8b 82 f0 00 00
	00		 mov	 eax, DWORD PTR [edx+240]
  0b5da	50		 push	 eax
  0b5db	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b5de	8b 91 84 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3716]
  0b5e4	52		 push	 edx
  0b5e5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b5e8	83 c0 77	 add	 eax, 119		; 00000077H
  0b5eb	50		 push	 eax
  0b5ec	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b5ef	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0b5f2	51		 push	 ecx
  0b5f3	68 00 00 00 00	 push	 OFFSET ??_C@_0DA@LOGFDBNL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CherryBlossomMix?5Fail?5?$CF@
  0b5f8	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0b5fe	83 c4 18	 add	 esp, 24			; 00000018H

; 5266 : 		lpObj->ChaosLock = FALSE;

  0b601	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b604	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5267 : #if(SYSTEM_ACHIEVEMENTS)
; 5268 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  0b60e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b611	8b 08		 mov	 ecx, DWORD PTR [eax]
  0b613	51		 push	 ecx
  0b614	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0b619	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix

; 5269 : #endif
; 5270 : 
; 5271 : 	}
; 5272 : 	else

  0b61e	e9 3e 01 00 00	 jmp	 $LN3@CherryBlos
$LN4@CherryBlos:

; 5273 : 	{
; 5274 : 		//season4.5 add-on start
; 5275 : 		LogAddTD("[%s][%s] CherryBlossomMix Success Rate:%d Money : %d", lpObj->AccountID, lpObj->Name, lpObj->ChaosSuccessRate, lpObj->ChaosMoney);

  0b623	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b626	8b 88 80 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3712]
  0b62c	51		 push	 ecx
  0b62d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b630	8b 82 84 0e 00
	00		 mov	 eax, DWORD PTR [edx+3716]
  0b636	50		 push	 eax
  0b637	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b63a	83 c1 77	 add	 ecx, 119		; 00000077H
  0b63d	51		 push	 ecx
  0b63e	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b641	83 c2 6c	 add	 edx, 108		; 0000006cH
  0b644	52		 push	 edx
  0b645	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@MIOBBHIN@?$FL?$CFs?$FN?$FL?$CFs?$FN?5CherryBlossomMix?5Succes@
  0b64a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0b650	83 c4 14	 add	 esp, 20			; 00000014H

; 5276 : 
; 5277 : 
; 5278 : #if(SYSTEM_ACHIEVEMENTS)
; 5279 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  0b653	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b656	8b 08		 mov	 ecx, DWORD PTR [eax]
  0b658	51		 push	 ecx
  0b659	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0b65e	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 5280 : #endif	
; 5281 : 		if(iDropZen > 0)

  0b663	83 7d cc 00	 cmp	 DWORD PTR _iDropZen$[ebp], 0
  0b667	0f 8e e7 00 00
	00		 jle	 $LN2@CherryBlos

; 5282 : 		{
; 5283 : 			if(lpObj->Money + iDropZen < 2000000000)

  0b66d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b670	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0b676	03 4d cc	 add	 ecx, DWORD PTR _iDropZen$[ebp]
  0b679	81 f9 00 94 35
	77		 cmp	 ecx, 2000000000		; 77359400H
  0b67f	0f 8d 85 00 00
	00		 jge	 $LN1@CherryBlos

; 5284 : 			{
; 5285 : 				lpObj->Money += iDropZen;

  0b685	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b688	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0b68e	03 4d cc	 add	 ecx, DWORD PTR _iDropZen$[ebp]
  0b691	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b694	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 5286 : 				GCMoneySend(lpObj->m_Index, lpObj->Money);

  0b69a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b69d	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0b6a3	51		 push	 ecx
  0b6a4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b6a7	8b 02		 mov	 eax, DWORD PTR [edx]
  0b6a9	50		 push	 eax
  0b6aa	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  0b6af	83 c4 08	 add	 esp, 8

; 5287 : 				memset(pMsg.ItemInfo, 0xFF, sizeof(pMsg.ItemInfo));

  0b6b2	6a 0c		 push	 12			; 0000000cH
  0b6b4	68 ff 00 00 00	 push	 255			; 000000ffH
  0b6b9	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$[ebp+4]
  0b6bc	50		 push	 eax
  0b6bd	e8 00 00 00 00	 call	 _memset
  0b6c2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5288 : 				pMsg.Result = 1;

  0b6c5	c6 45 eb 01	 mov	 BYTE PTR _pMsg$[ebp+3], 1

; 5289 : 				this->ChaosBoxInit(lpObj);

  0b6c9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b6cc	50		 push	 eax
  0b6cd	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0b6d0	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 5290 : 				GCUserChaosBoxSend(lpObj, 0);

  0b6d5	6a 00		 push	 0
  0b6d7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b6da	50		 push	 eax
  0b6db	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0b6e0	83 c4 08	 add	 esp, 8

; 5291 : 				DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0b6e3	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0b6e7	50		 push	 eax
  0b6e8	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0b6eb	51		 push	 ecx
  0b6ec	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b6ef	8b 02		 mov	 eax, DWORD PTR [edx]
  0b6f1	50		 push	 eax
  0b6f2	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0b6f7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5292 : 				gObjInventoryCommit(lpObj->m_Index);

  0b6fa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b6fd	8b 08		 mov	 ecx, DWORD PTR [eax]
  0b6ff	51		 push	 ecx
  0b700	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0b705	83 c4 04	 add	 esp, 4

; 5293 : 				return;

  0b708	eb 65		 jmp	 SHORT $LN23@CherryBlos
$LN1@CherryBlos:

; 5294 : 			}
; 5295 : 
; 5296 : 			pMsg.Result = 0xF1;

  0b70a	c6 45 eb f1	 mov	 BYTE PTR _pMsg$[ebp+3], 241 ; 000000f1H

; 5297 : 			DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0b70e	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0b712	50		 push	 eax
  0b713	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0b716	51		 push	 ecx
  0b717	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b71a	8b 02		 mov	 eax, DWORD PTR [edx]
  0b71c	50		 push	 eax
  0b71d	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0b722	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5298 : 			LogAddTD("[%s] Overflow Zen [%s][%s] [%d/%d User Zen/Zen]", "CherryBlossomMix", lpObj->AccountID, lpObj->Name, lpObj->Money, iDropZen);		

  0b725	8b 45 cc	 mov	 eax, DWORD PTR _iDropZen$[ebp]
  0b728	50		 push	 eax
  0b729	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b72c	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  0b732	52		 push	 edx
  0b733	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b736	83 c0 77	 add	 eax, 119		; 00000077H
  0b739	50		 push	 eax
  0b73a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b73d	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0b740	51		 push	 ecx
  0b741	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@DIJAHHC@CherryBlossomMix?$AA@
  0b746	68 00 00 00 00	 push	 OFFSET ??_C@_0DA@CJGOEHL@?$FL?$CFs?$FN?5Overflow?5Zen?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$FL?$CFd?1?$CF@
  0b74b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0b751	83 c4 18	 add	 esp, 24			; 00000018H
$LN2@CherryBlos:

; 5299 : 		}
; 5300 : 		//season4.5 add-on end
; 5301 : 
; 5302 : 		lpObj->ChaosLock = FALSE;

  0b754	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b757	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN3@CherryBlos:

; 5303 : 	}
; 5304 : 
; 5305 : 	gObjInventoryCommit(lpObj->m_Index);

  0b761	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b764	8b 08		 mov	 ecx, DWORD PTR [eax]
  0b766	51		 push	 ecx
  0b767	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0b76c	83 c4 04	 add	 esp, 4
$LN23@CherryBlos:

; 5306 : }

  0b76f	5f		 pop	 edi
  0b770	5e		 pop	 esi
  0b771	5b		 pop	 ebx
  0b772	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0b775	33 cd		 xor	 ecx, ebp
  0b777	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0b77c	8b e5		 mov	 esp, ebp
  0b77e	5d		 pop	 ebp
  0b77f	c2 04 00	 ret	 4
?CherryBlossomMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::CherryBlossomMix
_TEXT	ENDS
PUBLIC	??_C@_0DE@JCNMJOBM@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Seed?5Extract?5Mix?5Failed@ ; `string'
PUBLIC	??_C@_0GC@HFAHDNLD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Seed?5Extract?5Mix?5Succes@ ; `string'
PUBLIC	??_C@_0CC@FJMAMNGP@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Seed?5Extract?5Mix?5Failed@ ; `string'
PUBLIC	??_C@_0M@PHAOGDNK@SeedExtract?$AA@		; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?SocketSeedExtract@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::SocketSeedExtract
EXTRN	?GetSeedData@CSocketOption@@QAEPAVCSeed@@E@Z:PROC ; CSocketOption::GetSeedData
EXTRN	?SortOptionIndex@CSocketOption@@QAEEXZ:PROC	; CSocketOption::SortOptionIndex
EXTRN	?g_iSeedExtractMoney@@3HA:DWORD			; g_iSeedExtractMoney
;	COMDAT ??_C@_0DE@JCNMJOBM@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Seed?5Extract?5Mix?5Failed@
CONST	SEGMENT
??_C@_0DE@JCNMJOBM@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Seed?5Extract?5Mix?5Failed@ DB '['
	DB	'%s][%s] Seed Extract Mix Failed - SeedData is NULL', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0GC@HFAHDNLD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Seed?5Extract?5Mix?5Succes@
CONST	SEGMENT
??_C@_0GC@HFAHDNLD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Seed?5Extract?5Mix?5Succes@ DB '['
	DB	'%s][%s] Seed Extract Mix Success - SeedInfo ( Index : %d, Typ'
	DB	'e : %d, Level : %d, ItemCode : %d )', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CC@FJMAMNGP@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Seed?5Extract?5Mix?5Failed@
CONST	SEGMENT
??_C@_0CC@FJMAMNGP@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Seed?5Extract?5Mix?5Failed@ DB '['
	DB	'%s][%s] Seed Extract Mix Failed.', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@PHAOGDNK@SeedExtract?$AA@
CONST	SEGMENT
??_C@_0M@PHAOGDNK@SeedExtract?$AA@ DB 'SeedExtract', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_SeedData$ = -96					; size = 4
_SocketOptionIndex$ = -89				; size = 1
_n$237501 = -88						; size = 4
_pMsg$ = -84						; size = 16
_iCreationItemNum$ = -68				; size = 4
_iChoasGemItemNum$ = -64				; size = 4
_iHarmonyItemNum$ = -60					; size = 4
_iExcItemNum$ = -56					; size = 4
_iSetItemNum$ = -52					; size = 4
_iChaosTaxMoney$ = -48					; size = 4
_iMixMoney$ = -44					; size = 4
_iChaosMoney$ = -40					; size = 4
_iSeedExtractRate$ = -36				; size = 4
_iInvalidItemCount$ = -32				; size = 4
_iCreationGemCount$ = -28				; size = 4
_iChoasGemCount$ = -24					; size = 4
_iHarmonyCount$ = -20					; size = 4
_iSetItemCount$ = -16					; size = 4
_iExcItemCount$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?SocketSeedExtract@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::SocketSeedExtract
; _this$ = ecx

; 5309 : {

  0b790	55		 push	 ebp
  0b791	8b ec		 mov	 ebp, esp
  0b793	81 ec a0 00 00
	00		 sub	 esp, 160		; 000000a0H
  0b799	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0b79e	33 c5		 xor	 eax, ebp
  0b7a0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0b7a3	53		 push	 ebx
  0b7a4	56		 push	 esi
  0b7a5	57		 push	 edi
  0b7a6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 5310 : 	int iExcItemCount = 0; //2

  0b7a9	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iExcItemCount$[ebp], 0

; 5311 : 	int iSetItemCount = 0; //3

  0b7b0	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iSetItemCount$[ebp], 0

; 5312 : 	int iHarmonyCount = 0; //4

  0b7b7	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iHarmonyCount$[ebp], 0

; 5313 : 	int iChoasGemCount = 0; //5

  0b7be	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iChoasGemCount$[ebp], 0

; 5314 : 	int iCreationGemCount = 0; //6

  0b7c5	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _iCreationGemCount$[ebp], 0

; 5315 : 	int iInvalidItemCount = 0; //7

  0b7cc	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 5316 : 	int iSeedExtractRate = 0; //8

  0b7d3	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _iSeedExtractRate$[ebp], 0

; 5317 : 	DWORD iChaosMoney = 0; //9

  0b7da	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 0

; 5318 : 	int iMixMoney = 0; //10

  0b7e1	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _iMixMoney$[ebp], 0

; 5319 : 	int iChaosTaxMoney = 0; //11

  0b7e8	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0

; 5320 : 	int iSetItemNum = 0; //12

  0b7ef	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _iSetItemNum$[ebp], 0

; 5321 : 	int iExcItemNum = 0; //13

  0b7f6	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _iExcItemNum$[ebp], 0

; 5322 : 	int iHarmonyItemNum = 0; //14

  0b7fd	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _iHarmonyItemNum$[ebp], 0

; 5323 : 	int iChoasGemItemNum = 0; //15

  0b804	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _iChoasGemItemNum$[ebp], 0

; 5324 : 	int iCreationItemNum = 0; //16

  0b80b	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _iCreationItemNum$[ebp], 0

; 5325 : 
; 5326 : 	PMSG_CHAOSMIXRESULT pMsg; //loc19 and 20
; 5327 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0b812	6a 10		 push	 16			; 00000010H
  0b814	68 86 00 00 00	 push	 134			; 00000086H
  0b819	8d 45 ac	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0b81c	50		 push	 eax
  0b81d	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0b822	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5328 : 	pMsg.Result = CB_ERROR;

  0b825	c6 45 af 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 5329 : 	lpObj->ChaosLock = TRUE;

  0b829	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b82c	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 5330 : 
; 5331 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++) //loc21

  0b836	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR _n$237501[ebp], 0
  0b83d	eb 09		 jmp	 SHORT $LN22@SocketSeed
$LN21@SocketSeed:
  0b83f	8b 45 a8	 mov	 eax, DWORD PTR _n$237501[ebp]
  0b842	83 c0 01	 add	 eax, 1
  0b845	89 45 a8	 mov	 DWORD PTR _n$237501[ebp], eax
$LN22@SocketSeed:
  0b848	83 7d a8 20	 cmp	 DWORD PTR _n$237501[ebp], 32 ; 00000020H
  0b84c	0f 8d 8a 01 00
	00		 jge	 $LN20@SocketSeed

; 5332 : 	{
; 5333 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  0b852	8b 4d a8	 mov	 ecx, DWORD PTR _n$237501[ebp]
  0b855	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0b85b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b85e	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0b864	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0b869	83 f8 01	 cmp	 eax, 1
  0b86c	0f 85 65 01 00
	00		 jne	 $LN19@SocketSeed

; 5334 : 		{
; 5335 : 			if ( lpObj->pChaosBox[n].IsExtItem() == TRUE && lpObj->pChaosBox[n].m_Level >= 4)

  0b872	8b 4d a8	 mov	 ecx, DWORD PTR _n$237501[ebp]
  0b875	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0b87b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b87e	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0b884	e8 00 00 00 00	 call	 ?IsExtItem@CItem@@QAEHXZ ; CItem::IsExtItem
  0b889	83 f8 01	 cmp	 eax, 1
  0b88c	75 4c		 jne	 SHORT $LN18@SocketSeed
  0b88e	8b 45 a8	 mov	 eax, DWORD PTR _n$237501[ebp]
  0b891	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0b897	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b89a	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0b8a0	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  0b8a5	83 f8 04	 cmp	 eax, 4
  0b8a8	7c 30		 jl	 SHORT $LN18@SocketSeed

; 5336 : 			{
; 5337 : 				iExcItemCount++;

  0b8aa	8b 45 f4	 mov	 eax, DWORD PTR _iExcItemCount$[ebp]
  0b8ad	83 c0 01	 add	 eax, 1
  0b8b0	89 45 f4	 mov	 DWORD PTR _iExcItemCount$[ebp], eax

; 5338 : 				iChaosMoney += lpObj->pChaosBox[n].m_BuyMoney;

  0b8b3	8b 45 a8	 mov	 eax, DWORD PTR _n$237501[ebp]
  0b8b6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0b8bc	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b8bf	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0b8c5	8b 4d d8	 mov	 ecx, DWORD PTR _iChaosMoney$[ebp]
  0b8c8	03 4c 02 70	 add	 ecx, DWORD PTR [edx+eax+112]
  0b8cc	89 4d d8	 mov	 DWORD PTR _iChaosMoney$[ebp], ecx

; 5339 : 				iExcItemNum = n;

  0b8cf	8b 45 a8	 mov	 eax, DWORD PTR _n$237501[ebp]
  0b8d2	89 45 c8	 mov	 DWORD PTR _iExcItemNum$[ebp], eax
  0b8d5	e9 fd 00 00 00	 jmp	 $LN19@SocketSeed
$LN18@SocketSeed:

; 5340 : 			}
; 5341 : 			else if ( lpObj->pChaosBox[n].IsSetItem() != FALSE && lpObj->pChaosBox[n].m_Level >= 4)

  0b8da	8b 4d a8	 mov	 ecx, DWORD PTR _n$237501[ebp]
  0b8dd	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0b8e3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0b8e6	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0b8ec	e8 00 00 00 00	 call	 ?IsSetItem@CItem@@QAEHXZ ; CItem::IsSetItem
  0b8f1	85 c0		 test	 eax, eax
  0b8f3	74 4c		 je	 SHORT $LN16@SocketSeed
  0b8f5	8b 45 a8	 mov	 eax, DWORD PTR _n$237501[ebp]
  0b8f8	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0b8fe	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b901	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0b907	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  0b90c	83 f8 04	 cmp	 eax, 4
  0b90f	7c 30		 jl	 SHORT $LN16@SocketSeed

; 5342 : 			{
; 5343 : 				iSetItemCount++;

  0b911	8b 45 f0	 mov	 eax, DWORD PTR _iSetItemCount$[ebp]
  0b914	83 c0 01	 add	 eax, 1
  0b917	89 45 f0	 mov	 DWORD PTR _iSetItemCount$[ebp], eax

; 5344 : 				iChaosMoney += lpObj->pChaosBox[n].m_BuyMoney;

  0b91a	8b 45 a8	 mov	 eax, DWORD PTR _n$237501[ebp]
  0b91d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0b923	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b926	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0b92c	8b 4d d8	 mov	 ecx, DWORD PTR _iChaosMoney$[ebp]
  0b92f	03 4c 02 70	 add	 ecx, DWORD PTR [edx+eax+112]
  0b933	89 4d d8	 mov	 DWORD PTR _iChaosMoney$[ebp], ecx

; 5345 : 				iSetItemNum = n;

  0b936	8b 45 a8	 mov	 eax, DWORD PTR _n$237501[ebp]
  0b939	89 45 cc	 mov	 DWORD PTR _iSetItemNum$[ebp], eax
  0b93c	e9 96 00 00 00	 jmp	 $LN19@SocketSeed
$LN16@SocketSeed:

; 5346 : 			}
; 5347 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,42) )

  0b941	8b 45 a8	 mov	 eax, DWORD PTR _n$237501[ebp]
  0b944	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0b94a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b94d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0b953	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0b958	3d 2a 1c 00 00	 cmp	 eax, 7210		; 00001c2aH
  0b95d	75 11		 jne	 SHORT $LN14@SocketSeed

; 5348 : 			{
; 5349 : 				iHarmonyCount++;

  0b95f	8b 45 ec	 mov	 eax, DWORD PTR _iHarmonyCount$[ebp]
  0b962	83 c0 01	 add	 eax, 1
  0b965	89 45 ec	 mov	 DWORD PTR _iHarmonyCount$[ebp], eax

; 5350 : 				iHarmonyItemNum = n;

  0b968	8b 45 a8	 mov	 eax, DWORD PTR _n$237501[ebp]
  0b96b	89 45 c4	 mov	 DWORD PTR _iHarmonyItemNum$[ebp], eax
  0b96e	eb 67		 jmp	 SHORT $LN19@SocketSeed
$LN14@SocketSeed:

; 5351 : 			}
; 5352 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) )

  0b970	8b 45 a8	 mov	 eax, DWORD PTR _n$237501[ebp]
  0b973	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0b979	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b97c	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0b982	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0b987	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  0b98c	75 11		 jne	 SHORT $LN12@SocketSeed

; 5353 : 			{
; 5354 : 				iChoasGemCount++;

  0b98e	8b 45 e8	 mov	 eax, DWORD PTR _iChoasGemCount$[ebp]
  0b991	83 c0 01	 add	 eax, 1
  0b994	89 45 e8	 mov	 DWORD PTR _iChoasGemCount$[ebp], eax

; 5355 : 				iChoasGemItemNum = n;

  0b997	8b 45 a8	 mov	 eax, DWORD PTR _n$237501[ebp]
  0b99a	89 45 c0	 mov	 DWORD PTR _iChoasGemItemNum$[ebp], eax
  0b99d	eb 38		 jmp	 SHORT $LN19@SocketSeed
$LN12@SocketSeed:

; 5356 : 			}
; 5357 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,22) )

  0b99f	8b 45 a8	 mov	 eax, DWORD PTR _n$237501[ebp]
  0b9a2	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0b9a8	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0b9ab	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0b9b1	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0b9b6	3d 16 1c 00 00	 cmp	 eax, 7190		; 00001c16H
  0b9bb	75 11		 jne	 SHORT $LN10@SocketSeed

; 5358 : 			{
; 5359 : 				iCreationGemCount++;

  0b9bd	8b 45 e4	 mov	 eax, DWORD PTR _iCreationGemCount$[ebp]
  0b9c0	83 c0 01	 add	 eax, 1
  0b9c3	89 45 e4	 mov	 DWORD PTR _iCreationGemCount$[ebp], eax

; 5360 : 				iCreationItemNum = n;

  0b9c6	8b 45 a8	 mov	 eax, DWORD PTR _n$237501[ebp]
  0b9c9	89 45 bc	 mov	 DWORD PTR _iCreationItemNum$[ebp], eax

; 5361 : 			}
; 5362 : 			else

  0b9cc	eb 09		 jmp	 SHORT $LN19@SocketSeed
$LN10@SocketSeed:

; 5363 : 			{
; 5364 : 				iInvalidItemCount++;

  0b9ce	8b 45 e0	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  0b9d1	83 c0 01	 add	 eax, 1
  0b9d4	89 45 e0	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN19@SocketSeed:

; 5365 : 			}
; 5366 : 		}
; 5367 : 	}

  0b9d7	e9 63 fe ff ff	 jmp	 $LN21@SocketSeed
$LN20@SocketSeed:

; 5368 : 
; 5369 : 	if ( iInvalidItemCount > 0 )

  0b9dc	83 7d e0 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  0b9e0	7e 2d		 jle	 SHORT $LN8@SocketSeed

; 5370 : 	{
; 5371 : 		pMsg.Result = 7;

  0b9e2	c6 45 af 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 5372 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0b9e6	0f b6 45 ad	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0b9ea	50		 push	 eax
  0b9eb	8d 4d ac	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0b9ee	51		 push	 ecx
  0b9ef	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0b9f2	8b 02		 mov	 eax, DWORD PTR [edx]
  0b9f4	50		 push	 eax
  0b9f5	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0b9fa	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5373 : 		lpObj->ChaosLock = FALSE;

  0b9fd	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ba00	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5374 : 		return;

  0ba0a	e9 2f 04 00 00	 jmp	 $LN23@SocketSeed
$LN8@SocketSeed:

; 5375 : 	}
; 5376 : 
; 5377 : 	if(iExcItemCount != 1 && iSetItemCount != 1 && iHarmonyCount != 1 && iChoasGemCount != 1 && iCreationGemCount != 1)

  0ba0f	83 7d f4 01	 cmp	 DWORD PTR _iExcItemCount$[ebp], 1
  0ba13	74 45		 je	 SHORT $LN7@SocketSeed
  0ba15	83 7d f0 01	 cmp	 DWORD PTR _iSetItemCount$[ebp], 1
  0ba19	74 3f		 je	 SHORT $LN7@SocketSeed
  0ba1b	83 7d ec 01	 cmp	 DWORD PTR _iHarmonyCount$[ebp], 1
  0ba1f	74 39		 je	 SHORT $LN7@SocketSeed
  0ba21	83 7d e8 01	 cmp	 DWORD PTR _iChoasGemCount$[ebp], 1
  0ba25	74 33		 je	 SHORT $LN7@SocketSeed
  0ba27	83 7d e4 01	 cmp	 DWORD PTR _iCreationGemCount$[ebp], 1
  0ba2b	74 2d		 je	 SHORT $LN7@SocketSeed

; 5378 : 	{
; 5379 : 		pMsg.Result = 7;

  0ba2d	c6 45 af 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 5380 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0ba31	0f b6 45 ad	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0ba35	50		 push	 eax
  0ba36	8d 4d ac	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0ba39	51		 push	 ecx
  0ba3a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ba3d	8b 02		 mov	 eax, DWORD PTR [edx]
  0ba3f	50		 push	 eax
  0ba40	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0ba45	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5381 : 		lpObj->ChaosLock = FALSE;

  0ba48	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ba4b	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5382 : 		return;

  0ba55	e9 e4 03 00 00	 jmp	 $LN23@SocketSeed
$LN7@SocketSeed:

; 5383 : 	}
; 5384 : 
; 5385 : 	iChaosTaxMoney = (int)((__int64)g_iSeedExtractMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  0ba5a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_iSeedExtractMoney@@3HA ; g_iSeedExtractMoney
  0ba5f	99		 cdq
  0ba60	8b f0		 mov	 esi, eax
  0ba62	8b fa		 mov	 edi, edx
  0ba64	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ba67	8b 08		 mov	 ecx, DWORD PTR [eax]
  0ba69	51		 push	 ecx
  0ba6a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0ba6f	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  0ba74	99		 cdq
  0ba75	52		 push	 edx
  0ba76	50		 push	 eax
  0ba77	57		 push	 edi
  0ba78	56		 push	 esi
  0ba79	e8 00 00 00 00	 call	 __allmul
  0ba7e	6a 00		 push	 0
  0ba80	6a 64		 push	 100			; 00000064H
  0ba82	52		 push	 edx
  0ba83	50		 push	 eax
  0ba84	e8 00 00 00 00	 call	 __alldiv
  0ba89	89 45 d0	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 5386 : 
; 5387 : 	if ( iChaosTaxMoney < 0 )

  0ba8c	83 7d d0 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  0ba90	7d 07		 jge	 SHORT $LN6@SocketSeed

; 5388 : 	{
; 5389 : 		iChaosTaxMoney = 0;

  0ba92	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN6@SocketSeed:

; 5390 : 	}
; 5391 : 
; 5392 : 	iMixMoney = g_iSeedExtractMoney + iChaosTaxMoney;

  0ba99	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_iSeedExtractMoney@@3HA ; g_iSeedExtractMoney
  0ba9e	03 45 d0	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0baa1	89 45 d4	 mov	 DWORD PTR _iMixMoney$[ebp], eax

; 5393 : 
; 5394 : 	if ( lpObj->Money < iMixMoney )

  0baa4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0baa7	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0baad	3b 4d d4	 cmp	 ecx, DWORD PTR _iMixMoney$[ebp]
  0bab0	7d 2d		 jge	 SHORT $LN5@SocketSeed

; 5395 : 	{
; 5396 : 		pMsg.Result = 2;

  0bab2	c6 45 af 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 5397 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0bab6	0f b6 45 ad	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0baba	50		 push	 eax
  0babb	8d 4d ac	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0babe	51		 push	 ecx
  0babf	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0bac2	8b 02		 mov	 eax, DWORD PTR [edx]
  0bac4	50		 push	 eax
  0bac5	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0baca	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5398 : 		lpObj->ChaosLock = FALSE;

  0bacd	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bad0	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5399 : 		return;

  0bada	e9 5f 03 00 00	 jmp	 $LN23@SocketSeed
$LN5@SocketSeed:

; 5400 : 	}
; 5401 : 
; 5402 : 	LogChaosItem(lpObj, "SeedExtract");

  0badf	68 00 00 00 00	 push	 OFFSET ??_C@_0M@PHAOGDNK@SeedExtract?$AA@
  0bae4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bae7	50		 push	 eax
  0bae8	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0baeb	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 5403 : 	lpObj->Money -= iMixMoney;

  0baf0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0baf3	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0baf9	2b 4d d4	 sub	 ecx, DWORD PTR _iMixMoney$[ebp]
  0bafc	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0baff	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 5404 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  0bb05	8b 45 d0	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0bb08	50		 push	 eax
  0bb09	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0bb0e	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 5405 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  0bb13	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bb16	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0bb1c	51		 push	 ecx
  0bb1d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0bb20	8b 02		 mov	 eax, DWORD PTR [edx]
  0bb22	50		 push	 eax
  0bb23	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  0bb28	83 c4 08	 add	 esp, 8

; 5406 : 
; 5407 : 	iSeedExtractRate = 80 + (iChaosMoney / 2000000);

  0bb2b	8b 45 d8	 mov	 eax, DWORD PTR _iChaosMoney$[ebp]
  0bb2e	33 d2		 xor	 edx, edx
  0bb30	b9 80 84 1e 00	 mov	 ecx, 2000000		; 001e8480H
  0bb35	f7 f1		 div	 ecx
  0bb37	83 c0 50	 add	 eax, 80			; 00000050H
  0bb3a	89 45 dc	 mov	 DWORD PTR _iSeedExtractRate$[ebp], eax

; 5408 : 
; 5409 : 	if( iSeedExtractRate > 90 )

  0bb3d	83 7d dc 5a	 cmp	 DWORD PTR _iSeedExtractRate$[ebp], 90 ; 0000005aH
  0bb41	7e 07		 jle	 SHORT $LN4@SocketSeed

; 5410 : 	{
; 5411 : 		iSeedExtractRate = 90;

  0bb43	c7 45 dc 5a 00
	00 00		 mov	 DWORD PTR _iSeedExtractRate$[ebp], 90 ; 0000005aH
$LN4@SocketSeed:

; 5412 : 	}
; 5413 : 
; 5414 : 	if(rand()%100 > iSeedExtractRate) //fail rate

  0bb4a	e8 00 00 00 00	 call	 _rand
  0bb4f	99		 cdq
  0bb50	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0bb55	f7 f9		 idiv	 ecx
  0bb57	3b 55 dc	 cmp	 edx, DWORD PTR _iSeedExtractRate$[ebp]
  0bb5a	0f 8e 12 01 00
	00		 jle	 $LN3@SocketSeed

; 5415 : 	{
; 5416 : 		lpObj->pChaosBox[iSetItemNum].m_Level -= rand()%3;

  0bb60	8b 75 cc	 mov	 esi, DWORD PTR _iSetItemNum$[ebp]
  0bb63	69 f6 d4 00 00
	00		 imul	 esi, 212		; 000000d4H
  0bb69	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bb6c	8b b8 78 0e 00
	00		 mov	 edi, DWORD PTR [eax+3704]
  0bb72	e8 00 00 00 00	 call	 _rand
  0bb77	99		 cdq
  0bb78	b9 03 00 00 00	 mov	 ecx, 3
  0bb7d	f7 f9		 idiv	 ecx
  0bb7f	0f bf 44 37 08	 movsx	 eax, WORD PTR [edi+esi+8]
  0bb84	2b c2		 sub	 eax, edx
  0bb86	8b 4d cc	 mov	 ecx, DWORD PTR _iSetItemNum$[ebp]
  0bb89	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0bb8f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0bb92	8b 92 78 0e 00
	00		 mov	 edx, DWORD PTR [edx+3704]
  0bb98	66 89 44 0a 08	 mov	 WORD PTR [edx+ecx+8], ax

; 5417 : 		lpObj->pChaosBox[iExcItemNum].m_Level -= rand()%3;

  0bb9d	8b 75 c8	 mov	 esi, DWORD PTR _iExcItemNum$[ebp]
  0bba0	69 f6 d4 00 00
	00		 imul	 esi, 212		; 000000d4H
  0bba6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bba9	8b b8 78 0e 00
	00		 mov	 edi, DWORD PTR [eax+3704]
  0bbaf	e8 00 00 00 00	 call	 _rand
  0bbb4	99		 cdq
  0bbb5	b9 03 00 00 00	 mov	 ecx, 3
  0bbba	f7 f9		 idiv	 ecx
  0bbbc	0f bf 44 37 08	 movsx	 eax, WORD PTR [edi+esi+8]
  0bbc1	2b c2		 sub	 eax, edx
  0bbc3	8b 4d c8	 mov	 ecx, DWORD PTR _iExcItemNum$[ebp]
  0bbc6	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0bbcc	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0bbcf	8b 92 78 0e 00
	00		 mov	 edx, DWORD PTR [edx+3704]
  0bbd5	66 89 44 0a 08	 mov	 WORD PTR [edx+ecx+8], ax

; 5418 : 		lpObj->pChaosBox[iHarmonyItemNum].Clear();

  0bbda	8b 4d c4	 mov	 ecx, DWORD PTR _iHarmonyItemNum$[ebp]
  0bbdd	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0bbe3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bbe6	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0bbec	e8 00 00 00 00	 call	 ?Clear@CItem@@QAEXXZ	; CItem::Clear

; 5419 : 		lpObj->pChaosBox[iChoasGemItemNum].Clear();

  0bbf1	8b 4d c0	 mov	 ecx, DWORD PTR _iChoasGemItemNum$[ebp]
  0bbf4	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0bbfa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bbfd	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0bc03	e8 00 00 00 00	 call	 ?Clear@CItem@@QAEXXZ	; CItem::Clear

; 5420 : 		lpObj->pChaosBox[iCreationItemNum].Clear();

  0bc08	8b 4d bc	 mov	 ecx, DWORD PTR _iCreationItemNum$[ebp]
  0bc0b	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0bc11	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bc14	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0bc1a	e8 00 00 00 00	 call	 ?Clear@CItem@@QAEXXZ	; CItem::Clear

; 5421 : 		GCUserChaosBoxSend(lpObj, 0);

  0bc1f	6a 00		 push	 0
  0bc21	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bc24	50		 push	 eax
  0bc25	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0bc2a	83 c4 08	 add	 esp, 8

; 5422 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0bc2d	0f b6 45 ad	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0bc31	50		 push	 eax
  0bc32	8d 4d ac	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0bc35	51		 push	 ecx
  0bc36	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0bc39	8b 02		 mov	 eax, DWORD PTR [edx]
  0bc3b	50		 push	 eax
  0bc3c	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0bc41	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5423 : 		lpObj->ChaosLock = FALSE;

  0bc44	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bc47	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5424 : 		LogAddTD("[%s][%s] Seed Extract Mix Failed.", lpObj->AccountID, lpObj->Name);

  0bc51	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bc54	83 c0 77	 add	 eax, 119		; 00000077H
  0bc57	50		 push	 eax
  0bc58	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bc5b	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0bc5e	51		 push	 ecx
  0bc5f	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@FJMAMNGP@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Seed?5Extract?5Mix?5Failed@
  0bc64	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0bc6a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5425 : 		return;

  0bc6d	e9 cc 01 00 00	 jmp	 $LN23@SocketSeed
$LN3@SocketSeed:

; 5426 : 	}
; 5427 : 
; 5428 : 	BYTE SocketOptionIndex = 0;

  0bc72	c6 45 a7 00	 mov	 BYTE PTR _SocketOptionIndex$[ebp], 0

; 5429 : 	SocketOptionIndex = g_SocketOption.SortOptionIndex(); //Sort Seed :)

  0bc76	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0bc7b	e8 00 00 00 00	 call	 ?SortOptionIndex@CSocketOption@@QAEEXZ ; CSocketOption::SortOptionIndex
  0bc80	88 45 a7	 mov	 BYTE PTR _SocketOptionIndex$[ebp], al

; 5430 : 	CSeed * SeedData = g_SocketOption.GetSeedData(SocketOptionIndex);

  0bc83	0f b6 45 a7	 movzx	 eax, BYTE PTR _SocketOptionIndex$[ebp]
  0bc87	50		 push	 eax
  0bc88	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0bc8d	e8 00 00 00 00	 call	 ?GetSeedData@CSocketOption@@QAEPAVCSeed@@E@Z ; CSocketOption::GetSeedData
  0bc92	89 45 a0	 mov	 DWORD PTR _SeedData$[ebp], eax

; 5431 : 
; 5432 : 	if(SeedData != NULL)

  0bc95	83 7d a0 00	 cmp	 DWORD PTR _SeedData$[ebp], 0
  0bc99	0f 84 99 00 00
	00		 je	 $LN2@SocketSeed

; 5433 : 	{
; 5434 : 		pMsg.Result = 1;

  0bc9f	c6 45 af 01	 mov	 BYTE PTR _pMsg$[ebp+3], 1

; 5435 : 		ItemSerialCreateSend(lpObj->m_Index, 0xFF, 0, 0, SeedData->m_iItemIndex, (BYTE)SeedData->m_btItemLevel, 1, 0, 0, 0, lpObj->m_Index, 0, 0);

  0bca3	6a 00		 push	 0
  0bca5	6a 00		 push	 0
  0bca7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bcaa	8b 08		 mov	 ecx, DWORD PTR [eax]
  0bcac	51		 push	 ecx
  0bcad	6a 00		 push	 0
  0bcaf	6a 00		 push	 0
  0bcb1	6a 00		 push	 0
  0bcb3	6a 01		 push	 1
  0bcb5	8b 55 a0	 mov	 edx, DWORD PTR _SeedData$[ebp]
  0bcb8	0f b6 42 02	 movzx	 eax, BYTE PTR [edx+2]
  0bcbc	50		 push	 eax
  0bcbd	8b 4d a0	 mov	 ecx, DWORD PTR _SeedData$[ebp]
  0bcc0	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  0bcc3	52		 push	 edx
  0bcc4	6a 00		 push	 0
  0bcc6	6a 00		 push	 0
  0bcc8	68 ff 00 00 00	 push	 255			; 000000ffH
  0bccd	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bcd0	8b 08		 mov	 ecx, DWORD PTR [eax]
  0bcd2	51		 push	 ecx
  0bcd3	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0bcd8	83 c4 34	 add	 esp, 52			; 00000034H

; 5436 : 		gObjInventoryCommit(lpObj->m_Index);

  0bcdb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bcde	8b 08		 mov	 ecx, DWORD PTR [eax]
  0bce0	51		 push	 ecx
  0bce1	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0bce6	83 c4 04	 add	 esp, 4

; 5437 : 		LogAddTD("[%s][%s] Seed Extract Mix Success - SeedInfo ( Index : %d, Type : %d, Level : %d, ItemCode : %d )",
; 5438 : 		lpObj->AccountID, lpObj->Name, SeedData->m_btOptionIndex, SeedData->m_btElementIndex, SeedData->m_btItemLevel, SeedData->m_iItemIndex);

  0bce9	8b 45 a0	 mov	 eax, DWORD PTR _SeedData$[ebp]
  0bcec	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0bcef	51		 push	 ecx
  0bcf0	8b 55 a0	 mov	 edx, DWORD PTR _SeedData$[ebp]
  0bcf3	0f b6 42 02	 movzx	 eax, BYTE PTR [edx+2]
  0bcf7	50		 push	 eax
  0bcf8	8b 4d a0	 mov	 ecx, DWORD PTR _SeedData$[ebp]
  0bcfb	0f b6 51 01	 movzx	 edx, BYTE PTR [ecx+1]
  0bcff	52		 push	 edx
  0bd00	8b 45 a0	 mov	 eax, DWORD PTR _SeedData$[ebp]
  0bd03	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  0bd06	51		 push	 ecx
  0bd07	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0bd0a	83 c2 77	 add	 edx, 119		; 00000077H
  0bd0d	52		 push	 edx
  0bd0e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bd11	83 c0 6c	 add	 eax, 108		; 0000006cH
  0bd14	50		 push	 eax
  0bd15	68 00 00 00 00	 push	 OFFSET ??_C@_0GC@HFAHDNLD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Seed?5Extract?5Mix?5Succes@
  0bd1a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0bd20	83 c4 1c	 add	 esp, 28			; 0000001cH

; 5439 : 
; 5440 : #if(SYSTEM_ACHIEVEMENTS)
; 5441 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  0bd23	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bd26	8b 08		 mov	 ecx, DWORD PTR [eax]
  0bd28	51		 push	 ecx
  0bd29	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0bd2e	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 5442 : #endif	
; 5443 : 	}
; 5444 : 	else

  0bd33	e9 06 01 00 00	 jmp	 $LN23@SocketSeed
$LN2@SocketSeed:

; 5445 : 	{
; 5446 : 		lpObj->pChaosBox[iSetItemNum].m_Level -= rand()%3;

  0bd38	8b 75 cc	 mov	 esi, DWORD PTR _iSetItemNum$[ebp]
  0bd3b	69 f6 d4 00 00
	00		 imul	 esi, 212		; 000000d4H
  0bd41	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bd44	8b b8 78 0e 00
	00		 mov	 edi, DWORD PTR [eax+3704]
  0bd4a	e8 00 00 00 00	 call	 _rand
  0bd4f	99		 cdq
  0bd50	b9 03 00 00 00	 mov	 ecx, 3
  0bd55	f7 f9		 idiv	 ecx
  0bd57	0f bf 44 37 08	 movsx	 eax, WORD PTR [edi+esi+8]
  0bd5c	2b c2		 sub	 eax, edx
  0bd5e	8b 4d cc	 mov	 ecx, DWORD PTR _iSetItemNum$[ebp]
  0bd61	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0bd67	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0bd6a	8b 92 78 0e 00
	00		 mov	 edx, DWORD PTR [edx+3704]
  0bd70	66 89 44 0a 08	 mov	 WORD PTR [edx+ecx+8], ax

; 5447 : 		lpObj->pChaosBox[iExcItemNum].m_Level -= rand()%3;

  0bd75	8b 75 c8	 mov	 esi, DWORD PTR _iExcItemNum$[ebp]
  0bd78	69 f6 d4 00 00
	00		 imul	 esi, 212		; 000000d4H
  0bd7e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bd81	8b b8 78 0e 00
	00		 mov	 edi, DWORD PTR [eax+3704]
  0bd87	e8 00 00 00 00	 call	 _rand
  0bd8c	99		 cdq
  0bd8d	b9 03 00 00 00	 mov	 ecx, 3
  0bd92	f7 f9		 idiv	 ecx
  0bd94	0f bf 44 37 08	 movsx	 eax, WORD PTR [edi+esi+8]
  0bd99	2b c2		 sub	 eax, edx
  0bd9b	8b 4d c8	 mov	 ecx, DWORD PTR _iExcItemNum$[ebp]
  0bd9e	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0bda4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0bda7	8b 92 78 0e 00
	00		 mov	 edx, DWORD PTR [edx+3704]
  0bdad	66 89 44 0a 08	 mov	 WORD PTR [edx+ecx+8], ax

; 5448 : 		lpObj->pChaosBox[iHarmonyItemNum].Clear();

  0bdb2	8b 4d c4	 mov	 ecx, DWORD PTR _iHarmonyItemNum$[ebp]
  0bdb5	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0bdbb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bdbe	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0bdc4	e8 00 00 00 00	 call	 ?Clear@CItem@@QAEXXZ	; CItem::Clear

; 5449 : 		lpObj->pChaosBox[iChoasGemItemNum].Clear();

  0bdc9	8b 4d c0	 mov	 ecx, DWORD PTR _iChoasGemItemNum$[ebp]
  0bdcc	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0bdd2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bdd5	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0bddb	e8 00 00 00 00	 call	 ?Clear@CItem@@QAEXXZ	; CItem::Clear

; 5450 : 		lpObj->pChaosBox[iCreationItemNum].Clear();

  0bde0	8b 4d bc	 mov	 ecx, DWORD PTR _iCreationItemNum$[ebp]
  0bde3	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0bde9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bdec	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0bdf2	e8 00 00 00 00	 call	 ?Clear@CItem@@QAEXXZ	; CItem::Clear

; 5451 : 		GCUserChaosBoxSend(lpObj, 0);

  0bdf7	6a 00		 push	 0
  0bdf9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bdfc	50		 push	 eax
  0bdfd	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0be02	83 c4 08	 add	 esp, 8

; 5452 : 		LogAddTD("[%s][%s] Seed Extract Mix Failed - SeedData is NULL", lpObj->AccountID, lpObj->Name);

  0be05	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0be08	83 c0 77	 add	 eax, 119		; 00000077H
  0be0b	50		 push	 eax
  0be0c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0be0f	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0be12	51		 push	 ecx
  0be13	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@JCNMJOBM@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Seed?5Extract?5Mix?5Failed@
  0be18	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0be1e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5453 : 		lpObj->ChaosLock = FALSE;

  0be21	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0be24	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5454 : #if(SYSTEM_ACHIEVEMENTS)
; 5455 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  0be2e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0be31	8b 08		 mov	 ecx, DWORD PTR [eax]
  0be33	51		 push	 ecx
  0be34	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0be39	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN23@SocketSeed:

; 5456 : #endif
; 5457 : 	}
; 5458 : }

  0be3e	5f		 pop	 edi
  0be3f	5e		 pop	 esi
  0be40	5b		 pop	 ebx
  0be41	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0be44	33 cd		 xor	 ecx, ebp
  0be46	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0be4b	8b e5		 mov	 esp, ebp
  0be4d	5d		 pop	 ebp
  0be4e	c2 04 00	 ret	 4
?SocketSeedExtract@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::SocketSeedExtract
_TEXT	ENDS
PUBLIC	??_C@_0ED@CPANCMOB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Composite?5Mi@ ; `string'
PUBLIC	??_C@_0HB@BGNJLNEH@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Composite?5Mi@ ; `string'
PUBLIC	??_C@_0CK@CENILOLB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Composite?5Mi@ ; `string'
PUBLIC	??_C@_0BE@GFFNMAOC@SeedSphereComposite?$AA@	; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?SocketSeedSphereComposite@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::SocketSeedSphereComposite
EXTRN	??1CSeedSphere@@QAE@XZ:PROC			; CSeedSphere::~CSeedSphere
EXTRN	?SetSeedSphereData@CSocketOption@@QAEEPAVCSeedSphere@@EE@Z:PROC ; CSocketOption::SetSeedSphereData
EXTRN	?GetSphereLevel@CSocketOption@@QAEEH@Z:PROC	; CSocketOption::GetSphereLevel
EXTRN	?GetSeedOptionIndex@CSocketOption@@QAEEHE@Z:PROC ; CSocketOption::GetSeedOptionIndex
EXTRN	??0CSeedSphere@@QAE@XZ:PROC			; CSeedSphere::CSeedSphere
EXTRN	?g_iSeedSphereCompositeMoney@@3HA:DWORD		; g_iSeedSphereCompositeMoney
EXTRN	?IsSeedItem@CSocketOption@@QAEEH@Z:PROC		; CSocketOption::IsSeedItem
EXTRN	?IsSeedSphereItem@CSocketOption@@QAEEH@Z:PROC	; CSocketOption::IsSeedSphereItem
;	COMDAT ??_C@_0ED@CPANCMOB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Composite?5Mi@
CONST	SEGMENT
??_C@_0ED@CPANCMOB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Composite?5Mi@ DB '['
	DB	'%s][%s] SeedSphere Composite Mix Failed - SeedSphere Data is '
	DB	'NULL', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0HB@BGNJLNEH@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Composite?5Mi@
CONST	SEGMENT
??_C@_0HB@BGNJLNEH@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Composite?5Mi@ DB '['
	DB	'%s][%s] SeedSphere Composite Mix Success - SeedSphere Info ( '
	DB	'Index : %d, Type : %d, Level : %d, ItemCode : %d )', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CK@CENILOLB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Composite?5Mi@
CONST	SEGMENT
??_C@_0CK@CENILOLB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Composite?5Mi@ DB '['
	DB	'%s][%s] SeedSphere Composite Mix Failed.', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@GFFNMAOC@SeedSphereComposite?$AA@
CONST	SEGMENT
??_C@_0BE@GFFNMAOC@SeedSphereComposite?$AA@ DB 'SeedSphereComposite', 00H ; `string'
CONST	ENDS
xdata$x	SEGMENT
__unwindtable$?SocketSeedSphereComposite@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?SocketSeedSphereComposite@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z$0
__ehfuncinfo$?SocketSeedSphereComposite@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?SocketSeedSphereComposite@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
; Function compile flags: /Odtp /ZI
xdata$x	ENDS
_TEXT	SEGMENT
_SeedSphere$237588 = -104				; size = 16
_SphereLevel$237587 = -86				; size = 1
_OptionIndex$237586 = -85				; size = 1
_n$237557 = -84						; size = 4
_pMsg$ = -80						; size = 16
_pSeed$ = -64						; size = 4
_pSeedSphere$ = -60					; size = 4
_iSeedSphereCompositeRate$ = -56			; size = 4
_iChaosMoney$ = -52					; size = 4
_iMixMoney$ = -48					; size = 4
_iChaosTaxMoney$ = -44					; size = 4
_iCreationGemCount$ = -40				; size = 4
_iChoasGemCount$ = -36					; size = 4
_iInvalidItemCount$ = -32				; size = 4
_iSeedItemCount$ = -28					; size = 4
_iSeedSphereItemCount$ = -24				; size = 4
_this$ = -20						; size = 4
__$ArrayPad$ = -16					; size = 4
__$EHRec$ = -12						; size = 12
_lpObj$ = 8						; size = 4
?SocketSeedSphereComposite@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::SocketSeedSphereComposite
; _this$ = ecx

; 5461 : {

  0be60	55		 push	 ebp
  0be61	8b ec		 mov	 ebp, esp
  0be63	6a ff		 push	 -1
  0be65	68 00 00 00 00	 push	 __ehhandler$?SocketSeedSphereComposite@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z
  0be6a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  0be70	50		 push	 eax
  0be71	81 ec 9c 00 00
	00		 sub	 esp, 156		; 0000009cH
  0be77	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0be7c	33 c5		 xor	 eax, ebp
  0be7e	89 45 f0	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0be81	53		 push	 ebx
  0be82	56		 push	 esi
  0be83	57		 push	 edi
  0be84	50		 push	 eax
  0be85	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  0be88	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0be8e	89 4d ec	 mov	 DWORD PTR _this$[ebp], ecx

; 5462 : 	int iSeedSphereItemCount = 0; //2

  0be91	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iSeedSphereItemCount$[ebp], 0

; 5463 : 	int iSeedItemCount = 0; //3

  0be98	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _iSeedItemCount$[ebp], 0

; 5464 : 	int iInvalidItemCount = 0; //4

  0be9f	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 5465 : 	int iChoasGemCount = 0; //5

  0bea6	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _iChoasGemCount$[ebp], 0

; 5466 : 	int iCreationGemCount = 0; //6

  0bead	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _iCreationGemCount$[ebp], 0

; 5467 : 	int iChaosTaxMoney = 0; //7

  0beb4	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0

; 5468 : 	int iMixMoney = 0; //8

  0bebb	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _iMixMoney$[ebp], 0

; 5469 : 	DWORD iChaosMoney = 0; //9

  0bec2	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _iChaosMoney$[ebp], 0

; 5470 : 	int iSeedSphereCompositeRate = 0; //10

  0bec9	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _iSeedSphereCompositeRate$[ebp], 0

; 5471 : 	CItem * pSeedSphere = NULL; //11

  0bed0	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _pSeedSphere$[ebp], 0

; 5472 : 	CItem * pSeed = NULL; //12

  0bed7	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _pSeed$[ebp], 0

; 5473 : 
; 5474 : 	PMSG_CHAOSMIXRESULT pMsg;
; 5475 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0bede	6a 10		 push	 16			; 00000010H
  0bee0	68 86 00 00 00	 push	 134			; 00000086H
  0bee5	8d 45 b0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0bee8	50		 push	 eax
  0bee9	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0beee	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5476 : 	pMsg.Result = CB_ERROR;

  0bef1	c6 45 b3 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 5477 : 	lpObj->ChaosLock = TRUE;

  0bef5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bef8	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 5478 : 
; 5479 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++) //loc21

  0bf02	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR _n$237557[ebp], 0
  0bf09	eb 09		 jmp	 SHORT $LN20@SocketSeed@2
$LN19@SocketSeed@2:
  0bf0b	8b 45 ac	 mov	 eax, DWORD PTR _n$237557[ebp]
  0bf0e	83 c0 01	 add	 eax, 1
  0bf11	89 45 ac	 mov	 DWORD PTR _n$237557[ebp], eax
$LN20@SocketSeed@2:
  0bf14	83 7d ac 20	 cmp	 DWORD PTR _n$237557[ebp], 32 ; 00000020H
  0bf18	0f 8d 4f 01 00
	00		 jge	 $LN18@SocketSeed@2

; 5480 : 	{
; 5481 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  0bf1e	8b 4d ac	 mov	 ecx, DWORD PTR _n$237557[ebp]
  0bf21	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0bf27	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0bf2a	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0bf30	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0bf35	83 f8 01	 cmp	 eax, 1
  0bf38	0f 85 2a 01 00
	00		 jne	 $LN17@SocketSeed@2

; 5482 : 		{
; 5483 : 			if( g_SocketOption.IsSeedSphereItem(lpObj->pChaosBox[n].m_Type) == 1)

  0bf3e	8b 45 ac	 mov	 eax, DWORD PTR _n$237557[ebp]
  0bf41	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0bf47	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bf4a	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0bf50	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0bf55	50		 push	 eax
  0bf56	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0bf5b	e8 00 00 00 00	 call	 ?IsSeedSphereItem@CSocketOption@@QAEEH@Z ; CSocketOption::IsSeedSphereItem
  0bf60	0f b6 c8	 movzx	 ecx, al
  0bf63	83 f9 01	 cmp	 ecx, 1
  0bf66	75 3f		 jne	 SHORT $LN16@SocketSeed@2

; 5484 : 			{
; 5485 : 				iSeedSphereItemCount++;

  0bf68	8b 45 e8	 mov	 eax, DWORD PTR _iSeedSphereItemCount$[ebp]
  0bf6b	83 c0 01	 add	 eax, 1
  0bf6e	89 45 e8	 mov	 DWORD PTR _iSeedSphereItemCount$[ebp], eax

; 5486 : 				iChaosMoney += lpObj->pChaosBox[n].m_BuyMoney;

  0bf71	8b 45 ac	 mov	 eax, DWORD PTR _n$237557[ebp]
  0bf74	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0bf7a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bf7d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0bf83	8b 4d cc	 mov	 ecx, DWORD PTR _iChaosMoney$[ebp]
  0bf86	03 4c 02 70	 add	 ecx, DWORD PTR [edx+eax+112]
  0bf8a	89 4d cc	 mov	 DWORD PTR _iChaosMoney$[ebp], ecx

; 5487 : 				pSeedSphere = &lpObj->pChaosBox[n];

  0bf8d	8b 45 ac	 mov	 eax, DWORD PTR _n$237557[ebp]
  0bf90	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0bf96	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bf99	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0bf9f	89 45 c4	 mov	 DWORD PTR _pSeedSphere$[ebp], eax
  0bfa2	e9 c1 00 00 00	 jmp	 $LN17@SocketSeed@2
$LN16@SocketSeed@2:

; 5488 : 			}
; 5489 : 			else if( g_SocketOption.IsSeedItem(lpObj->pChaosBox[n].m_Type) == 1)

  0bfa7	8b 45 ac	 mov	 eax, DWORD PTR _n$237557[ebp]
  0bfaa	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0bfb0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bfb3	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0bfb9	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0bfbe	50		 push	 eax
  0bfbf	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0bfc4	e8 00 00 00 00	 call	 ?IsSeedItem@CSocketOption@@QAEEH@Z ; CSocketOption::IsSeedItem
  0bfc9	0f b6 c8	 movzx	 ecx, al
  0bfcc	83 f9 01	 cmp	 ecx, 1
  0bfcf	75 3c		 jne	 SHORT $LN14@SocketSeed@2

; 5490 : 			{
; 5491 : 				iSeedItemCount++;

  0bfd1	8b 45 e4	 mov	 eax, DWORD PTR _iSeedItemCount$[ebp]
  0bfd4	83 c0 01	 add	 eax, 1
  0bfd7	89 45 e4	 mov	 DWORD PTR _iSeedItemCount$[ebp], eax

; 5492 : 				iChaosMoney += lpObj->pChaosBox[n].m_BuyMoney;

  0bfda	8b 45 ac	 mov	 eax, DWORD PTR _n$237557[ebp]
  0bfdd	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0bfe3	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0bfe6	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0bfec	8b 4d cc	 mov	 ecx, DWORD PTR _iChaosMoney$[ebp]
  0bfef	03 4c 02 70	 add	 ecx, DWORD PTR [edx+eax+112]
  0bff3	89 4d cc	 mov	 DWORD PTR _iChaosMoney$[ebp], ecx

; 5493 : 				pSeed = &lpObj->pChaosBox[n];

  0bff6	8b 45 ac	 mov	 eax, DWORD PTR _n$237557[ebp]
  0bff9	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0bfff	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c002	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0c008	89 45 c0	 mov	 DWORD PTR _pSeed$[ebp], eax
  0c00b	eb 5b		 jmp	 SHORT $LN17@SocketSeed@2
$LN14@SocketSeed@2:

; 5494 : 			}
; 5495 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) )

  0c00d	8b 45 ac	 mov	 eax, DWORD PTR _n$237557[ebp]
  0c010	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0c016	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c019	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0c01f	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0c024	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  0c029	75 0b		 jne	 SHORT $LN12@SocketSeed@2

; 5496 : 			{
; 5497 : 				iChoasGemCount++;

  0c02b	8b 45 dc	 mov	 eax, DWORD PTR _iChoasGemCount$[ebp]
  0c02e	83 c0 01	 add	 eax, 1
  0c031	89 45 dc	 mov	 DWORD PTR _iChoasGemCount$[ebp], eax
  0c034	eb 32		 jmp	 SHORT $LN17@SocketSeed@2
$LN12@SocketSeed@2:

; 5498 : 			}
; 5499 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,22) )

  0c036	8b 45 ac	 mov	 eax, DWORD PTR _n$237557[ebp]
  0c039	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0c03f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c042	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0c048	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0c04d	3d 16 1c 00 00	 cmp	 eax, 7190		; 00001c16H
  0c052	75 0b		 jne	 SHORT $LN10@SocketSeed@2

; 5500 : 			{
; 5501 : 				iCreationGemCount++;

  0c054	8b 45 d8	 mov	 eax, DWORD PTR _iCreationGemCount$[ebp]
  0c057	83 c0 01	 add	 eax, 1
  0c05a	89 45 d8	 mov	 DWORD PTR _iCreationGemCount$[ebp], eax

; 5502 : 			}
; 5503 : 			else

  0c05d	eb 09		 jmp	 SHORT $LN17@SocketSeed@2
$LN10@SocketSeed@2:

; 5504 : 			{
; 5505 : 				iInvalidItemCount++;

  0c05f	8b 45 e0	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  0c062	83 c0 01	 add	 eax, 1
  0c065	89 45 e0	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN17@SocketSeed@2:

; 5506 : 			}
; 5507 : 		}
; 5508 : 	}

  0c068	e9 9e fe ff ff	 jmp	 $LN19@SocketSeed@2
$LN18@SocketSeed@2:

; 5509 : 
; 5510 : 	if ( iInvalidItemCount > 0 )

  0c06d	83 7d e0 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  0c071	7e 2d		 jle	 SHORT $LN8@SocketSeed@2

; 5511 : 	{
; 5512 : 		pMsg.Result = 7;

  0c073	c6 45 b3 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 5513 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0c077	0f b6 45 b1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0c07b	50		 push	 eax
  0c07c	8d 4d b0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0c07f	51		 push	 ecx
  0c080	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c083	8b 02		 mov	 eax, DWORD PTR [edx]
  0c085	50		 push	 eax
  0c086	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0c08b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5514 : 		lpObj->ChaosLock = FALSE;

  0c08e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c091	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5515 : 		return;

  0c09b	e9 e3 02 00 00	 jmp	 $LN21@SocketSeed@2
$LN8@SocketSeed@2:

; 5516 : 	}
; 5517 : 
; 5518 : 	if(iSeedSphereItemCount != 1 && iSeedItemCount != 1 && iChoasGemCount != 1 && iCreationGemCount != 1)

  0c0a0	83 7d e8 01	 cmp	 DWORD PTR _iSeedSphereItemCount$[ebp], 1
  0c0a4	74 3f		 je	 SHORT $LN7@SocketSeed@2
  0c0a6	83 7d e4 01	 cmp	 DWORD PTR _iSeedItemCount$[ebp], 1
  0c0aa	74 39		 je	 SHORT $LN7@SocketSeed@2
  0c0ac	83 7d dc 01	 cmp	 DWORD PTR _iChoasGemCount$[ebp], 1
  0c0b0	74 33		 je	 SHORT $LN7@SocketSeed@2
  0c0b2	83 7d d8 01	 cmp	 DWORD PTR _iCreationGemCount$[ebp], 1
  0c0b6	74 2d		 je	 SHORT $LN7@SocketSeed@2

; 5519 : 	{
; 5520 : 		pMsg.Result = 7;

  0c0b8	c6 45 b3 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 5521 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0c0bc	0f b6 45 b1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0c0c0	50		 push	 eax
  0c0c1	8d 4d b0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0c0c4	51		 push	 ecx
  0c0c5	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c0c8	8b 02		 mov	 eax, DWORD PTR [edx]
  0c0ca	50		 push	 eax
  0c0cb	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0c0d0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5522 : 		lpObj->ChaosLock = FALSE;

  0c0d3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c0d6	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5523 : 		return;

  0c0e0	e9 9e 02 00 00	 jmp	 $LN21@SocketSeed@2
$LN7@SocketSeed@2:

; 5524 : 	}
; 5525 : 
; 5526 : 	iChaosTaxMoney = (int)((__int64)g_iSeedSphereCompositeMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  0c0e5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_iSeedSphereCompositeMoney@@3HA ; g_iSeedSphereCompositeMoney
  0c0ea	99		 cdq
  0c0eb	8b f0		 mov	 esi, eax
  0c0ed	8b fa		 mov	 edi, edx
  0c0ef	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c0f2	8b 08		 mov	 ecx, DWORD PTR [eax]
  0c0f4	51		 push	 ecx
  0c0f5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0c0fa	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  0c0ff	99		 cdq
  0c100	52		 push	 edx
  0c101	50		 push	 eax
  0c102	57		 push	 edi
  0c103	56		 push	 esi
  0c104	e8 00 00 00 00	 call	 __allmul
  0c109	6a 00		 push	 0
  0c10b	6a 64		 push	 100			; 00000064H
  0c10d	52		 push	 edx
  0c10e	50		 push	 eax
  0c10f	e8 00 00 00 00	 call	 __alldiv
  0c114	89 45 d4	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 5527 : 
; 5528 : 	if ( iChaosTaxMoney < 0 )

  0c117	83 7d d4 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  0c11b	7d 07		 jge	 SHORT $LN6@SocketSeed@2

; 5529 : 	{
; 5530 : 		iChaosTaxMoney = 0;

  0c11d	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN6@SocketSeed@2:

; 5531 : 	}
; 5532 : 
; 5533 : 	iMixMoney = g_iSeedSphereCompositeMoney + iChaosTaxMoney;

  0c124	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_iSeedSphereCompositeMoney@@3HA ; g_iSeedSphereCompositeMoney
  0c129	03 45 d4	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0c12c	89 45 d0	 mov	 DWORD PTR _iMixMoney$[ebp], eax

; 5534 : 
; 5535 : 	if ( lpObj->Money < iMixMoney )

  0c12f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c132	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0c138	3b 4d d0	 cmp	 ecx, DWORD PTR _iMixMoney$[ebp]
  0c13b	7d 2d		 jge	 SHORT $LN5@SocketSeed@2

; 5536 : 	{
; 5537 : 		pMsg.Result = 2;

  0c13d	c6 45 b3 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 5538 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0c141	0f b6 45 b1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0c145	50		 push	 eax
  0c146	8d 4d b0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0c149	51		 push	 ecx
  0c14a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c14d	8b 02		 mov	 eax, DWORD PTR [edx]
  0c14f	50		 push	 eax
  0c150	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0c155	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5539 : 		lpObj->ChaosLock = FALSE;

  0c158	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c15b	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5540 : 		return;

  0c165	e9 19 02 00 00	 jmp	 $LN21@SocketSeed@2
$LN5@SocketSeed@2:

; 5541 : 	}
; 5542 : 
; 5543 : 	LogChaosItem(lpObj, "SeedSphereComposite");

  0c16a	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@GFFNMAOC@SeedSphereComposite?$AA@
  0c16f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c172	50		 push	 eax
  0c173	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0c176	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 5544 : 	iSeedSphereCompositeRate = 80 + (iChaosMoney / 200000);

  0c17b	8b 45 cc	 mov	 eax, DWORD PTR _iChaosMoney$[ebp]
  0c17e	33 d2		 xor	 edx, edx
  0c180	b9 40 0d 03 00	 mov	 ecx, 200000		; 00030d40H
  0c185	f7 f1		 div	 ecx
  0c187	83 c0 50	 add	 eax, 80			; 00000050H
  0c18a	89 45 c8	 mov	 DWORD PTR _iSeedSphereCompositeRate$[ebp], eax

; 5545 : 
; 5546 : 	if( iSeedSphereCompositeRate > 90 )

  0c18d	83 7d c8 5a	 cmp	 DWORD PTR _iSeedSphereCompositeRate$[ebp], 90 ; 0000005aH
  0c191	7e 07		 jle	 SHORT $LN4@SocketSeed@2

; 5547 : 	{
; 5548 : 		iSeedSphereCompositeRate = 90;

  0c193	c7 45 c8 5a 00
	00 00		 mov	 DWORD PTR _iSeedSphereCompositeRate$[ebp], 90 ; 0000005aH
$LN4@SocketSeed@2:

; 5549 : 	}
; 5550 : 
; 5551 : 	lpObj->Money -= iMixMoney;

  0c19a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c19d	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0c1a3	2b 4d d0	 sub	 ecx, DWORD PTR _iMixMoney$[ebp]
  0c1a6	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c1a9	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 5552 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  0c1af	8b 45 d4	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0c1b2	50		 push	 eax
  0c1b3	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0c1b8	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 5553 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  0c1bd	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c1c0	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0c1c6	51		 push	 ecx
  0c1c7	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c1ca	8b 02		 mov	 eax, DWORD PTR [edx]
  0c1cc	50		 push	 eax
  0c1cd	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  0c1d2	83 c4 08	 add	 esp, 8

; 5554 : 
; 5555 : 	if(rand()%100 > iSeedSphereCompositeRate) //fail rate

  0c1d5	e8 00 00 00 00	 call	 _rand
  0c1da	99		 cdq
  0c1db	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0c1e0	f7 f9		 idiv	 ecx
  0c1e2	3b 55 c8	 cmp	 edx, DWORD PTR _iSeedSphereCompositeRate$[ebp]
  0c1e5	7e 4b		 jle	 SHORT $LN3@SocketSeed@2

; 5556 : 	{
; 5557 : 		this->ChaosBoxInit(lpObj);

  0c1e7	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c1ea	50		 push	 eax
  0c1eb	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0c1ee	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 5558 : 		GCUserChaosBoxSend(lpObj, 0);

  0c1f3	6a 00		 push	 0
  0c1f5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c1f8	50		 push	 eax
  0c1f9	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0c1fe	83 c4 08	 add	 esp, 8

; 5559 : 		LogAddTD("[%s][%s] SeedSphere Composite Mix Failed.", lpObj->AccountID, lpObj->Name);

  0c201	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c204	83 c0 77	 add	 eax, 119		; 00000077H
  0c207	50		 push	 eax
  0c208	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c20b	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0c20e	51		 push	 ecx
  0c20f	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@CENILOLB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Composite?5Mi@
  0c214	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0c21a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5560 : #if(SYSTEM_ACHIEVEMENTS)
; 5561 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  0c21d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c220	8b 08		 mov	 ecx, DWORD PTR [eax]
  0c222	51		 push	 ecx
  0c223	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0c228	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix

; 5562 : #endif
; 5563 : 	}
; 5564 : 	else

  0c22d	e9 44 01 00 00	 jmp	 $LN2@SocketSeed@2
$LN3@SocketSeed@2:

; 5565 : 	{
; 5566 : 		BYTE OptionIndex = 0; //54

  0c232	c6 45 ab 00	 mov	 BYTE PTR _OptionIndex$237586[ebp], 0

; 5567 : 		BYTE SphereLevel = 0; //58

  0c236	c6 45 aa 00	 mov	 BYTE PTR _SphereLevel$237587[ebp], 0

; 5568 : 		CSeedSphere SeedSphere;

  0c23a	8d 4d 98	 lea	 ecx, DWORD PTR _SeedSphere$237588[ebp]
  0c23d	e8 00 00 00 00	 call	 ??0CSeedSphere@@QAE@XZ	; CSeedSphere::CSeedSphere
  0c242	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0

; 5569 : 
; 5570 : 		OptionIndex = g_SocketOption.GetSeedOptionIndex(pSeedSphere->m_Type, pSeedSphere->m_Level);

  0c249	8b 45 c4	 mov	 eax, DWORD PTR _pSeedSphere$[ebp]
  0c24c	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  0c250	51		 push	 ecx
  0c251	8b 55 c4	 mov	 edx, DWORD PTR _pSeedSphere$[ebp]
  0c254	0f bf 42 06	 movsx	 eax, WORD PTR [edx+6]
  0c258	50		 push	 eax
  0c259	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0c25e	e8 00 00 00 00	 call	 ?GetSeedOptionIndex@CSocketOption@@QAEEHE@Z ; CSocketOption::GetSeedOptionIndex
  0c263	88 45 ab	 mov	 BYTE PTR _OptionIndex$237586[ebp], al

; 5571 : 		SphereLevel = g_SocketOption.GetSphereLevel(pSeed->m_Type);

  0c266	8b 45 c0	 mov	 eax, DWORD PTR _pSeed$[ebp]
  0c269	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  0c26d	51		 push	 ecx
  0c26e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0c273	e8 00 00 00 00	 call	 ?GetSphereLevel@CSocketOption@@QAEEH@Z ; CSocketOption::GetSphereLevel
  0c278	88 45 aa	 mov	 BYTE PTR _SphereLevel$237587[ebp], al

; 5572 : 
; 5573 : 		g_SocketOption.SetSeedSphereData(&SeedSphere, OptionIndex, SphereLevel);

  0c27b	0f b6 45 aa	 movzx	 eax, BYTE PTR _SphereLevel$237587[ebp]
  0c27f	50		 push	 eax
  0c280	0f b6 4d ab	 movzx	 ecx, BYTE PTR _OptionIndex$237586[ebp]
  0c284	51		 push	 ecx
  0c285	8d 55 98	 lea	 edx, DWORD PTR _SeedSphere$237588[ebp]
  0c288	52		 push	 edx
  0c289	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0c28e	e8 00 00 00 00	 call	 ?SetSeedSphereData@CSocketOption@@QAEEPAVCSeedSphere@@EE@Z ; CSocketOption::SetSeedSphereData

; 5574 : 		
; 5575 : 		if(SeedSphere.m_iItemIndex != 0)

  0c293	83 7d 9c 00	 cmp	 DWORD PTR _SeedSphere$237588[ebp+4], 0
  0c297	0f 84 84 00 00
	00		 je	 $LN1@SocketSeed@2

; 5576 : 		{
; 5577 : 			pMsg.Result = 1;

  0c29d	c6 45 b3 01	 mov	 BYTE PTR _pMsg$[ebp+3], 1

; 5578 : 			ItemSerialCreateSend(lpObj->m_Index, 0xFF, 0, 0, SeedSphere.m_iItemIndex, (BYTE)SeedSphere.m_btItemLevel, 1, 0, 0, 0, lpObj->m_Index, 0, 0);

  0c2a1	6a 00		 push	 0
  0c2a3	6a 00		 push	 0
  0c2a5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c2a8	8b 08		 mov	 ecx, DWORD PTR [eax]
  0c2aa	51		 push	 ecx
  0c2ab	6a 00		 push	 0
  0c2ad	6a 00		 push	 0
  0c2af	6a 00		 push	 0
  0c2b1	6a 01		 push	 1
  0c2b3	0f b6 55 a0	 movzx	 edx, BYTE PTR _SeedSphere$237588[ebp+8]
  0c2b7	52		 push	 edx
  0c2b8	8b 45 9c	 mov	 eax, DWORD PTR _SeedSphere$237588[ebp+4]
  0c2bb	50		 push	 eax
  0c2bc	6a 00		 push	 0
  0c2be	6a 00		 push	 0
  0c2c0	68 ff 00 00 00	 push	 255			; 000000ffH
  0c2c5	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c2c8	8b 11		 mov	 edx, DWORD PTR [ecx]
  0c2ca	52		 push	 edx
  0c2cb	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0c2d0	83 c4 34	 add	 esp, 52			; 00000034H

; 5579 : 			gObjInventoryCommit(lpObj->m_Index);

  0c2d3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c2d6	8b 08		 mov	 ecx, DWORD PTR [eax]
  0c2d8	51		 push	 ecx
  0c2d9	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0c2de	83 c4 04	 add	 esp, 4

; 5580 : 			LogAddTD("[%s][%s] SeedSphere Composite Mix Success - SeedSphere Info ( Index : %d, Type : %d, Level : %d, ItemCode : %d )",
; 5581 : 			lpObj->AccountID, lpObj->Name, SeedSphere.m_btItemByteOption, SeedSphere.m_btElementIndex, SeedSphere.m_btSocketSlotCount, SeedSphere.m_iItemIndex);

  0c2e1	8b 45 9c	 mov	 eax, DWORD PTR _SeedSphere$237588[ebp+4]
  0c2e4	50		 push	 eax
  0c2e5	0f b6 4d a4	 movzx	 ecx, BYTE PTR _SeedSphere$237588[ebp+12]
  0c2e9	51		 push	 ecx
  0c2ea	0f b6 55 9a	 movzx	 edx, BYTE PTR _SeedSphere$237588[ebp+2]
  0c2ee	52		 push	 edx
  0c2ef	0f b6 45 98	 movzx	 eax, BYTE PTR _SeedSphere$237588[ebp]
  0c2f3	50		 push	 eax
  0c2f4	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c2f7	83 c1 77	 add	 ecx, 119		; 00000077H
  0c2fa	51		 push	 ecx
  0c2fb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c2fe	83 c2 6c	 add	 edx, 108		; 0000006cH
  0c301	52		 push	 edx
  0c302	68 00 00 00 00	 push	 OFFSET ??_C@_0HB@BGNJLNEH@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Composite?5Mi@
  0c307	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0c30d	83 c4 1c	 add	 esp, 28			; 0000001cH

; 5582 : 
; 5583 : 
; 5584 : 			return;

  0c310	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
  0c317	8d 4d 98	 lea	 ecx, DWORD PTR _SeedSphere$237588[ebp]
  0c31a	e8 00 00 00 00	 call	 ??1CSeedSphere@@QAE@XZ	; CSeedSphere::~CSeedSphere
  0c31f	eb 62		 jmp	 SHORT $LN21@SocketSeed@2
$LN1@SocketSeed@2:

; 5585 : 		}
; 5586 : 
; 5587 : 		this->ChaosBoxInit(lpObj);

  0c321	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c324	50		 push	 eax
  0c325	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0c328	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 5588 : 		GCUserChaosBoxSend(lpObj, 0);

  0c32d	6a 00		 push	 0
  0c32f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c332	50		 push	 eax
  0c333	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0c338	83 c4 08	 add	 esp, 8

; 5589 : 		LogAddTD("[%s][%s] SeedSphere Composite Mix Failed - SeedSphere Data is NULL", lpObj->AccountID, lpObj->Name);

  0c33b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c33e	83 c0 77	 add	 eax, 119		; 00000077H
  0c341	50		 push	 eax
  0c342	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c345	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0c348	51		 push	 ecx
  0c349	68 00 00 00 00	 push	 OFFSET ??_C@_0ED@CPANCMOB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Composite?5Mi@
  0c34e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0c354	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5590 : 
; 5591 : #if(SYSTEM_ACHIEVEMENTS)
; 5592 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  0c357	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c35a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0c35c	51		 push	 ecx
  0c35d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0c362	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 5593 : #endif
; 5594 : 	}

  0c367	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
  0c36e	8d 4d 98	 lea	 ecx, DWORD PTR _SeedSphere$237588[ebp]
  0c371	e8 00 00 00 00	 call	 ??1CSeedSphere@@QAE@XZ	; CSeedSphere::~CSeedSphere
$LN2@SocketSeed@2:

; 5595 : 	lpObj->ChaosLock = FALSE;

  0c376	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c379	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN21@SocketSeed@2:

; 5596 : }

  0c383	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  0c386	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  0c38d	59		 pop	 ecx
  0c38e	5f		 pop	 edi
  0c38f	5e		 pop	 esi
  0c390	5b		 pop	 ebx
  0c391	8b 4d f0	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0c394	33 cd		 xor	 ecx, ebp
  0c396	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0c39b	8b e5		 mov	 esp, ebp
  0c39d	5d		 pop	 ebp
  0c39e	c2 04 00	 ret	 4
_TEXT	ENDS
text$x	SEGMENT
__unwindfunclet$?SocketSeedSphereComposite@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z$0:
  00026	8d 4d 98	 lea	 ecx, DWORD PTR _SeedSphere$237588[ebp]
  00029	e9 00 00 00 00	 jmp	 ??1CSeedSphere@@QAE@XZ	; CSeedSphere::~CSeedSphere
__ehhandler$?SocketSeedSphereComposite@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z:
  0002e	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00032	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00035	8b 8a 54 ff ff
	ff		 mov	 ecx, DWORD PTR [edx-172]
  0003b	33 c8		 xor	 ecx, eax
  0003d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00042	8b 4a fc	 mov	 ecx, DWORD PTR [edx-4]
  00045	33 c8		 xor	 ecx, eax
  00047	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0004c	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?SocketSeedSphereComposite@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z
  00051	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?SocketSeedSphereComposite@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::SocketSeedSphereComposite
PUBLIC	??_C@_0II@KCLKEHBN@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Set?5SeedSphere?5Mix?5Succ@ ; `string'
PUBLIC	??_C@_0DO@KKBOJPIF@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Set?5Seed?5Mix?5Failed?5?9?5W@ ; `string'
PUBLIC	??_C@_0DC@BKFDMAJM@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Set?5Seed?5Mix?5Failed?5?9?5S@ ; `string'
PUBLIC	??_C@_0O@CGCDEDIJ@SetSeedSphere?$AA@		; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?SocketSetSeedSphere@CMixSystem@@QAEXPAUOBJECTSTRUCT@@E@Z ; CMixSystem::SocketSetSeedSphere
EXTRN	?MakeManualOption@CSocketOption@@QAEEPAVCItem@@EE@Z:PROC ; CSocketOption::MakeManualOption
EXTRN	?CheckItemElementInfo@CSocketOption@@QAEEPAVCItem@@E@Z:PROC ; CSocketOption::CheckItemElementInfo
EXTRN	?GetItemSocketByteOption@CSocketOption@@QAEEGE@Z:PROC ; CSocketOption::GetItemSocketByteOption
EXTRN	?g_iSeedSphereSetMoney@@3HA:DWORD		; g_iSeedSphereSetMoney
EXTRN	?CheckEmptySlot@CSocketOption@@QAEEPAVCItem@@GE@Z:PROC ; CSocketOption::CheckEmptySlot
EXTRN	?IsSeedSpearItem@CSocketOption@@QAEEH@Z:PROC	; CSocketOption::IsSeedSpearItem
EXTRN	?CheckItemType@CSocketOption@@QAEEH@Z:PROC	; CSocketOption::CheckItemType
;	COMDAT ??_C@_0II@KCLKEHBN@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Set?5SeedSphere?5Mix?5Succ@
CONST	SEGMENT
??_C@_0II@KCLKEHBN@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Set?5SeedSphere?5Mix?5Succ@ DB '['
	DB	'%s][%s] Set SeedSphere Mix Success - ItemInfo ( Name : %s, It'
	DB	'emCode : %d, Level : %d, SocketOption[%d,%d,%d,%d,%d], BonusO'
	DB	'ption : %d )', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0DO@KKBOJPIF@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Set?5Seed?5Mix?5Failed?5?9?5W@
CONST	SEGMENT
??_C@_0DO@KKBOJPIF@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Set?5Seed?5Mix?5Failed?5?9?5W@ DB '['
	DB	'%s][%s] Set Seed Mix Failed - Wrong Item Type for Set Socket', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DC@BKFDMAJM@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Set?5Seed?5Mix?5Failed?5?9?5S@
CONST	SEGMENT
??_C@_0DC@BKFDMAJM@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Set?5Seed?5Mix?5Failed?5?9?5S@ DB '['
	DB	'%s][%s] Set Seed Mix Failed - SeedSphere is NULL', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@CGCDEDIJ@SetSeedSphere?$AA@
CONST	SEGMENT
??_C@_0O@CGCDEDIJ@SetSeedSphere?$AA@ DB 'SetSeedSphere', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv532 = -352						; size = 4
_Dur$ = -284						; size = 4
_SocketByteOption$ = -277				; size = 1
_n$237613 = -276					; size = 4
_pMsg$ = -272						; size = 16
_iMixMoney$ = -256					; size = 4
_iChaosTaxMoney$ = -252					; size = 4
_Item$ = -248						; size = 212
_pSeedSpearItem$ = -36					; size = 4
_pSocketItem$ = -32					; size = 4
_iCreationGemCount$ = -28				; size = 4
_iChoasGemCount$ = -24					; size = 4
_iSeedSpearItemCount$ = -20				; size = 4
_iInvalidItemCount$ = -16				; size = 4
_iSocketItemCount$ = -12				; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_SocketSlot$ = 12					; size = 1
?SocketSetSeedSphere@CMixSystem@@QAEXPAUOBJECTSTRUCT@@E@Z PROC ; CMixSystem::SocketSetSeedSphere
; _this$ = ecx

; 5599 : {

  0c3b0	55		 push	 ebp
  0c3b1	8b ec		 mov	 ebp, esp
  0c3b3	81 ec 60 01 00
	00		 sub	 esp, 352		; 00000160H
  0c3b9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0c3be	33 c5		 xor	 eax, ebp
  0c3c0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0c3c3	53		 push	 ebx
  0c3c4	56		 push	 esi
  0c3c5	57		 push	 edi
  0c3c6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 5600 : 	int iSocketItemCount = 0; //2

  0c3c9	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iSocketItemCount$[ebp], 0

; 5601 : 	int iInvalidItemCount = 0; //3

  0c3d0	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 5602 : 	int iSeedSpearItemCount = 0; //4

  0c3d7	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iSeedSpearItemCount$[ebp], 0

; 5603 : 	int iChoasGemCount = 0; //5

  0c3de	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iChoasGemCount$[ebp], 0

; 5604 : 	int iCreationGemCount = 0; //6

  0c3e5	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _iCreationGemCount$[ebp], 0

; 5605 : 	CItem * pSocketItem = NULL; //7

  0c3ec	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _pSocketItem$[ebp], 0

; 5606 : 	CItem * pSeedSpearItem = NULL; //8

  0c3f3	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _pSeedSpearItem$[ebp], 0

; 5607 : 	CItem Item;

  0c3fa	8d 8d 08 ff ff
	ff		 lea	 ecx, DWORD PTR _Item$[ebp]
  0c400	e8 00 00 00 00	 call	 ??0CItem@@QAE@XZ	; CItem::CItem

; 5608 : 	int iChaosTaxMoney = 0;

  0c405	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0

; 5609 : 	int iMixMoney = 0;

  0c40f	c7 85 00 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _iMixMoney$[ebp], 0

; 5610 : 
; 5611 : 	PMSG_CHAOSMIXRESULT pMsg;
; 5612 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0c419	6a 10		 push	 16			; 00000010H
  0c41b	68 86 00 00 00	 push	 134			; 00000086H
  0c420	8d 85 f0 fe ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  0c426	50		 push	 eax
  0c427	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0c42c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5613 : 	pMsg.Result = CB_ERROR;

  0c42f	c6 85 f3 fe ff
	ff 00		 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 5614 : 
; 5615 : 	if(SocketSlot >= 5)

  0c436	0f b6 45 0c	 movzx	 eax, BYTE PTR _SocketSlot$[ebp]
  0c43a	83 f8 05	 cmp	 eax, 5
  0c43d	7c 36		 jl	 SHORT $LN21@SocketSetS

; 5616 : 	{
; 5617 : 		pMsg.Result = 7;

  0c43f	c6 85 f3 fe ff
	ff 07		 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 5618 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0c446	0f b6 85 f1 fe
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0c44d	50		 push	 eax
  0c44e	8d 8d f0 fe ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0c454	51		 push	 ecx
  0c455	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c458	8b 02		 mov	 eax, DWORD PTR [edx]
  0c45a	50		 push	 eax
  0c45b	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0c460	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5619 : 		lpObj->ChaosLock = FALSE;

  0c463	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c466	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5620 : 		return;

  0c470	e9 5d 06 00 00	 jmp	 $LN22@SocketSetS
$LN21@SocketSetS:

; 5621 : 	}
; 5622 : 
; 5623 : 	lpObj->ChaosLock = TRUE;

  0c475	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c478	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 5624 : 
; 5625 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++) //loc21

  0c482	c7 85 ec fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _n$237613[ebp], 0
  0c48c	eb 0f		 jmp	 SHORT $LN20@SocketSetS
$LN19@SocketSetS:
  0c48e	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _n$237613[ebp]
  0c494	83 c0 01	 add	 eax, 1
  0c497	89 85 ec fe ff
	ff		 mov	 DWORD PTR _n$237613[ebp], eax
$LN20@SocketSetS:
  0c49d	83 bd ec fe ff
	ff 20		 cmp	 DWORD PTR _n$237613[ebp], 32 ; 00000020H
  0c4a4	0f 8d 57 01 00
	00		 jge	 $LN18@SocketSetS

; 5626 : 	{
; 5627 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  0c4aa	8b 8d ec fe ff
	ff		 mov	 ecx, DWORD PTR _n$237613[ebp]
  0c4b0	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0c4b6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c4b9	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0c4bf	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0c4c4	83 f8 01	 cmp	 eax, 1
  0c4c7	0f 85 2f 01 00
	00		 jne	 $LN8@SocketSetS

; 5628 : 		{
; 5629 : 			if( g_SocketOption.CheckItemType(lpObj->pChaosBox[n].m_Type) == 1)

  0c4cd	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _n$237613[ebp]
  0c4d3	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0c4d9	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c4dc	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0c4e2	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0c4e7	50		 push	 eax
  0c4e8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0c4ed	e8 00 00 00 00	 call	 ?CheckItemType@CSocketOption@@QAEEH@Z ; CSocketOption::CheckItemType
  0c4f2	0f b6 c8	 movzx	 ecx, al
  0c4f5	83 f9 01	 cmp	 ecx, 1
  0c4f8	75 51		 jne	 SHORT $LN16@SocketSetS

; 5630 : 			{
; 5631 : 				if(lpObj->pChaosBox[n].m_SocketOption[SocketSlot] == 0xFE) //Slot with NO OPTION

  0c4fa	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _n$237613[ebp]
  0c500	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0c506	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c509	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0c50f	03 d0		 add	 edx, eax
  0c511	0f b6 45 0c	 movzx	 eax, BYTE PTR _SocketSlot$[ebp]
  0c515	0f b6 8c 02 cc
	00 00 00	 movzx	 ecx, BYTE PTR [edx+eax+204]
  0c51d	81 f9 fe 00 00
	00		 cmp	 ecx, 254		; 000000feH
  0c523	75 21		 jne	 SHORT $LN15@SocketSetS

; 5632 : 				{
; 5633 : 					iSocketItemCount++; //

  0c525	8b 45 f4	 mov	 eax, DWORD PTR _iSocketItemCount$[ebp]
  0c528	83 c0 01	 add	 eax, 1
  0c52b	89 45 f4	 mov	 DWORD PTR _iSocketItemCount$[ebp], eax

; 5634 : 					pSocketItem = &lpObj->pChaosBox[n];

  0c52e	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _n$237613[ebp]
  0c534	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0c53a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c53d	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0c543	89 45 e0	 mov	 DWORD PTR _pSocketItem$[ebp], eax
$LN15@SocketSetS:

; 5635 : 				}
; 5636 : 			}

  0c546	e9 b1 00 00 00	 jmp	 $LN8@SocketSetS
$LN16@SocketSetS:

; 5637 : 			else if( g_SocketOption.IsSeedSpearItem(lpObj->pChaosBox[n].m_Type) == 1)

  0c54b	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _n$237613[ebp]
  0c551	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0c557	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c55a	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0c560	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0c565	50		 push	 eax
  0c566	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0c56b	e8 00 00 00 00	 call	 ?IsSeedSpearItem@CSocketOption@@QAEEH@Z ; CSocketOption::IsSeedSpearItem
  0c570	0f b6 c8	 movzx	 ecx, al
  0c573	83 f9 01	 cmp	 ecx, 1
  0c576	75 23		 jne	 SHORT $LN13@SocketSetS

; 5638 : 			{
; 5639 : 				iSeedSpearItemCount++;

  0c578	8b 45 ec	 mov	 eax, DWORD PTR _iSeedSpearItemCount$[ebp]
  0c57b	83 c0 01	 add	 eax, 1
  0c57e	89 45 ec	 mov	 DWORD PTR _iSeedSpearItemCount$[ebp], eax

; 5640 : 				pSeedSpearItem = &lpObj->pChaosBox[n];

  0c581	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _n$237613[ebp]
  0c587	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0c58d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c590	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0c596	89 45 dc	 mov	 DWORD PTR _pSeedSpearItem$[ebp], eax
  0c599	eb 61		 jmp	 SHORT $LN8@SocketSetS
$LN13@SocketSetS:

; 5641 : 			}
; 5642 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,15) )

  0c59b	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _n$237613[ebp]
  0c5a1	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0c5a7	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c5aa	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0c5b0	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0c5b5	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  0c5ba	75 0b		 jne	 SHORT $LN11@SocketSetS

; 5643 : 			{
; 5644 : 				iChoasGemCount++;

  0c5bc	8b 45 e8	 mov	 eax, DWORD PTR _iChoasGemCount$[ebp]
  0c5bf	83 c0 01	 add	 eax, 1
  0c5c2	89 45 e8	 mov	 DWORD PTR _iChoasGemCount$[ebp], eax
  0c5c5	eb 35		 jmp	 SHORT $LN8@SocketSetS
$LN11@SocketSetS:

; 5645 : 			}
; 5646 : 			else if ( lpObj->pChaosBox[n].m_Type == ITEMGET(14,22) )

  0c5c7	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _n$237613[ebp]
  0c5cd	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0c5d3	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c5d6	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0c5dc	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0c5e1	3d 16 1c 00 00	 cmp	 eax, 7190		; 00001c16H
  0c5e6	75 0b		 jne	 SHORT $LN9@SocketSetS

; 5647 : 			{
; 5648 : 				iCreationGemCount++;

  0c5e8	8b 45 e4	 mov	 eax, DWORD PTR _iCreationGemCount$[ebp]
  0c5eb	83 c0 01	 add	 eax, 1
  0c5ee	89 45 e4	 mov	 DWORD PTR _iCreationGemCount$[ebp], eax

; 5649 : 			}
; 5650 : 			else

  0c5f1	eb 09		 jmp	 SHORT $LN8@SocketSetS
$LN9@SocketSetS:

; 5651 : 			{
; 5652 : 				iInvalidItemCount++;

  0c5f3	8b 45 f0	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  0c5f6	83 c0 01	 add	 eax, 1
  0c5f9	89 45 f0	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN8@SocketSetS:

; 5653 : 			}
; 5654 : 		}
; 5655 : 	}

  0c5fc	e9 8d fe ff ff	 jmp	 $LN19@SocketSetS
$LN18@SocketSetS:

; 5656 : 
; 5657 : 	if ( iInvalidItemCount > 0 )

  0c601	83 7d f0 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  0c605	7e 36		 jle	 SHORT $LN7@SocketSetS

; 5658 : 	{
; 5659 : 		pMsg.Result = 7;

  0c607	c6 85 f3 fe ff
	ff 07		 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 5660 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0c60e	0f b6 85 f1 fe
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0c615	50		 push	 eax
  0c616	8d 8d f0 fe ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0c61c	51		 push	 ecx
  0c61d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c620	8b 02		 mov	 eax, DWORD PTR [edx]
  0c622	50		 push	 eax
  0c623	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0c628	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5661 : 		lpObj->ChaosLock = FALSE;

  0c62b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c62e	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5662 : 		return;

  0c638	e9 95 04 00 00	 jmp	 $LN22@SocketSetS
$LN7@SocketSetS:

; 5663 : 	}
; 5664 : 
; 5665 : 	if(iSocketItemCount != 1 && iSeedSpearItemCount != 1 && iChoasGemCount != 1 && iCreationGemCount != 1)

  0c63d	83 7d f4 01	 cmp	 DWORD PTR _iSocketItemCount$[ebp], 1
  0c641	74 48		 je	 SHORT $LN6@SocketSetS
  0c643	83 7d ec 01	 cmp	 DWORD PTR _iSeedSpearItemCount$[ebp], 1
  0c647	74 42		 je	 SHORT $LN6@SocketSetS
  0c649	83 7d e8 01	 cmp	 DWORD PTR _iChoasGemCount$[ebp], 1
  0c64d	74 3c		 je	 SHORT $LN6@SocketSetS
  0c64f	83 7d e4 01	 cmp	 DWORD PTR _iCreationGemCount$[ebp], 1
  0c653	74 36		 je	 SHORT $LN6@SocketSetS

; 5666 : 	{
; 5667 : 		pMsg.Result = 7;

  0c655	c6 85 f3 fe ff
	ff 07		 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 5668 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0c65c	0f b6 85 f1 fe
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0c663	50		 push	 eax
  0c664	8d 8d f0 fe ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0c66a	51		 push	 ecx
  0c66b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c66e	8b 02		 mov	 eax, DWORD PTR [edx]
  0c670	50		 push	 eax
  0c671	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0c676	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5669 : 		lpObj->ChaosLock = FALSE;

  0c679	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c67c	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5670 : 		return;

  0c686	e9 47 04 00 00	 jmp	 $LN22@SocketSetS
$LN6@SocketSetS:

; 5671 : 	}
; 5672 : 
; 5673 : 	if( g_SocketOption.CheckEmptySlot(pSocketItem, pSeedSpearItem->m_Type, pSeedSpearItem->m_Level) == 0)

  0c68b	8b 45 dc	 mov	 eax, DWORD PTR _pSeedSpearItem$[ebp]
  0c68e	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  0c692	51		 push	 ecx
  0c693	8b 55 dc	 mov	 edx, DWORD PTR _pSeedSpearItem$[ebp]
  0c696	0f b7 42 06	 movzx	 eax, WORD PTR [edx+6]
  0c69a	50		 push	 eax
  0c69b	8b 4d e0	 mov	 ecx, DWORD PTR _pSocketItem$[ebp]
  0c69e	51		 push	 ecx
  0c69f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0c6a4	e8 00 00 00 00	 call	 ?CheckEmptySlot@CSocketOption@@QAEEPAVCItem@@GE@Z ; CSocketOption::CheckEmptySlot
  0c6a9	0f b6 d0	 movzx	 edx, al
  0c6ac	85 d2		 test	 edx, edx
  0c6ae	75 36		 jne	 SHORT $LN5@SocketSetS

; 5674 : 	{
; 5675 : 		pMsg.Result = 7;

  0c6b0	c6 85 f3 fe ff
	ff 07		 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 5676 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0c6b7	0f b6 85 f1 fe
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0c6be	50		 push	 eax
  0c6bf	8d 8d f0 fe ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0c6c5	51		 push	 ecx
  0c6c6	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c6c9	8b 02		 mov	 eax, DWORD PTR [edx]
  0c6cb	50		 push	 eax
  0c6cc	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0c6d1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5677 : 		lpObj->ChaosLock = FALSE;

  0c6d4	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c6d7	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5678 : 		return;

  0c6e1	e9 ec 03 00 00	 jmp	 $LN22@SocketSetS
$LN5@SocketSetS:

; 5679 : 	}
; 5680 : 
; 5681 : 	iChaosTaxMoney = (int)((__int64)g_iSeedSphereSetMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  0c6e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_iSeedSphereSetMoney@@3HA ; g_iSeedSphereSetMoney
  0c6eb	99		 cdq
  0c6ec	8b f0		 mov	 esi, eax
  0c6ee	8b fa		 mov	 edi, edx
  0c6f0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c6f3	8b 08		 mov	 ecx, DWORD PTR [eax]
  0c6f5	51		 push	 ecx
  0c6f6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0c6fb	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  0c700	99		 cdq
  0c701	52		 push	 edx
  0c702	50		 push	 eax
  0c703	57		 push	 edi
  0c704	56		 push	 esi
  0c705	e8 00 00 00 00	 call	 __allmul
  0c70a	6a 00		 push	 0
  0c70c	6a 64		 push	 100			; 00000064H
  0c70e	52		 push	 edx
  0c70f	50		 push	 eax
  0c710	e8 00 00 00 00	 call	 __alldiv
  0c715	89 85 04 ff ff
	ff		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 5682 : 
; 5683 : 	if ( iChaosTaxMoney < 0 )

  0c71b	83 bd 04 ff ff
	ff 00		 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  0c722	7d 0a		 jge	 SHORT $LN4@SocketSetS

; 5684 : 	{
; 5685 : 		iChaosTaxMoney = 0;

  0c724	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN4@SocketSetS:

; 5686 : 	}
; 5687 : 
; 5688 : 	iMixMoney = g_iSeedSphereSetMoney + iChaosTaxMoney;

  0c72e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_iSeedSphereSetMoney@@3HA ; g_iSeedSphereSetMoney
  0c733	03 85 04 ff ff
	ff		 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0c739	89 85 00 ff ff
	ff		 mov	 DWORD PTR _iMixMoney$[ebp], eax

; 5689 : 
; 5690 : 	if ( lpObj->Money < iMixMoney )

  0c73f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c742	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0c748	3b 8d 00 ff ff
	ff		 cmp	 ecx, DWORD PTR _iMixMoney$[ebp]
  0c74e	7d 36		 jge	 SHORT $LN3@SocketSetS

; 5691 : 	{
; 5692 : 		pMsg.Result = 2;

  0c750	c6 85 f3 fe ff
	ff 02		 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 5693 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0c757	0f b6 85 f1 fe
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0c75e	50		 push	 eax
  0c75f	8d 8d f0 fe ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0c765	51		 push	 ecx
  0c766	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c769	8b 02		 mov	 eax, DWORD PTR [edx]
  0c76b	50		 push	 eax
  0c76c	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0c771	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5694 : 		lpObj->ChaosLock = FALSE;

  0c774	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c777	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5695 : 		return;

  0c781	e9 4c 03 00 00	 jmp	 $LN22@SocketSetS
$LN3@SocketSetS:

; 5696 : 	}
; 5697 : 
; 5698 : 	LogChaosItem(lpObj, "SetSeedSphere");

  0c786	68 00 00 00 00	 push	 OFFSET ??_C@_0O@CGCDEDIJ@SetSeedSphere?$AA@
  0c78b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c78e	50		 push	 eax
  0c78f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0c792	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 5699 : 	
; 5700 : 	BYTE SocketByteOption = 0;

  0c797	c6 85 eb fe ff
	ff 00		 mov	 BYTE PTR _SocketByteOption$[ebp], 0

; 5701 : 	SocketByteOption = g_SocketOption.GetItemSocketByteOption(pSeedSpearItem->m_Type, pSeedSpearItem->m_Level);

  0c79e	8b 45 dc	 mov	 eax, DWORD PTR _pSeedSpearItem$[ebp]
  0c7a1	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  0c7a5	51		 push	 ecx
  0c7a6	8b 55 dc	 mov	 edx, DWORD PTR _pSeedSpearItem$[ebp]
  0c7a9	0f b7 42 06	 movzx	 eax, WORD PTR [edx+6]
  0c7ad	50		 push	 eax
  0c7ae	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0c7b3	e8 00 00 00 00	 call	 ?GetItemSocketByteOption@CSocketOption@@QAEEGE@Z ; CSocketOption::GetItemSocketByteOption
  0c7b8	88 85 eb fe ff
	ff		 mov	 BYTE PTR _SocketByteOption$[ebp], al

; 5702 : 
; 5703 : 	if(SocketByteOption == 0xFF)

  0c7be	0f b6 85 eb fe
	ff ff		 movzx	 eax, BYTE PTR _SocketByteOption$[ebp]
  0c7c5	3d ff 00 00 00	 cmp	 eax, 255		; 000000ffH
  0c7ca	75 52		 jne	 SHORT $LN2@SocketSetS

; 5704 : 	{
; 5705 : 		pMsg.Result = 7;

  0c7cc	c6 85 f3 fe ff
	ff 07		 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 5706 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0c7d3	0f b6 85 f1 fe
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0c7da	50		 push	 eax
  0c7db	8d 8d f0 fe ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0c7e1	51		 push	 ecx
  0c7e2	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c7e5	8b 02		 mov	 eax, DWORD PTR [edx]
  0c7e7	50		 push	 eax
  0c7e8	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0c7ed	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5707 : 		lpObj->ChaosLock = FALSE;

  0c7f0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c7f3	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5708 : 		LogAddTD("[%s][%s] Set Seed Mix Failed - SeedSphere is NULL", lpObj->AccountID, lpObj->Name);

  0c7fd	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c800	83 c0 77	 add	 eax, 119		; 00000077H
  0c803	50		 push	 eax
  0c804	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c807	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0c80a	51		 push	 ecx
  0c80b	68 00 00 00 00	 push	 OFFSET ??_C@_0DC@BKFDMAJM@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Set?5Seed?5Mix?5Failed?5?9?5S@
  0c810	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0c816	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5709 : 		return;

  0c819	e9 b4 02 00 00	 jmp	 $LN22@SocketSetS
$LN2@SocketSetS:

; 5710 : 	}
; 5711 : 
; 5712 : 	if( g_SocketOption.CheckItemElementInfo(pSocketItem, SocketByteOption) == 0 )

  0c81e	0f b6 85 eb fe
	ff ff		 movzx	 eax, BYTE PTR _SocketByteOption$[ebp]
  0c825	50		 push	 eax
  0c826	8b 4d e0	 mov	 ecx, DWORD PTR _pSocketItem$[ebp]
  0c829	51		 push	 ecx
  0c82a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0c82f	e8 00 00 00 00	 call	 ?CheckItemElementInfo@CSocketOption@@QAEEPAVCItem@@E@Z ; CSocketOption::CheckItemElementInfo
  0c834	0f b6 d0	 movzx	 edx, al
  0c837	85 d2		 test	 edx, edx
  0c839	75 52		 jne	 SHORT $LN1@SocketSetS

; 5713 : 	{
; 5714 : 		pMsg.Result = 7;

  0c83b	c6 85 f3 fe ff
	ff 07		 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 5715 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0c842	0f b6 85 f1 fe
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0c849	50		 push	 eax
  0c84a	8d 8d f0 fe ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0c850	51		 push	 ecx
  0c851	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c854	8b 02		 mov	 eax, DWORD PTR [edx]
  0c856	50		 push	 eax
  0c857	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0c85c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5716 : 		lpObj->ChaosLock = FALSE;

  0c85f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c862	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5717 : 		LogAddTD("[%s][%s] Set Seed Mix Failed - Wrong Item Type for Set Socket", lpObj->AccountID, lpObj->Name);

  0c86c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c86f	83 c0 77	 add	 eax, 119		; 00000077H
  0c872	50		 push	 eax
  0c873	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0c876	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0c879	51		 push	 ecx
  0c87a	68 00 00 00 00	 push	 OFFSET ??_C@_0DO@KKBOJPIF@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Set?5Seed?5Mix?5Failed?5?9?5W@
  0c87f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0c885	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5718 : 		return;

  0c888	e9 45 02 00 00	 jmp	 $LN22@SocketSetS
$LN1@SocketSetS:

; 5719 : 	}
; 5720 : 
; 5721 : 	lpObj->Money -= iMixMoney;

  0c88d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c890	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0c896	2b 8d 00 ff ff
	ff		 sub	 ecx, DWORD PTR _iMixMoney$[ebp]
  0c89c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c89f	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 5722 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  0c8a5	8b 85 04 ff ff
	ff		 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0c8ab	50		 push	 eax
  0c8ac	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0c8b1	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 5723 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  0c8b6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c8b9	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0c8bf	51		 push	 ecx
  0c8c0	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0c8c3	8b 02		 mov	 eax, DWORD PTR [edx]
  0c8c5	50		 push	 eax
  0c8c6	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  0c8cb	83 c4 08	 add	 esp, 8

; 5724 : 
; 5725 : 	g_SocketOption.MakeManualOption(pSocketItem, SocketByteOption, SocketSlot); //Apply Visual Info

  0c8ce	0f b6 45 0c	 movzx	 eax, BYTE PTR _SocketSlot$[ebp]
  0c8d2	50		 push	 eax
  0c8d3	0f b6 8d eb fe
	ff ff		 movzx	 ecx, BYTE PTR _SocketByteOption$[ebp]
  0c8da	51		 push	 ecx
  0c8db	8b 55 e0	 mov	 edx, DWORD PTR _pSocketItem$[ebp]
  0c8de	52		 push	 edx
  0c8df	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0c8e4	e8 00 00 00 00	 call	 ?MakeManualOption@CSocketOption@@QAEEPAVCItem@@EE@Z ; CSocketOption::MakeManualOption

; 5726 : 
; 5727 : 	float Dur = (float)ItemGetDurability(pSocketItem->m_Type, pSocketItem->m_Level, pSocketItem->IsExtItem(), pSocketItem->IsSetItem());

  0c8e9	8b 4d e0	 mov	 ecx, DWORD PTR _pSocketItem$[ebp]
  0c8ec	e8 00 00 00 00	 call	 ?IsSetItem@CItem@@QAEHXZ ; CItem::IsSetItem
  0c8f1	50		 push	 eax
  0c8f2	8b 4d e0	 mov	 ecx, DWORD PTR _pSocketItem$[ebp]
  0c8f5	e8 00 00 00 00	 call	 ?IsExtItem@CItem@@QAEHXZ ; CItem::IsExtItem
  0c8fa	50		 push	 eax
  0c8fb	8b 45 e0	 mov	 eax, DWORD PTR _pSocketItem$[ebp]
  0c8fe	0f bf 48 08	 movsx	 ecx, WORD PTR [eax+8]
  0c902	51		 push	 ecx
  0c903	8b 55 e0	 mov	 edx, DWORD PTR _pSocketItem$[ebp]
  0c906	0f bf 42 06	 movsx	 eax, WORD PTR [edx+6]
  0c90a	50		 push	 eax
  0c90b	e8 00 00 00 00	 call	 ?ItemGetDurability@@YAHHHHH@Z ; ItemGetDurability
  0c910	83 c4 10	 add	 esp, 16			; 00000010H
  0c913	89 85 a0 fe ff
	ff		 mov	 DWORD PTR tv532[ebp], eax
  0c919	db 85 a0 fe ff
	ff		 fild	 DWORD PTR tv532[ebp]
  0c91f	d9 9d e4 fe ff
	ff		 fstp	 DWORD PTR _Dur$[ebp]

; 5728 : 
; 5729 : 	Item.m_Number = pSocketItem->m_Number;

  0c925	8b 45 e0	 mov	 eax, DWORD PTR _pSocketItem$[ebp]
  0c928	8b 08		 mov	 ecx, DWORD PTR [eax]
  0c92a	89 8d 08 ff ff
	ff		 mov	 DWORD PTR _Item$[ebp], ecx

; 5730 : 	Item.m_Level = pSocketItem->m_Level;

  0c930	8b 45 e0	 mov	 eax, DWORD PTR _pSocketItem$[ebp]
  0c933	66 8b 48 08	 mov	 cx, WORD PTR [eax+8]
  0c937	66 89 8d 10 ff
	ff ff		 mov	 WORD PTR _Item$[ebp+8], cx

; 5731 : 	Item.m_Durability = Dur * pSocketItem->m_Durability / pSocketItem->m_BaseDurability;

  0c93e	d9 85 e4 fe ff
	ff		 fld	 DWORD PTR _Dur$[ebp]
  0c944	8b 45 e0	 mov	 eax, DWORD PTR _pSocketItem$[ebp]
  0c947	d8 48 24	 fmul	 DWORD PTR [eax+36]
  0c94a	8b 4d e0	 mov	 ecx, DWORD PTR _pSocketItem$[ebp]
  0c94d	d8 71 2c	 fdiv	 DWORD PTR [ecx+44]
  0c950	d9 9d 2c ff ff
	ff		 fstp	 DWORD PTR _Item$[ebp+36]

; 5732 : 	Item.m_JewelOfHarmonyOption = pSocketItem->m_JewelOfHarmonyOption;

  0c956	8b 45 e0	 mov	 eax, DWORD PTR _pSocketItem$[ebp]
  0c959	8a 88 c4 00 00
	00		 mov	 cl, BYTE PTR [eax+196]
  0c95f	88 4d cc	 mov	 BYTE PTR _Item$[ebp+196], cl

; 5733 : 
; 5734 : 	Item.Convert(pSocketItem->m_Type, pSocketItem->m_Option1, pSocketItem->m_Option2, pSocketItem->m_Option3, pSocketItem->m_NewOption,
; 5735 : 				pSocketItem->m_SetOption, pSocketItem->m_ItemOptionEx, pSocketItem->m_SocketOption, pSocketItem->m_SocketOptionIndex, 0, CURRENT_DB_VERSION);

  0c962	6a 03		 push	 3
  0c964	6a 00		 push	 0
  0c966	8b 45 e0	 mov	 eax, DWORD PTR _pSocketItem$[ebp]
  0c969	0f b6 88 cb 00
	00 00		 movzx	 ecx, BYTE PTR [eax+203]
  0c970	51		 push	 ecx
  0c971	8b 55 e0	 mov	 edx, DWORD PTR _pSocketItem$[ebp]
  0c974	81 c2 cc 00 00
	00		 add	 edx, 204		; 000000ccH
  0c97a	52		 push	 edx
  0c97b	8b 45 e0	 mov	 eax, DWORD PTR _pSocketItem$[ebp]
  0c97e	0f b6 88 ca 00
	00 00		 movzx	 ecx, BYTE PTR [eax+202]
  0c985	51		 push	 ecx
  0c986	8b 55 e0	 mov	 edx, DWORD PTR _pSocketItem$[ebp]
  0c989	0f b6 82 ae 00
	00 00		 movzx	 eax, BYTE PTR [edx+174]
  0c990	50		 push	 eax
  0c991	8b 4d e0	 mov	 ecx, DWORD PTR _pSocketItem$[ebp]
  0c994	0f b6 91 97 00
	00 00		 movzx	 edx, BYTE PTR [ecx+151]
  0c99b	52		 push	 edx
  0c99c	8b 45 e0	 mov	 eax, DWORD PTR _pSocketItem$[ebp]
  0c99f	0f b6 88 96 00
	00 00		 movzx	 ecx, BYTE PTR [eax+150]
  0c9a6	51		 push	 ecx
  0c9a7	8b 55 e0	 mov	 edx, DWORD PTR _pSocketItem$[ebp]
  0c9aa	0f b6 82 95 00
	00 00		 movzx	 eax, BYTE PTR [edx+149]
  0c9b1	50		 push	 eax
  0c9b2	8b 4d e0	 mov	 ecx, DWORD PTR _pSocketItem$[ebp]
  0c9b5	0f b6 91 94 00
	00 00		 movzx	 edx, BYTE PTR [ecx+148]
  0c9bc	52		 push	 edx
  0c9bd	8b 45 e0	 mov	 eax, DWORD PTR _pSocketItem$[ebp]
  0c9c0	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]
  0c9c4	51		 push	 ecx
  0c9c5	8d 8d 08 ff ff
	ff		 lea	 ecx, DWORD PTR _Item$[ebp]
  0c9cb	e8 00 00 00 00	 call	 ?Convert@CItem@@QAEXHEEEEEEPAEEEE@Z ; CItem::Convert

; 5736 : 
; 5737 : 	lpObj->ChaosLock = FALSE;

  0c9d0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0c9d3	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5738 : 
; 5739 : 	ItemByteConvert(pMsg.ItemInfo, Item);

  0c9dd	81 ec d4 00 00
	00		 sub	 esp, 212		; 000000d4H
  0c9e3	b9 35 00 00 00	 mov	 ecx, 53			; 00000035H
  0c9e8	8d b5 08 ff ff
	ff		 lea	 esi, DWORD PTR _Item$[ebp]
  0c9ee	8b fc		 mov	 edi, esp
  0c9f0	f3 a5		 rep movsd
  0c9f2	8d 85 f4 fe ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp+4]
  0c9f8	50		 push	 eax
  0c9f9	e8 00 00 00 00	 call	 ?ItemByteConvert@@YAXPAEVCItem@@@Z ; ItemByteConvert
  0c9fe	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H

; 5740 : 	this->ChaosBoxInit(lpObj);

  0ca04	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ca07	50		 push	 eax
  0ca08	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0ca0b	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 5741 : 	::gObjChaosBoxInsertItemPos(lpObj->m_Index, Item, 0, -1);

  0ca10	6a ff		 push	 -1
  0ca12	6a 00		 push	 0
  0ca14	81 ec d4 00 00
	00		 sub	 esp, 212		; 000000d4H
  0ca1a	b9 35 00 00 00	 mov	 ecx, 53			; 00000035H
  0ca1f	8d b5 08 ff ff
	ff		 lea	 esi, DWORD PTR _Item$[ebp]
  0ca25	8b fc		 mov	 edi, esp
  0ca27	f3 a5		 rep movsd
  0ca29	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ca2c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0ca2e	51		 push	 ecx
  0ca2f	e8 00 00 00 00	 call	 ?gObjChaosBoxInsertItemPos@@YAEHVCItem@@HH@Z ; gObjChaosBoxInsertItemPos
  0ca34	81 c4 e0 00 00
	00		 add	 esp, 224		; 000000e0H

; 5742 : 	gObjChaosItemSet(lpObj->m_Index, 0, 1);

  0ca3a	6a 01		 push	 1
  0ca3c	6a 00		 push	 0
  0ca3e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ca41	8b 08		 mov	 ecx, DWORD PTR [eax]
  0ca43	51		 push	 ecx
  0ca44	e8 00 00 00 00	 call	 ?gObjChaosItemSet@@YAXHHE@Z ; gObjChaosItemSet
  0ca49	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5743 : 	GCUserChaosBoxSend(lpObj, 0);

  0ca4c	6a 00		 push	 0
  0ca4e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ca51	50		 push	 eax
  0ca52	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0ca57	83 c4 08	 add	 esp, 8

; 5744 :     
; 5745 : 	LogAddTD("[%s][%s] Set SeedSphere Mix Success - ItemInfo ( Name : %s, ItemCode : %d, Level : %d, SocketOption[%d,%d,%d,%d,%d], BonusOption : %d )",
; 5746 : 		lpObj->AccountID, lpObj->Name, ItemAttribute[Item.m_Type].Name, Item.m_Type, Item.m_Level, Item.m_SocketOption[0], Item.m_SocketOption[1],
; 5747 : 		Item.m_SocketOption[2], Item.m_SocketOption[3], Item.m_SocketOption[4], Item.m_SocketOptionIndex);

  0ca5a	0f b6 45 d3	 movzx	 eax, BYTE PTR _Item$[ebp+203]
  0ca5e	50		 push	 eax
  0ca5f	0f b6 4d d8	 movzx	 ecx, BYTE PTR _Item$[ebp+208]
  0ca63	51		 push	 ecx
  0ca64	0f b6 55 d7	 movzx	 edx, BYTE PTR _Item$[ebp+207]
  0ca68	52		 push	 edx
  0ca69	0f b6 45 d6	 movzx	 eax, BYTE PTR _Item$[ebp+206]
  0ca6d	50		 push	 eax
  0ca6e	0f b6 4d d5	 movzx	 ecx, BYTE PTR _Item$[ebp+205]
  0ca72	51		 push	 ecx
  0ca73	0f b6 55 d4	 movzx	 edx, BYTE PTR _Item$[ebp+204]
  0ca77	52		 push	 edx
  0ca78	0f bf 85 10 ff
	ff ff		 movsx	 eax, WORD PTR _Item$[ebp+8]
  0ca7f	50		 push	 eax
  0ca80	0f bf 8d 0e ff
	ff ff		 movsx	 ecx, WORD PTR _Item$[ebp+6]
  0ca87	51		 push	 ecx
  0ca88	0f bf 95 0e ff
	ff ff		 movsx	 edx, WORD PTR _Item$[ebp+6]
  0ca8f	6b d2 70	 imul	 edx, 112		; 00000070H
  0ca92	81 c2 00 00 00
	00		 add	 edx, OFFSET ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A ; ItemAttribute
  0ca98	52		 push	 edx
  0ca99	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ca9c	83 c0 77	 add	 eax, 119		; 00000077H
  0ca9f	50		 push	 eax
  0caa0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0caa3	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0caa6	51		 push	 ecx
  0caa7	68 00 00 00 00	 push	 OFFSET ??_C@_0II@KCLKEHBN@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Set?5SeedSphere?5Mix?5Succ@
  0caac	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0cab2	83 c4 30	 add	 esp, 48			; 00000030H

; 5748 : 
; 5749 : 	DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0cab5	0f b6 85 f1 fe
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0cabc	50		 push	 eax
  0cabd	8d 8d f0 fe ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0cac3	51		 push	 ecx
  0cac4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0cac7	8b 02		 mov	 eax, DWORD PTR [edx]
  0cac9	50		 push	 eax
  0caca	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0cacf	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN22@SocketSetS:

; 5750 : }

  0cad2	5f		 pop	 edi
  0cad3	5e		 pop	 esi
  0cad4	5b		 pop	 ebx
  0cad5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0cad8	33 cd		 xor	 ecx, ebp
  0cada	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0cadf	8b e5		 mov	 esp, ebp
  0cae1	5d		 pop	 ebp
  0cae2	c2 08 00	 ret	 8
?SocketSetSeedSphere@CMixSystem@@QAEXPAUOBJECTSTRUCT@@E@Z ENDP ; CMixSystem::SocketSetSeedSphere
_TEXT	ENDS
PUBLIC	??_C@_0IH@MCNGCFGC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Remove?5Succe@ ; `string'
PUBLIC	??_C@_0BB@CFKCJMNE@SeedSphereRemove?$AA@	; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?SocketRemoveSeedSphere@CMixSystem@@QAEXPAUOBJECTSTRUCT@@E@Z ; CMixSystem::SocketRemoveSeedSphere
EXTRN	?RemakeSocketOption@CSocketOption@@QAEEPAVCItem@@E@Z:PROC ; CSocketOption::RemakeSocketOption
EXTRN	?g_iSeedSphereRemoveMoney@@3HA:DWORD		; g_iSeedSphereRemoveMoney
;	COMDAT ??_C@_0IH@MCNGCFGC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Remove?5Succe@
CONST	SEGMENT
??_C@_0IH@MCNGCFGC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Remove?5Succe@ DB '['
	DB	'%s][%s] SeedSphere Remove Success - ItemInfo ( Name : %s, Ite'
	DB	'mCode : %d, Level : %d, SocketOption[%d,%d,%d,%d,%d], BonusOp'
	DB	'tion : %d )', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@CFKCJMNE@SeedSphereRemove?$AA@
CONST	SEGMENT
??_C@_0BB@CFKCJMNE@SeedSphereRemove?$AA@ DB 'SeedSphereRemove', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_n$237669 = -56						; size = 4
_pMsg$ = -52						; size = 16
_iChaosTaxMoney$ = -36					; size = 4
_iMixMoney$ = -32					; size = 4
_loc6$ = -28						; size = 4
_iSocketItemNum$ = -24					; size = 4
_loc4$ = -20						; size = 4
_iInvalidItemCount$ = -16				; size = 4
_iSocketItemCount$ = -12				; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_SocketSlot$ = 12					; size = 1
?SocketRemoveSeedSphere@CMixSystem@@QAEXPAUOBJECTSTRUCT@@E@Z PROC ; CMixSystem::SocketRemoveSeedSphere
; _this$ = ecx

; 5753 : {

  0caf0	55		 push	 ebp
  0caf1	8b ec		 mov	 ebp, esp
  0caf3	83 ec 78	 sub	 esp, 120		; 00000078H
  0caf6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0cafb	33 c5		 xor	 eax, ebp
  0cafd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0cb00	53		 push	 ebx
  0cb01	56		 push	 esi
  0cb02	57		 push	 edi
  0cb03	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 5754 : 	int iSocketItemCount = 0; //2

  0cb06	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iSocketItemCount$[ebp], 0

; 5755 : 	int iInvalidItemCount = 0; //3

  0cb0d	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iInvalidItemCount$[ebp], 0

; 5756 : 
; 5757 : 	int loc4 = 0;

  0cb14	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _loc4$[ebp], 0

; 5758 : 
; 5759 : 	int iSocketItemNum = 0; //5

  0cb1b	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iSocketItemNum$[ebp], 0

; 5760 : 
; 5761 : 	int loc6 = 0;

  0cb22	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _loc6$[ebp], 0

; 5762 : 
; 5763 : 	int iMixMoney = 0; //7

  0cb29	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _iMixMoney$[ebp], 0

; 5764 : 	int iChaosTaxMoney = 0; //8

  0cb30	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0

; 5765 : 
; 5766 : 	PMSG_CHAOSMIXRESULT pMsg;
; 5767 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0cb37	6a 10		 push	 16			; 00000010H
  0cb39	68 86 00 00 00	 push	 134			; 00000086H
  0cb3e	8d 45 cc	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0cb41	50		 push	 eax
  0cb42	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0cb47	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5768 : 	pMsg.Result = CB_ERROR;

  0cb4a	c6 45 cf 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 5769 : 
; 5770 : 	if(SocketSlot >= 5)

  0cb4e	0f b6 45 0c	 movzx	 eax, BYTE PTR _SocketSlot$[ebp]
  0cb52	83 f8 05	 cmp	 eax, 5
  0cb55	7c 2d		 jl	 SHORT $LN12@SocketRemo

; 5771 : 	{
; 5772 : 		pMsg.Result = 7;

  0cb57	c6 45 cf 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 5773 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0cb5b	0f b6 45 cd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0cb5f	50		 push	 eax
  0cb60	8d 4d cc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0cb63	51		 push	 ecx
  0cb64	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0cb67	8b 02		 mov	 eax, DWORD PTR [edx]
  0cb69	50		 push	 eax
  0cb6a	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0cb6f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5774 : 		lpObj->ChaosLock = FALSE;

  0cb72	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cb75	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5775 : 		return;

  0cb7f	e9 8a 03 00 00	 jmp	 $LN13@SocketRemo
$LN12@SocketRemo:

; 5776 : 	}
; 5777 : 
; 5778 : 	lpObj->ChaosLock = TRUE;

  0cb84	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cb87	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 5779 : 
; 5780 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++) //loc21

  0cb91	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _n$237669[ebp], 0
  0cb98	eb 09		 jmp	 SHORT $LN11@SocketRemo
$LN10@SocketRemo:
  0cb9a	8b 45 c8	 mov	 eax, DWORD PTR _n$237669[ebp]
  0cb9d	83 c0 01	 add	 eax, 1
  0cba0	89 45 c8	 mov	 DWORD PTR _n$237669[ebp], eax
$LN11@SocketRemo:
  0cba3	83 7d c8 20	 cmp	 DWORD PTR _n$237669[ebp], 32 ; 00000020H
  0cba7	0f 8d b9 00 00
	00		 jge	 $LN9@SocketRemo

; 5781 : 	{
; 5782 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  0cbad	8b 4d c8	 mov	 ecx, DWORD PTR _n$237669[ebp]
  0cbb0	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0cbb6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cbb9	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0cbbf	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0cbc4	83 f8 01	 cmp	 eax, 1
  0cbc7	0f 85 94 00 00
	00		 jne	 $LN8@SocketRemo

; 5783 : 		{
; 5784 : 			if( g_SocketOption.CheckItemType(lpObj->pChaosBox[n].m_Type) == 1)

  0cbcd	8b 45 c8	 mov	 eax, DWORD PTR _n$237669[ebp]
  0cbd0	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0cbd6	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0cbd9	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0cbdf	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0cbe4	50		 push	 eax
  0cbe5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0cbea	e8 00 00 00 00	 call	 ?CheckItemType@CSocketOption@@QAEEH@Z ; CSocketOption::CheckItemType
  0cbef	0f b6 c8	 movzx	 ecx, al
  0cbf2	83 f9 01	 cmp	 ecx, 1
  0cbf5	75 61		 jne	 SHORT $LN7@SocketRemo

; 5785 : 			{
; 5786 : 				if(lpObj->pChaosBox[n].m_SocketOption[SocketSlot] != 0xFE && lpObj->pChaosBox[n].m_SocketOption[SocketSlot] != 0xFF) //Slot with OPTION

  0cbf7	8b 45 c8	 mov	 eax, DWORD PTR _n$237669[ebp]
  0cbfa	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0cc00	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0cc03	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0cc09	03 d0		 add	 edx, eax
  0cc0b	0f b6 45 0c	 movzx	 eax, BYTE PTR _SocketSlot$[ebp]
  0cc0f	0f b6 8c 02 cc
	00 00 00	 movzx	 ecx, BYTE PTR [edx+eax+204]
  0cc17	81 f9 fe 00 00
	00		 cmp	 ecx, 254		; 000000feH
  0cc1d	74 37		 je	 SHORT $LN6@SocketRemo
  0cc1f	8b 45 c8	 mov	 eax, DWORD PTR _n$237669[ebp]
  0cc22	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0cc28	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0cc2b	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0cc31	03 d0		 add	 edx, eax
  0cc33	0f b6 45 0c	 movzx	 eax, BYTE PTR _SocketSlot$[ebp]
  0cc37	0f b6 8c 02 cc
	00 00 00	 movzx	 ecx, BYTE PTR [edx+eax+204]
  0cc3f	81 f9 ff 00 00
	00		 cmp	 ecx, 255		; 000000ffH
  0cc45	74 0f		 je	 SHORT $LN6@SocketRemo

; 5787 : 				{
; 5788 : 					iSocketItemCount++; //

  0cc47	8b 45 f4	 mov	 eax, DWORD PTR _iSocketItemCount$[ebp]
  0cc4a	83 c0 01	 add	 eax, 1
  0cc4d	89 45 f4	 mov	 DWORD PTR _iSocketItemCount$[ebp], eax

; 5789 : 					iSocketItemNum = n;

  0cc50	8b 45 c8	 mov	 eax, DWORD PTR _n$237669[ebp]
  0cc53	89 45 e8	 mov	 DWORD PTR _iSocketItemNum$[ebp], eax
$LN6@SocketRemo:

; 5790 : 				}
; 5791 : 			}
; 5792 : 			else

  0cc56	eb 09		 jmp	 SHORT $LN8@SocketRemo
$LN7@SocketRemo:

; 5793 : 			{
; 5794 : 				iInvalidItemCount++;

  0cc58	8b 45 f0	 mov	 eax, DWORD PTR _iInvalidItemCount$[ebp]
  0cc5b	83 c0 01	 add	 eax, 1
  0cc5e	89 45 f0	 mov	 DWORD PTR _iInvalidItemCount$[ebp], eax
$LN8@SocketRemo:

; 5795 : 			}
; 5796 : 		}
; 5797 : 	}

  0cc61	e9 34 ff ff ff	 jmp	 $LN10@SocketRemo
$LN9@SocketRemo:

; 5798 : 
; 5799 : 	if ( iInvalidItemCount > 0 )

  0cc66	83 7d f0 00	 cmp	 DWORD PTR _iInvalidItemCount$[ebp], 0
  0cc6a	7e 2d		 jle	 SHORT $LN4@SocketRemo

; 5800 : 	{
; 5801 : 		pMsg.Result = 7;

  0cc6c	c6 45 cf 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 5802 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0cc70	0f b6 45 cd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0cc74	50		 push	 eax
  0cc75	8d 4d cc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0cc78	51		 push	 ecx
  0cc79	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0cc7c	8b 02		 mov	 eax, DWORD PTR [edx]
  0cc7e	50		 push	 eax
  0cc7f	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0cc84	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5803 : 		lpObj->ChaosLock = FALSE;

  0cc87	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cc8a	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5804 : 		return;

  0cc94	e9 75 02 00 00	 jmp	 $LN13@SocketRemo
$LN4@SocketRemo:

; 5805 : 	}
; 5806 : 
; 5807 : 	if(iSocketItemCount != 1)

  0cc99	83 7d f4 01	 cmp	 DWORD PTR _iSocketItemCount$[ebp], 1
  0cc9d	74 2d		 je	 SHORT $LN3@SocketRemo

; 5808 : 	{
; 5809 : 		pMsg.Result = 7;

  0cc9f	c6 45 cf 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 5810 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0cca3	0f b6 45 cd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0cca7	50		 push	 eax
  0cca8	8d 4d cc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0ccab	51		 push	 ecx
  0ccac	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ccaf	8b 02		 mov	 eax, DWORD PTR [edx]
  0ccb1	50		 push	 eax
  0ccb2	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0ccb7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5811 : 		lpObj->ChaosLock = FALSE;

  0ccba	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ccbd	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5812 : 		return;

  0ccc7	e9 42 02 00 00	 jmp	 $LN13@SocketRemo
$LN3@SocketRemo:

; 5813 : 	}
; 5814 : 
; 5815 : 	iChaosTaxMoney = (int)((__int64)g_iSeedSphereRemoveMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  0cccc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_iSeedSphereRemoveMoney@@3HA ; g_iSeedSphereRemoveMoney
  0ccd1	99		 cdq
  0ccd2	8b f0		 mov	 esi, eax
  0ccd4	8b fa		 mov	 edi, edx
  0ccd6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ccd9	8b 08		 mov	 ecx, DWORD PTR [eax]
  0ccdb	51		 push	 ecx
  0ccdc	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0cce1	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  0cce6	99		 cdq
  0cce7	52		 push	 edx
  0cce8	50		 push	 eax
  0cce9	57		 push	 edi
  0ccea	56		 push	 esi
  0cceb	e8 00 00 00 00	 call	 __allmul
  0ccf0	6a 00		 push	 0
  0ccf2	6a 64		 push	 100			; 00000064H
  0ccf4	52		 push	 edx
  0ccf5	50		 push	 eax
  0ccf6	e8 00 00 00 00	 call	 __alldiv
  0ccfb	89 45 dc	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 5816 : 
; 5817 : 	if ( iChaosTaxMoney < 0 )

  0ccfe	83 7d dc 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  0cd02	7d 07		 jge	 SHORT $LN2@SocketRemo

; 5818 : 	{
; 5819 : 		iChaosTaxMoney = 0;

  0cd04	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN2@SocketRemo:

; 5820 : 	}
; 5821 : 
; 5822 : 	iMixMoney = g_iSeedSphereRemoveMoney + iChaosTaxMoney;

  0cd0b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_iSeedSphereRemoveMoney@@3HA ; g_iSeedSphereRemoveMoney
  0cd10	03 45 dc	 add	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0cd13	89 45 e0	 mov	 DWORD PTR _iMixMoney$[ebp], eax

; 5823 : 
; 5824 : 	if ( lpObj->Money < iMixMoney )

  0cd16	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cd19	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0cd1f	3b 4d e0	 cmp	 ecx, DWORD PTR _iMixMoney$[ebp]
  0cd22	7d 2d		 jge	 SHORT $LN1@SocketRemo

; 5825 : 	{
; 5826 : 		pMsg.Result = 2;

  0cd24	c6 45 cf 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 5827 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0cd28	0f b6 45 cd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0cd2c	50		 push	 eax
  0cd2d	8d 4d cc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0cd30	51		 push	 ecx
  0cd31	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0cd34	8b 02		 mov	 eax, DWORD PTR [edx]
  0cd36	50		 push	 eax
  0cd37	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0cd3c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5828 : 		lpObj->ChaosLock = FALSE;

  0cd3f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cd42	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5829 : 		return;

  0cd4c	e9 bd 01 00 00	 jmp	 $LN13@SocketRemo
$LN1@SocketRemo:

; 5830 : 	}
; 5831 : 
; 5832 : 	lpObj->Money -= iMixMoney;

  0cd51	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cd54	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0cd5a	2b 4d e0	 sub	 ecx, DWORD PTR _iMixMoney$[ebp]
  0cd5d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0cd60	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 5833 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  0cd66	8b 45 dc	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0cd69	50		 push	 eax
  0cd6a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0cd6f	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 5834 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  0cd74	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cd77	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0cd7d	51		 push	 ecx
  0cd7e	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0cd81	8b 02		 mov	 eax, DWORD PTR [edx]
  0cd83	50		 push	 eax
  0cd84	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  0cd89	83 c4 08	 add	 esp, 8

; 5835 : 
; 5836 : 	LogChaosItem(lpObj, "SeedSphereRemove");

  0cd8c	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@CFKCJMNE@SeedSphereRemove?$AA@
  0cd91	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cd94	50		 push	 eax
  0cd95	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0cd98	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 5837 : 	
; 5838 : 	g_SocketOption.RemakeSocketOption(&lpObj->pChaosBox[iSocketItemNum], SocketSlot);

  0cd9d	0f b6 45 0c	 movzx	 eax, BYTE PTR _SocketSlot$[ebp]
  0cda1	50		 push	 eax
  0cda2	8b 4d e8	 mov	 ecx, DWORD PTR _iSocketItemNum$[ebp]
  0cda5	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0cdab	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0cdae	03 8a 78 0e 00
	00		 add	 ecx, DWORD PTR [edx+3704]
  0cdb4	51		 push	 ecx
  0cdb5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0cdba	e8 00 00 00 00	 call	 ?RemakeSocketOption@CSocketOption@@QAEEPAVCItem@@E@Z ; CSocketOption::RemakeSocketOption

; 5839 : 
; 5840 : 	lpObj->ChaosLock = FALSE;

  0cdbf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cdc2	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5841 : 	gObjInventoryCommit(lpObj->m_Index);

  0cdcc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cdcf	8b 08		 mov	 ecx, DWORD PTR [eax]
  0cdd1	51		 push	 ecx
  0cdd2	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0cdd7	83 c4 04	 add	 esp, 4

; 5842 : 	GCUserChaosBoxSend(lpObj, 0);

  0cdda	6a 00		 push	 0
  0cddc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cddf	50		 push	 eax
  0cde0	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0cde5	83 c4 08	 add	 esp, 8

; 5843 : 
; 5844 : 	LogAddTD("[%s][%s] SeedSphere Remove Success - ItemInfo ( Name : %s, ItemCode : %d, Level : %d, SocketOption[%d,%d,%d,%d,%d], BonusOption : %d )",
; 5845 : 		lpObj->AccountID, lpObj->Name, ItemAttribute[lpObj->pChaosBox[iSocketItemNum].m_Type].Name, lpObj->pChaosBox[iSocketItemNum].m_Type, 
; 5846 : 		lpObj->pChaosBox[iSocketItemNum].m_Level, lpObj->pChaosBox[iSocketItemNum].m_SocketOption[0], lpObj->pChaosBox[iSocketItemNum].m_SocketOption[1],
; 5847 : 		lpObj->pChaosBox[iSocketItemNum].m_SocketOption[2], lpObj->pChaosBox[iSocketItemNum].m_SocketOption[3], lpObj->pChaosBox[iSocketItemNum].m_SocketOption[4], lpObj->pChaosBox[iSocketItemNum].m_SocketOptionIndex);

  0cde8	8b 45 e8	 mov	 eax, DWORD PTR _iSocketItemNum$[ebp]
  0cdeb	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0cdf1	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0cdf4	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0cdfa	0f b6 84 02 cb
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+203]
  0ce02	50		 push	 eax
  0ce03	8b 4d e8	 mov	 ecx, DWORD PTR _iSocketItemNum$[ebp]
  0ce06	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0ce0c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ce0f	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  0ce15	0f b6 8c 08 d0
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+208]
  0ce1d	51		 push	 ecx
  0ce1e	8b 55 e8	 mov	 edx, DWORD PTR _iSocketItemNum$[ebp]
  0ce21	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  0ce27	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ce2a	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  0ce30	0f b6 94 11 cf
	00 00 00	 movzx	 edx, BYTE PTR [ecx+edx+207]
  0ce38	52		 push	 edx
  0ce39	8b 45 e8	 mov	 eax, DWORD PTR _iSocketItemNum$[ebp]
  0ce3c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ce42	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ce45	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ce4b	0f b6 84 02 ce
	00 00 00	 movzx	 eax, BYTE PTR [edx+eax+206]
  0ce53	50		 push	 eax
  0ce54	8b 4d e8	 mov	 ecx, DWORD PTR _iSocketItemNum$[ebp]
  0ce57	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0ce5d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ce60	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  0ce66	0f b6 8c 08 cd
	00 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+205]
  0ce6e	51		 push	 ecx
  0ce6f	8b 55 e8	 mov	 edx, DWORD PTR _iSocketItemNum$[ebp]
  0ce72	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  0ce78	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ce7b	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  0ce81	0f b6 94 11 cc
	00 00 00	 movzx	 edx, BYTE PTR [ecx+edx+204]
  0ce89	52		 push	 edx
  0ce8a	8b 45 e8	 mov	 eax, DWORD PTR _iSocketItemNum$[ebp]
  0ce8d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ce93	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ce96	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ce9c	0f bf 44 02 08	 movsx	 eax, WORD PTR [edx+eax+8]
  0cea1	50		 push	 eax
  0cea2	8b 4d e8	 mov	 ecx, DWORD PTR _iSocketItemNum$[ebp]
  0cea5	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0ceab	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ceae	8b 82 78 0e 00
	00		 mov	 eax, DWORD PTR [edx+3704]
  0ceb4	0f bf 4c 08 06	 movsx	 ecx, WORD PTR [eax+ecx+6]
  0ceb9	51		 push	 ecx
  0ceba	8b 55 e8	 mov	 edx, DWORD PTR _iSocketItemNum$[ebp]
  0cebd	69 d2 d4 00 00
	00		 imul	 edx, 212		; 000000d4H
  0cec3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cec6	8b 88 78 0e 00
	00		 mov	 ecx, DWORD PTR [eax+3704]
  0cecc	0f bf 54 11 06	 movsx	 edx, WORD PTR [ecx+edx+6]
  0ced1	6b d2 70	 imul	 edx, 112		; 00000070H
  0ced4	81 c2 00 00 00
	00		 add	 edx, OFFSET ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A ; ItemAttribute
  0ceda	52		 push	 edx
  0cedb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cede	83 c0 77	 add	 eax, 119		; 00000077H
  0cee1	50		 push	 eax
  0cee2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0cee5	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0cee8	51		 push	 ecx
  0cee9	68 00 00 00 00	 push	 OFFSET ??_C@_0IH@MCNGCFGC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5SeedSphere?5Remove?5Succe@
  0ceee	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0cef4	83 c4 30	 add	 esp, 48			; 00000030H

; 5848 : 	
; 5849 : 	DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0cef7	0f b6 45 cd	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0cefb	50		 push	 eax
  0cefc	8d 4d cc	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0ceff	51		 push	 ecx
  0cf00	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0cf03	8b 02		 mov	 eax, DWORD PTR [edx]
  0cf05	50		 push	 eax
  0cf06	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0cf0b	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN13@SocketRemo:

; 5850 : }

  0cf0e	5f		 pop	 edi
  0cf0f	5e		 pop	 esi
  0cf10	5b		 pop	 ebx
  0cf11	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0cf14	33 cd		 xor	 ecx, ebp
  0cf16	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0cf1b	8b e5		 mov	 esp, ebp
  0cf1d	5d		 pop	 ebp
  0cf1e	c2 08 00	 ret	 8
?SocketRemoveSeedSphere@CMixSystem@@QAEXPAUOBJECTSTRUCT@@E@Z ENDP ; CMixSystem::SocketRemoveSeedSphere
_TEXT	ENDS
PUBLIC	??_C@_0CM@KMEBIPLL@?$FLSecromiconMix?$FN?5?$CI?$CFs?$CJ?$CI?$CFs?$CJ?5Success@ ; `string'
PUBLIC	??_C@_0O@HBHEHHAN@SecromiconMix?$AA@		; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?SecromiconMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::SecromiconMix
;	COMDAT ??_C@_0CM@KMEBIPLL@?$FLSecromiconMix?$FN?5?$CI?$CFs?$CJ?$CI?$CFs?$CJ?5Success@
CONST	SEGMENT
??_C@_0CM@KMEBIPLL@?$FLSecromiconMix?$FN?5?$CI?$CFs?$CJ?$CI?$CFs?$CJ?5Success@ DB '['
	DB	'SecromiconMix] (%s)(%s) Success ItemID: %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@HBHEHHAN@SecromiconMix?$AA@
CONST	SEGMENT
??_C@_0O@HBHEHHAN@SecromiconMix?$AA@ DB 'SecromiconMix', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_iMixTax$237726 = -64					; size = 4
_iMixCost$237725 = -60					; size = 4
_n$237705 = -56						; size = 4
_invalid$ = -52						; size = 4
_sixth$ = -48						; size = 4
_fifth$ = -44						; size = 4
_fourth$ = -40						; size = 4
_third$ = -36						; size = 4
_second$ = -32						; size = 4
_first$ = -28						; size = 4
_pMsg$ = -24						; size = 16
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?SecromiconMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC	; CMixSystem::SecromiconMix
; _this$ = ecx

; 5853 : {

  0cf30	55		 push	 ebp
  0cf31	8b ec		 mov	 ebp, esp
  0cf33	81 ec 80 00 00
	00		 sub	 esp, 128		; 00000080H
  0cf39	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0cf3e	33 c5		 xor	 eax, ebp
  0cf40	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0cf43	53		 push	 ebx
  0cf44	56		 push	 esi
  0cf45	57		 push	 edi
  0cf46	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 5854 : 	PMSG_CHAOSMIXRESULT pMsg;
; 5855 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0cf49	6a 10		 push	 16			; 00000010H
  0cf4b	68 86 00 00 00	 push	 134			; 00000086H
  0cf50	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0cf53	50		 push	 eax
  0cf54	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0cf59	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5856 : 
; 5857 : 	int first = 0;

  0cf5c	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _first$[ebp], 0

; 5858 : 	int second = 0;

  0cf63	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _second$[ebp], 0

; 5859 : 	int third = 0;

  0cf6a	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _third$[ebp], 0

; 5860 : 	int fourth = 0;

  0cf71	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _fourth$[ebp], 0

; 5861 : 	int fifth = 0;

  0cf78	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _fifth$[ebp], 0

; 5862 : 	int sixth = 0;

  0cf7f	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _sixth$[ebp], 0

; 5863 : 	int invalid = 0;

  0cf86	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _invalid$[ebp], 0

; 5864 : 
; 5865 : 	lpObj->ChaosLock = TRUE;

  0cf8d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cf90	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 5866 : 
; 5867 : 	for(int n=0;n<CHAOS_BOX_SIZE;++n)

  0cf9a	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _n$237705[ebp], 0
  0cfa1	eb 09		 jmp	 SHORT $LN20@Secromicon
$LN19@Secromicon:
  0cfa3	8b 45 c8	 mov	 eax, DWORD PTR _n$237705[ebp]
  0cfa6	83 c0 01	 add	 eax, 1
  0cfa9	89 45 c8	 mov	 DWORD PTR _n$237705[ebp], eax
$LN20@Secromicon:
  0cfac	83 7d c8 20	 cmp	 DWORD PTR _n$237705[ebp], 32 ; 00000020H
  0cfb0	0f 8d 2d 01 00
	00		 jge	 $LN18@Secromicon

; 5868 : 	{
; 5869 : 		if(lpObj->pChaosBox[n].IsItem() == TRUE)

  0cfb6	8b 4d c8	 mov	 ecx, DWORD PTR _n$237705[ebp]
  0cfb9	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0cfbf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0cfc2	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0cfc8	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0cfcd	83 f8 01	 cmp	 eax, 1
  0cfd0	0f 85 08 01 00
	00		 jne	 $LN17@Secromicon

; 5870 : 		{
; 5871 : 			if(lpObj->pChaosBox[n].m_Type == ITEMGET(14,103))

  0cfd6	8b 45 c8	 mov	 eax, DWORD PTR _n$237705[ebp]
  0cfd9	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0cfdf	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0cfe2	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0cfe8	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0cfed	3d 67 1c 00 00	 cmp	 eax, 7271		; 00001c67H
  0cff2	75 0e		 jne	 SHORT $LN16@Secromicon

; 5872 : 				first++;

  0cff4	8b 45 e4	 mov	 eax, DWORD PTR _first$[ebp]
  0cff7	83 c0 01	 add	 eax, 1
  0cffa	89 45 e4	 mov	 DWORD PTR _first$[ebp], eax
  0cffd	e9 dc 00 00 00	 jmp	 $LN17@Secromicon
$LN16@Secromicon:

; 5873 : 			else if(lpObj->pChaosBox[n].m_Type == ITEMGET(14,104))

  0d002	8b 45 c8	 mov	 eax, DWORD PTR _n$237705[ebp]
  0d005	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0d00b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d00e	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0d014	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0d019	3d 68 1c 00 00	 cmp	 eax, 7272		; 00001c68H
  0d01e	75 0e		 jne	 SHORT $LN14@Secromicon

; 5874 : 				second++;

  0d020	8b 45 e0	 mov	 eax, DWORD PTR _second$[ebp]
  0d023	83 c0 01	 add	 eax, 1
  0d026	89 45 e0	 mov	 DWORD PTR _second$[ebp], eax
  0d029	e9 b0 00 00 00	 jmp	 $LN17@Secromicon
$LN14@Secromicon:

; 5875 : 			else if(lpObj->pChaosBox[n].m_Type == ITEMGET(14,105))

  0d02e	8b 45 c8	 mov	 eax, DWORD PTR _n$237705[ebp]
  0d031	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0d037	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d03a	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0d040	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0d045	3d 69 1c 00 00	 cmp	 eax, 7273		; 00001c69H
  0d04a	75 0e		 jne	 SHORT $LN12@Secromicon

; 5876 : 				third++;

  0d04c	8b 45 dc	 mov	 eax, DWORD PTR _third$[ebp]
  0d04f	83 c0 01	 add	 eax, 1
  0d052	89 45 dc	 mov	 DWORD PTR _third$[ebp], eax
  0d055	e9 84 00 00 00	 jmp	 $LN17@Secromicon
$LN12@Secromicon:

; 5877 : 			else if(lpObj->pChaosBox[n].m_Type == ITEMGET(14,106))

  0d05a	8b 45 c8	 mov	 eax, DWORD PTR _n$237705[ebp]
  0d05d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0d063	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d066	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0d06c	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0d071	3d 6a 1c 00 00	 cmp	 eax, 7274		; 00001c6aH
  0d076	75 0b		 jne	 SHORT $LN10@Secromicon

; 5878 : 				fourth++;

  0d078	8b 45 d8	 mov	 eax, DWORD PTR _fourth$[ebp]
  0d07b	83 c0 01	 add	 eax, 1
  0d07e	89 45 d8	 mov	 DWORD PTR _fourth$[ebp], eax
  0d081	eb 5b		 jmp	 SHORT $LN17@Secromicon
$LN10@Secromicon:

; 5879 : 			else if(lpObj->pChaosBox[n].m_Type == ITEMGET(14,107))

  0d083	8b 45 c8	 mov	 eax, DWORD PTR _n$237705[ebp]
  0d086	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0d08c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d08f	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0d095	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0d09a	3d 6b 1c 00 00	 cmp	 eax, 7275		; 00001c6bH
  0d09f	75 0b		 jne	 SHORT $LN8@Secromicon

; 5880 : 				fifth++;

  0d0a1	8b 45 d4	 mov	 eax, DWORD PTR _fifth$[ebp]
  0d0a4	83 c0 01	 add	 eax, 1
  0d0a7	89 45 d4	 mov	 DWORD PTR _fifth$[ebp], eax
  0d0aa	eb 32		 jmp	 SHORT $LN17@Secromicon
$LN8@Secromicon:

; 5881 : 			else if(lpObj->pChaosBox[n].m_Type == ITEMGET(14,108))

  0d0ac	8b 45 c8	 mov	 eax, DWORD PTR _n$237705[ebp]
  0d0af	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0d0b5	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d0b8	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0d0be	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0d0c3	3d 6c 1c 00 00	 cmp	 eax, 7276		; 00001c6cH
  0d0c8	75 0b		 jne	 SHORT $LN6@Secromicon

; 5882 : 				sixth++;

  0d0ca	8b 45 d0	 mov	 eax, DWORD PTR _sixth$[ebp]
  0d0cd	83 c0 01	 add	 eax, 1
  0d0d0	89 45 d0	 mov	 DWORD PTR _sixth$[ebp], eax

; 5883 : 			else

  0d0d3	eb 09		 jmp	 SHORT $LN17@Secromicon
$LN6@Secromicon:

; 5884 : 				invalid++;

  0d0d5	8b 45 cc	 mov	 eax, DWORD PTR _invalid$[ebp]
  0d0d8	83 c0 01	 add	 eax, 1
  0d0db	89 45 cc	 mov	 DWORD PTR _invalid$[ebp], eax
$LN17@Secromicon:

; 5885 : 		}
; 5886 : 	}

  0d0de	e9 c0 fe ff ff	 jmp	 $LN19@Secromicon
$LN18@Secromicon:

; 5887 : 
; 5888 : 	if(invalid)

  0d0e3	83 7d cc 00	 cmp	 DWORD PTR _invalid$[ebp], 0
  0d0e7	74 20		 je	 SHORT $LN4@Secromicon

; 5889 : 	{
; 5890 : 		pMsg.Result = CB_INCORRECT_MIX_ITEMS;

  0d0e9	c6 45 eb 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 5891 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0d0ed	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0d0f1	50		 push	 eax
  0d0f2	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0d0f5	51		 push	 ecx
  0d0f6	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d0f9	8b 02		 mov	 eax, DWORD PTR [edx]
  0d0fb	50		 push	 eax
  0d0fc	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0d101	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5892 : 		return;

  0d104	e9 7b 01 00 00	 jmp	 $LN21@Secromicon
$LN4@Secromicon:

; 5893 : 	}
; 5894 : 
; 5895 : 	if(first == 1 && second == 1 && third == 1 && fourth == 1 && fifth == 1 && sixth == 1)

  0d109	83 7d e4 01	 cmp	 DWORD PTR _first$[ebp], 1
  0d10d	0f 85 64 01 00
	00		 jne	 $LN3@Secromicon
  0d113	83 7d e0 01	 cmp	 DWORD PTR _second$[ebp], 1
  0d117	0f 85 5a 01 00
	00		 jne	 $LN3@Secromicon
  0d11d	83 7d dc 01	 cmp	 DWORD PTR _third$[ebp], 1
  0d121	0f 85 50 01 00
	00		 jne	 $LN3@Secromicon
  0d127	83 7d d8 01	 cmp	 DWORD PTR _fourth$[ebp], 1
  0d12b	0f 85 46 01 00
	00		 jne	 $LN3@Secromicon
  0d131	83 7d d4 01	 cmp	 DWORD PTR _fifth$[ebp], 1
  0d135	0f 85 3c 01 00
	00		 jne	 $LN3@Secromicon
  0d13b	83 7d d0 01	 cmp	 DWORD PTR _sixth$[ebp], 1
  0d13f	0f 85 32 01 00
	00		 jne	 $LN3@Secromicon

; 5896 : 	{
; 5897 : 		int iMixCost = 1000000;	

  0d145	c7 45 c4 40 42
	0f 00		 mov	 DWORD PTR _iMixCost$237725[ebp], 1000000 ; 000f4240H

; 5898 : 		int iMixTax = iMixCost * g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / 100;

  0d14c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d14f	8b 08		 mov	 ecx, DWORD PTR [eax]
  0d151	51		 push	 ecx
  0d152	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0d157	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  0d15c	0f af 45 c4	 imul	 eax, DWORD PTR _iMixCost$237725[ebp]
  0d160	99		 cdq
  0d161	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0d166	f7 f9		 idiv	 ecx
  0d168	89 45 c0	 mov	 DWORD PTR _iMixTax$237726[ebp], eax

; 5899 : 		if(iMixTax < 0)

  0d16b	83 7d c0 00	 cmp	 DWORD PTR _iMixTax$237726[ebp], 0
  0d16f	7d 07		 jge	 SHORT $LN2@Secromicon

; 5900 : 			iMixTax = 0;

  0d171	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _iMixTax$237726[ebp], 0
$LN2@Secromicon:

; 5901 : 		iMixCost += iMixTax;

  0d178	8b 45 c4	 mov	 eax, DWORD PTR _iMixCost$237725[ebp]
  0d17b	03 45 c0	 add	 eax, DWORD PTR _iMixTax$237726[ebp]
  0d17e	89 45 c4	 mov	 DWORD PTR _iMixCost$237725[ebp], eax

; 5902 : 		if(lpObj->Money < iMixCost)

  0d181	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d184	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0d18a	3b 4d c4	 cmp	 ecx, DWORD PTR _iMixCost$237725[ebp]
  0d18d	7d 2d		 jge	 SHORT $LN1@Secromicon

; 5903 : 		{
; 5904 : 			pMsg.Result = CB_NOT_ENOUGH_ZEN;

  0d18f	c6 45 eb 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 5905 : 			DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0d193	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0d197	50		 push	 eax
  0d198	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0d19b	51		 push	 ecx
  0d19c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d19f	8b 02		 mov	 eax, DWORD PTR [edx]
  0d1a1	50		 push	 eax
  0d1a2	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0d1a7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5906 : 			lpObj->ChaosLock = FALSE;

  0d1aa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d1ad	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5907 : 			return;

  0d1b7	e9 c8 00 00 00	 jmp	 $LN21@Secromicon
$LN1@Secromicon:

; 5908 : 		}
; 5909 : 		LogChaosItem(lpObj, "SecromiconMix");

  0d1bc	68 00 00 00 00	 push	 OFFSET ??_C@_0O@HBHEHHAN@SecromiconMix?$AA@
  0d1c1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d1c4	50		 push	 eax
  0d1c5	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0d1c8	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 5910 : 		lpObj->Money -= iMixCost;

  0d1cd	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d1d0	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0d1d6	2b 4d c4	 sub	 ecx, DWORD PTR _iMixCost$237725[ebp]
  0d1d9	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d1dc	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 5911 : 		g_CastleSiegeSync.AddTributeMoney(iMixTax);

  0d1e2	8b 45 c0	 mov	 eax, DWORD PTR _iMixTax$237726[ebp]
  0d1e5	50		 push	 eax
  0d1e6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0d1eb	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 5912 : 		GCMoneySend(lpObj->m_Index, lpObj->Money);

  0d1f0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d1f3	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0d1f9	51		 push	 ecx
  0d1fa	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d1fd	8b 02		 mov	 eax, DWORD PTR [edx]
  0d1ff	50		 push	 eax
  0d200	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  0d205	83 c4 08	 add	 esp, 8

; 5913 : 
; 5914 : 		ItemSerialCreateSend(lpObj->m_Index, 255, 0, 0,ITEMGET(14,109), 0, 0, 0, 0, 0, lpObj->m_Index, 0, 0);

  0d208	6a 00		 push	 0
  0d20a	6a 00		 push	 0
  0d20c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d20f	8b 08		 mov	 ecx, DWORD PTR [eax]
  0d211	51		 push	 ecx
  0d212	6a 00		 push	 0
  0d214	6a 00		 push	 0
  0d216	6a 00		 push	 0
  0d218	6a 00		 push	 0
  0d21a	6a 00		 push	 0
  0d21c	68 6d 1c 00 00	 push	 7277			; 00001c6dH
  0d221	6a 00		 push	 0
  0d223	6a 00		 push	 0
  0d225	68 ff 00 00 00	 push	 255			; 000000ffH
  0d22a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d22d	8b 02		 mov	 eax, DWORD PTR [edx]
  0d22f	50		 push	 eax
  0d230	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0d235	83 c4 34	 add	 esp, 52			; 00000034H

; 5915 : 		gObjInventoryCommit(lpObj->m_Index);

  0d238	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d23b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0d23d	51		 push	 ecx
  0d23e	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0d243	83 c4 04	 add	 esp, 4

; 5916 : 
; 5917 : 		LogAdd("[SecromiconMix] (%s)(%s) Success ItemID: %d", lpObj->AccountID, lpObj->Name, ITEMGET(14,109));

  0d246	68 6d 1c 00 00	 push	 7277			; 00001c6dH
  0d24b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d24e	83 c0 77	 add	 eax, 119		; 00000077H
  0d251	50		 push	 eax
  0d252	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d255	83 c1 6c	 add	 ecx, 108		; 0000006cH
  0d258	51		 push	 ecx
  0d259	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@KMEBIPLL@?$FLSecromiconMix?$FN?5?$CI?$CFs?$CJ?$CI?$CFs?$CJ?5Success@
  0d25e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0d264	83 c4 10	 add	 esp, 16			; 00000010H

; 5918 : 
; 5919 : #if(SYSTEM_ACHIEVEMENTS)
; 5920 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  0d267	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d26a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0d26c	51		 push	 ecx
  0d26d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0d272	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix
$LN3@Secromicon:

; 5921 : #endif
; 5922 : 	}
; 5923 : 	lpObj->ChaosLock = FALSE;

  0d277	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d27a	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN21@Secromicon:

; 5924 : }

  0d284	5f		 pop	 edi
  0d285	5e		 pop	 esi
  0d286	5b		 pop	 ebx
  0d287	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0d28a	33 cd		 xor	 ecx, ebp
  0d28c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0d291	8b e5		 mov	 esp, ebp
  0d293	5d		 pop	 ebp
  0d294	c2 04 00	 ret	 4
?SecromiconMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP	; CMixSystem::SecromiconMix
_TEXT	ENDS
PUBLIC	??_C@_0DP@JHFONFJG@?$FL2?45?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@ ; `string'
PUBLIC	??_C@_0FC@GJLNHMHM@?$FL2?45?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?MixWings2_5@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::MixWings2_5
;	COMDAT ??_C@_0DP@JHFONFJG@?$FL2?45?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@
CONST	SEGMENT
??_C@_0DP@JHFONFJG@?$FL2?45?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@ DB '['
	DB	'2.5 Wings Mix][Level 02] [%s][%s] CBMix Fail %d Money : %d-%d'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0FC@GJLNHMHM@?$FL2?45?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@
CONST	SEGMENT
??_C@_0FC@GJLNHMHM@?$FL2?45?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@ DB '['
	DB	'2.5 Wings Mix][Level 02] [%s][%s] CBMix Success %d Money : %d'
	DB	'-%d, CharmRate : %d', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv269 = -188						; size = 4
tv258 = -188						; size = 4
tv243 = -188						; size = 4
_loc29$237799 = -120					; size = 4
_loc28$237798 = -116					; size = 4
_loc27$237797 = -112					; size = 4
_loc26$237796 = -108					; size = 4
_loc25$237795 = -104					; size = 4
_loc24$237794 = -100					; size = 4
_loc23$237793 = -96					; size = 4
_ItemOptAdd$237792 = -92				; size = 4
_ItemLuckAdd$237790 = -88				; size = 4
_ItemType$237784 = -84					; size = 4
_loc18$237783 = -80					; size = 4
_MixPercent$ = -76					; size = 4
_iChaosTaxMoney$ = -72					; size = 4
_n$237749 = -68						; size = 4
_PlusProcent$ = -64					; size = 4
_MixLuckRate$ = -60					; size = 4
_NeedError$ = -56					; size = 4
_RateMix$ = -52						; size = 4
_NeedMoney$ = -48					; size = 4
_NeedExlItem$ = -44					; size = 4
_NeedJewelOfCreatoion$ = -40				; size = 4
_Need2lvlWing$ = -36					; size = 4
_NeedJewelOfChaos$ = -32				; size = 4
_NeedLochsFeather$ = -28				; size = 4
_pMsg$ = -24						; size = 16
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?MixWings2_5@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC	; CMixSystem::MixWings2_5
; _this$ = ecx

; 5928 : {	

  0d2a0	55		 push	 ebp
  0d2a1	8b ec		 mov	 ebp, esp
  0d2a3	81 ec bc 00 00
	00		 sub	 esp, 188		; 000000bcH
  0d2a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0d2ae	33 c5		 xor	 eax, ebp
  0d2b0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0d2b3	53		 push	 ebx
  0d2b4	56		 push	 esi
  0d2b5	57		 push	 edi
  0d2b6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 5929 : 	PMSG_CHAOSMIXRESULT pMsg;
; 5930 : 
; 5931 : 	lpObj->ChaosLock = TRUE;

  0d2b9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d2bc	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 5932 : 
; 5933 : 	int NeedLochsFeather = 0;

  0d2c6	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _NeedLochsFeather$[ebp], 0

; 5934 : 	int NeedJewelOfChaos = 0;

  0d2cd	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _NeedJewelOfChaos$[ebp], 0

; 5935 : 	int Need2lvlWing = 0;

  0d2d4	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _Need2lvlWing$[ebp], 0

; 5936 : 	int NeedJewelOfCreatoion = 0;

  0d2db	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _NeedJewelOfCreatoion$[ebp], 0

; 5937 : 	int NeedExlItem = 0;

  0d2e2	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _NeedExlItem$[ebp], 0

; 5938 : 	int NeedMoney = 5000000;

  0d2e9	c7 45 d0 40 4b
	4c 00		 mov	 DWORD PTR _NeedMoney$[ebp], 5000000 ; 004c4b40H

; 5939 : 	int RateMix	= ExConfig.CommonServer.Wing2_5MaxSuccessRate;

  0d2f0	a1 94 00 00 00	 mov	 eax, DWORD PTR ?ExConfig@@3VcExConfigs@@A+148
  0d2f5	89 45 cc	 mov	 DWORD PTR _RateMix$[ebp], eax

; 5940 : 	int NeedError = 0;

  0d2f8	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _NeedError$[ebp], 0

; 5941 : 	int MixLuckRate = 40;

  0d2ff	c7 45 c4 28 00
	00 00		 mov	 DWORD PTR _MixLuckRate$[ebp], 40 ; 00000028H

; 5942 : 	int PlusProcent = 0;

  0d306	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _PlusProcent$[ebp], 0

; 5943 : 
; 5944 : 	
; 5945 : 
; 5946 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0d30d	6a 10		 push	 16			; 00000010H
  0d30f	68 86 00 00 00	 push	 134			; 00000086H
  0d314	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0d317	50		 push	 eax
  0d318	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0d31d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5947 : 	pMsg.Result = CB_ERROR;

  0d320	c6 45 eb 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 5948 : 
; 5949 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++) //loc16

  0d324	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _n$237749[ebp], 0
  0d32b	eb 09		 jmp	 SHORT $LN54@MixWings2_
$LN53@MixWings2_:
  0d32d	8b 45 bc	 mov	 eax, DWORD PTR _n$237749[ebp]
  0d330	83 c0 01	 add	 eax, 1
  0d333	89 45 bc	 mov	 DWORD PTR _n$237749[ebp], eax
$LN54@MixWings2_:
  0d336	83 7d bc 20	 cmp	 DWORD PTR _n$237749[ebp], 32 ; 00000020H
  0d33a	0f 8d 85 01 00
	00		 jge	 $LN52@MixWings2_

; 5950 : 	{
; 5951 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  0d340	8b 4d bc	 mov	 ecx, DWORD PTR _n$237749[ebp]
  0d343	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0d349	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d34c	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0d352	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0d357	83 f8 01	 cmp	 eax, 1
  0d35a	0f 85 60 01 00
	00		 jne	 $LN38@MixWings2_

; 5952 : 		{
; 5953 : 			if ( this->CheckLevel2WingItem(lpObj->pChaosBox[n].m_Type) != FALSE )

  0d360	8b 45 bc	 mov	 eax, DWORD PTR _n$237749[ebp]
  0d363	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0d369	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d36c	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0d372	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0d377	50		 push	 eax
  0d378	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0d37b	e8 00 00 00 00	 call	 ?CheckLevel2WingItem@CMixSystem@@QAEHH@Z ; CMixSystem::CheckLevel2WingItem
  0d380	85 c0		 test	 eax, eax
  0d382	74 39		 je	 SHORT $LN50@MixWings2_

; 5954 : 			{
; 5955 : 				if( this->CheckItemCondition(&lpObj->pChaosBox[n],9,0,0,1,0,0) != FALSE )

  0d384	6a 00		 push	 0
  0d386	6a 00		 push	 0
  0d388	6a 01		 push	 1
  0d38a	6a 00		 push	 0
  0d38c	6a 00		 push	 0
  0d38e	6a 09		 push	 9
  0d390	8b 45 bc	 mov	 eax, DWORD PTR _n$237749[ebp]
  0d393	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0d399	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d39c	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0d3a2	50		 push	 eax
  0d3a3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0d3a6	e8 00 00 00 00	 call	 ?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
  0d3ab	85 c0		 test	 eax, eax
  0d3ad	74 09		 je	 SHORT $LN49@MixWings2_

; 5956 : 				{
; 5957 : 					Need2lvlWing++;

  0d3af	8b 45 dc	 mov	 eax, DWORD PTR _Need2lvlWing$[ebp]
  0d3b2	83 c0 01	 add	 eax, 1
  0d3b5	89 45 dc	 mov	 DWORD PTR _Need2lvlWing$[ebp], eax
$LN49@MixWings2_:

; 5958 : 				}
; 5959 : 			}

  0d3b8	e9 03 01 00 00	 jmp	 $LN38@MixWings2_
$LN50@MixWings2_:

; 5960 : 			else if( this->CheckItemCondition(&lpObj->pChaosBox[n],9,0,0,1,0,1) != FALSE )

  0d3bd	6a 01		 push	 1
  0d3bf	6a 00		 push	 0
  0d3c1	6a 01		 push	 1
  0d3c3	6a 00		 push	 0
  0d3c5	6a 00		 push	 0
  0d3c7	6a 09		 push	 9
  0d3c9	8b 45 bc	 mov	 eax, DWORD PTR _n$237749[ebp]
  0d3cc	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0d3d2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d3d5	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0d3db	50		 push	 eax
  0d3dc	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0d3df	e8 00 00 00 00	 call	 ?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
  0d3e4	85 c0		 test	 eax, eax
  0d3e6	74 0e		 je	 SHORT $LN47@MixWings2_

; 5961 : 			{
; 5962 : 				NeedExlItem++;

  0d3e8	8b 45 d4	 mov	 eax, DWORD PTR _NeedExlItem$[ebp]
  0d3eb	83 c0 01	 add	 eax, 1
  0d3ee	89 45 d4	 mov	 DWORD PTR _NeedExlItem$[ebp], eax
  0d3f1	e9 ca 00 00 00	 jmp	 $LN38@MixWings2_
$LN47@MixWings2_:

; 5963 : 			}
; 5964 : 			else if( lpObj->pChaosBox[n].m_Type == ITEMGET(13,14))	//pero

  0d3f6	8b 45 bc	 mov	 eax, DWORD PTR _n$237749[ebp]
  0d3f9	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0d3ff	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d402	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0d408	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0d40d	3d 0e 1a 00 00	 cmp	 eax, 6670		; 00001a0eH
  0d412	75 0e		 jne	 SHORT $LN45@MixWings2_

; 5965 : 			{
; 5966 : 				NeedLochsFeather++;

  0d414	8b 45 e4	 mov	 eax, DWORD PTR _NeedLochsFeather$[ebp]
  0d417	83 c0 01	 add	 eax, 1
  0d41a	89 45 e4	 mov	 DWORD PTR _NeedLochsFeather$[ebp], eax
  0d41d	e9 9e 00 00 00	 jmp	 $LN38@MixWings2_
$LN45@MixWings2_:

; 5967 : 			}
; 5968 : 			else if( lpObj->pChaosBox[n].m_Type == this->iJewelofChaos)

  0d422	8b 45 bc	 mov	 eax, DWORD PTR _n$237749[ebp]
  0d425	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0d42b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d42e	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0d434	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0d439	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0d43c	3b 41 04	 cmp	 eax, DWORD PTR [ecx+4]
  0d43f	75 0b		 jne	 SHORT $LN43@MixWings2_

; 5969 : 			{
; 5970 : 				NeedJewelOfChaos++;

  0d441	8b 45 e0	 mov	 eax, DWORD PTR _NeedJewelOfChaos$[ebp]
  0d444	83 c0 01	 add	 eax, 1
  0d447	89 45 e0	 mov	 DWORD PTR _NeedJewelOfChaos$[ebp], eax
  0d44a	eb 74		 jmp	 SHORT $LN38@MixWings2_
$LN43@MixWings2_:

; 5971 : 			}
; 5972 : 			else if( lpObj->pChaosBox[n].m_Type == this->iJewelofCreation)

  0d44c	8b 45 bc	 mov	 eax, DWORD PTR _n$237749[ebp]
  0d44f	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0d455	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d458	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0d45e	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0d463	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0d466	3b 41 10	 cmp	 eax, DWORD PTR [ecx+16]
  0d469	75 0b		 jne	 SHORT $LN41@MixWings2_

; 5973 : 			{
; 5974 : 				NeedJewelOfCreatoion++;

  0d46b	8b 45 d8	 mov	 eax, DWORD PTR _NeedJewelOfCreatoion$[ebp]
  0d46e	83 c0 01	 add	 eax, 1
  0d471	89 45 d8	 mov	 DWORD PTR _NeedJewelOfCreatoion$[ebp], eax
  0d474	eb 4a		 jmp	 SHORT $LN38@MixWings2_
$LN41@MixWings2_:

; 5975 : 			}
; 5976 : 			else if( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )

  0d476	8b 45 bc	 mov	 eax, DWORD PTR _n$237749[ebp]
  0d479	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0d47f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d482	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0d488	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0d48d	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  0d492	75 23		 jne	 SHORT $LN39@MixWings2_

; 5977 : 			{
; 5978 : 				PlusProcent+= (int)lpObj->pChaosBox[n].m_Durability;

  0d494	8b 45 bc	 mov	 eax, DWORD PTR _n$237749[ebp]
  0d497	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0d49d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d4a0	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0d4a6	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  0d4aa	e8 00 00 00 00	 call	 __ftol2_sse
  0d4af	03 45 c0	 add	 eax, DWORD PTR _PlusProcent$[ebp]
  0d4b2	89 45 c0	 mov	 DWORD PTR _PlusProcent$[ebp], eax

; 5979 : 			}
; 5980 : 			else

  0d4b5	eb 09		 jmp	 SHORT $LN38@MixWings2_
$LN39@MixWings2_:

; 5981 : 			{
; 5982 : 				NeedError++;

  0d4b7	8b 45 c8	 mov	 eax, DWORD PTR _NeedError$[ebp]
  0d4ba	83 c0 01	 add	 eax, 1
  0d4bd	89 45 c8	 mov	 DWORD PTR _NeedError$[ebp], eax
$LN38@MixWings2_:

; 5983 : 			}
; 5984 : 		}
; 5985 : 	}

  0d4c0	e9 68 fe ff ff	 jmp	 $LN53@MixWings2_
$LN52@MixWings2_:

; 5986 : 
; 5987 : 	if(PlusProcent > 10)

  0d4c5	83 7d c0 0a	 cmp	 DWORD PTR _PlusProcent$[ebp], 10 ; 0000000aH
  0d4c9	7e 2d		 jle	 SHORT $LN37@MixWings2_

; 5988 : 	{
; 5989 : 		pMsg.Result = 0xF0; //new macro

  0d4cb	c6 45 eb f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 5990 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0d4cf	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0d4d3	50		 push	 eax
  0d4d4	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0d4d7	51		 push	 ecx
  0d4d8	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d4db	8b 02		 mov	 eax, DWORD PTR [edx]
  0d4dd	50		 push	 eax
  0d4de	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0d4e3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5991 : 		lpObj->ChaosLock = FALSE;

  0d4e6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d4e9	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 5992 : 		return;

  0d4f3	e9 31 04 00 00	 jmp	 $LN55@MixWings2_
$LN37@MixWings2_:

; 5993 : 	}
; 5994 : 
; 5995 : 	if(NeedExlItem < 1 || NeedLochsFeather != 1 || NeedJewelOfChaos != 1 || Need2lvlWing != 1 || NeedJewelOfCreatoion != 1 || NeedError > 0)

  0d4f8	83 7d d4 01	 cmp	 DWORD PTR _NeedExlItem$[ebp], 1
  0d4fc	7c 1e		 jl	 SHORT $LN35@MixWings2_
  0d4fe	83 7d e4 01	 cmp	 DWORD PTR _NeedLochsFeather$[ebp], 1
  0d502	75 18		 jne	 SHORT $LN35@MixWings2_
  0d504	83 7d e0 01	 cmp	 DWORD PTR _NeedJewelOfChaos$[ebp], 1
  0d508	75 12		 jne	 SHORT $LN35@MixWings2_
  0d50a	83 7d dc 01	 cmp	 DWORD PTR _Need2lvlWing$[ebp], 1
  0d50e	75 0c		 jne	 SHORT $LN35@MixWings2_
  0d510	83 7d d8 01	 cmp	 DWORD PTR _NeedJewelOfCreatoion$[ebp], 1
  0d514	75 06		 jne	 SHORT $LN35@MixWings2_
  0d516	83 7d c8 00	 cmp	 DWORD PTR _NeedError$[ebp], 0
  0d51a	7e 2d		 jle	 SHORT $LN36@MixWings2_
$LN35@MixWings2_:

; 5996 : 	{
; 5997 : 		pMsg.Result = CB_INCORRECT_MIX_ITEMS;

  0d51c	c6 45 eb 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 5998 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0d520	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0d524	50		 push	 eax
  0d525	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0d528	51		 push	 ecx
  0d529	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d52c	8b 02		 mov	 eax, DWORD PTR [edx]
  0d52e	50		 push	 eax
  0d52f	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0d534	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5999 : 		lpObj->ChaosLock = FALSE;

  0d537	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d53a	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 6000 : 		return;

  0d544	e9 e0 03 00 00	 jmp	 $LN55@MixWings2_
$LN36@MixWings2_:

; 6001 : 	}
; 6002 : 
; 6003 : 	LogChaosItem(lpObj, "ThirdWingLevel2_Mix");

  0d549	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@FCHPIPIA@ThirdWingLevel2_Mix?$AA@
  0d54e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d551	50		 push	 eax
  0d552	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0d555	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 6004 : 	LogAddTD("[ThirdWing Mix][Level 02] Chaos Mix Start");

  0d55a	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@OMLKNABI@?$FLThirdWing?5Mix?$FN?$FLLevel?502?$FN?5Chaos?5@
  0d55f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0d565	83 c4 04	 add	 esp, 4

; 6005 : 
; 6006 : 	int iChaosTaxMoney = (int)((__int64)NeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  0d568	8b 45 d0	 mov	 eax, DWORD PTR _NeedMoney$[ebp]
  0d56b	99		 cdq
  0d56c	8b f0		 mov	 esi, eax
  0d56e	8b fa		 mov	 edi, edx
  0d570	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d573	8b 08		 mov	 ecx, DWORD PTR [eax]
  0d575	51		 push	 ecx
  0d576	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0d57b	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  0d580	99		 cdq
  0d581	52		 push	 edx
  0d582	50		 push	 eax
  0d583	57		 push	 edi
  0d584	56		 push	 esi
  0d585	e8 00 00 00 00	 call	 __allmul
  0d58a	6a 00		 push	 0
  0d58c	6a 64		 push	 100			; 00000064H
  0d58e	52		 push	 edx
  0d58f	50		 push	 eax
  0d590	e8 00 00 00 00	 call	 __alldiv
  0d595	89 45 b8	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 6007 : 
; 6008 : 	if(iChaosTaxMoney < 0)

  0d598	83 7d b8 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  0d59c	7d 07		 jge	 SHORT $LN34@MixWings2_

; 6009 : 	{
; 6010 : 		iChaosTaxMoney = 0;

  0d59e	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN34@MixWings2_:

; 6011 : 	}
; 6012 : 
; 6013 : 	if ( lpObj->Money < NeedMoney )

  0d5a5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d5a8	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0d5ae	3b 4d d0	 cmp	 ecx, DWORD PTR _NeedMoney$[ebp]
  0d5b1	7d 2d		 jge	 SHORT $LN33@MixWings2_

; 6014 : 	{
; 6015 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  0d5b3	c6 45 eb 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 6016 : 
; 6017 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0d5b7	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0d5bb	50		 push	 eax
  0d5bc	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0d5bf	51		 push	 ecx
  0d5c0	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d5c3	8b 02		 mov	 eax, DWORD PTR [edx]
  0d5c5	50		 push	 eax
  0d5c6	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0d5cb	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6018 : 		lpObj->ChaosLock = FALSE;

  0d5ce	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d5d1	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 6019 : 
; 6020 : 		return;

  0d5db	e9 49 03 00 00	 jmp	 $LN55@MixWings2_
$LN33@MixWings2_:

; 6021 : 	}
; 6022 : 
; 6023 : 	lpObj->Money -= NeedMoney;

  0d5e0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d5e3	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0d5e9	2b 4d d0	 sub	 ecx, DWORD PTR _NeedMoney$[ebp]
  0d5ec	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d5ef	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 6024 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  0d5f5	8b 45 b8	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0d5f8	50		 push	 eax
  0d5f9	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0d5fe	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 6025 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  0d603	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d606	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0d60c	51		 push	 ecx
  0d60d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d610	8b 02		 mov	 eax, DWORD PTR [edx]
  0d612	50		 push	 eax
  0d613	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  0d618	83 c4 08	 add	 esp, 8

; 6026 : 
; 6027 : 	srand(time(NULL));

  0d61b	6a 00		 push	 0
  0d61d	e8 00 00 00 00	 call	 _time
  0d622	83 c4 04	 add	 esp, 4
  0d625	50		 push	 eax
  0d626	e8 00 00 00 00	 call	 _srand
  0d62b	83 c4 04	 add	 esp, 4

; 6028 : 	int MixPercent = (rand()%100);

  0d62e	e8 00 00 00 00	 call	 _rand
  0d633	99		 cdq
  0d634	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0d639	f7 f9		 idiv	 ecx
  0d63b	89 55 b4	 mov	 DWORD PTR _MixPercent$[ebp], edx

; 6029 : 
; 6030 : 	if ( RateMix > MixPercent)

  0d63e	8b 45 cc	 mov	 eax, DWORD PTR _RateMix$[ebp]
  0d641	3b 45 b4	 cmp	 eax, DWORD PTR _MixPercent$[ebp]
  0d644	0f 8e 63 02 00
	00		 jle	 $LN32@MixWings2_

; 6031 : 	{
; 6032 : 		
; 6033 : 		int loc18 = rand()%3;

  0d64a	e8 00 00 00 00	 call	 _rand
  0d64f	99		 cdq
  0d650	b9 03 00 00 00	 mov	 ecx, 3
  0d655	f7 f9		 idiv	 ecx
  0d657	89 55 b0	 mov	 DWORD PTR _loc18$237783[ebp], edx

; 6034 : 		int ItemType = 0;

  0d65a	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR _ItemType$237784[ebp], 0

; 6035 : 
; 6036 : 		if(loc18 == 0)

  0d661	83 7d b0 00	 cmp	 DWORD PTR _loc18$237783[ebp], 0
  0d665	75 09		 jne	 SHORT $LN31@MixWings2_

; 6037 : 		{
; 6038 : 			ItemType = ITEMGET(12,186);

  0d667	c7 45 ac ba 18
	00 00		 mov	 DWORD PTR _ItemType$237784[ebp], 6330 ; 000018baH
  0d66e	eb 1c		 jmp	 SHORT $LN27@MixWings2_
$LN31@MixWings2_:

; 6039 : 		}
; 6040 : 		else if( loc18 == 1)

  0d670	83 7d b0 01	 cmp	 DWORD PTR _loc18$237783[ebp], 1
  0d674	75 09		 jne	 SHORT $LN29@MixWings2_

; 6041 : 		{
; 6042 : 			ItemType = ITEMGET(12,187);

  0d676	c7 45 ac bb 18
	00 00		 mov	 DWORD PTR _ItemType$237784[ebp], 6331 ; 000018bbH
  0d67d	eb 0d		 jmp	 SHORT $LN27@MixWings2_
$LN29@MixWings2_:

; 6043 : 		}
; 6044 : 		else if( loc18 == 2)

  0d67f	83 7d b0 02	 cmp	 DWORD PTR _loc18$237783[ebp], 2
  0d683	75 07		 jne	 SHORT $LN27@MixWings2_

; 6045 : 		{
; 6046 : 			ItemType = ITEMGET(12,188);

  0d685	c7 45 ac bc 18
	00 00		 mov	 DWORD PTR _ItemType$237784[ebp], 6332 ; 000018bcH
$LN27@MixWings2_:

; 6047 : 		}
; 6048 : 
; 6049 : 		int ItemLuckAdd = 0;

  0d68c	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR _ItemLuckAdd$237790[ebp], 0

; 6050 : 
; 6051 : 		if( (rand()%100) <= MixLuckRate )

  0d693	e8 00 00 00 00	 call	 _rand
  0d698	99		 cdq
  0d699	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0d69e	f7 f9		 idiv	 ecx
  0d6a0	3b 55 c4	 cmp	 edx, DWORD PTR _MixLuckRate$[ebp]
  0d6a3	7f 07		 jg	 SHORT $LN26@MixWings2_

; 6052 : 		{
; 6053 : 			ItemLuckAdd = 1;

  0d6a5	c7 45 a8 01 00
	00 00		 mov	 DWORD PTR _ItemLuckAdd$237790[ebp], 1
$LN26@MixWings2_:

; 6054 : 		}
; 6055 : 
; 6056 : 		int ItemOptAdd = 0;

  0d6ac	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _ItemOptAdd$237792[ebp], 0

; 6057 : 		int loc23 = 0;

  0d6b3	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _loc23$237793[ebp], 0

; 6058 : 		int loc24 = rand()%2;

  0d6ba	e8 00 00 00 00	 call	 _rand
  0d6bf	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0d6c4	79 05		 jns	 SHORT $LN57@MixWings2_
  0d6c6	48		 dec	 eax
  0d6c7	83 c8 fe	 or	 eax, -2			; fffffffeH
  0d6ca	40		 inc	 eax
$LN57@MixWings2_:
  0d6cb	89 45 9c	 mov	 DWORD PTR _loc24$237794[ebp], eax

; 6059 : 		int loc25;
; 6060 : 		int loc26;
; 6061 : 		int loc27;
; 6062 : 		int loc28;
; 6063 : 		int loc29;
; 6064 : 
; 6065 : 		switch ( loc24 )

  0d6ce	8b 45 9c	 mov	 eax, DWORD PTR _loc24$237794[ebp]
  0d6d1	89 85 44 ff ff
	ff		 mov	 DWORD PTR tv243[ebp], eax
  0d6d7	83 bd 44 ff ff
	ff 00		 cmp	 DWORD PTR tv243[ebp], 0
  0d6de	74 0b		 je	 SHORT $LN23@MixWings2_
  0d6e0	83 bd 44 ff ff
	ff 01		 cmp	 DWORD PTR tv243[ebp], 1
  0d6e7	74 26		 je	 SHORT $LN21@MixWings2_
  0d6e9	eb 46		 jmp	 SHORT $LN24@MixWings2_
$LN23@MixWings2_:

; 6066 : 		{
; 6067 : 		case 0:
; 6068 : 			loc25 = rand()%1000;

  0d6eb	e8 00 00 00 00	 call	 _rand
  0d6f0	99		 cdq
  0d6f1	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0d6f6	f7 f9		 idiv	 ecx
  0d6f8	89 55 98	 mov	 DWORD PTR _loc25$237795[ebp], edx

; 6069 : 			if(loc25 < 400)

  0d6fb	81 7d 98 90 01
	00 00		 cmp	 DWORD PTR _loc25$237795[ebp], 400 ; 00000190H
  0d702	7d 09		 jge	 SHORT $LN22@MixWings2_

; 6070 : 			{
; 6071 : 				loc23 |= 0x10;

  0d704	8b 45 a0	 mov	 eax, DWORD PTR _loc23$237793[ebp]
  0d707	83 c8 10	 or	 eax, 16			; 00000010H
  0d70a	89 45 a0	 mov	 DWORD PTR _loc23$237793[ebp], eax
$LN22@MixWings2_:

; 6072 : 			}
; 6073 : 			break;

  0d70d	eb 22		 jmp	 SHORT $LN24@MixWings2_
$LN21@MixWings2_:

; 6074 : 
; 6075 : 		case 1:
; 6076 : 			loc25 = rand()%1000;

  0d70f	e8 00 00 00 00	 call	 _rand
  0d714	99		 cdq
  0d715	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0d71a	f7 f9		 idiv	 ecx
  0d71c	89 55 98	 mov	 DWORD PTR _loc25$237795[ebp], edx

; 6077 : 			if(loc24 < 300)

  0d71f	81 7d 9c 2c 01
	00 00		 cmp	 DWORD PTR _loc24$237794[ebp], 300 ; 0000012cH
  0d726	7d 09		 jge	 SHORT $LN20@MixWings2_

; 6078 : 			{
; 6079 : 				loc23 |= 0x20;

  0d728	8b 45 a0	 mov	 eax, DWORD PTR _loc23$237793[ebp]
  0d72b	83 c8 20	 or	 eax, 32			; 00000020H
  0d72e	89 45 a0	 mov	 DWORD PTR _loc23$237793[ebp], eax
$LN20@MixWings2_:
$LN24@MixWings2_:

; 6080 : 			}
; 6081 : 			break;
; 6082 : 		}
; 6083 : 
; 6084 : 		loc26 = rand()%4;

  0d731	e8 00 00 00 00	 call	 _rand
  0d736	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  0d73b	79 05		 jns	 SHORT $LN58@MixWings2_
  0d73d	48		 dec	 eax
  0d73e	83 c8 fc	 or	 eax, -4			; fffffffcH
  0d741	40		 inc	 eax
$LN58@MixWings2_:
  0d742	89 45 94	 mov	 DWORD PTR _loc26$237796[ebp], eax

; 6085 : 		loc27 = rand()%1000;

  0d745	e8 00 00 00 00	 call	 _rand
  0d74a	99		 cdq
  0d74b	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0d750	f7 f9		 idiv	 ecx
  0d752	89 55 90	 mov	 DWORD PTR _loc27$237797[ebp], edx

; 6086 : 
; 6087 : 		switch( loc26 )

  0d755	8b 45 94	 mov	 eax, DWORD PTR _loc26$237796[ebp]
  0d758	89 85 44 ff ff
	ff		 mov	 DWORD PTR tv258[ebp], eax
  0d75e	83 bd 44 ff ff
	ff 01		 cmp	 DWORD PTR tv258[ebp], 1
  0d765	74 14		 je	 SHORT $LN17@MixWings2_
  0d767	83 bd 44 ff ff
	ff 02		 cmp	 DWORD PTR tv258[ebp], 2
  0d76e	74 1a		 je	 SHORT $LN15@MixWings2_
  0d770	83 bd 44 ff ff
	ff 03		 cmp	 DWORD PTR tv258[ebp], 3
  0d777	74 20		 je	 SHORT $LN13@MixWings2_
  0d779	eb 2b		 jmp	 SHORT $LN18@MixWings2_
$LN17@MixWings2_:

; 6088 : 		{
; 6089 : 		case 1:
; 6090 : 			{
; 6091 : 				if(loc27 < 120)

  0d77b	83 7d 90 78	 cmp	 DWORD PTR _loc27$237797[ebp], 120 ; 00000078H
  0d77f	7d 07		 jge	 SHORT $LN16@MixWings2_

; 6092 : 				{
; 6093 : 					ItemOptAdd = 1;

  0d781	c7 45 a4 01 00
	00 00		 mov	 DWORD PTR _ItemOptAdd$237792[ebp], 1
$LN16@MixWings2_:

; 6094 : 				}
; 6095 : 			}
; 6096 : 			break;

  0d788	eb 1c		 jmp	 SHORT $LN18@MixWings2_
$LN15@MixWings2_:

; 6097 : 
; 6098 : 		case 2:
; 6099 : 			{
; 6100 : 				if(loc27 < 60)

  0d78a	83 7d 90 3c	 cmp	 DWORD PTR _loc27$237797[ebp], 60 ; 0000003cH
  0d78e	7d 07		 jge	 SHORT $LN14@MixWings2_

; 6101 : 				{
; 6102 : 					ItemOptAdd = 2;

  0d790	c7 45 a4 02 00
	00 00		 mov	 DWORD PTR _ItemOptAdd$237792[ebp], 2
$LN14@MixWings2_:

; 6103 : 				}
; 6104 : 			}
; 6105 : 			break;

  0d797	eb 0d		 jmp	 SHORT $LN18@MixWings2_
$LN13@MixWings2_:

; 6106 : 
; 6107 : 		case 3:
; 6108 : 			{
; 6109 : 				if(loc27 < 30)

  0d799	83 7d 90 1e	 cmp	 DWORD PTR _loc27$237797[ebp], 30 ; 0000001eH
  0d79d	7d 07		 jge	 SHORT $LN12@MixWings2_

; 6110 : 				{
; 6111 : 					ItemOptAdd = 3;

  0d79f	c7 45 a4 03 00
	00 00		 mov	 DWORD PTR _ItemOptAdd$237792[ebp], 3
$LN12@MixWings2_:
$LN18@MixWings2_:

; 6112 : 				}
; 6113 : 			}
; 6114 : 			break;
; 6115 : 		}
; 6116 : 
; 6117 : 		loc28 = rand()%4;

  0d7a6	e8 00 00 00 00	 call	 _rand
  0d7ab	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  0d7b0	79 05		 jns	 SHORT $LN59@MixWings2_
  0d7b2	48		 dec	 eax
  0d7b3	83 c8 fc	 or	 eax, -4			; fffffffcH
  0d7b6	40		 inc	 eax
$LN59@MixWings2_:
  0d7b7	89 45 8c	 mov	 DWORD PTR _loc28$237798[ebp], eax

; 6118 : 		loc29 = rand()%1000;

  0d7ba	e8 00 00 00 00	 call	 _rand
  0d7bf	99		 cdq
  0d7c0	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0d7c5	f7 f9		 idiv	 ecx
  0d7c7	89 55 88	 mov	 DWORD PTR _loc29$237799[ebp], edx

; 6119 : 
; 6120 : 		switch( loc28 )

  0d7ca	8b 45 8c	 mov	 eax, DWORD PTR _loc28$237798[ebp]
  0d7cd	89 85 44 ff ff
	ff		 mov	 DWORD PTR tv269[ebp], eax
  0d7d3	83 bd 44 ff ff
	ff 03		 cmp	 DWORD PTR tv269[ebp], 3
  0d7da	77 4f		 ja	 SHORT $LN10@MixWings2_
  0d7dc	8b 8d 44 ff ff
	ff		 mov	 ecx, DWORD PTR tv269[ebp]
  0d7e2	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN60@MixWings2_[ecx*4]
$LN9@MixWings2_:

; 6121 : 		{
; 6122 : 		case 0:
; 6123 : 			{
; 6124 : 				if(loc29 < 40)

  0d7e9	83 7d 88 28	 cmp	 DWORD PTR _loc29$237799[ebp], 40 ; 00000028H
  0d7ed	7d 09		 jge	 SHORT $LN8@MixWings2_

; 6125 : 				{
; 6126 : 					loc23 |= 1;

  0d7ef	8b 45 a0	 mov	 eax, DWORD PTR _loc23$237793[ebp]
  0d7f2	83 c8 01	 or	 eax, 1
  0d7f5	89 45 a0	 mov	 DWORD PTR _loc23$237793[ebp], eax
$LN8@MixWings2_:

; 6127 : 				}
; 6128 : 			}
; 6129 : 			break;

  0d7f8	eb 31		 jmp	 SHORT $LN10@MixWings2_
$LN7@MixWings2_:

; 6130 : 		case 1:
; 6131 : 			{
; 6132 : 				if(loc29 < 20)

  0d7fa	83 7d 88 14	 cmp	 DWORD PTR _loc29$237799[ebp], 20 ; 00000014H
  0d7fe	7d 09		 jge	 SHORT $LN6@MixWings2_

; 6133 : 				{
; 6134 : 					loc23 |= 2;

  0d800	8b 45 a0	 mov	 eax, DWORD PTR _loc23$237793[ebp]
  0d803	83 c8 02	 or	 eax, 2
  0d806	89 45 a0	 mov	 DWORD PTR _loc23$237793[ebp], eax
$LN6@MixWings2_:

; 6135 : 				}
; 6136 : 			}
; 6137 : 			break;

  0d809	eb 20		 jmp	 SHORT $LN10@MixWings2_
$LN5@MixWings2_:

; 6138 : 
; 6139 : 		case 2:
; 6140 : 			{
; 6141 : 				if(loc29 < 70)

  0d80b	83 7d 88 46	 cmp	 DWORD PTR _loc29$237799[ebp], 70 ; 00000046H
  0d80f	7d 09		 jge	 SHORT $LN4@MixWings2_

; 6142 : 				{
; 6143 : 					loc23 |= 4;

  0d811	8b 45 a0	 mov	 eax, DWORD PTR _loc23$237793[ebp]
  0d814	83 c8 04	 or	 eax, 4
  0d817	89 45 a0	 mov	 DWORD PTR _loc23$237793[ebp], eax
$LN4@MixWings2_:

; 6144 : 				}
; 6145 : 			}
; 6146 : 			break;

  0d81a	eb 0f		 jmp	 SHORT $LN10@MixWings2_
$LN3@MixWings2_:

; 6147 : 		case 3:
; 6148 : 			{
; 6149 : 				if(loc29 < 70)

  0d81c	83 7d 88 46	 cmp	 DWORD PTR _loc29$237799[ebp], 70 ; 00000046H
  0d820	7d 09		 jge	 SHORT $LN2@MixWings2_

; 6150 : 				{
; 6151 : 					loc23 |= 8;

  0d822	8b 45 a0	 mov	 eax, DWORD PTR _loc23$237793[ebp]
  0d825	83 c8 08	 or	 eax, 8
  0d828	89 45 a0	 mov	 DWORD PTR _loc23$237793[ebp], eax
$LN2@MixWings2_:
$LN10@MixWings2_:

; 6152 : 				}
; 6153 : 			}
; 6154 : 			break;
; 6155 : 		}
; 6156 : 
; 6157 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, ItemType , 0, 0, 0, (BYTE)ItemLuckAdd, (BYTE)ItemOptAdd, -1, (BYTE)loc23, 0);

  0d82b	6a 00		 push	 0
  0d82d	0f b6 45 a0	 movzx	 eax, BYTE PTR _loc23$237793[ebp]
  0d831	50		 push	 eax
  0d832	6a ff		 push	 -1
  0d834	0f b6 4d a4	 movzx	 ecx, BYTE PTR _ItemOptAdd$237792[ebp]
  0d838	51		 push	 ecx
  0d839	0f b6 55 a8	 movzx	 edx, BYTE PTR _ItemLuckAdd$237790[ebp]
  0d83d	52		 push	 edx
  0d83e	6a 00		 push	 0
  0d840	6a 00		 push	 0
  0d842	6a 00		 push	 0
  0d844	8b 45 ac	 mov	 eax, DWORD PTR _ItemType$237784[ebp]
  0d847	50		 push	 eax
  0d848	6a 00		 push	 0
  0d84a	6a 00		 push	 0
  0d84c	68 ff 00 00 00	 push	 255			; 000000ffH
  0d851	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d854	8b 11		 mov	 edx, DWORD PTR [ecx]
  0d856	52		 push	 edx
  0d857	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0d85c	83 c4 34	 add	 esp, 52			; 00000034H

; 6158 : 		::gObjInventoryCommit(lpObj->m_Index);

  0d85f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d862	8b 08		 mov	 ecx, DWORD PTR [eax]
  0d864	51		 push	 ecx
  0d865	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0d86a	83 c4 04	 add	 esp, 4

; 6159 : 
; 6160 : 		LogAddTD("[2.5 Wings Mix][Level 02] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate : %d",
; 6161 : 			lpObj->AccountID, lpObj->Name, MixPercent,	lpObj->Money, NeedMoney);

  0d86d	8b 45 d0	 mov	 eax, DWORD PTR _NeedMoney$[ebp]
  0d870	50		 push	 eax
  0d871	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d874	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  0d87a	52		 push	 edx
  0d87b	8b 45 b4	 mov	 eax, DWORD PTR _MixPercent$[ebp]
  0d87e	50		 push	 eax
  0d87f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d882	83 c1 77	 add	 ecx, 119		; 00000077H
  0d885	51		 push	 ecx
  0d886	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d889	83 c2 6c	 add	 edx, 108		; 0000006cH
  0d88c	52		 push	 edx
  0d88d	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@GJLNHMHM@?$FL2?45?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@
  0d892	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0d898	83 c4 18	 add	 esp, 24			; 00000018H

; 6162 : 
; 6163 : #if(SYSTEM_ACHIEVEMENTS)
; 6164 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  0d89b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d89e	8b 08		 mov	 ecx, DWORD PTR [eax]
  0d8a0	51		 push	 ecx
  0d8a1	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0d8a6	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 6165 : #endif
; 6166 : 	}
; 6167 : 	else

  0d8ab	eb 7c		 jmp	 SHORT $LN1@MixWings2_
$LN32@MixWings2_:

; 6168 : 	{
; 6169 : 		this->ChaosBoxInit(lpObj);

  0d8ad	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d8b0	50		 push	 eax
  0d8b1	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0d8b4	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 6170 : 		::GCUserChaosBoxSend(lpObj, 0);

  0d8b9	6a 00		 push	 0
  0d8bb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d8be	50		 push	 eax
  0d8bf	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0d8c4	83 c4 08	 add	 esp, 8

; 6171 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0d8c7	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0d8cb	50		 push	 eax
  0d8cc	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0d8cf	51		 push	 ecx
  0d8d0	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d8d3	8b 02		 mov	 eax, DWORD PTR [edx]
  0d8d5	50		 push	 eax
  0d8d6	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0d8db	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6172 : 
; 6173 : 		LogAddTD("[2.5 Wings Mix][Level 02] [%s][%s] CBMix Fail %d Money : %d-%d",
; 6174 : 			lpObj->AccountID, lpObj->Name, MixPercent,	lpObj->Money, NeedMoney);

  0d8de	8b 45 d0	 mov	 eax, DWORD PTR _NeedMoney$[ebp]
  0d8e1	50		 push	 eax
  0d8e2	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d8e5	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  0d8eb	52		 push	 edx
  0d8ec	8b 45 b4	 mov	 eax, DWORD PTR _MixPercent$[ebp]
  0d8ef	50		 push	 eax
  0d8f0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0d8f3	83 c1 77	 add	 ecx, 119		; 00000077H
  0d8f6	51		 push	 ecx
  0d8f7	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0d8fa	83 c2 6c	 add	 edx, 108		; 0000006cH
  0d8fd	52		 push	 edx
  0d8fe	68 00 00 00 00	 push	 OFFSET ??_C@_0DP@JHFONFJG@?$FL2?45?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@
  0d903	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0d909	83 c4 18	 add	 esp, 24			; 00000018H

; 6175 : 		lpObj->ChaosLock = FALSE;

  0d90c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d90f	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 6176 : 
; 6177 : #if(SYSTEM_ACHIEVEMENTS)
; 6178 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  0d919	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d91c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0d91e	51		 push	 ecx
  0d91f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0d924	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN1@MixWings2_:
$LN55@MixWings2_:

; 6179 : #endif
; 6180 : 	}
; 6181 : }

  0d929	5f		 pop	 edi
  0d92a	5e		 pop	 esi
  0d92b	5b		 pop	 ebx
  0d92c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0d92f	33 cd		 xor	 ecx, ebp
  0d931	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0d936	8b e5		 mov	 esp, ebp
  0d938	5d		 pop	 ebp
  0d939	c2 04 00	 ret	 4
$LN60@MixWings2_:
  0d93c	00 00 00 00	 DD	 $LN9@MixWings2_
  0d940	00 00 00 00	 DD	 $LN7@MixWings2_
  0d944	00 00 00 00	 DD	 $LN5@MixWings2_
  0d948	00 00 00 00	 DD	 $LN3@MixWings2_
?MixWings2_5@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP	; CMixSystem::MixWings2_5
_TEXT	ENDS
PUBLIC	??_C@_0DP@EEJHDKEM@?$FL4rd?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@ ; `string'
PUBLIC	??_C@_0FC@FEDMFJGA@?$FL4rd?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?MixWings4rd@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::MixWings4rd
;	COMDAT ??_C@_0DP@EEJHDKEM@?$FL4rd?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@
CONST	SEGMENT
??_C@_0DP@EEJHDKEM@?$FL4rd?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@ DB '['
	DB	'4rd Wings Mix][Level 02] [%s][%s] CBMix Fail %d Money : %d-%d'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0FC@FEDMFJGA@?$FL4rd?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@
CONST	SEGMENT
??_C@_0FC@FEDMFJGA@?$FL4rd?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@ DB '['
	DB	'4rd Wings Mix][Level 02] [%s][%s] CBMix Success %d Money : %d'
	DB	'-%d, CharmRate : %d', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv357 = -200						; size = 4
tv314 = -200						; size = 4
tv299 = -200						; size = 4
_loc29$237920 = -132					; size = 4
_loc28$237919 = -128					; size = 4
_loc27$237918 = -124					; size = 4
_loc26$237917 = -120					; size = 4
_loc25$237916 = -116					; size = 4
_loc24$237915 = -112					; size = 4
_loc23$237914 = -108					; size = 4
_ItemOptAdd$237913 = -104				; size = 4
_ItemLuckAdd$237911 = -100				; size = 4
_ItemType$237899 = -96					; size = 4
_loc18$237898 = -92					; size = 4
_CharItemCount$237895 = -88				; size = 4
_MixPercent$ = -84					; size = 4
_iChaosTaxMoney$ = -80					; size = 4
_n$237856 = -76						; size = 4
_PlusProcent$ = -72					; size = 4
_MixLuckRate$ = -68					; size = 4
_NeedError$ = -64					; size = 4
_RateMix$ = -60						; size = 4
_NeedMoney$ = -56					; size = 4
_NeedExlItem$ = -52					; size = 4
_Need3lvlWing$ = -48					; size = 4
_Need30Soul$ = -44					; size = 4
_Need30Bless$ = -40					; size = 4
_NeedJewelOfCreatoion$ = -36				; size = 4
_NeedJewelOfChaos$ = -32				; size = 4
_NeedCondor$ = -28					; size = 4
_pMsg$ = -24						; size = 16
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?MixWings4rd@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC	; CMixSystem::MixWings4rd
; _this$ = ecx

; 6184 : {	

  0d950	55		 push	 ebp
  0d951	8b ec		 mov	 ebp, esp
  0d953	81 ec c8 00 00
	00		 sub	 esp, 200		; 000000c8H
  0d959	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0d95e	33 c5		 xor	 eax, ebp
  0d960	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0d963	53		 push	 ebx
  0d964	56		 push	 esi
  0d965	57		 push	 edi
  0d966	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 6185 : 
; 6186 : 	PMSG_CHAOSMIXRESULT pMsg;
; 6187 : 
; 6188 : 	lpObj->ChaosLock = TRUE;

  0d969	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0d96c	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 6189 : 
; 6190 : 	int NeedCondor = 0;

  0d976	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _NeedCondor$[ebp], 0

; 6191 : 	int NeedJewelOfChaos = 0;

  0d97d	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _NeedJewelOfChaos$[ebp], 0

; 6192 : 	int NeedJewelOfCreatoion = 0;

  0d984	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _NeedJewelOfCreatoion$[ebp], 0

; 6193 : 	int Need30Bless = 0;

  0d98b	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _Need30Bless$[ebp], 0

; 6194 : 	int Need30Soul = 0;

  0d992	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _Need30Soul$[ebp], 0

; 6195 : 	int Need3lvlWing = 0;

  0d999	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _Need3lvlWing$[ebp], 0

; 6196 : 	int NeedExlItem = 0;

  0d9a0	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _NeedExlItem$[ebp], 0

; 6197 : 	int NeedMoney = 25000000;

  0d9a7	c7 45 c8 40 78
	7d 01		 mov	 DWORD PTR _NeedMoney$[ebp], 25000000 ; 017d7840H

; 6198 : 	int RateMix	= ExConfig.CommonServer.Wing4MaxSuccessRate;

  0d9ae	a1 98 00 00 00	 mov	 eax, DWORD PTR ?ExConfig@@3VcExConfigs@@A+152
  0d9b3	89 45 c4	 mov	 DWORD PTR _RateMix$[ebp], eax

; 6199 : 	int NeedError = 0;

  0d9b6	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _NeedError$[ebp], 0

; 6200 : 	int MixLuckRate = 30;

  0d9bd	c7 45 bc 1e 00
	00 00		 mov	 DWORD PTR _MixLuckRate$[ebp], 30 ; 0000001eH

; 6201 : 	int PlusProcent = 0;

  0d9c4	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _PlusProcent$[ebp], 0

; 6202 : 
; 6203 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0d9cb	6a 10		 push	 16			; 00000010H
  0d9cd	68 86 00 00 00	 push	 134			; 00000086H
  0d9d2	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0d9d5	50		 push	 eax
  0d9d6	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0d9db	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6204 : 	pMsg.Result = CB_ERROR;

  0d9de	c6 45 eb 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 6205 : 
; 6206 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++) //loc16

  0d9e2	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR _n$237856[ebp], 0
  0d9e9	eb 09		 jmp	 SHORT $LN67@MixWings4r
$LN66@MixWings4r:
  0d9eb	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0d9ee	83 c0 01	 add	 eax, 1
  0d9f1	89 45 b4	 mov	 DWORD PTR _n$237856[ebp], eax
$LN67@MixWings4r:
  0d9f4	83 7d b4 20	 cmp	 DWORD PTR _n$237856[ebp], 32 ; 00000020H
  0d9f8	0f 8d 79 02 00
	00		 jge	 $LN65@MixWings4r

; 6207 : 	{
; 6208 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  0d9fe	8b 4d b4	 mov	 ecx, DWORD PTR _n$237856[ebp]
  0da01	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0da07	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0da0a	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0da10	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0da15	83 f8 01	 cmp	 eax, 1
  0da18	0f 85 54 02 00
	00		 jne	 $LN46@MixWings4r

; 6209 : 		{
; 6210 : 			if ( lpObj->pChaosBox[n].m_Type == this->iWingofStorm ||
; 6211 : 				 lpObj->pChaosBox[n].m_Type == this->iWingofEternal ||
; 6212 : 				 lpObj->pChaosBox[n].m_Type == this->iWingofIllusion ||
; 6213 : 				 lpObj->pChaosBox[n].m_Type == this->iWingofRuin ||
; 6214 : 				 lpObj->pChaosBox[n].m_Type == this->iCapeofLord ||
; 6215 : 				 lpObj->pChaosBox[n].m_Type == this->iWingofDimension )

  0da1e	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0da21	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0da27	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0da2a	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0da30	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0da35	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0da38	3b 41 24	 cmp	 eax, DWORD PTR [ecx+36]
  0da3b	0f 84 9b 00 00
	00		 je	 $LN62@MixWings4r
  0da41	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0da44	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0da4a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0da4d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0da53	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0da58	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0da5b	3b 41 28	 cmp	 eax, DWORD PTR [ecx+40]
  0da5e	74 7c		 je	 SHORT $LN62@MixWings4r
  0da60	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0da63	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0da69	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0da6c	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0da72	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0da77	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0da7a	3b 41 2c	 cmp	 eax, DWORD PTR [ecx+44]
  0da7d	74 5d		 je	 SHORT $LN62@MixWings4r
  0da7f	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0da82	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0da88	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0da8b	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0da91	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0da96	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0da99	3b 41 30	 cmp	 eax, DWORD PTR [ecx+48]
  0da9c	74 3e		 je	 SHORT $LN62@MixWings4r
  0da9e	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0daa1	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0daa7	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0daaa	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0dab0	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0dab5	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0dab8	3b 41 34	 cmp	 eax, DWORD PTR [ecx+52]
  0dabb	74 1f		 je	 SHORT $LN62@MixWings4r
  0dabd	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0dac0	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0dac6	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0dac9	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0dacf	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0dad4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0dad7	3b 41 38	 cmp	 eax, DWORD PTR [ecx+56]
  0dada	75 39		 jne	 SHORT $LN63@MixWings4r
$LN62@MixWings4r:

; 6216 : 			{
; 6217 : 				if( this->CheckItemCondition(&lpObj->pChaosBox[n],9,0,0,1,0,0) != FALSE )

  0dadc	6a 00		 push	 0
  0dade	6a 00		 push	 0
  0dae0	6a 01		 push	 1
  0dae2	6a 00		 push	 0
  0dae4	6a 00		 push	 0
  0dae6	6a 09		 push	 9
  0dae8	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0daeb	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0daf1	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0daf4	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0dafa	50		 push	 eax
  0dafb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0dafe	e8 00 00 00 00	 call	 ?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
  0db03	85 c0		 test	 eax, eax
  0db05	74 09		 je	 SHORT $LN61@MixWings4r

; 6218 : 				{
; 6219 : 					Need3lvlWing++;

  0db07	8b 45 d0	 mov	 eax, DWORD PTR _Need3lvlWing$[ebp]
  0db0a	83 c0 01	 add	 eax, 1
  0db0d	89 45 d0	 mov	 DWORD PTR _Need3lvlWing$[ebp], eax
$LN61@MixWings4r:

; 6220 : 				}
; 6221 : 			}

  0db10	e9 5d 01 00 00	 jmp	 $LN46@MixWings4r
$LN63@MixWings4r:

; 6222 : 			else if( this->CheckItemCondition(&lpObj->pChaosBox[n],9,0,0,1,0,1) != FALSE )

  0db15	6a 01		 push	 1
  0db17	6a 00		 push	 0
  0db19	6a 01		 push	 1
  0db1b	6a 00		 push	 0
  0db1d	6a 00		 push	 0
  0db1f	6a 09		 push	 9
  0db21	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0db24	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0db2a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0db2d	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0db33	50		 push	 eax
  0db34	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0db37	e8 00 00 00 00	 call	 ?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
  0db3c	85 c0		 test	 eax, eax
  0db3e	74 0e		 je	 SHORT $LN59@MixWings4r

; 6223 : 			{
; 6224 : 				NeedExlItem++;

  0db40	8b 45 cc	 mov	 eax, DWORD PTR _NeedExlItem$[ebp]
  0db43	83 c0 01	 add	 eax, 1
  0db46	89 45 cc	 mov	 DWORD PTR _NeedExlItem$[ebp], eax
  0db49	e9 24 01 00 00	 jmp	 $LN46@MixWings4r
$LN59@MixWings4r:

; 6225 : 			}
; 6226 : 			else if( lpObj->pChaosBox[n].m_Type == ITEMGET(13,52))	//condor

  0db4e	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0db51	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0db57	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0db5a	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0db60	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0db65	3d 34 1a 00 00	 cmp	 eax, 6708		; 00001a34H
  0db6a	75 0e		 jne	 SHORT $LN57@MixWings4r

; 6227 : 			{
; 6228 : 				NeedCondor++;

  0db6c	8b 45 e4	 mov	 eax, DWORD PTR _NeedCondor$[ebp]
  0db6f	83 c0 01	 add	 eax, 1
  0db72	89 45 e4	 mov	 DWORD PTR _NeedCondor$[ebp], eax
  0db75	e9 f8 00 00 00	 jmp	 $LN46@MixWings4r
$LN57@MixWings4r:

; 6229 : 			}
; 6230 : 			else if( lpObj->pChaosBox[n].m_Type == this->iBundleofBless)	//30 B

  0db7a	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0db7d	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0db83	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0db86	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0db8c	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0db91	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0db94	3b 41 14	 cmp	 eax, DWORD PTR [ecx+20]
  0db97	75 0e		 jne	 SHORT $LN55@MixWings4r

; 6231 : 			{
; 6232 : 				Need30Bless++;

  0db99	8b 45 d8	 mov	 eax, DWORD PTR _Need30Bless$[ebp]
  0db9c	83 c0 01	 add	 eax, 1
  0db9f	89 45 d8	 mov	 DWORD PTR _Need30Bless$[ebp], eax
  0dba2	e9 cb 00 00 00	 jmp	 $LN46@MixWings4r
$LN55@MixWings4r:

; 6233 : 			}
; 6234 : 			else if( lpObj->pChaosBox[n].m_Type == this->iBundleofSoul)	//30 S

  0dba7	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0dbaa	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0dbb0	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0dbb3	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0dbb9	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0dbbe	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0dbc1	3b 41 18	 cmp	 eax, DWORD PTR [ecx+24]
  0dbc4	75 0e		 jne	 SHORT $LN53@MixWings4r

; 6235 : 			{
; 6236 : 				Need30Soul++;

  0dbc6	8b 45 d4	 mov	 eax, DWORD PTR _Need30Soul$[ebp]
  0dbc9	83 c0 01	 add	 eax, 1
  0dbcc	89 45 d4	 mov	 DWORD PTR _Need30Soul$[ebp], eax
  0dbcf	e9 9e 00 00 00	 jmp	 $LN46@MixWings4r
$LN53@MixWings4r:

; 6237 : 			}
; 6238 : 			else if( lpObj->pChaosBox[n].m_Type == this->iJewelofChaos)

  0dbd4	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0dbd7	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0dbdd	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0dbe0	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0dbe6	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0dbeb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0dbee	3b 41 04	 cmp	 eax, DWORD PTR [ecx+4]
  0dbf1	75 0b		 jne	 SHORT $LN51@MixWings4r

; 6239 : 			{
; 6240 : 				NeedJewelOfChaos++;

  0dbf3	8b 45 e0	 mov	 eax, DWORD PTR _NeedJewelOfChaos$[ebp]
  0dbf6	83 c0 01	 add	 eax, 1
  0dbf9	89 45 e0	 mov	 DWORD PTR _NeedJewelOfChaos$[ebp], eax
  0dbfc	eb 74		 jmp	 SHORT $LN46@MixWings4r
$LN51@MixWings4r:

; 6241 : 			}
; 6242 : 			else if( lpObj->pChaosBox[n].m_Type == this->iJewelofCreation)

  0dbfe	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0dc01	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0dc07	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0dc0a	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0dc10	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0dc15	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0dc18	3b 41 10	 cmp	 eax, DWORD PTR [ecx+16]
  0dc1b	75 0b		 jne	 SHORT $LN49@MixWings4r

; 6243 : 			{
; 6244 : 				NeedJewelOfCreatoion++;

  0dc1d	8b 45 dc	 mov	 eax, DWORD PTR _NeedJewelOfCreatoion$[ebp]
  0dc20	83 c0 01	 add	 eax, 1
  0dc23	89 45 dc	 mov	 DWORD PTR _NeedJewelOfCreatoion$[ebp], eax
  0dc26	eb 4a		 jmp	 SHORT $LN46@MixWings4r
$LN49@MixWings4r:

; 6245 : 			}
; 6246 : 			else if( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )

  0dc28	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0dc2b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0dc31	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0dc34	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0dc3a	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0dc3f	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  0dc44	75 23		 jne	 SHORT $LN47@MixWings4r

; 6247 : 			{
; 6248 : 				PlusProcent+= (int)lpObj->pChaosBox[n].m_Durability;

  0dc46	8b 45 b4	 mov	 eax, DWORD PTR _n$237856[ebp]
  0dc49	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0dc4f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0dc52	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0dc58	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  0dc5c	e8 00 00 00 00	 call	 __ftol2_sse
  0dc61	03 45 b8	 add	 eax, DWORD PTR _PlusProcent$[ebp]
  0dc64	89 45 b8	 mov	 DWORD PTR _PlusProcent$[ebp], eax

; 6249 : 			}
; 6250 : 			else

  0dc67	eb 09		 jmp	 SHORT $LN46@MixWings4r
$LN47@MixWings4r:

; 6251 : 			{
; 6252 : 				NeedError++;

  0dc69	8b 45 c0	 mov	 eax, DWORD PTR _NeedError$[ebp]
  0dc6c	83 c0 01	 add	 eax, 1
  0dc6f	89 45 c0	 mov	 DWORD PTR _NeedError$[ebp], eax
$LN46@MixWings4r:

; 6253 : 			}
; 6254 : 		}
; 6255 : 	}

  0dc72	e9 74 fd ff ff	 jmp	 $LN66@MixWings4r
$LN65@MixWings4r:

; 6256 : 
; 6257 : 	if(PlusProcent > 10)

  0dc77	83 7d b8 0a	 cmp	 DWORD PTR _PlusProcent$[ebp], 10 ; 0000000aH
  0dc7b	7e 2d		 jle	 SHORT $LN45@MixWings4r

; 6258 : 	{
; 6259 : 		pMsg.Result = 0xF0; //new macro

  0dc7d	c6 45 eb f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 6260 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0dc81	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0dc85	50		 push	 eax
  0dc86	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0dc89	51		 push	 ecx
  0dc8a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0dc8d	8b 02		 mov	 eax, DWORD PTR [edx]
  0dc8f	50		 push	 eax
  0dc90	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0dc95	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6261 : 		lpObj->ChaosLock = FALSE;

  0dc98	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0dc9b	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 6262 : 		return;

  0dca5	e9 95 04 00 00	 jmp	 $LN68@MixWings4r
$LN45@MixWings4r:

; 6263 : 	}
; 6264 : 
; 6265 : 	if(NeedExlItem < 1 || NeedCondor != 1 || NeedJewelOfChaos != 1 || Need3lvlWing != 1 || NeedJewelOfCreatoion != 1 || 
; 6266 : 	   Need30Bless != 1 || Need30Soul != 1 || NeedError > 0)

  0dcaa	83 7d cc 01	 cmp	 DWORD PTR _NeedExlItem$[ebp], 1
  0dcae	7c 2a		 jl	 SHORT $LN43@MixWings4r
  0dcb0	83 7d e4 01	 cmp	 DWORD PTR _NeedCondor$[ebp], 1
  0dcb4	75 24		 jne	 SHORT $LN43@MixWings4r
  0dcb6	83 7d e0 01	 cmp	 DWORD PTR _NeedJewelOfChaos$[ebp], 1
  0dcba	75 1e		 jne	 SHORT $LN43@MixWings4r
  0dcbc	83 7d d0 01	 cmp	 DWORD PTR _Need3lvlWing$[ebp], 1
  0dcc0	75 18		 jne	 SHORT $LN43@MixWings4r
  0dcc2	83 7d dc 01	 cmp	 DWORD PTR _NeedJewelOfCreatoion$[ebp], 1
  0dcc6	75 12		 jne	 SHORT $LN43@MixWings4r
  0dcc8	83 7d d8 01	 cmp	 DWORD PTR _Need30Bless$[ebp], 1
  0dccc	75 0c		 jne	 SHORT $LN43@MixWings4r
  0dcce	83 7d d4 01	 cmp	 DWORD PTR _Need30Soul$[ebp], 1
  0dcd2	75 06		 jne	 SHORT $LN43@MixWings4r
  0dcd4	83 7d c0 00	 cmp	 DWORD PTR _NeedError$[ebp], 0
  0dcd8	7e 2d		 jle	 SHORT $LN44@MixWings4r
$LN43@MixWings4r:

; 6267 : 	{
; 6268 : 		pMsg.Result = CB_INCORRECT_MIX_ITEMS;

  0dcda	c6 45 eb 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 6269 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0dcde	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0dce2	50		 push	 eax
  0dce3	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0dce6	51		 push	 ecx
  0dce7	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0dcea	8b 02		 mov	 eax, DWORD PTR [edx]
  0dcec	50		 push	 eax
  0dced	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0dcf2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6270 : 		lpObj->ChaosLock = FALSE;

  0dcf5	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0dcf8	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 6271 : 		return;

  0dd02	e9 38 04 00 00	 jmp	 $LN68@MixWings4r
$LN44@MixWings4r:

; 6272 : 	}
; 6273 : 
; 6274 : 	LogChaosItem(lpObj, "ThirdWingLevel2_Mix");

  0dd07	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@FCHPIPIA@ThirdWingLevel2_Mix?$AA@
  0dd0c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0dd0f	50		 push	 eax
  0dd10	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0dd13	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 6275 : 	LogAddTD("[ThirdWing Mix][Level 02] Chaos Mix Start");

  0dd18	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@OMLKNABI@?$FLThirdWing?5Mix?$FN?$FLLevel?502?$FN?5Chaos?5@
  0dd1d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0dd23	83 c4 04	 add	 esp, 4

; 6276 : 
; 6277 : 	int iChaosTaxMoney = (int)((__int64)NeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  0dd26	8b 45 c8	 mov	 eax, DWORD PTR _NeedMoney$[ebp]
  0dd29	99		 cdq
  0dd2a	8b f0		 mov	 esi, eax
  0dd2c	8b fa		 mov	 edi, edx
  0dd2e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0dd31	8b 08		 mov	 ecx, DWORD PTR [eax]
  0dd33	51		 push	 ecx
  0dd34	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0dd39	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  0dd3e	99		 cdq
  0dd3f	52		 push	 edx
  0dd40	50		 push	 eax
  0dd41	57		 push	 edi
  0dd42	56		 push	 esi
  0dd43	e8 00 00 00 00	 call	 __allmul
  0dd48	6a 00		 push	 0
  0dd4a	6a 64		 push	 100			; 00000064H
  0dd4c	52		 push	 edx
  0dd4d	50		 push	 eax
  0dd4e	e8 00 00 00 00	 call	 __alldiv
  0dd53	89 45 b0	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 6278 : 
; 6279 : 	if(iChaosTaxMoney < 0)

  0dd56	83 7d b0 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  0dd5a	7d 07		 jge	 SHORT $LN42@MixWings4r

; 6280 : 	{
; 6281 : 		iChaosTaxMoney = 0;

  0dd5c	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN42@MixWings4r:

; 6282 : 	}
; 6283 : 
; 6284 : 	if ( lpObj->Money < NeedMoney )

  0dd63	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0dd66	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0dd6c	3b 4d c8	 cmp	 ecx, DWORD PTR _NeedMoney$[ebp]
  0dd6f	7d 2d		 jge	 SHORT $LN41@MixWings4r

; 6285 : 	{
; 6286 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  0dd71	c6 45 eb 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 6287 : 
; 6288 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0dd75	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0dd79	50		 push	 eax
  0dd7a	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0dd7d	51		 push	 ecx
  0dd7e	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0dd81	8b 02		 mov	 eax, DWORD PTR [edx]
  0dd83	50		 push	 eax
  0dd84	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0dd89	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6289 : 		lpObj->ChaosLock = FALSE;

  0dd8c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0dd8f	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 6290 : 
; 6291 : 		return;

  0dd99	e9 a1 03 00 00	 jmp	 $LN68@MixWings4r
$LN41@MixWings4r:

; 6292 : 	}
; 6293 : 
; 6294 : 	lpObj->Money -= NeedMoney;

  0dd9e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0dda1	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0dda7	2b 4d c8	 sub	 ecx, DWORD PTR _NeedMoney$[ebp]
  0ddaa	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ddad	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 6295 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  0ddb3	8b 45 b0	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0ddb6	50		 push	 eax
  0ddb7	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0ddbc	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 6296 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  0ddc1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ddc4	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0ddca	51		 push	 ecx
  0ddcb	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ddce	8b 02		 mov	 eax, DWORD PTR [edx]
  0ddd0	50		 push	 eax
  0ddd1	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  0ddd6	83 c4 08	 add	 esp, 8

; 6297 : 	srand(time(NULL));

  0ddd9	6a 00		 push	 0
  0dddb	e8 00 00 00 00	 call	 _time
  0dde0	83 c4 04	 add	 esp, 4
  0dde3	50		 push	 eax
  0dde4	e8 00 00 00 00	 call	 _srand
  0dde9	83 c4 04	 add	 esp, 4

; 6298 : 	int MixPercent = (rand()%100);

  0ddec	e8 00 00 00 00	 call	 _rand
  0ddf1	99		 cdq
  0ddf2	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0ddf7	f7 f9		 idiv	 ecx
  0ddf9	89 55 ac	 mov	 DWORD PTR _MixPercent$[ebp], edx

; 6299 : 
; 6300 : 	if ( RateMix > MixPercent)

  0ddfc	8b 45 c4	 mov	 eax, DWORD PTR _RateMix$[ebp]
  0ddff	3b 45 ac	 cmp	 eax, DWORD PTR _MixPercent$[ebp]
  0de02	0f 8e bb 02 00
	00		 jle	 $LN40@MixWings4r

; 6301 : 	{
; 6302 : 		int CharItemCount = 6;

  0de08	c7 45 a8 06 00
	00 00		 mov	 DWORD PTR _CharItemCount$237895[ebp], 6

; 6303 : 
; 6304 : 		if(ExConfig.ExCustom.SwitchChar == 1 || ExConfig.ExCustom.SwitchChar == 2)

  0de0f	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A, 1
  0de16	74 09		 je	 SHORT $LN38@MixWings4r
  0de18	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A, 2
  0de1f	75 07		 jne	 SHORT $LN39@MixWings4r
$LN38@MixWings4r:

; 6305 : 		{
; 6306 : 			CharItemCount = 5;

  0de21	c7 45 a8 05 00
	00 00		 mov	 DWORD PTR _CharItemCount$237895[ebp], 5
$LN39@MixWings4r:

; 6307 : 		}
; 6308 : 
; 6309 : 		int loc18 = rand()%CharItemCount;

  0de28	e8 00 00 00 00	 call	 _rand
  0de2d	99		 cdq
  0de2e	f7 7d a8	 idiv	 DWORD PTR _CharItemCount$237895[ebp]
  0de31	89 55 a4	 mov	 DWORD PTR _loc18$237898[ebp], edx

; 6310 : 		int ItemType = 0;

  0de34	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _ItemType$237899[ebp], 0

; 6311 : 
; 6312 : 		if(loc18 == 0)

  0de3b	83 7d a4 00	 cmp	 DWORD PTR _loc18$237898[ebp], 0
  0de3f	75 09		 jne	 SHORT $LN37@MixWings4r

; 6313 : 		{
; 6314 : 			ItemType = ITEMGET(12,180);

  0de41	c7 45 a0 b4 18
	00 00		 mov	 DWORD PTR _ItemType$237899[ebp], 6324 ; 000018b4H
  0de48	eb 49		 jmp	 SHORT $LN27@MixWings4r
$LN37@MixWings4r:

; 6315 : 		}
; 6316 : 		else if( loc18 == 1)

  0de4a	83 7d a4 01	 cmp	 DWORD PTR _loc18$237898[ebp], 1
  0de4e	75 09		 jne	 SHORT $LN35@MixWings4r

; 6317 : 		{
; 6318 : 			ItemType = ITEMGET(12,181);

  0de50	c7 45 a0 b5 18
	00 00		 mov	 DWORD PTR _ItemType$237899[ebp], 6325 ; 000018b5H
  0de57	eb 3a		 jmp	 SHORT $LN27@MixWings4r
$LN35@MixWings4r:

; 6319 : 		}
; 6320 : 		else if( loc18 == 2)

  0de59	83 7d a4 02	 cmp	 DWORD PTR _loc18$237898[ebp], 2
  0de5d	75 09		 jne	 SHORT $LN33@MixWings4r

; 6321 : 		{
; 6322 : 			ItemType = ITEMGET(12,182);

  0de5f	c7 45 a0 b6 18
	00 00		 mov	 DWORD PTR _ItemType$237899[ebp], 6326 ; 000018b6H
  0de66	eb 2b		 jmp	 SHORT $LN27@MixWings4r
$LN33@MixWings4r:

; 6323 : 		}
; 6324 : 		else if( loc18 == 3)

  0de68	83 7d a4 03	 cmp	 DWORD PTR _loc18$237898[ebp], 3
  0de6c	75 09		 jne	 SHORT $LN31@MixWings4r

; 6325 : 		{
; 6326 : 			ItemType = ITEMGET(12,183);

  0de6e	c7 45 a0 b7 18
	00 00		 mov	 DWORD PTR _ItemType$237899[ebp], 6327 ; 000018b7H
  0de75	eb 1c		 jmp	 SHORT $LN27@MixWings4r
$LN31@MixWings4r:

; 6327 : 		}
; 6328 : 		else if( loc18 == 4)

  0de77	83 7d a4 04	 cmp	 DWORD PTR _loc18$237898[ebp], 4
  0de7b	75 09		 jne	 SHORT $LN29@MixWings4r

; 6329 : 		{
; 6330 : 			ItemType = ITEMGET(12,184);

  0de7d	c7 45 a0 b8 18
	00 00		 mov	 DWORD PTR _ItemType$237899[ebp], 6328 ; 000018b8H
  0de84	eb 0d		 jmp	 SHORT $LN27@MixWings4r
$LN29@MixWings4r:

; 6331 : 		}
; 6332 : 		else if( loc18 == 5)

  0de86	83 7d a4 05	 cmp	 DWORD PTR _loc18$237898[ebp], 5
  0de8a	75 07		 jne	 SHORT $LN27@MixWings4r

; 6333 : 		{
; 6334 : 			ItemType = ITEMGET(12,185);

  0de8c	c7 45 a0 b9 18
	00 00		 mov	 DWORD PTR _ItemType$237899[ebp], 6329 ; 000018b9H
$LN27@MixWings4r:

; 6335 : 		}
; 6336 : 
; 6337 : 		int ItemLuckAdd = 0;

  0de93	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR _ItemLuckAdd$237911[ebp], 0

; 6338 : 
; 6339 : 		if( (rand()%100) <= MixLuckRate )

  0de9a	e8 00 00 00 00	 call	 _rand
  0de9f	99		 cdq
  0dea0	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0dea5	f7 f9		 idiv	 ecx
  0dea7	3b 55 bc	 cmp	 edx, DWORD PTR _MixLuckRate$[ebp]
  0deaa	7f 07		 jg	 SHORT $LN26@MixWings4r

; 6340 : 		{
; 6341 : 			ItemLuckAdd = 1;

  0deac	c7 45 9c 01 00
	00 00		 mov	 DWORD PTR _ItemLuckAdd$237911[ebp], 1
$LN26@MixWings4r:

; 6342 : 		}
; 6343 : 
; 6344 : 		int ItemOptAdd = 0;

  0deb3	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _ItemOptAdd$237913[ebp], 0

; 6345 : 		int loc23 = 0;

  0deba	c7 45 94 00 00
	00 00		 mov	 DWORD PTR _loc23$237914[ebp], 0

; 6346 : 		int loc24 = rand()%2;

  0dec1	e8 00 00 00 00	 call	 _rand
  0dec6	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0decb	79 05		 jns	 SHORT $LN70@MixWings4r
  0decd	48		 dec	 eax
  0dece	83 c8 fe	 or	 eax, -2			; fffffffeH
  0ded1	40		 inc	 eax
$LN70@MixWings4r:
  0ded2	89 45 90	 mov	 DWORD PTR _loc24$237915[ebp], eax

; 6347 : 		int loc25;
; 6348 : 		int loc26;
; 6349 : 		int loc27;
; 6350 : 		int loc28;
; 6351 : 		int loc29;
; 6352 : 
; 6353 : 		switch ( loc24 )

  0ded5	8b 45 90	 mov	 eax, DWORD PTR _loc24$237915[ebp]
  0ded8	89 85 38 ff ff
	ff		 mov	 DWORD PTR tv299[ebp], eax
  0dede	83 bd 38 ff ff
	ff 00		 cmp	 DWORD PTR tv299[ebp], 0
  0dee5	74 0b		 je	 SHORT $LN23@MixWings4r
  0dee7	83 bd 38 ff ff
	ff 01		 cmp	 DWORD PTR tv299[ebp], 1
  0deee	74 26		 je	 SHORT $LN21@MixWings4r
  0def0	eb 46		 jmp	 SHORT $LN24@MixWings4r
$LN23@MixWings4r:

; 6354 : 		{
; 6355 : 		case 0:
; 6356 : 			loc25 = rand()%1000;

  0def2	e8 00 00 00 00	 call	 _rand
  0def7	99		 cdq
  0def8	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0defd	f7 f9		 idiv	 ecx
  0deff	89 55 8c	 mov	 DWORD PTR _loc25$237916[ebp], edx

; 6357 : 			if(loc25 < 400)

  0df02	81 7d 8c 90 01
	00 00		 cmp	 DWORD PTR _loc25$237916[ebp], 400 ; 00000190H
  0df09	7d 09		 jge	 SHORT $LN22@MixWings4r

; 6358 : 			{
; 6359 : 				loc23 |= 0x10;

  0df0b	8b 45 94	 mov	 eax, DWORD PTR _loc23$237914[ebp]
  0df0e	83 c8 10	 or	 eax, 16			; 00000010H
  0df11	89 45 94	 mov	 DWORD PTR _loc23$237914[ebp], eax
$LN22@MixWings4r:

; 6360 : 			}
; 6361 : 			break;

  0df14	eb 22		 jmp	 SHORT $LN24@MixWings4r
$LN21@MixWings4r:

; 6362 : 
; 6363 : 		case 1:
; 6364 : 			loc25 = rand()%1000;

  0df16	e8 00 00 00 00	 call	 _rand
  0df1b	99		 cdq
  0df1c	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0df21	f7 f9		 idiv	 ecx
  0df23	89 55 8c	 mov	 DWORD PTR _loc25$237916[ebp], edx

; 6365 : 			if(loc24 < 300)

  0df26	81 7d 90 2c 01
	00 00		 cmp	 DWORD PTR _loc24$237915[ebp], 300 ; 0000012cH
  0df2d	7d 09		 jge	 SHORT $LN20@MixWings4r

; 6366 : 			{
; 6367 : 				loc23 |= 0x20;

  0df2f	8b 45 94	 mov	 eax, DWORD PTR _loc23$237914[ebp]
  0df32	83 c8 20	 or	 eax, 32			; 00000020H
  0df35	89 45 94	 mov	 DWORD PTR _loc23$237914[ebp], eax
$LN20@MixWings4r:
$LN24@MixWings4r:

; 6368 : 			}
; 6369 : 			break;
; 6370 : 		}
; 6371 : 
; 6372 : 		loc26 = rand()%4;

  0df38	e8 00 00 00 00	 call	 _rand
  0df3d	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  0df42	79 05		 jns	 SHORT $LN71@MixWings4r
  0df44	48		 dec	 eax
  0df45	83 c8 fc	 or	 eax, -4			; fffffffcH
  0df48	40		 inc	 eax
$LN71@MixWings4r:
  0df49	89 45 88	 mov	 DWORD PTR _loc26$237917[ebp], eax

; 6373 : 		loc27 = rand()%1000;

  0df4c	e8 00 00 00 00	 call	 _rand
  0df51	99		 cdq
  0df52	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0df57	f7 f9		 idiv	 ecx
  0df59	89 55 84	 mov	 DWORD PTR _loc27$237918[ebp], edx

; 6374 : 
; 6375 : 		switch( loc26 )

  0df5c	8b 45 88	 mov	 eax, DWORD PTR _loc26$237917[ebp]
  0df5f	89 85 38 ff ff
	ff		 mov	 DWORD PTR tv314[ebp], eax
  0df65	83 bd 38 ff ff
	ff 01		 cmp	 DWORD PTR tv314[ebp], 1
  0df6c	74 14		 je	 SHORT $LN17@MixWings4r
  0df6e	83 bd 38 ff ff
	ff 02		 cmp	 DWORD PTR tv314[ebp], 2
  0df75	74 1a		 je	 SHORT $LN15@MixWings4r
  0df77	83 bd 38 ff ff
	ff 03		 cmp	 DWORD PTR tv314[ebp], 3
  0df7e	74 20		 je	 SHORT $LN13@MixWings4r
  0df80	eb 2b		 jmp	 SHORT $LN18@MixWings4r
$LN17@MixWings4r:

; 6376 : 		{
; 6377 : 		case 1:
; 6378 : 			{
; 6379 : 				if(loc27 < 120)

  0df82	83 7d 84 78	 cmp	 DWORD PTR _loc27$237918[ebp], 120 ; 00000078H
  0df86	7d 07		 jge	 SHORT $LN16@MixWings4r

; 6380 : 				{
; 6381 : 					ItemOptAdd = 1;

  0df88	c7 45 98 01 00
	00 00		 mov	 DWORD PTR _ItemOptAdd$237913[ebp], 1
$LN16@MixWings4r:

; 6382 : 				}
; 6383 : 			}
; 6384 : 			break;

  0df8f	eb 1c		 jmp	 SHORT $LN18@MixWings4r
$LN15@MixWings4r:

; 6385 : 
; 6386 : 		case 2:
; 6387 : 			{
; 6388 : 				if(loc27 < 60)

  0df91	83 7d 84 3c	 cmp	 DWORD PTR _loc27$237918[ebp], 60 ; 0000003cH
  0df95	7d 07		 jge	 SHORT $LN14@MixWings4r

; 6389 : 				{
; 6390 : 					ItemOptAdd = 2;

  0df97	c7 45 98 02 00
	00 00		 mov	 DWORD PTR _ItemOptAdd$237913[ebp], 2
$LN14@MixWings4r:

; 6391 : 				}
; 6392 : 			}
; 6393 : 			break;

  0df9e	eb 0d		 jmp	 SHORT $LN18@MixWings4r
$LN13@MixWings4r:

; 6394 : 
; 6395 : 		case 3:
; 6396 : 			{
; 6397 : 				if(loc27 < 30)

  0dfa0	83 7d 84 1e	 cmp	 DWORD PTR _loc27$237918[ebp], 30 ; 0000001eH
  0dfa4	7d 07		 jge	 SHORT $LN12@MixWings4r

; 6398 : 				{
; 6399 : 					ItemOptAdd = 3;

  0dfa6	c7 45 98 03 00
	00 00		 mov	 DWORD PTR _ItemOptAdd$237913[ebp], 3
$LN12@MixWings4r:
$LN18@MixWings4r:

; 6400 : 				}
; 6401 : 			}
; 6402 : 			break;
; 6403 : 		}
; 6404 : 
; 6405 : 		loc28 = rand()%4;

  0dfad	e8 00 00 00 00	 call	 _rand
  0dfb2	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  0dfb7	79 05		 jns	 SHORT $LN72@MixWings4r
  0dfb9	48		 dec	 eax
  0dfba	83 c8 fc	 or	 eax, -4			; fffffffcH
  0dfbd	40		 inc	 eax
$LN72@MixWings4r:
  0dfbe	89 45 80	 mov	 DWORD PTR _loc28$237919[ebp], eax

; 6406 : 		loc29 = rand()%1000;

  0dfc1	e8 00 00 00 00	 call	 _rand
  0dfc6	99		 cdq
  0dfc7	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0dfcc	f7 f9		 idiv	 ecx
  0dfce	89 95 7c ff ff
	ff		 mov	 DWORD PTR _loc29$237920[ebp], edx

; 6407 : 
; 6408 : 		switch( loc28 )

  0dfd4	8b 45 80	 mov	 eax, DWORD PTR _loc28$237919[ebp]
  0dfd7	89 85 38 ff ff
	ff		 mov	 DWORD PTR tv357[ebp], eax
  0dfdd	83 bd 38 ff ff
	ff 03		 cmp	 DWORD PTR tv357[ebp], 3
  0dfe4	77 5b		 ja	 SHORT $LN10@MixWings4r
  0dfe6	8b 8d 38 ff ff
	ff		 mov	 ecx, DWORD PTR tv357[ebp]
  0dfec	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN73@MixWings4r[ecx*4]
$LN9@MixWings4r:

; 6409 : 		{
; 6410 : 		case 0:
; 6411 : 			{
; 6412 : 				if(loc29 < 40)

  0dff3	83 bd 7c ff ff
	ff 28		 cmp	 DWORD PTR _loc29$237920[ebp], 40 ; 00000028H
  0dffa	7d 09		 jge	 SHORT $LN8@MixWings4r

; 6413 : 				{
; 6414 : 					loc23 |= 1;

  0dffc	8b 45 94	 mov	 eax, DWORD PTR _loc23$237914[ebp]
  0dfff	83 c8 01	 or	 eax, 1
  0e002	89 45 94	 mov	 DWORD PTR _loc23$237914[ebp], eax
$LN8@MixWings4r:

; 6415 : 				}
; 6416 : 			}
; 6417 : 			break;

  0e005	eb 3a		 jmp	 SHORT $LN10@MixWings4r
$LN7@MixWings4r:

; 6418 : 		case 1:
; 6419 : 			{
; 6420 : 				if(loc29 < 20)

  0e007	83 bd 7c ff ff
	ff 14		 cmp	 DWORD PTR _loc29$237920[ebp], 20 ; 00000014H
  0e00e	7d 09		 jge	 SHORT $LN6@MixWings4r

; 6421 : 				{
; 6422 : 					loc23 |= 2;

  0e010	8b 45 94	 mov	 eax, DWORD PTR _loc23$237914[ebp]
  0e013	83 c8 02	 or	 eax, 2
  0e016	89 45 94	 mov	 DWORD PTR _loc23$237914[ebp], eax
$LN6@MixWings4r:

; 6423 : 				}
; 6424 : 			}
; 6425 : 			break;

  0e019	eb 26		 jmp	 SHORT $LN10@MixWings4r
$LN5@MixWings4r:

; 6426 : 
; 6427 : 		case 2:
; 6428 : 			{
; 6429 : 				if(loc29 < 70)

  0e01b	83 bd 7c ff ff
	ff 46		 cmp	 DWORD PTR _loc29$237920[ebp], 70 ; 00000046H
  0e022	7d 09		 jge	 SHORT $LN4@MixWings4r

; 6430 : 				{
; 6431 : 					loc23 |= 4;

  0e024	8b 45 94	 mov	 eax, DWORD PTR _loc23$237914[ebp]
  0e027	83 c8 04	 or	 eax, 4
  0e02a	89 45 94	 mov	 DWORD PTR _loc23$237914[ebp], eax
$LN4@MixWings4r:

; 6432 : 				}
; 6433 : 			}
; 6434 : 			break;

  0e02d	eb 12		 jmp	 SHORT $LN10@MixWings4r
$LN3@MixWings4r:

; 6435 : 		case 3:
; 6436 : 			{
; 6437 : 				if(loc29 < 70)

  0e02f	83 bd 7c ff ff
	ff 46		 cmp	 DWORD PTR _loc29$237920[ebp], 70 ; 00000046H
  0e036	7d 09		 jge	 SHORT $LN2@MixWings4r

; 6438 : 				{
; 6439 : 					loc23 |= 8;

  0e038	8b 45 94	 mov	 eax, DWORD PTR _loc23$237914[ebp]
  0e03b	83 c8 08	 or	 eax, 8
  0e03e	89 45 94	 mov	 DWORD PTR _loc23$237914[ebp], eax
$LN2@MixWings4r:
$LN10@MixWings4r:

; 6440 : 				}
; 6441 : 			}
; 6442 : 			break;
; 6443 : 		}
; 6444 : 
; 6445 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, ItemType , 0, 0, 0, (BYTE)ItemLuckAdd, (BYTE)ItemOptAdd, -1, (BYTE)loc23, 0);

  0e041	6a 00		 push	 0
  0e043	0f b6 45 94	 movzx	 eax, BYTE PTR _loc23$237914[ebp]
  0e047	50		 push	 eax
  0e048	6a ff		 push	 -1
  0e04a	0f b6 4d 98	 movzx	 ecx, BYTE PTR _ItemOptAdd$237913[ebp]
  0e04e	51		 push	 ecx
  0e04f	0f b6 55 9c	 movzx	 edx, BYTE PTR _ItemLuckAdd$237911[ebp]
  0e053	52		 push	 edx
  0e054	6a 00		 push	 0
  0e056	6a 00		 push	 0
  0e058	6a 00		 push	 0
  0e05a	8b 45 a0	 mov	 eax, DWORD PTR _ItemType$237899[ebp]
  0e05d	50		 push	 eax
  0e05e	6a 00		 push	 0
  0e060	6a 00		 push	 0
  0e062	68 ff 00 00 00	 push	 255			; 000000ffH
  0e067	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e06a	8b 11		 mov	 edx, DWORD PTR [ecx]
  0e06c	52		 push	 edx
  0e06d	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0e072	83 c4 34	 add	 esp, 52			; 00000034H

; 6446 : 		::gObjInventoryCommit(lpObj->m_Index);

  0e075	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e078	8b 08		 mov	 ecx, DWORD PTR [eax]
  0e07a	51		 push	 ecx
  0e07b	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0e080	83 c4 04	 add	 esp, 4

; 6447 : 
; 6448 : 		LogAddTD("[4rd Wings Mix][Level 02] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate : %d",
; 6449 : 			lpObj->AccountID, lpObj->Name, MixPercent,	lpObj->Money, NeedMoney);

  0e083	8b 45 c8	 mov	 eax, DWORD PTR _NeedMoney$[ebp]
  0e086	50		 push	 eax
  0e087	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e08a	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  0e090	52		 push	 edx
  0e091	8b 45 ac	 mov	 eax, DWORD PTR _MixPercent$[ebp]
  0e094	50		 push	 eax
  0e095	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e098	83 c1 77	 add	 ecx, 119		; 00000077H
  0e09b	51		 push	 ecx
  0e09c	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e09f	83 c2 6c	 add	 edx, 108		; 0000006cH
  0e0a2	52		 push	 edx
  0e0a3	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@FEDMFJGA@?$FL4rd?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@
  0e0a8	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0e0ae	83 c4 18	 add	 esp, 24			; 00000018H

; 6450 : #if(SYSTEM_ACHIEVEMENTS)
; 6451 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  0e0b1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e0b4	8b 08		 mov	 ecx, DWORD PTR [eax]
  0e0b6	51		 push	 ecx
  0e0b7	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0e0bc	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 6452 : #endif
; 6453 : 	}
; 6454 : 	else

  0e0c1	eb 7c		 jmp	 SHORT $LN1@MixWings4r
$LN40@MixWings4r:

; 6455 : 	{
; 6456 : 		this->ChaosBoxInit(lpObj);

  0e0c3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e0c6	50		 push	 eax
  0e0c7	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0e0ca	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 6457 : 		::GCUserChaosBoxSend(lpObj, 0);

  0e0cf	6a 00		 push	 0
  0e0d1	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e0d4	50		 push	 eax
  0e0d5	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0e0da	83 c4 08	 add	 esp, 8

; 6458 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0e0dd	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0e0e1	50		 push	 eax
  0e0e2	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0e0e5	51		 push	 ecx
  0e0e6	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e0e9	8b 02		 mov	 eax, DWORD PTR [edx]
  0e0eb	50		 push	 eax
  0e0ec	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0e0f1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6459 : 
; 6460 : 		LogAddTD("[4rd Wings Mix][Level 02] [%s][%s] CBMix Fail %d Money : %d-%d",
; 6461 : 			lpObj->AccountID, lpObj->Name, MixPercent,	lpObj->Money, NeedMoney);

  0e0f4	8b 45 c8	 mov	 eax, DWORD PTR _NeedMoney$[ebp]
  0e0f7	50		 push	 eax
  0e0f8	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e0fb	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  0e101	52		 push	 edx
  0e102	8b 45 ac	 mov	 eax, DWORD PTR _MixPercent$[ebp]
  0e105	50		 push	 eax
  0e106	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e109	83 c1 77	 add	 ecx, 119		; 00000077H
  0e10c	51		 push	 ecx
  0e10d	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e110	83 c2 6c	 add	 edx, 108		; 0000006cH
  0e113	52		 push	 edx
  0e114	68 00 00 00 00	 push	 OFFSET ??_C@_0DP@EEJHDKEM@?$FL4rd?5Wings?5Mix?$FN?$FLLevel?502?$FN?5?$FL?$CFs?$FN?$FL?$CF@
  0e119	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0e11f	83 c4 18	 add	 esp, 24			; 00000018H

; 6462 : 		lpObj->ChaosLock = FALSE;

  0e122	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e125	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 6463 : #if(SYSTEM_ACHIEVEMENTS)
; 6464 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  0e12f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e132	8b 08		 mov	 ecx, DWORD PTR [eax]
  0e134	51		 push	 ecx
  0e135	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0e13a	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN1@MixWings4r:
$LN68@MixWings4r:

; 6465 : #endif
; 6466 : 	}
; 6467 : }

  0e13f	5f		 pop	 edi
  0e140	5e		 pop	 esi
  0e141	5b		 pop	 ebx
  0e142	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0e145	33 cd		 xor	 ecx, ebp
  0e147	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0e14c	8b e5		 mov	 esp, ebp
  0e14e	5d		 pop	 ebp
  0e14f	c2 04 00	 ret	 4
  0e152	8b ff		 npad	 2
$LN73@MixWings4r:
  0e154	00 00 00 00	 DD	 $LN9@MixWings4r
  0e158	00 00 00 00	 DD	 $LN7@MixWings4r
  0e15c	00 00 00 00	 DD	 $LN5@MixWings4r
  0e160	00 00 00 00	 DD	 $LN3@MixWings4r
?MixWings4rd@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP	; CMixSystem::MixWings4rd
_TEXT	ENDS
PUBLIC	??_C@_0DF@ECBKIEB@?$FL5rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@ ; `string'
PUBLIC	??_C@_0EI@OMDPDJNI@?$FL5rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@ ; `string'
PUBLIC	??_C@_0CC@JKJMDGCG@?$FLWings?55?5Lvl?5Mix?$FN?5Chaos?5Mix?5Star@ ; `string'
PUBLIC	??_C@_0P@CMLCAPII@WingLevel5_Mix?$AA@		; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?MixWings5rd@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::MixWings5rd
;	COMDAT ??_C@_0DF@ECBKIEB@?$FL5rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@
CONST	SEGMENT
??_C@_0DF@ECBKIEB@?$FL5rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@ DB '['
	DB	'5rd Wings Mix] [%s][%s] CBMix Fail %d Money : %d-%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EI@OMDPDJNI@?$FL5rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@
CONST	SEGMENT
??_C@_0EI@OMDPDJNI@?$FL5rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@ DB '['
	DB	'5rd Wings Mix] [%s][%s] CBMix Success %d Money : %d-%d, Charm'
	DB	'Rate : %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0CC@JKJMDGCG@?$FLWings?55?5Lvl?5Mix?$FN?5Chaos?5Mix?5Star@
CONST	SEGMENT
??_C@_0CC@JKJMDGCG@?$FLWings?55?5Lvl?5Mix?$FN?5Chaos?5Mix?5Star@ DB '[Win'
	DB	'gs 5 Lvl Mix] Chaos Mix Start', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@CMLCAPII@WingLevel5_Mix?$AA@
CONST	SEGMENT
??_C@_0P@CMLCAPII@WingLevel5_Mix?$AA@ DB 'WingLevel5_Mix', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv379 = -228						; size = 4
tv368 = -228						; size = 4
tv353 = -228						; size = 4
_loc29$238070 = -160					; size = 4
_loc28$238069 = -156					; size = 4
_loc27$238068 = -152					; size = 4
_loc26$238067 = -148					; size = 4
_loc25$238066 = -144					; size = 4
_loc24$238065 = -140					; size = 4
_loc23$238064 = -136					; size = 4
_ItemOptAdd$238063 = -132				; size = 4
_ItemLuckAdd$238061 = -128				; size = 4
_ItemType$238049 = -124					; size = 4
_loc18$238048 = -120					; size = 4
_CharItemCount$238047 = -116				; size = 4
_ItemType$238038 = -112					; size = 4
_loc18$238037 = -108					; size = 4
_CharItemCount$238036 = -104				; size = 4
_loc18$238024 = -100					; size = 4
_CharItemCount$238023 = -96				; size = 4
_ItemType$238021 = -92					; size = 4
_MixPercent$ = -88					; size = 4
_iChaosTaxMoney$ = -84					; size = 4
_n$237978 = -80						; size = 4
_NeedAncItem$ = -76					; size = 4
_PlusProcent$ = -72					; size = 4
_MixLuckRate$ = -68					; size = 4
_NeedError$ = -64					; size = 4
_RateMix$ = -60						; size = 4
_NeedMoney$ = -56					; size = 4
_NeedExlItem$ = -52					; size = 4
_Need4lvlWing$ = -48					; size = 4
_Need30Soul$ = -44					; size = 4
_Need30Bless$ = -40					; size = 4
_NeedJewelOfCreatoion$ = -36				; size = 4
_NeedJewelOfChaos$ = -32				; size = 4
_NeedCondor$ = -28					; size = 4
_pMsg$ = -24						; size = 16
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?MixWings5rd@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC	; CMixSystem::MixWings5rd
; _this$ = ecx

; 6471 : {	

  0e170	55		 push	 ebp
  0e171	8b ec		 mov	 ebp, esp
  0e173	81 ec e4 00 00
	00		 sub	 esp, 228		; 000000e4H
  0e179	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0e17e	33 c5		 xor	 eax, ebp
  0e180	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0e183	53		 push	 ebx
  0e184	56		 push	 esi
  0e185	57		 push	 edi
  0e186	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 6472 : 	PMSG_CHAOSMIXRESULT pMsg;
; 6473 : 
; 6474 : 	//if(false)//if(!ExConfig.CommonServer.Mix4Wings)	//To Continue
; 6475 : 	//{
; 6476 : 	//	pMsg.Result = CB_INCORRECT_MIX_ITEMS;
; 6477 : 	//	DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);
; 6478 : 	//	lpObj->ChaosLock = FALSE;
; 6479 : 	//	return;
; 6480 : 	//}
; 6481 : 
; 6482 : 	lpObj->ChaosLock = TRUE;

  0e189	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e18c	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 6483 : 
; 6484 : 	int NeedCondor = 0;

  0e196	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _NeedCondor$[ebp], 0

; 6485 : 	int NeedJewelOfChaos = 0;

  0e19d	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _NeedJewelOfChaos$[ebp], 0

; 6486 : 	int NeedJewelOfCreatoion = 0;

  0e1a4	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _NeedJewelOfCreatoion$[ebp], 0

; 6487 : 	int Need30Bless = 0;

  0e1ab	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _Need30Bless$[ebp], 0

; 6488 : 	int Need30Soul = 0;

  0e1b2	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _Need30Soul$[ebp], 0

; 6489 : 	int Need4lvlWing = 0;

  0e1b9	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _Need4lvlWing$[ebp], 0

; 6490 : 	int NeedExlItem = 0;

  0e1c0	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _NeedExlItem$[ebp], 0

; 6491 : 	int NeedMoney = 50000000;

  0e1c7	c7 45 c8 80 f0
	fa 02		 mov	 DWORD PTR _NeedMoney$[ebp], 50000000 ; 02faf080H

; 6492 : 	int RateMix	= ExConfig.CommonServer.Wing5MaxSuccessRate;

  0e1ce	a1 9c 00 00 00	 mov	 eax, DWORD PTR ?ExConfig@@3VcExConfigs@@A+156
  0e1d3	89 45 c4	 mov	 DWORD PTR _RateMix$[ebp], eax

; 6493 : 	int NeedError = 0;

  0e1d6	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _NeedError$[ebp], 0

; 6494 : 	int MixLuckRate = 30;

  0e1dd	c7 45 bc 1e 00
	00 00		 mov	 DWORD PTR _MixLuckRate$[ebp], 30 ; 0000001eH

; 6495 : 	int PlusProcent = 0;

  0e1e4	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _PlusProcent$[ebp], 0

; 6496 : 	int NeedAncItem = 0;

  0e1eb	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR _NeedAncItem$[ebp], 0

; 6497 : 
; 6498 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0e1f2	6a 10		 push	 16			; 00000010H
  0e1f4	68 86 00 00 00	 push	 134			; 00000086H
  0e1f9	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0e1fc	50		 push	 eax
  0e1fd	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0e202	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6499 : 	pMsg.Result = CB_ERROR;

  0e205	c6 45 eb 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 6500 : 
; 6501 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++) //loc16

  0e209	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _n$237978[ebp], 0
  0e210	eb 09		 jmp	 SHORT $LN87@MixWings5r
$LN86@MixWings5r:
  0e212	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e215	83 c0 01	 add	 eax, 1
  0e218	89 45 b0	 mov	 DWORD PTR _n$237978[ebp], eax
$LN87@MixWings5r:
  0e21b	83 7d b0 20	 cmp	 DWORD PTR _n$237978[ebp], 32 ; 00000020H
  0e21f	0f 8d ac 02 00
	00		 jge	 $LN85@MixWings5r

; 6502 : 	{
; 6503 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  0e225	8b 4d b0	 mov	 ecx, DWORD PTR _n$237978[ebp]
  0e228	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0e22e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e231	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0e237	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0e23c	83 f8 01	 cmp	 eax, 1
  0e23f	0f 85 87 02 00
	00		 jne	 $LN64@MixWings5r

; 6504 : 		{
; 6505 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,180) ||
; 6506 : 				 lpObj->pChaosBox[n].m_Type == ITEMGET(12,181) ||
; 6507 : 				 lpObj->pChaosBox[n].m_Type == ITEMGET(12,182) ||
; 6508 : 				 lpObj->pChaosBox[n].m_Type == ITEMGET(12,183) ||
; 6509 : 				 lpObj->pChaosBox[n].m_Type == ITEMGET(12,184) ||
; 6510 : 				 lpObj->pChaosBox[n].m_Type == ITEMGET(12,185) )

  0e245	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e248	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e24e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e251	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0e257	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0e25c	3d b4 18 00 00	 cmp	 eax, 6324		; 000018b4H
  0e261	0f 84 96 00 00
	00		 je	 $LN82@MixWings5r
  0e267	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e26a	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e270	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e273	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0e279	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0e27e	3d b5 18 00 00	 cmp	 eax, 6325		; 000018b5H
  0e283	74 78		 je	 SHORT $LN82@MixWings5r
  0e285	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e288	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e28e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e291	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0e297	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0e29c	3d b6 18 00 00	 cmp	 eax, 6326		; 000018b6H
  0e2a1	74 5a		 je	 SHORT $LN82@MixWings5r
  0e2a3	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e2a6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e2ac	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e2af	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0e2b5	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0e2ba	3d b7 18 00 00	 cmp	 eax, 6327		; 000018b7H
  0e2bf	74 3c		 je	 SHORT $LN82@MixWings5r
  0e2c1	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e2c4	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e2ca	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e2cd	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0e2d3	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0e2d8	3d b8 18 00 00	 cmp	 eax, 6328		; 000018b8H
  0e2dd	74 1e		 je	 SHORT $LN82@MixWings5r
  0e2df	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e2e2	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e2e8	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e2eb	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0e2f1	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0e2f6	3d b9 18 00 00	 cmp	 eax, 6329		; 000018b9H
  0e2fb	75 39		 jne	 SHORT $LN83@MixWings5r
$LN82@MixWings5r:

; 6511 : 			{
; 6512 : 				if( this->CheckItemCondition(&lpObj->pChaosBox[n],9,0,0,1,0,0) != FALSE )

  0e2fd	6a 00		 push	 0
  0e2ff	6a 00		 push	 0
  0e301	6a 01		 push	 1
  0e303	6a 00		 push	 0
  0e305	6a 00		 push	 0
  0e307	6a 09		 push	 9
  0e309	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e30c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e312	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e315	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0e31b	50		 push	 eax
  0e31c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0e31f	e8 00 00 00 00	 call	 ?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
  0e324	85 c0		 test	 eax, eax
  0e326	74 09		 je	 SHORT $LN81@MixWings5r

; 6513 : 				{
; 6514 : 					Need4lvlWing++;

  0e328	8b 45 d0	 mov	 eax, DWORD PTR _Need4lvlWing$[ebp]
  0e32b	83 c0 01	 add	 eax, 1
  0e32e	89 45 d0	 mov	 DWORD PTR _Need4lvlWing$[ebp], eax
$LN81@MixWings5r:

; 6515 : 				}
; 6516 : 			}

  0e331	e9 96 01 00 00	 jmp	 $LN64@MixWings5r
$LN83@MixWings5r:

; 6517 : 			else if( this->CheckItemCondition(&lpObj->pChaosBox[n],9,0,0,1,0,1) != FALSE )

  0e336	6a 01		 push	 1
  0e338	6a 00		 push	 0
  0e33a	6a 01		 push	 1
  0e33c	6a 00		 push	 0
  0e33e	6a 00		 push	 0
  0e340	6a 09		 push	 9
  0e342	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e345	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e34b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e34e	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0e354	50		 push	 eax
  0e355	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0e358	e8 00 00 00 00	 call	 ?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
  0e35d	85 c0		 test	 eax, eax
  0e35f	74 0e		 je	 SHORT $LN79@MixWings5r

; 6518 : 			{
; 6519 : 				NeedExlItem++;

  0e361	8b 45 cc	 mov	 eax, DWORD PTR _NeedExlItem$[ebp]
  0e364	83 c0 01	 add	 eax, 1
  0e367	89 45 cc	 mov	 DWORD PTR _NeedExlItem$[ebp], eax
  0e36a	e9 5d 01 00 00	 jmp	 $LN64@MixWings5r
$LN79@MixWings5r:

; 6520 : 			}
; 6521 : 			else if( this->CheckItemCondition(&lpObj->pChaosBox[n],9,0,0,1,1,0) != FALSE )

  0e36f	6a 00		 push	 0
  0e371	6a 01		 push	 1
  0e373	6a 01		 push	 1
  0e375	6a 00		 push	 0
  0e377	6a 00		 push	 0
  0e379	6a 09		 push	 9
  0e37b	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e37e	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e384	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e387	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0e38d	50		 push	 eax
  0e38e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0e391	e8 00 00 00 00	 call	 ?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
  0e396	85 c0		 test	 eax, eax
  0e398	74 0e		 je	 SHORT $LN77@MixWings5r

; 6522 : 			{
; 6523 : 				NeedAncItem++;

  0e39a	8b 45 b4	 mov	 eax, DWORD PTR _NeedAncItem$[ebp]
  0e39d	83 c0 01	 add	 eax, 1
  0e3a0	89 45 b4	 mov	 DWORD PTR _NeedAncItem$[ebp], eax
  0e3a3	e9 24 01 00 00	 jmp	 $LN64@MixWings5r
$LN77@MixWings5r:

; 6524 : 			}
; 6525 : 			else if( lpObj->pChaosBox[n].m_Type == ITEMGET(13,52))	//condor

  0e3a8	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e3ab	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e3b1	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e3b4	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0e3ba	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0e3bf	3d 34 1a 00 00	 cmp	 eax, 6708		; 00001a34H
  0e3c4	75 0e		 jne	 SHORT $LN75@MixWings5r

; 6526 : 			{
; 6527 : 				NeedCondor++;

  0e3c6	8b 45 e4	 mov	 eax, DWORD PTR _NeedCondor$[ebp]
  0e3c9	83 c0 01	 add	 eax, 1
  0e3cc	89 45 e4	 mov	 DWORD PTR _NeedCondor$[ebp], eax
  0e3cf	e9 f8 00 00 00	 jmp	 $LN64@MixWings5r
$LN75@MixWings5r:

; 6528 : 			}
; 6529 : 			else if( lpObj->pChaosBox[n].m_Type == this->iBundleofBless)	//30 B

  0e3d4	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e3d7	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e3dd	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e3e0	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0e3e6	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0e3eb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0e3ee	3b 41 14	 cmp	 eax, DWORD PTR [ecx+20]
  0e3f1	75 0e		 jne	 SHORT $LN73@MixWings5r

; 6530 : 			{
; 6531 : 				Need30Bless++;

  0e3f3	8b 45 d8	 mov	 eax, DWORD PTR _Need30Bless$[ebp]
  0e3f6	83 c0 01	 add	 eax, 1
  0e3f9	89 45 d8	 mov	 DWORD PTR _Need30Bless$[ebp], eax
  0e3fc	e9 cb 00 00 00	 jmp	 $LN64@MixWings5r
$LN73@MixWings5r:

; 6532 : 			}
; 6533 : 			else if( lpObj->pChaosBox[n].m_Type == this->iBundleofSoul)	//30 S

  0e401	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e404	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e40a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e40d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0e413	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0e418	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0e41b	3b 41 18	 cmp	 eax, DWORD PTR [ecx+24]
  0e41e	75 0e		 jne	 SHORT $LN71@MixWings5r

; 6534 : 			{
; 6535 : 				Need30Soul++;

  0e420	8b 45 d4	 mov	 eax, DWORD PTR _Need30Soul$[ebp]
  0e423	83 c0 01	 add	 eax, 1
  0e426	89 45 d4	 mov	 DWORD PTR _Need30Soul$[ebp], eax
  0e429	e9 9e 00 00 00	 jmp	 $LN64@MixWings5r
$LN71@MixWings5r:

; 6536 : 			}
; 6537 : 			else if( lpObj->pChaosBox[n].m_Type == this->iJewelofChaos)

  0e42e	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e431	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e437	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e43a	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0e440	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0e445	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0e448	3b 41 04	 cmp	 eax, DWORD PTR [ecx+4]
  0e44b	75 0b		 jne	 SHORT $LN69@MixWings5r

; 6538 : 			{
; 6539 : 				NeedJewelOfChaos++;

  0e44d	8b 45 e0	 mov	 eax, DWORD PTR _NeedJewelOfChaos$[ebp]
  0e450	83 c0 01	 add	 eax, 1
  0e453	89 45 e0	 mov	 DWORD PTR _NeedJewelOfChaos$[ebp], eax
  0e456	eb 74		 jmp	 SHORT $LN64@MixWings5r
$LN69@MixWings5r:

; 6540 : 			}
; 6541 : 			else if( lpObj->pChaosBox[n].m_Type == this->iJewelofCreation)

  0e458	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e45b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e461	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e464	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0e46a	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0e46f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0e472	3b 41 10	 cmp	 eax, DWORD PTR [ecx+16]
  0e475	75 0b		 jne	 SHORT $LN67@MixWings5r

; 6542 : 			{
; 6543 : 				NeedJewelOfCreatoion++;

  0e477	8b 45 dc	 mov	 eax, DWORD PTR _NeedJewelOfCreatoion$[ebp]
  0e47a	83 c0 01	 add	 eax, 1
  0e47d	89 45 dc	 mov	 DWORD PTR _NeedJewelOfCreatoion$[ebp], eax
  0e480	eb 4a		 jmp	 SHORT $LN64@MixWings5r
$LN67@MixWings5r:

; 6544 : 			}
; 6545 : 			else if( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )

  0e482	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e485	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e48b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e48e	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0e494	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0e499	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  0e49e	75 23		 jne	 SHORT $LN65@MixWings5r

; 6546 : 			{
; 6547 : 				PlusProcent+= (int)lpObj->pChaosBox[n].m_Durability;

  0e4a0	8b 45 b0	 mov	 eax, DWORD PTR _n$237978[ebp]
  0e4a3	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0e4a9	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e4ac	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0e4b2	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  0e4b6	e8 00 00 00 00	 call	 __ftol2_sse
  0e4bb	03 45 b8	 add	 eax, DWORD PTR _PlusProcent$[ebp]
  0e4be	89 45 b8	 mov	 DWORD PTR _PlusProcent$[ebp], eax

; 6548 : 			}
; 6549 : 			else

  0e4c1	eb 09		 jmp	 SHORT $LN64@MixWings5r
$LN65@MixWings5r:

; 6550 : 			{
; 6551 : 				NeedError++;

  0e4c3	8b 45 c0	 mov	 eax, DWORD PTR _NeedError$[ebp]
  0e4c6	83 c0 01	 add	 eax, 1
  0e4c9	89 45 c0	 mov	 DWORD PTR _NeedError$[ebp], eax
$LN64@MixWings5r:

; 6552 : 			}
; 6553 : 		}
; 6554 : 	}

  0e4cc	e9 41 fd ff ff	 jmp	 $LN86@MixWings5r
$LN85@MixWings5r:

; 6555 : 
; 6556 : 	if(PlusProcent > 10)

  0e4d1	83 7d b8 0a	 cmp	 DWORD PTR _PlusProcent$[ebp], 10 ; 0000000aH
  0e4d5	7e 2d		 jle	 SHORT $LN63@MixWings5r

; 6557 : 	{
; 6558 : 		pMsg.Result = 0xF0; //new macro

  0e4d7	c6 45 eb f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 6559 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0e4db	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0e4df	50		 push	 eax
  0e4e0	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0e4e3	51		 push	 ecx
  0e4e4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e4e7	8b 02		 mov	 eax, DWORD PTR [edx]
  0e4e9	50		 push	 eax
  0e4ea	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0e4ef	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6560 : 		lpObj->ChaosLock = FALSE;

  0e4f2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e4f5	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 6561 : 		return;

  0e4ff	e9 b5 05 00 00	 jmp	 $LN88@MixWings5r
$LN63@MixWings5r:

; 6562 : 	}
; 6563 : 
; 6564 : 	if(NeedExlItem < 1 || NeedCondor != 1 || NeedJewelOfChaos != 1 || Need4lvlWing != 1 || NeedJewelOfCreatoion != 1 || 
; 6565 : 	   Need30Bless != 1 || Need30Soul != 1 || NeedError > 0 || NeedAncItem != 1)

  0e504	83 7d cc 01	 cmp	 DWORD PTR _NeedExlItem$[ebp], 1
  0e508	7c 30		 jl	 SHORT $LN61@MixWings5r
  0e50a	83 7d e4 01	 cmp	 DWORD PTR _NeedCondor$[ebp], 1
  0e50e	75 2a		 jne	 SHORT $LN61@MixWings5r
  0e510	83 7d e0 01	 cmp	 DWORD PTR _NeedJewelOfChaos$[ebp], 1
  0e514	75 24		 jne	 SHORT $LN61@MixWings5r
  0e516	83 7d d0 01	 cmp	 DWORD PTR _Need4lvlWing$[ebp], 1
  0e51a	75 1e		 jne	 SHORT $LN61@MixWings5r
  0e51c	83 7d dc 01	 cmp	 DWORD PTR _NeedJewelOfCreatoion$[ebp], 1
  0e520	75 18		 jne	 SHORT $LN61@MixWings5r
  0e522	83 7d d8 01	 cmp	 DWORD PTR _Need30Bless$[ebp], 1
  0e526	75 12		 jne	 SHORT $LN61@MixWings5r
  0e528	83 7d d4 01	 cmp	 DWORD PTR _Need30Soul$[ebp], 1
  0e52c	75 0c		 jne	 SHORT $LN61@MixWings5r
  0e52e	83 7d c0 00	 cmp	 DWORD PTR _NeedError$[ebp], 0
  0e532	7f 06		 jg	 SHORT $LN61@MixWings5r
  0e534	83 7d b4 01	 cmp	 DWORD PTR _NeedAncItem$[ebp], 1
  0e538	74 2d		 je	 SHORT $LN62@MixWings5r
$LN61@MixWings5r:

; 6566 : 	{
; 6567 : 		pMsg.Result = CB_INCORRECT_MIX_ITEMS;

  0e53a	c6 45 eb 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 6568 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0e53e	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0e542	50		 push	 eax
  0e543	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0e546	51		 push	 ecx
  0e547	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e54a	8b 02		 mov	 eax, DWORD PTR [edx]
  0e54c	50		 push	 eax
  0e54d	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0e552	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6569 : 		lpObj->ChaosLock = FALSE;

  0e555	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e558	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 6570 : 		return;

  0e562	e9 52 05 00 00	 jmp	 $LN88@MixWings5r
$LN62@MixWings5r:

; 6571 : 	}
; 6572 : 
; 6573 : 	LogChaosItem(lpObj, "WingLevel5_Mix");

  0e567	68 00 00 00 00	 push	 OFFSET ??_C@_0P@CMLCAPII@WingLevel5_Mix?$AA@
  0e56c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e56f	50		 push	 eax
  0e570	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0e573	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 6574 : 	LogAddTD("[Wings 5 Lvl Mix] Chaos Mix Start");

  0e578	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@JKJMDGCG@?$FLWings?55?5Lvl?5Mix?$FN?5Chaos?5Mix?5Star@
  0e57d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0e583	83 c4 04	 add	 esp, 4

; 6575 : 
; 6576 : 	int iChaosTaxMoney = (int)((__int64)NeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  0e586	8b 45 c8	 mov	 eax, DWORD PTR _NeedMoney$[ebp]
  0e589	99		 cdq
  0e58a	8b f0		 mov	 esi, eax
  0e58c	8b fa		 mov	 edi, edx
  0e58e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e591	8b 08		 mov	 ecx, DWORD PTR [eax]
  0e593	51		 push	 ecx
  0e594	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0e599	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  0e59e	99		 cdq
  0e59f	52		 push	 edx
  0e5a0	50		 push	 eax
  0e5a1	57		 push	 edi
  0e5a2	56		 push	 esi
  0e5a3	e8 00 00 00 00	 call	 __allmul
  0e5a8	6a 00		 push	 0
  0e5aa	6a 64		 push	 100			; 00000064H
  0e5ac	52		 push	 edx
  0e5ad	50		 push	 eax
  0e5ae	e8 00 00 00 00	 call	 __alldiv
  0e5b3	89 45 ac	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 6577 : 
; 6578 : 	if(iChaosTaxMoney < 0)

  0e5b6	83 7d ac 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  0e5ba	7d 07		 jge	 SHORT $LN60@MixWings5r

; 6579 : 	{
; 6580 : 		iChaosTaxMoney = 0;

  0e5bc	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN60@MixWings5r:

; 6581 : 	}
; 6582 : 
; 6583 : 	if ( lpObj->Money < NeedMoney )

  0e5c3	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e5c6	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0e5cc	3b 4d c8	 cmp	 ecx, DWORD PTR _NeedMoney$[ebp]
  0e5cf	7d 2d		 jge	 SHORT $LN59@MixWings5r

; 6584 : 	{
; 6585 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  0e5d1	c6 45 eb 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 6586 : 
; 6587 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0e5d5	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0e5d9	50		 push	 eax
  0e5da	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0e5dd	51		 push	 ecx
  0e5de	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e5e1	8b 02		 mov	 eax, DWORD PTR [edx]
  0e5e3	50		 push	 eax
  0e5e4	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0e5e9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6588 : 		lpObj->ChaosLock = FALSE;

  0e5ec	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e5ef	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 6589 : 
; 6590 : 		return;

  0e5f9	e9 bb 04 00 00	 jmp	 $LN88@MixWings5r
$LN59@MixWings5r:

; 6591 : 	}
; 6592 : 
; 6593 : 	lpObj->Money -= NeedMoney;

  0e5fe	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e601	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0e607	2b 4d c8	 sub	 ecx, DWORD PTR _NeedMoney$[ebp]
  0e60a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e60d	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 6594 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  0e613	8b 45 ac	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0e616	50		 push	 eax
  0e617	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0e61c	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 6595 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  0e621	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e624	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0e62a	51		 push	 ecx
  0e62b	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0e62e	8b 02		 mov	 eax, DWORD PTR [edx]
  0e630	50		 push	 eax
  0e631	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  0e636	83 c4 08	 add	 esp, 8

; 6596 : 	srand(time(NULL));

  0e639	6a 00		 push	 0
  0e63b	e8 00 00 00 00	 call	 _time
  0e640	83 c4 04	 add	 esp, 4
  0e643	50		 push	 eax
  0e644	e8 00 00 00 00	 call	 _srand
  0e649	83 c4 04	 add	 esp, 4

; 6597 : 	int MixPercent = (rand()%100);

  0e64c	e8 00 00 00 00	 call	 _rand
  0e651	99		 cdq
  0e652	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0e657	f7 f9		 idiv	 ecx
  0e659	89 55 a8	 mov	 DWORD PTR _MixPercent$[ebp], edx

; 6598 : 
; 6599 : 	if(RateMix > MixPercent)

  0e65c	8b 45 c4	 mov	 eax, DWORD PTR _RateMix$[ebp]
  0e65f	3b 45 a8	 cmp	 eax, DWORD PTR _MixPercent$[ebp]
  0e662	0f 8e d5 03 00
	00		 jle	 $LN58@MixWings5r

; 6600 : 	{
; 6601 : 		int ItemType = 0;

  0e668	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _ItemType$238021[ebp], 0

; 6602 : 
; 6603 : 		if(ExConfig.ExCustom.SwitchChar == 1)

  0e66f	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A, 1
  0e676	75 61		 jne	 SHORT $LN57@MixWings5r

; 6604 : 		{
; 6605 : 			int CharItemCount = 5;

  0e678	c7 45 a0 05 00
	00 00		 mov	 DWORD PTR _CharItemCount$238023[ebp], 5

; 6606 : 
; 6607 : 			int loc18 = rand()%CharItemCount;

  0e67f	e8 00 00 00 00	 call	 _rand
  0e684	99		 cdq
  0e685	f7 7d a0	 idiv	 DWORD PTR _CharItemCount$238023[ebp]
  0e688	89 55 9c	 mov	 DWORD PTR _loc18$238024[ebp], edx

; 6608 : 
; 6609 : 			if(loc18 == 0)

  0e68b	83 7d 9c 00	 cmp	 DWORD PTR _loc18$238024[ebp], 0
  0e68f	75 09		 jne	 SHORT $LN56@MixWings5r

; 6610 : 			{
; 6611 : 				ItemType = ITEMGET(12,189);

  0e691	c7 45 a4 bd 18
	00 00		 mov	 DWORD PTR _ItemType$238021[ebp], 6333 ; 000018bdH
  0e698	eb 3a		 jmp	 SHORT $LN48@MixWings5r
$LN56@MixWings5r:

; 6612 : 			}
; 6613 : 			else if( loc18 == 1)

  0e69a	83 7d 9c 01	 cmp	 DWORD PTR _loc18$238024[ebp], 1
  0e69e	75 09		 jne	 SHORT $LN54@MixWings5r

; 6614 : 			{
; 6615 : 				ItemType = ITEMGET(12,190);

  0e6a0	c7 45 a4 be 18
	00 00		 mov	 DWORD PTR _ItemType$238021[ebp], 6334 ; 000018beH
  0e6a7	eb 2b		 jmp	 SHORT $LN48@MixWings5r
$LN54@MixWings5r:

; 6616 : 			}
; 6617 : 			else if( loc18 == 2)

  0e6a9	83 7d 9c 02	 cmp	 DWORD PTR _loc18$238024[ebp], 2
  0e6ad	75 09		 jne	 SHORT $LN52@MixWings5r

; 6618 : 			{
; 6619 : 				ItemType = ITEMGET(12,191);

  0e6af	c7 45 a4 bf 18
	00 00		 mov	 DWORD PTR _ItemType$238021[ebp], 6335 ; 000018bfH
  0e6b6	eb 1c		 jmp	 SHORT $LN48@MixWings5r
$LN52@MixWings5r:

; 6620 : 			}
; 6621 : 			else if( loc18 == 3)

  0e6b8	83 7d 9c 03	 cmp	 DWORD PTR _loc18$238024[ebp], 3
  0e6bc	75 09		 jne	 SHORT $LN50@MixWings5r

; 6622 : 			{
; 6623 : 				ItemType = ITEMGET(12,192);

  0e6be	c7 45 a4 c0 18
	00 00		 mov	 DWORD PTR _ItemType$238021[ebp], 6336 ; 000018c0H
  0e6c5	eb 0d		 jmp	 SHORT $LN48@MixWings5r
$LN50@MixWings5r:

; 6624 : 			}
; 6625 : 			else if( loc18 == 4)

  0e6c7	83 7d 9c 04	 cmp	 DWORD PTR _loc18$238024[ebp], 4
  0e6cb	75 07		 jne	 SHORT $LN48@MixWings5r

; 6626 : 			{
; 6627 : 				ItemType = ITEMGET(12,193);

  0e6cd	c7 45 a4 c1 18
	00 00		 mov	 DWORD PTR _ItemType$238021[ebp], 6337 ; 000018c1H
$LN48@MixWings5r:

; 6628 : 			}
; 6629 : 		}

  0e6d4	e9 d1 00 00 00	 jmp	 $LN27@MixWings5r
$LN57@MixWings5r:

; 6630 : 		else if(ExConfig.ExCustom.SwitchChar == 2)

  0e6d9	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?ExConfig@@3VcExConfigs@@A, 2
  0e6e0	75 56		 jne	 SHORT $LN46@MixWings5r

; 6631 : 		{
; 6632 : 			int CharItemCount = 4;

  0e6e2	c7 45 98 04 00
	00 00		 mov	 DWORD PTR _CharItemCount$238036[ebp], 4

; 6633 : 
; 6634 : 			int loc18 = rand()%CharItemCount;

  0e6e9	e8 00 00 00 00	 call	 _rand
  0e6ee	99		 cdq
  0e6ef	f7 7d 98	 idiv	 DWORD PTR _CharItemCount$238036[ebp]
  0e6f2	89 55 94	 mov	 DWORD PTR _loc18$238037[ebp], edx

; 6635 : 			int ItemType = 0;

  0e6f5	c7 45 90 00 00
	00 00		 mov	 DWORD PTR _ItemType$238038[ebp], 0

; 6636 : 
; 6637 : 			if(loc18 == 0)

  0e6fc	83 7d 94 00	 cmp	 DWORD PTR _loc18$238037[ebp], 0
  0e700	75 09		 jne	 SHORT $LN45@MixWings5r

; 6638 : 			{
; 6639 : 				ItemType = ITEMGET(12,189);

  0e702	c7 45 90 bd 18
	00 00		 mov	 DWORD PTR _ItemType$238038[ebp], 6333 ; 000018bdH
  0e709	eb 2b		 jmp	 SHORT $LN39@MixWings5r
$LN45@MixWings5r:

; 6640 : 			}
; 6641 : 			else if( loc18 == 1)

  0e70b	83 7d 94 01	 cmp	 DWORD PTR _loc18$238037[ebp], 1
  0e70f	75 09		 jne	 SHORT $LN43@MixWings5r

; 6642 : 			{
; 6643 : 				ItemType = ITEMGET(12,190);

  0e711	c7 45 90 be 18
	00 00		 mov	 DWORD PTR _ItemType$238038[ebp], 6334 ; 000018beH
  0e718	eb 1c		 jmp	 SHORT $LN39@MixWings5r
$LN43@MixWings5r:

; 6644 : 			}
; 6645 : 			else if( loc18 == 2)

  0e71a	83 7d 94 02	 cmp	 DWORD PTR _loc18$238037[ebp], 2
  0e71e	75 09		 jne	 SHORT $LN41@MixWings5r

; 6646 : 			{
; 6647 : 				ItemType = ITEMGET(12,191);

  0e720	c7 45 90 bf 18
	00 00		 mov	 DWORD PTR _ItemType$238038[ebp], 6335 ; 000018bfH
  0e727	eb 0d		 jmp	 SHORT $LN39@MixWings5r
$LN41@MixWings5r:

; 6648 : 			}
; 6649 : 			else if( loc18 == 3)

  0e729	83 7d 94 03	 cmp	 DWORD PTR _loc18$238037[ebp], 3
  0e72d	75 07		 jne	 SHORT $LN39@MixWings5r

; 6650 : 			{
; 6651 : 				ItemType = ITEMGET(12,193);

  0e72f	c7 45 90 c1 18
	00 00		 mov	 DWORD PTR _ItemType$238038[ebp], 6337 ; 000018c1H
$LN39@MixWings5r:

; 6652 : 			}
; 6653 : 		}
; 6654 : 		else

  0e736	eb 72		 jmp	 SHORT $LN27@MixWings5r
$LN46@MixWings5r:

; 6655 : 		{
; 6656 : 			int CharItemCount = 6;

  0e738	c7 45 8c 06 00
	00 00		 mov	 DWORD PTR _CharItemCount$238047[ebp], 6

; 6657 : 
; 6658 : 			int loc18 = rand()%CharItemCount;

  0e73f	e8 00 00 00 00	 call	 _rand
  0e744	99		 cdq
  0e745	f7 7d 8c	 idiv	 DWORD PTR _CharItemCount$238047[ebp]
  0e748	89 55 88	 mov	 DWORD PTR _loc18$238048[ebp], edx

; 6659 : 			int ItemType = 0;

  0e74b	c7 45 84 00 00
	00 00		 mov	 DWORD PTR _ItemType$238049[ebp], 0

; 6660 : 
; 6661 : 			if(loc18 == 0)

  0e752	83 7d 88 00	 cmp	 DWORD PTR _loc18$238048[ebp], 0
  0e756	75 09		 jne	 SHORT $LN37@MixWings5r

; 6662 : 			{
; 6663 : 				ItemType = ITEMGET(12,189);

  0e758	c7 45 84 bd 18
	00 00		 mov	 DWORD PTR _ItemType$238049[ebp], 6333 ; 000018bdH
  0e75f	eb 49		 jmp	 SHORT $LN27@MixWings5r
$LN37@MixWings5r:

; 6664 : 			}
; 6665 : 			else if( loc18 == 1)

  0e761	83 7d 88 01	 cmp	 DWORD PTR _loc18$238048[ebp], 1
  0e765	75 09		 jne	 SHORT $LN35@MixWings5r

; 6666 : 			{
; 6667 : 				ItemType = ITEMGET(12,190);

  0e767	c7 45 84 be 18
	00 00		 mov	 DWORD PTR _ItemType$238049[ebp], 6334 ; 000018beH
  0e76e	eb 3a		 jmp	 SHORT $LN27@MixWings5r
$LN35@MixWings5r:

; 6668 : 			}
; 6669 : 			else if( loc18 == 2)

  0e770	83 7d 88 02	 cmp	 DWORD PTR _loc18$238048[ebp], 2
  0e774	75 09		 jne	 SHORT $LN33@MixWings5r

; 6670 : 			{
; 6671 : 				ItemType = ITEMGET(12,191);

  0e776	c7 45 84 bf 18
	00 00		 mov	 DWORD PTR _ItemType$238049[ebp], 6335 ; 000018bfH
  0e77d	eb 2b		 jmp	 SHORT $LN27@MixWings5r
$LN33@MixWings5r:

; 6672 : 			}
; 6673 : 			else if( loc18 == 3)

  0e77f	83 7d 88 03	 cmp	 DWORD PTR _loc18$238048[ebp], 3
  0e783	75 09		 jne	 SHORT $LN31@MixWings5r

; 6674 : 			{
; 6675 : 				ItemType = ITEMGET(12,192);

  0e785	c7 45 84 c0 18
	00 00		 mov	 DWORD PTR _ItemType$238049[ebp], 6336 ; 000018c0H
  0e78c	eb 1c		 jmp	 SHORT $LN27@MixWings5r
$LN31@MixWings5r:

; 6676 : 			}
; 6677 : 			else if( loc18 == 4)

  0e78e	83 7d 88 04	 cmp	 DWORD PTR _loc18$238048[ebp], 4
  0e792	75 09		 jne	 SHORT $LN29@MixWings5r

; 6678 : 			{
; 6679 : 				ItemType = ITEMGET(12,193);

  0e794	c7 45 84 c1 18
	00 00		 mov	 DWORD PTR _ItemType$238049[ebp], 6337 ; 000018c1H
  0e79b	eb 0d		 jmp	 SHORT $LN27@MixWings5r
$LN29@MixWings5r:

; 6680 : 			}
; 6681 : 			else if( loc18 == 5)

  0e79d	83 7d 88 05	 cmp	 DWORD PTR _loc18$238048[ebp], 5
  0e7a1	75 07		 jne	 SHORT $LN27@MixWings5r

; 6682 : 			{
; 6683 : 				ItemType = ITEMGET(12,194);

  0e7a3	c7 45 84 c2 18
	00 00		 mov	 DWORD PTR _ItemType$238049[ebp], 6338 ; 000018c2H
$LN27@MixWings5r:

; 6684 : 			}
; 6685 : 		}
; 6686 : 
; 6687 : 		int ItemLuckAdd = 0;

  0e7aa	c7 45 80 00 00
	00 00		 mov	 DWORD PTR _ItemLuckAdd$238061[ebp], 0

; 6688 : 
; 6689 : 		if( (rand()%100) <= MixLuckRate )

  0e7b1	e8 00 00 00 00	 call	 _rand
  0e7b6	99		 cdq
  0e7b7	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0e7bc	f7 f9		 idiv	 ecx
  0e7be	3b 55 bc	 cmp	 edx, DWORD PTR _MixLuckRate$[ebp]
  0e7c1	7f 07		 jg	 SHORT $LN26@MixWings5r

; 6690 : 		{
; 6691 : 			ItemLuckAdd = 1;

  0e7c3	c7 45 80 01 00
	00 00		 mov	 DWORD PTR _ItemLuckAdd$238061[ebp], 1
$LN26@MixWings5r:

; 6692 : 		}
; 6693 : 
; 6694 : 		int ItemOptAdd = 0;

  0e7ca	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _ItemOptAdd$238063[ebp], 0

; 6695 : 		int loc23 = 0;

  0e7d4	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _loc23$238064[ebp], 0

; 6696 : 		int loc24 = rand()%2;

  0e7de	e8 00 00 00 00	 call	 _rand
  0e7e3	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0e7e8	79 05		 jns	 SHORT $LN90@MixWings5r
  0e7ea	48		 dec	 eax
  0e7eb	83 c8 fe	 or	 eax, -2			; fffffffeH
  0e7ee	40		 inc	 eax
$LN90@MixWings5r:
  0e7ef	89 85 74 ff ff
	ff		 mov	 DWORD PTR _loc24$238065[ebp], eax

; 6697 : 		int loc25;
; 6698 : 		int loc26;
; 6699 : 		int loc27;
; 6700 : 		int loc28;
; 6701 : 		int loc29;
; 6702 : 
; 6703 : 		switch ( loc24 )

  0e7f5	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _loc24$238065[ebp]
  0e7fb	89 85 1c ff ff
	ff		 mov	 DWORD PTR tv353[ebp], eax
  0e801	83 bd 1c ff ff
	ff 00		 cmp	 DWORD PTR tv353[ebp], 0
  0e808	74 0b		 je	 SHORT $LN23@MixWings5r
  0e80a	83 bd 1c ff ff
	ff 01		 cmp	 DWORD PTR tv353[ebp], 1
  0e811	74 32		 je	 SHORT $LN21@MixWings5r
  0e813	eb 5e		 jmp	 SHORT $LN24@MixWings5r
$LN23@MixWings5r:

; 6704 : 		{
; 6705 : 		case 0:
; 6706 : 			loc25 = rand()%1000;

  0e815	e8 00 00 00 00	 call	 _rand
  0e81a	99		 cdq
  0e81b	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0e820	f7 f9		 idiv	 ecx
  0e822	89 95 70 ff ff
	ff		 mov	 DWORD PTR _loc25$238066[ebp], edx

; 6707 : 			if(loc25 < 400)

  0e828	81 bd 70 ff ff
	ff 90 01 00 00	 cmp	 DWORD PTR _loc25$238066[ebp], 400 ; 00000190H
  0e832	7d 0f		 jge	 SHORT $LN22@MixWings5r

; 6708 : 			{
; 6709 : 				loc23 |= 0x10;

  0e834	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR _loc23$238064[ebp]
  0e83a	83 c8 10	 or	 eax, 16			; 00000010H
  0e83d	89 85 78 ff ff
	ff		 mov	 DWORD PTR _loc23$238064[ebp], eax
$LN22@MixWings5r:

; 6710 : 			}
; 6711 : 			break;

  0e843	eb 2e		 jmp	 SHORT $LN24@MixWings5r
$LN21@MixWings5r:

; 6712 : 
; 6713 : 		case 1:
; 6714 : 			loc25 = rand()%1000;

  0e845	e8 00 00 00 00	 call	 _rand
  0e84a	99		 cdq
  0e84b	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0e850	f7 f9		 idiv	 ecx
  0e852	89 95 70 ff ff
	ff		 mov	 DWORD PTR _loc25$238066[ebp], edx

; 6715 : 			if(loc24 < 300)

  0e858	81 bd 74 ff ff
	ff 2c 01 00 00	 cmp	 DWORD PTR _loc24$238065[ebp], 300 ; 0000012cH
  0e862	7d 0f		 jge	 SHORT $LN20@MixWings5r

; 6716 : 			{
; 6717 : 				loc23 |= 0x20;

  0e864	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR _loc23$238064[ebp]
  0e86a	83 c8 20	 or	 eax, 32			; 00000020H
  0e86d	89 85 78 ff ff
	ff		 mov	 DWORD PTR _loc23$238064[ebp], eax
$LN20@MixWings5r:
$LN24@MixWings5r:

; 6718 : 			}
; 6719 : 			break;
; 6720 : 		}
; 6721 : 
; 6722 : 		loc26 = rand()%4;

  0e873	e8 00 00 00 00	 call	 _rand
  0e878	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  0e87d	79 05		 jns	 SHORT $LN91@MixWings5r
  0e87f	48		 dec	 eax
  0e880	83 c8 fc	 or	 eax, -4			; fffffffcH
  0e883	40		 inc	 eax
$LN91@MixWings5r:
  0e884	89 85 6c ff ff
	ff		 mov	 DWORD PTR _loc26$238067[ebp], eax

; 6723 : 		loc27 = rand()%1000;

  0e88a	e8 00 00 00 00	 call	 _rand
  0e88f	99		 cdq
  0e890	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0e895	f7 f9		 idiv	 ecx
  0e897	89 95 68 ff ff
	ff		 mov	 DWORD PTR _loc27$238068[ebp], edx

; 6724 : 
; 6725 : 		switch( loc26 )

  0e89d	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR _loc26$238067[ebp]
  0e8a3	89 85 1c ff ff
	ff		 mov	 DWORD PTR tv368[ebp], eax
  0e8a9	83 bd 1c ff ff
	ff 01		 cmp	 DWORD PTR tv368[ebp], 1
  0e8b0	74 14		 je	 SHORT $LN17@MixWings5r
  0e8b2	83 bd 1c ff ff
	ff 02		 cmp	 DWORD PTR tv368[ebp], 2
  0e8b9	74 20		 je	 SHORT $LN15@MixWings5r
  0e8bb	83 bd 1c ff ff
	ff 03		 cmp	 DWORD PTR tv368[ebp], 3
  0e8c2	74 2c		 je	 SHORT $LN13@MixWings5r
  0e8c4	eb 3d		 jmp	 SHORT $LN18@MixWings5r
$LN17@MixWings5r:

; 6726 : 		{
; 6727 : 		case 1:
; 6728 : 			{
; 6729 : 				if(loc27 < 120)

  0e8c6	83 bd 68 ff ff
	ff 78		 cmp	 DWORD PTR _loc27$238068[ebp], 120 ; 00000078H
  0e8cd	7d 0a		 jge	 SHORT $LN16@MixWings5r

; 6730 : 				{
; 6731 : 					ItemOptAdd = 1;

  0e8cf	c7 85 7c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _ItemOptAdd$238063[ebp], 1
$LN16@MixWings5r:

; 6732 : 				}
; 6733 : 			}
; 6734 : 			break;

  0e8d9	eb 28		 jmp	 SHORT $LN18@MixWings5r
$LN15@MixWings5r:

; 6735 : 
; 6736 : 		case 2:
; 6737 : 			{
; 6738 : 				if(loc27 < 60)

  0e8db	83 bd 68 ff ff
	ff 3c		 cmp	 DWORD PTR _loc27$238068[ebp], 60 ; 0000003cH
  0e8e2	7d 0a		 jge	 SHORT $LN14@MixWings5r

; 6739 : 				{
; 6740 : 					ItemOptAdd = 2;

  0e8e4	c7 85 7c ff ff
	ff 02 00 00 00	 mov	 DWORD PTR _ItemOptAdd$238063[ebp], 2
$LN14@MixWings5r:

; 6741 : 				}
; 6742 : 			}
; 6743 : 			break;

  0e8ee	eb 13		 jmp	 SHORT $LN18@MixWings5r
$LN13@MixWings5r:

; 6744 : 
; 6745 : 		case 3:
; 6746 : 			{
; 6747 : 				if(loc27 < 30)

  0e8f0	83 bd 68 ff ff
	ff 1e		 cmp	 DWORD PTR _loc27$238068[ebp], 30 ; 0000001eH
  0e8f7	7d 0a		 jge	 SHORT $LN12@MixWings5r

; 6748 : 				{
; 6749 : 					ItemOptAdd = 3;

  0e8f9	c7 85 7c ff ff
	ff 03 00 00 00	 mov	 DWORD PTR _ItemOptAdd$238063[ebp], 3
$LN12@MixWings5r:
$LN18@MixWings5r:

; 6750 : 				}
; 6751 : 			}
; 6752 : 			break;
; 6753 : 		}
; 6754 : 
; 6755 : 		loc28 = rand()%4;

  0e903	e8 00 00 00 00	 call	 _rand
  0e908	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  0e90d	79 05		 jns	 SHORT $LN92@MixWings5r
  0e90f	48		 dec	 eax
  0e910	83 c8 fc	 or	 eax, -4			; fffffffcH
  0e913	40		 inc	 eax
$LN92@MixWings5r:
  0e914	89 85 64 ff ff
	ff		 mov	 DWORD PTR _loc28$238069[ebp], eax

; 6756 : 		loc29 = rand()%1000;

  0e91a	e8 00 00 00 00	 call	 _rand
  0e91f	99		 cdq
  0e920	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0e925	f7 f9		 idiv	 ecx
  0e927	89 95 60 ff ff
	ff		 mov	 DWORD PTR _loc29$238070[ebp], edx

; 6757 : 
; 6758 : 		switch( loc28 )

  0e92d	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _loc28$238069[ebp]
  0e933	89 85 1c ff ff
	ff		 mov	 DWORD PTR tv379[ebp], eax
  0e939	83 bd 1c ff ff
	ff 03		 cmp	 DWORD PTR tv379[ebp], 3
  0e940	77 73		 ja	 SHORT $LN10@MixWings5r
  0e942	8b 8d 1c ff ff
	ff		 mov	 ecx, DWORD PTR tv379[ebp]
  0e948	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN93@MixWings5r[ecx*4]
$LN9@MixWings5r:

; 6759 : 		{
; 6760 : 		case 0:
; 6761 : 			{
; 6762 : 				if(loc29 < 40)

  0e94f	83 bd 60 ff ff
	ff 28		 cmp	 DWORD PTR _loc29$238070[ebp], 40 ; 00000028H
  0e956	7d 0f		 jge	 SHORT $LN8@MixWings5r

; 6763 : 				{
; 6764 : 					loc23 |= 1;

  0e958	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR _loc23$238064[ebp]
  0e95e	83 c8 01	 or	 eax, 1
  0e961	89 85 78 ff ff
	ff		 mov	 DWORD PTR _loc23$238064[ebp], eax
$LN8@MixWings5r:

; 6765 : 				}
; 6766 : 			}
; 6767 : 			break;

  0e967	eb 4c		 jmp	 SHORT $LN10@MixWings5r
$LN7@MixWings5r:

; 6768 : 		case 1:
; 6769 : 			{
; 6770 : 				if(loc29 < 20)

  0e969	83 bd 60 ff ff
	ff 14		 cmp	 DWORD PTR _loc29$238070[ebp], 20 ; 00000014H
  0e970	7d 0f		 jge	 SHORT $LN6@MixWings5r

; 6771 : 				{
; 6772 : 					loc23 |= 2;

  0e972	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR _loc23$238064[ebp]
  0e978	83 c8 02	 or	 eax, 2
  0e97b	89 85 78 ff ff
	ff		 mov	 DWORD PTR _loc23$238064[ebp], eax
$LN6@MixWings5r:

; 6773 : 				}
; 6774 : 			}
; 6775 : 			break;

  0e981	eb 32		 jmp	 SHORT $LN10@MixWings5r
$LN5@MixWings5r:

; 6776 : 
; 6777 : 		case 2:
; 6778 : 			{
; 6779 : 				if(loc29 < 70)

  0e983	83 bd 60 ff ff
	ff 46		 cmp	 DWORD PTR _loc29$238070[ebp], 70 ; 00000046H
  0e98a	7d 0f		 jge	 SHORT $LN4@MixWings5r

; 6780 : 				{
; 6781 : 					loc23 |= 4;

  0e98c	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR _loc23$238064[ebp]
  0e992	83 c8 04	 or	 eax, 4
  0e995	89 85 78 ff ff
	ff		 mov	 DWORD PTR _loc23$238064[ebp], eax
$LN4@MixWings5r:

; 6782 : 				}
; 6783 : 			}
; 6784 : 			break;

  0e99b	eb 18		 jmp	 SHORT $LN10@MixWings5r
$LN3@MixWings5r:

; 6785 : 		case 3:
; 6786 : 			{
; 6787 : 				if(loc29 < 70)

  0e99d	83 bd 60 ff ff
	ff 46		 cmp	 DWORD PTR _loc29$238070[ebp], 70 ; 00000046H
  0e9a4	7d 0f		 jge	 SHORT $LN2@MixWings5r

; 6788 : 				{
; 6789 : 					loc23 |= 8;

  0e9a6	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR _loc23$238064[ebp]
  0e9ac	83 c8 08	 or	 eax, 8
  0e9af	89 85 78 ff ff
	ff		 mov	 DWORD PTR _loc23$238064[ebp], eax
$LN2@MixWings5r:
$LN10@MixWings5r:

; 6790 : 				}
; 6791 : 			}
; 6792 : 			break;
; 6793 : 		}
; 6794 : 
; 6795 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, ItemType , 0, 0, 0, (BYTE)ItemLuckAdd, (BYTE)ItemOptAdd, -1, (BYTE)loc23, 0);

  0e9b5	6a 00		 push	 0
  0e9b7	0f b6 85 78 ff
	ff ff		 movzx	 eax, BYTE PTR _loc23$238064[ebp]
  0e9be	50		 push	 eax
  0e9bf	6a ff		 push	 -1
  0e9c1	0f b6 8d 7c ff
	ff ff		 movzx	 ecx, BYTE PTR _ItemOptAdd$238063[ebp]
  0e9c8	51		 push	 ecx
  0e9c9	0f b6 55 80	 movzx	 edx, BYTE PTR _ItemLuckAdd$238061[ebp]
  0e9cd	52		 push	 edx
  0e9ce	6a 00		 push	 0
  0e9d0	6a 00		 push	 0
  0e9d2	6a 00		 push	 0
  0e9d4	8b 45 a4	 mov	 eax, DWORD PTR _ItemType$238021[ebp]
  0e9d7	50		 push	 eax
  0e9d8	6a 00		 push	 0
  0e9da	6a 00		 push	 0
  0e9dc	68 ff 00 00 00	 push	 255			; 000000ffH
  0e9e1	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0e9e4	8b 11		 mov	 edx, DWORD PTR [ecx]
  0e9e6	52		 push	 edx
  0e9e7	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0e9ec	83 c4 34	 add	 esp, 52			; 00000034H

; 6796 : 		::gObjInventoryCommit(lpObj->m_Index);

  0e9ef	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0e9f2	8b 08		 mov	 ecx, DWORD PTR [eax]
  0e9f4	51		 push	 ecx
  0e9f5	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0e9fa	83 c4 04	 add	 esp, 4

; 6797 : 
; 6798 : 		LogAddTD("[5rd Wings Mix] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate : %d",
; 6799 : 			lpObj->AccountID, lpObj->Name, MixPercent,	lpObj->Money, NeedMoney);

  0e9fd	8b 45 c8	 mov	 eax, DWORD PTR _NeedMoney$[ebp]
  0ea00	50		 push	 eax
  0ea01	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ea04	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  0ea0a	52		 push	 edx
  0ea0b	8b 45 a8	 mov	 eax, DWORD PTR _MixPercent$[ebp]
  0ea0e	50		 push	 eax
  0ea0f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ea12	83 c1 77	 add	 ecx, 119		; 00000077H
  0ea15	51		 push	 ecx
  0ea16	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ea19	83 c2 6c	 add	 edx, 108		; 0000006cH
  0ea1c	52		 push	 edx
  0ea1d	68 00 00 00 00	 push	 OFFSET ??_C@_0EI@OMDPDJNI@?$FL5rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@
  0ea22	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0ea28	83 c4 18	 add	 esp, 24			; 00000018H

; 6800 : #if(SYSTEM_ACHIEVEMENTS)
; 6801 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  0ea2b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ea2e	8b 08		 mov	 ecx, DWORD PTR [eax]
  0ea30	51		 push	 ecx
  0ea31	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0ea36	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 6802 : #endif
; 6803 : 	}
; 6804 : 	else

  0ea3b	eb 7c		 jmp	 SHORT $LN1@MixWings5r
$LN58@MixWings5r:

; 6805 : 	{
; 6806 : 		this->ChaosBoxInit(lpObj);

  0ea3d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ea40	50		 push	 eax
  0ea41	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0ea44	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 6807 : 		::GCUserChaosBoxSend(lpObj, 0);

  0ea49	6a 00		 push	 0
  0ea4b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ea4e	50		 push	 eax
  0ea4f	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0ea54	83 c4 08	 add	 esp, 8

; 6808 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0ea57	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0ea5b	50		 push	 eax
  0ea5c	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0ea5f	51		 push	 ecx
  0ea60	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ea63	8b 02		 mov	 eax, DWORD PTR [edx]
  0ea65	50		 push	 eax
  0ea66	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0ea6b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6809 : 
; 6810 : 		LogAddTD("[5rd Wings Mix] [%s][%s] CBMix Fail %d Money : %d-%d",
; 6811 : 			lpObj->AccountID, lpObj->Name, MixPercent,	lpObj->Money, NeedMoney);

  0ea6e	8b 45 c8	 mov	 eax, DWORD PTR _NeedMoney$[ebp]
  0ea71	50		 push	 eax
  0ea72	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ea75	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  0ea7b	52		 push	 edx
  0ea7c	8b 45 a8	 mov	 eax, DWORD PTR _MixPercent$[ebp]
  0ea7f	50		 push	 eax
  0ea80	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ea83	83 c1 77	 add	 ecx, 119		; 00000077H
  0ea86	51		 push	 ecx
  0ea87	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ea8a	83 c2 6c	 add	 edx, 108		; 0000006cH
  0ea8d	52		 push	 edx
  0ea8e	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@ECBKIEB@?$FL5rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@
  0ea93	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0ea99	83 c4 18	 add	 esp, 24			; 00000018H

; 6812 : 		lpObj->ChaosLock = FALSE;

  0ea9c	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ea9f	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 6813 : #if(SYSTEM_ACHIEVEMENTS)
; 6814 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  0eaa9	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0eaac	8b 08		 mov	 ecx, DWORD PTR [eax]
  0eaae	51		 push	 ecx
  0eaaf	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0eab4	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN1@MixWings5r:
$LN88@MixWings5r:

; 6815 : #endif
; 6816 : 	}
; 6817 : }

  0eab9	5f		 pop	 edi
  0eaba	5e		 pop	 esi
  0eabb	5b		 pop	 ebx
  0eabc	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0eabf	33 cd		 xor	 ecx, ebp
  0eac1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0eac6	8b e5		 mov	 esp, ebp
  0eac8	5d		 pop	 ebp
  0eac9	c2 04 00	 ret	 4
$LN93@MixWings5r:
  0eacc	00 00 00 00	 DD	 $LN9@MixWings5r
  0ead0	00 00 00 00	 DD	 $LN7@MixWings5r
  0ead4	00 00 00 00	 DD	 $LN5@MixWings5r
  0ead8	00 00 00 00	 DD	 $LN3@MixWings5r
?MixWings5rd@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP	; CMixSystem::MixWings5rd
_TEXT	ENDS
PUBLIC	??_C@_0DF@LOHEKMFG@?$FL6rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@ ; `string'
PUBLIC	??_C@_0EI@FJAEFMKB@?$FL6rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@ ; `string'
PUBLIC	??_C@_0CC@CJAIBLOF@?$FLWings?56?5Lvl?5Mix?$FN?5Chaos?5Mix?5Star@ ; `string'
PUBLIC	??_C@_0P@KKCGHNCG@WingLevel6_Mix?$AA@		; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?MixWings6rd@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::MixWings6rd
;	COMDAT ??_C@_0DF@LOHEKMFG@?$FL6rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@
CONST	SEGMENT
??_C@_0DF@LOHEKMFG@?$FL6rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@ DB '['
	DB	'6rd Wings Mix] [%s][%s] CBMix Fail %d Money : %d-%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EI@FJAEFMKB@?$FL6rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@
CONST	SEGMENT
??_C@_0EI@FJAEFMKB@?$FL6rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@ DB '['
	DB	'6rd Wings Mix] [%s][%s] CBMix Success %d Money : %d-%d, Charm'
	DB	'Rate : %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0CC@CJAIBLOF@?$FLWings?56?5Lvl?5Mix?$FN?5Chaos?5Mix?5Star@
CONST	SEGMENT
??_C@_0CC@CJAIBLOF@?$FLWings?56?5Lvl?5Mix?$FN?5Chaos?5Mix?5Star@ DB '[Win'
	DB	'gs 6 Lvl Mix] Chaos Mix Start', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@KKCGHNCG@WingLevel6_Mix?$AA@
CONST	SEGMENT
??_C@_0P@KKCGHNCG@WingLevel6_Mix?$AA@ DB 'WingLevel6_Mix', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv366 = -200						; size = 4
tv355 = -200						; size = 4
tv308 = -200						; size = 4
_loc29$238187 = -132					; size = 4
_loc28$238186 = -128					; size = 4
_loc27$238185 = -124					; size = 4
_loc26$238184 = -120					; size = 4
_loc25$238183 = -116					; size = 4
_loc24$238182 = -112					; size = 4
_loc23$238181 = -108					; size = 4
_ItemOptAdd$238180 = -104				; size = 4
_ItemLuckAdd$238178 = -100				; size = 4
_ItemType$238174 = -96					; size = 4
_loc18$238173 = -92					; size = 4
_MixPercent$ = -88					; size = 4
_iChaosTaxMoney$ = -84					; size = 4
_n$238130 = -80						; size = 4
_NeedAncItem$ = -76					; size = 4
_PlusProcent$ = -72					; size = 4
_MixLuckRate$ = -68					; size = 4
_NeedError$ = -64					; size = 4
_RateMix$ = -60						; size = 4
_NeedMoney$ = -56					; size = 4
_NeedExlItem$ = -52					; size = 4
_Need5lvlWing$ = -48					; size = 4
_Need30Soul$ = -44					; size = 4
_Need30Bless$ = -40					; size = 4
_NeedJewelOfCreatoion$ = -36				; size = 4
_NeedJewelOfChaos$ = -32				; size = 4
_NeedCondor$ = -28					; size = 4
_pMsg$ = -24						; size = 16
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?MixWings6rd@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC	; CMixSystem::MixWings6rd
; _this$ = ecx

; 6821 : {	

  0eae0	55		 push	 ebp
  0eae1	8b ec		 mov	 ebp, esp
  0eae3	81 ec c8 00 00
	00		 sub	 esp, 200		; 000000c8H
  0eae9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0eaee	33 c5		 xor	 eax, ebp
  0eaf0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0eaf3	53		 push	 ebx
  0eaf4	56		 push	 esi
  0eaf5	57		 push	 edi
  0eaf6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 6822 : 	PMSG_CHAOSMIXRESULT pMsg;
; 6823 : 
; 6824 : 	if(false)//if(!ExConfig.CommonServer.Mix4Wings)	//To Continue

  0eaf9	33 c0		 xor	 eax, eax
  0eafb	74 2d		 je	 SHORT $LN60@MixWings6r

; 6825 : 	{
; 6826 : 		pMsg.Result = CB_INCORRECT_MIX_ITEMS;

  0eafd	c6 45 eb 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 6827 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0eb01	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0eb05	50		 push	 eax
  0eb06	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0eb09	51		 push	 ecx
  0eb0a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0eb0d	8b 02		 mov	 eax, DWORD PTR [edx]
  0eb0f	50		 push	 eax
  0eb10	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0eb15	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6828 : 		lpObj->ChaosLock = FALSE;

  0eb18	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0eb1b	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 6829 : 		return;

  0eb25	e9 c2 07 00 00	 jmp	 $LN61@MixWings6r
$LN60@MixWings6r:

; 6830 : 	}
; 6831 : 
; 6832 : 	lpObj->ChaosLock = TRUE;

  0eb2a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0eb2d	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 6833 : 
; 6834 : 	int NeedCondor = 0;

  0eb37	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _NeedCondor$[ebp], 0

; 6835 : 	int NeedJewelOfChaos = 0;

  0eb3e	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _NeedJewelOfChaos$[ebp], 0

; 6836 : 	int NeedJewelOfCreatoion = 0;

  0eb45	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _NeedJewelOfCreatoion$[ebp], 0

; 6837 : 	int Need30Bless = 0;

  0eb4c	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _Need30Bless$[ebp], 0

; 6838 : 	int Need30Soul = 0;

  0eb53	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _Need30Soul$[ebp], 0

; 6839 : 	int Need5lvlWing = 0;

  0eb5a	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _Need5lvlWing$[ebp], 0

; 6840 : 	int NeedExlItem = 0;

  0eb61	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _NeedExlItem$[ebp], 0

; 6841 : 	int NeedMoney = 50000000;

  0eb68	c7 45 c8 80 f0
	fa 02		 mov	 DWORD PTR _NeedMoney$[ebp], 50000000 ; 02faf080H

; 6842 : 	int RateMix	= ExConfig.CommonServer.Wing5MaxSuccessRate;

  0eb6f	a1 9c 00 00 00	 mov	 eax, DWORD PTR ?ExConfig@@3VcExConfigs@@A+156
  0eb74	89 45 c4	 mov	 DWORD PTR _RateMix$[ebp], eax

; 6843 : 	int NeedError = 0;

  0eb77	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _NeedError$[ebp], 0

; 6844 : 	int MixLuckRate = 30;

  0eb7e	c7 45 bc 1e 00
	00 00		 mov	 DWORD PTR _MixLuckRate$[ebp], 30 ; 0000001eH

; 6845 : 	int PlusProcent = 0;

  0eb85	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _PlusProcent$[ebp], 0

; 6846 : 	int NeedAncItem = 0;

  0eb8c	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR _NeedAncItem$[ebp], 0

; 6847 : 
; 6848 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0eb93	6a 10		 push	 16			; 00000010H
  0eb95	68 86 00 00 00	 push	 134			; 00000086H
  0eb9a	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0eb9d	50		 push	 eax
  0eb9e	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0eba3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6849 : 	pMsg.Result = CB_ERROR;

  0eba6	c6 45 eb 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 6850 : 
; 6851 : 	for ( int n=0;n<CHAOS_BOX_SIZE;n++) //loc16

  0ebaa	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _n$238130[ebp], 0
  0ebb1	eb 09		 jmp	 SHORT $LN59@MixWings6r
$LN58@MixWings6r:
  0ebb3	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0ebb6	83 c0 01	 add	 eax, 1
  0ebb9	89 45 b0	 mov	 DWORD PTR _n$238130[ebp], eax
$LN59@MixWings6r:
  0ebbc	83 7d b0 20	 cmp	 DWORD PTR _n$238130[ebp], 32 ; 00000020H
  0ebc0	0f 8d ac 02 00
	00		 jge	 $LN57@MixWings6r

; 6852 : 	{
; 6853 : 		if ( lpObj->pChaosBox[n].IsItem() == TRUE )

  0ebc6	8b 4d b0	 mov	 ecx, DWORD PTR _n$238130[ebp]
  0ebc9	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0ebcf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ebd2	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0ebd8	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0ebdd	83 f8 01	 cmp	 eax, 1
  0ebe0	0f 85 87 02 00
	00		 jne	 $LN36@MixWings6r

; 6854 : 		{
; 6855 : 			if ( lpObj->pChaosBox[n].m_Type == ITEMGET(12,189) ||
; 6856 : 				 lpObj->pChaosBox[n].m_Type == ITEMGET(12,190) ||
; 6857 : 				 lpObj->pChaosBox[n].m_Type == ITEMGET(12,191) ||
; 6858 : 				 lpObj->pChaosBox[n].m_Type == ITEMGET(12,192) ||
; 6859 : 				 lpObj->pChaosBox[n].m_Type == ITEMGET(12,193) ||
; 6860 : 				 lpObj->pChaosBox[n].m_Type == ITEMGET(12,194) )

  0ebe6	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0ebe9	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ebef	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ebf2	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ebf8	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0ebfd	3d bd 18 00 00	 cmp	 eax, 6333		; 000018bdH
  0ec02	0f 84 96 00 00
	00		 je	 $LN54@MixWings6r
  0ec08	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0ec0b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ec11	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ec14	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ec1a	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0ec1f	3d be 18 00 00	 cmp	 eax, 6334		; 000018beH
  0ec24	74 78		 je	 SHORT $LN54@MixWings6r
  0ec26	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0ec29	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ec2f	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ec32	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ec38	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0ec3d	3d bf 18 00 00	 cmp	 eax, 6335		; 000018bfH
  0ec42	74 5a		 je	 SHORT $LN54@MixWings6r
  0ec44	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0ec47	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ec4d	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ec50	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ec56	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0ec5b	3d c0 18 00 00	 cmp	 eax, 6336		; 000018c0H
  0ec60	74 3c		 je	 SHORT $LN54@MixWings6r
  0ec62	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0ec65	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ec6b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ec6e	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ec74	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0ec79	3d c1 18 00 00	 cmp	 eax, 6337		; 000018c1H
  0ec7e	74 1e		 je	 SHORT $LN54@MixWings6r
  0ec80	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0ec83	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ec89	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ec8c	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ec92	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0ec97	3d c2 18 00 00	 cmp	 eax, 6338		; 000018c2H
  0ec9c	75 39		 jne	 SHORT $LN55@MixWings6r
$LN54@MixWings6r:

; 6861 : 			{
; 6862 : 				if( this->CheckItemCondition(&lpObj->pChaosBox[n],9,0,0,1,0,0) != FALSE )

  0ec9e	6a 00		 push	 0
  0eca0	6a 00		 push	 0
  0eca2	6a 01		 push	 1
  0eca4	6a 00		 push	 0
  0eca6	6a 00		 push	 0
  0eca8	6a 09		 push	 9
  0ecaa	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0ecad	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ecb3	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ecb6	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0ecbc	50		 push	 eax
  0ecbd	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0ecc0	e8 00 00 00 00	 call	 ?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
  0ecc5	85 c0		 test	 eax, eax
  0ecc7	74 09		 je	 SHORT $LN53@MixWings6r

; 6863 : 				{
; 6864 : 					Need5lvlWing++;

  0ecc9	8b 45 d0	 mov	 eax, DWORD PTR _Need5lvlWing$[ebp]
  0eccc	83 c0 01	 add	 eax, 1
  0eccf	89 45 d0	 mov	 DWORD PTR _Need5lvlWing$[ebp], eax
$LN53@MixWings6r:

; 6865 : 				}
; 6866 : 			}

  0ecd2	e9 96 01 00 00	 jmp	 $LN36@MixWings6r
$LN55@MixWings6r:

; 6867 : 			else if( this->CheckItemCondition(&lpObj->pChaosBox[n],9,0,0,1,0,1) != FALSE )

  0ecd7	6a 01		 push	 1
  0ecd9	6a 00		 push	 0
  0ecdb	6a 01		 push	 1
  0ecdd	6a 00		 push	 0
  0ecdf	6a 00		 push	 0
  0ece1	6a 09		 push	 9
  0ece3	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0ece6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ecec	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ecef	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0ecf5	50		 push	 eax
  0ecf6	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0ecf9	e8 00 00 00 00	 call	 ?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
  0ecfe	85 c0		 test	 eax, eax
  0ed00	74 0e		 je	 SHORT $LN51@MixWings6r

; 6868 : 			{
; 6869 : 				NeedExlItem++;

  0ed02	8b 45 cc	 mov	 eax, DWORD PTR _NeedExlItem$[ebp]
  0ed05	83 c0 01	 add	 eax, 1
  0ed08	89 45 cc	 mov	 DWORD PTR _NeedExlItem$[ebp], eax
  0ed0b	e9 5d 01 00 00	 jmp	 $LN36@MixWings6r
$LN51@MixWings6r:

; 6870 : 			}
; 6871 : 			else if( this->CheckItemCondition(&lpObj->pChaosBox[n],9,0,0,1,1,0) != FALSE )

  0ed10	6a 00		 push	 0
  0ed12	6a 01		 push	 1
  0ed14	6a 01		 push	 1
  0ed16	6a 00		 push	 0
  0ed18	6a 00		 push	 0
  0ed1a	6a 09		 push	 9
  0ed1c	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0ed1f	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ed25	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ed28	03 81 78 0e 00
	00		 add	 eax, DWORD PTR [ecx+3704]
  0ed2e	50		 push	 eax
  0ed2f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0ed32	e8 00 00 00 00	 call	 ?CheckItemCondition@CMixSystem@@QAEHPAVCItem@@FEEEEE@Z ; CMixSystem::CheckItemCondition
  0ed37	85 c0		 test	 eax, eax
  0ed39	74 0e		 je	 SHORT $LN49@MixWings6r

; 6872 : 			{
; 6873 : 				NeedAncItem++;

  0ed3b	8b 45 b4	 mov	 eax, DWORD PTR _NeedAncItem$[ebp]
  0ed3e	83 c0 01	 add	 eax, 1
  0ed41	89 45 b4	 mov	 DWORD PTR _NeedAncItem$[ebp], eax
  0ed44	e9 24 01 00 00	 jmp	 $LN36@MixWings6r
$LN49@MixWings6r:

; 6874 : 			}
; 6875 : 			else if( lpObj->pChaosBox[n].m_Type == ITEMGET(13,52))	//condor

  0ed49	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0ed4c	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ed52	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ed55	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ed5b	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0ed60	3d 34 1a 00 00	 cmp	 eax, 6708		; 00001a34H
  0ed65	75 0e		 jne	 SHORT $LN47@MixWings6r

; 6876 : 			{
; 6877 : 				NeedCondor++;

  0ed67	8b 45 e4	 mov	 eax, DWORD PTR _NeedCondor$[ebp]
  0ed6a	83 c0 01	 add	 eax, 1
  0ed6d	89 45 e4	 mov	 DWORD PTR _NeedCondor$[ebp], eax
  0ed70	e9 f8 00 00 00	 jmp	 $LN36@MixWings6r
$LN47@MixWings6r:

; 6878 : 			}
; 6879 : 			else if( lpObj->pChaosBox[n].m_Type == this->iBundleofBless)	//30 B

  0ed75	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0ed78	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ed7e	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ed81	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ed87	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0ed8c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0ed8f	3b 41 14	 cmp	 eax, DWORD PTR [ecx+20]
  0ed92	75 0e		 jne	 SHORT $LN45@MixWings6r

; 6880 : 			{
; 6881 : 				Need30Bless++;

  0ed94	8b 45 d8	 mov	 eax, DWORD PTR _Need30Bless$[ebp]
  0ed97	83 c0 01	 add	 eax, 1
  0ed9a	89 45 d8	 mov	 DWORD PTR _Need30Bless$[ebp], eax
  0ed9d	e9 cb 00 00 00	 jmp	 $LN36@MixWings6r
$LN45@MixWings6r:

; 6882 : 			}
; 6883 : 			else if( lpObj->pChaosBox[n].m_Type == this->iBundleofSoul)	//30 S

  0eda2	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0eda5	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0edab	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0edae	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0edb4	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0edb9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0edbc	3b 41 18	 cmp	 eax, DWORD PTR [ecx+24]
  0edbf	75 0e		 jne	 SHORT $LN43@MixWings6r

; 6884 : 			{
; 6885 : 				Need30Soul++;

  0edc1	8b 45 d4	 mov	 eax, DWORD PTR _Need30Soul$[ebp]
  0edc4	83 c0 01	 add	 eax, 1
  0edc7	89 45 d4	 mov	 DWORD PTR _Need30Soul$[ebp], eax
  0edca	e9 9e 00 00 00	 jmp	 $LN36@MixWings6r
$LN43@MixWings6r:

; 6886 : 			}
; 6887 : 			else if( lpObj->pChaosBox[n].m_Type == this->iJewelofChaos)

  0edcf	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0edd2	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0edd8	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0eddb	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ede1	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0ede6	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0ede9	3b 41 04	 cmp	 eax, DWORD PTR [ecx+4]
  0edec	75 0b		 jne	 SHORT $LN41@MixWings6r

; 6888 : 			{
; 6889 : 				NeedJewelOfChaos++;

  0edee	8b 45 e0	 mov	 eax, DWORD PTR _NeedJewelOfChaos$[ebp]
  0edf1	83 c0 01	 add	 eax, 1
  0edf4	89 45 e0	 mov	 DWORD PTR _NeedJewelOfChaos$[ebp], eax
  0edf7	eb 74		 jmp	 SHORT $LN36@MixWings6r
$LN41@MixWings6r:

; 6890 : 			}
; 6891 : 			else if( lpObj->pChaosBox[n].m_Type == this->iJewelofCreation)

  0edf9	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0edfc	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ee02	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ee05	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ee0b	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0ee10	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0ee13	3b 41 10	 cmp	 eax, DWORD PTR [ecx+16]
  0ee16	75 0b		 jne	 SHORT $LN39@MixWings6r

; 6892 : 			{
; 6893 : 				NeedJewelOfCreatoion++;

  0ee18	8b 45 dc	 mov	 eax, DWORD PTR _NeedJewelOfCreatoion$[ebp]
  0ee1b	83 c0 01	 add	 eax, 1
  0ee1e	89 45 dc	 mov	 DWORD PTR _NeedJewelOfCreatoion$[ebp], eax
  0ee21	eb 4a		 jmp	 SHORT $LN36@MixWings6r
$LN39@MixWings6r:

; 6894 : 			}
; 6895 : 			else if( lpObj->pChaosBox[n].m_Type == ITEMGET(14,53) )

  0ee23	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0ee26	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ee2c	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ee2f	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ee35	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0ee3a	3d 35 1c 00 00	 cmp	 eax, 7221		; 00001c35H
  0ee3f	75 23		 jne	 SHORT $LN37@MixWings6r

; 6896 : 			{
; 6897 : 				PlusProcent+= (int)lpObj->pChaosBox[n].m_Durability;

  0ee41	8b 45 b0	 mov	 eax, DWORD PTR _n$238130[ebp]
  0ee44	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0ee4a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0ee4d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0ee53	d9 44 02 24	 fld	 DWORD PTR [edx+eax+36]
  0ee57	e8 00 00 00 00	 call	 __ftol2_sse
  0ee5c	03 45 b8	 add	 eax, DWORD PTR _PlusProcent$[ebp]
  0ee5f	89 45 b8	 mov	 DWORD PTR _PlusProcent$[ebp], eax

; 6898 : 			}
; 6899 : 			else

  0ee62	eb 09		 jmp	 SHORT $LN36@MixWings6r
$LN37@MixWings6r:

; 6900 : 			{
; 6901 : 				NeedError++;

  0ee64	8b 45 c0	 mov	 eax, DWORD PTR _NeedError$[ebp]
  0ee67	83 c0 01	 add	 eax, 1
  0ee6a	89 45 c0	 mov	 DWORD PTR _NeedError$[ebp], eax
$LN36@MixWings6r:

; 6902 : 			}
; 6903 : 		}
; 6904 : 	}

  0ee6d	e9 41 fd ff ff	 jmp	 $LN58@MixWings6r
$LN57@MixWings6r:

; 6905 : 
; 6906 : 	if(PlusProcent > 10)

  0ee72	83 7d b8 0a	 cmp	 DWORD PTR _PlusProcent$[ebp], 10 ; 0000000aH
  0ee76	7e 2d		 jle	 SHORT $LN35@MixWings6r

; 6907 : 	{
; 6908 : 		pMsg.Result = 0xF0; //new macro

  0ee78	c6 45 eb f0	 mov	 BYTE PTR _pMsg$[ebp+3], 240 ; 000000f0H

; 6909 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0ee7c	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0ee80	50		 push	 eax
  0ee81	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0ee84	51		 push	 ecx
  0ee85	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ee88	8b 02		 mov	 eax, DWORD PTR [edx]
  0ee8a	50		 push	 eax
  0ee8b	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0ee90	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6910 : 		lpObj->ChaosLock = FALSE;

  0ee93	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ee96	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 6911 : 		return;

  0eea0	e9 47 04 00 00	 jmp	 $LN61@MixWings6r
$LN35@MixWings6r:

; 6912 : 	}
; 6913 : 
; 6914 : 	if(NeedExlItem < 1 || NeedCondor != 1 || NeedJewelOfChaos != 1 || Need5lvlWing != 1 || NeedJewelOfCreatoion != 1 || 
; 6915 : 	   Need30Bless != 2 || Need30Soul != 2 || NeedError > 0 || NeedAncItem != 1)

  0eea5	83 7d cc 01	 cmp	 DWORD PTR _NeedExlItem$[ebp], 1
  0eea9	7c 30		 jl	 SHORT $LN33@MixWings6r
  0eeab	83 7d e4 01	 cmp	 DWORD PTR _NeedCondor$[ebp], 1
  0eeaf	75 2a		 jne	 SHORT $LN33@MixWings6r
  0eeb1	83 7d e0 01	 cmp	 DWORD PTR _NeedJewelOfChaos$[ebp], 1
  0eeb5	75 24		 jne	 SHORT $LN33@MixWings6r
  0eeb7	83 7d d0 01	 cmp	 DWORD PTR _Need5lvlWing$[ebp], 1
  0eebb	75 1e		 jne	 SHORT $LN33@MixWings6r
  0eebd	83 7d dc 01	 cmp	 DWORD PTR _NeedJewelOfCreatoion$[ebp], 1
  0eec1	75 18		 jne	 SHORT $LN33@MixWings6r
  0eec3	83 7d d8 02	 cmp	 DWORD PTR _Need30Bless$[ebp], 2
  0eec7	75 12		 jne	 SHORT $LN33@MixWings6r
  0eec9	83 7d d4 02	 cmp	 DWORD PTR _Need30Soul$[ebp], 2
  0eecd	75 0c		 jne	 SHORT $LN33@MixWings6r
  0eecf	83 7d c0 00	 cmp	 DWORD PTR _NeedError$[ebp], 0
  0eed3	7f 06		 jg	 SHORT $LN33@MixWings6r
  0eed5	83 7d b4 01	 cmp	 DWORD PTR _NeedAncItem$[ebp], 1
  0eed9	74 2d		 je	 SHORT $LN34@MixWings6r
$LN33@MixWings6r:

; 6916 : 	{
; 6917 : 		pMsg.Result = CB_INCORRECT_MIX_ITEMS;

  0eedb	c6 45 eb 07	 mov	 BYTE PTR _pMsg$[ebp+3], 7

; 6918 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0eedf	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0eee3	50		 push	 eax
  0eee4	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0eee7	51		 push	 ecx
  0eee8	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0eeeb	8b 02		 mov	 eax, DWORD PTR [edx]
  0eeed	50		 push	 eax
  0eeee	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0eef3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6919 : 		lpObj->ChaosLock = FALSE;

  0eef6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0eef9	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 6920 : 		return;

  0ef03	e9 e4 03 00 00	 jmp	 $LN61@MixWings6r
$LN34@MixWings6r:

; 6921 : 	}
; 6922 : 
; 6923 : 	LogChaosItem(lpObj, "WingLevel6_Mix");

  0ef08	68 00 00 00 00	 push	 OFFSET ??_C@_0P@KKCGHNCG@WingLevel6_Mix?$AA@
  0ef0d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ef10	50		 push	 eax
  0ef11	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0ef14	e8 00 00 00 00	 call	 ?LogChaosItem@CMixSystem@@QAEXPAUOBJECTSTRUCT@@PAD@Z ; CMixSystem::LogChaosItem

; 6924 : 	LogAddTD("[Wings 6 Lvl Mix] Chaos Mix Start");

  0ef19	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@CJAIBLOF@?$FLWings?56?5Lvl?5Mix?$FN?5Chaos?5Mix?5Star@
  0ef1e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0ef24	83 c4 04	 add	 esp, 4

; 6925 : 
; 6926 : 	int iChaosTaxMoney = (int)((__int64)NeedMoney * (__int64)g_CastleSiegeSync.GetTaxRateChaos(lpObj->m_Index) / (__int64)100);

  0ef27	8b 45 c8	 mov	 eax, DWORD PTR _NeedMoney$[ebp]
  0ef2a	99		 cdq
  0ef2b	8b f0		 mov	 esi, eax
  0ef2d	8b fa		 mov	 edi, edx
  0ef2f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ef32	8b 08		 mov	 ecx, DWORD PTR [eax]
  0ef34	51		 push	 ecx
  0ef35	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0ef3a	e8 00 00 00 00	 call	 ?GetTaxRateChaos@CCastleSiegeSync@@QAEHH@Z ; CCastleSiegeSync::GetTaxRateChaos
  0ef3f	99		 cdq
  0ef40	52		 push	 edx
  0ef41	50		 push	 eax
  0ef42	57		 push	 edi
  0ef43	56		 push	 esi
  0ef44	e8 00 00 00 00	 call	 __allmul
  0ef49	6a 00		 push	 0
  0ef4b	6a 64		 push	 100			; 00000064H
  0ef4d	52		 push	 edx
  0ef4e	50		 push	 eax
  0ef4f	e8 00 00 00 00	 call	 __alldiv
  0ef54	89 45 ac	 mov	 DWORD PTR _iChaosTaxMoney$[ebp], eax

; 6927 : 
; 6928 : 	if(iChaosTaxMoney < 0)

  0ef57	83 7d ac 00	 cmp	 DWORD PTR _iChaosTaxMoney$[ebp], 0
  0ef5b	7d 07		 jge	 SHORT $LN32@MixWings6r

; 6929 : 	{
; 6930 : 		iChaosTaxMoney = 0;

  0ef5d	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR _iChaosTaxMoney$[ebp], 0
$LN32@MixWings6r:

; 6931 : 	}
; 6932 : 
; 6933 : 	if ( lpObj->Money < NeedMoney )

  0ef64	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ef67	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0ef6d	3b 4d c8	 cmp	 ecx, DWORD PTR _NeedMoney$[ebp]
  0ef70	7d 2d		 jge	 SHORT $LN31@MixWings6r

; 6934 : 	{
; 6935 : 		pMsg.Result = CB_NOT_ENOUGH_ZEN;

  0ef72	c6 45 eb 02	 mov	 BYTE PTR _pMsg$[ebp+3], 2

; 6936 : 
; 6937 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0ef76	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0ef7a	50		 push	 eax
  0ef7b	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0ef7e	51		 push	 ecx
  0ef7f	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0ef82	8b 02		 mov	 eax, DWORD PTR [edx]
  0ef84	50		 push	 eax
  0ef85	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0ef8a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 6938 : 		lpObj->ChaosLock = FALSE;

  0ef8d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0ef90	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 6939 : 
; 6940 : 		return;

  0ef9a	e9 4d 03 00 00	 jmp	 $LN61@MixWings6r
$LN31@MixWings6r:

; 6941 : 	}
; 6942 : 
; 6943 : 	lpObj->Money -= NeedMoney;

  0ef9f	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0efa2	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0efa8	2b 4d c8	 sub	 ecx, DWORD PTR _NeedMoney$[ebp]
  0efab	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0efae	89 8a f0 00 00
	00		 mov	 DWORD PTR [edx+240], ecx

; 6944 : 	g_CastleSiegeSync.AddTributeMoney(iChaosTaxMoney);

  0efb4	8b 45 ac	 mov	 eax, DWORD PTR _iChaosTaxMoney$[ebp]
  0efb7	50		 push	 eax
  0efb8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiegeSync@@3VCCastleSiegeSync@@A ; g_CastleSiegeSync
  0efbd	e8 00 00 00 00	 call	 ?AddTributeMoney@CCastleSiegeSync@@QAEXH@Z ; CCastleSiegeSync::AddTributeMoney

; 6945 : 	GCMoneySend(lpObj->m_Index, lpObj->Money);

  0efc2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0efc5	8b 88 f0 00 00
	00		 mov	 ecx, DWORD PTR [eax+240]
  0efcb	51		 push	 ecx
  0efcc	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0efcf	8b 02		 mov	 eax, DWORD PTR [edx]
  0efd1	50		 push	 eax
  0efd2	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend
  0efd7	83 c4 08	 add	 esp, 8

; 6946 : 	srand(time(NULL));

  0efda	6a 00		 push	 0
  0efdc	e8 00 00 00 00	 call	 _time
  0efe1	83 c4 04	 add	 esp, 4
  0efe4	50		 push	 eax
  0efe5	e8 00 00 00 00	 call	 _srand
  0efea	83 c4 04	 add	 esp, 4

; 6947 : 	int MixPercent = (rand()%100);

  0efed	e8 00 00 00 00	 call	 _rand
  0eff2	99		 cdq
  0eff3	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0eff8	f7 f9		 idiv	 ecx
  0effa	89 55 a8	 mov	 DWORD PTR _MixPercent$[ebp], edx

; 6948 : 
; 6949 : 	if ( RateMix > MixPercent)

  0effd	8b 45 c4	 mov	 eax, DWORD PTR _RateMix$[ebp]
  0f000	3b 45 a8	 cmp	 eax, DWORD PTR _MixPercent$[ebp]
  0f003	0f 8e 67 02 00
	00		 jle	 $LN30@MixWings6r

; 6950 : 	{
; 6951 : 		int loc18 = rand()%2;

  0f009	e8 00 00 00 00	 call	 _rand
  0f00e	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0f013	79 05		 jns	 SHORT $LN63@MixWings6r
  0f015	48		 dec	 eax
  0f016	83 c8 fe	 or	 eax, -2			; fffffffeH
  0f019	40		 inc	 eax
$LN63@MixWings6r:
  0f01a	89 45 a4	 mov	 DWORD PTR _loc18$238173[ebp], eax

; 6952 : 		int ItemType = 0;

  0f01d	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _ItemType$238174[ebp], 0

; 6953 : 
; 6954 : 		if(loc18 == 0)

  0f024	83 7d a4 00	 cmp	 DWORD PTR _loc18$238173[ebp], 0
  0f028	75 09		 jne	 SHORT $LN29@MixWings6r

; 6955 : 		{
; 6956 : 			ItemType = ITEMGET(12,195);

  0f02a	c7 45 a0 c3 18
	00 00		 mov	 DWORD PTR _ItemType$238174[ebp], 6339 ; 000018c3H
  0f031	eb 0d		 jmp	 SHORT $LN27@MixWings6r
$LN29@MixWings6r:

; 6957 : 		}
; 6958 : 		else if( loc18 == 1)

  0f033	83 7d a4 01	 cmp	 DWORD PTR _loc18$238173[ebp], 1
  0f037	75 07		 jne	 SHORT $LN27@MixWings6r

; 6959 : 		{
; 6960 : 			ItemType = ITEMGET(12,196);

  0f039	c7 45 a0 c4 18
	00 00		 mov	 DWORD PTR _ItemType$238174[ebp], 6340 ; 000018c4H
$LN27@MixWings6r:

; 6961 : 		}
; 6962 : 		
; 6963 : 
; 6964 : 		int ItemLuckAdd = 0;

  0f040	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR _ItemLuckAdd$238178[ebp], 0

; 6965 : 
; 6966 : 		if( (rand()%100) <= MixLuckRate )

  0f047	e8 00 00 00 00	 call	 _rand
  0f04c	99		 cdq
  0f04d	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0f052	f7 f9		 idiv	 ecx
  0f054	3b 55 bc	 cmp	 edx, DWORD PTR _MixLuckRate$[ebp]
  0f057	7f 07		 jg	 SHORT $LN26@MixWings6r

; 6967 : 		{
; 6968 : 			ItemLuckAdd = 1;

  0f059	c7 45 9c 01 00
	00 00		 mov	 DWORD PTR _ItemLuckAdd$238178[ebp], 1
$LN26@MixWings6r:

; 6969 : 		}
; 6970 : 
; 6971 : 		int ItemOptAdd = 0;

  0f060	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _ItemOptAdd$238180[ebp], 0

; 6972 : 		int loc23 = 0;

  0f067	c7 45 94 00 00
	00 00		 mov	 DWORD PTR _loc23$238181[ebp], 0

; 6973 : 		int loc24 = rand()%2;

  0f06e	e8 00 00 00 00	 call	 _rand
  0f073	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0f078	79 05		 jns	 SHORT $LN64@MixWings6r
  0f07a	48		 dec	 eax
  0f07b	83 c8 fe	 or	 eax, -2			; fffffffeH
  0f07e	40		 inc	 eax
$LN64@MixWings6r:
  0f07f	89 45 90	 mov	 DWORD PTR _loc24$238182[ebp], eax

; 6974 : 		int loc25;
; 6975 : 		int loc26;
; 6976 : 		int loc27;
; 6977 : 		int loc28;
; 6978 : 		int loc29;
; 6979 : 
; 6980 : 		switch ( loc24 )

  0f082	8b 45 90	 mov	 eax, DWORD PTR _loc24$238182[ebp]
  0f085	89 85 38 ff ff
	ff		 mov	 DWORD PTR tv308[ebp], eax
  0f08b	83 bd 38 ff ff
	ff 00		 cmp	 DWORD PTR tv308[ebp], 0
  0f092	74 0b		 je	 SHORT $LN23@MixWings6r
  0f094	83 bd 38 ff ff
	ff 01		 cmp	 DWORD PTR tv308[ebp], 1
  0f09b	74 26		 je	 SHORT $LN21@MixWings6r
  0f09d	eb 46		 jmp	 SHORT $LN24@MixWings6r
$LN23@MixWings6r:

; 6981 : 		{
; 6982 : 		case 0:
; 6983 : 			loc25 = rand()%1000;

  0f09f	e8 00 00 00 00	 call	 _rand
  0f0a4	99		 cdq
  0f0a5	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0f0aa	f7 f9		 idiv	 ecx
  0f0ac	89 55 8c	 mov	 DWORD PTR _loc25$238183[ebp], edx

; 6984 : 			if(loc25 < 400)

  0f0af	81 7d 8c 90 01
	00 00		 cmp	 DWORD PTR _loc25$238183[ebp], 400 ; 00000190H
  0f0b6	7d 09		 jge	 SHORT $LN22@MixWings6r

; 6985 : 			{
; 6986 : 				loc23 |= 0x10;

  0f0b8	8b 45 94	 mov	 eax, DWORD PTR _loc23$238181[ebp]
  0f0bb	83 c8 10	 or	 eax, 16			; 00000010H
  0f0be	89 45 94	 mov	 DWORD PTR _loc23$238181[ebp], eax
$LN22@MixWings6r:

; 6987 : 			}
; 6988 : 			break;

  0f0c1	eb 22		 jmp	 SHORT $LN24@MixWings6r
$LN21@MixWings6r:

; 6989 : 
; 6990 : 		case 1:
; 6991 : 			loc25 = rand()%1000;

  0f0c3	e8 00 00 00 00	 call	 _rand
  0f0c8	99		 cdq
  0f0c9	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0f0ce	f7 f9		 idiv	 ecx
  0f0d0	89 55 8c	 mov	 DWORD PTR _loc25$238183[ebp], edx

; 6992 : 			if(loc24 < 300)

  0f0d3	81 7d 90 2c 01
	00 00		 cmp	 DWORD PTR _loc24$238182[ebp], 300 ; 0000012cH
  0f0da	7d 09		 jge	 SHORT $LN20@MixWings6r

; 6993 : 			{
; 6994 : 				loc23 |= 0x20;

  0f0dc	8b 45 94	 mov	 eax, DWORD PTR _loc23$238181[ebp]
  0f0df	83 c8 20	 or	 eax, 32			; 00000020H
  0f0e2	89 45 94	 mov	 DWORD PTR _loc23$238181[ebp], eax
$LN20@MixWings6r:
$LN24@MixWings6r:

; 6995 : 			}
; 6996 : 			break;
; 6997 : 		}
; 6998 : 
; 6999 : 		loc26 = rand()%4;

  0f0e5	e8 00 00 00 00	 call	 _rand
  0f0ea	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  0f0ef	79 05		 jns	 SHORT $LN65@MixWings6r
  0f0f1	48		 dec	 eax
  0f0f2	83 c8 fc	 or	 eax, -4			; fffffffcH
  0f0f5	40		 inc	 eax
$LN65@MixWings6r:
  0f0f6	89 45 88	 mov	 DWORD PTR _loc26$238184[ebp], eax

; 7000 : 		loc27 = rand()%1000;

  0f0f9	e8 00 00 00 00	 call	 _rand
  0f0fe	99		 cdq
  0f0ff	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0f104	f7 f9		 idiv	 ecx
  0f106	89 55 84	 mov	 DWORD PTR _loc27$238185[ebp], edx

; 7001 : 
; 7002 : 		switch( loc26 )

  0f109	8b 45 88	 mov	 eax, DWORD PTR _loc26$238184[ebp]
  0f10c	89 85 38 ff ff
	ff		 mov	 DWORD PTR tv355[ebp], eax
  0f112	83 bd 38 ff ff
	ff 01		 cmp	 DWORD PTR tv355[ebp], 1
  0f119	74 14		 je	 SHORT $LN17@MixWings6r
  0f11b	83 bd 38 ff ff
	ff 02		 cmp	 DWORD PTR tv355[ebp], 2
  0f122	74 1a		 je	 SHORT $LN15@MixWings6r
  0f124	83 bd 38 ff ff
	ff 03		 cmp	 DWORD PTR tv355[ebp], 3
  0f12b	74 20		 je	 SHORT $LN13@MixWings6r
  0f12d	eb 2b		 jmp	 SHORT $LN18@MixWings6r
$LN17@MixWings6r:

; 7003 : 		{
; 7004 : 		case 1:
; 7005 : 			{
; 7006 : 				if(loc27 < 120)

  0f12f	83 7d 84 78	 cmp	 DWORD PTR _loc27$238185[ebp], 120 ; 00000078H
  0f133	7d 07		 jge	 SHORT $LN16@MixWings6r

; 7007 : 				{
; 7008 : 					ItemOptAdd = 1;

  0f135	c7 45 98 01 00
	00 00		 mov	 DWORD PTR _ItemOptAdd$238180[ebp], 1
$LN16@MixWings6r:

; 7009 : 				}
; 7010 : 			}
; 7011 : 			break;

  0f13c	eb 1c		 jmp	 SHORT $LN18@MixWings6r
$LN15@MixWings6r:

; 7012 : 
; 7013 : 		case 2:
; 7014 : 			{
; 7015 : 				if(loc27 < 60)

  0f13e	83 7d 84 3c	 cmp	 DWORD PTR _loc27$238185[ebp], 60 ; 0000003cH
  0f142	7d 07		 jge	 SHORT $LN14@MixWings6r

; 7016 : 				{
; 7017 : 					ItemOptAdd = 2;

  0f144	c7 45 98 02 00
	00 00		 mov	 DWORD PTR _ItemOptAdd$238180[ebp], 2
$LN14@MixWings6r:

; 7018 : 				}
; 7019 : 			}
; 7020 : 			break;

  0f14b	eb 0d		 jmp	 SHORT $LN18@MixWings6r
$LN13@MixWings6r:

; 7021 : 
; 7022 : 		case 3:
; 7023 : 			{
; 7024 : 				if(loc27 < 30)

  0f14d	83 7d 84 1e	 cmp	 DWORD PTR _loc27$238185[ebp], 30 ; 0000001eH
  0f151	7d 07		 jge	 SHORT $LN12@MixWings6r

; 7025 : 				{
; 7026 : 					ItemOptAdd = 3;

  0f153	c7 45 98 03 00
	00 00		 mov	 DWORD PTR _ItemOptAdd$238180[ebp], 3
$LN12@MixWings6r:
$LN18@MixWings6r:

; 7027 : 				}
; 7028 : 			}
; 7029 : 			break;
; 7030 : 		}
; 7031 : 
; 7032 : 		loc28 = rand()%4;

  0f15a	e8 00 00 00 00	 call	 _rand
  0f15f	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  0f164	79 05		 jns	 SHORT $LN66@MixWings6r
  0f166	48		 dec	 eax
  0f167	83 c8 fc	 or	 eax, -4			; fffffffcH
  0f16a	40		 inc	 eax
$LN66@MixWings6r:
  0f16b	89 45 80	 mov	 DWORD PTR _loc28$238186[ebp], eax

; 7033 : 		loc29 = rand()%1000;

  0f16e	e8 00 00 00 00	 call	 _rand
  0f173	99		 cdq
  0f174	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0f179	f7 f9		 idiv	 ecx
  0f17b	89 95 7c ff ff
	ff		 mov	 DWORD PTR _loc29$238187[ebp], edx

; 7034 : 
; 7035 : 		switch( loc28 )

  0f181	8b 45 80	 mov	 eax, DWORD PTR _loc28$238186[ebp]
  0f184	89 85 38 ff ff
	ff		 mov	 DWORD PTR tv366[ebp], eax
  0f18a	83 bd 38 ff ff
	ff 03		 cmp	 DWORD PTR tv366[ebp], 3
  0f191	77 5b		 ja	 SHORT $LN10@MixWings6r
  0f193	8b 8d 38 ff ff
	ff		 mov	 ecx, DWORD PTR tv366[ebp]
  0f199	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN67@MixWings6r[ecx*4]
$LN9@MixWings6r:

; 7036 : 		{
; 7037 : 		case 0:
; 7038 : 			{
; 7039 : 				if(loc29 < 40)

  0f1a0	83 bd 7c ff ff
	ff 28		 cmp	 DWORD PTR _loc29$238187[ebp], 40 ; 00000028H
  0f1a7	7d 09		 jge	 SHORT $LN8@MixWings6r

; 7040 : 				{
; 7041 : 					loc23 |= 1;

  0f1a9	8b 45 94	 mov	 eax, DWORD PTR _loc23$238181[ebp]
  0f1ac	83 c8 01	 or	 eax, 1
  0f1af	89 45 94	 mov	 DWORD PTR _loc23$238181[ebp], eax
$LN8@MixWings6r:

; 7042 : 				}
; 7043 : 			}
; 7044 : 			break;

  0f1b2	eb 3a		 jmp	 SHORT $LN10@MixWings6r
$LN7@MixWings6r:

; 7045 : 		case 1:
; 7046 : 			{
; 7047 : 				if(loc29 < 20)

  0f1b4	83 bd 7c ff ff
	ff 14		 cmp	 DWORD PTR _loc29$238187[ebp], 20 ; 00000014H
  0f1bb	7d 09		 jge	 SHORT $LN6@MixWings6r

; 7048 : 				{
; 7049 : 					loc23 |= 2;

  0f1bd	8b 45 94	 mov	 eax, DWORD PTR _loc23$238181[ebp]
  0f1c0	83 c8 02	 or	 eax, 2
  0f1c3	89 45 94	 mov	 DWORD PTR _loc23$238181[ebp], eax
$LN6@MixWings6r:

; 7050 : 				}
; 7051 : 			}
; 7052 : 			break;

  0f1c6	eb 26		 jmp	 SHORT $LN10@MixWings6r
$LN5@MixWings6r:

; 7053 : 
; 7054 : 		case 2:
; 7055 : 			{
; 7056 : 				if(loc29 < 70)

  0f1c8	83 bd 7c ff ff
	ff 46		 cmp	 DWORD PTR _loc29$238187[ebp], 70 ; 00000046H
  0f1cf	7d 09		 jge	 SHORT $LN4@MixWings6r

; 7057 : 				{
; 7058 : 					loc23 |= 4;

  0f1d1	8b 45 94	 mov	 eax, DWORD PTR _loc23$238181[ebp]
  0f1d4	83 c8 04	 or	 eax, 4
  0f1d7	89 45 94	 mov	 DWORD PTR _loc23$238181[ebp], eax
$LN4@MixWings6r:

; 7059 : 				}
; 7060 : 			}
; 7061 : 			break;

  0f1da	eb 12		 jmp	 SHORT $LN10@MixWings6r
$LN3@MixWings6r:

; 7062 : 		case 3:
; 7063 : 			{
; 7064 : 				if(loc29 < 70)

  0f1dc	83 bd 7c ff ff
	ff 46		 cmp	 DWORD PTR _loc29$238187[ebp], 70 ; 00000046H
  0f1e3	7d 09		 jge	 SHORT $LN2@MixWings6r

; 7065 : 				{
; 7066 : 					loc23 |= 8;

  0f1e5	8b 45 94	 mov	 eax, DWORD PTR _loc23$238181[ebp]
  0f1e8	83 c8 08	 or	 eax, 8
  0f1eb	89 45 94	 mov	 DWORD PTR _loc23$238181[ebp], eax
$LN2@MixWings6r:
$LN10@MixWings6r:

; 7067 : 				}
; 7068 : 			}
; 7069 : 			break;
; 7070 : 		}
; 7071 : 
; 7072 : 		ItemSerialCreateSend(lpObj->m_Index, -1, 0, 0, ItemType , 0, 0, 0, (BYTE)ItemLuckAdd, (BYTE)ItemOptAdd, -1, (BYTE)loc23, 0);

  0f1ee	6a 00		 push	 0
  0f1f0	0f b6 45 94	 movzx	 eax, BYTE PTR _loc23$238181[ebp]
  0f1f4	50		 push	 eax
  0f1f5	6a ff		 push	 -1
  0f1f7	0f b6 4d 98	 movzx	 ecx, BYTE PTR _ItemOptAdd$238180[ebp]
  0f1fb	51		 push	 ecx
  0f1fc	0f b6 55 9c	 movzx	 edx, BYTE PTR _ItemLuckAdd$238178[ebp]
  0f200	52		 push	 edx
  0f201	6a 00		 push	 0
  0f203	6a 00		 push	 0
  0f205	6a 00		 push	 0
  0f207	8b 45 a0	 mov	 eax, DWORD PTR _ItemType$238174[ebp]
  0f20a	50		 push	 eax
  0f20b	6a 00		 push	 0
  0f20d	6a 00		 push	 0
  0f20f	68 ff 00 00 00	 push	 255			; 000000ffH
  0f214	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0f217	8b 11		 mov	 edx, DWORD PTR [ecx]
  0f219	52		 push	 edx
  0f21a	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0f21f	83 c4 34	 add	 esp, 52			; 00000034H

; 7073 : 		::gObjInventoryCommit(lpObj->m_Index);

  0f222	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0f225	8b 08		 mov	 ecx, DWORD PTR [eax]
  0f227	51		 push	 ecx
  0f228	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0f22d	83 c4 04	 add	 esp, 4

; 7074 : 
; 7075 : 		LogAddTD("[6rd Wings Mix] [%s][%s] CBMix Success %d Money : %d-%d, CharmRate : %d",
; 7076 : 			lpObj->AccountID, lpObj->Name, MixPercent,	lpObj->Money, NeedMoney);

  0f230	8b 45 c8	 mov	 eax, DWORD PTR _NeedMoney$[ebp]
  0f233	50		 push	 eax
  0f234	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0f237	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  0f23d	52		 push	 edx
  0f23e	8b 45 a8	 mov	 eax, DWORD PTR _MixPercent$[ebp]
  0f241	50		 push	 eax
  0f242	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0f245	83 c1 77	 add	 ecx, 119		; 00000077H
  0f248	51		 push	 ecx
  0f249	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0f24c	83 c2 6c	 add	 edx, 108		; 0000006cH
  0f24f	52		 push	 edx
  0f250	68 00 00 00 00	 push	 OFFSET ??_C@_0EI@FJAEFMKB@?$FL6rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5S@
  0f255	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0f25b	83 c4 18	 add	 esp, 24			; 00000018H

; 7077 : #if(SYSTEM_ACHIEVEMENTS)
; 7078 : 		g_Achievements.SuccessChaosMix(lpObj->m_Index);

  0f25e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0f261	8b 08		 mov	 ecx, DWORD PTR [eax]
  0f263	51		 push	 ecx
  0f264	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0f269	e8 00 00 00 00	 call	 ?SuccessChaosMix@CAchievements@@QAEXH@Z ; CAchievements::SuccessChaosMix

; 7079 : #endif
; 7080 : 	}
; 7081 : 	else

  0f26e	eb 7c		 jmp	 SHORT $LN1@MixWings6r
$LN30@MixWings6r:

; 7082 : 	{
; 7083 : 		this->ChaosBoxInit(lpObj);

  0f270	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0f273	50		 push	 eax
  0f274	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0f277	e8 00 00 00 00	 call	 ?ChaosBoxInit@CMixSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; CMixSystem::ChaosBoxInit

; 7084 : 		::GCUserChaosBoxSend(lpObj, 0);

  0f27c	6a 00		 push	 0
  0f27e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0f281	50		 push	 eax
  0f282	e8 00 00 00 00	 call	 ?GCUserChaosBoxSend@@YAXPAUOBJECTSTRUCT@@H@Z ; GCUserChaosBoxSend
  0f287	83 c4 08	 add	 esp, 8

; 7085 : 		DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0f28a	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0f28e	50		 push	 eax
  0f28f	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0f292	51		 push	 ecx
  0f293	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0f296	8b 02		 mov	 eax, DWORD PTR [edx]
  0f298	50		 push	 eax
  0f299	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0f29e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 7086 : 
; 7087 : 		LogAddTD("[6rd Wings Mix] [%s][%s] CBMix Fail %d Money : %d-%d",
; 7088 : 			lpObj->AccountID, lpObj->Name, MixPercent,	lpObj->Money, NeedMoney);

  0f2a1	8b 45 c8	 mov	 eax, DWORD PTR _NeedMoney$[ebp]
  0f2a4	50		 push	 eax
  0f2a5	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0f2a8	8b 91 f0 00 00
	00		 mov	 edx, DWORD PTR [ecx+240]
  0f2ae	52		 push	 edx
  0f2af	8b 45 a8	 mov	 eax, DWORD PTR _MixPercent$[ebp]
  0f2b2	50		 push	 eax
  0f2b3	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0f2b6	83 c1 77	 add	 ecx, 119		; 00000077H
  0f2b9	51		 push	 ecx
  0f2ba	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0f2bd	83 c2 6c	 add	 edx, 108		; 0000006cH
  0f2c0	52		 push	 edx
  0f2c1	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@LOHEKMFG@?$FL6rd?5Wings?5Mix?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5CBMix?5F@
  0f2c6	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0f2cc	83 c4 18	 add	 esp, 24			; 00000018H

; 7089 : 		lpObj->ChaosLock = FALSE;

  0f2cf	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0f2d2	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0

; 7090 : #if(SYSTEM_ACHIEVEMENTS)
; 7091 : 		g_Achievements.FailedChaosMix(lpObj->m_Index);

  0f2dc	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0f2df	8b 08		 mov	 ecx, DWORD PTR [eax]
  0f2e1	51		 push	 ecx
  0f2e2	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Achievements@@3VCAchievements@@A ; g_Achievements
  0f2e7	e8 00 00 00 00	 call	 ?FailedChaosMix@CAchievements@@QAEXH@Z ; CAchievements::FailedChaosMix
$LN1@MixWings6r:
$LN61@MixWings6r:

; 7092 : #endif
; 7093 : 	}
; 7094 : }

  0f2ec	5f		 pop	 edi
  0f2ed	5e		 pop	 esi
  0f2ee	5b		 pop	 ebx
  0f2ef	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0f2f2	33 cd		 xor	 ecx, ebp
  0f2f4	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0f2f9	8b e5		 mov	 esp, ebp
  0f2fb	5d		 pop	 ebp
  0f2fc	c2 04 00	 ret	 4
  0f2ff	90		 npad	 1
$LN67@MixWings6r:
  0f300	00 00 00 00	 DD	 $LN9@MixWings6r
  0f304	00 00 00 00	 DD	 $LN7@MixWings6r
  0f308	00 00 00 00	 DD	 $LN5@MixWings6r
  0f30c	00 00 00 00	 DD	 $LN3@MixWings6r
?MixWings6rd@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP	; CMixSystem::MixWings6rd
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GoldenNSilverBoxMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMixSystem::GoldenNSilverBoxMix
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_i$238239 = -56						; size = 4
_bCheckSourceItem$ = -49				; size = 1
_nType$ = -48						; size = 4
_nEtcItem$ = -44					; size = 4
_nSilverBox$ = -40					; size = 4
_nGoldenBox$ = -36					; size = 4
_nSilverKey$ = -32					; size = 4
_nGoldenKey$ = -28					; size = 4
_pMsg$ = -24						; size = 16
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?GoldenNSilverBoxMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z PROC ; CMixSystem::GoldenNSilverBoxMix
; _this$ = ecx

; 7097 : {

  0f310	55		 push	 ebp
  0f311	8b ec		 mov	 ebp, esp
  0f313	83 ec 78	 sub	 esp, 120		; 00000078H
  0f316	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0f31b	33 c5		 xor	 eax, ebp
  0f31d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0f320	53		 push	 ebx
  0f321	56		 push	 esi
  0f322	57		 push	 edi
  0f323	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 7098 : 	PMSG_CHAOSMIXRESULT pMsg;
; 7099 : 	PHeadSetB((LPBYTE)&pMsg.h, 0x86, sizeof(PMSG_CHAOSMIXRESULT));

  0f326	6a 10		 push	 16			; 00000010H
  0f328	68 86 00 00 00	 push	 134			; 00000086H
  0f32d	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0f330	50		 push	 eax
  0f331	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0f336	83 c4 0c	 add	 esp, 12			; 0000000cH

; 7100 : 	// ----
; 7101 : 	pMsg.Result				= CB_ERROR;	//ebp-11

  0f339	c6 45 eb 00	 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 7102 : 	int nGoldenKey			= 0;		//ebp-18

  0f33d	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _nGoldenKey$[ebp], 0

; 7103 : 	int nSilverKey			= 0;		//ebp-1c

  0f344	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _nSilverKey$[ebp], 0

; 7104 : 	int nGoldenBox			= 0;		//ebp-20

  0f34b	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _nGoldenBox$[ebp], 0

; 7105 : 	int nSilverBox			= 0;		//ebp-24

  0f352	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _nSilverBox$[ebp], 0

; 7106 : 	int nEtcItem			= 0;		//ebp-28

  0f359	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _nEtcItem$[ebp], 0

; 7107 : 	int nType				= 0;		//ebp-2c

  0f360	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _nType$[ebp], 0

; 7108 : 	bool bCheckSourceItem	= false;	//ebp-30

  0f367	c6 45 cf 00	 mov	 BYTE PTR _bCheckSourceItem$[ebp], 0

; 7109 : 	lpObj->ChaosLock		= true;

  0f36b	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0f36e	c7 80 88 0e 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3720], 1

; 7110 : 	// ----
; 7111 : 	for( int i = 0; i < CHAOS_BOX_SIZE; i++ )	//ebp-34

  0f378	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _i$238239[ebp], 0
  0f37f	eb 09		 jmp	 SHORT $LN19@GoldenNSil
$LN18@GoldenNSil:
  0f381	8b 45 c8	 mov	 eax, DWORD PTR _i$238239[ebp]
  0f384	83 c0 01	 add	 eax, 1
  0f387	89 45 c8	 mov	 DWORD PTR _i$238239[ebp], eax
$LN19@GoldenNSil:
  0f38a	83 7d c8 20	 cmp	 DWORD PTR _i$238239[ebp], 32 ; 00000020H
  0f38e	0f 8d d4 00 00
	00		 jge	 $LN17@GoldenNSil

; 7112 : 	{
; 7113 : 		if( lpObj->pChaosBox[i].IsItem() )

  0f394	8b 4d c8	 mov	 ecx, DWORD PTR _i$238239[ebp]
  0f397	69 c9 d4 00 00
	00		 imul	 ecx, 212		; 000000d4H
  0f39d	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0f3a0	03 88 78 0e 00
	00		 add	 ecx, DWORD PTR [eax+3704]
  0f3a6	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0f3ab	85 c0		 test	 eax, eax
  0f3ad	0f 84 b0 00 00
	00		 je	 $LN16@GoldenNSil

; 7114 : 		{
; 7115 : 			if( lpObj->pChaosBox[i].m_Type == ITEMGET(14, 113) )

  0f3b3	8b 45 c8	 mov	 eax, DWORD PTR _i$238239[ebp]
  0f3b6	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0f3bc	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0f3bf	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0f3c5	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0f3ca	3d 71 1c 00 00	 cmp	 eax, 7281		; 00001c71H
  0f3cf	75 0e		 jne	 SHORT $LN15@GoldenNSil

; 7116 : 			{
; 7117 : 				nGoldenKey++;

  0f3d1	8b 45 e4	 mov	 eax, DWORD PTR _nGoldenKey$[ebp]
  0f3d4	83 c0 01	 add	 eax, 1
  0f3d7	89 45 e4	 mov	 DWORD PTR _nGoldenKey$[ebp], eax
  0f3da	e9 84 00 00 00	 jmp	 $LN16@GoldenNSil
$LN15@GoldenNSil:

; 7118 : 			}
; 7119 : 			else if( lpObj->pChaosBox[i].m_Type == ITEMGET(14, 112) )

  0f3df	8b 45 c8	 mov	 eax, DWORD PTR _i$238239[ebp]
  0f3e2	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0f3e8	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0f3eb	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0f3f1	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0f3f6	3d 70 1c 00 00	 cmp	 eax, 7280		; 00001c70H
  0f3fb	75 0b		 jne	 SHORT $LN13@GoldenNSil

; 7120 : 			{
; 7121 : 				nSilverKey++;

  0f3fd	8b 45 e0	 mov	 eax, DWORD PTR _nSilverKey$[ebp]
  0f400	83 c0 01	 add	 eax, 1
  0f403	89 45 e0	 mov	 DWORD PTR _nSilverKey$[ebp], eax
  0f406	eb 5b		 jmp	 SHORT $LN16@GoldenNSil
$LN13@GoldenNSil:

; 7122 : 			}
; 7123 : 			else if( lpObj->pChaosBox[i].m_Type == ITEMGET(14, 121) )

  0f408	8b 45 c8	 mov	 eax, DWORD PTR _i$238239[ebp]
  0f40b	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0f411	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0f414	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0f41a	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0f41f	3d 79 1c 00 00	 cmp	 eax, 7289		; 00001c79H
  0f424	75 0b		 jne	 SHORT $LN11@GoldenNSil

; 7124 : 			{
; 7125 : 				nGoldenBox++;

  0f426	8b 45 dc	 mov	 eax, DWORD PTR _nGoldenBox$[ebp]
  0f429	83 c0 01	 add	 eax, 1
  0f42c	89 45 dc	 mov	 DWORD PTR _nGoldenBox$[ebp], eax
  0f42f	eb 32		 jmp	 SHORT $LN16@GoldenNSil
$LN11@GoldenNSil:

; 7126 : 			}
; 7127 : 			else if( lpObj->pChaosBox[i].m_Type == ITEMGET(14, 122) )

  0f431	8b 45 c8	 mov	 eax, DWORD PTR _i$238239[ebp]
  0f434	69 c0 d4 00 00
	00		 imul	 eax, 212		; 000000d4H
  0f43a	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0f43d	8b 91 78 0e 00
	00		 mov	 edx, DWORD PTR [ecx+3704]
  0f443	0f bf 44 02 06	 movsx	 eax, WORD PTR [edx+eax+6]
  0f448	3d 7a 1c 00 00	 cmp	 eax, 7290		; 00001c7aH
  0f44d	75 0b		 jne	 SHORT $LN9@GoldenNSil

; 7128 : 			{
; 7129 : 				nSilverBox++;

  0f44f	8b 45 d8	 mov	 eax, DWORD PTR _nSilverBox$[ebp]
  0f452	83 c0 01	 add	 eax, 1
  0f455	89 45 d8	 mov	 DWORD PTR _nSilverBox$[ebp], eax

; 7130 : 			}
; 7131 : 			else

  0f458	eb 09		 jmp	 SHORT $LN16@GoldenNSil
$LN9@GoldenNSil:

; 7132 : 			{
; 7133 : 				nEtcItem++;

  0f45a	8b 45 d4	 mov	 eax, DWORD PTR _nEtcItem$[ebp]
  0f45d	83 c0 01	 add	 eax, 1
  0f460	89 45 d4	 mov	 DWORD PTR _nEtcItem$[ebp], eax
$LN16@GoldenNSil:

; 7134 : 			}
; 7135 : 		}
; 7136 : 	}

  0f463	e9 19 ff ff ff	 jmp	 $LN18@GoldenNSil
$LN17@GoldenNSil:

; 7137 : 	// ----
; 7138 : 	if( nEtcItem >= 1 || nGoldenKey != 1 && nSilverKey != 1 )

  0f468	83 7d d4 01	 cmp	 DWORD PTR _nEtcItem$[ebp], 1
  0f46c	7d 0c		 jge	 SHORT $LN6@GoldenNSil
  0f46e	83 7d e4 01	 cmp	 DWORD PTR _nGoldenKey$[ebp], 1
  0f472	74 0c		 je	 SHORT $LN7@GoldenNSil
  0f474	83 7d e0 01	 cmp	 DWORD PTR _nSilverKey$[ebp], 1
  0f478	74 06		 je	 SHORT $LN7@GoldenNSil
$LN6@GoldenNSil:

; 7139 : 	{
; 7140 : 		bCheckSourceItem = false;

  0f47a	c6 45 cf 00	 mov	 BYTE PTR _bCheckSourceItem$[ebp], 0
  0f47e	eb 48		 jmp	 SHORT $LN5@GoldenNSil
$LN7@GoldenNSil:

; 7141 : 	}
; 7142 : 	else if( nGoldenKey == 1 && nGoldenBox == 1 && !nSilverKey && !nSilverBox )

  0f480	83 7d e4 01	 cmp	 DWORD PTR _nGoldenKey$[ebp], 1
  0f484	75 1f		 jne	 SHORT $LN4@GoldenNSil
  0f486	83 7d dc 01	 cmp	 DWORD PTR _nGoldenBox$[ebp], 1
  0f48a	75 19		 jne	 SHORT $LN4@GoldenNSil
  0f48c	83 7d e0 00	 cmp	 DWORD PTR _nSilverKey$[ebp], 0
  0f490	75 13		 jne	 SHORT $LN4@GoldenNSil
  0f492	83 7d d8 00	 cmp	 DWORD PTR _nSilverBox$[ebp], 0
  0f496	75 0d		 jne	 SHORT $LN4@GoldenNSil

; 7143 : 	{
; 7144 : 		nType = ITEMGET(14, 123);

  0f498	c7 45 d0 7b 1c
	00 00		 mov	 DWORD PTR _nType$[ebp], 7291 ; 00001c7bH

; 7145 : 		bCheckSourceItem = true;

  0f49f	c6 45 cf 01	 mov	 BYTE PTR _bCheckSourceItem$[ebp], 1
  0f4a3	eb 23		 jmp	 SHORT $LN5@GoldenNSil
$LN4@GoldenNSil:

; 7146 : 	}
; 7147 : 	else if( nSilverKey == 1 && nSilverBox == 1 && !nGoldenKey && !nGoldenBox )

  0f4a5	83 7d e0 01	 cmp	 DWORD PTR _nSilverKey$[ebp], 1
  0f4a9	75 1d		 jne	 SHORT $LN5@GoldenNSil
  0f4ab	83 7d d8 01	 cmp	 DWORD PTR _nSilverBox$[ebp], 1
  0f4af	75 17		 jne	 SHORT $LN5@GoldenNSil
  0f4b1	83 7d e4 00	 cmp	 DWORD PTR _nGoldenKey$[ebp], 0
  0f4b5	75 11		 jne	 SHORT $LN5@GoldenNSil
  0f4b7	83 7d dc 00	 cmp	 DWORD PTR _nGoldenBox$[ebp], 0
  0f4bb	75 0b		 jne	 SHORT $LN5@GoldenNSil

; 7148 : 	{
; 7149 : 		nType = ITEMGET(14, 124);

  0f4bd	c7 45 d0 7c 1c
	00 00		 mov	 DWORD PTR _nType$[ebp], 7292 ; 00001c7cH

; 7150 : 		bCheckSourceItem = true;

  0f4c4	c6 45 cf 01	 mov	 BYTE PTR _bCheckSourceItem$[ebp], 1
$LN5@GoldenNSil:

; 7151 : 	}
; 7152 : 	// ----
; 7153 : 	if( bCheckSourceItem )

  0f4c8	0f b6 45 cf	 movzx	 eax, BYTE PTR _bCheckSourceItem$[ebp]
  0f4cc	85 c0		 test	 eax, eax
  0f4ce	74 3b		 je	 SHORT $LN1@GoldenNSil

; 7154 : 	{
; 7155 : 		ItemSerialCreateSend(lpObj->m_Index, 0xFF, 0, 0, nType, 0, 0, 0, 0, 0, -1, 0, 0);

  0f4d0	6a 00		 push	 0
  0f4d2	6a 00		 push	 0
  0f4d4	6a ff		 push	 -1
  0f4d6	6a 00		 push	 0
  0f4d8	6a 00		 push	 0
  0f4da	6a 00		 push	 0
  0f4dc	6a 00		 push	 0
  0f4de	6a 00		 push	 0
  0f4e0	8b 45 d0	 mov	 eax, DWORD PTR _nType$[ebp]
  0f4e3	50		 push	 eax
  0f4e4	6a 00		 push	 0
  0f4e6	6a 00		 push	 0
  0f4e8	68 ff 00 00 00	 push	 255			; 000000ffH
  0f4ed	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0f4f0	8b 11		 mov	 edx, DWORD PTR [ecx]
  0f4f2	52		 push	 edx
  0f4f3	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0f4f8	83 c4 34	 add	 esp, 52			; 00000034H

; 7156 : 		gObjInventoryCommit(lpObj->m_Index);

  0f4fb	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0f4fe	8b 08		 mov	 ecx, DWORD PTR [eax]
  0f500	51		 push	 ecx
  0f501	e8 00 00 00 00	 call	 ?gObjInventoryCommit@@YAHH@Z ; gObjInventoryCommit
  0f506	83 c4 04	 add	 esp, 4

; 7157 : 		return;

  0f509	eb 28		 jmp	 SHORT $LN20@GoldenNSil
$LN1@GoldenNSil:

; 7158 : 	}
; 7159 : 	// ----
; 7160 : 	pMsg.Result = 1;

  0f50b	c6 45 eb 01	 mov	 BYTE PTR _pMsg$[ebp+3], 1

; 7161 : 	DataSend(lpObj->m_Index, (LPBYTE)&pMsg, pMsg.h.size);

  0f50f	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0f513	50		 push	 eax
  0f514	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0f517	51		 push	 ecx
  0f518	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0f51b	8b 02		 mov	 eax, DWORD PTR [edx]
  0f51d	50		 push	 eax
  0f51e	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0f523	83 c4 0c	 add	 esp, 12			; 0000000cH

; 7162 : 	lpObj->ChaosLock = false;

  0f526	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0f529	c7 80 88 0e 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3720], 0
$LN20@GoldenNSil:

; 7163 : }

  0f533	5f		 pop	 edi
  0f534	5e		 pop	 esi
  0f535	5b		 pop	 ebx
  0f536	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0f539	33 cd		 xor	 ecx, ebp
  0f53b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0f540	8b e5		 mov	 esp, ebp
  0f542	5d		 pop	 ebp
  0f543	c2 04 00	 ret	 4
?GoldenNSilverBoxMix@CMixSystem@@QAEXPAUOBJECTSTRUCT@@@Z ENDP ; CMixSystem::GoldenNSilverBoxMix
_TEXT	ENDS
EXTRN	_atexit:PROC
; Function compile flags: /Odtp /ZI
;	COMDAT ??__Eg_MixSystem@@YAXXZ
text$yc	SEGMENT
??__Eg_MixSystem@@YAXXZ PROC				; `dynamic initializer for 'g_MixSystem'', COMDAT

; 24   : CMixSystem g_MixSystem;

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MixSystem@@3VCMixSystem@@A ; g_MixSystem
  0000e	e8 00 00 00 00	 call	 ??0CMixSystem@@QAE@XZ	; CMixSystem::CMixSystem
  00013	68 00 00 00 00	 push	 OFFSET ??__Fg_MixSystem@@YAXXZ ; `dynamic atexit destructor for 'g_MixSystem''
  00018	e8 00 00 00 00	 call	 _atexit
  0001d	83 c4 04	 add	 esp, 4
  00020	5f		 pop	 edi
  00021	5e		 pop	 esi
  00022	5b		 pop	 ebx
  00023	8b e5		 mov	 esp, ebp
  00025	5d		 pop	 ebp
  00026	c3		 ret	 0
??__Eg_MixSystem@@YAXXZ ENDP				; `dynamic initializer for 'g_MixSystem''
; Function compile flags: /Odtp /ZI
text$yc	ENDS
;	COMDAT ??__Fg_MixSystem@@YAXXZ
text$yd	SEGMENT
??__Fg_MixSystem@@YAXXZ PROC				; `dynamic atexit destructor for 'g_MixSystem'', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MixSystem@@3VCMixSystem@@A ; g_MixSystem
  0000e	e8 00 00 00 00	 call	 ??1CMixSystem@@UAE@XZ	; CMixSystem::~CMixSystem
  00013	5f		 pop	 edi
  00014	5e		 pop	 esi
  00015	5b		 pop	 ebx
  00016	8b e5		 mov	 esp, ebp
  00018	5d		 pop	 ebp
  00019	c3		 ret	 0
??__Fg_MixSystem@@YAXXZ ENDP				; `dynamic atexit destructor for 'g_MixSystem''
text$yd	ENDS
PUBLIC	?g_MixSystem@@3VCMixSystem@@A			; g_MixSystem
_BSS	SEGMENT
?g_MixSystem@@3VCMixSystem@@A DB 044H DUP (?)		; g_MixSystem
_BSS	ENDS
CRT$XCU	SEGMENT
_g_MixSystem$initializer$ DD FLAT:??__Eg_MixSystem@@YAXXZ
CRT$XCU	ENDS
END
