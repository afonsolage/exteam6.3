; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\DungeonSiege.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

_DATA	SEGMENT
_g_iNpcUpDfLevel_CGATE DD 01H
	DD	02H
	DD	02dc6c0H
	DD	02H
	DD	03H
	DD	02dc6c0H
	DD	03H
	DD	04H
	DD	02dc6c0H
_g_iNpcUpDfLevel_CSTATUE DD 01H
	DD	03H
	DD	02dc6c0H
	DD	02H
	DD	05H
	DD	02dc6c0H
	DD	03H
	DD	07H
	DD	02dc6c0H
_g_iNpcUpMaxHP_CGATE DD 02625a0H
	DD	02H
	DD	0f4240H
	DD	03567e0H
	DD	03H
	DD	0f4240H
	DD	04f5880H
	DD	04H
	DD	0f4240H
_g_iNpcUpMaxHP_CSTATUE DD 02191c0H
	DD	03H
	DD	0f4240H
	DD	033e140H
	DD	05H
	DD	0f4240H
	DD	04c4b40H
	DD	07H
	DD	0f4240H
_g_iNpcUpRgLevel_CSTATUE DD 01H
	DD	03H
	DD	04c4b40H
	DD	02H
	DD	05H
	DD	04c4b40H
	DD	03H
	DD	07H
	DD	04c4b40H
_g_iCsUserReSpawnArea DD 023H
	DD	011H
	DD	090H
	DD	030H
	DD	04aH
	DD	090H
	DD	073H
	DD	09aH
	DD	023H
	DD	011H
	DD	090H
	DD	030H
_g_iNpcDefense_CGATE DD 064H
	DD	0b4H
	DD	012cH
	DD	0208H
_g_iNpcDefense_CSTATUE DD 050H
	DD	0b4H
	DD	0154H
	DD	0226H
_g_iCastleWallStepAxisY DD 071H
	DD	0a0H
	DD	0cbH
_g_sttBLOODCASTLE_LEVEL DD 0fH
	DD	050H
	DD	0aH
	DD	03cH
	DD	051H
	DD	082H
	DD	03dH
	DD	06eH
	DD	083H
	DD	0b4H
	DD	06fH
	DD	0a0H
	DD	0b5H
	DD	0e6H
	DD	0a1H
	DD	0d2H
	DD	0e7H
	DD	0118H
	DD	0d3H
	DD	0104H
	DD	0119H
	DD	014aH
	DD	0105H
	DD	0136H
	DD	014bH
	DD	0190H
	DD	0137H
	DD	0190H
	DD	0fH
	DD	0257H
	DD	0aH
	DD	0257H
_DATA	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	83 e8 01	 sub	 eax, 1
  0000f	89 45 10	 mov	 DWORD PTR ___n$[ebp], eax
  00012	78 11		 js	 SHORT $LN3@vector
  00014	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00017	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  0001a	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  0001d	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  00020	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  00023	eb e4		 jmp	 SHORT $LN2@vector
$LN3@vector:
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	?Init@CDungeonSiege@@QAEXXZ			; CDungeonSiege::Init
PUBLIC	??0CDungeonSiege@@QAE@XZ			; CDungeonSiege::CDungeonSiege
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\dungeonsiege.cpp
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0CDungeonSiege@@QAE@XZ PROC				; CDungeonSiege::CDungeonSiege
; _this$ = ecx

; 18   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 19   : 	this->Init();

  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ?Init@CDungeonSiege@@QAEXXZ ; CDungeonSiege::Init

; 20   : }

  00014	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00017	5f		 pop	 edi
  00018	5e		 pop	 esi
  00019	5b		 pop	 ebx
  0001a	8b e5		 mov	 esp, ebp
  0001c	5d		 pop	 ebp
  0001d	c3		 ret	 0
??0CDungeonSiege@@QAE@XZ ENDP				; CDungeonSiege::CDungeonSiege
_TEXT	ENDS
PUBLIC	??1CDungeonSiege@@QAE@XZ			; CDungeonSiege::~CDungeonSiege
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
??1CDungeonSiege@@QAE@XZ PROC				; CDungeonSiege::~CDungeonSiege
; _this$ = ecx

; 23   : {

  00020	55		 push	 ebp
  00021	8b ec		 mov	 ebp, esp
  00023	83 ec 44	 sub	 esp, 68			; 00000044H
  00026	53		 push	 ebx
  00027	56		 push	 esi
  00028	57		 push	 edi
  00029	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 24   : }

  0002c	5f		 pop	 edi
  0002d	5e		 pop	 esi
  0002e	5b		 pop	 ebx
  0002f	8b e5		 mov	 esp, ebp
  00031	5d		 pop	 ebp
  00032	c3		 ret	 0
??1CDungeonSiege@@QAE@XZ ENDP				; CDungeonSiege::~CDungeonSiege
_TEXT	ENDS
EXTRN	_memset:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
?Init@CDungeonSiege@@QAEXXZ PROC			; CDungeonSiege::Init
; _this$ = ecx

; 27   : {

  00040	55		 push	 ebp
  00041	8b ec		 mov	 ebp, esp
  00043	83 ec 44	 sub	 esp, 68			; 00000044H
  00046	53		 push	 ebx
  00047	56		 push	 esi
  00048	57		 push	 edi
  00049	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 28   : 	this->iEventStatus = eEVENTDUNGEON_CLOSE;

  0004c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0004f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 29   : 	this->bCaptured = false;

  00055	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00058	c6 40 14 00	 mov	 BYTE PTR [eax+20], 0

; 30   : 	memset(this->szLordGuild, 0, sizeof(this->szLordGuild));

  0005c	6a 09		 push	 9
  0005e	6a 00		 push	 0
  00060	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00063	83 c0 15	 add	 eax, 21			; 00000015H
  00066	50		 push	 eax
  00067	e8 00 00 00 00	 call	 _memset
  0006c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 31   : 	this->iRegCount = 0;

  0006f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00072	c7 40 20 00 00
	00 00		 mov	 DWORD PTR [eax+32], 0

; 32   : 	memset(this->reg_list, 0, sizeof(this->reg_list));

  00079	6a 5a		 push	 90			; 0000005aH
  0007b	6a 00		 push	 0
  0007d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00080	05 16 01 00 00	 add	 eax, 278		; 00000116H
  00085	50		 push	 eax
  00086	e8 00 00 00 00	 call	 _memset
  0008b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 33   : 	this->iTickCount = 0;

  0008e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00091	c7 40 24 00 00
	00 00		 mov	 DWORD PTR [eax+36], 0

; 34   : 	this->iTickRemain = 0;

  00098	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0009b	c7 40 28 00 00
	00 00		 mov	 DWORD PTR [eax+40], 0

; 35   : 	this->iTickWait = 0;

  000a2	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000a5	c7 40 2c 00 00
	00 00		 mov	 DWORD PTR [eax+44], 0

; 36   : 	this->iTickFinal1 = 0;

  000ac	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000af	c7 40 30 00 00
	00 00		 mov	 DWORD PTR [eax+48], 0

; 37   : 	this->iTickFinal2 = 0;

  000b6	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000b9	c7 40 34 00 00
	00 00		 mov	 DWORD PTR [eax+52], 0

; 38   : 	this->aIndexFinal1 = -1;

  000c0	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000c3	c7 40 38 ff ff
	ff ff		 mov	 DWORD PTR [eax+56], -1

; 39   : 	this->aIndexFinal2 = -1;

  000ca	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000cd	c7 40 3c ff ff
	ff ff		 mov	 DWORD PTR [eax+60], -1

; 40   : 	this->aGuildFinal1 = -1;

  000d4	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000d7	c7 40 40 ff ff
	ff ff		 mov	 DWORD PTR [eax+64], -1

; 41   : 	this->aGuildFinal2 = -1;

  000de	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000e1	c7 40 44 ff ff
	ff ff		 mov	 DWORD PTR [eax+68], -1

; 42   : 	this->bEnable = 0;

  000e8	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000eb	c6 40 48 00	 mov	 BYTE PTR [eax+72], 0

; 43   : 	this->iNpcClass = 0;

  000ef	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000f2	c7 40 4c 00 00
	00 00		 mov	 DWORD PTR [eax+76], 0

; 44   : 	this->iNpcMap = 0;

  000f9	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000fc	c7 40 50 00 00
	00 00		 mov	 DWORD PTR [eax+80], 0

; 45   : 	this->iNpcX = 0;

  00103	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00106	c7 40 54 00 00
	00 00		 mov	 DWORD PTR [eax+84], 0

; 46   : 	this->iNpcY = 0;

  0010d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00110	c7 40 58 00 00
	00 00		 mov	 DWORD PTR [eax+88], 0

; 47   : 	this->iEventStartDay = 0;

  00117	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0011a	c7 40 5c 00 00
	00 00		 mov	 DWORD PTR [eax+92], 0

; 48   : 	this->iEventStartHour = 0;

  00121	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00124	c7 40 60 00 00
	00 00		 mov	 DWORD PTR [eax+96], 0

; 49   : 	this->iEventeStartMinut = 0;

  0012b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0012e	c7 40 64 00 00
	00 00		 mov	 DWORD PTR [eax+100], 0

; 50   : 	this->iEventDurationStage1 = 0;

  00135	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00138	c7 40 68 00 00
	00 00		 mov	 DWORD PTR [eax+104], 0

; 51   : 	this->iEventDurationStage2 = 0;

  0013f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00142	c7 40 6c 00 00
	00 00		 mov	 DWORD PTR [eax+108], 0

; 52   : 	this->iEventDurationWait1 = 0;

  00149	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0014c	c7 40 70 00 00
	00 00		 mov	 DWORD PTR [eax+112], 0

; 53   : 	this->iEventDurationWait2 = 0;

  00153	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00156	c7 40 74 00 00
	00 00		 mov	 DWORD PTR [eax+116], 0

; 54   : 	this->m_EventMapNumber = 1;

  0015d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00160	c7 40 78 01 00
	00 00		 mov	 DWORD PTR [eax+120], 1

; 55   : 	this->m_EventStage1WaitX = 0;

  00167	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0016a	c7 40 7c 00 00
	00 00		 mov	 DWORD PTR [eax+124], 0

; 56   : 	this->m_EventStage1WaitY = 0;

  00171	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00174	c7 80 80 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+128], 0

; 57   : 	this->m_EventStage1KillX = 0;

  0017e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00181	c7 80 84 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+132], 0

; 58   : 	this->m_EventStage1KillY = 0;

  0018b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0018e	c7 80 88 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+136], 0

; 59   : 	this->m_EventStage2WaitX = 0;

  00198	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0019b	c7 80 8c 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+140], 0

; 60   : 	this->m_EventStage2WaitY = 0;

  001a5	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  001a8	c7 80 90 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+144], 0

; 61   : 	this->m_EventStage2KillX = 0;

  001b2	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  001b5	c7 80 94 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+148], 0

; 62   : 	this->m_EventStage2KillY = 0;

  001bf	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  001c2	c7 80 98 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+152], 0

; 63   : 	this->m_EventPlayerDieMap = 0;

  001cc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  001cf	c7 80 9c 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+156], 0

; 64   : 	this->m_EventPlayerDieX = 0;

  001d9	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  001dc	c7 80 a0 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+160], 0

; 65   : 	this->m_EventPlayerDieY = 0;

  001e6	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  001e9	c7 80 a4 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+164], 0

; 66   : 	this->m_BuffEnable = 0;

  001f3	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  001f6	c7 80 a8 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+168], 0

; 67   : 	this->m_BuffPlusAttackPercent = 0;

  00200	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00203	c7 80 ac 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+172], 0

; 68   : 	this->m_BuffPlusDefencePercent = 0;

  0020d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00210	c7 80 b0 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+176], 0

; 69   : 	this->m_RewardEnable = 0;

  0021a	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0021d	c7 80 b4 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+180], 0

; 70   : 	this->m_RewardItemEnable = 0;

  00227	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0022a	c7 80 b8 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+184], 0

; 71   : 	this->m_RewardItemType = 0;

  00234	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00237	c7 80 bc 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+188], 0

; 72   : 	this->m_RewardItemIndex = 0;

  00241	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00244	c7 80 c0 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+192], 0

; 73   : 	this->m_RewardItemLevel = 0;

  0024e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00251	c7 80 c4 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+196], 0

; 74   : 	this->m_RewardWCoinC = 0;

  0025b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0025e	c7 80 c8 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+200], 0

; 75   : 	this->m_RewardWcoinP = 0;

  00268	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0026b	c7 80 cc 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+204], 0

; 76   : 	this->m_RewardWgoinG = 0;

  00275	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00278	c7 80 d0 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+208], 0

; 77   : 	this->m_RewardCredit = 0;

  00282	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00285	c7 80 d4 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+212], 0

; 78   : 	this->m_FinalScoreForVictory = 10;

  0028f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00292	c7 80 d8 00 00
	00 0a 00 00 00	 mov	 DWORD PTR [eax+216], 10	; 0000000aH

; 79   : 	this->m_MinPlayerGuildReg = 10;

  0029c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0029f	c7 80 dc 00 00
	00 0a 00 00 00	 mov	 DWORD PTR [eax+220], 10	; 0000000aH

; 80   : 	this->m_NpcTeleportMinusScore = 0;

  002a9	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  002ac	c7 80 e0 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+224], 0

; 81   : 	memset(this->m_EventName, 0, sizeof(this->m_EventName));

  002b6	6a 32		 push	 50			; 00000032H
  002b8	6a 00		 push	 0
  002ba	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  002bd	05 e4 00 00 00	 add	 eax, 228		; 000000e4H
  002c2	50		 push	 eax
  002c3	e8 00 00 00 00	 call	 _memset
  002c8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 82   : }

  002cb	5f		 pop	 edi
  002cc	5e		 pop	 esi
  002cd	5b		 pop	 ebx
  002ce	8b e5		 mov	 esp, ebp
  002d0	5d		 pop	 ebp
  002d1	c3		 ret	 0
?Init@CDungeonSiege@@QAEXXZ ENDP			; CDungeonSiege::Init
_TEXT	ENDS
PUBLIC	?Read@CDungeonSiege@@QAEXPAD@Z			; CDungeonSiege::Read
PUBLIC	??_C@_0BP@PFBFMENO@ExData?2Events?2DungeonSiege?4ini?$AA@ ; `string'
PUBLIC	?Load@CDungeonSiege@@QAEXXZ			; CDungeonSiege::Load
EXTRN	?GetNewPath@CDirPath@@QAEPADPAD@Z:PROC		; CDirPath::GetNewPath
EXTRN	?gDirPath@@3VCDirPath@@A:BYTE			; gDirPath
EXTRN	?CheckUser@CExLicense@@QAE_NH@Z:PROC		; CExLicense::CheckUser
EXTRN	?g_ExLicense@@3VCExLicense@@A:BYTE		; g_ExLicense
;	COMDAT ??_C@_0BP@PFBFMENO@ExData?2Events?2DungeonSiege?4ini?$AA@
CONST	SEGMENT
??_C@_0BP@PFBFMENO@ExData?2Events?2DungeonSiege?4ini?$AA@ DB 'ExData\Even'
	DB	'ts\DungeonSiege.ini', 00H			; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
?Load@CDungeonSiege@@QAEXXZ PROC			; CDungeonSiege::Load
; _this$ = ecx

; 85   : {

  002e0	55		 push	 ebp
  002e1	8b ec		 mov	 ebp, esp
  002e3	83 ec 44	 sub	 esp, 68			; 00000044H
  002e6	53		 push	 ebx
  002e7	56		 push	 esi
  002e8	57		 push	 edi
  002e9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 86   : 	if(g_ExLicense.CheckUser(eExUB::Local)		|| 
; 87   : 	   g_ExLicense.CheckUser(eExUB::Gredy)		|| 
; 88   : 	   g_ExLicense.CheckUser(eExUB::Gredy2)		|| 
; 89   : 	   g_ExLicense.CheckUser(eExUB::GredyLocal)	||
; 90   : 	   THINNAKORN_MAC == 1						||
; 91   : 	   g_ExLicense.CheckUser(eExUB::MedoniAndrei) ||
; 92   : 	   g_ExLicense.CheckUser(eExUB::ArcMu)		||
; 93   : 	   g_ExLicense.CheckUser(eExUB::ulasevich)	||
; 94   : 	   g_ExLicense.CheckUser(eExUB::ulasevich2) ||
; 95   : 	   g_ExLicense.CheckUser(eExUB::Escalate) ||
; 96   : 	   g_ExLicense.CheckUser(eExUB::mu4you)	||
; 97   : 	   g_ExLicense.CheckUser(eExUB::eternalmu) || 
; 98   : 	   g_ExLicense.CheckUser(eExUB::NSGames))

  002ec	6a 00		 push	 0
  002ee	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  002f3	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  002f8	0f b6 c0	 movzx	 eax, al
  002fb	85 c0		 test	 eax, eax
  002fd	0f 85 e9 00 00
	00		 jne	 $LN1@Load
  00303	6a 20		 push	 32			; 00000020H
  00305	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0030a	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0030f	0f b6 c0	 movzx	 eax, al
  00312	85 c0		 test	 eax, eax
  00314	0f 85 d2 00 00
	00		 jne	 $LN1@Load
  0031a	6a 22		 push	 34			; 00000022H
  0031c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  00321	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  00326	0f b6 c0	 movzx	 eax, al
  00329	85 c0		 test	 eax, eax
  0032b	0f 85 bb 00 00
	00		 jne	 $LN1@Load
  00331	6a 21		 push	 33			; 00000021H
  00333	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  00338	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0033d	0f b6 c0	 movzx	 eax, al
  00340	85 c0		 test	 eax, eax
  00342	0f 85 a4 00 00
	00		 jne	 $LN1@Load
  00348	33 c0		 xor	 eax, eax
  0034a	0f 85 9c 00 00
	00		 jne	 $LN1@Load
  00350	6a 32		 push	 50			; 00000032H
  00352	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  00357	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  0035c	0f b6 c0	 movzx	 eax, al
  0035f	85 c0		 test	 eax, eax
  00361	0f 85 85 00 00
	00		 jne	 $LN1@Load
  00367	6a 48		 push	 72			; 00000048H
  00369	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  0036e	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  00373	0f b6 c0	 movzx	 eax, al
  00376	85 c0		 test	 eax, eax
  00378	75 72		 jne	 SHORT $LN1@Load
  0037a	6a 17		 push	 23			; 00000017H
  0037c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  00381	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  00386	0f b6 c0	 movzx	 eax, al
  00389	85 c0		 test	 eax, eax
  0038b	75 5f		 jne	 SHORT $LN1@Load
  0038d	6a 24		 push	 36			; 00000024H
  0038f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  00394	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  00399	0f b6 c0	 movzx	 eax, al
  0039c	85 c0		 test	 eax, eax
  0039e	75 4c		 jne	 SHORT $LN1@Load
  003a0	6a 40		 push	 64			; 00000040H
  003a2	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  003a7	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  003ac	0f b6 c0	 movzx	 eax, al
  003af	85 c0		 test	 eax, eax
  003b1	75 39		 jne	 SHORT $LN1@Load
  003b3	6a 4e		 push	 78			; 0000004eH
  003b5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  003ba	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  003bf	0f b6 c0	 movzx	 eax, al
  003c2	85 c0		 test	 eax, eax
  003c4	75 26		 jne	 SHORT $LN1@Load
  003c6	6a 4f		 push	 79			; 0000004fH
  003c8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  003cd	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  003d2	0f b6 c0	 movzx	 eax, al
  003d5	85 c0		 test	 eax, eax
  003d7	75 13		 jne	 SHORT $LN1@Load
  003d9	6a 51		 push	 81			; 00000051H
  003db	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ExLicense@@3VCExLicense@@A ; g_ExLicense
  003e0	e8 00 00 00 00	 call	 ?CheckUser@CExLicense@@QAE_NH@Z ; CExLicense::CheckUser
  003e5	0f b6 c0	 movzx	 eax, al
  003e8	85 c0		 test	 eax, eax
  003ea	74 18		 je	 SHORT $LN3@Load
$LN1@Load:

; 99   : 	{
; 100  : 		this->Read(gDirPath.GetNewPath("ExData\\Events\\DungeonSiege.ini"));

  003ec	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@PFBFMENO@ExData?2Events?2DungeonSiege?4ini?$AA@
  003f1	b9 00 00 00 00	 mov	 ecx, OFFSET ?gDirPath@@3VCDirPath@@A ; gDirPath
  003f6	e8 00 00 00 00	 call	 ?GetNewPath@CDirPath@@QAEPADPAD@Z ; CDirPath::GetNewPath
  003fb	50		 push	 eax
  003fc	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  003ff	e8 00 00 00 00	 call	 ?Read@CDungeonSiege@@QAEXPAD@Z ; CDungeonSiege::Read
$LN3@Load:

; 101  : 	}
; 102  : }

  00404	5f		 pop	 edi
  00405	5e		 pop	 esi
  00406	5b		 pop	 ebx
  00407	8b e5		 mov	 esp, ebp
  00409	5d		 pop	 ebp
  0040a	c3		 ret	 0
?Load@CDungeonSiege@@QAEXXZ ENDP			; CDungeonSiege::Load
_TEXT	ENDS
PUBLIC	??_C@_09ILCIGFN@EventName?$AA@			; `string'
PUBLIC	??_C@_0O@JABMCNKP@Dungeon?5Siege?$AA@		; `string'
PUBLIC	??_C@_0BG@CLMAJPKP@NpcTeleportMinusScore?$AA@	; `string'
PUBLIC	??_C@_0BC@BNBHNPLD@MinPlayerGuildReg?$AA@	; `string'
PUBLIC	??_C@_0BF@HNBECOLA@FinalScoreForVictory?$AA@	; `string'
PUBLIC	??_C@_0N@JAKOFKGJ@RewardCredit?$AA@		; `string'
PUBLIC	??_C@_0N@BJNKMCFF@RewardWgoinG?$AA@		; `string'
PUBLIC	??_C@_0N@IHMIAENF@RewardWcoinP?$AA@		; `string'
PUBLIC	??_C@_0N@OBILEAHB@RewardWCoinC?$AA@		; `string'
PUBLIC	??_C@_0BA@EHNJPAJ@RewardItemLevel?$AA@		; `string'
PUBLIC	??_C@_0BA@PHNOHHOK@RewardItemIndex?$AA@		; `string'
PUBLIC	??_C@_0P@KMGPHJCD@RewardItemType?$AA@		; `string'
PUBLIC	??_C@_0BB@NBBKJMOC@RewardItemEnable?$AA@	; `string'
PUBLIC	??_C@_0N@CJDLFFE@RewardEnable?$AA@		; `string'
PUBLIC	??_C@_0BH@FBPJBFPB@BuffPlusDefencePercent?$AA@	; `string'
PUBLIC	??_C@_0BG@GOKFFHHE@BuffPlusAttackPercent?$AA@	; `string'
PUBLIC	??_C@_0L@HLDGAJNE@BuffEnable?$AA@		; `string'
PUBLIC	??_C@_0BA@KCNMFMOB@EventPlayerDieY?$AA@		; `string'
PUBLIC	??_C@_0BA@LLMHGNKA@EventPlayerDieX?$AA@		; `string'
PUBLIC	??_C@_0BC@JMOJGFIH@EventPlayerDieMap?$AA@	; `string'
PUBLIC	??_C@_0BB@FBIKCJGP@EventStage2KillY?$AA@	; `string'
PUBLIC	??_C@_0BB@EIJBBICO@EventStage2KillX?$AA@	; `string'
PUBLIC	??_C@_0BB@DAAFKCLE@EventStage2WaitY?$AA@	; `string'
PUBLIC	??_C@_0BB@CJBOJDPF@EventStage2WaitX?$AA@	; `string'
PUBLIC	??_C@_0BB@GAGCDDPC@EventStage1KillY?$AA@	; `string'
PUBLIC	??_C@_0BB@HJHJACLD@EventStage1KillX?$AA@	; `string'
PUBLIC	??_C@_0BB@BONLICJ@EventStage1WaitY?$AA@		; `string'
PUBLIC	??_C@_0BB@BIPGIJGI@EventStage1WaitX?$AA@	; `string'
PUBLIC	??_C@_0P@DPPGLCMN@EventMapNumber?$AA@		; `string'
PUBLIC	??_C@_0BD@LFHDDMDE@EventDurationWait2?$AA@	; `string'
PUBLIC	??_C@_0BD@JOFOGPPH@EventDurationWait1?$AA@	; `string'
PUBLIC	??_C@_0BE@HAAKOPEG@EventDurationStage2?$AA@	; `string'
PUBLIC	??_C@_0BE@FLCHLMIF@EventDurationStage1?$AA@	; `string'
PUBLIC	??_C@_0BB@KJIMICAO@EventeStartMinut?$AA@	; `string'
PUBLIC	??_C@_0P@BDCFPCEH@EventStartHour?$AA@		; `string'
PUBLIC	??_C@_0O@BLJMNMLG@EventStartDay?$AA@		; `string'
PUBLIC	??_C@_04JEMJNNDC@NpcY?$AA@			; `string'
PUBLIC	??_C@_04INNCOMHD@NpcX?$AA@			; `string'
PUBLIC	??_C@_06KMEDHGPI@NpcMap?$AA@			; `string'
PUBLIC	??_C@_08BNJJHKPI@NpcClass?$AA@			; `string'
PUBLIC	??_C@_06MLPMCPDE@ExTeam?$AA@			; `string'
PUBLIC	??_C@_06CKGENIKG@Enable?$AA@			; `string'
EXTRN	__imp__GetPrivateProfileStringA@24:PROC
EXTRN	__imp__GetPrivateProfileIntA@16:PROC
;	COMDAT ??_C@_09ILCIGFN@EventName?$AA@
CONST	SEGMENT
??_C@_09ILCIGFN@EventName?$AA@ DB 'EventName', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@JABMCNKP@Dungeon?5Siege?$AA@
CONST	SEGMENT
??_C@_0O@JABMCNKP@Dungeon?5Siege?$AA@ DB 'Dungeon Siege', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@CLMAJPKP@NpcTeleportMinusScore?$AA@
CONST	SEGMENT
??_C@_0BG@CLMAJPKP@NpcTeleportMinusScore?$AA@ DB 'NpcTeleportMinusScore', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@BNBHNPLD@MinPlayerGuildReg?$AA@
CONST	SEGMENT
??_C@_0BC@BNBHNPLD@MinPlayerGuildReg?$AA@ DB 'MinPlayerGuildReg', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@HNBECOLA@FinalScoreForVictory?$AA@
CONST	SEGMENT
??_C@_0BF@HNBECOLA@FinalScoreForVictory?$AA@ DB 'FinalScoreForVictory', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@JAKOFKGJ@RewardCredit?$AA@
CONST	SEGMENT
??_C@_0N@JAKOFKGJ@RewardCredit?$AA@ DB 'RewardCredit', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@BJNKMCFF@RewardWgoinG?$AA@
CONST	SEGMENT
??_C@_0N@BJNKMCFF@RewardWgoinG?$AA@ DB 'RewardWgoinG', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@IHMIAENF@RewardWcoinP?$AA@
CONST	SEGMENT
??_C@_0N@IHMIAENF@RewardWcoinP?$AA@ DB 'RewardWcoinP', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@OBILEAHB@RewardWCoinC?$AA@
CONST	SEGMENT
??_C@_0N@OBILEAHB@RewardWCoinC?$AA@ DB 'RewardWCoinC', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@EHNJPAJ@RewardItemLevel?$AA@
CONST	SEGMENT
??_C@_0BA@EHNJPAJ@RewardItemLevel?$AA@ DB 'RewardItemLevel', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@PHNOHHOK@RewardItemIndex?$AA@
CONST	SEGMENT
??_C@_0BA@PHNOHHOK@RewardItemIndex?$AA@ DB 'RewardItemIndex', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@KMGPHJCD@RewardItemType?$AA@
CONST	SEGMENT
??_C@_0P@KMGPHJCD@RewardItemType?$AA@ DB 'RewardItemType', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@NBBKJMOC@RewardItemEnable?$AA@
CONST	SEGMENT
??_C@_0BB@NBBKJMOC@RewardItemEnable?$AA@ DB 'RewardItemEnable', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@CJDLFFE@RewardEnable?$AA@
CONST	SEGMENT
??_C@_0N@CJDLFFE@RewardEnable?$AA@ DB 'RewardEnable', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@FBPJBFPB@BuffPlusDefencePercent?$AA@
CONST	SEGMENT
??_C@_0BH@FBPJBFPB@BuffPlusDefencePercent?$AA@ DB 'BuffPlusDefencePercent'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@GOKFFHHE@BuffPlusAttackPercent?$AA@
CONST	SEGMENT
??_C@_0BG@GOKFFHHE@BuffPlusAttackPercent?$AA@ DB 'BuffPlusAttackPercent', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@HLDGAJNE@BuffEnable?$AA@
CONST	SEGMENT
??_C@_0L@HLDGAJNE@BuffEnable?$AA@ DB 'BuffEnable', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@KCNMFMOB@EventPlayerDieY?$AA@
CONST	SEGMENT
??_C@_0BA@KCNMFMOB@EventPlayerDieY?$AA@ DB 'EventPlayerDieY', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@LLMHGNKA@EventPlayerDieX?$AA@
CONST	SEGMENT
??_C@_0BA@LLMHGNKA@EventPlayerDieX?$AA@ DB 'EventPlayerDieX', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@JMOJGFIH@EventPlayerDieMap?$AA@
CONST	SEGMENT
??_C@_0BC@JMOJGFIH@EventPlayerDieMap?$AA@ DB 'EventPlayerDieMap', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@FBIKCJGP@EventStage2KillY?$AA@
CONST	SEGMENT
??_C@_0BB@FBIKCJGP@EventStage2KillY?$AA@ DB 'EventStage2KillY', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@EIJBBICO@EventStage2KillX?$AA@
CONST	SEGMENT
??_C@_0BB@EIJBBICO@EventStage2KillX?$AA@ DB 'EventStage2KillX', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@DAAFKCLE@EventStage2WaitY?$AA@
CONST	SEGMENT
??_C@_0BB@DAAFKCLE@EventStage2WaitY?$AA@ DB 'EventStage2WaitY', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@CJBOJDPF@EventStage2WaitX?$AA@
CONST	SEGMENT
??_C@_0BB@CJBOJDPF@EventStage2WaitX?$AA@ DB 'EventStage2WaitX', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@GAGCDDPC@EventStage1KillY?$AA@
CONST	SEGMENT
??_C@_0BB@GAGCDDPC@EventStage1KillY?$AA@ DB 'EventStage1KillY', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@HJHJACLD@EventStage1KillX?$AA@
CONST	SEGMENT
??_C@_0BB@HJHJACLD@EventStage1KillX?$AA@ DB 'EventStage1KillX', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@BONLICJ@EventStage1WaitY?$AA@
CONST	SEGMENT
??_C@_0BB@BONLICJ@EventStage1WaitY?$AA@ DB 'EventStage1WaitY', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@BIPGIJGI@EventStage1WaitX?$AA@
CONST	SEGMENT
??_C@_0BB@BIPGIJGI@EventStage1WaitX?$AA@ DB 'EventStage1WaitX', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@DPPGLCMN@EventMapNumber?$AA@
CONST	SEGMENT
??_C@_0P@DPPGLCMN@EventMapNumber?$AA@ DB 'EventMapNumber', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@LFHDDMDE@EventDurationWait2?$AA@
CONST	SEGMENT
??_C@_0BD@LFHDDMDE@EventDurationWait2?$AA@ DB 'EventDurationWait2', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@JOFOGPPH@EventDurationWait1?$AA@
CONST	SEGMENT
??_C@_0BD@JOFOGPPH@EventDurationWait1?$AA@ DB 'EventDurationWait1', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@HAAKOPEG@EventDurationStage2?$AA@
CONST	SEGMENT
??_C@_0BE@HAAKOPEG@EventDurationStage2?$AA@ DB 'EventDurationStage2', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@FLCHLMIF@EventDurationStage1?$AA@
CONST	SEGMENT
??_C@_0BE@FLCHLMIF@EventDurationStage1?$AA@ DB 'EventDurationStage1', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@KJIMICAO@EventeStartMinut?$AA@
CONST	SEGMENT
??_C@_0BB@KJIMICAO@EventeStartMinut?$AA@ DB 'EventeStartMinut', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@BDCFPCEH@EventStartHour?$AA@
CONST	SEGMENT
??_C@_0P@BDCFPCEH@EventStartHour?$AA@ DB 'EventStartHour', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@BLJMNMLG@EventStartDay?$AA@
CONST	SEGMENT
??_C@_0O@BLJMNMLG@EventStartDay?$AA@ DB 'EventStartDay', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_04JEMJNNDC@NpcY?$AA@
CONST	SEGMENT
??_C@_04JEMJNNDC@NpcY?$AA@ DB 'NpcY', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_04INNCOMHD@NpcX?$AA@
CONST	SEGMENT
??_C@_04INNCOMHD@NpcX?$AA@ DB 'NpcX', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06KMEDHGPI@NpcMap?$AA@
CONST	SEGMENT
??_C@_06KMEDHGPI@NpcMap?$AA@ DB 'NpcMap', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_08BNJJHKPI@NpcClass?$AA@
CONST	SEGMENT
??_C@_08BNJJHKPI@NpcClass?$AA@ DB 'NpcClass', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_06MLPMCPDE@ExTeam?$AA@
CONST	SEGMENT
??_C@_06MLPMCPDE@ExTeam?$AA@ DB 'ExTeam', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06CKGENIKG@Enable?$AA@
CONST	SEGMENT
??_C@_06CKGENIKG@Enable?$AA@ DB 'Enable', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
_filename$ = 8						; size = 4
?Read@CDungeonSiege@@QAEXPAD@Z PROC			; CDungeonSiege::Read
; _this$ = ecx

; 105  : {

  00410	55		 push	 ebp
  00411	8b ec		 mov	 ebp, esp
  00413	83 ec 44	 sub	 esp, 68			; 00000044H
  00416	53		 push	 ebx
  00417	56		 push	 esi
  00418	57		 push	 edi
  00419	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 106  : 	this->bEnable					= GetPrivateProfileInt("ExTeam", "Enable", 0, filename);

  0041c	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  0041f	50		 push	 eax
  00420	6a 00		 push	 0
  00422	68 00 00 00 00	 push	 OFFSET ??_C@_06CKGENIKG@Enable?$AA@
  00427	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  0042c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00432	85 c0		 test	 eax, eax
  00434	0f 95 c1	 setne	 cl
  00437	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0043a	88 4a 48	 mov	 BYTE PTR [edx+72], cl

; 107  : 	this->iNpcClass					= GetPrivateProfileInt("ExTeam", "NpcClass", 0, filename);

  0043d	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00440	50		 push	 eax
  00441	6a 00		 push	 0
  00443	68 00 00 00 00	 push	 OFFSET ??_C@_08BNJJHKPI@NpcClass?$AA@
  00448	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  0044d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00453	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00456	89 41 4c	 mov	 DWORD PTR [ecx+76], eax

; 108  : 	this->iNpcMap					= GetPrivateProfileInt("ExTeam", "NpcMap", 0, filename);

  00459	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  0045c	50		 push	 eax
  0045d	6a 00		 push	 0
  0045f	68 00 00 00 00	 push	 OFFSET ??_C@_06KMEDHGPI@NpcMap?$AA@
  00464	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00469	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0046f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00472	89 41 50	 mov	 DWORD PTR [ecx+80], eax

; 109  : 	this->iNpcX						= GetPrivateProfileInt("ExTeam", "NpcX", 0, filename);

  00475	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00478	50		 push	 eax
  00479	6a 00		 push	 0
  0047b	68 00 00 00 00	 push	 OFFSET ??_C@_04INNCOMHD@NpcX?$AA@
  00480	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00485	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0048b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0048e	89 41 54	 mov	 DWORD PTR [ecx+84], eax

; 110  : 	this->iNpcY						= GetPrivateProfileInt("ExTeam", "NpcY", 0, filename);

  00491	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00494	50		 push	 eax
  00495	6a 00		 push	 0
  00497	68 00 00 00 00	 push	 OFFSET ??_C@_04JEMJNNDC@NpcY?$AA@
  0049c	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  004a1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  004a7	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  004aa	89 41 58	 mov	 DWORD PTR [ecx+88], eax

; 111  : 	this->iEventStartDay			= GetPrivateProfileInt("ExTeam", "EventStartDay", 0, filename);

  004ad	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  004b0	50		 push	 eax
  004b1	6a 00		 push	 0
  004b3	68 00 00 00 00	 push	 OFFSET ??_C@_0O@BLJMNMLG@EventStartDay?$AA@
  004b8	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  004bd	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  004c3	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  004c6	89 41 5c	 mov	 DWORD PTR [ecx+92], eax

; 112  : 	this->iEventStartHour			= GetPrivateProfileInt("ExTeam", "EventStartHour", 0, filename);

  004c9	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  004cc	50		 push	 eax
  004cd	6a 00		 push	 0
  004cf	68 00 00 00 00	 push	 OFFSET ??_C@_0P@BDCFPCEH@EventStartHour?$AA@
  004d4	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  004d9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  004df	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  004e2	89 41 60	 mov	 DWORD PTR [ecx+96], eax

; 113  : 	this->iEventeStartMinut			= GetPrivateProfileInt("ExTeam", "EventeStartMinut", 0, filename);

  004e5	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  004e8	50		 push	 eax
  004e9	6a 00		 push	 0
  004eb	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@KJIMICAO@EventeStartMinut?$AA@
  004f0	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  004f5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  004fb	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  004fe	89 41 64	 mov	 DWORD PTR [ecx+100], eax

; 114  : 	this->iEventDurationStage1		= GetPrivateProfileInt("ExTeam", "EventDurationStage1", 0, filename);

  00501	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00504	50		 push	 eax
  00505	6a 00		 push	 0
  00507	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@FLCHLMIF@EventDurationStage1?$AA@
  0050c	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00511	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00517	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0051a	89 41 68	 mov	 DWORD PTR [ecx+104], eax

; 115  : 	this->iEventDurationStage2		= GetPrivateProfileInt("ExTeam", "EventDurationStage2", 0, filename);

  0051d	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00520	50		 push	 eax
  00521	6a 00		 push	 0
  00523	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@HAAKOPEG@EventDurationStage2?$AA@
  00528	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  0052d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00533	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00536	89 41 6c	 mov	 DWORD PTR [ecx+108], eax

; 116  : 	this->iEventDurationWait1		= GetPrivateProfileInt("ExTeam", "EventDurationWait1", 0, filename);

  00539	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  0053c	50		 push	 eax
  0053d	6a 00		 push	 0
  0053f	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@JOFOGPPH@EventDurationWait1?$AA@
  00544	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00549	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0054f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00552	89 41 70	 mov	 DWORD PTR [ecx+112], eax

; 117  : 	this->iEventDurationWait2		= GetPrivateProfileInt("ExTeam", "EventDurationWait2", 0, filename);

  00555	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00558	50		 push	 eax
  00559	6a 00		 push	 0
  0055b	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@LFHDDMDE@EventDurationWait2?$AA@
  00560	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00565	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0056b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0056e	89 41 74	 mov	 DWORD PTR [ecx+116], eax

; 118  : 	this->m_EventMapNumber			= GetPrivateProfileInt("ExTeam", "EventMapNumber", 0, filename);

  00571	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00574	50		 push	 eax
  00575	6a 00		 push	 0
  00577	68 00 00 00 00	 push	 OFFSET ??_C@_0P@DPPGLCMN@EventMapNumber?$AA@
  0057c	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00581	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00587	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0058a	89 41 78	 mov	 DWORD PTR [ecx+120], eax

; 119  : 	this->m_EventStage1WaitX		= GetPrivateProfileInt("ExTeam", "EventStage1WaitX", 0, filename);

  0058d	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00590	50		 push	 eax
  00591	6a 00		 push	 0
  00593	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@BIPGIJGI@EventStage1WaitX?$AA@
  00598	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  0059d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  005a3	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  005a6	89 41 7c	 mov	 DWORD PTR [ecx+124], eax

; 120  : 	this->m_EventStage1WaitY		= GetPrivateProfileInt("ExTeam", "EventStage1WaitY", 0, filename);

  005a9	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  005ac	50		 push	 eax
  005ad	6a 00		 push	 0
  005af	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@BONLICJ@EventStage1WaitY?$AA@
  005b4	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  005b9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  005bf	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  005c2	89 81 80 00 00
	00		 mov	 DWORD PTR [ecx+128], eax

; 121  : 	this->m_EventStage1KillX		= GetPrivateProfileInt("ExTeam", "EventStage1KillX", 0, filename);

  005c8	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  005cb	50		 push	 eax
  005cc	6a 00		 push	 0
  005ce	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@HJHJACLD@EventStage1KillX?$AA@
  005d3	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  005d8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  005de	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  005e1	89 81 84 00 00
	00		 mov	 DWORD PTR [ecx+132], eax

; 122  : 	this->m_EventStage1KillY		= GetPrivateProfileInt("ExTeam", "EventStage1KillY", 0, filename);

  005e7	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  005ea	50		 push	 eax
  005eb	6a 00		 push	 0
  005ed	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@GAGCDDPC@EventStage1KillY?$AA@
  005f2	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  005f7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  005fd	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00600	89 81 88 00 00
	00		 mov	 DWORD PTR [ecx+136], eax

; 123  : 	this->m_EventStage2WaitX		= GetPrivateProfileInt("ExTeam", "EventStage2WaitX", 0, filename);

  00606	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00609	50		 push	 eax
  0060a	6a 00		 push	 0
  0060c	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@CJBOJDPF@EventStage2WaitX?$AA@
  00611	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00616	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0061c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0061f	89 81 8c 00 00
	00		 mov	 DWORD PTR [ecx+140], eax

; 124  : 	this->m_EventStage2WaitY		= GetPrivateProfileInt("ExTeam", "EventStage2WaitY", 0, filename);

  00625	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00628	50		 push	 eax
  00629	6a 00		 push	 0
  0062b	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@DAAFKCLE@EventStage2WaitY?$AA@
  00630	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00635	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0063b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0063e	89 81 90 00 00
	00		 mov	 DWORD PTR [ecx+144], eax

; 125  : 	this->m_EventStage2KillX		= GetPrivateProfileInt("ExTeam", "EventStage2KillX", 0, filename);

  00644	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00647	50		 push	 eax
  00648	6a 00		 push	 0
  0064a	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@EIJBBICO@EventStage2KillX?$AA@
  0064f	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00654	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0065a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0065d	89 81 94 00 00
	00		 mov	 DWORD PTR [ecx+148], eax

; 126  : 	this->m_EventStage2KillY		= GetPrivateProfileInt("ExTeam", "EventStage2KillY", 0, filename);

  00663	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00666	50		 push	 eax
  00667	6a 00		 push	 0
  00669	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@FBIKCJGP@EventStage2KillY?$AA@
  0066e	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00673	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00679	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0067c	89 81 98 00 00
	00		 mov	 DWORD PTR [ecx+152], eax

; 127  : 	this->m_EventPlayerDieMap		= GetPrivateProfileInt("ExTeam", "EventPlayerDieMap", 0, filename);

  00682	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00685	50		 push	 eax
  00686	6a 00		 push	 0
  00688	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@JMOJGFIH@EventPlayerDieMap?$AA@
  0068d	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00692	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00698	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0069b	89 81 9c 00 00
	00		 mov	 DWORD PTR [ecx+156], eax

; 128  : 	this->m_EventPlayerDieX			= GetPrivateProfileInt("ExTeam", "EventPlayerDieX", 0, filename);

  006a1	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  006a4	50		 push	 eax
  006a5	6a 00		 push	 0
  006a7	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@LLMHGNKA@EventPlayerDieX?$AA@
  006ac	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  006b1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  006b7	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  006ba	89 81 a0 00 00
	00		 mov	 DWORD PTR [ecx+160], eax

; 129  : 	this->m_EventPlayerDieY			= GetPrivateProfileInt("ExTeam", "EventPlayerDieY", 0, filename);

  006c0	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  006c3	50		 push	 eax
  006c4	6a 00		 push	 0
  006c6	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@KCNMFMOB@EventPlayerDieY?$AA@
  006cb	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  006d0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  006d6	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  006d9	89 81 a4 00 00
	00		 mov	 DWORD PTR [ecx+164], eax

; 130  : 	this->m_BuffEnable				= GetPrivateProfileInt("ExTeam", "BuffEnable", 0, filename);

  006df	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  006e2	50		 push	 eax
  006e3	6a 00		 push	 0
  006e5	68 00 00 00 00	 push	 OFFSET ??_C@_0L@HLDGAJNE@BuffEnable?$AA@
  006ea	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  006ef	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  006f5	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  006f8	89 81 a8 00 00
	00		 mov	 DWORD PTR [ecx+168], eax

; 131  : 	this->m_BuffPlusAttackPercent	= GetPrivateProfileInt("ExTeam", "BuffPlusAttackPercent", 0, filename);

  006fe	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00701	50		 push	 eax
  00702	6a 00		 push	 0
  00704	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@GOKFFHHE@BuffPlusAttackPercent?$AA@
  00709	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  0070e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00714	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00717	89 81 ac 00 00
	00		 mov	 DWORD PTR [ecx+172], eax

; 132  : 	this->m_BuffPlusDefencePercent	= GetPrivateProfileInt("ExTeam", "BuffPlusDefencePercent", 0, filename);

  0071d	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00720	50		 push	 eax
  00721	6a 00		 push	 0
  00723	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@FBPJBFPB@BuffPlusDefencePercent?$AA@
  00728	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  0072d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00733	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00736	89 81 b0 00 00
	00		 mov	 DWORD PTR [ecx+176], eax

; 133  : 	this->m_RewardEnable			= GetPrivateProfileInt("ExTeam", "RewardEnable", 0, filename);

  0073c	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  0073f	50		 push	 eax
  00740	6a 00		 push	 0
  00742	68 00 00 00 00	 push	 OFFSET ??_C@_0N@CJDLFFE@RewardEnable?$AA@
  00747	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  0074c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00752	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00755	89 81 b4 00 00
	00		 mov	 DWORD PTR [ecx+180], eax

; 134  : 	this->m_RewardItemEnable		= GetPrivateProfileInt("ExTeam", "RewardItemEnable", 0, filename);

  0075b	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  0075e	50		 push	 eax
  0075f	6a 00		 push	 0
  00761	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@NBBKJMOC@RewardItemEnable?$AA@
  00766	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  0076b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00771	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00774	89 81 b8 00 00
	00		 mov	 DWORD PTR [ecx+184], eax

; 135  : 	this->m_RewardItemType			= GetPrivateProfileInt("ExTeam", "RewardItemType", 0, filename);

  0077a	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  0077d	50		 push	 eax
  0077e	6a 00		 push	 0
  00780	68 00 00 00 00	 push	 OFFSET ??_C@_0P@KMGPHJCD@RewardItemType?$AA@
  00785	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  0078a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00790	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00793	89 81 bc 00 00
	00		 mov	 DWORD PTR [ecx+188], eax

; 136  : 	this->m_RewardItemIndex			= GetPrivateProfileInt("ExTeam", "RewardItemIndex", 0, filename);

  00799	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  0079c	50		 push	 eax
  0079d	6a 00		 push	 0
  0079f	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@PHNOHHOK@RewardItemIndex?$AA@
  007a4	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  007a9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  007af	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  007b2	89 81 c0 00 00
	00		 mov	 DWORD PTR [ecx+192], eax

; 137  : 	this->m_RewardItemLevel			= GetPrivateProfileInt("ExTeam", "RewardItemLevel", 0, filename);

  007b8	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  007bb	50		 push	 eax
  007bc	6a 00		 push	 0
  007be	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@EHNJPAJ@RewardItemLevel?$AA@
  007c3	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  007c8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  007ce	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  007d1	89 81 c4 00 00
	00		 mov	 DWORD PTR [ecx+196], eax

; 138  : 	this->m_RewardWCoinC			= GetPrivateProfileInt("ExTeam", "RewardWCoinC", 0, filename);

  007d7	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  007da	50		 push	 eax
  007db	6a 00		 push	 0
  007dd	68 00 00 00 00	 push	 OFFSET ??_C@_0N@OBILEAHB@RewardWCoinC?$AA@
  007e2	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  007e7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  007ed	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  007f0	89 81 c8 00 00
	00		 mov	 DWORD PTR [ecx+200], eax

; 139  : 	this->m_RewardWcoinP			= GetPrivateProfileInt("ExTeam", "RewardWcoinP", 0, filename);

  007f6	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  007f9	50		 push	 eax
  007fa	6a 00		 push	 0
  007fc	68 00 00 00 00	 push	 OFFSET ??_C@_0N@IHMIAENF@RewardWcoinP?$AA@
  00801	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00806	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0080c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0080f	89 81 cc 00 00
	00		 mov	 DWORD PTR [ecx+204], eax

; 140  : 	this->m_RewardWgoinG			= GetPrivateProfileInt("ExTeam", "RewardWgoinG", 0, filename);

  00815	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00818	50		 push	 eax
  00819	6a 00		 push	 0
  0081b	68 00 00 00 00	 push	 OFFSET ??_C@_0N@BJNKMCFF@RewardWgoinG?$AA@
  00820	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00825	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0082b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0082e	89 81 d0 00 00
	00		 mov	 DWORD PTR [ecx+208], eax

; 141  : 	this->m_RewardCredit			= GetPrivateProfileInt("ExTeam", "RewardCredit", 0, filename);

  00834	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00837	50		 push	 eax
  00838	6a 00		 push	 0
  0083a	68 00 00 00 00	 push	 OFFSET ??_C@_0N@JAKOFKGJ@RewardCredit?$AA@
  0083f	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00844	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  0084a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0084d	89 81 d4 00 00
	00		 mov	 DWORD PTR [ecx+212], eax

; 142  : 	this->m_FinalScoreForVictory	= GetPrivateProfileInt("ExTeam", "FinalScoreForVictory", 0, filename);

  00853	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00856	50		 push	 eax
  00857	6a 00		 push	 0
  00859	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@HNBECOLA@FinalScoreForVictory?$AA@
  0085e	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00863	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00869	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0086c	89 81 d8 00 00
	00		 mov	 DWORD PTR [ecx+216], eax

; 143  : 	this->m_MinPlayerGuildReg		= GetPrivateProfileInt("ExTeam", "MinPlayerGuildReg", 0, filename);

  00872	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00875	50		 push	 eax
  00876	6a 00		 push	 0
  00878	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@BNBHNPLD@MinPlayerGuildReg?$AA@
  0087d	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  00882	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  00888	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0088b	89 81 dc 00 00
	00		 mov	 DWORD PTR [ecx+220], eax

; 144  : 	this->m_NpcTeleportMinusScore	= GetPrivateProfileInt("ExTeam", "NpcTeleportMinusScore", 0, filename);

  00891	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00894	50		 push	 eax
  00895	6a 00		 push	 0
  00897	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@CLMAJPKP@NpcTeleportMinusScore?$AA@
  0089c	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  008a1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileIntA@16
  008a7	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  008aa	89 81 e0 00 00
	00		 mov	 DWORD PTR [ecx+224], eax

; 145  : 	GetPrivateProfileString("ExTeam", "EventName", "Dungeon Siege", this->m_EventName, sizeof(this->m_EventName), filename);

  008b0	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  008b3	50		 push	 eax
  008b4	6a 32		 push	 50			; 00000032H
  008b6	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  008b9	81 c1 e4 00 00
	00		 add	 ecx, 228		; 000000e4H
  008bf	51		 push	 ecx
  008c0	68 00 00 00 00	 push	 OFFSET ??_C@_0O@JABMCNKP@Dungeon?5Siege?$AA@
  008c5	68 00 00 00 00	 push	 OFFSET ??_C@_09ILCIGFN@EventName?$AA@
  008ca	68 00 00 00 00	 push	 OFFSET ??_C@_06MLPMCPDE@ExTeam?$AA@
  008cf	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileStringA@24

; 146  : }

  008d5	5f		 pop	 edi
  008d6	5e		 pop	 esi
  008d7	5b		 pop	 ebx
  008d8	8b e5		 mov	 esp, ebp
  008da	5d		 pop	 ebp
  008db	c2 04 00	 ret	 4
?Read@CDungeonSiege@@QAEXPAD@Z ENDP			; CDungeonSiege::Read
_TEXT	ENDS
PUBLIC	?TeleportInSiege@CDungeonSiege@@QAEXH@Z		; CDungeonSiege::TeleportInSiege
PUBLIC	?GCNpcNnfo@CDungeonSiege@@QAEXH@Z		; CDungeonSiege::GCNpcNnfo
PUBLIC	?CheckStatus@CDungeonSiege@@QAE_NH@Z		; CDungeonSiege::CheckStatus
PUBLIC	?NpcDialog@CDungeonSiege@@QAE_NHH@Z		; CDungeonSiege::NpcDialog
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpNpc$ = -12						; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aNpcIndex$ = 12					; size = 4
?NpcDialog@CDungeonSiege@@QAE_NHH@Z PROC		; CDungeonSiege::NpcDialog
; _this$ = ecx

; 149  : {

  008e0	55		 push	 ebp
  008e1	8b ec		 mov	 ebp, esp
  008e3	83 ec 4c	 sub	 esp, 76			; 0000004cH
  008e6	53		 push	 ebx
  008e7	56		 push	 esi
  008e8	57		 push	 edi
  008e9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 150  : 	if(!this->bEnable)

  008ec	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  008ef	0f b6 48 48	 movzx	 ecx, BYTE PTR [eax+72]
  008f3	85 c9		 test	 ecx, ecx
  008f5	75 07		 jne	 SHORT $LN5@NpcDialog

; 151  : 	{
; 152  : 		return false;

  008f7	32 c0		 xor	 al, al
  008f9	e9 b1 00 00 00	 jmp	 $LN6@NpcDialog
$LN5@NpcDialog:

; 153  : 	}
; 154  : 
; 155  : 	LPOBJ lpUser = &gObj[aIndex];

  008fe	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00901	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00907	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0090d	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 156  : 	LPOBJ lpNpc = &gObj[aNpcIndex];

  00910	8b 45 0c	 mov	 eax, DWORD PTR _aNpcIndex$[ebp]
  00913	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00919	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0091f	89 45 f4	 mov	 DWORD PTR _lpNpc$[ebp], eax

; 157  : 
; 158  : 	if(!(lpNpc->Class == this->iNpcClass && lpNpc->MapNumber == this->iNpcMap && lpNpc->X == this->iNpcX && lpNpc->Y == this->iNpcY))

  00922	8b 45 f4	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  00925	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  0092c	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0092f	3b 4a 4c	 cmp	 ecx, DWORD PTR [edx+76]
  00932	75 36		 jne	 SHORT $LN3@NpcDialog
  00934	8b 45 f4	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  00937	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0093e	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00941	3b 4a 50	 cmp	 ecx, DWORD PTR [edx+80]
  00944	75 24		 jne	 SHORT $LN3@NpcDialog
  00946	8b 45 f4	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  00949	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  00950	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00953	3b 4a 54	 cmp	 ecx, DWORD PTR [edx+84]
  00956	75 12		 jne	 SHORT $LN3@NpcDialog
  00958	8b 45 f4	 mov	 eax, DWORD PTR _lpNpc$[ebp]
  0095b	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  00962	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00965	3b 4a 58	 cmp	 ecx, DWORD PTR [edx+88]
  00968	74 0e		 je	 SHORT $LN4@NpcDialog
$LN3@NpcDialog:

; 159  : 	{
; 160  : 		lpUser->DSiege.bNpcClick = false;

  0096a	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0096d	c6 80 fc 28 00
	00 00		 mov	 BYTE PTR [eax+10492], 0

; 161  : 		return false;

  00974	32 c0		 xor	 al, al
  00976	eb 37		 jmp	 SHORT $LN6@NpcDialog
$LN4@NpcDialog:

; 162  : 	}
; 163  : 
; 164  : 	lpUser->DSiege.bNpcClick = true;

  00978	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0097b	c6 80 fc 28 00
	00 01		 mov	 BYTE PTR [eax+10492], 1

; 165  : 
; 166  : 	if(this->CheckStatus(eEVENTDUNGEON_CLOSE))

  00982	6a 00		 push	 0
  00984	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00987	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  0098c	0f b6 c0	 movzx	 eax, al
  0098f	85 c0		 test	 eax, eax
  00991	74 0e		 je	 SHORT $LN2@NpcDialog

; 167  : 	{
; 168  : 		this->GCNpcNnfo(aIndex);

  00993	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00996	50		 push	 eax
  00997	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0099a	e8 00 00 00 00	 call	 ?GCNpcNnfo@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::GCNpcNnfo

; 169  : 	}
; 170  : 	else

  0099f	eb 0c		 jmp	 SHORT $LN1@NpcDialog
$LN2@NpcDialog:

; 171  : 	{
; 172  : 		this->TeleportInSiege(aIndex);

  009a1	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  009a4	50		 push	 eax
  009a5	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  009a8	e8 00 00 00 00	 call	 ?TeleportInSiege@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::TeleportInSiege
$LN1@NpcDialog:

; 173  : 	}
; 174  : 
; 175  : 	return true;

  009ad	b0 01		 mov	 al, 1
$LN6@NpcDialog:

; 176  : }

  009af	5f		 pop	 edi
  009b0	5e		 pop	 esi
  009b1	5b		 pop	 ebx
  009b2	8b e5		 mov	 esp, ebp
  009b4	5d		 pop	 ebp
  009b5	c2 08 00	 ret	 8
?NpcDialog@CDungeonSiege@@QAE_NHH@Z ENDP		; CDungeonSiege::NpcDialog
_TEXT	ENDS
PUBLIC	?ReturnPlayerRing@CDungeonSiege@@QAEXXZ		; CDungeonSiege::ReturnPlayerRing
PUBLIC	?ProcessStatusStartStage2@CDungeonSiege@@QAEXXZ	; CDungeonSiege::ProcessStatusStartStage2
PUBLIC	?PrecessStatusWaitStage2@CDungeonSiege@@QAEXXZ	; CDungeonSiege::PrecessStatusWaitStage2
PUBLIC	?ProcessStatusStartStage1@CDungeonSiege@@QAEXXZ	; CDungeonSiege::ProcessStatusStartStage1
PUBLIC	?PrecessStatusWait@CDungeonSiege@@QAEXXZ	; CDungeonSiege::PrecessStatusWait
PUBLIC	?ProcessStatusClose@CDungeonSiege@@QAEXXZ	; CDungeonSiege::ProcessStatusClose
PUBLIC	?Run@CDungeonSiege@@QAEXXZ			; CDungeonSiege::Run
EXTRN	__imp__GetLocalTime@4:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv69 = -72						; size = 4
_this$ = -4						; size = 4
?Run@CDungeonSiege@@QAEXXZ PROC				; CDungeonSiege::Run
; _this$ = ecx

; 179  : {

  009c0	55		 push	 ebp
  009c1	8b ec		 mov	 ebp, esp
  009c3	83 ec 48	 sub	 esp, 72			; 00000048H
  009c6	53		 push	 ebx
  009c7	56		 push	 esi
  009c8	57		 push	 edi
  009c9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 180  : 	if(!this->bEnable)

  009cc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  009cf	0f b6 48 48	 movzx	 ecx, BYTE PTR [eax+72]
  009d3	85 c9		 test	 ecx, ecx
  009d5	75 02		 jne	 SHORT $LN8@Run

; 181  : 	{
; 182  : 		return;

  009d7	eb 5d		 jmp	 SHORT $LN9@Run
$LN8@Run:

; 183  : 	}
; 184  : 
; 185  : 	GetLocalTime(&this->systime);

  009d9	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  009dc	83 c0 04	 add	 eax, 4
  009df	50		 push	 eax
  009e0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetLocalTime@4

; 186  : 
; 187  : 	switch(this->iEventStatus)

  009e6	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  009e9	8b 08		 mov	 ecx, DWORD PTR [eax]
  009eb	89 4d b8	 mov	 DWORD PTR tv69[ebp], ecx
  009ee	83 7d b8 04	 cmp	 DWORD PTR tv69[ebp], 4
  009f2	77 3a		 ja	 SHORT $LN6@Run
  009f4	8b 55 b8	 mov	 edx, DWORD PTR tv69[ebp]
  009f7	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN11@Run[edx*4]
$LN5@Run:

; 188  : 	{
; 189  : 		case eEVENTDUNGEON_CLOSE:			this->ProcessStatusClose();			break;

  009fe	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00a01	e8 00 00 00 00	 call	 ?ProcessStatusClose@CDungeonSiege@@QAEXXZ ; CDungeonSiege::ProcessStatusClose
  00a06	eb 26		 jmp	 SHORT $LN6@Run
$LN4@Run:

; 190  : 		case eEVENTDUNGEON_WAIT:			this->PrecessStatusWait();			break;

  00a08	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00a0b	e8 00 00 00 00	 call	 ?PrecessStatusWait@CDungeonSiege@@QAEXXZ ; CDungeonSiege::PrecessStatusWait
  00a10	eb 1c		 jmp	 SHORT $LN6@Run
$LN3@Run:

; 191  : 		case eEVENTDUNGEON_START_STAGE1:	this->ProcessStatusStartStage1();	break;

  00a12	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00a15	e8 00 00 00 00	 call	 ?ProcessStatusStartStage1@CDungeonSiege@@QAEXXZ ; CDungeonSiege::ProcessStatusStartStage1
  00a1a	eb 12		 jmp	 SHORT $LN6@Run
$LN2@Run:

; 192  : 		case eEVENTDUNGEON_WAIT_STAGE2:		this->PrecessStatusWaitStage2();	break;

  00a1c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00a1f	e8 00 00 00 00	 call	 ?PrecessStatusWaitStage2@CDungeonSiege@@QAEXXZ ; CDungeonSiege::PrecessStatusWaitStage2
  00a24	eb 08		 jmp	 SHORT $LN6@Run
$LN1@Run:

; 193  : 		case eEVENTDUNGEON_START_STAGE2:	this->ProcessStatusStartStage2();	break;

  00a26	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00a29	e8 00 00 00 00	 call	 ?ProcessStatusStartStage2@CDungeonSiege@@QAEXXZ ; CDungeonSiege::ProcessStatusStartStage2
$LN6@Run:

; 194  : 	}
; 195  : 
; 196  : 	this->ReturnPlayerRing();

  00a2e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00a31	e8 00 00 00 00	 call	 ?ReturnPlayerRing@CDungeonSiege@@QAEXXZ ; CDungeonSiege::ReturnPlayerRing
$LN9@Run:

; 197  : }

  00a36	5f		 pop	 edi
  00a37	5e		 pop	 esi
  00a38	5b		 pop	 ebx
  00a39	8b e5		 mov	 esp, ebp
  00a3b	5d		 pop	 ebp
  00a3c	c3		 ret	 0
  00a3d	8d 49 00	 npad	 3
$LN11@Run:
  00a40	00 00 00 00	 DD	 $LN5@Run
  00a44	00 00 00 00	 DD	 $LN4@Run
  00a48	00 00 00 00	 DD	 $LN3@Run
  00a4c	00 00 00 00	 DD	 $LN2@Run
  00a50	00 00 00 00	 DD	 $LN1@Run
?Run@CDungeonSiege@@QAEXXZ ENDP				; CDungeonSiege::Run
_TEXT	ENDS
PUBLIC	?set@PBMSG_HEAD2@@QAEXPAEEEE@Z			; PBMSG_HEAD2::set
PUBLIC	__$ArrayPad$
EXTRN	?DataSend@@YAHHPAEK@Z:PROC			; DataSend
EXTRN	_strcmp:PROC
EXTRN	_memcpy:PROC
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_i$230461 = -164					; size = 4
_lpGuildUser$ = -160					; size = 4
_pMsg$ = -156						; size = 120
_szGName$ = -36						; size = 9
_szOwName$ = -24					; size = 9
_lpUser$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?GCNpcNnfo@CDungeonSiege@@QAEXH@Z PROC			; CDungeonSiege::GCNpcNnfo
; _this$ = ecx

; 200  : {

  00a60	55		 push	 ebp
  00a61	8b ec		 mov	 ebp, esp
  00a63	81 ec e4 00 00
	00		 sub	 esp, 228		; 000000e4H
  00a69	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00a6e	33 c5		 xor	 eax, ebp
  00a70	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00a73	53		 push	 ebx
  00a74	56		 push	 esi
  00a75	57		 push	 edi
  00a76	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 201  : 	LPOBJ lpUser = &gObj[aIndex];

  00a79	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00a7c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00a82	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a88	89 45 f4	 mov	 DWORD PTR _lpUser$[ebp], eax

; 202  : 
; 203  : 	char szOwName[9];
; 204  : 	char szGName[9];
; 205  : 	PMSG_GC_DUNGEON_SIEGE_NPC pMsg;
; 206  : 	pMsg.h.set((LPBYTE)&pMsg, 0xFB, 0x44, sizeof(pMsg));

  00a8b	6a 78		 push	 120			; 00000078H
  00a8d	6a 44		 push	 68			; 00000044H
  00a8f	68 fb 00 00 00	 push	 251			; 000000fbH
  00a94	8d 85 64 ff ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  00a9a	50		 push	 eax
  00a9b	8d 8d 64 ff ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  00aa1	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 207  : 	pMsg.bResultReg = true;

  00aa6	c6 85 68 ff ff
	ff 01		 mov	 BYTE PTR _pMsg$[ebp+4], 1

; 208  : 	pMsg.iMsgCode = 0;

  00aad	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _pMsg$[ebp+8], 0

; 209  : 	pMsg.Captured = this->bCaptured;

  00ab7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00aba	8a 48 14	 mov	 cl, BYTE PTR [eax+20]
  00abd	88 8d 70 ff ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+12], cl

; 210  : 
; 211  : 	szOwName[8] = 0;

  00ac3	c6 45 f0 00	 mov	 BYTE PTR _szOwName$[ebp+8], 0

; 212  : 	memcpy(szOwName, this->szLordGuild, 8);

  00ac7	6a 08		 push	 8
  00ac9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00acc	83 c0 15	 add	 eax, 21			; 00000015H
  00acf	50		 push	 eax
  00ad0	8d 4d e8	 lea	 ecx, DWORD PTR _szOwName$[ebp]
  00ad3	51		 push	 ecx
  00ad4	e8 00 00 00 00	 call	 _memcpy
  00ad9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 213  : 	memcpy(pMsg.szGuildOwner, szOwName, 8);

  00adc	6a 08		 push	 8
  00ade	8d 45 e8	 lea	 eax, DWORD PTR _szOwName$[ebp]
  00ae1	50		 push	 eax
  00ae2	8d 8d 78 ff ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp+20]
  00ae8	51		 push	 ecx
  00ae9	e8 00 00 00 00	 call	 _memcpy
  00aee	83 c4 0c	 add	 esp, 12			; 0000000cH

; 214  : 
; 215  : 	_GUILD_INFO_STRUCT * lpGuildUser = lpUser->lpGuild;

  00af1	8b 45 f4	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00af4	8b 88 38 04 00
	00		 mov	 ecx, DWORD PTR [eax+1080]
  00afa	89 8d 60 ff ff
	ff		 mov	 DWORD PTR _lpGuildUser$[ebp], ecx

; 216  : 
; 217  : 	if(!lpGuildUser)

  00b00	83 bd 60 ff ff
	ff 00		 cmp	 DWORD PTR _lpGuildUser$[ebp], 0
  00b07	75 0c		 jne	 SHORT $LN15@GCNpcNnfo

; 218  : 	{
; 219  : 		pMsg.iMsgCode = 1;

  00b09	c7 85 6c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _pMsg$[ebp+8], 1
  00b13	eb 78		 jmp	 SHORT $LN14@GCNpcNnfo
$LN15@GCNpcNnfo:

; 220  : 	}
; 221  : 	else if(lpUser->GuildStatus != GUILD_MASTER)

  00b15	8b 45 f4	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00b18	81 b8 48 04 00
	00 80 00 00 00	 cmp	 DWORD PTR [eax+1096], 128 ; 00000080H
  00b22	74 0c		 je	 SHORT $LN13@GCNpcNnfo

; 222  : 	{
; 223  : 		pMsg.iMsgCode = 2;

  00b24	c7 85 6c ff ff
	ff 02 00 00 00	 mov	 DWORD PTR _pMsg$[ebp+8], 2
  00b2e	eb 5d		 jmp	 SHORT $LN14@GCNpcNnfo
$LN13@GCNpcNnfo:

; 224  : 	}
; 225  : 	else if(!strcmp(lpGuildUser->Name, this->szLordGuild))

  00b30	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00b33	83 c0 15	 add	 eax, 21			; 00000015H
  00b36	50		 push	 eax
  00b37	8b 8d 60 ff ff
	ff		 mov	 ecx, DWORD PTR _lpGuildUser$[ebp]
  00b3d	83 c1 04	 add	 ecx, 4
  00b40	51		 push	 ecx
  00b41	e8 00 00 00 00	 call	 _strcmp
  00b46	83 c4 08	 add	 esp, 8
  00b49	85 c0		 test	 eax, eax
  00b4b	75 0c		 jne	 SHORT $LN11@GCNpcNnfo

; 226  : 	{
; 227  : 		pMsg.iMsgCode = 3;

  00b4d	c7 85 6c ff ff
	ff 03 00 00 00	 mov	 DWORD PTR _pMsg$[ebp+8], 3
  00b57	eb 34		 jmp	 SHORT $LN14@GCNpcNnfo
$LN11@GCNpcNnfo:

; 228  : 	}
; 229  : 	else if(this->iRegCount >= 10)

  00b59	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00b5c	83 78 20 0a	 cmp	 DWORD PTR [eax+32], 10	; 0000000aH
  00b60	7c 0c		 jl	 SHORT $LN9@GCNpcNnfo

; 230  : 	{
; 231  : 		pMsg.iMsgCode = 4;

  00b62	c7 85 6c ff ff
	ff 04 00 00 00	 mov	 DWORD PTR _pMsg$[ebp+8], 4
  00b6c	eb 1f		 jmp	 SHORT $LN14@GCNpcNnfo
$LN9@GCNpcNnfo:

; 232  : 	}	
; 233  : 	else if(lpGuildUser->Count < this->m_MinPlayerGuildReg)

  00b6e	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR _lpGuildUser$[ebp]
  00b74	0f b6 48 2d	 movzx	 ecx, BYTE PTR [eax+45]
  00b78	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00b7b	3b 8a dc 00 00
	00		 cmp	 ecx, DWORD PTR [edx+220]
  00b81	7d 0a		 jge	 SHORT $LN14@GCNpcNnfo

; 234  : 	{
; 235  : 		pMsg.iMsgCode = 5;

  00b83	c7 85 6c ff ff
	ff 05 00 00 00	 mov	 DWORD PTR _pMsg$[ebp+8], 5
$LN14@GCNpcNnfo:

; 236  : 	}
; 237  : 
; 238  : 	pMsg.iCountGuild = this->iRegCount;

  00b8d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00b90	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  00b93	89 8d 74 ff ff
	ff		 mov	 DWORD PTR _pMsg$[ebp+16], ecx

; 239  : 
; 240  : 	for(int i = 0; i < this->iRegCount; i++)

  00b99	c7 85 5c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$230461[ebp], 0
  00ba3	eb 0f		 jmp	 SHORT $LN6@GCNpcNnfo
$LN5@GCNpcNnfo:
  00ba5	8b 85 5c ff ff
	ff		 mov	 eax, DWORD PTR _i$230461[ebp]
  00bab	83 c0 01	 add	 eax, 1
  00bae	89 85 5c ff ff
	ff		 mov	 DWORD PTR _i$230461[ebp], eax
$LN6@GCNpcNnfo:
  00bb4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00bb7	8b 8d 5c ff ff
	ff		 mov	 ecx, DWORD PTR _i$230461[ebp]
  00bbd	3b 48 20	 cmp	 ecx, DWORD PTR [eax+32]
  00bc0	0f 8d 82 00 00
	00		 jge	 $LN4@GCNpcNnfo

; 241  : 	{
; 242  : 		szGName[8] = 0;

  00bc6	c6 45 e4 00	 mov	 BYTE PTR _szGName$[ebp+8], 0

; 243  : 		memcpy(szGName, this->reg_list[i].szGuildName, 8);

  00bca	6a 08		 push	 8
  00bcc	8b 85 5c ff ff
	ff		 mov	 eax, DWORD PTR _i$230461[ebp]
  00bd2	6b c0 09	 imul	 eax, 9
  00bd5	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00bd8	8d 94 01 16 01
	00 00		 lea	 edx, DWORD PTR [ecx+eax+278]
  00bdf	52		 push	 edx
  00be0	8d 45 dc	 lea	 eax, DWORD PTR _szGName$[ebp]
  00be3	50		 push	 eax
  00be4	e8 00 00 00 00	 call	 _memcpy
  00be9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 244  : 
; 245  : 		if(lpGuildUser)

  00bec	83 bd 60 ff ff
	ff 00		 cmp	 DWORD PTR _lpGuildUser$[ebp], 0
  00bf3	74 24		 je	 SHORT $LN3@GCNpcNnfo

; 246  : 		{
; 247  : 			if(!strcmp(szGName, lpGuildUser->Name))

  00bf5	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR _lpGuildUser$[ebp]
  00bfb	83 c0 04	 add	 eax, 4
  00bfe	50		 push	 eax
  00bff	8d 4d dc	 lea	 ecx, DWORD PTR _szGName$[ebp]
  00c02	51		 push	 ecx
  00c03	e8 00 00 00 00	 call	 _strcmp
  00c08	83 c4 08	 add	 esp, 8
  00c0b	85 c0		 test	 eax, eax
  00c0d	75 0a		 jne	 SHORT $LN3@GCNpcNnfo

; 248  : 			{
; 249  : 				pMsg.iMsgCode = 6;

  00c0f	c7 85 6c ff ff
	ff 06 00 00 00	 mov	 DWORD PTR _pMsg$[ebp+8], 6
$LN3@GCNpcNnfo:

; 250  : 			}
; 251  : 		}
; 252  : 
; 253  : 		pMsg.szGuildName[i][8] = 0;

  00c19	8b 85 5c ff ff
	ff		 mov	 eax, DWORD PTR _i$230461[ebp]
  00c1f	6b c0 09	 imul	 eax, 9
  00c22	c6 44 05 89 00	 mov	 BYTE PTR _pMsg$[ebp+eax+37], 0

; 254  : 		memcpy(pMsg.szGuildName[i], szGName, 8);

  00c27	6a 08		 push	 8
  00c29	8d 45 dc	 lea	 eax, DWORD PTR _szGName$[ebp]
  00c2c	50		 push	 eax
  00c2d	8b 8d 5c ff ff
	ff		 mov	 ecx, DWORD PTR _i$230461[ebp]
  00c33	6b c9 09	 imul	 ecx, 9
  00c36	8d 54 0d 81	 lea	 edx, DWORD PTR _pMsg$[ebp+ecx+29]
  00c3a	52		 push	 edx
  00c3b	e8 00 00 00 00	 call	 _memcpy
  00c40	83 c4 0c	 add	 esp, 12			; 0000000cH

; 255  : 	}

  00c43	e9 5d ff ff ff	 jmp	 $LN5@GCNpcNnfo
$LN4@GCNpcNnfo:

; 256  : 
; 257  : 	if(pMsg.iMsgCode != 0)

  00c48	83 bd 6c ff ff
	ff 00		 cmp	 DWORD PTR _pMsg$[ebp+8], 0
  00c4f	74 07		 je	 SHORT $LN1@GCNpcNnfo

; 258  : 	{
; 259  : 		pMsg.bResultReg = false;

  00c51	c6 85 68 ff ff
	ff 00		 mov	 BYTE PTR _pMsg$[ebp+4], 0
$LN1@GCNpcNnfo:

; 260  : 	}
; 261  : 	
; 262  : 	DataSend(aIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  00c58	6a 78		 push	 120			; 00000078H
  00c5a	8d 85 64 ff ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  00c60	50		 push	 eax
  00c61	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  00c64	51		 push	 ecx
  00c65	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  00c6a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 263  : }

  00c6d	5f		 pop	 edi
  00c6e	5e		 pop	 esi
  00c6f	5b		 pop	 ebx
  00c70	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00c73	33 cd		 xor	 ecx, ebp
  00c75	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00c7a	8b e5		 mov	 esp, ebp
  00c7c	5d		 pop	 ebp
  00c7d	c2 04 00	 ret	 4
?GCNpcNnfo@CDungeonSiege@@QAEXH@Z ENDP			; CDungeonSiege::GCNpcNnfo
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\include\prodef.h
_TEXT	ENDS
;	COMDAT ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_lpBuf$ = 8						; size = 4
_head$ = 12						; size = 1
_sub$ = 16						; size = 1
_size$ = 20						; size = 1
?set@PBMSG_HEAD2@@QAEXPAEEEE@Z PROC			; PBMSG_HEAD2::set, COMDAT
; _this$ = ecx

; 104  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 105  : 		lpBuf[0] = 0xC1;

  0000c	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  0000f	c6 00 c1	 mov	 BYTE PTR [eax], 193	; 000000c1H

; 106  : 		lpBuf[1] = size;

  00012	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  00015	8a 4d 14	 mov	 cl, BYTE PTR _size$[ebp]
  00018	88 48 01	 mov	 BYTE PTR [eax+1], cl

; 107  : 		lpBuf[2] = head;

  0001b	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  0001e	8a 4d 0c	 mov	 cl, BYTE PTR _head$[ebp]
  00021	88 48 02	 mov	 BYTE PTR [eax+2], cl

; 108  : 		lpBuf[3] = sub;

  00024	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]
  00027	8a 4d 10	 mov	 cl, BYTE PTR _sub$[ebp]
  0002a	88 48 03	 mov	 BYTE PTR [eax+3], cl

; 109  : 	};

  0002d	5f		 pop	 edi
  0002e	5e		 pop	 esi
  0002f	5b		 pop	 ebx
  00030	8b e5		 mov	 esp, ebp
  00032	5d		 pop	 ebp
  00033	c2 10 00	 ret	 16			; 00000010H
?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ENDP			; PBMSG_HEAD2::set
_TEXT	ENDS
PUBLIC	?GDReqRegSiegeList@CDungeonSiege@@QAEXXZ	; CDungeonSiege::GDReqRegSiegeList
EXTRN	?Send@DBSockMng@@QAEHPADH@Z:PROC		; DBSockMng::Send
EXTRN	?cDBSMng@@3VDBSockMng@@A:BYTE			; cDBSMng
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\dungeonsiege.cpp
_TEXT	SEGMENT
_pMsg$ = -12						; size = 8
_this$ = -4						; size = 4
?GDReqRegSiegeList@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::GDReqRegSiegeList
; _this$ = ecx

; 266  : {

  00c80	55		 push	 ebp
  00c81	8b ec		 mov	 ebp, esp
  00c83	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00c86	53		 push	 ebx
  00c87	56		 push	 esi
  00c88	57		 push	 edi
  00c89	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 267  : 	if(!this->bEnable)

  00c8c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00c8f	0f b6 48 48	 movzx	 ecx, BYTE PTR [eax+72]
  00c93	85 c9		 test	 ecx, ecx
  00c95	75 02		 jne	 SHORT $LN1@GDReqRegSi

; 268  : 	{
; 269  : 		return;

  00c97	eb 2f		 jmp	 SHORT $LN2@GDReqRegSi
$LN1@GDReqRegSi:

; 270  : 	}
; 271  : 
; 272  : 	PMSG_PROTOCOL_RESULT pMsg;
; 273  : 	pMsg.h.set((LPBYTE)&pMsg, 0xEB, 0x03, sizeof(pMsg));

  00c99	6a 08		 push	 8
  00c9b	6a 03		 push	 3
  00c9d	68 eb 00 00 00	 push	 235			; 000000ebH
  00ca2	8d 45 f4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00ca5	50		 push	 eax
  00ca6	8d 4d f4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  00ca9	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 274  : 	pMsg.Result = true;

  00cae	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _pMsg$[ebp+4], 1

; 275  : 	cDBSMng.Send((char*)&pMsg, pMsg.h.size);

  00cb5	0f b6 45 f5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  00cb9	50		 push	 eax
  00cba	8d 4d f4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  00cbd	51		 push	 ecx
  00cbe	b9 00 00 00 00	 mov	 ecx, OFFSET ?cDBSMng@@3VDBSockMng@@A ; cDBSMng
  00cc3	e8 00 00 00 00	 call	 ?Send@DBSockMng@@QAEHPADH@Z ; DBSockMng::Send
$LN2@GDReqRegSi:

; 276  : }

  00cc8	5f		 pop	 edi
  00cc9	5e		 pop	 esi
  00cca	5b		 pop	 ebx
  00ccb	8b e5		 mov	 esp, ebp
  00ccd	5d		 pop	 ebp
  00cce	c3		 ret	 0
?GDReqRegSiegeList@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::GDReqRegSiegeList
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?DGRegSiegeList@CDungeonSiege@@QAEXPAUPMSG_DG_DUNGEON_SIEGE_REG_LIST@@@Z ; CDungeonSiege::DGRegSiegeList
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_lpTempObj$230489 = -32					; size = 4
_aIndex$230485 = -28					; size = 4
_szGName$230484 = -24					; size = 9
_i$230480 = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGRegSiegeList@CDungeonSiege@@QAEXPAUPMSG_DG_DUNGEON_SIEGE_REG_LIST@@@Z PROC ; CDungeonSiege::DGRegSiegeList
; _this$ = ecx

; 279  : {

  00cd0	55		 push	 ebp
  00cd1	8b ec		 mov	 ebp, esp
  00cd3	83 ec 60	 sub	 esp, 96			; 00000060H
  00cd6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00cdb	33 c5		 xor	 eax, ebp
  00cdd	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00ce0	53		 push	 ebx
  00ce1	56		 push	 esi
  00ce2	57		 push	 edi
  00ce3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 280  : 	memset(this->reg_list, 0, sizeof(this->reg_list));

  00ce6	6a 5a		 push	 90			; 0000005aH
  00ce8	6a 00		 push	 0
  00cea	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00ced	05 16 01 00 00	 add	 eax, 278		; 00000116H
  00cf2	50		 push	 eax
  00cf3	e8 00 00 00 00	 call	 _memset
  00cf8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 281  : 
; 282  : 	this->iRegCount = lpMsg->iCount;

  00cfb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00cfe	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  00d01	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00d04	89 50 20	 mov	 DWORD PTR [eax+32], edx

; 283  : 
; 284  : 	for(int i = 0; i < this->iRegCount; i++)

  00d07	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _i$230480[ebp], 0
  00d0e	eb 09		 jmp	 SHORT $LN9@DGRegSiege
$LN8@DGRegSiege:
  00d10	8b 45 f4	 mov	 eax, DWORD PTR _i$230480[ebp]
  00d13	83 c0 01	 add	 eax, 1
  00d16	89 45 f4	 mov	 DWORD PTR _i$230480[ebp], eax
$LN9@DGRegSiege:
  00d19	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00d1c	8b 4d f4	 mov	 ecx, DWORD PTR _i$230480[ebp]
  00d1f	3b 48 20	 cmp	 ecx, DWORD PTR [eax+32]
  00d22	7d 41		 jge	 SHORT $LN7@DGRegSiege

; 285  : 	{
; 286  : 		char szGName[9];
; 287  : 		szGName[8] = 0;

  00d24	c6 45 f0 00	 mov	 BYTE PTR _szGName$230484[ebp+8], 0

; 288  : 		memcpy(szGName, lpMsg->szGuildName[i], 8);

  00d28	6a 08		 push	 8
  00d2a	8b 45 f4	 mov	 eax, DWORD PTR _i$230480[ebp]
  00d2d	6b c0 09	 imul	 eax, 9
  00d30	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  00d33	8d 54 01 08	 lea	 edx, DWORD PTR [ecx+eax+8]
  00d37	52		 push	 edx
  00d38	8d 45 e8	 lea	 eax, DWORD PTR _szGName$230484[ebp]
  00d3b	50		 push	 eax
  00d3c	e8 00 00 00 00	 call	 _memcpy
  00d41	83 c4 0c	 add	 esp, 12			; 0000000cH

; 289  : 		memcpy(this->reg_list[i].szGuildName, szGName, 8);

  00d44	6a 08		 push	 8
  00d46	8d 45 e8	 lea	 eax, DWORD PTR _szGName$230484[ebp]
  00d49	50		 push	 eax
  00d4a	8b 4d f4	 mov	 ecx, DWORD PTR _i$230480[ebp]
  00d4d	6b c9 09	 imul	 ecx, 9
  00d50	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00d53	8d 84 0a 16 01
	00 00		 lea	 eax, DWORD PTR [edx+ecx+278]
  00d5a	50		 push	 eax
  00d5b	e8 00 00 00 00	 call	 _memcpy
  00d60	83 c4 0c	 add	 esp, 12			; 0000000cH

; 290  : 	}

  00d63	eb ab		 jmp	 SHORT $LN8@DGRegSiege
$LN7@DGRegSiege:

; 291  : 
; 292  : 	for(int aIndex = OBJ_STARTUSERINDEX; aIndex < OBJMAX; aIndex++)

  00d65	c7 45 e4 b0 36
	00 00		 mov	 DWORD PTR _aIndex$230485[ebp], 14000 ; 000036b0H
  00d6c	eb 09		 jmp	 SHORT $LN6@DGRegSiege
$LN5@DGRegSiege:
  00d6e	8b 45 e4	 mov	 eax, DWORD PTR _aIndex$230485[ebp]
  00d71	83 c0 01	 add	 eax, 1
  00d74	89 45 e4	 mov	 DWORD PTR _aIndex$230485[ebp], eax
$LN6@DGRegSiege:
  00d77	81 7d e4 98 3a
	00 00		 cmp	 DWORD PTR _aIndex$230485[ebp], 15000 ; 00003a98H
  00d7e	7d 45		 jge	 SHORT $LN10@DGRegSiege

; 293  : 	{
; 294  : 		LPOBJ lpTempObj = &gObj[aIndex];

  00d80	8b 45 e4	 mov	 eax, DWORD PTR _aIndex$230485[ebp]
  00d83	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00d89	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00d8f	89 45 e0	 mov	 DWORD PTR _lpTempObj$230489[ebp], eax

; 295  : 
; 296  : 		if(lpTempObj->Connected < PLAYER_PLAYING || 
; 297  : 		   lpTempObj->Type != OBJ_USER)

  00d92	8b 45 e0	 mov	 eax, DWORD PTR _lpTempObj$230489[ebp]
  00d95	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  00d99	7c 0c		 jl	 SHORT $LN2@DGRegSiege
  00d9b	8b 45 e0	 mov	 eax, DWORD PTR _lpTempObj$230489[ebp]
  00d9e	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  00da2	83 f9 01	 cmp	 ecx, 1
  00da5	74 02		 je	 SHORT $LN3@DGRegSiege
$LN2@DGRegSiege:

; 298  : 		{
; 299  : 			continue;

  00da7	eb c5		 jmp	 SHORT $LN5@DGRegSiege
$LN3@DGRegSiege:

; 300  : 		}	
; 301  : 
; 302  : 		if(lpTempObj->DSiege.bNpcClick)

  00da9	8b 45 e0	 mov	 eax, DWORD PTR _lpTempObj$230489[ebp]
  00dac	0f b6 88 fc 28
	00 00		 movzx	 ecx, BYTE PTR [eax+10492]
  00db3	85 c9		 test	 ecx, ecx
  00db5	74 0c		 je	 SHORT $LN1@DGRegSiege

; 303  : 		{
; 304  : 			this->GCNpcNnfo(aIndex);

  00db7	8b 45 e4	 mov	 eax, DWORD PTR _aIndex$230485[ebp]
  00dba	50		 push	 eax
  00dbb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00dbe	e8 00 00 00 00	 call	 ?GCNpcNnfo@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::GCNpcNnfo
$LN1@DGRegSiege:

; 305  : 		}
; 306  : 	}

  00dc3	eb a9		 jmp	 SHORT $LN5@DGRegSiege
$LN10@DGRegSiege:

; 307  : }

  00dc5	5f		 pop	 edi
  00dc6	5e		 pop	 esi
  00dc7	5b		 pop	 ebx
  00dc8	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00dcb	33 cd		 xor	 ecx, ebp
  00dcd	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00dd2	8b e5		 mov	 esp, ebp
  00dd4	5d		 pop	 ebp
  00dd5	c2 04 00	 ret	 4
?DGRegSiegeList@CDungeonSiege@@QAEXPAUPMSG_DG_DUNGEON_SIEGE_REG_LIST@@@Z ENDP ; CDungeonSiege::DGRegSiegeList
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?CGDRegSiege@CDungeonSiege@@QAEXH@Z		; CDungeonSiege::CGDRegSiege
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -44						; size = 24
_i$230506 = -20						; size = 4
_lpGuildUser$ = -16					; size = 4
_lpUser$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?CGDRegSiege@CDungeonSiege@@QAEXH@Z PROC		; CDungeonSiege::CGDRegSiege
; _this$ = ecx

; 310  : {

  00de0	55		 push	 ebp
  00de1	8b ec		 mov	 ebp, esp
  00de3	83 ec 6c	 sub	 esp, 108		; 0000006cH
  00de6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00deb	33 c5		 xor	 eax, ebp
  00ded	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00df0	53		 push	 ebx
  00df1	56		 push	 esi
  00df2	57		 push	 edi
  00df3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 311  : 	LPOBJ lpUser = &gObj[aIndex];

  00df6	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00df9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00dff	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00e05	89 45 f4	 mov	 DWORD PTR _lpUser$[ebp], eax

; 312  : 
; 313  : 	_GUILD_INFO_STRUCT * lpGuildUser = lpUser->lpGuild;

  00e08	8b 45 f4	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00e0b	8b 88 38 04 00
	00		 mov	 ecx, DWORD PTR [eax+1080]
  00e11	89 4d f0	 mov	 DWORD PTR _lpGuildUser$[ebp], ecx

; 314  : 
; 315  : 	if(!lpGuildUser)

  00e14	83 7d f0 00	 cmp	 DWORD PTR _lpGuildUser$[ebp], 0
  00e18	75 07		 jne	 SHORT $LN12@CGDRegSieg

; 316  : 	{
; 317  : 		return;

  00e1a	e9 dc 00 00 00	 jmp	 $LN13@CGDRegSieg
  00e1f	eb 48		 jmp	 SHORT $LN11@CGDRegSieg
$LN12@CGDRegSieg:

; 318  : 	}
; 319  : 	else if(!strcmp(lpGuildUser->Name, this->szLordGuild))

  00e21	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00e24	83 c0 15	 add	 eax, 21			; 00000015H
  00e27	50		 push	 eax
  00e28	8b 4d f0	 mov	 ecx, DWORD PTR _lpGuildUser$[ebp]
  00e2b	83 c1 04	 add	 ecx, 4
  00e2e	51		 push	 ecx
  00e2f	e8 00 00 00 00	 call	 _strcmp
  00e34	83 c4 08	 add	 esp, 8
  00e37	85 c0		 test	 eax, eax
  00e39	75 07		 jne	 SHORT $LN10@CGDRegSieg

; 320  : 	{
; 321  : 		return;

  00e3b	e9 bb 00 00 00	 jmp	 $LN13@CGDRegSieg
  00e40	eb 27		 jmp	 SHORT $LN11@CGDRegSieg
$LN10@CGDRegSieg:

; 322  : 	}
; 323  : 	else if(this->iRegCount >= 10)

  00e42	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00e45	83 78 20 0a	 cmp	 DWORD PTR [eax+32], 10	; 0000000aH
  00e49	7c 07		 jl	 SHORT $LN8@CGDRegSieg

; 324  : 	{
; 325  : 		return;

  00e4b	e9 ab 00 00 00	 jmp	 $LN13@CGDRegSieg
  00e50	eb 17		 jmp	 SHORT $LN11@CGDRegSieg
$LN8@CGDRegSieg:

; 326  : 	}	
; 327  : 	else if(lpGuildUser->Count < this->m_MinPlayerGuildReg)

  00e52	8b 45 f0	 mov	 eax, DWORD PTR _lpGuildUser$[ebp]
  00e55	0f b6 48 2d	 movzx	 ecx, BYTE PTR [eax+45]
  00e59	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00e5c	3b 8a dc 00 00
	00		 cmp	 ecx, DWORD PTR [edx+220]
  00e62	7d 05		 jge	 SHORT $LN11@CGDRegSieg

; 328  : 	{
; 329  : 		return;

  00e64	e9 92 00 00 00	 jmp	 $LN13@CGDRegSieg
$LN11@CGDRegSieg:

; 330  : 	}
; 331  : 
; 332  : 	for(int i = 0; i < this->iRegCount; i++)

  00e69	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _i$230506[ebp], 0
  00e70	eb 09		 jmp	 SHORT $LN5@CGDRegSieg
$LN4@CGDRegSieg:
  00e72	8b 45 ec	 mov	 eax, DWORD PTR _i$230506[ebp]
  00e75	83 c0 01	 add	 eax, 1
  00e78	89 45 ec	 mov	 DWORD PTR _i$230506[ebp], eax
$LN5@CGDRegSieg:
  00e7b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00e7e	8b 4d ec	 mov	 ecx, DWORD PTR _i$230506[ebp]
  00e81	3b 48 20	 cmp	 ecx, DWORD PTR [eax+32]
  00e84	7d 2e		 jge	 SHORT $LN3@CGDRegSieg

; 333  : 	{
; 334  : 		if(lpGuildUser)

  00e86	83 7d f0 00	 cmp	 DWORD PTR _lpGuildUser$[ebp], 0
  00e8a	74 26		 je	 SHORT $LN2@CGDRegSieg

; 335  : 		{
; 336  : 			if(!strcmp(this->reg_list[i].szGuildName, lpGuildUser->Name))

  00e8c	8b 45 f0	 mov	 eax, DWORD PTR _lpGuildUser$[ebp]
  00e8f	83 c0 04	 add	 eax, 4
  00e92	50		 push	 eax
  00e93	8b 4d ec	 mov	 ecx, DWORD PTR _i$230506[ebp]
  00e96	6b c9 09	 imul	 ecx, 9
  00e99	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00e9c	8d 84 0a 16 01
	00 00		 lea	 eax, DWORD PTR [edx+ecx+278]
  00ea3	50		 push	 eax
  00ea4	e8 00 00 00 00	 call	 _strcmp
  00ea9	83 c4 08	 add	 esp, 8
  00eac	85 c0		 test	 eax, eax
  00eae	75 02		 jne	 SHORT $LN2@CGDRegSieg

; 337  : 			{
; 338  : 				return;

  00eb0	eb 49		 jmp	 SHORT $LN13@CGDRegSieg
$LN2@CGDRegSieg:

; 339  : 			}
; 340  : 		}
; 341  : 	}

  00eb2	eb be		 jmp	 SHORT $LN4@CGDRegSieg
$LN3@CGDRegSieg:

; 342  : 
; 343  : 	PMSG_GD_DUNGEON_SIEGE_GUILD_REG pMsg;
; 344  : 	pMsg.h.set((LPBYTE)&pMsg, 0xEB, 0x04, sizeof(pMsg));

  00eb4	6a 18		 push	 24			; 00000018H
  00eb6	6a 04		 push	 4
  00eb8	68 eb 00 00 00	 push	 235			; 000000ebH
  00ebd	8d 45 d4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00ec0	50		 push	 eax
  00ec1	8d 4d d4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  00ec4	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 345  : 	pMsg.aIndex = aIndex;

  00ec9	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00ecc	89 45 dc	 mov	 DWORD PTR _pMsg$[ebp+8], eax

; 346  : 	pMsg.szGuildName[8] = 0;

  00ecf	c6 45 e8 00	 mov	 BYTE PTR _pMsg$[ebp+20], 0

; 347  : 	memcpy(pMsg.szGuildName, lpGuildUser->Name, sizeof(pMsg.szGuildName)-1);

  00ed3	6a 08		 push	 8
  00ed5	8b 45 f0	 mov	 eax, DWORD PTR _lpGuildUser$[ebp]
  00ed8	83 c0 04	 add	 eax, 4
  00edb	50		 push	 eax
  00edc	8d 4d e0	 lea	 ecx, DWORD PTR _pMsg$[ebp+12]
  00edf	51		 push	 ecx
  00ee0	e8 00 00 00 00	 call	 _memcpy
  00ee5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 348  : 	cDBSMng.Send((char*)&pMsg, pMsg.h.size);

  00ee8	0f b6 45 d5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  00eec	50		 push	 eax
  00eed	8d 4d d4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  00ef0	51		 push	 ecx
  00ef1	b9 00 00 00 00	 mov	 ecx, OFFSET ?cDBSMng@@3VDBSockMng@@A ; cDBSMng
  00ef6	e8 00 00 00 00	 call	 ?Send@DBSockMng@@QAEHPADH@Z ; DBSockMng::Send
$LN13@CGDRegSieg:

; 349  : }

  00efb	5f		 pop	 edi
  00efc	5e		 pop	 esi
  00efd	5b		 pop	 ebx
  00efe	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00f01	33 cd		 xor	 ecx, ebp
  00f03	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00f08	8b e5		 mov	 esp, ebp
  00f0a	5d		 pop	 ebp
  00f0b	c2 04 00	 ret	 4
?CGDRegSiege@CDungeonSiege@@QAEXH@Z ENDP		; CDungeonSiege::CGDRegSiege
_TEXT	ENDS
PUBLIC	?DGRegSiegeResult@CDungeonSiege@@QAEXPAUPMSG_GD_DUNGEON_SIEGE_GUILD_REG_RESULT@@@Z ; CDungeonSiege::DGRegSiegeResult
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv71 = -80						; size = 4
_lpUser$ = -12						; size = 4
_aIndex$ = -8						; size = 4
_this$ = -4						; size = 4
_lpMsg$ = 8						; size = 4
?DGRegSiegeResult@CDungeonSiege@@QAEXPAUPMSG_GD_DUNGEON_SIEGE_GUILD_REG_RESULT@@@Z PROC ; CDungeonSiege::DGRegSiegeResult
; _this$ = ecx

; 352  : {

  00f10	55		 push	 ebp
  00f11	8b ec		 mov	 ebp, esp
  00f13	83 ec 50	 sub	 esp, 80			; 00000050H
  00f16	53		 push	 ebx
  00f17	56		 push	 esi
  00f18	57		 push	 edi
  00f19	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 353  : 	if(!lpMsg->bResult)

  00f1c	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00f1f	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  00f23	85 c9		 test	 ecx, ecx
  00f25	75 02		 jne	 SHORT $LN3@DGRegSiege@2

; 354  : 	{
; 355  : 		return;

  00f27	eb 54		 jmp	 SHORT $LN4@DGRegSiege@2
$LN3@DGRegSiege@2:

; 356  : 	}
; 357  : 
; 358  : 	int aIndex = lpMsg->aIndex;

  00f29	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00f2c	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00f2f	89 4d f8	 mov	 DWORD PTR _aIndex$[ebp], ecx

; 359  : 
; 360  : 	if(!OBJMAX_RANGE(aIndex))

  00f32	83 7d f8 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  00f36	7d 09		 jge	 SHORT $LN6@DGRegSiege@2
  00f38	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv71[ebp], 0
  00f3f	eb 0f		 jmp	 SHORT $LN7@DGRegSiege@2
$LN6@DGRegSiege@2:
  00f41	33 c0		 xor	 eax, eax
  00f43	81 7d f8 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  00f4a	0f 9e c0	 setle	 al
  00f4d	89 45 b0	 mov	 DWORD PTR tv71[ebp], eax
$LN7@DGRegSiege@2:
  00f50	83 7d b0 00	 cmp	 DWORD PTR tv71[ebp], 0
  00f54	75 02		 jne	 SHORT $LN2@DGRegSiege@2

; 361  : 	{
; 362  : 		return;

  00f56	eb 25		 jmp	 SHORT $LN4@DGRegSiege@2
$LN2@DGRegSiege@2:

; 363  : 	}
; 364  : 
; 365  : 	LPOBJ lpUser = &gObj[aIndex];

  00f58	8b 45 f8	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00f5b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00f61	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00f67	89 45 f4	 mov	 DWORD PTR _lpUser$[ebp], eax

; 366  : 
; 367  : 	if(lpUser->Connected < PLAYER_PLAYING)

  00f6a	8b 45 f4	 mov	 eax, DWORD PTR _lpUser$[ebp]
  00f6d	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  00f71	7d 02		 jge	 SHORT $LN1@DGRegSiege@2

; 368  : 	{
; 369  : 		return;

  00f73	eb 08		 jmp	 SHORT $LN4@DGRegSiege@2
$LN1@DGRegSiege@2:

; 370  : 	}
; 371  : 
; 372  : 	this->GDReqRegSiegeList();

  00f75	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00f78	e8 00 00 00 00	 call	 ?GDReqRegSiegeList@CDungeonSiege@@QAEXXZ ; CDungeonSiege::GDReqRegSiegeList
$LN4@DGRegSiege@2:

; 373  : }

  00f7d	5f		 pop	 edi
  00f7e	5e		 pop	 esi
  00f7f	5b		 pop	 ebx
  00f80	8b e5		 mov	 esp, ebp
  00f82	5d		 pop	 ebp
  00f83	c2 04 00	 ret	 4
?DGRegSiegeResult@CDungeonSiege@@QAEXPAUPMSG_GD_DUNGEON_SIEGE_GUILD_REG_RESULT@@@Z ENDP ; CDungeonSiege::DGRegSiegeResult
_TEXT	ENDS
PUBLIC	?GDSiegeClearList@CDungeonSiege@@QAEXXZ		; CDungeonSiege::GDSiegeClearList
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -12						; size = 8
_this$ = -4						; size = 4
?GDSiegeClearList@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::GDSiegeClearList
; _this$ = ecx

; 376  : {

  00f90	55		 push	 ebp
  00f91	8b ec		 mov	 ebp, esp
  00f93	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00f96	53		 push	 ebx
  00f97	56		 push	 esi
  00f98	57		 push	 edi
  00f99	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 377  : 	PMSG_PROTOCOL_RESULT pMsg;
; 378  : 	pMsg.h.set((LPBYTE)&pMsg, 0xEB, 0x05, sizeof(pMsg));

  00f9c	6a 08		 push	 8
  00f9e	6a 05		 push	 5
  00fa0	68 eb 00 00 00	 push	 235			; 000000ebH
  00fa5	8d 45 f4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00fa8	50		 push	 eax
  00fa9	8d 4d f4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  00fac	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 379  : 	pMsg.Result = true;

  00fb1	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _pMsg$[ebp+4], 1

; 380  : 	cDBSMng.Send((char*)&pMsg, pMsg.h.size);

  00fb8	0f b6 45 f5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  00fbc	50		 push	 eax
  00fbd	8d 4d f4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  00fc0	51		 push	 ecx
  00fc1	b9 00 00 00 00	 mov	 ecx, OFFSET ?cDBSMng@@3VDBSockMng@@A ; cDBSMng
  00fc6	e8 00 00 00 00	 call	 ?Send@DBSockMng@@QAEHPADH@Z ; DBSockMng::Send

; 381  : 
; 382  : 	this->iRegCount = 0;

  00fcb	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00fce	c7 40 20 00 00
	00 00		 mov	 DWORD PTR [eax+32], 0

; 383  : 	memset(this->reg_list, 0, sizeof(this->reg_list));

  00fd5	6a 5a		 push	 90			; 0000005aH
  00fd7	6a 00		 push	 0
  00fd9	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00fdc	05 16 01 00 00	 add	 eax, 278		; 00000116H
  00fe1	50		 push	 eax
  00fe2	e8 00 00 00 00	 call	 _memset
  00fe7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 384  : }

  00fea	5f		 pop	 edi
  00feb	5e		 pop	 esi
  00fec	5b		 pop	 ebx
  00fed	8b e5		 mov	 esp, ebp
  00fef	5d		 pop	 ebp
  00ff0	c3		 ret	 0
?GDSiegeClearList@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::GDSiegeClearList
_TEXT	ENDS
PUBLIC	?GDSiegeOwner@CDungeonSiege@@QAEXXZ		; CDungeonSiege::GDSiegeOwner
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -12						; size = 8
_this$ = -4						; size = 4
?GDSiegeOwner@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::GDSiegeOwner
; _this$ = ecx

; 387  : {

  01000	55		 push	 ebp
  01001	8b ec		 mov	 ebp, esp
  01003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  01006	53		 push	 ebx
  01007	56		 push	 esi
  01008	57		 push	 edi
  01009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 388  : 	if(!this->bEnable)

  0100c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0100f	0f b6 48 48	 movzx	 ecx, BYTE PTR [eax+72]
  01013	85 c9		 test	 ecx, ecx
  01015	75 02		 jne	 SHORT $LN1@GDSiegeOwn

; 389  : 	{
; 390  : 		return;

  01017	eb 2f		 jmp	 SHORT $LN2@GDSiegeOwn
$LN1@GDSiegeOwn:

; 391  : 	}
; 392  : 
; 393  : 	PMSG_PROTOCOL_RESULT pMsg;
; 394  : 	pMsg.h.set((LPBYTE)&pMsg, 0xEB, 0x06, sizeof(pMsg));

  01019	6a 08		 push	 8
  0101b	6a 06		 push	 6
  0101d	68 eb 00 00 00	 push	 235			; 000000ebH
  01022	8d 45 f4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  01025	50		 push	 eax
  01026	8d 4d f4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  01029	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 395  : 	pMsg.Result = true;

  0102e	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _pMsg$[ebp+4], 1

; 396  : 	cDBSMng.Send((char*)&pMsg, pMsg.h.size);

  01035	0f b6 45 f5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  01039	50		 push	 eax
  0103a	8d 4d f4	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0103d	51		 push	 ecx
  0103e	b9 00 00 00 00	 mov	 ecx, OFFSET ?cDBSMng@@3VDBSockMng@@A ; cDBSMng
  01043	e8 00 00 00 00	 call	 ?Send@DBSockMng@@QAEHPADH@Z ; DBSockMng::Send
$LN2@GDSiegeOwn:

; 397  : }

  01048	5f		 pop	 edi
  01049	5e		 pop	 esi
  0104a	5b		 pop	 ebx
  0104b	8b e5		 mov	 esp, ebp
  0104d	5d		 pop	 ebp
  0104e	c3		 ret	 0
?GDSiegeOwner@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::GDSiegeOwner
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?DGSiegeOwner@CDungeonSiege@@QAEXPAUPMSG_DG_DUNGEON_SIEGE_SELECT_OENER@@@Z ; CDungeonSiege::DGSiegeOwner
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_szGName$ = -20						; size = 9
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGSiegeOwner@CDungeonSiege@@QAEXPAUPMSG_DG_DUNGEON_SIEGE_SELECT_OENER@@@Z PROC ; CDungeonSiege::DGSiegeOwner
; _this$ = ecx

; 400  : {

  01050	55		 push	 ebp
  01051	8b ec		 mov	 ebp, esp
  01053	83 ec 54	 sub	 esp, 84			; 00000054H
  01056	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0105b	33 c5		 xor	 eax, ebp
  0105d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01060	53		 push	 ebx
  01061	56		 push	 esi
  01062	57		 push	 edi
  01063	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 401  : 	if(!lpMsg->bResult)

  01066	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  01069	0f b6 48 04	 movzx	 ecx, BYTE PTR [eax+4]
  0106d	85 c9		 test	 ecx, ecx
  0106f	75 1c		 jne	 SHORT $LN1@DGSiegeOwn

; 402  : 	{
; 403  : 		this->bCaptured = false;

  01071	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01074	c6 40 14 00	 mov	 BYTE PTR [eax+20], 0

; 404  : 		memset(this->szLordGuild, 0, sizeof(this->szLordGuild));

  01078	6a 09		 push	 9
  0107a	6a 00		 push	 0
  0107c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0107f	83 c0 15	 add	 eax, 21			; 00000015H
  01082	50		 push	 eax
  01083	e8 00 00 00 00	 call	 _memset
  01088	83 c4 0c	 add	 esp, 12			; 0000000cH

; 405  : 		return;

  0108b	eb 35		 jmp	 SHORT $LN2@DGSiegeOwn
$LN1@DGSiegeOwn:

; 406  : 	}
; 407  : 
; 408  : 	char szGName[9];
; 409  : 	szGName[8] = 0;

  0108d	c6 45 f4 00	 mov	 BYTE PTR _szGName$[ebp+8], 0

; 410  : 	memcpy(szGName, lpMsg->szGuildOwner, sizeof(szGName)-1);

  01091	6a 08		 push	 8
  01093	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  01096	83 c0 05	 add	 eax, 5
  01099	50		 push	 eax
  0109a	8d 4d ec	 lea	 ecx, DWORD PTR _szGName$[ebp]
  0109d	51		 push	 ecx
  0109e	e8 00 00 00 00	 call	 _memcpy
  010a3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 411  : 
; 412  : 	this->bCaptured = true;

  010a6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  010a9	c6 40 14 01	 mov	 BYTE PTR [eax+20], 1

; 413  : 	memcpy(this->szLordGuild, szGName, sizeof(this->szLordGuild)-1);

  010ad	6a 08		 push	 8
  010af	8d 45 ec	 lea	 eax, DWORD PTR _szGName$[ebp]
  010b2	50		 push	 eax
  010b3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  010b6	83 c1 15	 add	 ecx, 21			; 00000015H
  010b9	51		 push	 ecx
  010ba	e8 00 00 00 00	 call	 _memcpy
  010bf	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@DGSiegeOwn:

; 414  : }

  010c2	5f		 pop	 edi
  010c3	5e		 pop	 esi
  010c4	5b		 pop	 ebx
  010c5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  010c8	33 cd		 xor	 ecx, ebp
  010ca	e8 00 00 00 00	 call	 @__security_check_cookie@4
  010cf	8b e5		 mov	 esp, ebp
  010d1	5d		 pop	 ebp
  010d2	c2 04 00	 ret	 4
?DGSiegeOwner@CDungeonSiege@@QAEXPAUPMSG_DG_DUNGEON_SIEGE_SELECT_OENER@@@Z ENDP ; CDungeonSiege::DGSiegeOwner
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GDSiegeOwnerUpdate@CDungeonSiege@@QAEXXZ	; CDungeonSiege::GDSiegeOwnerUpdate
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_pMsg$ = -24						; size = 13
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
?GDSiegeOwnerUpdate@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::GDSiegeOwnerUpdate
; _this$ = ecx

; 417  : {

  010e0	55		 push	 ebp
  010e1	8b ec		 mov	 ebp, esp
  010e3	83 ec 58	 sub	 esp, 88			; 00000058H
  010e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  010eb	33 c5		 xor	 eax, ebp
  010ed	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  010f0	53		 push	 ebx
  010f1	56		 push	 esi
  010f2	57		 push	 edi
  010f3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 418  : 	PMSG_GD_DUNGEON_SIEGE_UPDATE_OENER pMsg;
; 419  : 	pMsg.h.set((LPBYTE)&pMsg, 0xEB, 0x07, sizeof(pMsg));

  010f6	6a 0d		 push	 13			; 0000000dH
  010f8	6a 07		 push	 7
  010fa	68 eb 00 00 00	 push	 235			; 000000ebH
  010ff	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  01102	50		 push	 eax
  01103	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  01106	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 420  : 	pMsg.szGuildOwner[8] = 0;

  0110b	c6 45 f4 00	 mov	 BYTE PTR _pMsg$[ebp+12], 0

; 421  : 	memcpy(pMsg.szGuildOwner, this->szLordGuild, sizeof(this->szLordGuild)-1);

  0110f	6a 08		 push	 8
  01111	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01114	83 c0 15	 add	 eax, 21			; 00000015H
  01117	50		 push	 eax
  01118	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$[ebp+4]
  0111b	51		 push	 ecx
  0111c	e8 00 00 00 00	 call	 _memcpy
  01121	83 c4 0c	 add	 esp, 12			; 0000000cH

; 422  : 	cDBSMng.Send((char*)&pMsg, pMsg.h.size);

  01124	0f b6 45 e9	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  01128	50		 push	 eax
  01129	8d 4d e8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0112c	51		 push	 ecx
  0112d	b9 00 00 00 00	 mov	 ecx, OFFSET ?cDBSMng@@3VDBSockMng@@A ; cDBSMng
  01132	e8 00 00 00 00	 call	 ?Send@DBSockMng@@QAEHPADH@Z ; DBSockMng::Send

; 423  : }

  01137	5f		 pop	 edi
  01138	5e		 pop	 esi
  01139	5b		 pop	 ebx
  0113a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0113d	33 cd		 xor	 ecx, ebp
  0113f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01144	8b e5		 mov	 esp, ebp
  01146	5d		 pop	 ebp
  01147	c3		 ret	 0
?GDSiegeOwnerUpdate@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::GDSiegeOwnerUpdate
_TEXT	ENDS
PUBLIC	?CGHWID@CDungeonSiege@@QAEXPAUPMSG_CG_DUNBEON_SIEGE_HWID@@H@Z ; CDungeonSiege::CGHWID
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv67 = -76						; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?CGHWID@CDungeonSiege@@QAEXPAUPMSG_CG_DUNBEON_SIEGE_HWID@@H@Z PROC ; CDungeonSiege::CGHWID
; _this$ = ecx

; 426  : {

  01150	55		 push	 ebp
  01151	8b ec		 mov	 ebp, esp
  01153	83 ec 4c	 sub	 esp, 76			; 0000004cH
  01156	53		 push	 ebx
  01157	56		 push	 esi
  01158	57		 push	 edi
  01159	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 427  : 	if(!OBJMAX_RANGE(aIndex))

  0115c	83 7d 0c 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  01160	7d 09		 jge	 SHORT $LN4@CGHWID
  01162	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  01169	eb 0f		 jmp	 SHORT $LN5@CGHWID
$LN4@CGHWID:
  0116b	33 c0		 xor	 eax, eax
  0116d	81 7d 0c 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  01174	0f 9e c0	 setle	 al
  01177	89 45 b4	 mov	 DWORD PTR tv67[ebp], eax
$LN5@CGHWID:
  0117a	83 7d b4 00	 cmp	 DWORD PTR tv67[ebp], 0
  0117e	75 02		 jne	 SHORT $LN1@CGHWID

; 428  : 	{
; 429  : 		return;

  01180	eb 21		 jmp	 SHORT $LN2@CGHWID
$LN1@CGHWID:

; 430  : 	}
; 431  : 
; 432  : 	LPOBJ lpUser = &gObj[aIndex];

  01182	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01185	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0118b	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01191	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 433  : 	lpUser->DSiege.dwHWID = lpMsg->dwHWID;

  01194	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  01197	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  0119a	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  0119d	89 90 00 29 00
	00		 mov	 DWORD PTR [eax+10496], edx
$LN2@CGHWID:

; 434  : }

  011a3	5f		 pop	 edi
  011a4	5e		 pop	 esi
  011a5	5b		 pop	 ebx
  011a6	8b e5		 mov	 esp, ebp
  011a8	5d		 pop	 ebp
  011a9	c2 08 00	 ret	 8
?CGHWID@CDungeonSiege@@QAEXPAUPMSG_CG_DUNBEON_SIEGE_HWID@@H@Z ENDP ; CDungeonSiege::CGHWID
_TEXT	ENDS
PUBLIC	?GCEventState@CDungeonSiege@@QAEXXZ		; CDungeonSiege::GCEventState
PUBLIC	?StatusStartStage2@CDungeonSiege@@QAEXXZ	; CDungeonSiege::StatusStartStage2
PUBLIC	?StatusWaitStage2@CDungeonSiege@@QAEXXZ		; CDungeonSiege::StatusWaitStage2
PUBLIC	?StatusStartStage1@CDungeonSiege@@QAEXXZ	; CDungeonSiege::StatusStartStage1
PUBLIC	?StatusWait@CDungeonSiege@@QAEXXZ		; CDungeonSiege::StatusWait
PUBLIC	?StatusClose@CDungeonSiege@@QAEXXZ		; CDungeonSiege::StatusClose
PUBLIC	?SetStatus@CDungeonSiege@@QAEXH@Z		; CDungeonSiege::SetStatus
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv67 = -72						; size = 4
_this$ = -4						; size = 4
_States$ = 8						; size = 4
?SetStatus@CDungeonSiege@@QAEXH@Z PROC			; CDungeonSiege::SetStatus
; _this$ = ecx

; 437  : {

  011b0	55		 push	 ebp
  011b1	8b ec		 mov	 ebp, esp
  011b3	83 ec 48	 sub	 esp, 72			; 00000048H
  011b6	53		 push	 ebx
  011b7	56		 push	 esi
  011b8	57		 push	 edi
  011b9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 438  : 	if(!this->bEnable)

  011bc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  011bf	0f b6 48 48	 movzx	 ecx, BYTE PTR [eax+72]
  011c3	85 c9		 test	 ecx, ecx
  011c5	75 02		 jne	 SHORT $LN8@SetStatus

; 439  : 	{
; 440  : 		return;

  011c7	eb 58		 jmp	 SHORT $LN9@SetStatus
$LN8@SetStatus:

; 441  : 	}
; 442  : 
; 443  : 	this->iEventStatus = States;

  011c9	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  011cc	8b 4d 08	 mov	 ecx, DWORD PTR _States$[ebp]
  011cf	89 08		 mov	 DWORD PTR [eax], ecx

; 444  : 
; 445  : 	switch(this->iEventStatus)

  011d1	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  011d4	8b 08		 mov	 ecx, DWORD PTR [eax]
  011d6	89 4d b8	 mov	 DWORD PTR tv67[ebp], ecx
  011d9	83 7d b8 04	 cmp	 DWORD PTR tv67[ebp], 4
  011dd	77 3a		 ja	 SHORT $LN6@SetStatus
  011df	8b 55 b8	 mov	 edx, DWORD PTR tv67[ebp]
  011e2	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN11@SetStatus[edx*4]
$LN5@SetStatus:

; 446  : 	{
; 447  : 		case eEVENTDUNGEON_CLOSE:			this->StatusClose();		break;

  011e9	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  011ec	e8 00 00 00 00	 call	 ?StatusClose@CDungeonSiege@@QAEXXZ ; CDungeonSiege::StatusClose
  011f1	eb 26		 jmp	 SHORT $LN6@SetStatus
$LN4@SetStatus:

; 448  : 		case eEVENTDUNGEON_WAIT:			this->StatusWait();			break;

  011f3	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  011f6	e8 00 00 00 00	 call	 ?StatusWait@CDungeonSiege@@QAEXXZ ; CDungeonSiege::StatusWait
  011fb	eb 1c		 jmp	 SHORT $LN6@SetStatus
$LN3@SetStatus:

; 449  : 		case eEVENTDUNGEON_START_STAGE1:	this->StatusStartStage1();	break;

  011fd	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01200	e8 00 00 00 00	 call	 ?StatusStartStage1@CDungeonSiege@@QAEXXZ ; CDungeonSiege::StatusStartStage1
  01205	eb 12		 jmp	 SHORT $LN6@SetStatus
$LN2@SetStatus:

; 450  : 		case eEVENTDUNGEON_WAIT_STAGE2:		this->StatusWaitStage2();	break;

  01207	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0120a	e8 00 00 00 00	 call	 ?StatusWaitStage2@CDungeonSiege@@QAEXXZ ; CDungeonSiege::StatusWaitStage2
  0120f	eb 08		 jmp	 SHORT $LN6@SetStatus
$LN1@SetStatus:

; 451  : 		case eEVENTDUNGEON_START_STAGE2:	this->StatusStartStage2();	break;

  01211	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01214	e8 00 00 00 00	 call	 ?StatusStartStage2@CDungeonSiege@@QAEXXZ ; CDungeonSiege::StatusStartStage2
$LN6@SetStatus:

; 452  : 	}
; 453  : 
; 454  : 	this->GCEventState();

  01219	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0121c	e8 00 00 00 00	 call	 ?GCEventState@CDungeonSiege@@QAEXXZ ; CDungeonSiege::GCEventState
$LN9@SetStatus:

; 455  : }

  01221	5f		 pop	 edi
  01222	5e		 pop	 esi
  01223	5b		 pop	 ebx
  01224	8b e5		 mov	 esp, ebp
  01226	5d		 pop	 ebp
  01227	c2 04 00	 ret	 4
  0122a	8b ff		 npad	 2
$LN11@SetStatus:
  0122c	00 00 00 00	 DD	 $LN5@SetStatus
  01230	00 00 00 00	 DD	 $LN4@SetStatus
  01234	00 00 00 00	 DD	 $LN3@SetStatus
  01238	00 00 00 00	 DD	 $LN2@SetStatus
  0123c	00 00 00 00	 DD	 $LN1@SetStatus
?SetStatus@CDungeonSiege@@QAEXH@Z ENDP			; CDungeonSiege::SetStatus
; Function compile flags: /Odtp /ZI
_this$ = -4						; size = 4
_Status$ = 8						; size = 4
?CheckStatus@CDungeonSiege@@QAE_NH@Z PROC		; CDungeonSiege::CheckStatus
; _this$ = ecx

; 458  : {

  01240	55		 push	 ebp
  01241	8b ec		 mov	 ebp, esp
  01243	83 ec 44	 sub	 esp, 68			; 00000044H
  01246	53		 push	 ebx
  01247	56		 push	 esi
  01248	57		 push	 edi
  01249	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 459  : 	if(this->iEventStatus == Status)

  0124c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0124f	8b 08		 mov	 ecx, DWORD PTR [eax]
  01251	3b 4d 08	 cmp	 ecx, DWORD PTR _Status$[ebp]
  01254	75 04		 jne	 SHORT $LN1@CheckStatu

; 460  : 	{
; 461  : 		return true;

  01256	b0 01		 mov	 al, 1
  01258	eb 02		 jmp	 SHORT $LN2@CheckStatu
$LN1@CheckStatu:

; 462  : 	}
; 463  : 
; 464  : 	return false;

  0125a	32 c0		 xor	 al, al
$LN2@CheckStatu:

; 465  : }

  0125c	5f		 pop	 edi
  0125d	5e		 pop	 esi
  0125e	5b		 pop	 ebx
  0125f	8b e5		 mov	 esp, ebp
  01261	5d		 pop	 ebp
  01262	c2 04 00	 ret	 4
?CheckStatus@CDungeonSiege@@QAE_NH@Z ENDP		; CDungeonSiege::CheckStatus
_TEXT	ENDS
PUBLIC	?MonsterEventEnable@CDungeonSiege@@QAEXXZ	; CDungeonSiege::MonsterEventEnable
PUBLIC	??_C@_08BLCEEGNF@?$FL?$CFs?$FN?5End?$AA@	; `string'
PUBLIC	?SiegeClearScore@CDungeonSiege@@QAEXXZ		; CDungeonSiege::SiegeClearScore
PUBLIC	__$ArrayPad$
EXTRN	?AllSendServerMsg@@YAXPAD@Z:PROC		; AllSendServerMsg
EXTRN	_sprintf:PROC
;	COMDAT ??_C@_08BLCEEGNF@?$FL?$CFs?$FN?5End?$AA@
CONST	SEGMENT
??_C@_08BLCEEGNF@?$FL?$CFs?$FN?5End?$AA@ DB '[%s] End', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_szText$ = -264						; size = 256
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
?StatusClose@CDungeonSiege@@QAEXXZ PROC			; CDungeonSiege::StatusClose
; _this$ = ecx

; 468  : {

  01270	55		 push	 ebp
  01271	8b ec		 mov	 ebp, esp
  01273	81 ec 48 01 00
	00		 sub	 esp, 328		; 00000148H
  01279	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0127e	33 c5		 xor	 eax, ebp
  01280	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01283	53		 push	 ebx
  01284	56		 push	 esi
  01285	57		 push	 edi
  01286	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 469  : 	this->GDSiegeOwnerUpdate();

  01289	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0128c	e8 00 00 00 00	 call	 ?GDSiegeOwnerUpdate@CDungeonSiege@@QAEXXZ ; CDungeonSiege::GDSiegeOwnerUpdate

; 470  : 	this->GDSiegeClearList();

  01291	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01294	e8 00 00 00 00	 call	 ?GDSiegeClearList@CDungeonSiege@@QAEXXZ ; CDungeonSiege::GDSiegeClearList

; 471  : 	this->SiegeClearScore();

  01299	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0129c	e8 00 00 00 00	 call	 ?SiegeClearScore@CDungeonSiege@@QAEXXZ ; CDungeonSiege::SiegeClearScore

; 472  : 
; 473  : 	char szText[256];
; 474  : 	sprintf(szText, "[%s] End", this->m_EventName);

  012a1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  012a4	05 e4 00 00 00	 add	 eax, 228		; 000000e4H
  012a9	50		 push	 eax
  012aa	68 00 00 00 00	 push	 OFFSET ??_C@_08BLCEEGNF@?$FL?$CFs?$FN?5End?$AA@
  012af	8d 8d f8 fe ff
	ff		 lea	 ecx, DWORD PTR _szText$[ebp]
  012b5	51		 push	 ecx
  012b6	e8 00 00 00 00	 call	 _sprintf
  012bb	83 c4 0c	 add	 esp, 12			; 0000000cH

; 475  : 	AllSendServerMsg(szText);

  012be	8d 85 f8 fe ff
	ff		 lea	 eax, DWORD PTR _szText$[ebp]
  012c4	50		 push	 eax
  012c5	e8 00 00 00 00	 call	 ?AllSendServerMsg@@YAXPAD@Z ; AllSendServerMsg
  012ca	83 c4 04	 add	 esp, 4

; 476  : 
; 477  : 	this->MonsterEventEnable();

  012cd	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  012d0	e8 00 00 00 00	 call	 ?MonsterEventEnable@CDungeonSiege@@QAEXXZ ; CDungeonSiege::MonsterEventEnable

; 478  : }

  012d5	5f		 pop	 edi
  012d6	5e		 pop	 esi
  012d7	5b		 pop	 ebx
  012d8	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  012db	33 cd		 xor	 ecx, ebp
  012dd	e8 00 00 00 00	 call	 @__security_check_cookie@4
  012e2	8b e5		 mov	 esp, ebp
  012e4	5d		 pop	 ebp
  012e5	c3		 ret	 0
?StatusClose@CDungeonSiege@@QAEXXZ ENDP			; CDungeonSiege::StatusClose
_TEXT	ENDS
PUBLIC	?GCSiegeScore@CDungeonSiege@@QAEXXZ		; CDungeonSiege::GCSiegeScore
PUBLIC	?MonsterEventDisable@CDungeonSiege@@QAEXXZ	; CDungeonSiege::MonsterEventDisable
EXTRN	__imp__GetTickCount@0:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
?StatusWait@CDungeonSiege@@QAEXXZ PROC			; CDungeonSiege::StatusWait
; _this$ = ecx

; 481  : {

  012f0	55		 push	 ebp
  012f1	8b ec		 mov	 ebp, esp
  012f3	83 ec 44	 sub	 esp, 68			; 00000044H
  012f6	53		 push	 ebx
  012f7	56		 push	 esi
  012f8	57		 push	 edi
  012f9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 482  : 	this->iTickCount = GetTickCount();

  012fc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  01302	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01305	89 41 24	 mov	 DWORD PTR [ecx+36], eax

; 483  : 	this->iTickRemain = 60000 * this->iEventDurationWait1;

  01308	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0130b	8b 48 70	 mov	 ecx, DWORD PTR [eax+112]
  0130e	69 c9 60 ea 00
	00		 imul	 ecx, 60000		; 0000ea60H
  01314	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  01317	89 4a 28	 mov	 DWORD PTR [edx+40], ecx

; 484  : 	this->MonsterEventDisable();

  0131a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0131d	e8 00 00 00 00	 call	 ?MonsterEventDisable@CDungeonSiege@@QAEXXZ ; CDungeonSiege::MonsterEventDisable

; 485  : 	this->GCSiegeScore();

  01322	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01325	e8 00 00 00 00	 call	 ?GCSiegeScore@CDungeonSiege@@QAEXXZ ; CDungeonSiege::GCSiegeScore

; 486  : }

  0132a	5f		 pop	 edi
  0132b	5e		 pop	 esi
  0132c	5b		 pop	 ebx
  0132d	8b e5		 mov	 esp, ebp
  0132f	5d		 pop	 ebp
  01330	c3		 ret	 0
?StatusWait@CDungeonSiege@@QAEXXZ ENDP			; CDungeonSiege::StatusWait
_TEXT	ENDS
PUBLIC	?GCMapAttribute@CDungeonSiege@@QAEXHH@Z		; CDungeonSiege::GCMapAttribute
PUBLIC	??_C@_0BN@IACAKPDI@?$FL?$CFs?$FN?5First?5stage?5has?5started?$AA@ ; `string'
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0BN@IACAKPDI@?$FL?$CFs?$FN?5First?5stage?5has?5started?$AA@
CONST	SEGMENT
??_C@_0BN@IACAKPDI@?$FL?$CFs?$FN?5First?5stage?5has?5started?$AA@ DB '[%s'
	DB	'] First stage has started', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_lpTempObj$230592 = -272				; size = 4
_n$230588 = -268					; size = 4
_szText$ = -264						; size = 256
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
?StatusStartStage1@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::StatusStartStage1
; _this$ = ecx

; 489  : {

  01340	55		 push	 ebp
  01341	8b ec		 mov	 ebp, esp
  01343	81 ec 50 01 00
	00		 sub	 esp, 336		; 00000150H
  01349	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0134e	33 c5		 xor	 eax, ebp
  01350	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01353	53		 push	 ebx
  01354	56		 push	 esi
  01355	57		 push	 edi
  01356	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 490  : 	char szText[256];
; 491  : 	sprintf(szText, "[%s] First stage has started", this->m_EventName);

  01359	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0135c	05 e4 00 00 00	 add	 eax, 228		; 000000e4H
  01361	50		 push	 eax
  01362	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@IACAKPDI@?$FL?$CFs?$FN?5First?5stage?5has?5started?$AA@
  01367	8d 8d f8 fe ff
	ff		 lea	 ecx, DWORD PTR _szText$[ebp]
  0136d	51		 push	 ecx
  0136e	e8 00 00 00 00	 call	 _sprintf
  01373	83 c4 0c	 add	 esp, 12			; 0000000cH

; 492  : 	AllSendServerMsg(szText);

  01376	8d 85 f8 fe ff
	ff		 lea	 eax, DWORD PTR _szText$[ebp]
  0137c	50		 push	 eax
  0137d	e8 00 00 00 00	 call	 ?AllSendServerMsg@@YAXPAD@Z ; AllSendServerMsg
  01382	83 c4 04	 add	 esp, 4

; 493  : 	this->iTickCount = GetTickCount();

  01385	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  0138b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0138e	89 41 24	 mov	 DWORD PTR [ecx+36], eax

; 494  : 	this->iTickRemain = 60000 * this->iEventDurationStage1;

  01391	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01394	8b 48 68	 mov	 ecx, DWORD PTR [eax+104]
  01397	69 c9 60 ea 00
	00		 imul	 ecx, 60000		; 0000ea60H
  0139d	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  013a0	89 4a 28	 mov	 DWORD PTR [edx+40], ecx

; 495  : 
; 496  : 	for(int n = OBJ_STARTUSERINDEX; n < OBJMAX; n++)

  013a3	c7 85 f4 fe ff
	ff b0 36 00 00	 mov	 DWORD PTR _n$230588[ebp], 14000 ; 000036b0H
  013ad	eb 0f		 jmp	 SHORT $LN5@StatusStar
$LN4@StatusStar:
  013af	8b 85 f4 fe ff
	ff		 mov	 eax, DWORD PTR _n$230588[ebp]
  013b5	83 c0 01	 add	 eax, 1
  013b8	89 85 f4 fe ff
	ff		 mov	 DWORD PTR _n$230588[ebp], eax
$LN5@StatusStar:
  013be	81 bd f4 fe ff
	ff 98 3a 00 00	 cmp	 DWORD PTR _n$230588[ebp], 15000 ; 00003a98H
  013c8	7d 5d		 jge	 SHORT $LN6@StatusStar

; 497  : 	{
; 498  : 		LPOBJ lpTempObj = &gObj[n];

  013ca	8b 85 f4 fe ff
	ff		 mov	 eax, DWORD PTR _n$230588[ebp]
  013d0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  013d6	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  013dc	89 85 f0 fe ff
	ff		 mov	 DWORD PTR _lpTempObj$230592[ebp], eax

; 499  : 
; 500  : 		if(lpTempObj->Connected < PLAYER_PLAYING || lpTempObj->Type != OBJ_USER || lpTempObj->MapNumber != this->m_EventMapNumber)

  013e2	8b 85 f0 fe ff
	ff		 mov	 eax, DWORD PTR _lpTempObj$230592[ebp]
  013e8	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  013ec	7c 24		 jl	 SHORT $LN1@StatusStar
  013ee	8b 85 f0 fe ff
	ff		 mov	 eax, DWORD PTR _lpTempObj$230592[ebp]
  013f4	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  013f8	83 f9 01	 cmp	 ecx, 1
  013fb	75 15		 jne	 SHORT $LN1@StatusStar
  013fd	8b 85 f0 fe ff
	ff		 mov	 eax, DWORD PTR _lpTempObj$230592[ebp]
  01403	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  0140a	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0140d	3b 4a 78	 cmp	 ecx, DWORD PTR [edx+120]
  01410	74 02		 je	 SHORT $LN2@StatusStar
$LN1@StatusStar:

; 501  : 		{
; 502  : 			continue;

  01412	eb 9b		 jmp	 SHORT $LN4@StatusStar
$LN2@StatusStar:

; 503  : 		}	
; 504  : 
; 505  : 		this->GCMapAttribute(n, 1);

  01414	6a 01		 push	 1
  01416	8b 85 f4 fe ff
	ff		 mov	 eax, DWORD PTR _n$230588[ebp]
  0141c	50		 push	 eax
  0141d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01420	e8 00 00 00 00	 call	 ?GCMapAttribute@CDungeonSiege@@QAEXHH@Z ; CDungeonSiege::GCMapAttribute

; 506  : 	}

  01425	eb 88		 jmp	 SHORT $LN4@StatusStar
$LN6@StatusStar:

; 507  : }

  01427	5f		 pop	 edi
  01428	5e		 pop	 esi
  01429	5b		 pop	 ebx
  0142a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0142d	33 cd		 xor	 ecx, ebp
  0142f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01434	8b e5		 mov	 esp, ebp
  01436	5d		 pop	 ebp
  01437	c3		 ret	 0
?StatusStartStage1@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::StatusStartStage1
_TEXT	ENDS
EXTRN	?gObjTeleport@@YAXHHHH@Z:PROC			; gObjTeleport
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
?StatusWaitStage2@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::StatusWaitStage2
; _this$ = ecx

; 510  : {

  01440	55		 push	 ebp
  01441	8b ec		 mov	 ebp, esp
  01443	83 ec 44	 sub	 esp, 68			; 00000044H
  01446	53		 push	 ebx
  01447	56		 push	 esi
  01448	57		 push	 edi
  01449	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 511  : 	this->iTickCount = GetTickCount();

  0144c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  01452	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01455	89 41 24	 mov	 DWORD PTR [ecx+36], eax

; 512  : 	this->iTickRemain = 60000 * this->iEventDurationWait2;

  01458	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0145b	8b 48 74	 mov	 ecx, DWORD PTR [eax+116]
  0145e	69 c9 60 ea 00
	00		 imul	 ecx, 60000		; 0000ea60H
  01464	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  01467	89 4a 28	 mov	 DWORD PTR [edx+40], ecx

; 513  : 
; 514  : 	this->GCSiegeScore();

  0146a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0146d	e8 00 00 00 00	 call	 ?GCSiegeScore@CDungeonSiege@@QAEXXZ ; CDungeonSiege::GCSiegeScore

; 515  : 
; 516  : 	gObjTeleport(this->aIndexFinal1, this->m_EventMapNumber, this->m_EventStage2WaitX, this->m_EventStage2WaitY);

  01472	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  01475	8b 88 90 00 00
	00		 mov	 ecx, DWORD PTR [eax+144]
  0147b	51		 push	 ecx
  0147c	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0147f	8b 82 8c 00 00
	00		 mov	 eax, DWORD PTR [edx+140]
  01485	50		 push	 eax
  01486	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01489	8b 51 78	 mov	 edx, DWORD PTR [ecx+120]
  0148c	52		 push	 edx
  0148d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  01490	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  01493	51		 push	 ecx
  01494	e8 00 00 00 00	 call	 ?gObjTeleport@@YAXHHHH@Z ; gObjTeleport
  01499	83 c4 10	 add	 esp, 16			; 00000010H

; 517  : 	gObjTeleport(this->aIndexFinal2, this->m_EventMapNumber, this->m_EventStage2WaitX, this->m_EventStage2WaitY);

  0149c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0149f	8b 88 90 00 00
	00		 mov	 ecx, DWORD PTR [eax+144]
  014a5	51		 push	 ecx
  014a6	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  014a9	8b 82 8c 00 00
	00		 mov	 eax, DWORD PTR [edx+140]
  014af	50		 push	 eax
  014b0	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  014b3	8b 51 78	 mov	 edx, DWORD PTR [ecx+120]
  014b6	52		 push	 edx
  014b7	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  014ba	8b 48 3c	 mov	 ecx, DWORD PTR [eax+60]
  014bd	51		 push	 ecx
  014be	e8 00 00 00 00	 call	 ?gObjTeleport@@YAXHHHH@Z ; gObjTeleport
  014c3	83 c4 10	 add	 esp, 16			; 00000010H

; 518  : 
; 519  : 	this->GCMapAttribute(this->aIndexFinal1, 0);

  014c6	6a 00		 push	 0
  014c8	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  014cb	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  014ce	51		 push	 ecx
  014cf	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  014d2	e8 00 00 00 00	 call	 ?GCMapAttribute@CDungeonSiege@@QAEXHH@Z ; CDungeonSiege::GCMapAttribute

; 520  : 	this->GCMapAttribute(this->aIndexFinal2, 0);

  014d7	6a 00		 push	 0
  014d9	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  014dc	8b 48 3c	 mov	 ecx, DWORD PTR [eax+60]
  014df	51		 push	 ecx
  014e0	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  014e3	e8 00 00 00 00	 call	 ?GCMapAttribute@CDungeonSiege@@QAEXHH@Z ; CDungeonSiege::GCMapAttribute

; 521  : }	

  014e8	5f		 pop	 edi
  014e9	5e		 pop	 esi
  014ea	5b		 pop	 ebx
  014eb	8b e5		 mov	 esp, ebp
  014ed	5d		 pop	 ebp
  014ee	c3		 ret	 0
?StatusWaitStage2@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::StatusWaitStage2
_TEXT	ENDS
PUBLIC	??_C@_0BO@DLCNOEOD@?$FL?$CFs?$FN?5Second?5stage?5has?5started?$AA@ ; `string'
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0BO@DLCNOEOD@?$FL?$CFs?$FN?5Second?5stage?5has?5started?$AA@
CONST	SEGMENT
??_C@_0BO@DLCNOEOD@?$FL?$CFs?$FN?5Second?5stage?5has?5started?$AA@ DB '[%'
	DB	's] Second stage has started', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_szText$ = -264						; size = 256
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
?StatusStartStage2@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::StatusStartStage2
; _this$ = ecx

; 524  : {

  014f0	55		 push	 ebp
  014f1	8b ec		 mov	 ebp, esp
  014f3	81 ec 48 01 00
	00		 sub	 esp, 328		; 00000148H
  014f9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  014fe	33 c5		 xor	 eax, ebp
  01500	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01503	53		 push	 ebx
  01504	56		 push	 esi
  01505	57		 push	 edi
  01506	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 525  : 	char szText[256];
; 526  : 	sprintf(szText, "[%s] Second stage has started", this->m_EventName);

  01509	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0150c	05 e4 00 00 00	 add	 eax, 228		; 000000e4H
  01511	50		 push	 eax
  01512	68 00 00 00 00	 push	 OFFSET ??_C@_0BO@DLCNOEOD@?$FL?$CFs?$FN?5Second?5stage?5has?5started?$AA@
  01517	8d 8d f8 fe ff
	ff		 lea	 ecx, DWORD PTR _szText$[ebp]
  0151d	51		 push	 ecx
  0151e	e8 00 00 00 00	 call	 _sprintf
  01523	83 c4 0c	 add	 esp, 12			; 0000000cH

; 527  : 	AllSendServerMsg(szText);

  01526	8d 85 f8 fe ff
	ff		 lea	 eax, DWORD PTR _szText$[ebp]
  0152c	50		 push	 eax
  0152d	e8 00 00 00 00	 call	 ?AllSendServerMsg@@YAXPAD@Z ; AllSendServerMsg
  01532	83 c4 04	 add	 esp, 4

; 528  : 	this->iTickCount = GetTickCount();

  01535	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  0153b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0153e	89 41 24	 mov	 DWORD PTR [ecx+36], eax

; 529  : 	this->iTickRemain = 60000 * this->iEventDurationStage2;

  01541	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01544	8b 48 6c	 mov	 ecx, DWORD PTR [eax+108]
  01547	69 c9 60 ea 00
	00		 imul	 ecx, 60000		; 0000ea60H
  0154d	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  01550	89 4a 28	 mov	 DWORD PTR [edx+40], ecx

; 530  : }

  01553	5f		 pop	 edi
  01554	5e		 pop	 esi
  01555	5b		 pop	 ebx
  01556	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01559	33 cd		 xor	 ecx, ebp
  0155b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01560	8b e5		 mov	 esp, ebp
  01562	5d		 pop	 ebp
  01563	c3		 ret	 0
?StatusStartStage2@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::StatusStartStage2
_TEXT	ENDS
PUBLIC	?ProcessStatusStart@CDungeonSiege@@QAEXXZ	; CDungeonSiege::ProcessStatusStart
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
?ProcessStatusClose@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::ProcessStatusClose
; _this$ = ecx

; 533  : {

  01570	55		 push	 ebp
  01571	8b ec		 mov	 ebp, esp
  01573	83 ec 44	 sub	 esp, 68			; 00000044H
  01576	53		 push	 ebx
  01577	56		 push	 esi
  01578	57		 push	 edi
  01579	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 534  : 	if(this->iEventStartDay == this->systime.wDayOfWeek	&&
; 535  : 	   this->iEventStartHour == this->systime.wHour		&& 
; 536  : 	   this->iEventeStartMinut == this->systime.wMinute	&&
; 537  : 	   this->systime.wSecond == 0)

  0157c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0157f	0f b7 48 08	 movzx	 ecx, WORD PTR [eax+8]
  01583	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  01586	39 4a 5c	 cmp	 DWORD PTR [edx+92], ecx
  01589	75 31		 jne	 SHORT $LN2@ProcessSta
  0158b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0158e	0f b7 48 0c	 movzx	 ecx, WORD PTR [eax+12]
  01592	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  01595	39 4a 60	 cmp	 DWORD PTR [edx+96], ecx
  01598	75 22		 jne	 SHORT $LN2@ProcessSta
  0159a	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0159d	0f b7 48 0e	 movzx	 ecx, WORD PTR [eax+14]
  015a1	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  015a4	39 4a 64	 cmp	 DWORD PTR [edx+100], ecx
  015a7	75 13		 jne	 SHORT $LN2@ProcessSta
  015a9	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  015ac	0f b7 48 10	 movzx	 ecx, WORD PTR [eax+16]
  015b0	85 c9		 test	 ecx, ecx
  015b2	75 08		 jne	 SHORT $LN2@ProcessSta

; 538  : 	{
; 539  : 		this->ProcessStatusStart();

  015b4	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  015b7	e8 00 00 00 00	 call	 ?ProcessStatusStart@CDungeonSiege@@QAEXXZ ; CDungeonSiege::ProcessStatusStart
$LN2@ProcessSta:

; 540  : 		/*
; 541  : 		if(this->iRegCount >= 2)
; 542  : 		{
; 543  : 			this->SetStatus(eEVENTDUNGEON_WAIT);
; 544  : 		}
; 545  : 		else if(this->iRegCount == 1)
; 546  : 		{
; 547  : 			for(int i = 0; i < this->iRegCount; i++)
; 548  : 			{
; 549  : 				_GUILD_INFO_STRUCT* lpGuild1 = Guild.SearchGuild(this->reg_list[i].szGuildName);
; 550  : 
; 551  : 				if(!lpGuild1)
; 552  : 				{
; 553  : 					continue;
; 554  : 				}
; 555  : 				char szTemp[256];
; 556  : 				this->bCaptured = true;
; 557  : 				memcpy(this->szLordGuild, lpGuild1->Name, sizeof(this->szLordGuild)-1);
; 558  : 				sprintf(szTemp, "[%s] %s are new owners of the Dungeon", this->m_EventName, this->szLordGuild);
; 559  : 				AllSendServerMsg(szTemp);
; 560  : 				this->SetStatus(eEVENTDUNGEON_CLOSE);	
; 561  : 			}
; 562  : 		}
; 563  : 		else if(this->iRegCount == 0)
; 564  : 		{
; 565  : 			this->bCaptured = false;
; 566  : 			memcpy(this->szLordGuild, "", sizeof(this->szLordGuild)-1);
; 567  : 			this->SetStatus(eEVENTDUNGEON_CLOSE);	
; 568  : 		}
; 569  : 		*/
; 570  : 	}
; 571  : }

  015bc	5f		 pop	 edi
  015bd	5e		 pop	 esi
  015be	5b		 pop	 ebx
  015bf	8b e5		 mov	 esp, ebp
  015c1	5d		 pop	 ebp
  015c2	c3		 ret	 0
?ProcessStatusClose@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::ProcessStatusClose
_TEXT	ENDS
PUBLIC	??_C@_00CNPNBAHC@?$AA@				; `string'
PUBLIC	??_C@_0CG@JALOJN@?$FL?$CFs?$FN?5?$CFs?5are?5new?5owners?5of?5the?5Du@ ; `string'
PUBLIC	__$ArrayPad$
EXTRN	?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z:PROC ; CGuildClass::SearchGuild
EXTRN	?Guild@@3VCGuildClass@@A:BYTE			; Guild
;	COMDAT ??_C@_00CNPNBAHC@?$AA@
CONST	SEGMENT
??_C@_00CNPNBAHC@?$AA@ DB 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0CG@JALOJN@?$FL?$CFs?$FN?5?$CFs?5are?5new?5owners?5of?5the?5Du@
CONST	SEGMENT
??_C@_0CG@JALOJN@?$FL?$CFs?$FN?5?$CFs?5are?5new?5owners?5of?5the?5Du@ DB '['
	DB	'%s] %s are new owners of the Dungeon', 00H	; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_szTemp$230620 = -272					; size = 256
_lpGuild1$230618 = -16					; size = 4
_i$230614 = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
?ProcessStatusStart@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::ProcessStatusStart
; _this$ = ecx

; 574  : {

  015d0	55		 push	 ebp
  015d1	8b ec		 mov	 ebp, esp
  015d3	81 ec 50 01 00
	00		 sub	 esp, 336		; 00000150H
  015d9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  015de	33 c5		 xor	 eax, ebp
  015e0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  015e3	53		 push	 ebx
  015e4	56		 push	 esi
  015e5	57		 push	 edi
  015e6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 575  : 	if(!this->bEnable)

  015e9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  015ec	0f b6 48 48	 movzx	 ecx, BYTE PTR [eax+72]
  015f0	85 c9		 test	 ecx, ecx
  015f2	75 05		 jne	 SHORT $LN10@ProcessSta@2

; 576  : 	{
; 577  : 		return;

  015f4	e9 08 01 00 00	 jmp	 $LN11@ProcessSta@2
$LN10@ProcessSta@2:

; 578  : 	}
; 579  : 
; 580  : 	this->SiegeClearScore();

  015f9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  015fc	e8 00 00 00 00	 call	 ?SiegeClearScore@CDungeonSiege@@QAEXXZ ; CDungeonSiege::SiegeClearScore

; 581  : 
; 582  : 	if(this->iRegCount >= 2)

  01601	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01604	83 78 20 02	 cmp	 DWORD PTR [eax+32], 2
  01608	7c 0f		 jl	 SHORT $LN9@ProcessSta@2

; 583  : 	{
; 584  : 		this->SetStatus(eEVENTDUNGEON_WAIT);

  0160a	6a 01		 push	 1
  0160c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0160f	e8 00 00 00 00	 call	 ?SetStatus@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::SetStatus
  01614	e9 e8 00 00 00	 jmp	 $LN11@ProcessSta@2
$LN9@ProcessSta@2:

; 585  : 	}
; 586  : 	else if(this->iRegCount == 1)

  01619	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0161c	83 78 20 01	 cmp	 DWORD PTR [eax+32], 1
  01620	0f 85 ab 00 00
	00		 jne	 $LN7@ProcessSta@2

; 587  : 	{
; 588  : 		for(int i = 0; i < this->iRegCount; i++)

  01626	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _i$230614[ebp], 0
  0162d	eb 09		 jmp	 SHORT $LN6@ProcessSta@2
$LN5@ProcessSta@2:
  0162f	8b 45 f4	 mov	 eax, DWORD PTR _i$230614[ebp]
  01632	83 c0 01	 add	 eax, 1
  01635	89 45 f4	 mov	 DWORD PTR _i$230614[ebp], eax
$LN6@ProcessSta@2:
  01638	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0163b	8b 4d f4	 mov	 ecx, DWORD PTR _i$230614[ebp]
  0163e	3b 48 20	 cmp	 ecx, DWORD PTR [eax+32]
  01641	0f 8d 88 00 00
	00		 jge	 $LN4@ProcessSta@2

; 589  : 		{
; 590  : 			_GUILD_INFO_STRUCT* lpGuild1 = Guild.SearchGuild(this->reg_list[i].szGuildName);

  01647	8b 45 f4	 mov	 eax, DWORD PTR _i$230614[ebp]
  0164a	6b c0 09	 imul	 eax, 9
  0164d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01650	8d 94 01 16 01
	00 00		 lea	 edx, DWORD PTR [ecx+eax+278]
  01657	52		 push	 edx
  01658	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0165d	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  01662	89 45 f0	 mov	 DWORD PTR _lpGuild1$230618[ebp], eax

; 591  : 
; 592  : 			if(!lpGuild1)

  01665	83 7d f0 00	 cmp	 DWORD PTR _lpGuild1$230618[ebp], 0
  01669	75 02		 jne	 SHORT $LN3@ProcessSta@2

; 593  : 			{
; 594  : 				continue;

  0166b	eb c2		 jmp	 SHORT $LN5@ProcessSta@2
$LN3@ProcessSta@2:

; 595  : 			}
; 596  : 			char szTemp[256];
; 597  : 			this->bCaptured = true;

  0166d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01670	c6 40 14 01	 mov	 BYTE PTR [eax+20], 1

; 598  : 			memcpy(this->szLordGuild, lpGuild1->Name, sizeof(this->szLordGuild)-1);

  01674	6a 08		 push	 8
  01676	8b 45 f0	 mov	 eax, DWORD PTR _lpGuild1$230618[ebp]
  01679	83 c0 04	 add	 eax, 4
  0167c	50		 push	 eax
  0167d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01680	83 c1 15	 add	 ecx, 21			; 00000015H
  01683	51		 push	 ecx
  01684	e8 00 00 00 00	 call	 _memcpy
  01689	83 c4 0c	 add	 esp, 12			; 0000000cH

; 599  : 			sprintf(szTemp, "[%s] %s are new owners of the Dungeon", this->m_EventName, this->szLordGuild);

  0168c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0168f	83 c0 15	 add	 eax, 21			; 00000015H
  01692	50		 push	 eax
  01693	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01696	81 c1 e4 00 00
	00		 add	 ecx, 228		; 000000e4H
  0169c	51		 push	 ecx
  0169d	68 00 00 00 00	 push	 OFFSET ??_C@_0CG@JALOJN@?$FL?$CFs?$FN?5?$CFs?5are?5new?5owners?5of?5the?5Du@
  016a2	8d 95 f0 fe ff
	ff		 lea	 edx, DWORD PTR _szTemp$230620[ebp]
  016a8	52		 push	 edx
  016a9	e8 00 00 00 00	 call	 _sprintf
  016ae	83 c4 10	 add	 esp, 16			; 00000010H

; 600  : 			AllSendServerMsg(szTemp);

  016b1	8d 85 f0 fe ff
	ff		 lea	 eax, DWORD PTR _szTemp$230620[ebp]
  016b7	50		 push	 eax
  016b8	e8 00 00 00 00	 call	 ?AllSendServerMsg@@YAXPAD@Z ; AllSendServerMsg
  016bd	83 c4 04	 add	 esp, 4

; 601  : 			this->SetStatus(eEVENTDUNGEON_CLOSE);	

  016c0	6a 00		 push	 0
  016c2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  016c5	e8 00 00 00 00	 call	 ?SetStatus@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::SetStatus

; 602  : 		}

  016ca	e9 60 ff ff ff	 jmp	 $LN5@ProcessSta@2
$LN4@ProcessSta@2:

; 603  : 	}
; 604  : 	else if(this->iRegCount == 0)

  016cf	eb 30		 jmp	 SHORT $LN11@ProcessSta@2
$LN7@ProcessSta@2:
  016d1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  016d4	83 78 20 00	 cmp	 DWORD PTR [eax+32], 0
  016d8	75 27		 jne	 SHORT $LN11@ProcessSta@2

; 605  : 	{
; 606  : 		this->bCaptured = false;

  016da	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  016dd	c6 40 14 00	 mov	 BYTE PTR [eax+20], 0

; 607  : 		memcpy(this->szLordGuild, "", sizeof(this->szLordGuild)-1);

  016e1	6a 08		 push	 8
  016e3	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@?$AA@
  016e8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  016eb	83 c0 15	 add	 eax, 21			; 00000015H
  016ee	50		 push	 eax
  016ef	e8 00 00 00 00	 call	 _memcpy
  016f4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 608  : 		this->SetStatus(eEVENTDUNGEON_CLOSE);	

  016f7	6a 00		 push	 0
  016f9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  016fc	e8 00 00 00 00	 call	 ?SetStatus@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::SetStatus
$LN11@ProcessSta@2:

; 609  : 	}
; 610  : }

  01701	5f		 pop	 edi
  01702	5e		 pop	 esi
  01703	5b		 pop	 ebx
  01704	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01707	33 cd		 xor	 ecx, ebp
  01709	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0170e	8b e5		 mov	 esp, ebp
  01710	5d		 pop	 ebp
  01711	c3		 ret	 0
?ProcessStatusStart@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::ProcessStatusStart
_TEXT	ENDS
PUBLIC	?GCMapAttributeAll@CDungeonSiege@@QAEXH@Z	; CDungeonSiege::GCMapAttributeAll
PUBLIC	??_C@_0CP@DIHCGHFD@?$FL?$CFs?$FN?5First?5stage?5will?5start?5afte@ ; `string'
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0CP@DIHCGHFD@?$FL?$CFs?$FN?5First?5stage?5will?5start?5afte@
CONST	SEGMENT
??_C@_0CP@DIHCGHFD@?$FL?$CFs?$FN?5First?5stage?5will?5start?5afte@ DB '[%'
	DB	's] First stage will start after %d minute(s)', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_szTemp$230632 = -272					; size = 256
_iWaitMin$230631 = -16					; size = 4
_iTickMsec$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
?PrecessStatusWait@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::PrecessStatusWait
; _this$ = ecx

; 613  : {

  01720	55		 push	 ebp
  01721	8b ec		 mov	 ebp, esp
  01723	81 ec 50 01 00
	00		 sub	 esp, 336		; 00000150H
  01729	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0172e	33 c5		 xor	 eax, ebp
  01730	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01733	53		 push	 ebx
  01734	56		 push	 esi
  01735	57		 push	 edi
  01736	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 614  : 	int iTickMsec = (GetTickCount() - this->iTickCount);

  01739	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  0173f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01742	2b 41 24	 sub	 eax, DWORD PTR [ecx+36]
  01745	89 45 f4	 mov	 DWORD PTR _iTickMsec$[ebp], eax

; 615  : 
; 616  : 	if(iTickMsec >= 1000)

  01748	81 7d f4 e8 03
	00 00		 cmp	 DWORD PTR _iTickMsec$[ebp], 1000 ; 000003e8H
  0174f	0f 8c a3 00 00
	00		 jl	 $LN5@PrecessSta

; 617  : 	{
; 618  : 		this->iTickRemain -= iTickMsec;			

  01755	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01758	8b 48 28	 mov	 ecx, DWORD PTR [eax+40]
  0175b	2b 4d f4	 sub	 ecx, DWORD PTR _iTickMsec$[ebp]
  0175e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  01761	89 4a 28	 mov	 DWORD PTR [edx+40], ecx

; 619  : 		this->iTickCount = GetTickCount();

  01764	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  0176a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0176d	89 41 24	 mov	 DWORD PTR [ecx+36], eax

; 620  : 
; 621  : 		if(this->iTickRemain <= (60000 * this->iEventDurationWait1))

  01770	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01773	8b 48 70	 mov	 ecx, DWORD PTR [eax+112]
  01776	69 c9 60 ea 00
	00		 imul	 ecx, 60000		; 0000ea60H
  0177c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0177f	39 4a 28	 cmp	 DWORD PTR [edx+40], ecx
  01782	7f 74		 jg	 SHORT $LN5@PrecessSta

; 622  : 		{
; 623  : 			if((GetTickCount() - this->iTickWait) > 60000)

  01784	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  0178a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0178d	2b 41 2c	 sub	 eax, DWORD PTR [ecx+44]
  01790	3d 60 ea 00 00	 cmp	 eax, 60000		; 0000ea60H
  01795	76 61		 jbe	 SHORT $LN5@PrecessSta

; 624  : 			{
; 625  : 				int iWaitMin = (this->iTickRemain/60000) + 1;

  01797	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0179a	8b 40 28	 mov	 eax, DWORD PTR [eax+40]
  0179d	99		 cdq
  0179e	b9 60 ea 00 00	 mov	 ecx, 60000		; 0000ea60H
  017a3	f7 f9		 idiv	 ecx
  017a5	83 c0 01	 add	 eax, 1
  017a8	89 45 f0	 mov	 DWORD PTR _iWaitMin$230631[ebp], eax

; 626  : 				char szTemp[256];
; 627  : 				sprintf(szTemp, "[%s] First stage will start after %d minute(s)", this->m_EventName, iWaitMin);

  017ab	8b 45 f0	 mov	 eax, DWORD PTR _iWaitMin$230631[ebp]
  017ae	50		 push	 eax
  017af	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  017b2	81 c1 e4 00 00
	00		 add	 ecx, 228		; 000000e4H
  017b8	51		 push	 ecx
  017b9	68 00 00 00 00	 push	 OFFSET ??_C@_0CP@DIHCGHFD@?$FL?$CFs?$FN?5First?5stage?5will?5start?5afte@
  017be	8d 95 f0 fe ff
	ff		 lea	 edx, DWORD PTR _szTemp$230632[ebp]
  017c4	52		 push	 edx
  017c5	e8 00 00 00 00	 call	 _sprintf
  017ca	83 c4 10	 add	 esp, 16			; 00000010H

; 628  : 				AllSendServerMsg(szTemp);

  017cd	8d 85 f0 fe ff
	ff		 lea	 eax, DWORD PTR _szTemp$230632[ebp]
  017d3	50		 push	 eax
  017d4	e8 00 00 00 00	 call	 ?AllSendServerMsg@@YAXPAD@Z ; AllSendServerMsg
  017d9	83 c4 04	 add	 esp, 4

; 629  : 				this->iTickWait = GetTickCount();

  017dc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  017e2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  017e5	89 41 2c	 mov	 DWORD PTR [ecx+44], eax

; 630  : 				if(iWaitMin == 1)

  017e8	83 7d f0 01	 cmp	 DWORD PTR _iWaitMin$230631[ebp], 1
  017ec	75 0a		 jne	 SHORT $LN5@PrecessSta

; 631  : 				{
; 632  : 					this->GCMapAttributeAll(1);

  017ee	6a 01		 push	 1
  017f0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  017f3	e8 00 00 00 00	 call	 ?GCMapAttributeAll@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::GCMapAttributeAll
$LN5@PrecessSta:

; 633  : 				}
; 634  : 			}
; 635  : 		}		
; 636  : 	}
; 637  : 
; 638  : 	if(this->iTickRemain <= 0)

  017f8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  017fb	83 78 28 00	 cmp	 DWORD PTR [eax+40], 0
  017ff	7f 0a		 jg	 SHORT $LN6@PrecessSta

; 639  : 	{
; 640  : 		this->SetStatus(eEVENTDUNGEON_START_STAGE1);

  01801	6a 02		 push	 2
  01803	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01806	e8 00 00 00 00	 call	 ?SetStatus@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::SetStatus
$LN6@PrecessSta:

; 641  : 	}
; 642  : }

  0180b	5f		 pop	 edi
  0180c	5e		 pop	 esi
  0180d	5b		 pop	 ebx
  0180e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01811	33 cd		 xor	 ecx, ebp
  01813	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01818	8b e5		 mov	 esp, ebp
  0181a	5d		 pop	 ebp
  0181b	c3		 ret	 0
?PrecessStatusWait@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::PrecessStatusWait
_TEXT	ENDS
PUBLIC	?TeleportInFinal@CDungeonSiege@@QAE_NXZ		; CDungeonSiege::TeleportInFinal
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_iTickMsec$ = -8					; size = 4
_this$ = -4						; size = 4
?ProcessStatusStartStage1@CDungeonSiege@@QAEXXZ PROC	; CDungeonSiege::ProcessStatusStartStage1
; _this$ = ecx

; 645  : {

  01820	55		 push	 ebp
  01821	8b ec		 mov	 ebp, esp
  01823	83 ec 48	 sub	 esp, 72			; 00000048H
  01826	53		 push	 ebx
  01827	56		 push	 esi
  01828	57		 push	 edi
  01829	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 646  : 	int iTickMsec = (GetTickCount() - this->iTickCount);

  0182c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  01832	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01835	2b 41 24	 sub	 eax, DWORD PTR [ecx+36]
  01838	89 45 f8	 mov	 DWORD PTR _iTickMsec$[ebp], eax

; 647  : 
; 648  : 	if(iTickMsec >= 1000)

  0183b	81 7d f8 e8 03
	00 00		 cmp	 DWORD PTR _iTickMsec$[ebp], 1000 ; 000003e8H
  01842	7c 1b		 jl	 SHORT $LN3@ProcessSta@3

; 649  : 	{
; 650  : 		this->iTickRemain -= iTickMsec;			

  01844	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  01847	8b 48 28	 mov	 ecx, DWORD PTR [eax+40]
  0184a	2b 4d f8	 sub	 ecx, DWORD PTR _iTickMsec$[ebp]
  0184d	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  01850	89 4a 28	 mov	 DWORD PTR [edx+40], ecx

; 651  : 		this->iTickCount = GetTickCount();

  01853	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  01859	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0185c	89 41 24	 mov	 DWORD PTR [ecx+36], eax
$LN3@ProcessSta@3:

; 652  : 	}
; 653  : 
; 654  : 	if(this->iTickRemain <= 0)

  0185f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  01862	83 78 28 00	 cmp	 DWORD PTR [eax+40], 0
  01866	7f 25		 jg	 SHORT $LN4@ProcessSta@3

; 655  : 	{
; 656  : 		if(!this->TeleportInFinal())

  01868	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0186b	e8 00 00 00 00	 call	 ?TeleportInFinal@CDungeonSiege@@QAE_NXZ ; CDungeonSiege::TeleportInFinal
  01870	0f b6 c0	 movzx	 eax, al
  01873	85 c0		 test	 eax, eax
  01875	75 0c		 jne	 SHORT $LN1@ProcessSta@3

; 657  : 		{
; 658  : 			this->SetStatus(eEVENTDUNGEON_CLOSE);

  01877	6a 00		 push	 0
  01879	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0187c	e8 00 00 00 00	 call	 ?SetStatus@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::SetStatus

; 659  : 			return;

  01881	eb 0a		 jmp	 SHORT $LN4@ProcessSta@3
$LN1@ProcessSta@3:

; 660  : 		}
; 661  : 
; 662  : 		this->SetStatus(eEVENTDUNGEON_WAIT_STAGE2);

  01883	6a 03		 push	 3
  01885	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01888	e8 00 00 00 00	 call	 ?SetStatus@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::SetStatus
$LN4@ProcessSta@3:

; 663  : 	}
; 664  : }

  0188d	5f		 pop	 edi
  0188e	5e		 pop	 esi
  0188f	5b		 pop	 ebx
  01890	8b e5		 mov	 esp, ebp
  01892	5d		 pop	 ebp
  01893	c3		 ret	 0
?ProcessStatusStartStage1@CDungeonSiege@@QAEXXZ ENDP	; CDungeonSiege::ProcessStatusStartStage1
_TEXT	ENDS
PUBLIC	??_C@_0DA@ECLCBKOH@?$FL?$CFs?$FN?5Second?5stage?5will?5start?5aft@ ; `string'
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0DA@ECLCBKOH@?$FL?$CFs?$FN?5Second?5stage?5will?5start?5aft@
CONST	SEGMENT
??_C@_0DA@ECLCBKOH@?$FL?$CFs?$FN?5Second?5stage?5will?5start?5aft@ DB '[%'
	DB	's] Second stage will start after %d minute(s)', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_szTemp$230651 = -272					; size = 256
_iWaitMin$230650 = -16					; size = 4
_iTickMsec$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
?PrecessStatusWaitStage2@CDungeonSiege@@QAEXXZ PROC	; CDungeonSiege::PrecessStatusWaitStage2
; _this$ = ecx

; 667  : {

  018a0	55		 push	 ebp
  018a1	8b ec		 mov	 ebp, esp
  018a3	81 ec 50 01 00
	00		 sub	 esp, 336		; 00000150H
  018a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  018ae	33 c5		 xor	 eax, ebp
  018b0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  018b3	53		 push	 ebx
  018b4	56		 push	 esi
  018b5	57		 push	 edi
  018b6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 668  : 	int iTickMsec = (GetTickCount() - this->iTickCount);

  018b9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  018bf	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  018c2	2b 41 24	 sub	 eax, DWORD PTR [ecx+36]
  018c5	89 45 f4	 mov	 DWORD PTR _iTickMsec$[ebp], eax

; 669  : 
; 670  : 	if(iTickMsec >= 1000)

  018c8	81 7d f4 e8 03
	00 00		 cmp	 DWORD PTR _iTickMsec$[ebp], 1000 ; 000003e8H
  018cf	0f 8c a3 00 00
	00		 jl	 $LN5@PrecessSta@2

; 671  : 	{
; 672  : 		this->iTickRemain -= iTickMsec;			

  018d5	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  018d8	8b 48 28	 mov	 ecx, DWORD PTR [eax+40]
  018db	2b 4d f4	 sub	 ecx, DWORD PTR _iTickMsec$[ebp]
  018de	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  018e1	89 4a 28	 mov	 DWORD PTR [edx+40], ecx

; 673  : 		this->iTickCount = GetTickCount();

  018e4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  018ea	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  018ed	89 41 24	 mov	 DWORD PTR [ecx+36], eax

; 674  : 
; 675  : 		if(this->iTickRemain <= (60000 * this->iEventDurationWait2))

  018f0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  018f3	8b 48 74	 mov	 ecx, DWORD PTR [eax+116]
  018f6	69 c9 60 ea 00
	00		 imul	 ecx, 60000		; 0000ea60H
  018fc	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  018ff	39 4a 28	 cmp	 DWORD PTR [edx+40], ecx
  01902	7f 74		 jg	 SHORT $LN5@PrecessSta@2

; 676  : 		{
; 677  : 			if((GetTickCount() - this->iTickWait) > 60000)

  01904	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  0190a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0190d	2b 41 2c	 sub	 eax, DWORD PTR [ecx+44]
  01910	3d 60 ea 00 00	 cmp	 eax, 60000		; 0000ea60H
  01915	76 61		 jbe	 SHORT $LN5@PrecessSta@2

; 678  : 			{
; 679  : 				int iWaitMin = (this->iTickRemain/60000) + 1;

  01917	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0191a	8b 40 28	 mov	 eax, DWORD PTR [eax+40]
  0191d	99		 cdq
  0191e	b9 60 ea 00 00	 mov	 ecx, 60000		; 0000ea60H
  01923	f7 f9		 idiv	 ecx
  01925	83 c0 01	 add	 eax, 1
  01928	89 45 f0	 mov	 DWORD PTR _iWaitMin$230650[ebp], eax

; 680  : 				char szTemp[256];
; 681  : 				sprintf(szTemp, "[%s] Second stage will start after %d minute(s)", this->m_EventName, iWaitMin);

  0192b	8b 45 f0	 mov	 eax, DWORD PTR _iWaitMin$230650[ebp]
  0192e	50		 push	 eax
  0192f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01932	81 c1 e4 00 00
	00		 add	 ecx, 228		; 000000e4H
  01938	51		 push	 ecx
  01939	68 00 00 00 00	 push	 OFFSET ??_C@_0DA@ECLCBKOH@?$FL?$CFs?$FN?5Second?5stage?5will?5start?5aft@
  0193e	8d 95 f0 fe ff
	ff		 lea	 edx, DWORD PTR _szTemp$230651[ebp]
  01944	52		 push	 edx
  01945	e8 00 00 00 00	 call	 _sprintf
  0194a	83 c4 10	 add	 esp, 16			; 00000010H

; 682  : 				AllSendServerMsg(szTemp);

  0194d	8d 85 f0 fe ff
	ff		 lea	 eax, DWORD PTR _szTemp$230651[ebp]
  01953	50		 push	 eax
  01954	e8 00 00 00 00	 call	 ?AllSendServerMsg@@YAXPAD@Z ; AllSendServerMsg
  01959	83 c4 04	 add	 esp, 4

; 683  : 				this->iTickWait = GetTickCount();

  0195c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  01962	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01965	89 41 2c	 mov	 DWORD PTR [ecx+44], eax

; 684  : 				if(iWaitMin == 1)

  01968	83 7d f0 01	 cmp	 DWORD PTR _iWaitMin$230650[ebp], 1
  0196c	75 0a		 jne	 SHORT $LN5@PrecessSta@2

; 685  : 				{
; 686  : 					this->GCMapAttributeAll(1);

  0196e	6a 01		 push	 1
  01970	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01973	e8 00 00 00 00	 call	 ?GCMapAttributeAll@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::GCMapAttributeAll
$LN5@PrecessSta@2:

; 687  : 				}
; 688  : 			}
; 689  : 		}		
; 690  : 	}
; 691  : 
; 692  : 	if(this->iTickRemain <= 0)

  01978	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0197b	83 78 28 00	 cmp	 DWORD PTR [eax+40], 0
  0197f	7f 0a		 jg	 SHORT $LN6@PrecessSta@2

; 693  : 	{
; 694  : 		this->SetStatus(eEVENTDUNGEON_START_STAGE2);

  01981	6a 04		 push	 4
  01983	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01986	e8 00 00 00 00	 call	 ?SetStatus@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::SetStatus
$LN6@PrecessSta@2:

; 695  : 	}
; 696  : }

  0198b	5f		 pop	 edi
  0198c	5e		 pop	 esi
  0198d	5b		 pop	 ebx
  0198e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01991	33 cd		 xor	 ecx, ebp
  01993	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01998	8b e5		 mov	 esp, ebp
  0199a	5d		 pop	 ebp
  0199b	c3		 ret	 0
?PrecessStatusWaitStage2@CDungeonSiege@@QAEXXZ ENDP	; CDungeonSiege::PrecessStatusWaitStage2
_TEXT	ENDS
PUBLIC	?RewardSiege@CDungeonSiege@@QAEXH@Z		; CDungeonSiege::RewardSiege
PUBLIC	?MapKick@CDungeonSiege@@QAEXH@Z			; CDungeonSiege::MapKick
PUBLIC	??_C@_0BJ@NCLPJDDN@?$FL?$CFs?$FN?5?$CFs?5hero?5of?5Dungeon?$CB?$AA@ ; `string'
PUBLIC	__$ArrayPad$
;	COMDAT ??_C@_0BJ@NCLPJDDN@?$FL?$CFs?$FN?5?$CFs?5hero?5of?5Dungeon?$CB?$AA@
CONST	SEGMENT
??_C@_0BJ@NCLPJDDN@?$FL?$CFs?$FN?5?$CFs?5hero?5of?5Dungeon?$CB?$AA@ DB '['
	DB	'%s] %s hero of Dungeon!', 00H		; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv87 = -600						; size = 4
tv80 = -600						; size = 4
_szTemp$230669 = -532					; size = 256
_szTemp$230665 = -276					; size = 256
_lpUser2$230663 = -20					; size = 4
_lpUser1$230662 = -16					; size = 4
_iTickMsec$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
?ProcessStatusStartStage2@CDungeonSiege@@QAEXXZ PROC	; CDungeonSiege::ProcessStatusStartStage2
; _this$ = ecx

; 699  : {

  019a0	55		 push	 ebp
  019a1	8b ec		 mov	 ebp, esp
  019a3	81 ec 58 02 00
	00		 sub	 esp, 600		; 00000258H
  019a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  019ae	33 c5		 xor	 eax, ebp
  019b0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  019b3	53		 push	 ebx
  019b4	56		 push	 esi
  019b5	57		 push	 edi
  019b6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 700  : 	int iTickMsec = (GetTickCount() - this->iTickCount);

  019b9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  019bf	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  019c2	2b 41 24	 sub	 eax, DWORD PTR [ecx+36]
  019c5	89 45 f4	 mov	 DWORD PTR _iTickMsec$[ebp], eax

; 701  : 
; 702  : 	if(iTickMsec >= 1000)

  019c8	81 7d f4 e8 03
	00 00		 cmp	 DWORD PTR _iTickMsec$[ebp], 1000 ; 000003e8H
  019cf	7c 1b		 jl	 SHORT $LN7@ProcessSta@4

; 703  : 	{
; 704  : 		this->iTickRemain -= iTickMsec;			

  019d1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  019d4	8b 48 28	 mov	 ecx, DWORD PTR [eax+40]
  019d7	2b 4d f4	 sub	 ecx, DWORD PTR _iTickMsec$[ebp]
  019da	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  019dd	89 4a 28	 mov	 DWORD PTR [edx+40], ecx

; 705  : 		this->iTickCount = GetTickCount();

  019e0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  019e6	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  019e9	89 41 24	 mov	 DWORD PTR [ecx+36], eax
$LN7@ProcessSta@4:

; 706  : 	}
; 707  : 
; 708  : 	if(this->iTickRemain <= 0)

  019ec	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  019ef	83 78 28 00	 cmp	 DWORD PTR [eax+40], 0
  019f3	0f 8f 2f 02 00
	00		 jg	 $LN8@ProcessSta@4

; 709  : 	{
; 710  : 		if(OBJMAX_RANGE(this->aIndexFinal1) && OBJMAX_RANGE(this->aIndexFinal2))

  019f9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  019fc	83 78 38 00	 cmp	 DWORD PTR [eax+56], 0
  01a00	7d 0c		 jge	 SHORT $LN10@ProcessSta@4
  01a02	c7 85 a8 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv80[ebp], 0
  01a0c	eb 15		 jmp	 SHORT $LN11@ProcessSta@4
$LN10@ProcessSta@4:
  01a0e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01a11	33 d2		 xor	 edx, edx
  01a13	81 79 38 97 3a
	00 00		 cmp	 DWORD PTR [ecx+56], 14999 ; 00003a97H
  01a1a	0f 9e c2	 setle	 dl
  01a1d	89 95 a8 fd ff
	ff		 mov	 DWORD PTR tv80[ebp], edx
$LN11@ProcessSta@4:
  01a23	83 bd a8 fd ff
	ff 00		 cmp	 DWORD PTR tv80[ebp], 0
  01a2a	0f 84 ee 01 00
	00		 je	 $LN5@ProcessSta@4
  01a30	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01a33	83 78 3c 00	 cmp	 DWORD PTR [eax+60], 0
  01a37	7d 0c		 jge	 SHORT $LN12@ProcessSta@4
  01a39	c7 85 a8 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv87[ebp], 0
  01a43	eb 15		 jmp	 SHORT $LN13@ProcessSta@4
$LN12@ProcessSta@4:
  01a45	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01a48	33 d2		 xor	 edx, edx
  01a4a	81 79 3c 97 3a
	00 00		 cmp	 DWORD PTR [ecx+60], 14999 ; 00003a97H
  01a51	0f 9e c2	 setle	 dl
  01a54	89 95 a8 fd ff
	ff		 mov	 DWORD PTR tv87[ebp], edx
$LN13@ProcessSta@4:
  01a5a	83 bd a8 fd ff
	ff 00		 cmp	 DWORD PTR tv87[ebp], 0
  01a61	0f 84 b7 01 00
	00		 je	 $LN5@ProcessSta@4

; 711  : 		{
; 712  : 			LPOBJ lpUser1 = &gObj[this->aIndexFinal1];

  01a67	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01a6a	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  01a6d	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01a73	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01a79	89 4d f0	 mov	 DWORD PTR _lpUser1$230662[ebp], ecx

; 713  : 			LPOBJ lpUser2 = &gObj[this->aIndexFinal2];

  01a7c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01a7f	8b 48 3c	 mov	 ecx, DWORD PTR [eax+60]
  01a82	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  01a88	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01a8e	89 4d ec	 mov	 DWORD PTR _lpUser2$230663[ebp], ecx

; 714  : 
; 715  : 			if(lpUser1->DSiege.iScore2 > lpUser2->DSiege.iScore2)

  01a91	8b 45 f0	 mov	 eax, DWORD PTR _lpUser1$230662[ebp]
  01a94	8b 4d ec	 mov	 ecx, DWORD PTR _lpUser2$230663[ebp]
  01a97	8b 90 08 29 00
	00		 mov	 edx, DWORD PTR [eax+10504]
  01a9d	3b 91 08 29 00
	00		 cmp	 edx, DWORD PTR [ecx+10504]
  01aa3	0f 8e aa 00 00
	00		 jle	 $LN4@ProcessSta@4

; 716  : 			{
; 717  : 				char szTemp[256];
; 718  : 				sprintf(szTemp, "[%s] %s hero of Dungeon!", this->m_EventName, lpUser1->Name);

  01aa9	8b 45 f0	 mov	 eax, DWORD PTR _lpUser1$230662[ebp]
  01aac	83 c0 77	 add	 eax, 119		; 00000077H
  01aaf	50		 push	 eax
  01ab0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01ab3	81 c1 e4 00 00
	00		 add	 ecx, 228		; 000000e4H
  01ab9	51		 push	 ecx
  01aba	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@NCLPJDDN@?$FL?$CFs?$FN?5?$CFs?5hero?5of?5Dungeon?$CB?$AA@
  01abf	8d 95 ec fe ff
	ff		 lea	 edx, DWORD PTR _szTemp$230665[ebp]
  01ac5	52		 push	 edx
  01ac6	e8 00 00 00 00	 call	 _sprintf
  01acb	83 c4 10	 add	 esp, 16			; 00000010H

; 719  : 				AllSendServerMsg(szTemp);

  01ace	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _szTemp$230665[ebp]
  01ad4	50		 push	 eax
  01ad5	e8 00 00 00 00	 call	 ?AllSendServerMsg@@YAXPAD@Z ; AllSendServerMsg
  01ada	83 c4 04	 add	 esp, 4

; 720  : 
; 721  : 				this->bCaptured = true;

  01add	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01ae0	c6 40 14 01	 mov	 BYTE PTR [eax+20], 1

; 722  : 				memcpy(this->szLordGuild, lpUser1->GuildName, sizeof(this->szLordGuild)-1);

  01ae4	6a 08		 push	 8
  01ae6	8b 45 f0	 mov	 eax, DWORD PTR _lpUser1$230662[ebp]
  01ae9	05 3c 04 00 00	 add	 eax, 1084		; 0000043cH
  01aee	50		 push	 eax
  01aef	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01af2	83 c1 15	 add	 ecx, 21			; 00000015H
  01af5	51		 push	 ecx
  01af6	e8 00 00 00 00	 call	 _memcpy
  01afb	83 c4 0c	 add	 esp, 12			; 0000000cH

; 723  : 
; 724  : 				sprintf(szTemp, "[%s] %s are new owners of the Dungeon", this->m_EventName, this->szLordGuild);

  01afe	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01b01	83 c0 15	 add	 eax, 21			; 00000015H
  01b04	50		 push	 eax
  01b05	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01b08	81 c1 e4 00 00
	00		 add	 ecx, 228		; 000000e4H
  01b0e	51		 push	 ecx
  01b0f	68 00 00 00 00	 push	 OFFSET ??_C@_0CG@JALOJN@?$FL?$CFs?$FN?5?$CFs?5are?5new?5owners?5of?5the?5Du@
  01b14	8d 95 ec fe ff
	ff		 lea	 edx, DWORD PTR _szTemp$230665[ebp]
  01b1a	52		 push	 edx
  01b1b	e8 00 00 00 00	 call	 _sprintf
  01b20	83 c4 10	 add	 esp, 16			; 00000010H

; 725  : 				AllSendServerMsg(szTemp);

  01b23	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _szTemp$230665[ebp]
  01b29	50		 push	 eax
  01b2a	e8 00 00 00 00	 call	 ?AllSendServerMsg@@YAXPAD@Z ; AllSendServerMsg
  01b2f	83 c4 04	 add	 esp, 4

; 726  : 
; 727  : 				this->MapKick(lpUser2->m_Index);

  01b32	8b 45 ec	 mov	 eax, DWORD PTR _lpUser2$230663[ebp]
  01b35	8b 08		 mov	 ecx, DWORD PTR [eax]
  01b37	51		 push	 ecx
  01b38	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01b3b	e8 00 00 00 00	 call	 ?MapKick@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::MapKick

; 728  : 
; 729  : 				this->RewardSiege(lpUser1->m_Index);

  01b40	8b 45 f0	 mov	 eax, DWORD PTR _lpUser1$230662[ebp]
  01b43	8b 08		 mov	 ecx, DWORD PTR [eax]
  01b45	51		 push	 ecx
  01b46	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01b49	e8 00 00 00 00	 call	 ?RewardSiege@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::RewardSiege
  01b4e	e9 cb 00 00 00	 jmp	 $LN5@ProcessSta@4
$LN4@ProcessSta@4:

; 730  : 			}
; 731  : 			else if(lpUser2->DSiege.iScore2 > lpUser1->DSiege.iScore2)

  01b53	8b 45 ec	 mov	 eax, DWORD PTR _lpUser2$230663[ebp]
  01b56	8b 4d f0	 mov	 ecx, DWORD PTR _lpUser1$230662[ebp]
  01b59	8b 90 08 29 00
	00		 mov	 edx, DWORD PTR [eax+10504]
  01b5f	3b 91 08 29 00
	00		 cmp	 edx, DWORD PTR [ecx+10504]
  01b65	0f 8e a7 00 00
	00		 jle	 $LN2@ProcessSta@4

; 732  : 			{
; 733  : 				char szTemp[256];
; 734  : 				sprintf(szTemp, "[%s] %s hero of Dungeon!", this->m_EventName, lpUser2->Name);

  01b6b	8b 45 ec	 mov	 eax, DWORD PTR _lpUser2$230663[ebp]
  01b6e	83 c0 77	 add	 eax, 119		; 00000077H
  01b71	50		 push	 eax
  01b72	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01b75	81 c1 e4 00 00
	00		 add	 ecx, 228		; 000000e4H
  01b7b	51		 push	 ecx
  01b7c	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@NCLPJDDN@?$FL?$CFs?$FN?5?$CFs?5hero?5of?5Dungeon?$CB?$AA@
  01b81	8d 95 ec fd ff
	ff		 lea	 edx, DWORD PTR _szTemp$230669[ebp]
  01b87	52		 push	 edx
  01b88	e8 00 00 00 00	 call	 _sprintf
  01b8d	83 c4 10	 add	 esp, 16			; 00000010H

; 735  : 				AllSendServerMsg(szTemp);

  01b90	8d 85 ec fd ff
	ff		 lea	 eax, DWORD PTR _szTemp$230669[ebp]
  01b96	50		 push	 eax
  01b97	e8 00 00 00 00	 call	 ?AllSendServerMsg@@YAXPAD@Z ; AllSendServerMsg
  01b9c	83 c4 04	 add	 esp, 4

; 736  : 
; 737  : 				this->bCaptured = true;

  01b9f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01ba2	c6 40 14 01	 mov	 BYTE PTR [eax+20], 1

; 738  : 				memcpy(this->szLordGuild, lpUser1->GuildName, sizeof(this->szLordGuild)-1);

  01ba6	6a 08		 push	 8
  01ba8	8b 45 f0	 mov	 eax, DWORD PTR _lpUser1$230662[ebp]
  01bab	05 3c 04 00 00	 add	 eax, 1084		; 0000043cH
  01bb0	50		 push	 eax
  01bb1	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01bb4	83 c1 15	 add	 ecx, 21			; 00000015H
  01bb7	51		 push	 ecx
  01bb8	e8 00 00 00 00	 call	 _memcpy
  01bbd	83 c4 0c	 add	 esp, 12			; 0000000cH

; 739  : 
; 740  : 				sprintf(szTemp, "[%s] %s are new owners of the Dungeon", this->m_EventName, this->szLordGuild);

  01bc0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01bc3	83 c0 15	 add	 eax, 21			; 00000015H
  01bc6	50		 push	 eax
  01bc7	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01bca	81 c1 e4 00 00
	00		 add	 ecx, 228		; 000000e4H
  01bd0	51		 push	 ecx
  01bd1	68 00 00 00 00	 push	 OFFSET ??_C@_0CG@JALOJN@?$FL?$CFs?$FN?5?$CFs?5are?5new?5owners?5of?5the?5Du@
  01bd6	8d 95 ec fd ff
	ff		 lea	 edx, DWORD PTR _szTemp$230669[ebp]
  01bdc	52		 push	 edx
  01bdd	e8 00 00 00 00	 call	 _sprintf
  01be2	83 c4 10	 add	 esp, 16			; 00000010H

; 741  : 				AllSendServerMsg(szTemp);

  01be5	8d 85 ec fd ff
	ff		 lea	 eax, DWORD PTR _szTemp$230669[ebp]
  01beb	50		 push	 eax
  01bec	e8 00 00 00 00	 call	 ?AllSendServerMsg@@YAXPAD@Z ; AllSendServerMsg
  01bf1	83 c4 04	 add	 esp, 4

; 742  : 
; 743  : 				this->MapKick(lpUser1->m_Index);

  01bf4	8b 45 f0	 mov	 eax, DWORD PTR _lpUser1$230662[ebp]
  01bf7	8b 08		 mov	 ecx, DWORD PTR [eax]
  01bf9	51		 push	 ecx
  01bfa	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01bfd	e8 00 00 00 00	 call	 ?MapKick@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::MapKick

; 744  : 
; 745  : 				this->RewardSiege(lpUser2->m_Index);

  01c02	8b 45 ec	 mov	 eax, DWORD PTR _lpUser2$230663[ebp]
  01c05	8b 08		 mov	 ecx, DWORD PTR [eax]
  01c07	51		 push	 ecx
  01c08	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01c0b	e8 00 00 00 00	 call	 ?RewardSiege@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::RewardSiege

; 746  : 			}
; 747  : 			else

  01c10	eb 0c		 jmp	 SHORT $LN5@ProcessSta@4
$LN2@ProcessSta@4:

; 748  : 			{
; 749  : 				this->iTickRemain = 60000;

  01c12	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01c15	c7 40 28 60 ea
	00 00		 mov	 DWORD PTR [eax+40], 60000 ; 0000ea60H

; 750  : 				return;

  01c1c	eb 0a		 jmp	 SHORT $LN8@ProcessSta@4
$LN5@ProcessSta@4:

; 751  : 			}
; 752  : 		}
; 753  : 
; 754  : 		this->SetStatus(eEVENTDUNGEON_CLOSE);

  01c1e	6a 00		 push	 0
  01c20	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01c23	e8 00 00 00 00	 call	 ?SetStatus@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::SetStatus
$LN8@ProcessSta@4:

; 755  : 	}
; 756  : }

  01c28	5f		 pop	 edi
  01c29	5e		 pop	 esi
  01c2a	5b		 pop	 ebx
  01c2b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01c2e	33 cd		 xor	 ecx, ebp
  01c30	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01c35	8b e5		 mov	 esp, ebp
  01c37	5d		 pop	 ebp
  01c38	c3		 ret	 0
?ProcessStatusStartStage2@CDungeonSiege@@QAEXXZ ENDP	; CDungeonSiege::ProcessStatusStartStage2
_TEXT	ENDS
PUBLIC	?ChangePkLevel@CDungeonSiege@@QAE_NHH@Z		; CDungeonSiege::ChangePkLevel
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv75 = -80						; size = 4
tv70 = -80						; size = 4
_lpTarget$ = -12					; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
?ChangePkLevel@CDungeonSiege@@QAE_NHH@Z PROC		; CDungeonSiege::ChangePkLevel
; _this$ = ecx

; 759  : {

  01c40	55		 push	 ebp
  01c41	8b ec		 mov	 ebp, esp
  01c43	83 ec 50	 sub	 esp, 80			; 00000050H
  01c46	53		 push	 ebx
  01c47	56		 push	 esi
  01c48	57		 push	 edi
  01c49	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 760  : 	if(!this->bEnable)

  01c4c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  01c4f	0f b6 48 48	 movzx	 ecx, BYTE PTR [eax+72]
  01c53	85 c9		 test	 ecx, ecx
  01c55	75 07		 jne	 SHORT $LN8@ChangePkLe

; 761  : 	{
; 762  : 		return true;

  01c57	b0 01		 mov	 al, 1
  01c59	e9 d8 00 00 00	 jmp	 $LN9@ChangePkLe
$LN8@ChangePkLe:

; 763  : 	}
; 764  : 
; 765  : 	if(!OBJMAX_RANGE(aIndex) || !OBJMAX_RANGE(aTargetIndex))

  01c5e	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  01c62	7d 09		 jge	 SHORT $LN11@ChangePkLe
  01c64	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
  01c6b	eb 0f		 jmp	 SHORT $LN12@ChangePkLe
$LN11@ChangePkLe:
  01c6d	33 c0		 xor	 eax, eax
  01c6f	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  01c76	0f 9e c0	 setle	 al
  01c79	89 45 b0	 mov	 DWORD PTR tv70[ebp], eax
$LN12@ChangePkLe:
  01c7c	83 7d b0 00	 cmp	 DWORD PTR tv70[ebp], 0
  01c80	74 24		 je	 SHORT $LN6@ChangePkLe
  01c82	83 7d 0c 00	 cmp	 DWORD PTR _aTargetIndex$[ebp], 0
  01c86	7d 09		 jge	 SHORT $LN13@ChangePkLe
  01c88	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv75[ebp], 0
  01c8f	eb 0f		 jmp	 SHORT $LN14@ChangePkLe
$LN13@ChangePkLe:
  01c91	33 c0		 xor	 eax, eax
  01c93	81 7d 0c 97 3a
	00 00		 cmp	 DWORD PTR _aTargetIndex$[ebp], 14999 ; 00003a97H
  01c9a	0f 9e c0	 setle	 al
  01c9d	89 45 b0	 mov	 DWORD PTR tv75[ebp], eax
$LN14@ChangePkLe:
  01ca0	83 7d b0 00	 cmp	 DWORD PTR tv75[ebp], 0
  01ca4	75 07		 jne	 SHORT $LN7@ChangePkLe
$LN6@ChangePkLe:

; 766  : 	{
; 767  : 		return true;

  01ca6	b0 01		 mov	 al, 1
  01ca8	e9 89 00 00 00	 jmp	 $LN9@ChangePkLe
$LN7@ChangePkLe:

; 768  : 	}
; 769  : 
; 770  : 	LPOBJ lpUser = &gObj[aIndex];

  01cad	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01cb0	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01cb6	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01cbc	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 771  : 	LPOBJ lpTarget = &gObj[aTargetIndex];	

  01cbf	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  01cc2	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01cc8	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01cce	89 45 f4	 mov	 DWORD PTR _lpTarget$[ebp], eax

; 772  : 
; 773  : 	if(lpUser->Connected < PLAYER_PLAYING || lpTarget->Connected < PLAYER_PLAYING)

  01cd1	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  01cd4	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  01cd8	7c 09		 jl	 SHORT $LN4@ChangePkLe
  01cda	8b 45 f4	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  01cdd	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  01ce1	7d 04		 jge	 SHORT $LN5@ChangePkLe
$LN4@ChangePkLe:

; 774  : 	{
; 775  : 		return true;

  01ce3	b0 01		 mov	 al, 1
  01ce5	eb 4f		 jmp	 SHORT $LN9@ChangePkLe
$LN5@ChangePkLe:

; 776  : 	}
; 777  : 
; 778  : 	if(lpUser->MapNumber != this->m_EventMapNumber)

  01ce7	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  01cea	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  01cf1	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  01cf4	3b 4a 78	 cmp	 ecx, DWORD PTR [edx+120]
  01cf7	74 04		 je	 SHORT $LN3@ChangePkLe

; 779  : 	{
; 780  : 		return true;

  01cf9	b0 01		 mov	 al, 1
  01cfb	eb 39		 jmp	 SHORT $LN9@ChangePkLe
$LN3@ChangePkLe:

; 781  : 	}
; 782  : 
; 783  : 	if(this->CheckStatus(eEVENTDUNGEON_CLOSE) || this->CheckStatus(eEVENTDUNGEON_WAIT) || this->CheckStatus(eEVENTDUNGEON_WAIT_STAGE2))

  01cfd	6a 00		 push	 0
  01cff	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01d02	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  01d07	0f b6 c0	 movzx	 eax, al
  01d0a	85 c0		 test	 eax, eax
  01d0c	75 22		 jne	 SHORT $LN1@ChangePkLe
  01d0e	6a 01		 push	 1
  01d10	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01d13	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  01d18	0f b6 c0	 movzx	 eax, al
  01d1b	85 c0		 test	 eax, eax
  01d1d	75 11		 jne	 SHORT $LN1@ChangePkLe
  01d1f	6a 03		 push	 3
  01d21	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  01d24	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  01d29	0f b6 c0	 movzx	 eax, al
  01d2c	85 c0		 test	 eax, eax
  01d2e	74 04		 je	 SHORT $LN2@ChangePkLe
$LN1@ChangePkLe:

; 784  : 	{
; 785  : 		return true;

  01d30	b0 01		 mov	 al, 1
  01d32	eb 02		 jmp	 SHORT $LN9@ChangePkLe
$LN2@ChangePkLe:

; 786  : 	}
; 787  : 
; 788  : 	return false;

  01d34	32 c0		 xor	 al, al
$LN9@ChangePkLe:

; 789  : }

  01d36	5f		 pop	 edi
  01d37	5e		 pop	 esi
  01d38	5b		 pop	 ebx
  01d39	8b e5		 mov	 esp, ebp
  01d3b	5d		 pop	 ebp
  01d3c	c2 08 00	 ret	 8
?ChangePkLevel@CDungeonSiege@@QAE_NHH@Z ENDP		; CDungeonSiege::ChangePkLevel
_TEXT	ENDS
PUBLIC	??_C@_0BF@GIPAHBLN@?$FL?$CFs?$FN?5Guild?5Score?3?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0P@HLIMCEHJ@?$FL?$CFs?$FN?5Score?3?5?$CFd?$AA@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?PlayerScore@CDungeonSiege@@QAE_NHH@Z		; CDungeonSiege::PlayerScore
EXTRN	?MsgOutput@@YAXHPADZZ:PROC			; MsgOutput
;	COMDAT ??_C@_0BF@GIPAHBLN@?$FL?$CFs?$FN?5Guild?5Score?3?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BF@GIPAHBLN@?$FL?$CFs?$FN?5Guild?5Score?3?5?$CFd?$AA@ DB '[%s] Gui'
	DB	'ld Score: %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@HLIMCEHJ@?$FL?$CFs?$FN?5Score?3?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0P@HLIMCEHJ@?$FL?$CFs?$FN?5Score?3?5?$CFd?$AA@ DB '[%s] Score: %d', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv75 = -340						; size = 4
tv70 = -340						; size = 4
_szTemp$230708 = -272					; size = 256
_lpTarget$ = -16					; size = 4
_lpUser$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
?PlayerScore@CDungeonSiege@@QAE_NHH@Z PROC		; CDungeonSiege::PlayerScore
; _this$ = ecx

; 792  : {

  01d40	55		 push	 ebp
  01d41	8b ec		 mov	 ebp, esp
  01d43	81 ec 54 01 00
	00		 sub	 esp, 340		; 00000154H
  01d49	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  01d4e	33 c5		 xor	 eax, ebp
  01d50	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  01d53	53		 push	 ebx
  01d54	56		 push	 esi
  01d55	57		 push	 edi
  01d56	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 793  : 	if(!this->bEnable)

  01d59	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01d5c	0f b6 48 48	 movzx	 ecx, BYTE PTR [eax+72]
  01d60	85 c9		 test	 ecx, ecx
  01d62	75 07		 jne	 SHORT $LN13@PlayerScor

; 794  : 	{
; 795  : 		return false;

  01d64	32 c0		 xor	 al, al
  01d66	e9 b5 02 00 00	 jmp	 $LN14@PlayerScor
$LN13@PlayerScor:

; 796  : 	}
; 797  : 
; 798  : 	if(!OBJMAX_RANGE(aIndex) || !OBJMAX_RANGE(aTargetIndex))

  01d6b	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  01d6f	7d 0c		 jge	 SHORT $LN16@PlayerScor
  01d71	c7 85 ac fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv70[ebp], 0
  01d7b	eb 12		 jmp	 SHORT $LN17@PlayerScor
$LN16@PlayerScor:
  01d7d	33 c0		 xor	 eax, eax
  01d7f	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  01d86	0f 9e c0	 setle	 al
  01d89	89 85 ac fe ff
	ff		 mov	 DWORD PTR tv70[ebp], eax
$LN17@PlayerScor:
  01d8f	83 bd ac fe ff
	ff 00		 cmp	 DWORD PTR tv70[ebp], 0
  01d96	74 2d		 je	 SHORT $LN11@PlayerScor
  01d98	83 7d 0c 00	 cmp	 DWORD PTR _aTargetIndex$[ebp], 0
  01d9c	7d 0c		 jge	 SHORT $LN18@PlayerScor
  01d9e	c7 85 ac fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv75[ebp], 0
  01da8	eb 12		 jmp	 SHORT $LN19@PlayerScor
$LN18@PlayerScor:
  01daa	33 c0		 xor	 eax, eax
  01dac	81 7d 0c 97 3a
	00 00		 cmp	 DWORD PTR _aTargetIndex$[ebp], 14999 ; 00003a97H
  01db3	0f 9e c0	 setle	 al
  01db6	89 85 ac fe ff
	ff		 mov	 DWORD PTR tv75[ebp], eax
$LN19@PlayerScor:
  01dbc	83 bd ac fe ff
	ff 00		 cmp	 DWORD PTR tv75[ebp], 0
  01dc3	75 07		 jne	 SHORT $LN12@PlayerScor
$LN11@PlayerScor:

; 799  : 	{
; 800  : 		return false;

  01dc5	32 c0		 xor	 al, al
  01dc7	e9 54 02 00 00	 jmp	 $LN14@PlayerScor
$LN12@PlayerScor:

; 801  : 	}
; 802  : 
; 803  : 	LPOBJ lpUser = &gObj[aIndex];

  01dcc	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  01dcf	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01dd5	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01ddb	89 45 f4	 mov	 DWORD PTR _lpUser$[ebp], eax

; 804  : 	LPOBJ lpTarget = &gObj[aTargetIndex];	

  01dde	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  01de1	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  01de7	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  01ded	89 45 f0	 mov	 DWORD PTR _lpTarget$[ebp], eax

; 805  : 
; 806  : 	if(lpUser->Connected < PLAYER_PLAYING || lpTarget->Connected < PLAYER_PLAYING)

  01df0	8b 45 f4	 mov	 eax, DWORD PTR _lpUser$[ebp]
  01df3	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  01df7	7c 09		 jl	 SHORT $LN9@PlayerScor
  01df9	8b 45 f0	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  01dfc	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  01e00	7d 07		 jge	 SHORT $LN10@PlayerScor
$LN9@PlayerScor:

; 807  : 	{
; 808  : 		return false;

  01e02	32 c0		 xor	 al, al
  01e04	e9 17 02 00 00	 jmp	 $LN14@PlayerScor
$LN10@PlayerScor:

; 809  : 	}
; 810  : 
; 811  : 	if(lpUser->Type != OBJ_USER || lpTarget->Type != OBJ_USER)

  01e09	8b 45 f4	 mov	 eax, DWORD PTR _lpUser$[ebp]
  01e0c	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  01e10	83 f9 01	 cmp	 ecx, 1
  01e13	75 0c		 jne	 SHORT $LN7@PlayerScor
  01e15	8b 45 f0	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  01e18	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  01e1c	83 f9 01	 cmp	 ecx, 1
  01e1f	74 07		 je	 SHORT $LN8@PlayerScor
$LN7@PlayerScor:

; 812  : 	{
; 813  : 		return false;

  01e21	32 c0		 xor	 al, al
  01e23	e9 f8 01 00 00	 jmp	 $LN14@PlayerScor
$LN8@PlayerScor:

; 814  : 	}
; 815  : 
; 816  : 	if(lpUser->MapNumber != this->m_EventMapNumber)

  01e28	8b 45 f4	 mov	 eax, DWORD PTR _lpUser$[ebp]
  01e2b	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  01e32	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  01e35	3b 4a 78	 cmp	 ecx, DWORD PTR [edx+120]
  01e38	74 07		 je	 SHORT $LN6@PlayerScor

; 817  : 	{
; 818  : 		return false;

  01e3a	32 c0		 xor	 al, al
  01e3c	e9 df 01 00 00	 jmp	 $LN14@PlayerScor
$LN6@PlayerScor:

; 819  : 	}
; 820  : 
; 821  : 	if(this->CheckStatus(eEVENTDUNGEON_START_STAGE1))

  01e41	6a 02		 push	 2
  01e43	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01e46	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  01e4b	0f b6 c0	 movzx	 eax, al
  01e4e	85 c0		 test	 eax, eax
  01e50	0f 84 aa 00 00
	00		 je	 $LN5@PlayerScor

; 822  : 	{
; 823  : 		if(lpUser->GuildNumber != lpTarget->GuildNumber)

  01e56	8b 45 f4	 mov	 eax, DWORD PTR _lpUser$[ebp]
  01e59	8b 4d f0	 mov	 ecx, DWORD PTR _lpTarget$[ebp]
  01e5c	8b 90 34 04 00
	00		 mov	 edx, DWORD PTR [eax+1076]
  01e62	3b 91 34 04 00
	00		 cmp	 edx, DWORD PTR [ecx+1076]
  01e68	0f 84 8d 00 00
	00		 je	 $LN4@PlayerScor

; 824  : 		{
; 825  : 			lpTarget->DSiege.iScore++;

  01e6e	8b 45 f0	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  01e71	8b 88 04 29 00
	00		 mov	 ecx, DWORD PTR [eax+10500]
  01e77	83 c1 01	 add	 ecx, 1
  01e7a	8b 55 f0	 mov	 edx, DWORD PTR _lpTarget$[ebp]
  01e7d	89 8a 04 29 00
	00		 mov	 DWORD PTR [edx+10500], ecx

; 826  : 			lpTarget->lpGuild->DungeonSiege.iScore++;

  01e83	8b 45 f0	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  01e86	8b 88 38 04 00
	00		 mov	 ecx, DWORD PTR [eax+1080]
  01e8c	8b 91 48 07 00
	00		 mov	 edx, DWORD PTR [ecx+1864]
  01e92	83 c2 01	 add	 edx, 1
  01e95	8b 45 f0	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  01e98	8b 88 38 04 00
	00		 mov	 ecx, DWORD PTR [eax+1080]
  01e9e	89 91 48 07 00
	00		 mov	 DWORD PTR [ecx+1864], edx

; 827  : 			MsgOutput(aTargetIndex, "[%s] Score: %d", this->m_EventName, lpTarget->DSiege.iScore);

  01ea4	8b 45 f0	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  01ea7	8b 88 04 29 00
	00		 mov	 ecx, DWORD PTR [eax+10500]
  01ead	51		 push	 ecx
  01eae	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  01eb1	81 c2 e4 00 00
	00		 add	 edx, 228		; 000000e4H
  01eb7	52		 push	 edx
  01eb8	68 00 00 00 00	 push	 OFFSET ??_C@_0P@HLIMCEHJ@?$FL?$CFs?$FN?5Score?3?5?$CFd?$AA@
  01ebd	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  01ec0	50		 push	 eax
  01ec1	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  01ec6	83 c4 10	 add	 esp, 16			; 00000010H

; 828  : 			MsgOutput(aTargetIndex, "[%s] Guild Score: %d", this->m_EventName, lpTarget->lpGuild->DungeonSiege.iScore);

  01ec9	8b 45 f0	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  01ecc	8b 88 38 04 00
	00		 mov	 ecx, DWORD PTR [eax+1080]
  01ed2	8b 91 48 07 00
	00		 mov	 edx, DWORD PTR [ecx+1864]
  01ed8	52		 push	 edx
  01ed9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01edc	05 e4 00 00 00	 add	 eax, 228		; 000000e4H
  01ee1	50		 push	 eax
  01ee2	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@GIPAHBLN@?$FL?$CFs?$FN?5Guild?5Score?3?5?$CFd?$AA@
  01ee7	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  01eea	51		 push	 ecx
  01eeb	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  01ef0	83 c4 10	 add	 esp, 16			; 00000010H

; 829  : 			this->GCSiegeScore();

  01ef3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01ef6	e8 00 00 00 00	 call	 ?GCSiegeScore@CDungeonSiege@@QAEXXZ ; CDungeonSiege::GCSiegeScore
$LN4@PlayerScor:

; 830  : 		}
; 831  : 	}

  01efb	e9 1e 01 00 00	 jmp	 $LN3@PlayerScor
$LN5@PlayerScor:

; 832  : 	else if(this->CheckStatus(eEVENTDUNGEON_START_STAGE2))

  01f00	6a 04		 push	 4
  01f02	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01f05	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  01f0a	0f b6 c0	 movzx	 eax, al
  01f0d	85 c0		 test	 eax, eax
  01f0f	0f 84 09 01 00
	00		 je	 $LN3@PlayerScor

; 833  : 	{
; 834  : 		lpTarget->DSiege.iScore2++;

  01f15	8b 45 f0	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  01f18	8b 88 08 29 00
	00		 mov	 ecx, DWORD PTR [eax+10504]
  01f1e	83 c1 01	 add	 ecx, 1
  01f21	8b 55 f0	 mov	 edx, DWORD PTR _lpTarget$[ebp]
  01f24	89 8a 08 29 00
	00		 mov	 DWORD PTR [edx+10504], ecx

; 835  : 		MsgOutput(aTargetIndex, "[%s] Score: %d", this->m_EventName, lpTarget->DSiege.iScore2);

  01f2a	8b 45 f0	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  01f2d	8b 88 08 29 00
	00		 mov	 ecx, DWORD PTR [eax+10504]
  01f33	51		 push	 ecx
  01f34	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  01f37	81 c2 e4 00 00
	00		 add	 edx, 228		; 000000e4H
  01f3d	52		 push	 edx
  01f3e	68 00 00 00 00	 push	 OFFSET ??_C@_0P@HLIMCEHJ@?$FL?$CFs?$FN?5Score?3?5?$CFd?$AA@
  01f43	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  01f46	50		 push	 eax
  01f47	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  01f4c	83 c4 10	 add	 esp, 16			; 00000010H

; 836  : 
; 837  : 		if(lpTarget->DSiege.iScore2 >= this->m_FinalScoreForVictory)

  01f4f	8b 45 f0	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  01f52	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01f55	8b 90 08 29 00
	00		 mov	 edx, DWORD PTR [eax+10504]
  01f5b	3b 91 d8 00 00
	00		 cmp	 edx, DWORD PTR [ecx+216]
  01f61	0f 8c af 00 00
	00		 jl	 $LN1@PlayerScor

; 838  : 		{
; 839  : 			char szTemp[256];
; 840  : 			sprintf(szTemp, "[%s] %s hero of Dungeon!", this->m_EventName, lpTarget->Name);

  01f67	8b 45 f0	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  01f6a	83 c0 77	 add	 eax, 119		; 00000077H
  01f6d	50		 push	 eax
  01f6e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01f71	81 c1 e4 00 00
	00		 add	 ecx, 228		; 000000e4H
  01f77	51		 push	 ecx
  01f78	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@NCLPJDDN@?$FL?$CFs?$FN?5?$CFs?5hero?5of?5Dungeon?$CB?$AA@
  01f7d	8d 95 f0 fe ff
	ff		 lea	 edx, DWORD PTR _szTemp$230708[ebp]
  01f83	52		 push	 edx
  01f84	e8 00 00 00 00	 call	 _sprintf
  01f89	83 c4 10	 add	 esp, 16			; 00000010H

; 841  : 			AllSendServerMsg(szTemp);

  01f8c	8d 85 f0 fe ff
	ff		 lea	 eax, DWORD PTR _szTemp$230708[ebp]
  01f92	50		 push	 eax
  01f93	e8 00 00 00 00	 call	 ?AllSendServerMsg@@YAXPAD@Z ; AllSendServerMsg
  01f98	83 c4 04	 add	 esp, 4

; 842  : 			this->bCaptured = true;

  01f9b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01f9e	c6 40 14 01	 mov	 BYTE PTR [eax+20], 1

; 843  : 			memcpy(this->szLordGuild, lpTarget->GuildName, sizeof(this->szLordGuild)-1);

  01fa2	6a 08		 push	 8
  01fa4	8b 45 f0	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  01fa7	05 3c 04 00 00	 add	 eax, 1084		; 0000043cH
  01fac	50		 push	 eax
  01fad	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01fb0	83 c1 15	 add	 ecx, 21			; 00000015H
  01fb3	51		 push	 ecx
  01fb4	e8 00 00 00 00	 call	 _memcpy
  01fb9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 844  : 			sprintf(szTemp, "[%s] %s are new owners of the Dungeon", this->m_EventName, this->szLordGuild);

  01fbc	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  01fbf	83 c0 15	 add	 eax, 21			; 00000015H
  01fc2	50		 push	 eax
  01fc3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01fc6	81 c1 e4 00 00
	00		 add	 ecx, 228		; 000000e4H
  01fcc	51		 push	 ecx
  01fcd	68 00 00 00 00	 push	 OFFSET ??_C@_0CG@JALOJN@?$FL?$CFs?$FN?5?$CFs?5are?5new?5owners?5of?5the?5Du@
  01fd2	8d 95 f0 fe ff
	ff		 lea	 edx, DWORD PTR _szTemp$230708[ebp]
  01fd8	52		 push	 edx
  01fd9	e8 00 00 00 00	 call	 _sprintf
  01fde	83 c4 10	 add	 esp, 16			; 00000010H

; 845  : 			AllSendServerMsg(szTemp);

  01fe1	8d 85 f0 fe ff
	ff		 lea	 eax, DWORD PTR _szTemp$230708[ebp]
  01fe7	50		 push	 eax
  01fe8	e8 00 00 00 00	 call	 ?AllSendServerMsg@@YAXPAD@Z ; AllSendServerMsg
  01fed	83 c4 04	 add	 esp, 4

; 846  : 			this->MapKick(lpUser->m_Index);

  01ff0	8b 45 f4	 mov	 eax, DWORD PTR _lpUser$[ebp]
  01ff3	8b 08		 mov	 ecx, DWORD PTR [eax]
  01ff5	51		 push	 ecx
  01ff6	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  01ff9	e8 00 00 00 00	 call	 ?MapKick@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::MapKick

; 847  : 			this->RewardSiege(lpTarget->m_Index);

  01ffe	8b 45 f0	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  02001	8b 08		 mov	 ecx, DWORD PTR [eax]
  02003	51		 push	 ecx
  02004	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  02007	e8 00 00 00 00	 call	 ?RewardSiege@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::RewardSiege

; 848  : 			this->SetStatus(eEVENTDUNGEON_CLOSE);

  0200c	6a 00		 push	 0
  0200e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  02011	e8 00 00 00 00	 call	 ?SetStatus@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::SetStatus
$LN1@PlayerScor:

; 849  : 		}
; 850  : 		this->GCSiegeScore();

  02016	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  02019	e8 00 00 00 00	 call	 ?GCSiegeScore@CDungeonSiege@@QAEXXZ ; CDungeonSiege::GCSiegeScore
$LN3@PlayerScor:

; 851  : 	}
; 852  : 
; 853  : 	return true;

  0201e	b0 01		 mov	 al, 1
$LN14@PlayerScor:

; 854  : }

  02020	5f		 pop	 edi
  02021	5e		 pop	 esi
  02022	5b		 pop	 ebx
  02023	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02026	33 cd		 xor	 ecx, ebp
  02028	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0202d	8b e5		 mov	 esp, ebp
  0202f	5d		 pop	 ebp
  02030	c2 08 00	 ret	 8
?PlayerScore@CDungeonSiege@@QAE_NHH@Z ENDP		; CDungeonSiege::PlayerScore
_TEXT	ENDS
PUBLIC	?PlayerGuildRegCheck@CDungeonSiege@@QAE_NH@Z	; CDungeonSiege::PlayerGuildRegCheck
PUBLIC	?GCVieweSiege@CDungeonSiege@@QAEXH@Z		; CDungeonSiege::GCVieweSiege
PUBLIC	?GuildBuff@CDungeonSiege@@QAEXH@Z		; CDungeonSiege::GuildBuff
PUBLIC	?PlayerCheck@CDungeonSiege@@QAEXH@Z		; CDungeonSiege::PlayerCheck
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv70 = -88						; size = 4
_lpTempObj$230734 = -20					; size = 4
_n$230730 = -16						; size = 4
_iHWIDCount$230729 = -12				; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?PlayerCheck@CDungeonSiege@@QAEXH@Z PROC		; CDungeonSiege::PlayerCheck
; _this$ = ecx

; 857  : {

  02040	55		 push	 ebp
  02041	8b ec		 mov	 ebp, esp
  02043	83 ec 58	 sub	 esp, 88			; 00000058H
  02046	53		 push	 ebx
  02047	56		 push	 esi
  02048	57		 push	 edi
  02049	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 858  : 	if(!this->bEnable)

  0204c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0204f	0f b6 48 48	 movzx	 ecx, BYTE PTR [eax+72]
  02053	85 c9		 test	 ecx, ecx
  02055	75 05		 jne	 SHORT $LN25@PlayerChec

; 859  : 	{
; 860  : 		return;

  02057	e9 7a 02 00 00	 jmp	 $LN26@PlayerChec
$LN25@PlayerChec:

; 861  : 	}
; 862  : 
; 863  : 	if(!OBJMAX_RANGE(aIndex))

  0205c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  02060	7d 09		 jge	 SHORT $LN28@PlayerChec
  02062	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
  02069	eb 0f		 jmp	 SHORT $LN29@PlayerChec
$LN28@PlayerChec:
  0206b	33 c0		 xor	 eax, eax
  0206d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  02074	0f 9e c0	 setle	 al
  02077	89 45 a8	 mov	 DWORD PTR tv70[ebp], eax
$LN29@PlayerChec:
  0207a	83 7d a8 00	 cmp	 DWORD PTR tv70[ebp], 0
  0207e	75 05		 jne	 SHORT $LN24@PlayerChec

; 864  : 	{
; 865  : 		return;

  02080	e9 51 02 00 00	 jmp	 $LN26@PlayerChec
$LN24@PlayerChec:

; 866  : 	}
; 867  : 
; 868  : 	LPOBJ lpUser = &gObj[aIndex];

  02085	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02088	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0208e	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02094	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 869  : 
; 870  : 	if(lpUser->Connected < PLAYER_PLAYING)

  02097	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0209a	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  0209e	7d 05		 jge	 SHORT $LN23@PlayerChec

; 871  : 	{
; 872  : 		return;

  020a0	e9 31 02 00 00	 jmp	 $LN26@PlayerChec
$LN23@PlayerChec:

; 873  : 	}
; 874  : 
; 875  : 	if(lpUser->X != lpUser->TX || lpUser->Y != lpUser->TY)

  020a5	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  020a8	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  020af	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  020b2	0f bf 82 7c 01
	00 00		 movsx	 eax, WORD PTR [edx+380]
  020b9	3b c8		 cmp	 ecx, eax
  020bb	75 18		 jne	 SHORT $LN21@PlayerChec
  020bd	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  020c0	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  020c7	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  020ca	0f bf 82 7e 01
	00 00		 movsx	 eax, WORD PTR [edx+382]
  020d1	3b c8		 cmp	 ecx, eax
  020d3	74 0a		 je	 SHORT $LN22@PlayerChec
$LN21@PlayerChec:

; 876  : 	{
; 877  : 		lpUser->DSiege.bNpcClick = false;

  020d5	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  020d8	c6 80 fc 28 00
	00 00		 mov	 BYTE PTR [eax+10492], 0
$LN22@PlayerChec:

; 878  : 	}
; 879  : 
; 880  : 	this->GuildBuff(aIndex);

  020df	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  020e2	50		 push	 eax
  020e3	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  020e6	e8 00 00 00 00	 call	 ?GuildBuff@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::GuildBuff

; 881  : 
; 882  : 	this->GCVieweSiege(aIndex);

  020eb	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  020ee	50		 push	 eax
  020ef	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  020f2	e8 00 00 00 00	 call	 ?GCVieweSiege@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::GCVieweSiege

; 883  : 
; 884  : 	if(lpUser->MapNumber != this->m_EventMapNumber)

  020f7	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  020fa	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  02101	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  02104	3b 4a 78	 cmp	 ecx, DWORD PTR [edx+120]
  02107	74 05		 je	 SHORT $LN20@PlayerChec

; 885  : 	{
; 886  : 		return;

  02109	e9 c8 01 00 00	 jmp	 $LN26@PlayerChec
$LN20@PlayerChec:

; 887  : 	}
; 888  : 
; 889  : 	if(lpUser->GuildNumber < 1)

  0210e	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02111	83 b8 34 04 00
	00 01		 cmp	 DWORD PTR [eax+1076], 1
  02118	7d 11		 jge	 SHORT $LN19@PlayerChec

; 890  : 	{
; 891  : 		this->MapKick(aIndex);

  0211a	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0211d	50		 push	 eax
  0211e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02121	e8 00 00 00 00	 call	 ?MapKick@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::MapKick

; 892  : 		return;

  02126	e9 ab 01 00 00	 jmp	 $LN26@PlayerChec
$LN19@PlayerChec:

; 893  : 	}
; 894  : 	
; 895  : 	if(this->CheckStatus(eEVENTDUNGEON_CLOSE))	

  0212b	6a 00		 push	 0
  0212d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02130	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  02135	0f b6 c0	 movzx	 eax, al
  02138	85 c0		 test	 eax, eax
  0213a	74 4c		 je	 SHORT $LN18@PlayerChec

; 896  : 	{
; 897  : 		if(!this->bCaptured)

  0213c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0213f	0f b6 48 14	 movzx	 ecx, BYTE PTR [eax+20]
  02143	85 c9		 test	 ecx, ecx
  02145	75 11		 jne	 SHORT $LN17@PlayerChec

; 898  : 		{
; 899  : 			this->MapKick(aIndex);

  02147	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0214a	50		 push	 eax
  0214b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0214e	e8 00 00 00 00	 call	 ?MapKick@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::MapKick

; 900  : 			return;

  02153	e9 7e 01 00 00	 jmp	 $LN26@PlayerChec
$LN17@PlayerChec:

; 901  : 		}
; 902  : 
; 903  : 		if(strcmp(lpUser->GuildName, this->szLordGuild))

  02158	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0215b	83 c0 15	 add	 eax, 21			; 00000015H
  0215e	50		 push	 eax
  0215f	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  02162	81 c1 3c 04 00
	00		 add	 ecx, 1084		; 0000043cH
  02168	51		 push	 ecx
  02169	e8 00 00 00 00	 call	 _strcmp
  0216e	83 c4 08	 add	 esp, 8
  02171	85 c0		 test	 eax, eax
  02173	74 11		 je	 SHORT $LN16@PlayerChec

; 904  : 		{
; 905  : 			this->MapKick(aIndex);

  02175	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02178	50		 push	 eax
  02179	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0217c	e8 00 00 00 00	 call	 ?MapKick@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::MapKick

; 906  : 			return;

  02181	e9 50 01 00 00	 jmp	 $LN26@PlayerChec
$LN16@PlayerChec:

; 907  : 		}
; 908  : 	}
; 909  : 	else

  02186	eb 67		 jmp	 SHORT $LN15@PlayerChec
$LN18@PlayerChec:

; 910  : 	{
; 911  : 		if(lpUser->GuildName[0] == this->szLordGuild[0])

  02188	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0218b	0f be 88 3c 04
	00 00		 movsx	 ecx, BYTE PTR [eax+1084]
  02192	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  02195	0f be 42 15	 movsx	 eax, BYTE PTR [edx+21]
  02199	3b c8		 cmp	 ecx, eax
  0219b	75 2e		 jne	 SHORT $LN14@PlayerChec

; 912  : 		{
; 913  : 			if(!strcmp(lpUser->GuildName, this->szLordGuild))

  0219d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  021a0	83 c0 15	 add	 eax, 21			; 00000015H
  021a3	50		 push	 eax
  021a4	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  021a7	81 c1 3c 04 00
	00		 add	 ecx, 1084		; 0000043cH
  021ad	51		 push	 ecx
  021ae	e8 00 00 00 00	 call	 _strcmp
  021b3	83 c4 08	 add	 esp, 8
  021b6	85 c0		 test	 eax, eax
  021b8	75 11		 jne	 SHORT $LN14@PlayerChec

; 914  : 			{
; 915  : 				this->MapKick(aIndex);

  021ba	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  021bd	50		 push	 eax
  021be	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  021c1	e8 00 00 00 00	 call	 ?MapKick@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::MapKick

; 916  : 				return;

  021c6	e9 0b 01 00 00	 jmp	 $LN26@PlayerChec
$LN14@PlayerChec:

; 917  : 			}
; 918  : 		}
; 919  : 
; 920  : 		if(!this->PlayerGuildRegCheck(aIndex))

  021cb	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  021ce	50		 push	 eax
  021cf	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  021d2	e8 00 00 00 00	 call	 ?PlayerGuildRegCheck@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::PlayerGuildRegCheck
  021d7	0f b6 c8	 movzx	 ecx, al
  021da	85 c9		 test	 ecx, ecx
  021dc	75 11		 jne	 SHORT $LN15@PlayerChec

; 921  : 		{
; 922  : 			this->MapKick(aIndex);

  021de	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  021e1	50		 push	 eax
  021e2	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  021e5	e8 00 00 00 00	 call	 ?MapKick@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::MapKick

; 923  : 			return;

  021ea	e9 e7 00 00 00	 jmp	 $LN26@PlayerChec
$LN15@PlayerChec:

; 924  : 		}
; 925  : 	}
; 926  : 	
; 927  : 	if(!this->CheckStatus(eEVENTDUNGEON_CLOSE))	

  021ef	6a 00		 push	 0
  021f1	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  021f4	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  021f9	0f b6 c0	 movzx	 eax, al
  021fc	85 c0		 test	 eax, eax
  021fe	0f 85 8e 00 00
	00		 jne	 $LN11@PlayerChec

; 928  : 	{
; 929  : 		int iHWIDCount = 0;

  02204	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iHWIDCount$230729[ebp], 0

; 930  : 
; 931  : 		for(int n = OBJ_STARTUSERINDEX; n < OBJMAX; n++)

  0220b	c7 45 f0 b0 36
	00 00		 mov	 DWORD PTR _n$230730[ebp], 14000 ; 000036b0H
  02212	eb 09		 jmp	 SHORT $LN10@PlayerChec
$LN9@PlayerChec:
  02214	8b 45 f0	 mov	 eax, DWORD PTR _n$230730[ebp]
  02217	83 c0 01	 add	 eax, 1
  0221a	89 45 f0	 mov	 DWORD PTR _n$230730[ebp], eax
$LN10@PlayerChec:
  0221d	81 7d f0 98 3a
	00 00		 cmp	 DWORD PTR _n$230730[ebp], 15000 ; 00003a98H
  02224	7d 6c		 jge	 SHORT $LN11@PlayerChec

; 932  : 		{
; 933  : 			LPOBJ lpTempObj = &gObj[n];

  02226	8b 45 f0	 mov	 eax, DWORD PTR _n$230730[ebp]
  02229	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0222f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02235	89 45 ec	 mov	 DWORD PTR _lpTempObj$230734[ebp], eax

; 934  : 
; 935  : 			if(lpTempObj->Connected < PLAYER_PLAYING || lpTempObj->Type != OBJ_USER || lpTempObj->MapNumber != this->m_EventMapNumber)

  02238	8b 45 ec	 mov	 eax, DWORD PTR _lpTempObj$230734[ebp]
  0223b	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  0223f	7c 1e		 jl	 SHORT $LN6@PlayerChec
  02241	8b 45 ec	 mov	 eax, DWORD PTR _lpTempObj$230734[ebp]
  02244	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  02248	83 f9 01	 cmp	 ecx, 1
  0224b	75 12		 jne	 SHORT $LN6@PlayerChec
  0224d	8b 45 ec	 mov	 eax, DWORD PTR _lpTempObj$230734[ebp]
  02250	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  02257	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0225a	3b 4a 78	 cmp	 ecx, DWORD PTR [edx+120]
  0225d	74 02		 je	 SHORT $LN7@PlayerChec
$LN6@PlayerChec:

; 936  : 			{
; 937  : 				continue;

  0225f	eb b3		 jmp	 SHORT $LN9@PlayerChec
$LN7@PlayerChec:

; 938  : 			}	
; 939  : 
; 940  : 			if(lpUser->DSiege.dwHWID == lpTempObj->DSiege.dwHWID)

  02261	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02264	8b 4d ec	 mov	 ecx, DWORD PTR _lpTempObj$230734[ebp]
  02267	8b 90 00 29 00
	00		 mov	 edx, DWORD PTR [eax+10496]
  0226d	3b 91 00 29 00
	00		 cmp	 edx, DWORD PTR [ecx+10496]
  02273	75 09		 jne	 SHORT $LN5@PlayerChec

; 941  : 			{
; 942  : 				iHWIDCount++;

  02275	8b 45 f4	 mov	 eax, DWORD PTR _iHWIDCount$230729[ebp]
  02278	83 c0 01	 add	 eax, 1
  0227b	89 45 f4	 mov	 DWORD PTR _iHWIDCount$230729[ebp], eax
$LN5@PlayerChec:

; 943  : 			}
; 944  : #if(DUNGEON_SIEGE_DEBUG)
; 945  : 			if(iHWIDCount > 1)

  0227e	83 7d f4 01	 cmp	 DWORD PTR _iHWIDCount$230729[ebp], 1
  02282	7e 0c		 jle	 SHORT $LN4@PlayerChec

; 946  : 			{
; 947  : 				this->MapKick(n);

  02284	8b 45 f0	 mov	 eax, DWORD PTR _n$230730[ebp]
  02287	50		 push	 eax
  02288	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0228b	e8 00 00 00 00	 call	 ?MapKick@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::MapKick
$LN4@PlayerChec:

; 948  : 			}
; 949  : #endif
; 950  : 		}

  02290	eb 82		 jmp	 SHORT $LN9@PlayerChec
$LN11@PlayerChec:

; 951  : 	}
; 952  : 	
; 953  : 	if(this->CheckStatus(eEVENTDUNGEON_WAIT_STAGE2) || this->CheckStatus(eEVENTDUNGEON_START_STAGE2))	

  02292	6a 03		 push	 3
  02294	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02297	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  0229c	0f b6 c0	 movzx	 eax, al
  0229f	85 c0		 test	 eax, eax
  022a1	75 11		 jne	 SHORT $LN2@PlayerChec
  022a3	6a 04		 push	 4
  022a5	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  022a8	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  022ad	0f b6 c0	 movzx	 eax, al
  022b0	85 c0		 test	 eax, eax
  022b2	74 22		 je	 SHORT $LN26@PlayerChec
$LN2@PlayerChec:

; 954  : 	{
; 955  : 		if(aIndex != this->aIndexFinal1 && aIndex != this->aIndexFinal2)

  022b4	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  022b7	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  022ba	3b 48 38	 cmp	 ecx, DWORD PTR [eax+56]
  022bd	74 17		 je	 SHORT $LN26@PlayerChec
  022bf	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  022c2	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  022c5	3b 48 3c	 cmp	 ecx, DWORD PTR [eax+60]
  022c8	74 0c		 je	 SHORT $LN26@PlayerChec

; 956  : 		{
; 957  : 			this->MapKick(aIndex);

  022ca	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  022cd	50		 push	 eax
  022ce	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  022d1	e8 00 00 00 00	 call	 ?MapKick@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::MapKick
$LN26@PlayerChec:

; 958  : 			return;
; 959  : 		}
; 960  : 	}
; 961  : 
; 962  : 
; 963  : }

  022d6	5f		 pop	 edi
  022d7	5e		 pop	 esi
  022d8	5b		 pop	 ebx
  022d9	8b e5		 mov	 esp, ebp
  022db	5d		 pop	 ebp
  022dc	c2 04 00	 ret	 4
?PlayerCheck@CDungeonSiege@@QAEXH@Z ENDP		; CDungeonSiege::PlayerCheck
; Function compile flags: /Odtp /ZI
tv67 = -80						; size = 4
_i$230750 = -12						; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?PlayerGuildRegCheck@CDungeonSiege@@QAE_NH@Z PROC	; CDungeonSiege::PlayerGuildRegCheck
; _this$ = ecx

; 966  : {

  022e0	55		 push	 ebp
  022e1	8b ec		 mov	 ebp, esp
  022e3	83 ec 50	 sub	 esp, 80			; 00000050H
  022e6	53		 push	 ebx
  022e7	56		 push	 esi
  022e8	57		 push	 edi
  022e9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 967  : 	if(!OBJMAX_RANGE(aIndex))

  022ec	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  022f0	7d 09		 jge	 SHORT $LN11@PlayerGuil
  022f2	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  022f9	eb 0f		 jmp	 SHORT $LN12@PlayerGuil
$LN11@PlayerGuil:
  022fb	33 c0		 xor	 eax, eax
  022fd	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  02304	0f 9e c0	 setle	 al
  02307	89 45 b0	 mov	 DWORD PTR tv67[ebp], eax
$LN12@PlayerGuil:
  0230a	83 7d b0 00	 cmp	 DWORD PTR tv67[ebp], 0
  0230e	75 07		 jne	 SHORT $LN8@PlayerGuil

; 968  : 	{
; 969  : 		return false;

  02310	32 c0		 xor	 al, al
  02312	e9 99 00 00 00	 jmp	 $LN9@PlayerGuil
$LN8@PlayerGuil:

; 970  : 	}
; 971  : 
; 972  : 	LPOBJ lpUser = &gObj[aIndex];

  02317	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0231a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02320	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02326	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 973  : 
; 974  : 	if(lpUser->Connected < PLAYER_PLAYING)

  02329	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0232c	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  02330	7d 04		 jge	 SHORT $LN7@PlayerGuil

; 975  : 	{
; 976  : 		return false;

  02332	32 c0		 xor	 al, al
  02334	eb 7a		 jmp	 SHORT $LN9@PlayerGuil
$LN7@PlayerGuil:

; 977  : 	}
; 978  : 
; 979  : 	if(lpUser->GuildNumber < 1)

  02336	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02339	83 b8 34 04 00
	00 01		 cmp	 DWORD PTR [eax+1076], 1
  02340	7d 04		 jge	 SHORT $LN6@PlayerGuil

; 980  : 	{
; 981  : 		return false;

  02342	32 c0		 xor	 al, al
  02344	eb 6a		 jmp	 SHORT $LN9@PlayerGuil
$LN6@PlayerGuil:

; 982  : 	}
; 983  : 
; 984  : 	for(int i = 0; i < this->iRegCount; i++)

  02346	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _i$230750[ebp], 0
  0234d	eb 09		 jmp	 SHORT $LN5@PlayerGuil
$LN4@PlayerGuil:
  0234f	8b 45 f4	 mov	 eax, DWORD PTR _i$230750[ebp]
  02352	83 c0 01	 add	 eax, 1
  02355	89 45 f4	 mov	 DWORD PTR _i$230750[ebp], eax
$LN5@PlayerGuil:
  02358	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0235b	8b 4d f4	 mov	 ecx, DWORD PTR _i$230750[ebp]
  0235e	3b 48 20	 cmp	 ecx, DWORD PTR [eax+32]
  02361	7d 4b		 jge	 SHORT $LN3@PlayerGuil

; 985  : 	{
; 986  : 		if(lpUser->GuildName[0] == this->reg_list[i].szGuildName[0])

  02363	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02366	0f be 88 3c 04
	00 00		 movsx	 ecx, BYTE PTR [eax+1084]
  0236d	8b 55 f4	 mov	 edx, DWORD PTR _i$230750[ebp]
  02370	6b d2 09	 imul	 edx, 9
  02373	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  02376	0f be 94 10 16
	01 00 00	 movsx	 edx, BYTE PTR [eax+edx+278]
  0237e	3b ca		 cmp	 ecx, edx
  02380	75 2a		 jne	 SHORT $LN2@PlayerGuil

; 987  : 		{
; 988  : 			if(!strcmp(lpUser->GuildName, this->reg_list[i].szGuildName))

  02382	8b 45 f4	 mov	 eax, DWORD PTR _i$230750[ebp]
  02385	6b c0 09	 imul	 eax, 9
  02388	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0238b	8d 94 01 16 01
	00 00		 lea	 edx, DWORD PTR [ecx+eax+278]
  02392	52		 push	 edx
  02393	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02396	05 3c 04 00 00	 add	 eax, 1084		; 0000043cH
  0239b	50		 push	 eax
  0239c	e8 00 00 00 00	 call	 _strcmp
  023a1	83 c4 08	 add	 esp, 8
  023a4	85 c0		 test	 eax, eax
  023a6	75 04		 jne	 SHORT $LN2@PlayerGuil

; 989  : 			{
; 990  : 				return true;

  023a8	b0 01		 mov	 al, 1
  023aa	eb 04		 jmp	 SHORT $LN9@PlayerGuil
$LN2@PlayerGuil:

; 991  : 			}
; 992  : 		}
; 993  : 	}

  023ac	eb a1		 jmp	 SHORT $LN4@PlayerGuil
$LN3@PlayerGuil:

; 994  : 
; 995  : 	return false;

  023ae	32 c0		 xor	 al, al
$LN9@PlayerGuil:

; 996  : }

  023b0	5f		 pop	 edi
  023b1	5e		 pop	 esi
  023b2	5b		 pop	 ebx
  023b3	8b e5		 mov	 esp, ebp
  023b5	5d		 pop	 ebp
  023b6	c2 04 00	 ret	 4
?PlayerGuildRegCheck@CDungeonSiege@@QAE_NH@Z ENDP	; CDungeonSiege::PlayerGuildRegCheck
; Function compile flags: /Odtp /ZI
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?MapKick@CDungeonSiege@@QAEXH@Z PROC			; CDungeonSiege::MapKick
; _this$ = ecx

; 999  : {

  023c0	55		 push	 ebp
  023c1	8b ec		 mov	 ebp, esp
  023c3	83 ec 44	 sub	 esp, 68			; 00000044H
  023c6	53		 push	 ebx
  023c7	56		 push	 esi
  023c8	57		 push	 edi
  023c9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1000 : 	gObjTeleport(aIndex, this->m_EventPlayerDieMap, this->m_EventPlayerDieX, this->m_EventPlayerDieY);

  023cc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  023cf	8b 88 a4 00 00
	00		 mov	 ecx, DWORD PTR [eax+164]
  023d5	51		 push	 ecx
  023d6	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  023d9	8b 82 a0 00 00
	00		 mov	 eax, DWORD PTR [edx+160]
  023df	50		 push	 eax
  023e0	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  023e3	8b 91 9c 00 00
	00		 mov	 edx, DWORD PTR [ecx+156]
  023e9	52		 push	 edx
  023ea	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  023ed	50		 push	 eax
  023ee	e8 00 00 00 00	 call	 ?gObjTeleport@@YAXHHHH@Z ; gObjTeleport
  023f3	83 c4 10	 add	 esp, 16			; 00000010H

; 1001 : }

  023f6	5f		 pop	 edi
  023f7	5e		 pop	 esi
  023f8	5b		 pop	 ebx
  023f9	8b e5		 mov	 esp, ebp
  023fb	5d		 pop	 ebp
  023fc	c2 04 00	 ret	 4
?MapKick@CDungeonSiege@@QAEXH@Z ENDP			; CDungeonSiege::MapKick
_TEXT	ENDS
PUBLIC	__$ArrayPad$
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv67 = -348						; size = 4
_pBodyMsg$ = -280					; size = 2
_pMsg$ = -276						; size = 7
_btPacket$ = -268					; size = 256
_iSizePacket$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_maptype$ = 12						; size = 4
?GCMapAttribute@CDungeonSiege@@QAEXHH@Z PROC		; CDungeonSiege::GCMapAttribute
; _this$ = ecx

; 1004 : {

  02400	55		 push	 ebp
  02401	8b ec		 mov	 ebp, esp
  02403	81 ec 5c 01 00
	00		 sub	 esp, 348		; 0000015cH
  02409	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0240e	33 c5		 xor	 eax, ebp
  02410	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02413	53		 push	 ebx
  02414	56		 push	 esi
  02415	57		 push	 edi
  02416	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1005 : 	if(!OBJMAX_RANGE(aIndex))

  02419	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  0241d	7d 0c		 jge	 SHORT $LN4@GCMapAttri
  0241f	c7 85 a4 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv67[ebp], 0
  02429	eb 12		 jmp	 SHORT $LN5@GCMapAttri
$LN4@GCMapAttri:
  0242b	33 c0		 xor	 eax, eax
  0242d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  02434	0f 9e c0	 setle	 al
  02437	89 85 a4 fe ff
	ff		 mov	 DWORD PTR tv67[ebp], eax
$LN5@GCMapAttri:
  0243d	83 bd a4 fe ff
	ff 00		 cmp	 DWORD PTR tv67[ebp], 0
  02444	75 05		 jne	 SHORT $LN1@GCMapAttri

; 1006 : 	{
; 1007 : 		return;

  02446	e9 da 00 00 00	 jmp	 $LN2@GCMapAttri
$LN1@GCMapAttri:

; 1008 : 	}
; 1009 : 
; 1010 : 	int iSizePacket = 0;

  0244b	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iSizePacket$[ebp], 0

; 1011 : 	unsigned char btPacket[256];
; 1012 : 	
; 1013 : 	PMSG_SETMAPATTR_COUNT pMsg;
; 1014 : 	PMSG_SETMAPATTR pBodyMsg;
; 1015 : 
; 1016 : 	iSizePacket += sizeof(pMsg);

  02452	8b 45 f4	 mov	 eax, DWORD PTR _iSizePacket$[ebp]
  02455	83 c0 07	 add	 eax, 7
  02458	89 45 f4	 mov	 DWORD PTR _iSizePacket$[ebp], eax

; 1017 : 
; 1018 : 	pMsg.btType = 0;

  0245b	c6 85 ef fe ff
	ff 00		 mov	 BYTE PTR _pMsg$[ebp+3], 0

; 1019 : 	pMsg.btMapAttr = 1;

  02462	c6 85 f0 fe ff
	ff 01		 mov	 BYTE PTR _pMsg$[ebp+4], 1

; 1020 : 	pMsg.btMapSetType = maptype;

  02469	8a 45 0c	 mov	 al, BYTE PTR _maptype$[ebp]
  0246c	88 85 f1 fe ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+5], al

; 1021 : 	pMsg.btCount = 1;

  02472	c6 85 f2 fe ff
	ff 01		 mov	 BYTE PTR _pMsg$[ebp+6], 1

; 1022 : 
; 1023 : 	pBodyMsg.btX = 0;

  02479	c6 85 e8 fe ff
	ff 00		 mov	 BYTE PTR _pBodyMsg$[ebp], 0

; 1024 : 	pBodyMsg.btY = 0;

  02480	c6 85 e9 fe ff
	ff 00		 mov	 BYTE PTR _pBodyMsg$[ebp+1], 0

; 1025 : 	memcpy(&btPacket[iSizePacket], &pBodyMsg, sizeof(pBodyMsg));

  02487	6a 02		 push	 2
  02489	8d 85 e8 fe ff
	ff		 lea	 eax, DWORD PTR _pBodyMsg$[ebp]
  0248f	50		 push	 eax
  02490	8b 4d f4	 mov	 ecx, DWORD PTR _iSizePacket$[ebp]
  02493	8d 94 0d f4 fe
	ff ff		 lea	 edx, DWORD PTR _btPacket$[ebp+ecx]
  0249a	52		 push	 edx
  0249b	e8 00 00 00 00	 call	 _memcpy
  024a0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1026 : 	iSizePacket += sizeof(pBodyMsg);

  024a3	8b 45 f4	 mov	 eax, DWORD PTR _iSizePacket$[ebp]
  024a6	83 c0 02	 add	 eax, 2
  024a9	89 45 f4	 mov	 DWORD PTR _iSizePacket$[ebp], eax

; 1027 : 	pBodyMsg.btX   = 255;

  024ac	c6 85 e8 fe ff
	ff ff		 mov	 BYTE PTR _pBodyMsg$[ebp], 255 ; 000000ffH

; 1028 : 	pBodyMsg.btY   = 255;

  024b3	c6 85 e9 fe ff
	ff ff		 mov	 BYTE PTR _pBodyMsg$[ebp+1], 255 ; 000000ffH

; 1029 : 	memcpy(&btPacket[iSizePacket], &pBodyMsg, sizeof(pBodyMsg));

  024ba	6a 02		 push	 2
  024bc	8d 85 e8 fe ff
	ff		 lea	 eax, DWORD PTR _pBodyMsg$[ebp]
  024c2	50		 push	 eax
  024c3	8b 4d f4	 mov	 ecx, DWORD PTR _iSizePacket$[ebp]
  024c6	8d 94 0d f4 fe
	ff ff		 lea	 edx, DWORD PTR _btPacket$[ebp+ecx]
  024cd	52		 push	 edx
  024ce	e8 00 00 00 00	 call	 _memcpy
  024d3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1030 : 	iSizePacket += sizeof(pBodyMsg);

  024d6	8b 45 f4	 mov	 eax, DWORD PTR _iSizePacket$[ebp]
  024d9	83 c0 02	 add	 eax, 2
  024dc	89 45 f4	 mov	 DWORD PTR _iSizePacket$[ebp], eax

; 1031 : 
; 1032 : 	pMsg.h.c = 0xC1;

  024df	c6 85 ec fe ff
	ff c1		 mov	 BYTE PTR _pMsg$[ebp], 193 ; 000000c1H

; 1033 : 	pMsg.h.size = iSizePacket;

  024e6	8a 45 f4	 mov	 al, BYTE PTR _iSizePacket$[ebp]
  024e9	88 85 ed fe ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+1], al

; 1034 : 	pMsg.h.headcode = 0x46;

  024ef	c6 85 ee fe ff
	ff 46		 mov	 BYTE PTR _pMsg$[ebp+2], 70 ; 00000046H

; 1035 : 	memcpy(&btPacket, &pMsg, sizeof(pMsg));

  024f6	6a 07		 push	 7
  024f8	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  024fe	50		 push	 eax
  024ff	8d 8d f4 fe ff
	ff		 lea	 ecx, DWORD PTR _btPacket$[ebp]
  02505	51		 push	 ecx
  02506	e8 00 00 00 00	 call	 _memcpy
  0250b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1036 : 	
; 1037 : 	DataSend(aIndex, (LPBYTE)&btPacket, iSizePacket);

  0250e	8b 45 f4	 mov	 eax, DWORD PTR _iSizePacket$[ebp]
  02511	50		 push	 eax
  02512	8d 8d f4 fe ff
	ff		 lea	 ecx, DWORD PTR _btPacket$[ebp]
  02518	51		 push	 ecx
  02519	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0251c	52		 push	 edx
  0251d	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  02522	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@GCMapAttri:

; 1038 : }

  02525	5f		 pop	 edi
  02526	5e		 pop	 esi
  02527	5b		 pop	 ebx
  02528	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0252b	33 cd		 xor	 ecx, ebp
  0252d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  02532	8b e5		 mov	 esp, ebp
  02534	5d		 pop	 ebp
  02535	c2 08 00	 ret	 8
?GCMapAttribute@CDungeonSiege@@QAEXHH@Z ENDP		; CDungeonSiege::GCMapAttribute
; Function compile flags: /Odtp /ZI
tv67 = -80						; size = 4
_lpGuildUser$ = -12					; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?TeleportInSiege@CDungeonSiege@@QAEXH@Z PROC		; CDungeonSiege::TeleportInSiege
; _this$ = ecx

; 1041 : {

  02540	55		 push	 ebp
  02541	8b ec		 mov	 ebp, esp
  02543	83 ec 50	 sub	 esp, 80			; 00000050H
  02546	53		 push	 ebx
  02547	56		 push	 esi
  02548	57		 push	 edi
  02549	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1042 : 	if(!OBJMAX_RANGE(aIndex))

  0254c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  02550	7d 09		 jge	 SHORT $LN25@TeleportIn
  02552	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  02559	eb 0f		 jmp	 SHORT $LN26@TeleportIn
$LN25@TeleportIn:
  0255b	33 c0		 xor	 eax, eax
  0255d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  02564	0f 9e c0	 setle	 al
  02567	89 45 b0	 mov	 DWORD PTR tv67[ebp], eax
$LN26@TeleportIn:
  0256a	83 7d b0 00	 cmp	 DWORD PTR tv67[ebp], 0
  0256e	75 05		 jne	 SHORT $LN22@TeleportIn

; 1043 : 	{
; 1044 : 		return;

  02570	e9 67 02 00 00	 jmp	 $LN23@TeleportIn
$LN22@TeleportIn:

; 1045 : 	}
; 1046 : 
; 1047 : 	LPOBJ lpUser = &gObj[aIndex];

  02575	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02578	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0257e	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02584	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 1048 : 
; 1049 : 	if(lpUser->Connected < PLAYER_PLAYING)

  02587	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0258a	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  0258e	7d 05		 jge	 SHORT $LN21@TeleportIn

; 1050 : 	{
; 1051 : 		return;

  02590	e9 47 02 00 00	 jmp	 $LN23@TeleportIn
$LN21@TeleportIn:

; 1052 : 	}
; 1053 : 
; 1054 : 	_GUILD_INFO_STRUCT * lpGuildUser = lpUser->lpGuild;

  02595	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02598	8b 88 38 04 00
	00		 mov	 ecx, DWORD PTR [eax+1080]
  0259e	89 4d f4	 mov	 DWORD PTR _lpGuildUser$[ebp], ecx

; 1055 : 
; 1056 : 	if(!lpGuildUser)

  025a1	83 7d f4 00	 cmp	 DWORD PTR _lpGuildUser$[ebp], 0
  025a5	75 05		 jne	 SHORT $LN20@TeleportIn

; 1057 : 	{
; 1058 : 		return;

  025a7	e9 30 02 00 00	 jmp	 $LN23@TeleportIn
$LN20@TeleportIn:

; 1059 : 	}
; 1060 : 
; 1061 : 	if(this->PlayerGuildRegCheck(aIndex))

  025ac	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  025af	50		 push	 eax
  025b0	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  025b3	e8 00 00 00 00	 call	 ?PlayerGuildRegCheck@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::PlayerGuildRegCheck
  025b8	0f b6 c8	 movzx	 ecx, al
  025bb	85 c9		 test	 ecx, ecx
  025bd	0f 84 19 02 00
	00		 je	 $LN23@TeleportIn

; 1062 : 	{
; 1063 : 		if(this->CheckStatus(eEVENTDUNGEON_WAIT))

  025c3	6a 01		 push	 1
  025c5	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  025c8	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  025cd	0f b6 c0	 movzx	 eax, al
  025d0	85 c0		 test	 eax, eax
  025d2	74 4b		 je	 SHORT $LN18@TeleportIn

; 1064 : 		{
; 1065 : 			this->GCSiegeScore();

  025d4	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  025d7	e8 00 00 00 00	 call	 ?GCSiegeScore@CDungeonSiege@@QAEXXZ ; CDungeonSiege::GCSiegeScore

; 1066 : 			gObjTeleport(aIndex, this->m_EventMapNumber, this->m_EventStage1WaitX, this->m_EventStage1WaitY);

  025dc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  025df	8b 88 80 00 00
	00		 mov	 ecx, DWORD PTR [eax+128]
  025e5	51		 push	 ecx
  025e6	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  025e9	8b 42 7c	 mov	 eax, DWORD PTR [edx+124]
  025ec	50		 push	 eax
  025ed	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  025f0	8b 51 78	 mov	 edx, DWORD PTR [ecx+120]
  025f3	52		 push	 edx
  025f4	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  025f7	50		 push	 eax
  025f8	e8 00 00 00 00	 call	 ?gObjTeleport@@YAXHHHH@Z ; gObjTeleport
  025fd	83 c4 10	 add	 esp, 16			; 00000010H

; 1067 : 			if(this->iTickRemain > 60000)

  02600	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  02603	81 78 28 60 ea
	00 00		 cmp	 DWORD PTR [eax+40], 60000 ; 0000ea60H
  0260a	7e 0e		 jle	 SHORT $LN17@TeleportIn

; 1068 : 			{
; 1069 : 				this->GCMapAttribute(aIndex, 0);

  0260c	6a 00		 push	 0
  0260e	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02611	50		 push	 eax
  02612	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02615	e8 00 00 00 00	 call	 ?GCMapAttribute@CDungeonSiege@@QAEXHH@Z ; CDungeonSiege::GCMapAttribute
$LN17@TeleportIn:

; 1070 : 			}
; 1071 : 		}

  0261a	e9 bd 01 00 00	 jmp	 $LN23@TeleportIn
$LN18@TeleportIn:

; 1072 : 		else if(this->CheckStatus(eEVENTDUNGEON_START_STAGE1))

  0261f	6a 02		 push	 2
  02621	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02624	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  02629	0f b6 c0	 movzx	 eax, al
  0262c	85 c0		 test	 eax, eax
  0262e	0f 84 d8 00 00
	00		 je	 $LN15@TeleportIn

; 1073 : 		{
; 1074 : 			if(this->m_NpcTeleportMinusScore > 0)

  02634	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  02637	83 b8 e0 00 00
	00 00		 cmp	 DWORD PTR [eax+224], 0
  0263e	0f 8e 9c 00 00
	00		 jle	 $LN14@TeleportIn

; 1075 : 			{
; 1076 : 				if(lpUser->DSiege.iScore > this->m_NpcTeleportMinusScore)

  02644	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02647	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0264a	8b 90 04 29 00
	00		 mov	 edx, DWORD PTR [eax+10500]
  02650	3b 91 e0 00 00
	00		 cmp	 edx, DWORD PTR [ecx+224]
  02656	7e 1d		 jle	 SHORT $LN13@TeleportIn

; 1077 : 				{
; 1078 : 					lpUser->DSiege.iScore -= this->m_NpcTeleportMinusScore;

  02658	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0265b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0265e	8b 90 04 29 00
	00		 mov	 edx, DWORD PTR [eax+10500]
  02664	2b 91 e0 00 00
	00		 sub	 edx, DWORD PTR [ecx+224]
  0266a	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0266d	89 90 04 29 00
	00		 mov	 DWORD PTR [eax+10500], edx

; 1079 : 				}
; 1080 : 				else

  02673	eb 0d		 jmp	 SHORT $LN12@TeleportIn
$LN13@TeleportIn:

; 1081 : 				{
; 1082 : 					lpUser->DSiege.iScore = 0;

  02675	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02678	c7 80 04 29 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+10500], 0
$LN12@TeleportIn:

; 1083 : 				}
; 1084 : 				if(lpUser->lpGuild->DungeonSiege.iScore > this->m_NpcTeleportMinusScore)

  02682	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02685	8b 88 38 04 00
	00		 mov	 ecx, DWORD PTR [eax+1080]
  0268b	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0268e	8b 81 48 07 00
	00		 mov	 eax, DWORD PTR [ecx+1864]
  02694	3b 82 e0 00 00
	00		 cmp	 eax, DWORD PTR [edx+224]
  0269a	7e 29		 jle	 SHORT $LN11@TeleportIn

; 1085 : 				{
; 1086 : 					lpUser->lpGuild->DungeonSiege.iScore -= this->m_NpcTeleportMinusScore;

  0269c	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0269f	8b 88 38 04 00
	00		 mov	 ecx, DWORD PTR [eax+1080]
  026a5	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  026a8	8b 81 48 07 00
	00		 mov	 eax, DWORD PTR [ecx+1864]
  026ae	2b 82 e0 00 00
	00		 sub	 eax, DWORD PTR [edx+224]
  026b4	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  026b7	8b 91 38 04 00
	00		 mov	 edx, DWORD PTR [ecx+1080]
  026bd	89 82 48 07 00
	00		 mov	 DWORD PTR [edx+1864], eax

; 1087 : 				}
; 1088 : 				else

  026c3	eb 13		 jmp	 SHORT $LN10@TeleportIn
$LN11@TeleportIn:

; 1089 : 				{
; 1090 : 					lpUser->lpGuild->DungeonSiege.iScore = 0;

  026c5	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  026c8	8b 88 38 04 00
	00		 mov	 ecx, DWORD PTR [eax+1080]
  026ce	c7 81 48 07 00
	00 00 00 00 00	 mov	 DWORD PTR [ecx+1864], 0
$LN10@TeleportIn:

; 1091 : 				}
; 1092 : 				this->GCSiegeScore();

  026d8	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  026db	e8 00 00 00 00	 call	 ?GCSiegeScore@CDungeonSiege@@QAEXXZ ; CDungeonSiege::GCSiegeScore
$LN14@TeleportIn:

; 1093 : 			}
; 1094 : 			gObjTeleport(aIndex, this->m_EventMapNumber, this->m_EventStage1KillX, this->m_EventStage1KillY);

  026e0	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  026e3	8b 88 88 00 00
	00		 mov	 ecx, DWORD PTR [eax+136]
  026e9	51		 push	 ecx
  026ea	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  026ed	8b 82 84 00 00
	00		 mov	 eax, DWORD PTR [edx+132]
  026f3	50		 push	 eax
  026f4	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  026f7	8b 51 78	 mov	 edx, DWORD PTR [ecx+120]
  026fa	52		 push	 edx
  026fb	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  026fe	50		 push	 eax
  026ff	e8 00 00 00 00	 call	 ?gObjTeleport@@YAXHHHH@Z ; gObjTeleport
  02704	83 c4 10	 add	 esp, 16			; 00000010H
  02707	e9 d0 00 00 00	 jmp	 $LN23@TeleportIn
$LN15@TeleportIn:

; 1095 : 		}
; 1096 : 		else if(this->CheckStatus(eEVENTDUNGEON_WAIT_STAGE2))

  0270c	6a 03		 push	 3
  0270e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02711	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  02716	0f b6 c0	 movzx	 eax, al
  02719	85 c0		 test	 eax, eax
  0271b	74 65		 je	 SHORT $LN8@TeleportIn

; 1097 : 		{
; 1098 : 			if(lpUser->m_Index == this->aIndexFinal1 || lpUser->m_Index == this->aIndexFinal2)

  0271d	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02720	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02723	8b 10		 mov	 edx, DWORD PTR [eax]
  02725	3b 51 38	 cmp	 edx, DWORD PTR [ecx+56]
  02728	74 0d		 je	 SHORT $LN6@TeleportIn
  0272a	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0272d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02730	8b 10		 mov	 edx, DWORD PTR [eax]
  02732	3b 51 3c	 cmp	 edx, DWORD PTR [ecx+60]
  02735	75 49		 jne	 SHORT $LN7@TeleportIn
$LN6@TeleportIn:

; 1099 : 			{
; 1100 : 				this->GCSiegeScore();

  02737	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0273a	e8 00 00 00 00	 call	 ?GCSiegeScore@CDungeonSiege@@QAEXXZ ; CDungeonSiege::GCSiegeScore

; 1101 : 				gObjTeleport(aIndex, this->m_EventMapNumber, this->m_EventStage2WaitX, this->m_EventStage2WaitY);

  0273f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  02742	8b 88 90 00 00
	00		 mov	 ecx, DWORD PTR [eax+144]
  02748	51		 push	 ecx
  02749	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0274c	8b 82 8c 00 00
	00		 mov	 eax, DWORD PTR [edx+140]
  02752	50		 push	 eax
  02753	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02756	8b 51 78	 mov	 edx, DWORD PTR [ecx+120]
  02759	52		 push	 edx
  0275a	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0275d	50		 push	 eax
  0275e	e8 00 00 00 00	 call	 ?gObjTeleport@@YAXHHHH@Z ; gObjTeleport
  02763	83 c4 10	 add	 esp, 16			; 00000010H

; 1102 : 				if(this->iTickRemain > 60000)

  02766	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  02769	81 78 28 60 ea
	00 00		 cmp	 DWORD PTR [eax+40], 60000 ; 0000ea60H
  02770	7e 0e		 jle	 SHORT $LN7@TeleportIn

; 1103 : 				{
; 1104 : 					this->GCMapAttribute(aIndex, 0);

  02772	6a 00		 push	 0
  02774	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02777	50		 push	 eax
  02778	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0277b	e8 00 00 00 00	 call	 ?GCMapAttribute@CDungeonSiege@@QAEXHH@Z ; CDungeonSiege::GCMapAttribute
$LN7@TeleportIn:

; 1105 : 				}
; 1106 : 			}			
; 1107 : 		}

  02780	eb 5a		 jmp	 SHORT $LN23@TeleportIn
$LN8@TeleportIn:

; 1108 : 		else if(this->CheckStatus(eEVENTDUNGEON_START_STAGE2))

  02782	6a 04		 push	 4
  02784	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02787	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  0278c	0f b6 c0	 movzx	 eax, al
  0278f	85 c0		 test	 eax, eax
  02791	74 49		 je	 SHORT $LN23@TeleportIn

; 1109 : 		{
; 1110 : 			if(lpUser->m_Index == this->aIndexFinal1 || lpUser->m_Index == this->aIndexFinal2)

  02793	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02796	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02799	8b 10		 mov	 edx, DWORD PTR [eax]
  0279b	3b 51 38	 cmp	 edx, DWORD PTR [ecx+56]
  0279e	74 0d		 je	 SHORT $LN1@TeleportIn
  027a0	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  027a3	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  027a6	8b 10		 mov	 edx, DWORD PTR [eax]
  027a8	3b 51 3c	 cmp	 edx, DWORD PTR [ecx+60]
  027ab	75 2f		 jne	 SHORT $LN23@TeleportIn
$LN1@TeleportIn:

; 1111 : 			{
; 1112 : 				this->GCSiegeScore();

  027ad	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  027b0	e8 00 00 00 00	 call	 ?GCSiegeScore@CDungeonSiege@@QAEXXZ ; CDungeonSiege::GCSiegeScore

; 1113 : 				gObjTeleport(aIndex, this->m_EventMapNumber, this->m_EventStage2KillX, this->m_EventStage2KillY);

  027b5	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  027b8	8b 88 98 00 00
	00		 mov	 ecx, DWORD PTR [eax+152]
  027be	51		 push	 ecx
  027bf	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  027c2	8b 82 94 00 00
	00		 mov	 eax, DWORD PTR [edx+148]
  027c8	50		 push	 eax
  027c9	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  027cc	8b 51 78	 mov	 edx, DWORD PTR [ecx+120]
  027cf	52		 push	 edx
  027d0	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  027d3	50		 push	 eax
  027d4	e8 00 00 00 00	 call	 ?gObjTeleport@@YAXHHHH@Z ; gObjTeleport
  027d9	83 c4 10	 add	 esp, 16			; 00000010H
$LN23@TeleportIn:

; 1114 : 			}
; 1115 : 		}
; 1116 : 	}
; 1117 : }

  027dc	5f		 pop	 edi
  027dd	5e		 pop	 esi
  027de	5b		 pop	 ebx
  027df	8b e5		 mov	 esp, ebp
  027e1	5d		 pop	 ebp
  027e2	c2 04 00	 ret	 4
?TeleportInSiege@CDungeonSiege@@QAEXH@Z ENDP		; CDungeonSiege::TeleportInSiege
_TEXT	ENDS
PUBLIC	??_C@_0CO@OFDODKNE@?$FL?$CFs?$FN?5?$CFs?5are?5new?5owners?5of?5the?5Du@ ; `string'
PUBLIC	__$ArrayPad$
EXTRN	?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z:PROC ; CGuildClass::SearchGuild_Number
;	COMDAT ??_C@_0CO@OFDODKNE@?$FL?$CFs?$FN?5?$CFs?5are?5new?5owners?5of?5the?5Du@
CONST	SEGMENT
??_C@_0CO@OFDODKNE@?$FL?$CFs?$FN?5?$CFs?5are?5new?5owners?5of?5the?5Du@ DB '['
	DB	'%s] %s are new owners of the Dungeon Dungeon', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_lpUserFinal2$ = -340					; size = 4
_lpUserFinal1$ = -336					; size = 4
_sObj$230837 = -332					; size = 4
_n$230833 = -328					; size = 4
_szTemp$230831 = -324					; size = 256
_lpWinGuild$230829 = -68				; size = 4
_lpGuild2$230824 = -64					; size = 4
_i$230820 = -60						; size = 4
_lpGuild1$230816 = -56					; size = 4
_i$230812 = -52						; size = 4
_iSiegeGuild2$ = -48					; size = 4
_iSiegeGuild1$ = -44					; size = 4
_aIndex2$ = -40						; size = 4
_aIndex1$ = -36						; size = 4
_iGuildRegID2$ = -32					; size = 4
_iGuildRegID1$ = -28					; size = 4
_iMaxScorePlayer2$ = -24				; size = 4
_iMaxScorePlayer1$ = -20				; size = 4
_iMaxScoreGuild2$ = -16					; size = 4
_iMaxScoreGuild1$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
?TeleportInFinal@CDungeonSiege@@QAE_NXZ PROC		; CDungeonSiege::TeleportInFinal
; _this$ = ecx

; 1120 : {

  027f0	55		 push	 ebp
  027f1	8b ec		 mov	 ebp, esp
  027f3	81 ec 94 01 00
	00		 sub	 esp, 404		; 00000194H
  027f9	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  027fe	33 c5		 xor	 eax, ebp
  02800	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02803	53		 push	 ebx
  02804	56		 push	 esi
  02805	57		 push	 edi
  02806	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1121 : 	int iMaxScoreGuild1 = 0;

  02809	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _iMaxScoreGuild1$[ebp], 0

; 1122 : 	int iMaxScoreGuild2 = 0;

  02810	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _iMaxScoreGuild2$[ebp], 0

; 1123 : 	int iMaxScorePlayer1 = 0;

  02817	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _iMaxScorePlayer1$[ebp], 0

; 1124 : 	int iMaxScorePlayer2 = 0;

  0281e	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _iMaxScorePlayer2$[ebp], 0

; 1125 : 	int iGuildRegID1 = -1;

  02825	c7 45 e4 ff ff
	ff ff		 mov	 DWORD PTR _iGuildRegID1$[ebp], -1

; 1126 : 	int iGuildRegID2 = -1;

  0282c	c7 45 e0 ff ff
	ff ff		 mov	 DWORD PTR _iGuildRegID2$[ebp], -1

; 1127 : 	int aIndex1 = -1;

  02833	c7 45 dc ff ff
	ff ff		 mov	 DWORD PTR _aIndex1$[ebp], -1

; 1128 : 	int aIndex2 = -1;

  0283a	c7 45 d8 ff ff
	ff ff		 mov	 DWORD PTR _aIndex2$[ebp], -1

; 1129 : 	int iSiegeGuild1 = -1;

  02841	c7 45 d4 ff ff
	ff ff		 mov	 DWORD PTR _iSiegeGuild1$[ebp], -1

; 1130 : 	int iSiegeGuild2 = -1;

  02848	c7 45 d0 ff ff
	ff ff		 mov	 DWORD PTR _iSiegeGuild2$[ebp], -1

; 1131 : 
; 1132 : 	for(int i = 0; i < this->iRegCount; i++)

  0284f	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _i$230812[ebp], 0
  02856	eb 09		 jmp	 SHORT $LN26@TeleportIn@2
$LN25@TeleportIn@2:
  02858	8b 45 cc	 mov	 eax, DWORD PTR _i$230812[ebp]
  0285b	83 c0 01	 add	 eax, 1
  0285e	89 45 cc	 mov	 DWORD PTR _i$230812[ebp], eax
$LN26@TeleportIn@2:
  02861	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  02864	8b 4d cc	 mov	 ecx, DWORD PTR _i$230812[ebp]
  02867	3b 48 20	 cmp	 ecx, DWORD PTR [eax+32]
  0286a	7d 50		 jge	 SHORT $LN24@TeleportIn@2

; 1133 : 	{
; 1134 : 		_GUILD_INFO_STRUCT* lpGuild1 = Guild.SearchGuild(this->reg_list[i].szGuildName);

  0286c	8b 45 cc	 mov	 eax, DWORD PTR _i$230812[ebp]
  0286f	6b c0 09	 imul	 eax, 9
  02872	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  02875	8d 94 01 16 01
	00 00		 lea	 edx, DWORD PTR [ecx+eax+278]
  0287c	52		 push	 edx
  0287d	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  02882	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  02887	89 45 c8	 mov	 DWORD PTR _lpGuild1$230816[ebp], eax

; 1135 : 
; 1136 : 		if(!lpGuild1)

  0288a	83 7d c8 00	 cmp	 DWORD PTR _lpGuild1$230816[ebp], 0
  0288e	75 02		 jne	 SHORT $LN23@TeleportIn@2

; 1137 : 		{
; 1138 : 			continue;

  02890	eb c6		 jmp	 SHORT $LN25@TeleportIn@2
$LN23@TeleportIn@2:

; 1139 : 		}
; 1140 : 
; 1141 : 		if(lpGuild1->DungeonSiege.iScore > iMaxScoreGuild1)

  02892	8b 45 c8	 mov	 eax, DWORD PTR _lpGuild1$230816[ebp]
  02895	8b 88 48 07 00
	00		 mov	 ecx, DWORD PTR [eax+1864]
  0289b	3b 4d f4	 cmp	 ecx, DWORD PTR _iMaxScoreGuild1$[ebp]
  0289e	7e 1a		 jle	 SHORT $LN22@TeleportIn@2

; 1142 : 		{
; 1143 : 			iMaxScoreGuild1 = lpGuild1->DungeonSiege.iScore;

  028a0	8b 45 c8	 mov	 eax, DWORD PTR _lpGuild1$230816[ebp]
  028a3	8b 88 48 07 00
	00		 mov	 ecx, DWORD PTR [eax+1864]
  028a9	89 4d f4	 mov	 DWORD PTR _iMaxScoreGuild1$[ebp], ecx

; 1144 : 			iGuildRegID1 = lpGuild1->Number;

  028ac	8b 45 c8	 mov	 eax, DWORD PTR _lpGuild1$230816[ebp]
  028af	8b 08		 mov	 ecx, DWORD PTR [eax]
  028b1	89 4d e4	 mov	 DWORD PTR _iGuildRegID1$[ebp], ecx

; 1145 : 			iSiegeGuild1 = i;

  028b4	8b 45 cc	 mov	 eax, DWORD PTR _i$230812[ebp]
  028b7	89 45 d4	 mov	 DWORD PTR _iSiegeGuild1$[ebp], eax
$LN22@TeleportIn@2:

; 1146 : 		}
; 1147 : 	}

  028ba	eb 9c		 jmp	 SHORT $LN25@TeleportIn@2
$LN24@TeleportIn@2:

; 1148 : 
; 1149 : 	if(iGuildRegID1 == -1)

  028bc	83 7d e4 ff	 cmp	 DWORD PTR _iGuildRegID1$[ebp], -1
  028c0	75 24		 jne	 SHORT $LN21@TeleportIn@2

; 1150 : 	{
; 1151 : 		this->bCaptured = false;

  028c2	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  028c5	c6 40 14 00	 mov	 BYTE PTR [eax+20], 0

; 1152 : 		memcpy(this->szLordGuild, "", sizeof(this->szLordGuild)-1);

  028c9	6a 08		 push	 8
  028cb	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@?$AA@
  028d0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  028d3	83 c0 15	 add	 eax, 21			; 00000015H
  028d6	50		 push	 eax
  028d7	e8 00 00 00 00	 call	 _memcpy
  028dc	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1153 : 		return false;

  028df	32 c0		 xor	 al, al
  028e1	e9 8d 02 00 00	 jmp	 $LN27@TeleportIn@2
$LN21@TeleportIn@2:

; 1154 : 	}
; 1155 : 
; 1156 : 	for(int i = 0; i < this->iRegCount; i++)

  028e6	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _i$230820[ebp], 0
  028ed	eb 09		 jmp	 SHORT $LN20@TeleportIn@2
$LN19@TeleportIn@2:
  028ef	8b 45 c4	 mov	 eax, DWORD PTR _i$230820[ebp]
  028f2	83 c0 01	 add	 eax, 1
  028f5	89 45 c4	 mov	 DWORD PTR _i$230820[ebp], eax
$LN20@TeleportIn@2:
  028f8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  028fb	8b 4d c4	 mov	 ecx, DWORD PTR _i$230820[ebp]
  028fe	3b 48 20	 cmp	 ecx, DWORD PTR [eax+32]
  02901	7d 5c		 jge	 SHORT $LN18@TeleportIn@2

; 1157 : 	{
; 1158 : 		_GUILD_INFO_STRUCT* lpGuild2 = Guild.SearchGuild(this->reg_list[i].szGuildName);

  02903	8b 45 c4	 mov	 eax, DWORD PTR _i$230820[ebp]
  02906	6b c0 09	 imul	 eax, 9
  02909	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0290c	8d 94 01 16 01
	00 00		 lea	 edx, DWORD PTR [ecx+eax+278]
  02913	52		 push	 edx
  02914	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  02919	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  0291e	89 45 c0	 mov	 DWORD PTR _lpGuild2$230824[ebp], eax

; 1159 : 
; 1160 : 		if(!lpGuild2)

  02921	83 7d c0 00	 cmp	 DWORD PTR _lpGuild2$230824[ebp], 0
  02925	75 02		 jne	 SHORT $LN17@TeleportIn@2

; 1161 : 		{
; 1162 : 			continue;

  02927	eb c6		 jmp	 SHORT $LN19@TeleportIn@2
$LN17@TeleportIn@2:

; 1163 : 		}
; 1164 : 
; 1165 : 		if(iGuildRegID1 == lpGuild2->Number)

  02929	8b 45 c0	 mov	 eax, DWORD PTR _lpGuild2$230824[ebp]
  0292c	8b 4d e4	 mov	 ecx, DWORD PTR _iGuildRegID1$[ebp]
  0292f	3b 08		 cmp	 ecx, DWORD PTR [eax]
  02931	75 02		 jne	 SHORT $LN16@TeleportIn@2

; 1166 : 		{
; 1167 : 			continue;

  02933	eb ba		 jmp	 SHORT $LN19@TeleportIn@2
$LN16@TeleportIn@2:

; 1168 : 		}
; 1169 : 
; 1170 : 		if(lpGuild2->DungeonSiege.iScore > iMaxScoreGuild2)

  02935	8b 45 c0	 mov	 eax, DWORD PTR _lpGuild2$230824[ebp]
  02938	8b 88 48 07 00
	00		 mov	 ecx, DWORD PTR [eax+1864]
  0293e	3b 4d f0	 cmp	 ecx, DWORD PTR _iMaxScoreGuild2$[ebp]
  02941	7e 1a		 jle	 SHORT $LN15@TeleportIn@2

; 1171 : 		{
; 1172 : 			iMaxScoreGuild2 = lpGuild2->DungeonSiege.iScore;

  02943	8b 45 c0	 mov	 eax, DWORD PTR _lpGuild2$230824[ebp]
  02946	8b 88 48 07 00
	00		 mov	 ecx, DWORD PTR [eax+1864]
  0294c	89 4d f0	 mov	 DWORD PTR _iMaxScoreGuild2$[ebp], ecx

; 1173 : 			iGuildRegID2 = lpGuild2->Number;

  0294f	8b 45 c0	 mov	 eax, DWORD PTR _lpGuild2$230824[ebp]
  02952	8b 08		 mov	 ecx, DWORD PTR [eax]
  02954	89 4d e0	 mov	 DWORD PTR _iGuildRegID2$[ebp], ecx

; 1174 : 			iSiegeGuild2 = i;

  02957	8b 45 c4	 mov	 eax, DWORD PTR _i$230820[ebp]
  0295a	89 45 d0	 mov	 DWORD PTR _iSiegeGuild2$[ebp], eax
$LN15@TeleportIn@2:

; 1175 : 		}
; 1176 : 	}

  0295d	eb 90		 jmp	 SHORT $LN19@TeleportIn@2
$LN18@TeleportIn@2:

; 1177 : 
; 1178 : 	if(iGuildRegID2 == -1)

  0295f	83 7d e0 ff	 cmp	 DWORD PTR _iGuildRegID2$[ebp], -1
  02963	75 71		 jne	 SHORT $LN14@TeleportIn@2

; 1179 : 	{
; 1180 : 		_GUILD_INFO_STRUCT* lpWinGuild = Guild.SearchGuild_Number(iGuildRegID1);

  02965	8b 45 e4	 mov	 eax, DWORD PTR _iGuildRegID1$[ebp]
  02968	50		 push	 eax
  02969	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0296e	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  02973	89 45 bc	 mov	 DWORD PTR _lpWinGuild$230829[ebp], eax

; 1181 : 
; 1182 : 		if(lpWinGuild)

  02976	83 7d bc 00	 cmp	 DWORD PTR _lpWinGuild$230829[ebp], 0
  0297a	74 53		 je	 SHORT $LN13@TeleportIn@2

; 1183 : 		{
; 1184 : 			this->bCaptured = true;

  0297c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0297f	c6 40 14 01	 mov	 BYTE PTR [eax+20], 1

; 1185 : 			memcpy(this->szLordGuild, lpWinGuild->Name, sizeof(this->szLordGuild)-1);

  02983	6a 08		 push	 8
  02985	8b 45 bc	 mov	 eax, DWORD PTR _lpWinGuild$230829[ebp]
  02988	83 c0 04	 add	 eax, 4
  0298b	50		 push	 eax
  0298c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0298f	83 c1 15	 add	 ecx, 21			; 00000015H
  02992	51		 push	 ecx
  02993	e8 00 00 00 00	 call	 _memcpy
  02998	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1186 : 
; 1187 : 			char szTemp[256];
; 1188 : 			sprintf(szTemp, "[%s] %s are new owners of the Dungeon Dungeon", this->m_EventName, this->szLordGuild);

  0299b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0299e	83 c0 15	 add	 eax, 21			; 00000015H
  029a1	50		 push	 eax
  029a2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  029a5	81 c1 e4 00 00
	00		 add	 ecx, 228		; 000000e4H
  029ab	51		 push	 ecx
  029ac	68 00 00 00 00	 push	 OFFSET ??_C@_0CO@OFDODKNE@?$FL?$CFs?$FN?5?$CFs?5are?5new?5owners?5of?5the?5Du@
  029b1	8d 95 bc fe ff
	ff		 lea	 edx, DWORD PTR _szTemp$230831[ebp]
  029b7	52		 push	 edx
  029b8	e8 00 00 00 00	 call	 _sprintf
  029bd	83 c4 10	 add	 esp, 16			; 00000010H

; 1189 : 			AllSendServerMsg(szTemp);

  029c0	8d 85 bc fe ff
	ff		 lea	 eax, DWORD PTR _szTemp$230831[ebp]
  029c6	50		 push	 eax
  029c7	e8 00 00 00 00	 call	 ?AllSendServerMsg@@YAXPAD@Z ; AllSendServerMsg
  029cc	83 c4 04	 add	 esp, 4
$LN13@TeleportIn@2:

; 1190 : 		}
; 1191 : 
; 1192 : 		return false;

  029cf	32 c0		 xor	 al, al
  029d1	e9 9d 01 00 00	 jmp	 $LN27@TeleportIn@2
$LN14@TeleportIn@2:

; 1193 : 	}
; 1194 : 
; 1195 : 	for(int n = OBJ_STARTUSERINDEX; n < OBJMAX; n++)

  029d6	c7 85 b8 fe ff
	ff b0 36 00 00	 mov	 DWORD PTR _n$230833[ebp], 14000 ; 000036b0H
  029e0	eb 0f		 jmp	 SHORT $LN12@TeleportIn@2
$LN11@TeleportIn@2:
  029e2	8b 85 b8 fe ff
	ff		 mov	 eax, DWORD PTR _n$230833[ebp]
  029e8	83 c0 01	 add	 eax, 1
  029eb	89 85 b8 fe ff
	ff		 mov	 DWORD PTR _n$230833[ebp], eax
$LN12@TeleportIn@2:
  029f1	81 bd b8 fe ff
	ff 98 3a 00 00	 cmp	 DWORD PTR _n$230833[ebp], 15000 ; 00003a98H
  029fb	0f 8d bf 00 00
	00		 jge	 $LN10@TeleportIn@2

; 1196 : 	{
; 1197 : 		LPOBJ sObj = &gObj[n];

  02a01	8b 85 b8 fe ff
	ff		 mov	 eax, DWORD PTR _n$230833[ebp]
  02a07	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02a0d	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02a13	89 85 b4 fe ff
	ff		 mov	 DWORD PTR _sObj$230837[ebp], eax

; 1198 : 
; 1199 : 		if(sObj->Connected < PLAYER_PLAYING || sObj->Type != OBJ_USER)

  02a19	8b 85 b4 fe ff
	ff		 mov	 eax, DWORD PTR _sObj$230837[ebp]
  02a1f	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  02a23	7c 0f		 jl	 SHORT $LN8@TeleportIn@2
  02a25	8b 85 b4 fe ff
	ff		 mov	 eax, DWORD PTR _sObj$230837[ebp]
  02a2b	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  02a2f	83 f9 01	 cmp	 ecx, 1
  02a32	74 02		 je	 SHORT $LN9@TeleportIn@2
$LN8@TeleportIn@2:

; 1200 : 		{
; 1201 : 			continue;

  02a34	eb ac		 jmp	 SHORT $LN11@TeleportIn@2
$LN9@TeleportIn@2:

; 1202 : 		}
; 1203 : 
; 1204 : 		if(sObj->GuildNumber < 1)

  02a36	8b 85 b4 fe ff
	ff		 mov	 eax, DWORD PTR _sObj$230837[ebp]
  02a3c	83 b8 34 04 00
	00 01		 cmp	 DWORD PTR [eax+1076], 1
  02a43	7d 02		 jge	 SHORT $LN7@TeleportIn@2

; 1205 : 		{
; 1206 : 			continue;

  02a45	eb 9b		 jmp	 SHORT $LN11@TeleportIn@2
$LN7@TeleportIn@2:

; 1207 : 		}
; 1208 : 
; 1209 : 		if(iGuildRegID1 == sObj->GuildNumber)

  02a47	8b 85 b4 fe ff
	ff		 mov	 eax, DWORD PTR _sObj$230837[ebp]
  02a4d	8b 4d e4	 mov	 ecx, DWORD PTR _iGuildRegID1$[ebp]
  02a50	3b 88 34 04 00
	00		 cmp	 ecx, DWORD PTR [eax+1076]
  02a56	75 29		 jne	 SHORT $LN6@TeleportIn@2

; 1210 : 		{
; 1211 : 			if(sObj->DSiege.iScore > iMaxScorePlayer1)

  02a58	8b 85 b4 fe ff
	ff		 mov	 eax, DWORD PTR _sObj$230837[ebp]
  02a5e	8b 88 04 29 00
	00		 mov	 ecx, DWORD PTR [eax+10500]
  02a64	3b 4d ec	 cmp	 ecx, DWORD PTR _iMaxScorePlayer1$[ebp]
  02a67	7e 18		 jle	 SHORT $LN6@TeleportIn@2

; 1212 : 			{
; 1213 : 				iMaxScorePlayer1 = sObj->DSiege.iScore;

  02a69	8b 85 b4 fe ff
	ff		 mov	 eax, DWORD PTR _sObj$230837[ebp]
  02a6f	8b 88 04 29 00
	00		 mov	 ecx, DWORD PTR [eax+10500]
  02a75	89 4d ec	 mov	 DWORD PTR _iMaxScorePlayer1$[ebp], ecx

; 1214 : 				aIndex1 = n;

  02a78	8b 85 b8 fe ff
	ff		 mov	 eax, DWORD PTR _n$230833[ebp]
  02a7e	89 45 dc	 mov	 DWORD PTR _aIndex1$[ebp], eax
$LN6@TeleportIn@2:

; 1215 : 			}
; 1216 : 		}
; 1217 : 
; 1218 : 		if(iGuildRegID2 == sObj->GuildNumber)

  02a81	8b 85 b4 fe ff
	ff		 mov	 eax, DWORD PTR _sObj$230837[ebp]
  02a87	8b 4d e0	 mov	 ecx, DWORD PTR _iGuildRegID2$[ebp]
  02a8a	3b 88 34 04 00
	00		 cmp	 ecx, DWORD PTR [eax+1076]
  02a90	75 29		 jne	 SHORT $LN4@TeleportIn@2

; 1219 : 		{
; 1220 : 			if(sObj->DSiege.iScore > iMaxScorePlayer2)

  02a92	8b 85 b4 fe ff
	ff		 mov	 eax, DWORD PTR _sObj$230837[ebp]
  02a98	8b 88 04 29 00
	00		 mov	 ecx, DWORD PTR [eax+10500]
  02a9e	3b 4d e8	 cmp	 ecx, DWORD PTR _iMaxScorePlayer2$[ebp]
  02aa1	7e 18		 jle	 SHORT $LN4@TeleportIn@2

; 1221 : 			{
; 1222 : 				iMaxScorePlayer2 = sObj->DSiege.iScore;

  02aa3	8b 85 b4 fe ff
	ff		 mov	 eax, DWORD PTR _sObj$230837[ebp]
  02aa9	8b 88 04 29 00
	00		 mov	 ecx, DWORD PTR [eax+10500]
  02aaf	89 4d e8	 mov	 DWORD PTR _iMaxScorePlayer2$[ebp], ecx

; 1223 : 				aIndex2 = n;

  02ab2	8b 85 b8 fe ff
	ff		 mov	 eax, DWORD PTR _n$230833[ebp]
  02ab8	89 45 d8	 mov	 DWORD PTR _aIndex2$[ebp], eax
$LN4@TeleportIn@2:

; 1224 : 			}
; 1225 : 		}
; 1226 : 	}

  02abb	e9 22 ff ff ff	 jmp	 $LN11@TeleportIn@2
$LN10@TeleportIn@2:

; 1227 : 
; 1228 : 	if(aIndex1 == -1)

  02ac0	83 7d dc ff	 cmp	 DWORD PTR _aIndex1$[ebp], -1
  02ac4	75 24		 jne	 SHORT $LN2@TeleportIn@2

; 1229 : 	{
; 1230 : 		this->bCaptured = false;

  02ac6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  02ac9	c6 40 14 00	 mov	 BYTE PTR [eax+20], 0

; 1231 : 		memcpy(this->szLordGuild, "", sizeof(this->szLordGuild)-1);

  02acd	6a 08		 push	 8
  02acf	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@?$AA@
  02ad4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  02ad7	83 c0 15	 add	 eax, 21			; 00000015H
  02ada	50		 push	 eax
  02adb	e8 00 00 00 00	 call	 _memcpy
  02ae0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1232 : 		return false;

  02ae3	32 c0		 xor	 al, al
  02ae5	e9 89 00 00 00	 jmp	 $LN27@TeleportIn@2
$LN2@TeleportIn@2:

; 1233 : 	}
; 1234 : 
; 1235 : 	if(aIndex2 == -1)

  02aea	83 7d d8 ff	 cmp	 DWORD PTR _aIndex2$[ebp], -1
  02aee	75 33		 jne	 SHORT $LN1@TeleportIn@2

; 1236 : 	{
; 1237 : 		this->bCaptured = true;

  02af0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  02af3	c6 40 14 01	 mov	 BYTE PTR [eax+20], 1

; 1238 : 		memcpy(this->szLordGuild, gObj[aIndex1].GuildName, sizeof(this->szLordGuild)-1);

  02af7	6a 08		 push	 8
  02af9	8b 45 dc	 mov	 eax, DWORD PTR _aIndex1$[ebp]
  02afc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02b02	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02b08	8d 94 01 3c 04
	00 00		 lea	 edx, DWORD PTR [ecx+eax+1084]
  02b0f	52		 push	 edx
  02b10	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  02b13	83 c0 15	 add	 eax, 21			; 00000015H
  02b16	50		 push	 eax
  02b17	e8 00 00 00 00	 call	 _memcpy
  02b1c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1239 : 		return false;

  02b1f	32 c0		 xor	 al, al
  02b21	eb 50		 jmp	 SHORT $LN27@TeleportIn@2
$LN1@TeleportIn@2:

; 1240 : 	}
; 1241 : 
; 1242 : 	LPOBJ lpUserFinal1 = &gObj[aIndex1];

  02b23	8b 45 dc	 mov	 eax, DWORD PTR _aIndex1$[ebp]
  02b26	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02b2c	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02b32	89 85 b0 fe ff
	ff		 mov	 DWORD PTR _lpUserFinal1$[ebp], eax

; 1243 : 	LPOBJ lpUserFinal2 = &gObj[aIndex2];

  02b38	8b 45 d8	 mov	 eax, DWORD PTR _aIndex2$[ebp]
  02b3b	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02b41	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02b47	89 85 ac fe ff
	ff		 mov	 DWORD PTR _lpUserFinal2$[ebp], eax

; 1244 : 
; 1245 : 	this->aIndexFinal1 = aIndex1;

  02b4d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  02b50	8b 4d dc	 mov	 ecx, DWORD PTR _aIndex1$[ebp]
  02b53	89 48 38	 mov	 DWORD PTR [eax+56], ecx

; 1246 : 	this->aIndexFinal2 = aIndex2;

  02b56	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  02b59	8b 4d d8	 mov	 ecx, DWORD PTR _aIndex2$[ebp]
  02b5c	89 48 3c	 mov	 DWORD PTR [eax+60], ecx

; 1247 : 
; 1248 : 	this->aGuildFinal1 = iSiegeGuild1;

  02b5f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  02b62	8b 4d d4	 mov	 ecx, DWORD PTR _iSiegeGuild1$[ebp]
  02b65	89 48 40	 mov	 DWORD PTR [eax+64], ecx

; 1249 : 	this->aGuildFinal2 = iSiegeGuild2;

  02b68	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  02b6b	8b 4d d0	 mov	 ecx, DWORD PTR _iSiegeGuild2$[ebp]
  02b6e	89 48 44	 mov	 DWORD PTR [eax+68], ecx

; 1250 : 
; 1251 : 	return true;

  02b71	b0 01		 mov	 al, 1
$LN27@TeleportIn@2:

; 1252 : }

  02b73	5f		 pop	 edi
  02b74	5e		 pop	 esi
  02b75	5b		 pop	 ebx
  02b76	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02b79	33 cd		 xor	 ecx, ebp
  02b7b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  02b80	8b e5		 mov	 esp, ebp
  02b82	5d		 pop	 ebp
  02b83	c3		 ret	 0
?TeleportInFinal@CDungeonSiege@@QAE_NXZ ENDP		; CDungeonSiege::TeleportInFinal
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?PlayerGameClose@CDungeonSiege@@QAEXH@Z		; CDungeonSiege::PlayerGameClose
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_szTemp$ = -272						; size = 256
_lpUser$ = -16						; size = 4
_iWinIndex$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?PlayerGameClose@CDungeonSiege@@QAEXH@Z PROC		; CDungeonSiege::PlayerGameClose
; _this$ = ecx

; 1255 : {

  02b90	55		 push	 ebp
  02b91	8b ec		 mov	 ebp, esp
  02b93	81 ec 50 01 00
	00		 sub	 esp, 336		; 00000150H
  02b99	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  02b9e	33 c5		 xor	 eax, ebp
  02ba0	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  02ba3	53		 push	 ebx
  02ba4	56		 push	 esi
  02ba5	57		 push	 edi
  02ba6	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1256 : 	if(!this->CheckStatus(eEVENTDUNGEON_START_STAGE2))

  02ba9	6a 04		 push	 4
  02bab	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  02bae	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  02bb3	0f b6 c0	 movzx	 eax, al
  02bb6	85 c0		 test	 eax, eax
  02bb8	75 05		 jne	 SHORT $LN4@PlayerGame

; 1257 : 	{
; 1258 : 		return;

  02bba	e9 ed 00 00 00	 jmp	 $LN5@PlayerGame
$LN4@PlayerGame:

; 1259 : 	}
; 1260 : 
; 1261 : 	int iWinIndex = -1;

  02bbf	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _iWinIndex$[ebp], -1

; 1262 : 
; 1263 : 	if(aIndex == this->aIndexFinal1)

  02bc6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  02bc9	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  02bcc	3b 48 38	 cmp	 ecx, DWORD PTR [eax+56]
  02bcf	75 09		 jne	 SHORT $LN3@PlayerGame

; 1264 : 	{
; 1265 : 		iWinIndex = this->aIndexFinal2;

  02bd1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  02bd4	8b 48 3c	 mov	 ecx, DWORD PTR [eax+60]
  02bd7	89 4d f4	 mov	 DWORD PTR _iWinIndex$[ebp], ecx
$LN3@PlayerGame:

; 1266 : 	}
; 1267 : 	if(aIndex == this->aIndexFinal2)

  02bda	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  02bdd	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  02be0	3b 48 3c	 cmp	 ecx, DWORD PTR [eax+60]
  02be3	75 09		 jne	 SHORT $LN2@PlayerGame

; 1268 : 	{
; 1269 : 		iWinIndex = this->aIndexFinal1;

  02be5	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  02be8	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  02beb	89 4d f4	 mov	 DWORD PTR _iWinIndex$[ebp], ecx
$LN2@PlayerGame:

; 1270 : 	}
; 1271 : 
; 1272 : 	if(iWinIndex == -1)

  02bee	83 7d f4 ff	 cmp	 DWORD PTR _iWinIndex$[ebp], -1
  02bf2	75 05		 jne	 SHORT $LN1@PlayerGame

; 1273 : 	{
; 1274 : 		return;

  02bf4	e9 b3 00 00 00	 jmp	 $LN5@PlayerGame
$LN1@PlayerGame:

; 1275 : 	}
; 1276 : 
; 1277 : 	LPOBJ lpUser = &gObj[iWinIndex];

  02bf9	8b 45 f4	 mov	 eax, DWORD PTR _iWinIndex$[ebp]
  02bfc	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02c02	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02c08	89 45 f0	 mov	 DWORD PTR _lpUser$[ebp], eax

; 1278 : 	char szTemp[256];
; 1279 : 	sprintf(szTemp, "[%s] %s hero of Dungeon!", this->m_EventName, lpUser->Name);

  02c0b	8b 45 f0	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02c0e	83 c0 77	 add	 eax, 119		; 00000077H
  02c11	50		 push	 eax
  02c12	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  02c15	81 c1 e4 00 00
	00		 add	 ecx, 228		; 000000e4H
  02c1b	51		 push	 ecx
  02c1c	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@NCLPJDDN@?$FL?$CFs?$FN?5?$CFs?5hero?5of?5Dungeon?$CB?$AA@
  02c21	8d 95 f0 fe ff
	ff		 lea	 edx, DWORD PTR _szTemp$[ebp]
  02c27	52		 push	 edx
  02c28	e8 00 00 00 00	 call	 _sprintf
  02c2d	83 c4 10	 add	 esp, 16			; 00000010H

; 1280 : 	AllSendServerMsg(szTemp);

  02c30	8d 85 f0 fe ff
	ff		 lea	 eax, DWORD PTR _szTemp$[ebp]
  02c36	50		 push	 eax
  02c37	e8 00 00 00 00	 call	 ?AllSendServerMsg@@YAXPAD@Z ; AllSendServerMsg
  02c3c	83 c4 04	 add	 esp, 4

; 1281 : 	this->bCaptured = true;

  02c3f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  02c42	c6 40 14 01	 mov	 BYTE PTR [eax+20], 1

; 1282 : 	memcpy(this->szLordGuild, lpUser->GuildName, sizeof(this->szLordGuild)-1);

  02c46	6a 08		 push	 8
  02c48	8b 45 f0	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02c4b	05 3c 04 00 00	 add	 eax, 1084		; 0000043cH
  02c50	50		 push	 eax
  02c51	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  02c54	83 c1 15	 add	 ecx, 21			; 00000015H
  02c57	51		 push	 ecx
  02c58	e8 00 00 00 00	 call	 _memcpy
  02c5d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1283 : 	sprintf(szTemp, "[%s] %s are new owners of the Dungeon", this->m_EventName, this->szLordGuild);

  02c60	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  02c63	83 c0 15	 add	 eax, 21			; 00000015H
  02c66	50		 push	 eax
  02c67	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  02c6a	81 c1 e4 00 00
	00		 add	 ecx, 228		; 000000e4H
  02c70	51		 push	 ecx
  02c71	68 00 00 00 00	 push	 OFFSET ??_C@_0CG@JALOJN@?$FL?$CFs?$FN?5?$CFs?5are?5new?5owners?5of?5the?5Du@
  02c76	8d 95 f0 fe ff
	ff		 lea	 edx, DWORD PTR _szTemp$[ebp]
  02c7c	52		 push	 edx
  02c7d	e8 00 00 00 00	 call	 _sprintf
  02c82	83 c4 10	 add	 esp, 16			; 00000010H

; 1284 : 	AllSendServerMsg(szTemp);

  02c85	8d 85 f0 fe ff
	ff		 lea	 eax, DWORD PTR _szTemp$[ebp]
  02c8b	50		 push	 eax
  02c8c	e8 00 00 00 00	 call	 ?AllSendServerMsg@@YAXPAD@Z ; AllSendServerMsg
  02c91	83 c4 04	 add	 esp, 4

; 1285 : 	this->RewardSiege(lpUser->m_Index);

  02c94	8b 45 f0	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02c97	8b 08		 mov	 ecx, DWORD PTR [eax]
  02c99	51		 push	 ecx
  02c9a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  02c9d	e8 00 00 00 00	 call	 ?RewardSiege@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::RewardSiege

; 1286 : 	this->SetStatus(eEVENTDUNGEON_CLOSE);

  02ca2	6a 00		 push	 0
  02ca4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  02ca7	e8 00 00 00 00	 call	 ?SetStatus@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::SetStatus
$LN5@PlayerGame:

; 1287 : }

  02cac	5f		 pop	 edi
  02cad	5e		 pop	 esi
  02cae	5b		 pop	 ebx
  02caf	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  02cb2	33 cd		 xor	 ecx, ebp
  02cb4	e8 00 00 00 00	 call	 @__security_check_cookie@4
  02cb9	8b e5		 mov	 esp, ebp
  02cbb	5d		 pop	 ebp
  02cbc	c2 04 00	 ret	 4
?PlayerGameClose@CDungeonSiege@@QAEXH@Z ENDP		; CDungeonSiege::PlayerGameClose
_TEXT	ENDS
PUBLIC	?PlayerWaitAttack@CDungeonSiege@@QAE_NHH@Z	; CDungeonSiege::PlayerWaitAttack
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv75 = -80						; size = 4
tv70 = -80						; size = 4
_lpTarget$ = -12					; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
?PlayerWaitAttack@CDungeonSiege@@QAE_NHH@Z PROC		; CDungeonSiege::PlayerWaitAttack
; _this$ = ecx

; 1290 : {

  02cc0	55		 push	 ebp
  02cc1	8b ec		 mov	 ebp, esp
  02cc3	83 ec 50	 sub	 esp, 80			; 00000050H
  02cc6	53		 push	 ebx
  02cc7	56		 push	 esi
  02cc8	57		 push	 edi
  02cc9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1291 : 	if(!this->bEnable)

  02ccc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  02ccf	0f b6 48 48	 movzx	 ecx, BYTE PTR [eax+72]
  02cd3	85 c9		 test	 ecx, ecx
  02cd5	75 07		 jne	 SHORT $LN10@PlayerWait

; 1292 : 	{
; 1293 : 		return true;

  02cd7	b0 01		 mov	 al, 1
  02cd9	e9 df 00 00 00	 jmp	 $LN11@PlayerWait
$LN10@PlayerWait:

; 1294 : 	}
; 1295 : 
; 1296 : 	if(!OBJMAX_RANGE(aIndex) || !OBJMAX_RANGE(aTargetIndex))

  02cde	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  02ce2	7d 09		 jge	 SHORT $LN13@PlayerWait
  02ce4	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
  02ceb	eb 0f		 jmp	 SHORT $LN14@PlayerWait
$LN13@PlayerWait:
  02ced	33 c0		 xor	 eax, eax
  02cef	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  02cf6	0f 9e c0	 setle	 al
  02cf9	89 45 b0	 mov	 DWORD PTR tv70[ebp], eax
$LN14@PlayerWait:
  02cfc	83 7d b0 00	 cmp	 DWORD PTR tv70[ebp], 0
  02d00	74 24		 je	 SHORT $LN8@PlayerWait
  02d02	83 7d 0c 00	 cmp	 DWORD PTR _aTargetIndex$[ebp], 0
  02d06	7d 09		 jge	 SHORT $LN15@PlayerWait
  02d08	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv75[ebp], 0
  02d0f	eb 0f		 jmp	 SHORT $LN16@PlayerWait
$LN15@PlayerWait:
  02d11	33 c0		 xor	 eax, eax
  02d13	81 7d 0c 97 3a
	00 00		 cmp	 DWORD PTR _aTargetIndex$[ebp], 14999 ; 00003a97H
  02d1a	0f 9e c0	 setle	 al
  02d1d	89 45 b0	 mov	 DWORD PTR tv75[ebp], eax
$LN16@PlayerWait:
  02d20	83 7d b0 00	 cmp	 DWORD PTR tv75[ebp], 0
  02d24	75 07		 jne	 SHORT $LN9@PlayerWait
$LN8@PlayerWait:

; 1297 : 	{
; 1298 : 		return true;

  02d26	b0 01		 mov	 al, 1
  02d28	e9 90 00 00 00	 jmp	 $LN11@PlayerWait
$LN9@PlayerWait:

; 1299 : 	}
; 1300 : 
; 1301 : 	LPOBJ lpUser = &gObj[aIndex];

  02d2d	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02d30	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02d36	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02d3c	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 1302 : 	LPOBJ lpTarget = &gObj[aTargetIndex];

  02d3f	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  02d42	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02d48	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02d4e	89 45 f4	 mov	 DWORD PTR _lpTarget$[ebp], eax

; 1303 : 
; 1304 : 	if(lpUser->Connected < PLAYER_PLAYING || lpTarget->Connected < PLAYER_PLAYING)

  02d51	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02d54	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  02d58	7c 09		 jl	 SHORT $LN6@PlayerWait
  02d5a	8b 45 f4	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  02d5d	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  02d61	7d 04		 jge	 SHORT $LN7@PlayerWait
$LN6@PlayerWait:

; 1305 : 	{
; 1306 : 		return true;

  02d63	b0 01		 mov	 al, 1
  02d65	eb 56		 jmp	 SHORT $LN11@PlayerWait
$LN7@PlayerWait:

; 1307 : 	}
; 1308 : 
; 1309 : 	if(lpUser->Type != OBJ_USER || lpTarget->Type != OBJ_USER)

  02d67	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02d6a	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  02d6e	83 f9 01	 cmp	 ecx, 1
  02d71	75 0c		 jne	 SHORT $LN4@PlayerWait
  02d73	8b 45 f4	 mov	 eax, DWORD PTR _lpTarget$[ebp]
  02d76	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  02d7a	83 f9 01	 cmp	 ecx, 1
  02d7d	74 04		 je	 SHORT $LN5@PlayerWait
$LN4@PlayerWait:

; 1310 : 	{
; 1311 : 		return true;

  02d7f	b0 01		 mov	 al, 1
  02d81	eb 3a		 jmp	 SHORT $LN11@PlayerWait
$LN5@PlayerWait:

; 1312 : 	}
; 1313 : 
; 1314 : 	if(this->CheckStatus(eEVENTDUNGEON_WAIT) || this->CheckStatus(eEVENTDUNGEON_WAIT_STAGE2))	

  02d83	6a 01		 push	 1
  02d85	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02d88	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  02d8d	0f b6 c0	 movzx	 eax, al
  02d90	85 c0		 test	 eax, eax
  02d92	75 11		 jne	 SHORT $LN2@PlayerWait
  02d94	6a 03		 push	 3
  02d96	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02d99	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  02d9e	0f b6 c0	 movzx	 eax, al
  02da1	85 c0		 test	 eax, eax
  02da3	74 16		 je	 SHORT $LN3@PlayerWait
$LN2@PlayerWait:

; 1315 : 	{
; 1316 : 		if(lpUser->MapNumber == this->m_EventMapNumber)

  02da5	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02da8	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  02daf	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  02db2	3b 4a 78	 cmp	 ecx, DWORD PTR [edx+120]
  02db5	75 04		 jne	 SHORT $LN3@PlayerWait

; 1317 : 		{
; 1318 : 			return false;

  02db7	32 c0		 xor	 al, al
  02db9	eb 02		 jmp	 SHORT $LN11@PlayerWait
$LN3@PlayerWait:

; 1319 : 		}
; 1320 : 	}
; 1321 : 
; 1322 : 	return true;

  02dbb	b0 01		 mov	 al, 1
$LN11@PlayerWait:

; 1323 : }

  02dbd	5f		 pop	 edi
  02dbe	5e		 pop	 esi
  02dbf	5b		 pop	 ebx
  02dc0	8b e5		 mov	 esp, ebp
  02dc2	5d		 pop	 ebp
  02dc3	c2 08 00	 ret	 8
?PlayerWaitAttack@CDungeonSiege@@QAE_NHH@Z ENDP		; CDungeonSiege::PlayerWaitAttack
_TEXT	ENDS
EXTRN	?gObjRemoveBuffEffect@@YAEPAUOBJECTSTRUCT@@H@Z:PROC ; gObjRemoveBuffEffect
EXTRN	?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z:PROC ; gObjApplyBuffEffectDuration
EXTRN	?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z:PROC ; gObjSearchActiveEffect
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv69 = -76						; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?GuildBuff@CDungeonSiege@@QAEXH@Z PROC			; CDungeonSiege::GuildBuff
; _this$ = ecx

; 1326 : {

  02dd0	55		 push	 ebp
  02dd1	8b ec		 mov	 ebp, esp
  02dd3	83 ec 4c	 sub	 esp, 76			; 0000004cH
  02dd6	53		 push	 ebx
  02dd7	56		 push	 esi
  02dd8	57		 push	 edi
  02dd9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1327 : 	if(!this->m_BuffEnable)

  02ddc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  02ddf	83 b8 a8 00 00
	00 00		 cmp	 DWORD PTR [eax+168], 0
  02de6	75 05		 jne	 SHORT $LN8@GuildBuff

; 1328 : 	{
; 1329 : 		return;

  02de8	e9 f4 00 00 00	 jmp	 $LN9@GuildBuff
$LN8@GuildBuff:

; 1330 : 	}
; 1331 : 
; 1332 : 	if(!OBJMAX_RANGE(aIndex))

  02ded	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  02df1	7d 09		 jge	 SHORT $LN11@GuildBuff
  02df3	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv69[ebp], 0
  02dfa	eb 0f		 jmp	 SHORT $LN12@GuildBuff
$LN11@GuildBuff:
  02dfc	33 c0		 xor	 eax, eax
  02dfe	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  02e05	0f 9e c0	 setle	 al
  02e08	89 45 b4	 mov	 DWORD PTR tv69[ebp], eax
$LN12@GuildBuff:
  02e0b	83 7d b4 00	 cmp	 DWORD PTR tv69[ebp], 0
  02e0f	75 05		 jne	 SHORT $LN7@GuildBuff

; 1333 : 	{
; 1334 : 		return;

  02e11	e9 cb 00 00 00	 jmp	 $LN9@GuildBuff
$LN7@GuildBuff:

; 1335 : 	}
; 1336 : 
; 1337 : 	LPOBJ lpUser = &gObj[aIndex];

  02e16	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02e19	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02e1f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02e25	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 1338 : 
; 1339 : 	if(lpUser->Connected < PLAYER_PLAYING)

  02e28	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02e2b	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  02e2f	7d 05		 jge	 SHORT $LN6@GuildBuff

; 1340 : 	{
; 1341 : 		return;

  02e31	e9 ab 00 00 00	 jmp	 $LN9@GuildBuff
$LN6@GuildBuff:

; 1342 : 	}
; 1343 : 
; 1344 : 	if(lpUser->GuildNumber > 0 && this->bCaptured)

  02e36	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02e39	83 b8 34 04 00
	00 00		 cmp	 DWORD PTR [eax+1076], 0
  02e40	7e 75		 jle	 SHORT $LN5@GuildBuff
  02e42	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  02e45	0f b6 48 14	 movzx	 ecx, BYTE PTR [eax+20]
  02e49	85 c9		 test	 ecx, ecx
  02e4b	74 6a		 je	 SHORT $LN5@GuildBuff

; 1345 : 	{
; 1346 : 		if(lpUser->GuildName[0] == this->szLordGuild[0])

  02e4d	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02e50	0f be 88 3c 04
	00 00		 movsx	 ecx, BYTE PTR [eax+1084]
  02e57	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  02e5a	0f be 42 15	 movsx	 eax, BYTE PTR [edx+21]
  02e5e	3b c8		 cmp	 ecx, eax
  02e60	75 55		 jne	 SHORT $LN5@GuildBuff

; 1347 : 		{
; 1348 : 			if(!strcmp(lpUser->GuildName, this->szLordGuild))

  02e62	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  02e65	83 c0 15	 add	 eax, 21			; 00000015H
  02e68	50		 push	 eax
  02e69	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  02e6c	81 c1 3c 04 00
	00		 add	 ecx, 1084		; 0000043cH
  02e72	51		 push	 ecx
  02e73	e8 00 00 00 00	 call	 _strcmp
  02e78	83 c4 08	 add	 esp, 8
  02e7b	85 c0		 test	 eax, eax
  02e7d	75 38		 jne	 SHORT $LN5@GuildBuff

; 1349 : 			{
; 1350 : 				if(gObjSearchActiveEffect(lpUser,AT_DUNGEON_BUFF) == FALSE)

  02e7f	68 b8 00 00 00	 push	 184			; 000000b8H
  02e84	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02e87	50		 push	 eax
  02e88	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  02e8d	83 c4 08	 add	 esp, 8
  02e90	0f b6 c8	 movzx	 ecx, al
  02e93	85 c9		 test	 ecx, ecx
  02e95	75 1e		 jne	 SHORT $LN2@GuildBuff

; 1351 : 				{
; 1352 : 					gObjApplyBuffEffectDuration(lpUser,AT_DUNGEON_BUFF,0,0,0,0,600);

  02e97	68 58 02 00 00	 push	 600			; 00000258H
  02e9c	6a 00		 push	 0
  02e9e	6a 00		 push	 0
  02ea0	6a 00		 push	 0
  02ea2	6a 00		 push	 0
  02ea4	68 b8 00 00 00	 push	 184			; 000000b8H
  02ea9	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02eac	50		 push	 eax
  02ead	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  02eb2	83 c4 1c	 add	 esp, 28			; 0000001cH
$LN2@GuildBuff:

; 1353 : 				}
; 1354 : 				return;

  02eb5	eb 2a		 jmp	 SHORT $LN9@GuildBuff
$LN5@GuildBuff:

; 1355 : 			}
; 1356 : 		}
; 1357 : 	}
; 1358 : 
; 1359 : 	if(gObjSearchActiveEffect(lpUser,AT_DUNGEON_BUFF) == TRUE)

  02eb7	68 b8 00 00 00	 push	 184			; 000000b8H
  02ebc	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02ebf	50		 push	 eax
  02ec0	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  02ec5	83 c4 08	 add	 esp, 8
  02ec8	0f b6 c8	 movzx	 ecx, al
  02ecb	83 f9 01	 cmp	 ecx, 1
  02ece	75 11		 jne	 SHORT $LN9@GuildBuff

; 1360 : 	{
; 1361 : 		gObjRemoveBuffEffect(lpUser,AT_DUNGEON_BUFF);

  02ed0	68 b8 00 00 00	 push	 184			; 000000b8H
  02ed5	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02ed8	50		 push	 eax
  02ed9	e8 00 00 00 00	 call	 ?gObjRemoveBuffEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjRemoveBuffEffect
  02ede	83 c4 08	 add	 esp, 8
$LN9@GuildBuff:

; 1362 : 	}
; 1363 : }

  02ee1	5f		 pop	 edi
  02ee2	5e		 pop	 esi
  02ee3	5b		 pop	 ebx
  02ee4	8b e5		 mov	 esp, ebp
  02ee6	5d		 pop	 ebp
  02ee7	c2 04 00	 ret	 4
?GuildBuff@CDungeonSiege@@QAEXH@Z ENDP			; CDungeonSiege::GuildBuff
_TEXT	ENDS
PUBLIC	?CheckMoveGateSiege@CDungeonSiege@@QAE_NHH@Z	; CDungeonSiege::CheckMoveGateSiege
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv70 = -96						; size = 4
_lpGuild$230923 = -28					; size = 4
_i$230919 = -24						; size = 4
_lpTempObj$230911 = -20					; size = 4
_n$230907 = -16						; size = 4
_WindowCount$230906 = -12				; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_map$ = 12						; size = 4
?CheckMoveGateSiege@CDungeonSiege@@QAE_NHH@Z PROC	; CDungeonSiege::CheckMoveGateSiege
; _this$ = ecx

; 1366 : {

  02ef0	55		 push	 ebp
  02ef1	8b ec		 mov	 ebp, esp
  02ef3	83 ec 60	 sub	 esp, 96			; 00000060H
  02ef6	53		 push	 ebx
  02ef7	56		 push	 esi
  02ef8	57		 push	 edi
  02ef9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1367 : 	if(!this->bEnable)

  02efc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  02eff	0f b6 48 48	 movzx	 ecx, BYTE PTR [eax+72]
  02f03	85 c9		 test	 ecx, ecx
  02f05	75 07		 jne	 SHORT $LN25@CheckMoveG

; 1368 : 	{
; 1369 : 		return true;

  02f07	b0 01		 mov	 al, 1
  02f09	e9 03 02 00 00	 jmp	 $LN26@CheckMoveG
$LN25@CheckMoveG:

; 1370 : 	}
; 1371 : 
; 1372 : 	if(!OBJMAX_RANGE(aIndex))

  02f0e	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  02f12	7d 09		 jge	 SHORT $LN28@CheckMoveG
  02f14	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
  02f1b	eb 0f		 jmp	 SHORT $LN29@CheckMoveG
$LN28@CheckMoveG:
  02f1d	33 c0		 xor	 eax, eax
  02f1f	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  02f26	0f 9e c0	 setle	 al
  02f29	89 45 a0	 mov	 DWORD PTR tv70[ebp], eax
$LN29@CheckMoveG:
  02f2c	83 7d a0 00	 cmp	 DWORD PTR tv70[ebp], 0
  02f30	75 07		 jne	 SHORT $LN24@CheckMoveG

; 1373 : 	{
; 1374 : 		return false;

  02f32	32 c0		 xor	 al, al
  02f34	e9 d8 01 00 00	 jmp	 $LN26@CheckMoveG
$LN24@CheckMoveG:

; 1375 : 	}
; 1376 : 
; 1377 : 	LPOBJ lpUser = &gObj[aIndex];

  02f39	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  02f3c	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  02f42	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  02f48	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 1378 : 
; 1379 : 	lpUser->DSiege.bNpcClick = false;

  02f4b	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02f4e	c6 80 fc 28 00
	00 00		 mov	 BYTE PTR [eax+10492], 0

; 1380 : 
; 1381 : 	if(map != this->m_EventMapNumber)

  02f55	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  02f58	8b 4d 0c	 mov	 ecx, DWORD PTR _map$[ebp]
  02f5b	3b 48 78	 cmp	 ecx, DWORD PTR [eax+120]
  02f5e	74 07		 je	 SHORT $LN23@CheckMoveG

; 1382 : 	{
; 1383 : 		return true;

  02f60	b0 01		 mov	 al, 1
  02f62	e9 aa 01 00 00	 jmp	 $LN26@CheckMoveG
$LN23@CheckMoveG:

; 1384 : 	}
; 1385 : 
; 1386 : 	if(lpUser->GuildNumber < 1)

  02f67	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02f6a	83 b8 34 04 00
	00 01		 cmp	 DWORD PTR [eax+1076], 1
  02f71	7d 07		 jge	 SHORT $LN22@CheckMoveG

; 1387 : 	{
; 1388 : 		return false;

  02f73	32 c0		 xor	 al, al
  02f75	e9 97 01 00 00	 jmp	 $LN26@CheckMoveG
$LN22@CheckMoveG:

; 1389 : 	}
; 1390 : 
; 1391 : 	if(this->CheckStatus(eEVENTDUNGEON_CLOSE))

  02f7a	6a 00		 push	 0
  02f7c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02f7f	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  02f84	0f b6 c0	 movzx	 eax, al
  02f87	85 c0		 test	 eax, eax
  02f89	74 56		 je	 SHORT $LN21@CheckMoveG

; 1392 : 	{
; 1393 : 		if(bCaptured == false)

  02f8b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  02f8e	0f b6 48 14	 movzx	 ecx, BYTE PTR [eax+20]
  02f92	85 c9		 test	 ecx, ecx
  02f94	75 07		 jne	 SHORT $LN20@CheckMoveG

; 1394 : 		{
; 1395 : 			return false;

  02f96	32 c0		 xor	 al, al
  02f98	e9 74 01 00 00	 jmp	 $LN26@CheckMoveG
$LN20@CheckMoveG:

; 1396 : 		}
; 1397 : 
; 1398 : 		if(this->szLordGuild[0] == lpUser->GuildName[0])

  02f9d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  02fa0	0f be 48 15	 movsx	 ecx, BYTE PTR [eax+21]
  02fa4	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  02fa7	0f be 82 3c 04
	00 00		 movsx	 eax, BYTE PTR [edx+1084]
  02fae	3b c8		 cmp	 ecx, eax
  02fb0	75 23		 jne	 SHORT $LN19@CheckMoveG

; 1399 : 		{
; 1400 : 			if(!strcmp(this->szLordGuild, lpUser->GuildName))

  02fb2	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  02fb5	05 3c 04 00 00	 add	 eax, 1084		; 0000043cH
  02fba	50		 push	 eax
  02fbb	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  02fbe	83 c1 15	 add	 ecx, 21			; 00000015H
  02fc1	51		 push	 ecx
  02fc2	e8 00 00 00 00	 call	 _strcmp
  02fc7	83 c4 08	 add	 esp, 8
  02fca	85 c0		 test	 eax, eax
  02fcc	75 07		 jne	 SHORT $LN19@CheckMoveG

; 1401 : 			{
; 1402 : 				return true;

  02fce	b0 01		 mov	 al, 1
  02fd0	e9 3c 01 00 00	 jmp	 $LN26@CheckMoveG
$LN19@CheckMoveG:

; 1403 : 			}
; 1404 : 		}
; 1405 : 
; 1406 : 		return false;

  02fd5	32 c0		 xor	 al, al
  02fd7	e9 35 01 00 00	 jmp	 $LN26@CheckMoveG

; 1407 : 	}
; 1408 : 	else // -> Wait & Start Battle 

  02fdc	e9 2e 01 00 00	 jmp	 $LN17@CheckMoveG
$LN21@CheckMoveG:

; 1409 : 	{
; 1410 : 		if(map == this->m_EventMapNumber)

  02fe1	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  02fe4	8b 4d 0c	 mov	 ecx, DWORD PTR _map$[ebp]
  02fe7	3b 48 78	 cmp	 ecx, DWORD PTR [eax+120]
  02fea	0f 85 1f 01 00
	00		 jne	 $LN17@CheckMoveG

; 1411 : 		{
; 1412 : 			//CheckMultiWindow
; 1413 : 			int WindowCount = 0;

  02ff0	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _WindowCount$230906[ebp], 0

; 1414 : 
; 1415 : 			for(int n=OBJ_STARTUSERINDEX;n<OBJMAX;n++)

  02ff7	c7 45 f0 b0 36
	00 00		 mov	 DWORD PTR _n$230907[ebp], 14000 ; 000036b0H
  02ffe	eb 09		 jmp	 SHORT $LN15@CheckMoveG
$LN14@CheckMoveG:
  03000	8b 45 f0	 mov	 eax, DWORD PTR _n$230907[ebp]
  03003	83 c0 01	 add	 eax, 1
  03006	89 45 f0	 mov	 DWORD PTR _n$230907[ebp], eax
$LN15@CheckMoveG:
  03009	81 7d f0 98 3a
	00 00		 cmp	 DWORD PTR _n$230907[ebp], 15000 ; 00003a98H
  03010	7d 3c		 jge	 SHORT $LN13@CheckMoveG

; 1416 : 			{
; 1417 : 				LPOBJ lpTempObj = &gObj[n];

  03012	8b 45 f0	 mov	 eax, DWORD PTR _n$230907[ebp]
  03015	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0301b	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03021	89 45 ec	 mov	 DWORD PTR _lpTempObj$230911[ebp], eax

; 1418 : 
; 1419 : 				if(lpTempObj->Connected < PLAYER_PLAYING)

  03024	8b 45 ec	 mov	 eax, DWORD PTR _lpTempObj$230911[ebp]
  03027	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  0302b	7d 02		 jge	 SHORT $LN12@CheckMoveG

; 1420 : 				{
; 1421 : 					continue;

  0302d	eb d1		 jmp	 SHORT $LN14@CheckMoveG
$LN12@CheckMoveG:

; 1422 : 				}	
; 1423 : 
; 1424 : 				if(lpUser->hdd_id == lpTempObj->hdd_id)

  0302f	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  03032	8b 4d ec	 mov	 ecx, DWORD PTR _lpTempObj$230911[ebp]
  03035	8b 90 8c 28 00
	00		 mov	 edx, DWORD PTR [eax+10380]
  0303b	3b 91 8c 28 00
	00		 cmp	 edx, DWORD PTR [ecx+10380]
  03041	75 09		 jne	 SHORT $LN11@CheckMoveG

; 1425 : 				{
; 1426 : 					WindowCount++;

  03043	8b 45 f4	 mov	 eax, DWORD PTR _WindowCount$230906[ebp]
  03046	83 c0 01	 add	 eax, 1
  03049	89 45 f4	 mov	 DWORD PTR _WindowCount$230906[ebp], eax
$LN11@CheckMoveG:

; 1427 : 				}
; 1428 : 			}

  0304c	eb b2		 jmp	 SHORT $LN14@CheckMoveG
$LN13@CheckMoveG:

; 1429 : 
; 1430 : 			if(WindowCount > 1)

  0304e	83 7d f4 01	 cmp	 DWORD PTR _WindowCount$230906[ebp], 1
  03052	7e 07		 jle	 SHORT $LN10@CheckMoveG

; 1431 : 			{
; 1432 : 				return false;

  03054	32 c0		 xor	 al, al
  03056	e9 b6 00 00 00	 jmp	 $LN26@CheckMoveG
$LN10@CheckMoveG:

; 1433 : 			}
; 1434 : 
; 1435 : 			//Check reg list guild teleport
; 1436 : 			if(bCaptured == true)

  0305b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0305e	0f b6 48 14	 movzx	 ecx, BYTE PTR [eax+20]
  03062	83 f9 01	 cmp	 ecx, 1
  03065	75 37		 jne	 SHORT $LN9@CheckMoveG

; 1437 : 			{
; 1438 : 				if(this->szLordGuild[0] == lpUser->GuildName[0])

  03067	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0306a	0f be 48 15	 movsx	 ecx, BYTE PTR [eax+21]
  0306e	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  03071	0f be 82 3c 04
	00 00		 movsx	 eax, BYTE PTR [edx+1084]
  03078	3b c8		 cmp	 ecx, eax
  0307a	75 20		 jne	 SHORT $LN8@CheckMoveG

; 1439 : 				{
; 1440 : 					if(!strcmp(this->szLordGuild, lpUser->GuildName))

  0307c	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0307f	05 3c 04 00 00	 add	 eax, 1084		; 0000043cH
  03084	50		 push	 eax
  03085	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  03088	83 c1 15	 add	 ecx, 21			; 00000015H
  0308b	51		 push	 ecx
  0308c	e8 00 00 00 00	 call	 _strcmp
  03091	83 c4 08	 add	 esp, 8
  03094	85 c0		 test	 eax, eax
  03096	75 04		 jne	 SHORT $LN8@CheckMoveG

; 1441 : 					{
; 1442 : 						return true;

  03098	b0 01		 mov	 al, 1
  0309a	eb 75		 jmp	 SHORT $LN26@CheckMoveG
$LN8@CheckMoveG:

; 1443 : 					}
; 1444 : 				}
; 1445 : 			}
; 1446 : 			else

  0309c	eb 6d		 jmp	 SHORT $LN6@CheckMoveG
$LN9@CheckMoveG:

; 1447 : 			{
; 1448 : 				for(int i = 0; i < this->iRegCount; i++)

  0309e	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _i$230919[ebp], 0
  030a5	eb 09		 jmp	 SHORT $LN5@CheckMoveG
$LN4@CheckMoveG:
  030a7	8b 45 e8	 mov	 eax, DWORD PTR _i$230919[ebp]
  030aa	83 c0 01	 add	 eax, 1
  030ad	89 45 e8	 mov	 DWORD PTR _i$230919[ebp], eax
$LN5@CheckMoveG:
  030b0	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  030b3	8b 4d e8	 mov	 ecx, DWORD PTR _i$230919[ebp]
  030b6	3b 48 20	 cmp	 ecx, DWORD PTR [eax+32]
  030b9	7d 50		 jge	 SHORT $LN6@CheckMoveG

; 1449 : 				{
; 1450 : 					_GUILD_INFO_STRUCT* lpGuild = Guild.SearchGuild(this->reg_list[i].szGuildName);

  030bb	8b 45 e8	 mov	 eax, DWORD PTR _i$230919[ebp]
  030be	6b c0 09	 imul	 eax, 9
  030c1	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  030c4	8d 94 01 16 01
	00 00		 lea	 edx, DWORD PTR [ecx+eax+278]
  030cb	52		 push	 edx
  030cc	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  030d1	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  030d6	89 45 e4	 mov	 DWORD PTR _lpGuild$230923[ebp], eax

; 1451 : 
; 1452 : 					if(!lpGuild)

  030d9	83 7d e4 00	 cmp	 DWORD PTR _lpGuild$230923[ebp], 0
  030dd	75 02		 jne	 SHORT $LN2@CheckMoveG

; 1453 : 					{
; 1454 : 						continue;

  030df	eb c6		 jmp	 SHORT $LN4@CheckMoveG
$LN2@CheckMoveG:

; 1455 : 					}
; 1456 : 
; 1457 : 					if(!strcmp(this->reg_list[i].szGuildName, lpGuild->Name))

  030e1	8b 45 e4	 mov	 eax, DWORD PTR _lpGuild$230923[ebp]
  030e4	83 c0 04	 add	 eax, 4
  030e7	50		 push	 eax
  030e8	8b 4d e8	 mov	 ecx, DWORD PTR _i$230919[ebp]
  030eb	6b c9 09	 imul	 ecx, 9
  030ee	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  030f1	8d 84 0a 16 01
	00 00		 lea	 eax, DWORD PTR [edx+ecx+278]
  030f8	50		 push	 eax
  030f9	e8 00 00 00 00	 call	 _strcmp
  030fe	83 c4 08	 add	 esp, 8
  03101	85 c0		 test	 eax, eax
  03103	75 04		 jne	 SHORT $LN1@CheckMoveG

; 1458 : 					{
; 1459 : 						return true;

  03105	b0 01		 mov	 al, 1
  03107	eb 08		 jmp	 SHORT $LN26@CheckMoveG
$LN1@CheckMoveG:

; 1460 : 					}
; 1461 : 				}

  03109	eb 9c		 jmp	 SHORT $LN4@CheckMoveG
$LN6@CheckMoveG:

; 1462 : 			}
; 1463 : 
; 1464 : 			return false;

  0310b	32 c0		 xor	 al, al
  0310d	eb 02		 jmp	 SHORT $LN26@CheckMoveG
$LN17@CheckMoveG:

; 1465 : 		}
; 1466 : 	}
; 1467 : 
; 1468 : 	return true;

  0310f	b0 01		 mov	 al, 1
$LN26@CheckMoveG:

; 1469 : }

  03111	5f		 pop	 edi
  03112	5e		 pop	 esi
  03113	5b		 pop	 ebx
  03114	8b e5		 mov	 esp, ebp
  03116	5d		 pop	 ebp
  03117	c2 08 00	 ret	 8
?CheckMoveGateSiege@CDungeonSiege@@QAE_NHH@Z ENDP	; CDungeonSiege::CheckMoveGateSiege
_TEXT	ENDS
PUBLIC	__$ArrayPad$
EXTRN	?gObjCheckViewport@@YAHHHH@Z:PROC		; gObjCheckViewport
EXTRN	__chkstk:PROC
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv75 = -5104						; size = 4
_Vp$230955 = -5036					; size = 8
_lpTempObj$230946 = -5028				; size = 4
_n$230942 = -5024					; size = 4
_lpObj$ = -5020						; size = 4
_icount$ = -5013					; size = 1
_datasize$ = -5012					; size = 4
_SendBuff$ = -5008					; size = 5000
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?GCVieweSiege@CDungeonSiege@@QAEXH@Z PROC		; CDungeonSiege::GCVieweSiege
; _this$ = ecx

; 1472 : {

  03120	55		 push	 ebp
  03121	8b ec		 mov	 ebp, esp
  03123	b8 f0 13 00 00	 mov	 eax, 5104		; 000013f0H
  03128	e8 00 00 00 00	 call	 __chkstk
  0312d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  03132	33 c5		 xor	 eax, ebp
  03134	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03137	53		 push	 ebx
  03138	56		 push	 esi
  03139	57		 push	 edi
  0313a	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1473 : 	if(!this->bEnable)

  0313d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  03140	0f b6 48 48	 movzx	 ecx, BYTE PTR [eax+72]
  03144	85 c9		 test	 ecx, ecx
  03146	75 05		 jne	 SHORT $LN21@GCVieweSie

; 1474 : 	{
; 1475 : 		return;

  03148	e9 ab 02 00 00	 jmp	 $LN22@GCVieweSie
$LN21@GCVieweSie:

; 1476 : 	}
; 1477 : 
; 1478 : 	if(this->CheckStatus(eEVENTDUNGEON_CLOSE))

  0314d	6a 00		 push	 0
  0314f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  03152	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  03157	0f b6 c0	 movzx	 eax, al
  0315a	85 c0		 test	 eax, eax
  0315c	74 05		 je	 SHORT $LN20@GCVieweSie

; 1479 : 	{
; 1480 : 		return;

  0315e	e9 95 02 00 00	 jmp	 $LN22@GCVieweSie
$LN20@GCVieweSie:

; 1481 : 	}
; 1482 : 
; 1483 : 	BYTE SendBuff[5000];
; 1484 : 	int datasize = 6;

  03163	c7 85 6c ec ff
	ff 06 00 00 00	 mov	 DWORD PTR _datasize$[ebp], 6

; 1485 : 	BYTE icount = 0;

  0316d	c6 85 6b ec ff
	ff 00		 mov	 BYTE PTR _icount$[ebp], 0

; 1486 : 
; 1487 : 	if(OBJMAX_RANGE(aIndex) == 0)

  03174	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  03178	7d 0c		 jge	 SHORT $LN24@GCVieweSie
  0317a	c7 85 10 ec ff
	ff 00 00 00 00	 mov	 DWORD PTR tv75[ebp], 0
  03184	eb 12		 jmp	 SHORT $LN25@GCVieweSie
$LN24@GCVieweSie:
  03186	33 c0		 xor	 eax, eax
  03188	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  0318f	0f 9e c0	 setle	 al
  03192	89 85 10 ec ff
	ff		 mov	 DWORD PTR tv75[ebp], eax
$LN25@GCVieweSie:
  03198	83 bd 10 ec ff
	ff 00		 cmp	 DWORD PTR tv75[ebp], 0
  0319f	75 05		 jne	 SHORT $LN19@GCVieweSie

; 1488 : 	{
; 1489 : 		return;

  031a1	e9 52 02 00 00	 jmp	 $LN22@GCVieweSie
$LN19@GCVieweSie:

; 1490 : 	}
; 1491 : 
; 1492 : 	LPOBJ lpObj = &gObj[aIndex];

  031a6	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  031a9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  031af	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  031b5	89 85 64 ec ff
	ff		 mov	 DWORD PTR _lpObj$[ebp], eax

; 1493 : 
; 1494 : 	if(lpObj->Connected < PLAYER_PLAYING)

  031bb	8b 85 64 ec ff
	ff		 mov	 eax, DWORD PTR _lpObj$[ebp]
  031c1	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  031c5	7d 05		 jge	 SHORT $LN18@GCVieweSie

; 1495 : 	{
; 1496 : 		return;

  031c7	e9 2c 02 00 00	 jmp	 $LN22@GCVieweSie
$LN18@GCVieweSie:

; 1497 : 	}
; 1498 : 
; 1499 : 	if(lpObj->MapNumber != this->m_EventMapNumber)

  031cc	8b 85 64 ec ff
	ff		 mov	 eax, DWORD PTR _lpObj$[ebp]
  031d2	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  031d9	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  031dc	3b 4a 78	 cmp	 ecx, DWORD PTR [edx+120]
  031df	74 05		 je	 SHORT $LN17@GCVieweSie

; 1500 : 	{
; 1501 : 		return;

  031e1	e9 12 02 00 00	 jmp	 $LN22@GCVieweSie
$LN17@GCVieweSie:

; 1502 : 	}
; 1503 : 
; 1504 : #if(OFFLINE_MODE == TRUE)
; 1505 : 	if(lpObj->m_OfflineMode == true)

  031e6	8b 85 64 ec ff
	ff		 mov	 eax, DWORD PTR _lpObj$[ebp]
  031ec	0f b6 88 d4 28
	00 00		 movzx	 ecx, BYTE PTR [eax+10452]
  031f3	83 f9 01	 cmp	 ecx, 1
  031f6	75 05		 jne	 SHORT $LN16@GCVieweSie

; 1506 : 	{
; 1507 : 		return;

  031f8	e9 fb 01 00 00	 jmp	 $LN22@GCVieweSie
$LN16@GCVieweSie:

; 1508 : 	}
; 1509 : #endif
; 1510 : 
; 1511 : 	if(lpObj->OffExp != 0 || lpObj->OffTrade != 0)

  031fd	8b 85 64 ec ff
	ff		 mov	 eax, DWORD PTR _lpObj$[ebp]
  03203	83 b8 98 22 00
	00 00		 cmp	 DWORD PTR [eax+8856], 0
  0320a	75 0f		 jne	 SHORT $LN14@GCVieweSie
  0320c	8b 85 64 ec ff
	ff		 mov	 eax, DWORD PTR _lpObj$[ebp]
  03212	83 b8 ac 22 00
	00 00		 cmp	 DWORD PTR [eax+8876], 0
  03219	74 05		 je	 SHORT $LN15@GCVieweSie
$LN14@GCVieweSie:

; 1512 : 	{
; 1513 : 		return;

  0321b	e9 d8 01 00 00	 jmp	 $LN22@GCVieweSie
$LN15@GCVieweSie:

; 1514 : 	}
; 1515 : 
; 1516 : 	for(int n = 0; n < OBJMAX; n++)

  03220	c7 85 60 ec ff
	ff 00 00 00 00	 mov	 DWORD PTR _n$230942[ebp], 0
  0322a	eb 0f		 jmp	 SHORT $LN13@GCVieweSie
$LN12@GCVieweSie:
  0322c	8b 85 60 ec ff
	ff		 mov	 eax, DWORD PTR _n$230942[ebp]
  03232	83 c0 01	 add	 eax, 1
  03235	89 85 60 ec ff
	ff		 mov	 DWORD PTR _n$230942[ebp], eax
$LN13@GCVieweSie:
  0323b	81 bd 60 ec ff
	ff 98 3a 00 00	 cmp	 DWORD PTR _n$230942[ebp], 15000 ; 00003a98H
  03245	0f 8d 47 01 00
	00		 jge	 $LN11@GCVieweSie

; 1517 : 	{
; 1518 : 		LPOBJ lpTempObj = &gObj[n];

  0324b	8b 85 60 ec ff
	ff		 mov	 eax, DWORD PTR _n$230942[ebp]
  03251	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  03257	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0325d	89 85 5c ec ff
	ff		 mov	 DWORD PTR _lpTempObj$230946[ebp], eax

; 1519 : 
; 1520 : 		if(lpTempObj->Connected == PLAYER_PLAYING)

  03263	8b 85 5c ec ff
	ff		 mov	 eax, DWORD PTR _lpTempObj$230946[ebp]
  03269	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  0326d	0f 85 1a 01 00
	00		 jne	 $LN10@GCVieweSie

; 1521 : 		{
; 1522 : 			if(lpTempObj->m_State == 1 || lpTempObj->m_State == 2)

  03273	8b 85 5c ec ff
	ff		 mov	 eax, DWORD PTR _lpTempObj$230946[ebp]
  03279	83 b8 20 02 00
	00 01		 cmp	 DWORD PTR [eax+544], 1
  03280	74 13		 je	 SHORT $LN8@GCVieweSie
  03282	8b 85 5c ec ff
	ff		 mov	 eax, DWORD PTR _lpTempObj$230946[ebp]
  03288	83 b8 20 02 00
	00 02		 cmp	 DWORD PTR [eax+544], 2
  0328f	0f 85 f8 00 00
	00		 jne	 $LN10@GCVieweSie
$LN8@GCVieweSie:

; 1523 : 			{
; 1524 : 				if(lpObj->MapNumber == lpTempObj->MapNumber)

  03295	8b 85 64 ec ff
	ff		 mov	 eax, DWORD PTR _lpObj$[ebp]
  0329b	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  032a2	8b 95 5c ec ff
	ff		 mov	 edx, DWORD PTR _lpTempObj$230946[ebp]
  032a8	0f b6 82 49 01
	00 00		 movzx	 eax, BYTE PTR [edx+329]
  032af	3b c8		 cmp	 ecx, eax
  032b1	0f 85 d6 00 00
	00		 jne	 $LN10@GCVieweSie

; 1525 : 				{
; 1526 : 					if(gObjCheckViewport(aIndex,lpTempObj->X,lpTempObj->Y) == 1)

  032b7	8b 85 5c ec ff
	ff		 mov	 eax, DWORD PTR _lpTempObj$230946[ebp]
  032bd	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  032c4	51		 push	 ecx
  032c5	8b 95 5c ec ff
	ff		 mov	 edx, DWORD PTR _lpTempObj$230946[ebp]
  032cb	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  032d2	50		 push	 eax
  032d3	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  032d6	51		 push	 ecx
  032d7	e8 00 00 00 00	 call	 ?gObjCheckViewport@@YAHHHH@Z ; gObjCheckViewport
  032dc	83 c4 0c	 add	 esp, 12			; 0000000cH
  032df	83 f8 01	 cmp	 eax, 1
  032e2	0f 85 a5 00 00
	00		 jne	 $LN10@GCVieweSie

; 1527 : 					{
; 1528 : 						if(lpTempObj->Type != OBJ_USER || lpTempObj->GuildNumber < 1) 

  032e8	8b 85 5c ec ff
	ff		 mov	 eax, DWORD PTR _lpTempObj$230946[ebp]
  032ee	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  032f2	83 f9 01	 cmp	 ecx, 1
  032f5	75 0f		 jne	 SHORT $LN4@GCVieweSie
  032f7	8b 85 5c ec ff
	ff		 mov	 eax, DWORD PTR _lpTempObj$230946[ebp]
  032fd	83 b8 34 04 00
	00 01		 cmp	 DWORD PTR [eax+1076], 1
  03304	7d 05		 jge	 SHORT $LN5@GCVieweSie
$LN4@GCVieweSie:

; 1529 : 						{
; 1530 : 							continue;

  03306	e9 21 ff ff ff	 jmp	 $LN12@GCVieweSie
$LN5@GCVieweSie:

; 1531 : 						}
; 1532 : 
; 1533 : 						if(lpTempObj->MapNumber != this->m_EventMapNumber)

  0330b	8b 85 5c ec ff
	ff		 mov	 eax, DWORD PTR _lpTempObj$230946[ebp]
  03311	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  03318	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0331b	3b 4a 78	 cmp	 ecx, DWORD PTR [edx+120]
  0331e	74 05		 je	 SHORT $LN3@GCVieweSie

; 1534 : 						{
; 1535 : 							continue;

  03320	e9 07 ff ff ff	 jmp	 $LN12@GCVieweSie
$LN3@GCVieweSie:

; 1536 : 						}
; 1537 : 
; 1538 : 						DUNGEON_VIEWE Vp;
; 1539 : 		
; 1540 : 						Vp.aIndex = n;

  03325	8b 85 60 ec ff
	ff		 mov	 eax, DWORD PTR _n$230942[ebp]
  0332b	89 85 54 ec ff
	ff		 mov	 DWORD PTR _Vp$230955[ebp], eax

; 1541 : 						Vp.GuildNumber = lpTempObj->GuildNumber;

  03331	8b 85 5c ec ff
	ff		 mov	 eax, DWORD PTR _lpTempObj$230946[ebp]
  03337	8b 88 34 04 00
	00		 mov	 ecx, DWORD PTR [eax+1076]
  0333d	89 8d 58 ec ff
	ff		 mov	 DWORD PTR _Vp$230955[ebp+4], ecx

; 1542 : 
; 1543 : 						memcpy(&SendBuff[datasize],&Vp,sizeof(Vp));

  03343	6a 08		 push	 8
  03345	8d 85 54 ec ff
	ff		 lea	 eax, DWORD PTR _Vp$230955[ebp]
  0334b	50		 push	 eax
  0334c	8b 8d 6c ec ff
	ff		 mov	 ecx, DWORD PTR _datasize$[ebp]
  03352	8d 94 0d 70 ec
	ff ff		 lea	 edx, DWORD PTR _SendBuff$[ebp+ecx]
  03359	52		 push	 edx
  0335a	e8 00 00 00 00	 call	 _memcpy
  0335f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1544 : 						datasize += sizeof(Vp);

  03362	8b 85 6c ec ff
	ff		 mov	 eax, DWORD PTR _datasize$[ebp]
  03368	83 c0 08	 add	 eax, 8
  0336b	89 85 6c ec ff
	ff		 mov	 DWORD PTR _datasize$[ebp], eax

; 1545 : 
; 1546 : 						icount++;

  03371	8a 85 6b ec ff
	ff		 mov	 al, BYTE PTR _icount$[ebp]
  03377	04 01		 add	 al, 1
  03379	88 85 6b ec ff
	ff		 mov	 BYTE PTR _icount$[ebp], al

; 1547 : 
; 1548 : 						if(icount == 75) 

  0337f	0f b6 85 6b ec
	ff ff		 movzx	 eax, BYTE PTR _icount$[ebp]
  03386	83 f8 4b	 cmp	 eax, 75			; 0000004bH
  03389	75 02		 jne	 SHORT $LN10@GCVieweSie

; 1549 : 						{
; 1550 : 							break;

  0338b	eb 05		 jmp	 SHORT $LN11@GCVieweSie
$LN10@GCVieweSie:

; 1551 : 						}
; 1552 : 					}
; 1553 : 				}
; 1554 : 			}
; 1555 : 		}
; 1556 : 	}

  0338d	e9 9a fe ff ff	 jmp	 $LN12@GCVieweSie
$LN11@GCVieweSie:

; 1557 : 
; 1558 : 	if(icount > 0)

  03392	0f b6 85 6b ec
	ff ff		 movzx	 eax, BYTE PTR _icount$[ebp]
  03399	85 c0		 test	 eax, eax
  0339b	7e 5b		 jle	 SHORT $LN22@GCVieweSie

; 1559 : 	{
; 1560 : 		SendBuff[0] = 0xC2;

  0339d	c6 85 70 ec ff
	ff c2		 mov	 BYTE PTR _SendBuff$[ebp], 194 ; 000000c2H

; 1561 : 		SendBuff[1] = SET_NUMBERH(datasize);

  033a4	8b 85 6c ec ff
	ff		 mov	 eax, DWORD PTR _datasize$[ebp]
  033aa	c1 e8 08	 shr	 eax, 8
  033ad	88 85 71 ec ff
	ff		 mov	 BYTE PTR _SendBuff$[ebp+1], al

; 1562 : 		SendBuff[2] = SET_NUMBERL(datasize);

  033b3	8b 85 6c ec ff
	ff		 mov	 eax, DWORD PTR _datasize$[ebp]
  033b9	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  033be	88 85 72 ec ff
	ff		 mov	 BYTE PTR _SendBuff$[ebp+2], al

; 1563 : 		SendBuff[3] = 0xFA;

  033c4	c6 85 73 ec ff
	ff fa		 mov	 BYTE PTR _SendBuff$[ebp+3], 250 ; 000000faH

; 1564 : 		SendBuff[4] = 0x0C;

  033cb	c6 85 74 ec ff
	ff 0c		 mov	 BYTE PTR _SendBuff$[ebp+4], 12 ; 0000000cH

; 1565 : 		SendBuff[5] = icount;

  033d2	8a 85 6b ec ff
	ff		 mov	 al, BYTE PTR _icount$[ebp]
  033d8	88 85 75 ec ff
	ff		 mov	 BYTE PTR _SendBuff$[ebp+5], al

; 1566 : 		DataSend(aIndex, SendBuff, datasize);

  033de	8b 85 6c ec ff
	ff		 mov	 eax, DWORD PTR _datasize$[ebp]
  033e4	50		 push	 eax
  033e5	8d 8d 70 ec ff
	ff		 lea	 ecx, DWORD PTR _SendBuff$[ebp]
  033eb	51		 push	 ecx
  033ec	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  033ef	52		 push	 edx
  033f0	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  033f5	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN22@GCVieweSie:

; 1567 : 	}
; 1568 : }

  033f8	5f		 pop	 edi
  033f9	5e		 pop	 esi
  033fa	5b		 pop	 ebx
  033fb	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  033fe	33 cd		 xor	 ecx, ebp
  03400	e8 00 00 00 00	 call	 @__security_check_cookie@4
  03405	8b e5		 mov	 esp, ebp
  03407	5d		 pop	 ebp
  03408	c2 04 00	 ret	 4
?GCVieweSiege@CDungeonSiege@@QAEXH@Z ENDP		; CDungeonSiege::GCVieweSiege
_TEXT	ENDS
PUBLIC	?GCPlayerScore@CDungeonSiege@@QAEXH@Z		; CDungeonSiege::GCPlayerScore
PUBLIC	?GCGuildNumber@CDungeonSiege@@QAEXH@Z		; CDungeonSiege::GCGuildNumber
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv67 = -84						; size = 4
_pMsg$ = -16						; size = 8
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?GCGuildNumber@CDungeonSiege@@QAEXH@Z PROC		; CDungeonSiege::GCGuildNumber
; _this$ = ecx

; 1571 : {

  03410	55		 push	 ebp
  03411	8b ec		 mov	 ebp, esp
  03413	83 ec 54	 sub	 esp, 84			; 00000054H
  03416	53		 push	 ebx
  03417	56		 push	 esi
  03418	57		 push	 edi
  03419	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1572 : 	if(OBJMAX_RANGE(aIndex) == 0)

  0341c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  03420	7d 09		 jge	 SHORT $LN6@GCGuildNum
  03422	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  03429	eb 0f		 jmp	 SHORT $LN7@GCGuildNum
$LN6@GCGuildNum:
  0342b	33 c0		 xor	 eax, eax
  0342d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  03434	0f 9e c0	 setle	 al
  03437	89 45 ac	 mov	 DWORD PTR tv67[ebp], eax
$LN7@GCGuildNum:
  0343a	83 7d ac 00	 cmp	 DWORD PTR tv67[ebp], 0
  0343e	75 02		 jne	 SHORT $LN3@GCGuildNum

; 1573 : 	{
; 1574 : 		return;

  03440	eb 6d		 jmp	 SHORT $LN4@GCGuildNum
$LN3@GCGuildNum:

; 1575 : 	}
; 1576 : 
; 1577 : 	LPOBJ lpUser = &gObj[aIndex];

  03442	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  03445	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0344b	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03451	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 1578 : 
; 1579 : 	if(lpUser->Connected < PLAYER_PLAYING)

  03454	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  03457	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  0345b	7d 02		 jge	 SHORT $LN2@GCGuildNum

; 1580 : 	{
; 1581 : 		return;

  0345d	eb 50		 jmp	 SHORT $LN4@GCGuildNum
$LN2@GCGuildNum:

; 1582 : 	}
; 1583 : 
; 1584 : 	PMSG_GC_GUILD_INDEX pMsg;
; 1585 : 	pMsg.h.set((LPBYTE)&pMsg, 0xFB, 0x54, sizeof(pMsg));

  0345f	6a 08		 push	 8
  03461	6a 54		 push	 84			; 00000054H
  03463	68 fb 00 00 00	 push	 251			; 000000fbH
  03468	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0346b	50		 push	 eax
  0346c	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0346f	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 1586 : 	pMsg.GuildNumber = lpUser->GuildNumber;

  03474	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  03477	8b 88 34 04 00
	00		 mov	 ecx, DWORD PTR [eax+1076]
  0347d	89 4d f4	 mov	 DWORD PTR _pMsg$[ebp+4], ecx

; 1587 : 	DataSend(aIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  03480	6a 08		 push	 8
  03482	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  03485	50		 push	 eax
  03486	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  03489	51		 push	 ecx
  0348a	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0348f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1588 : 
; 1589 : 	if(!this->CheckStatus(eEVENTDUNGEON_CLOSE))

  03492	6a 00		 push	 0
  03494	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  03497	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  0349c	0f b6 c0	 movzx	 eax, al
  0349f	85 c0		 test	 eax, eax
  034a1	75 0c		 jne	 SHORT $LN4@GCGuildNum

; 1590 : 	{
; 1591 : 		this->GCPlayerScore(aIndex);

  034a3	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  034a6	50		 push	 eax
  034a7	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  034aa	e8 00 00 00 00	 call	 ?GCPlayerScore@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::GCPlayerScore
$LN4@GCGuildNum:

; 1592 : 	}
; 1593 : }

  034af	5f		 pop	 edi
  034b0	5e		 pop	 esi
  034b1	5b		 pop	 ebx
  034b2	8b e5		 mov	 esp, ebp
  034b4	5d		 pop	 ebp
  034b5	c2 04 00	 ret	 4
?GCGuildNumber@CDungeonSiege@@QAEXH@Z ENDP		; CDungeonSiege::GCGuildNumber
; Function compile flags: /Odtp /ZI
_lpTempObj$230981 = -12				; size = 4
_n$230977 = -8						; size = 4
_this$ = -4						; size = 4
?GCSiegeScore@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::GCSiegeScore
; _this$ = ecx

; 1596 : {

  034c0	55		 push	 ebp
  034c1	8b ec		 mov	 ebp, esp
  034c3	83 ec 4c	 sub	 esp, 76			; 0000004cH
  034c6	53		 push	 ebx
  034c7	56		 push	 esi
  034c8	57		 push	 edi
  034c9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1597 : 	for(int n = OBJ_STARTUSERINDEX; n < OBJMAX; n++)

  034cc	c7 45 f8 b0 36
	00 00		 mov	 DWORD PTR _n$230977[ebp], 14000 ; 000036b0H
  034d3	eb 09		 jmp	 SHORT $LN5@GCSiegeSco
$LN4@GCSiegeSco:
  034d5	8b 45 f8	 mov	 eax, DWORD PTR _n$230977[ebp]
  034d8	83 c0 01	 add	 eax, 1
  034db	89 45 f8	 mov	 DWORD PTR _n$230977[ebp], eax
$LN5@GCSiegeSco:
  034de	81 7d f8 98 3a
	00 00		 cmp	 DWORD PTR _n$230977[ebp], 15000 ; 00003a98H
  034e5	7d 37		 jge	 SHORT $LN6@GCSiegeSco

; 1598 : 	{
; 1599 : 		LPOBJ lpTempObj = &gObj[n];

  034e7	8b 45 f8	 mov	 eax, DWORD PTR _n$230977[ebp]
  034ea	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  034f0	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  034f6	89 45 f4	 mov	 DWORD PTR _lpTempObj$230981[ebp], eax

; 1600 : 
; 1601 : 		if(lpTempObj->Connected < PLAYER_PLAYING || lpTempObj->Type != OBJ_USER)

  034f9	8b 45 f4	 mov	 eax, DWORD PTR _lpTempObj$230981[ebp]
  034fc	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  03500	7c 0c		 jl	 SHORT $LN1@GCSiegeSco
  03502	8b 45 f4	 mov	 eax, DWORD PTR _lpTempObj$230981[ebp]
  03505	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  03509	83 f9 01	 cmp	 ecx, 1
  0350c	74 02		 je	 SHORT $LN2@GCSiegeSco
$LN1@GCSiegeSco:

; 1602 : 		{
; 1603 : 			continue;

  0350e	eb c5		 jmp	 SHORT $LN4@GCSiegeSco
$LN2@GCSiegeSco:

; 1604 : 		}	
; 1605 : 
; 1606 : 		this->GCPlayerScore(n);

  03510	8b 45 f8	 mov	 eax, DWORD PTR _n$230977[ebp]
  03513	50		 push	 eax
  03514	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  03517	e8 00 00 00 00	 call	 ?GCPlayerScore@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::GCPlayerScore

; 1607 : 	}

  0351c	eb b7		 jmp	 SHORT $LN4@GCSiegeSco
$LN6@GCSiegeSco:

; 1608 : }

  0351e	5f		 pop	 edi
  0351f	5e		 pop	 esi
  03520	5b		 pop	 ebx
  03521	8b e5		 mov	 esp, ebp
  03523	5d		 pop	 ebp
  03524	c3		 ret	 0
?GCSiegeScore@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::GCSiegeScore
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GCPlayerConnect@CDungeonSiege@@QAEXH@Z		; CDungeonSiege::GCPlayerConnect
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv67 = -276						; size = 4
_pMsg2$ = -208						; size = 8
_i$230994 = -200					; size = 4
_pMsg$ = -196						; size = 160
_szGName$ = -36						; size = 9
_szOwName$ = -24					; size = 9
_lpUser$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?GCPlayerConnect@CDungeonSiege@@QAEXH@Z PROC		; CDungeonSiege::GCPlayerConnect
; _this$ = ecx

; 1611 : {

  03530	55		 push	 ebp
  03531	8b ec		 mov	 ebp, esp
  03533	81 ec 14 01 00
	00		 sub	 esp, 276		; 00000114H
  03539	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0353e	33 c5		 xor	 eax, ebp
  03540	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03543	53		 push	 ebx
  03544	56		 push	 esi
  03545	57		 push	 edi
  03546	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1612 : 	if(OBJMAX_RANGE(aIndex) == 0)

  03549	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  0354d	7d 0c		 jge	 SHORT $LN8@GCPlayerCo
  0354f	c7 85 ec fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv67[ebp], 0
  03559	eb 12		 jmp	 SHORT $LN9@GCPlayerCo
$LN8@GCPlayerCo:
  0355b	33 c0		 xor	 eax, eax
  0355d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  03564	0f 9e c0	 setle	 al
  03567	89 85 ec fe ff
	ff		 mov	 DWORD PTR tv67[ebp], eax
$LN9@GCPlayerCo:
  0356d	83 bd ec fe ff
	ff 00		 cmp	 DWORD PTR tv67[ebp], 0
  03574	75 05		 jne	 SHORT $LN5@GCPlayerCo

; 1613 : 	{
; 1614 : 		return;

  03576	e9 82 01 00 00	 jmp	 $LN6@GCPlayerCo
$LN5@GCPlayerCo:

; 1615 : 	}
; 1616 : 
; 1617 : 	LPOBJ lpUser = &gObj[aIndex];

  0357b	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0357e	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  03584	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0358a	89 45 f4	 mov	 DWORD PTR _lpUser$[ebp], eax

; 1618 : 
; 1619 : 	char szOwName[9];
; 1620 : 	char szGName[9];
; 1621 : 
; 1622 : 	PMSG_DUNGEON_SIEGE_PLAYER_CONNECT pMsg;
; 1623 : 	pMsg.h.set((LPBYTE)&pMsg, 0xFB, 0x56, sizeof(pMsg));

  0358d	68 a0 00 00 00	 push	 160			; 000000a0H
  03592	6a 56		 push	 86			; 00000056H
  03594	68 fb 00 00 00	 push	 251			; 000000fbH
  03599	8d 85 3c ff ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  0359f	50		 push	 eax
  035a0	8d 8d 3c ff ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp]
  035a6	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 1624 : 	szOwName[8] = 0;

  035ab	c6 45 f0 00	 mov	 BYTE PTR _szOwName$[ebp+8], 0

; 1625 : 	memcpy(szOwName, this->szLordGuild, 8);

  035af	6a 08		 push	 8
  035b1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  035b4	83 c0 15	 add	 eax, 21			; 00000015H
  035b7	50		 push	 eax
  035b8	8d 4d e8	 lea	 ecx, DWORD PTR _szOwName$[ebp]
  035bb	51		 push	 ecx
  035bc	e8 00 00 00 00	 call	 _memcpy
  035c1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1626 : 	memcpy(pMsg.szGuildOwner, szOwName, 8);

  035c4	6a 08		 push	 8
  035c6	8d 45 e8	 lea	 eax, DWORD PTR _szOwName$[ebp]
  035c9	50		 push	 eax
  035ca	8d 8d 41 ff ff
	ff		 lea	 ecx, DWORD PTR _pMsg$[ebp+5]
  035d0	51		 push	 ecx
  035d1	e8 00 00 00 00	 call	 _memcpy
  035d6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1627 : 	memset(pMsg.EventName, 0, sizeof(pMsg.EventName));

  035d9	6a 32		 push	 50			; 00000032H
  035db	6a 00		 push	 0
  035dd	8d 45 aa	 lea	 eax, DWORD PTR _pMsg$[ebp+110]
  035e0	50		 push	 eax
  035e1	e8 00 00 00 00	 call	 _memset
  035e6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1628 : 	memcpy(pMsg.EventName, this->m_EventName, sizeof(pMsg.EventName));

  035e9	6a 32		 push	 50			; 00000032H
  035eb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  035ee	05 e4 00 00 00	 add	 eax, 228		; 000000e4H
  035f3	50		 push	 eax
  035f4	8d 4d aa	 lea	 ecx, DWORD PTR _pMsg$[ebp+110]
  035f7	51		 push	 ecx
  035f8	e8 00 00 00 00	 call	 _memcpy
  035fd	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1629 : 	pMsg.iCountGuild = this->iRegCount;

  03600	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  03603	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  03606	89 8d 4c ff ff
	ff		 mov	 DWORD PTR _pMsg$[ebp+16], ecx

; 1630 : 	for(int i = 0; i < this->iRegCount; i++)

  0360c	c7 85 38 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$230994[ebp], 0
  03616	eb 0f		 jmp	 SHORT $LN4@GCPlayerCo
$LN3@GCPlayerCo:
  03618	8b 85 38 ff ff
	ff		 mov	 eax, DWORD PTR _i$230994[ebp]
  0361e	83 c0 01	 add	 eax, 1
  03621	89 85 38 ff ff
	ff		 mov	 DWORD PTR _i$230994[ebp], eax
$LN4@GCPlayerCo:
  03627	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0362a	8b 8d 38 ff ff
	ff		 mov	 ecx, DWORD PTR _i$230994[ebp]
  03630	3b 48 20	 cmp	 ecx, DWORD PTR [eax+32]
  03633	7d 58		 jge	 SHORT $LN2@GCPlayerCo

; 1631 : 	{
; 1632 : 		szGName[8] = 0;

  03635	c6 45 e4 00	 mov	 BYTE PTR _szGName$[ebp+8], 0

; 1633 : 		memcpy(szGName, this->reg_list[i].szGuildName, 8);

  03639	6a 08		 push	 8
  0363b	8b 85 38 ff ff
	ff		 mov	 eax, DWORD PTR _i$230994[ebp]
  03641	6b c0 09	 imul	 eax, 9
  03644	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  03647	8d 94 01 16 01
	00 00		 lea	 edx, DWORD PTR [ecx+eax+278]
  0364e	52		 push	 edx
  0364f	8d 45 dc	 lea	 eax, DWORD PTR _szGName$[ebp]
  03652	50		 push	 eax
  03653	e8 00 00 00 00	 call	 _memcpy
  03658	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1634 : 		pMsg.szGuildName[i][8] = 0;

  0365b	8b 85 38 ff ff
	ff		 mov	 eax, DWORD PTR _i$230994[ebp]
  03661	6b c0 09	 imul	 eax, 9
  03664	c6 84 05 58 ff
	ff ff 00	 mov	 BYTE PTR _pMsg$[ebp+eax+28], 0

; 1635 : 		memcpy(pMsg.szGuildName[i], szGName, 8);

  0366c	6a 08		 push	 8
  0366e	8d 45 dc	 lea	 eax, DWORD PTR _szGName$[ebp]
  03671	50		 push	 eax
  03672	8b 8d 38 ff ff
	ff		 mov	 ecx, DWORD PTR _i$230994[ebp]
  03678	6b c9 09	 imul	 ecx, 9
  0367b	8d 94 0d 50 ff
	ff ff		 lea	 edx, DWORD PTR _pMsg$[ebp+ecx+20]
  03682	52		 push	 edx
  03683	e8 00 00 00 00	 call	 _memcpy
  03688	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1636 : 	}

  0368b	eb 8b		 jmp	 SHORT $LN3@GCPlayerCo
$LN2@GCPlayerCo:

; 1637 : 	DataSend(aIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  0368d	68 a0 00 00 00	 push	 160			; 000000a0H
  03692	8d 85 3c ff ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  03698	50		 push	 eax
  03699	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0369c	51		 push	 ecx
  0369d	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  036a2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1638 : 
; 1639 : 	PMSG_DUNGEON_SIEGE_STATE pMsg2;
; 1640 : 	pMsg2.h.set((LPBYTE)&pMsg2, 0xFB, 0x57, sizeof(pMsg2));

  036a5	6a 08		 push	 8
  036a7	6a 57		 push	 87			; 00000057H
  036a9	68 fb 00 00 00	 push	 251			; 000000fbH
  036ae	8d 85 30 ff ff
	ff		 lea	 eax, DWORD PTR _pMsg2$[ebp]
  036b4	50		 push	 eax
  036b5	8d 8d 30 ff ff
	ff		 lea	 ecx, DWORD PTR _pMsg2$[ebp]
  036bb	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 1641 : 	pMsg2.EventState = this->iEventStatus;

  036c0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  036c3	8b 08		 mov	 ecx, DWORD PTR [eax]
  036c5	89 8d 34 ff ff
	ff		 mov	 DWORD PTR _pMsg2$[ebp+4], ecx

; 1642 : 	DataSend(aIndex, (LPBYTE)&pMsg2, sizeof(pMsg2));

  036cb	6a 08		 push	 8
  036cd	8d 85 30 ff ff
	ff		 lea	 eax, DWORD PTR _pMsg2$[ebp]
  036d3	50		 push	 eax
  036d4	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  036d7	51		 push	 ecx
  036d8	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  036dd	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1643 : 
; 1644 : 	if(!this->CheckStatus(eEVENTDUNGEON_CLOSE))

  036e0	6a 00		 push	 0
  036e2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  036e5	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  036ea	0f b6 c0	 movzx	 eax, al
  036ed	85 c0		 test	 eax, eax
  036ef	75 0c		 jne	 SHORT $LN6@GCPlayerCo

; 1645 : 	{
; 1646 : 		this->GCPlayerScore(aIndex);

  036f1	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  036f4	50		 push	 eax
  036f5	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  036f8	e8 00 00 00 00	 call	 ?GCPlayerScore@CDungeonSiege@@QAEXH@Z ; CDungeonSiege::GCPlayerScore
$LN6@GCPlayerCo:

; 1647 : 		//this->MapKick(aIndex);
; 1648 : 	}
; 1649 : }

  036fd	5f		 pop	 edi
  036fe	5e		 pop	 esi
  036ff	5b		 pop	 ebx
  03700	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  03703	33 cd		 xor	 ecx, ebp
  03705	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0370a	8b e5		 mov	 esp, ebp
  0370c	5d		 pop	 ebp
  0370d	c2 04 00	 ret	 4
?GCPlayerConnect@CDungeonSiege@@QAEXH@Z ENDP		; CDungeonSiege::GCPlayerConnect
; Function compile flags: /Odtp /ZI
_pMsg$231013 = -20					; size = 8
_lpTempObj$231010 = -12					; size = 4
_n$231006 = -8						; size = 4
_this$ = -4						; size = 4
?GCEventState@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::GCEventState
; _this$ = ecx

; 1652 : {

  03710	55		 push	 ebp
  03711	8b ec		 mov	 ebp, esp
  03713	83 ec 54	 sub	 esp, 84			; 00000054H
  03716	53		 push	 ebx
  03717	56		 push	 esi
  03718	57		 push	 edi
  03719	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1653 : 	for(int n = OBJ_STARTUSERINDEX; n < OBJMAX; n++)

  0371c	c7 45 f8 b0 36
	00 00		 mov	 DWORD PTR _n$231006[ebp], 14000 ; 000036b0H
  03723	eb 09		 jmp	 SHORT $LN5@GCEventSta
$LN4@GCEventSta:
  03725	8b 45 f8	 mov	 eax, DWORD PTR _n$231006[ebp]
  03728	83 c0 01	 add	 eax, 1
  0372b	89 45 f8	 mov	 DWORD PTR _n$231006[ebp], eax
$LN5@GCEventSta:
  0372e	81 7d f8 98 3a
	00 00		 cmp	 DWORD PTR _n$231006[ebp], 15000 ; 00003a98H
  03735	7d 5a		 jge	 SHORT $LN6@GCEventSta

; 1654 : 	{
; 1655 : 		LPOBJ lpTempObj = &gObj[n];

  03737	8b 45 f8	 mov	 eax, DWORD PTR _n$231006[ebp]
  0373a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  03740	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03746	89 45 f4	 mov	 DWORD PTR _lpTempObj$231010[ebp], eax

; 1656 : 
; 1657 : 		if(lpTempObj->Connected < PLAYER_PLAYING || lpTempObj->Type != OBJ_USER)

  03749	8b 45 f4	 mov	 eax, DWORD PTR _lpTempObj$231010[ebp]
  0374c	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  03750	7c 0c		 jl	 SHORT $LN1@GCEventSta
  03752	8b 45 f4	 mov	 eax, DWORD PTR _lpTempObj$231010[ebp]
  03755	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  03759	83 f9 01	 cmp	 ecx, 1
  0375c	74 02		 je	 SHORT $LN2@GCEventSta
$LN1@GCEventSta:

; 1658 : 		{
; 1659 : 			continue;

  0375e	eb c5		 jmp	 SHORT $LN4@GCEventSta
$LN2@GCEventSta:

; 1660 : 		}	
; 1661 : 
; 1662 : 		PMSG_DUNGEON_SIEGE_STATE pMsg;
; 1663 : 		pMsg.h.set((LPBYTE)&pMsg, 0xFB, 0x57, sizeof(pMsg));

  03760	6a 08		 push	 8
  03762	6a 57		 push	 87			; 00000057H
  03764	68 fb 00 00 00	 push	 251			; 000000fbH
  03769	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$231013[ebp]
  0376c	50		 push	 eax
  0376d	8d 4d ec	 lea	 ecx, DWORD PTR _pMsg$231013[ebp]
  03770	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 1664 : 		pMsg.EventState = this->iEventStatus;

  03775	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03778	8b 08		 mov	 ecx, DWORD PTR [eax]
  0377a	89 4d f0	 mov	 DWORD PTR _pMsg$231013[ebp+4], ecx

; 1665 : 		DataSend(n, (LPBYTE)&pMsg, sizeof(pMsg));

  0377d	6a 08		 push	 8
  0377f	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$231013[ebp]
  03782	50		 push	 eax
  03783	8b 4d f8	 mov	 ecx, DWORD PTR _n$231006[ebp]
  03786	51		 push	 ecx
  03787	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0378c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1666 : 	}

  0378f	eb 94		 jmp	 SHORT $LN4@GCEventSta
$LN6@GCEventSta:

; 1667 : }

  03791	5f		 pop	 edi
  03792	5e		 pop	 esi
  03793	5b		 pop	 ebx
  03794	8b e5		 mov	 esp, ebp
  03796	5d		 pop	 ebp
  03797	c3		 ret	 0
?GCEventState@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::GCEventState
; Function compile flags: /Odtp /ZI
_lpGuild$231030 = -20					; size = 4
_i$231026 = -16						; size = 4
_lpTempObj$231023 = -12					; size = 4
_n$231019 = -8						; size = 4
_this$ = -4						; size = 4
?SiegeClearScore@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::SiegeClearScore
; _this$ = ecx

; 1670 : {

  037a0	55		 push	 ebp
  037a1	8b ec		 mov	 ebp, esp
  037a3	83 ec 54	 sub	 esp, 84			; 00000054H
  037a6	53		 push	 ebx
  037a7	56		 push	 esi
  037a8	57		 push	 edi
  037a9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1671 : 	for(int n = OBJ_STARTUSERINDEX; n < OBJMAX; n++)

  037ac	c7 45 f8 b0 36
	00 00		 mov	 DWORD PTR _n$231019[ebp], 14000 ; 000036b0H
  037b3	eb 09		 jmp	 SHORT $LN9@SiegeClear
$LN8@SiegeClear:
  037b5	8b 45 f8	 mov	 eax, DWORD PTR _n$231019[ebp]
  037b8	83 c0 01	 add	 eax, 1
  037bb	89 45 f8	 mov	 DWORD PTR _n$231019[ebp], eax
$LN9@SiegeClear:
  037be	81 7d f8 98 3a
	00 00		 cmp	 DWORD PTR _n$231019[ebp], 15000 ; 00003a98H
  037c5	0f 8d 9a 00 00
	00		 jge	 $LN7@SiegeClear

; 1672 : 	{
; 1673 : 		LPOBJ lpTempObj = &gObj[n];

  037cb	8b 45 f8	 mov	 eax, DWORD PTR _n$231019[ebp]
  037ce	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  037d4	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  037da	89 45 f4	 mov	 DWORD PTR _lpTempObj$231023[ebp], eax

; 1674 : 
; 1675 : 		if(lpTempObj->Connected < PLAYER_PLAYING || lpTempObj->Type != OBJ_USER)

  037dd	8b 45 f4	 mov	 eax, DWORD PTR _lpTempObj$231023[ebp]
  037e0	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  037e4	7c 0c		 jl	 SHORT $LN5@SiegeClear
  037e6	8b 45 f4	 mov	 eax, DWORD PTR _lpTempObj$231023[ebp]
  037e9	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  037ed	83 f9 01	 cmp	 ecx, 1
  037f0	74 02		 je	 SHORT $LN6@SiegeClear
$LN5@SiegeClear:

; 1676 : 		{
; 1677 : 			continue;

  037f2	eb c1		 jmp	 SHORT $LN8@SiegeClear
$LN6@SiegeClear:

; 1678 : 		}	
; 1679 : 
; 1680 : 		lpTempObj->DSiege.iScore = 0;

  037f4	8b 45 f4	 mov	 eax, DWORD PTR _lpTempObj$231023[ebp]
  037f7	c7 80 04 29 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+10500], 0

; 1681 : 		lpTempObj->DSiege.iScore2 = 0;

  03801	8b 45 f4	 mov	 eax, DWORD PTR _lpTempObj$231023[ebp]
  03804	c7 80 08 29 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+10504], 0

; 1682 : 
; 1683 : 		for(int i = 0; i < this->iRegCount; i++)

  0380e	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _i$231026[ebp], 0
  03815	eb 09		 jmp	 SHORT $LN4@SiegeClear
$LN3@SiegeClear:
  03817	8b 45 f0	 mov	 eax, DWORD PTR _i$231026[ebp]
  0381a	83 c0 01	 add	 eax, 1
  0381d	89 45 f0	 mov	 DWORD PTR _i$231026[ebp], eax
$LN4@SiegeClear:
  03820	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03823	8b 4d f0	 mov	 ecx, DWORD PTR _i$231026[ebp]
  03826	3b 48 20	 cmp	 ecx, DWORD PTR [eax+32]
  03829	7d 35		 jge	 SHORT $LN2@SiegeClear

; 1684 : 		{
; 1685 : 			_GUILD_INFO_STRUCT* lpGuild = Guild.SearchGuild(this->reg_list[i].szGuildName);

  0382b	8b 45 f0	 mov	 eax, DWORD PTR _i$231026[ebp]
  0382e	6b c0 09	 imul	 eax, 9
  03831	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  03834	8d 94 01 16 01
	00 00		 lea	 edx, DWORD PTR [ecx+eax+278]
  0383b	52		 push	 edx
  0383c	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  03841	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  03846	89 45 ec	 mov	 DWORD PTR _lpGuild$231030[ebp], eax

; 1686 : 
; 1687 : 			if(!lpGuild)

  03849	83 7d ec 00	 cmp	 DWORD PTR _lpGuild$231030[ebp], 0
  0384d	75 02		 jne	 SHORT $LN1@SiegeClear

; 1688 : 			{
; 1689 : 				continue;

  0384f	eb c6		 jmp	 SHORT $LN3@SiegeClear
$LN1@SiegeClear:

; 1690 : 			}
; 1691 : 
; 1692 : 			lpGuild->DungeonSiege.iScore = 0;

  03851	8b 45 ec	 mov	 eax, DWORD PTR _lpGuild$231030[ebp]
  03854	c7 80 48 07 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+1864], 0

; 1693 : 		}

  0385e	eb b7		 jmp	 SHORT $LN3@SiegeClear
$LN2@SiegeClear:

; 1694 : 	}

  03860	e9 50 ff ff ff	 jmp	 $LN8@SiegeClear
$LN7@SiegeClear:

; 1695 : 
; 1696 : 	this->aIndexFinal1 = -1;

  03865	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03868	c7 40 38 ff ff
	ff ff		 mov	 DWORD PTR [eax+56], -1

; 1697 : 	this->aIndexFinal2 = -1;

  0386f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03872	c7 40 3c ff ff
	ff ff		 mov	 DWORD PTR [eax+60], -1

; 1698 : 	this->aGuildFinal1 = -1;

  03879	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0387c	c7 40 40 ff ff
	ff ff		 mov	 DWORD PTR [eax+64], -1

; 1699 : 	this->aGuildFinal2 = -1;

  03883	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03886	c7 40 44 ff ff
	ff ff		 mov	 DWORD PTR [eax+68], -1

; 1700 : }

  0388d	5f		 pop	 edi
  0388e	5e		 pop	 esi
  0388f	5b		 pop	 ebx
  03890	8b e5		 mov	 esp, ebp
  03892	5d		 pop	 ebp
  03893	c3		 ret	 0
?SiegeClearScore@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::SiegeClearScore
_TEXT	ENDS
PUBLIC	?GuildBuffCharacter@CDungeonSiege@@QAEXH@Z	; CDungeonSiege::GuildBuffCharacter
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv69 = -84						; size = 4
_AddProcentDefence$ = -16				; size = 4
_AddProcentDamage$ = -12				; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?GuildBuffCharacter@CDungeonSiege@@QAEXH@Z PROC		; CDungeonSiege::GuildBuffCharacter
; _this$ = ecx

; 1703 : {

  038a0	55		 push	 ebp
  038a1	8b ec		 mov	 ebp, esp
  038a3	83 ec 54	 sub	 esp, 84			; 00000054H
  038a6	53		 push	 ebx
  038a7	56		 push	 esi
  038a8	57		 push	 edi
  038a9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1704 : 	if(!this->m_BuffEnable)

  038ac	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  038af	83 b8 a8 00 00
	00 00		 cmp	 DWORD PTR [eax+168], 0
  038b6	75 05		 jne	 SHORT $LN6@GuildBuffC

; 1705 : 	{
; 1706 : 		return;

  038b8	e9 c6 01 00 00	 jmp	 $LN7@GuildBuffC
$LN6@GuildBuffC:

; 1707 : 	}
; 1708 : 
; 1709 : 	if(!OBJMAX_RANGE(aIndex))

  038bd	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  038c1	7d 09		 jge	 SHORT $LN9@GuildBuffC
  038c3	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv69[ebp], 0
  038ca	eb 0f		 jmp	 SHORT $LN10@GuildBuffC
$LN9@GuildBuffC:
  038cc	33 c0		 xor	 eax, eax
  038ce	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  038d5	0f 9e c0	 setle	 al
  038d8	89 45 ac	 mov	 DWORD PTR tv69[ebp], eax
$LN10@GuildBuffC:
  038db	83 7d ac 00	 cmp	 DWORD PTR tv69[ebp], 0
  038df	75 05		 jne	 SHORT $LN5@GuildBuffC

; 1710 : 	{
; 1711 : 		return;

  038e1	e9 9d 01 00 00	 jmp	 $LN7@GuildBuffC
$LN5@GuildBuffC:

; 1712 : 	}
; 1713 : 
; 1714 : 	LPOBJ lpUser = &gObj[aIndex];

  038e6	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  038e9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  038ef	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  038f5	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 1715 : 
; 1716 : 	if(lpUser->Connected < PLAYER_PLAYING)

  038f8	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  038fb	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  038ff	7d 05		 jge	 SHORT $LN4@GuildBuffC

; 1717 : 	{
; 1718 : 		return;

  03901	e9 7d 01 00 00	 jmp	 $LN7@GuildBuffC
$LN4@GuildBuffC:

; 1719 : 	}
; 1720 : 
; 1721 : 	if(gObjSearchActiveEffect(lpUser, AT_DUNGEON_BUFF) == FALSE)

  03906	68 b8 00 00 00	 push	 184			; 000000b8H
  0390b	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0390e	50		 push	 eax
  0390f	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  03914	83 c4 08	 add	 esp, 8
  03917	0f b6 c8	 movzx	 ecx, al
  0391a	85 c9		 test	 ecx, ecx
  0391c	75 05		 jne	 SHORT $LN3@GuildBuffC

; 1722 : 	{
; 1723 : 		return;

  0391e	e9 60 01 00 00	 jmp	 $LN7@GuildBuffC
$LN3@GuildBuffC:

; 1724 : 	}
; 1725 : 
; 1726 : 	int AddProcentDamage = this->m_BuffPlusAttackPercent;

  03923	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03926	8b 88 ac 00 00
	00		 mov	 ecx, DWORD PTR [eax+172]
  0392c	89 4d f4	 mov	 DWORD PTR _AddProcentDamage$[ebp], ecx

; 1727 : 	
; 1728 : 	if(AddProcentDamage > 0)

  0392f	83 7d f4 00	 cmp	 DWORD PTR _AddProcentDamage$[ebp], 0
  03933	0f 8e ea 00 00
	00		 jle	 $LN2@GuildBuffC

; 1729 : 	{
; 1730 : 		lpUser->m_AttackDamageMaxLeft += ( lpUser->m_AttackDamageMaxLeft * AddProcentDamage ) / 100;

  03939	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0393c	8b 80 78 04 00
	00		 mov	 eax, DWORD PTR [eax+1144]
  03942	0f af 45 f4	 imul	 eax, DWORD PTR _AddProcentDamage$[ebp]
  03946	99		 cdq
  03947	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0394c	f7 f9		 idiv	 ecx
  0394e	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  03951	03 82 78 04 00
	00		 add	 eax, DWORD PTR [edx+1144]
  03957	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  0395a	89 81 78 04 00
	00		 mov	 DWORD PTR [ecx+1144], eax

; 1731 : 		lpUser->m_AttackDamageMinLeft += ( lpUser->m_AttackDamageMinLeft * AddProcentDamage ) / 100;

  03960	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  03963	8b 80 7c 04 00
	00		 mov	 eax, DWORD PTR [eax+1148]
  03969	0f af 45 f4	 imul	 eax, DWORD PTR _AddProcentDamage$[ebp]
  0396d	99		 cdq
  0396e	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  03973	f7 f9		 idiv	 ecx
  03975	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  03978	03 82 7c 04 00
	00		 add	 eax, DWORD PTR [edx+1148]
  0397e	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  03981	89 81 7c 04 00
	00		 mov	 DWORD PTR [ecx+1148], eax

; 1732 : 		lpUser->m_AttackDamageMaxRight += ( lpUser->m_AttackDamageMaxRight * AddProcentDamage ) / 100;

  03987	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0398a	8b 80 80 04 00
	00		 mov	 eax, DWORD PTR [eax+1152]
  03990	0f af 45 f4	 imul	 eax, DWORD PTR _AddProcentDamage$[ebp]
  03994	99		 cdq
  03995	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0399a	f7 f9		 idiv	 ecx
  0399c	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  0399f	03 82 80 04 00
	00		 add	 eax, DWORD PTR [edx+1152]
  039a5	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  039a8	89 81 80 04 00
	00		 mov	 DWORD PTR [ecx+1152], eax

; 1733 : 		lpUser->m_AttackDamageMinRight += ( lpUser->m_AttackDamageMinRight * AddProcentDamage ) / 100;

  039ae	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  039b1	8b 80 84 04 00
	00		 mov	 eax, DWORD PTR [eax+1156]
  039b7	0f af 45 f4	 imul	 eax, DWORD PTR _AddProcentDamage$[ebp]
  039bb	99		 cdq
  039bc	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  039c1	f7 f9		 idiv	 ecx
  039c3	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  039c6	03 82 84 04 00
	00		 add	 eax, DWORD PTR [edx+1156]
  039cc	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  039cf	89 81 84 04 00
	00		 mov	 DWORD PTR [ecx+1156], eax

; 1734 : 		lpUser->m_MagicDamageMin += ( lpUser->m_MagicDamageMin * AddProcentDamage ) / 100;

  039d5	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  039d8	8b 80 68 04 00
	00		 mov	 eax, DWORD PTR [eax+1128]
  039de	0f af 45 f4	 imul	 eax, DWORD PTR _AddProcentDamage$[ebp]
  039e2	99		 cdq
  039e3	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  039e8	f7 f9		 idiv	 ecx
  039ea	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  039ed	03 82 68 04 00
	00		 add	 eax, DWORD PTR [edx+1128]
  039f3	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  039f6	89 81 68 04 00
	00		 mov	 DWORD PTR [ecx+1128], eax

; 1735 : 		lpUser->m_MagicDamageMax += ( lpUser->m_MagicDamageMin * AddProcentDamage ) / 100;

  039fc	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  039ff	8b 80 68 04 00
	00		 mov	 eax, DWORD PTR [eax+1128]
  03a05	0f af 45 f4	 imul	 eax, DWORD PTR _AddProcentDamage$[ebp]
  03a09	99		 cdq
  03a0a	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  03a0f	f7 f9		 idiv	 ecx
  03a11	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  03a14	03 82 6c 04 00
	00		 add	 eax, DWORD PTR [edx+1132]
  03a1a	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  03a1d	89 81 6c 04 00
	00		 mov	 DWORD PTR [ecx+1132], eax
$LN2@GuildBuffC:

; 1736 : 	}
; 1737 : 
; 1738 : 	int AddProcentDefence = this->m_BuffPlusDefencePercent;

  03a23	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03a26	8b 88 b0 00 00
	00		 mov	 ecx, DWORD PTR [eax+176]
  03a2c	89 4d f0	 mov	 DWORD PTR _AddProcentDefence$[ebp], ecx

; 1739 : 
; 1740 : 	if(AddProcentDefence > 0)

  03a2f	83 7d f0 00	 cmp	 DWORD PTR _AddProcentDefence$[ebp], 0
  03a33	7e 4e		 jle	 SHORT $LN7@GuildBuffC

; 1741 : 	{
; 1742 : 		lpUser->m_Defense += ( lpUser->m_Defense * AddProcentDefence ) / 100;

  03a35	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  03a38	8b 80 94 04 00
	00		 mov	 eax, DWORD PTR [eax+1172]
  03a3e	0f af 45 f0	 imul	 eax, DWORD PTR _AddProcentDefence$[ebp]
  03a42	99		 cdq
  03a43	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  03a48	f7 f9		 idiv	 ecx
  03a4a	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  03a4d	03 82 94 04 00
	00		 add	 eax, DWORD PTR [edx+1172]
  03a53	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  03a56	89 81 94 04 00
	00		 mov	 DWORD PTR [ecx+1172], eax

; 1743 : 		lpUser->m_MagicDefense += ( lpUser->m_MagicDefense * AddProcentDefence ) / 100;

  03a5c	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  03a5f	8b 80 98 04 00
	00		 mov	 eax, DWORD PTR [eax+1176]
  03a65	0f af 45 f0	 imul	 eax, DWORD PTR _AddProcentDefence$[ebp]
  03a69	99		 cdq
  03a6a	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  03a6f	f7 f9		 idiv	 ecx
  03a71	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  03a74	03 82 98 04 00
	00		 add	 eax, DWORD PTR [edx+1176]
  03a7a	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  03a7d	89 81 98 04 00
	00		 mov	 DWORD PTR [ecx+1176], eax
$LN7@GuildBuffC:

; 1744 : 	}
; 1745 : }

  03a83	5f		 pop	 edi
  03a84	5e		 pop	 esi
  03a85	5b		 pop	 ebx
  03a86	8b e5		 mov	 esp, ebp
  03a88	5d		 pop	 ebp
  03a89	c2 04 00	 ret	 4
?GuildBuffCharacter@CDungeonSiege@@QAEXH@Z ENDP		; CDungeonSiege::GuildBuffCharacter
_TEXT	ENDS
EXTRN	?ExUserDataSend@@YAXH@Z:PROC			; ExUserDataSend
EXTRN	?GDSaveUserInfo@GameShop@@QAEXH@Z:PROC		; GameShop::GDSaveUserInfo
EXTRN	?gGameShop@@3VGameShop@@A:BYTE			; gGameShop
EXTRN	?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z:PROC	; ItemSerialCreateSend
EXTRN	__fltused:DWORD
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv69 = -76						; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?RewardSiege@CDungeonSiege@@QAEXH@Z PROC		; CDungeonSiege::RewardSiege
; _this$ = ecx

; 1748 : {

  03a90	55		 push	 ebp
  03a91	8b ec		 mov	 ebp, esp
  03a93	83 ec 4c	 sub	 esp, 76			; 0000004cH
  03a96	53		 push	 ebx
  03a97	56		 push	 esi
  03a98	57		 push	 edi
  03a99	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1749 : 	if(!this->m_RewardEnable)

  03a9c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03a9f	83 b8 b4 00 00
	00 00		 cmp	 DWORD PTR [eax+180], 0
  03aa6	75 05		 jne	 SHORT $LN10@RewardSieg

; 1750 : 	{
; 1751 : 		return;

  03aa8	e9 8d 01 00 00	 jmp	 $LN11@RewardSieg
$LN10@RewardSieg:

; 1752 : 	}
; 1753 : 
; 1754 : 	if(!OBJMAX_RANGE(aIndex))

  03aad	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  03ab1	7d 09		 jge	 SHORT $LN13@RewardSieg
  03ab3	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv69[ebp], 0
  03aba	eb 0f		 jmp	 SHORT $LN14@RewardSieg
$LN13@RewardSieg:
  03abc	33 c0		 xor	 eax, eax
  03abe	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  03ac5	0f 9e c0	 setle	 al
  03ac8	89 45 b4	 mov	 DWORD PTR tv69[ebp], eax
$LN14@RewardSieg:
  03acb	83 7d b4 00	 cmp	 DWORD PTR tv69[ebp], 0
  03acf	75 05		 jne	 SHORT $LN9@RewardSieg

; 1755 : 	{
; 1756 : 		return;

  03ad1	e9 64 01 00 00	 jmp	 $LN11@RewardSieg
$LN9@RewardSieg:

; 1757 : 	}
; 1758 : 
; 1759 : 	LPOBJ lpUser = &gObj[aIndex];

  03ad6	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  03ad9	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  03adf	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03ae5	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 1760 : 
; 1761 : 	if(lpUser->Connected < PLAYER_PLAYING)

  03ae8	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  03aeb	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  03aef	7d 05		 jge	 SHORT $LN8@RewardSieg

; 1762 : 	{
; 1763 : 		return;

  03af1	e9 44 01 00 00	 jmp	 $LN11@RewardSieg
$LN8@RewardSieg:

; 1764 : 	}
; 1765 : 
; 1766 : 	if(this->m_RewardItemEnable)

  03af6	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03af9	83 b8 b8 00 00
	00 00		 cmp	 DWORD PTR [eax+184], 0
  03b00	74 5e		 je	 SHORT $LN7@RewardSieg

; 1767 : 	{
; 1768 : 		ItemSerialCreateSend(aIndex, lpUser->MapNumber, lpUser->X, lpUser->Y, ITEMGET(this->m_RewardItemType,this->m_RewardItemIndex), this->m_RewardItemLevel, 0, 0, 0, 0, aIndex, 0, 0);

  03b02	6a 00		 push	 0
  03b04	6a 00		 push	 0
  03b06	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  03b09	50		 push	 eax
  03b0a	6a 00		 push	 0
  03b0c	6a 00		 push	 0
  03b0e	6a 00		 push	 0
  03b10	6a 00		 push	 0
  03b12	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  03b15	0f b6 91 c4 00
	00 00		 movzx	 edx, BYTE PTR [ecx+196]
  03b1c	52		 push	 edx
  03b1d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03b20	8b 88 bc 00 00
	00		 mov	 ecx, DWORD PTR [eax+188]
  03b26	c1 e1 09	 shl	 ecx, 9
  03b29	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  03b2c	03 8a c0 00 00
	00		 add	 ecx, DWORD PTR [edx+192]
  03b32	51		 push	 ecx
  03b33	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  03b36	0f b6 88 46 01
	00 00		 movzx	 ecx, BYTE PTR [eax+326]
  03b3d	51		 push	 ecx
  03b3e	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  03b41	0f b6 82 44 01
	00 00		 movzx	 eax, BYTE PTR [edx+324]
  03b48	50		 push	 eax
  03b49	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  03b4c	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  03b53	52		 push	 edx
  03b54	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  03b57	50		 push	 eax
  03b58	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  03b5d	83 c4 34	 add	 esp, 52			; 00000034H
$LN7@RewardSieg:

; 1769 : 	}
; 1770 : 
; 1771 : 	if(this->m_RewardWCoinC > 0)

  03b60	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03b63	83 b8 c8 00 00
	00 00		 cmp	 DWORD PTR [eax+200], 0
  03b6a	7e 1b		 jle	 SHORT $LN6@RewardSieg

; 1772 : 	{
; 1773 : 		lpUser->GameShop.WCoinC += this->m_RewardWCoinC;

  03b6c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03b6f	db 80 c8 00 00
	00		 fild	 DWORD PTR [eax+200]
  03b75	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  03b78	dc 81 00 23 00
	00		 fadd	 QWORD PTR [ecx+8960]
  03b7e	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  03b81	dd 9a 00 23 00
	00		 fstp	 QWORD PTR [edx+8960]
$LN6@RewardSieg:

; 1774 : 	}
; 1775 : 	if(this->m_RewardWcoinP > 0)

  03b87	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03b8a	83 b8 cc 00 00
	00 00		 cmp	 DWORD PTR [eax+204], 0
  03b91	7e 1b		 jle	 SHORT $LN5@RewardSieg

; 1776 : 	{
; 1777 : 		lpUser->GameShop.WCoinP += this->m_RewardWcoinP;

  03b93	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03b96	db 80 cc 00 00
	00		 fild	 DWORD PTR [eax+204]
  03b9c	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  03b9f	dc 81 f8 22 00
	00		 fadd	 QWORD PTR [ecx+8952]
  03ba5	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  03ba8	dd 9a f8 22 00
	00		 fstp	 QWORD PTR [edx+8952]
$LN5@RewardSieg:

; 1778 : 	}
; 1779 : 	if(this->m_RewardWgoinG > 0)

  03bae	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03bb1	83 b8 d0 00 00
	00 00		 cmp	 DWORD PTR [eax+208], 0
  03bb8	7e 1b		 jle	 SHORT $LN4@RewardSieg

; 1780 : 	{
; 1781 : 		lpUser->GameShop.GoblinPoint += this->m_RewardWgoinG;

  03bba	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03bbd	db 80 d0 00 00
	00		 fild	 DWORD PTR [eax+208]
  03bc3	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  03bc6	dc 81 08 23 00
	00		 fadd	 QWORD PTR [ecx+8968]
  03bcc	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  03bcf	dd 9a 08 23 00
	00		 fstp	 QWORD PTR [edx+8968]
$LN4@RewardSieg:

; 1782 : 	}
; 1783 : 
; 1784 : 	if(this->m_RewardWCoinC > 0 || this->m_RewardWcoinP > 0 || this->m_RewardWgoinG > 0)

  03bd5	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03bd8	83 b8 c8 00 00
	00 00		 cmp	 DWORD PTR [eax+200], 0
  03bdf	7f 18		 jg	 SHORT $LN2@RewardSieg
  03be1	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03be4	83 b8 cc 00 00
	00 00		 cmp	 DWORD PTR [eax+204], 0
  03beb	7f 0c		 jg	 SHORT $LN2@RewardSieg
  03bed	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03bf0	83 b8 d0 00 00
	00 00		 cmp	 DWORD PTR [eax+208], 0
  03bf7	7e 0e		 jle	 SHORT $LN3@RewardSieg
$LN2@RewardSieg:

; 1785 : 	{
; 1786 : 		gGameShop.GDSaveUserInfo(aIndex);

  03bf9	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  03bfc	50		 push	 eax
  03bfd	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  03c02	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo
$LN3@RewardSieg:

; 1787 : 	}	
; 1788 : 
; 1789 : 	if(this->m_RewardCredit > 0)

  03c07	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03c0a	83 b8 d4 00 00
	00 00		 cmp	 DWORD PTR [eax+212], 0
  03c11	7e 1b		 jle	 SHORT $LN1@RewardSieg

; 1790 : 	{
; 1791 : 		lpUser->ExCred += this->m_RewardCredit;

  03c13	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03c16	db 80 d4 00 00
	00		 fild	 DWORD PTR [eax+212]
  03c1c	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  03c1f	d8 81 a8 22 00
	00		 fadd	 DWORD PTR [ecx+8872]
  03c25	8b 55 f8	 mov	 edx, DWORD PTR _lpUser$[ebp]
  03c28	d9 9a a8 22 00
	00		 fstp	 DWORD PTR [edx+8872]
$LN1@RewardSieg:

; 1792 : 	}
; 1793 : 
; 1794 : 	ExUserDataSend(aIndex);

  03c2e	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  03c31	50		 push	 eax
  03c32	e8 00 00 00 00	 call	 ?ExUserDataSend@@YAXH@Z	; ExUserDataSend
  03c37	83 c4 04	 add	 esp, 4
$LN11@RewardSieg:

; 1795 : }

  03c3a	5f		 pop	 edi
  03c3b	5e		 pop	 esi
  03c3c	5b		 pop	 ebx
  03c3d	8b e5		 mov	 esp, ebp
  03c3f	5d		 pop	 ebp
  03c40	c2 04 00	 ret	 4
?RewardSiege@CDungeonSiege@@QAEXH@Z ENDP		; CDungeonSiege::RewardSiege
_TEXT	ENDS
PUBLIC	?SiegeDarkLordSummon@CDungeonSiege@@QAE_NH@Z	; CDungeonSiege::SiegeDarkLordSummon
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv70 = -76						; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?SiegeDarkLordSummon@CDungeonSiege@@QAE_NH@Z PROC	; CDungeonSiege::SiegeDarkLordSummon
; _this$ = ecx

; 1798 : {

  03c50	55		 push	 ebp
  03c51	8b ec		 mov	 ebp, esp
  03c53	83 ec 4c	 sub	 esp, 76			; 0000004cH
  03c56	53		 push	 ebx
  03c57	56		 push	 esi
  03c58	57		 push	 edi
  03c59	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1799 : 	if(!this->bEnable)

  03c5c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  03c5f	0f b6 48 48	 movzx	 ecx, BYTE PTR [eax+72]
  03c63	85 c9		 test	 ecx, ecx
  03c65	75 04		 jne	 SHORT $LN5@SiegeDarkL

; 1800 : 	{
; 1801 : 		return true;

  03c67	b0 01		 mov	 al, 1
  03c69	eb 74		 jmp	 SHORT $LN6@SiegeDarkL
$LN5@SiegeDarkL:

; 1802 : 	}
; 1803 : 
; 1804 : 	if(!OBJMAX_RANGE(aIndex))

  03c6b	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  03c6f	7d 09		 jge	 SHORT $LN8@SiegeDarkL
  03c71	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
  03c78	eb 0f		 jmp	 SHORT $LN9@SiegeDarkL
$LN8@SiegeDarkL:
  03c7a	33 c0		 xor	 eax, eax
  03c7c	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  03c83	0f 9e c0	 setle	 al
  03c86	89 45 b4	 mov	 DWORD PTR tv70[ebp], eax
$LN9@SiegeDarkL:
  03c89	83 7d b4 00	 cmp	 DWORD PTR tv70[ebp], 0
  03c8d	75 04		 jne	 SHORT $LN4@SiegeDarkL

; 1805 : 	{
; 1806 : 		return true;

  03c8f	b0 01		 mov	 al, 1
  03c91	eb 4c		 jmp	 SHORT $LN6@SiegeDarkL
$LN4@SiegeDarkL:

; 1807 : 	}
; 1808 : 
; 1809 : 	LPOBJ lpUser = &gObj[aIndex];

  03c93	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  03c96	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  03c9c	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03ca2	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 1810 : 
; 1811 : 	if(lpUser->Connected < PLAYER_PLAYING)

  03ca5	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  03ca8	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  03cac	7d 04		 jge	 SHORT $LN3@SiegeDarkL

; 1812 : 	{
; 1813 : 		return true;

  03cae	b0 01		 mov	 al, 1
  03cb0	eb 2d		 jmp	 SHORT $LN6@SiegeDarkL
$LN3@SiegeDarkL:

; 1814 : 	}
; 1815 : 
; 1816 : 	if(this->CheckStatus(eEVENTDUNGEON_CLOSE))

  03cb2	6a 00		 push	 0
  03cb4	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  03cb7	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  03cbc	0f b6 c0	 movzx	 eax, al
  03cbf	85 c0		 test	 eax, eax
  03cc1	74 04		 je	 SHORT $LN2@SiegeDarkL

; 1817 : 	{
; 1818 : 		return true;

  03cc3	b0 01		 mov	 al, 1
  03cc5	eb 18		 jmp	 SHORT $LN6@SiegeDarkL
$LN2@SiegeDarkL:

; 1819 : 	}
; 1820 : 
; 1821 : 	if(lpUser->MapNumber == this->m_EventMapNumber)

  03cc7	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  03cca	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  03cd1	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  03cd4	3b 4a 78	 cmp	 ecx, DWORD PTR [edx+120]
  03cd7	75 04		 jne	 SHORT $LN1@SiegeDarkL

; 1822 : 	{
; 1823 : 		return false;

  03cd9	32 c0		 xor	 al, al
  03cdb	eb 02		 jmp	 SHORT $LN6@SiegeDarkL
$LN1@SiegeDarkL:

; 1824 : 	}
; 1825 : 
; 1826 : 	return true;

  03cdd	b0 01		 mov	 al, 1
$LN6@SiegeDarkL:

; 1827 : }

  03cdf	5f		 pop	 edi
  03ce0	5e		 pop	 esi
  03ce1	5b		 pop	 ebx
  03ce2	8b e5		 mov	 esp, ebp
  03ce4	5d		 pop	 ebp
  03ce5	c2 04 00	 ret	 4
?SiegeDarkLordSummon@CDungeonSiege@@QAE_NH@Z ENDP	; CDungeonSiege::SiegeDarkLordSummon
; Function compile flags: /Odtp /ZI
_lpTempObj$231078 = -12				; size = 4
_n$231074 = -8						; size = 4
_this$ = -4						; size = 4
_type$ = 8						; size = 4
?GCMapAttributeAll@CDungeonSiege@@QAEXH@Z PROC		; CDungeonSiege::GCMapAttributeAll
; _this$ = ecx

; 1830 : {

  03cf0	55		 push	 ebp
  03cf1	8b ec		 mov	 ebp, esp
  03cf3	83 ec 4c	 sub	 esp, 76			; 0000004cH
  03cf6	53		 push	 ebx
  03cf7	56		 push	 esi
  03cf8	57		 push	 edi
  03cf9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1831 : 	for(int n = OBJ_STARTUSERINDEX; n < OBJMAX; n++)

  03cfc	c7 45 f8 b0 36
	00 00		 mov	 DWORD PTR _n$231074[ebp], 14000 ; 000036b0H
  03d03	eb 09		 jmp	 SHORT $LN6@GCMapAttri@2
$LN5@GCMapAttri@2:
  03d05	8b 45 f8	 mov	 eax, DWORD PTR _n$231074[ebp]
  03d08	83 c0 01	 add	 eax, 1
  03d0b	89 45 f8	 mov	 DWORD PTR _n$231074[ebp], eax
$LN6@GCMapAttri@2:
  03d0e	81 7d f8 98 3a
	00 00		 cmp	 DWORD PTR _n$231074[ebp], 15000 ; 00003a98H
  03d15	7d 4f		 jge	 SHORT $LN7@GCMapAttri@2

; 1832 : 	{
; 1833 : 		LPOBJ lpTempObj = &gObj[n];

  03d17	8b 45 f8	 mov	 eax, DWORD PTR _n$231074[ebp]
  03d1a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  03d20	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03d26	89 45 f4	 mov	 DWORD PTR _lpTempObj$231078[ebp], eax

; 1834 : 
; 1835 : 		if(lpTempObj->Connected < PLAYER_PLAYING || lpTempObj->Type != OBJ_USER)

  03d29	8b 45 f4	 mov	 eax, DWORD PTR _lpTempObj$231078[ebp]
  03d2c	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  03d30	7c 0c		 jl	 SHORT $LN2@GCMapAttri@2
  03d32	8b 45 f4	 mov	 eax, DWORD PTR _lpTempObj$231078[ebp]
  03d35	0f b7 48 68	 movzx	 ecx, WORD PTR [eax+104]
  03d39	83 f9 01	 cmp	 ecx, 1
  03d3c	74 02		 je	 SHORT $LN3@GCMapAttri@2
$LN2@GCMapAttri@2:

; 1836 : 		{
; 1837 : 			continue;

  03d3e	eb c5		 jmp	 SHORT $LN5@GCMapAttri@2
$LN3@GCMapAttri@2:

; 1838 : 		}	
; 1839 : 
; 1840 : 		if(lpTempObj->MapNumber != this->m_EventMapNumber)

  03d40	8b 45 f4	 mov	 eax, DWORD PTR _lpTempObj$231078[ebp]
  03d43	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  03d4a	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  03d4d	3b 4a 78	 cmp	 ecx, DWORD PTR [edx+120]
  03d50	74 02		 je	 SHORT $LN1@GCMapAttri@2

; 1841 : 		{
; 1842 : 			continue;

  03d52	eb b1		 jmp	 SHORT $LN5@GCMapAttri@2
$LN1@GCMapAttri@2:

; 1843 : 		}
; 1844 : 
; 1845 : 		this->GCMapAttribute(n, type);

  03d54	8b 45 08	 mov	 eax, DWORD PTR _type$[ebp]
  03d57	50		 push	 eax
  03d58	8b 4d f8	 mov	 ecx, DWORD PTR _n$231074[ebp]
  03d5b	51		 push	 ecx
  03d5c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  03d5f	e8 00 00 00 00	 call	 ?GCMapAttribute@CDungeonSiege@@QAEXHH@Z ; CDungeonSiege::GCMapAttribute

; 1846 : 	}

  03d64	eb 9f		 jmp	 SHORT $LN5@GCMapAttri@2
$LN7@GCMapAttri@2:

; 1847 : }

  03d66	5f		 pop	 edi
  03d67	5e		 pop	 esi
  03d68	5b		 pop	 ebx
  03d69	8b e5		 mov	 esp, ebp
  03d6b	5d		 pop	 ebp
  03d6c	c2 04 00	 ret	 4
?GCMapAttributeAll@CDungeonSiege@@QAEXH@Z ENDP		; CDungeonSiege::GCMapAttributeAll
_TEXT	ENDS
PUBLIC	__$ArrayPad$
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv150 = -188						; size = 4
tv134 = -188						; size = 4
tv67 = -188						; size = 4
_lpGuild$231103 = -120					; size = 4
_i$231099 = -116					; size = 4
_lpUser2$231096 = -112					; size = 4
_lpUser1$231094 = -108					; size = 4
_pMsg$ = -104						; size = 92
_lpUser$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?GCPlayerScore@CDungeonSiege@@QAEXH@Z PROC		; CDungeonSiege::GCPlayerScore
; _this$ = ecx

; 1850 : {

  03d70	55		 push	 ebp
  03d71	8b ec		 mov	 ebp, esp
  03d73	81 ec bc 00 00
	00		 sub	 esp, 188		; 000000bcH
  03d79	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  03d7e	33 c5		 xor	 eax, ebp
  03d80	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  03d83	53		 push	 ebx
  03d84	56		 push	 esi
  03d85	57		 push	 edi
  03d86	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1851 : 	if(OBJMAX_RANGE(aIndex) == 0)

  03d89	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  03d8d	7d 0c		 jge	 SHORT $LN18@GCPlayerSc
  03d8f	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv67[ebp], 0
  03d99	eb 12		 jmp	 SHORT $LN19@GCPlayerSc
$LN18@GCPlayerSc:
  03d9b	33 c0		 xor	 eax, eax
  03d9d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  03da4	0f 9e c0	 setle	 al
  03da7	89 85 44 ff ff
	ff		 mov	 DWORD PTR tv67[ebp], eax
$LN19@GCPlayerSc:
  03dad	83 bd 44 ff ff
	ff 00		 cmp	 DWORD PTR tv67[ebp], 0
  03db4	75 05		 jne	 SHORT $LN15@GCPlayerSc

; 1852 : 	{
; 1853 : 		return;

  03db6	e9 82 02 00 00	 jmp	 $LN16@GCPlayerSc
$LN15@GCPlayerSc:

; 1854 : 	}
; 1855 : 
; 1856 : 	LPOBJ lpUser = &gObj[aIndex];

  03dbb	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  03dbe	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  03dc4	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03dca	89 45 f4	 mov	 DWORD PTR _lpUser$[ebp], eax

; 1857 : 
; 1858 : 	if(lpUser->Connected < PLAYER_PLAYING)

  03dcd	8b 45 f4	 mov	 eax, DWORD PTR _lpUser$[ebp]
  03dd0	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  03dd4	7d 05		 jge	 SHORT $LN14@GCPlayerSc

; 1859 : 	{
; 1860 : 		return;

  03dd6	e9 62 02 00 00	 jmp	 $LN16@GCPlayerSc
$LN14@GCPlayerSc:

; 1861 : 	}
; 1862 : 
; 1863 : 	PMSG_DUNGEON_SIEGE_SCORE pMsg;
; 1864 : 	pMsg.h.set((LPBYTE)&pMsg, 0xFB, 0x55, sizeof(pMsg));

  03ddb	6a 5c		 push	 92			; 0000005cH
  03ddd	6a 55		 push	 85			; 00000055H
  03ddf	68 fb 00 00 00	 push	 251			; 000000fbH
  03de4	8d 45 98	 lea	 eax, DWORD PTR _pMsg$[ebp]
  03de7	50		 push	 eax
  03de8	8d 4d 98	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  03deb	e8 00 00 00 00	 call	 ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ; PBMSG_HEAD2::set

; 1865 : 	pMsg.MyScore = lpUser->DSiege.iScore;

  03df0	8b 45 f4	 mov	 eax, DWORD PTR _lpUser$[ebp]
  03df3	8b 88 04 29 00
	00		 mov	 ecx, DWORD PTR [eax+10500]
  03df9	89 4d 9c	 mov	 DWORD PTR _pMsg$[ebp+4], ecx

; 1866 : 	pMsg.GuildCount = this->iRegCount;

  03dfc	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  03dff	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  03e02	89 4d a0	 mov	 DWORD PTR _pMsg$[ebp+8], ecx

; 1867 : 	pMsg.FinalGuildID1 = 0;

  03e05	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _pMsg$[ebp+52], 0

; 1868 : 	pMsg.FinalGuildID2 = 0;

  03e0c	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _pMsg$[ebp+56], 0

; 1869 : 	pMsg.FinalScore1 = 0;

  03e13	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _pMsg$[ebp+60], 0

; 1870 : 	pMsg.FinalScore2 = 0;

  03e1a	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _pMsg$[ebp+64], 0

; 1871 : 	pMsg.FinalGuildID1 = 0;

  03e21	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _pMsg$[ebp+52], 0

; 1872 : 	pMsg.FinalGuildID2 = 0;

  03e28	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _pMsg$[ebp+56], 0

; 1873 : 	pMsg.InSiege = false;

  03e2f	c6 45 f2 00	 mov	 BYTE PTR _pMsg$[ebp+90], 0

; 1874 : 
; 1875 : 	memset(pMsg.Name1, 0, sizeof(pMsg.Name1));

  03e33	6a 0b		 push	 11			; 0000000bH
  03e35	6a 00		 push	 0
  03e37	8d 45 dc	 lea	 eax, DWORD PTR _pMsg$[ebp+68]
  03e3a	50		 push	 eax
  03e3b	e8 00 00 00 00	 call	 _memset
  03e40	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1876 : 	memset(pMsg.Name2, 0, sizeof(pMsg.Name2));

  03e43	6a 0b		 push	 11			; 0000000bH
  03e45	6a 00		 push	 0
  03e47	8d 45 e7	 lea	 eax, DWORD PTR _pMsg$[ebp+79]
  03e4a	50		 push	 eax
  03e4b	e8 00 00 00 00	 call	 _memset
  03e50	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1877 : 
; 1878 : 	if(this->CheckStatus(eEVENTDUNGEON_WAIT_STAGE2) || this->CheckStatus(eEVENTDUNGEON_START_STAGE2))	

  03e53	6a 03		 push	 3
  03e55	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  03e58	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  03e5d	0f b6 c0	 movzx	 eax, al
  03e60	85 c0		 test	 eax, eax
  03e62	75 15		 jne	 SHORT $LN12@GCPlayerSc
  03e64	6a 04		 push	 4
  03e66	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  03e69	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  03e6e	0f b6 c0	 movzx	 eax, al
  03e71	85 c0		 test	 eax, eax
  03e73	0f 84 f6 00 00
	00		 je	 $LN13@GCPlayerSc
$LN12@GCPlayerSc:

; 1879 : 	{
; 1880 : 		if(OBJMAX_RANGE(this->aIndexFinal1))

  03e79	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  03e7c	83 78 38 00	 cmp	 DWORD PTR [eax+56], 0
  03e80	7d 0c		 jge	 SHORT $LN20@GCPlayerSc
  03e82	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv134[ebp], 0
  03e8c	eb 15		 jmp	 SHORT $LN21@GCPlayerSc
$LN20@GCPlayerSc:
  03e8e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  03e91	33 d2		 xor	 edx, edx
  03e93	81 79 38 97 3a
	00 00		 cmp	 DWORD PTR [ecx+56], 14999 ; 00003a97H
  03e9a	0f 9e c2	 setle	 dl
  03e9d	89 95 44 ff ff
	ff		 mov	 DWORD PTR tv134[ebp], edx
$LN21@GCPlayerSc:
  03ea3	83 bd 44 ff ff
	ff 00		 cmp	 DWORD PTR tv134[ebp], 0
  03eaa	74 36		 je	 SHORT $LN11@GCPlayerSc

; 1881 : 		{
; 1882 : 			LPOBJ lpUser1 = &gObj[this->aIndexFinal1];

  03eac	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  03eaf	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  03eb2	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  03eb8	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03ebe	89 4d 94	 mov	 DWORD PTR _lpUser1$231094[ebp], ecx

; 1883 : 			pMsg.FinalScore1 = lpUser1->DSiege.iScore2;

  03ec1	8b 45 94	 mov	 eax, DWORD PTR _lpUser1$231094[ebp]
  03ec4	8b 88 08 29 00
	00		 mov	 ecx, DWORD PTR [eax+10504]
  03eca	89 4d d4	 mov	 DWORD PTR _pMsg$[ebp+60], ecx

; 1884 : 			memcpy(pMsg.Name1, lpUser1->Name, sizeof(pMsg.Name1)-1);

  03ecd	6a 0a		 push	 10			; 0000000aH
  03ecf	8b 45 94	 mov	 eax, DWORD PTR _lpUser1$231094[ebp]
  03ed2	83 c0 77	 add	 eax, 119		; 00000077H
  03ed5	50		 push	 eax
  03ed6	8d 4d dc	 lea	 ecx, DWORD PTR _pMsg$[ebp+68]
  03ed9	51		 push	 ecx
  03eda	e8 00 00 00 00	 call	 _memcpy
  03edf	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN11@GCPlayerSc:

; 1885 : 		}
; 1886 : 		if(OBJMAX_RANGE(this->aIndexFinal2))

  03ee2	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  03ee5	83 78 3c 00	 cmp	 DWORD PTR [eax+60], 0
  03ee9	7d 0c		 jge	 SHORT $LN22@GCPlayerSc
  03eeb	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv150[ebp], 0
  03ef5	eb 15		 jmp	 SHORT $LN23@GCPlayerSc
$LN22@GCPlayerSc:
  03ef7	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  03efa	33 d2		 xor	 edx, edx
  03efc	81 79 3c 97 3a
	00 00		 cmp	 DWORD PTR [ecx+60], 14999 ; 00003a97H
  03f03	0f 9e c2	 setle	 dl
  03f06	89 95 44 ff ff
	ff		 mov	 DWORD PTR tv150[ebp], edx
$LN23@GCPlayerSc:
  03f0c	83 bd 44 ff ff
	ff 00		 cmp	 DWORD PTR tv150[ebp], 0
  03f13	74 36		 je	 SHORT $LN10@GCPlayerSc

; 1887 : 		{
; 1888 : 			LPOBJ lpUser2 = &gObj[this->aIndexFinal2];

  03f15	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  03f18	8b 48 3c	 mov	 ecx, DWORD PTR [eax+60]
  03f1b	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  03f21	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  03f27	89 4d 90	 mov	 DWORD PTR _lpUser2$231096[ebp], ecx

; 1889 : 			pMsg.FinalScore2 = lpUser2->DSiege.iScore2;

  03f2a	8b 45 90	 mov	 eax, DWORD PTR _lpUser2$231096[ebp]
  03f2d	8b 88 08 29 00
	00		 mov	 ecx, DWORD PTR [eax+10504]
  03f33	89 4d d8	 mov	 DWORD PTR _pMsg$[ebp+64], ecx

; 1890 : 			memcpy(pMsg.Name2, lpUser2->Name, sizeof(pMsg.Name2)-1);

  03f36	6a 0a		 push	 10			; 0000000aH
  03f38	8b 45 90	 mov	 eax, DWORD PTR _lpUser2$231096[ebp]
  03f3b	83 c0 77	 add	 eax, 119		; 00000077H
  03f3e	50		 push	 eax
  03f3f	8d 4d e7	 lea	 ecx, DWORD PTR _pMsg$[ebp+79]
  03f42	51		 push	 ecx
  03f43	e8 00 00 00 00	 call	 _memcpy
  03f48	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN10@GCPlayerSc:

; 1891 : 		}
; 1892 : 		if(this->aGuildFinal1 != -1)

  03f4b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  03f4e	83 78 40 ff	 cmp	 DWORD PTR [eax+64], -1
  03f52	74 09		 je	 SHORT $LN9@GCPlayerSc

; 1893 : 		{
; 1894 : 			pMsg.FinalGuildID1 = this->aGuildFinal1;

  03f54	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  03f57	8b 48 40	 mov	 ecx, DWORD PTR [eax+64]
  03f5a	89 4d cc	 mov	 DWORD PTR _pMsg$[ebp+52], ecx
$LN9@GCPlayerSc:

; 1895 : 		}
; 1896 : 		if(this->aGuildFinal2 != -1)

  03f5d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  03f60	83 78 44 ff	 cmp	 DWORD PTR [eax+68], -1
  03f64	74 09		 je	 SHORT $LN13@GCPlayerSc

; 1897 : 		{
; 1898 : 			pMsg.FinalGuildID2 = this->aGuildFinal2;

  03f66	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  03f69	8b 48 44	 mov	 ecx, DWORD PTR [eax+68]
  03f6c	89 4d d0	 mov	 DWORD PTR _pMsg$[ebp+56], ecx
$LN13@GCPlayerSc:

; 1899 : 		}
; 1900 : 	}
; 1901 : 
; 1902 : 	for(int i = 0; i < this->iRegCount; i++)

  03f6f	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR _i$231099[ebp], 0
  03f76	eb 09		 jmp	 SHORT $LN7@GCPlayerSc
$LN6@GCPlayerSc:
  03f78	8b 45 8c	 mov	 eax, DWORD PTR _i$231099[ebp]
  03f7b	83 c0 01	 add	 eax, 1
  03f7e	89 45 8c	 mov	 DWORD PTR _i$231099[ebp], eax
$LN7@GCPlayerSc:
  03f81	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  03f84	8b 4d 8c	 mov	 ecx, DWORD PTR _i$231099[ebp]
  03f87	3b 48 20	 cmp	 ecx, DWORD PTR [eax+32]
  03f8a	0f 8d 9b 00 00
	00		 jge	 $LN5@GCPlayerSc

; 1903 : 	{
; 1904 : 		pMsg.GuildScore[i] = 0;

  03f90	8b 45 8c	 mov	 eax, DWORD PTR _i$231099[ebp]
  03f93	c7 44 85 a4 00
	00 00 00	 mov	 DWORD PTR _pMsg$[ebp+eax*4+12], 0

; 1905 : 
; 1906 : 		_GUILD_INFO_STRUCT* lpGuild = Guild.SearchGuild(this->reg_list[i].szGuildName);

  03f9b	8b 45 8c	 mov	 eax, DWORD PTR _i$231099[ebp]
  03f9e	6b c0 09	 imul	 eax, 9
  03fa1	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  03fa4	8d 94 01 16 01
	00 00		 lea	 edx, DWORD PTR [ecx+eax+278]
  03fab	52		 push	 edx
  03fac	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  03fb1	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  03fb6	89 45 88	 mov	 DWORD PTR _lpGuild$231103[ebp], eax

; 1907 : 		
; 1908 : 		if(!lpGuild)

  03fb9	83 7d 88 00	 cmp	 DWORD PTR _lpGuild$231103[ebp], 0
  03fbd	75 02		 jne	 SHORT $LN4@GCPlayerSc

; 1909 : 		{		
; 1910 : 			continue;

  03fbf	eb b7		 jmp	 SHORT $LN6@GCPlayerSc
$LN4@GCPlayerSc:

; 1911 : 		}
; 1912 : 
; 1913 : 		if(lpUser->GuildNumber > 0)

  03fc1	8b 45 f4	 mov	 eax, DWORD PTR _lpUser$[ebp]
  03fc4	83 b8 34 04 00
	00 00		 cmp	 DWORD PTR [eax+1076], 0
  03fcb	7e 49		 jle	 SHORT $LN3@GCPlayerSc

; 1914 : 		{
; 1915 : 			if(lpUser->GuildName[0] == this->reg_list[i].szGuildName[0])

  03fcd	8b 45 f4	 mov	 eax, DWORD PTR _lpUser$[ebp]
  03fd0	0f be 88 3c 04
	00 00		 movsx	 ecx, BYTE PTR [eax+1084]
  03fd7	8b 55 8c	 mov	 edx, DWORD PTR _i$231099[ebp]
  03fda	6b d2 09	 imul	 edx, 9
  03fdd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  03fe0	0f be 94 10 16
	01 00 00	 movsx	 edx, BYTE PTR [eax+edx+278]
  03fe8	3b ca		 cmp	 ecx, edx
  03fea	75 2a		 jne	 SHORT $LN3@GCPlayerSc

; 1916 : 			{
; 1917 : 				if(!strcmp(lpUser->GuildName, this->reg_list[i].szGuildName))

  03fec	8b 45 8c	 mov	 eax, DWORD PTR _i$231099[ebp]
  03fef	6b c0 09	 imul	 eax, 9
  03ff2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  03ff5	8d 94 01 16 01
	00 00		 lea	 edx, DWORD PTR [ecx+eax+278]
  03ffc	52		 push	 edx
  03ffd	8b 45 f4	 mov	 eax, DWORD PTR _lpUser$[ebp]
  04000	05 3c 04 00 00	 add	 eax, 1084		; 0000043cH
  04005	50		 push	 eax
  04006	e8 00 00 00 00	 call	 _strcmp
  0400b	83 c4 08	 add	 esp, 8
  0400e	85 c0		 test	 eax, eax
  04010	75 04		 jne	 SHORT $LN3@GCPlayerSc

; 1918 : 				{
; 1919 : 					pMsg.InSiege = true;

  04012	c6 45 f2 01	 mov	 BYTE PTR _pMsg$[ebp+90], 1
$LN3@GCPlayerSc:

; 1920 : 				}
; 1921 : 			}
; 1922 : 		}
; 1923 : 
; 1924 : 		pMsg.GuildScore[i] = lpGuild->DungeonSiege.iScore;

  04016	8b 45 8c	 mov	 eax, DWORD PTR _i$231099[ebp]
  04019	8b 4d 88	 mov	 ecx, DWORD PTR _lpGuild$231103[ebp]
  0401c	8b 91 48 07 00
	00		 mov	 edx, DWORD PTR [ecx+1864]
  04022	89 54 85 a4	 mov	 DWORD PTR _pMsg$[ebp+eax*4+12], edx

; 1925 : 	}

  04026	e9 4d ff ff ff	 jmp	 $LN6@GCPlayerSc
$LN5@GCPlayerSc:

; 1926 : 
; 1927 : 	DataSend(aIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  0402b	6a 5c		 push	 92			; 0000005cH
  0402d	8d 45 98	 lea	 eax, DWORD PTR _pMsg$[ebp]
  04030	50		 push	 eax
  04031	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  04034	51		 push	 ecx
  04035	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0403a	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN16@GCPlayerSc:

; 1928 : }

  0403d	5f		 pop	 edi
  0403e	5e		 pop	 esi
  0403f	5b		 pop	 ebx
  04040	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  04043	33 cd		 xor	 ecx, ebp
  04045	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0404a	8b e5		 mov	 esp, ebp
  0404c	5d		 pop	 ebp
  0404d	c2 04 00	 ret	 4
?GCPlayerScore@CDungeonSiege@@QAEXH@Z ENDP		; CDungeonSiege::GCPlayerScore
; Function compile flags: /Odtp /ZI
_lpObj$231117 = -12					; size = 4
_n$231112 = -8						; size = 4
_this$ = -4						; size = 4
?MonsterEventDisable@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::MonsterEventDisable
; _this$ = ecx

; 1931 : {

  04050	55		 push	 ebp
  04051	8b ec		 mov	 ebp, esp
  04053	83 ec 4c	 sub	 esp, 76			; 0000004cH
  04056	53		 push	 ebx
  04057	56		 push	 esi
  04058	57		 push	 edi
  04059	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1932 : 	for(int n = 0; n < OBJ_MAXMONSTER ; n++)

  0405c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _n$231112[ebp], 0
  04063	eb 09		 jmp	 SHORT $LN4@MonsterEve
$LN3@MonsterEve:
  04065	8b 45 f8	 mov	 eax, DWORD PTR _n$231112[ebp]
  04068	83 c0 01	 add	 eax, 1
  0406b	89 45 f8	 mov	 DWORD PTR _n$231112[ebp], eax
$LN4@MonsterEve:
  0406e	81 7d f8 c8 32
	00 00		 cmp	 DWORD PTR _n$231112[ebp], 13000 ; 000032c8H
  04075	7d 3a		 jge	 SHORT $LN5@MonsterEve

; 1933 : 	{
; 1934 : 		if(gObj[n].MapNumber == this->m_EventMapNumber)

  04077	8b 45 f8	 mov	 eax, DWORD PTR _n$231112[ebp]
  0407a	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04080	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04086	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  0408e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  04091	3b 50 78	 cmp	 edx, DWORD PTR [eax+120]
  04094	75 19		 jne	 SHORT $LN1@MonsterEve

; 1935 : 		{
; 1936 : 			LPOBJ lpObj = &gObj[n];

  04096	8b 45 f8	 mov	 eax, DWORD PTR _n$231112[ebp]
  04099	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0409f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  040a5	89 45 f4	 mov	 DWORD PTR _lpObj$231117[ebp], eax

; 1937 : 			lpObj->Live = false;

  040a8	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$231117[ebp]
  040ab	c6 40 6a 00	 mov	 BYTE PTR [eax+106], 0
$LN1@MonsterEve:

; 1938 : 			//gObjViewportListProtocolDestroy(lpObj);
; 1939 : 			//gObjViewportClose(lpObj);
; 1940 : 		}
; 1941 : 	}

  040af	eb b4		 jmp	 SHORT $LN3@MonsterEve
$LN5@MonsterEve:

; 1942 : }

  040b1	5f		 pop	 edi
  040b2	5e		 pop	 esi
  040b3	5b		 pop	 ebx
  040b4	8b e5		 mov	 esp, ebp
  040b6	5d		 pop	 ebp
  040b7	c3		 ret	 0
?MonsterEventDisable@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::MonsterEventDisable
; Function compile flags: /Odtp /ZI
_lpObj$231126 = -12					; size = 4
_n$231121 = -8						; size = 4
_this$ = -4						; size = 4
?MonsterEventEnable@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::MonsterEventEnable
; _this$ = ecx

; 1945 : {

  040c0	55		 push	 ebp
  040c1	8b ec		 mov	 ebp, esp
  040c3	83 ec 4c	 sub	 esp, 76			; 0000004cH
  040c6	53		 push	 ebx
  040c7	56		 push	 esi
  040c8	57		 push	 edi
  040c9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1946 : 	for(int n = 0; n < OBJ_MAXMONSTER ; n++)

  040cc	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _n$231121[ebp], 0
  040d3	eb 09		 jmp	 SHORT $LN4@MonsterEve@2
$LN3@MonsterEve@2:
  040d5	8b 45 f8	 mov	 eax, DWORD PTR _n$231121[ebp]
  040d8	83 c0 01	 add	 eax, 1
  040db	89 45 f8	 mov	 DWORD PTR _n$231121[ebp], eax
$LN4@MonsterEve@2:
  040de	81 7d f8 c8 32
	00 00		 cmp	 DWORD PTR _n$231121[ebp], 13000 ; 000032c8H
  040e5	7d 3a		 jge	 SHORT $LN5@MonsterEve@2

; 1947 : 	{
; 1948 : 		if(gObj[n].MapNumber == this->m_EventMapNumber)

  040e7	8b 45 f8	 mov	 eax, DWORD PTR _n$231121[ebp]
  040ea	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  040f0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  040f6	0f b6 94 01 49
	01 00 00	 movzx	 edx, BYTE PTR [ecx+eax+329]
  040fe	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  04101	3b 50 78	 cmp	 edx, DWORD PTR [eax+120]
  04104	75 19		 jne	 SHORT $LN1@MonsterEve@2

; 1949 : 		{
; 1950 : 			LPOBJ lpObj = &gObj[n];

  04106	8b 45 f8	 mov	 eax, DWORD PTR _n$231121[ebp]
  04109	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0410f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04115	89 45 f4	 mov	 DWORD PTR _lpObj$231126[ebp], eax

; 1951 : 			lpObj->Live = true;

  04118	8b 45 f4	 mov	 eax, DWORD PTR _lpObj$231126[ebp]
  0411b	c6 40 6a 01	 mov	 BYTE PTR [eax+106], 1
$LN1@MonsterEve@2:

; 1952 : 			//CreateFrustrum(lpObj->X, lpObj->Y, lpObj->m_Index);
; 1953 : 			//gObjClearViewport(lpObj);
; 1954 : 			//gObjViewportListCreate(lpObj->m_Index);
; 1955 : 			//gObjViewportListProtocolCreate(lpObj);
; 1956 : 		}
; 1957 : 	}

  0411f	eb b4		 jmp	 SHORT $LN3@MonsterEve@2
$LN5@MonsterEve@2:

; 1958 : }

  04121	5f		 pop	 edi
  04122	5e		 pop	 esi
  04123	5b		 pop	 ebx
  04124	8b e5		 mov	 esp, ebp
  04126	5d		 pop	 ebp
  04127	c3		 ret	 0
?MonsterEventEnable@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::MonsterEventEnable
_TEXT	ENDS
PUBLIC	?CheckEventStart@CDungeonSiege@@QAE_NH@Z	; CDungeonSiege::CheckEventStart
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
tv67 = -76						; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?CheckEventStart@CDungeonSiege@@QAE_NH@Z PROC		; CDungeonSiege::CheckEventStart
; _this$ = ecx

; 1961 : {

  04130	55		 push	 ebp
  04131	8b ec		 mov	 ebp, esp
  04133	83 ec 4c	 sub	 esp, 76			; 0000004cH
  04136	53		 push	 ebx
  04137	56		 push	 esi
  04138	57		 push	 edi
  04139	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1962 : 	if(OBJMAX_RANGE(aIndex) == 0)

  0413c	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  04140	7d 09		 jge	 SHORT $LN7@CheckEvent
  04142	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  04149	eb 0f		 jmp	 SHORT $LN8@CheckEvent
$LN7@CheckEvent:
  0414b	33 c0		 xor	 eax, eax
  0414d	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  04154	0f 9e c0	 setle	 al
  04157	89 45 b4	 mov	 DWORD PTR tv67[ebp], eax
$LN8@CheckEvent:
  0415a	83 7d b4 00	 cmp	 DWORD PTR tv67[ebp], 0
  0415e	75 04		 jne	 SHORT $LN4@CheckEvent

; 1963 : 	{
; 1964 : 		return false;

  04160	32 c0		 xor	 al, al
  04162	eb 4c		 jmp	 SHORT $LN5@CheckEvent
$LN4@CheckEvent:

; 1965 : 	}
; 1966 : 
; 1967 : 	LPOBJ lpUser = &gObj[aIndex];

  04164	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04167	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  0416d	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04173	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 1968 : 
; 1969 : 	if(lpUser->Connected < PLAYER_PLAYING)

  04176	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  04179	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  0417d	7d 04		 jge	 SHORT $LN3@CheckEvent

; 1970 : 	{
; 1971 : 		return false;

  0417f	32 c0		 xor	 al, al
  04181	eb 2d		 jmp	 SHORT $LN5@CheckEvent
$LN3@CheckEvent:

; 1972 : 	}
; 1973 : 
; 1974 : 	if(this->CheckStatus(eEVENTDUNGEON_CLOSE))

  04183	6a 00		 push	 0
  04185	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  04188	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  0418d	0f b6 c0	 movzx	 eax, al
  04190	85 c0		 test	 eax, eax
  04192	74 04		 je	 SHORT $LN2@CheckEvent

; 1975 : 	{
; 1976 : 		return true;

  04194	b0 01		 mov	 al, 1
  04196	eb 18		 jmp	 SHORT $LN5@CheckEvent
$LN2@CheckEvent:

; 1977 : 	}
; 1978 : 
; 1979 : 	if(lpUser->MapNumber == this->m_EventMapNumber)

  04198	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0419b	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  041a2	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  041a5	3b 4a 78	 cmp	 ecx, DWORD PTR [edx+120]
  041a8	75 04		 jne	 SHORT $LN1@CheckEvent

; 1980 : 	{
; 1981 : 		return false;

  041aa	32 c0		 xor	 al, al
  041ac	eb 02		 jmp	 SHORT $LN5@CheckEvent
$LN1@CheckEvent:

; 1982 : 	}
; 1983 : 
; 1984 : 	return true;

  041ae	b0 01		 mov	 al, 1
$LN5@CheckEvent:

; 1985 : }

  041b0	5f		 pop	 edi
  041b1	5e		 pop	 esi
  041b2	5b		 pop	 ebx
  041b3	8b e5		 mov	 esp, ebp
  041b5	5d		 pop	 ebp
  041b6	c2 04 00	 ret	 4
?CheckEventStart@CDungeonSiege@@QAE_NH@Z ENDP		; CDungeonSiege::CheckEventStart
_TEXT	ENDS
PUBLIC	??_C@_0CF@CDOBAPIF@?$FLDungeon?5Siege?$FN?5No?5delete?5guild?5@ ; `string'
PUBLIC	??_C@_0CL@MAALEAJL@?$FLDungeon?5Siege?$FN?5Owner?5No?5delete?5@ ; `string'
PUBLIC	?DeleteGuildUser@CDungeonSiege@@QAE_NH@Z	; CDungeonSiege::DeleteGuildUser
;	COMDAT ??_C@_0CF@CDOBAPIF@?$FLDungeon?5Siege?$FN?5No?5delete?5guild?5@
CONST	SEGMENT
??_C@_0CF@CDOBAPIF@?$FLDungeon?5Siege?$FN?5No?5delete?5guild?5@ DB '[Dung'
	DB	'eon Siege] No delete guild user', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CL@MAALEAJL@?$FLDungeon?5Siege?$FN?5Owner?5No?5delete?5@
CONST	SEGMENT
??_C@_0CL@MAALEAJL@?$FLDungeon?5Siege?$FN?5Owner?5No?5delete?5@ DB '[Dung'
	DB	'eon Siege] Owner No delete guild user', 00H	; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
tv67 = -76						; size = 4
_lpUser$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
?DeleteGuildUser@CDungeonSiege@@QAE_NH@Z PROC		; CDungeonSiege::DeleteGuildUser
; _this$ = ecx

; 1988 : {

  041c0	55		 push	 ebp
  041c1	8b ec		 mov	 ebp, esp
  041c3	83 ec 4c	 sub	 esp, 76			; 0000004cH
  041c6	53		 push	 ebx
  041c7	56		 push	 esi
  041c8	57		 push	 edi
  041c9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1989 : 	if(OBJMAX_RANGE(aIndex) == 0)

  041cc	83 7d 08 00	 cmp	 DWORD PTR _aIndex$[ebp], 0
  041d0	7d 09		 jge	 SHORT $LN9@DeleteGuil
  041d2	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
  041d9	eb 0f		 jmp	 SHORT $LN10@DeleteGuil
$LN9@DeleteGuil:
  041db	33 c0		 xor	 eax, eax
  041dd	81 7d 08 97 3a
	00 00		 cmp	 DWORD PTR _aIndex$[ebp], 14999 ; 00003a97H
  041e4	0f 9e c0	 setle	 al
  041e7	89 45 b4	 mov	 DWORD PTR tv67[ebp], eax
$LN10@DeleteGuil:
  041ea	83 7d b4 00	 cmp	 DWORD PTR tv67[ebp], 0
  041ee	75 07		 jne	 SHORT $LN6@DeleteGuil

; 1990 : 	{
; 1991 : 		return false;

  041f0	32 c0		 xor	 al, al
  041f2	e9 a8 00 00 00	 jmp	 $LN7@DeleteGuil
$LN6@DeleteGuil:

; 1992 : 	}
; 1993 : 
; 1994 : 	LPOBJ lpUser = &gObj[aIndex];

  041f7	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  041fa	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  04200	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04206	89 45 f8	 mov	 DWORD PTR _lpUser$[ebp], eax

; 1995 : 
; 1996 : 	if(lpUser->Connected < PLAYER_PLAYING)

  04209	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0420c	83 78 04 03	 cmp	 DWORD PTR [eax+4], 3
  04210	7d 07		 jge	 SHORT $LN5@DeleteGuil

; 1997 : 	{
; 1998 : 		return false;

  04212	32 c0		 xor	 al, al
  04214	e9 86 00 00 00	 jmp	 $LN7@DeleteGuil
$LN5@DeleteGuil:

; 1999 : 	}
; 2000 : 
; 2001 : 	//   
; 2002 : 	if(lpUser->GuildNumber > 0 && this->bCaptured)

  04219	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  0421c	83 b8 34 04 00
	00 00		 cmp	 DWORD PTR [eax+1076], 0
  04223	7e 52		 jle	 SHORT $LN4@DeleteGuil
  04225	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  04228	0f b6 48 14	 movzx	 ecx, BYTE PTR [eax+20]
  0422c	85 c9		 test	 ecx, ecx
  0422e	74 47		 je	 SHORT $LN4@DeleteGuil

; 2003 : 	{
; 2004 : 		if(lpUser->GuildName[0] == this->szLordGuild[0])

  04230	8b 45 f8	 mov	 eax, DWORD PTR _lpUser$[ebp]
  04233	0f be 88 3c 04
	00 00		 movsx	 ecx, BYTE PTR [eax+1084]
  0423a	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0423d	0f be 42 15	 movsx	 eax, BYTE PTR [edx+21]
  04241	3b c8		 cmp	 ecx, eax
  04243	75 32		 jne	 SHORT $LN4@DeleteGuil

; 2005 : 		{
; 2006 : 			if(!strcmp(lpUser->GuildName, this->szLordGuild))

  04245	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  04248	83 c0 15	 add	 eax, 21			; 00000015H
  0424b	50		 push	 eax
  0424c	8b 4d f8	 mov	 ecx, DWORD PTR _lpUser$[ebp]
  0424f	81 c1 3c 04 00
	00		 add	 ecx, 1084		; 0000043cH
  04255	51		 push	 ecx
  04256	e8 00 00 00 00	 call	 _strcmp
  0425b	83 c4 08	 add	 esp, 8
  0425e	85 c0		 test	 eax, eax
  04260	75 15		 jne	 SHORT $LN4@DeleteGuil

; 2007 : 			{
; 2008 : 				MsgOutput(aIndex, "[Dungeon Siege] Owner No delete guild user");

  04262	68 00 00 00 00	 push	 OFFSET ??_C@_0CL@MAALEAJL@?$FLDungeon?5Siege?$FN?5Owner?5No?5delete?5@
  04267	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0426a	50		 push	 eax
  0426b	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  04270	83 c4 08	 add	 esp, 8

; 2009 : 				return false;

  04273	32 c0		 xor	 al, al
  04275	eb 28		 jmp	 SHORT $LN7@DeleteGuil
$LN4@DeleteGuil:

; 2010 : 			}
; 2011 : 		}
; 2012 : 	}
; 2013 : 
; 2014 : 	if(this->CheckStatus(eEVENTDUNGEON_CLOSE))

  04277	6a 00		 push	 0
  04279	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0427c	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  04281	0f b6 c0	 movzx	 eax, al
  04284	85 c0		 test	 eax, eax
  04286	74 04		 je	 SHORT $LN1@DeleteGuil

; 2015 : 	{
; 2016 : 		return true;

  04288	b0 01		 mov	 al, 1
  0428a	eb 13		 jmp	 SHORT $LN7@DeleteGuil
$LN1@DeleteGuil:

; 2017 : 	}
; 2018 : 
; 2019 : 	MsgOutput(aIndex, "[Dungeon Siege] No delete guild user");

  0428c	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@CDOBAPIF@?$FLDungeon?5Siege?$FN?5No?5delete?5guild?5@
  04291	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  04294	50		 push	 eax
  04295	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  0429a	83 c4 08	 add	 esp, 8

; 2020 : 
; 2021 : 	return false;

  0429d	32 c0		 xor	 al, al
$LN7@DeleteGuil:

; 2022 : }

  0429f	5f		 pop	 edi
  042a0	5e		 pop	 esi
  042a1	5b		 pop	 ebx
  042a2	8b e5		 mov	 esp, ebp
  042a4	5d		 pop	 ebp
  042a5	c2 04 00	 ret	 4
?DeleteGuildUser@CDungeonSiege@@QAE_NH@Z ENDP		; CDungeonSiege::DeleteGuildUser
; Function compile flags: /Odtp /ZI
tv86 = -80						; size = 4
tv79 = -80						; size = 4
_lpUser2$231156 = -12					; size = 4
_lpUser1$231155 = -8					; size = 4
_this$ = -4						; size = 4
?ReturnPlayerRing@CDungeonSiege@@QAEXXZ PROC		; CDungeonSiege::ReturnPlayerRing
; _this$ = ecx

; 2025 : {

  042b0	55		 push	 ebp
  042b1	8b ec		 mov	 ebp, esp
  042b3	83 ec 50	 sub	 esp, 80			; 00000050H
  042b6	53		 push	 ebx
  042b7	56		 push	 esi
  042b8	57		 push	 edi
  042b9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2026 : 	if(this->CheckStatus(eEVENTDUNGEON_WAIT_STAGE2) || this->CheckStatus(eEVENTDUNGEON_START_STAGE2))	

  042bc	6a 03		 push	 3
  042be	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  042c1	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  042c6	0f b6 c0	 movzx	 eax, al
  042c9	85 c0		 test	 eax, eax
  042cb	75 15		 jne	 SHORT $LN10@ReturnPlay
  042cd	6a 04		 push	 4
  042cf	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  042d2	e8 00 00 00 00	 call	 ?CheckStatus@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::CheckStatus
  042d7	0f b6 c0	 movzx	 eax, al
  042da	85 c0		 test	 eax, eax
  042dc	0f 84 e4 01 00
	00		 je	 $LN12@ReturnPlay
$LN10@ReturnPlay:

; 2027 : 	{
; 2028 : 		if(OBJMAX_RANGE(this->aIndexFinal1) && OBJMAX_RANGE(this->aIndexFinal2))

  042e2	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  042e5	83 78 38 00	 cmp	 DWORD PTR [eax+56], 0
  042e9	7d 09		 jge	 SHORT $LN14@ReturnPlay
  042eb	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv79[ebp], 0
  042f2	eb 12		 jmp	 SHORT $LN15@ReturnPlay
$LN14@ReturnPlay:
  042f4	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  042f7	33 d2		 xor	 edx, edx
  042f9	81 79 38 97 3a
	00 00		 cmp	 DWORD PTR [ecx+56], 14999 ; 00003a97H
  04300	0f 9e c2	 setle	 dl
  04303	89 55 b0	 mov	 DWORD PTR tv79[ebp], edx
$LN15@ReturnPlay:
  04306	83 7d b0 00	 cmp	 DWORD PTR tv79[ebp], 0
  0430a	0f 84 b6 01 00
	00		 je	 $LN12@ReturnPlay
  04310	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  04313	83 78 3c 00	 cmp	 DWORD PTR [eax+60], 0
  04317	7d 09		 jge	 SHORT $LN16@ReturnPlay
  04319	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv86[ebp], 0
  04320	eb 12		 jmp	 SHORT $LN17@ReturnPlay
$LN16@ReturnPlay:
  04322	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  04325	33 d2		 xor	 edx, edx
  04327	81 79 3c 97 3a
	00 00		 cmp	 DWORD PTR [ecx+60], 14999 ; 00003a97H
  0432e	0f 9e c2	 setle	 dl
  04331	89 55 b0	 mov	 DWORD PTR tv86[ebp], edx
$LN17@ReturnPlay:
  04334	83 7d b0 00	 cmp	 DWORD PTR tv86[ebp], 0
  04338	0f 84 88 01 00
	00		 je	 $LN12@ReturnPlay

; 2029 : 		{
; 2030 : 			LPOBJ lpUser1 = &gObj[this->aIndexFinal1];

  0433e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  04341	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  04344	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0434a	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04350	89 4d f8	 mov	 DWORD PTR _lpUser1$231155[ebp], ecx

; 2031 : 			LPOBJ lpUser2 = &gObj[this->aIndexFinal2];

  04353	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  04356	8b 48 3c	 mov	 ecx, DWORD PTR [eax+60]
  04359	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  0435f	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  04365	89 4d f4	 mov	 DWORD PTR _lpUser2$231156[ebp], ecx

; 2032 : 
; 2033 : 			if(!(lpUser1->MapNumber == this->m_EventMapNumber && lpUser1->X >= 9 && lpUser1->X <= 22 && lpUser1->Y >= 152 && lpUser1->Y <= 165))

  04368	8b 45 f8	 mov	 eax, DWORD PTR _lpUser1$231155[ebp]
  0436b	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  04372	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  04375	3b 4a 78	 cmp	 ecx, DWORD PTR [edx+120]
  04378	75 42		 jne	 SHORT $LN7@ReturnPlay
  0437a	8b 45 f8	 mov	 eax, DWORD PTR _lpUser1$231155[ebp]
  0437d	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  04384	83 f9 09	 cmp	 ecx, 9
  04387	7c 33		 jl	 SHORT $LN7@ReturnPlay
  04389	8b 45 f8	 mov	 eax, DWORD PTR _lpUser1$231155[ebp]
  0438c	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  04393	83 f9 16	 cmp	 ecx, 22			; 00000016H
  04396	7f 24		 jg	 SHORT $LN7@ReturnPlay
  04398	8b 45 f8	 mov	 eax, DWORD PTR _lpUser1$231155[ebp]
  0439b	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  043a2	81 f9 98 00 00
	00		 cmp	 ecx, 152		; 00000098H
  043a8	7c 12		 jl	 SHORT $LN7@ReturnPlay
  043aa	8b 45 f8	 mov	 eax, DWORD PTR _lpUser1$231155[ebp]
  043ad	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  043b4	81 f9 a5 00 00
	00		 cmp	 ecx, 165		; 000000a5H
  043ba	7e 51		 jle	 SHORT $LN8@ReturnPlay
$LN7@ReturnPlay:

; 2034 : 			{
; 2035 : 				this->iTickFinal1++;

  043bc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  043bf	8b 48 30	 mov	 ecx, DWORD PTR [eax+48]
  043c2	83 c1 01	 add	 ecx, 1
  043c5	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  043c8	89 4a 30	 mov	 DWORD PTR [edx+48], ecx

; 2036 : 
; 2037 : 				if(this->iTickFinal1 >= 10 * 20)

  043cb	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  043ce	81 78 30 c8 00
	00 00		 cmp	 DWORD PTR [eax+48], 200	; 000000c8H
  043d5	7c 34		 jl	 SHORT $LN6@ReturnPlay

; 2038 : 				{
; 2039 : 					gObjTeleport(this->aIndexFinal1, this->m_EventMapNumber, this->m_EventStage2KillX, this->m_EventStage2KillY);

  043d7	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  043da	8b 88 98 00 00
	00		 mov	 ecx, DWORD PTR [eax+152]
  043e0	51		 push	 ecx
  043e1	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  043e4	8b 82 94 00 00
	00		 mov	 eax, DWORD PTR [edx+148]
  043ea	50		 push	 eax
  043eb	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  043ee	8b 51 78	 mov	 edx, DWORD PTR [ecx+120]
  043f1	52		 push	 edx
  043f2	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  043f5	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  043f8	51		 push	 ecx
  043f9	e8 00 00 00 00	 call	 ?gObjTeleport@@YAXHHHH@Z ; gObjTeleport
  043fe	83 c4 10	 add	 esp, 16			; 00000010H

; 2040 : 
; 2041 : 					this->iTickFinal1 = 0;

  04401	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  04404	c7 40 30 00 00
	00 00		 mov	 DWORD PTR [eax+48], 0
$LN6@ReturnPlay:

; 2042 : 				}
; 2043 : 			}
; 2044 : 			else

  0440b	eb 0a		 jmp	 SHORT $LN5@ReturnPlay
$LN8@ReturnPlay:

; 2045 : 			{
; 2046 : 				this->iTickFinal1 = 0;

  0440d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  04410	c7 40 30 00 00
	00 00		 mov	 DWORD PTR [eax+48], 0
$LN5@ReturnPlay:

; 2047 : 			}
; 2048 : 
; 2049 : 			if(!(lpUser2->MapNumber == this->m_EventMapNumber && lpUser2->X >= 9 && lpUser2->X <= 22 && lpUser2->Y >= 152 && lpUser2->Y <= 165))

  04417	8b 45 f4	 mov	 eax, DWORD PTR _lpUser2$231156[ebp]
  0441a	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  04421	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  04424	3b 4a 78	 cmp	 ecx, DWORD PTR [edx+120]
  04427	75 42		 jne	 SHORT $LN3@ReturnPlay
  04429	8b 45 f4	 mov	 eax, DWORD PTR _lpUser2$231156[ebp]
  0442c	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  04433	83 f9 09	 cmp	 ecx, 9
  04436	7c 33		 jl	 SHORT $LN3@ReturnPlay
  04438	8b 45 f4	 mov	 eax, DWORD PTR _lpUser2$231156[ebp]
  0443b	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  04442	83 f9 16	 cmp	 ecx, 22			; 00000016H
  04445	7f 24		 jg	 SHORT $LN3@ReturnPlay
  04447	8b 45 f4	 mov	 eax, DWORD PTR _lpUser2$231156[ebp]
  0444a	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  04451	81 f9 98 00 00
	00		 cmp	 ecx, 152		; 00000098H
  04457	7c 12		 jl	 SHORT $LN3@ReturnPlay
  04459	8b 45 f4	 mov	 eax, DWORD PTR _lpUser2$231156[ebp]
  0445c	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  04463	81 f9 a5 00 00
	00		 cmp	 ecx, 165		; 000000a5H
  04469	7e 51		 jle	 SHORT $LN4@ReturnPlay
$LN3@ReturnPlay:

; 2050 : 			{
; 2051 : 				this->iTickFinal2++;

  0446b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0446e	8b 48 34	 mov	 ecx, DWORD PTR [eax+52]
  04471	83 c1 01	 add	 ecx, 1
  04474	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  04477	89 4a 34	 mov	 DWORD PTR [edx+52], ecx

; 2052 : 
; 2053 : 				if(this->iTickFinal2 >= 10 * 20)

  0447a	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0447d	81 78 34 c8 00
	00 00		 cmp	 DWORD PTR [eax+52], 200	; 000000c8H
  04484	7c 34		 jl	 SHORT $LN2@ReturnPlay

; 2054 : 				{
; 2055 : 					gObjTeleport(this->aIndexFinal2, this->m_EventMapNumber, this->m_EventStage2KillX, this->m_EventStage2KillY);

  04486	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  04489	8b 88 98 00 00
	00		 mov	 ecx, DWORD PTR [eax+152]
  0448f	51		 push	 ecx
  04490	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  04493	8b 82 94 00 00
	00		 mov	 eax, DWORD PTR [edx+148]
  04499	50		 push	 eax
  0449a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0449d	8b 51 78	 mov	 edx, DWORD PTR [ecx+120]
  044a0	52		 push	 edx
  044a1	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  044a4	8b 48 3c	 mov	 ecx, DWORD PTR [eax+60]
  044a7	51		 push	 ecx
  044a8	e8 00 00 00 00	 call	 ?gObjTeleport@@YAXHHHH@Z ; gObjTeleport
  044ad	83 c4 10	 add	 esp, 16			; 00000010H

; 2056 : 
; 2057 : 					this->iTickFinal2 = 0;

  044b0	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  044b3	c7 40 34 00 00
	00 00		 mov	 DWORD PTR [eax+52], 0
$LN2@ReturnPlay:

; 2058 : 				}
; 2059 : 			}
; 2060 : 			else

  044ba	eb 0a		 jmp	 SHORT $LN12@ReturnPlay
$LN4@ReturnPlay:

; 2061 : 			{
; 2062 : 				this->iTickFinal2 = 0;

  044bc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  044bf	c7 40 34 00 00
	00 00		 mov	 DWORD PTR [eax+52], 0
$LN12@ReturnPlay:

; 2063 : 			}
; 2064 : 		}
; 2065 : 	}
; 2066 : }

  044c6	5f		 pop	 edi
  044c7	5e		 pop	 esi
  044c8	5b		 pop	 ebx
  044c9	8b e5		 mov	 esp, ebp
  044cb	5d		 pop	 ebp
  044cc	c3		 ret	 0
?ReturnPlayerRing@CDungeonSiege@@QAEXXZ ENDP		; CDungeonSiege::ReturnPlayerRing
_TEXT	ENDS
EXTRN	_atexit:PROC
; Function compile flags: /Odtp /ZI
;	COMDAT ??__Eg_DungeonSiege@@YAXXZ
text$yc	SEGMENT
??__Eg_DungeonSiege@@YAXXZ PROC				; `dynamic initializer for 'g_DungeonSiege'', COMDAT

; 15   : CDungeonSiege g_DungeonSiege;

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DungeonSiege@@3VCDungeonSiege@@A ; g_DungeonSiege
  0000e	e8 00 00 00 00	 call	 ??0CDungeonSiege@@QAE@XZ ; CDungeonSiege::CDungeonSiege
  00013	68 00 00 00 00	 push	 OFFSET ??__Fg_DungeonSiege@@YAXXZ ; `dynamic atexit destructor for 'g_DungeonSiege''
  00018	e8 00 00 00 00	 call	 _atexit
  0001d	83 c4 04	 add	 esp, 4
  00020	5f		 pop	 edi
  00021	5e		 pop	 esi
  00022	5b		 pop	 ebx
  00023	8b e5		 mov	 esp, ebp
  00025	5d		 pop	 ebp
  00026	c3		 ret	 0
??__Eg_DungeonSiege@@YAXXZ ENDP				; `dynamic initializer for 'g_DungeonSiege''
; Function compile flags: /Odtp /ZI
text$yc	ENDS
;	COMDAT ??__Fg_DungeonSiege@@YAXXZ
text$yd	SEGMENT
??__Fg_DungeonSiege@@YAXXZ PROC				; `dynamic atexit destructor for 'g_DungeonSiege'', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DungeonSiege@@3VCDungeonSiege@@A ; g_DungeonSiege
  0000e	e8 00 00 00 00	 call	 ??1CDungeonSiege@@QAE@XZ ; CDungeonSiege::~CDungeonSiege
  00013	5f		 pop	 edi
  00014	5e		 pop	 esi
  00015	5b		 pop	 ebx
  00016	8b e5		 mov	 esp, ebp
  00018	5d		 pop	 ebp
  00019	c3		 ret	 0
??__Fg_DungeonSiege@@YAXXZ ENDP				; `dynamic atexit destructor for 'g_DungeonSiege''
text$yd	ENDS
PUBLIC	?g_DungeonSiege@@3VCDungeonSiege@@A		; g_DungeonSiege
_BSS	SEGMENT
?g_DungeonSiege@@3VCDungeonSiege@@A DB 0170H DUP (?)	; g_DungeonSiege
_BSS	ENDS
CRT$XCU	SEGMENT
_g_DungeonSiege$initializer$ DD FLAT:??__Eg_DungeonSiege@@YAXXZ
CRT$XCU	ENDS
END
