; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\wsShopServerCli.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??_7wsShopServerCli@@6B@			; wsShopServerCli::`vftable'
PUBLIC	??0wsShopServerCli@@QAE@XZ			; wsShopServerCli::wsShopServerCli
PUBLIC	??_R4wsShopServerCli@@6B@			; wsShopServerCli::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVwsShopServerCli@@@8			; wsShopServerCli `RTTI Type Descriptor'
PUBLIC	??_R3wsShopServerCli@@8				; wsShopServerCli::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2wsShopServerCli@@8				; wsShopServerCli::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@wsShopServerCli@@8		; wsShopServerCli::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R13?0A@EA@MyWinsockBase@@8			; MyWinsockBase::`RTTI Base Class Descriptor at (4,-1,0,64)'
PUBLIC	??_R0?AVMyWinsockBase@@@8			; MyWinsockBase `RTTI Type Descriptor'
PUBLIC	??_R3MyWinsockBase@@8				; MyWinsockBase::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2MyWinsockBase@@8				; MyWinsockBase::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@MyWinsockBase@@8			; MyWinsockBase::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??0MyWinsockBase@@QAE@XZ:PROC			; MyWinsockBase::MyWinsockBase
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	??_EwsShopServerCli@@UAEPAXI@Z:PROC		; wsShopServerCli::`vector deleting destructor'
;	COMDAT ??_R1A@?0A@EA@MyWinsockBase@@8
; File d:\projects\exteam6.3\source\gameserver\gameserver\wsshopservercli.cpp
rdata$r	SEGMENT
??_R1A@?0A@EA@MyWinsockBase@@8 DD FLAT:??_R0?AVMyWinsockBase@@@8 ; MyWinsockBase::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3MyWinsockBase@@8
rdata$r	ENDS
;	COMDAT ??_R2MyWinsockBase@@8
rdata$r	SEGMENT
??_R2MyWinsockBase@@8 DD FLAT:??_R1A@?0A@EA@MyWinsockBase@@8 ; MyWinsockBase::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3MyWinsockBase@@8
rdata$r	SEGMENT
??_R3MyWinsockBase@@8 DD 00H				; MyWinsockBase::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2MyWinsockBase@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVMyWinsockBase@@@8
_DATA	SEGMENT
??_R0?AVMyWinsockBase@@@8 DD FLAT:??_7type_info@@6B@	; MyWinsockBase `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVMyWinsockBase@@', 00H
_DATA	ENDS
;	COMDAT ??_R13?0A@EA@MyWinsockBase@@8
rdata$r	SEGMENT
??_R13?0A@EA@MyWinsockBase@@8 DD FLAT:??_R0?AVMyWinsockBase@@@8 ; MyWinsockBase::`RTTI Base Class Descriptor at (4,-1,0,64)'
	DD	00H
	DD	04H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3MyWinsockBase@@8
rdata$r	ENDS
;	COMDAT ??_R1A@?0A@EA@wsShopServerCli@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@wsShopServerCli@@8 DD FLAT:??_R0?AVwsShopServerCli@@@8 ; wsShopServerCli::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	01H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3wsShopServerCli@@8
rdata$r	ENDS
;	COMDAT ??_R2wsShopServerCli@@8
rdata$r	SEGMENT
??_R2wsShopServerCli@@8 DD FLAT:??_R1A@?0A@EA@wsShopServerCli@@8 ; wsShopServerCli::`RTTI Base Class Array'
	DD	FLAT:??_R13?0A@EA@MyWinsockBase@@8
rdata$r	ENDS
;	COMDAT ??_R3wsShopServerCli@@8
rdata$r	SEGMENT
??_R3wsShopServerCli@@8 DD 00H				; wsShopServerCli::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	02H
	DD	FLAT:??_R2wsShopServerCli@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVwsShopServerCli@@@8
_DATA	SEGMENT
??_R0?AVwsShopServerCli@@@8 DD FLAT:??_7type_info@@6B@	; wsShopServerCli `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVwsShopServerCli@@', 00H
_DATA	ENDS
;	COMDAT ??_R4wsShopServerCli@@6B@
rdata$r	SEGMENT
??_R4wsShopServerCli@@6B@ DD 00H			; wsShopServerCli::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVwsShopServerCli@@@8
	DD	FLAT:??_R3wsShopServerCli@@8
rdata$r	ENDS
;	COMDAT ??_7wsShopServerCli@@6B@
CONST	SEGMENT
??_7wsShopServerCli@@6B@ DD FLAT:??_R4wsShopServerCli@@6B@ ; wsShopServerCli::`vftable'
	DD	FLAT:??_EwsShopServerCli@@UAEPAXI@Z
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0wsShopServerCli@@QAE@XZ PROC				; wsShopServerCli::wsShopServerCli
; _this$ = ecx

; 16   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	83 c1 04	 add	 ecx, 4
  00012	e8 00 00 00 00	 call	 ??0MyWinsockBase@@QAE@XZ ; MyWinsockBase::MyWinsockBase
  00017	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001a	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7wsShopServerCli@@6B@

; 17   : 	return;
; 18   : }

  00020	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00023	5f		 pop	 edi
  00024	5e		 pop	 esi
  00025	5b		 pop	 ebx
  00026	8b e5		 mov	 esp, ebp
  00028	5d		 pop	 ebp
  00029	c3		 ret	 0
??0wsShopServerCli@@QAE@XZ ENDP				; wsShopServerCli::wsShopServerCli
_TEXT	ENDS
PUBLIC	??1wsShopServerCli@@UAE@XZ			; wsShopServerCli::~wsShopServerCli
EXTRN	??3@YAXPAX@Z:PROC				; operator delete
; Function compile flags: /Odtp /ZI
;	COMDAT ??_GwsShopServerCli@@UAEPAXI@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___flags$ = 8						; size = 4
??_GwsShopServerCli@@UAEPAXI@Z PROC			; wsShopServerCli::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ??1wsShopServerCli@@UAE@XZ ; wsShopServerCli::~wsShopServerCli
  00014	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00017	83 e0 01	 and	 eax, 1
  0001a	74 0c		 je	 SHORT $LN1@scalar
  0001c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001f	50		 push	 eax
  00020	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00025	83 c4 04	 add	 esp, 4
$LN1@scalar:
  00028	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002b	5f		 pop	 edi
  0002c	5e		 pop	 esi
  0002d	5b		 pop	 ebx
  0002e	8b e5		 mov	 esp, ebp
  00030	5d		 pop	 ebp
  00031	c2 04 00	 ret	 4
??_GwsShopServerCli@@UAEPAXI@Z ENDP			; wsShopServerCli::`scalar deleting destructor'
_TEXT	ENDS
EXTRN	??1MyWinsockBase@@QAE@XZ:PROC			; MyWinsockBase::~MyWinsockBase
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
??1wsShopServerCli@@UAE@XZ PROC				; wsShopServerCli::~wsShopServerCli
; _this$ = ecx

; 21   : {

  00030	55		 push	 ebp
  00031	8b ec		 mov	 ebp, esp
  00033	83 ec 44	 sub	 esp, 68			; 00000044H
  00036	53		 push	 ebx
  00037	56		 push	 esi
  00038	57		 push	 edi
  00039	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0003c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0003f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7wsShopServerCli@@6B@

; 22   : 	return;
; 23   : }

  00045	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00048	83 c1 04	 add	 ecx, 4
  0004b	e8 00 00 00 00	 call	 ??1MyWinsockBase@@QAE@XZ ; MyWinsockBase::~MyWinsockBase
  00050	5f		 pop	 edi
  00051	5e		 pop	 esi
  00052	5b		 pop	 ebx
  00053	8b e5		 mov	 esp, ebp
  00055	5d		 pop	 ebp
  00056	c3		 ret	 0
??1wsShopServerCli@@UAE@XZ ENDP				; wsShopServerCli::~wsShopServerCli
_TEXT	ENDS
PUBLIC	?SetProtocolCore@wsShopServerCli@@QAEHP6AXKPAEH@Z@Z ; wsShopServerCli::SetProtocolCore
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_this$ = -4						; size = 4
_pc$ = 8						; size = 4
?SetProtocolCore@wsShopServerCli@@QAEHP6AXKPAEH@Z@Z PROC ; wsShopServerCli::SetProtocolCore
; _this$ = ecx

; 28   : {

  00060	55		 push	 ebp
  00061	8b ec		 mov	 ebp, esp
  00063	83 ec 44	 sub	 esp, 68			; 00000044H
  00066	53		 push	 ebx
  00067	56		 push	 esi
  00068	57		 push	 edi
  00069	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 29   : 	this->wsProtocolCore = pc;

  0006c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0006f	8b 4d 08	 mov	 ecx, DWORD PTR _pc$[ebp]
  00072	89 88 24 00 19
	00		 mov	 DWORD PTR [eax+1638436], ecx

; 30   : 	return TRUE;

  00078	b8 01 00 00 00	 mov	 eax, 1

; 31   : }

  0007d	5f		 pop	 edi
  0007e	5e		 pop	 esi
  0007f	5b		 pop	 ebx
  00080	8b e5		 mov	 esp, ebp
  00082	5d		 pop	 ebp
  00083	c2 04 00	 ret	 4
?SetProtocolCore@wsShopServerCli@@QAEHP6AXKPAEH@Z@Z ENDP ; wsShopServerCli::SetProtocolCore
_TEXT	ENDS
PUBLIC	??_C@_0BP@DJPBKKNL@Client?5WSAAsyncSelect?5error?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0BL@INMHEGJC@server?5name?5not?5found?5?$FL?$CFs?$FN?$AA@ ; `string'
PUBLIC	??_C@_0BF@CPKGJHBM@?5Connect?5Error?5?$CFs?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0EH@MPFJJCNP@d?3?2projects?2exteam6?43?2source?2gam@ ; `string'
PUBLIC	?__LINE__Var@?1??Connect@wsShopServerCli@@QAEHPADGK@Z@4JA ; `wsShopServerCli::Connect'::`2'::__LINE__Var
PUBLIC	__$ArrayPad$
PUBLIC	?Connect@wsShopServerCli@@QAEHPADGK@Z		; wsShopServerCli::Connect
EXTRN	?SetConnect@MyWinsockBase@@QAEXH@Z:PROC		; MyWinsockBase::SetConnect
EXTRN	__imp__closesocket@4:PROC
EXTRN	__imp__WSAAsyncSelect@16:PROC
EXTRN	?Close@MyWinsockBase@@QAEHI@Z:PROC		; MyWinsockBase::Close
EXTRN	__imp__WSAGetLastError@0:PROC
EXTRN	__imp__connect@12:PROC
EXTRN	_memcpy:PROC
EXTRN	__imp__gethostbyname@4:PROC
EXTRN	__imp__inet_addr@4:PROC
EXTRN	__imp__htons@4:PROC
EXTRN	?LogAdd@@3P6AXPADZZA:DWORD			; LogAdd
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
;	COMDAT ??_C@_0BP@DJPBKKNL@Client?5WSAAsyncSelect?5error?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BP@DJPBKKNL@Client?5WSAAsyncSelect?5error?5?$CFd?$AA@ DB 'Client W'
	DB	'SAAsyncSelect error %d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BL@INMHEGJC@server?5name?5not?5found?5?$FL?$CFs?$FN?$AA@
CONST	SEGMENT
??_C@_0BL@INMHEGJC@server?5name?5not?5found?5?$FL?$CFs?$FN?$AA@ DB 'serve'
	DB	'r name not found [%s]', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@CPKGJHBM@?5Connect?5Error?5?$CFs?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BF@CPKGJHBM@?5Connect?5Error?5?$CFs?5?$CFd?$AA@ DB ' Connect Error'
	DB	' %s %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0EH@MPFJJCNP@d?3?2projects?2exteam6?43?2source?2gam@
CONST	SEGMENT
??_C@_0EH@MPFJJCNP@d?3?2projects?2exteam6?43?2source?2gam@ DB 'd:\project'
	DB	's\exteam6.3\source\gameserver\gameserver\wsshopservercli.cpp', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??Connect@wsShopServerCli@@QAEHPADGK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??Connect@wsShopServerCli@@QAEHPADGK@Z@4JA DD 023H ; `wsShopServerCli::Connect'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_nResult$ = -32						; size = 4
_addr$ = -28						; size = 16
_host$ = -12						; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_ip_addr$ = 8						; size = 4
_port$ = 12						; size = 2
_WinMsgNum$ = 16					; size = 4
?Connect@wsShopServerCli@@QAEHPADGK@Z PROC		; wsShopServerCli::Connect
; _this$ = ecx

; 35   : {

  00090	55		 push	 ebp
  00091	8b ec		 mov	 ebp, esp
  00093	83 ec 60	 sub	 esp, 96			; 00000060H
  00096	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0009b	33 c5		 xor	 eax, ebp
  0009d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  000a0	53		 push	 ebx
  000a1	56		 push	 esi
  000a2	57		 push	 edi
  000a3	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 36   : 	hostent* host = NULL;

  000a6	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _host$[ebp], 0

; 37   : 	sockaddr_in addr;
; 38   : 	int nResult;
; 39   : 
; 40   : 	if ( this->m_hWnd == NULL )

  000ad	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000b0	83 78 08 00	 cmp	 DWORD PTR [eax+8], 0
  000b4	75 23		 jne	 SHORT $LN6@Connect

; 41   : 	{
; 42   : 		LogAdd(" Connect Error %s %d", __FILE__, __LINE__);

  000b6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??Connect@wsShopServerCli@@QAEHPADGK@Z@4JA
  000bb	83 c0 07	 add	 eax, 7
  000be	50		 push	 eax
  000bf	68 00 00 00 00	 push	 OFFSET ??_C@_0EH@MPFJJCNP@d?3?2projects?2exteam6?43?2source?2gam@
  000c4	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@CPKGJHBM@?5Connect?5Error?5?$CFs?5?$CFd?$AA@
  000c9	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  000cf	83 c4 0c	 add	 esp, 12			; 0000000cH

; 43   : 		return FALSE;

  000d2	33 c0		 xor	 eax, eax
  000d4	e9 1b 01 00 00	 jmp	 $LN7@Connect
$LN6@Connect:

; 44   : 	}
; 45   : 
; 46   : 	addr.sin_family = AF_INET;

  000d9	b8 02 00 00 00	 mov	 eax, 2
  000de	66 89 45 e4	 mov	 WORD PTR _addr$[ebp], ax

; 47   : 	addr.sin_port =  htons(port);//Season 4.5 changed

  000e2	0f b7 45 0c	 movzx	 eax, WORD PTR _port$[ebp]
  000e6	50		 push	 eax
  000e7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__htons@4
  000ed	66 89 45 e6	 mov	 WORD PTR _addr$[ebp+2], ax

; 48   : 	addr.sin_addr.S_un.S_addr = inet_addr(ip_addr);

  000f1	8b 45 08	 mov	 eax, DWORD PTR _ip_addr$[ebp]
  000f4	50		 push	 eax
  000f5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__inet_addr@4
  000fb	89 45 e8	 mov	 DWORD PTR _addr$[ebp+4], eax

; 49   : 
; 50   : 	if ( addr.sin_addr.S_un.S_addr == -1 )

  000fe	83 7d e8 ff	 cmp	 DWORD PTR _addr$[ebp+4], -1
  00102	75 49		 jne	 SHORT $LN5@Connect

; 51   : 	{
; 52   : 		host = gethostbyname(ip_addr);

  00104	8b 45 08	 mov	 eax, DWORD PTR _ip_addr$[ebp]
  00107	50		 push	 eax
  00108	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__gethostbyname@4
  0010e	89 45 f4	 mov	 DWORD PTR _host$[ebp], eax

; 53   : 		if ( host == 0 )

  00111	83 7d f4 00	 cmp	 DWORD PTR _host$[ebp], 0
  00115	75 19		 jne	 SHORT $LN4@Connect

; 54   : 		{
; 55   : 			LogAdd("server name not found [%s]", ip_addr);

  00117	8b 45 08	 mov	 eax, DWORD PTR _ip_addr$[ebp]
  0011a	50		 push	 eax
  0011b	68 00 00 00 00	 push	 OFFSET ??_C@_0BL@INMHEGJC@server?5name?5not?5found?5?$FL?$CFs?$FN?$AA@
  00120	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00126	83 c4 08	 add	 esp, 8

; 56   : 			return FALSE;

  00129	33 c0		 xor	 eax, eax
  0012b	e9 c4 00 00 00	 jmp	 $LN7@Connect
$LN4@Connect:

; 57   : 		}
; 58   : 
; 59   : 		memcpy(&addr.sin_addr.S_un.S_addr, *host->h_addr_list  , host->h_length  );	

  00130	8b 45 f4	 mov	 eax, DWORD PTR _host$[ebp]
  00133	0f bf 48 0a	 movsx	 ecx, WORD PTR [eax+10]
  00137	51		 push	 ecx
  00138	8b 55 f4	 mov	 edx, DWORD PTR _host$[ebp]
  0013b	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  0013e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00140	51		 push	 ecx
  00141	8d 55 e8	 lea	 edx, DWORD PTR _addr$[ebp+4]
  00144	52		 push	 edx
  00145	e8 00 00 00 00	 call	 _memcpy
  0014a	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN5@Connect:

; 60   : 	}
; 61   : 
; 62   : 	nResult=connect(this->m_socket, (sockaddr*)&addr, 16);

  0014d	6a 10		 push	 16			; 00000010H
  0014f	8d 45 e4	 lea	 eax, DWORD PTR _addr$[ebp]
  00152	50		 push	 eax
  00153	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00156	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  00159	52		 push	 edx
  0015a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__connect@12
  00160	89 45 e0	 mov	 DWORD PTR _nResult$[ebp], eax

; 63   : 
; 64   : 	if (nResult== -1)

  00163	83 7d e0 ff	 cmp	 DWORD PTR _nResult$[ebp], -1
  00167	75 23		 jne	 SHORT $LN3@Connect

; 65   : 	{
; 66   : 		if ( WSAGetLastError() != WSAEWOULDBLOCK)

  00169	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  0016f	3d 33 27 00 00	 cmp	 eax, 10035		; 00002733H
  00174	74 16		 je	 SHORT $LN3@Connect

; 67   : 		{
; 68   : 			this->Close(this->m_socket );

  00176	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00179	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0017c	51		 push	 ecx
  0017d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00180	83 c1 04	 add	 ecx, 4
  00183	e8 00 00 00 00	 call	 ?Close@MyWinsockBase@@QAEHI@Z ; MyWinsockBase::Close

; 69   : 			return FALSE;

  00188	33 c0		 xor	 eax, eax
  0018a	eb 68		 jmp	 SHORT $LN7@Connect
$LN3@Connect:

; 70   : 		}
; 71   : 	}
; 72   : 
; 73   : 	nResult=WSAAsyncSelect(this->m_socket, this->m_hWnd , WinMsgNum, FD_READ|FD_WRITE|FD_CLOSE);

  0018c	6a 23		 push	 35			; 00000023H
  0018e	8b 45 10	 mov	 eax, DWORD PTR _WinMsgNum$[ebp]
  00191	50		 push	 eax
  00192	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00195	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00198	52		 push	 edx
  00199	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0019c	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0019f	51		 push	 ecx
  001a0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAAsyncSelect@16
  001a6	89 45 e0	 mov	 DWORD PTR _nResult$[ebp], eax

; 74   : 
; 75   : 	if ( nResult == -1 )

  001a9	83 7d e0 ff	 cmp	 DWORD PTR _nResult$[ebp], -1
  001ad	75 26		 jne	 SHORT $LN1@Connect

; 76   : 	{
; 77   : 		closesocket(this->m_socket );

  001af	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001b2	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  001b5	51		 push	 ecx
  001b6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__closesocket@4

; 78   : 		LogAdd("Client WSAAsyncSelect error %d", WSAGetLastError());

  001bc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  001c2	50		 push	 eax
  001c3	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@DJPBKKNL@Client?5WSAAsyncSelect?5error?5?$CFd?$AA@
  001c8	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  001ce	83 c4 08	 add	 esp, 8

; 79   : 		return FALSE;

  001d1	33 c0		 xor	 eax, eax
  001d3	eb 1f		 jmp	 SHORT $LN7@Connect
$LN1@Connect:

; 80   : 	}
; 81   : 	this->m_SendBufLen=0;

  001d5	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001d8	c7 80 1c 80 0c
	00 00 00 00 00	 mov	 DWORD PTR [eax+819228], 0

; 82   : 	this->SetConnect(TRUE);

  001e2	6a 01		 push	 1
  001e4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001e7	83 c1 04	 add	 ecx, 4
  001ea	e8 00 00 00 00	 call	 ?SetConnect@MyWinsockBase@@QAEXH@Z ; MyWinsockBase::SetConnect

; 83   : 
; 84   : 	return TRUE;

  001ef	b8 01 00 00 00	 mov	 eax, 1
$LN7@Connect:

; 85   : }

  001f4	5f		 pop	 edi
  001f5	5e		 pop	 esi
  001f6	5b		 pop	 ebx
  001f7	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001fa	33 cd		 xor	 ecx, ebp
  001fc	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00201	8b e5		 mov	 esp, ebp
  00203	5d		 pop	 ebp
  00204	c2 0c 00	 ret	 12			; 0000000cH
?Connect@wsShopServerCli@@QAEHPADGK@Z ENDP		; wsShopServerCli::Connect
_TEXT	ENDS
PUBLIC	??_C@_0CC@HECGJOBH@error?9L3?5?3?5send?$CI?$CJ?5?5result?5is?5zer@ ; `string'
PUBLIC	??_C@_0CK@NAOKACP@error?9L3?5?3?5Copy1?5?3?5nLeft?3?$CFd?5len?3@ ; `string'
PUBLIC	??_C@_0CG@DMMIJENA@error?9L3?5?3?5buffer?5error?5closed?5?$CF@ ; `string'
PUBLIC	??_C@_0BG@DJOPGDCB@error?9L3?5?3?5?$CFd?5?$CI?$CFs?5?$CFd?$CJ?$AA@ ; `string'
PUBLIC	?__LINE__Var@?1??DataSend@wsShopServerCli@@QAEHPADH@Z@4JA ; `wsShopServerCli::DataSend'::`2'::__LINE__Var
PUBLIC	?DataSend@wsShopServerCli@@QAEHPADH@Z		; wsShopServerCli::DataSend
EXTRN	?LogAddC@@3P6AXEPADZZA:DWORD			; LogAddC
EXTRN	__imp__send@16:PROC
EXTRN	?Close@MyWinsockBase@@QAEHXZ:PROC		; MyWinsockBase::Close
;	COMDAT ??_C@_0CC@HECGJOBH@error?9L3?5?3?5send?$CI?$CJ?5?5result?5is?5zer@
CONST	SEGMENT
??_C@_0CC@HECGJOBH@error?9L3?5?3?5send?$CI?$CJ?5?5result?5is?5zer@ DB 'er'
	DB	'ror-L3 : send()  result is zero', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CK@NAOKACP@error?9L3?5?3?5Copy1?5?3?5nLeft?3?$CFd?5len?3@
CONST	SEGMENT
??_C@_0CK@NAOKACP@error?9L3?5?3?5Copy1?5?3?5nLeft?3?$CFd?5len?3@ DB 'erro'
	DB	'r-L3 : Copy1 : nLeft:%d len:%d nDx:%d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CG@DMMIJENA@error?9L3?5?3?5buffer?5error?5closed?5?$CF@
CONST	SEGMENT
??_C@_0CG@DMMIJENA@error?9L3?5?3?5buffer?5error?5closed?5?$CF@ DB 'error-'
	DB	'L3 : buffer error closed %d, %d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@DJOPGDCB@error?9L3?5?3?5?$CFd?5?$CI?$CFs?5?$CFd?$CJ?$AA@
CONST	SEGMENT
??_C@_0BG@DJOPGDCB@error?9L3?5?3?5?$CFd?5?$CI?$CFs?5?$CFd?$CJ?$AA@ DB 'er'
	DB	'ror-L3 : %d (%s %d)', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??DataSend@wsShopServerCli@@QAEHPADH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??DataSend@wsShopServerCli@@QAEHPADH@Z@4JA DD 05bH ; `wsShopServerCli::DataSend'::`2'::__LINE__Var
; Function compile flags: /Odtp /ZI
_DATA	ENDS
_TEXT	SEGMENT
_sendbuflen$ = -24					; size = 4
_sendbuf$ = -20						; size = 4
_nDx$ = -16						; size = 4
_nLeft$ = -12						; size = 4
_nResult$ = -8						; size = 4
_this$ = -4						; size = 4
_buf$ = 8						; size = 4
_len$ = 12						; size = 4
?DataSend@wsShopServerCli@@QAEHPADH@Z PROC		; wsShopServerCli::DataSend
; _this$ = ecx

; 91   : {

  00210	55		 push	 ebp
  00211	8b ec		 mov	 ebp, esp
  00213	83 ec 58	 sub	 esp, 88			; 00000058H
  00216	53		 push	 ebx
  00217	56		 push	 esi
  00218	57		 push	 edi
  00219	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 92   : 	int nResult;
; 93   : 	int nLeft;
; 94   : 	int nDx;
; 95   : 	LPBYTE sendbuf;
; 96   : 	int* sendbuflen;
; 97   : 	
; 98   : 	if ( len <= 0 )

  0021c	83 7d 0c 00	 cmp	 DWORD PTR _len$[ebp], 0
  00220	7f 07		 jg	 SHORT $LN14@DataSend

; 99   : 	{
; 100  : 		return 0;

  00222	33 c0		 xor	 eax, eax
  00224	e9 37 02 00 00	 jmp	 $LN15@DataSend
$LN14@DataSend:

; 101  : 	}
; 102  : 
; 103  : 	if ( this->m_socket  == INVALID_SOCKET )

  00229	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0022c	83 78 0c ff	 cmp	 DWORD PTR [eax+12], -1
  00230	75 07		 jne	 SHORT $LN13@DataSend

; 104  : 	{
; 105  : 		return 0;

  00232	33 c0		 xor	 eax, eax
  00234	e9 27 02 00 00	 jmp	 $LN15@DataSend
$LN13@DataSend:

; 106  : 	}
; 107  : 
; 108  : 	nDx = 0;

  00239	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _nDx$[ebp], 0

; 109  : 
; 110  : 	sendbuf = this->m_SendBuf;

  00240	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00243	83 c0 1c	 add	 eax, 28			; 0000001cH
  00246	89 45 ec	 mov	 DWORD PTR _sendbuf$[ebp], eax

; 111  : 	sendbuflen= &len;

  00249	8d 45 0c	 lea	 eax, DWORD PTR _len$[ebp]
  0024c	89 45 e8	 mov	 DWORD PTR _sendbuflen$[ebp], eax

; 112  : 
; 113  : 	if ( this->m_SendBufLen   > 0 )

  0024f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00252	83 b8 1c 80 0c
	00 00		 cmp	 DWORD PTR [eax+819228], 0
  00259	7e 66		 jle	 SHORT $LN12@DataSend

; 114  : 	{
; 115  : 		if ( (this->m_SendBufLen +len) < MAX_WS_BUF_LEN )

  0025b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0025e	8b 88 1c 80 0c
	00		 mov	 ecx, DWORD PTR [eax+819228]
  00264	03 4d 0c	 add	 ecx, DWORD PTR _len$[ebp]
  00267	81 f9 00 80 0c
	00		 cmp	 ecx, 819200		; 000c8000H
  0026d	7d 40		 jge	 SHORT $LN11@DataSend

; 116  : 		{
; 117  : 			memcpy( &this->m_SendBuf[this->m_SendBufLen]  , buf, len);

  0026f	8b 45 0c	 mov	 eax, DWORD PTR _len$[ebp]
  00272	50		 push	 eax
  00273	8b 4d 08	 mov	 ecx, DWORD PTR _buf$[ebp]
  00276	51		 push	 ecx
  00277	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0027a	8b 82 1c 80 0c
	00		 mov	 eax, DWORD PTR [edx+819228]
  00280	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00283	8d 54 01 1c	 lea	 edx, DWORD PTR [ecx+eax+28]
  00287	52		 push	 edx
  00288	e8 00 00 00 00	 call	 _memcpy
  0028d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 118  : 
; 119  : 			this->m_SendBufLen +=len;

  00290	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00293	8b 88 1c 80 0c
	00		 mov	 ecx, DWORD PTR [eax+819228]
  00299	03 4d 0c	 add	 ecx, DWORD PTR _len$[ebp]
  0029c	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0029f	89 8a 1c 80 0c
	00		 mov	 DWORD PTR [edx+819228], ecx

; 120  : 			return 1;

  002a5	b8 01 00 00 00	 mov	 eax, 1
  002aa	e9 b1 01 00 00	 jmp	 $LN15@DataSend
$LN11@DataSend:

; 121  : 		}
; 122  : 		this->Close();

  002af	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  002b2	83 c1 04	 add	 ecx, 4
  002b5	e8 00 00 00 00	 call	 ?Close@MyWinsockBase@@QAEHXZ ; MyWinsockBase::Close

; 123  : 		return FALSE;

  002ba	33 c0		 xor	 eax, eax
  002bc	e9 9f 01 00 00	 jmp	 $LN15@DataSend
$LN12@DataSend:

; 124  : 	}
; 125  : 
; 126  : 	nLeft= *sendbuflen;

  002c1	8b 45 e8	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  002c4	8b 08		 mov	 ecx, DWORD PTR [eax]
  002c6	89 4d f4	 mov	 DWORD PTR _nLeft$[ebp], ecx
$LN10@DataSend:

; 127  : 
; 128  : 	while ( true )

  002c9	b8 01 00 00 00	 mov	 eax, 1
  002ce	85 c0		 test	 eax, eax
  002d0	0f 84 85 01 00
	00		 je	 $LN9@DataSend

; 129  : 	{
; 130  : 		nResult=send(this->m_socket, (char*)&buf[nDx], (*sendbuflen - nDx), 0);

  002d6	6a 00		 push	 0
  002d8	8b 45 e8	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  002db	8b 08		 mov	 ecx, DWORD PTR [eax]
  002dd	2b 4d f0	 sub	 ecx, DWORD PTR _nDx$[ebp]
  002e0	51		 push	 ecx
  002e1	8b 55 08	 mov	 edx, DWORD PTR _buf$[ebp]
  002e4	03 55 f0	 add	 edx, DWORD PTR _nDx$[ebp]
  002e7	52		 push	 edx
  002e8	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  002eb	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  002ee	51		 push	 ecx
  002ef	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__send@16
  002f5	89 45 f8	 mov	 DWORD PTR _nResult$[ebp], eax

; 131  : 
; 132  : 		if ( nResult == -1)

  002f8	83 7d f8 ff	 cmp	 DWORD PTR _nResult$[ebp], -1
  002fc	0f 85 0a 01 00
	00		 jne	 $LN8@DataSend

; 133  : 		{
; 134  : 			if ( WSAGetLastError() != WSAEWOULDBLOCK )

  00302	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  00308	3d 33 27 00 00	 cmp	 eax, 10035		; 00002733H
  0030d	74 45		 je	 SHORT $LN7@DataSend

; 135  : 			{
; 136  : 				LogAdd("error-L3 : %d (%s %d)", WSAGetLastError(), __FILE__, __LINE__);

  0030f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??DataSend@wsShopServerCli@@QAEHPADH@Z@4JA
  00314	83 c0 2d	 add	 eax, 45			; 0000002dH
  00317	50		 push	 eax
  00318	68 00 00 00 00	 push	 OFFSET ??_C@_0EH@MPFJJCNP@d?3?2projects?2exteam6?43?2source?2gam@
  0031d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  00323	50		 push	 eax
  00324	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@DJOPGDCB@error?9L3?5?3?5?$CFd?5?$CI?$CFs?5?$CFd?$CJ?$AA@
  00329	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0032f	83 c4 10	 add	 esp, 16			; 00000010H

; 137  : 				*sendbuflen=0;

  00332	8b 45 e8	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  00335	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 138  : 				this->Close(this->m_socket );

  0033b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0033e	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00341	51		 push	 ecx
  00342	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00345	83 c1 04	 add	 ecx, 4
  00348	e8 00 00 00 00	 call	 ?Close@MyWinsockBase@@QAEHI@Z ; MyWinsockBase::Close

; 139  : 				return FALSE;

  0034d	33 c0		 xor	 eax, eax
  0034f	e9 0c 01 00 00	 jmp	 $LN15@DataSend
$LN7@DataSend:

; 140  : 			}
; 141  : 
; 142  : 			if ( (*sendbuflen + nLeft) > MAX_WS_BUF_LEN )

  00354	8b 45 e8	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  00357	8b 08		 mov	 ecx, DWORD PTR [eax]
  00359	03 4d f4	 add	 ecx, DWORD PTR _nLeft$[ebp]
  0035c	81 f9 00 80 0c
	00		 cmp	 ecx, 819200		; 000c8000H
  00362	7e 40		 jle	 SHORT $LN6@DataSend

; 143  : 			{
; 144  : 				LogAddC(2,"error-L3 : buffer error closed %d, %d", (*sendbuflen+nLeft), MAX_WS_BUF_LEN);

  00364	68 00 80 0c 00	 push	 819200			; 000c8000H
  00369	8b 45 e8	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  0036c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0036e	03 4d f4	 add	 ecx, DWORD PTR _nLeft$[ebp]
  00371	51		 push	 ecx
  00372	68 00 00 00 00	 push	 OFFSET ??_C@_0CG@DMMIJENA@error?9L3?5?3?5buffer?5error?5closed?5?$CF@
  00377	6a 02		 push	 2
  00379	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddC@@3P6AXEPADZZA ; LogAddC
  0037f	83 c4 10	 add	 esp, 16			; 00000010H

; 145  : 				*sendbuflen = 0;

  00382	8b 45 e8	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  00385	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 146  : 				this->Close(this->m_socket);

  0038b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0038e	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00391	51		 push	 ecx
  00392	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00395	83 c1 04	 add	 ecx, 4
  00398	e8 00 00 00 00	 call	 ?Close@MyWinsockBase@@QAEHI@Z ; MyWinsockBase::Close

; 147  : 				return FALSE;

  0039d	33 c0		 xor	 eax, eax
  0039f	e9 bc 00 00 00	 jmp	 $LN15@DataSend
$LN6@DataSend:

; 148  : 			}
; 149  : 
; 150  : 			if ( nDx >= 0 )

  003a4	83 7d f0 00	 cmp	 DWORD PTR _nDx$[ebp], 0
  003a8	7c 60		 jl	 SHORT $LN5@DataSend

; 151  : 			{
; 152  : 				memcpy( &this->m_SendBuf[this->m_SendBufLen],  &buf[nDx], nLeft);

  003aa	8b 45 f4	 mov	 eax, DWORD PTR _nLeft$[ebp]
  003ad	50		 push	 eax
  003ae	8b 4d 08	 mov	 ecx, DWORD PTR _buf$[ebp]
  003b1	03 4d f0	 add	 ecx, DWORD PTR _nDx$[ebp]
  003b4	51		 push	 ecx
  003b5	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  003b8	8b 82 1c 80 0c
	00		 mov	 eax, DWORD PTR [edx+819228]
  003be	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  003c1	8d 54 01 1c	 lea	 edx, DWORD PTR [ecx+eax+28]
  003c5	52		 push	 edx
  003c6	e8 00 00 00 00	 call	 _memcpy
  003cb	83 c4 0c	 add	 esp, 12			; 0000000cH

; 153  : 				
; 154  : 				this->m_SendBufLen +=nLeft;

  003ce	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  003d1	8b 88 1c 80 0c
	00		 mov	 ecx, DWORD PTR [eax+819228]
  003d7	03 4d f4	 add	 ecx, DWORD PTR _nLeft$[ebp]
  003da	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  003dd	89 8a 1c 80 0c
	00		 mov	 DWORD PTR [edx+819228], ecx

; 155  : 
; 156  : 				LogAdd("error-L3 : Copy1 : nLeft:%d len:%d nDx:%d", nLeft, this->m_SendBufLen , nDx);

  003e3	8b 45 f0	 mov	 eax, DWORD PTR _nDx$[ebp]
  003e6	50		 push	 eax
  003e7	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  003ea	8b 91 1c 80 0c
	00		 mov	 edx, DWORD PTR [ecx+819228]
  003f0	52		 push	 edx
  003f1	8b 45 f4	 mov	 eax, DWORD PTR _nLeft$[ebp]
  003f4	50		 push	 eax
  003f5	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@NAOKACP@error?9L3?5?3?5Copy1?5?3?5nLeft?3?$CFd?5len?3@
  003fa	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00400	83 c4 10	 add	 esp, 16			; 00000010H

; 157  : 				return TRUE;

  00403	b8 01 00 00 00	 mov	 eax, 1
  00408	eb 56		 jmp	 SHORT $LN15@DataSend
$LN5@DataSend:

; 158  : 			}
; 159  : 		}

  0040a	eb 1d		 jmp	 SHORT $LN4@DataSend
$LN8@DataSend:

; 160  : 
; 161  : 		else if ( nResult == 0 )

  0040c	83 7d f8 00	 cmp	 DWORD PTR _nResult$[ebp], 0
  00410	75 17		 jne	 SHORT $LN4@DataSend

; 162  : 		{
; 163  : 			LogAdd("error-L3 : send()  result is zero", WSAGetLastError());

  00412	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  00418	50		 push	 eax
  00419	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@HECGJOBH@error?9L3?5?3?5send?$CI?$CJ?5?5result?5is?5zer@
  0041e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00424	83 c4 08	 add	 esp, 8

; 164  : 			break;

  00427	eb 32		 jmp	 SHORT $LN9@DataSend
$LN4@DataSend:

; 165  : 		}
; 166  : 		
; 167  : 		if ( nResult >0 )

  00429	83 7d f8 00	 cmp	 DWORD PTR _nResult$[ebp], 0
  0042d	7e 1f		 jle	 SHORT $LN2@DataSend

; 168  : 		{
; 169  : 			nDx += nResult;

  0042f	8b 45 f0	 mov	 eax, DWORD PTR _nDx$[ebp]
  00432	03 45 f8	 add	 eax, DWORD PTR _nResult$[ebp]
  00435	89 45 f0	 mov	 DWORD PTR _nDx$[ebp], eax

; 170  : 			nLeft -= nResult;

  00438	8b 45 f4	 mov	 eax, DWORD PTR _nLeft$[ebp]
  0043b	2b 45 f8	 sub	 eax, DWORD PTR _nResult$[ebp]
  0043e	89 45 f4	 mov	 DWORD PTR _nLeft$[ebp], eax

; 171  : 			*sendbuflen -= nResult;

  00441	8b 45 e8	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  00444	8b 08		 mov	 ecx, DWORD PTR [eax]
  00446	2b 4d f8	 sub	 ecx, DWORD PTR _nResult$[ebp]
  00449	8b 55 e8	 mov	 edx, DWORD PTR _sendbuflen$[ebp]
  0044c	89 0a		 mov	 DWORD PTR [edx], ecx
$LN2@DataSend:

; 172  : 		}
; 173  : 		if ( nLeft <= 0)

  0044e	83 7d f4 00	 cmp	 DWORD PTR _nLeft$[ebp], 0
  00452	7f 02		 jg	 SHORT $LN1@DataSend

; 174  : 		{
; 175  : 			break;

  00454	eb 05		 jmp	 SHORT $LN9@DataSend
$LN1@DataSend:

; 176  : 		}
; 177  : 	}

  00456	e9 6e fe ff ff	 jmp	 $LN10@DataSend
$LN9@DataSend:

; 178  : 	return TRUE;

  0045b	b8 01 00 00 00	 mov	 eax, 1
$LN15@DataSend:

; 179  : }

  00460	5f		 pop	 edi
  00461	5e		 pop	 esi
  00462	5b		 pop	 ebx
  00463	8b e5		 mov	 esp, ebp
  00465	5d		 pop	 ebp
  00466	c2 08 00	 ret	 8
?DataSend@wsShopServerCli@@QAEHPADH@Z ENDP		; wsShopServerCli::DataSend
_TEXT	ENDS
PUBLIC	??_C@_0CC@CMOPGBFG@error?9L3?5?3?5nDx?5?$CFd?5m_SendBufLen?5?$CF@ ; `string'
PUBLIC	??_C@_0BJ@BMEBGMFO@send?$CI?$CJ?5result?5is?5zero?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0CE@HIKCACFP@FD_WRITE?5send?$CI?$CJ?5WSAEWOULDBLOCK?5?3@ ; `string'
PUBLIC	??_C@_0BL@HNPHKEOO@FD_WRITE?5send?$CI?$CJ?5?$LP?$KB?$LH?$KP?5?$CFd?5?$CFd?$AA@ ; `string'
PUBLIC	?FDWRITE_MsgDataSend@wsShopServerCli@@QAEHXZ	; wsShopServerCli::FDWRITE_MsgDataSend
;	COMDAT ??_C@_0CC@CMOPGBFG@error?9L3?5?3?5nDx?5?$CFd?5m_SendBufLen?5?$CF@
CONST	SEGMENT
??_C@_0CC@CMOPGBFG@error?9L3?5?3?5nDx?5?$CFd?5m_SendBufLen?5?$CF@ DB 'err'
	DB	'or-L3 : nDx %d m_SendBufLen %d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BJ@BMEBGMFO@send?$CI?$CJ?5result?5is?5zero?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BJ@BMEBGMFO@send?$CI?$CJ?5result?5is?5zero?5?$CFd?$AA@ DB 'send() '
	DB	'result is zero %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CE@HIKCACFP@FD_WRITE?5send?$CI?$CJ?5WSAEWOULDBLOCK?5?3@
CONST	SEGMENT
??_C@_0CE@HIKCACFP@FD_WRITE?5send?$CI?$CJ?5WSAEWOULDBLOCK?5?3@ DB 'FD_WRI'
	DB	'TE send() WSAEWOULDBLOCK : %d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BL@HNPHKEOO@FD_WRITE?5send?$CI?$CJ?5?$LP?$KB?$LH?$KP?5?$CFd?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BL@HNPHKEOO@FD_WRITE?5send?$CI?$CJ?5?$LP?$KB?$LH?$KP?5?$CFd?5?$CFd?$AA@ DB 'F'
	DB	'D_WRITE send() ', 0bfH, 0a1H, 0b7H, 0afH, ' %d %d', 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_sendbuflen$ = -20					; size = 4
_sendbuf$ = -16						; size = 4
_nDx$ = -12						; size = 4
_nResult$ = -8						; size = 4
_this$ = -4						; size = 4
?FDWRITE_MsgDataSend@wsShopServerCli@@QAEHXZ PROC	; wsShopServerCli::FDWRITE_MsgDataSend
; _this$ = ecx

; 182  : {

  00470	55		 push	 ebp
  00471	8b ec		 mov	 ebp, esp
  00473	83 ec 54	 sub	 esp, 84			; 00000054H
  00476	53		 push	 ebx
  00477	56		 push	 esi
  00478	57		 push	 edi
  00479	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 183  : 	int nResult;
; 184  : 	int nDx;
; 185  : 	LPBYTE sendbuf;
; 186  : 	int* sendbuflen;
; 187  : 
; 188  : 	nDx=0;

  0047c	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _nDx$[ebp], 0

; 189  : 	sendbuf=&this->m_SendBuf[0];

  00483	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00486	83 c0 1c	 add	 eax, 28			; 0000001cH
  00489	89 45 f0	 mov	 DWORD PTR _sendbuf$[ebp], eax

; 190  : 	sendbuflen=&this->m_SendBufLen ;

  0048c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0048f	05 1c 80 0c 00	 add	 eax, 819228		; 000c801cH
  00494	89 45 ec	 mov	 DWORD PTR _sendbuflen$[ebp], eax

; 191  : 
; 192  : 	if (this->m_SendBufLen < 1)

  00497	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0049a	83 b8 1c 80 0c
	00 01		 cmp	 DWORD PTR [eax+819228], 1
  004a1	7d 0a		 jge	 SHORT $LN7@FDWRITE_Ms

; 193  : 	{
; 194  : 		return TRUE;

  004a3	b8 01 00 00 00	 mov	 eax, 1
  004a8	e9 02 01 00 00	 jmp	 $LN9@FDWRITE_Ms
$LN7@FDWRITE_Ms:

; 195  : 	}
; 196  : 
; 197  : 	while (*sendbuflen>0)

  004ad	8b 45 ec	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  004b0	83 38 00	 cmp	 DWORD PTR [eax], 0
  004b3	0f 8e f1 00 00
	00		 jle	 $LN6@FDWRITE_Ms

; 198  : 	{
; 199  : 		nResult=send(this->m_socket, (char*)&sendbuf[nDx], *sendbuflen-nDx, 0);

  004b9	6a 00		 push	 0
  004bb	8b 45 ec	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  004be	8b 08		 mov	 ecx, DWORD PTR [eax]
  004c0	2b 4d f4	 sub	 ecx, DWORD PTR _nDx$[ebp]
  004c3	51		 push	 ecx
  004c4	8b 55 f0	 mov	 edx, DWORD PTR _sendbuf$[ebp]
  004c7	03 55 f4	 add	 edx, DWORD PTR _nDx$[ebp]
  004ca	52		 push	 edx
  004cb	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  004ce	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  004d1	51		 push	 ecx
  004d2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__send@16
  004d8	89 45 f8	 mov	 DWORD PTR _nResult$[ebp], eax

; 200  : 		if (nResult == -1)

  004db	83 7d f8 ff	 cmp	 DWORD PTR _nResult$[ebp], -1
  004df	75 53		 jne	 SHORT $LN5@FDWRITE_Ms

; 201  : 		{
; 202  : 			if ( WSAGetLastError() != WSAEWOULDBLOCK)

  004e1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  004e7	3d 33 27 00 00	 cmp	 eax, 10035		; 00002733H
  004ec	74 2f		 je	 SHORT $LN4@FDWRITE_Ms

; 203  : 			{
; 204  : 				LogAdd("FD_WRITE send() ¿¡·¯ %d %d", WSAGetLastError(), *sendbuflen);

  004ee	8b 45 ec	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  004f1	8b 08		 mov	 ecx, DWORD PTR [eax]
  004f3	51		 push	 ecx
  004f4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  004fa	50		 push	 eax
  004fb	68 00 00 00 00	 push	 OFFSET ??_C@_0BL@HNPHKEOO@FD_WRITE?5send?$CI?$CJ?5?$LP?$KB?$LH?$KP?5?$CFd?5?$CFd?$AA@
  00500	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00506	83 c4 0c	 add	 esp, 12			; 0000000cH

; 205  : 				this->Close();

  00509	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0050c	83 c1 04	 add	 ecx, 4
  0050f	e8 00 00 00 00	 call	 ?Close@MyWinsockBase@@QAEHXZ ; MyWinsockBase::Close

; 206  : 				return FALSE;

  00514	33 c0		 xor	 eax, eax
  00516	e9 94 00 00 00	 jmp	 $LN9@FDWRITE_Ms

; 207  : 			}
; 208  : 			else

  0051b	eb 17		 jmp	 SHORT $LN5@FDWRITE_Ms
$LN4@FDWRITE_Ms:

; 209  : 			{
; 210  : 				LogAdd("FD_WRITE send() WSAEWOULDBLOCK : %d", WSAGetLastError());

  0051d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  00523	50		 push	 eax
  00524	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@HIKCACFP@FD_WRITE?5send?$CI?$CJ?5WSAEWOULDBLOCK?5?3@
  00529	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0052f	83 c4 08	 add	 esp, 8

; 211  : 				break;

  00532	eb 76		 jmp	 SHORT $LN6@FDWRITE_Ms
$LN5@FDWRITE_Ms:

; 212  : 			}
; 213  : 		}
; 214  : 		if (nResult <= 0)

  00534	83 7d f8 00	 cmp	 DWORD PTR _nResult$[ebp], 0
  00538	7f 17		 jg	 SHORT $LN2@FDWRITE_Ms

; 215  : 		{
; 216  : 			LogAdd("send() result is zero %d", WSAGetLastError());

  0053a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  00540	50		 push	 eax
  00541	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@BMEBGMFO@send?$CI?$CJ?5result?5is?5zero?5?$CFd?$AA@
  00546	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0054c	83 c4 08	 add	 esp, 8

; 217  : 			break;

  0054f	eb 59		 jmp	 SHORT $LN6@FDWRITE_Ms
$LN2@FDWRITE_Ms:

; 218  : 		}
; 219  : 		LogAdd("error-L3 : nDx %d m_SendBufLen %d", nDx, this->m_SendBufLen );

  00551	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00554	8b 88 1c 80 0c
	00		 mov	 ecx, DWORD PTR [eax+819228]
  0055a	51		 push	 ecx
  0055b	8b 55 f4	 mov	 edx, DWORD PTR _nDx$[ebp]
  0055e	52		 push	 edx
  0055f	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@CMOPGBFG@error?9L3?5?3?5nDx?5?$CFd?5m_SendBufLen?5?$CF@
  00564	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0056a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 220  : 
; 221  : 		if (nResult > 0)

  0056d	83 7d f8 00	 cmp	 DWORD PTR _nResult$[ebp], 0
  00571	7e 16		 jle	 SHORT $LN1@FDWRITE_Ms

; 222  : 		{
; 223  : 			nDx += nResult;

  00573	8b 45 f4	 mov	 eax, DWORD PTR _nDx$[ebp]
  00576	03 45 f8	 add	 eax, DWORD PTR _nResult$[ebp]
  00579	89 45 f4	 mov	 DWORD PTR _nDx$[ebp], eax

; 224  : 			*sendbuflen -= nResult;

  0057c	8b 45 ec	 mov	 eax, DWORD PTR _sendbuflen$[ebp]
  0057f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00581	2b 4d f8	 sub	 ecx, DWORD PTR _nResult$[ebp]
  00584	8b 55 ec	 mov	 edx, DWORD PTR _sendbuflen$[ebp]
  00587	89 0a		 mov	 DWORD PTR [edx], ecx
$LN1@FDWRITE_Ms:

; 225  : 		}
; 226  : 
; 227  : 		LogAdd("error-L3 : nDx %d m_SendBufLen %d", nDx, this->m_SendBufLen );

  00589	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0058c	8b 88 1c 80 0c
	00		 mov	 ecx, DWORD PTR [eax+819228]
  00592	51		 push	 ecx
  00593	8b 55 f4	 mov	 edx, DWORD PTR _nDx$[ebp]
  00596	52		 push	 edx
  00597	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@CMOPGBFG@error?9L3?5?3?5nDx?5?$CFd?5m_SendBufLen?5?$CF@
  0059c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  005a2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 228  : 	}

  005a5	e9 03 ff ff ff	 jmp	 $LN7@FDWRITE_Ms
$LN6@FDWRITE_Ms:

; 229  : 	return TRUE;

  005aa	b8 01 00 00 00	 mov	 eax, 1
$LN9@FDWRITE_Ms:

; 230  : }

  005af	5f		 pop	 edi
  005b0	5e		 pop	 esi
  005b1	5b		 pop	 ebx
  005b2	8b e5		 mov	 esp, ebp
  005b4	5d		 pop	 ebp
  005b5	c3		 ret	 0
?FDWRITE_MsgDataSend@wsShopServerCli@@QAEHXZ ENDP	; wsShopServerCli::FDWRITE_MsgDataSend
_TEXT	ENDS
PUBLIC	??_C@_0BD@JDAMFKGN@error?9L2?5?3?5size?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0BJ@MHCMJICL@error?9L3?5?3?5recv?5error?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0CE@LOFMLGPB@error?9L3?5?3?5closed?5?$CFd?5?9?5buff?3?$CFd?$CI?$CF@ ; `string'
PUBLIC	?DataRecv@wsShopServerCli@@QAEHXZ		; wsShopServerCli::DataRecv
EXTRN	__imp__recv@16:PROC
;	COMDAT ??_C@_0BD@JDAMFKGN@error?9L2?5?3?5size?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BD@JDAMFKGN@error?9L2?5?3?5size?5?$CFd?$AA@ DB 'error-L2 : size %d'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BJ@MHCMJICL@error?9L3?5?3?5recv?5error?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BJ@MHCMJICL@error?9L3?5?3?5recv?5error?5?$CFd?$AA@ DB 'error-L3 : '
	DB	'recv error %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0CE@LOFMLGPB@error?9L3?5?3?5closed?5?$CFd?5?9?5buff?3?$CFd?$CI?$CF@
CONST	SEGMENT
??_C@_0CE@LOFMLGPB@error?9L3?5?3?5closed?5?$CFd?5?9?5buff?3?$CFd?$CI?$CF@ DB 'e'
	DB	'rror-L3 : closed %d - buff:%d(%d) ', 00H	; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_dwMsgID$204990 = -32					; size = 4
_lpHead$204988 = -28					; size = 4
_size$ = -24						; size = 4
_lOfs$ = -20						; size = 4
_recvbuflen$ = -16					; size = 4
_recvbuf$ = -12						; size = 4
_nResult$ = -8						; size = 4
_this$ = -4						; size = 4
?DataRecv@wsShopServerCli@@QAEHXZ PROC			; wsShopServerCli::DataRecv
; _this$ = ecx

; 233  : {

  005c0	55		 push	 ebp
  005c1	8b ec		 mov	 ebp, esp
  005c3	83 ec 60	 sub	 esp, 96			; 00000060H
  005c6	53		 push	 ebx
  005c7	56		 push	 esi
  005c8	57		 push	 edi
  005c9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 234  : 	int nResult;
; 235  : 	LPBYTE recvbuf;
; 236  : 	int* recvbuflen;
; 237  : 	int lOfs;
; 238  : 	int size;
; 239  : 
; 240  : 	recvbuf= (LPBYTE)&this->m_RecvBuf[0]   ;

  005cc	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  005cf	05 20 80 0c 00	 add	 eax, 819232		; 000c8020H
  005d4	89 45 f4	 mov	 DWORD PTR _recvbuf$[ebp], eax

; 241  : 	recvbuflen=&this->m_RecvBufLen ;

  005d7	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  005da	05 20 00 19 00	 add	 eax, 1638432		; 00190020H
  005df	89 45 f0	 mov	 DWORD PTR _recvbuflen$[ebp], eax

; 242  : 	nResult=recv(this->m_socket , (char*)&recvbuf[*recvbuflen], (MAX_WS_BUF_LEN-*recvbuflen), 0);

  005e2	6a 00		 push	 0
  005e4	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  005e7	b9 00 80 0c 00	 mov	 ecx, 819200		; 000c8000H
  005ec	2b 08		 sub	 ecx, DWORD PTR [eax]
  005ee	51		 push	 ecx
  005ef	8b 55 f0	 mov	 edx, DWORD PTR _recvbuflen$[ebp]
  005f2	8b 45 f4	 mov	 eax, DWORD PTR _recvbuf$[ebp]
  005f5	03 02		 add	 eax, DWORD PTR [edx]
  005f7	50		 push	 eax
  005f8	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  005fb	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  005fe	52		 push	 edx
  005ff	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__recv@16
  00605	89 45 f8	 mov	 DWORD PTR _nResult$[ebp], eax

; 243  : 
; 244  : 	if ( nResult == 0 )

  00608	83 7d f8 00	 cmp	 DWORD PTR _nResult$[ebp], 0
  0060c	75 36		 jne	 SHORT $LN14@DataRecv

; 245  : 	{
; 246  : 		LogAdd("error-L3 : closed %d - buff:%d(%d) ", WSAGetLastError(), this->m_RecvBufLen, MAX_WS_BUF_LEN - *recvbuflen );

  0060e	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  00611	b9 00 80 0c 00	 mov	 ecx, 819200		; 000c8000H
  00616	2b 08		 sub	 ecx, DWORD PTR [eax]
  00618	51		 push	 ecx
  00619	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0061c	8b 82 20 00 19
	00		 mov	 eax, DWORD PTR [edx+1638432]
  00622	50		 push	 eax
  00623	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  00629	50		 push	 eax
  0062a	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@LOFMLGPB@error?9L3?5?3?5closed?5?$CFd?5?9?5buff?3?$CFd?$CI?$CF@
  0062f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00635	83 c4 10	 add	 esp, 16			; 00000010H

; 247  : 		return 1;

  00638	b8 01 00 00 00	 mov	 eax, 1
  0063d	e9 2d 01 00 00	 jmp	 $LN15@DataRecv
  00642	eb 3c		 jmp	 SHORT $LN13@DataRecv
$LN14@DataRecv:

; 248  : 	}
; 249  : 	else if (nResult == -1 )

  00644	83 7d f8 ff	 cmp	 DWORD PTR _nResult$[ebp], -1
  00648	75 36		 jne	 SHORT $LN13@DataRecv

; 250  : 	{
; 251  : 		if ( WSAGetLastError() == WSAEWOULDBLOCK )

  0064a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  00650	3d 33 27 00 00	 cmp	 eax, 10035		; 00002733H
  00655	75 0a		 jne	 SHORT $LN11@DataRecv

; 252  : 		{
; 253  : 			return 1;

  00657	b8 01 00 00 00	 mov	 eax, 1
  0065c	e9 0e 01 00 00	 jmp	 $LN15@DataRecv
$LN11@DataRecv:

; 254  : 		}
; 255  : 		LogAdd("error-L3 : recv error %d", WSAGetLastError() );

  00661	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WSAGetLastError@0
  00667	50		 push	 eax
  00668	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@MHCMJICL@error?9L3?5?3?5recv?5error?5?$CFd?$AA@
  0066d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00673	83 c4 08	 add	 esp, 8

; 256  : 		return 1;

  00676	b8 01 00 00 00	 mov	 eax, 1
  0067b	e9 ef 00 00 00	 jmp	 $LN15@DataRecv
$LN13@DataRecv:

; 257  : 	}
; 258  : 
; 259  : 	*recvbuflen += nResult;

  00680	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  00683	8b 08		 mov	 ecx, DWORD PTR [eax]
  00685	03 4d f8	 add	 ecx, DWORD PTR _nResult$[ebp]
  00688	8b 55 f0	 mov	 edx, DWORD PTR _recvbuflen$[ebp]
  0068b	89 0a		 mov	 DWORD PTR [edx], ecx

; 260  : 
; 261  : 	if (*recvbuflen<3)

  0068d	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  00690	83 38 03	 cmp	 DWORD PTR [eax], 3
  00693	7d 0a		 jge	 SHORT $LN10@DataRecv

; 262  : 	{
; 263  : 		return 3;

  00695	b8 03 00 00 00	 mov	 eax, 3
  0069a	e9 d0 00 00 00	 jmp	 $LN15@DataRecv
$LN10@DataRecv:

; 264  : 	}
; 265  : 
; 266  : 	lOfs=0;

  0069f	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _lOfs$[ebp], 0

; 267  : 	size=0;

  006a6	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _size$[ebp], 0
$LN9@DataRecv:

; 268  : 
; 269  : 	while ( true )

  006ad	b8 01 00 00 00	 mov	 eax, 1
  006b2	85 c0		 test	 eax, eax
  006b4	0f 84 b3 00 00
	00		 je	 $LN8@DataRecv

; 270  : 	{
; 271  : 		protocol::MSG_HEADER * lpHead = (protocol::MSG_HEADER *)&recvbuf[lOfs];

  006ba	8b 45 f4	 mov	 eax, DWORD PTR _recvbuf$[ebp]
  006bd	03 45 ec	 add	 eax, DWORD PTR _lOfs$[ebp]
  006c0	89 45 e4	 mov	 DWORD PTR _lpHead$204988[ebp], eax

; 272  : 		DWORD dwMsgID = lpHead->id;

  006c3	8b 45 e4	 mov	 eax, DWORD PTR _lpHead$204988[ebp]
  006c6	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  006c9	89 4d e0	 mov	 DWORD PTR _dwMsgID$204990[ebp], ecx

; 273  : 		size = lpHead->size;

  006cc	8b 45 e4	 mov	 eax, DWORD PTR _lpHead$204988[ebp]
  006cf	8b 08		 mov	 ecx, DWORD PTR [eax]
  006d1	89 4d e8	 mov	 DWORD PTR _size$[ebp], ecx

; 274  : 
; 275  : 		if ( size <= 0 )

  006d4	83 7d e8 00	 cmp	 DWORD PTR _size$[ebp], 0
  006d8	7f 16		 jg	 SHORT $LN7@DataRecv

; 276  : 		{
; 277  : 			LogAdd("error-L2 : size %d", size);

  006da	8b 45 e8	 mov	 eax, DWORD PTR _size$[ebp]
  006dd	50		 push	 eax
  006de	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@JDAMFKGN@error?9L2?5?3?5size?5?$CFd?$AA@
  006e3	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  006e9	83 c4 08	 add	 esp, 8

; 278  : 			return 0;

  006ec	33 c0		 xor	 eax, eax
  006ee	eb 7f		 jmp	 SHORT $LN15@DataRecv
$LN7@DataRecv:

; 279  : 		}
; 280  : 
; 281  : 		if ( size <= *recvbuflen )

  006f0	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  006f3	8b 4d e8	 mov	 ecx, DWORD PTR _size$[ebp]
  006f6	3b 08		 cmp	 ecx, DWORD PTR [eax]
  006f8	7f 3f		 jg	 SHORT $LN6@DataRecv

; 282  : 		{
; 283  : 			this->wsProtocolCore(dwMsgID, (LPBYTE)&recvbuf[lOfs], size);

  006fa	8b 45 e8	 mov	 eax, DWORD PTR _size$[ebp]
  006fd	50		 push	 eax
  006fe	8b 4d f4	 mov	 ecx, DWORD PTR _recvbuf$[ebp]
  00701	03 4d ec	 add	 ecx, DWORD PTR _lOfs$[ebp]
  00704	51		 push	 ecx
  00705	8b 55 e0	 mov	 edx, DWORD PTR _dwMsgID$204990[ebp]
  00708	52		 push	 edx
  00709	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0070c	8b 88 24 00 19
	00		 mov	 ecx, DWORD PTR [eax+1638436]
  00712	ff d1		 call	 ecx
  00714	83 c4 0c	 add	 esp, 12			; 0000000cH

; 284  : 			lOfs += size;

  00717	8b 45 ec	 mov	 eax, DWORD PTR _lOfs$[ebp]
  0071a	03 45 e8	 add	 eax, DWORD PTR _size$[ebp]
  0071d	89 45 ec	 mov	 DWORD PTR _lOfs$[ebp], eax

; 285  : 			*recvbuflen -= size;

  00720	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  00723	8b 08		 mov	 ecx, DWORD PTR [eax]
  00725	2b 4d e8	 sub	 ecx, DWORD PTR _size$[ebp]
  00728	8b 55 f0	 mov	 edx, DWORD PTR _recvbuflen$[ebp]
  0072b	89 0a		 mov	 DWORD PTR [edx], ecx

; 286  : 
; 287  : 			if ( *recvbuflen <=  0 )

  0072d	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  00730	83 38 00	 cmp	 DWORD PTR [eax], 0
  00733	7f 02		 jg	 SHORT $LN5@DataRecv

; 288  : 			{
; 289  : 				break;

  00735	eb 36		 jmp	 SHORT $LN8@DataRecv
$LN5@DataRecv:

; 290  : 			}
; 291  : 		}

  00737	eb 2f		 jmp	 SHORT $LN4@DataRecv
$LN6@DataRecv:

; 292  : 		else if ( lOfs > 0 )

  00739	83 7d ec 00	 cmp	 DWORD PTR _lOfs$[ebp], 0
  0073d	7e 27		 jle	 SHORT $LN3@DataRecv

; 293  : 		{
; 294  : 			if ( *recvbuflen < 1 )

  0073f	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  00742	83 38 01	 cmp	 DWORD PTR [eax], 1
  00745	7d 02		 jge	 SHORT $LN2@DataRecv

; 295  : 			{
; 296  : 				break;

  00747	eb 24		 jmp	 SHORT $LN8@DataRecv
$LN2@DataRecv:

; 297  : 			}
; 298  : 
; 299  : 			memcpy(recvbuf, &recvbuf[lOfs], *recvbuflen);

  00749	8b 45 f0	 mov	 eax, DWORD PTR _recvbuflen$[ebp]
  0074c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0074e	51		 push	 ecx
  0074f	8b 55 f4	 mov	 edx, DWORD PTR _recvbuf$[ebp]
  00752	03 55 ec	 add	 edx, DWORD PTR _lOfs$[ebp]
  00755	52		 push	 edx
  00756	8b 45 f4	 mov	 eax, DWORD PTR _recvbuf$[ebp]
  00759	50		 push	 eax
  0075a	e8 00 00 00 00	 call	 _memcpy
  0075f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 300  : 			break;

  00762	eb 09		 jmp	 SHORT $LN8@DataRecv

; 301  : 		}
; 302  : 		else

  00764	eb 02		 jmp	 SHORT $LN4@DataRecv
$LN3@DataRecv:

; 303  : 		{
; 304  : 			break;

  00766	eb 05		 jmp	 SHORT $LN8@DataRecv
$LN4@DataRecv:

; 305  : 		}
; 306  : 
; 307  : 	}

  00768	e9 40 ff ff ff	 jmp	 $LN9@DataRecv
$LN8@DataRecv:

; 308  : 	return 0;

  0076d	33 c0		 xor	 eax, eax
$LN15@DataRecv:

; 309  : }

  0076f	5f		 pop	 edi
  00770	5e		 pop	 esi
  00771	5b		 pop	 ebx
  00772	8b e5		 mov	 esp, ebp
  00774	5d		 pop	 ebp
  00775	c3		 ret	 0
?DataRecv@wsShopServerCli@@QAEHXZ ENDP			; wsShopServerCli::DataRecv
_TEXT	ENDS
END
