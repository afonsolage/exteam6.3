; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	D:\Projects\ExTeam6.3\Source\GameServer\GameServer\TMonsterAIAgro.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

_DATA	SEGMENT
_g_iNpcUpDfLevel_CGATE DD 01H
	DD	02H
	DD	02dc6c0H
	DD	02H
	DD	03H
	DD	02dc6c0H
	DD	03H
	DD	04H
	DD	02dc6c0H
_g_iNpcUpDfLevel_CSTATUE DD 01H
	DD	03H
	DD	02dc6c0H
	DD	02H
	DD	05H
	DD	02dc6c0H
	DD	03H
	DD	07H
	DD	02dc6c0H
_g_iNpcUpMaxHP_CGATE DD 02625a0H
	DD	02H
	DD	0f4240H
	DD	03567e0H
	DD	03H
	DD	0f4240H
	DD	04f5880H
	DD	04H
	DD	0f4240H
_g_iNpcUpMaxHP_CSTATUE DD 02191c0H
	DD	03H
	DD	0f4240H
	DD	033e140H
	DD	05H
	DD	0f4240H
	DD	04c4b40H
	DD	07H
	DD	0f4240H
_g_iNpcUpRgLevel_CSTATUE DD 01H
	DD	03H
	DD	04c4b40H
	DD	02H
	DD	05H
	DD	04c4b40H
	DD	03H
	DD	07H
	DD	04c4b40H
_g_iCsUserReSpawnArea DD 023H
	DD	011H
	DD	090H
	DD	030H
	DD	04aH
	DD	090H
	DD	073H
	DD	09aH
	DD	023H
	DD	011H
	DD	090H
	DD	030H
_g_iNpcDefense_CGATE DD 064H
	DD	0b4H
	DD	012cH
	DD	0208H
_g_iNpcDefense_CSTATUE DD 050H
	DD	0b4H
	DD	0154H
	DD	0226H
_g_iCastleWallStepAxisY DD 071H
	DD	0a0H
	DD	0cbH
_DATA	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	83 e8 01	 sub	 eax, 1
  0000f	89 45 10	 mov	 DWORD PTR ___n$[ebp], eax
  00012	78 11		 js	 SHORT $LN3@vector
  00014	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00017	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  0001a	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  0001d	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  00020	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  00023	eb e4		 jmp	 SHORT $LN2@vector
$LN3@vector:
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	?ResetAll@TMonsterAIAgro@@QAEXXZ		; TMonsterAIAgro::ResetAll
PUBLIC	??0TMonsterAIAgroInfo@@QAE@XZ			; TMonsterAIAgroInfo::TMonsterAIAgroInfo
PUBLIC	??_7TMonsterAIAgro@@6B@				; TMonsterAIAgro::`vftable'
PUBLIC	??0TMonsterAIAgro@@QAE@XZ			; TMonsterAIAgro::TMonsterAIAgro
PUBLIC	??_R4TMonsterAIAgro@@6B@			; TMonsterAIAgro::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVTMonsterAIAgro@@@8			; TMonsterAIAgro `RTTI Type Descriptor'
PUBLIC	??_R3TMonsterAIAgro@@8				; TMonsterAIAgro::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2TMonsterAIAgro@@8				; TMonsterAIAgro::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@TMonsterAIAgro@@8			; TMonsterAIAgro::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	??_ETMonsterAIAgro@@UAEPAXI@Z:PROC		; TMonsterAIAgro::`vector deleting destructor'
;	COMDAT ??_R1A@?0A@EA@TMonsterAIAgro@@8
; File d:\projects\exteam6.3\source\gameserver\gameserver\tmonsteraiagro.cpp
rdata$r	SEGMENT
??_R1A@?0A@EA@TMonsterAIAgro@@8 DD FLAT:??_R0?AVTMonsterAIAgro@@@8 ; TMonsterAIAgro::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3TMonsterAIAgro@@8
rdata$r	ENDS
;	COMDAT ??_R2TMonsterAIAgro@@8
rdata$r	SEGMENT
??_R2TMonsterAIAgro@@8 DD FLAT:??_R1A@?0A@EA@TMonsterAIAgro@@8 ; TMonsterAIAgro::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3TMonsterAIAgro@@8
rdata$r	SEGMENT
??_R3TMonsterAIAgro@@8 DD 00H				; TMonsterAIAgro::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2TMonsterAIAgro@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVTMonsterAIAgro@@@8
_DATA	SEGMENT
??_R0?AVTMonsterAIAgro@@@8 DD FLAT:??_7type_info@@6B@	; TMonsterAIAgro `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVTMonsterAIAgro@@', 00H
_DATA	ENDS
;	COMDAT ??_R4TMonsterAIAgro@@6B@
rdata$r	SEGMENT
??_R4TMonsterAIAgro@@6B@ DD 00H				; TMonsterAIAgro::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVTMonsterAIAgro@@@8
	DD	FLAT:??_R3TMonsterAIAgro@@8
rdata$r	ENDS
;	COMDAT ??_7TMonsterAIAgro@@6B@
CONST	SEGMENT
??_7TMonsterAIAgro@@6B@ DD FLAT:??_R4TMonsterAIAgro@@6B@ ; TMonsterAIAgro::`vftable'
	DD	FLAT:??_ETMonsterAIAgro@@UAEPAXI@Z
; Function compile flags: /Odtp /ZI
CONST	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0TMonsterAIAgro@@QAE@XZ PROC				; TMonsterAIAgro::TMonsterAIAgro
; _this$ = ecx

; 13   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7TMonsterAIAgro@@6B@
  00015	68 00 00 00 00	 push	 OFFSET ??0TMonsterAIAgroInfo@@QAE@XZ ; TMonsterAIAgroInfo::TMonsterAIAgroInfo
  0001a	6a 64		 push	 100			; 00000064H
  0001c	6a 08		 push	 8
  0001e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00021	83 c0 04	 add	 eax, 4
  00024	50		 push	 eax
  00025	e8 00 00 00 00	 call	 ??_H@YGXPAXIHP6EPAX0@Z@Z

; 14   : 	this->ResetAll();

  0002a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0002d	e8 00 00 00 00	 call	 ?ResetAll@TMonsterAIAgro@@QAEXXZ ; TMonsterAIAgro::ResetAll

; 15   : }

  00032	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00035	5f		 pop	 edi
  00036	5e		 pop	 esi
  00037	5b		 pop	 ebx
  00038	8b e5		 mov	 esp, ebp
  0003a	5d		 pop	 ebp
  0003b	c3		 ret	 0
??0TMonsterAIAgro@@QAE@XZ ENDP				; TMonsterAIAgro::TMonsterAIAgro
_TEXT	ENDS
PUBLIC	?Reset@TMonsterAIAgroInfo@@QAEXXZ		; TMonsterAIAgroInfo::Reset
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\tmonsteraiagro.h
;	COMDAT ??0TMonsterAIAgroInfo@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0TMonsterAIAgroInfo@@QAE@XZ PROC			; TMonsterAIAgroInfo::TMonsterAIAgroInfo, COMDAT
; _this$ = ecx

; 16   : 	TMonsterAIAgroInfo()

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 17   : 	{
; 18   : 		this->Reset();

  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ?Reset@TMonsterAIAgroInfo@@QAEXXZ ; TMonsterAIAgroInfo::Reset

; 19   : 	}

  00014	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00017	5f		 pop	 edi
  00018	5e		 pop	 esi
  00019	5b		 pop	 ebx
  0001a	8b e5		 mov	 esp, ebp
  0001c	5d		 pop	 ebp
  0001d	c3		 ret	 0
??0TMonsterAIAgroInfo@@QAE@XZ ENDP			; TMonsterAIAgroInfo::TMonsterAIAgroInfo
; Function compile flags: /Odtp /ZI
_TEXT	ENDS
;	COMDAT ?Reset@TMonsterAIAgroInfo@@QAEXXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?Reset@TMonsterAIAgroInfo@@QAEXXZ PROC			; TMonsterAIAgroInfo::Reset, COMDAT
; _this$ = ecx

; 21   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 22   : 		this->m_iUserIndex = -1;

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	c7 00 ff ff ff
	ff		 mov	 DWORD PTR [eax], -1

; 23   : 		this->m_iAgroValue = -1;

  00015	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00018	c7 40 04 ff ff
	ff ff		 mov	 DWORD PTR [eax+4], -1

; 24   : 	}

  0001f	5f		 pop	 edi
  00020	5e		 pop	 esi
  00021	5b		 pop	 ebx
  00022	8b e5		 mov	 esp, ebp
  00024	5d		 pop	 ebp
  00025	c3		 ret	 0
?Reset@TMonsterAIAgroInfo@@QAEXXZ ENDP			; TMonsterAIAgroInfo::Reset
_TEXT	ENDS
PUBLIC	??1TMonsterAIAgro@@UAE@XZ			; TMonsterAIAgro::~TMonsterAIAgro
EXTRN	??3@YAXPAX@Z:PROC				; operator delete
; Function compile flags: /Odtp /ZI
;	COMDAT ??_GTMonsterAIAgro@@UAEPAXI@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___flags$ = 8						; size = 4
??_GTMonsterAIAgro@@UAEPAXI@Z PROC			; TMonsterAIAgro::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ??1TMonsterAIAgro@@UAE@XZ ; TMonsterAIAgro::~TMonsterAIAgro
  00014	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00017	83 e0 01	 and	 eax, 1
  0001a	74 0c		 je	 SHORT $LN1@scalar
  0001c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001f	50		 push	 eax
  00020	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00025	83 c4 04	 add	 esp, 4
$LN1@scalar:
  00028	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002b	5f		 pop	 edi
  0002c	5e		 pop	 esi
  0002d	5b		 pop	 ebx
  0002e	8b e5		 mov	 esp, ebp
  00030	5d		 pop	 ebp
  00031	c2 04 00	 ret	 4
??_GTMonsterAIAgro@@UAEPAXI@Z ENDP			; TMonsterAIAgro::`scalar deleting destructor'
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\tmonsteraiagro.cpp
_TEXT	ENDS
_TEXT	SEGMENT
_this$ = -4						; size = 4
??1TMonsterAIAgro@@UAE@XZ PROC				; TMonsterAIAgro::~TMonsterAIAgro
; _this$ = ecx

; 18   : {

  00040	55		 push	 ebp
  00041	8b ec		 mov	 ebp, esp
  00043	83 ec 44	 sub	 esp, 68			; 00000044H
  00046	53		 push	 ebx
  00047	56		 push	 esi
  00048	57		 push	 edi
  00049	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0004c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0004f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7TMonsterAIAgro@@6B@

; 19   : 	return;
; 20   : }

  00055	5f		 pop	 edi
  00056	5e		 pop	 esi
  00057	5b		 pop	 ebx
  00058	8b e5		 mov	 esp, ebp
  0005a	5d		 pop	 ebp
  0005b	c3		 ret	 0
??1TMonsterAIAgro@@UAE@XZ ENDP				; TMonsterAIAgro::~TMonsterAIAgro
; Function compile flags: /Odtp /ZI
_i$226943 = -8						; size = 4
_this$ = -4						; size = 4
?ResetAll@TMonsterAIAgro@@QAEXXZ PROC			; TMonsterAIAgro::ResetAll
; _this$ = ecx

; 25   : {

  00060	55		 push	 ebp
  00061	8b ec		 mov	 ebp, esp
  00063	83 ec 48	 sub	 esp, 72			; 00000048H
  00066	53		 push	 ebx
  00067	56		 push	 esi
  00068	57		 push	 edi
  00069	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 26   : 	for ( int i=0;i<MAX_MONSTER_AI_AGRO;i++)

  0006c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$226943[ebp], 0
  00073	eb 09		 jmp	 SHORT $LN3@ResetAll
$LN2@ResetAll:
  00075	8b 45 f8	 mov	 eax, DWORD PTR _i$226943[ebp]
  00078	83 c0 01	 add	 eax, 1
  0007b	89 45 f8	 mov	 DWORD PTR _i$226943[ebp], eax
$LN3@ResetAll:
  0007e	83 7d f8 64	 cmp	 DWORD PTR _i$226943[ebp], 100 ; 00000064H
  00082	7d 11		 jge	 SHORT $LN4@ResetAll

; 27   : 	{
; 28   : 		this->m_Agro[i].Reset();

  00084	8b 45 f8	 mov	 eax, DWORD PTR _i$226943[ebp]
  00087	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0008a	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  0008e	e8 00 00 00 00	 call	 ?Reset@TMonsterAIAgroInfo@@QAEXXZ ; TMonsterAIAgroInfo::Reset

; 29   : 	}

  00093	eb e0		 jmp	 SHORT $LN2@ResetAll
$LN4@ResetAll:

; 30   : }

  00095	5f		 pop	 edi
  00096	5e		 pop	 esi
  00097	5b		 pop	 ebx
  00098	8b e5		 mov	 esp, ebp
  0009a	5d		 pop	 ebp
  0009b	c3		 ret	 0
?ResetAll@TMonsterAIAgro@@QAEXXZ ENDP			; TMonsterAIAgro::ResetAll
_TEXT	ENDS
PUBLIC	?SetAgro@TMonsterAIAgroInfo@@QAEXHH@Z		; TMonsterAIAgroInfo::SetAgro
PUBLIC	?GetUserIndex@TMonsterAIAgroInfo@@QAEHXZ	; TMonsterAIAgroInfo::GetUserIndex
PUBLIC	?SetAgro@TMonsterAIAgro@@QAEHHH@Z		; TMonsterAIAgro::SetAgro
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_i$226952 = -8						; size = 4
_this$ = -4						; size = 4
_iTargetIndex$ = 8					; size = 4
_iValue$ = 12						; size = 4
?SetAgro@TMonsterAIAgro@@QAEHHH@Z PROC			; TMonsterAIAgro::SetAgro
; _this$ = ecx

; 35   : {

  000a0	55		 push	 ebp
  000a1	8b ec		 mov	 ebp, esp
  000a3	83 ec 48	 sub	 esp, 72			; 00000048H
  000a6	53		 push	 ebx
  000a7	56		 push	 esi
  000a8	57		 push	 edi
  000a9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 36   : 	for ( int i=0;i<MAX_MONSTER_AI_AGRO;i++)

  000ac	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$226952[ebp], 0
  000b3	eb 09		 jmp	 SHORT $LN4@SetAgro
$LN3@SetAgro:
  000b5	8b 45 f8	 mov	 eax, DWORD PTR _i$226952[ebp]
  000b8	83 c0 01	 add	 eax, 1
  000bb	89 45 f8	 mov	 DWORD PTR _i$226952[ebp], eax
$LN4@SetAgro:
  000be	83 7d f8 64	 cmp	 DWORD PTR _i$226952[ebp], 100 ; 00000064H
  000c2	7d 34		 jge	 SHORT $LN2@SetAgro

; 37   : 	{
; 38   : 		if ( this->m_Agro[i].GetUserIndex() == -1 )

  000c4	8b 45 f8	 mov	 eax, DWORD PTR _i$226952[ebp]
  000c7	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000ca	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  000ce	e8 00 00 00 00	 call	 ?GetUserIndex@TMonsterAIAgroInfo@@QAEHXZ ; TMonsterAIAgroInfo::GetUserIndex
  000d3	83 f8 ff	 cmp	 eax, -1
  000d6	75 1e		 jne	 SHORT $LN1@SetAgro

; 39   : 		{
; 40   : 			this->m_Agro[i].SetAgro(iTargetIndex, iValue);

  000d8	8b 45 0c	 mov	 eax, DWORD PTR _iValue$[ebp]
  000db	50		 push	 eax
  000dc	8b 4d 08	 mov	 ecx, DWORD PTR _iTargetIndex$[ebp]
  000df	51		 push	 ecx
  000e0	8b 55 f8	 mov	 edx, DWORD PTR _i$226952[ebp]
  000e3	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000e6	8d 4c d0 04	 lea	 ecx, DWORD PTR [eax+edx*8+4]
  000ea	e8 00 00 00 00	 call	 ?SetAgro@TMonsterAIAgroInfo@@QAEXHH@Z ; TMonsterAIAgroInfo::SetAgro

; 41   : 			return TRUE;

  000ef	b8 01 00 00 00	 mov	 eax, 1
  000f4	eb 04		 jmp	 SHORT $LN5@SetAgro
$LN1@SetAgro:

; 42   : 		}
; 43   : 	}

  000f6	eb bd		 jmp	 SHORT $LN3@SetAgro
$LN2@SetAgro:

; 44   : 
; 45   : 	return FALSE;

  000f8	33 c0		 xor	 eax, eax
$LN5@SetAgro:

; 46   : }

  000fa	5f		 pop	 edi
  000fb	5e		 pop	 esi
  000fc	5b		 pop	 ebx
  000fd	8b e5		 mov	 esp, ebp
  000ff	5d		 pop	 ebp
  00100	c2 08 00	 ret	 8
?SetAgro@TMonsterAIAgro@@QAEHHH@Z ENDP			; TMonsterAIAgro::SetAgro
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\tmonsteraiagro.h
_TEXT	ENDS
;	COMDAT ?GetUserIndex@TMonsterAIAgroInfo@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetUserIndex@TMonsterAIAgroInfo@@QAEHXZ PROC		; TMonsterAIAgroInfo::GetUserIndex, COMDAT
; _this$ = ecx

; 27   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 28   : 		return this->m_iUserIndex;

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 00		 mov	 eax, DWORD PTR [eax]

; 29   : 	}

  00011	5f		 pop	 edi
  00012	5e		 pop	 esi
  00013	5b		 pop	 ebx
  00014	8b e5		 mov	 esp, ebp
  00016	5d		 pop	 ebp
  00017	c3		 ret	 0
?GetUserIndex@TMonsterAIAgroInfo@@QAEHXZ ENDP		; TMonsterAIAgroInfo::GetUserIndex
; Function compile flags: /Odtp /ZI
_TEXT	ENDS
;	COMDAT ?SetAgro@TMonsterAIAgroInfo@@QAEXHH@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_iTargetIndex$ = 8					; size = 4
_iValue$ = 12						; size = 4
?SetAgro@TMonsterAIAgroInfo@@QAEXHH@Z PROC		; TMonsterAIAgroInfo::SetAgro, COMDAT
; _this$ = ecx

; 39   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 40   : 		this->m_iUserIndex = iTargetIndex;

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 4d 08	 mov	 ecx, DWORD PTR _iTargetIndex$[ebp]
  00012	89 08		 mov	 DWORD PTR [eax], ecx

; 41   : 		this->m_iAgroValue = iValue;

  00014	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00017	8b 4d 0c	 mov	 ecx, DWORD PTR _iValue$[ebp]
  0001a	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 42   : 	}

  0001d	5f		 pop	 edi
  0001e	5e		 pop	 esi
  0001f	5b		 pop	 ebx
  00020	8b e5		 mov	 esp, ebp
  00022	5d		 pop	 ebp
  00023	c2 08 00	 ret	 8
?SetAgro@TMonsterAIAgroInfo@@QAEXHH@Z ENDP		; TMonsterAIAgroInfo::SetAgro
_TEXT	ENDS
PUBLIC	?DelAgro@TMonsterAIAgro@@QAEHH@Z		; TMonsterAIAgro::DelAgro
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\tmonsteraiagro.cpp
_TEXT	SEGMENT
_i$226961 = -8						; size = 4
_this$ = -4						; size = 4
_iTargetIndex$ = 8					; size = 4
?DelAgro@TMonsterAIAgro@@QAEHH@Z PROC			; TMonsterAIAgro::DelAgro
; _this$ = ecx

; 50   : {

  00110	55		 push	 ebp
  00111	8b ec		 mov	 ebp, esp
  00113	83 ec 48	 sub	 esp, 72			; 00000048H
  00116	53		 push	 ebx
  00117	56		 push	 esi
  00118	57		 push	 edi
  00119	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 51   : 	for ( int i=0;i<MAX_MONSTER_AI_AGRO;i++)

  0011c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$226961[ebp], 0
  00123	eb 09		 jmp	 SHORT $LN4@DelAgro
$LN3@DelAgro:
  00125	8b 45 f8	 mov	 eax, DWORD PTR _i$226961[ebp]
  00128	83 c0 01	 add	 eax, 1
  0012b	89 45 f8	 mov	 DWORD PTR _i$226961[ebp], eax
$LN4@DelAgro:
  0012e	83 7d f8 64	 cmp	 DWORD PTR _i$226961[ebp], 100 ; 00000064H
  00132	7d 2c		 jge	 SHORT $LN2@DelAgro

; 52   : 	{
; 53   : 		if ( this->m_Agro[i].GetUserIndex() == iTargetIndex)

  00134	8b 45 f8	 mov	 eax, DWORD PTR _i$226961[ebp]
  00137	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0013a	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  0013e	e8 00 00 00 00	 call	 ?GetUserIndex@TMonsterAIAgroInfo@@QAEHXZ ; TMonsterAIAgroInfo::GetUserIndex
  00143	3b 45 08	 cmp	 eax, DWORD PTR _iTargetIndex$[ebp]
  00146	75 16		 jne	 SHORT $LN1@DelAgro

; 54   : 		{
; 55   : 			this->m_Agro[i].Reset();

  00148	8b 45 f8	 mov	 eax, DWORD PTR _i$226961[ebp]
  0014b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0014e	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  00152	e8 00 00 00 00	 call	 ?Reset@TMonsterAIAgroInfo@@QAEXXZ ; TMonsterAIAgroInfo::Reset

; 56   : 			return TRUE;

  00157	b8 01 00 00 00	 mov	 eax, 1
  0015c	eb 04		 jmp	 SHORT $LN5@DelAgro
$LN1@DelAgro:

; 57   : 		}
; 58   : 	}

  0015e	eb c5		 jmp	 SHORT $LN3@DelAgro
$LN2@DelAgro:

; 59   : 
; 60   : 	return FALSE;

  00160	33 c0		 xor	 eax, eax
$LN5@DelAgro:

; 61   : }

  00162	5f		 pop	 edi
  00163	5e		 pop	 esi
  00164	5b		 pop	 ebx
  00165	8b e5		 mov	 esp, ebp
  00167	5d		 pop	 ebp
  00168	c2 04 00	 ret	 4
?DelAgro@TMonsterAIAgro@@QAEHH@Z ENDP			; TMonsterAIAgro::DelAgro
_TEXT	ENDS
PUBLIC	?GetAgroValue@TMonsterAIAgroInfo@@QAEHXZ	; TMonsterAIAgroInfo::GetAgroValue
PUBLIC	?GetAgro@TMonsterAIAgro@@QAEHH@Z		; TMonsterAIAgro::GetAgro
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_i$226970 = -8						; size = 4
_this$ = -4						; size = 4
_iTargetIndex$ = 8					; size = 4
?GetAgro@TMonsterAIAgro@@QAEHH@Z PROC			; TMonsterAIAgro::GetAgro
; _this$ = ecx

; 65   : {

  00170	55		 push	 ebp
  00171	8b ec		 mov	 ebp, esp
  00173	83 ec 48	 sub	 esp, 72			; 00000048H
  00176	53		 push	 ebx
  00177	56		 push	 esi
  00178	57		 push	 edi
  00179	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 66   : 	for ( int i=0;i<MAX_MONSTER_AI_AGRO;i++)

  0017c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$226970[ebp], 0
  00183	eb 09		 jmp	 SHORT $LN4@GetAgro
$LN3@GetAgro:
  00185	8b 45 f8	 mov	 eax, DWORD PTR _i$226970[ebp]
  00188	83 c0 01	 add	 eax, 1
  0018b	89 45 f8	 mov	 DWORD PTR _i$226970[ebp], eax
$LN4@GetAgro:
  0018e	83 7d f8 64	 cmp	 DWORD PTR _i$226970[ebp], 100 ; 00000064H
  00192	7d 27		 jge	 SHORT $LN2@GetAgro

; 67   : 	{
; 68   : 		if ( this->m_Agro[i].GetUserIndex() == iTargetIndex )

  00194	8b 45 f8	 mov	 eax, DWORD PTR _i$226970[ebp]
  00197	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0019a	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  0019e	e8 00 00 00 00	 call	 ?GetUserIndex@TMonsterAIAgroInfo@@QAEHXZ ; TMonsterAIAgroInfo::GetUserIndex
  001a3	3b 45 08	 cmp	 eax, DWORD PTR _iTargetIndex$[ebp]
  001a6	75 11		 jne	 SHORT $LN1@GetAgro

; 69   : 		{
; 70   : 			return this->m_Agro[i].GetAgroValue();

  001a8	8b 45 f8	 mov	 eax, DWORD PTR _i$226970[ebp]
  001ab	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  001ae	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  001b2	e8 00 00 00 00	 call	 ?GetAgroValue@TMonsterAIAgroInfo@@QAEHXZ ; TMonsterAIAgroInfo::GetAgroValue
  001b7	eb 05		 jmp	 SHORT $LN5@GetAgro
$LN1@GetAgro:

; 71   : 		}
; 72   : 	}

  001b9	eb ca		 jmp	 SHORT $LN3@GetAgro
$LN2@GetAgro:

; 73   : 
; 74   : 	return -1;

  001bb	83 c8 ff	 or	 eax, -1
$LN5@GetAgro:

; 75   : }

  001be	5f		 pop	 edi
  001bf	5e		 pop	 esi
  001c0	5b		 pop	 ebx
  001c1	8b e5		 mov	 esp, ebp
  001c3	5d		 pop	 ebp
  001c4	c2 04 00	 ret	 4
?GetAgro@TMonsterAIAgro@@QAEHH@Z ENDP			; TMonsterAIAgro::GetAgro
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\tmonsteraiagro.h
_TEXT	ENDS
;	COMDAT ?GetAgroValue@TMonsterAIAgroInfo@@QAEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetAgroValue@TMonsterAIAgroInfo@@QAEHXZ PROC		; TMonsterAIAgroInfo::GetAgroValue, COMDAT
; _this$ = ecx

; 33   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 34   : 		return this->m_iAgroValue;

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 04	 mov	 eax, DWORD PTR [eax+4]

; 35   : 	}

  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetAgroValue@TMonsterAIAgroInfo@@QAEHXZ ENDP		; TMonsterAIAgroInfo::GetAgroValue
_TEXT	ENDS
PUBLIC	?IncAgro@TMonsterAIAgroInfo@@QAEHH@Z		; TMonsterAIAgroInfo::IncAgro
PUBLIC	?IncAgro@TMonsterAIAgro@@QAEHHH@Z		; TMonsterAIAgro::IncAgro
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\tmonsteraiagro.cpp
_TEXT	SEGMENT
_i$226980 = -8						; size = 4
_this$ = -4						; size = 4
_iTargetIndex$ = 8					; size = 4
_iIncValue$ = 12					; size = 4
?IncAgro@TMonsterAIAgro@@QAEHHH@Z PROC			; TMonsterAIAgro::IncAgro
; _this$ = ecx

; 80   : {

  001d0	55		 push	 ebp
  001d1	8b ec		 mov	 ebp, esp
  001d3	83 ec 48	 sub	 esp, 72			; 00000048H
  001d6	53		 push	 ebx
  001d7	56		 push	 esi
  001d8	57		 push	 edi
  001d9	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 81   : 	for ( int i=0;i<MAX_MONSTER_AI_AGRO;i++)

  001dc	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$226980[ebp], 0
  001e3	eb 09		 jmp	 SHORT $LN4@IncAgro
$LN3@IncAgro:
  001e5	8b 45 f8	 mov	 eax, DWORD PTR _i$226980[ebp]
  001e8	83 c0 01	 add	 eax, 1
  001eb	89 45 f8	 mov	 DWORD PTR _i$226980[ebp], eax
$LN4@IncAgro:
  001ee	83 7d f8 64	 cmp	 DWORD PTR _i$226980[ebp], 100 ; 00000064H
  001f2	7d 2b		 jge	 SHORT $LN2@IncAgro

; 82   : 	{
; 83   : 		if ( this->m_Agro[i].GetUserIndex() == iTargetIndex )

  001f4	8b 45 f8	 mov	 eax, DWORD PTR _i$226980[ebp]
  001f7	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  001fa	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  001fe	e8 00 00 00 00	 call	 ?GetUserIndex@TMonsterAIAgroInfo@@QAEHXZ ; TMonsterAIAgroInfo::GetUserIndex
  00203	3b 45 08	 cmp	 eax, DWORD PTR _iTargetIndex$[ebp]
  00206	75 15		 jne	 SHORT $LN1@IncAgro

; 84   : 		{
; 85   : 			return this->m_Agro[i].IncAgro(iIncValue);

  00208	8b 45 0c	 mov	 eax, DWORD PTR _iIncValue$[ebp]
  0020b	50		 push	 eax
  0020c	8b 4d f8	 mov	 ecx, DWORD PTR _i$226980[ebp]
  0020f	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00212	8d 4c ca 04	 lea	 ecx, DWORD PTR [edx+ecx*8+4]
  00216	e8 00 00 00 00	 call	 ?IncAgro@TMonsterAIAgroInfo@@QAEHH@Z ; TMonsterAIAgroInfo::IncAgro
  0021b	eb 05		 jmp	 SHORT $LN5@IncAgro
$LN1@IncAgro:

; 86   : 		}
; 87   : 	}

  0021d	eb c6		 jmp	 SHORT $LN3@IncAgro
$LN2@IncAgro:

; 88   : 
; 89   : 	return -1;

  0021f	83 c8 ff	 or	 eax, -1
$LN5@IncAgro:

; 90   : }

  00222	5f		 pop	 edi
  00223	5e		 pop	 esi
  00224	5b		 pop	 ebx
  00225	8b e5		 mov	 esp, ebp
  00227	5d		 pop	 ebp
  00228	c2 08 00	 ret	 8
?IncAgro@TMonsterAIAgro@@QAEHHH@Z ENDP			; TMonsterAIAgro::IncAgro
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\tmonsteraiagro.h
_TEXT	ENDS
;	COMDAT ?IncAgro@TMonsterAIAgroInfo@@QAEHH@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_iIncValue$ = 8						; size = 4
?IncAgro@TMonsterAIAgroInfo@@QAEHH@Z PROC		; TMonsterAIAgroInfo::IncAgro, COMDAT
; _this$ = ecx

; 46   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 47   : 		this->m_iAgroValue += iIncValue;

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00012	03 4d 08	 add	 ecx, DWORD PTR _iIncValue$[ebp]
  00015	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00018	89 4a 04	 mov	 DWORD PTR [edx+4], ecx

; 48   : 		return this->m_iAgroValue;

  0001b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001e	8b 40 04	 mov	 eax, DWORD PTR [eax+4]

; 49   : 	}

  00021	5f		 pop	 edi
  00022	5e		 pop	 esi
  00023	5b		 pop	 ebx
  00024	8b e5		 mov	 esp, ebp
  00026	5d		 pop	 ebp
  00027	c2 04 00	 ret	 4
?IncAgro@TMonsterAIAgroInfo@@QAEHH@Z ENDP		; TMonsterAIAgroInfo::IncAgro
_TEXT	ENDS
PUBLIC	?DecAgro@TMonsterAIAgroInfo@@QAEHH@Z		; TMonsterAIAgroInfo::DecAgro
PUBLIC	?DecAgro@TMonsterAIAgro@@QAEHHH@Z		; TMonsterAIAgro::DecAgro
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\tmonsteraiagro.cpp
_TEXT	SEGMENT
_i$226990 = -8						; size = 4
_this$ = -4						; size = 4
_iTargetIndex$ = 8					; size = 4
_iDecValue$ = 12					; size = 4
?DecAgro@TMonsterAIAgro@@QAEHHH@Z PROC			; TMonsterAIAgro::DecAgro
; _this$ = ecx

; 94   : {

  00230	55		 push	 ebp
  00231	8b ec		 mov	 ebp, esp
  00233	83 ec 48	 sub	 esp, 72			; 00000048H
  00236	53		 push	 ebx
  00237	56		 push	 esi
  00238	57		 push	 edi
  00239	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 95   : 	for ( int i=0;i<MAX_MONSTER_AI_AGRO;i++)

  0023c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$226990[ebp], 0
  00243	eb 09		 jmp	 SHORT $LN4@DecAgro
$LN3@DecAgro:
  00245	8b 45 f8	 mov	 eax, DWORD PTR _i$226990[ebp]
  00248	83 c0 01	 add	 eax, 1
  0024b	89 45 f8	 mov	 DWORD PTR _i$226990[ebp], eax
$LN4@DecAgro:
  0024e	83 7d f8 64	 cmp	 DWORD PTR _i$226990[ebp], 100 ; 00000064H
  00252	7d 2b		 jge	 SHORT $LN2@DecAgro

; 96   : 	{
; 97   : 		if ( this->m_Agro[i].GetUserIndex() == iTargetIndex )

  00254	8b 45 f8	 mov	 eax, DWORD PTR _i$226990[ebp]
  00257	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0025a	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  0025e	e8 00 00 00 00	 call	 ?GetUserIndex@TMonsterAIAgroInfo@@QAEHXZ ; TMonsterAIAgroInfo::GetUserIndex
  00263	3b 45 08	 cmp	 eax, DWORD PTR _iTargetIndex$[ebp]
  00266	75 15		 jne	 SHORT $LN1@DecAgro

; 98   : 		{
; 99   : 			return this->m_Agro[i].DecAgro(iDecValue);

  00268	8b 45 0c	 mov	 eax, DWORD PTR _iDecValue$[ebp]
  0026b	50		 push	 eax
  0026c	8b 4d f8	 mov	 ecx, DWORD PTR _i$226990[ebp]
  0026f	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00272	8d 4c ca 04	 lea	 ecx, DWORD PTR [edx+ecx*8+4]
  00276	e8 00 00 00 00	 call	 ?DecAgro@TMonsterAIAgroInfo@@QAEHH@Z ; TMonsterAIAgroInfo::DecAgro
  0027b	eb 05		 jmp	 SHORT $LN5@DecAgro
$LN1@DecAgro:

; 100  : 		}
; 101  : 	}

  0027d	eb c6		 jmp	 SHORT $LN3@DecAgro
$LN2@DecAgro:

; 102  : 
; 103  : 	return -1;

  0027f	83 c8 ff	 or	 eax, -1
$LN5@DecAgro:

; 104  : }

  00282	5f		 pop	 edi
  00283	5e		 pop	 esi
  00284	5b		 pop	 ebx
  00285	8b e5		 mov	 esp, ebp
  00287	5d		 pop	 ebp
  00288	c2 08 00	 ret	 8
?DecAgro@TMonsterAIAgro@@QAEHHH@Z ENDP			; TMonsterAIAgro::DecAgro
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\tmonsteraiagro.h
_TEXT	ENDS
;	COMDAT ?DecAgro@TMonsterAIAgroInfo@@QAEHH@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_iDecValue$ = 8						; size = 4
?DecAgro@TMonsterAIAgroInfo@@QAEHH@Z PROC		; TMonsterAIAgroInfo::DecAgro, COMDAT
; _this$ = ecx

; 53   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 54   : 		this->m_iAgroValue -= iDecValue;

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00012	2b 4d 08	 sub	 ecx, DWORD PTR _iDecValue$[ebp]
  00015	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00018	89 4a 04	 mov	 DWORD PTR [edx+4], ecx

; 55   : 
; 56   : 		if ( this->m_iAgroValue < 0 )

  0001b	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001e	83 78 04 00	 cmp	 DWORD PTR [eax+4], 0
  00022	7d 0a		 jge	 SHORT $LN1@DecAgro@2

; 57   : 			this->m_iAgroValue = 0;

  00024	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00027	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0
$LN1@DecAgro@2:

; 58   : 
; 59   : 		return this->m_iAgroValue;

  0002e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00031	8b 40 04	 mov	 eax, DWORD PTR [eax+4]

; 60   : 	}

  00034	5f		 pop	 edi
  00035	5e		 pop	 esi
  00036	5b		 pop	 ebx
  00037	8b e5		 mov	 esp, ebp
  00039	5d		 pop	 ebp
  0003a	c2 04 00	 ret	 4
?DecAgro@TMonsterAIAgroInfo@@QAEHH@Z ENDP		; TMonsterAIAgroInfo::DecAgro
_TEXT	ENDS
PUBLIC	?DecAllAgro@TMonsterAIAgro@@QAEXH@Z		; TMonsterAIAgro::DecAllAgro
; Function compile flags: /Odtp /ZI
; File d:\projects\exteam6.3\source\gameserver\gameserver\tmonsteraiagro.cpp
_TEXT	SEGMENT
_i$226999 = -8						; size = 4
_this$ = -4						; size = 4
_iDecValue$ = 8						; size = 4
?DecAllAgro@TMonsterAIAgro@@QAEXH@Z PROC		; TMonsterAIAgro::DecAllAgro
; _this$ = ecx

; 109  : {

  00290	55		 push	 ebp
  00291	8b ec		 mov	 ebp, esp
  00293	83 ec 48	 sub	 esp, 72			; 00000048H
  00296	53		 push	 ebx
  00297	56		 push	 esi
  00298	57		 push	 edi
  00299	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 110  : 	for ( int i=0;i<MAX_MONSTER_AI_AGRO;i++)

  0029c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$226999[ebp], 0
  002a3	eb 09		 jmp	 SHORT $LN5@DecAllAgro
$LN4@DecAllAgro:
  002a5	8b 45 f8	 mov	 eax, DWORD PTR _i$226999[ebp]
  002a8	83 c0 01	 add	 eax, 1
  002ab	89 45 f8	 mov	 DWORD PTR _i$226999[ebp], eax
$LN5@DecAllAgro:
  002ae	83 7d f8 64	 cmp	 DWORD PTR _i$226999[ebp], 100 ; 00000064H
  002b2	7d 3a		 jge	 SHORT $LN6@DecAllAgro

; 111  : 	{
; 112  : 		if ( this->m_Agro[i].GetUserIndex() != -1 )

  002b4	8b 45 f8	 mov	 eax, DWORD PTR _i$226999[ebp]
  002b7	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  002ba	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  002be	e8 00 00 00 00	 call	 ?GetUserIndex@TMonsterAIAgroInfo@@QAEHXZ ; TMonsterAIAgroInfo::GetUserIndex
  002c3	83 f8 ff	 cmp	 eax, -1
  002c6	74 15		 je	 SHORT $LN2@DecAllAgro

; 113  : 		{
; 114  : 			this->m_Agro[i].DecAgro(iDecValue);

  002c8	8b 45 08	 mov	 eax, DWORD PTR _iDecValue$[ebp]
  002cb	50		 push	 eax
  002cc	8b 4d f8	 mov	 ecx, DWORD PTR _i$226999[ebp]
  002cf	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  002d2	8d 4c ca 04	 lea	 ecx, DWORD PTR [edx+ecx*8+4]
  002d6	e8 00 00 00 00	 call	 ?DecAgro@TMonsterAIAgroInfo@@QAEHH@Z ; TMonsterAIAgroInfo::DecAgro

; 115  : 		}
; 116  : 		else

  002db	eb 0f		 jmp	 SHORT $LN1@DecAllAgro
$LN2@DecAllAgro:

; 117  : 		{
; 118  : 			this->m_Agro[i].Reset();

  002dd	8b 45 f8	 mov	 eax, DWORD PTR _i$226999[ebp]
  002e0	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  002e3	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  002e7	e8 00 00 00 00	 call	 ?Reset@TMonsterAIAgroInfo@@QAEXXZ ; TMonsterAIAgroInfo::Reset
$LN1@DecAllAgro:

; 119  : 		}
; 120  : 	}

  002ec	eb b7		 jmp	 SHORT $LN4@DecAllAgro
$LN6@DecAllAgro:

; 121  : }

  002ee	5f		 pop	 edi
  002ef	5e		 pop	 esi
  002f0	5b		 pop	 ebx
  002f1	8b e5		 mov	 esp, ebp
  002f3	5d		 pop	 ebp
  002f4	c2 04 00	 ret	 4
?DecAllAgro@TMonsterAIAgro@@QAEXH@Z ENDP		; TMonsterAIAgro::DecAllAgro
_TEXT	ENDS
PUBLIC	?GetMaxAgroUserIndex@TMonsterAIAgro@@QAEHH@Z	; TMonsterAIAgro::GetMaxAgroUserIndex
EXTRN	?GetAttr@MapClass@@QAEEHH@Z:PROC		; MapClass::GetAttr
EXTRN	?MapC@@3PAVMapClass@@A:BYTE			; MapC
EXTRN	?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z:PROC	; gObjCalDistance
EXTRN	?gObjIsConnected@@YAHPAUOBJECTSTRUCT@@@Z:PROC	; gObjIsConnected
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
; Function compile flags: /Odtp /ZI
_TEXT	SEGMENT
_btAttr$227021 = -21					; size = 1
_lpObj$227016 = -20					; size = 4
_i$227011 = -16						; size = 4
_iMaxAgro$ = -12					; size = 4
_iMaxAgroUserIndex$ = -8				; size = 4
_this$ = -4						; size = 4
_iMonsterIndex$ = 8					; size = 4
?GetMaxAgroUserIndex@TMonsterAIAgro@@QAEHH@Z PROC	; TMonsterAIAgro::GetMaxAgroUserIndex
; _this$ = ecx

; 127  : {

  00300	55		 push	 ebp
  00301	8b ec		 mov	 ebp, esp
  00303	83 ec 58	 sub	 esp, 88			; 00000058H
  00306	53		 push	 ebx
  00307	56		 push	 esi
  00308	57		 push	 edi
  00309	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 128  : 	int iMaxAgroUserIndex = -1;

  0030c	c7 45 f8 ff ff
	ff ff		 mov	 DWORD PTR _iMaxAgroUserIndex$[ebp], -1

; 129  : 	int iMaxAgro = -1;

  00313	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _iMaxAgro$[ebp], -1

; 130  : 
; 131  : 	for ( int i=0;i<MAX_MONSTER_AI_AGRO;i++)

  0031a	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _i$227011[ebp], 0
  00321	eb 09		 jmp	 SHORT $LN10@GetMaxAgro
$LN9@GetMaxAgro:
  00323	8b 45 f0	 mov	 eax, DWORD PTR _i$227011[ebp]
  00326	83 c0 01	 add	 eax, 1
  00329	89 45 f0	 mov	 DWORD PTR _i$227011[ebp], eax
$LN10@GetMaxAgro:
  0032c	83 7d f0 64	 cmp	 DWORD PTR _i$227011[ebp], 100 ; 00000064H
  00330	0f 8d 2b 01 00
	00		 jge	 $LN8@GetMaxAgro

; 132  : 	{
; 133  : 		if ( this->m_Agro[i].GetUserIndex() != -1 )

  00336	8b 45 f0	 mov	 eax, DWORD PTR _i$227011[ebp]
  00339	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0033c	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  00340	e8 00 00 00 00	 call	 ?GetUserIndex@TMonsterAIAgroInfo@@QAEHXZ ; TMonsterAIAgroInfo::GetUserIndex
  00345	83 f8 ff	 cmp	 eax, -1
  00348	0f 84 0e 01 00
	00		 je	 $LN7@GetMaxAgro

; 134  : 		{
; 135  : 			LPOBJ lpObj = &gObj[this->m_Agro[i].GetUserIndex()];

  0034e	8b 45 f0	 mov	 eax, DWORD PTR _i$227011[ebp]
  00351	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00354	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  00358	e8 00 00 00 00	 call	 ?GetUserIndex@TMonsterAIAgroInfo@@QAEHXZ ; TMonsterAIAgroInfo::GetUserIndex
  0035d	69 c0 38 2b 00
	00		 imul	 eax, 11064		; 00002b38H
  00363	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00369	89 45 ec	 mov	 DWORD PTR _lpObj$227016[ebp], eax

; 136  : 
; 137  : 			if ( (lpObj->Authority&2) == 2 )

  0036c	8b 45 ec	 mov	 eax, DWORD PTR _lpObj$227016[ebp]
  0036f	8b 88 0c 02 00
	00		 mov	 ecx, DWORD PTR [eax+524]
  00375	83 e1 02	 and	 ecx, 2
  00378	74 02		 je	 SHORT $LN6@GetMaxAgro

; 138  : 				continue;

  0037a	eb a7		 jmp	 SHORT $LN9@GetMaxAgro
$LN6@GetMaxAgro:

; 139  : 
; 140  : 			if ( !gObjIsConnected(lpObj) )

  0037c	8b 45 ec	 mov	 eax, DWORD PTR _lpObj$227016[ebp]
  0037f	50		 push	 eax
  00380	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHPAUOBJECTSTRUCT@@@Z ; gObjIsConnected
  00385	83 c4 04	 add	 esp, 4
  00388	85 c0		 test	 eax, eax
  0038a	75 11		 jne	 SHORT $LN5@GetMaxAgro

; 141  : 			{
; 142  : 				this->m_Agro[i].Reset();

  0038c	8b 45 f0	 mov	 eax, DWORD PTR _i$227011[ebp]
  0038f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00392	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  00396	e8 00 00 00 00	 call	 ?Reset@TMonsterAIAgroInfo@@QAEXXZ ; TMonsterAIAgroInfo::Reset

; 143  : 				continue;

  0039b	eb 86		 jmp	 SHORT $LN9@GetMaxAgro
$LN5@GetMaxAgro:

; 144  : 			}
; 145  : 
; 146  : 			if ( lpObj->Live == FALSE )

  0039d	8b 45 ec	 mov	 eax, DWORD PTR _lpObj$227016[ebp]
  003a0	0f b6 48 6a	 movzx	 ecx, BYTE PTR [eax+106]
  003a4	85 c9		 test	 ecx, ecx
  003a6	75 14		 jne	 SHORT $LN4@GetMaxAgro

; 147  : 			{
; 148  : 				this->m_Agro[i].Reset();

  003a8	8b 45 f0	 mov	 eax, DWORD PTR _i$227011[ebp]
  003ab	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  003ae	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  003b2	e8 00 00 00 00	 call	 ?Reset@TMonsterAIAgroInfo@@QAEXXZ ; TMonsterAIAgroInfo::Reset

; 149  : 				continue;

  003b7	e9 67 ff ff ff	 jmp	 $LN9@GetMaxAgro
$LN4@GetMaxAgro:

; 150  : 			}
; 151  : 
; 152  : 			if ( gObjCalDistance(&gObj[iMonsterIndex], lpObj) > 7 )

  003bc	8b 45 ec	 mov	 eax, DWORD PTR _lpObj$227016[ebp]
  003bf	50		 push	 eax
  003c0	8b 4d 08	 mov	 ecx, DWORD PTR _iMonsterIndex$[ebp]
  003c3	69 c9 38 2b 00
	00		 imul	 ecx, 11064		; 00002b38H
  003c9	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003cf	51		 push	 ecx
  003d0	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  003d5	83 c4 08	 add	 esp, 8
  003d8	83 f8 07	 cmp	 eax, 7
  003db	7e 05		 jle	 SHORT $LN3@GetMaxAgro

; 153  : 				continue;

  003dd	e9 41 ff ff ff	 jmp	 $LN9@GetMaxAgro
$LN3@GetMaxAgro:

; 154  : 
; 155  : 			BYTE btAttr = MapC[lpObj->MapNumber].GetAttr(lpObj->X, lpObj->Y);

  003e2	8b 45 ec	 mov	 eax, DWORD PTR _lpObj$227016[ebp]
  003e5	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  003ec	51		 push	 ecx
  003ed	8b 55 ec	 mov	 edx, DWORD PTR _lpObj$227016[ebp]
  003f0	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  003f7	50		 push	 eax
  003f8	8b 4d ec	 mov	 ecx, DWORD PTR _lpObj$227016[ebp]
  003fb	0f b6 89 49 01
	00 00		 movzx	 ecx, BYTE PTR [ecx+329]
  00402	69 c9 b8 3d 05
	00		 imul	 ecx, 343480		; 00053db8H
  00408	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  0040e	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  00413	88 45 eb	 mov	 BYTE PTR _btAttr$227021[ebp], al

; 156  : 
; 157  : 			if ( (btAttr&1) != 0 )

  00416	0f b6 45 eb	 movzx	 eax, BYTE PTR _btAttr$227021[ebp]
  0041a	83 e0 01	 and	 eax, 1
  0041d	74 05		 je	 SHORT $LN2@GetMaxAgro

; 158  : 				continue;

  0041f	e9 ff fe ff ff	 jmp	 $LN9@GetMaxAgro
$LN2@GetMaxAgro:

; 159  : 
; 160  : 			if ( this->m_Agro[i].GetAgroValue() > iMaxAgro )

  00424	8b 45 f0	 mov	 eax, DWORD PTR _i$227011[ebp]
  00427	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0042a	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  0042e	e8 00 00 00 00	 call	 ?GetAgroValue@TMonsterAIAgroInfo@@QAEHXZ ; TMonsterAIAgroInfo::GetAgroValue
  00433	3b 45 f4	 cmp	 eax, DWORD PTR _iMaxAgro$[ebp]
  00436	7e 24		 jle	 SHORT $LN7@GetMaxAgro

; 161  : 			{
; 162  : 				iMaxAgroUserIndex =	this->m_Agro[i].GetUserIndex();

  00438	8b 45 f0	 mov	 eax, DWORD PTR _i$227011[ebp]
  0043b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0043e	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  00442	e8 00 00 00 00	 call	 ?GetUserIndex@TMonsterAIAgroInfo@@QAEHXZ ; TMonsterAIAgroInfo::GetUserIndex
  00447	89 45 f8	 mov	 DWORD PTR _iMaxAgroUserIndex$[ebp], eax

; 163  : 				iMaxAgro = this->m_Agro[i].GetAgroValue();

  0044a	8b 45 f0	 mov	 eax, DWORD PTR _i$227011[ebp]
  0044d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00450	8d 4c c1 04	 lea	 ecx, DWORD PTR [ecx+eax*8+4]
  00454	e8 00 00 00 00	 call	 ?GetAgroValue@TMonsterAIAgroInfo@@QAEHXZ ; TMonsterAIAgroInfo::GetAgroValue
  00459	89 45 f4	 mov	 DWORD PTR _iMaxAgro$[ebp], eax
$LN7@GetMaxAgro:

; 164  : 			}
; 165  : 		}
; 166  : 	}

  0045c	e9 c2 fe ff ff	 jmp	 $LN9@GetMaxAgro
$LN8@GetMaxAgro:

; 167  : 
; 168  : 	return iMaxAgroUserIndex;

  00461	8b 45 f8	 mov	 eax, DWORD PTR _iMaxAgroUserIndex$[ebp]

; 169  : }

  00464	5f		 pop	 edi
  00465	5e		 pop	 esi
  00466	5b		 pop	 ebx
  00467	8b e5		 mov	 esp, ebp
  00469	5d		 pop	 ebp
  0046a	c2 04 00	 ret	 4
?GetMaxAgroUserIndex@TMonsterAIAgro@@QAEHH@Z ENDP	; TMonsterAIAgro::GetMaxAgroUserIndex
_TEXT	ENDS
END
